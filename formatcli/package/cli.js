#!/usr/bin/env node
var JE=Object.create;var ep=Object.defineProperty;var ZE=Object.getOwnPropertyDescriptor;var eD=Object.getOwnPropertyNames;var tD=Object.getPrototypeOf,nD=Object.prototype.hasOwnProperty;var rD=t=>ep(t,"__esModule",{value:!0});var B=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var iD=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of eD(e))!nD.call(t,i)&&(n||i!=="default")&&ep(t,i,{get:()=>e[i],enumerable:!(r=ZE(e,i))||r.enumerable});return t},Ve=(t,e)=>iD(rD(ep(t!=null?JE(tD(t)):{},"default",!e&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var np=B(tp=>{"use strict";Object.defineProperty(tp,"__esModule",{value:!0});tp.default=dD;var fD=pD(require("crypto"));function pD(t){return t&&t.__esModule?t:{default:t}}var cu=new Uint8Array(256),fu=cu.length;function dD(){return fu>cu.length-16&&(fD.default.randomFillSync(cu),fu=0),cu.slice(fu,fu+=16)}});var gg=B(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.default=void 0;var mD=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;pu.default=mD});var Wo=B(du=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});du.default=void 0;var hD=gD(gg());function gD(t){return t&&t.__esModule?t:{default:t}}function _D(t){return typeof t=="string"&&hD.default.test(t)}var yD=_D;du.default=yD});var Go=B(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.default=void 0;var bD=TD(Wo());function TD(t){return t&&t.__esModule?t:{default:t}}var ln=[];for(let t=0;t<256;++t)ln.push((t+256).toString(16).substr(1));function vD(t,e=0){let n=(ln[t[e+0]]+ln[t[e+1]]+ln[t[e+2]]+ln[t[e+3]]+"-"+ln[t[e+4]]+ln[t[e+5]]+"-"+ln[t[e+6]]+ln[t[e+7]]+"-"+ln[t[e+8]]+ln[t[e+9]]+"-"+ln[t[e+10]]+ln[t[e+11]]+ln[t[e+12]]+ln[t[e+13]]+ln[t[e+14]]+ln[t[e+15]]).toLowerCase();if(!(0,bD.default)(n))throw TypeError("Stringified UUID is invalid");return n}var ND=vD;mu.default=ND});var bg=B(hu=>{"use strict";Object.defineProperty(hu,"__esModule",{value:!0});hu.default=void 0;var CD=_g(np()),PD=_g(Go());function _g(t){return t&&t.__esModule?t:{default:t}}var yg,rp,ip=0,sp=0;function ED(t,e,n){let r=e&&n||0,i=e||new Array(16);t=t||{};let s=t.node||yg,a=t.clockseq!==void 0?t.clockseq:rp;if(s==null||a==null){let m=t.random||(t.rng||CD.default)();s==null&&(s=yg=[m[0]|1,m[1],m[2],m[3],m[4],m[5]]),a==null&&(a=rp=(m[6]<<8|m[7])&16383)}let o=t.msecs!==void 0?t.msecs:Date.now(),l=t.nsecs!==void 0?t.nsecs:sp+1,u=o-ip+(l-sp)/1e4;if(u<0&&t.clockseq===void 0&&(a=a+1&16383),(u<0||o>ip)&&t.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ip=o,sp=l,rp=a,o+=122192928e5;let f=((o&268435455)*1e4+l)%4294967296;i[r++]=f>>>24&255,i[r++]=f>>>16&255,i[r++]=f>>>8&255,i[r++]=f&255;let c=o/4294967296*1e4&268435455;i[r++]=c>>>8&255,i[r++]=c&255,i[r++]=c>>>24&15|16,i[r++]=c>>>16&255,i[r++]=a>>>8|128,i[r++]=a&255;for(let m=0;m<6;++m)i[r+m]=s[m];return e||(0,PD.default)(i)}var DD=ED;hu.default=DD});var ap=B(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.default=void 0;var AD=SD(Wo());function SD(t){return t&&t.__esModule?t:{default:t}}function ID(t){if(!(0,AD.default)(t))throw TypeError("Invalid UUID");let e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}var xD=ID;gu.default=xD});var op=B(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});Ms.default=LD;Ms.URL=Ms.DNS=void 0;var RD=Tg(Go()),wD=Tg(ap());function Tg(t){return t&&t.__esModule?t:{default:t}}function OD(t){t=unescape(encodeURIComponent(t));let e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var vg="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Ms.DNS=vg;var Ng="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Ms.URL=Ng;function LD(t,e,n){function r(i,s,a,o){if(typeof i=="string"&&(i=OD(i)),typeof s=="string"&&(s=(0,wD.default)(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+i.length);if(l.set(s),l.set(i,s.length),l=n(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,a){o=o||0;for(let u=0;u<16;++u)a[o+u]=l[u];return a}return(0,RD.default)(l)}try{r.name=t}catch{}return r.DNS=vg,r.URL=Ng,r}});var Cg=B(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.default=void 0;var FD=MD(require("crypto"));function MD(t){return t&&t.__esModule?t:{default:t}}function kD(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),FD.default.createHash("md5").update(t).digest()}var qD=kD;_u.default=qD});var Eg=B(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});yu.default=void 0;var BD=Pg(op()),VD=Pg(Cg());function Pg(t){return t&&t.__esModule?t:{default:t}}var jD=(0,BD.default)("v3",48,VD.default),UD=jD;yu.default=UD});var Ag=B(bu=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});bu.default=void 0;var WD=Dg(np()),GD=Dg(Go());function Dg(t){return t&&t.__esModule?t:{default:t}}function YD(t,e,n){t=t||{};let r=t.random||(t.rng||WD.default)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return(0,GD.default)(r)}var $D=YD;bu.default=$D});var Sg=B(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu.default=void 0;var HD=KD(require("crypto"));function KD(t){return t&&t.__esModule?t:{default:t}}function zD(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),HD.default.createHash("sha1").update(t).digest()}var XD=zD;Tu.default=XD});var xg=B(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.default=void 0;var QD=Ig(op()),JD=Ig(Sg());function Ig(t){return t&&t.__esModule?t:{default:t}}var ZD=(0,QD.default)("v5",80,JD.default),eA=ZD;vu.default=eA});var Rg=B(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});Nu.default=void 0;var tA="00000000-0000-0000-0000-000000000000";Nu.default=tA});var wg=B(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.default=void 0;var nA=rA(Wo());function rA(t){return t&&t.__esModule?t:{default:t}}function iA(t){if(!(0,nA.default)(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var sA=iA;Cu.default=sA});var Og=B(Ir=>{"use strict";Object.defineProperty(Ir,"__esModule",{value:!0});Object.defineProperty(Ir,"v1",{enumerable:!0,get:function(){return aA.default}});Object.defineProperty(Ir,"v3",{enumerable:!0,get:function(){return oA.default}});Object.defineProperty(Ir,"v4",{enumerable:!0,get:function(){return lA.default}});Object.defineProperty(Ir,"v5",{enumerable:!0,get:function(){return uA.default}});Object.defineProperty(Ir,"NIL",{enumerable:!0,get:function(){return cA.default}});Object.defineProperty(Ir,"version",{enumerable:!0,get:function(){return fA.default}});Object.defineProperty(Ir,"validate",{enumerable:!0,get:function(){return pA.default}});Object.defineProperty(Ir,"stringify",{enumerable:!0,get:function(){return dA.default}});Object.defineProperty(Ir,"parse",{enumerable:!0,get:function(){return mA.default}});var aA=xi(bg()),oA=xi(Eg()),lA=xi(Ag()),uA=xi(xg()),cA=xi(Rg()),fA=xi(wg()),pA=xi(Wo()),dA=xi(Go()),mA=xi(ap());function xi(t){return t&&t.__esModule?t:{default:t}}});var $g=B((lB,Yg)=>{"use strict";Yg.exports=function(e){return typeof process!="undefined"||!process.env||!process.env[e]?!1:process.env[e]}});var ar=B((uB,Hg)=>{"use strict";var hA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Hg.exports=function(e,n){var r=$g(),i="",s=[],a=0,o=function p(h){if(h instanceof RegExp)return new RegExp(h);if(h instanceof Date)return new Date(h);var y={};for(var _ in h)hA(h[_])==="object"?y[_]=p(h[_]):y[_]=h[_];return y},l=function(h){return h!==1?1:0},u=function(h){return h>1?1:0},f=typeof window!="undefined"?window:global;f.$locutus=f.$locutus||{};var c=f.$locutus;if(c.php=c.php||{},(!c.php.locales||!c.php.locales.fr_CA||!c.php.locales.fr_CA.LC_TIME||!c.php.locales.fr_CA.LC_TIME.x)&&(c.php.locales={},c.php.locales.en={LC_COLLATE:function(h,y){return h===y?0:h>y?1:-1},LC_CTYPE:{an:/^[A-Za-z\d]+$/g,al:/^[A-Za-z]+$/g,ct:/^[\u0000-\u001F\u007F]+$/g,dg:/^[\d]+$/g,gr:/^[\u0021-\u007E]+$/g,lw:/^[a-z]+$/g,pr:/^[\u0020-\u007E]+$/g,pu:/^[\u0021-\u002F\u003A-\u0040\u005B-\u0060\u007B-\u007E]+$/g,sp:/^[\f\n\r\t\v ]+$/g,up:/^[A-Z]+$/g,xd:/^[A-Fa-f\d]+$/g,CODESET:"UTF-8",lower:"abcdefghijklmnopqrstuvwxyz",upper:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"},LC_TIME:{a:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],B:["January","February","March","April","May","June","July","August","September","October","November","December"],c:"%a %d %b %Y %r %Z",p:["AM","PM"],P:["am","pm"],r:"%I:%M:%S %p",x:"%m/%d/%Y",X:"%r",alt_digits:"",ERA:"",ERA_YEAR:"",ERA_D_T_FMT:"",ERA_D_FMT:"",ERA_T_FMT:""},LC_MONETARY:{int_curr_symbol:"USD",currency_symbol:"$",mon_decimal_point:".",mon_thousands_sep:",",mon_grouping:[3],positive_sign:"",negative_sign:"-",int_frac_digits:2,frac_digits:2,p_cs_precedes:1,p_sep_by_space:0,n_cs_precedes:1,n_sep_by_space:0,p_sign_posn:3,n_sign_posn:0},LC_NUMERIC:{decimal_point:".",thousands_sep:",",grouping:[3]},LC_MESSAGES:{YESEXPR:"^[yY].*",NOEXPR:"^[nN].*",YESSTR:"",NOSTR:""},nplurals:l},c.php.locales.en_US=o(c.php.locales.en),c.php.locales.en_US.LC_TIME.c="%a %d %b %Y %r %Z",c.php.locales.en_US.LC_TIME.x="%D",c.php.locales.en_US.LC_TIME.X="%r",c.php.locales.en_US.LC_MONETARY.int_curr_symbol="USD ",c.php.locales.en_US.LC_MONETARY.p_sign_posn=1,c.php.locales.en_US.LC_MONETARY.n_sign_posn=1,c.php.locales.en_US.LC_MONETARY.mon_grouping=[3,3],c.php.locales.en_US.LC_NUMERIC.thousands_sep="",c.php.locales.en_US.LC_NUMERIC.grouping=[],c.php.locales.en_GB=o(c.php.locales.en),c.php.locales.en_GB.LC_TIME.r="%l:%M:%S %P %Z",c.php.locales.en_AU=o(c.php.locales.en_GB),c.php.locales.C=o(c.php.locales.en),c.php.locales.C.LC_CTYPE.CODESET="ANSI_X3.4-1968",c.php.locales.C.LC_MONETARY={int_curr_symbol:"",currency_symbol:"",mon_decimal_point:"",mon_thousands_sep:"",mon_grouping:[],p_cs_precedes:127,p_sep_by_space:127,n_cs_precedes:127,n_sep_by_space:127,p_sign_posn:127,n_sign_posn:127,positive_sign:"",negative_sign:"",int_frac_digits:127,frac_digits:127},c.php.locales.C.LC_NUMERIC={decimal_point:".",thousands_sep:"",grouping:[]},c.php.locales.C.LC_TIME.c="%a %b %e %H:%M:%S %Y",c.php.locales.C.LC_TIME.x="%m/%d/%y",c.php.locales.C.LC_TIME.X="%H:%M:%S",c.php.locales.C.LC_MESSAGES.YESEXPR="^[yY]",c.php.locales.C.LC_MESSAGES.NOEXPR="^[nN]",c.php.locales.fr=o(c.php.locales.en),c.php.locales.fr.nplurals=u,c.php.locales.fr.LC_TIME.a=["dim","lun","mar","mer","jeu","ven","sam"],c.php.locales.fr.LC_TIME.A=["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],c.php.locales.fr.LC_TIME.b=["jan","f\xE9v","mar","avr","mai","jun","jui","ao\xFB","sep","oct","nov","d\xE9c"],c.php.locales.fr.LC_TIME.B=["janvier","f\xE9vrier","mars","avril","mai","juin","juillet","ao\xFBt","septembre","octobre","novembre","d\xE9cembre"],c.php.locales.fr.LC_TIME.c="%a %d %b %Y %T %Z",c.php.locales.fr.LC_TIME.p=["",""],c.php.locales.fr.LC_TIME.P=["",""],c.php.locales.fr.LC_TIME.x="%d.%m.%Y",c.php.locales.fr.LC_TIME.X="%T",c.php.locales.fr_CA=o(c.php.locales.fr),c.php.locales.fr_CA.LC_TIME.x="%Y-%m-%d"),!c.php.locale&&(c.php.locale="en_US",typeof window!="undefined"&&window.document)){var m=window.document,g="https://www.w3.org/1999/xhtml",d="https://www.w3.org/XML/1998/namespace";m.getElementsByTagNameNS&&m.getElementsByTagNameNS(g,"html")[0]?m.getElementsByTagNameNS(g,"html")[0].getAttributeNS&&m.getElementsByTagNameNS(g,"html")[0].getAttributeNS(d,"lang")?c.php.locale=m.getElementsByTagName(g,"html")[0].getAttributeNS(d,"lang"):m.getElementsByTagNameNS(g,"html")[0].lang&&(c.php.locale=m.getElementsByTagNameNS(g,"html")[0].lang):m.getElementsByTagName("html")[0]&&m.getElementsByTagName("html")[0].lang&&(c.php.locale=m.getElementsByTagName("html")[0].lang)}if(c.php.locale=c.php.locale.replace("-","_"),c.php.locale in c.php.locales||c.php.locale.replace(/_[a-zA-Z]+$/,"")in c.php.locales&&(c.php.locale=c.php.locale.replace(/_[a-zA-Z]+$/,"")),c.php.localeCategories||(c.php.localeCategories={LC_COLLATE:c.php.locale,LC_CTYPE:c.php.locale,LC_MONETARY:c.php.locale,LC_NUMERIC:c.php.locale,LC_TIME:c.php.locale,LC_MESSAGES:c.php.locale}),n===null||n==="")n=r(e)||r("LANG");else if(Object.prototype.toString.call(n)==="[object Array]")for(a=0;a<n.length;a++){if(!(n[a]in c.php.locales)){if(a===n.length-1)return!1;continue}n=n[a];break}if(n==="0"||n===0){if(e==="LC_ALL"){for(i in c.php.localeCategories)s.push(i+"="+c.php.localeCategories[i]);return s.join(";")}return c.php.localeCategories[e]}if(!(n in c.php.locales))return!1;if(e==="LC_ALL")for(i in c.php.localeCategories)c.php.localeCategories[i]=n;else c.php.localeCategories[e]=n;return n}});var zg=B((cB,Kg)=>{"use strict";Kg.exports=function(e){var n=ar();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.an)!==-1}});var Qg=B((fB,Xg)=>{"use strict";Xg.exports=function(e){var n=ar();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.al)!==-1}});var Zg=B((pB,Jg)=>{"use strict";Jg.exports=function(e){var n=ar();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.ct)!==-1}});var t_=B((dB,e_)=>{"use strict";e_.exports=function(e){var n=ar();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.dg)!==-1}});var r_=B((mB,n_)=>{"use strict";n_.exports=function(e){var n=ar();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.gr)!==-1}});var s_=B((hB,i_)=>{"use strict";i_.exports=function(e){var n=ar();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.lw)!==-1}});var o_=B((gB,a_)=>{"use strict";a_.exports=function(e){var n=ar();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.pr)!==-1}});var u_=B((_B,l_)=>{"use strict";l_.exports=function(e){var n=ar();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.pu)!==-1}});var f_=B((yB,c_)=>{"use strict";c_.exports=function(e){var n=ar();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.sp)!==-1}});var d_=B((bB,p_)=>{"use strict";p_.exports=function(e){var n=ar();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.up)!==-1}});var h_=B((TB,m_)=>{"use strict";m_.exports=function(e){var n=ar();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.xd)!==-1}});var g_=B((vB,or)=>{"use strict";or.exports.ctype_alnum=zg();or.exports.ctype_alpha=Qg();or.exports.ctype_cntrl=Zg();or.exports.ctype_digit=t_();or.exports.ctype_graph=r_();or.exports.ctype_lower=s_();or.exports.ctype_print=o_();or.exports.ctype_punct=u_();or.exports.ctype_space=f_();or.exports.ctype_upper=d_();or.exports.ctype_xdigit=h_()});var y_=B((NB,__)=>{"use strict";__.exports=function(e){var n=[" ",`
`,"\r","	","\f","\v","\xA0","\u2000","\u2001","\u2002","\u2003","\u2004","\u2005","\u2006","\u2007","\u2008","\u2009","\u200A","\u200B","\u2028","\u2029","\u3000"].join("");return(typeof e=="number"||typeof e=="string"&&n.indexOf(e.slice(-1))===-1)&&e!==""&&!isNaN(e)}});var Eu=B(pp=>{"use strict";Object.defineProperty(pp,"__esModule",{value:!0});var b_=function(){function t(){this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return t.hashStr=function(e,n){return n===void 0&&(n=!1),this.onePassHasher.start().appendStr(e).end(n)},t.hashAsciiStr=function(e,n){return n===void 0&&(n=!1),this.onePassHasher.start().appendAsciiStr(e).end(n)},t._hex=function(e){var n=t.hexChars,r=t.hexOut,i,s,a,o;for(o=0;o<4;o+=1)for(s=o*8,i=e[o],a=0;a<8;a+=2)r[s+1+a]=n.charAt(i&15),i>>>=4,r[s+0+a]=n.charAt(i&15),i>>>=4;return r.join("")},t._md5cycle=function(e,n){var r=e[0],i=e[1],s=e[2],a=e[3];r+=(i&s|~i&a)+n[0]-680876936|0,r=(r<<7|r>>>25)+i|0,a+=(r&i|~r&s)+n[1]-389564586|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&i)+n[2]+606105819|0,s=(s<<17|s>>>15)+a|0,i+=(s&a|~s&r)+n[3]-1044525330|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&a)+n[4]-176418897|0,r=(r<<7|r>>>25)+i|0,a+=(r&i|~r&s)+n[5]+1200080426|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&i)+n[6]-1473231341|0,s=(s<<17|s>>>15)+a|0,i+=(s&a|~s&r)+n[7]-45705983|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&a)+n[8]+1770035416|0,r=(r<<7|r>>>25)+i|0,a+=(r&i|~r&s)+n[9]-1958414417|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&i)+n[10]-42063|0,s=(s<<17|s>>>15)+a|0,i+=(s&a|~s&r)+n[11]-1990404162|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&a)+n[12]+1804603682|0,r=(r<<7|r>>>25)+i|0,a+=(r&i|~r&s)+n[13]-40341101|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&i)+n[14]-1502002290|0,s=(s<<17|s>>>15)+a|0,i+=(s&a|~s&r)+n[15]+1236535329|0,i=(i<<22|i>>>10)+s|0,r+=(i&a|s&~a)+n[1]-165796510|0,r=(r<<5|r>>>27)+i|0,a+=(r&s|i&~s)+n[6]-1069501632|0,a=(a<<9|a>>>23)+r|0,s+=(a&i|r&~i)+n[11]+643717713|0,s=(s<<14|s>>>18)+a|0,i+=(s&r|a&~r)+n[0]-373897302|0,i=(i<<20|i>>>12)+s|0,r+=(i&a|s&~a)+n[5]-701558691|0,r=(r<<5|r>>>27)+i|0,a+=(r&s|i&~s)+n[10]+38016083|0,a=(a<<9|a>>>23)+r|0,s+=(a&i|r&~i)+n[15]-660478335|0,s=(s<<14|s>>>18)+a|0,i+=(s&r|a&~r)+n[4]-405537848|0,i=(i<<20|i>>>12)+s|0,r+=(i&a|s&~a)+n[9]+568446438|0,r=(r<<5|r>>>27)+i|0,a+=(r&s|i&~s)+n[14]-1019803690|0,a=(a<<9|a>>>23)+r|0,s+=(a&i|r&~i)+n[3]-187363961|0,s=(s<<14|s>>>18)+a|0,i+=(s&r|a&~r)+n[8]+1163531501|0,i=(i<<20|i>>>12)+s|0,r+=(i&a|s&~a)+n[13]-1444681467|0,r=(r<<5|r>>>27)+i|0,a+=(r&s|i&~s)+n[2]-51403784|0,a=(a<<9|a>>>23)+r|0,s+=(a&i|r&~i)+n[7]+1735328473|0,s=(s<<14|s>>>18)+a|0,i+=(s&r|a&~r)+n[12]-1926607734|0,i=(i<<20|i>>>12)+s|0,r+=(i^s^a)+n[5]-378558|0,r=(r<<4|r>>>28)+i|0,a+=(r^i^s)+n[8]-2022574463|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^i)+n[11]+1839030562|0,s=(s<<16|s>>>16)+a|0,i+=(s^a^r)+n[14]-35309556|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^a)+n[1]-1530992060|0,r=(r<<4|r>>>28)+i|0,a+=(r^i^s)+n[4]+1272893353|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^i)+n[7]-155497632|0,s=(s<<16|s>>>16)+a|0,i+=(s^a^r)+n[10]-1094730640|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^a)+n[13]+681279174|0,r=(r<<4|r>>>28)+i|0,a+=(r^i^s)+n[0]-358537222|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^i)+n[3]-722521979|0,s=(s<<16|s>>>16)+a|0,i+=(s^a^r)+n[6]+76029189|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^a)+n[9]-640364487|0,r=(r<<4|r>>>28)+i|0,a+=(r^i^s)+n[12]-421815835|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^i)+n[15]+530742520|0,s=(s<<16|s>>>16)+a|0,i+=(s^a^r)+n[2]-995338651|0,i=(i<<23|i>>>9)+s|0,r+=(s^(i|~a))+n[0]-198630844|0,r=(r<<6|r>>>26)+i|0,a+=(i^(r|~s))+n[7]+1126891415|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~i))+n[14]-1416354905|0,s=(s<<15|s>>>17)+a|0,i+=(a^(s|~r))+n[5]-57434055|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~a))+n[12]+1700485571|0,r=(r<<6|r>>>26)+i|0,a+=(i^(r|~s))+n[3]-1894986606|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~i))+n[10]-1051523|0,s=(s<<15|s>>>17)+a|0,i+=(a^(s|~r))+n[1]-2054922799|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~a))+n[8]+1873313359|0,r=(r<<6|r>>>26)+i|0,a+=(i^(r|~s))+n[15]-30611744|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~i))+n[6]-1560198380|0,s=(s<<15|s>>>17)+a|0,i+=(a^(s|~r))+n[13]+1309151649|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~a))+n[4]-145523070|0,r=(r<<6|r>>>26)+i|0,a+=(i^(r|~s))+n[11]-1120210379|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~i))+n[2]+718787259|0,s=(s<<15|s>>>17)+a|0,i+=(a^(s|~r))+n[9]-343485551|0,i=(i<<21|i>>>11)+s|0,e[0]=r+e[0]|0,e[1]=i+e[1]|0,e[2]=s+e[2]|0,e[3]=a+e[3]|0},t.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(t.stateIdentity),this},t.prototype.appendStr=function(e){var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,a;for(a=0;a<e.length;a+=1){if(s=e.charCodeAt(a),s<128)n[i++]=s;else if(s<2048)n[i++]=(s>>>6)+192,n[i++]=s&63|128;else if(s<55296||s>56319)n[i++]=(s>>>12)+224,n[i++]=s>>>6&63|128,n[i++]=s&63|128;else{if(s=(s-55296)*1024+(e.charCodeAt(++a)-56320)+65536,s>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");n[i++]=(s>>>18)+240,n[i++]=s>>>12&63|128,n[i++]=s>>>6&63|128,n[i++]=s&63|128}i>=64&&(this._dataLength+=64,t._md5cycle(this._state,r),i-=64,r[0]=r[16])}return this._bufferLength=i,this},t.prototype.appendAsciiStr=function(e){for(var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,a=0;;){for(s=Math.min(e.length-a,64-i);s--;)n[i++]=e.charCodeAt(a++);if(i<64)break;this._dataLength+=64,t._md5cycle(this._state,r),i=0}return this._bufferLength=i,this},t.prototype.appendByteArray=function(e){for(var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,a=0;;){for(s=Math.min(e.length-a,64-i);s--;)n[i++]=e[a++];if(i<64)break;this._dataLength+=64,t._md5cycle(this._state,r),i=0}return this._bufferLength=i,this},t.prototype.getState=function(){var e=this,n=e._state;return{buffer:String.fromCharCode.apply(null,e._buffer8),buflen:e._bufferLength,length:e._dataLength,state:[n[0],n[1],n[2],n[3]]}},t.prototype.setState=function(e){var n=e.buffer,r=e.state,i=this._state,s;for(this._dataLength=e.length,this._bufferLength=e.buflen,i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],s=0;s<n.length;s+=1)this._buffer8[s]=n.charCodeAt(s)},t.prototype.end=function(e){e===void 0&&(e=!1);var n=this._bufferLength,r=this._buffer8,i=this._buffer32,s=(n>>2)+1,a;if(this._dataLength+=n,r[n]=128,r[n+1]=r[n+2]=r[n+3]=0,i.set(t.buffer32Identity.subarray(s),s),n>55&&(t._md5cycle(this._state,i),i.set(t.buffer32Identity)),a=this._dataLength*8,a<=4294967295)i[14]=a;else{var o=a.toString(16).match(/(.*?)(.{0,8})$/);if(o===null)return;var l=parseInt(o[2],16),u=parseInt(o[1],16)||0;i[14]=l,i[15]=u}return t._md5cycle(this._state,i),e?this._state:t._hex(this._state)},t.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),t.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t.hexChars="0123456789abcdef",t.hexOut=[],t.onePassHasher=new t,t}();pp.Md5=b_;b_.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592"&&console.error("Md5 self test failed.")});var Au=B(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.thenable=Ft.typedArray=Ft.stringArray=Ft.array=Ft.func=Ft.error=Ft.number=Ft.string=Ft.boolean=void 0;function _A(t){return t===!0||t===!1}Ft.boolean=_A;function v_(t){return typeof t=="string"||t instanceof String}Ft.string=v_;function yA(t){return typeof t=="number"||t instanceof Number}Ft.number=yA;function bA(t){return t instanceof Error}Ft.error=bA;function N_(t){return typeof t=="function"}Ft.func=N_;function C_(t){return Array.isArray(t)}Ft.array=C_;function TA(t){return C_(t)&&t.every(e=>v_(e))}Ft.stringArray=TA;function vA(t,e){return Array.isArray(t)&&t.every(e)}Ft.typedArray=vA;function NA(t){return t&&N_(t.then)}Ft.thenable=NA});var Mi=B(vp=>{"use strict";Object.defineProperty(vp,"__esModule",{value:!0});var bp;function Tp(){if(bp===void 0)throw new Error("No runtime abstraction layer installed");return bp}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");bp=n}t.install=e})(Tp||(Tp={}));vp.default=Tp});var Np=B(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});Zo.Disposable=void 0;var CA;(function(t){function e(n){return{dispose:n}}t.create=e})(CA=Zo.Disposable||(Zo.Disposable={}))});var E_=B(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});Su.AbstractMessageBuffer=void 0;var PA=13,EA=10,DA=`\r
`,P_=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let e=0,n=0,r=0,i=0;e:for(;n<this._chunks.length;){let l=this._chunks[n];r=0;t:for(;r<l.length;){switch(l[r]){case PA:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case EA:switch(e){case 1:e=2;break;case 3:e=4,r++;break e;default:e=0}break;default:e=0}r++}i+=l.byteLength,n++}if(e!==4)return;let s=this._read(i+r),a=new Map,o=this.toString(s,"ascii").split(DA);if(o.length<2)return a;for(let l=0;l<o.length-2;l++){let u=o[l],f=u.indexOf(":");if(f===-1)throw new Error("Message header must separate key and value using :");let c=u.substr(0,f),m=u.substr(f+1).trim();a.set(c,m)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],a=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,a}let n=this.allocNative(e),r=0,i=0;for(;e>0;){let s=this._chunks[i];if(s.byteLength>e){let a=s.slice(0,e);n.set(a,r),r+=e,this._chunks[i]=s.slice(e),this._totalLength-=e,e-=e}else n.set(s,r),r+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return n}};Su.AbstractMessageBuffer=P_});var x_=B(Pp=>{"use strict";Object.defineProperty(Pp,"__esModule",{value:!0});var AA=Mi(),D_=require("util"),Bs=Np(),SA=E_(),el=class extends SA.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return el.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new D_.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};el.emptyBuffer=Buffer.allocUnsafe(0);var A_=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Bs.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Bs.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Bs.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),Bs.Disposable.create(()=>this.stream.off("data",e))}},S_=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Bs.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Bs.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Bs.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((r,i)=>{let s=a=>{a==null?r():i(a)};typeof e=="string"?this.stream.write(e,n,s):this.stream.write(e,s)})}end(){this.stream.end()}},I_=Object.freeze({messageBuffer:Object.freeze({create:t=>new el(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new D_.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new A_(t),asWritableStream:t=>new S_(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){return setTimeout(t,e,...n)},clearTimeout(t){clearTimeout(t)},setImmediate(t,...e){return setImmediate(t,...e)},clearImmediate(t){clearImmediate(t)}})});function Cp(){return I_}(function(t){function e(){AA.default.install(I_)}t.install=e})(Cp||(Cp={}));Pp.default=Cp});var xa=B(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.stringArray=gn.array=gn.func=gn.error=gn.number=gn.string=gn.boolean=void 0;function IA(t){return t===!0||t===!1}gn.boolean=IA;function R_(t){return typeof t=="string"||t instanceof String}gn.string=R_;function xA(t){return typeof t=="number"||t instanceof Number}gn.number=xA;function RA(t){return t instanceof Error}gn.error=RA;function wA(t){return typeof t=="function"}gn.func=wA;function w_(t){return Array.isArray(t)}gn.array=w_;function OA(t){return w_(t)&&t.every(e=>R_(e))}gn.stringArray=OA});var Ep=B(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.isResponseMessage=me.isNotificationMessage=me.isRequestMessage=me.NotificationType9=me.NotificationType8=me.NotificationType7=me.NotificationType6=me.NotificationType5=me.NotificationType4=me.NotificationType3=me.NotificationType2=me.NotificationType1=me.NotificationType0=me.NotificationType=me.RequestType9=me.RequestType8=me.RequestType7=me.RequestType6=me.RequestType5=me.RequestType4=me.RequestType3=me.RequestType2=me.RequestType1=me.RequestType=me.RequestType0=me.AbstractMessageSignature=me.ParameterStructures=me.ResponseError=me.ErrorCodes=void 0;var Vs=xa(),O_;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=t.jsonrpcReservedErrorRangeStart,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=t.jsonrpcReservedErrorRangeEnd})(O_=me.ErrorCodes||(me.ErrorCodes={}));var Iu=class extends Error{constructor(e,n,r){super(n);this.code=Vs.number(e)?e:O_.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,Iu.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};me.ResponseError=Iu;var fn=class{constructor(e){this.kind=e}static is(e){return e===fn.auto||e===fn.byName||e===fn.byPosition}toString(){return this.kind}};me.ParameterStructures=fn;fn.auto=new fn("auto");fn.byPosition=new fn("byPosition");fn.byName=new fn("byName");var yt=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return fn.auto}};me.AbstractMessageSignature=yt;var L_=class extends yt{constructor(e){super(e,0)}};me.RequestType0=L_;var F_=class extends yt{constructor(e,n=fn.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};me.RequestType=F_;var M_=class extends yt{constructor(e,n=fn.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};me.RequestType1=M_;var k_=class extends yt{constructor(e){super(e,2)}};me.RequestType2=k_;var q_=class extends yt{constructor(e){super(e,3)}};me.RequestType3=q_;var B_=class extends yt{constructor(e){super(e,4)}};me.RequestType4=B_;var V_=class extends yt{constructor(e){super(e,5)}};me.RequestType5=V_;var j_=class extends yt{constructor(e){super(e,6)}};me.RequestType6=j_;var U_=class extends yt{constructor(e){super(e,7)}};me.RequestType7=U_;var W_=class extends yt{constructor(e){super(e,8)}};me.RequestType8=W_;var G_=class extends yt{constructor(e){super(e,9)}};me.RequestType9=G_;var Y_=class extends yt{constructor(e,n=fn.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};me.NotificationType=Y_;var $_=class extends yt{constructor(e){super(e,0)}};me.NotificationType0=$_;var H_=class extends yt{constructor(e,n=fn.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};me.NotificationType1=H_;var K_=class extends yt{constructor(e){super(e,2)}};me.NotificationType2=K_;var z_=class extends yt{constructor(e){super(e,3)}};me.NotificationType3=z_;var X_=class extends yt{constructor(e){super(e,4)}};me.NotificationType4=X_;var Q_=class extends yt{constructor(e){super(e,5)}};me.NotificationType5=Q_;var J_=class extends yt{constructor(e){super(e,6)}};me.NotificationType6=J_;var Z_=class extends yt{constructor(e){super(e,7)}};me.NotificationType7=Z_;var ey=class extends yt{constructor(e){super(e,8)}};me.NotificationType8=ey;var ty=class extends yt{constructor(e){super(e,9)}};me.NotificationType9=ty;function LA(t){let e=t;return e&&Vs.string(e.method)&&(Vs.string(e.id)||Vs.number(e.id))}me.isRequestMessage=LA;function FA(t){let e=t;return e&&Vs.string(e.method)&&t.id===void 0}me.isNotificationMessage=FA;function MA(t){let e=t;return e&&(e.result!==void 0||!!e.error)&&(Vs.string(e.id)||Vs.number(e.id)||e.id===null)}me.isResponseMessage=MA});var Ra=B(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});js.Emitter=js.Event=void 0;var kA=Mi(),qA;(function(t){let e={dispose(){}};t.None=function(){return e}})(qA=js.Event||(js.Event={}));var ny=class{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===e)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,a=r.length;s<a;s++)try{n.push(r[s].apply(i[s],e))}catch(o){kA.default().console.error(o)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},tl=class{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new ny),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let i={dispose:()=>{!this._callbacks||(this._callbacks.remove(e,n),i.dispose=tl._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};js.Emitter=tl;tl._noop=function(){}});var Ip=B(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.CancellationTokenSource=Us.CancellationToken=void 0;var ry=Mi(),BA=xa(),Dp=Ra(),Ap;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Dp.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Dp.Event.None});function e(n){let r=n;return r&&(r===t.None||r===t.Cancelled||BA.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(Ap=Us.CancellationToken||(Us.CancellationToken={}));var VA=Object.freeze(function(t,e){let n=ry.default().timer.setTimeout(t.bind(e),0);return{dispose(){ry.default().timer.clearTimeout(n)}}}),Sp=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?VA:(this._emitter||(this._emitter=new Dp.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},iy=class{get token(){return this._token||(this._token=new Sp),this._token}cancel(){this._token?this._token.cancel():this._token=Ap.Cancelled}dispose(){this._token?this._token instanceof Sp&&this._token.dispose():this._token=Ap.None}};Us.CancellationTokenSource=iy});var ay=B(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});ki.ReadableStreamMessageReader=ki.AbstractMessageReader=ki.MessageReader=void 0;var xu=Mi(),wa=xa(),xp=Ra(),jA;(function(t){function e(n){let r=n;return r&&wa.func(r.listen)&&wa.func(r.dispose)&&wa.func(r.onError)&&wa.func(r.onClose)&&wa.func(r.onPartialMessage)}t.is=e})(jA=ki.MessageReader||(ki.MessageReader={}));var Rp=class{constructor(){this.errorEmitter=new xp.Emitter,this.closeEmitter=new xp.Emitter,this.partialMessageEmitter=new xp.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${wa.string(e.message)?e.message:"unknown"}`)}};ki.AbstractMessageReader=Rp;var wp;(function(t){function e(n){var r;let i,s,a,o=new Map,l,u=new Map;if(n===void 0||typeof n=="string")i=n??"utf-8";else{if(i=(r=n.charset)!==null&&r!==void 0?r:"utf-8",n.contentDecoder!==void 0&&(a=n.contentDecoder,o.set(a.name,a)),n.contentDecoders!==void 0)for(let f of n.contentDecoders)o.set(f.name,f);if(n.contentTypeDecoder!==void 0&&(l=n.contentTypeDecoder,u.set(l.name,l)),n.contentTypeDecoders!==void 0)for(let f of n.contentTypeDecoders)u.set(f.name,f)}return l===void 0&&(l=xu.default().applicationJson.decoder,u.set(l.name,l)),{charset:i,contentDecoder:a,contentDecoders:o,contentTypeDecoder:l,contentTypeDecoders:u}}t.fromOptions=e})(wp||(wp={}));var sy=class extends Rp{constructor(e,n){super();this.readable=e,this.options=wp.fromOptions(n),this.buffer=xu.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let s=i.get("Content-Length");if(!s)throw new Error("Header must provide a Content-Length property.");let a=parseInt(s);if(isNaN(a))throw new Error("Content-Length value must be a number.");this.nextMessageLength=a}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let r;this.options.contentDecoder!==void 0?r=this.options.contentDecoder.decode(n):r=Promise.resolve(n),r.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(s=>{this.callback(s)},s=>{this.fireError(s)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(xu.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=xu.default().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};ki.ReadableStreamMessageReader=sy});var ly=B(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.Semaphore=void 0;var UA=Mi(),oy=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||UA.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};Ru.Semaphore=oy});var dy=B(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.WriteableStreamMessageWriter=qi.AbstractMessageWriter=qi.MessageWriter=void 0;var uy=Mi(),nl=xa(),WA=ly(),cy=Ra(),GA="Content-Length: ",fy=`\r
`,YA;(function(t){function e(n){let r=n;return r&&nl.func(r.dispose)&&nl.func(r.onClose)&&nl.func(r.onError)&&nl.func(r.write)}t.is=e})(YA=qi.MessageWriter||(qi.MessageWriter={}));var Op=class{constructor(){this.errorEmitter=new cy.Emitter,this.closeEmitter=new cy.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${nl.string(e.message)?e.message:"unknown"}`)}};qi.AbstractMessageWriter=Op;var Lp;(function(t){function e(n){var r,i;return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:uy.default().applicationJson.encoder}:{charset:(r=n.charset)!==null&&r!==void 0?r:"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:(i=n.contentTypeEncoder)!==null&&i!==void 0?i:uy.default().applicationJson.encoder}}t.fromOptions=e})(Lp||(Lp={}));var py=class extends Op{constructor(e,n){super();this.writable=e,this.options=Lp.fromOptions(n),this.errorCount=0,this.writeSemaphore=new WA.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(GA,r.byteLength.toString(),fy),i.push(fy),this.doWrite(e,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};qi.WriteableStreamMessageWriter=py});var hy=B(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.LRUCache=Bi.LinkedMap=Bi.Touch=void 0;var Pn;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(Pn=Bi.Touch||(Bi.Touch={}));var Fp=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,n=Pn.None){let r=this._map.get(e);if(!!r)return n!==Pn.None&&this.touch(r,n),r.value}set(e,n,r=Pn.None){let i=this._map.get(e);if(i)i.value=n,r!==Pn.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case Pn.None:this.addItemLast(i);break;case Pn.First:this.addItemFirst(i);break;case Pn.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(!!n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let r=this._state,i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.key,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}values(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.value,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}entries(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:[r.key,r.value],done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==Pn.First&&n!==Pn.Last)){if(n===Pn.First){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===Pn.Last){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r)}};Bi.LinkedMap=Fp;var my=class extends Fp{constructor(e,n=1){super();this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=Pn.AsNew){return super.get(e,n)}peek(e){return super.get(e,Pn.None)}set(e,n){return super.set(e,n,Pn.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Bi.LRUCache=my});var vy=B(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.createMessageConnection=xe.ConnectionOptions=xe.CancellationStrategy=xe.CancellationSenderStrategy=xe.CancellationReceiverStrategy=xe.ConnectionStrategy=xe.ConnectionError=xe.ConnectionErrors=xe.LogTraceNotification=xe.SetTraceNotification=xe.TraceFormat=xe.Trace=xe.NullLogger=xe.ProgressType=void 0;var gy=Mi(),en=xa(),De=Ep(),_y=hy(),rl=Ra(),Mp=Ip(),il;(function(t){t.type=new De.NotificationType("$/cancelRequest")})(il||(il={}));var wu;(function(t){t.type=new De.NotificationType("$/progress")})(wu||(wu={}));var yy=class{constructor(){}};xe.ProgressType=yy;var kp;(function(t){function e(n){return en.func(n)}t.is=e})(kp||(kp={}));xe.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Mt;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Verbose=2]="Verbose"})(Mt=xe.Trace||(xe.Trace={}));(function(t){function e(r){if(!en.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(Mt=xe.Trace||(xe.Trace={}));var Hr;(function(t){t.Text="text",t.JSON="json"})(Hr=xe.TraceFormat||(xe.TraceFormat={}));(function(t){function e(n){return n=n.toLowerCase(),n==="json"?t.JSON:t.Text}t.fromString=e})(Hr=xe.TraceFormat||(xe.TraceFormat={}));var by;(function(t){t.type=new De.NotificationType("$/setTrace")})(by=xe.SetTraceNotification||(xe.SetTraceNotification={}));var qp;(function(t){t.type=new De.NotificationType("$/logTrace")})(qp=xe.LogTraceNotification||(xe.LogTraceNotification={}));var Ou;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(Ou=xe.ConnectionErrors||(xe.ConnectionErrors={}));var Ws=class extends Error{constructor(e,n){super(n);this.code=e,Object.setPrototypeOf(this,Ws.prototype)}};xe.ConnectionError=Ws;var Ty;(function(t){function e(n){let r=n;return r&&en.func(r.cancelUndispatched)}t.is=e})(Ty=xe.ConnectionStrategy||(xe.ConnectionStrategy={}));var Bp;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new Mp.CancellationTokenSource}});function e(n){let r=n;return r&&en.func(r.createCancellationTokenSource)}t.is=e})(Bp=xe.CancellationReceiverStrategy||(xe.CancellationReceiverStrategy={}));var Vp;(function(t){t.Message=Object.freeze({sendCancellation(n,r){n.sendNotification(il.type,{id:r})},cleanup(n){}});function e(n){let r=n;return r&&en.func(r.sendCancellation)&&en.func(r.cleanup)}t.is=e})(Vp=xe.CancellationSenderStrategy||(xe.CancellationSenderStrategy={}));var jp;(function(t){t.Message=Object.freeze({receiver:Bp.Message,sender:Vp.Message});function e(n){let r=n;return r&&Bp.is(r.receiver)&&Vp.is(r.sender)}t.is=e})(jp=xe.CancellationStrategy||(xe.CancellationStrategy={}));var $A;(function(t){function e(n){let r=n;return r&&(jp.is(r.cancellationStrategy)||Ty.is(r.connectionStrategy))}t.is=e})($A=xe.ConnectionOptions||(xe.ConnectionOptions={}));var Kr;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(Kr||(Kr={}));function HA(t,e,n,r){let i=n!==void 0?n:xe.NullLogger,s=0,a=0,o=0,l="2.0",u,f=Object.create(null),c,m=Object.create(null),g=new Map,d,p=new _y.LinkedMap,h=Object.create(null),y=Object.create(null),_=Mt.Off,b=Hr.Text,N,w=Kr.New,le=new rl.Emitter,$=new rl.Emitter,j=new rl.Emitter,X=new rl.Emitter,J=new rl.Emitter,be=r&&r.cancellationStrategy?r.cancellationStrategy:jp.Message;function we(I){if(I===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+I.toString()}function Le(I){return I===null?"res-unknown-"+(++o).toString():"res-"+I.toString()}function qe(){return"not-"+(++a).toString()}function se(I,A){De.isRequestMessage(A)?I.set(we(A.id),A):De.isResponseMessage(A)?I.set(Le(A.id),A):I.set(qe(),A)}function Pe(I){}function lt(){return w===Kr.Listening}function zt(){return w===Kr.Closed}function Je(){return w===Kr.Disposed}function ut(){(w===Kr.New||w===Kr.Listening)&&(w=Kr.Closed,$.fire(void 0))}function ce(I){le.fire([I,void 0,void 0])}function Se(I){le.fire(I)}t.onClose(ut),t.onError(ce),e.onClose(ut),e.onError(Se);function We(){d||p.size===0||(d=gy.default().timer.setImmediate(()=>{d=void 0,K()}))}function K(){if(p.size===0)return;let I=p.shift();try{De.isRequestMessage(I)?rt(I):De.isNotificationMessage(I)?vn(I):De.isResponseMessage(I)?Dt(I):Ii(I)}finally{We()}}let ct=I=>{try{if(De.isNotificationMessage(I)&&I.method===il.type.method){let A=we(I.params.id),v=p.get(A);if(De.isRequestMessage(v)){let S=r==null?void 0:r.connectionStrategy,R=S&&S.cancelUndispatched?S.cancelUndispatched(v,Pe):void 0;if(R&&(R.error!==void 0||R.result!==void 0)){p.delete(A),R.id=v.id,Ji(R,I.method,Date.now()),e.write(R);return}}}se(p,I)}finally{We()}};function rt(I){if(Je())return;function A(V,ue,ye){let Be={jsonrpc:l,id:I.id};V instanceof De.ResponseError?Be.error=V.toJson():Be.result=V===void 0?null:V,Ji(Be,ue,ye),e.write(Be)}function v(V,ue,ye){let Be={jsonrpc:l,id:I.id,error:V.toJson()};Ji(Be,ue,ye),e.write(Be)}function S(V,ue,ye){V===void 0&&(V=null);let Be={jsonrpc:l,id:I.id,result:V};Ji(Be,ue,ye),e.write(Be)}jn(I);let R=f[I.method],E,T;R&&(E=R.type,T=R.handler);let O=Date.now();if(T||u){let V=String(I.id),ue=be.receiver.createCancellationTokenSource(V);y[V]=ue;try{let ye;if(T)if(I.params===void 0){if(E!==void 0&&E.numberOfParams!==0){v(new De.ResponseError(De.ErrorCodes.InvalidParams,`Request ${I.method} defines ${E.numberOfParams} params but recevied none.`),I.method,O);return}ye=T(ue.token)}else if(Array.isArray(I.params)){if(E!==void 0&&E.parameterStructures===De.ParameterStructures.byName){v(new De.ResponseError(De.ErrorCodes.InvalidParams,`Request ${I.method} defines parameters by name but received parameters by position`),I.method,O);return}ye=T(...I.params,ue.token)}else{if(E!==void 0&&E.parameterStructures===De.ParameterStructures.byPosition){v(new De.ResponseError(De.ErrorCodes.InvalidParams,`Request ${I.method} defines parameters by position but received parameters by name`),I.method,O);return}ye=T(I.params,ue.token)}else u&&(ye=u(I.method,I.params,ue.token));let Be=ye;ye?Be.then?Be.then(ft=>{delete y[V],A(ft,I.method,O)},ft=>{delete y[V],ft instanceof De.ResponseError?v(ft,I.method,O):ft&&en.string(ft.message)?v(new De.ResponseError(De.ErrorCodes.InternalError,`Request ${I.method} failed with message: ${ft.message}`),I.method,O):v(new De.ResponseError(De.ErrorCodes.InternalError,`Request ${I.method} failed unexpectedly without providing any details.`),I.method,O)}):(delete y[V],A(ye,I.method,O)):(delete y[V],S(ye,I.method,O))}catch(ye){delete y[V],ye instanceof De.ResponseError?A(ye,I.method,O):ye&&en.string(ye.message)?v(new De.ResponseError(De.ErrorCodes.InternalError,`Request ${I.method} failed with message: ${ye.message}`),I.method,O):v(new De.ResponseError(De.ErrorCodes.InternalError,`Request ${I.method} failed unexpectedly without providing any details.`),I.method,O)}}else v(new De.ResponseError(De.ErrorCodes.MethodNotFound,`Unhandled method ${I.method}`),I.method,O)}function Dt(I){if(!Je())if(I.id===null)I.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(I.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let A=String(I.id),v=h[A];if(x(I,v),v){delete h[A];try{if(I.error){let S=I.error;v.reject(new De.ResponseError(S.code,S.message,S.data))}else if(I.result!==void 0)v.resolve(I.result);else throw new Error("Should never happen.")}catch(S){S.message?i.error(`Response handler '${v.method}' failed with message: ${S.message}`):i.error(`Response handler '${v.method}' failed unexpectedly.`)}}}}function vn(I){if(Je())return;let A,v;if(I.method===il.type.method)v=S=>{let R=S.id,E=y[String(R)];E&&E.cancel()};else{let S=m[I.method];S&&(v=S.handler,A=S.type)}if(v||c)try{jo(I),v?I.params===void 0?(A!==void 0&&A.numberOfParams!==0&&A.parameterStructures!==De.ParameterStructures.byName&&i.error(`Notification ${I.method} defines ${A.numberOfParams} params but recevied none.`),v()):Array.isArray(I.params)?(A!==void 0&&(A.parameterStructures===De.ParameterStructures.byName&&i.error(`Notification ${I.method} defines parameters by name but received parameters by position`),A.numberOfParams!==I.params.length&&i.error(`Notification ${I.method} defines ${A.numberOfParams} params but received ${I.params.length} argumennts`)),v(...I.params)):(A!==void 0&&A.parameterStructures===De.ParameterStructures.byPosition&&i.error(`Notification ${I.method} defines parameters by position but received parameters by name`),v(I.params)):c&&c(I.method,I.params)}catch(S){S.message?i.error(`Notification handler '${I.method}' failed with message: ${S.message}`):i.error(`Notification handler '${I.method}' failed unexpectedly.`)}else j.fire(I)}function Ii(I){if(!I){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(I,null,4)}`);let A=I;if(en.string(A.id)||en.number(A.id)){let v=String(A.id),S=h[v];S&&S.reject(new Error("The received response has neither a result nor an error property."))}}function oi(I){if(!(_===Mt.Off||!N))if(b===Hr.Text){let A;_===Mt.Verbose&&I.params&&(A=`Params: ${JSON.stringify(I.params,null,4)}

`),N.log(`Sending request '${I.method} - (${I.id})'.`,A)}else M("send-request",I)}function Vo(I){if(!(_===Mt.Off||!N))if(b===Hr.Text){let A;_===Mt.Verbose&&(I.params?A=`Params: ${JSON.stringify(I.params,null,4)}

`:A=`No parameters provided.

`),N.log(`Sending notification '${I.method}'.`,A)}else M("send-notification",I)}function Ji(I,A,v){if(!(_===Mt.Off||!N))if(b===Hr.Text){let S;_===Mt.Verbose&&(I.error&&I.error.data?S=`Error data: ${JSON.stringify(I.error.data,null,4)}

`:I.result?S=`Result: ${JSON.stringify(I.result,null,4)}

`:I.error===void 0&&(S=`No result returned.

`)),N.log(`Sending response '${A} - (${I.id})'. Processing request took ${Date.now()-v}ms`,S)}else M("send-response",I)}function jn(I){if(!(_===Mt.Off||!N))if(b===Hr.Text){let A;_===Mt.Verbose&&I.params&&(A=`Params: ${JSON.stringify(I.params,null,4)}

`),N.log(`Received request '${I.method} - (${I.id})'.`,A)}else M("receive-request",I)}function jo(I){if(!(_===Mt.Off||!N||I.method===qp.type.method))if(b===Hr.Text){let A;_===Mt.Verbose&&(I.params?A=`Params: ${JSON.stringify(I.params,null,4)}

`:A=`No parameters provided.

`),N.log(`Received notification '${I.method}'.`,A)}else M("receive-notification",I)}function x(I,A){if(!(_===Mt.Off||!N))if(b===Hr.Text){let v;if(_===Mt.Verbose&&(I.error&&I.error.data?v=`Error data: ${JSON.stringify(I.error.data,null,4)}

`:I.result?v=`Result: ${JSON.stringify(I.result,null,4)}

`:I.error===void 0&&(v=`No result returned.

`)),A){let S=I.error?` Request failed: ${I.error.message} (${I.error.code}).`:"";N.log(`Received response '${A.method} - (${I.id})' in ${Date.now()-A.timerStart}ms.${S}`,v)}else N.log(`Received response ${I.id} without active response promise.`,v)}else M("receive-response",I)}function M(I,A){if(!N||_===Mt.Off)return;let v={isLSPMessage:!0,type:I,message:A,timestamp:Date.now()};N.log(v)}function Q(){if(zt())throw new Ws(Ou.Closed,"Connection is closed.");if(Je())throw new Ws(Ou.Disposed,"Connection is disposed.")}function W(){if(lt())throw new Ws(Ou.AlreadyListening,"Connection is already listening")}function F(){if(!lt())throw new Error("Call listen() first.")}function oe(I){return I===void 0?null:I}function ne(I){if(I!==null)return I}function de(I){return I!=null&&!Array.isArray(I)&&typeof I=="object"}function _t(I,A){switch(I){case De.ParameterStructures.auto:return de(A)?ne(A):[oe(A)];case De.ParameterStructures.byName:if(!de(A))throw new Error("Recevied parameters by name but param is not an object literal.");return ne(A);case De.ParameterStructures.byPosition:return[oe(A)];default:throw new Error(`Unknown parameter structure ${I.toString()}`)}}function wt(I,A){let v,S=I.numberOfParams;switch(S){case 0:v=void 0;break;case 1:v=_t(I.parameterStructures,A[0]);break;default:v=[];for(let R=0;R<A.length&&R<S;R++)v.push(oe(A[R]));if(A.length<S)for(let R=A.length;R<S;R++)v.push(null);break}return v}let Zi={sendNotification:(I,...A)=>{Q();let v,S;if(en.string(I)){v=I;let E=A[0],T=0,O=De.ParameterStructures.auto;De.ParameterStructures.is(E)&&(T=1,O=E);let V=A.length,ue=V-T;switch(ue){case 0:S=void 0;break;case 1:S=_t(O,A[T]);break;default:if(O===De.ParameterStructures.byName)throw new Error(`Recevied ${ue} parameters for 'by Name' notification parameter structure.`);S=A.slice(T,V).map(ye=>oe(ye));break}}else{let E=A;v=I.method,S=wt(I,E)}let R={jsonrpc:l,method:v,params:S};Vo(R),e.write(R)},onNotification:(I,A)=>{Q();let v;return en.func(I)?c=I:A&&(en.string(I)?(v=I,m[I]={type:void 0,handler:A}):(v=I.method,m[I.method]={type:I,handler:A})),{dispose:()=>{v!==void 0?delete m[v]:c=void 0}}},onProgress:(I,A,v)=>{if(g.has(A))throw new Error(`Progress handler for token ${A} already registered`);return g.set(A,v),{dispose:()=>{g.delete(A)}}},sendProgress:(I,A,v)=>{Zi.sendNotification(wu.type,{token:A,value:v})},onUnhandledProgress:X.event,sendRequest:(I,...A)=>{Q(),F();let v,S,R;if(en.string(I)){v=I;let V=A[0],ue=A[A.length-1],ye=0,Be=De.ParameterStructures.auto;De.ParameterStructures.is(V)&&(ye=1,Be=V);let ft=A.length;Mp.CancellationToken.is(ue)&&(ft=ft-1,R=ue);let Ut=ft-ye;switch(Ut){case 0:S=void 0;break;case 1:S=_t(Be,A[ye]);break;default:if(Be===De.ParameterStructures.byName)throw new Error(`Recevied ${Ut} parameters for 'by Name' request parameter structure.`);S=A.slice(ye,ft).map(Xt=>oe(Xt));break}}else{let V=A;v=I.method,S=wt(I,V);let ue=I.numberOfParams;R=Mp.CancellationToken.is(V[ue])?V[ue]:void 0}let E=s++,T;return R&&(T=R.onCancellationRequested(()=>{be.sender.sendCancellation(Zi,E)})),new Promise((V,ue)=>{let ye={jsonrpc:l,id:E,method:v,params:S},Be=Xt=>{V(Xt),be.sender.cleanup(E),T==null||T.dispose()},ft=Xt=>{ue(Xt),be.sender.cleanup(E),T==null||T.dispose()},Ut={method:v,timerStart:Date.now(),resolve:Be,reject:ft};oi(ye);try{e.write(ye)}catch(Xt){Ut.reject(new De.ResponseError(De.ErrorCodes.MessageWriteError,Xt.message?Xt.message:"Unknown reason")),Ut=null}Ut&&(h[String(E)]=Ut)})},onRequest:(I,A)=>{Q();let v=null;return kp.is(I)?(v=void 0,u=I):en.string(I)?(v=null,A!==void 0&&(v=I,f[I]={handler:A,type:void 0})):A!==void 0&&(v=I.method,f[I.method]={type:I,handler:A}),{dispose:()=>{v!==null&&(v!==void 0?delete f[v]:u=void 0)}}},trace:(I,A,v)=>{let S=!1,R=Hr.Text;v!==void 0&&(en.boolean(v)?S=v:(S=v.sendNotification||!1,R=v.traceFormat||Hr.Text)),_=I,b=R,_===Mt.Off?N=void 0:N=A,S&&!zt()&&!Je()&&Zi.sendNotification(by.type,{value:Mt.toString(I)})},onError:le.event,onClose:$.event,onUnhandledNotification:j.event,onDispose:J.event,end:()=>{e.end()},dispose:()=>{if(Je())return;w=Kr.Disposed,J.fire(void 0);let I=new Error("Connection got disposed.");Object.keys(h).forEach(A=>{h[A].reject(I)}),h=Object.create(null),y=Object.create(null),p=new _y.LinkedMap,en.func(e.dispose)&&e.dispose(),en.func(t.dispose)&&t.dispose()},listen:()=>{Q(),W(),w=Kr.Listening,t.listen(ct)},inspect:()=>{gy.default().console.log("inspect")}};return Zi.onNotification(qp.type,I=>{_===Mt.Off||!N||N.log(I.message,_===Mt.Verbose?I.verbose:void 0)}),Zi.onNotification(wu.type,I=>{let A=g.get(I.token);A?A(I.value):X.fire(I)}),Zi}xe.createMessageConnection=HA});var Gp=B(H=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});H.CancellationSenderStrategy=H.CancellationReceiverStrategy=H.ConnectionError=H.ConnectionErrors=H.LogTraceNotification=H.SetTraceNotification=H.TraceFormat=H.Trace=H.ProgressType=H.createMessageConnection=H.NullLogger=H.ConnectionOptions=H.ConnectionStrategy=H.WriteableStreamMessageWriter=H.AbstractMessageWriter=H.MessageWriter=H.ReadableStreamMessageReader=H.AbstractMessageReader=H.MessageReader=H.CancellationToken=H.CancellationTokenSource=H.Emitter=H.Event=H.Disposable=H.ParameterStructures=H.NotificationType9=H.NotificationType8=H.NotificationType7=H.NotificationType6=H.NotificationType5=H.NotificationType4=H.NotificationType3=H.NotificationType2=H.NotificationType1=H.NotificationType0=H.NotificationType=H.ErrorCodes=H.ResponseError=H.RequestType9=H.RequestType8=H.RequestType7=H.RequestType6=H.RequestType5=H.RequestType4=H.RequestType3=H.RequestType2=H.RequestType1=H.RequestType0=H.RequestType=H.RAL=void 0;H.CancellationStrategy=void 0;var ht=Ep();Object.defineProperty(H,"RequestType",{enumerable:!0,get:function(){return ht.RequestType}});Object.defineProperty(H,"RequestType0",{enumerable:!0,get:function(){return ht.RequestType0}});Object.defineProperty(H,"RequestType1",{enumerable:!0,get:function(){return ht.RequestType1}});Object.defineProperty(H,"RequestType2",{enumerable:!0,get:function(){return ht.RequestType2}});Object.defineProperty(H,"RequestType3",{enumerable:!0,get:function(){return ht.RequestType3}});Object.defineProperty(H,"RequestType4",{enumerable:!0,get:function(){return ht.RequestType4}});Object.defineProperty(H,"RequestType5",{enumerable:!0,get:function(){return ht.RequestType5}});Object.defineProperty(H,"RequestType6",{enumerable:!0,get:function(){return ht.RequestType6}});Object.defineProperty(H,"RequestType7",{enumerable:!0,get:function(){return ht.RequestType7}});Object.defineProperty(H,"RequestType8",{enumerable:!0,get:function(){return ht.RequestType8}});Object.defineProperty(H,"RequestType9",{enumerable:!0,get:function(){return ht.RequestType9}});Object.defineProperty(H,"ResponseError",{enumerable:!0,get:function(){return ht.ResponseError}});Object.defineProperty(H,"ErrorCodes",{enumerable:!0,get:function(){return ht.ErrorCodes}});Object.defineProperty(H,"NotificationType",{enumerable:!0,get:function(){return ht.NotificationType}});Object.defineProperty(H,"NotificationType0",{enumerable:!0,get:function(){return ht.NotificationType0}});Object.defineProperty(H,"NotificationType1",{enumerable:!0,get:function(){return ht.NotificationType1}});Object.defineProperty(H,"NotificationType2",{enumerable:!0,get:function(){return ht.NotificationType2}});Object.defineProperty(H,"NotificationType3",{enumerable:!0,get:function(){return ht.NotificationType3}});Object.defineProperty(H,"NotificationType4",{enumerable:!0,get:function(){return ht.NotificationType4}});Object.defineProperty(H,"NotificationType5",{enumerable:!0,get:function(){return ht.NotificationType5}});Object.defineProperty(H,"NotificationType6",{enumerable:!0,get:function(){return ht.NotificationType6}});Object.defineProperty(H,"NotificationType7",{enumerable:!0,get:function(){return ht.NotificationType7}});Object.defineProperty(H,"NotificationType8",{enumerable:!0,get:function(){return ht.NotificationType8}});Object.defineProperty(H,"NotificationType9",{enumerable:!0,get:function(){return ht.NotificationType9}});Object.defineProperty(H,"ParameterStructures",{enumerable:!0,get:function(){return ht.ParameterStructures}});var KA=Np();Object.defineProperty(H,"Disposable",{enumerable:!0,get:function(){return KA.Disposable}});var Ny=Ra();Object.defineProperty(H,"Event",{enumerable:!0,get:function(){return Ny.Event}});Object.defineProperty(H,"Emitter",{enumerable:!0,get:function(){return Ny.Emitter}});var Cy=Ip();Object.defineProperty(H,"CancellationTokenSource",{enumerable:!0,get:function(){return Cy.CancellationTokenSource}});Object.defineProperty(H,"CancellationToken",{enumerable:!0,get:function(){return Cy.CancellationToken}});var Up=ay();Object.defineProperty(H,"MessageReader",{enumerable:!0,get:function(){return Up.MessageReader}});Object.defineProperty(H,"AbstractMessageReader",{enumerable:!0,get:function(){return Up.AbstractMessageReader}});Object.defineProperty(H,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Up.ReadableStreamMessageReader}});var Wp=dy();Object.defineProperty(H,"MessageWriter",{enumerable:!0,get:function(){return Wp.MessageWriter}});Object.defineProperty(H,"AbstractMessageWriter",{enumerable:!0,get:function(){return Wp.AbstractMessageWriter}});Object.defineProperty(H,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return Wp.WriteableStreamMessageWriter}});var Fn=vy();Object.defineProperty(H,"ConnectionStrategy",{enumerable:!0,get:function(){return Fn.ConnectionStrategy}});Object.defineProperty(H,"ConnectionOptions",{enumerable:!0,get:function(){return Fn.ConnectionOptions}});Object.defineProperty(H,"NullLogger",{enumerable:!0,get:function(){return Fn.NullLogger}});Object.defineProperty(H,"createMessageConnection",{enumerable:!0,get:function(){return Fn.createMessageConnection}});Object.defineProperty(H,"ProgressType",{enumerable:!0,get:function(){return Fn.ProgressType}});Object.defineProperty(H,"Trace",{enumerable:!0,get:function(){return Fn.Trace}});Object.defineProperty(H,"TraceFormat",{enumerable:!0,get:function(){return Fn.TraceFormat}});Object.defineProperty(H,"SetTraceNotification",{enumerable:!0,get:function(){return Fn.SetTraceNotification}});Object.defineProperty(H,"LogTraceNotification",{enumerable:!0,get:function(){return Fn.LogTraceNotification}});Object.defineProperty(H,"ConnectionErrors",{enumerable:!0,get:function(){return Fn.ConnectionErrors}});Object.defineProperty(H,"ConnectionError",{enumerable:!0,get:function(){return Fn.ConnectionError}});Object.defineProperty(H,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Fn.CancellationReceiverStrategy}});Object.defineProperty(H,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Fn.CancellationSenderStrategy}});Object.defineProperty(H,"CancellationStrategy",{enumerable:!0,get:function(){return Fn.CancellationStrategy}});var zA=Mi();H.RAL=zA.default});var Ma=B(Ze=>{"use strict";var XA=Ze&&Ze.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),QA=Ze&&Ze.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&XA(e,t,n)};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.createMessageConnection=Ze.createServerSocketTransport=Ze.createClientSocketTransport=Ze.createServerPipeTransport=Ze.createClientPipeTransport=Ze.generateRandomPipeName=Ze.StreamMessageWriter=Ze.StreamMessageReader=Ze.SocketMessageWriter=Ze.SocketMessageReader=Ze.IPCMessageWriter=Ze.IPCMessageReader=void 0;var Oa=x_();Oa.default.install();var _i=Gp(),Py=require("path"),JA=require("os"),ZA=require("crypto"),Lu=require("net");QA(Gp(),Ze);var Ey=class extends _i.AbstractMessageReader{constructor(e){super();this.process=e;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),_i.Disposable.create(()=>this.process.off("message",e))}};Ze.IPCMessageReader=Ey;var Dy=class extends _i.AbstractMessageWriter{constructor(e){super();this.process=e,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};Ze.IPCMessageWriter=Dy;var La=class extends _i.ReadableStreamMessageReader{constructor(e,n="utf-8"){super(Oa.default().stream.asReadableStream(e),n)}};Ze.SocketMessageReader=La;var Fa=class extends _i.WriteableStreamMessageWriter{constructor(e,n){super(Oa.default().stream.asWritableStream(e),n);this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};Ze.SocketMessageWriter=Fa;var Yp=class extends _i.ReadableStreamMessageReader{constructor(e,n){super(Oa.default().stream.asReadableStream(e),n)}};Ze.StreamMessageReader=Yp;var $p=class extends _i.WriteableStreamMessageWriter{constructor(e,n){super(Oa.default().stream.asWritableStream(e),n)}};Ze.StreamMessageWriter=$p;var Ay=process.env.XDG_RUNTIME_DIR,eS=new Map([["linux",107],["darwin",103]]);function tS(){let t=ZA.randomBytes(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;Ay?e=Py.join(Ay,`vscode-ipc-${t}.sock`):e=Py.join(JA.tmpdir(),`vscode-${t}.sock`);let n=eS.get(process.platform);return n!==void 0&&e.length>=n&&Oa.default().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}Ze.generateRandomPipeName=tS;function nS(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let a=Lu.createServer(o=>{a.close(),n([new La(o,e),new Fa(o,e)])});a.on("error",s),a.listen(t,()=>{a.removeListener("error",s),i({onConnected:()=>r})})})}Ze.createClientPipeTransport=nS;function rS(t,e="utf-8"){let n=Lu.createConnection(t);return[new La(n,e),new Fa(n,e)]}Ze.createServerPipeTransport=rS;function iS(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let a=Lu.createServer(o=>{a.close(),n([new La(o,e),new Fa(o,e)])});a.on("error",s),a.listen(t,"127.0.0.1",()=>{a.removeListener("error",s),i({onConnected:()=>r})})})}Ze.createClientSocketTransport=iS;function sS(t,e="utf-8"){let n=Lu.createConnection(t,"127.0.0.1");return[new La(n,e),new Fa(n,e)]}Ze.createServerSocketTransport=sS;function aS(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function oS(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function lS(t,e,n,r){n||(n=_i.NullLogger);let i=aS(t)?new Yp(t):t,s=oS(e)?new $p(e):e;return _i.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),_i.createMessageConnection(i,s,n,r)}Ze.createMessageConnection=lS});var Hp=B((fV,Sy)=>{"use strict";Sy.exports=Ma()});var bt=B((Iy,Fu)=>{(function(t){if(typeof Fu=="object"&&typeof Fu.exports=="object"){var e=t(require,Iy);e!==void 0&&(Fu.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionKind=e.DocumentSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=void 0;var n;(function(v){v.MIN_VALUE=-2147483648,v.MAX_VALUE=2147483647})(n=e.integer||(e.integer={}));var r;(function(v){v.MIN_VALUE=0,v.MAX_VALUE=2147483647})(r=e.uinteger||(e.uinteger={}));var i;(function(v){function S(E,T){return E===Number.MAX_VALUE&&(E=r.MAX_VALUE),T===Number.MAX_VALUE&&(T=r.MAX_VALUE),{line:E,character:T}}v.create=S;function R(E){var T=E;return A.objectLiteral(T)&&A.uinteger(T.line)&&A.uinteger(T.character)}v.is=R})(i=e.Position||(e.Position={}));var s;(function(v){function S(E,T,O,V){if(A.uinteger(E)&&A.uinteger(T)&&A.uinteger(O)&&A.uinteger(V))return{start:i.create(E,T),end:i.create(O,V)};if(i.is(E)&&i.is(T))return{start:E,end:T};throw new Error("Range#create called with invalid arguments["+E+", "+T+", "+O+", "+V+"]")}v.create=S;function R(E){var T=E;return A.objectLiteral(T)&&i.is(T.start)&&i.is(T.end)}v.is=R})(s=e.Range||(e.Range={}));var a;(function(v){function S(E,T){return{uri:E,range:T}}v.create=S;function R(E){var T=E;return A.defined(T)&&s.is(T.range)&&(A.string(T.uri)||A.undefined(T.uri))}v.is=R})(a=e.Location||(e.Location={}));var o;(function(v){function S(E,T,O,V){return{targetUri:E,targetRange:T,targetSelectionRange:O,originSelectionRange:V}}v.create=S;function R(E){var T=E;return A.defined(T)&&s.is(T.targetRange)&&A.string(T.targetUri)&&(s.is(T.targetSelectionRange)||A.undefined(T.targetSelectionRange))&&(s.is(T.originSelectionRange)||A.undefined(T.originSelectionRange))}v.is=R})(o=e.LocationLink||(e.LocationLink={}));var l;(function(v){function S(E,T,O,V){return{red:E,green:T,blue:O,alpha:V}}v.create=S;function R(E){var T=E;return A.numberRange(T.red,0,1)&&A.numberRange(T.green,0,1)&&A.numberRange(T.blue,0,1)&&A.numberRange(T.alpha,0,1)}v.is=R})(l=e.Color||(e.Color={}));var u;(function(v){function S(E,T){return{range:E,color:T}}v.create=S;function R(E){var T=E;return s.is(T.range)&&l.is(T.color)}v.is=R})(u=e.ColorInformation||(e.ColorInformation={}));var f;(function(v){function S(E,T,O){return{label:E,textEdit:T,additionalTextEdits:O}}v.create=S;function R(E){var T=E;return A.string(T.label)&&(A.undefined(T.textEdit)||b.is(T))&&(A.undefined(T.additionalTextEdits)||A.typedArray(T.additionalTextEdits,b.is))}v.is=R})(f=e.ColorPresentation||(e.ColorPresentation={}));var c;(function(v){v.Comment="comment",v.Imports="imports",v.Region="region"})(c=e.FoldingRangeKind||(e.FoldingRangeKind={}));var m;(function(v){function S(E,T,O,V,ue){var ye={startLine:E,endLine:T};return A.defined(O)&&(ye.startCharacter=O),A.defined(V)&&(ye.endCharacter=V),A.defined(ue)&&(ye.kind=ue),ye}v.create=S;function R(E){var T=E;return A.uinteger(T.startLine)&&A.uinteger(T.startLine)&&(A.undefined(T.startCharacter)||A.uinteger(T.startCharacter))&&(A.undefined(T.endCharacter)||A.uinteger(T.endCharacter))&&(A.undefined(T.kind)||A.string(T.kind))}v.is=R})(m=e.FoldingRange||(e.FoldingRange={}));var g;(function(v){function S(E,T){return{location:E,message:T}}v.create=S;function R(E){var T=E;return A.defined(T)&&a.is(T.location)&&A.string(T.message)}v.is=R})(g=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var d;(function(v){v.Error=1,v.Warning=2,v.Information=3,v.Hint=4})(d=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var p;(function(v){v.Unnecessary=1,v.Deprecated=2})(p=e.DiagnosticTag||(e.DiagnosticTag={}));var h;(function(v){function S(R){var E=R;return E!=null&&A.string(E.href)}v.is=S})(h=e.CodeDescription||(e.CodeDescription={}));var y;(function(v){function S(E,T,O,V,ue,ye){var Be={range:E,message:T};return A.defined(O)&&(Be.severity=O),A.defined(V)&&(Be.code=V),A.defined(ue)&&(Be.source=ue),A.defined(ye)&&(Be.relatedInformation=ye),Be}v.create=S;function R(E){var T,O=E;return A.defined(O)&&s.is(O.range)&&A.string(O.message)&&(A.number(O.severity)||A.undefined(O.severity))&&(A.integer(O.code)||A.string(O.code)||A.undefined(O.code))&&(A.undefined(O.codeDescription)||A.string((T=O.codeDescription)===null||T===void 0?void 0:T.href))&&(A.string(O.source)||A.undefined(O.source))&&(A.undefined(O.relatedInformation)||A.typedArray(O.relatedInformation,g.is))}v.is=R})(y=e.Diagnostic||(e.Diagnostic={}));var _;(function(v){function S(E,T){for(var O=[],V=2;V<arguments.length;V++)O[V-2]=arguments[V];var ue={title:E,command:T};return A.defined(O)&&O.length>0&&(ue.arguments=O),ue}v.create=S;function R(E){var T=E;return A.defined(T)&&A.string(T.title)&&A.string(T.command)}v.is=R})(_=e.Command||(e.Command={}));var b;(function(v){function S(O,V){return{range:O,newText:V}}v.replace=S;function R(O,V){return{range:{start:O,end:O},newText:V}}v.insert=R;function E(O){return{range:O,newText:""}}v.del=E;function T(O){var V=O;return A.objectLiteral(V)&&A.string(V.newText)&&s.is(V.range)}v.is=T})(b=e.TextEdit||(e.TextEdit={}));var N;(function(v){function S(E,T,O){var V={label:E};return T!==void 0&&(V.needsConfirmation=T),O!==void 0&&(V.description=O),V}v.create=S;function R(E){var T=E;return T!==void 0&&A.objectLiteral(T)&&A.string(T.label)&&(A.boolean(T.needsConfirmation)||T.needsConfirmation===void 0)&&(A.string(T.description)||T.description===void 0)}v.is=R})(N=e.ChangeAnnotation||(e.ChangeAnnotation={}));var w;(function(v){function S(R){var E=R;return typeof E=="string"}v.is=S})(w=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var le;(function(v){function S(O,V,ue){return{range:O,newText:V,annotationId:ue}}v.replace=S;function R(O,V,ue){return{range:{start:O,end:O},newText:V,annotationId:ue}}v.insert=R;function E(O,V){return{range:O,newText:"",annotationId:V}}v.del=E;function T(O){var V=O;return b.is(V)&&(N.is(V.annotationId)||w.is(V.annotationId))}v.is=T})(le=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var $;(function(v){function S(E,T){return{textDocument:E,edits:T}}v.create=S;function R(E){var T=E;return A.defined(T)&&lt.is(T.textDocument)&&Array.isArray(T.edits)}v.is=R})($=e.TextDocumentEdit||(e.TextDocumentEdit={}));var j;(function(v){function S(E,T,O){var V={kind:"create",uri:E};return T!==void 0&&(T.overwrite!==void 0||T.ignoreIfExists!==void 0)&&(V.options=T),O!==void 0&&(V.annotationId=O),V}v.create=S;function R(E){var T=E;return T&&T.kind==="create"&&A.string(T.uri)&&(T.options===void 0||(T.options.overwrite===void 0||A.boolean(T.options.overwrite))&&(T.options.ignoreIfExists===void 0||A.boolean(T.options.ignoreIfExists)))&&(T.annotationId===void 0||w.is(T.annotationId))}v.is=R})(j=e.CreateFile||(e.CreateFile={}));var X;(function(v){function S(E,T,O,V){var ue={kind:"rename",oldUri:E,newUri:T};return O!==void 0&&(O.overwrite!==void 0||O.ignoreIfExists!==void 0)&&(ue.options=O),V!==void 0&&(ue.annotationId=V),ue}v.create=S;function R(E){var T=E;return T&&T.kind==="rename"&&A.string(T.oldUri)&&A.string(T.newUri)&&(T.options===void 0||(T.options.overwrite===void 0||A.boolean(T.options.overwrite))&&(T.options.ignoreIfExists===void 0||A.boolean(T.options.ignoreIfExists)))&&(T.annotationId===void 0||w.is(T.annotationId))}v.is=R})(X=e.RenameFile||(e.RenameFile={}));var J;(function(v){function S(E,T,O){var V={kind:"delete",uri:E};return T!==void 0&&(T.recursive!==void 0||T.ignoreIfNotExists!==void 0)&&(V.options=T),O!==void 0&&(V.annotationId=O),V}v.create=S;function R(E){var T=E;return T&&T.kind==="delete"&&A.string(T.uri)&&(T.options===void 0||(T.options.recursive===void 0||A.boolean(T.options.recursive))&&(T.options.ignoreIfNotExists===void 0||A.boolean(T.options.ignoreIfNotExists)))&&(T.annotationId===void 0||w.is(T.annotationId))}v.is=R})(J=e.DeleteFile||(e.DeleteFile={}));var be;(function(v){function S(R){var E=R;return E&&(E.changes!==void 0||E.documentChanges!==void 0)&&(E.documentChanges===void 0||E.documentChanges.every(function(T){return A.string(T.kind)?j.is(T)||X.is(T)||J.is(T):$.is(T)}))}v.is=S})(be=e.WorkspaceEdit||(e.WorkspaceEdit={}));var we=function(){function v(S,R){this.edits=S,this.changeAnnotations=R}return v.prototype.insert=function(S,R,E){var T,O;if(E===void 0?T=b.insert(S,R):w.is(E)?(O=E,T=le.insert(S,R,E)):(this.assertChangeAnnotations(this.changeAnnotations),O=this.changeAnnotations.manage(E),T=le.insert(S,R,O)),this.edits.push(T),O!==void 0)return O},v.prototype.replace=function(S,R,E){var T,O;if(E===void 0?T=b.replace(S,R):w.is(E)?(O=E,T=le.replace(S,R,E)):(this.assertChangeAnnotations(this.changeAnnotations),O=this.changeAnnotations.manage(E),T=le.replace(S,R,O)),this.edits.push(T),O!==void 0)return O},v.prototype.delete=function(S,R){var E,T;if(R===void 0?E=b.del(S):w.is(R)?(T=R,E=le.del(S,R)):(this.assertChangeAnnotations(this.changeAnnotations),T=this.changeAnnotations.manage(R),E=le.del(S,T)),this.edits.push(E),T!==void 0)return T},v.prototype.add=function(S){this.edits.push(S)},v.prototype.all=function(){return this.edits},v.prototype.clear=function(){this.edits.splice(0,this.edits.length)},v.prototype.assertChangeAnnotations=function(S){if(S===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},v}(),Le=function(){function v(S){this._annotations=S===void 0?Object.create(null):S,this._counter=0,this._size=0}return v.prototype.all=function(){return this._annotations},Object.defineProperty(v.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),v.prototype.manage=function(S,R){var E;if(w.is(S)?E=S:(E=this.nextId(),R=S),this._annotations[E]!==void 0)throw new Error("Id "+E+" is already in use.");if(R===void 0)throw new Error("No annotation provided for id "+E);return this._annotations[E]=R,this._size++,E},v.prototype.nextId=function(){return this._counter++,this._counter.toString()},v}(),qe=function(){function v(S){var R=this;this._textEditChanges=Object.create(null),S!==void 0?(this._workspaceEdit=S,S.documentChanges?(this._changeAnnotations=new Le(S.changeAnnotations),S.changeAnnotations=this._changeAnnotations.all(),S.documentChanges.forEach(function(E){if($.is(E)){var T=new we(E.edits,R._changeAnnotations);R._textEditChanges[E.textDocument.uri]=T}})):S.changes&&Object.keys(S.changes).forEach(function(E){var T=new we(S.changes[E]);R._textEditChanges[E]=T})):this._workspaceEdit={}}return Object.defineProperty(v.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),v.prototype.getTextEditChange=function(S){if(lt.is(S)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var R={uri:S.uri,version:S.version},E=this._textEditChanges[R.uri];if(!E){var T=[],O={textDocument:R,edits:T};this._workspaceEdit.documentChanges.push(O),E=new we(T,this._changeAnnotations),this._textEditChanges[R.uri]=E}return E}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var E=this._textEditChanges[S];if(!E){var T=[];this._workspaceEdit.changes[S]=T,E=new we(T),this._textEditChanges[S]=E}return E}},v.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new Le,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},v.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},v.prototype.createFile=function(S,R,E){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var T;N.is(R)||w.is(R)?T=R:E=R;var O,V;if(T===void 0?O=j.create(S,E):(V=w.is(T)?T:this._changeAnnotations.manage(T),O=j.create(S,E,V)),this._workspaceEdit.documentChanges.push(O),V!==void 0)return V},v.prototype.renameFile=function(S,R,E,T){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var O;N.is(E)||w.is(E)?O=E:T=E;var V,ue;if(O===void 0?V=X.create(S,R,T):(ue=w.is(O)?O:this._changeAnnotations.manage(O),V=X.create(S,R,T,ue)),this._workspaceEdit.documentChanges.push(V),ue!==void 0)return ue},v.prototype.deleteFile=function(S,R,E){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var T;N.is(R)||w.is(R)?T=R:E=R;var O,V;if(T===void 0?O=J.create(S,E):(V=w.is(T)?T:this._changeAnnotations.manage(T),O=J.create(S,E,V)),this._workspaceEdit.documentChanges.push(O),V!==void 0)return V},v}();e.WorkspaceChange=qe;var se;(function(v){function S(E){return{uri:E}}v.create=S;function R(E){var T=E;return A.defined(T)&&A.string(T.uri)}v.is=R})(se=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var Pe;(function(v){function S(E,T){return{uri:E,version:T}}v.create=S;function R(E){var T=E;return A.defined(T)&&A.string(T.uri)&&A.integer(T.version)}v.is=R})(Pe=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var lt;(function(v){function S(E,T){return{uri:E,version:T}}v.create=S;function R(E){var T=E;return A.defined(T)&&A.string(T.uri)&&(T.version===null||A.integer(T.version))}v.is=R})(lt=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var zt;(function(v){function S(E,T,O,V){return{uri:E,languageId:T,version:O,text:V}}v.create=S;function R(E){var T=E;return A.defined(T)&&A.string(T.uri)&&A.string(T.languageId)&&A.integer(T.version)&&A.string(T.text)}v.is=R})(zt=e.TextDocumentItem||(e.TextDocumentItem={}));var Je;(function(v){v.PlainText="plaintext",v.Markdown="markdown"})(Je=e.MarkupKind||(e.MarkupKind={})),function(v){function S(R){var E=R;return E===v.PlainText||E===v.Markdown}v.is=S}(Je=e.MarkupKind||(e.MarkupKind={}));var ut;(function(v){function S(R){var E=R;return A.objectLiteral(R)&&Je.is(E.kind)&&A.string(E.value)}v.is=S})(ut=e.MarkupContent||(e.MarkupContent={}));var ce;(function(v){v.Text=1,v.Method=2,v.Function=3,v.Constructor=4,v.Field=5,v.Variable=6,v.Class=7,v.Interface=8,v.Module=9,v.Property=10,v.Unit=11,v.Value=12,v.Enum=13,v.Keyword=14,v.Snippet=15,v.Color=16,v.File=17,v.Reference=18,v.Folder=19,v.EnumMember=20,v.Constant=21,v.Struct=22,v.Event=23,v.Operator=24,v.TypeParameter=25})(ce=e.CompletionItemKind||(e.CompletionItemKind={}));var Se;(function(v){v.PlainText=1,v.Snippet=2})(Se=e.InsertTextFormat||(e.InsertTextFormat={}));var We;(function(v){v.Deprecated=1})(We=e.CompletionItemTag||(e.CompletionItemTag={}));var K;(function(v){function S(E,T,O){return{newText:E,insert:T,replace:O}}v.create=S;function R(E){var T=E;return T&&A.string(T.newText)&&s.is(T.insert)&&s.is(T.replace)}v.is=R})(K=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var ct;(function(v){v.asIs=1,v.adjustIndentation=2})(ct=e.InsertTextMode||(e.InsertTextMode={}));var rt;(function(v){function S(R){return{label:R}}v.create=S})(rt=e.CompletionItem||(e.CompletionItem={}));var Dt;(function(v){function S(R,E){return{items:R||[],isIncomplete:!!E}}v.create=S})(Dt=e.CompletionList||(e.CompletionList={}));var vn;(function(v){function S(E){return E.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}v.fromPlainText=S;function R(E){var T=E;return A.string(T)||A.objectLiteral(T)&&A.string(T.language)&&A.string(T.value)}v.is=R})(vn=e.MarkedString||(e.MarkedString={}));var Ii;(function(v){function S(R){var E=R;return!!E&&A.objectLiteral(E)&&(ut.is(E.contents)||vn.is(E.contents)||A.typedArray(E.contents,vn.is))&&(R.range===void 0||s.is(R.range))}v.is=S})(Ii=e.Hover||(e.Hover={}));var oi;(function(v){function S(R,E){return E?{label:R,documentation:E}:{label:R}}v.create=S})(oi=e.ParameterInformation||(e.ParameterInformation={}));var Vo;(function(v){function S(R,E){for(var T=[],O=2;O<arguments.length;O++)T[O-2]=arguments[O];var V={label:R};return A.defined(E)&&(V.documentation=E),A.defined(T)?V.parameters=T:V.parameters=[],V}v.create=S})(Vo=e.SignatureInformation||(e.SignatureInformation={}));var Ji;(function(v){v.Text=1,v.Read=2,v.Write=3})(Ji=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var jn;(function(v){function S(R,E){var T={range:R};return A.number(E)&&(T.kind=E),T}v.create=S})(jn=e.DocumentHighlight||(e.DocumentHighlight={}));var jo;(function(v){v.File=1,v.Module=2,v.Namespace=3,v.Package=4,v.Class=5,v.Method=6,v.Property=7,v.Field=8,v.Constructor=9,v.Enum=10,v.Interface=11,v.Function=12,v.Variable=13,v.Constant=14,v.String=15,v.Number=16,v.Boolean=17,v.Array=18,v.Object=19,v.Key=20,v.Null=21,v.EnumMember=22,v.Struct=23,v.Event=24,v.Operator=25,v.TypeParameter=26})(jo=e.SymbolKind||(e.SymbolKind={}));var x;(function(v){v.Deprecated=1})(x=e.SymbolTag||(e.SymbolTag={}));var M;(function(v){function S(R,E,T,O,V){var ue={name:R,kind:E,location:{uri:O,range:T}};return V&&(ue.containerName=V),ue}v.create=S})(M=e.SymbolInformation||(e.SymbolInformation={}));var Q;(function(v){function S(E,T,O,V,ue,ye){var Be={name:E,detail:T,kind:O,range:V,selectionRange:ue};return ye!==void 0&&(Be.children=ye),Be}v.create=S;function R(E){var T=E;return T&&A.string(T.name)&&A.number(T.kind)&&s.is(T.range)&&s.is(T.selectionRange)&&(T.detail===void 0||A.string(T.detail))&&(T.deprecated===void 0||A.boolean(T.deprecated))&&(T.children===void 0||Array.isArray(T.children))&&(T.tags===void 0||Array.isArray(T.tags))}v.is=R})(Q=e.DocumentSymbol||(e.DocumentSymbol={}));var W;(function(v){v.Empty="",v.QuickFix="quickfix",v.Refactor="refactor",v.RefactorExtract="refactor.extract",v.RefactorInline="refactor.inline",v.RefactorRewrite="refactor.rewrite",v.Source="source",v.SourceOrganizeImports="source.organizeImports",v.SourceFixAll="source.fixAll"})(W=e.CodeActionKind||(e.CodeActionKind={}));var F;(function(v){function S(E,T){var O={diagnostics:E};return T!=null&&(O.only=T),O}v.create=S;function R(E){var T=E;return A.defined(T)&&A.typedArray(T.diagnostics,y.is)&&(T.only===void 0||A.typedArray(T.only,A.string))}v.is=R})(F=e.CodeActionContext||(e.CodeActionContext={}));var oe;(function(v){function S(E,T,O){var V={title:E},ue=!0;return typeof T=="string"?(ue=!1,V.kind=T):_.is(T)?V.command=T:V.edit=T,ue&&O!==void 0&&(V.kind=O),V}v.create=S;function R(E){var T=E;return T&&A.string(T.title)&&(T.diagnostics===void 0||A.typedArray(T.diagnostics,y.is))&&(T.kind===void 0||A.string(T.kind))&&(T.edit!==void 0||T.command!==void 0)&&(T.command===void 0||_.is(T.command))&&(T.isPreferred===void 0||A.boolean(T.isPreferred))&&(T.edit===void 0||be.is(T.edit))}v.is=R})(oe=e.CodeAction||(e.CodeAction={}));var ne;(function(v){function S(E,T){var O={range:E};return A.defined(T)&&(O.data=T),O}v.create=S;function R(E){var T=E;return A.defined(T)&&s.is(T.range)&&(A.undefined(T.command)||_.is(T.command))}v.is=R})(ne=e.CodeLens||(e.CodeLens={}));var de;(function(v){function S(E,T){return{tabSize:E,insertSpaces:T}}v.create=S;function R(E){var T=E;return A.defined(T)&&A.uinteger(T.tabSize)&&A.boolean(T.insertSpaces)}v.is=R})(de=e.FormattingOptions||(e.FormattingOptions={}));var _t;(function(v){function S(E,T,O){return{range:E,target:T,data:O}}v.create=S;function R(E){var T=E;return A.defined(T)&&s.is(T.range)&&(A.undefined(T.target)||A.string(T.target))}v.is=R})(_t=e.DocumentLink||(e.DocumentLink={}));var wt;(function(v){function S(E,T){return{range:E,parent:T}}v.create=S;function R(E){var T=E;return T!==void 0&&s.is(T.range)&&(T.parent===void 0||v.is(T.parent))}v.is=R})(wt=e.SelectionRange||(e.SelectionRange={})),e.EOL=[`
`,`\r
`,"\r"];var Zi;(function(v){function S(O,V,ue,ye){return new I(O,V,ue,ye)}v.create=S;function R(O){var V=O;return!!(A.defined(V)&&A.string(V.uri)&&(A.undefined(V.languageId)||A.string(V.languageId))&&A.uinteger(V.lineCount)&&A.func(V.getText)&&A.func(V.positionAt)&&A.func(V.offsetAt))}v.is=R;function E(O,V){for(var ue=O.getText(),ye=T(V,function(Ca,lu){var rg=Ca.range.start.line-lu.range.start.line;return rg===0?Ca.range.start.character-lu.range.start.character:rg}),Be=ue.length,ft=ye.length-1;ft>=0;ft--){var Ut=ye[ft],Xt=O.offsetAt(Ut.range.start),$e=O.offsetAt(Ut.range.end);if($e<=Be)ue=ue.substring(0,Xt)+Ut.newText+ue.substring($e,ue.length);else throw new Error("Overlapping edit");Be=Xt}return ue}v.applyEdits=E;function T(O,V){if(O.length<=1)return O;var ue=O.length/2|0,ye=O.slice(0,ue),Be=O.slice(ue);T(ye,V),T(Be,V);for(var ft=0,Ut=0,Xt=0;ft<ye.length&&Ut<Be.length;){var $e=V(ye[ft],Be[Ut]);$e<=0?O[Xt++]=ye[ft++]:O[Xt++]=Be[Ut++]}for(;ft<ye.length;)O[Xt++]=ye[ft++];for(;Ut<Be.length;)O[Xt++]=Be[Ut++];return O}})(Zi=e.TextDocument||(e.TextDocument={}));var I=function(){function v(S,R,E,T){this._uri=S,this._languageId=R,this._version=E,this._content=T,this._lineOffsets=void 0}return Object.defineProperty(v.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),v.prototype.getText=function(S){if(S){var R=this.offsetAt(S.start),E=this.offsetAt(S.end);return this._content.substring(R,E)}return this._content},v.prototype.update=function(S,R){this._content=S.text,this._version=R,this._lineOffsets=void 0},v.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var S=[],R=this._content,E=!0,T=0;T<R.length;T++){E&&(S.push(T),E=!1);var O=R.charAt(T);E=O==="\r"||O===`
`,O==="\r"&&T+1<R.length&&R.charAt(T+1)===`
`&&T++}E&&R.length>0&&S.push(R.length),this._lineOffsets=S}return this._lineOffsets},v.prototype.positionAt=function(S){S=Math.max(Math.min(S,this._content.length),0);var R=this.getLineOffsets(),E=0,T=R.length;if(T===0)return i.create(0,S);for(;E<T;){var O=Math.floor((E+T)/2);R[O]>S?T=O:E=O+1}var V=E-1;return i.create(V,S-R[V])},v.prototype.offsetAt=function(S){var R=this.getLineOffsets();if(S.line>=R.length)return this._content.length;if(S.line<0)return 0;var E=R[S.line],T=S.line+1<R.length?R[S.line+1]:this._content.length;return Math.max(Math.min(E+S.character,T),E)},Object.defineProperty(v.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),v}(),A;(function(v){var S=Object.prototype.toString;function R($e){return typeof $e!="undefined"}v.defined=R;function E($e){return typeof $e=="undefined"}v.undefined=E;function T($e){return $e===!0||$e===!1}v.boolean=T;function O($e){return S.call($e)==="[object String]"}v.string=O;function V($e){return S.call($e)==="[object Number]"}v.number=V;function ue($e,Ca,lu){return S.call($e)==="[object Number]"&&Ca<=$e&&$e<=lu}v.numberRange=ue;function ye($e){return S.call($e)==="[object Number]"&&-2147483648<=$e&&$e<=2147483647}v.integer=ye;function Be($e){return S.call($e)==="[object Number]"&&0<=$e&&$e<=2147483647}v.uinteger=Be;function ft($e){return S.call($e)==="[object Function]"}v.func=ft;function Ut($e){return $e!==null&&typeof $e=="object"}v.objectLiteral=Ut;function Xt($e,Ca){return Array.isArray($e)&&$e.every(Ca)}v.typedArray=Xt})(A||(A={}))})});var tn=B(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});hr.ProtocolNotificationType=hr.ProtocolNotificationType0=hr.ProtocolRequestType=hr.ProtocolRequestType0=hr.RegistrationType=void 0;var ka=Ma(),xy=class{constructor(e){this.method=e}};hr.RegistrationType=xy;var Ry=class extends ka.RequestType0{constructor(e){super(e)}};hr.ProtocolRequestType0=Ry;var wy=class extends ka.RequestType{constructor(e){super(e,ka.ParameterStructures.byName)}};hr.ProtocolRequestType=wy;var Oy=class extends ka.NotificationType0{constructor(e){super(e)}};hr.ProtocolNotificationType0=Oy;var Ly=class extends ka.NotificationType{constructor(e){super(e,ka.ParameterStructures.byName)}};hr.ProtocolNotificationType=Ly});var ky=B(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.objectLiteral=kt.typedArray=kt.stringArray=kt.array=kt.func=kt.error=kt.number=kt.string=kt.boolean=void 0;function uS(t){return t===!0||t===!1}kt.boolean=uS;function Fy(t){return typeof t=="string"||t instanceof String}kt.string=Fy;function cS(t){return typeof t=="number"||t instanceof Number}kt.number=cS;function fS(t){return t instanceof Error}kt.error=fS;function pS(t){return typeof t=="function"}kt.func=pS;function My(t){return Array.isArray(t)}kt.array=My;function dS(t){return My(t)&&t.every(e=>Fy(e))}kt.stringArray=dS;function mS(t,e){return Array.isArray(t)&&t.every(e)}kt.typedArray=mS;function hS(t){return t!==null&&typeof t=="object"}kt.objectLiteral=hS});var qy=B(sl=>{"use strict";Object.defineProperty(sl,"__esModule",{value:!0});sl.ImplementationRequest=void 0;var gS=tn(),_S;(function(t){t.method="textDocument/implementation",t.type=new gS.ProtocolRequestType(t.method)})(_S=sl.ImplementationRequest||(sl.ImplementationRequest={}))});var By=B(al=>{"use strict";Object.defineProperty(al,"__esModule",{value:!0});al.TypeDefinitionRequest=void 0;var yS=tn(),bS;(function(t){t.method="textDocument/typeDefinition",t.type=new yS.ProtocolRequestType(t.method)})(bS=al.TypeDefinitionRequest||(al.TypeDefinitionRequest={}))});var jy=B(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});is.DidChangeWorkspaceFoldersNotification=is.WorkspaceFoldersRequest=void 0;var Vy=tn(),TS;(function(t){t.type=new Vy.ProtocolRequestType0("workspace/workspaceFolders")})(TS=is.WorkspaceFoldersRequest||(is.WorkspaceFoldersRequest={}));var vS;(function(t){t.type=new Vy.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(vS=is.DidChangeWorkspaceFoldersNotification||(is.DidChangeWorkspaceFoldersNotification={}))});var Uy=B(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});ol.ConfigurationRequest=void 0;var NS=tn(),CS;(function(t){t.type=new NS.ProtocolRequestType("workspace/configuration")})(CS=ol.ConfigurationRequest||(ol.ConfigurationRequest={}))});var Gy=B(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.ColorPresentationRequest=ss.DocumentColorRequest=void 0;var Wy=tn(),PS;(function(t){t.method="textDocument/documentColor",t.type=new Wy.ProtocolRequestType(t.method)})(PS=ss.DocumentColorRequest||(ss.DocumentColorRequest={}));var ES;(function(t){t.type=new Wy.ProtocolRequestType("textDocument/colorPresentation")})(ES=ss.ColorPresentationRequest||(ss.ColorPresentationRequest={}))});var Yy=B(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.FoldingRangeRequest=as.FoldingRangeKind=void 0;var DS=tn(),AS;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(AS=as.FoldingRangeKind||(as.FoldingRangeKind={}));var SS;(function(t){t.method="textDocument/foldingRange",t.type=new DS.ProtocolRequestType(t.method)})(SS=as.FoldingRangeRequest||(as.FoldingRangeRequest={}))});var $y=B(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});ll.DeclarationRequest=void 0;var IS=tn(),xS;(function(t){t.method="textDocument/declaration",t.type=new IS.ProtocolRequestType(t.method)})(xS=ll.DeclarationRequest||(ll.DeclarationRequest={}))});var Hy=B(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});ul.SelectionRangeRequest=void 0;var RS=tn(),wS;(function(t){t.method="textDocument/selectionRange",t.type=new RS.ProtocolRequestType(t.method)})(wS=ul.SelectionRangeRequest||(ul.SelectionRangeRequest={}))});var zy=B(zr=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0});zr.WorkDoneProgressCancelNotification=zr.WorkDoneProgressCreateRequest=zr.WorkDoneProgress=void 0;var OS=Ma(),Ky=tn(),LS;(function(t){t.type=new OS.ProgressType;function e(n){return n===t.type}t.is=e})(LS=zr.WorkDoneProgress||(zr.WorkDoneProgress={}));var FS;(function(t){t.type=new Ky.ProtocolRequestType("window/workDoneProgress/create")})(FS=zr.WorkDoneProgressCreateRequest||(zr.WorkDoneProgressCreateRequest={}));var MS;(function(t){t.type=new Ky.ProtocolNotificationType("window/workDoneProgress/cancel")})(MS=zr.WorkDoneProgressCancelNotification||(zr.WorkDoneProgressCancelNotification={}))});var Xy=B(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});Xr.CallHierarchyOutgoingCallsRequest=Xr.CallHierarchyIncomingCallsRequest=Xr.CallHierarchyPrepareRequest=void 0;var Kp=tn(),kS;(function(t){t.method="textDocument/prepareCallHierarchy",t.type=new Kp.ProtocolRequestType(t.method)})(kS=Xr.CallHierarchyPrepareRequest||(Xr.CallHierarchyPrepareRequest={}));var qS;(function(t){t.method="callHierarchy/incomingCalls",t.type=new Kp.ProtocolRequestType(t.method)})(qS=Xr.CallHierarchyIncomingCallsRequest||(Xr.CallHierarchyIncomingCallsRequest={}));var BS;(function(t){t.method="callHierarchy/outgoingCalls",t.type=new Kp.ProtocolRequestType(t.method)})(BS=Xr.CallHierarchyOutgoingCallsRequest||(Xr.CallHierarchyOutgoingCallsRequest={}))});var Qy=B(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.SemanticTokensRefreshRequest=nt.SemanticTokensRangeRequest=nt.SemanticTokensDeltaRequest=nt.SemanticTokensRequest=nt.SemanticTokensRegistrationType=nt.TokenFormat=nt.SemanticTokens=nt.SemanticTokenModifiers=nt.SemanticTokenTypes=void 0;var cl=tn(),VS;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator"})(VS=nt.SemanticTokenTypes||(nt.SemanticTokenTypes={}));var jS;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(jS=nt.SemanticTokenModifiers||(nt.SemanticTokenModifiers={}));var US;(function(t){function e(n){let r=n;return r!==void 0&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}t.is=e})(US=nt.SemanticTokens||(nt.SemanticTokens={}));var WS;(function(t){t.Relative="relative"})(WS=nt.TokenFormat||(nt.TokenFormat={}));var GS;(function(t){t.method="textDocument/semanticTokens",t.type=new cl.RegistrationType(t.method)})(GS=nt.SemanticTokensRegistrationType||(nt.SemanticTokensRegistrationType={}));var YS;(function(t){t.method="textDocument/semanticTokens/full",t.type=new cl.ProtocolRequestType(t.method)})(YS=nt.SemanticTokensRequest||(nt.SemanticTokensRequest={}));var $S;(function(t){t.method="textDocument/semanticTokens/full/delta",t.type=new cl.ProtocolRequestType(t.method)})($S=nt.SemanticTokensDeltaRequest||(nt.SemanticTokensDeltaRequest={}));var HS;(function(t){t.method="textDocument/semanticTokens/range",t.type=new cl.ProtocolRequestType(t.method)})(HS=nt.SemanticTokensRangeRequest||(nt.SemanticTokensRangeRequest={}));var KS;(function(t){t.method="workspace/semanticTokens/refresh",t.type=new cl.ProtocolRequestType0(t.method)})(KS=nt.SemanticTokensRefreshRequest||(nt.SemanticTokensRefreshRequest={}))});var Jy=B(fl=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});fl.ShowDocumentRequest=void 0;var zS=tn(),XS;(function(t){t.method="window/showDocument",t.type=new zS.ProtocolRequestType(t.method)})(XS=fl.ShowDocumentRequest||(fl.ShowDocumentRequest={}))});var Zy=B(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});pl.LinkedEditingRangeRequest=void 0;var QS=tn(),JS;(function(t){t.method="textDocument/linkedEditingRange",t.type=new QS.ProtocolRequestType(t.method)})(JS=pl.LinkedEditingRangeRequest||(pl.LinkedEditingRangeRequest={}))});var eb=B(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.WillDeleteFilesRequest=Nt.DidDeleteFilesNotification=Nt.DidRenameFilesNotification=Nt.WillRenameFilesRequest=Nt.DidCreateFilesNotification=Nt.WillCreateFilesRequest=Nt.FileOperationPatternKind=void 0;var qa=tn(),ZS;(function(t){t.file="file",t.folder="folder"})(ZS=Nt.FileOperationPatternKind||(Nt.FileOperationPatternKind={}));var eI;(function(t){t.method="workspace/willCreateFiles",t.type=new qa.ProtocolRequestType(t.method)})(eI=Nt.WillCreateFilesRequest||(Nt.WillCreateFilesRequest={}));var tI;(function(t){t.method="workspace/didCreateFiles",t.type=new qa.ProtocolNotificationType(t.method)})(tI=Nt.DidCreateFilesNotification||(Nt.DidCreateFilesNotification={}));var nI;(function(t){t.method="workspace/willRenameFiles",t.type=new qa.ProtocolRequestType(t.method)})(nI=Nt.WillRenameFilesRequest||(Nt.WillRenameFilesRequest={}));var rI;(function(t){t.method="workspace/didRenameFiles",t.type=new qa.ProtocolNotificationType(t.method)})(rI=Nt.DidRenameFilesNotification||(Nt.DidRenameFilesNotification={}));var iI;(function(t){t.method="workspace/didDeleteFiles",t.type=new qa.ProtocolNotificationType(t.method)})(iI=Nt.DidDeleteFilesNotification||(Nt.DidDeleteFilesNotification={}));var sI;(function(t){t.method="workspace/willDeleteFiles",t.type=new qa.ProtocolRequestType(t.method)})(sI=Nt.WillDeleteFilesRequest||(Nt.WillDeleteFilesRequest={}))});var tb=B(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.MonikerRequest=Qr.MonikerKind=Qr.UniquenessLevel=void 0;var aI=tn(),oI;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(oI=Qr.UniquenessLevel||(Qr.UniquenessLevel={}));var lI;(function(t){t.import="import",t.export="export",t.local="local"})(lI=Qr.MonikerKind||(Qr.MonikerKind={}));var uI;(function(t){t.method="textDocument/moniker",t.type=new aI.ProtocolRequestType(t.method)})(uI=Qr.MonikerRequest||(Qr.MonikerRequest={}))});var ab=B(D=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});D.DocumentLinkRequest=D.CodeLensRefreshRequest=D.CodeLensResolveRequest=D.CodeLensRequest=D.WorkspaceSymbolRequest=D.CodeActionResolveRequest=D.CodeActionRequest=D.DocumentSymbolRequest=D.DocumentHighlightRequest=D.ReferencesRequest=D.DefinitionRequest=D.SignatureHelpRequest=D.SignatureHelpTriggerKind=D.HoverRequest=D.CompletionResolveRequest=D.CompletionRequest=D.CompletionTriggerKind=D.PublishDiagnosticsNotification=D.WatchKind=D.FileChangeType=D.DidChangeWatchedFilesNotification=D.WillSaveTextDocumentWaitUntilRequest=D.WillSaveTextDocumentNotification=D.TextDocumentSaveReason=D.DidSaveTextDocumentNotification=D.DidCloseTextDocumentNotification=D.DidChangeTextDocumentNotification=D.TextDocumentContentChangeEvent=D.DidOpenTextDocumentNotification=D.TextDocumentSyncKind=D.TelemetryEventNotification=D.LogMessageNotification=D.ShowMessageRequest=D.ShowMessageNotification=D.MessageType=D.DidChangeConfigurationNotification=D.ExitNotification=D.ShutdownRequest=D.InitializedNotification=D.InitializeError=D.InitializeRequest=D.WorkDoneProgressOptions=D.TextDocumentRegistrationOptions=D.StaticRegistrationOptions=D.FailureHandlingKind=D.ResourceOperationKind=D.UnregistrationRequest=D.RegistrationRequest=D.DocumentSelector=D.DocumentFilter=void 0;D.MonikerRequest=D.MonikerKind=D.UniquenessLevel=D.WillDeleteFilesRequest=D.DidDeleteFilesNotification=D.WillRenameFilesRequest=D.DidRenameFilesNotification=D.WillCreateFilesRequest=D.DidCreateFilesNotification=D.FileOperationPatternKind=D.LinkedEditingRangeRequest=D.ShowDocumentRequest=D.SemanticTokensRegistrationType=D.SemanticTokensRefreshRequest=D.SemanticTokensRangeRequest=D.SemanticTokensDeltaRequest=D.SemanticTokensRequest=D.TokenFormat=D.SemanticTokens=D.SemanticTokenModifiers=D.SemanticTokenTypes=D.CallHierarchyPrepareRequest=D.CallHierarchyOutgoingCallsRequest=D.CallHierarchyIncomingCallsRequest=D.WorkDoneProgressCancelNotification=D.WorkDoneProgressCreateRequest=D.WorkDoneProgress=D.SelectionRangeRequest=D.DeclarationRequest=D.FoldingRangeRequest=D.ColorPresentationRequest=D.DocumentColorRequest=D.ConfigurationRequest=D.DidChangeWorkspaceFoldersNotification=D.WorkspaceFoldersRequest=D.TypeDefinitionRequest=D.ImplementationRequest=D.ApplyWorkspaceEditRequest=D.ExecuteCommandRequest=D.PrepareRenameRequest=D.RenameRequest=D.PrepareSupportDefaultBehavior=D.DocumentOnTypeFormattingRequest=D.DocumentRangeFormattingRequest=D.DocumentFormattingRequest=D.DocumentLinkResolveRequest=void 0;var os=ky(),Fe=tn(),cI=qy();Object.defineProperty(D,"ImplementationRequest",{enumerable:!0,get:function(){return cI.ImplementationRequest}});var fI=By();Object.defineProperty(D,"TypeDefinitionRequest",{enumerable:!0,get:function(){return fI.TypeDefinitionRequest}});var nb=jy();Object.defineProperty(D,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return nb.WorkspaceFoldersRequest}});Object.defineProperty(D,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return nb.DidChangeWorkspaceFoldersNotification}});var pI=Uy();Object.defineProperty(D,"ConfigurationRequest",{enumerable:!0,get:function(){return pI.ConfigurationRequest}});var rb=Gy();Object.defineProperty(D,"DocumentColorRequest",{enumerable:!0,get:function(){return rb.DocumentColorRequest}});Object.defineProperty(D,"ColorPresentationRequest",{enumerable:!0,get:function(){return rb.ColorPresentationRequest}});var dI=Yy();Object.defineProperty(D,"FoldingRangeRequest",{enumerable:!0,get:function(){return dI.FoldingRangeRequest}});var mI=$y();Object.defineProperty(D,"DeclarationRequest",{enumerable:!0,get:function(){return mI.DeclarationRequest}});var hI=Hy();Object.defineProperty(D,"SelectionRangeRequest",{enumerable:!0,get:function(){return hI.SelectionRangeRequest}});var zp=zy();Object.defineProperty(D,"WorkDoneProgress",{enumerable:!0,get:function(){return zp.WorkDoneProgress}});Object.defineProperty(D,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return zp.WorkDoneProgressCreateRequest}});Object.defineProperty(D,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return zp.WorkDoneProgressCancelNotification}});var Xp=Xy();Object.defineProperty(D,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return Xp.CallHierarchyIncomingCallsRequest}});Object.defineProperty(D,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return Xp.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(D,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return Xp.CallHierarchyPrepareRequest}});var Vi=Qy();Object.defineProperty(D,"SemanticTokenTypes",{enumerable:!0,get:function(){return Vi.SemanticTokenTypes}});Object.defineProperty(D,"SemanticTokenModifiers",{enumerable:!0,get:function(){return Vi.SemanticTokenModifiers}});Object.defineProperty(D,"SemanticTokens",{enumerable:!0,get:function(){return Vi.SemanticTokens}});Object.defineProperty(D,"TokenFormat",{enumerable:!0,get:function(){return Vi.TokenFormat}});Object.defineProperty(D,"SemanticTokensRequest",{enumerable:!0,get:function(){return Vi.SemanticTokensRequest}});Object.defineProperty(D,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Vi.SemanticTokensDeltaRequest}});Object.defineProperty(D,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Vi.SemanticTokensRangeRequest}});Object.defineProperty(D,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Vi.SemanticTokensRefreshRequest}});Object.defineProperty(D,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Vi.SemanticTokensRegistrationType}});var gI=Jy();Object.defineProperty(D,"ShowDocumentRequest",{enumerable:!0,get:function(){return gI.ShowDocumentRequest}});var _I=Zy();Object.defineProperty(D,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return _I.LinkedEditingRangeRequest}});var Gs=eb();Object.defineProperty(D,"FileOperationPatternKind",{enumerable:!0,get:function(){return Gs.FileOperationPatternKind}});Object.defineProperty(D,"DidCreateFilesNotification",{enumerable:!0,get:function(){return Gs.DidCreateFilesNotification}});Object.defineProperty(D,"WillCreateFilesRequest",{enumerable:!0,get:function(){return Gs.WillCreateFilesRequest}});Object.defineProperty(D,"DidRenameFilesNotification",{enumerable:!0,get:function(){return Gs.DidRenameFilesNotification}});Object.defineProperty(D,"WillRenameFilesRequest",{enumerable:!0,get:function(){return Gs.WillRenameFilesRequest}});Object.defineProperty(D,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return Gs.DidDeleteFilesNotification}});Object.defineProperty(D,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return Gs.WillDeleteFilesRequest}});var Qp=tb();Object.defineProperty(D,"UniquenessLevel",{enumerable:!0,get:function(){return Qp.UniquenessLevel}});Object.defineProperty(D,"MonikerKind",{enumerable:!0,get:function(){return Qp.MonikerKind}});Object.defineProperty(D,"MonikerRequest",{enumerable:!0,get:function(){return Qp.MonikerRequest}});var ib;(function(t){function e(n){let r=n;return os.string(r.language)||os.string(r.scheme)||os.string(r.pattern)}t.is=e})(ib=D.DocumentFilter||(D.DocumentFilter={}));var sb;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let r of n)if(!os.string(r)&&!ib.is(r))return!1;return!0}t.is=e})(sb=D.DocumentSelector||(D.DocumentSelector={}));var yI;(function(t){t.type=new Fe.ProtocolRequestType("client/registerCapability")})(yI=D.RegistrationRequest||(D.RegistrationRequest={}));var bI;(function(t){t.type=new Fe.ProtocolRequestType("client/unregisterCapability")})(bI=D.UnregistrationRequest||(D.UnregistrationRequest={}));var TI;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(TI=D.ResourceOperationKind||(D.ResourceOperationKind={}));var vI;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(vI=D.FailureHandlingKind||(D.FailureHandlingKind={}));var NI;(function(t){function e(n){let r=n;return r&&os.string(r.id)&&r.id.length>0}t.hasId=e})(NI=D.StaticRegistrationOptions||(D.StaticRegistrationOptions={}));var CI;(function(t){function e(n){let r=n;return r&&(r.documentSelector===null||sb.is(r.documentSelector))}t.is=e})(CI=D.TextDocumentRegistrationOptions||(D.TextDocumentRegistrationOptions={}));var PI;(function(t){function e(r){let i=r;return os.objectLiteral(i)&&(i.workDoneProgress===void 0||os.boolean(i.workDoneProgress))}t.is=e;function n(r){let i=r;return i&&os.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=n})(PI=D.WorkDoneProgressOptions||(D.WorkDoneProgressOptions={}));var EI;(function(t){t.type=new Fe.ProtocolRequestType("initialize")})(EI=D.InitializeRequest||(D.InitializeRequest={}));var DI;(function(t){t.unknownProtocolVersion=1})(DI=D.InitializeError||(D.InitializeError={}));var AI;(function(t){t.type=new Fe.ProtocolNotificationType("initialized")})(AI=D.InitializedNotification||(D.InitializedNotification={}));var SI;(function(t){t.type=new Fe.ProtocolRequestType0("shutdown")})(SI=D.ShutdownRequest||(D.ShutdownRequest={}));var II;(function(t){t.type=new Fe.ProtocolNotificationType0("exit")})(II=D.ExitNotification||(D.ExitNotification={}));var xI;(function(t){t.type=new Fe.ProtocolNotificationType("workspace/didChangeConfiguration")})(xI=D.DidChangeConfigurationNotification||(D.DidChangeConfigurationNotification={}));var RI;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4})(RI=D.MessageType||(D.MessageType={}));var wI;(function(t){t.type=new Fe.ProtocolNotificationType("window/showMessage")})(wI=D.ShowMessageNotification||(D.ShowMessageNotification={}));var OI;(function(t){t.type=new Fe.ProtocolRequestType("window/showMessageRequest")})(OI=D.ShowMessageRequest||(D.ShowMessageRequest={}));var LI;(function(t){t.type=new Fe.ProtocolNotificationType("window/logMessage")})(LI=D.LogMessageNotification||(D.LogMessageNotification={}));var FI;(function(t){t.type=new Fe.ProtocolNotificationType("telemetry/event")})(FI=D.TelemetryEventNotification||(D.TelemetryEventNotification={}));var MI;(function(t){t.None=0,t.Full=1,t.Incremental=2})(MI=D.TextDocumentSyncKind||(D.TextDocumentSyncKind={}));var kI;(function(t){t.method="textDocument/didOpen",t.type=new Fe.ProtocolNotificationType(t.method)})(kI=D.DidOpenTextDocumentNotification||(D.DidOpenTextDocumentNotification={}));var qI;(function(t){function e(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}t.isIncremental=e;function n(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}t.isFull=n})(qI=D.TextDocumentContentChangeEvent||(D.TextDocumentContentChangeEvent={}));var BI;(function(t){t.method="textDocument/didChange",t.type=new Fe.ProtocolNotificationType(t.method)})(BI=D.DidChangeTextDocumentNotification||(D.DidChangeTextDocumentNotification={}));var VI;(function(t){t.method="textDocument/didClose",t.type=new Fe.ProtocolNotificationType(t.method)})(VI=D.DidCloseTextDocumentNotification||(D.DidCloseTextDocumentNotification={}));var jI;(function(t){t.method="textDocument/didSave",t.type=new Fe.ProtocolNotificationType(t.method)})(jI=D.DidSaveTextDocumentNotification||(D.DidSaveTextDocumentNotification={}));var UI;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(UI=D.TextDocumentSaveReason||(D.TextDocumentSaveReason={}));var WI;(function(t){t.method="textDocument/willSave",t.type=new Fe.ProtocolNotificationType(t.method)})(WI=D.WillSaveTextDocumentNotification||(D.WillSaveTextDocumentNotification={}));var GI;(function(t){t.method="textDocument/willSaveWaitUntil",t.type=new Fe.ProtocolRequestType(t.method)})(GI=D.WillSaveTextDocumentWaitUntilRequest||(D.WillSaveTextDocumentWaitUntilRequest={}));var YI;(function(t){t.type=new Fe.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(YI=D.DidChangeWatchedFilesNotification||(D.DidChangeWatchedFilesNotification={}));var $I;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})($I=D.FileChangeType||(D.FileChangeType={}));var HI;(function(t){t.Create=1,t.Change=2,t.Delete=4})(HI=D.WatchKind||(D.WatchKind={}));var KI;(function(t){t.type=new Fe.ProtocolNotificationType("textDocument/publishDiagnostics")})(KI=D.PublishDiagnosticsNotification||(D.PublishDiagnosticsNotification={}));var zI;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(zI=D.CompletionTriggerKind||(D.CompletionTriggerKind={}));var XI;(function(t){t.method="textDocument/completion",t.type=new Fe.ProtocolRequestType(t.method)})(XI=D.CompletionRequest||(D.CompletionRequest={}));var QI;(function(t){t.method="completionItem/resolve",t.type=new Fe.ProtocolRequestType(t.method)})(QI=D.CompletionResolveRequest||(D.CompletionResolveRequest={}));var JI;(function(t){t.method="textDocument/hover",t.type=new Fe.ProtocolRequestType(t.method)})(JI=D.HoverRequest||(D.HoverRequest={}));var ZI;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(ZI=D.SignatureHelpTriggerKind||(D.SignatureHelpTriggerKind={}));var ex;(function(t){t.method="textDocument/signatureHelp",t.type=new Fe.ProtocolRequestType(t.method)})(ex=D.SignatureHelpRequest||(D.SignatureHelpRequest={}));var tx;(function(t){t.method="textDocument/definition",t.type=new Fe.ProtocolRequestType(t.method)})(tx=D.DefinitionRequest||(D.DefinitionRequest={}));var nx;(function(t){t.method="textDocument/references",t.type=new Fe.ProtocolRequestType(t.method)})(nx=D.ReferencesRequest||(D.ReferencesRequest={}));var rx;(function(t){t.method="textDocument/documentHighlight",t.type=new Fe.ProtocolRequestType(t.method)})(rx=D.DocumentHighlightRequest||(D.DocumentHighlightRequest={}));var ix;(function(t){t.method="textDocument/documentSymbol",t.type=new Fe.ProtocolRequestType(t.method)})(ix=D.DocumentSymbolRequest||(D.DocumentSymbolRequest={}));var sx;(function(t){t.method="textDocument/codeAction",t.type=new Fe.ProtocolRequestType(t.method)})(sx=D.CodeActionRequest||(D.CodeActionRequest={}));var ax;(function(t){t.method="codeAction/resolve",t.type=new Fe.ProtocolRequestType(t.method)})(ax=D.CodeActionResolveRequest||(D.CodeActionResolveRequest={}));var ox;(function(t){t.method="workspace/symbol",t.type=new Fe.ProtocolRequestType(t.method)})(ox=D.WorkspaceSymbolRequest||(D.WorkspaceSymbolRequest={}));var lx;(function(t){t.method="textDocument/codeLens",t.type=new Fe.ProtocolRequestType(t.method)})(lx=D.CodeLensRequest||(D.CodeLensRequest={}));var ux;(function(t){t.method="codeLens/resolve",t.type=new Fe.ProtocolRequestType(t.method)})(ux=D.CodeLensResolveRequest||(D.CodeLensResolveRequest={}));var cx;(function(t){t.method="workspace/codeLens/refresh",t.type=new Fe.ProtocolRequestType0(t.method)})(cx=D.CodeLensRefreshRequest||(D.CodeLensRefreshRequest={}));var fx;(function(t){t.method="textDocument/documentLink",t.type=new Fe.ProtocolRequestType(t.method)})(fx=D.DocumentLinkRequest||(D.DocumentLinkRequest={}));var px;(function(t){t.method="documentLink/resolve",t.type=new Fe.ProtocolRequestType(t.method)})(px=D.DocumentLinkResolveRequest||(D.DocumentLinkResolveRequest={}));var dx;(function(t){t.method="textDocument/formatting",t.type=new Fe.ProtocolRequestType(t.method)})(dx=D.DocumentFormattingRequest||(D.DocumentFormattingRequest={}));var mx;(function(t){t.method="textDocument/rangeFormatting",t.type=new Fe.ProtocolRequestType(t.method)})(mx=D.DocumentRangeFormattingRequest||(D.DocumentRangeFormattingRequest={}));var hx;(function(t){t.method="textDocument/onTypeFormatting",t.type=new Fe.ProtocolRequestType(t.method)})(hx=D.DocumentOnTypeFormattingRequest||(D.DocumentOnTypeFormattingRequest={}));var gx;(function(t){t.Identifier=1})(gx=D.PrepareSupportDefaultBehavior||(D.PrepareSupportDefaultBehavior={}));var _x;(function(t){t.method="textDocument/rename",t.type=new Fe.ProtocolRequestType(t.method)})(_x=D.RenameRequest||(D.RenameRequest={}));var yx;(function(t){t.method="textDocument/prepareRename",t.type=new Fe.ProtocolRequestType(t.method)})(yx=D.PrepareRenameRequest||(D.PrepareRenameRequest={}));var bx;(function(t){t.type=new Fe.ProtocolRequestType("workspace/executeCommand")})(bx=D.ExecuteCommandRequest||(D.ExecuteCommandRequest={}));var Tx;(function(t){t.type=new Fe.ProtocolRequestType("workspace/applyEdit")})(Tx=D.ApplyWorkspaceEditRequest||(D.ApplyWorkspaceEditRequest={}))});var lb=B(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.createProtocolConnection=void 0;var ob=Ma();function vx(t,e,n,r){return ob.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),ob.createMessageConnection(t,e,n,r)}Mu.createProtocolConnection=vx});var ub=B(En=>{"use strict";var Nx=En&&En.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),ku=En&&En.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Nx(e,t,n)};Object.defineProperty(En,"__esModule",{value:!0});En.LSPErrorCodes=En.createProtocolConnection=void 0;ku(Ma(),En);ku(bt(),En);ku(tn(),En);ku(ab(),En);var Cx=lb();Object.defineProperty(En,"createProtocolConnection",{enumerable:!0,get:function(){return Cx.createProtocolConnection}});var Px;(function(t){t.lspReservedErrorRangeStart=-32899,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(Px=En.LSPErrorCodes||(En.LSPErrorCodes={}))});var Mn=B(yi=>{"use strict";var Ex=yi&&yi.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),cb=yi&&yi.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Ex(e,t,n)};Object.defineProperty(yi,"__esModule",{value:!0});yi.createProtocolConnection=void 0;var Dx=Hp();cb(Hp(),yi);cb(ub(),yi);function Ax(t,e,n,r){return Dx.createMessageConnection(t,e,n,r)}yi.createProtocolConnection=Ax});var Jp=B(gr=>{"use strict";Object.defineProperty(gr,"__esModule",{value:!0});gr.generateUuid=gr.parse=gr.isUUID=gr.v4=gr.empty=void 0;var qu=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},je=class extends qu{constructor(){super([je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),"-",je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),"-","4",je._randomHex(),je._randomHex(),je._randomHex(),"-",je._oneOf(je._timeHighBits),je._randomHex(),je._randomHex(),je._randomHex(),"-",je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return je._oneOf(je._chars)}};je._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];je._timeHighBits=["8","9","a","b"];gr.empty=new qu("00000000-0000-0000-0000-000000000000");function fb(){return new je}gr.v4=fb;var Sx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function pb(t){return Sx.test(t)}gr.isUUID=pb;function Ix(t){if(!pb(t))throw new Error("invalid uuid");return new qu(t)}gr.parse=Ix;function xx(){return fb().asHex()}gr.generateUuid=xx});var mb=B(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});us.attachPartialResult=us.ProgressFeature=us.attachWorkDone=void 0;var ls=Mn(),Rx=Jp(),ji=class{constructor(e,n){this._connection=e,this._token=n,ji.Instances.set(this._token,this)}begin(e,n,r,i){let s={kind:"begin",title:e,percentage:n,message:r,cancellable:i};this._connection.sendProgress(ls.WorkDoneProgress.type,this._token,s)}report(e,n){let r={kind:"report"};typeof e=="number"?(r.percentage=e,n!==void 0&&(r.message=n)):r.message=e,this._connection.sendProgress(ls.WorkDoneProgress.type,this._token,r)}done(){ji.Instances.delete(this._token),this._connection.sendProgress(ls.WorkDoneProgress.type,this._token,{kind:"end"})}};ji.Instances=new Map;var Zp=class extends ji{constructor(e,n){super(e,n);this._source=new ls.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},Bu=class{constructor(){}begin(){}report(){}done(){}},ed=class extends Bu{constructor(){super();this._source=new ls.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function wx(t,e){if(e===void 0||e.workDoneToken===void 0)return new Bu;let n=e.workDoneToken;return delete e.workDoneToken,new ji(t,n)}us.attachWorkDone=wx;var Ox=t=>class extends t{constructor(){super();this._progressSupported=!1}initialize(e){var n;((n=e==null?void 0:e.window)===null||n===void 0?void 0:n.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification(ls.WorkDoneProgressCancelNotification.type,r=>{let i=ji.Instances.get(r.token);(i instanceof Zp||i instanceof ed)&&i.cancel()}))}attachWorkDoneProgress(e){return e===void 0?new Bu:new ji(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){let e=Rx.generateUuid();return this.connection.sendRequest(ls.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new Zp(this.connection,e))}else return Promise.resolve(new ed)}};us.ProgressFeature=Ox;var td;(function(t){t.type=new ls.ProgressType})(td||(td={}));var db=class{constructor(e,n){this._connection=e,this._token=n}report(e){this._connection.sendProgress(td.type,this._token,e)}};function Lx(t,e){if(e===void 0||e.partialResultToken===void 0)return;let n=e.partialResultToken;return delete e.partialResultToken,new db(t,n)}us.attachPartialResult=Lx});var hb=B(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.ConfigurationFeature=void 0;var Fx=Mn(),Mx=Au(),kx=t=>class extends t{getConfiguration(e){return e?Mx.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let n={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(Fx.ConfigurationRequest.type,n).then(r=>Array.isArray(e)?r:r[0])}};Vu.ConfigurationFeature=kx});var gb=B(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.WorkspaceFoldersFeature=void 0;var ju=Mn(),qx=t=>class extends t{initialize(e){let n=e.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new ju.Emitter,this.connection.onNotification(ju.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(ju.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(ju.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};Uu.WorkspaceFoldersFeature=qx});var _b=B(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.CallHierarchyFeature=void 0;var nd=Mn(),Bx=t=>class extends t{get callHierarchy(){return{onPrepare:e=>{this.connection.onRequest(nd.CallHierarchyPrepareRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))},onIncomingCalls:e=>{let n=nd.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:e=>{let n=nd.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Wu.CallHierarchyFeature=Bx});var id=B(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.SemanticTokensBuilder=Ba.SemanticTokensFeature=void 0;var rd=Mn(),Vx=t=>class extends t{get semanticTokens(){return{on:e=>{let n=rd.SemanticTokensRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:e=>{let n=rd.SemanticTokensDeltaRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:e=>{let n=rd.SemanticTokensRangeRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Ba.SemanticTokensFeature=Vx;var yb=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,n,r,i,s){let a=e,o=n;this._dataLen>0&&(a-=this._prevLine,a===0&&(o-=this._prevChar)),this._data[this._dataLen++]=a,this._data[this._dataLen++]=o,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=s,this._prevLine=e,this._prevChar=n}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){if(this._prevData!==void 0){let e=this._prevData.length,n=this._data.length,r=0;for(;r<n&&r<e&&this._prevData[r]===this._data[r];)r++;if(r<n&&r<e){let i=0;for(;i<n&&i<e&&this._prevData[e-1-i]===this._data[n-1-i];)i++;let s=this._data.slice(r,n-i);return{resultId:this.id,edits:[{start:r,deleteCount:e-i-r,data:s}]}}else return r<n?{resultId:this.id,edits:[{start:r,deleteCount:0,data:this._data.slice(r)}]}:r<e?{resultId:this.id,edits:[{start:r,deleteCount:e-r}]}:{resultId:this.id,edits:[]}}else return this.build()}};Ba.SemanticTokensBuilder=yb});var bb=B(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.ShowDocumentFeature=void 0;var jx=Mn(),Ux=t=>class extends t{showDocument(e){return this.connection.sendRequest(jx.ShowDocumentRequest.type,e)}};Gu.ShowDocumentFeature=Ux});var Tb=B(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});Yu.FileOperationsFeature=void 0;var Va=Mn(),Wx=t=>class extends t{onDidCreateFiles(e){this.connection.onNotification(Va.DidCreateFilesNotification.type,n=>{e(n)})}onDidRenameFiles(e){this.connection.onNotification(Va.DidRenameFilesNotification.type,n=>{e(n)})}onDidDeleteFiles(e){this.connection.onNotification(Va.DidDeleteFilesNotification.type,n=>{e(n)})}onWillCreateFiles(e){return this.connection.onRequest(Va.WillCreateFilesRequest.type,(n,r)=>e(n,r))}onWillRenameFiles(e){return this.connection.onRequest(Va.WillRenameFilesRequest.type,(n,r)=>e(n,r))}onWillDeleteFiles(e){return this.connection.onRequest(Va.WillDeleteFilesRequest.type,(n,r)=>e(n,r))}};Yu.FileOperationsFeature=Wx});var vb=B($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.LinkedEditingRangeFeature=void 0;var Gx=Mn(),Yx=t=>class extends t{onLinkedEditingRange(e){this.connection.onRequest(Gx.LinkedEditingRangeRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))}};$u.LinkedEditingRangeFeature=Yx});var Nb=B(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.MonikerFeature=void 0;var $x=Mn(),Hx=t=>class extends t{get moniker(){return{on:e=>{let n=$x.MonikerRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Hu.MonikerFeature=Hx});var dd=B(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.createConnection=ze.combineFeatures=ze.combineLanguagesFeatures=ze.combineWorkspaceFeatures=ze.combineWindowFeatures=ze.combineClientFeatures=ze.combineTracerFeatures=ze.combineTelemetryFeatures=ze.combineConsoleFeatures=ze._LanguagesImpl=ze.BulkUnregistration=ze.BulkRegistration=ze.ErrorMessageTracker=ze.TextDocuments=void 0;var ee=Mn(),_r=Au(),sd=Jp(),Me=mb(),Kx=hb(),zx=gb(),Xx=_b(),Qx=id(),Jx=bb(),Zx=Tb(),eR=vb(),tR=Nb();function ad(t){if(t!==null)return t}var Cb=class{constructor(e){this._documents=Object.create(null),this._configuration=e,this._onDidChangeContent=new ee.Emitter,this._onDidOpen=new ee.Emitter,this._onDidClose=new ee.Emitter,this._onDidSave=new ee.Emitter,this._onWillSave=new ee.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._documents[e]}all(){return Object.keys(this._documents).map(e=>this._documents[e])}keys(){return Object.keys(this._documents)}listen(e){e.__textDocumentSync=ee.TextDocumentSyncKind.Full,e.onDidOpenTextDocument(n=>{let r=n.textDocument,i=this._configuration.create(r.uri,r.languageId,r.version,r.text);this._documents[r.uri]=i;let s=Object.freeze({document:i});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)}),e.onDidChangeTextDocument(n=>{let r=n.textDocument,i=n.contentChanges;if(i.length===0)return;let s=this._documents[r.uri],{version:a}=r;if(a==null)throw new Error(`Received document change event for ${r.uri} without valid version identifier`);s=this._configuration.update(s,i,a),this._documents[r.uri]=s,this._onDidChangeContent.fire(Object.freeze({document:s}))}),e.onDidCloseTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&(delete this._documents[n.textDocument.uri],this._onDidClose.fire(Object.freeze({document:r})))}),e.onWillSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onWillSave.fire(Object.freeze({document:r,reason:n.reason}))}),e.onWillSaveTextDocumentWaitUntil((n,r)=>{let i=this._documents[n.textDocument.uri];return i&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:i,reason:n.reason}),r):[]}),e.onDidSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onDidSave.fire(Object.freeze({document:r}))})}};ze.TextDocuments=Cb;var Pb=class{constructor(){this._messages=Object.create(null)}add(e){let n=this._messages[e];n||(n=0),n++,this._messages[e]=n}sendErrors(e){Object.keys(this._messages).forEach(n=>{e.window.showErrorMessage(n)})}};ze.ErrorMessageTracker=Pb;var od=class{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(ee.MessageType.Error,e)}warn(e){this.send(ee.MessageType.Warning,e)}info(e){this.send(ee.MessageType.Info,e)}log(e){this.send(ee.MessageType.Log,e)}send(e,n){this._rawConnection&&this._rawConnection.sendNotification(ee.LogMessageNotification.type,{type:e,message:n})}},Eb=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...n){let r={type:ee.MessageType.Error,message:e,actions:n};return this.connection.sendRequest(ee.ShowMessageRequest.type,r).then(ad)}showWarningMessage(e,...n){let r={type:ee.MessageType.Warning,message:e,actions:n};return this.connection.sendRequest(ee.ShowMessageRequest.type,r).then(ad)}showInformationMessage(e,...n){let r={type:ee.MessageType.Info,message:e,actions:n};return this.connection.sendRequest(ee.ShowMessageRequest.type,r).then(ad)}},Db=Jx.ShowDocumentFeature(Me.ProgressFeature(Eb)),nR;(function(t){function e(){return new ld}t.create=e})(nR=ze.BulkRegistration||(ze.BulkRegistration={}));var ld=class{constructor(){this._registrations=[],this._registered=new Set}add(e,n){let r=_r.string(e)?e:e.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);let i=sd.generateUuid();this._registrations.push({id:i,method:r,registerOptions:n||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}},rR;(function(t){function e(){return new Ku(void 0,[])}t.create=e})(rR=ze.BulkUnregistration||(ze.BulkUnregistration={}));var Ku=class{constructor(e,n){this._connection=e,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let r of this._unregistrations.values())e.push(r);let n={unregisterations:e};this._connection.sendRequest(ee.UnregistrationRequest.type,n).then(void 0,r=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){let n=_r.string(e)?e:e.method,r=this._unregistrations.get(n);if(!r)return!1;let i={unregisterations:[r]};return this._connection.sendRequest(ee.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(n)},s=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}},ud=class{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,n,r){return e instanceof ld?this.registerMany(e):e instanceof Ku?this.registerSingle1(e,n,r):this.registerSingle2(e,n)}registerSingle1(e,n,r){let i=_r.string(n)?n:n.method,s=sd.generateUuid(),a={registrations:[{id:s,method:i,registerOptions:r||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(ee.RegistrationRequest.type,a).then(o=>(e.add({id:s,method:i}),e),o=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(o)))}registerSingle2(e,n){let r=_r.string(e)?e:e.method,i=sd.generateUuid(),s={registrations:[{id:i,method:r,registerOptions:n||{}}]};return this.connection.sendRequest(ee.RegistrationRequest.type,s).then(a=>ee.Disposable.create(()=>{this.unregisterSingle(i,r)}),a=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(a)))}unregisterSingle(e,n){let r={unregisterations:[{id:e,method:n}]};return this.connection.sendRequest(ee.UnregistrationRequest.type,r).then(void 0,i=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)})}registerMany(e){let n=e.asRegistrationParams();return this.connection.sendRequest(ee.RegistrationRequest.type,n).then(()=>new Ku(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}},Ab=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function n(i){return i&&!!i.edit}let r=n(e)?e:{edit:e};return this.connection.sendRequest(ee.ApplyWorkspaceEditRequest.type,r)}},Sb=Zx.FileOperationsFeature(zx.WorkspaceFoldersFeature(Kx.ConfigurationFeature(Ab))),cd=class{constructor(){this._trace=ee.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,n){this._trace!==ee.Trace.Off&&this.connection.sendNotification(ee.LogTraceNotification.type,{message:e,verbose:this._trace===ee.Trace.Verbose?n:void 0})}},fd=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(ee.TelemetryEventNotification.type,e)}},pd=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return Me.attachWorkDone(this.connection,e)}attachPartialResultProgress(e,n){return Me.attachPartialResult(this.connection,n)}};ze._LanguagesImpl=pd;var Ib=tR.MonikerFeature(eR.LinkedEditingRangeFeature(Qx.SemanticTokensFeature(Xx.CallHierarchyFeature(pd))));function xb(t,e){return function(n){return e(t(n))}}ze.combineConsoleFeatures=xb;function Rb(t,e){return function(n){return e(t(n))}}ze.combineTelemetryFeatures=Rb;function wb(t,e){return function(n){return e(t(n))}}ze.combineTracerFeatures=wb;function Ob(t,e){return function(n){return e(t(n))}}ze.combineClientFeatures=Ob;function Lb(t,e){return function(n){return e(t(n))}}ze.combineWindowFeatures=Lb;function Fb(t,e){return function(n){return e(t(n))}}ze.combineWorkspaceFeatures=Fb;function iR(t,e){return function(n){return e(t(n))}}ze.combineLanguagesFeatures=iR;function sR(t,e){function n(i,s,a){return i&&s?a(i,s):i||s}return{__brand:"features",console:n(t.console,e.console,xb),tracer:n(t.tracer,e.tracer,wb),telemetry:n(t.telemetry,e.telemetry,Rb),client:n(t.client,e.client,Ob),window:n(t.window,e.window,Lb),workspace:n(t.workspace,e.workspace,Fb)}}ze.combineFeatures=sR;function aR(t,e,n){let r=n&&n.console?new(n.console(od)):new od,i=t(r);r.rawAttach(i);let s=n&&n.tracer?new(n.tracer(cd)):new cd,a=n&&n.telemetry?new(n.telemetry(fd)):new fd,o=n&&n.client?new(n.client(ud)):new ud,l=n&&n.window?new(n.window(Db)):new Db,u=n&&n.workspace?new(n.workspace(Sb)):new Sb,f=n&&n.languages?new(n.languages(Ib)):new Ib,c=[r,s,a,o,l,u,f];function m(y){return y instanceof Promise?y:_r.thenable(y)?new Promise((_,b)=>{y.then(N=>_(N),N=>b(N))}):Promise.resolve(y)}let g,d,p,h={listen:()=>i.listen(),sendRequest:(y,..._)=>i.sendRequest(_r.string(y)?y:y.method,..._),onRequest:(y,_)=>i.onRequest(y,_),sendNotification:(y,_)=>{let b=_r.string(y)?y:y.method;arguments.length===1?i.sendNotification(b):i.sendNotification(b,_)},onNotification:(y,_)=>i.onNotification(y,_),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:y=>d=y,onInitialized:y=>i.onNotification(ee.InitializedNotification.type,y),onShutdown:y=>g=y,onExit:y=>p=y,get console(){return r},get telemetry(){return a},get tracer(){return s},get client(){return o},get window(){return l},get workspace(){return u},get languages(){return f},onDidChangeConfiguration:y=>i.onNotification(ee.DidChangeConfigurationNotification.type,y),onDidChangeWatchedFiles:y=>i.onNotification(ee.DidChangeWatchedFilesNotification.type,y),__textDocumentSync:void 0,onDidOpenTextDocument:y=>i.onNotification(ee.DidOpenTextDocumentNotification.type,y),onDidChangeTextDocument:y=>i.onNotification(ee.DidChangeTextDocumentNotification.type,y),onDidCloseTextDocument:y=>i.onNotification(ee.DidCloseTextDocumentNotification.type,y),onWillSaveTextDocument:y=>i.onNotification(ee.WillSaveTextDocumentNotification.type,y),onWillSaveTextDocumentWaitUntil:y=>i.onRequest(ee.WillSaveTextDocumentWaitUntilRequest.type,y),onDidSaveTextDocument:y=>i.onNotification(ee.DidSaveTextDocumentNotification.type,y),sendDiagnostics:y=>i.sendNotification(ee.PublishDiagnosticsNotification.type,y),onHover:y=>i.onRequest(ee.HoverRequest.type,(_,b)=>y(_,b,Me.attachWorkDone(i,_),void 0)),onCompletion:y=>i.onRequest(ee.CompletionRequest.type,(_,b)=>y(_,b,Me.attachWorkDone(i,_),Me.attachPartialResult(i,_))),onCompletionResolve:y=>i.onRequest(ee.CompletionResolveRequest.type,y),onSignatureHelp:y=>i.onRequest(ee.SignatureHelpRequest.type,(_,b)=>y(_,b,Me.attachWorkDone(i,_),void 0)),onDeclaration:y=>i.onRequest(ee.DeclarationRequest.type,(_,b)=>y(_,b,Me.attachWorkDone(i,_),Me.attachPartialResult(i,_))),onDefinition:y=>i.onRequest(ee.DefinitionRequest.type,(_,b)=>y(_,b,Me.attachWorkDone(i,_),Me.attachPartialResult(i,_))),onTypeDefinition:y=>i.onRequest(ee.TypeDefinitionRequest.type,(_,b)=>y(_,b,Me.attachWorkDone(i,_),Me.attachPartialResult(i,_))),onImplementation:y=>i.onRequest(ee.ImplementationRequest.type,(_,b)=>y(_,b,Me.attachWorkDone(i,_),Me.attachPartialResult(i,_))),onReferences:y=>i.onRequest(ee.ReferencesRequest.type,(_,b)=>y(_,b,Me.attachWorkDone(i,_),Me.attachPartialResult(i,_))),onDocumentHighlight:y=>i.onRequest(ee.DocumentHighlightRequest.type,(_,b)=>y(_,b,Me.attachWorkDone(i,_),Me.attachPartialResult(i,_))),onDocumentSymbol:y=>i.onRequest(ee.DocumentSymbolRequest.type,(_,b)=>y(_,b,Me.attachWorkDone(i,_),Me.attachPartialResult(i,_))),onWorkspaceSymbol:y=>i.onRequest(ee.WorkspaceSymbolRequest.type,(_,b)=>y(_,b,Me.attachWorkDone(i,_),Me.attachPartialResult(i,_))),onCodeAction:y=>i.onRequest(ee.CodeActionRequest.type,(_,b)=>y(_,b,Me.attachWorkDone(i,_),Me.attachPartialResult(i,_))),onCodeActionResolve:y=>i.onRequest(ee.CodeActionResolveRequest.type,(_,b)=>y(_,b)),onCodeLens:y=>i.onRequest(ee.CodeLensRequest.type,(_,b)=>y(_,b,Me.attachWorkDone(i,_),Me.attachPartialResult(i,_))),onCodeLensResolve:y=>i.onRequest(ee.CodeLensResolveRequest.type,(_,b)=>y(_,b)),onDocumentFormatting:y=>i.onRequest(ee.DocumentFormattingRequest.type,(_,b)=>y(_,b,Me.attachWorkDone(i,_),void 0)),onDocumentRangeFormatting:y=>i.onRequest(ee.DocumentRangeFormattingRequest.type,(_,b)=>y(_,b,Me.attachWorkDone(i,_),void 0)),onDocumentOnTypeFormatting:y=>i.onRequest(ee.DocumentOnTypeFormattingRequest.type,(_,b)=>y(_,b)),onRenameRequest:y=>i.onRequest(ee.RenameRequest.type,(_,b)=>y(_,b,Me.attachWorkDone(i,_),void 0)),onPrepareRename:y=>i.onRequest(ee.PrepareRenameRequest.type,(_,b)=>y(_,b)),onDocumentLinks:y=>i.onRequest(ee.DocumentLinkRequest.type,(_,b)=>y(_,b,Me.attachWorkDone(i,_),Me.attachPartialResult(i,_))),onDocumentLinkResolve:y=>i.onRequest(ee.DocumentLinkResolveRequest.type,(_,b)=>y(_,b)),onDocumentColor:y=>i.onRequest(ee.DocumentColorRequest.type,(_,b)=>y(_,b,Me.attachWorkDone(i,_),Me.attachPartialResult(i,_))),onColorPresentation:y=>i.onRequest(ee.ColorPresentationRequest.type,(_,b)=>y(_,b,Me.attachWorkDone(i,_),Me.attachPartialResult(i,_))),onFoldingRanges:y=>i.onRequest(ee.FoldingRangeRequest.type,(_,b)=>y(_,b,Me.attachWorkDone(i,_),Me.attachPartialResult(i,_))),onSelectionRanges:y=>i.onRequest(ee.SelectionRangeRequest.type,(_,b)=>y(_,b,Me.attachWorkDone(i,_),Me.attachPartialResult(i,_))),onExecuteCommand:y=>i.onRequest(ee.ExecuteCommandRequest.type,(_,b)=>y(_,b,Me.attachWorkDone(i,_),void 0)),dispose:()=>i.dispose()};for(let y of c)y.attach(h);return i.onRequest(ee.InitializeRequest.type,y=>{e.initialize(y),_r.string(y.trace)&&(s.trace=ee.Trace.fromString(y.trace));for(let _ of c)_.initialize(y.capabilities);if(d){let _=d(y,new ee.CancellationTokenSource().token,Me.attachWorkDone(i,y),void 0);return m(_).then(b=>{if(b instanceof ee.ResponseError)return b;let N=b;N||(N={capabilities:{}});let w=N.capabilities;w||(w={},N.capabilities=w),w.textDocumentSync===void 0||w.textDocumentSync===null?w.textDocumentSync=_r.number(h.__textDocumentSync)?h.__textDocumentSync:ee.TextDocumentSyncKind.None:!_r.number(w.textDocumentSync)&&!_r.number(w.textDocumentSync.change)&&(w.textDocumentSync.change=_r.number(h.__textDocumentSync)?h.__textDocumentSync:ee.TextDocumentSyncKind.None);for(let le of c)le.fillServerCapabilities(w);return N})}else{let _={capabilities:{textDocumentSync:ee.TextDocumentSyncKind.None}};for(let b of c)b.fillServerCapabilities(_.capabilities);return _}}),i.onRequest(ee.ShutdownRequest.type,()=>{if(e.shutdownReceived=!0,g)return g(new ee.CancellationTokenSource().token)}),i.onNotification(ee.ExitNotification.type,()=>{try{p&&p()}finally{e.shutdownReceived?e.exit(0):e.exit(1)}}),i.onNotification(ee.SetTraceNotification.type,y=>{s.trace=ee.Trace.fromString(y.value)}),h}ze.createConnection=aR});var kb=B(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});Dn.resolveModulePath=Dn.FileSystem=Dn.resolveGlobalYarnPath=Dn.resolveGlobalNodePath=Dn.resolve=Dn.uriToFilePath=void 0;var oR=require("url"),Jr=require("path"),md=require("fs"),hd=require("child_process");function lR(t){let e=oR.parse(t);if(e.protocol!=="file:"||!e.path)return;let n=e.path.split("/");for(var r=0,i=n.length;r<i;r++)n[r]=decodeURIComponent(n[r]);if(process.platform==="win32"&&n.length>1){let s=n[0],a=n[1];s.length===0&&a.length>1&&a[1]===":"&&n.shift()}return Jr.normalize(n.join("/"))}Dn.uriToFilePath=lR;function gd(){return process.platform==="win32"}function zu(t,e,n,r){let i="NODE_PATH",s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((a,o)=>{let l=process.env,u=Object.create(null);Object.keys(l).forEach(f=>u[f]=l[f]),e&&md.existsSync(e)&&(u[i]?u[i]=e+Jr.delimiter+u[i]:u[i]=e,r&&r(`NODE_PATH value is: ${u[i]}`)),u.ELECTRON_RUN_AS_NODE="1";try{let f=hd.fork("",[],{cwd:n,env:u,execArgv:["-e",s]});if(f.pid===void 0){o(new Error(`Starting process to resolve node module  ${t} failed`));return}f.on("error",m=>{o(m)}),f.on("message",m=>{m.c==="r"&&(f.send({c:"e"}),m.s?a(m.r):o(new Error(`Failed to resolve module: ${t}`)))});let c={c:"rs",a:t};f.send(c)}catch(f){o(f)}})}Dn.resolve=zu;function _d(t){let e="npm",n=Object.create(null);Object.keys(process.env).forEach(s=>n[s]=process.env[s]),n.NO_UPDATE_NOTIFIER="true";let r={encoding:"utf8",env:n};gd()&&(e="npm.cmd",r.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let s=hd.spawnSync(e,["config","get","prefix"],r).stdout;if(!s){t&&t("'npm config get prefix' didn't return a value.");return}let a=s.trim();return t&&t(`'npm config get prefix' value is: ${a}`),a.length>0?gd()?Jr.join(a,"node_modules"):Jr.join(a,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}Dn.resolveGlobalNodePath=_d;function uR(t){let e="yarn",n={encoding:"utf8"};gd()&&(e="yarn.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let i=hd.spawnSync(e,["global","dir","--json"],n),s=i.stdout;if(!s){t&&(t("'yarn global dir' didn't return a value."),i.stderr&&t(i.stderr));return}let a=s.trim().split(/\r?\n/);for(let o of a)try{let l=JSON.parse(o);if(l.type==="log")return Jr.join(l.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",r)}}Dn.resolveGlobalYarnPath=uR;var Mb;(function(t){let e;function n(){return e!==void 0||(process.platform==="win32"?e=!1:e=!md.existsSync(__filename.toUpperCase())||!md.existsSync(__filename.toLowerCase())),e}t.isCaseSensitive=n;function r(i,s){return n()?Jr.normalize(s).indexOf(Jr.normalize(i))===0:Jr.normalize(s).toLowerCase().indexOf(Jr.normalize(i).toLowerCase())===0}t.isParent=r})(Mb=Dn.FileSystem||(Dn.FileSystem={}));function cR(t,e,n,r){return n?(Jr.isAbsolute(n)||(n=Jr.join(t,n)),zu(e,n,n,r).then(i=>Mb.isParent(n,i)?i:Promise.reject(new Error(`Failed to load ${e} from node path location.`))).then(void 0,i=>zu(e,_d(r),t,r))):zu(e,_d(r),t,r)}Dn.resolveModulePath=cR});var yd=B((YV,qb)=>{"use strict";qb.exports=Mn()});var Vb=B(Kn=>{"use strict";var fR=Kn&&Kn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Bb=Kn&&Kn.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&fR(e,t,n)};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.ProposedFeatures=Kn.SemanticTokensBuilder=void 0;var pR=id();Object.defineProperty(Kn,"SemanticTokensBuilder",{enumerable:!0,get:function(){return pR.SemanticTokensBuilder}});Bb(Mn(),Kn);Bb(dd(),Kn);var dR;(function(t){t.all={__brand:"features"}})(dR=Kn.ProposedFeatures||(Kn.ProposedFeatures={}))});var bi=B(zn=>{"use strict";var mR=zn&&zn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),jb=zn&&zn.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&mR(e,t,n)};Object.defineProperty(zn,"__esModule",{value:!0});zn.createConnection=zn.Files=void 0;var bd=Au(),hR=dd(),dl=kb(),Ys=yd();jb(yd(),zn);jb(Vb(),zn);var gR;(function(t){t.uriToFilePath=dl.uriToFilePath,t.resolveGlobalNodePath=dl.resolveGlobalNodePath,t.resolveGlobalYarnPath=dl.resolveGlobalYarnPath,t.resolve=dl.resolve,t.resolveModulePath=dl.resolveModulePath})(gR=zn.Files||(zn.Files={}));var Ub;function Xu(){if(Ub!==void 0)try{Ub.end()}catch{}}var ja=!1,Wb;function _R(){let t="--clientProcessId";function e(n){try{let r=parseInt(n);isNaN(r)||(Wb=setInterval(()=>{try{process.kill(r,0)}catch{Xu(),process.exit(ja?0:1)}},3e3))}catch{}}for(let n=2;n<process.argv.length;n++){let r=process.argv[n];if(r===t&&n+1<process.argv.length){e(process.argv[n+1]);return}else{let i=r.split("=");i[0]===t&&e(i[1])}}}_R();var yR={initialize:t=>{let e=t.processId;bd.number(e)&&Wb===void 0&&setInterval(()=>{try{process.kill(e,0)}catch{process.exit(ja?0:1)}},3e3)},get shutdownReceived(){return ja},set shutdownReceived(t){ja=t},exit:t=>{Xu(),process.exit(t)}};function bR(t,e,n,r){let i,s,a,o;return t!==void 0&&t.__brand==="features"&&(i=t,t=e,e=n,n=r),Ys.ConnectionStrategy.is(t)||Ys.ConnectionOptions.is(t)?o=t:(s=t,a=e,o=n),TR(s,a,o,i)}zn.createConnection=bR;function TR(t,e,n,r){if(!t&&!e&&process.argv.length>2){let o,l,u=process.argv.slice(2);for(let f=0;f<u.length;f++){let c=u[f];if(c==="--node-ipc"){t=new Ys.IPCMessageReader(process),e=new Ys.IPCMessageWriter(process);break}else if(c==="--stdio"){t=process.stdin,e=process.stdout;break}else if(c==="--socket"){o=parseInt(u[f+1]);break}else if(c==="--pipe"){l=u[f+1];break}else{var i=c.split("=");if(i[0]==="--socket"){o=parseInt(i[1]);break}else if(i[0]==="--pipe"){l=i[1];break}}}if(o){let f=Ys.createServerSocketTransport(o);t=f[0],e=f[1]}else if(l){let f=Ys.createServerPipeTransport(l);t=f[0],e=f[1]}}var s="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!t)throw new Error("Connection input stream is not set. "+s);if(!e)throw new Error("Connection output stream is not set. "+s);if(bd.func(t.read)&&bd.func(t.on)){let o=t;o.on("end",()=>{Xu(),process.exit(ja?0:1)}),o.on("close",()=>{Xu(),process.exit(ja?0:1)})}let a=o=>Ys.createProtocolConnection(t,e,o,n);return hR.createConnection(a,yR,r)}});var vs=B(qn=>{"use strict";var Hi={ANCHOR:"&",COMMENT:"#",TAG:"!",DIRECTIVES_END:"-",DOCUMENT_END:"."},Sl={ALIAS:"ALIAS",BLANK_LINE:"BLANK_LINE",BLOCK_FOLDED:"BLOCK_FOLDED",BLOCK_LITERAL:"BLOCK_LITERAL",COMMENT:"COMMENT",DIRECTIVE:"DIRECTIVE",DOCUMENT:"DOCUMENT",FLOW_MAP:"FLOW_MAP",FLOW_SEQ:"FLOW_SEQ",MAP:"MAP",MAP_KEY:"MAP_KEY",MAP_VALUE:"MAP_VALUE",PLAIN:"PLAIN",QUOTE_DOUBLE:"QUOTE_DOUBLE",QUOTE_SINGLE:"QUOTE_SINGLE",SEQ:"SEQ",SEQ_ITEM:"SEQ_ITEM"},j1="tag:yaml.org,2002:",U1={MAP:"tag:yaml.org,2002:map",SEQ:"tag:yaml.org,2002:seq",STR:"tag:yaml.org,2002:str"};function Cv(t){let e=[0],n=t.indexOf(`
`);for(;n!==-1;)n+=1,e.push(n),n=t.indexOf(`
`,n);return e}function Pv(t){let e,n;return typeof t=="string"?(e=Cv(t),n=t):(Array.isArray(t)&&(t=t[0]),t&&t.context&&(t.lineStarts||(t.lineStarts=Cv(t.context.src)),e=t.lineStarts,n=t.context.src)),{lineStarts:e,src:n}}function Nm(t,e){if(typeof t!="number"||t<0)return null;let{lineStarts:n,src:r}=Pv(e);if(!n||!r||t>r.length)return null;for(let s=0;s<n.length;++s){let a=n[s];if(t<a)return{line:s,col:t-n[s-1]+1};if(t===a)return{line:s+1,col:1}}let i=n.length;return{line:i,col:t-n[i-1]+1}}function W1(t,e){let{lineStarts:n,src:r}=Pv(e);if(!n||!(t>=1)||t>n.length)return null;let i=n[t-1],s=n[t];for(;s&&s>i&&r[s-1]===`
`;)--s;return r.slice(i,s)}function G1({start:t,end:e},n,r=80){let i=W1(t.line,n);if(!i)return null;let{col:s}=t;if(i.length>r)if(s<=r-10)i=i.substr(0,r-1)+"\u2026";else{let f=Math.round(r/2);i.length>s+f&&(i=i.substr(0,s+f-1)+"\u2026"),s-=i.length-r,i="\u2026"+i.substr(1-r)}let a=1,o="";e&&(e.line===t.line&&s+(e.col-t.col)<=r+1?a=e.col-t.col:(a=Math.min(i.length+1,r)-s,o="\u2026"));let l=s>1?" ".repeat(s-1):"",u="^".repeat(a);return`${i}
${l}${u}${o}`}var ta=class{static copy(e){return new ta(e.start,e.end)}constructor(e,n){this.start=e,this.end=n||e}isEmpty(){return typeof this.start!="number"||!this.end||this.end<=this.start}setOrigRange(e,n){let{start:r,end:i}=this;if(e.length===0||i<=e[0])return this.origStart=r,this.origEnd=i,n;let s=n;for(;s<e.length&&!(e[s]>r);)++s;this.origStart=r+s;let a=s;for(;s<e.length&&!(e[s]>=i);)++s;return this.origEnd=i+s,a}},pn=class{static addStringTerminator(e,n,r){if(r[r.length-1]===`
`)return r;let i=pn.endOfWhiteSpace(e,n);return i>=e.length||e[i]===`
`?r+`
`:r}static atDocumentBoundary(e,n,r){let i=e[n];if(!i)return!0;let s=e[n-1];if(s&&s!==`
`)return!1;if(r){if(i!==r)return!1}else if(i!==Hi.DIRECTIVES_END&&i!==Hi.DOCUMENT_END)return!1;let a=e[n+1],o=e[n+2];if(a!==i||o!==i)return!1;let l=e[n+3];return!l||l===`
`||l==="	"||l===" "}static endOfIdentifier(e,n){let r=e[n],i=r==="<",s=i?[`
`,"	"," ",">"]:[`
`,"	"," ","[","]","{","}",","];for(;r&&s.indexOf(r)===-1;)r=e[n+=1];return i&&r===">"&&(n+=1),n}static endOfIndent(e,n){let r=e[n];for(;r===" ";)r=e[n+=1];return n}static endOfLine(e,n){let r=e[n];for(;r&&r!==`
`;)r=e[n+=1];return n}static endOfWhiteSpace(e,n){let r=e[n];for(;r==="	"||r===" ";)r=e[n+=1];return n}static startOfLine(e,n){let r=e[n-1];if(r===`
`)return n;for(;r&&r!==`
`;)r=e[n-=1];return n+1}static endOfBlockIndent(e,n,r){let i=pn.endOfIndent(e,r);if(i>r+n)return i;{let s=pn.endOfWhiteSpace(e,i),a=e[s];if(!a||a===`
`)return s}return null}static atBlank(e,n,r){let i=e[n];return i===`
`||i==="	"||i===" "||r&&!i}static nextNodeIsIndented(e,n,r){return!e||n<0?!1:n>0?!0:r&&e==="-"}static normalizeOffset(e,n){let r=e[n];return r?r!==`
`&&e[n-1]===`
`?n-1:pn.endOfWhiteSpace(e,n):n}static foldNewline(e,n,r){let i=0,s=!1,a="",o=e[n+1];for(;o===" "||o==="	"||o===`
`;){switch(o){case`
`:i=0,n+=1,a+=`
`;break;case"	":i<=r&&(s=!0),n=pn.endOfWhiteSpace(e,n+2)-1;break;case" ":i+=1,n+=1;break}o=e[n+1]}return a||(a=" "),o&&i<=r&&(s=!0),{fold:a,offset:n,error:s}}constructor(e,n,r){Object.defineProperty(this,"context",{value:r||null,writable:!0}),this.error=null,this.range=null,this.valueRange=null,this.props=n||[],this.type=e,this.value=null}getPropValue(e,n,r){if(!this.context)return null;let{src:i}=this.context,s=this.props[e];return s&&i[s.start]===n?i.slice(s.start+(r?1:0),s.end):null}get anchor(){for(let e=0;e<this.props.length;++e){let n=this.getPropValue(e,Hi.ANCHOR,!0);if(n!=null)return n}return null}get comment(){let e=[];for(let n=0;n<this.props.length;++n){let r=this.getPropValue(n,Hi.COMMENT,!0);r!=null&&e.push(r)}return e.length>0?e.join(`
`):null}commentHasRequiredWhitespace(e){let{src:n}=this.context;if(this.header&&e===this.header.end||!this.valueRange)return!1;let{end:r}=this.valueRange;return e!==r||pn.atBlank(n,r-1)}get hasComment(){if(this.context){let{src:e}=this.context;for(let n=0;n<this.props.length;++n)if(e[this.props[n].start]===Hi.COMMENT)return!0}return!1}get hasProps(){if(this.context){let{src:e}=this.context;for(let n=0;n<this.props.length;++n)if(e[this.props[n].start]!==Hi.COMMENT)return!0}return!1}get includesTrailingLines(){return!1}get jsonLike(){return[Sl.FLOW_MAP,Sl.FLOW_SEQ,Sl.QUOTE_DOUBLE,Sl.QUOTE_SINGLE].indexOf(this.type)!==-1}get rangeAsLinePos(){if(!this.range||!this.context)return;let e=Nm(this.range.start,this.context.root);if(!e)return;let n=Nm(this.range.end,this.context.root);return{start:e,end:n}}get rawValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange;return this.context.src.slice(e,n)}get tag(){for(let e=0;e<this.props.length;++e){let n=this.getPropValue(e,Hi.TAG,!1);if(n!=null){if(n[1]==="<")return{verbatim:n.slice(2,-1)};{let[r,i,s]=n.match(/^(.*!)([^!]*)$/);return{handle:i,suffix:s}}}}return null}get valueRangeContainsNewline(){if(!this.valueRange||!this.context)return!1;let{start:e,end:n}=this.valueRange,{src:r}=this.context;for(let i=e;i<n;++i)if(r[i]===`
`)return!0;return!1}parseComment(e){let{src:n}=this.context;if(n[e]===Hi.COMMENT){let r=pn.endOfLine(n,e+1),i=new ta(e,r);return this.props.push(i),r}return e}setOrigRanges(e,n){return this.range&&(n=this.range.setOrigRange(e,n)),this.valueRange&&this.valueRange.setOrigRange(e,n),this.props.forEach(r=>r.setOrigRange(e,n)),n}toString(){let{context:{src:e},range:n,value:r}=this;if(r!=null)return r;let i=e.slice(n.start,n.end);return pn.addStringTerminator(e,n.end,i)}},go=class extends Error{constructor(e,n,r){if(!r||!(n instanceof pn))throw new Error(`Invalid arguments for new ${e}`);super();this.name=e,this.message=r,this.source=n}makePretty(){if(!this.source)return;this.nodeType=this.source.type;let e=this.source.context&&this.source.context.root;if(typeof this.offset=="number"){this.range=new ta(this.offset,this.offset+1);let n=e&&Nm(this.offset,e);if(n){let r={line:n.line,col:n.col+1};this.linePos={start:n,end:r}}delete this.offset}else this.range=this.source.range,this.linePos=this.source.rangeAsLinePos;if(this.linePos){let{line:n,col:r}=this.linePos.start;this.message+=` at line ${n}, column ${r}`;let i=e&&G1(this.linePos,e);i&&(this.message+=`:

${i}
`)}delete this.source}},Ev=class extends go{constructor(e,n){super("YAMLReferenceError",e,n)}},Xc=class extends go{constructor(e,n){super("YAMLSemanticError",e,n)}},Dv=class extends go{constructor(e,n){super("YAMLSyntaxError",e,n)}},Av=class extends go{constructor(e,n){super("YAMLWarning",e,n)}};function Y1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Il=class extends pn{static endOfLine(e,n,r){let i=e[n],s=n;for(;i&&i!==`
`&&!(r&&(i==="["||i==="]"||i==="{"||i==="}"||i===","));){let a=e[s+1];if(i===":"&&(!a||a===`
`||a==="	"||a===" "||r&&a===",")||(i===" "||i==="	")&&a==="#")break;s+=1,i=a}return s}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange,{src:r}=this.context,i=r[n-1];for(;e<n&&(i===`
`||i==="	"||i===" ");)i=r[--n-1];let s="";for(let o=e;o<n;++o){let l=r[o];if(l===`
`){let{fold:u,offset:f}=pn.foldNewline(r,o,-1);s+=u,o=f}else if(l===" "||l==="	"){let u=o,f=r[o+1];for(;o<n&&(f===" "||f==="	");)o+=1,f=r[o+1];f!==`
`&&(s+=o>u?r.slice(u,o+1):l)}else s+=l}let a=r[e];switch(a){case"	":{let o="Plain value cannot start with a tab character";return{errors:[new Xc(this,o)],str:s}}case"@":case"`":{let o=`Plain value cannot start with reserved character ${a}`;return{errors:[new Xc(this,o)],str:s}}default:return s}}parseBlockValue(e){let{indent:n,inFlow:r,src:i}=this.context,s=e,a=e;for(let o=i[s];o===`
`&&!pn.atDocumentBoundary(i,s+1);o=i[s]){let l=pn.endOfBlockIndent(i,n,s+1);if(l===null||i[l]==="#")break;i[l]===`
`?s=l:(a=Il.endOfLine(i,l,r),s=a)}return this.valueRange.isEmpty()&&(this.valueRange.start=e),this.valueRange.end=a,a}parse(e,n){this.context=e;let{inFlow:r,src:i}=e,s=n,a=i[s];return a&&a!=="#"&&a!==`
`&&(s=Il.endOfLine(i,n,r)),this.valueRange=new ta(n,s),s=pn.endOfWhiteSpace(i,s),s=this.parseComment(s),(!this.hasComment||this.valueRange.isEmpty())&&(s=this.parseBlockValue(s)),s}};qn.Char=Hi;qn.Node=pn;qn.PlainValue=Il;qn.Range=ta;qn.Type=Sl;qn.YAMLError=go;qn.YAMLReferenceError=Ev;qn.YAMLSemanticError=Xc;qn.YAMLSyntaxError=Dv;qn.YAMLWarning=Av;qn._defineProperty=Y1;qn.defaultTagPrefix=j1;qn.defaultTags=U1});var Ov=B(wv=>{"use strict";var k=vs(),_o=class extends k.Node{constructor(){super(k.Type.BLANK_LINE)}get includesTrailingLines(){return!0}parse(e,n){return this.context=e,this.range=new k.Range(n,n+1),n+1}},Qc=class extends k.Node{constructor(e,n){super(e,n);this.node=null}get includesTrailingLines(){return!!this.node&&this.node.includesTrailingLines}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,{atLineStart:s,lineStart:a}=e;!s&&this.type===k.Type.SEQ_ITEM&&(this.error=new k.YAMLSemanticError(this,"Sequence items must not have preceding content on the same line"));let o=s?n-a:e.indent,l=k.Node.endOfWhiteSpace(i,n+1),u=i[l],f=u==="#",c=[],m=null;for(;u===`
`||u==="#";){if(u==="#"){let d=k.Node.endOfLine(i,l+1);c.push(new k.Range(l,d)),l=d}else{s=!0,a=l+1;let d=k.Node.endOfWhiteSpace(i,a);i[d]===`
`&&c.length===0&&(m=new _o,a=m.parse({src:i},a)),l=k.Node.endOfIndent(i,a)}u=i[l]}if(k.Node.nextNodeIsIndented(u,l-(a+o),this.type!==k.Type.SEQ_ITEM)?this.node=r({atLineStart:s,inCollection:!1,indent:o,lineStart:a,parent:this},l):u&&a>n+1&&(l=a-1),this.node){if(m){let d=e.parent.items||e.parent.contents;d&&d.push(m)}c.length&&Array.prototype.push.apply(this.props,c),l=this.node.range.end}else if(f){let d=c[0];this.props.push(d),l=d.end}else l=k.Node.endOfLine(i,n+1);let g=this.node?this.node.valueRange.end:l;return this.valueRange=new k.Range(n,g),l}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.node?this.node.setOrigRanges(e,n):n}toString(){let{context:{src:e},node:n,range:r,value:i}=this;if(i!=null)return i;let s=n?e.slice(r.start,n.range.start)+String(n):e.slice(r.start,r.end);return k.Node.addStringTerminator(e,r.end,s)}},yo=class extends k.Node{constructor(){super(k.Type.COMMENT)}parse(e,n){this.context=e;let r=this.parseComment(n);return this.range=new k.Range(n,r),r}};function Cm(t){let e=t;for(;e instanceof Qc;)e=e.node;if(!(e instanceof bo))return null;let n=e.items.length,r=-1;for(let a=n-1;a>=0;--a){let o=e.items[a];if(o.type===k.Type.COMMENT){let{indent:l,lineStart:u}=o.context;if(l>0&&o.range.start>=u+l)break;r=a}else if(o.type===k.Type.BLANK_LINE)r=a;else break}if(r===-1)return null;let i=e.items.splice(r,n-r),s=i[0].range.start;for(;e.range.end=s,e.valueRange&&e.valueRange.end>s&&(e.valueRange.end=s),e!==t;)e=e.context.parent;return i}var bo=class extends k.Node{static nextContentHasIndent(e,n,r){let i=k.Node.endOfLine(e,n)+1;n=k.Node.endOfWhiteSpace(e,i);let s=e[n];return s?n>=i+r?!0:s!=="#"&&s!==`
`?!1:bo.nextContentHasIndent(e,n,r):!1}constructor(e){super(e.type===k.Type.SEQ_ITEM?k.Type.SEQ:k.Type.MAP);for(let r=e.props.length-1;r>=0;--r)if(e.props[r].start<e.context.lineStart){this.props=e.props.slice(0,r+1),e.props=e.props.slice(r+1);let i=e.props[0]||e.valueRange;e.range.start=i.start;break}this.items=[e];let n=Cm(e);n&&Array.prototype.push.apply(this.items,n)}get includesTrailingLines(){return this.items.length>0}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,s=k.Node.startOfLine(i,n),a=this.items[0];a.context.parent=this,this.valueRange=k.Range.copy(a.valueRange);let o=a.range.start-a.context.lineStart,l=n;l=k.Node.normalizeOffset(i,l);let u=i[l],f=k.Node.endOfWhiteSpace(i,s)===l,c=!1;for(;u;){for(;u===`
`||u==="#";){if(f&&u===`
`&&!c){let d=new _o;if(l=d.parse({src:i},l),this.valueRange.end=l,l>=i.length){u=null;break}this.items.push(d),l-=1}else if(u==="#"){if(l<s+o&&!bo.nextContentHasIndent(i,l,o))return l;let d=new yo;if(l=d.parse({indent:o,lineStart:s,src:i},l),this.items.push(d),this.valueRange.end=l,l>=i.length){u=null;break}}if(s=l+1,l=k.Node.endOfIndent(i,s),k.Node.atBlank(i,l)){let d=k.Node.endOfWhiteSpace(i,l),p=i[d];(!p||p===`
`||p==="#")&&(l=d)}u=i[l],f=!0}if(!u)break;if(l!==s+o&&(f||u!==":")){if(l<s+o){s>n&&(l=s);break}else if(!this.error){let d="All collection items must start at the same column";this.error=new k.YAMLSyntaxError(this,d)}}if(a.type===k.Type.SEQ_ITEM){if(u!=="-"){s>n&&(l=s);break}}else if(u==="-"&&!this.error){let d=i[l+1];if(!d||d===`
`||d==="	"||d===" "){let p="A collection cannot be both a mapping and a sequence";this.error=new k.YAMLSyntaxError(this,p)}}let m=r({atLineStart:f,inCollection:!0,indent:o,lineStart:s,parent:this},l);if(!m)return l;if(this.items.push(m),this.valueRange.end=m.valueRange.end,l=k.Node.normalizeOffset(i,m.range.end),u=i[l],f=!1,c=m.includesTrailingLines,u){let d=l-1,p=i[d];for(;p===" "||p==="	";)p=i[--d];p===`
`&&(s=d+1,f=!0)}let g=Cm(m);g&&Array.prototype.push.apply(this.items,g)}return l}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.items.forEach(r=>{n=r.setOrigRanges(e,n)}),n}toString(){let{context:{src:e},items:n,range:r,value:i}=this;if(i!=null)return i;let s=e.slice(r.start,n[0].range.start)+String(n[0]);for(let a=1;a<n.length;++a){let o=n[a],{atLineStart:l,indent:u}=o.context;if(l)for(let f=0;f<u;++f)s+=" ";s+=String(o)}return k.Node.addStringTerminator(e,r.end,s)}},Sv=class extends k.Node{constructor(){super(k.Type.DIRECTIVE);this.name=null}get parameters(){let e=this.rawValue;return e?e.trim().split(/[ \t]+/):[]}parseName(e){let{src:n}=this.context,r=e,i=n[r];for(;i&&i!==`
`&&i!=="	"&&i!==" ";)i=n[r+=1];return this.name=n.slice(e,r),r}parseParameters(e){let{src:n}=this.context,r=e,i=n[r];for(;i&&i!==`
`&&i!=="#";)i=n[r+=1];return this.valueRange=new k.Range(e,r),r}parse(e,n){this.context=e;let r=this.parseName(n+1);return r=this.parseParameters(r),r=this.parseComment(r),this.range=new k.Range(n,r),r}},xl=class extends k.Node{static startCommentOrEndBlankLine(e,n){let r=k.Node.endOfWhiteSpace(e,n),i=e[r];return i==="#"||i===`
`?r:n}constructor(){super(k.Type.DOCUMENT);this.directives=null,this.contents=null,this.directivesEndMarker=null,this.documentEndMarker=null}parseDirectives(e){let{src:n}=this.context;this.directives=[];let r=!0,i=!1,s=e;for(;!k.Node.atDocumentBoundary(n,s,k.Char.DIRECTIVES_END);)switch(s=xl.startCommentOrEndBlankLine(n,s),n[s]){case`
`:if(r){let a=new _o;s=a.parse({src:n},s),s<n.length&&this.directives.push(a)}else s+=1,r=!0;break;case"#":{let a=new yo;s=a.parse({src:n},s),this.directives.push(a),r=!1}break;case"%":{let a=new Sv;s=a.parse({parent:this,src:n},s),this.directives.push(a),i=!0,r=!1}break;default:return i?this.error=new k.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s}return n[s]?(this.directivesEndMarker=new k.Range(s,s+3),s+3):(i?this.error=new k.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s)}parseContents(e){let{parseNode:n,src:r}=this.context;this.contents||(this.contents=[]);let i=e;for(;r[i-1]==="-";)i-=1;let s=k.Node.endOfWhiteSpace(r,e),a=i===e;for(this.valueRange=new k.Range(s);!k.Node.atDocumentBoundary(r,s,k.Char.DOCUMENT_END);){switch(r[s]){case`
`:if(a){let o=new _o;s=o.parse({src:r},s),s<r.length&&this.contents.push(o)}else s+=1,a=!0;i=s;break;case"#":{let o=new yo;s=o.parse({src:r},s),this.contents.push(o),a=!1}break;default:{let o=k.Node.endOfIndent(r,s),u=n({atLineStart:a,indent:-1,inFlow:!1,inCollection:!1,lineStart:i,parent:this},o);if(!u)return this.valueRange.end=o;this.contents.push(u),s=u.range.end,a=!1;let f=Cm(u);f&&Array.prototype.push.apply(this.contents,f)}}s=xl.startCommentOrEndBlankLine(r,s)}if(this.valueRange.end=s,r[s]&&(this.documentEndMarker=new k.Range(s,s+3),s+=3,r[s])){if(s=k.Node.endOfWhiteSpace(r,s),r[s]==="#"){let o=new yo;s=o.parse({src:r},s),this.contents.push(o)}switch(r[s]){case`
`:s+=1;break;case void 0:break;default:this.error=new k.YAMLSyntaxError(this,"Document end marker line cannot have a non-comment suffix")}}return s}parse(e,n){e.root=this,this.context=e;let{src:r}=e,i=r.charCodeAt(n)===65279?n+1:n;return i=this.parseDirectives(i),i=this.parseContents(i),i}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.directives.forEach(r=>{n=r.setOrigRanges(e,n)}),this.directivesEndMarker&&(n=this.directivesEndMarker.setOrigRange(e,n)),this.contents.forEach(r=>{n=r.setOrigRanges(e,n)}),this.documentEndMarker&&(n=this.documentEndMarker.setOrigRange(e,n)),n}toString(){let{contents:e,directives:n,value:r}=this;if(r!=null)return r;let i=n.join("");return e.length>0&&((n.length>0||e[0].type===k.Type.COMMENT)&&(i+=`---
`),i+=e.join("")),i[i.length-1]!==`
`&&(i+=`
`),i}},Iv=class extends k.Node{parse(e,n){this.context=e;let{src:r}=e,i=k.Node.endOfIdentifier(r,n+1);return this.valueRange=new k.Range(n+1,i),i=k.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i}},Ns={CLIP:"CLIP",KEEP:"KEEP",STRIP:"STRIP"},xv=class extends k.Node{constructor(e,n){super(e,n);this.blockIndent=null,this.chomping=Ns.CLIP,this.header=null}get includesTrailingLines(){return this.chomping===Ns.KEEP}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange,{indent:r,src:i}=this.context;if(this.valueRange.isEmpty())return"";let s=null,a=i[n-1];for(;a===`
`||a==="	"||a===" ";){if(n-=1,n<=e){if(this.chomping===Ns.KEEP)break;return""}a===`
`&&(s=n),a=i[n-1]}let o=n+1;s&&(this.chomping===Ns.KEEP?(o=s,n=this.valueRange.end):n=s);let l=r+this.blockIndent,u=this.type===k.Type.BLOCK_FOLDED,f=!0,c="",m="",g=!1;for(let d=e;d<n;++d){for(let h=0;h<l&&i[d]===" ";++h)d+=1;let p=i[d];if(p===`
`)m===`
`?c+=`
`:m=`
`;else{let h=k.Node.endOfLine(i,d),y=i.slice(d,h);d=h,u&&(p===" "||p==="	")&&d<o?(m===" "?m=`
`:!g&&!f&&m===`
`&&(m=`

`),c+=m+y,m=h<n&&i[h]||"",g=!0):(c+=m+y,m=u&&d<o?" ":`
`,g=!1),f&&y!==""&&(f=!1)}}return this.chomping===Ns.STRIP?c:c+`
`}parseBlockHeader(e){let{src:n}=this.context,r=e+1,i="";for(;;){let s=n[r];switch(s){case"-":this.chomping=Ns.STRIP;break;case"+":this.chomping=Ns.KEEP;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":i+=s;break;default:return this.blockIndent=Number(i)||null,this.header=new k.Range(e,r),r}r+=1}}parseBlockValue(e){let{indent:n,src:r}=this.context,i=!!this.blockIndent,s=e,a=e,o=1;for(let l=r[s];l===`
`&&(s+=1,!k.Node.atDocumentBoundary(r,s));l=r[s]){let u=k.Node.endOfBlockIndent(r,n,s);if(u===null)break;let f=r[u],c=u-(s+n);if(this.blockIndent){if(f&&f!==`
`&&c<this.blockIndent){if(r[u]==="#")break;if(!this.error){let g=`Block scalars must not be less indented than their ${i?"explicit indentation indicator":"first line"}`;this.error=new k.YAMLSemanticError(this,g)}}}else if(r[u]!==`
`){if(c<o){let m="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";this.error=new k.YAMLSemanticError(this,m)}this.blockIndent=c}else c>o&&(o=c);r[u]===`
`?s=u:s=a=k.Node.endOfLine(r,u)}return this.chomping!==Ns.KEEP&&(s=r[a]?a+1:a),this.valueRange=new k.Range(e+1,s),s}parse(e,n){this.context=e;let{src:r}=e,i=this.parseBlockHeader(n);return i=k.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i=this.parseBlockValue(i),i}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.header?this.header.setOrigRange(e,n):n}},Rv=class extends k.Node{constructor(e,n){super(e,n);this.items=null}prevNodeIsJsonLike(e=this.items.length){let n=this.items[e-1];return!!n&&(n.jsonLike||n.type===k.Type.COMMENT&&this.prevNodeIsJsonLike(e-1))}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,{indent:s,lineStart:a}=e,o=i[n];this.items=[{char:o,offset:n}];let l=k.Node.endOfWhiteSpace(i,n+1);for(o=i[l];o&&o!=="]"&&o!=="}";){switch(o){case`
`:{a=l+1;let u=k.Node.endOfWhiteSpace(i,a);if(i[u]===`
`){let f=new _o;a=f.parse({src:i},a),this.items.push(f)}if(l=k.Node.endOfIndent(i,a),l<=a+s&&(o=i[l],l<a+s||o!=="]"&&o!=="}")){let f="Insufficient indentation in flow collection";this.error=new k.YAMLSemanticError(this,f)}}break;case",":this.items.push({char:o,offset:l}),l+=1;break;case"#":{let u=new yo;l=u.parse({src:i},l),this.items.push(u)}break;case"?":case":":{let u=i[l+1];if(u===`
`||u==="	"||u===" "||u===","||o===":"&&this.prevNodeIsJsonLike()){this.items.push({char:o,offset:l}),l+=1;break}}default:{let u=r({atLineStart:!1,inCollection:!1,inFlow:!0,indent:-1,lineStart:a,parent:this},l);if(!u)return this.valueRange=new k.Range(n,l),l;this.items.push(u),l=k.Node.normalizeOffset(i,u.range.end)}}l=k.Node.endOfWhiteSpace(i,l),o=i[l]}return this.valueRange=new k.Range(n,l+1),o&&(this.items.push({char:o,offset:l}),l=k.Node.endOfWhiteSpace(i,l+1),l=this.parseComment(l)),l}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.items.forEach(r=>{if(r instanceof k.Node)n=r.setOrigRanges(e,n);else if(e.length===0)r.origOffset=r.offset;else{let i=n;for(;i<e.length&&!(e[i]>r.offset);)++i;r.origOffset=r.offset+i,n=i}}),n}toString(){let{context:{src:e},items:n,range:r,value:i}=this;if(i!=null)return i;let s=n.filter(l=>l instanceof k.Node),a="",o=r.start;return s.forEach(l=>{let u=e.slice(o,l.range.start);o=l.range.end,a+=u+String(l),a[a.length-1]===`
`&&e[o-1]!==`
`&&e[o]===`
`&&(o+=1)}),a+=e.slice(o,r.end),k.Node.addStringTerminator(e,r.end,a)}},Jc=class extends k.Node{static endOfQuote(e,n){let r=e[n];for(;r&&r!=='"';)n+=r==="\\"?2:1,r=e[n];return n+1}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:n,end:r}=this.valueRange,{indent:i,src:s}=this.context;s[r-1]!=='"'&&e.push(new k.YAMLSyntaxError(this,'Missing closing "quote'));let a="";for(let o=n+1;o<r-1;++o){let l=s[o];if(l===`
`){k.Node.atDocumentBoundary(s,o+1)&&e.push(new k.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:u,offset:f,error:c}=k.Node.foldNewline(s,o,i);a+=u,o=f,c&&e.push(new k.YAMLSemanticError(this,"Multi-line double-quoted string needs to be sufficiently indented"))}else if(l==="\\")switch(o+=1,s[o]){case"0":a+="\0";break;case"a":a+="\x07";break;case"b":a+="\b";break;case"e":a+="\x1B";break;case"f":a+="\f";break;case"n":a+=`
`;break;case"r":a+="\r";break;case"t":a+="	";break;case"v":a+="\v";break;case"N":a+="\x85";break;case"_":a+="\xA0";break;case"L":a+="\u2028";break;case"P":a+="\u2029";break;case" ":a+=" ";break;case'"':a+='"';break;case"/":a+="/";break;case"\\":a+="\\";break;case"	":a+="	";break;case"x":a+=this.parseCharCode(o+1,2,e),o+=2;break;case"u":a+=this.parseCharCode(o+1,4,e),o+=4;break;case"U":a+=this.parseCharCode(o+1,8,e),o+=8;break;case`
`:for(;s[o+1]===" "||s[o+1]==="	";)o+=1;break;default:e.push(new k.YAMLSyntaxError(this,`Invalid escape sequence ${s.substr(o-1,2)}`)),a+="\\"+s[o]}else if(l===" "||l==="	"){let u=o,f=s[o+1];for(;f===" "||f==="	";)o+=1,f=s[o+1];f!==`
`&&(a+=o>u?s.slice(u,o+1):l)}else a+=l}return e.length>0?{errors:e,str:a}:a}parseCharCode(e,n,r){let{src:i}=this.context,s=i.substr(e,n),o=s.length===n&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;return isNaN(o)?(r.push(new k.YAMLSyntaxError(this,`Invalid escape sequence ${i.substr(e-2,n+2)}`)),i.substr(e-2,n+2)):String.fromCodePoint(o)}parse(e,n){this.context=e;let{src:r}=e,i=Jc.endOfQuote(r,n+1);return this.valueRange=new k.Range(n,i),i=k.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i}},Zc=class extends k.Node{static endOfQuote(e,n){let r=e[n];for(;r;)if(r==="'"){if(e[n+1]!=="'")break;r=e[n+=2]}else r=e[n+=1];return n+1}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:n,end:r}=this.valueRange,{indent:i,src:s}=this.context;s[r-1]!=="'"&&e.push(new k.YAMLSyntaxError(this,"Missing closing 'quote"));let a="";for(let o=n+1;o<r-1;++o){let l=s[o];if(l===`
`){k.Node.atDocumentBoundary(s,o+1)&&e.push(new k.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:u,offset:f,error:c}=k.Node.foldNewline(s,o,i);a+=u,o=f,c&&e.push(new k.YAMLSemanticError(this,"Multi-line single-quoted string needs to be sufficiently indented"))}else if(l==="'")a+=l,o+=1,s[o]!=="'"&&e.push(new k.YAMLSyntaxError(this,"Unescaped single quote? This should not happen."));else if(l===" "||l==="	"){let u=o,f=s[o+1];for(;f===" "||f==="	";)o+=1,f=s[o+1];f!==`
`&&(a+=o>u?s.slice(u,o+1):l)}else a+=l}return e.length>0?{errors:e,str:a}:a}parse(e,n){this.context=e;let{src:r}=e,i=Zc.endOfQuote(r,n+1);return this.valueRange=new k.Range(n,i),i=k.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i}};function $1(t,e){switch(t){case k.Type.ALIAS:return new Iv(t,e);case k.Type.BLOCK_FOLDED:case k.Type.BLOCK_LITERAL:return new xv(t,e);case k.Type.FLOW_MAP:case k.Type.FLOW_SEQ:return new Rv(t,e);case k.Type.MAP_KEY:case k.Type.MAP_VALUE:case k.Type.SEQ_ITEM:return new Qc(t,e);case k.Type.COMMENT:case k.Type.PLAIN:return new k.PlainValue(t,e);case k.Type.QUOTE_DOUBLE:return new Jc(t,e);case k.Type.QUOTE_SINGLE:return new Zc(t,e);default:return null}}var To=class{static parseType(e,n,r){switch(e[n]){case"*":return k.Type.ALIAS;case">":return k.Type.BLOCK_FOLDED;case"|":return k.Type.BLOCK_LITERAL;case"{":return k.Type.FLOW_MAP;case"[":return k.Type.FLOW_SEQ;case"?":return!r&&k.Node.atBlank(e,n+1,!0)?k.Type.MAP_KEY:k.Type.PLAIN;case":":return!r&&k.Node.atBlank(e,n+1,!0)?k.Type.MAP_VALUE:k.Type.PLAIN;case"-":return!r&&k.Node.atBlank(e,n+1,!0)?k.Type.SEQ_ITEM:k.Type.PLAIN;case'"':return k.Type.QUOTE_DOUBLE;case"'":return k.Type.QUOTE_SINGLE;default:return k.Type.PLAIN}}constructor(e={},{atLineStart:n,inCollection:r,inFlow:i,indent:s,lineStart:a,parent:o}={}){k._defineProperty(this,"parseNode",(l,u)=>{if(k.Node.atDocumentBoundary(this.src,u))return null;let f=new To(this,l),{props:c,type:m,valueStart:g}=f.parseProps(u),d=$1(m,c),p=d.parse(f,g);if(d.range=new k.Range(u,p),p<=u&&(d.error=new Error("Node#parse consumed no characters"),d.error.parseEnd=p,d.error.source=d,d.range.end=u+1),f.nodeStartsCollection(d)){!d.error&&!f.atLineStart&&f.parent.type===k.Type.DOCUMENT&&(d.error=new k.YAMLSyntaxError(d,"Block collection must not have preceding content here (e.g. directives-end indicator)"));let h=new bo(d);return p=h.parse(new To(f),p),h.range=new k.Range(u,p),h}return d}),this.atLineStart=n??(e.atLineStart||!1),this.inCollection=r??(e.inCollection||!1),this.inFlow=i??(e.inFlow||!1),this.indent=s??e.indent,this.lineStart=a??e.lineStart,this.parent=o??(e.parent||{}),this.root=e.root,this.src=e.src}nodeStartsCollection(e){let{inCollection:n,inFlow:r,src:i}=this;if(n||r)return!1;if(e instanceof Qc)return!0;let s=e.range.end;return i[s]===`
`||i[s-1]===`
`?!1:(s=k.Node.endOfWhiteSpace(i,s),i[s]===":")}parseProps(e){let{inFlow:n,parent:r,src:i}=this,s=[],a=!1;e=this.atLineStart?k.Node.endOfIndent(i,e):k.Node.endOfWhiteSpace(i,e);let o=i[e];for(;o===k.Char.ANCHOR||o===k.Char.COMMENT||o===k.Char.TAG||o===`
`;){if(o===`
`){let u=e,f;do f=u+1,u=k.Node.endOfIndent(i,f);while(i[u]===`
`);let c=u-(f+this.indent),m=r.type===k.Type.SEQ_ITEM&&r.context.atLineStart;if(i[u]!=="#"&&!k.Node.nextNodeIsIndented(i[u],c,!m))break;this.atLineStart=!0,this.lineStart=f,a=!1,e=u}else if(o===k.Char.COMMENT){let u=k.Node.endOfLine(i,e+1);s.push(new k.Range(e,u)),e=u}else{let u=k.Node.endOfIdentifier(i,e+1);o===k.Char.TAG&&i[u]===","&&/^[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+,\d\d\d\d(-\d\d){0,2}\/\S/.test(i.slice(e+1,u+13))&&(u=k.Node.endOfIdentifier(i,u+5)),s.push(new k.Range(e,u)),a=!0,e=k.Node.endOfWhiteSpace(i,u)}o=i[e]}a&&o===":"&&k.Node.atBlank(i,e+1,!0)&&(e-=1);let l=To.parseType(i,e,n);return{props:s,type:l,valueStart:e}}};function H1(t){let e=[];t.indexOf("\r")!==-1&&(t=t.replace(/\r\n?/g,(i,s)=>(i.length>1&&e.push(s),`
`)));let n=[],r=0;do{let i=new xl,s=new To({src:t});r=i.parse(s,r),n.push(i)}while(r<t.length);return n.setOrigRanges=()=>{if(e.length===0)return!1;for(let s=1;s<e.length;++s)e[s]-=s;let i=0;for(let s=0;s<n.length;++s)i=n[s].setOrigRanges(e,i);return e.splice(0,e.length),!0},n.toString=()=>n.join(`...
`),n}wv.parse=H1});var No=B(vt=>{"use strict";var G=vs();function K1(t,e,n){return n?`#${n.replace(/[\s\S]^/gm,`$&${e}#`)}
${e}${t}`:t}function vo(t,e,n){return n?n.indexOf(`
`)===-1?`${t} #${n}`:`${t}
`+n.replace(/^/gm,`${e||""}#`):t}var Tr=class{};function Cs(t,e,n){if(Array.isArray(t))return t.map((r,i)=>Cs(r,String(i),n));if(t&&typeof t.toJSON=="function"){let r=n&&n.anchors&&n.anchors.get(t);r&&(n.onCreate=s=>{r.res=s,delete n.onCreate});let i=t.toJSON(e,n);return r&&n.onCreate&&n.onCreate(i),i}return(!n||!n.keep)&&typeof t=="bigint"?Number(t):t}var An=class extends Tr{constructor(e){super();this.value=e}toJSON(e,n){return n&&n.keep?this.value:Cs(this.value,e,n)}toString(){return String(this.value)}};function Lv(t,e,n){let r=n;for(let i=e.length-1;i>=0;--i){let s=e[i];if(Number.isInteger(s)&&s>=0){let a=[];a[s]=r,r=a}else{let a={};Object.defineProperty(a,s,{value:r,writable:!0,enumerable:!0,configurable:!0}),r=a}}return t.createNode(r,!1)}var Fv=t=>t==null||typeof t=="object"&&t[Symbol.iterator]().next().done,$t=class extends Tr{constructor(e){super();G._defineProperty(this,"items",[]),this.schema=e}addIn(e,n){if(Fv(e))this.add(n);else{let[r,...i]=e,s=this.get(r,!0);if(s instanceof $t)s.addIn(i,n);else if(s===void 0&&this.schema)this.set(r,Lv(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn([e,...n]){if(n.length===0)return this.delete(e);let r=this.get(e,!0);if(r instanceof $t)return r.deleteIn(n);throw new Error(`Expected YAML collection at ${e}. Remaining path: ${n}`)}getIn([e,...n],r){let i=this.get(e,!0);return n.length===0?!r&&i instanceof An?i.value:i:i instanceof $t?i.getIn(n,r):void 0}hasAllNullValues(){return this.items.every(e=>{if(!e||e.type!=="PAIR")return!1;let n=e.value;return n==null||n instanceof An&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn([e,...n]){if(n.length===0)return this.has(e);let r=this.get(e,!0);return r instanceof $t?r.hasIn(n):!1}setIn([e,...n],r){if(n.length===0)this.set(e,r);else{let i=this.get(e,!0);if(i instanceof $t)i.setIn(n,r);else if(i===void 0&&this.schema)this.set(e,Lv(this.schema,n,r));else throw new Error(`Expected YAML collection at ${e}. Remaining path: ${n}`)}}toJSON(){return null}toString(e,{blockItem:n,flowChars:r,isMap:i,itemIndent:s},a,o){let{indent:l,indentStep:u,stringify:f}=e,c=this.type===G.Type.FLOW_MAP||this.type===G.Type.FLOW_SEQ||e.inFlow;c&&(s+=u);let m=i&&this.hasAllNullValues();e=Object.assign({},e,{allNullValues:m,indent:s,inFlow:c,type:null});let g=!1,d=!1,p=this.items.reduce((y,_,b)=>{let N;_&&(!g&&_.spaceBefore&&y.push({type:"comment",str:""}),_.commentBefore&&_.commentBefore.match(/^.*$/gm).forEach(le=>{y.push({type:"comment",str:`#${le}`})}),_.comment&&(N=_.comment),c&&(!g&&_.spaceBefore||_.commentBefore||_.comment||_.key&&(_.key.commentBefore||_.key.comment)||_.value&&(_.value.commentBefore||_.value.comment))&&(d=!0)),g=!1;let w=f(_,e,()=>N=null,()=>g=!0);return c&&!d&&w.includes(`
`)&&(d=!0),c&&b<this.items.length-1&&(w+=","),w=vo(w,s,N),g&&(N||c)&&(g=!1),y.push({type:"item",str:w}),y},[]),h;if(p.length===0)h=r.start+r.end;else if(c){let{start:y,end:_}=r,b=p.map(N=>N.str);if(d||b.reduce((N,w)=>N+w.length+2,2)>$t.maxFlowStringSingleLineLength){h=y;for(let N of b)h+=N?`
${u}${l}${N}`:`
`;h+=`
${l}${_}`}else h=`${y} ${b.join(" ")} ${_}`}else{let y=p.map(n);h=y.shift();for(let _ of y)h+=_?`
${l}${_}`:`
`}return this.comment?(h+=`
`+this.comment.replace(/^/gm,`${l}#`),a&&a()):g&&o&&o(),h}};G._defineProperty($t,"maxFlowStringSingleLineLength",60);function ef(t){let e=t instanceof An?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),Number.isInteger(e)&&e>=0?e:null}var na=class extends $t{add(e){this.items.push(e)}delete(e){let n=ef(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){let r=ef(e);if(typeof r!="number")return;let i=this.items[r];return!n&&i instanceof An?i.value:i}has(e){let n=ef(e);return typeof n=="number"&&n<this.items.length}set(e,n){let r=ef(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);this.items[r]=n}toJSON(e,n){let r=[];n&&n.onCreate&&n.onCreate(r);let i=0;for(let s of this.items)r.push(Cs(s,String(i++),n));return r}toString(e,n,r){return e?super.toString(e,{blockItem:i=>i.type==="comment"?i.str:`- ${i.str}`,flowChars:{start:"[",end:"]"},isMap:!1,itemIndent:(e.indent||"")+"  "},n,r):JSON.stringify(this)}},z1=(t,e,n)=>e===null?"":typeof e!="object"?String(e):t instanceof Tr&&n&&n.doc?t.toString({anchors:Object.create(null),doc:n.doc,indent:"",indentStep:n.indentStep,inFlow:!0,inStringifyKey:!0,stringify:n.stringify}):JSON.stringify(e),ot=class extends Tr{constructor(e,n=null){super();this.key=e,this.value=n,this.type=ot.Type.PAIR}get commentBefore(){return this.key instanceof Tr?this.key.commentBefore:void 0}set commentBefore(e){if(this.key==null&&(this.key=new An(null)),this.key instanceof Tr)this.key.commentBefore=e;else{let n="Pair.commentBefore is an alias for Pair.key.commentBefore. To set it, the key must be a Node.";throw new Error(n)}}addToJSMap(e,n){let r=Cs(this.key,"",e);if(n instanceof Map){let i=Cs(this.value,r,e);n.set(r,i)}else if(n instanceof Set)n.add(r);else{let i=z1(this.key,r,e),s=Cs(this.value,i,e);i in n?Object.defineProperty(n,i,{value:s,writable:!0,enumerable:!0,configurable:!0}):n[i]=s}return n}toJSON(e,n){let r=n&&n.mapAsMap?new Map:{};return this.addToJSMap(n,r)}toString(e,n,r){if(!e||!e.doc)return JSON.stringify(this);let{indent:i,indentSeq:s,simpleKeys:a}=e.doc.options,{key:o,value:l}=this,u=o instanceof Tr&&o.comment;if(a){if(u)throw new Error("With simple keys, key nodes cannot have comments");if(o instanceof $t){let w="With simple keys, collection cannot be used as a key value";throw new Error(w)}}let f=!a&&(!o||u||(o instanceof Tr?o instanceof $t||o.type===G.Type.BLOCK_FOLDED||o.type===G.Type.BLOCK_LITERAL:typeof o=="object")),{doc:c,indent:m,indentStep:g,stringify:d}=e;e=Object.assign({},e,{implicitKey:!f,indent:m+g});let p=!1,h=d(o,e,()=>u=null,()=>p=!0);if(h=vo(h,e.indent,u),!f&&h.length>1024){if(a)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");f=!0}if(e.allNullValues&&!a)return this.comment?(h=vo(h,e.indent,this.comment),n&&n()):p&&!u&&r&&r(),e.inFlow&&!f?h:`? ${h}`;h=f?`? ${h}
${m}:`:`${h}:`,this.comment&&(h=vo(h,e.indent,this.comment),n&&n());let y="",_=null;l instanceof Tr?(l.spaceBefore&&(y=`
`),l.commentBefore&&(y+=`
${l.commentBefore.replace(/^/gm,`${e.indent}#`)}`),_=l.comment):l&&typeof l=="object"&&(l=c.schema.createNode(l,!0)),e.implicitKey=!1,!f&&!this.comment&&l instanceof An&&(e.indentAtStart=h.length+1),p=!1,!s&&i>=2&&!e.inFlow&&!f&&l instanceof na&&l.type!==G.Type.FLOW_SEQ&&!l.tag&&!c.anchors.getName(l)&&(e.indent=e.indent.substr(2));let b=d(l,e,()=>_=null,()=>p=!0),N=" ";return y||this.comment?N=`${y}
${e.indent}`:!f&&l instanceof $t?(!(b[0]==="["||b[0]==="{")||b.includes(`
`))&&(N=`
${e.indent}`):b[0]===`
`&&(N=""),p&&!_&&r&&r(),vo(h+N+b,e.indent,_)}};G._defineProperty(ot,"Type",{PAIR:"PAIR",MERGE_PAIR:"MERGE_PAIR"});var tf=(t,e)=>{if(t instanceof Ps){let n=e.get(t.source);return n.count*n.aliasCount}else if(t instanceof $t){let n=0;for(let r of t.items){let i=tf(r,e);i>n&&(n=i)}return n}else if(t instanceof ot){let n=tf(t.key,e),r=tf(t.value,e);return Math.max(n,r)}return 1},Ps=class extends Tr{static stringify({range:e,source:n},{anchors:r,doc:i,implicitKey:s,inStringifyKey:a}){let o=Object.keys(r).find(u=>r[u]===n);if(!o&&a&&(o=i.anchors.getName(n)||i.anchors.newName()),o)return`*${o}${s?" ":""}`;let l=i.anchors.getName(n)?"Alias node must be after source node":"Source node not found for alias node";throw new Error(`${l} [${e}]`)}constructor(e){super();this.source=e,this.type=G.Type.ALIAS}set tag(e){throw new Error("Alias nodes cannot have tags")}toJSON(e,n){if(!n)return Cs(this.source,e,n);let{anchors:r,maxAliasCount:i}=n,s=r.get(this.source);if(!s||s.res===void 0){let a="This should not happen: Alias anchor was not resolved?";throw this.cstNode?new G.YAMLReferenceError(this.cstNode,a):new ReferenceError(a)}if(i>=0&&(s.count+=1,s.aliasCount===0&&(s.aliasCount=tf(this.source,r)),s.count*s.aliasCount>i)){let a="Excessive alias count indicates a resource exhaustion attack";throw this.cstNode?new G.YAMLReferenceError(this.cstNode,a):new ReferenceError(a)}return s.res}toString(e){return Ps.stringify(this,e)}};G._defineProperty(Ps,"default",!0);function Rl(t,e){let n=e instanceof An?e.value:e;for(let r of t)if(r instanceof ot&&(r.key===e||r.key===n||r.key&&r.key.value===n))return r}var nf=class extends $t{add(e,n){e?e instanceof ot||(e=new ot(e.key||e,e.value)):e=new ot(e);let r=Rl(this.items,e.key),i=this.schema&&this.schema.sortMapEntries;if(r)if(n)r.value=e.value;else throw new Error(`Key ${e.key} already set`);else if(i){let s=this.items.findIndex(a=>i(e,a)<0);s===-1?this.items.push(e):this.items.splice(s,0,e)}else this.items.push(e)}delete(e){let n=Rl(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){let r=Rl(this.items,e),i=r&&r.value;return!n&&i instanceof An?i.value:i}has(e){return!!Rl(this.items,e)}set(e,n){this.add(new ot(e,n),!0)}toJSON(e,n,r){let i=r?new r:n&&n.mapAsMap?new Map:{};n&&n.onCreate&&n.onCreate(i);for(let s of this.items)s.addToJSMap(n,i);return i}toString(e,n,r){if(!e)return JSON.stringify(this);for(let i of this.items)if(!(i instanceof ot))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return super.toString(e,{blockItem:i=>i.str,flowChars:{start:"{",end:"}"},isMap:!0,itemIndent:e.indent||""},n,r)}},Mv="<<",Pm=class extends ot{constructor(e){if(e instanceof ot){let n=e.value;n instanceof na||(n=new na,n.items.push(e.value),n.range=e.value.range);super(e.key,n);this.range=e.range}else super(new An(Mv),new na);this.type=ot.Type.MERGE_PAIR}addToJSMap(e,n){for(let{source:r}of this.value.items){if(!(r instanceof nf))throw new Error("Merge sources must be maps");let i=r.toJSON(null,e,Map);for(let[s,a]of i)n instanceof Map?n.has(s)||n.set(s,a):n instanceof Set?n.add(s):Object.prototype.hasOwnProperty.call(n,s)||Object.defineProperty(n,s,{value:a,writable:!0,enumerable:!0,configurable:!0})}return n}toString(e,n){let r=this.value;if(r.items.length>1)return super.toString(e,n);this.value=r.items[0];let i=super.toString(e,n);return this.value=r,i}},X1={defaultType:G.Type.BLOCK_LITERAL,lineWidth:76},Q1={trueStr:"true",falseStr:"false"},J1={asBigInt:!1},Z1={nullStr:"null"},ra={defaultType:G.Type.PLAIN,doubleQuoted:{jsonEncoding:!1,minMultiLineLength:40},fold:{lineWidth:80,minContentWidth:20}};function Em(t,e,n){for(let{format:r,test:i,resolve:s}of e)if(i){let a=t.match(i);if(a){let o=s.apply(null,a);return o instanceof An||(o=new An(o)),r&&(o.format=r),o}}return n&&(t=n(t)),new An(t)}var kv="flow",Dm="block",rf="quoted",qv=(t,e)=>{let n=t[e+1];for(;n===" "||n==="	";){do n=t[e+=1];while(n&&n!==`
`);n=t[e+1]}return e};function sf(t,e,n,{indentAtStart:r,lineWidth:i=80,minContentWidth:s=20,onFold:a,onOverflow:o}){if(!i||i<0)return t;let l=Math.max(1+s,1+i-e.length);if(t.length<=l)return t;let u=[],f={},c=i-e.length;typeof r=="number"&&(r>i-Math.max(2,s)?u.push(0):c=i-r);let m,g,d=!1,p=-1,h=-1,y=-1;n===Dm&&(p=qv(t,p),p!==-1&&(c=p+l));for(let b;b=t[p+=1];){if(n===rf&&b==="\\"){switch(h=p,t[p+1]){case"x":p+=3;break;case"u":p+=5;break;case"U":p+=9;break;default:p+=1}y=p}if(b===`
`)n===Dm&&(p=qv(t,p)),c=p+l,m=void 0;else{if(b===" "&&g&&g!==" "&&g!==`
`&&g!=="	"){let N=t[p+1];N&&N!==" "&&N!==`
`&&N!=="	"&&(m=p)}if(p>=c)if(m)u.push(m),c=m+l,m=void 0;else if(n===rf){for(;g===" "||g==="	";)g=b,b=t[p+=1],d=!0;let N=p>y+1?p-2:h-1;if(f[N])return t;u.push(N),f[N]=!0,c=N+l,m=void 0}else d=!0}g=b}if(d&&o&&o(),u.length===0)return t;a&&a();let _=t.slice(0,u[0]);for(let b=0;b<u.length;++b){let N=u[b],w=u[b+1]||t.length;N===0?_=`
${e}${t.slice(0,w)}`:(n===rf&&f[N]&&(_+=`${t[N]}\\`),_+=`
${e}${t.slice(N+1,w)}`)}return _}var Am=({indentAtStart:t})=>t?Object.assign({indentAtStart:t},ra.fold):ra.fold,af=t=>/^(%|---|\.\.\.)/m.test(t);function eO(t,e,n){if(!e||e<0)return!1;let r=e-n,i=t.length;if(i<=r)return!1;for(let s=0,a=0;s<i;++s)if(t[s]===`
`){if(s-a>r)return!0;if(a=s+1,i-a<=r)return!1}return!0}function ia(t,e){let{implicitKey:n}=e,{jsonEncoding:r,minMultiLineLength:i}=ra.doubleQuoted,s=JSON.stringify(t);if(r)return s;let a=e.indent||(af(t)?"  ":""),o="",l=0;for(let u=0,f=s[u];f;f=s[++u])if(f===" "&&s[u+1]==="\\"&&s[u+2]==="n"&&(o+=s.slice(l,u)+"\\ ",u+=1,l=u,f="\\"),f==="\\")switch(s[u+1]){case"u":{o+=s.slice(l,u);let c=s.substr(u+2,4);switch(c){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:c.substr(0,2)==="00"?o+="\\x"+c.substr(2):o+=s.substr(u,6)}u+=5,l=u+1}break;case"n":if(n||s[u+2]==='"'||s.length<i)u+=1;else{for(o+=s.slice(l,u)+`

`;s[u+2]==="\\"&&s[u+3]==="n"&&s[u+4]!=='"';)o+=`
`,u+=2;o+=a,s[u+2]===" "&&(o+="\\"),u+=1,l=u+1}break;default:u+=1}return o=l?o+s.slice(l):s,n?o:sf(o,a,rf,Am(e))}function Bv(t,e){if(e.implicitKey){if(/\n/.test(t))return ia(t,e)}else if(/[ \t]\n|\n[ \t]/.test(t))return ia(t,e);let n=e.indent||(af(t)?"  ":""),r="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?r:sf(r,n,kv,Am(e))}function of({comment:t,type:e,value:n},r,i,s){if(/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return ia(n,r);let a=r.indent||(r.forceBlockIndent||af(n)?"  ":""),o=a?"2":"1",l=e===G.Type.BLOCK_FOLDED?!1:e===G.Type.BLOCK_LITERAL?!0:!eO(n,ra.fold.lineWidth,a.length),u=l?"|":">";if(!n)return u+`
`;let f="",c="";if(n=n.replace(/[\n\t ]*$/,g=>{let d=g.indexOf(`
`);return d===-1?u+="-":(n===g||d!==g.length-1)&&(u+="+",s&&s()),c=g.replace(/\n$/,""),""}).replace(/^[\n ]*/,g=>{g.indexOf(" ")!==-1&&(u+=o);let d=g.match(/ +$/);return d?(f=g.slice(0,-d[0].length),d[0]):(f=g,"")}),c&&(c=c.replace(/\n+(?!\n|$)/g,`$&${a}`)),f&&(f=f.replace(/\n+/g,`$&${a}`)),t&&(u+=" #"+t.replace(/ ?[\r\n]+/g," "),i&&i()),!n)return`${u}${o}
${a}${c}`;if(l)return n=n.replace(/\n+/g,`$&${a}`),`${u}
${a}${f}${n}${c}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${a}`);let m=sf(`${f}${n}${c}`,a,Dm,ra.fold);return`${u}
${a}${m}`}function tO(t,e,n,r){let{comment:i,type:s,value:a}=t,{actualString:o,implicitKey:l,indent:u,inFlow:f}=e;if(l&&/[\n[\]{},]/.test(a)||f&&/[[\]{},]/.test(a))return ia(a,e);if(!a||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(a))return l||f||a.indexOf(`
`)===-1?a.indexOf('"')!==-1&&a.indexOf("'")===-1?Bv(a,e):ia(a,e):of(t,e,n,r);if(!l&&!f&&s!==G.Type.PLAIN&&a.indexOf(`
`)!==-1)return of(t,e,n,r);if(u===""&&af(a))return e.forceBlockIndent=!0,of(t,e,n,r);let c=a.replace(/\n+/g,`$&
${u}`);if(o){let{tags:g}=e.doc.schema;if(typeof Em(c,g,g.scalarFallback).value!="string")return ia(a,e)}let m=l?c:sf(c,u,kv,Am(e));return i&&!f&&(m.indexOf(`
`)!==-1||i.indexOf(`
`)!==-1)?(n&&n(),K1(m,u,i)):m}function nO(t,e,n,r){let{defaultType:i}=ra,{implicitKey:s,inFlow:a}=e,{type:o,value:l}=t;typeof l!="string"&&(l=String(l),t=Object.assign({},t,{value:l}));let u=c=>{switch(c){case G.Type.BLOCK_FOLDED:case G.Type.BLOCK_LITERAL:return of(t,e,n,r);case G.Type.QUOTE_DOUBLE:return ia(l,e);case G.Type.QUOTE_SINGLE:return Bv(l,e);case G.Type.PLAIN:return tO(t,e,n,r);default:return null}};(o!==G.Type.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f]/.test(l)||(s||a)&&(o===G.Type.BLOCK_FOLDED||o===G.Type.BLOCK_LITERAL))&&(o=G.Type.QUOTE_DOUBLE);let f=u(o);if(f===null&&(f=u(i),f===null))throw new Error(`Unsupported default string type ${i}`);return f}function rO({format:t,minFractionDigits:e,tag:n,value:r}){if(typeof r=="bigint")return String(r);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let i=JSON.stringify(r);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let s=i.indexOf(".");s<0&&(s=i.length,i+=".");let a=e-(i.length-s-1);for(;a-- >0;)i+="0"}return i}function Vv(t,e){let n,r;switch(e.type){case G.Type.FLOW_MAP:n="}",r="flow map";break;case G.Type.FLOW_SEQ:n="]",r="flow sequence";break;default:t.push(new G.YAMLSemanticError(e,"Not a flow collection!?"));return}let i;for(let s=e.items.length-1;s>=0;--s){let a=e.items[s];if(!a||a.type!==G.Type.COMMENT){i=a;break}}if(i&&i.char!==n){let s=`Expected ${r} to end with ${n}`,a;typeof i.offset=="number"?(a=new G.YAMLSemanticError(e,s),a.offset=i.offset+1):(a=new G.YAMLSemanticError(i,s),i.range&&i.range.end&&(a.offset=i.range.end-i.range.start)),t.push(a)}}function jv(t,e){let n=e.context.src[e.range.start-1];if(n!==`
`&&n!=="	"&&n!==" "){let r="Comments must be separated from other tokens by white space characters";t.push(new G.YAMLSemanticError(e,r))}}function Uv(t,e){let n=String(e),r=n.substr(0,8)+"..."+n.substr(-8);return new G.YAMLSemanticError(t,`The "${r}" key is too long`)}function Wv(t,e){for(let{afterKey:n,before:r,comment:i}of e){let s=t.items[r];s?(n&&s.value&&(s=s.value),i===void 0?(n||!s.commentBefore)&&(s.spaceBefore=!0):s.commentBefore?s.commentBefore+=`
`+i:s.commentBefore=i):i!==void 0&&(t.comment?t.comment+=`
`+i:t.comment=i)}}function Sm(t,e){let n=e.strValue;return n?typeof n=="string"?n:(n.errors.forEach(r=>{r.source||(r.source=e),t.errors.push(r)}),n.str):""}function iO(t,e){let{handle:n,suffix:r}=e.tag,i=t.tagPrefixes.find(s=>s.handle===n);if(!i){let s=t.getDefaults().tagPrefixes;if(s&&(i=s.find(a=>a.handle===n)),!i)throw new G.YAMLSemanticError(e,`The ${n} tag handle is non-default and was not declared.`)}if(!r)throw new G.YAMLSemanticError(e,`The ${n} tag has no suffix.`);if(n==="!"&&(t.version||t.options.version)==="1.0"){if(r[0]==="^")return t.warnings.push(new G.YAMLWarning(e,"YAML 1.0 ^ tag expansion is not supported")),r;if(/[:/]/.test(r)){let s=r.match(/^([a-z0-9-]+)\/(.*)/i);return s?`tag:${s[1]}.yaml.org,2002:${s[2]}`:`tag:${r}`}}return i.prefix+decodeURIComponent(r)}function sO(t,e){let{tag:n,type:r}=e,i=!1;if(n){let{handle:s,suffix:a,verbatim:o}=n;if(o){if(o!=="!"&&o!=="!!")return o;let l=`Verbatim tags aren't resolved, so ${o} is invalid.`;t.errors.push(new G.YAMLSemanticError(e,l))}else if(s==="!"&&!a)i=!0;else try{return iO(t,e)}catch(l){t.errors.push(l)}}switch(r){case G.Type.BLOCK_FOLDED:case G.Type.BLOCK_LITERAL:case G.Type.QUOTE_DOUBLE:case G.Type.QUOTE_SINGLE:return G.defaultTags.STR;case G.Type.FLOW_MAP:case G.Type.MAP:return G.defaultTags.MAP;case G.Type.FLOW_SEQ:case G.Type.SEQ:return G.defaultTags.SEQ;case G.Type.PLAIN:return i?G.defaultTags.STR:null;default:return null}}function Gv(t,e,n){let{tags:r}=t.schema,i=[];for(let a of r)if(a.tag===n)if(a.test)i.push(a);else{let o=a.resolve(t,e);return o instanceof $t?o:new An(o)}let s=Sm(t,e);return typeof s=="string"&&i.length>0?Em(s,i,r.scalarFallback):null}function aO({type:t}){switch(t){case G.Type.FLOW_MAP:case G.Type.MAP:return G.defaultTags.MAP;case G.Type.FLOW_SEQ:case G.Type.SEQ:return G.defaultTags.SEQ;default:return G.defaultTags.STR}}function oO(t,e,n){try{let r=Gv(t,e,n);if(r)return n&&e.tag&&(r.tag=n),r}catch(r){return r.source||(r.source=e),t.errors.push(r),null}try{let r=aO(e);if(!r)throw new Error(`The tag ${n} is unavailable`);let i=`The tag ${n} is unavailable, falling back to ${r}`;t.warnings.push(new G.YAMLWarning(e,i));let s=Gv(t,e,r);return s.tag=n,s}catch(r){let i=new G.YAMLReferenceError(e,r.message);return i.stack=r.stack,t.errors.push(i),null}}var lO=t=>{if(!t)return!1;let{type:e}=t;return e===G.Type.MAP_KEY||e===G.Type.MAP_VALUE||e===G.Type.SEQ_ITEM};function uO(t,e){let n={before:[],after:[]},r=!1,i=!1,s=lO(e.context.parent)?e.context.parent.props.concat(e.props):e.props;for(let{start:a,end:o}of s)switch(e.context.src[a]){case G.Char.COMMENT:{if(!e.commentHasRequiredWhitespace(a)){let c="Comments must be separated from other tokens by white space characters";t.push(new G.YAMLSemanticError(e,c))}let{header:l,valueRange:u}=e;(u&&(a>u.start||l&&a>l.start)?n.after:n.before).push(e.context.src.slice(a+1,o));break}case G.Char.ANCHOR:if(r){let l="A node can have at most one anchor";t.push(new G.YAMLSemanticError(e,l))}r=!0;break;case G.Char.TAG:if(i){let l="A node can have at most one tag";t.push(new G.YAMLSemanticError(e,l))}i=!0;break}return{comments:n,hasAnchor:r,hasTag:i}}function cO(t,e){let{anchors:n,errors:r,schema:i}=t;if(e.type===G.Type.ALIAS){let a=e.rawValue,o=n.getNode(a);if(!o){let u=`Aliased anchor not found: ${a}`;return r.push(new G.YAMLReferenceError(e,u)),null}let l=new Ps(o);return n._cstAliases.push(l),l}let s=sO(t,e);if(s)return oO(t,e,s);if(e.type!==G.Type.PLAIN){let a=`Failed to resolve ${e.type} node here`;return r.push(new G.YAMLSyntaxError(e,a)),null}try{let a=Sm(t,e);return Em(a,i.tags,i.tags.scalarFallback)}catch(a){return a.source||(a.source=e),r.push(a),null}}function Es(t,e){if(!e)return null;e.error&&t.errors.push(e.error);let{comments:n,hasAnchor:r,hasTag:i}=uO(t.errors,e);if(r){let{anchors:a}=t,o=e.anchor,l=a.getNode(o);l&&(a.map[a.newName(o)]=l),a.map[o]=e}if(e.type===G.Type.ALIAS&&(r||i)){let a="An alias node must not specify any properties";t.errors.push(new G.YAMLSemanticError(e,a))}let s=cO(t,e);if(s){s.range=[e.range.start,e.range.end],t.options.keepCstNodes&&(s.cstNode=e),t.options.keepNodeTypes&&(s.type=e.type);let a=n.before.join(`
`);a&&(s.commentBefore=s.commentBefore?`${s.commentBefore}
${a}`:a);let o=n.after.join(`
`);o&&(s.comment=s.comment?`${s.comment}
${o}`:o)}return e.resolved=s}function fO(t,e){if(e.type!==G.Type.MAP&&e.type!==G.Type.FLOW_MAP){let a=`A ${e.type} node cannot be resolved as a mapping`;return t.errors.push(new G.YAMLSyntaxError(e,a)),null}let{comments:n,items:r}=e.type===G.Type.FLOW_MAP?hO(t,e):mO(t,e),i=new nf;i.items=r,Wv(i,n);let s=!1;for(let a=0;a<r.length;++a){let{key:o}=r[a];if(o instanceof $t&&(s=!0),t.schema.merge&&o&&o.value===Mv){r[a]=new Pm(r[a]);let l=r[a].value.items,u=null;l.some(f=>{if(f instanceof Ps){let{type:c}=f.source;return c===G.Type.MAP||c===G.Type.FLOW_MAP?!1:u="Merge nodes aliases can only point to maps"}return u="Merge nodes can only have Alias nodes as values"}),u&&t.errors.push(new G.YAMLSemanticError(e,u))}else for(let l=a+1;l<r.length;++l){let{key:u}=r[l];if(o===u||o&&u&&Object.prototype.hasOwnProperty.call(o,"value")&&o.value===u.value){let f=`Map keys must be unique; "${o}" is repeated`;t.errors.push(new G.YAMLSemanticError(e,f));break}}}if(s&&!t.options.mapAsMap){let a="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new G.YAMLWarning(e,a))}return e.resolved=i,i}var pO=({context:{lineStart:t,node:e,src:n},props:r})=>{if(r.length===0)return!1;let{start:i}=r[0];if(e&&i>e.valueRange.start||n[i]!==G.Char.COMMENT)return!1;for(let s=t;s<i;++s)if(n[s]===`
`)return!1;return!0};function dO(t,e){if(!pO(t))return;let n=t.getPropValue(0,G.Char.COMMENT,!0),r=!1,i=e.value.commentBefore;if(i&&i.startsWith(n))e.value.commentBefore=i.substr(n.length+1),r=!0;else{let s=e.value.comment;!t.node&&s&&s.startsWith(n)&&(e.value.comment=s.substr(n.length+1),r=!0)}r&&(e.comment=n)}function mO(t,e){let n=[],r=[],i,s=null;for(let a=0;a<e.items.length;++a){let o=e.items[a];switch(o.type){case G.Type.BLANK_LINE:n.push({afterKey:!!i,before:r.length});break;case G.Type.COMMENT:n.push({afterKey:!!i,before:r.length,comment:o.comment});break;case G.Type.MAP_KEY:i!==void 0&&r.push(new ot(i)),o.error&&t.errors.push(o.error),i=Es(t,o.node),s=null;break;case G.Type.MAP_VALUE:{if(i===void 0&&(i=null),o.error&&t.errors.push(o.error),!o.context.atLineStart&&o.node&&o.node.type===G.Type.MAP&&!o.node.context.atLineStart){let f="Nested mappings are not allowed in compact mappings";t.errors.push(new G.YAMLSemanticError(o.node,f))}let l=o.node;if(!l&&o.props.length>0){l=new G.PlainValue(G.Type.PLAIN,[]),l.context={parent:o,src:o.context.src};let f=o.range.start+1;if(l.range={start:f,end:f},l.valueRange={start:f,end:f},typeof o.range.origStart=="number"){let c=o.range.origStart+1;l.range.origStart=l.range.origEnd=c,l.valueRange.origStart=l.valueRange.origEnd=c}}let u=new ot(i,Es(t,l));dO(o,u),r.push(u),i&&typeof s=="number"&&o.range.start>s+1024&&t.errors.push(Uv(e,i)),i=void 0,s=null}break;default:i!==void 0&&r.push(new ot(i)),i=Es(t,o),s=o.range.start,o.error&&t.errors.push(o.error);e:for(let l=a+1;;++l){let u=e.items[l];switch(u&&u.type){case G.Type.BLANK_LINE:case G.Type.COMMENT:continue e;case G.Type.MAP_VALUE:break e;default:{let f="Implicit map keys need to be followed by map values";t.errors.push(new G.YAMLSemanticError(o,f));break e}}}if(o.valueRangeContainsNewline){let l="Implicit map keys need to be on a single line";t.errors.push(new G.YAMLSemanticError(o,l))}}}return i!==void 0&&r.push(new ot(i)),{comments:n,items:r}}function hO(t,e){let n=[],r=[],i,s=!1,a="{";for(let o=0;o<e.items.length;++o){let l=e.items[o];if(typeof l.char=="string"){let{char:u,offset:f}=l;if(u==="?"&&i===void 0&&!s){s=!0,a=":";continue}if(u===":"){if(i===void 0&&(i=null),a===":"){a=",";continue}}else if(s&&(i===void 0&&u!==","&&(i=null),s=!1),i!==void 0&&(r.push(new ot(i)),i=void 0,u===",")){a=":";continue}if(u==="}"){if(o===e.items.length-1)continue}else if(u===a){a=":";continue}let c=`Flow map contains an unexpected ${u}`,m=new G.YAMLSyntaxError(e,c);m.offset=f,t.errors.push(m)}else l.type===G.Type.BLANK_LINE?n.push({afterKey:!!i,before:r.length}):l.type===G.Type.COMMENT?(jv(t.errors,l),n.push({afterKey:!!i,before:r.length,comment:l.comment})):i===void 0?(a===","&&t.errors.push(new G.YAMLSemanticError(l,"Separator , missing in flow map")),i=Es(t,l)):(a!==","&&t.errors.push(new G.YAMLSemanticError(l,"Indicator : missing in flow map entry")),r.push(new ot(i,Es(t,l))),i=void 0,s=!1)}return Vv(t.errors,e),i!==void 0&&r.push(new ot(i)),{comments:n,items:r}}function gO(t,e){if(e.type!==G.Type.SEQ&&e.type!==G.Type.FLOW_SEQ){let s=`A ${e.type} node cannot be resolved as a sequence`;return t.errors.push(new G.YAMLSyntaxError(e,s)),null}let{comments:n,items:r}=e.type===G.Type.FLOW_SEQ?yO(t,e):_O(t,e),i=new na;if(i.items=r,Wv(i,n),!t.options.mapAsMap&&r.some(s=>s instanceof ot&&s.key instanceof $t)){let s="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new G.YAMLWarning(e,s))}return e.resolved=i,i}function _O(t,e){let n=[],r=[];for(let i=0;i<e.items.length;++i){let s=e.items[i];switch(s.type){case G.Type.BLANK_LINE:n.push({before:r.length});break;case G.Type.COMMENT:n.push({comment:s.comment,before:r.length});break;case G.Type.SEQ_ITEM:if(s.error&&t.errors.push(s.error),r.push(Es(t,s.node)),s.hasProps){let a="Sequence items cannot have tags or anchors before the - indicator";t.errors.push(new G.YAMLSemanticError(s,a))}break;default:s.error&&t.errors.push(s.error),t.errors.push(new G.YAMLSyntaxError(s,`Unexpected ${s.type} node in sequence`))}}return{comments:n,items:r}}function yO(t,e){let n=[],r=[],i=!1,s,a=null,o="[",l=null;for(let u=0;u<e.items.length;++u){let f=e.items[u];if(typeof f.char=="string"){let{char:c,offset:m}=f;if(c!==":"&&(i||s!==void 0)&&(i&&s===void 0&&(s=o?r.pop():null),r.push(new ot(s)),i=!1,s=void 0,a=null),c===o)o=null;else if(!o&&c==="?")i=!0;else if(o!=="["&&c===":"&&s===void 0){if(o===","){if(s=r.pop(),s instanceof ot){let g="Chaining flow sequence pairs is invalid",d=new G.YAMLSemanticError(e,g);d.offset=m,t.errors.push(d)}if(!i&&typeof a=="number"){let g=f.range?f.range.start:f.offset;g>a+1024&&t.errors.push(Uv(e,s));let{src:d}=l.context;for(let p=a;p<g;++p)if(d[p]===`
`){let h="Implicit keys of flow sequence pairs need to be on a single line";t.errors.push(new G.YAMLSemanticError(l,h));break}}}else s=null;a=null,i=!1,o=null}else if(o==="["||c!=="]"||u<e.items.length-1){let g=`Flow sequence contains an unexpected ${c}`,d=new G.YAMLSyntaxError(e,g);d.offset=m,t.errors.push(d)}}else if(f.type===G.Type.BLANK_LINE)n.push({before:r.length});else if(f.type===G.Type.COMMENT)jv(t.errors,f),n.push({comment:f.comment,before:r.length});else{if(o){let m=`Expected a ${o} in flow sequence`;t.errors.push(new G.YAMLSemanticError(f,m))}let c=Es(t,f);s===void 0?(r.push(c),l=f):(r.push(new ot(s,c)),s=void 0),a=f.range.start,o=","}}return Vv(t.errors,e),s!==void 0&&r.push(new ot(s)),{comments:n,items:r}}vt.Alias=Ps;vt.Collection=$t;vt.Merge=Pm;vt.Node=Tr;vt.Pair=ot;vt.Scalar=An;vt.YAMLMap=nf;vt.YAMLSeq=na;vt.addComment=vo;vt.binaryOptions=X1;vt.boolOptions=Q1;vt.findPair=Rl;vt.intOptions=J1;vt.isEmptyPath=Fv;vt.nullOptions=Z1;vt.resolveMap=fO;vt.resolveNode=Es;vt.resolveSeq=gO;vt.resolveString=Sm;vt.strOptions=ra;vt.stringifyNumber=rO;vt.stringifyString=nO;vt.toJSON=Cs});var lf=B(ni=>{"use strict";var Jn=vs(),Ke=No(),bO={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve:(t,e)=>{let n=Ke.resolveString(t,e);if(typeof Buffer=="function")return Buffer.from(n,"base64");if(typeof atob=="function"){let r=atob(n.replace(/[\n\r]/g,"")),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}else{let r="This environment does not support reading binary tags; either Buffer or atob is required";return t.errors.push(new Jn.YAMLReferenceError(e,r)),null}},options:Ke.binaryOptions,stringify:({comment:t,type:e,value:n},r,i,s)=>{let a;if(typeof Buffer=="function")a=n instanceof Buffer?n.toString("base64"):Buffer.from(n.buffer).toString("base64");else if(typeof btoa=="function"){let o="";for(let l=0;l<n.length;++l)o+=String.fromCharCode(n[l]);a=btoa(o)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=Ke.binaryOptions.defaultType),e===Jn.Type.QUOTE_DOUBLE)n=a;else{let{lineWidth:o}=Ke.binaryOptions,l=Math.ceil(a.length/o),u=new Array(l);for(let f=0,c=0;f<l;++f,c+=o)u[f]=a.substr(c,o);n=u.join(e===Jn.Type.BLOCK_LITERAL?`
`:" ")}return Ke.stringifyString({comment:t,type:e,value:n},r,i,s)}};function Yv(t,e){let n=Ke.resolveSeq(t,e);for(let r=0;r<n.items.length;++r){let i=n.items[r];if(!(i instanceof Ke.Pair)){if(i instanceof Ke.YAMLMap){if(i.items.length>1){let a="Each pair must have its own sequence indicator";throw new Jn.YAMLSemanticError(e,a)}let s=i.items[0]||new Ke.Pair;i.commentBefore&&(s.commentBefore=s.commentBefore?`${i.commentBefore}
${s.commentBefore}`:i.commentBefore),i.comment&&(s.comment=s.comment?`${i.comment}
${s.comment}`:i.comment),i=s}n.items[r]=i instanceof Ke.Pair?i:new Ke.Pair(i)}}return n}function $v(t,e,n){let r=new Ke.YAMLSeq(t);r.tag="tag:yaml.org,2002:pairs";for(let i of e){let s,a;if(Array.isArray(i))if(i.length===2)s=i[0],a=i[1];else throw new TypeError(`Expected [key, value] tuple: ${i}`);else if(i&&i instanceof Object){let l=Object.keys(i);if(l.length===1)s=l[0],a=i[s];else throw new TypeError(`Expected { key: value } tuple: ${i}`)}else s=i;let o=t.createPair(s,a,n);r.items.push(o)}return r}var TO={default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Yv,createNode:$v},sa=class extends Ke.YAMLSeq{constructor(){super();Jn._defineProperty(this,"add",Ke.YAMLMap.prototype.add.bind(this)),Jn._defineProperty(this,"delete",Ke.YAMLMap.prototype.delete.bind(this)),Jn._defineProperty(this,"get",Ke.YAMLMap.prototype.get.bind(this)),Jn._defineProperty(this,"has",Ke.YAMLMap.prototype.has.bind(this)),Jn._defineProperty(this,"set",Ke.YAMLMap.prototype.set.bind(this)),this.tag=sa.tag}toJSON(e,n){let r=new Map;n&&n.onCreate&&n.onCreate(r);for(let i of this.items){let s,a;if(i instanceof Ke.Pair?(s=Ke.toJSON(i.key,"",n),a=Ke.toJSON(i.value,s,n)):s=Ke.toJSON(i,"",n),r.has(s))throw new Error("Ordered maps must not include duplicate keys");r.set(s,a)}return r}};Jn._defineProperty(sa,"tag","tag:yaml.org,2002:omap");function vO(t,e){let n=Yv(t,e),r=[];for(let{key:i}of n.items)if(i instanceof Ke.Scalar)if(r.includes(i.value)){let s="Ordered maps must not include duplicate keys";throw new Jn.YAMLSemanticError(e,s)}else r.push(i.value);return Object.assign(new sa,n)}function NO(t,e,n){let r=$v(t,e,n),i=new sa;return i.items=r.items,i}var CO={identify:t=>t instanceof Map,nodeClass:sa,default:!1,tag:"tag:yaml.org,2002:omap",resolve:vO,createNode:NO},aa=class extends Ke.YAMLMap{constructor(){super();this.tag=aa.tag}add(e){let n=e instanceof Ke.Pair?e:new Ke.Pair(e);Ke.findPair(this.items,n.key)||this.items.push(n)}get(e,n){let r=Ke.findPair(this.items,e);return!n&&r instanceof Ke.Pair?r.key instanceof Ke.Scalar?r.key.value:r.key:r}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);let r=Ke.findPair(this.items,e);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Ke.Pair(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues())return super.toString(e,n,r);throw new Error("Set items must all have null values")}};Jn._defineProperty(aa,"tag","tag:yaml.org,2002:set");function PO(t,e){let n=Ke.resolveMap(t,e);if(!n.hasAllNullValues())throw new Jn.YAMLSemanticError(e,"Set items must all have null values");return Object.assign(new aa,n)}function EO(t,e,n){let r=new aa;for(let i of e)r.items.push(t.createPair(i,null,n));return r}var DO={identify:t=>t instanceof Set,nodeClass:aa,default:!1,tag:"tag:yaml.org,2002:set",resolve:PO,createNode:EO},Im=(t,e)=>{let n=e.split(":").reduce((r,i)=>r*60+Number(i),0);return t==="-"?-n:n},Hv=({value:t})=>{if(isNaN(t)||!isFinite(t))return Ke.stringifyNumber(t);let e="";t<0&&(e="-",t=Math.abs(t));let n=[t%60];return t<60?n.unshift(0):(t=Math.round((t-n[0])/60),n.unshift(t%60),t>=60&&(t=Math.round((t-n[0])/60),n.unshift(t))),e+n.map(r=>r<10?"0"+String(r):String(r)).join(":").replace(/000000\d*$/,"")},AO={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+)$/,resolve:(t,e,n)=>Im(e,n.replace(/_/g,"")),stringify:Hv},SO={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*)$/,resolve:(t,e,n)=>Im(e,n.replace(/_/g,"")),stringify:Hv},IO={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^(?:([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?)$"),resolve:(t,e,n,r,i,s,a,o,l)=>{o&&(o=(o+"00").substr(1,3));let u=Date.UTC(e,n-1,r,i||0,s||0,a||0,o||0);if(l&&l!=="Z"){let f=Im(l[0],l.slice(1));Math.abs(f)<30&&(f*=60),u-=6e4*f}return new Date(u)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};function xm(t){let e=typeof process!="undefined"&&process.env||{};return t?typeof YAML_SILENCE_DEPRECATION_WARNINGS!="undefined"?!YAML_SILENCE_DEPRECATION_WARNINGS:!e.YAML_SILENCE_DEPRECATION_WARNINGS:typeof YAML_SILENCE_WARNINGS!="undefined"?!YAML_SILENCE_WARNINGS:!e.YAML_SILENCE_WARNINGS}function Rm(t,e){if(xm(!1)){let n=typeof process!="undefined"&&process.emitWarning;n?n(t,e):console.warn(e?`${e}: ${t}`:t)}}function xO(t){if(xm(!0)){let e=t.replace(/.*yaml[/\\]/i,"").replace(/\.js$/,"").replace(/\\/g,"/");Rm(`The endpoint 'yaml/${e}' will be removed in a future release.`,"DeprecationWarning")}}var Kv={};function RO(t,e){if(!Kv[t]&&xm(!0)){Kv[t]=!0;let n=`The option '${t}' will be removed in a future release`;n+=e?`, use '${e}' instead.`:".",Rm(n,"DeprecationWarning")}}ni.binary=bO;ni.floatTime=SO;ni.intTime=AO;ni.omap=CO;ni.pairs=TO;ni.set=DO;ni.timestamp=IO;ni.warn=Rm;ni.warnFileDeprecation=xO;ni.warnOptionDeprecation=RO});var mf=B(oN=>{"use strict";var uf=vs(),Ie=No(),Sn=lf();function wO(t,e,n){let r=new Ie.YAMLMap(t);if(e instanceof Map)for(let[i,s]of e)r.items.push(t.createPair(i,s,n));else if(e&&typeof e=="object")for(let i of Object.keys(e))r.items.push(t.createPair(i,e[i],n));return typeof t.sortMapEntries=="function"&&r.items.sort(t.sortMapEntries),r}var wl={createNode:wO,default:!0,nodeClass:Ie.YAMLMap,tag:"tag:yaml.org,2002:map",resolve:Ie.resolveMap};function OO(t,e,n){let r=new Ie.YAMLSeq(t);if(e&&e[Symbol.iterator])for(let i of e){let s=t.createNode(i,n.wrapScalars,null,n);r.items.push(s)}return r}var cf={createNode:OO,default:!0,nodeClass:Ie.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve:Ie.resolveSeq},LO={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:Ie.resolveString,stringify(t,e,n,r){return e=Object.assign({actualString:!0},e),Ie.stringifyString(t,e,n,r)},options:Ie.strOptions},wm=[wl,cf,LO],ff=t=>typeof t=="bigint"||Number.isInteger(t),Om=(t,e,n)=>Ie.intOptions.asBigInt?BigInt(t):parseInt(e,n);function zv(t,e,n){let{value:r}=t;return ff(r)&&r>=0?n+r.toString(e):Ie.stringifyNumber(t)}var Xv={identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new Ie.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:Ie.nullOptions,stringify:()=>Ie.nullOptions.nullStr},Qv={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>t[0]==="t"||t[0]==="T",options:Ie.boolOptions,stringify:({value:t})=>t?Ie.boolOptions.trueStr:Ie.boolOptions.falseStr},Jv={identify:t=>ff(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o([0-7]+)$/,resolve:(t,e)=>Om(t,e,8),options:Ie.intOptions,stringify:t=>zv(t,8,"0o")},Zv={identify:ff,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:t=>Om(t,t,10),options:Ie.intOptions,stringify:Ie.stringifyNumber},eN={identify:t=>ff(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x([0-9a-fA-F]+)$/,resolve:(t,e)=>Om(t,e,16),options:Ie.intOptions,stringify:t=>zv(t,16,"0x")},tN={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ie.stringifyNumber},nN={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify:({value:t})=>Number(t).toExponential()},rN={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.([0-9]+)|[0-9]+\.([0-9]*))$/,resolve(t,e,n){let r=e||n,i=new Ie.Scalar(parseFloat(t));return r&&r[r.length-1]==="0"&&(i.minFractionDigits=r.length),i},stringify:Ie.stringifyNumber},FO=wm.concat([Xv,Qv,Jv,Zv,eN,tN,nN,rN]),iN=t=>typeof t=="bigint"||Number.isInteger(t),pf=({value:t})=>JSON.stringify(t),sN=[wl,cf,{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:Ie.resolveString,stringify:pf},{identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new Ie.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:pf},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:pf},{identify:iN,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:t=>Ie.intOptions.asBigInt?BigInt(t):parseInt(t,10),stringify:({value:t})=>iN(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:pf}];sN.scalarFallback=t=>{throw new SyntaxError(`Unresolved plain scalar ${JSON.stringify(t)}`)};var aN=({value:t})=>t?Ie.boolOptions.trueStr:Ie.boolOptions.falseStr,Ol=t=>typeof t=="bigint"||Number.isInteger(t);function df(t,e,n){let r=e.replace(/_/g,"");if(Ie.intOptions.asBigInt){switch(n){case 2:r=`0b${r}`;break;case 8:r=`0o${r}`;break;case 16:r=`0x${r}`;break}let s=BigInt(r);return t==="-"?BigInt(-1)*s:s}let i=parseInt(r,n);return t==="-"?-1*i:i}function Lm(t,e,n){let{value:r}=t;if(Ol(r)){let i=r.toString(e);return r<0?"-"+n+i.substr(1):n+i}return Ie.stringifyNumber(t)}var MO=wm.concat([{identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new Ie.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:Ie.nullOptions,stringify:()=>Ie.nullOptions.nullStr},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>!0,options:Ie.boolOptions,stringify:aN},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>!1,options:Ie.boolOptions,stringify:aN},{identify:Ol,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^([-+]?)0b([0-1_]+)$/,resolve:(t,e,n)=>df(e,n,2),stringify:t=>Lm(t,2,"0b")},{identify:Ol,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^([-+]?)0([0-7_]+)$/,resolve:(t,e,n)=>df(e,n,8),stringify:t=>Lm(t,8,"0")},{identify:Ol,default:!0,tag:"tag:yaml.org,2002:int",test:/^([-+]?)([0-9][0-9_]*)$/,resolve:(t,e,n)=>df(e,n,10),stringify:Ie.stringifyNumber},{identify:Ol,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^([-+]?)0x([0-9a-fA-F_]+)$/,resolve:(t,e,n)=>df(e,n,16),stringify:t=>Lm(t,16,"0x")},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ie.stringifyNumber},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?([0-9][0-9_]*)?(\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify:({value:t})=>Number(t).toExponential()},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.([0-9_]*)$/,resolve(t,e){let n=new Ie.Scalar(parseFloat(t.replace(/_/g,"")));if(e){let r=e.replace(/_/g,"");r[r.length-1]==="0"&&(n.minFractionDigits=r.length)}return n},stringify:Ie.stringifyNumber}],Sn.binary,Sn.omap,Sn.pairs,Sn.set,Sn.intTime,Sn.floatTime,Sn.timestamp),kO={core:FO,failsafe:wm,json:sN,yaml11:MO},qO={binary:Sn.binary,bool:Qv,float:rN,floatExp:nN,floatNaN:tN,floatTime:Sn.floatTime,int:Zv,intHex:eN,intOct:Jv,intTime:Sn.intTime,map:wl,null:Xv,omap:Sn.omap,pairs:Sn.pairs,seq:cf,set:Sn.set,timestamp:Sn.timestamp};function BO(t,e,n){if(e){let r=n.filter(s=>s.tag===e),i=r.find(s=>!s.format)||r[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return n.find(r=>(r.identify&&r.identify(t)||r.class&&t instanceof r.class)&&!r.format)}function VO(t,e,n){if(t instanceof Ie.Node)return t;let{defaultPrefix:r,onTagObj:i,prevObjects:s,schema:a,wrapScalars:o}=n;e&&e.startsWith("!!")&&(e=r+e.slice(2));let l=BO(t,e,a.tags);if(!l){if(typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object")return o?new Ie.Scalar(t):t;l=t instanceof Map?wl:t[Symbol.iterator]?cf:wl}i&&(i(l),delete n.onTagObj);let u={value:void 0,node:void 0};if(t&&typeof t=="object"&&s){let f=s.get(t);if(f){let c=new Ie.Alias(f);return n.aliasNodes.push(c),c}u.value=t,s.set(t,u)}return u.node=l.createNode?l.createNode(n.schema,t,n):o?new Ie.Scalar(t):t,e&&u.node instanceof Ie.Node&&(u.node.tag=e),u.node}function jO(t,e,n,r){let i=t[r.replace(/\W/g,"")];if(!i){let s=Object.keys(t).map(a=>JSON.stringify(a)).join(", ");throw new Error(`Unknown schema "${r}"; use one of ${s}`)}if(Array.isArray(n))for(let s of n)i=i.concat(s);else typeof n=="function"&&(i=n(i.slice()));for(let s=0;s<i.length;++s){let a=i[s];if(typeof a=="string"){let o=e[a];if(!o){let l=Object.keys(e).map(u=>JSON.stringify(u)).join(", ");throw new Error(`Unknown custom tag "${a}"; use one of ${l}`)}i[s]=o}}return i}var UO=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0,Co=class{constructor({customTags:e,merge:n,schema:r,sortMapEntries:i,tags:s}){this.merge=!!n,this.name=r,this.sortMapEntries=i===!0?UO:i||null,!e&&s&&Sn.warnOptionDeprecation("tags","customTags"),this.tags=jO(kO,qO,e||s,r)}createNode(e,n,r,i){let s={defaultPrefix:Co.defaultPrefix,schema:this,wrapScalars:n},a=i?Object.assign(i,s):s;return VO(e,r,a)}createPair(e,n,r){r||(r={wrapScalars:!0});let i=this.createNode(e,r.wrapScalars,null,r),s=this.createNode(n,r.wrapScalars,null,r);return new Ie.Pair(i,s)}};uf._defineProperty(Co,"defaultPrefix",uf.defaultTagPrefix);uf._defineProperty(Co,"defaultTags",uf.defaultTags);oN.Schema=Co});var fN=B(yf=>{"use strict";var In=vs(),Re=No(),lN=mf(),WO={anchorPrefix:"a",customTags:null,indent:2,indentSeq:!0,keepCstNodes:!1,keepNodeTypes:!0,keepBlobsInJSON:!0,mapAsMap:!1,maxAliasCount:100,prettyErrors:!1,simpleKeys:!1,version:"1.2"},GO={get binary(){return Re.binaryOptions},set binary(t){Object.assign(Re.binaryOptions,t)},get bool(){return Re.boolOptions},set bool(t){Object.assign(Re.boolOptions,t)},get int(){return Re.intOptions},set int(t){Object.assign(Re.intOptions,t)},get null(){return Re.nullOptions},set null(t){Object.assign(Re.nullOptions,t)},get str(){return Re.strOptions},set str(t){Object.assign(Re.strOptions,t)}},uN={"1.0":{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:In.defaultTagPrefix},{handle:"!!",prefix:"tag:private.yaml.org,2002:"}]},1.1:{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:In.defaultTagPrefix}]},1.2:{schema:"core",merge:!1,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:In.defaultTagPrefix}]}};function cN(t,e){if((t.version||t.options.version)==="1.0"){let i=e.match(/^tag:private\.yaml\.org,2002:([^:/]+)$/);if(i)return"!"+i[1];let s=e.match(/^tag:([a-zA-Z0-9-]+)\.yaml\.org,2002:(.*)/);return s?`!${s[1]}/${s[2]}`:`!${e.replace(/^tag:/,"")}`}let n=t.tagPrefixes.find(i=>e.indexOf(i.prefix)===0);if(!n){let i=t.getDefaults().tagPrefixes;n=i&&i.find(s=>e.indexOf(s.prefix)===0)}if(!n)return e[0]==="!"?e:`!<${e}>`;let r=e.substr(n.prefix.length).replace(/[!,[\]{}]/g,i=>({"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"})[i]);return n.handle+r}function YO(t,e){if(e instanceof Re.Alias)return Re.Alias;if(e.tag){let i=t.filter(s=>s.tag===e.tag);if(i.length>0)return i.find(s=>s.format===e.format)||i[0]}let n,r;if(e instanceof Re.Scalar){r=e.value;let i=t.filter(s=>s.identify&&s.identify(r)||s.class&&r instanceof s.class);n=i.find(s=>s.format===e.format)||i.find(s=>!s.format)}else r=e,n=t.find(i=>i.nodeClass&&r instanceof i.nodeClass);if(!n){let i=r&&r.constructor?r.constructor.name:typeof r;throw new Error(`Tag not resolved for ${i} value`)}return n}function $O(t,e,{anchors:n,doc:r}){let i=[],s=r.anchors.getName(t);return s&&(n[s]=t,i.push(`&${s}`)),t.tag?i.push(cN(r,t.tag)):e.default||i.push(cN(r,e.tag)),i.join(" ")}function hf(t,e,n,r){let{anchors:i,schema:s}=e.doc,a;if(!(t instanceof Re.Node)){let u={aliasNodes:[],onTagObj:f=>a=f,prevObjects:new Map};t=s.createNode(t,!0,null,u);for(let f of u.aliasNodes){f.source=f.source.node;let c=i.getName(f.source);c||(c=i.newName(),i.map[c]=f.source)}}if(t instanceof Re.Pair)return t.toString(e,n,r);a||(a=YO(s.tags,t));let o=$O(t,a,e);o.length>0&&(e.indentAtStart=(e.indentAtStart||0)+o.length+1);let l=typeof a.stringify=="function"?a.stringify(t,e,n,r):t instanceof Re.Scalar?Re.stringifyString(t,e,n,r):t.toString(e,n,r);return o?t instanceof Re.Scalar||l[0]==="{"||l[0]==="["?`${o} ${l}`:`${o}
${e.indent}${l}`:l}var gf=class{static validAnchorNode(e){return e instanceof Re.Scalar||e instanceof Re.YAMLSeq||e instanceof Re.YAMLMap}constructor(e){In._defineProperty(this,"map",Object.create(null)),this.prefix=e}createAlias(e,n){return this.setAnchor(e,n),new Re.Alias(e)}createMergePair(...e){let n=new Re.Merge;return n.value.items=e.map(r=>{if(r instanceof Re.Alias){if(r.source instanceof Re.YAMLMap)return r}else if(r instanceof Re.YAMLMap)return this.createAlias(r);throw new Error("Merge sources must be Map nodes or their Aliases")}),n}getName(e){let{map:n}=this;return Object.keys(n).find(r=>n[r]===e)}getNames(){return Object.keys(this.map)}getNode(e){return this.map[e]}newName(e){e||(e=this.prefix);let n=Object.keys(this.map);for(let r=1;;++r){let i=`${e}${r}`;if(!n.includes(i))return i}}resolveNodes(){let{map:e,_cstAliases:n}=this;Object.keys(e).forEach(r=>{e[r]=e[r].resolved}),n.forEach(r=>{r.source=r.source.resolved}),delete this._cstAliases}setAnchor(e,n){if(e!=null&&!gf.validAnchorNode(e))throw new Error("Anchors may only be set for Scalar, Seq and Map nodes");if(n&&/[\x00-\x19\s,[\]{}]/.test(n))throw new Error("Anchor names must not contain whitespace or control characters");let{map:r}=this,i=e&&Object.keys(r).find(s=>r[s]===e);if(i)if(n)i!==n&&(delete r[i],r[n]=e);else return i;else{if(!n){if(!e)return null;n=this.newName()}r[n]=e}return n}},_f=(t,e)=>{if(t&&typeof t=="object"){let{tag:n}=t;t instanceof Re.Collection?(n&&(e[n]=!0),t.items.forEach(r=>_f(r,e))):t instanceof Re.Pair?(_f(t.key,e),_f(t.value,e)):t instanceof Re.Scalar&&n&&(e[n]=!0)}return e},HO=t=>Object.keys(_f(t,{}));function KO(t,e){let n={before:[],after:[]},r,i=!1;for(let s of e)if(s.valueRange){if(r!==void 0){let o="Document contains trailing content not separated by a ... or --- line";t.errors.push(new In.YAMLSyntaxError(s,o));break}let a=Re.resolveNode(t,s);i&&(a.spaceBefore=!0,i=!1),r=a}else s.comment!==null?(r===void 0?n.before:n.after).push(s.comment):s.type===In.Type.BLANK_LINE&&(i=!0,r===void 0&&n.before.length>0&&!t.commentBefore&&(t.commentBefore=n.before.join(`
`),n.before=[]));if(t.contents=r||null,!r)t.comment=n.before.concat(n.after).join(`
`)||null;else{let s=n.before.join(`
`);if(s){let a=r instanceof Re.Collection&&r.items[0]?r.items[0]:r;a.commentBefore=a.commentBefore?`${s}
${a.commentBefore}`:s}t.comment=n.after.join(`
`)||null}}function zO({tagPrefixes:t},e){let[n,r]=e.parameters;if(!n||!r){let i="Insufficient parameters given for %TAG directive";throw new In.YAMLSemanticError(e,i)}if(t.some(i=>i.handle===n)){let i="The %TAG directive must only be given at most once per handle in the same document.";throw new In.YAMLSemanticError(e,i)}return{handle:n,prefix:r}}function XO(t,e){let[n]=e.parameters;if(e.name==="YAML:1.0"&&(n="1.0"),!n){let r="Insufficient parameters given for %YAML directive";throw new In.YAMLSemanticError(e,r)}if(!uN[n]){let i=`Document will be parsed as YAML ${t.version||t.options.version} rather than YAML ${n}`;t.warnings.push(new In.YAMLWarning(e,i))}return n}function QO(t,e,n){let r=[],i=!1;for(let s of e){let{comment:a,name:o}=s;switch(o){case"TAG":try{t.tagPrefixes.push(zO(t,s))}catch(l){t.errors.push(l)}i=!0;break;case"YAML":case"YAML:1.0":if(t.version){let l="The %YAML directive must only be given at most once per document.";t.errors.push(new In.YAMLSemanticError(s,l))}try{t.version=XO(t,s)}catch(l){t.errors.push(l)}i=!0;break;default:if(o){let l=`YAML only supports %TAG and %YAML directives, and not %${o}`;t.warnings.push(new In.YAMLWarning(s,l))}}a&&r.push(a)}if(n&&!i&&(t.version||n.version||t.options.version)==="1.1"){let s=({handle:a,prefix:o})=>({handle:a,prefix:o});t.tagPrefixes=n.tagPrefixes.map(s),t.version=n.version}t.commentBefore=r.join(`
`)||null}function Po(t){if(t instanceof Re.Collection)return!0;throw new Error("Expected a YAML collection as document contents")}var Eo=class{constructor(e){this.anchors=new gf(e.anchorPrefix),this.commentBefore=null,this.comment=null,this.contents=null,this.directivesEndMarker=null,this.errors=[],this.options=e,this.schema=null,this.tagPrefixes=[],this.version=null,this.warnings=[]}add(e){return Po(this.contents),this.contents.add(e)}addIn(e,n){Po(this.contents),this.contents.addIn(e,n)}delete(e){return Po(this.contents),this.contents.delete(e)}deleteIn(e){return Re.isEmptyPath(e)?this.contents==null?!1:(this.contents=null,!0):(Po(this.contents),this.contents.deleteIn(e))}getDefaults(){return Eo.defaults[this.version]||Eo.defaults[this.options.version]||{}}get(e,n){return this.contents instanceof Re.Collection?this.contents.get(e,n):void 0}getIn(e,n){return Re.isEmptyPath(e)?!n&&this.contents instanceof Re.Scalar?this.contents.value:this.contents:this.contents instanceof Re.Collection?this.contents.getIn(e,n):void 0}has(e){return this.contents instanceof Re.Collection?this.contents.has(e):!1}hasIn(e){return Re.isEmptyPath(e)?this.contents!==void 0:this.contents instanceof Re.Collection?this.contents.hasIn(e):!1}set(e,n){Po(this.contents),this.contents.set(e,n)}setIn(e,n){Re.isEmptyPath(e)?this.contents=n:(Po(this.contents),this.contents.setIn(e,n))}setSchema(e,n){if(!e&&!n&&this.schema)return;typeof e=="number"&&(e=e.toFixed(1)),e==="1.0"||e==="1.1"||e==="1.2"?(this.version?this.version=e:this.options.version=e,delete this.options.schema):e&&typeof e=="string"&&(this.options.schema=e),Array.isArray(n)&&(this.options.customTags=n);let r=Object.assign({},this.getDefaults(),this.options);this.schema=new lN.Schema(r)}parse(e,n){this.options.keepCstNodes&&(this.cstNode=e),this.options.keepNodeTypes&&(this.type="DOCUMENT");let{directives:r=[],contents:i=[],directivesEndMarker:s,error:a,valueRange:o}=e;if(a&&(a.source||(a.source=this),this.errors.push(a)),QO(this,r,n),s&&(this.directivesEndMarker=!0),this.range=o?[o.start,o.end]:null,this.setSchema(),this.anchors._cstAliases=[],KO(this,i),this.anchors.resolveNodes(),this.options.prettyErrors){for(let l of this.errors)l instanceof In.YAMLError&&l.makePretty();for(let l of this.warnings)l instanceof In.YAMLError&&l.makePretty()}return this}listNonDefaultTags(){return HO(this.contents).filter(e=>e.indexOf(lN.Schema.defaultPrefix)!==0)}setTagPrefix(e,n){if(e[0]!=="!"||e[e.length-1]!=="!")throw new Error("Handle must start and end with !");if(n){let r=this.tagPrefixes.find(i=>i.handle===e);r?r.prefix=n:this.tagPrefixes.push({handle:e,prefix:n})}else this.tagPrefixes=this.tagPrefixes.filter(r=>r.handle!==e)}toJSON(e,n){let{keepBlobsInJSON:r,mapAsMap:i,maxAliasCount:s}=this.options,a=r&&(typeof e!="string"||!(this.contents instanceof Re.Scalar)),o={doc:this,indentStep:"  ",keep:a,mapAsMap:a&&!!i,maxAliasCount:s,stringify:hf},l=Object.keys(this.anchors.map);l.length>0&&(o.anchors=new Map(l.map(f=>[this.anchors.map[f],{alias:[],aliasCount:0,count:1}])));let u=Re.toJSON(this.contents,e,o);if(typeof n=="function"&&o.anchors)for(let{count:f,res:c}of o.anchors.values())n(c,f);return u}toString(){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");let e=this.options.indent;if(!Number.isInteger(e)||e<=0){let l=JSON.stringify(e);throw new Error(`"indent" option must be a positive integer, not ${l}`)}this.setSchema();let n=[],r=!1;if(this.version){let l="%YAML 1.2";this.schema.name==="yaml-1.1"&&(this.version==="1.0"?l="%YAML:1.0":this.version==="1.1"&&(l="%YAML 1.1")),n.push(l),r=!0}let i=this.listNonDefaultTags();this.tagPrefixes.forEach(({handle:l,prefix:u})=>{i.some(f=>f.indexOf(u)===0)&&(n.push(`%TAG ${l} ${u}`),r=!0)}),(r||this.directivesEndMarker)&&n.push("---"),this.commentBefore&&((r||!this.directivesEndMarker)&&n.unshift(""),n.unshift(this.commentBefore.replace(/^/gm,"#")));let s={anchors:Object.create(null),doc:this,indent:"",indentStep:" ".repeat(e),stringify:hf},a=!1,o=null;if(this.contents){this.contents instanceof Re.Node&&(this.contents.spaceBefore&&(r||this.directivesEndMarker)&&n.push(""),this.contents.commentBefore&&n.push(this.contents.commentBefore.replace(/^/gm,"#")),s.forceBlockIndent=!!this.comment,o=this.contents.comment);let l=o?null:()=>a=!0,u=hf(this.contents,s,()=>o=null,l);n.push(Re.addComment(u,"",o))}else this.contents!==void 0&&n.push(hf(this.contents,s));return this.comment&&((!a||o)&&n[n.length-1]!==""&&n.push(""),n.push(this.comment.replace(/^/gm,"#"))),n.join(`
`)+`
`}};In._defineProperty(Eo,"defaults",uN);yf.Document=Eo;yf.defaultOptions=WO;yf.scalarOptions=GO});var mN=B(dN=>{"use strict";var Fm=Ov(),oa=fN(),JO=mf(),ZO=vs(),eL=lf();No();function tL(t,e=!0,n){n===void 0&&typeof e=="string"&&(n=e,e=!0);let r=Object.assign({},oa.Document.defaults[oa.defaultOptions.version],oa.defaultOptions);return new JO.Schema(r).createNode(t,e,n)}var Ll=class extends oa.Document{constructor(e){super(Object.assign({},oa.defaultOptions,e))}};function nL(t,e){let n=[],r;for(let i of Fm.parse(t)){let s=new Ll(e);s.parse(i,r),n.push(s),r=s}return n}function pN(t,e){let n=Fm.parse(t),r=new Ll(e).parse(n[0]);if(n.length>1){let i="Source contains multiple documents; please use YAML.parseAllDocuments()";r.errors.unshift(new ZO.YAMLSemanticError(n[1],i))}return r}function rL(t,e){let n=pN(t,e);if(n.warnings.forEach(r=>eL.warn(r)),n.errors.length>0)throw n.errors[0];return n.toJSON()}function iL(t,e){let n=new Ll(e);return n.contents=t,String(n)}var sL={createNode:tL,defaultOptions:oa.defaultOptions,Document:Ll,parse:rL,parseAllDocuments:nL,parseCST:Fm.parse,parseDocument:pN,scalarOptions:oa.scalarOptions,stringify:iL};dN.YAML=sL});var Mm=B((pZ,hN)=>{hN.exports=mN().YAML});var gN=B(xn=>{"use strict";var Zn=No(),aL=mf();vs();lf();xn.Alias=Zn.Alias;xn.Collection=Zn.Collection;xn.Merge=Zn.Merge;xn.Node=Zn.Node;xn.Pair=Zn.Pair;xn.Scalar=Zn.Scalar;xn.YAMLMap=Zn.YAMLMap;xn.YAMLSeq=Zn.YAMLSeq;xn.binaryOptions=Zn.binaryOptions;xn.boolOptions=Zn.boolOptions;xn.intOptions=Zn.intOptions;xn.nullOptions=Zn.nullOptions;xn.strOptions=Zn.strOptions;xn.Schema=aL.Schema});var Af=B((dee,uC)=>{"use strict";function rn(t){this.__parent=t,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}rn.prototype.clone_empty=function(){var t=new rn(this.__parent);return t.set_indent(this.__indent_count,this.__alignment_count),t};rn.prototype.item=function(t){return t<0?this.__items[this.__items.length+t]:this.__items[t]};rn.prototype.has_match=function(t){for(var e=this.__items.length-1;e>=0;e--)if(this.__items[e].match(t))return!0;return!1};rn.prototype.set_indent=function(t,e){this.is_empty()&&(this.__indent_count=t||0,this.__alignment_count=e||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))};rn.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)};rn.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count};rn.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;return t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),t.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),t.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,t.__items[0]===" "&&(t.__items.splice(0,1),t.__character_count-=1),!0}return!1};rn.prototype.is_empty=function(){return this.__items.length===0};rn.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]};rn.prototype.push=function(t){this.__items.push(t);var e=t.lastIndexOf(`
`);e!==-1?this.__character_count=t.length-e:this.__character_count+=t.length};rn.prototype.pop=function(){var t=null;return this.is_empty()||(t=this.__items.pop(),this.__character_count-=t.length),t};rn.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)};rn.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)};rn.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1};rn.prototype.toString=function(){var t="";return this.is_empty()?this.__parent.indent_empty_lines&&(t=this.__parent.get_indent_string(this.__indent_count)):(t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),t+=this.__items.join("")),t};function jl(t,e){this.__cache=[""],this.__indent_size=t.indent_size,this.__indent_string=t.indent_char,t.indent_with_tabs||(this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)),e=e||"",t.indent_level>0&&(e=new Array(t.indent_level+1).join(this.__indent_string)),this.__base_string=e,this.__base_string_length=e.length}jl.prototype.get_indent_size=function(t,e){var n=this.__base_string_length;return e=e||0,t<0&&(n=0),n+=t*this.__indent_size,n+=e,n};jl.prototype.get_indent_string=function(t,e){var n=this.__base_string;return e=e||0,t<0&&(t=0,n=""),e+=t*this.__indent_size,this.__ensure_cache(e),n+=this.__cache[e],n};jl.prototype.__ensure_cache=function(t){for(;t>=this.__cache.length;)this.__add_column()};jl.prototype.__add_column=function(){var t=this.__cache.length,e=0,n="";this.__indent_size&&t>=this.__indent_size&&(e=Math.floor(t/this.__indent_size),t-=e*this.__indent_size,n=new Array(e+1).join(this.__indent_string)),t&&(n+=new Array(t+1).join(" ")),this.__cache.push(n)};function sn(t,e){this.__indent_cache=new jl(t,e),this.raw=!1,this._end_with_newline=t.end_with_newline,this.indent_size=t.indent_size,this.wrap_line_length=t.wrap_line_length,this.indent_empty_lines=t.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new rn(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}sn.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)};sn.prototype.get_line_number=function(){return this.__lines.length};sn.prototype.get_indent_string=function(t,e){return this.__indent_cache.get_indent_string(t,e)};sn.prototype.get_indent_size=function(t,e){return this.__indent_cache.get_indent_size(t,e)};sn.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()};sn.prototype.add_new_line=function(t){return this.is_empty()||!t&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)};sn.prototype.get_code=function(t){this.trim(!0);var e=this.current_line.pop();e&&(e[e.length-1]===`
`&&(e=e.replace(/\n+$/g,"")),this.current_line.push(e)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join(`
`);return t!==`
`&&(n=n.replace(/[\n]/g,t)),n};sn.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()};sn.prototype.set_indent=function(t,e){return t=t||0,e=e||0,this.next_line.set_indent(t,e),this.__lines.length>1?(this.current_line.set_indent(t,e),!0):(this.current_line.set_indent(),!1)};sn.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1};sn.prototype.add_token=function(t){this.__add_space_before_token(),this.current_line.push(t),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()};sn.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))};sn.prototype.remove_indent=function(t){for(var e=this.__lines.length;t<e;)this.__lines[t]._remove_indent(),t++;this.current_line._remove_wrap_indent()};sn.prototype.trim=function(t){for(t=t===void 0?!1:t,this.current_line.trim();t&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null};sn.prototype.just_added_newline=function(){return this.current_line.is_empty()};sn.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()};sn.prototype.ensure_empty_line_above=function(t,e){for(var n=this.__lines.length-2;n>=0;){var r=this.__lines[n];if(r.is_empty())break;if(r.item(0).indexOf(t)!==0&&r.item(-1)!==e){this.__lines.splice(n+1,0,new rn(this)),this.previous_line=this.__lines[this.__lines.length-2];break}n--}};uC.exports.Output=sn});var nh=B((mee,cC)=>{"use strict";function xM(t,e,n,r){this.type=t,this.text=e,this.comments_before=null,this.newlines=n||0,this.whitespace_before=r||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}cC.exports.Token=xM});var ih=B(zi=>{"use strict";var RM="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",fC="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",rh="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",pC="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",dC="(?:\\\\u[0-9a-fA-F]{4}|["+RM+rh+"])",wM="(?:\\\\u[0-9a-fA-F]{4}|["+fC+rh+pC+"])*";zi.identifier=new RegExp(dC+wM,"g");zi.identifierStart=new RegExp(dC);zi.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+fC+rh+pC+"])+");zi.newline=/[\n\r\u2028\u2029]/;zi.lineBreak=new RegExp(`\r
|`+zi.newline.source);zi.allLineBreaks=new RegExp(zi.lineBreak.source,"g")});var If=B((gee,Sf)=>{"use strict";function Ss(t,e){this.raw_options=mC(t,e),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}Ss.prototype._get_array=function(t,e){var n=this.raw_options[t],r=e||[];return typeof n=="object"?n!==null&&typeof n.concat=="function"&&(r=n.concat()):typeof n=="string"&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r};Ss.prototype._get_boolean=function(t,e){var n=this.raw_options[t],r=n===void 0?!!e:!!n;return r};Ss.prototype._get_characters=function(t,e){var n=this.raw_options[t],r=e||"";return typeof n=="string"&&(r=n.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),r};Ss.prototype._get_number=function(t,e){var n=this.raw_options[t];e=parseInt(e,10),isNaN(e)&&(e=0);var r=parseInt(n,10);return isNaN(r)&&(r=e),r};Ss.prototype._get_selection=function(t,e,n){var r=this._get_selection_list(t,e,n);if(r.length!==1)throw new Error("Invalid Option Value: The option '"+t+`' can only be one of the following values:
`+e+`
You passed in: '`+this.raw_options[t]+"'");return r[0]};Ss.prototype._get_selection_list=function(t,e,n){if(!e||e.length===0)throw new Error("Selection list cannot be empty.");if(n=n||[e[0]],!this._is_valid_selection(n,e))throw new Error("Invalid Default Value!");var r=this._get_array(t,n);if(!this._is_valid_selection(r,e))throw new Error("Invalid Option Value: The option '"+t+`' can contain only the following values:
`+e+`
You passed in: '`+this.raw_options[t]+"'");return r};Ss.prototype._is_valid_selection=function(t,e){return t.length&&e.length&&!t.some(function(n){return e.indexOf(n)===-1})};function mC(t,e){var n={};t=hC(t);var r;for(r in t)r!==e&&(n[r]=t[r]);if(e&&t[e])for(r in t[e])n[r]=t[e][r];return n}function hC(t){var e={},n;for(n in t){var r=n.replace(/-/g,"_");e[r]=t[n]}return e}Sf.exports.Options=Ss;Sf.exports.normalizeOpts=hC;Sf.exports.mergeOpts=mC});var sh=B((_ee,yC)=>{"use strict";var gC=If().Options,OM=["before-newline","after-newline","preserve-newline"];function _C(t){gC.call(this,t,"js");var e=this.raw_options.brace_style||null;e==="expand-strict"?this.raw_options.brace_style="expand":e==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var r=0;r<n.length;r++)n[r]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=n[r];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",OM),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}_C.prototype=new gC;yC.exports.Options=_C});var xf=B((yee,TC)=>{"use strict";var bC=RegExp.prototype.hasOwnProperty("sticky");function dn(t){this.__input=t||"",this.__input_length=this.__input.length,this.__position=0}dn.prototype.restart=function(){this.__position=0};dn.prototype.back=function(){this.__position>0&&(this.__position-=1)};dn.prototype.hasNext=function(){return this.__position<this.__input_length};dn.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__input.charAt(this.__position),this.__position+=1),t};dn.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__input_length&&(e=this.__input.charAt(t)),e};dn.prototype.__match=function(t,e){t.lastIndex=e;var n=t.exec(this.__input);return n&&!(bC&&t.sticky)&&n.index!==e&&(n=null),n};dn.prototype.test=function(t,e){return e=e||0,e+=this.__position,e>=0&&e<this.__input_length?!!this.__match(t,e):!1};dn.prototype.testChar=function(t,e){var n=this.peek(e);return t.lastIndex=0,n!==null&&t.test(n)};dn.prototype.match=function(t){var e=this.__match(t,this.__position);return e?this.__position+=e[0].length:e=null,e};dn.prototype.read=function(t,e,n){var r="",i;return t&&(i=this.match(t),i&&(r+=i[0])),e&&(i||!t)&&(r+=this.readUntil(e,n)),r};dn.prototype.readUntil=function(t,e){var n="",r=this.__position;t.lastIndex=this.__position;var i=t.exec(this.__input);return i?(r=i.index,e&&(r+=i[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n};dn.prototype.readUntilAfter=function(t){return this.readUntil(t,!0)};dn.prototype.get_regexp=function(t,e){var n=null,r="g";return e&&bC&&(r="y"),typeof t=="string"&&t!==""?n=new RegExp(t,r):t&&(n=new RegExp(t.source,r)),n};dn.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))};dn.prototype.peekUntilAfter=function(t){var e=this.__position,n=this.readUntilAfter(t);return this.__position=e,n};dn.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t};TC.exports.InputScanner=dn});var NC=B((bee,vC)=>{"use strict";function ca(t){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=t}ca.prototype.restart=function(){this.__position=0};ca.prototype.isEmpty=function(){return this.__tokens_length===0};ca.prototype.hasNext=function(){return this.__position<this.__tokens_length};ca.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__tokens[this.__position],this.__position+=1),t};ca.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__tokens_length&&(e=this.__tokens[t]),e};ca.prototype.add=function(t){this.__parent_token&&(t.parent=this.__parent_token),this.__tokens.push(t),this.__tokens_length+=1};vC.exports.TokenStream=ca});var Ul=B((Tee,CC)=>{"use strict";function Ei(t,e){this._input=t,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,e&&(this._starting_pattern=this._input.get_regexp(e._starting_pattern,!0),this._match_pattern=this._input.get_regexp(e._match_pattern,!0),this._until_pattern=this._input.get_regexp(e._until_pattern),this._until_after=e._until_after)}Ei.prototype.read=function(){var t=this._input.read(this._starting_pattern);return(!this._starting_pattern||t)&&(t+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),t};Ei.prototype.read_match=function(){return this._input.match(this._match_pattern)};Ei.prototype.until_after=function(t){var e=this._create();return e._until_after=!0,e._until_pattern=this._input.get_regexp(t),e._update(),e};Ei.prototype.until=function(t){var e=this._create();return e._until_after=!1,e._until_pattern=this._input.get_regexp(t),e._update(),e};Ei.prototype.starting_with=function(t){var e=this._create();return e._starting_pattern=this._input.get_regexp(t,!0),e._update(),e};Ei.prototype.matching=function(t){var e=this._create();return e._match_pattern=this._input.get_regexp(t,!0),e._update(),e};Ei.prototype._create=function(){return new Ei(this._input,this)};Ei.prototype._update=function(){};CC.exports.Pattern=Ei});var DC=B((vee,EC)=>{"use strict";var PC=Ul().Pattern;function Is(t,e){PC.call(this,t,e),e?this._line_regexp=this._input.get_regexp(e._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}Is.prototype=new PC;Is.prototype.__set_whitespace_patterns=function(t,e){t+="\\t ",e+="\\n\\r",this._match_pattern=this._input.get_regexp("["+t+e+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+e+"]")};Is.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var t=this._input.read(this._match_pattern);if(t===" ")this.whitespace_before_token=" ";else if(t){var e=this.__split(this._newline_regexp,t);this.newline_count=e.length-1,this.whitespace_before_token=e[this.newline_count]}return t};Is.prototype.matching=function(t,e){var n=this._create();return n.__set_whitespace_patterns(t,e),n._update(),n};Is.prototype._create=function(){return new Is(this._input,this)};Is.prototype.__split=function(t,e){t.lastIndex=0;for(var n=0,r=[],i=t.exec(e);i;)r.push(e.substring(n,i.index)),n=i.index+i[0].length,i=t.exec(e);return n<e.length?r.push(e.substring(n,e.length)):r.push(""),r};EC.exports.WhitespacePattern=Is});var Gl=B((Nee,oh)=>{"use strict";var LM=xf().InputScanner,AC=nh().Token,ah=NC().TokenStream,FM=DC().WhitespacePattern,Wl={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},Di=function(t,e){this._input=new LM(t),this._options=e||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new FM(this._input)};Di.prototype.tokenize=function(){this._input.restart(),this.__tokens=new ah,this._reset();for(var t,e=new AC(Wl.START,""),n=null,r=[],i=new ah;e.type!==Wl.EOF;){for(t=this._get_next_token(e,n);this._is_comment(t);)i.add(t),t=this._get_next_token(e,n);i.isEmpty()||(t.comments_before=i,i=new ah),t.parent=n,this._is_opening(t)?(r.push(n),n=t):n&&this._is_closing(t,n)&&(t.opened=n,n.closed=t,n=r.pop(),t.parent=n),t.previous=e,e.next=t,this.__tokens.add(t),e=t}return this.__tokens};Di.prototype._is_first_token=function(){return this.__tokens.isEmpty()};Di.prototype._reset=function(){};Di.prototype._get_next_token=function(t,e){this._readWhitespace();var n=this._input.read(/.+/g);return n?this._create_token(Wl.RAW,n):this._create_token(Wl.EOF,"")};Di.prototype._is_comment=function(t){return!1};Di.prototype._is_opening=function(t){return!1};Di.prototype._is_closing=function(t,e){return!1};Di.prototype._create_token=function(t,e){var n=new AC(t,e,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return n};Di.prototype._readWhitespace=function(){return this._patterns.whitespace.read()};oh.exports.Tokenizer=Di;oh.exports.TOKEN=Wl});var Rf=B((Cee,SC)=>{"use strict";function lh(t,e){t=typeof t=="string"?t:t.source,e=typeof e=="string"?e:e.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+e,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+e,"g")}lh.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var e={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(t);n;)e[n[1]]=n[2],n=this.__directive_pattern.exec(t);return e};lh.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)};SC.exports.Directives=lh});var fh=B((Pee,IC)=>{"use strict";var uh=Ul().Pattern,ch={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function ri(t,e){uh.call(this,t,e),this.__template_pattern=null,this._disabled=Object.assign({},ch),this._excluded=Object.assign({},ch),e&&(this.__template_pattern=this._input.get_regexp(e.__template_pattern),this._excluded=Object.assign(this._excluded,e._excluded),this._disabled=Object.assign(this._disabled,e._disabled));var n=new uh(t);this.__patterns={handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:n.starting_with(/{{{/).until_after(/}}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),php:n.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:n.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:n.starting_with(/{%/).until_after(/%}/),django_value:n.starting_with(/{{/).until_after(/}}/),django_comment:n.starting_with(/{#/).until_after(/#}/),smarty:n.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:n.starting_with(/{\*/).until_after(/\*}/),smarty_literal:n.starting_with(/{literal}/).until_after(/{\/literal}/)}}ri.prototype=new uh;ri.prototype._create=function(){return new ri(this._input,this)};ri.prototype._update=function(){this.__set_templated_pattern()};ri.prototype.disable=function(t){var e=this._create();return e._disabled[t]=!0,e._update(),e};ri.prototype.read_options=function(t){var e=this._create();for(var n in ch)e._disabled[n]=t.templating.indexOf(n)===-1;return e._update(),e};ri.prototype.exclude=function(t){var e=this._create();return e._excluded[t]=!0,e._update(),e};ri.prototype.read=function(){var t="";this._match_pattern?t=this._input.read(this._starting_pattern):t=this._input.read(this._starting_pattern,this.__template_pattern);for(var e=this._read_template();e;)this._match_pattern?e+=this._input.read(this._match_pattern):e+=this._input.readUntil(this.__template_pattern),t+=e,e=this._read_template();return this._until_after&&(t+=this._input.readUntilAfter(this._until_pattern)),t};ri.prototype.__set_templated_pattern=function(){var t=[];this._disabled.php||t.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||t.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||t.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(t.push(this.__patterns.django._starting_pattern.source),t.push(this.__patterns.django_value._starting_pattern.source),t.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||t.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&t.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+t.join("|")+")")};ri.prototype._read_template=function(){var t="",e=this._input.peek();if(e==="<"){var n=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&n==="?"&&(t=t||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&n==="%"&&(t=t||this.__patterns.erb.read())}else e==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(t=t||this.__patterns.handlebars_comment.read(),t=t||this.__patterns.handlebars_unescaped.read(),t=t||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(t=t||this.__patterns.django_value.read()),this._excluded.django||(t=t||this.__patterns.django_comment.read(),t=t||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(t=t||this.__patterns.smarty_comment.read(),t=t||this.__patterns.smarty_literal.read(),t=t||this.__patterns.smarty.read()));return t};IC.exports.TemplatablePattern=ri});var $l=B((Eee,Yl)=>{"use strict";var MM=xf().InputScanner,xC=Gl().Tokenizer,ph=Gl().TOKEN,kM=Rf().Directives,vr=ih(),qM=Ul().Pattern,BM=fh().TemplatablePattern;function dh(t,e){return e.indexOf(t)!==-1}var Ne={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:ph.START,RAW:ph.RAW,EOF:ph.EOF},RC=new kM(/\/\*/,/\*\//),VM=/0[xX][0123456789abcdefABCDEF]*|0[oO][01234567]*|0[bB][01]*|\d+n|(?:\.\d+|\d+\.?\d*)(?:[eE][+-]?\d+)?/,jM=/[0-9]/,UM=/[^\d\.]/,WM=">>> === !== << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),fa=">>>= ... >>= <<= === >>> !== **= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";fa=fa.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");fa="\\?\\.(?!\\d) "+fa;fa=fa.replace(/ /g,"|");var GM=new RegExp(fa),wC="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),YM=wC.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),$M=new RegExp("^(?:"+YM.join("|")+")$"),wf,mn=function(t,e){xC.call(this,t,e),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var n=new qM(this._input),r=new BM(this._input).read_options(this._options);this.__patterns={template:r,identifier:r.starting_with(vr.identifier).matching(vr.identifierMatch),number:n.matching(VM),punct:n.matching(GM),comment:n.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:n.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:n.matching(/<!--/),html_comment_end:n.matching(/-->/),include:n.starting_with(/#include/).until_after(vr.lineBreak),shebang:n.starting_with(/#!/).until_after(vr.lineBreak),xml:n.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\]|)(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/),single_quote:r.until(/['\\\n\r\u2028\u2029]/),double_quote:r.until(/["\\\n\r\u2028\u2029]/),template_text:r.until(/[`\\$]/),template_expression:r.until(/[`}\\]/)}};mn.prototype=new xC;mn.prototype._is_comment=function(t){return t.type===Ne.COMMENT||t.type===Ne.BLOCK_COMMENT||t.type===Ne.UNKNOWN};mn.prototype._is_opening=function(t){return t.type===Ne.START_BLOCK||t.type===Ne.START_EXPR};mn.prototype._is_closing=function(t,e){return(t.type===Ne.END_BLOCK||t.type===Ne.END_EXPR)&&e&&(t.text==="]"&&e.text==="["||t.text===")"&&e.text==="("||t.text==="}"&&e.text==="{")};mn.prototype._reset=function(){wf=!1};mn.prototype._get_next_token=function(t,e){var n=null;this._readWhitespace();var r=this._input.peek();return r===null?this._create_token(Ne.EOF,""):(n=n||this._read_non_javascript(r),n=n||this._read_string(r),n=n||this._read_word(t),n=n||this._read_singles(r),n=n||this._read_comment(r),n=n||this._read_regexp(r,t),n=n||this._read_xml(r,t),n=n||this._read_punctuation(),n=n||this._create_token(Ne.UNKNOWN,this._input.next()),n)};mn.prototype._read_word=function(t){var e;if(e=this.__patterns.identifier.read(),e!=="")return e=e.replace(vr.allLineBreaks,`
`),!(t.type===Ne.DOT||t.type===Ne.RESERVED&&(t.text==="set"||t.text==="get"))&&$M.test(e)?e==="in"||e==="of"?this._create_token(Ne.OPERATOR,e):this._create_token(Ne.RESERVED,e):this._create_token(Ne.WORD,e);if(e=this.__patterns.number.read(),e!=="")return this._create_token(Ne.WORD,e)};mn.prototype._read_singles=function(t){var e=null;return t==="("||t==="["?e=this._create_token(Ne.START_EXPR,t):t===")"||t==="]"?e=this._create_token(Ne.END_EXPR,t):t==="{"?e=this._create_token(Ne.START_BLOCK,t):t==="}"?e=this._create_token(Ne.END_BLOCK,t):t===";"?e=this._create_token(Ne.SEMICOLON,t):t==="."&&UM.test(this._input.peek(1))?e=this._create_token(Ne.DOT,t):t===","&&(e=this._create_token(Ne.COMMA,t)),e&&this._input.next(),e};mn.prototype._read_punctuation=function(){var t=this.__patterns.punct.read();if(t!=="")return t==="="?this._create_token(Ne.EQUALS,t):t==="?."?this._create_token(Ne.DOT,t):this._create_token(Ne.OPERATOR,t)};mn.prototype._read_non_javascript=function(t){var e="";if(t==="#"){if(this._is_first_token()&&(e=this.__patterns.shebang.read(),e))return this._create_token(Ne.UNKNOWN,e.trim()+`
`);if(e=this.__patterns.include.read(),e)return this._create_token(Ne.UNKNOWN,e.trim()+`
`);t=this._input.next();var n="#";if(this._input.hasNext()&&this._input.testChar(jM)){do t=this._input.next(),n+=t;while(this._input.hasNext()&&t!=="#"&&t!=="=");return t==="#"||(this._input.peek()==="["&&this._input.peek(1)==="]"?(n+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(n+="{}",this._input.next(),this._input.next())),this._create_token(Ne.WORD,n)}this._input.back()}else if(t==="<"&&this._is_first_token()){if(e=this.__patterns.html_comment_start.read(),e){for(;this._input.hasNext()&&!this._input.testChar(vr.newline);)e+=this._input.next();return wf=!0,this._create_token(Ne.COMMENT,e)}}else if(wf&&t==="-"&&(e=this.__patterns.html_comment_end.read(),e))return wf=!1,this._create_token(Ne.COMMENT,e);return null};mn.prototype._read_comment=function(t){var e=null;if(t==="/"){var n="";if(this._input.peek(1)==="*"){n=this.__patterns.block_comment.read();var r=RC.get_directives(n);r&&r.ignore==="start"&&(n+=RC.readIgnored(this._input)),n=n.replace(vr.allLineBreaks,`
`),e=this._create_token(Ne.BLOCK_COMMENT,n),e.directives=r}else this._input.peek(1)==="/"&&(n=this.__patterns.comment.read(),e=this._create_token(Ne.COMMENT,n))}return e};mn.prototype._read_string=function(t){if(t==="`"||t==="'"||t==='"'){var e=this._input.next();return this.has_char_escapes=!1,t==="`"?e+=this._read_string_recursive("`",!0,"${"):e+=this._read_string_recursive(t),this.has_char_escapes&&this._options.unescape_strings&&(e=HM(e)),this._input.peek()===t&&(e+=this._input.next()),e=e.replace(vr.allLineBreaks,`
`),this._create_token(Ne.STRING,e)}return null};mn.prototype._allow_regexp_or_xml=function(t){return t.type===Ne.RESERVED&&dh(t.text,["return","case","throw","else","do","typeof","yield"])||t.type===Ne.END_EXPR&&t.text===")"&&t.opened.previous.type===Ne.RESERVED&&dh(t.opened.previous.text,["if","while","for"])||dh(t.type,[Ne.COMMENT,Ne.START_EXPR,Ne.START_BLOCK,Ne.START,Ne.END_BLOCK,Ne.OPERATOR,Ne.EQUALS,Ne.EOF,Ne.SEMICOLON,Ne.COMMA])};mn.prototype._read_regexp=function(t,e){if(t==="/"&&this._allow_regexp_or_xml(e)){for(var n=this._input.next(),r=!1,i=!1;this._input.hasNext()&&(r||i||this._input.peek()!==t)&&!this._input.testChar(vr.newline);)n+=this._input.peek(),r?r=!1:(r=this._input.peek()==="\\",this._input.peek()==="["?i=!0:this._input.peek()==="]"&&(i=!1)),this._input.next();return this._input.peek()===t&&(n+=this._input.next(),n+=this._input.read(vr.identifier)),this._create_token(Ne.STRING,n)}return null};mn.prototype._read_xml=function(t,e){if(this._options.e4x&&t==="<"&&this._allow_regexp_or_xml(e)){var n="",r=this.__patterns.xml.read_match();if(r){for(var i=r[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),s=i.indexOf("{")===0,a=0;r;){var o=!!r[1],l=r[2],u=!!r[r.length-1]||l.slice(0,8)==="![CDATA[";if(!u&&(l===i||s&&l.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(o?--a:++a),n+=r[0],a<=0)break;r=this.__patterns.xml.read_match()}return r||(n+=this._input.match(/[\s\S]*/g)[0]),n=n.replace(vr.allLineBreaks,`
`),this._create_token(Ne.STRING,n)}}return null};function HM(t){for(var e="",n=0,r=new MM(t),i=null;r.hasNext();)if(i=r.match(/([\s]|[^\\]|\\\\)+/g),i&&(e+=i[0]),r.peek()==="\\"){if(r.next(),r.peek()==="x")i=r.match(/x([0-9A-Fa-f]{2})/g);else if(r.peek()==="u")i=r.match(/u([0-9A-Fa-f]{4})/g);else{e+="\\",r.hasNext()&&(e+=r.next());continue}if(!i||(n=parseInt(i[1],16),n>126&&n<=255&&i[0].indexOf("x")===0))return t;if(n>=0&&n<32){e+="\\"+i[0];continue}else n===34||n===39||n===92?e+="\\"+String.fromCharCode(n):e+=String.fromCharCode(n)}return e}mn.prototype._read_string_recursive=function(t,e,n){var r,i;t==="'"?i=this.__patterns.single_quote:t==='"'?i=this.__patterns.double_quote:t==="`"?i=this.__patterns.template_text:t==="}"&&(i=this.__patterns.template_expression);for(var s=i.read(),a="";this._input.hasNext();){if(a=this._input.next(),a===t||!e&&vr.newline.test(a)){this._input.back();break}else a==="\\"&&this._input.hasNext()?(r=this._input.peek(),r==="x"||r==="u"?this.has_char_escapes=!0:r==="\r"&&this._input.peek(1)===`
`&&this._input.next(),a+=this._input.next()):n&&(n==="${"&&a==="$"&&this._input.peek()==="{"&&(a+=this._input.next()),n===a&&(t==="`"?a+=this._read_string_recursive("}",e,"`"):a+=this._read_string_recursive("`",e,"${"),this._input.hasNext()&&(a+=this._input.next())));a+=i.read(),s+=a}return s};Yl.exports.Tokenizer=mn;Yl.exports.TOKEN=Ne;Yl.exports.positionable_operators=WM.slice();Yl.exports.line_starters=wC.slice()});var MC=B((Dee,FC)=>{"use strict";var KM=Af().Output,zM=nh().Token,Of=ih(),XM=sh().Options,QM=$l().Tokenizer,Hl=$l().line_starters,Kl=$l().positionable_operators,U=$l().TOKEN;function Ye(t,e){return e.indexOf(t)!==-1}function JM(t){return t.replace(/^\s+/g,"")}function ZM(t){for(var e={},n=0;n<t.length;n++)e[t[n].replace(/-/g,"_")]=t[n];return e}function Nr(t,e){return t&&t.type===U.RESERVED&&t.text===e}function pt(t,e){return t&&t.type===U.RESERVED&&Ye(t.text,e)}var Lf=["case","return","do","if","throw","else","await","break","continue","async"],ek=["before-newline","after-newline","preserve-newline"],zl=ZM(ek),OC=[zl.before_newline,zl.preserve_newline],Ce={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function LC(t,e){e.multiline_frame||e.mode===Ce.ForInitializer||e.mode===Ce.Conditional||t.remove_indent(e.start_line_index)}function tk(t){t=t.replace(Of.allLineBreaks,`
`);for(var e=[],n=t.indexOf(`
`);n!==-1;)e.push(t.substring(0,n)),t=t.substring(n+1),n=t.indexOf(`
`);return t.length&&e.push(t),e}function xs(t){return t===Ce.ArrayLiteral}function Xl(t){return Ye(t,[Ce.Expression,Ce.ForInitializer,Ce.Conditional])}function nk(t,e){for(var n=0;n<t.length;n++){var r=t[n].trim();if(r.charAt(0)!==e)return!1}return!0}function rk(t,e){for(var n=0,r=t.length,i;n<r;n++)if(i=t[n],i&&i.indexOf(e)!==0)return!1;return!0}function Qe(t,e){e=e||{},this._source_text=t||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new XM(e)}Qe.prototype.create_flags=function(t,e){var n=0;t&&(n=t.indentation_level,!this._output.just_added_newline()&&t.line_indent_level>n&&(n=t.line_indent_level));var r={mode:e,parent:t,last_token:t?t.last_token:new zM(U.START_BLOCK,""),last_word:t?t.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,alignment:0,line_indent_level:t?t.line_indent_level:n,start_line_index:this._output.get_line_number(),ternary_depth:0};return r};Qe.prototype._reset=function(t){var e=t.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new KM(this._options,e),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(Ce.BlockStatement);var n=new QM(t,this._options);return this._tokens=n.tokenize(),t};Qe.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t,e=this._reset(this._source_text),n=this._options.eol;this._options.eol==="auto"&&(n=`
`,e&&Of.lineBreak.test(e||"")&&(n=e.match(Of.lineBreak)[0]));for(var r=this._tokens.next();r;)this.handle_token(r),this._last_last_text=this._flags.last_token.text,this._flags.last_token=r,r=this._tokens.next();return t=this._output.get_code(n),t};Qe.prototype.handle_token=function(t,e){t.type===U.START_EXPR?this.handle_start_expr(t):t.type===U.END_EXPR?this.handle_end_expr(t):t.type===U.START_BLOCK?this.handle_start_block(t):t.type===U.END_BLOCK?this.handle_end_block(t):t.type===U.WORD?this.handle_word(t):t.type===U.RESERVED?this.handle_word(t):t.type===U.SEMICOLON?this.handle_semicolon(t):t.type===U.STRING?this.handle_string(t):t.type===U.EQUALS?this.handle_equals(t):t.type===U.OPERATOR?this.handle_operator(t):t.type===U.COMMA?this.handle_comma(t):t.type===U.BLOCK_COMMENT?this.handle_block_comment(t,e):t.type===U.COMMENT?this.handle_comment(t,e):t.type===U.DOT?this.handle_dot(t):t.type===U.EOF?this.handle_eof(t):t.type===U.UNKNOWN?this.handle_unknown(t,e):this.handle_unknown(t,e)};Qe.prototype.handle_whitespace_and_comments=function(t,e){var n=t.newlines,r=this._options.keep_array_indentation&&xs(this._flags.mode);if(t.comments_before)for(var i=t.comments_before.next();i;)this.handle_whitespace_and_comments(i,e),this.handle_token(i,e),i=t.comments_before.next();if(r)for(var s=0;s<n;s+=1)this.print_newline(s>0,e);else if(this._options.max_preserve_newlines&&n>this._options.max_preserve_newlines&&(n=this._options.max_preserve_newlines),this._options.preserve_newlines&&n>1){this.print_newline(!1,e);for(var a=1;a<n;a+=1)this.print_newline(!0,e)}};var mh=["async","break","continue","return","throw","yield"];Qe.prototype.allow_wrap_or_preserved_newline=function(t,e){if(e=e===void 0?!1:e,!this._output.just_added_newline()){var n=this._options.preserve_newlines&&t.newlines||e,r=Ye(this._flags.last_token.text,Kl)||Ye(t.text,Kl);if(r){var i=Ye(this._flags.last_token.text,Kl)&&Ye(this._options.operator_position,OC)||Ye(t.text,Kl);n=n&&i}if(n)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(pt(this._flags.last_token,mh))return;this._output.set_wrap_point()}}};Qe.prototype.print_newline=function(t,e){if(!e&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==U.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var n=this._tokens.peek();this._flags.mode===Ce.Statement&&!(this._flags.if_block&&Nr(n,"else"))&&!this._flags.do_block;)this.restore_mode();this._output.add_new_line(t)&&(this._flags.multiline_frame=!0)};Qe.prototype.print_token_line_indentation=function(t){this._output.just_added_newline()&&(this._options.keep_array_indentation&&t.newlines&&(t.text==="["||xs(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(t.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))};Qe.prototype.print_token=function(t){if(this._output.raw){this._output.add_raw_token(t);return}if(this._options.comma_first&&t.previous&&t.previous.type===U.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","){var e=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(e),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(t),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(t),this._output.non_breaking_space=!0,this._output.add_token(t.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)};Qe.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};Qe.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};Qe.prototype.set_mode=function(t){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,t),this._flags=this.create_flags(this._previous_flags,t),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};Qe.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===Ce.Statement&&LC(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};Qe.prototype.start_of_object_property=function(){return this._flags.parent.mode===Ce.ObjectLiteral&&this._flags.mode===Ce.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||pt(this._flags.last_token,["get","set"]))};Qe.prototype.start_of_statement=function(t){var e=!1;return e=e||pt(this._flags.last_token,["var","let","const"])&&t.type===U.WORD,e=e||Nr(this._flags.last_token,"do"),e=e||!(this._flags.parent.mode===Ce.ObjectLiteral&&this._flags.mode===Ce.Statement)&&pt(this._flags.last_token,mh)&&!t.newlines,e=e||Nr(this._flags.last_token,"else")&&!(Nr(t,"if")&&!t.comments_before),e=e||this._flags.last_token.type===U.END_EXPR&&(this._previous_flags.mode===Ce.ForInitializer||this._previous_flags.mode===Ce.Conditional),e=e||this._flags.last_token.type===U.WORD&&this._flags.mode===Ce.BlockStatement&&!this._flags.in_case&&!(t.text==="--"||t.text==="++")&&this._last_last_text!=="function"&&t.type!==U.WORD&&t.type!==U.RESERVED,e=e||this._flags.mode===Ce.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||pt(this._flags.last_token,["get","set"])),e?(this.set_mode(Ce.Statement),this.indent(),this.handle_whitespace_and_comments(t,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t,pt(t,["do","for","if","while"])),!0):!1};Qe.prototype.handle_start_expr=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t);var e=Ce.Expression;if(t.text==="["){if(this._flags.last_token.type===U.WORD||this._flags.last_token.text===")"){pt(this._flags.last_token,Hl)&&(this._output.space_before_token=!0),this.print_token(t),this.set_mode(e),this.indent(),this._options.space_in_paren&&(this._output.space_before_token=!0);return}e=Ce.ArrayLiteral,xs(this._flags.mode)&&(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}"))&&(this._options.keep_array_indentation||this.print_newline()),Ye(this._flags.last_token.type,[U.START_EXPR,U.END_EXPR,U.WORD,U.OPERATOR,U.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===U.RESERVED)this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,e=Ce.ForInitializer):Ye(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,e=Ce.Conditional):Ye(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&t.whitespace_before===""?this._output.space_before_token=!1:(Ye(this._flags.last_token.text,Hl)||this._flags.last_token.text==="catch")&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===U.EQUALS||this._flags.last_token.type===U.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t);else if(this._flags.last_token.type===U.WORD){this._output.space_before_token=!1;var n=this._tokens.peek(-3);if(this._options.space_after_named_function&&n){var r=this._tokens.peek(-4);pt(n,["async","function"])||n.text==="*"&&pt(r,["async","function"])?this._output.space_before_token=!0:this._flags.mode===Ce.ObjectLiteral&&(n.text==="{"||n.text===","||n.text==="*"&&(r.text==="{"||r.text===","))&&(this._output.space_before_token=!0)}}else this.allow_wrap_or_preserved_newline(t);(this._flags.last_token.type===U.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(Ye(this._last_last_text,["function","yield"])||this._flags.mode===Ce.ObjectLiteral&&Ye(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}this._flags.last_token.text===";"||this._flags.last_token.type===U.START_BLOCK?this.print_newline():(this._flags.last_token.type===U.END_EXPR||this._flags.last_token.type===U.START_EXPR||this._flags.last_token.type===U.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===U.COMMA)&&this.allow_wrap_or_preserved_newline(t,t.newlines),this.print_token(t),this.set_mode(e),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()};Qe.prototype.handle_end_expr=function(t){for(;this._flags.mode===Ce.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(t,t.text==="]"&&xs(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type===U.START_EXPR&&!this._options.space_in_empty_paren?(this._output.trim(),this._output.space_before_token=!1):this._output.space_before_token=!0),this.deindent(),this.print_token(t),this.restore_mode(),LC(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===Ce.Conditional&&(this._previous_flags.mode=Ce.Expression,this._flags.do_block=!1,this._flags.do_while=!1)};Qe.prototype.handle_start_block=function(t){this.handle_whitespace_and_comments(t);var e=this._tokens.peek(),n=this._tokens.peek(1);this._flags.last_word==="switch"&&this._flags.last_token.type===U.END_EXPR?(this.set_mode(Ce.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(Ce.BlockStatement):n&&(Ye(n.text,[":",","])&&Ye(e.type,[U.STRING,U.WORD,U.RESERVED])||Ye(e.text,["get","set","..."])&&Ye(n.type,[U.WORD,U.RESERVED]))?Ye(this._last_last_text,["class","interface"])?this.set_mode(Ce.BlockStatement):this.set_mode(Ce.ObjectLiteral):this._flags.last_token.type===U.OPERATOR&&this._flags.last_token.text==="=>"?this.set_mode(Ce.BlockStatement):Ye(this._flags.last_token.type,[U.EQUALS,U.START_EXPR,U.COMMA,U.OPERATOR])||pt(this._flags.last_token,["return","throw","import","default"])?this.set_mode(Ce.ObjectLiteral):this.set_mode(Ce.BlockStatement);var r=!e.comments_before&&e.text==="}",i=r&&this._flags.last_word==="function"&&this._flags.last_token.type===U.END_EXPR;if(this._options.brace_preserve_inline){var s=0,a=null;this._flags.inline_frame=!0;do if(s+=1,a=this._tokens.peek(s-1),a.newlines){this._flags.inline_frame=!1;break}while(a.type!==U.EOF&&!(a.type===U.END_BLOCK&&a.opened===t))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==U.OPERATOR&&(i||this._flags.last_token.type===U.EQUALS||pt(this._flags.last_token,Lf)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(xs(this._previous_flags.mode)&&(this._flags.last_token.type===U.START_EXPR||this._flags.last_token.type===U.COMMA)&&((this._flags.last_token.type===U.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===U.COMMA||this._flags.last_token.type===U.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(t),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==U.OPERATOR&&this._flags.last_token.type!==U.START_EXPR&&(this._flags.last_token.type===U.START_BLOCK&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(t),this.indent(),!r&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)&&this.print_newline()};Qe.prototype.handle_end_block=function(t){for(this.handle_whitespace_and_comments(t);this._flags.mode===Ce.Statement;)this.restore_mode();var e=this._flags.last_token.type===U.START_BLOCK;this._flags.inline_frame&&!e?this._output.space_before_token=!0:this._options.brace_style==="expand"?e||this.print_newline():e||(xs(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(t)};Qe.prototype.handle_word=function(t){if(t.type===U.RESERVED){if(Ye(t.text,["set","get"])&&this._flags.mode!==Ce.ObjectLiteral)t.type=U.WORD;else if(t.text==="import"&&this._tokens.peek().text==="(")t.type=U.WORD;else if(Ye(t.text,["as","from"])&&!this._flags.import_block)t.type=U.WORD;else if(this._flags.mode===Ce.ObjectLiteral){var e=this._tokens.peek();e.text===":"&&(t.type=U.WORD)}}if(this.start_of_statement(t)?pt(this._flags.last_token,["var","let","const"])&&t.type===U.WORD&&(this._flags.declaration_statement=!0):t.newlines&&!Xl(this._flags.mode)&&(this._flags.last_token.type!==U.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")&&this._flags.last_token.type!==U.EQUALS&&(this._options.preserve_newlines||!pt(this._flags.last_token,["var","let","const","set","get"]))?(this.handle_whitespace_and_comments(t),this.print_newline()):this.handle_whitespace_and_comments(t),this._flags.do_block&&!this._flags.do_while)if(Nr(t,"while")){this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0,this._flags.do_while=!0;return}else this.print_newline(),this._flags.do_block=!1;if(this._flags.if_block)if(!this._flags.else_block&&Nr(t,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===Ce.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&pt(t,["case","default"])){this.print_newline(),this._flags.last_token.type!==U.END_BLOCK&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(t),this._flags.in_case=!0;return}if((this._flags.last_token.type===U.COMMA||this._flags.last_token.type===U.START_EXPR||this._flags.last_token.type===U.EQUALS||this._flags.last_token.type===U.OPERATOR)&&(this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t)),Nr(t,"function")){(Ye(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!(Ye(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===U.OPERATOR))&&!this._output.just_added_blankline()&&!t.comments_before&&(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===U.RESERVED||this._flags.last_token.type===U.WORD?pt(this._flags.last_token,["get","set","new","export"])||pt(this._flags.last_token,mh)?this._output.space_before_token=!0:Nr(this._flags.last_token,"default")&&this._last_last_text==="export"?this._output.space_before_token=!0:this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===U.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(Xl(this._flags.mode)||xs(this._flags.mode))||this.print_newline(),this.print_token(t),this._flags.last_word=t.text;return}var n="NONE";if(this._flags.last_token.type===U.END_BLOCK?this._previous_flags.inline_frame?n="SPACE":pt(t,["else","catch","finally","from"])?this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines?n="NEWLINE":(n="SPACE",this._output.space_before_token=!0):n="NEWLINE":this._flags.last_token.type===U.SEMICOLON&&this._flags.mode===Ce.BlockStatement?n="NEWLINE":this._flags.last_token.type===U.SEMICOLON&&Xl(this._flags.mode)?n="SPACE":this._flags.last_token.type===U.STRING?n="NEWLINE":this._flags.last_token.type===U.RESERVED||this._flags.last_token.type===U.WORD||this._flags.last_token.text==="*"&&(Ye(this._last_last_text,["function","yield"])||this._flags.mode===Ce.ObjectLiteral&&Ye(this._last_last_text,["{",","]))?n="SPACE":this._flags.last_token.type===U.START_BLOCK?this._flags.inline_frame?n="SPACE":n="NEWLINE":this._flags.last_token.type===U.END_EXPR&&(this._output.space_before_token=!0,n="NEWLINE"),pt(t,Hl)&&this._flags.last_token.text!==")"&&(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?n="SPACE":n="NEWLINE"),pt(t,["else","catch","finally"]))if((!(this._flags.last_token.type===U.END_BLOCK&&this._previous_flags.mode===Ce.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var r=this._output.current_line;r.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0}else n==="NEWLINE"?pt(this._flags.last_token,Lf)?this._output.space_before_token=!0:this._flags.last_token.text==="declare"&&pt(t,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==U.END_EXPR?(this._flags.last_token.type!==U.START_EXPR||!pt(t,["var","let","const"]))&&this._flags.last_token.text!==":"&&(Nr(t,"if")&&Nr(t.previous,"else")?this._output.space_before_token=!0:this.print_newline()):pt(t,Hl)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&xs(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():n==="SPACE"&&(this._output.space_before_token=!0);t.previous&&(t.previous.type===U.WORD||t.previous.type===U.RESERVED)&&(this._output.space_before_token=!0),this.print_token(t),this._flags.last_word=t.text,t.type===U.RESERVED&&(t.text==="do"?this._flags.do_block=!0:t.text==="if"?this._flags.if_block=!0:t.text==="import"?this._flags.import_block=!0:this._flags.import_block&&Nr(t,"from")&&(this._flags.import_block=!1))};Qe.prototype.handle_semicolon=function(t){this.start_of_statement(t)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(t);for(var e=this._tokens.peek();this._flags.mode===Ce.Statement&&!(this._flags.if_block&&Nr(e,"else"))&&!this._flags.do_block;)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(t)};Qe.prototype.handle_string=function(t){t.text.startsWith("`")&&t.newlines===0&&t.whitespace_before===""&&(t.previous.text===")"||this._flags.last_token.type===U.WORD)||(this.start_of_statement(t)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(t),this._flags.last_token.type===U.RESERVED||this._flags.last_token.type===U.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===U.COMMA||this._flags.last_token.type===U.START_EXPR||this._flags.last_token.type===U.EQUALS||this._flags.last_token.type===U.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t):t.text.startsWith("`")&&this._flags.last_token.type===U.END_EXPR&&(t.previous.text==="]"||t.previous.text===")")&&t.newlines===0?this._output.space_before_token=!0:this.print_newline())),this.print_token(t)};Qe.prototype.handle_equals=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0};Qe.prototype.handle_comma=function(t){this.handle_whitespace_and_comments(t,!0),this.print_token(t),this._output.space_before_token=!0,this._flags.declaration_statement?(Xl(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)):this._flags.mode===Ce.ObjectLiteral||this._flags.mode===Ce.Statement&&this._flags.parent.mode===Ce.ObjectLiteral?(this._flags.mode===Ce.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)};Qe.prototype.handle_operator=function(t){var e=t.text==="*"&&(pt(this._flags.last_token,["function","yield"])||Ye(this._flags.last_token.type,[U.START_BLOCK,U.COMMA,U.END_BLOCK,U.SEMICOLON])),n=Ye(t.text,["-","+"])&&(Ye(this._flags.last_token.type,[U.START_BLOCK,U.START_EXPR,U.EQUALS,U.OPERATOR])||Ye(this._flags.last_token.text,Hl)||this._flags.last_token.text===",");if(!this.start_of_statement(t)){var r=!e;this.handle_whitespace_and_comments(t,r)}if(pt(this._flags.last_token,Lf)){this._output.space_before_token=!0,this.print_token(t);return}if(t.text==="*"&&this._flags.last_token.type===U.DOT){this.print_token(t);return}if(t.text==="::"){this.print_token(t);return}if(this._flags.last_token.type===U.OPERATOR&&Ye(this._options.operator_position,OC)&&this.allow_wrap_or_preserved_newline(t),t.text===":"&&this._flags.in_case){this.print_token(t),this._flags.in_case=!1,this._flags.case_body=!0,this._tokens.peek().type!==U.START_BLOCK?(this.indent(),this.print_newline()):this._output.space_before_token=!0;return}var i=!0,s=!0,a=!1;if(t.text===":"?this._flags.ternary_depth===0?i=!1:(this._flags.ternary_depth-=1,a=!0):t.text==="?"&&(this._flags.ternary_depth+=1),!n&&!e&&this._options.preserve_newlines&&Ye(t.text,Kl)){var o=t.text===":",l=o&&a,u=o&&!a;switch(this._options.operator_position){case zl.before_newline:this._output.space_before_token=!u,this.print_token(t),(!o||l)&&this.allow_wrap_or_preserved_newline(t),this._output.space_before_token=!0;return;case zl.after_newline:this._output.space_before_token=!0,!o||l?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(t):this._output.space_before_token=!1,this.print_token(t),this._output.space_before_token=!0;return;case zl.preserve_newline:u||this.allow_wrap_or_preserved_newline(t),i=!(this._output.just_added_newline()||u),this._output.space_before_token=i,this.print_token(t),this._output.space_before_token=!0;return}}if(e){this.allow_wrap_or_preserved_newline(t),i=!1;var f=this._tokens.peek();s=f&&Ye(f.type,[U.WORD,U.RESERVED])}else t.text==="..."?(this.allow_wrap_or_preserved_newline(t),i=this._flags.last_token.type===U.START_BLOCK,s=!1):(Ye(t.text,["--","++","!","~"])||n)&&((this._flags.last_token.type===U.COMMA||this._flags.last_token.type===U.START_EXPR)&&this.allow_wrap_or_preserved_newline(t),i=!1,s=!1,t.newlines&&(t.text==="--"||t.text==="++")&&this.print_newline(!1,!0),this._flags.last_token.text===";"&&Xl(this._flags.mode)&&(i=!0),this._flags.last_token.type===U.RESERVED?i=!0:this._flags.last_token.type===U.END_EXPR?i=!(this._flags.last_token.text==="]"&&(t.text==="--"||t.text==="++")):this._flags.last_token.type===U.OPERATOR&&(i=Ye(t.text,["--","-","++","+"])&&Ye(this._flags.last_token.text,["--","-","++","+"]),Ye(t.text,["+","-"])&&Ye(this._flags.last_token.text,["--","++"])&&(s=!0)),(this._flags.mode===Ce.BlockStatement&&!this._flags.inline_frame||this._flags.mode===Ce.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")&&this.print_newline());this._output.space_before_token=this._output.space_before_token||i,this.print_token(t),this._output.space_before_token=s};Qe.prototype.handle_block_comment=function(t,e){if(this._output.raw){this._output.add_raw_token(t),t.directives&&t.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw);return}if(t.directives){this.print_newline(!1,e),this.print_token(t),t.directives.preserve==="start"&&(this._output.raw=!0),this.print_newline(!1,!0);return}if(!Of.newline.test(t.text)&&!t.newlines){this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0;return}else this.print_block_commment(t,e)};Qe.prototype.print_block_commment=function(t,e){var n=tk(t.text),r,i=!1,s=!1,a=t.whitespace_before,o=a.length;if(this.print_newline(!1,e),this.print_token_line_indentation(t),this._output.add_token(n[0]),this.print_newline(!1,e),n.length>1){for(n=n.slice(1),i=nk(n,"*"),s=rk(n,a),i&&(this._flags.alignment=1),r=0;r<n.length;r++)i?(this.print_token_line_indentation(t),this._output.add_token(JM(n[r]))):s&&n[r]?(this.print_token_line_indentation(t),this._output.add_token(n[r].substring(o))):(this._output.current_line.set_indent(-1),this._output.add_token(n[r])),this.print_newline(!1,e);this._flags.alignment=0}};Qe.prototype.handle_comment=function(t,e){t.newlines?this.print_newline(!1,e):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(t),this.print_newline(!1,e)};Qe.prototype.handle_dot=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t,!0),pt(this._flags.last_token,Lf)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(t,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(t)};Qe.prototype.handle_unknown=function(t,e){this.print_token(t),t.text[t.text.length-1]===`
`&&this.print_newline(!1,e)};Qe.prototype.handle_eof=function(t){for(;this._flags.mode===Ce.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t)};FC.exports.Beautifier=Qe});var kC=B((Aee,hh)=>{"use strict";var ik=MC().Beautifier,sk=sh().Options;function ak(t,e){var n=new ik(t,e);return n.beautify()}hh.exports=ak;hh.exports.defaultOptions=function(){return new sk}});var gh=B((See,VC)=>{"use strict";var qC=If().Options;function BC(t){qC.call(this,t,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var e=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||e;var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var r=0;r<n.length;r++)n[r]!=="expand"?this.brace_style="collapse":this.brace_style=n[r]}BC.prototype=new qC;VC.exports.Options=BC});var GC=B((Iee,WC)=>{"use strict";var ok=gh().Options,lk=Af().Output,uk=xf().InputScanner,ck=Rf().Directives,jC=new ck(/\/\*/,/\*\//),UC=/\r\n|[\r\n]/,fk=/\r\n|[\r\n]/g,Ff=/\s/,pk=/(?:\s|\n)+/g,dk=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,mk=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function Xi(t,e){this._source_text=t||"",this._options=new ok(e),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}Xi.prototype.eatString=function(t){var e="";for(this._ch=this._input.next();this._ch;){if(e+=this._ch,this._ch==="\\")e+=this._input.next();else if(t.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return e};Xi.prototype.eatWhitespace=function(t){for(var e=Ff.test(this._input.peek()),n=0;Ff.test(this._input.peek());)this._ch=this._input.next(),t&&this._ch===`
`&&(n===0||n<this._options.max_preserve_newlines)&&(n++,this._output.add_new_line(!0));return e};Xi.prototype.foundNestedPseudoClass=function(){for(var t=0,e=1,n=this._input.peek(e);n;){if(n==="{")return!0;if(n==="(")t+=1;else if(n===")"){if(t===0)return!1;t-=1}else if(n===";"||n==="}")return!1;e++,n=this._input.peek(e)}return!1};Xi.prototype.print_string=function(t){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(t)};Xi.prototype.preserveSingleSpace=function(t){t&&(this._output.space_before_token=!0)};Xi.prototype.indent=function(){this._indentLevel++};Xi.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--};Xi.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;e==="auto"&&(e=`
`,t&&UC.test(t||"")&&(e=t.match(UC)[0])),t=t.replace(fk,`
`);var n=t.match(/^[\t ]*/)[0];this._output=new lk(this._options,n),this._input=new uk(t),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var r=0,i=!1,s=!1,a=!1,o=!1,l=!1,u=this._ch,f,c,m;f=this._input.read(pk),c=f!=="",m=u,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),u=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var g=this._input.read(dk),d=jC.get_directives(g);d&&d.ignore==="start"&&(g+=jC.readIgnored(this._input)),this.print_string(g),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(mk)),this.eatWhitespace(!0);else if(this._ch==="@")if(this.preserveSingleSpace(c),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var p=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);p.match(/[ :]$/)&&(p=this.eatString(": ").replace(/\s$/,""),this.print_string(p),this._output.space_before_token=!0),p=p.replace(/\s$/,""),p==="extend"?o=!0:p==="import"&&(l=!0),p in this.NESTED_AT_RULE?(this._nestedLevel+=1,p in this.CONDITIONAL_GROUP_RULE&&(a=!0)):!i&&r===0&&p.indexOf(":")!==-1&&(s=!0,this.indent())}else this._ch==="#"&&this._input.peek()==="{"?(this.preserveSingleSpace(c),this.print_string(this._ch+this.eatString("}"))):this._ch==="{"?(s&&(s=!1,this.outdent()),a?(a=!1,i=this._indentLevel>=this._nestedLevel):i=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&i&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line()):this._ch==="}"?(this.outdent(),this._output.add_new_line(),m==="{"&&this._output.trim(!0),l=!1,o=!1,s&&(this.outdent(),s=!1),this.print_string(this._ch),i=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0)):this._ch===":"?(i||a)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!o&&r===0?(this.print_string(":"),s||(s=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):this._ch==='"'||this._ch==="'"?(this.preserveSingleSpace(c),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):this._ch===";"?r===0?(s&&(this.outdent(),s=!1),o=!1,l=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0):this._ch==="("?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),r++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),r&&(r--,this.outdent()))):(this.preserveSingleSpace(c),this.print_string(this._ch),this.eatWhitespace(),r++,this.indent()):this._ch===")"?(r&&(r--,this.outdent()),this.print_string(this._ch)):this._ch===","?(this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&!s&&r===0&&!l?this._output.add_new_line():this._output.space_before_token=!0):(this._ch===">"||this._ch==="+"||this._ch==="~")&&!s&&r===0?this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&Ff.test(this._ch)&&(this._ch="")):this._ch==="]"?this.print_string(this._ch):this._ch==="["?(this.preserveSingleSpace(c),this.print_string(this._ch)):this._ch==="="?(this.eatWhitespace(),this.print_string("="),Ff.test(this._ch)&&(this._ch="")):this._ch==="!"&&!this._input.lookBack("\\")?(this.print_string(" "),this.print_string(this._ch)):(this.preserveSingleSpace(c),this.print_string(this._ch));var h=this._output.get_code(e);return h};WC.exports.Beautifier=Xi});var YC=B((xee,_h)=>{"use strict";var hk=GC().Beautifier,gk=gh().Options;function _k(t,e){var n=new hk(t,e);return n.beautify()}_h.exports=_k;_h.exports.defaultOptions=function(){return new gk}});var yh=B((Ree,KC)=>{"use strict";var $C=If().Options;function HC(t){$C.call(this,t,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}HC.prototype=new $C;KC.exports.Options=HC});var vh=B((wee,Th)=>{"use strict";var zC=Gl().Tokenizer,bh=Gl().TOKEN,yk=Rf().Directives,bk=fh().TemplatablePattern,Tk=Ul().Pattern,xt={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:bh.START,RAW:bh.RAW,EOF:bh.EOF},XC=new yk(/<\!--/,/-->/),Tn=function(t,e){zC.call(this,t,e),this._current_tag_name="";var n=new bk(this._input).read_options(this._options),r=new Tk(this._input);if(this.__patterns={word:n.until(/[\n\r\t <]/),single_quote:n.until_after(/'/),double_quote:n.until_after(/"/),attribute:n.until(/[\n\r\t =>]|\/>/),element_name:n.until(/[\n\r\t >\/]/),handlebars_comment:r.starting_with(/{{!--/).until_after(/--}}/),handlebars:r.starting_with(/{{/).until_after(/}}/),handlebars_open:r.until(/[\n\r\t }]/),handlebars_raw_close:r.until(/}}/),comment:r.starting_with(/<!--/).until_after(/-->/),cdata:r.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:r.starting_with(/<!\[/).until_after(/]>/),processing:r.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var i=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=r.matching(i).until_after(i)}};Tn.prototype=new zC;Tn.prototype._is_comment=function(t){return!1};Tn.prototype._is_opening=function(t){return t.type===xt.TAG_OPEN};Tn.prototype._is_closing=function(t,e){return t.type===xt.TAG_CLOSE&&e&&((t.text===">"||t.text==="/>")&&e.text[0]==="<"||t.text==="}}"&&e.text[0]==="{"&&e.text[1]==="{")};Tn.prototype._reset=function(){this._current_tag_name=""};Tn.prototype._get_next_token=function(t,e){var n=null;this._readWhitespace();var r=this._input.peek();return r===null?this._create_token(xt.EOF,""):(n=n||this._read_open_handlebars(r,e),n=n||this._read_attribute(r,t,e),n=n||this._read_close(r,e),n=n||this._read_raw_content(r,t,e),n=n||this._read_content_word(r),n=n||this._read_comment_or_cdata(r),n=n||this._read_processing(r),n=n||this._read_open(r,e),n=n||this._create_token(xt.UNKNOWN,this._input.next()),n)};Tn.prototype._read_comment_or_cdata=function(t){var e=null,n=null,r=null;if(t==="<"){var i=this._input.peek(1);i==="!"&&(n=this.__patterns.comment.read(),n?(r=XC.get_directives(n),r&&r.ignore==="start"&&(n+=XC.readIgnored(this._input))):n=this.__patterns.cdata.read()),n&&(e=this._create_token(xt.COMMENT,n),e.directives=r)}return e};Tn.prototype._read_processing=function(t){var e=null,n=null,r=null;if(t==="<"){var i=this._input.peek(1);(i==="!"||i==="?")&&(n=this.__patterns.conditional_comment.read(),n=n||this.__patterns.processing.read()),n&&(e=this._create_token(xt.COMMENT,n),e.directives=r)}return e};Tn.prototype._read_open=function(t,e){var n=null,r=null;return e||t==="<"&&(n=this._input.next(),this._input.peek()==="/"&&(n+=this._input.next()),n+=this.__patterns.element_name.read(),r=this._create_token(xt.TAG_OPEN,n)),r};Tn.prototype._read_open_handlebars=function(t,e){var n=null,r=null;return e||this._options.indent_handlebars&&t==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(n=this.__patterns.handlebars_comment.read(),n=n||this.__patterns.handlebars.read(),r=this._create_token(xt.COMMENT,n)):(n=this.__patterns.handlebars_open.read(),r=this._create_token(xt.TAG_OPEN,n))),r};Tn.prototype._read_close=function(t,e){var n=null,r=null;return e&&(e.text[0]==="<"&&(t===">"||t==="/"&&this._input.peek(1)===">")?(n=this._input.next(),t==="/"&&(n+=this._input.next()),r=this._create_token(xt.TAG_CLOSE,n)):e.text[0]==="{"&&t==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),r=this._create_token(xt.TAG_CLOSE,"}}"))),r};Tn.prototype._read_attribute=function(t,e,n){var r=null,i="";if(n&&n.text[0]==="<")if(t==="=")r=this._create_token(xt.EQUALS,this._input.next());else if(t==='"'||t==="'"){var s=this._input.next();t==='"'?s+=this.__patterns.double_quote.read():s+=this.__patterns.single_quote.read(),r=this._create_token(xt.VALUE,s)}else i=this.__patterns.attribute.read(),i&&(e.type===xt.EQUALS?r=this._create_token(xt.VALUE,i):r=this._create_token(xt.ATTRIBUTE,i));return r};Tn.prototype._is_content_unformatted=function(t){return this._options.void_elements.indexOf(t)===-1&&(this._options.content_unformatted.indexOf(t)!==-1||this._options.unformatted.indexOf(t)!==-1)};Tn.prototype._read_raw_content=function(t,e,n){var r="";if(n&&n.text[0]==="{")r=this.__patterns.handlebars_raw_close.read();else if(e.type===xt.TAG_CLOSE&&e.opened.text[0]==="<"&&e.text[0]!=="/"){var i=e.opened.text.substr(1).toLowerCase();if(i==="script"||i==="style"){var s=this._read_comment_or_cdata(t);if(s)return s.type=xt.TEXT,s;r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(i)&&(r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig")))}return r?this._create_token(xt.TEXT,r):null};Tn.prototype._read_content_word=function(t){var e="";if(this._options.unformatted_content_delimiter&&t===this._options.unformatted_content_delimiter[0]&&(e=this.__patterns.unformatted_content_delimiter.read()),e||(e=this.__patterns.word.read()),e)return this._create_token(xt.TEXT,e)};Th.exports.Tokenizer=Tn;Th.exports.TOKEN=xt});var eP=B((Oee,ZC)=>{"use strict";var vk=yh().Options,Nk=Af().Output,Ck=vh().Tokenizer,st=vh().TOKEN,QC=/\r\n|[\r\n]/,Pk=/\r\n|[\r\n]/g,Cr=function(t,e){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=t.max_preserve_newlines,this.preserve_newlines=t.preserve_newlines,this._output=new Nk(t,e)};Cr.prototype.current_line_has_match=function(t){return this._output.current_line.has_match(t)};Cr.prototype.set_space_before_token=function(t,e){this._output.space_before_token=t,this._output.non_breaking_space=e};Cr.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()};Cr.prototype.add_raw_token=function(t){this._output.add_raw_token(t)};Cr.prototype.print_preserved_newlines=function(t){var e=0;t.type!==st.TEXT&&t.previous.type!==st.TEXT&&(e=t.newlines?1:0),this.preserve_newlines&&(e=t.newlines<this.max_preserve_newlines+1?t.newlines:this.max_preserve_newlines+1);for(var n=0;n<e;n++)this.print_newline(n>0);return e!==0};Cr.prototype.traverse_whitespace=function(t){return t.whitespace_before||t.newlines?(this.print_preserved_newlines(t)||(this._output.space_before_token=!0),!0):!1};Cr.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped};Cr.prototype.print_newline=function(t){this._output.add_new_line(t)};Cr.prototype.print_token=function(t){t.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(t.text))};Cr.prototype.indent=function(){this.indent_level++};Cr.prototype.get_full_indent=function(t){return t=this.indent_level+(t||0),t<1?"":this._output.get_indent_string(t)};var Ek=function(t){for(var e=null,n=t.next;n.type!==st.EOF&&t.closed!==n;){if(n.type===st.ATTRIBUTE&&n.text==="type"){n.next&&n.next.type===st.EQUALS&&n.next.next&&n.next.next.type===st.VALUE&&(e=n.next.next.text);break}n=n.next}return e},Dk=function(t,e){var n=null,r=null;return e.closed?(t==="script"?n="text/javascript":t==="style"&&(n="text/css"),n=Ek(e)||n,n.search("text/css")>-1?r="css":n.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?r="javascript":n.search(/(text|application|dojo)\/(x-)?(html)/)>-1?r="html":n.search(/test\/null/)>-1&&(r="null"),r):null};function Ql(t,e){return e.indexOf(t)!==-1}function Ak(t,e,n){this.parent=t||null,this.tag=e?e.tag_name:"",this.indent_level=n||0,this.parser_token=e||null}function pa(t){this._printer=t,this._current_frame=null}pa.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null};pa.prototype.record_tag=function(t){var e=new Ak(this._current_frame,t,this._printer.indent_level);this._current_frame=e};pa.prototype._try_pop_frame=function(t){var e=null;return t&&(e=t.parser_token,this._printer.indent_level=t.indent_level,this._current_frame=t.parent),e};pa.prototype._get_frame=function(t,e){for(var n=this._current_frame;n&&t.indexOf(n.tag)===-1;){if(e&&e.indexOf(n.tag)!==-1){n=null;break}n=n.parent}return n};pa.prototype.try_pop=function(t,e){var n=this._get_frame([t],e);return this._try_pop_frame(n)};pa.prototype.indent_to_tag=function(t){var e=this._get_frame(t);e&&(this._printer.indent_level=e.indent_level)};function Pr(t,e,n,r){this._source_text=t||"",e=e||{},this._js_beautify=n,this._css_beautify=r,this._tag_stack=null;var i=new vk(e,"html");this._options=i,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,"force".length)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,"preserve".length)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}Pr.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;this._options.eol==="auto"&&(e=`
`,t&&QC.test(t)&&(e=t.match(QC)[0])),t=t.replace(Pk,`
`);var n=t.match(/^[\t ]*/)[0],r={text:"",type:""},i=new JC,s=new Cr(this._options,n),a=new Ck(t,this._options).tokenize();this._tag_stack=new pa(s);for(var o=null,l=a.next();l.type!==st.EOF;)l.type===st.TAG_OPEN||l.type===st.COMMENT?(o=this._handle_tag_open(s,l,i,r),i=o):l.type===st.ATTRIBUTE||l.type===st.EQUALS||l.type===st.VALUE||l.type===st.TEXT&&!i.tag_complete?o=this._handle_inside_tag(s,l,i,a):l.type===st.TAG_CLOSE?o=this._handle_tag_close(s,l,i):l.type===st.TEXT?o=this._handle_text(s,l,i):s.add_raw_token(l),r=o,l=a.next();var u=s._output.get_code(e);return u};Pr.prototype._handle_tag_close=function(t,e,n){var r={text:e.text,type:e.type};return t.alignment_size=0,n.tag_complete=!0,t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),n.is_unformatted?t.add_raw_token(e):(n.tag_start_char==="<"&&(t.set_space_before_token(e.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&n.has_wrapped_attrs&&t.print_newline(!1)),t.print_token(e)),n.indent_content&&!(n.is_unformatted||n.is_content_unformatted)&&(t.indent(),n.indent_content=!1),!n.is_inline_element&&!(n.is_unformatted||n.is_content_unformatted)&&t.set_wrap_point(),r};Pr.prototype._handle_inside_tag=function(t,e,n,r){var i=n.has_wrapped_attrs,s={text:e.text,type:e.type};if(t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),n.is_unformatted)t.add_raw_token(e);else if(n.tag_start_char==="{"&&e.type===st.TEXT)t.print_preserved_newlines(e)?(e.newlines=0,t.add_raw_token(e)):t.print_token(e);else{if(e.type===st.ATTRIBUTE?(t.set_space_before_token(!0),n.attr_count+=1):(e.type===st.EQUALS||e.type===st.VALUE&&e.previous.type===st.EQUALS)&&t.set_space_before_token(!1),e.type===st.ATTRIBUTE&&n.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(t.traverse_whitespace(e),i=i||e.newlines!==0),this._is_wrap_attributes_force)){var a=n.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&n.attr_count===1){var o=!0,l=0,u;do{if(u=r.peek(l),u.type===st.ATTRIBUTE){o=!1;break}l+=1}while(l<4&&u.type!==st.EOF&&u.type!==st.TAG_CLOSE);a=!o}a&&(t.print_newline(!1),i=!0)}t.print_token(e),i=i||t.previous_token_wrapped(),n.has_wrapped_attrs=i}return s};Pr.prototype._handle_text=function(t,e,n){var r={text:e.text,type:"TK_CONTENT"};return n.custom_beautifier_name?this._print_custom_beatifier_text(t,e,n):n.is_unformatted||n.is_content_unformatted?t.add_raw_token(e):(t.traverse_whitespace(e),t.print_token(e)),r};Pr.prototype._print_custom_beatifier_text=function(t,e,n){var r=this;if(e.text!==""){var i=e.text,s,a=1,o="",l="";n.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?s=this._js_beautify:n.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?s=this._css_beautify:n.custom_beautifier_name==="html"&&(s=function(d,p){var h=new Pr(d,p,r._js_beautify,r._css_beautify);return h.beautify()}),this._options.indent_scripts==="keep"?a=0:this._options.indent_scripts==="separate"&&(a=-t.indent_level);var u=t.get_full_indent(a);if(i=i.replace(/\n[ \t]*$/,""),n.custom_beautifier_name!=="html"&&i[0]==="<"&&i.match(/^(<!--|<!\[CDATA\[)/)){var f=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(i);if(!f){t.add_raw_token(e);return}o=u+f[1]+`
`,i=f[4],f[5]&&(l=u+f[5]),i=i.replace(/\n[ \t]*$/,""),(f[2]||f[3].indexOf(`
`)!==-1)&&(f=f[3].match(/[ \t]+$/),f&&(e.whitespace_before=f[0]))}if(i)if(s){var c=function(){this.eol=`
`};c.prototype=this._options.raw_options;var m=new c;i=s(u+i,m)}else{var g=e.whitespace_before;g&&(i=i.replace(new RegExp(`
(`+g+")?","g"),`
`)),i=u+i.replace(/\n/g,`
`+u)}o&&(i?i=o+i+`
`+l:i=o+l),t.print_newline(!1),i&&(e.text=i,e.whitespace_before="",e.newlines=0,t.add_raw_token(e),t.print_newline(!0))}};Pr.prototype._handle_tag_open=function(t,e,n,r){var i=this._get_tag_open_token(e);return(n.is_unformatted||n.is_content_unformatted)&&!n.is_empty_element&&e.type===st.TAG_OPEN&&e.text.indexOf("</")===0?(t.add_raw_token(e),i.start_tag_token=this._tag_stack.try_pop(i.tag_name)):(t.traverse_whitespace(e),this._set_tag_position(t,e,i,n,r),i.is_inline_element||t.set_wrap_point(),t.print_token(e)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(i.alignment_size=e.text.length+1),!i.tag_complete&&!i.is_unformatted&&(t.alignment_size=i.alignment_size),i};var JC=function(t,e){if(this.parent=t||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!e)this.tag_complete=!0;else{var n;this.tag_start_char=e.text[0],this.text=e.text,this.tag_start_char==="<"?(n=e.text.match(/^<([^\s>]*)/),this.tag_check=n?n[1]:""):(n=e.text.match(/^{{(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=n?n[1]:"",e.text==="{{#>"&&this.tag_check===">"&&e.next!==null&&(this.tag_check=e.next.text)),this.tag_check=this.tag_check.toLowerCase(),e.type===st.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||e.closed&&e.closed.text==="/>",this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))}};Pr.prototype._get_tag_open_token=function(t){var e=new JC(this._tag_stack.get_parser_token(),t);return e.alignment_size=this._options.wrap_attributes_indent_size,e.is_end_tag=e.is_end_tag||Ql(e.tag_check,this._options.void_elements),e.is_empty_element=e.tag_complete||e.is_start_tag&&e.is_end_tag,e.is_unformatted=!e.tag_complete&&Ql(e.tag_check,this._options.unformatted),e.is_content_unformatted=!e.is_empty_element&&Ql(e.tag_check,this._options.content_unformatted),e.is_inline_element=Ql(e.tag_name,this._options.inline)||e.tag_start_char==="{",e};Pr.prototype._set_tag_position=function(t,e,n,r,i){if(n.is_empty_element||(n.is_end_tag?n.start_tag_token=this._tag_stack.try_pop(n.tag_name):(this._do_optional_end_element(n)&&(n.is_inline_element||t.print_newline(!1)),this._tag_stack.record_tag(n),(n.tag_name==="script"||n.tag_name==="style")&&!(n.is_unformatted||n.is_content_unformatted)&&(n.custom_beautifier_name=Dk(n.tag_check,e)))),Ql(n.tag_check,this._options.extra_liners)&&(t.print_newline(!1),t._output.just_added_blankline()||t.print_newline(!0)),n.is_empty_element){if(n.tag_start_char==="{"&&n.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),n.indent_content=!0;var s=t.current_line_has_match(/{{#if/);s||t.print_newline(!1)}n.tag_name==="!--"&&i.type===st.TAG_CLOSE&&r.is_end_tag&&n.text.indexOf(`
`)===-1||(n.is_inline_element||n.is_unformatted||t.print_newline(!1),this._calcluate_parent_multiline(t,n))}else if(n.is_end_tag){var a=!1;a=n.start_tag_token&&n.start_tag_token.multiline_content,a=a||!n.is_inline_element&&!(r.is_inline_element||r.is_unformatted)&&!(i.type===st.TAG_CLOSE&&n.start_tag_token===r)&&i.type!=="TK_CONTENT",(n.is_content_unformatted||n.is_unformatted)&&(a=!1),a&&t.print_newline(!1)}else n.indent_content=!n.custom_beautifier_name,n.tag_start_char==="<"&&(n.tag_name==="html"?n.indent_content=this._options.indent_inner_html:n.tag_name==="head"?n.indent_content=this._options.indent_head_inner_html:n.tag_name==="body"&&(n.indent_content=this._options.indent_body_inner_html)),!(n.is_inline_element||n.is_unformatted)&&(i.type!=="TK_CONTENT"||n.is_content_unformatted)&&t.print_newline(!1),this._calcluate_parent_multiline(t,n)};Pr.prototype._calcluate_parent_multiline=function(t,e){e.parent&&t._output.just_added_newline()&&!((e.is_inline_element||e.is_unformatted)&&e.parent.is_inline_element)&&(e.parent.multiline_content=!0)};var Sk=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],Ik=["a","audio","del","ins","map","noscript","video"];Pr.prototype._do_optional_end_element=function(t){var e=null;if(!(t.is_empty_element||!t.is_start_tag||!t.parent)){if(t.tag_name==="body")e=e||this._tag_stack.try_pop("head");else if(t.tag_name==="li")e=e||this._tag_stack.try_pop("li",["ol","ul"]);else if(t.tag_name==="dd"||t.tag_name==="dt")e=e||this._tag_stack.try_pop("dt",["dl"]),e=e||this._tag_stack.try_pop("dd",["dl"]);else if(t.parent.tag_name==="p"&&Sk.indexOf(t.tag_name)!==-1){var n=t.parent.parent;(!n||Ik.indexOf(n.tag_name)===-1)&&(e=e||this._tag_stack.try_pop("p"))}else t.tag_name==="rp"||t.tag_name==="rt"?(e=e||this._tag_stack.try_pop("rt",["ruby","rtc"]),e=e||this._tag_stack.try_pop("rp",["ruby","rtc"])):t.tag_name==="optgroup"?e=e||this._tag_stack.try_pop("optgroup",["select"]):t.tag_name==="option"?e=e||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):t.tag_name==="colgroup"?e=e||this._tag_stack.try_pop("caption",["table"]):t.tag_name==="thead"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"])):t.tag_name==="tbody"||t.tag_name==="tfoot"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("thead",["table"]),e=e||this._tag_stack.try_pop("tbody",["table"])):t.tag_name==="tr"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(t.tag_name==="th"||t.tag_name==="td")&&(e=e||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),e=e||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return t.parent=this._tag_stack.get_parser_token(),e}};ZC.exports.Beautifier=Pr});var tP=B((Lee,Nh)=>{"use strict";var xk=eP().Beautifier,Rk=yh().Options;function wk(t,e,n,r){var i=new xk(t,e,n,r);return i.beautify()}Nh.exports=wk;Nh.exports.defaultOptions=function(){return new Rk}});var aP=B((Fee,Mf)=>{"use strict";var nP=kC(),rP=YC(),iP=tP();function sP(t,e,n,r){return n=n||nP,r=r||rP,iP(t,e,n,r)}sP.defaultOptions=iP.defaultOptions;Mf.exports.js=nP;Mf.exports.css=rP;Mf.exports.html=sP});var uP=B((Mee,lP)=>{"use strict";function oP(t,e,n){var r=function(i,s){return t.js_beautify(i,s)};return r.js=t.js_beautify,r.css=e.css_beautify,r.html=n.html_beautify,r.js_beautify=t.js_beautify,r.css_beautify=e.css_beautify,r.html_beautify=n.html_beautify,r}typeof define=="function"&&define.amd?define(["./lib/beautify","./lib/beautify-css","./lib/beautify-html"],function(t,e,n){return oP(t,e,n)}):function(t){var e=aP();e.js_beautify=e.js,e.css_beautify=e.css,e.html_beautify=e.html,t.exports=oP(e,e,e)}(lP)});var dP=B((Kee,pP)=>{"use strict";var Ph=require("fs"),Lk=require("util"),Fk=require("path"),ii,fP=class{constructor(e){e=e||{},this.directory=e.directory||"./locales",this.updateFiles=typeof e.updateFiles=="boolean"?e.updateFiles:!0,this.locale=e.locale||"en",this.fallbackToLanguage=typeof e.fallbackToLanguage=="boolean"?e.fallbackToLanguage:!0,this.cache=Object.create(null),this.writeQueue=[]}__(...e){if(typeof arguments[0]!="string")return this._taggedLiteral(arguments[0],...arguments);let n=e.shift(),r=function(){};return typeof e[e.length-1]=="function"&&(r=e.pop()),r=r||function(){},this.cache[this.locale]||this._readLocaleFile(),!this.cache[this.locale][n]&&this.updateFiles?(this.cache[this.locale][n]=n,this._enqueueWrite({directory:this.directory,locale:this.locale,cb:r})):r(),ii.format.apply(ii.format,[this.cache[this.locale][n]||n].concat(e))}__n(){let e=Array.prototype.slice.call(arguments),n=e.shift(),r=e.shift(),i=e.shift(),s=function(){};typeof e[e.length-1]=="function"&&(s=e.pop()),this.cache[this.locale]||this._readLocaleFile();let a=i===1?n:r;this.cache[this.locale][n]&&(a=this.cache[this.locale][n][i===1?"one":"other"]),!this.cache[this.locale][n]&&this.updateFiles?(this.cache[this.locale][n]={one:n,other:r},this._enqueueWrite({directory:this.directory,locale:this.locale,cb:s})):s();let o=[a];return~a.indexOf("%d")&&o.push(i),ii.format.apply(ii.format,o.concat(e))}setLocale(e){this.locale=e}getLocale(){return this.locale}updateLocale(e){this.cache[this.locale]||this._readLocaleFile();for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.cache[this.locale][n]=e[n])}_taggedLiteral(e,...n){let r="";return e.forEach(function(i,s){let a=n[s+1];r+=i,typeof a!="undefined"&&(r+="%s")}),this.__.apply(this,[r].concat([].slice.call(n,1)))}_enqueueWrite(e){this.writeQueue.push(e),this.writeQueue.length===1&&this._processWriteQueue()}_processWriteQueue(){let e=this,n=this.writeQueue[0],r=n.directory,i=n.locale,s=n.cb,a=this._resolveLocaleFile(r,i),o=JSON.stringify(this.cache[i],null,2);ii.fs.writeFile(a,o,"utf-8",function(l){e.writeQueue.shift(),e.writeQueue.length>0&&e._processWriteQueue(),s(l)})}_readLocaleFile(){let e={},n=this._resolveLocaleFile(this.directory,this.locale);try{ii.fs.readFileSync&&(e=JSON.parse(ii.fs.readFileSync(n,"utf-8")))}catch(r){if(r instanceof SyntaxError&&(r.message="syntax error in "+n),r.code==="ENOENT")e={};else throw r}this.cache[this.locale]=e}_resolveLocaleFile(e,n){let r=ii.resolve(e,"./",n+".json");if(this.fallbackToLanguage&&!this._fileExistsSync(r)&&~n.lastIndexOf("_")){let i=ii.resolve(e,"./",n.split("_")[0]+".json");this._fileExistsSync(i)&&(r=i)}return r}_fileExistsSync(e){return ii.exists(e)}};function Mk(t,e){ii=e;let n=new fP(t);return{__:n.__.bind(n),__n:n.__n.bind(n),setLocale:n.setLocale.bind(n),getLocale:n.getLocale.bind(n),updateLocale:n.updateLocale.bind(n),locale:n.locale}}var kk={fs:{readFileSync:Ph.readFileSync,writeFile:Ph.writeFile},format:Lk.format,resolve:Fk.resolve,exists:t=>{try{return Ph.statSync(t).isFile()}catch{return!1}}},qk=t=>Mk(t,kk);pP.exports=qk});var Dh=B((zee,vP)=>{"use strict";var Bk=require("util"),mP=require("path"),Vk=require("fs");function Jl(t){if(t!==t.toLowerCase()&&t!==t.toUpperCase()||(t=t.toLowerCase()),t.indexOf("-")===-1&&t.indexOf("_")===-1)return t;{let n="",r=!1,i=t.match(/^-+/);for(let s=i?i[0].length:0;s<t.length;s++){let a=t.charAt(s);r&&(r=!1,a=a.toUpperCase()),s!==0&&(a==="-"||a==="_")?r=!0:a!=="-"&&a!=="_"&&(n+=a)}return n}}function hP(t,e){let n=t.toLowerCase();e=e||"-";let r="";for(let i=0;i<t.length;i++){let s=n.charAt(i),a=t.charAt(i);s!==a&&i>0?r+=`${e}${n.charAt(i)}`:r+=a}return r}function gP(t){return t==null?!1:typeof t=="number"||/^0x[0-9a-f]+$/i.test(t)?!0:/^0[^.]/.test(t)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t)}function jk(t){if(Array.isArray(t))return t.map(a=>typeof a!="string"?a+"":a);t=t.trim();let e=0,n=null,r=null,i=null,s=[];for(let a=0;a<t.length;a++){if(n=r,r=t.charAt(a),r===" "&&!i){n!==" "&&e++;continue}r===i?i=null:(r==="'"||r==='"')&&!i&&(i=r),s[e]||(s[e]=""),s[e]+=r}return s}var si;(function(t){t.BOOLEAN="boolean",t.STRING="string",t.NUMBER="number",t.ARRAY="array"})(si||(si={}));var Qi,_P=class{constructor(e){Qi=e}parse(e,n){let r=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},n),i=jk(e),s=typeof e=="string",a=Uk(Object.assign(Object.create(null),r.alias)),o=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},r.configuration),l=Object.assign(Object.create(null),r.default),u=r.configObjects||[],f=r.envPrefix,c=o["populate--"],m=c?"--":"_",g=Object.create(null),d=Object.create(null),p=r.__||Qi.format,h={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},y=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,_=new RegExp("^--"+o["negation-prefix"]+"(.+)");[].concat(r.array||[]).filter(Boolean).forEach(function(x){let M=typeof x=="object"?x.key:x,Q=Object.keys(x).map(function(W){return{boolean:"bools",string:"strings",number:"numbers"}[W]}).filter(Boolean).pop();Q&&(h[Q][M]=!0),h.arrays[M]=!0,h.keys.push(M)}),[].concat(r.boolean||[]).filter(Boolean).forEach(function(x){h.bools[x]=!0,h.keys.push(x)}),[].concat(r.string||[]).filter(Boolean).forEach(function(x){h.strings[x]=!0,h.keys.push(x)}),[].concat(r.number||[]).filter(Boolean).forEach(function(x){h.numbers[x]=!0,h.keys.push(x)}),[].concat(r.count||[]).filter(Boolean).forEach(function(x){h.counts[x]=!0,h.keys.push(x)}),[].concat(r.normalize||[]).filter(Boolean).forEach(function(x){h.normalize[x]=!0,h.keys.push(x)}),typeof r.narg=="object"&&Object.entries(r.narg).forEach(([x,M])=>{typeof M=="number"&&(h.nargs[x]=M,h.keys.push(x))}),typeof r.coerce=="object"&&Object.entries(r.coerce).forEach(([x,M])=>{typeof M=="function"&&(h.coercions[x]=M,h.keys.push(x))}),typeof r.config!="undefined"&&(Array.isArray(r.config)||typeof r.config=="string"?[].concat(r.config).filter(Boolean).forEach(function(x){h.configs[x]=!0}):typeof r.config=="object"&&Object.entries(r.config).forEach(([x,M])=>{(typeof M=="boolean"||typeof M=="function")&&(h.configs[x]=M)})),We(r.key,a,r.default,h.arrays),Object.keys(l).forEach(function(x){(h.aliases[x]||[]).forEach(function(M){l[M]=l[x]})});let b=null;jo();let N=[],w=Object.assign(Object.create(null),{_:[]}),le={};for(let x=0;x<i.length;x++){let M=i[x],Q=M.replace(/^-{3,}/,"---"),W,F,oe,ne,de,_t;if(M!=="--"&&vn(M))$(M);else if(Q.match(/---+(=|$)/)){$(M);continue}else if(M.match(/^--.+=/)||!o["short-option-groups"]&&M.match(/^-.+=/))ne=M.match(/^--?([^=]+)=([\s\S]*)$/),ne!==null&&Array.isArray(ne)&&ne.length>=3&&(K(ne[1],h.arrays)?x=X(x,ne[1],i,ne[2]):K(ne[1],h.nargs)!==!1?x=j(x,ne[1],i,ne[2]):J(ne[1],ne[2],!0));else if(M.match(_)&&o["boolean-negation"])ne=M.match(_),ne!==null&&Array.isArray(ne)&&ne.length>=2&&(F=ne[1],J(F,K(F,h.arrays)?[!1]:!1));else if(M.match(/^--.+/)||!o["short-option-groups"]&&M.match(/^-[^-]+/))ne=M.match(/^--?(.+)/),ne!==null&&Array.isArray(ne)&&ne.length>=2&&(F=ne[1],K(F,h.arrays)?x=X(x,F,i):K(F,h.nargs)!==!1?x=j(x,F,i):(de=i[x+1],de!==void 0&&(!de.match(/^-/)||de.match(y))&&!K(F,h.bools)&&!K(F,h.counts)||/^(true|false)$/.test(de)?(J(F,de),x++):J(F,oi(F))));else if(M.match(/^-.\..+=/))ne=M.match(/^-([^=]+)=([\s\S]*)$/),ne!==null&&Array.isArray(ne)&&ne.length>=3&&J(ne[1],ne[2]);else if(M.match(/^-.\..+/)&&!M.match(y))de=i[x+1],ne=M.match(/^-(.\..+)/),ne!==null&&Array.isArray(ne)&&ne.length>=2&&(F=ne[1],de!==void 0&&!de.match(/^-/)&&!K(F,h.bools)&&!K(F,h.counts)?(J(F,de),x++):J(F,oi(F)));else if(M.match(/^-[^-]+/)&&!M.match(y)){oe=M.slice(1,-1).split(""),W=!1;for(let wt=0;wt<oe.length;wt++){if(de=M.slice(wt+2),oe[wt+1]&&oe[wt+1]==="="){_t=M.slice(wt+3),F=oe[wt],K(F,h.arrays)?x=X(x,F,i,_t):K(F,h.nargs)!==!1?x=j(x,F,i,_t):J(F,_t),W=!0;break}if(de==="-"){J(oe[wt],de);continue}if(/[A-Za-z]/.test(oe[wt])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(de)&&K(de,h.bools)===!1){J(oe[wt],de),W=!0;break}if(oe[wt+1]&&oe[wt+1].match(/\W/)){J(oe[wt],de),W=!0;break}else J(oe[wt],oi(oe[wt]))}F=M.slice(-1)[0],!W&&F!=="-"&&(K(F,h.arrays)?x=X(x,F,i):K(F,h.nargs)!==!1?x=j(x,F,i):(de=i[x+1],de!==void 0&&(!/^(-|--)[^-]/.test(de)||de.match(y))&&!K(F,h.bools)&&!K(F,h.counts)||/^(true|false)$/.test(de)?(J(F,de),x++):J(F,oi(F))))}else if(M.match(/^-[0-9]$/)&&M.match(y)&&K(M.slice(1),h.bools))F=M.slice(1),J(F,oi(F));else if(M==="--"){N=i.slice(x+1);break}else if(o["halt-at-non-option"]){N=i.slice(x);break}else $(M)}lt(w,!0),lt(w,!1),qe(w),Pe(),ut(w,h.aliases,l,!0),zt(w),o["set-placeholder-key"]&&Je(w),Object.keys(h.counts).forEach(function(x){ce(w,x.split("."))||J(x,0)}),c&&N.length&&(w[m]=[]),N.forEach(function(x){w[m].push(x)}),o["camel-case-expansion"]&&o["strip-dashed"]&&Object.keys(w).filter(x=>x!=="--"&&x.includes("-")).forEach(x=>{delete w[x]}),o["strip-aliased"]&&[].concat(...Object.keys(a).map(x=>a[x])).forEach(x=>{o["camel-case-expansion"]&&x.includes("-")&&delete w[x.split(".").map(M=>Jl(M)).join(".")],delete w[x]});function $(x){let M=Le("_",x);(typeof M=="string"||typeof M=="number")&&w._.push(M)}function j(x,M,Q,W){let F,oe=K(M,h.nargs);if(oe=typeof oe!="number"||isNaN(oe)?1:oe,oe===0)return jn(W)||(b=Error(p("Argument unexpected for: %s",M))),J(M,oi(M)),x;let ne=jn(W)?0:1;if(o["nargs-eats-options"])Q.length-(x+1)+ne<oe&&(b=Error(p("Not enough arguments following: %s",M))),ne=oe;else{for(F=x+1;F<Q.length&&(!Q[F].match(/^-[^0-9]/)||Q[F].match(y)||vn(Q[F]));F++)ne++;ne<oe&&(b=Error(p("Not enough arguments following: %s",M)))}let de=Math.min(ne,oe);for(!jn(W)&&de>0&&(J(M,W),de--),F=x+1;F<de+x+1;F++)J(M,Q[F]);return x+de}function X(x,M,Q,W){let F=[],oe=W||Q[x+1],ne=K(M,h.nargs);if(K(M,h.bools)&&!/^(true|false)$/.test(oe))F.push(!0);else if(jn(oe)||jn(W)&&/^-/.test(oe)&&!y.test(oe)&&!vn(oe)){if(l[M]!==void 0){let de=l[M];F=Array.isArray(de)?de:[de]}}else{jn(W)||F.push(we(M,W,!0));for(let de=x+1;de<Q.length&&!(!o["greedy-arrays"]&&F.length>0||ne&&typeof ne=="number"&&F.length>=ne||(oe=Q[de],/^-/.test(oe)&&!y.test(oe)&&!vn(oe)));de++)x=de,F.push(we(M,oe,s))}return typeof ne=="number"&&(ne&&F.length<ne||isNaN(ne)&&F.length===0)&&(b=Error(p("Not enough arguments following: %s",M))),J(M,F),x}function J(x,M,Q=s){if(/-/.test(x)&&o["camel-case-expansion"]){let oe=x.split(".").map(function(ne){return Jl(ne)}).join(".");be(x,oe)}let W=we(x,M,Q),F=x.split(".");Se(w,F,W),h.aliases[x]&&h.aliases[x].forEach(function(oe){let ne=oe.split(".");Se(w,ne,W)}),F.length>1&&o["dot-notation"]&&(h.aliases[F[0]]||[]).forEach(function(oe){let ne=oe.split("."),de=[].concat(F);de.shift(),ne=ne.concat(de),(h.aliases[x]||[]).includes(ne.join("."))||Se(w,ne,W)}),K(x,h.normalize)&&!K(x,h.arrays)&&[x].concat(h.aliases[x]||[]).forEach(function(ne){Object.defineProperty(le,ne,{enumerable:!0,get(){return M},set(de){M=typeof de=="string"?Qi.normalize(de):de}})})}function be(x,M){h.aliases[x]&&h.aliases[x].length||(h.aliases[x]=[M],g[M]=!0),h.aliases[M]&&h.aliases[M].length||be(M,x)}function we(x,M,Q){Q&&(M=Wk(M)),(K(x,h.bools)||K(x,h.counts))&&typeof M=="string"&&(M=M==="true");let W=Array.isArray(M)?M.map(function(F){return Le(x,F)}):Le(x,M);return K(x,h.counts)&&(jn(W)||typeof W=="boolean")&&(W=Eh()),K(x,h.normalize)&&K(x,h.arrays)&&(Array.isArray(M)?W=M.map(F=>Qi.normalize(F)):W=Qi.normalize(M)),W}function Le(x,M){return!o["parse-positional-numbers"]&&x==="_"||!K(x,h.strings)&&!K(x,h.bools)&&!Array.isArray(M)&&(gP(M)&&o["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${M}`)))||!jn(M)&&K(x,h.numbers))&&(M=Number(M)),M}function qe(x){let M=Object.create(null);ut(M,h.aliases,l),Object.keys(h.configs).forEach(function(Q){let W=x[Q]||M[Q];if(W)try{let F=null,oe=Qi.resolve(Qi.cwd(),W),ne=h.configs[Q];if(typeof ne=="function"){try{F=ne(oe)}catch(de){F=de}if(F instanceof Error){b=F;return}}else F=Qi.require(oe);se(F)}catch(F){F.name==="PermissionDenied"?b=F:x[Q]&&(b=Error(p("Invalid JSON config file: %s",W)))}})}function se(x,M){Object.keys(x).forEach(function(Q){let W=x[Q],F=M?M+"."+Q:Q;typeof W=="object"&&W!==null&&!Array.isArray(W)&&o["dot-notation"]?se(W,F):(!ce(w,F.split("."))||K(F,h.arrays)&&o["combine-arrays"])&&J(F,W)})}function Pe(){typeof u!="undefined"&&u.forEach(function(x){se(x)})}function lt(x,M){if(typeof f=="undefined")return;let Q=typeof f=="string"?f:"",W=Qi.env();Object.keys(W).forEach(function(F){if(Q===""||F.lastIndexOf(Q,0)===0){let oe=F.split("__").map(function(ne,de){return de===0&&(ne=ne.substring(Q.length)),Jl(ne)});(M&&h.configs[oe.join(".")]||!M)&&!ce(x,oe)&&J(oe.join("."),W[F])}})}function zt(x){let M,Q=new Set;Object.keys(x).forEach(function(W){if(!Q.has(W)&&(M=K(W,h.coercions),typeof M=="function"))try{let F=Le(W,M(x[W]));[].concat(h.aliases[W]||[],W).forEach(oe=>{Q.add(oe),x[oe]=F})}catch(F){b=F}})}function Je(x){return h.keys.forEach(M=>{~M.indexOf(".")||typeof x[M]=="undefined"&&(x[M]=void 0)}),x}function ut(x,M,Q,W=!1){Object.keys(Q).forEach(function(F){ce(x,F.split("."))||(Se(x,F.split("."),Q[F]),W&&(d[F]=!0),(M[F]||[]).forEach(function(oe){ce(x,oe.split("."))||Se(x,oe.split("."),Q[F])}))})}function ce(x,M){let Q=x;o["dot-notation"]||(M=[M.join(".")]),M.slice(0,-1).forEach(function(F){Q=Q[F]||{}});let W=M[M.length-1];return typeof Q!="object"?!1:W in Q}function Se(x,M,Q){let W=x;o["dot-notation"]||(M=[M.join(".")]),M.slice(0,-1).forEach(function(_t){_t=yP(_t),typeof W=="object"&&W[_t]===void 0&&(W[_t]={}),typeof W[_t]!="object"||Array.isArray(W[_t])?(Array.isArray(W[_t])?W[_t].push({}):W[_t]=[W[_t],{}],W=W[_t][W[_t].length-1]):W=W[_t]});let F=yP(M[M.length-1]),oe=K(M.join("."),h.arrays),ne=Array.isArray(Q),de=o["duplicate-arguments-array"];!de&&K(F,h.nargs)&&(de=!0,(!jn(W[F])&&h.nargs[F]===1||Array.isArray(W[F])&&W[F].length===h.nargs[F])&&(W[F]=void 0)),Q===Eh()?W[F]=Eh(W[F]):Array.isArray(W[F])?de&&oe&&ne?W[F]=o["flatten-duplicate-arrays"]?W[F].concat(Q):(Array.isArray(W[F][0])?W[F]:[W[F]]).concat([Q]):!de&&Boolean(oe)===Boolean(ne)?W[F]=Q:W[F]=W[F].concat([Q]):W[F]===void 0&&oe?W[F]=ne?Q:[Q]:de&&!(W[F]===void 0||K(F,h.counts)||K(F,h.bools))?W[F]=[W[F],Q]:W[F]=Q}function We(...x){x.forEach(function(M){Object.keys(M||{}).forEach(function(Q){h.aliases[Q]||(h.aliases[Q]=[].concat(a[Q]||[]),h.aliases[Q].concat(Q).forEach(function(W){if(/-/.test(W)&&o["camel-case-expansion"]){let F=Jl(W);F!==Q&&h.aliases[Q].indexOf(F)===-1&&(h.aliases[Q].push(F),g[F]=!0)}}),h.aliases[Q].concat(Q).forEach(function(W){if(W.length>1&&/[A-Z]/.test(W)&&o["camel-case-expansion"]){let F=hP(W,"-");F!==Q&&h.aliases[Q].indexOf(F)===-1&&(h.aliases[Q].push(F),g[F]=!0)}}),h.aliases[Q].forEach(function(W){h.aliases[W]=[Q].concat(h.aliases[Q].filter(function(F){return W!==F}))}))})})}function K(x,M){let Q=[].concat(h.aliases[x]||[],x),W=Object.keys(M),F=Q.find(oe=>W.includes(oe));return F?M[F]:!1}function ct(x){let M=Object.keys(h);return[].concat(M.map(W=>h[W])).some(function(W){return Array.isArray(W)?W.includes(x):W[x]})}function rt(x,...M){return[].concat(...M).some(function(W){let F=x.match(W);return F&&ct(F[1])})}function Dt(x){if(x.match(y)||!x.match(/^-[^-]+/))return!1;let M=!0,Q,W=x.slice(1).split("");for(let F=0;F<W.length;F++){if(Q=x.slice(F+2),!ct(W[F])){M=!1;break}if(W[F+1]&&W[F+1]==="="||Q==="-"||/[A-Za-z]/.test(W[F])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(Q)||W[F+1]&&W[F+1].match(/\W/))break}return M}function vn(x){return o["unknown-options-as-args"]&&Ii(x)}function Ii(x){return x=x.replace(/^-{3,}/,"--"),x.match(y)||Dt(x)?!1:!rt(x,/^-+([^=]+?)=[\s\S]*$/,_,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}function oi(x){return!K(x,h.bools)&&!K(x,h.counts)&&`${x}`in l?l[x]:Vo(Ji(x))}function Vo(x){return{[si.BOOLEAN]:!0,[si.STRING]:"",[si.NUMBER]:void 0,[si.ARRAY]:[]}[x]}function Ji(x){let M=si.BOOLEAN;return K(x,h.strings)?M=si.STRING:K(x,h.numbers)?M=si.NUMBER:K(x,h.bools)?M=si.BOOLEAN:K(x,h.arrays)&&(M=si.ARRAY),M}function jn(x){return x===void 0}function jo(){Object.keys(h.counts).find(x=>K(x,h.arrays)?(b=Error(p("Invalid configuration: %s, opts.count excludes opts.array.",x)),!0):K(x,h.nargs)?(b=Error(p("Invalid configuration: %s, opts.count excludes opts.narg.",x)),!0):!1)}return{aliases:Object.assign({},h.aliases),argv:Object.assign(le,w),configuration:o,defaulted:Object.assign({},d),error:b,newAliases:Object.assign({},g)}}};function Uk(t){let e=[],n=Object.create(null),r=!0;for(Object.keys(t).forEach(function(i){e.push([].concat(t[i],i))});r;){r=!1;for(let i=0;i<e.length;i++)for(let s=i+1;s<e.length;s++)if(e[i].filter(function(o){return e[s].indexOf(o)!==-1}).length){e[i]=e[i].concat(e[s]),e.splice(s,1),r=!0;break}}return e.forEach(function(i){i=i.filter(function(a,o,l){return l.indexOf(a)===o});let s=i.pop();s!==void 0&&typeof s=="string"&&(n[s]=i)}),n}function Eh(t){return t!==void 0?t+1:1}function yP(t){return t==="__proto__"?"___proto___":t}function Wk(t){return typeof t=="string"&&(t[0]==="'"||t[0]==='"')&&t[t.length-1]===t[0]?t.substring(1,t.length-1):t}var bP=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12;if(process&&process.version&&Number(process.version.match(/v([^.]+)/)[1])<bP)throw Error(`yargs parser supports a minimum Node.js version of ${bP}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);var Gk=process?process.env:{},TP=new _P({cwd:process.cwd,env:()=>Gk,format:Bk.format,normalize:mP.normalize,resolve:mP.resolve,require:t=>{if(typeof require!="undefined")return require(t);if(t.match(/\.json$/))return JSON.parse(Vk.readFileSync(t,"utf8"));throw Error("only .json config files are supported in ESM")}}),Zl=function(e,n){return TP.parse(e.slice(),n).argv};Zl.detailed=function(t,e){return TP.parse(t.slice(),e)};Zl.camelCase=Jl;Zl.decamelize=hP;Zl.looksLikeNumber=gP;vP.exports=Zl});var CP=B((Xee,NP)=>{"use strict";NP.exports=({onlyFirst:t=!1}={})=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,t?void 0:"g")}});var kf=B((Qee,PP)=>{"use strict";var Yk=CP();PP.exports=t=>typeof t=="string"?t.replace(Yk(),""):t});var DP=B((Jee,Ah)=>{"use strict";var EP=t=>Number.isNaN(t)?!1:t>=4352&&(t<=4447||t===9001||t===9002||11904<=t&&t<=12871&&t!==12351||12880<=t&&t<=19903||19968<=t&&t<=42182||43360<=t&&t<=43388||44032<=t&&t<=55203||63744<=t&&t<=64255||65040<=t&&t<=65049||65072<=t&&t<=65131||65281<=t&&t<=65376||65504<=t&&t<=65510||110592<=t&&t<=110593||127488<=t&&t<=127569||131072<=t&&t<=262141);Ah.exports=EP;Ah.exports.default=EP});var SP=B((Zee,AP)=>{"use strict";AP.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}});var qf=B((ete,Sh)=>{"use strict";var $k=kf(),Hk=DP(),Kk=SP(),IP=t=>{if(typeof t!="string"||t.length===0||(t=$k(t),t.length===0))return 0;t=t.replace(Kk(),"  ");let e=0;for(let n=0;n<t.length;n++){let r=t.codePointAt(n);r<=31||r>=127&&r<=159||r>=768&&r<=879||(r>65535&&n++,e+=Hk(r)?2:1)}return e};Sh.exports=IP;Sh.exports.default=IP});var RP=B((tte,xP)=>{"use strict";xP.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var Ih=B((nte,OP)=>{var eu=RP(),wP={};for(let t of Object.keys(eu))wP[eu[t]]=t;var he={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};OP.exports=he;for(let t of Object.keys(he)){if(!("channels"in he[t]))throw new Error("missing channels property: "+t);if(!("labels"in he[t]))throw new Error("missing channel labels property: "+t);if(he[t].labels.length!==he[t].channels)throw new Error("channel and label counts mismatch: "+t);let{channels:e,labels:n}=he[t];delete he[t].channels,delete he[t].labels,Object.defineProperty(he[t],"channels",{value:e}),Object.defineProperty(he[t],"labels",{value:n})}he.rgb.hsl=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=s-i,o,l;s===i?o=0:e===s?o=(n-r)/a:n===s?o=2+(r-e)/a:r===s&&(o=4+(e-n)/a),o=Math.min(o*60,360),o<0&&(o+=360);let u=(i+s)/2;return s===i?l=0:u<=.5?l=a/(s+i):l=a/(2-s-i),[o,l*100,u*100]};he.rgb.hsv=function(t){let e,n,r,i,s,a=t[0]/255,o=t[1]/255,l=t[2]/255,u=Math.max(a,o,l),f=u-Math.min(a,o,l),c=function(m){return(u-m)/6/f+1/2};return f===0?(i=0,s=0):(s=f/u,e=c(a),n=c(o),r=c(l),a===u?i=r-n:o===u?i=1/3+e-r:l===u&&(i=2/3+n-e),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,u*100]};he.rgb.hwb=function(t){let e=t[0],n=t[1],r=t[2],i=he.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(n,r));return r=1-1/255*Math.max(e,Math.max(n,r)),[i,s*100,r*100]};he.rgb.cmyk=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(1-e,1-n,1-r),s=(1-e-i)/(1-i)||0,a=(1-n-i)/(1-i)||0,o=(1-r-i)/(1-i)||0;return[s*100,a*100,o*100,i*100]};function zk(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}he.rgb.keyword=function(t){let e=wP[t];if(e)return e;let n=1/0,r;for(let i of Object.keys(eu)){let s=eu[i],a=zk(t,s);a<n&&(n=a,r=i)}return r};he.keyword.rgb=function(t){return eu[t]};he.rgb.xyz=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;let i=e*.4124+n*.3576+r*.1805,s=e*.2126+n*.7152+r*.0722,a=e*.0193+n*.1192+r*.9505;return[i*100,s*100,a*100]};he.rgb.lab=function(t){let e=he.rgb.xyz(t),n=e[0],r=e[1],i=e[2];n/=95.047,r/=100,i/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let s=116*r-16,a=500*(n-r),o=200*(r-i);return[s,a,o]};he.hsl.rgb=function(t){let e=t[0]/360,n=t[1]/100,r=t[2]/100,i,s,a;if(n===0)return a=r*255,[a,a,a];r<.5?i=r*(1+n):i=r+n-r*n;let o=2*r-i,l=[0,0,0];for(let u=0;u<3;u++)s=e+1/3*-(u-1),s<0&&s++,s>1&&s--,6*s<1?a=o+(i-o)*6*s:2*s<1?a=i:3*s<2?a=o+(i-o)*(2/3-s)*6:a=o,l[u]=a*255;return l};he.hsl.hsv=function(t){let e=t[0],n=t[1]/100,r=t[2]/100,i=n,s=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,i*=s<=1?s:2-s;let a=(r+n)/2,o=r===0?2*i/(s+i):2*n/(r+n);return[e,o*100,a*100]};he.hsv.rgb=function(t){let e=t[0]/60,n=t[1]/100,r=t[2]/100,i=Math.floor(e)%6,s=e-Math.floor(e),a=255*r*(1-n),o=255*r*(1-n*s),l=255*r*(1-n*(1-s));switch(r*=255,i){case 0:return[r,l,a];case 1:return[o,r,a];case 2:return[a,r,l];case 3:return[a,o,r];case 4:return[l,a,r];case 5:return[r,a,o]}};he.hsv.hsl=function(t){let e=t[0],n=t[1]/100,r=t[2]/100,i=Math.max(r,.01),s,a;a=(2-n)*r;let o=(2-n)*i;return s=n*i,s/=o<=1?o:2-o,s=s||0,a/=2,[e,s*100,a*100]};he.hwb.rgb=function(t){let e=t[0]/360,n=t[1]/100,r=t[2]/100,i=n+r,s;i>1&&(n/=i,r/=i);let a=Math.floor(6*e),o=1-r;s=6*e-a,(a&1)!==0&&(s=1-s);let l=n+s*(o-n),u,f,c;switch(a){default:case 6:case 0:u=o,f=l,c=n;break;case 1:u=l,f=o,c=n;break;case 2:u=n,f=o,c=l;break;case 3:u=n,f=l,c=o;break;case 4:u=l,f=n,c=o;break;case 5:u=o,f=n,c=l;break}return[u*255,f*255,c*255]};he.cmyk.rgb=function(t){let e=t[0]/100,n=t[1]/100,r=t[2]/100,i=t[3]/100,s=1-Math.min(1,e*(1-i)+i),a=1-Math.min(1,n*(1-i)+i),o=1-Math.min(1,r*(1-i)+i);return[s*255,a*255,o*255]};he.xyz.rgb=function(t){let e=t[0]/100,n=t[1]/100,r=t[2]/100,i,s,a;return i=e*3.2406+n*-1.5372+r*-.4986,s=e*-.9689+n*1.8758+r*.0415,a=e*.0557+n*-.204+r*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),a=Math.min(Math.max(0,a),1),[i*255,s*255,a*255]};he.xyz.lab=function(t){let e=t[0],n=t[1],r=t[2];e/=95.047,n/=100,r/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;let i=116*n-16,s=500*(e-n),a=200*(n-r);return[i,s,a]};he.lab.xyz=function(t){let e=t[0],n=t[1],r=t[2],i,s,a;s=(e+16)/116,i=n/500+s,a=s-r/200;let o=s**3,l=i**3,u=a**3;return s=o>.008856?o:(s-16/116)/7.787,i=l>.008856?l:(i-16/116)/7.787,a=u>.008856?u:(a-16/116)/7.787,i*=95.047,s*=100,a*=108.883,[i,s,a]};he.lab.lch=function(t){let e=t[0],n=t[1],r=t[2],i;i=Math.atan2(r,n)*360/2/Math.PI,i<0&&(i+=360);let a=Math.sqrt(n*n+r*r);return[e,a,i]};he.lch.lab=function(t){let e=t[0],n=t[1],i=t[2]/360*2*Math.PI,s=n*Math.cos(i),a=n*Math.sin(i);return[e,s,a]};he.rgb.ansi16=function(t,e=null){let[n,r,i]=t,s=e===null?he.rgb.hsv(t)[2]:e;if(s=Math.round(s/50),s===0)return 30;let a=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return s===2&&(a+=60),a};he.hsv.ansi16=function(t){return he.rgb.ansi16(he.hsv.rgb(t),t[2])};he.rgb.ansi256=function(t){let e=t[0],n=t[1],r=t[2];return e===n&&n===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)};he.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let n=(~~(t>50)+1)*.5,r=(e&1)*n*255,i=(e>>1&1)*n*255,s=(e>>2&1)*n*255;return[r,i,s]};he.ansi256.rgb=function(t){if(t>=232){let s=(t-232)*10+8;return[s,s,s]}t-=16;let e,n=Math.floor(t/36)/5*255,r=Math.floor((e=t%36)/6)/5*255,i=e%6/5*255;return[n,r,i]};he.rgb.hex=function(t){let n=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(n.length)+n};he.hex.rgb=function(t){let e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let n=e[0];e[0].length===3&&(n=n.split("").map(o=>o+o).join(""));let r=parseInt(n,16),i=r>>16&255,s=r>>8&255,a=r&255;return[i,s,a]};he.rgb.hcg=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(Math.max(e,n),r),s=Math.min(Math.min(e,n),r),a=i-s,o,l;return a<1?o=s/(1-a):o=0,a<=0?l=0:i===e?l=(n-r)/a%6:i===n?l=2+(r-e)/a:l=4+(e-n)/a,l/=6,l%=1,[l*360,a*100,o*100]};he.hsl.hcg=function(t){let e=t[1]/100,n=t[2]/100,r=n<.5?2*e*n:2*e*(1-n),i=0;return r<1&&(i=(n-.5*r)/(1-r)),[t[0],r*100,i*100]};he.hsv.hcg=function(t){let e=t[1]/100,n=t[2]/100,r=e*n,i=0;return r<1&&(i=(n-r)/(1-r)),[t[0],r*100,i*100]};he.hcg.rgb=function(t){let e=t[0]/360,n=t[1]/100,r=t[2]/100;if(n===0)return[r*255,r*255,r*255];let i=[0,0,0],s=e%1*6,a=s%1,o=1-a,l=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=a,i[2]=0;break;case 1:i[0]=o,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=a;break;case 3:i[0]=0,i[1]=o,i[2]=1;break;case 4:i[0]=a,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=o}return l=(1-n)*r,[(n*i[0]+l)*255,(n*i[1]+l)*255,(n*i[2]+l)*255]};he.hcg.hsv=function(t){let e=t[1]/100,n=t[2]/100,r=e+n*(1-e),i=0;return r>0&&(i=e/r),[t[0],i*100,r*100]};he.hcg.hsl=function(t){let e=t[1]/100,r=t[2]/100*(1-e)+.5*e,i=0;return r>0&&r<.5?i=e/(2*r):r>=.5&&r<1&&(i=e/(2*(1-r))),[t[0],i*100,r*100]};he.hcg.hwb=function(t){let e=t[1]/100,n=t[2]/100,r=e+n*(1-e);return[t[0],(r-e)*100,(1-r)*100]};he.hwb.hcg=function(t){let e=t[1]/100,n=t[2]/100,r=1-n,i=r-e,s=0;return i<1&&(s=(r-i)/(1-i)),[t[0],i*100,s*100]};he.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};he.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};he.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};he.gray.hsl=function(t){return[0,0,t[0]]};he.gray.hsv=he.gray.hsl;he.gray.hwb=function(t){return[0,100,t[0]]};he.gray.cmyk=function(t){return[0,0,0,t[0]]};he.gray.lab=function(t){return[t[0],0,0]};he.gray.hex=function(t){let e=Math.round(t[0]/100*255)&255,r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(r.length)+r};he.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}});var FP=B((rte,LP)=>{var Bf=Ih();function Xk(){let t={},e=Object.keys(Bf);for(let n=e.length,r=0;r<n;r++)t[e[r]]={distance:-1,parent:null};return t}function Qk(t){let e=Xk(),n=[t];for(e[t].distance=0;n.length;){let r=n.pop(),i=Object.keys(Bf[r]);for(let s=i.length,a=0;a<s;a++){let o=i[a],l=e[o];l.distance===-1&&(l.distance=e[r].distance+1,l.parent=r,n.unshift(o))}}return e}function Jk(t,e){return function(n){return e(t(n))}}function Zk(t,e){let n=[e[t].parent,t],r=Bf[e[t].parent][t],i=e[t].parent;for(;e[i].parent;)n.unshift(e[i].parent),r=Jk(Bf[e[i].parent][i],r),i=e[i].parent;return r.conversion=n,r}LP.exports=function(t){let e=Qk(t),n={},r=Object.keys(e);for(let i=r.length,s=0;s<i;s++){let a=r[s];e[a].parent!==null&&(n[a]=Zk(a,e))}return n}});var kP=B((ite,MP)=>{var xh=Ih(),e2=FP(),xo={},t2=Object.keys(xh);function n2(t){let e=function(...n){let r=n[0];return r==null?r:(r.length>1&&(n=r),t(n))};return"conversion"in t&&(e.conversion=t.conversion),e}function r2(t){let e=function(...n){let r=n[0];if(r==null)return r;r.length>1&&(n=r);let i=t(n);if(typeof i=="object")for(let s=i.length,a=0;a<s;a++)i[a]=Math.round(i[a]);return i};return"conversion"in t&&(e.conversion=t.conversion),e}t2.forEach(t=>{xo[t]={},Object.defineProperty(xo[t],"channels",{value:xh[t].channels}),Object.defineProperty(xo[t],"labels",{value:xh[t].labels});let e=e2(t);Object.keys(e).forEach(r=>{let i=e[r];xo[t][r]=r2(i),xo[t][r].raw=n2(i)})});MP.exports=xo});var WP=B((ste,UP)=>{"use strict";var qP=(t,e)=>(...n)=>`\x1B[${t(...n)+e}m`,BP=(t,e)=>(...n)=>{let r=t(...n);return`\x1B[${38+e};5;${r}m`},VP=(t,e)=>(...n)=>{let r=t(...n);return`\x1B[${38+e};2;${r[0]};${r[1]};${r[2]}m`},Vf=t=>t,jP=(t,e,n)=>[t,e,n],Ro=(t,e,n)=>{Object.defineProperty(t,e,{get:()=>{let r=n();return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0}),r},enumerable:!0,configurable:!0})},Rh,wo=(t,e,n,r)=>{Rh===void 0&&(Rh=kP());let i=r?10:0,s={};for(let[a,o]of Object.entries(Rh)){let l=a==="ansi16"?"ansi":a;a===e?s[l]=t(n,i):typeof o=="object"&&(s[l]=t(o[e],i))}return s};function i2(){let t=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.gray=e.color.blackBright,e.bgColor.bgGray=e.bgColor.bgBlackBright,e.color.grey=e.color.blackBright,e.bgColor.bgGrey=e.bgColor.bgBlackBright;for(let[n,r]of Object.entries(e)){for(let[i,s]of Object.entries(r))e[i]={open:`\x1B[${s[0]}m`,close:`\x1B[${s[1]}m`},r[i]=e[i],t.set(s[0],s[1]);Object.defineProperty(e,n,{value:r,enumerable:!1})}return Object.defineProperty(e,"codes",{value:t,enumerable:!1}),e.color.close="\x1B[39m",e.bgColor.close="\x1B[49m",Ro(e.color,"ansi",()=>wo(qP,"ansi16",Vf,!1)),Ro(e.color,"ansi256",()=>wo(BP,"ansi256",Vf,!1)),Ro(e.color,"ansi16m",()=>wo(VP,"rgb",jP,!1)),Ro(e.bgColor,"ansi",()=>wo(qP,"ansi16",Vf,!0)),Ro(e.bgColor,"ansi256",()=>wo(BP,"ansi256",Vf,!0)),Ro(e.bgColor,"ansi16m",()=>wo(VP,"rgb",jP,!0)),e}Object.defineProperty(UP,"exports",{enumerable:!0,get:i2})});var zP=B((ate,KP)=>{"use strict";var tu=qf(),s2=kf(),a2=WP(),jf=new Set(["\x1B","\x9B"]),o2=39,wh="\x07",GP="[",l2="]",YP="m",Oh=`${l2}8;;`,$P=t=>`${jf.values().next().value}${GP}${t}${YP}`,HP=t=>`${jf.values().next().value}${Oh}${t}${wh}`,u2=t=>t.split(" ").map(e=>tu(e)),Lh=(t,e,n)=>{let r=[...e],i=!1,s=!1,a=tu(s2(t[t.length-1]));for(let[o,l]of r.entries()){let u=tu(l);if(a+u<=n?t[t.length-1]+=l:(t.push(l),a=0),jf.has(l)&&(i=!0,s=r.slice(o+1).join("").startsWith(Oh)),i){s?l===wh&&(i=!1,s=!1):l===YP&&(i=!1);continue}a+=u,a===n&&o<r.length-1&&(t.push(""),a=0)}!a&&t[t.length-1].length>0&&t.length>1&&(t[t.length-2]+=t.pop())},c2=t=>{let e=t.split(" "),n=e.length;for(;n>0&&!(tu(e[n-1])>0);)n--;return n===e.length?t:e.slice(0,n).join(" ")+e.slice(n).join("")},f2=(t,e,n={})=>{if(n.trim!==!1&&t.trim()==="")return"";let r="",i,s,a=u2(t),o=[""];for(let[u,f]of t.split(" ").entries()){n.trim!==!1&&(o[o.length-1]=o[o.length-1].trimStart());let c=tu(o[o.length-1]);if(u!==0&&(c>=e&&(n.wordWrap===!1||n.trim===!1)&&(o.push(""),c=0),(c>0||n.trim===!1)&&(o[o.length-1]+=" ",c++)),n.hard&&a[u]>e){let m=e-c,g=1+Math.floor((a[u]-m-1)/e);Math.floor((a[u]-1)/e)<g&&o.push(""),Lh(o,f,e);continue}if(c+a[u]>e&&c>0&&a[u]>0){if(n.wordWrap===!1&&c<e){Lh(o,f,e);continue}o.push("")}if(c+a[u]>e&&n.wordWrap===!1){Lh(o,f,e);continue}o[o.length-1]+=f}n.trim!==!1&&(o=o.map(c2));let l=[...o.join(`
`)];for(let[u,f]of l.entries()){if(r+=f,jf.has(f)){let{groups:m}=new RegExp(`(?:\\${GP}(?<code>\\d+)m|\\${Oh}(?<uri>.*)${wh})`).exec(l.slice(u).join(""))||{groups:{}};if(m.code!==void 0){let g=Number.parseFloat(m.code);i=g===o2?void 0:g}else m.uri!==void 0&&(s=m.uri.length===0?void 0:m.uri)}let c=a2.codes.get(Number(i));l[u+1]===`
`?(s&&(r+=HP("")),i&&c&&(r+=$P(c))):f===`
`&&(i&&c&&(r+=$P(i)),s&&(r+=HP(s)))}return r};KP.exports=(t,e,n)=>String(t).normalize().replace(/\r\n/g,`
`).split(`
`).map(r=>f2(r,e,n)).join(`
`)});var ZP=B((ote,JP)=>{"use strict";var p2={right:_2,center:y2},d2=0,Uf=1,m2=2,Wf=3,XP=class{constructor(e){var n;this.width=e.width,this.wrap=(n=e.wrap)!==null&&n!==void 0?n:!0,this.rows=[]}span(...e){let n=this.div(...e);n.span=!0}resetOutput(){this.rows=[]}div(...e){if(e.length===0&&this.div(""),this.wrap&&this.shouldApplyLayoutDSL(...e)&&typeof e[0]=="string")return this.applyLayoutDSL(e[0]);let n=e.map(r=>typeof r=="string"?this.colFromString(r):r);return this.rows.push(n),n}shouldApplyLayoutDSL(...e){return e.length===1&&typeof e[0]=="string"&&/[\t\n]/.test(e[0])}applyLayoutDSL(e){let n=e.split(`
`).map(i=>i.split("	")),r=0;return n.forEach(i=>{i.length>1&&tr.stringWidth(i[0])>r&&(r=Math.min(Math.floor(this.width*.5),tr.stringWidth(i[0])))}),n.forEach(i=>{this.div(...i.map((s,a)=>({text:s.trim(),padding:this.measurePadding(s),width:a===0&&i.length>1?r:void 0})))}),this.rows[this.rows.length-1]}colFromString(e){return{text:e,padding:this.measurePadding(e)}}measurePadding(e){let n=tr.stripAnsi(e);return[0,n.match(/\s*$/)[0].length,0,n.match(/^\s*/)[0].length]}toString(){let e=[];return this.rows.forEach(n=>{this.rowToString(n,e)}),e.filter(n=>!n.hidden).map(n=>n.text).join(`
`)}rowToString(e,n){return this.rasterize(e).forEach((r,i)=>{let s="";r.forEach((a,o)=>{let{width:l}=e[o],u=this.negatePadding(e[o]),f=a;u>tr.stringWidth(a)&&(f+=" ".repeat(u-tr.stringWidth(a))),e[o].align&&e[o].align!=="left"&&this.wrap&&(f=p2[e[o].align](f,u),tr.stringWidth(f)<u&&(f+=" ".repeat((l||0)-tr.stringWidth(f)-1)));let c=e[o].padding||[0,0,0,0];c[Wf]&&(s+=" ".repeat(c[Wf])),s+=QP(e[o],f,"| "),s+=f,s+=QP(e[o],f," |"),c[Uf]&&(s+=" ".repeat(c[Uf])),i===0&&n.length>0&&(s=this.renderInline(s,n[n.length-1]))}),n.push({text:s.replace(/ +$/,""),span:e.span})}),n}renderInline(e,n){let r=e.match(/^ */),i=r?r[0].length:0,s=n.text,a=tr.stringWidth(s.trimRight());return n.span?this.wrap?i<a?e:(n.hidden=!0,s.trimRight()+" ".repeat(i-a)+e.trimLeft()):(n.hidden=!0,s+e):e}rasterize(e){let n=[],r=this.columnWidths(e),i;return e.forEach((s,a)=>{s.width=r[a],this.wrap?i=tr.wrap(s.text,this.negatePadding(s),{hard:!0}).split(`
`):i=s.text.split(`
`),s.border&&(i.unshift("."+"-".repeat(this.negatePadding(s)+2)+"."),i.push("'"+"-".repeat(this.negatePadding(s)+2)+"'")),s.padding&&(i.unshift(...new Array(s.padding[d2]||0).fill("")),i.push(...new Array(s.padding[m2]||0).fill(""))),i.forEach((o,l)=>{n[l]||n.push([]);let u=n[l];for(let f=0;f<a;f++)u[f]===void 0&&u.push("");u.push(o)})}),n}negatePadding(e){let n=e.width||0;return e.padding&&(n-=(e.padding[Wf]||0)+(e.padding[Uf]||0)),e.border&&(n-=4),n}columnWidths(e){if(!this.wrap)return e.map(a=>a.width||tr.stringWidth(a.text));let n=e.length,r=this.width,i=e.map(a=>{if(a.width)return n--,r-=a.width,a.width}),s=n?Math.floor(r/n):0;return i.map((a,o)=>a===void 0?Math.max(s,h2(e[o])):a)}};function QP(t,e,n){return t.border?/[.']-+[.']/.test(e)?"":e.trim().length!==0?n:"  ":""}function h2(t){let e=t.padding||[],n=1+(e[Wf]||0)+(e[Uf]||0);return t.border?n+4:n}function g2(){return typeof process=="object"&&process.stdout&&process.stdout.columns?process.stdout.columns:80}function _2(t,e){t=t.trim();let n=tr.stringWidth(t);return n<e?" ".repeat(e-n)+t:t}function y2(t,e){t=t.trim();let n=tr.stringWidth(t);return n>=e?t:" ".repeat(e-n>>1)+t}var tr;function b2(t,e){return tr=e,new XP({width:(t==null?void 0:t.width)||g2(),wrap:t==null?void 0:t.wrap})}var T2=qf(),v2=kf(),N2=zP();function C2(t){return b2(t,{stringWidth:T2,stripAnsi:v2,wrap:N2})}JP.exports=C2});var rE=B((lte,nE)=>{var{dirname:eE,resolve:tE}=require("path"),{readdirSync:P2,statSync:E2}=require("fs");nE.exports=function(t,e){let n=tE(".",t),r;for(E2(n).isDirectory()||(n=eE(n));;){if(r=e(n,P2(n)),r)return tE(n,r);if(n=eE(r=n),r===n)break}}});var sE=B((ute,iE)=>{"use strict";iE.exports=function(e){if(e===void 0&&(e=2),e>=Error.stackTraceLimit)throw new TypeError("getCallerFile(position) requires position be less then Error.stackTraceLimit but position was: `"+e+"` and Error.stackTraceLimit was: `"+Error.stackTraceLimit+"`");var n=Error.prepareStackTrace;Error.prepareStackTrace=function(i,s){return s};var r=new Error().stack;if(Error.prepareStackTrace=n,r!==null&&typeof r=="object")return r[e]?r[e].getFileName():void 0}});var uE=B((cte,Mh)=>{"use strict";var aE=require("fs"),D2=require("path").join,A2=require("path").resolve,oE=require("path").dirname,Fh={extensions:["js","json","coffee"],recurse:!0,rename:function(t){return t},visit:function(t){return t}};function S2(t,e,n){return new RegExp("\\.("+n.extensions.join("|")+")$","i").test(e)&&!(n.include&&n.include instanceof RegExp&&!n.include.test(t))&&!(n.include&&typeof n.include=="function"&&!n.include(t,e))&&!(n.exclude&&n.exclude instanceof RegExp&&n.exclude.test(t))&&!(n.exclude&&typeof n.exclude=="function"&&n.exclude(t,e))}function lE(t,e,n){var r={};e&&!n&&typeof e!="string"&&(n=e,e=null),n=n||{};for(var i in Fh)typeof n[i]=="undefined"&&(n[i]=Fh[i]);return e=e?A2(oE(t.filename),e):oE(t.filename),aE.readdirSync(e).forEach(function(s){var a=D2(e,s),o,l,u;aE.statSync(a).isDirectory()&&n.recurse?(o=lE(t,a,n),Object.keys(o).length&&(r[n.rename(s,a,s)]=o)):a!==t.filename&&S2(a,s,n)&&(l=s.substring(0,s.lastIndexOf(".")),u=t.require(a),r[n.rename(l,a,s)]=n.visit(u,a,s)||u)}),r}Mh.exports=lE;Mh.exports.defaults=Fh});var GE=B((fte,WE)=>{"use strict";var cE=require("assert"),Kt=class extends Error{constructor(e){super(e||"yargs error"),this.name="YError",Error.captureStackTrace(this,Kt)}},nu,kh=[];function Gf(t,e,n,r){nu=r;let i={};if(Object.prototype.hasOwnProperty.call(t,"extends")){if(typeof t.extends!="string")return i;let s=/\.json|\..*rc$/.test(t.extends),a=null;if(s)a=function(o,l){return nu.path.resolve(o,l)}(e,t.extends);else try{a=require.resolve(t.extends)}catch{return t}(function(o){if(kh.indexOf(o)>-1)throw new Kt(`Circular extended configurations: '${o}'.`)})(a),kh.push(a),i=s?JSON.parse(nu.readFileSync(a,"utf8")):require(t.extends),delete t.extends,i=Gf(i,nu.path.dirname(a),n,nu)}return kh=[],n?fE(i,t):Object.assign({},i,t)}function fE(t,e){let n={};function r(i){return i&&typeof i=="object"&&!Array.isArray(i)}Object.assign(n,t);for(let i of Object.keys(e))r(e[i])&&r(n[i])?n[i]=fE(t[i],e[i]):n[i]=e[i];return n}function Oo(t){let e=t.replace(/\s{2,}/g," ").split(/\s+(?![^[]*]|[^<]*>)/),n=/\.*[\][<>]/g,r=e.shift();if(!r)throw new Error(`No command found in: ${t}`);let i={cmd:r.replace(n,""),demanded:[],optional:[]};return e.forEach((s,a)=>{let o=!1;s=s.replace(/\s/g,""),/\.+[\]>]/.test(s)&&a===e.length-1&&(o=!0),/^\[/.test(s)?i.optional.push({cmd:s.replace(n,"").split("|"),variadic:o}):i.demanded.push({cmd:s.replace(n,"").split("|"),variadic:o})}),i}var I2=["first","second","third","fourth","fifth","sixth"];function fe(t,e,n){try{let r=0,[i,s,a]=typeof t=="object"?[{demanded:[],optional:[]},t,e]:[Oo(`cmd ${t}`),e,n],o=[].slice.call(s);for(;o.length&&o[o.length-1]===void 0;)o.pop();let l=a||o.length;if(l<i.demanded.length)throw new Kt(`Not enough arguments provided. Expected ${i.demanded.length} but received ${o.length}.`);let u=i.demanded.length+i.optional.length;if(l>u)throw new Kt(`Too many arguments provided. Expected max ${u} but received ${l}.`);i.demanded.forEach(f=>{let c=pE(o.shift());f.cmd.filter(m=>m===c||m==="*").length===0&&dE(c,f.cmd,r),r+=1}),i.optional.forEach(f=>{if(o.length===0)return;let c=pE(o.shift());f.cmd.filter(m=>m===c||m==="*").length===0&&dE(c,f.cmd,r),r+=1})}catch(r){console.warn(r.stack)}}function pE(t){return Array.isArray(t)?"array":t===null?"null":typeof t}function dE(t,e,n){throw new Kt(`Invalid ${I2[n]||"manyith"} argument. Expected ${e.join(" or ")} but received ${t}.`)}function jt(t){return!!t&&!!t.then&&typeof t.then=="function"}function ai(t,e,n,r){n.assert.notStrictEqual(t,e,r)}function mE(t,e){e.assert.strictEqual(typeof t,"string")}function Yf(t){return Object.keys(t)}function Lo(t={},e=()=>!0){let n={};return Yf(t).forEach(r=>{e(r,t[r])&&(n[r]=t[r])}),n}function hE(){return process.versions.electron&&!process.defaultApp?0:1}function gE(){return process.argv[hE()]}var x2=Object.freeze({__proto__:null,hideBin:function(t){return t.slice(hE()+1)},getProcessArgvBin:gE});function C(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function pe(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}var _E=class{constructor(e){this.globalMiddleware=[],this.frozens=[],this.yargs=e}addMiddleware(e,n,r=!0,i=!1){if(fe("<array|function> [boolean] [boolean] [boolean]",[e,n,r],arguments.length),Array.isArray(e)){for(let s=0;s<e.length;s++){if(typeof e[s]!="function")throw Error("middleware must be a function");let a=e[s];a.applyBeforeValidation=n,a.global=r}Array.prototype.push.apply(this.globalMiddleware,e)}else if(typeof e=="function"){let s=e;s.applyBeforeValidation=n,s.global=r,s.mutates=i,this.globalMiddleware.push(e)}return this.yargs}addCoerceMiddleware(e,n){let r=this.yargs.getAliases();return this.globalMiddleware=this.globalMiddleware.filter(i=>{let s=[...r[n]||[],n];return!i.option||!s.includes(i.option)}),e.option=n,this.addMiddleware(e,!0,!0,!0)}getMiddleware(){return this.globalMiddleware}freeze(){this.frozens.push([...this.globalMiddleware])}unfreeze(){let e=this.frozens.pop();e!==void 0&&(this.globalMiddleware=e)}reset(){this.globalMiddleware=this.globalMiddleware.filter(e=>e.global)}};function ru(t,e,n,r){return n.reduce((i,s)=>{if(s.applyBeforeValidation!==r)return i;if(s.mutates){if(s.applied)return i;s.applied=!0}if(jt(i))return i.then(a=>Promise.all([a,s(a,e)])).then(([a,o])=>Object.assign(a,o));{let a=s(i,e);return jt(a)?a.then(o=>Object.assign(i,o)):Object.assign(i,a)}},t)}function iu(t,e,n=r=>{throw r}){try{let r=typeof t=="function"?t():t;return jt(r)?r.then(i=>e(i)):e(r)}catch(r){return n(r)}}var Fo=/(^\*)|(^\$0)/,yE=class{constructor(e,n,r,i){this.requireCache=new Set,this.handlers={},this.aliasMap={},this.frozens=[],this.shim=i,this.usage=e,this.globalMiddleware=r,this.validation=n}addDirectory(e,n,r,i){typeof(i=i||{}).recurse!="boolean"&&(i.recurse=!1),Array.isArray(i.extensions)||(i.extensions=["js"]);let s=typeof i.visit=="function"?i.visit:a=>a;i.visit=(a,o,l)=>{let u=s(a,o,l);if(u){if(this.requireCache.has(o))return u;this.requireCache.add(o),this.addHandler(u)}return u},this.shim.requireDirectory({require:n,filename:r},e,i)}addHandler(e,n,r,i,s,a){let o=[],l=function(u){return u?u.map(f=>(f.applyBeforeValidation=!1,f)):[]}(s);if(i=i||(()=>{}),Array.isArray(e))if(function(u){return u.every(f=>typeof f=="string")}(e))[e,...o]=e;else for(let u of e)this.addHandler(u);else{if(function(u){return typeof u=="object"&&!Array.isArray(u)}(e)){let u=Array.isArray(e.command)||typeof e.command=="string"?e.command:this.moduleName(e);return e.aliases&&(u=[].concat(u).concat(e.aliases)),void this.addHandler(u,this.extractDesc(e),e.builder,e.handler,e.middlewares,e.deprecated)}if(bE(r))return void this.addHandler([e].concat(o),n,r.builder,r.handler,r.middlewares,r.deprecated)}if(typeof e=="string"){let u=Oo(e);o=o.map(m=>Oo(m).cmd);let f=!1,c=[u.cmd].concat(o).filter(m=>!Fo.test(m)||(f=!0,!1));c.length===0&&f&&c.push("$0"),f&&(u.cmd=c[0],o=c.slice(1),e=e.replace(Fo,u.cmd)),o.forEach(m=>{this.aliasMap[m]=u.cmd}),n!==!1&&this.usage.command(e,n,f,o,a),this.handlers[u.cmd]={original:e,description:n,handler:i,builder:r||{},middlewares:l,deprecated:a,demanded:u.demanded,optional:u.optional},f&&(this.defaultCommand=this.handlers[u.cmd])}}getCommandHandlers(){return this.handlers}getCommands(){return Object.keys(this.handlers).concat(Object.keys(this.aliasMap))}hasDefaultCommand(){return!!this.defaultCommand}runCommand(e,n,r,i,s,a){let o=this.handlers[e]||this.handlers[this.aliasMap[e]]||this.defaultCommand,l=n.getInternalMethods().getContext(),u=l.commands.slice(),f=!e;e&&(l.commands.push(e),l.fullCommands.push(o.original));let c=this.applyBuilderUpdateUsageAndParse(f,o,n,r.aliases,u,i,s,a);return jt(c)?c.then(m=>this.applyMiddlewareAndGetResult(f,o,m.innerArgv,l,s,m.aliases,n)):this.applyMiddlewareAndGetResult(f,o,c.innerArgv,l,s,c.aliases,n)}applyBuilderUpdateUsageAndParse(e,n,r,i,s,a,o,l){let u=n.builder,f=r;if(qh(u)){let c=u(r.getInternalMethods().reset(i),l);if(jt(c))return c.then(m=>{var g;return f=(g=m)&&typeof g.getInternalMethods=="function"?m:r,this.parseAndUpdateUsage(e,n,f,s,a,o)})}else(function(c){return typeof c=="object"})(u)&&(f=r.getInternalMethods().reset(i),Object.keys(n.builder).forEach(c=>{f.option(c,u[c])}));return this.parseAndUpdateUsage(e,n,f,s,a,o)}parseAndUpdateUsage(e,n,r,i,s,a){e&&r.getInternalMethods().getUsageInstance().unfreeze(),this.shouldUpdateUsage(r)&&r.getInternalMethods().getUsageInstance().usage(this.usageFromParentCommandsCommandHandler(i,n),n.description);let o=r.getInternalMethods().runYargsParserAndExecuteCommands(null,void 0,!0,s,a);return jt(o)?o.then(l=>({aliases:r.parsed.aliases,innerArgv:l})):{aliases:r.parsed.aliases,innerArgv:o}}shouldUpdateUsage(e){return!e.getInternalMethods().getUsageInstance().getUsageDisabled()&&e.getInternalMethods().getUsageInstance().getUsage().length===0}usageFromParentCommandsCommandHandler(e,n){let r=Fo.test(n.original)?n.original.replace(Fo,"").trim():n.original,i=e.filter(s=>!Fo.test(s));return i.push(r),`$0 ${i.join(" ")}`}applyMiddlewareAndGetResult(e,n,r,i,s,a,o){let l={};if(s)return r;o.getInternalMethods().getHasOutput()||(l=this.populatePositionals(n,r,i,o));let u=this.globalMiddleware.getMiddleware().slice(0).concat(n.middlewares);if(r=ru(r,o,u,!0),!o.getInternalMethods().getHasOutput()){let f=o.getInternalMethods().runValidation(a,l,o.parsed.error,e);r=iu(r,c=>(f(c),c))}if(n.handler&&!o.getInternalMethods().getHasOutput()){o.getInternalMethods().setHasOutput();let f=!!o.getOptions().configuration["populate--"];o.getInternalMethods().postProcess(r,f,!1,!1),r=iu(r=ru(r,o,u,!1),c=>{let m=n.handler(c);return jt(m)?m.then(()=>c):c}),e||o.getInternalMethods().getUsageInstance().cacheHelpMessage(),jt(r)&&!o.getInternalMethods().hasParseCallback()&&r.catch(c=>{try{o.getInternalMethods().getUsageInstance().fail(null,c)}catch{}})}return e||(i.commands.pop(),i.fullCommands.pop()),r}populatePositionals(e,n,r,i){n._=n._.slice(r.commands.length);let s=e.demanded.slice(0),a=e.optional.slice(0),o={};for(this.validation.positionalCount(s.length,n._.length);s.length;){let l=s.shift();this.populatePositional(l,n,o)}for(;a.length;){let l=a.shift();this.populatePositional(l,n,o)}return n._=r.commands.concat(n._.map(l=>""+l)),this.postProcessPositionals(n,o,this.cmdToParseOptions(e.original),i),o}populatePositional(e,n,r){let i=e.cmd[0];e.variadic?r[i]=n._.splice(0).map(String):n._.length&&(r[i]=[String(n._.shift())])}cmdToParseOptions(e){let n={array:[],default:{},alias:{},demand:{}},r=Oo(e);return r.demanded.forEach(i=>{let[s,...a]=i.cmd;i.variadic&&(n.array.push(s),n.default[s]=[]),n.alias[s]=a,n.demand[s]=!0}),r.optional.forEach(i=>{let[s,...a]=i.cmd;i.variadic&&(n.array.push(s),n.default[s]=[]),n.alias[s]=a}),n}postProcessPositionals(e,n,r,i){let s=Object.assign({},i.getOptions());s.default=Object.assign(r.default,s.default);for(let u of Object.keys(r.alias))s.alias[u]=(s.alias[u]||[]).concat(r.alias[u]);s.array=s.array.concat(r.array),s.config={};let a=[];if(Object.keys(n).forEach(u=>{n[u].map(f=>{s.configuration["unknown-options-as-args"]&&(s.key[u]=!0),a.push(`--${u}`),a.push(f)})}),!a.length)return;let o=Object.assign({},s.configuration,{"populate--":!1}),l=this.shim.Parser.detailed(a,Object.assign({},s,{configuration:o}));if(l.error)i.getInternalMethods().getUsageInstance().fail(l.error.message,l.error);else{let u=Object.keys(n);Object.keys(n).forEach(c=>{u.push(...l.aliases[c])});let f=i.getOptions().default;Object.keys(l.argv).forEach(c=>{u.includes(c)&&(n[c]||(n[c]=l.argv[c]),!Object.prototype.hasOwnProperty.call(f,c)&&Object.prototype.hasOwnProperty.call(e,c)&&Object.prototype.hasOwnProperty.call(l.argv,c)&&(Array.isArray(e[c])||Array.isArray(l.argv[c]))?e[c]=[].concat(e[c],l.argv[c]):e[c]=l.argv[c])})}}runDefaultBuilderOn(e){if(!this.defaultCommand)return;if(this.shouldUpdateUsage(e)){let r=Fo.test(this.defaultCommand.original)?this.defaultCommand.original:this.defaultCommand.original.replace(/^[^[\]<>]*/,"$0 ");e.getInternalMethods().getUsageInstance().usage(r,this.defaultCommand.description)}let n=this.defaultCommand.builder;if(qh(n))return n(e,!0);bE(n)||Object.keys(n).forEach(r=>{e.option(r,n[r])})}moduleName(e){let n=function(r){if(typeof require=="undefined")return null;for(let i,s=0,a=Object.keys(require.cache);s<a.length;s++)if(i=require.cache[a[s]],i.exports===r)return i;return null}(e);if(!n)throw new Error(`No command name given for module: ${this.shim.inspect(e)}`);return this.commandFromFilename(n.filename)}commandFromFilename(e){return this.shim.path.basename(e,this.shim.path.extname(e))}extractDesc({describe:e,description:n,desc:r}){for(let i of[e,n,r]){if(typeof i=="string"||i===!1)return i;ai(i,!0,this.shim)}return!1}freeze(){this.frozens.push({handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand})}unfreeze(){let e=this.frozens.pop();ai(e,void 0,this.shim),{handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand}=e}reset(){return this.handlers={},this.aliasMap={},this.defaultCommand=void 0,this.requireCache=new Set,this}};function bE(t){return typeof t=="object"&&!!t.builder&&typeof t.handler=="function"}function qh(t){return typeof t=="function"}function su(t){typeof process!="undefined"&&[process.stdout,process.stderr].forEach(e=>{let n=e;n._handle&&n.isTTY&&typeof n._handle.setBlocking=="function"&&n._handle.setBlocking(t)})}function R2(t){return typeof t=="boolean"}function w2(t,e){let n=e.y18n.__,r={},i=[];r.failFn=function(j){i.push(j)};let s=null,a=!0;r.showHelpOnFail=function(j=!0,X){let[J,be]=typeof j=="string"?[!0,j]:[j,X];return s=be,a=J,r};let o=!1;r.fail=function(j,X){let J=t.getInternalMethods().getLoggerInstance();if(!i.length){if(t.getExitProcess()&&su(!0),o||(o=!0,a&&(t.showHelp("error"),J.error()),(j||X)&&J.error(j||X),s&&((j||X)&&J.error(""),J.error(s))),X=X||new Kt(j),t.getExitProcess())return t.exit(1);if(t.getInternalMethods().hasParseCallback())return t.exit(1,X);throw X}for(let be=i.length-1;be>=0;--be){let we=i[be];if(R2(we)){if(X)throw X;if(j)throw Error(j)}else we(j,X,r)}};let l=[],u=!1;r.usage=(j,X)=>j===null?(u=!0,l=[],r):(u=!1,l.push([j,X||""]),r),r.getUsage=()=>l,r.getUsageDisabled=()=>u,r.getPositionalGroupName=()=>n("Positionals:");let f=[];r.example=(j,X)=>{f.push([j,X||""])};let c=[];r.command=function(j,X,J,be,we=!1){J&&(c=c.map(Le=>(Le[2]=!1,Le))),c.push([j,X||"",J,be,we])},r.getCommands=()=>c;let m={};r.describe=function(j,X){Array.isArray(j)?j.forEach(J=>{r.describe(J,X)}):typeof j=="object"?Object.keys(j).forEach(J=>{r.describe(J,j[J])}):m[j]=X},r.getDescriptions=()=>m;let g=[];r.epilog=j=>{g.push(j)};let d,p=!1;function h(){return p||(d=function(){let j=80;return e.process.stdColumns?Math.min(j,e.process.stdColumns):j}(),p=!0),d}r.wrap=j=>{p=!0,d=j};let y="__yargsString__:";function _(j,X,J){let be=0;return Array.isArray(j)||(j=Object.values(j).map(we=>[we])),j.forEach(we=>{be=Math.max(e.stringWidth(J?`${J} ${$f(we[0])}`:$f(we[0]))+TE(we[0]),be)}),X&&(be=Math.min(be,parseInt((.5*X).toString(),10))),be}let b;function N(j){return t.getOptions().hiddenOptions.indexOf(j)<0||t.parsed.argv[t.getOptions().showHiddenOpt]}function w(j,X){let J=`[${n("default:")} `;if(j===void 0&&!X)return null;if(X)J+=X;else switch(typeof j){case"string":J+=`"${j}"`;break;case"object":J+=JSON.stringify(j);break;default:J+=j}return`${J}]`}r.deferY18nLookup=j=>y+j,r.help=function(){if(b)return b;(function(){let ce=t.getDemandedOptions(),Se=t.getOptions();(Object.keys(Se.alias)||[]).forEach(We=>{Se.alias[We].forEach(K=>{m[K]&&r.describe(We,m[K]),K in ce&&t.demandOption(We,ce[K]),Se.boolean.includes(K)&&t.boolean(We),Se.count.includes(K)&&t.count(We),Se.string.includes(K)&&t.string(We),Se.normalize.includes(K)&&t.normalize(We),Se.array.includes(K)&&t.array(We),Se.number.includes(K)&&t.number(We)})})})();let j=t.customScriptName?t.$0:e.path.basename(t.$0),X=t.getDemandedOptions(),J=t.getDemandedCommands(),be=t.getDeprecatedOptions(),we=t.getGroups(),Le=t.getOptions(),qe=[];qe=qe.concat(Object.keys(m)),qe=qe.concat(Object.keys(X)),qe=qe.concat(Object.keys(J)),qe=qe.concat(Object.keys(Le.default)),qe=qe.filter(N),qe=Object.keys(qe.reduce((ce,Se)=>(Se!=="_"&&(ce[Se]=!0),ce),{}));let se=h(),Pe=e.cliui({width:se,wrap:!!se});if(!u){if(l.length)l.forEach(ce=>{Pe.div({text:`${ce[0].replace(/\$0/g,j)}`}),ce[1]&&Pe.div({text:`${ce[1]}`,padding:[1,0,0,0]})}),Pe.div();else if(c.length){let ce=null;ce=J._?`${j} <${n("command")}>
`:`${j} [${n("command")}]
`,Pe.div(`${ce}`)}}if(c.length>1||c.length===1&&!c[0][2]){Pe.div(n("Commands:"));let ce=t.getInternalMethods().getContext(),Se=ce.commands.length?`${ce.commands.join(" ")} `:"";t.getInternalMethods().getParserConfiguration()["sort-commands"]===!0&&(c=c.sort((K,ct)=>K[0].localeCompare(ct[0])));let We=j?`${j} `:"";c.forEach(K=>{let ct=`${We}${Se}${K[0].replace(/^\$0 ?/,"")}`;Pe.span({text:ct,padding:[0,2,0,2],width:_(c,se,`${j}${Se}`)+4},{text:K[1]});let rt=[];K[2]&&rt.push(`[${n("default")}]`),K[3]&&K[3].length&&rt.push(`[${n("aliases:")} ${K[3].join(", ")}]`),K[4]&&(typeof K[4]=="string"?rt.push(`[${n("deprecated: %s",K[4])}]`):rt.push(`[${n("deprecated")}]`)),rt.length?Pe.div({text:rt.join(" "),padding:[0,0,0,2],align:"right"}):Pe.div()}),Pe.div()}let lt=(Object.keys(Le.alias)||[]).concat(Object.keys(t.parsed.newAliases)||[]);qe=qe.filter(ce=>!t.parsed.newAliases[ce]&&lt.every(Se=>(Le.alias[Se]||[]).indexOf(ce)===-1));let zt=n("Options:");we[zt]||(we[zt]=[]),function(ce,Se,We,K){let ct=[],rt=null;Object.keys(We).forEach(Dt=>{ct=ct.concat(We[Dt])}),ce.forEach(Dt=>{rt=[Dt].concat(Se[Dt]),rt.some(vn=>ct.indexOf(vn)!==-1)||We[K].push(Dt)})}(qe,Le.alias,we,zt);let Je=ce=>/^--/.test($f(ce)),ut=Object.keys(we).filter(ce=>we[ce].length>0).map(ce=>({groupName:ce,normalizedKeys:we[ce].filter(N).map(Se=>{if(lt.includes(Se))return Se;for(let We,K=0;(We=lt[K])!==void 0;K++)if((Le.alias[We]||[]).includes(Se))return We;return Se})})).filter(({normalizedKeys:ce})=>ce.length>0).map(({groupName:ce,normalizedKeys:Se})=>{let We=Se.reduce((K,ct)=>(K[ct]=[ct].concat(Le.alias[ct]||[]).map(rt=>ce===r.getPositionalGroupName()?rt:(/^[0-9]$/.test(rt)?Le.boolean.includes(ct)?"-":"--":rt.length>1?"--":"-")+rt).sort((rt,Dt)=>Je(rt)===Je(Dt)?0:Je(rt)?1:-1).join(", "),K),{});return{groupName:ce,normalizedKeys:Se,switches:We}});if(ut.filter(({groupName:ce})=>ce!==r.getPositionalGroupName()).some(({normalizedKeys:ce,switches:Se})=>!ce.every(We=>Je(Se[We])))&&ut.filter(({groupName:ce})=>ce!==r.getPositionalGroupName()).forEach(({normalizedKeys:ce,switches:Se})=>{ce.forEach(We=>{var K,ct;Je(Se[We])&&(Se[We]=(K=Se[We],ct="-x, ".length,Bh(K)?{text:K.text,indentation:K.indentation+ct}:{text:K,indentation:ct}))})}),ut.forEach(({groupName:ce,normalizedKeys:Se,switches:We})=>{Pe.div(ce),Se.forEach(K=>{let ct=We[K],rt=m[K]||"",Dt=null;rt.includes(y)&&(rt=n(rt.substring(y.length))),Le.boolean.includes(K)&&(Dt=`[${n("boolean")}]`),Le.count.includes(K)&&(Dt=`[${n("count")}]`),Le.string.includes(K)&&(Dt=`[${n("string")}]`),Le.normalize.includes(K)&&(Dt=`[${n("string")}]`),Le.array.includes(K)&&(Dt=`[${n("array")}]`),Le.number.includes(K)&&(Dt=`[${n("number")}]`);let vn=[K in be?(Ii=be[K],typeof Ii=="string"?`[${n("deprecated: %s",Ii)}]`:`[${n("deprecated")}]`):null,Dt,K in X?`[${n("required")}]`:null,Le.choices&&Le.choices[K]?`[${n("choices:")} ${r.stringifiedValues(Le.choices[K])}]`:null,w(Le.default[K],Le.defaultDescription[K])].filter(Boolean).join(" ");var Ii;Pe.span({text:$f(ct),padding:[0,2,0,2+TE(ct)],width:_(We,se)+4},rt),vn?Pe.div({text:vn,padding:[0,0,0,2],align:"right"}):Pe.div()}),Pe.div()}),f.length&&(Pe.div(n("Examples:")),f.forEach(ce=>{ce[0]=ce[0].replace(/\$0/g,j)}),f.forEach(ce=>{ce[1]===""?Pe.div({text:ce[0],padding:[0,2,0,2]}):Pe.div({text:ce[0],padding:[0,2,0,2],width:_(f,se)+4},{text:ce[1]})}),Pe.div()),g.length>0){let ce=g.map(Se=>Se.replace(/\$0/g,j)).join(`
`);Pe.div(`${ce}
`)}return Pe.toString().replace(/\s*$/,"")},r.cacheHelpMessage=function(){b=this.help()},r.clearCachedHelpMessage=function(){b=void 0},r.hasCachedHelpMessage=function(){return!!b},r.showHelp=j=>{let X=t.getInternalMethods().getLoggerInstance();j||(j="error"),(typeof j=="function"?j:X[j])(r.help())},r.functionDescription=j=>["(",j.name?e.Parser.decamelize(j.name,"-"):n("generated-value"),")"].join(""),r.stringifiedValues=function(j,X){let J="",be=X||", ",we=[].concat(j);return j&&we.length&&we.forEach(Le=>{J.length&&(J+=be),J+=JSON.stringify(Le)}),J};let le=null;r.version=j=>{le=j},r.showVersion=j=>{let X=t.getInternalMethods().getLoggerInstance();j||(j="error"),(typeof j=="function"?j:X[j])(le)},r.reset=function(j){return s=null,o=!1,l=[],u=!1,g=[],f=[],c=[],m=Lo(m,X=>!j[X]),r};let $=[];return r.freeze=function(){$.push({failMessage:s,failureOutput:o,usages:l,usageDisabled:u,epilogs:g,examples:f,commands:c,descriptions:m})},r.unfreeze=function(){let j=$.pop();j&&({failMessage:s,failureOutput:o,usages:l,usageDisabled:u,epilogs:g,examples:f,commands:c,descriptions:m}=j)},r}function Bh(t){return typeof t=="object"}function TE(t){return Bh(t)?t.indentation:0}function $f(t){return Bh(t)?t.text:t}var vE=class{constructor(e,n,r,i){var s,a,o;this.yargs=e,this.usage=n,this.command=r,this.shim=i,this.completionKey="get-yargs-completions",this.aliases=null,this.customCompletionFunction=null,this.zshShell=(o=((s=this.shim.getEnv("SHELL"))===null||s===void 0?void 0:s.includes("zsh"))||((a=this.shim.getEnv("ZSH_NAME"))===null||a===void 0?void 0:a.includes("zsh")))!==null&&o!==void 0&&o}defaultCompletion(e,n,r,i){let s=this.command.getCommandHandlers();for(let o=0,l=e.length;o<l;++o)if(s[e[o]]&&s[e[o]].builder){let u=s[e[o]].builder;if(qh(u)){let f=this.yargs.getInternalMethods().reset();return u(f,!0),f.argv}}let a=[];this.commandCompletions(a,e,r),this.optionCompletions(a,e,n,r),this.choicesCompletions(a,e,n,r),i(null,a)}commandCompletions(e,n,r){let i=this.yargs.getInternalMethods().getContext().commands;r.match(/^-/)||i[i.length-1]===r||this.previousArgHasChoices(n)||this.usage.getCommands().forEach(s=>{let a=Oo(s[0]).cmd;if(n.indexOf(a)===-1)if(this.zshShell){let o=s[1]||"";e.push(a.replace(/:/g,"\\:")+":"+o)}else e.push(a)})}optionCompletions(e,n,r,i){if((i.match(/^-/)||i===""&&e.length===0)&&!this.previousArgHasChoices(n)){let s=this.yargs.getOptions(),a=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[];Object.keys(s.key).forEach(o=>{let l=!!s.configuration["boolean-negation"]&&s.boolean.includes(o);a.includes(o)||this.argsContainKey(n,r,o,l)||(this.completeOptionKey(o,e,i),l&&s.default[o]&&this.completeOptionKey(`no-${o}`,e,i))})}}choicesCompletions(e,n,r,i){if(this.previousArgHasChoices(n)){let s=this.getPreviousArgChoices(n);s&&s.length>0&&e.push(...s)}}getPreviousArgChoices(e){if(e.length<1)return;let n=e[e.length-1],r="";if(!n.startsWith("--")&&e.length>1&&(r=n,n=e[e.length-2]),!n.startsWith("--"))return;let i=n.replace(/-/g,""),s=this.yargs.getOptions();return Object.keys(s.key).some(a=>a===i)&&Array.isArray(s.choices[i])?s.choices[i].filter(a=>!r||a.startsWith(r)):void 0}previousArgHasChoices(e){let n=this.getPreviousArgChoices(e);return n!==void 0&&n.length>0}argsContainKey(e,n,r,i){if(e.indexOf(`--${r}`)!==-1||i&&e.indexOf(`--no-${r}`)!==-1)return!0;if(this.aliases){for(let s of this.aliases[r])if(n[s]!==void 0)return!0}return!1}completeOptionKey(e,n,r){let i=this.usage.getDescriptions(),s=!/^--/.test(r)&&(a=>/^[^0-9]$/.test(a))(e)?"-":"--";if(this.zshShell){let a=i[e]||"";n.push(s+`${e.replace(/:/g,"\\:")}:${a.replace("__yargsString__:","")}`)}else n.push(s+e)}customCompletion(e,n,r,i){if(ai(this.customCompletionFunction,null,this.shim),this.customCompletionFunction.length<3){let s=this.customCompletionFunction(r,n);return jt(s)?s.then(a=>{this.shim.process.nextTick(()=>{i(null,a)})}).catch(a=>{this.shim.process.nextTick(()=>{i(a,void 0)})}):i(null,s)}return function(s){return s.length>3}(this.customCompletionFunction)?this.customCompletionFunction(r,n,(s=i)=>this.defaultCompletion(e,n,r,s),s=>{i(null,s)}):this.customCompletionFunction(r,n,s=>{i(null,s)})}getCompletion(e,n){let r=e.length?e[e.length-1]:"",i=this.yargs.parse(e,!0),s=this.customCompletionFunction?a=>this.customCompletion(e,a,r,n):a=>this.defaultCompletion(e,a,r,n);return jt(i)?i.then(s):s(i)}generateCompletionScript(e,n){let r=this.zshShell?`#compdef {{app_name}}
###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.zshrc
#    or {{app_path}} {{completion_command}} >> ~/.zsh_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
  local reply
  local si=$IFS
  IFS=$'
' reply=($(COMP_CWORD="$((CURRENT-1))" COMP_LINE="$BUFFER" COMP_POINT="$CURSOR" {{app_path}} --get-yargs-completions "\${words[@]}"))
  IFS=$si
  _describe 'values' reply
}
compdef _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`:`###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.bashrc
#    or {{app_path}} {{completion_command}} >> ~/.bash_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
    local cur_word args type_list

    cur_word="\${COMP_WORDS[COMP_CWORD]}"
    args=("\${COMP_WORDS[@]}")

    # ask yargs to generate completions.
    type_list=$({{app_path}} --get-yargs-completions "\${args[@]}")

    COMPREPLY=( $(compgen -W "\${type_list}" -- \${cur_word}) )

    # if no match was found, fall back to filename completion
    if [ \${#COMPREPLY[@]} -eq 0 ]; then
      COMPREPLY=()
    fi

    return 0
}
complete -o bashdefault -o default -F _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`,i=this.shim.path.basename(e);return e.match(/\.js$/)&&(e=`./${e}`),r=r.replace(/{{app_name}}/g,i),r=r.replace(/{{completion_command}}/g,n),r.replace(/{{app_path}}/g,e)}registerFunction(e){this.customCompletionFunction=e}setParsed(e){this.aliases=e.aliases}};function O2(t,e){if(t.length===0)return e.length;if(e.length===0)return t.length;let n=[],r,i;for(r=0;r<=e.length;r++)n[r]=[r];for(i=0;i<=t.length;i++)n[0][i]=i;for(r=1;r<=e.length;r++)for(i=1;i<=t.length;i++)e.charAt(r-1)===t.charAt(i-1)?n[r][i]=n[r-1][i-1]:r>1&&i>1&&e.charAt(r-2)===t.charAt(i-1)&&e.charAt(r-1)===t.charAt(i-2)?n[r][i]=n[r-2][i-2]+1:n[r][i]=Math.min(n[r-1][i-1]+1,Math.min(n[r][i-1]+1,n[r-1][i]+1));return n[e.length][t.length]}var NE=["$0","--","_"],Rt,da,au,Er,nr,Hf,Rs,ma,Kf,Dr,zf,Ar,Ai,rr,Sr,Mo,an,ge,Xf,Qf,ir,ha,ko,ga,ws,Jf,Ee,_a,ya,ba,Oe,Si,Et,CE=Symbol("copyDoubleDash"),PE=Symbol("copyDoubleDash"),Vh=Symbol("deleteFromParserHintObject"),EE=Symbol("emitWarning"),DE=Symbol("freeze"),AE=Symbol("getDollarZero"),Ta=Symbol("getParserConfiguration"),jh=Symbol("guessLocale"),SE=Symbol("guessVersion"),IE=Symbol("parsePositionalNumbers"),Uh=Symbol("pkgUp"),Os=Symbol("populateParserHintArray"),qo=Symbol("populateParserHintSingleValueDictionary"),Wh=Symbol("populateParserHintArrayDictionary"),Gh=Symbol("populateParserHintDictionary"),Yh=Symbol("sanitizeKey"),$h=Symbol("setKey"),Hh=Symbol("unfreeze"),xE=Symbol("validateAsync"),RE=Symbol("getCommandInstance"),wE=Symbol("getContext"),OE=Symbol("getHasOutput"),LE=Symbol("getLoggerInstance"),FE=Symbol("getParseContext"),ME=Symbol("getUsageInstance"),kE=Symbol("getValidationInstance"),Zf=Symbol("hasParseCallback"),va=Symbol("postProcess"),qE=Symbol("rebase"),Kh=Symbol("reset"),ou=Symbol("runYargsParserAndExecuteCommands"),zh=Symbol("runValidation"),BE=Symbol("setHasOutput"),Na=Symbol("kTrackManuallySetKeys"),VE=class{constructor(e=[],n,r,i){this.customScriptName=!1,this.parsed=!1,Rt.set(this,void 0),da.set(this,void 0),au.set(this,{commands:[],fullCommands:[]}),Er.set(this,null),nr.set(this,null),Hf.set(this,"show-hidden"),Rs.set(this,null),ma.set(this,!0),Kf.set(this,{}),Dr.set(this,!0),zf.set(this,[]),Ar.set(this,void 0),Ai.set(this,{}),rr.set(this,!1),Sr.set(this,null),Mo.set(this,void 0),an.set(this,""),ge.set(this,void 0),Xf.set(this,void 0),Qf.set(this,{}),ir.set(this,null),ha.set(this,null),ko.set(this,{}),ga.set(this,{}),ws.set(this,void 0),Jf.set(this,!1),Ee.set(this,void 0),_a.set(this,!1),ya.set(this,!1),ba.set(this,!1),Oe.set(this,void 0),Si.set(this,null),Et.set(this,void 0),pe(this,Ee,i,"f"),pe(this,ws,e,"f"),pe(this,da,n,"f"),pe(this,Xf,r,"f"),pe(this,Ar,new _E(this),"f"),this.$0=this[AE](),this[Kh](),pe(this,Rt,C(this,Rt,"f"),"f"),pe(this,Oe,C(this,Oe,"f"),"f"),pe(this,Et,C(this,Et,"f"),"f"),pe(this,ge,C(this,ge,"f"),"f"),C(this,ge,"f").showHiddenOpt=C(this,Hf,"f"),pe(this,Mo,this[PE](),"f")}addHelpOpt(e,n){return fe("[string|boolean] [string]",[e,n],arguments.length),C(this,Sr,"f")&&(this[Vh](C(this,Sr,"f")),pe(this,Sr,null,"f")),e===!1&&n===void 0||(pe(this,Sr,typeof e=="string"?e:"help","f"),this.boolean(C(this,Sr,"f")),this.describe(C(this,Sr,"f"),n||C(this,Oe,"f").deferY18nLookup("Show help"))),this}help(e,n){return this.addHelpOpt(e,n)}addShowHiddenOpt(e,n){if(fe("[string|boolean] [string]",[e,n],arguments.length),e===!1&&n===void 0)return this;let r=typeof e=="string"?e:C(this,Hf,"f");return this.boolean(r),this.describe(r,n||C(this,Oe,"f").deferY18nLookup("Show hidden options")),C(this,ge,"f").showHiddenOpt=r,this}showHidden(e,n){return this.addShowHiddenOpt(e,n)}alias(e,n){return fe("<object|string|array> [string|array]",[e,n],arguments.length),this[Wh](this.alias.bind(this),"alias",e,n),this}array(e){return fe("<array|string>",[e],arguments.length),this[Os]("array",e),this[Na](e),this}boolean(e){return fe("<array|string>",[e],arguments.length),this[Os]("boolean",e),this[Na](e),this}check(e,n){return fe("<function> [boolean]",[e,n],arguments.length),this.middleware((r,i)=>iu(()=>e(r,i.getOptions()),s=>(s?(typeof s=="string"||s instanceof Error)&&C(this,Oe,"f").fail(s.toString(),s):C(this,Oe,"f").fail(C(this,Ee,"f").y18n.__("Argument check failed: %s",e.toString())),r),s=>(C(this,Oe,"f").fail(s.message?s.message:s.toString(),s),r)),!1,n),this}choices(e,n){return fe("<object|string|array> [string|array]",[e,n],arguments.length),this[Wh](this.choices.bind(this),"choices",e,n),this}coerce(e,n){if(fe("<object|string|array> [function]",[e,n],arguments.length),Array.isArray(e)){if(!n)throw new Kt("coerce callback must be provided");for(let r of e)this.coerce(r,n);return this}if(typeof e=="object"){for(let r of Object.keys(e))this.coerce(r,e[r]);return this}if(!n)throw new Kt("coerce callback must be provided");return C(this,ge,"f").key[e]=!0,C(this,Ar,"f").addCoerceMiddleware((r,i)=>{let s;return iu(()=>(s=i.getAliases(),n(r[e])),a=>{if(r[e]=a,s[e])for(let o of s[e])r[o]=a;return r},a=>{throw new Kt(a.message)})},e),this}conflicts(e,n){return fe("<string|object> [string|array]",[e,n],arguments.length),C(this,Et,"f").conflicts(e,n),this}config(e="config",n,r){return fe("[object|string] [string|function] [function]",[e,n,r],arguments.length),typeof e!="object"||Array.isArray(e)?(typeof n=="function"&&(r=n,n=void 0),this.describe(e,n||C(this,Oe,"f").deferY18nLookup("Path to JSON config file")),(Array.isArray(e)?e:[e]).forEach(i=>{C(this,ge,"f").config[i]=r||!0}),this):(e=Gf(e,C(this,da,"f"),this[Ta]()["deep-merge-config"]||!1,C(this,Ee,"f")),C(this,ge,"f").configObjects=(C(this,ge,"f").configObjects||[]).concat(e),this)}completion(e,n,r){return fe("[string] [string|boolean|function] [function]",[e,n,r],arguments.length),typeof n=="function"&&(r=n,n=void 0),pe(this,nr,e||C(this,nr,"f")||"completion","f"),n||n===!1||(n="generate completion script"),this.command(C(this,nr,"f"),n),r&&C(this,Er,"f").registerFunction(r),this}command(e,n,r,i,s,a){return fe("<string|array|object> [string|boolean] [function|object] [function] [array] [boolean|string]",[e,n,r,i,s,a],arguments.length),C(this,Rt,"f").addHandler(e,n,r,i,s,a),this}commands(e,n,r,i,s,a){return this.command(e,n,r,i,s,a)}commandDir(e,n){fe("<string> [object]",[e,n],arguments.length);let r=C(this,Xf,"f")||C(this,Ee,"f").require;return C(this,Rt,"f").addDirectory(e,r,C(this,Ee,"f").getCallerFile(),n),this}count(e){return fe("<array|string>",[e],arguments.length),this[Os]("count",e),this[Na](e),this}default(e,n,r){return fe("<object|string|array> [*] [string]",[e,n,r],arguments.length),r&&(mE(e,C(this,Ee,"f")),C(this,ge,"f").defaultDescription[e]=r),typeof n=="function"&&(mE(e,C(this,Ee,"f")),C(this,ge,"f").defaultDescription[e]||(C(this,ge,"f").defaultDescription[e]=C(this,Oe,"f").functionDescription(n)),n=n.call()),this[qo](this.default.bind(this),"default",e,n),this}defaults(e,n,r){return this.default(e,n,r)}demandCommand(e=1,n,r,i){return fe("[number] [number|string] [string|null|undefined] [string|null|undefined]",[e,n,r,i],arguments.length),typeof n!="number"&&(r=n,n=1/0),this.global("_",!1),C(this,ge,"f").demandedCommands._={min:e,max:n,minMsg:r,maxMsg:i},this}demand(e,n,r){return Array.isArray(n)?(n.forEach(i=>{ai(r,!0,C(this,Ee,"f")),this.demandOption(i,r)}),n=1/0):typeof n!="number"&&(r=n,n=1/0),typeof e=="number"?(ai(r,!0,C(this,Ee,"f")),this.demandCommand(e,n,r,r)):Array.isArray(e)?e.forEach(i=>{ai(r,!0,C(this,Ee,"f")),this.demandOption(i,r)}):typeof r=="string"?this.demandOption(e,r):r!==!0&&r!==void 0||this.demandOption(e),this}demandOption(e,n){return fe("<object|string|array> [string]",[e,n],arguments.length),this[qo](this.demandOption.bind(this),"demandedOptions",e,n),this}deprecateOption(e,n){return fe("<string> [string|boolean]",[e,n],arguments.length),C(this,ge,"f").deprecatedOptions[e]=n,this}describe(e,n){return fe("<object|string|array> [string]",[e,n],arguments.length),this[$h](e,!0),C(this,Oe,"f").describe(e,n),this}detectLocale(e){return fe("<boolean>",[e],arguments.length),pe(this,ma,e,"f"),this}env(e){return fe("[string|boolean]",[e],arguments.length),e===!1?delete C(this,ge,"f").envPrefix:C(this,ge,"f").envPrefix=e||"",this}epilogue(e){return fe("<string>",[e],arguments.length),C(this,Oe,"f").epilog(e),this}epilog(e){return this.epilogue(e)}example(e,n){return fe("<string|array> [string]",[e,n],arguments.length),Array.isArray(e)?e.forEach(r=>this.example(...r)):C(this,Oe,"f").example(e,n),this}exit(e,n){pe(this,rr,!0,"f"),pe(this,Rs,n,"f"),C(this,Dr,"f")&&C(this,Ee,"f").process.exit(e)}exitProcess(e=!0){return fe("[boolean]",[e],arguments.length),pe(this,Dr,e,"f"),this}fail(e){if(fe("<function|boolean>",[e],arguments.length),typeof e=="boolean"&&e!==!1)throw new Kt("Invalid first argument. Expected function or boolean 'false'");return C(this,Oe,"f").failFn(e),this}getAliases(){return this.parsed?this.parsed.aliases:{}}async getCompletion(e,n){return fe("<array> [function]",[e,n],arguments.length),n?C(this,Er,"f").getCompletion(e,n):new Promise((r,i)=>{C(this,Er,"f").getCompletion(e,(s,a)=>{s?i(s):r(a)})})}getDemandedOptions(){return fe([],0),C(this,ge,"f").demandedOptions}getDemandedCommands(){return fe([],0),C(this,ge,"f").demandedCommands}getDeprecatedOptions(){return fe([],0),C(this,ge,"f").deprecatedOptions}getDetectLocale(){return C(this,ma,"f")}getExitProcess(){return C(this,Dr,"f")}getGroups(){return Object.assign({},C(this,Ai,"f"),C(this,ga,"f"))}getHelp(){if(pe(this,rr,!0,"f"),!C(this,Oe,"f").hasCachedHelpMessage()){if(!this.parsed){let n=this[ou](C(this,ws,"f"),void 0,void 0,0,!0);if(jt(n))return n.then(()=>C(this,Oe,"f").help())}let e=C(this,Rt,"f").runDefaultBuilderOn(this);if(jt(e))return e.then(()=>C(this,Oe,"f").help())}return Promise.resolve(C(this,Oe,"f").help())}getOptions(){return C(this,ge,"f")}getStrict(){return C(this,_a,"f")}getStrictCommands(){return C(this,ya,"f")}getStrictOptions(){return C(this,ba,"f")}global(e,n){return fe("<string|array> [boolean]",[e,n],arguments.length),e=[].concat(e),n!==!1?C(this,ge,"f").local=C(this,ge,"f").local.filter(r=>e.indexOf(r)===-1):e.forEach(r=>{C(this,ge,"f").local.includes(r)||C(this,ge,"f").local.push(r)}),this}group(e,n){fe("<string|array> <string>",[e,n],arguments.length);let r=C(this,ga,"f")[n]||C(this,Ai,"f")[n];C(this,ga,"f")[n]&&delete C(this,ga,"f")[n];let i={};return C(this,Ai,"f")[n]=(r||[]).concat(e).filter(s=>!i[s]&&(i[s]=!0)),this}hide(e){return fe("<string>",[e],arguments.length),C(this,ge,"f").hiddenOptions.push(e),this}implies(e,n){return fe("<string|object> [number|string|array]",[e,n],arguments.length),C(this,Et,"f").implies(e,n),this}locale(e){return fe("[string]",[e],arguments.length),e?(pe(this,ma,!1,"f"),C(this,Ee,"f").y18n.setLocale(e),this):(this[jh](),C(this,Ee,"f").y18n.getLocale())}middleware(e,n,r){return C(this,Ar,"f").addMiddleware(e,!!n,r)}nargs(e,n){return fe("<string|object|array> [number]",[e,n],arguments.length),this[qo](this.nargs.bind(this),"narg",e,n),this}normalize(e){return fe("<array|string>",[e],arguments.length),this[Os]("normalize",e),this}number(e){return fe("<array|string>",[e],arguments.length),this[Os]("number",e),this[Na](e),this}option(e,n){if(fe("<string|object> [object]",[e,n],arguments.length),typeof e=="object")Object.keys(e).forEach(r=>{this.options(r,e[r])});else{typeof n!="object"&&(n={}),this[Na](e),!C(this,Si,"f")||e!=="version"&&(n==null?void 0:n.alias)!=="version"||this[EE](['"version" is a reserved word.',"Please do one of the following:",'- Disable version with `yargs.version(false)` if using "version" as an option',"- Use the built-in `yargs.version` method instead (if applicable)","- Use a different option key","https://yargs.js.org/docs/#api-reference-version"].join(`
`),void 0,"versionWarning"),C(this,ge,"f").key[e]=!0,n.alias&&this.alias(e,n.alias);let r=n.deprecate||n.deprecated;r&&this.deprecateOption(e,r);let i=n.demand||n.required||n.require;i&&this.demand(e,i),n.demandOption&&this.demandOption(e,typeof n.demandOption=="string"?n.demandOption:void 0),n.conflicts&&this.conflicts(e,n.conflicts),"default"in n&&this.default(e,n.default),n.implies!==void 0&&this.implies(e,n.implies),n.nargs!==void 0&&this.nargs(e,n.nargs),n.config&&this.config(e,n.configParser),n.normalize&&this.normalize(e),n.choices&&this.choices(e,n.choices),n.coerce&&this.coerce(e,n.coerce),n.group&&this.group(e,n.group),(n.boolean||n.type==="boolean")&&(this.boolean(e),n.alias&&this.boolean(n.alias)),(n.array||n.type==="array")&&(this.array(e),n.alias&&this.array(n.alias)),(n.number||n.type==="number")&&(this.number(e),n.alias&&this.number(n.alias)),(n.string||n.type==="string")&&(this.string(e),n.alias&&this.string(n.alias)),(n.count||n.type==="count")&&this.count(e),typeof n.global=="boolean"&&this.global(e,n.global),n.defaultDescription&&(C(this,ge,"f").defaultDescription[e]=n.defaultDescription),n.skipValidation&&this.skipValidation(e);let s=n.describe||n.description||n.desc;this.describe(e,s),n.hidden&&this.hide(e),n.requiresArg&&this.requiresArg(e)}return this}options(e,n){return this.option(e,n)}parse(e,n,r){fe("[string|array] [function|boolean|object] [function]",[e,n,r],arguments.length),this[DE](),e===void 0&&(e=C(this,ws,"f")),typeof n=="object"&&(pe(this,ha,n,"f"),n=r),typeof n=="function"&&(pe(this,ir,n,"f"),n=!1),n||pe(this,ws,e,"f"),C(this,ir,"f")&&pe(this,Dr,!1,"f");let i=this[ou](e,!!n),s=this.parsed;return C(this,Er,"f").setParsed(this.parsed),jt(i)?i.then(a=>(C(this,ir,"f")&&C(this,ir,"f").call(this,C(this,Rs,"f"),a,C(this,an,"f")),a)).catch(a=>{throw C(this,ir,"f")&&C(this,ir,"f")(a,this.parsed.argv,C(this,an,"f")),a}).finally(()=>{this[Hh](),this.parsed=s}):(C(this,ir,"f")&&C(this,ir,"f").call(this,C(this,Rs,"f"),i,C(this,an,"f")),this[Hh](),this.parsed=s,i)}parseAsync(e,n,r){let i=this.parse(e,n,r);return jt(i)?i:Promise.resolve(i)}parseSync(e,n,r){let i=this.parse(e,n,r);if(jt(i))throw new Kt(".parseSync() must not be used with asynchronous builders, handlers, or middleware");return i}parserConfiguration(e){return fe("<object>",[e],arguments.length),pe(this,Qf,e,"f"),this}pkgConf(e,n){fe("<string> [string]",[e,n],arguments.length);let r=null,i=this[Uh](n||C(this,da,"f"));return i[e]&&typeof i[e]=="object"&&(r=Gf(i[e],n||C(this,da,"f"),this[Ta]()["deep-merge-config"]||!1,C(this,Ee,"f")),C(this,ge,"f").configObjects=(C(this,ge,"f").configObjects||[]).concat(r)),this}positional(e,n){fe("<string> <object>",[e,n],arguments.length);let r=["default","defaultDescription","implies","normalize","choices","conflicts","coerce","type","describe","desc","description","alias"];n=Lo(n,(a,o)=>!(a==="type"&&!["string","number","boolean"].includes(o))&&r.includes(a));let i=C(this,au,"f").fullCommands[C(this,au,"f").fullCommands.length-1],s=i?C(this,Rt,"f").cmdToParseOptions(i):{array:[],alias:{},default:{},demand:{}};return Yf(s).forEach(a=>{let o=s[a];Array.isArray(o)?o.indexOf(e)!==-1&&(n[a]=!0):o[e]&&!(a in n)&&(n[a]=o[e])}),this.group(e,C(this,Oe,"f").getPositionalGroupName()),this.option(e,n)}recommendCommands(e=!0){return fe("[boolean]",[e],arguments.length),pe(this,Jf,e,"f"),this}required(e,n,r){return this.demand(e,n,r)}require(e,n,r){return this.demand(e,n,r)}requiresArg(e){return fe("<array|string|object> [number]",[e],arguments.length),typeof e=="string"&&C(this,ge,"f").narg[e]||this[qo](this.requiresArg.bind(this),"narg",e,NaN),this}showCompletionScript(e,n){return fe("[string] [string]",[e,n],arguments.length),e=e||this.$0,C(this,Mo,"f").log(C(this,Er,"f").generateCompletionScript(e,n||C(this,nr,"f")||"completion")),this}showHelp(e){if(fe("[string|function]",[e],arguments.length),pe(this,rr,!0,"f"),!C(this,Oe,"f").hasCachedHelpMessage()){if(!this.parsed){let r=this[ou](C(this,ws,"f"),void 0,void 0,0,!0);if(jt(r))return r.then(()=>{C(this,Oe,"f").showHelp(e)}),this}let n=C(this,Rt,"f").runDefaultBuilderOn(this);if(jt(n))return n.then(()=>{C(this,Oe,"f").showHelp(e)}),this}return C(this,Oe,"f").showHelp(e),this}scriptName(e){return this.customScriptName=!0,this.$0=e,this}showHelpOnFail(e,n){return fe("[boolean|string] [string]",[e,n],arguments.length),C(this,Oe,"f").showHelpOnFail(e,n),this}showVersion(e){return fe("[string|function]",[e],arguments.length),C(this,Oe,"f").showVersion(e),this}skipValidation(e){return fe("<array|string>",[e],arguments.length),this[Os]("skipValidation",e),this}strict(e){return fe("[boolean]",[e],arguments.length),pe(this,_a,e!==!1,"f"),this}strictCommands(e){return fe("[boolean]",[e],arguments.length),pe(this,ya,e!==!1,"f"),this}strictOptions(e){return fe("[boolean]",[e],arguments.length),pe(this,ba,e!==!1,"f"),this}string(e){return fe("<array|string>",[e],arguments.length),this[Os]("string",e),this[Na](e),this}terminalWidth(){return fe([],0),C(this,Ee,"f").process.stdColumns}updateLocale(e){return this.updateStrings(e)}updateStrings(e){return fe("<object>",[e],arguments.length),pe(this,ma,!1,"f"),C(this,Ee,"f").y18n.updateLocale(e),this}usage(e,n,r,i){if(fe("<string|null|undefined> [string|boolean] [function|object] [function]",[e,n,r,i],arguments.length),n!==void 0){if(ai(e,null,C(this,Ee,"f")),(e||"").match(/^\$0( |$)/))return this.command(e,n,r,i);throw new Kt(".usage() description must start with $0 if being used as alias for .command()")}return C(this,Oe,"f").usage(e),this}version(e,n,r){let i="version";if(fe("[boolean|string] [string] [string]",[e,n,r],arguments.length),C(this,Si,"f")&&(this[Vh](C(this,Si,"f")),C(this,Oe,"f").version(void 0),pe(this,Si,null,"f")),arguments.length===0)r=this[SE](),e=i;else if(arguments.length===1){if(e===!1)return this;r=e,e=i}else arguments.length===2&&(r=n,n=void 0);return pe(this,Si,typeof e=="string"?e:i,"f"),n=n||C(this,Oe,"f").deferY18nLookup("Show version number"),C(this,Oe,"f").version(r||void 0),this.boolean(C(this,Si,"f")),this.describe(C(this,Si,"f"),n),this}wrap(e){return fe("<number|null|undefined>",[e],arguments.length),C(this,Oe,"f").wrap(e),this}[(Rt=new WeakMap,da=new WeakMap,au=new WeakMap,Er=new WeakMap,nr=new WeakMap,Hf=new WeakMap,Rs=new WeakMap,ma=new WeakMap,Kf=new WeakMap,Dr=new WeakMap,zf=new WeakMap,Ar=new WeakMap,Ai=new WeakMap,rr=new WeakMap,Sr=new WeakMap,Mo=new WeakMap,an=new WeakMap,ge=new WeakMap,Xf=new WeakMap,Qf=new WeakMap,ir=new WeakMap,ha=new WeakMap,ko=new WeakMap,ga=new WeakMap,ws=new WeakMap,Jf=new WeakMap,Ee=new WeakMap,_a=new WeakMap,ya=new WeakMap,ba=new WeakMap,Oe=new WeakMap,Si=new WeakMap,Et=new WeakMap,CE)](e){if(!e._||!e["--"])return e;e._.push.apply(e._,e["--"]);try{delete e["--"]}catch{}return e}[PE](){return{log:(...e)=>{this[Zf]()||console.log(...e),pe(this,rr,!0,"f"),C(this,an,"f").length&&pe(this,an,C(this,an,"f")+`
`,"f"),pe(this,an,C(this,an,"f")+e.join(" "),"f")},error:(...e)=>{this[Zf]()||console.error(...e),pe(this,rr,!0,"f"),C(this,an,"f").length&&pe(this,an,C(this,an,"f")+`
`,"f"),pe(this,an,C(this,an,"f")+e.join(" "),"f")}}}[Vh](e){Yf(C(this,ge,"f")).forEach(n=>{if(n==="configObjects")return;let r=C(this,ge,"f")[n];Array.isArray(r)?r.includes(e)&&r.splice(r.indexOf(e),1):typeof r=="object"&&delete r[e]}),delete C(this,Oe,"f").getDescriptions()[e]}[EE](e,n,r){C(this,Kf,"f")[r]||(C(this,Ee,"f").process.emitWarning(e,n),C(this,Kf,"f")[r]=!0)}[DE](){C(this,zf,"f").push({options:C(this,ge,"f"),configObjects:C(this,ge,"f").configObjects.slice(0),exitProcess:C(this,Dr,"f"),groups:C(this,Ai,"f"),strict:C(this,_a,"f"),strictCommands:C(this,ya,"f"),strictOptions:C(this,ba,"f"),completionCommand:C(this,nr,"f"),output:C(this,an,"f"),exitError:C(this,Rs,"f"),hasOutput:C(this,rr,"f"),parsed:this.parsed,parseFn:C(this,ir,"f"),parseContext:C(this,ha,"f")}),C(this,Oe,"f").freeze(),C(this,Et,"f").freeze(),C(this,Rt,"f").freeze(),C(this,Ar,"f").freeze()}[AE](){let e,n="";return e=/\b(node|iojs|electron)(\.exe)?$/.test(C(this,Ee,"f").process.argv()[0])?C(this,Ee,"f").process.argv().slice(1,2):C(this,Ee,"f").process.argv().slice(0,1),n=e.map(r=>{let i=this[qE](C(this,da,"f"),r);return r.match(/^(\/|([a-zA-Z]:)?\\)/)&&i.length<r.length?i:r}).join(" ").trim(),C(this,Ee,"f").getEnv("_")&&C(this,Ee,"f").getProcessArgvBin()===C(this,Ee,"f").getEnv("_")&&(n=C(this,Ee,"f").getEnv("_").replace(`${C(this,Ee,"f").path.dirname(C(this,Ee,"f").process.execPath())}/`,"")),n}[Ta](){return C(this,Qf,"f")}[jh](){if(!C(this,ma,"f"))return;let e=C(this,Ee,"f").getEnv("LC_ALL")||C(this,Ee,"f").getEnv("LC_MESSAGES")||C(this,Ee,"f").getEnv("LANG")||C(this,Ee,"f").getEnv("LANGUAGE")||"en_US";this.locale(e.replace(/[.:].*/,""))}[SE](){return this[Uh]().version||"unknown"}[IE](e){let n=e["--"]?e["--"]:e._;for(let r,i=0;(r=n[i])!==void 0;i++)C(this,Ee,"f").Parser.looksLikeNumber(r)&&Number.isSafeInteger(Math.floor(parseFloat(`${r}`)))&&(n[i]=Number(r));return e}[Uh](e){let n=e||"*";if(C(this,ko,"f")[n])return C(this,ko,"f")[n];let r={};try{let i=e||C(this,Ee,"f").mainFilename;!e&&C(this,Ee,"f").path.extname(i)&&(i=C(this,Ee,"f").path.dirname(i));let s=C(this,Ee,"f").findUp(i,(a,o)=>o.includes("package.json")?"package.json":void 0);ai(s,void 0,C(this,Ee,"f")),r=JSON.parse(C(this,Ee,"f").readFileSync(s,"utf8"))}catch{}return C(this,ko,"f")[n]=r||{},C(this,ko,"f")[n]}[Os](e,n){(n=[].concat(n)).forEach(r=>{r=this[Yh](r),C(this,ge,"f")[e].push(r)})}[qo](e,n,r,i){this[Gh](e,n,r,i,(s,a,o)=>{C(this,ge,"f")[s][a]=o})}[Wh](e,n,r,i){this[Gh](e,n,r,i,(s,a,o)=>{C(this,ge,"f")[s][a]=(C(this,ge,"f")[s][a]||[]).concat(o)})}[Gh](e,n,r,i,s){if(Array.isArray(r))r.forEach(a=>{e(a,i)});else if((a=>typeof a=="object")(r))for(let a of Yf(r))e(a,r[a]);else s(n,this[Yh](r),i)}[Yh](e){return e==="__proto__"?"___proto___":e}[$h](e,n){return this[qo](this[$h].bind(this),"key",e,n),this}[Hh](){var e,n,r,i,s,a,o,l,u,f,c,m;let g=C(this,zf,"f").pop(),d;ai(g,void 0,C(this,Ee,"f")),e=this,n=this,r=this,i=this,s=this,a=this,o=this,l=this,u=this,f=this,c=this,m=this,{options:{set value(p){pe(e,ge,p,"f")}}.value,configObjects:d,exitProcess:{set value(p){pe(n,Dr,p,"f")}}.value,groups:{set value(p){pe(r,Ai,p,"f")}}.value,output:{set value(p){pe(i,an,p,"f")}}.value,exitError:{set value(p){pe(s,Rs,p,"f")}}.value,hasOutput:{set value(p){pe(a,rr,p,"f")}}.value,parsed:this.parsed,strict:{set value(p){pe(o,_a,p,"f")}}.value,strictCommands:{set value(p){pe(l,ya,p,"f")}}.value,strictOptions:{set value(p){pe(u,ba,p,"f")}}.value,completionCommand:{set value(p){pe(f,nr,p,"f")}}.value,parseFn:{set value(p){pe(c,ir,p,"f")}}.value,parseContext:{set value(p){pe(m,ha,p,"f")}}.value}=g,C(this,ge,"f").configObjects=d,C(this,Oe,"f").unfreeze(),C(this,Et,"f").unfreeze(),C(this,Rt,"f").unfreeze(),C(this,Ar,"f").unfreeze()}[xE](e,n){return iu(n,r=>(e(r),r))}getInternalMethods(){return{getCommandInstance:this[RE].bind(this),getContext:this[wE].bind(this),getHasOutput:this[OE].bind(this),getLoggerInstance:this[LE].bind(this),getParseContext:this[FE].bind(this),getParserConfiguration:this[Ta].bind(this),getUsageInstance:this[ME].bind(this),getValidationInstance:this[kE].bind(this),hasParseCallback:this[Zf].bind(this),postProcess:this[va].bind(this),reset:this[Kh].bind(this),runValidation:this[zh].bind(this),runYargsParserAndExecuteCommands:this[ou].bind(this),setHasOutput:this[BE].bind(this)}}[RE](){return C(this,Rt,"f")}[wE](){return C(this,au,"f")}[OE](){return C(this,rr,"f")}[LE](){return C(this,Mo,"f")}[FE](){return C(this,ha,"f")||{}}[ME](){return C(this,Oe,"f")}[kE](){return C(this,Et,"f")}[Zf](){return!!C(this,ir,"f")}[va](e,n,r,i){return r||jt(e)?e:(n||(e=this[CE](e)),(this[Ta]()["parse-positional-numbers"]||this[Ta]()["parse-positional-numbers"]===void 0)&&(e=this[IE](e)),i&&(e=ru(e,this,C(this,Ar,"f").getMiddleware(),!1)),e)}[Kh](e={}){pe(this,ge,C(this,ge,"f")||{},"f");let n={};n.local=C(this,ge,"f").local||[],n.configObjects=C(this,ge,"f").configObjects||[];let r={};return n.local.forEach(i=>{r[i]=!0,(e[i]||[]).forEach(s=>{r[s]=!0})}),Object.assign(C(this,ga,"f"),Object.keys(C(this,Ai,"f")).reduce((i,s)=>{let a=C(this,Ai,"f")[s].filter(o=>!(o in r));return a.length>0&&(i[s]=a),i},{})),pe(this,Ai,{},"f"),["array","boolean","string","skipValidation","count","normalize","number","hiddenOptions"].forEach(i=>{n[i]=(C(this,ge,"f")[i]||[]).filter(s=>!r[s])}),["narg","key","alias","default","defaultDescription","config","choices","demandedOptions","demandedCommands","deprecatedOptions"].forEach(i=>{n[i]=Lo(C(this,ge,"f")[i],s=>!r[s])}),n.envPrefix=C(this,ge,"f").envPrefix,pe(this,ge,n,"f"),pe(this,Oe,C(this,Oe,"f")?C(this,Oe,"f").reset(r):w2(this,C(this,Ee,"f")),"f"),pe(this,Et,C(this,Et,"f")?C(this,Et,"f").reset(r):function(i,s,a){let o=a.y18n.__,l=a.y18n.__n,u={nonOptionCount:function(d){let p=i.getDemandedCommands(),h=d._.length+(d["--"]?d["--"].length:0)-i.getInternalMethods().getContext().commands.length;p._&&(h<p._.min||h>p._.max)&&(h<p._.min?p._.minMsg!==void 0?s.fail(p._.minMsg?p._.minMsg.replace(/\$0/g,h.toString()).replace(/\$1/,p._.min.toString()):null):s.fail(l("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",h,h.toString(),p._.min.toString())):h>p._.max&&(p._.maxMsg!==void 0?s.fail(p._.maxMsg?p._.maxMsg.replace(/\$0/g,h.toString()).replace(/\$1/,p._.max.toString()):null):s.fail(l("Too many non-option arguments: got %s, maximum of %s","Too many non-option arguments: got %s, maximum of %s",h,h.toString(),p._.max.toString()))))},positionalCount:function(d,p){p<d&&s.fail(l("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",p,p+"",d+""))},requiredArguments:function(d,p){let h=null;for(let y of Object.keys(p))Object.prototype.hasOwnProperty.call(d,y)&&d[y]!==void 0||(h=h||{},h[y]=p[y]);if(h){let y=[];for(let b of Object.keys(h)){let N=h[b];N&&y.indexOf(N)<0&&y.push(N)}let _=y.length?`
${y.join(`
`)}`:"";s.fail(l("Missing required argument: %s","Missing required arguments: %s",Object.keys(h).length,Object.keys(h).join(", ")+_))}},unknownArguments:function(d,p,h,y,_=!0){var b;let N=i.getInternalMethods().getCommandInstance().getCommands(),w=[],le=i.getInternalMethods().getContext();if(Object.keys(d).forEach($=>{NE.includes($)||Object.prototype.hasOwnProperty.call(h,$)||Object.prototype.hasOwnProperty.call(i.getInternalMethods().getParseContext(),$)||u.isValidAndSomeAliasIsNotNew($,p)||w.push($)}),_&&(le.commands.length>0||N.length>0||y)&&d._.slice(le.commands.length).forEach($=>{N.includes(""+$)||w.push(""+$)}),_){let $=((b=i.getDemandedCommands()._)===null||b===void 0?void 0:b.max)||0,j=le.commands.length+$;j<d._.length&&d._.slice(j).forEach(X=>{X=String(X),le.commands.includes(X)||w.includes(X)||w.push(X)})}w.length&&s.fail(l("Unknown argument: %s","Unknown arguments: %s",w.length,w.join(", ")))},unknownCommands:function(d){let p=i.getInternalMethods().getCommandInstance().getCommands(),h=[],y=i.getInternalMethods().getContext();return(y.commands.length>0||p.length>0)&&d._.slice(y.commands.length).forEach(_=>{p.includes(""+_)||h.push(""+_)}),h.length>0&&(s.fail(l("Unknown command: %s","Unknown commands: %s",h.length,h.join(", "))),!0)},isValidAndSomeAliasIsNotNew:function(d,p){if(!Object.prototype.hasOwnProperty.call(p,d))return!1;let h=i.parsed.newAliases;return[d,...p[d]].some(y=>!Object.prototype.hasOwnProperty.call(h,y)||!h[d])},limitedChoices:function(d){let p=i.getOptions(),h={};if(!Object.keys(p.choices).length)return;Object.keys(d).forEach(b=>{NE.indexOf(b)===-1&&Object.prototype.hasOwnProperty.call(p.choices,b)&&[].concat(d[b]).forEach(N=>{p.choices[b].indexOf(N)===-1&&N!==void 0&&(h[b]=(h[b]||[]).concat(N))})});let y=Object.keys(h);if(!y.length)return;let _=o("Invalid values:");y.forEach(b=>{_+=`
  ${o("Argument: %s, Given: %s, Choices: %s",b,s.stringifiedValues(h[b]),s.stringifiedValues(p.choices[b]))}`}),s.fail(_)}},f={};function c(d,p){let h=Number(p);return typeof(p=isNaN(h)?p:h)=="number"?p=d._.length>=p:p.match(/^--no-.+/)?(p=p.match(/^--no-(.+)/)[1],p=!Object.prototype.hasOwnProperty.call(d,p)):p=Object.prototype.hasOwnProperty.call(d,p),p}u.implies=function(d,p){fe("<string|object> [array|number|string]",[d,p],arguments.length),typeof d=="object"?Object.keys(d).forEach(h=>{u.implies(h,d[h])}):(i.global(d),f[d]||(f[d]=[]),Array.isArray(p)?p.forEach(h=>u.implies(d,h)):(ai(p,void 0,a),f[d].push(p)))},u.getImplied=function(){return f},u.implications=function(d){let p=[];if(Object.keys(f).forEach(h=>{let y=h;(f[h]||[]).forEach(_=>{let b=y,N=_;b=c(d,b),_=c(d,_),b&&!_&&p.push(` ${y} -> ${N}`)})}),p.length){let h=`${o("Implications failed:")}
`;p.forEach(y=>{h+=y}),s.fail(h)}};let m={};u.conflicts=function(d,p){fe("<string|object> [array|string]",[d,p],arguments.length),typeof d=="object"?Object.keys(d).forEach(h=>{u.conflicts(h,d[h])}):(i.global(d),m[d]||(m[d]=[]),Array.isArray(p)?p.forEach(h=>u.conflicts(d,h)):m[d].push(p))},u.getConflicting=()=>m,u.conflicting=function(d){Object.keys(d).forEach(p=>{m[p]&&m[p].forEach(h=>{h&&d[p]!==void 0&&d[h]!==void 0&&s.fail(o("Arguments %s and %s are mutually exclusive",p,h))})}),i.getInternalMethods().getParserConfiguration()["strip-dashed"]&&Object.keys(m).forEach(p=>{m[p].forEach(h=>{h&&d[a.Parser.camelCase(p)]!==void 0&&d[a.Parser.camelCase(h)]!==void 0&&s.fail(o("Arguments %s and %s are mutually exclusive",p,h))})})},u.recommendCommands=function(d,p){p=p.sort((_,b)=>b.length-_.length);let h=null,y=1/0;for(let _,b=0;(_=p[b])!==void 0;b++){let N=O2(d,_);N<=3&&N<y&&(y=N,h=_)}h&&s.fail(o("Did you mean %s?",h))},u.reset=function(d){return f=Lo(f,p=>!d[p]),m=Lo(m,p=>!d[p]),u};let g=[];return u.freeze=function(){g.push({implied:f,conflicting:m})},u.unfreeze=function(){let d=g.pop();ai(d,void 0,a),{implied:f,conflicting:m}=d},u}(this,C(this,Oe,"f"),C(this,Ee,"f")),"f"),pe(this,Rt,C(this,Rt,"f")?C(this,Rt,"f").reset():function(i,s,a,o){return new yE(i,s,a,o)}(C(this,Oe,"f"),C(this,Et,"f"),C(this,Ar,"f"),C(this,Ee,"f")),"f"),C(this,Er,"f")||pe(this,Er,function(i,s,a,o){return new vE(i,s,a,o)}(this,C(this,Oe,"f"),C(this,Rt,"f"),C(this,Ee,"f")),"f"),C(this,Ar,"f").reset(),pe(this,nr,null,"f"),pe(this,an,"","f"),pe(this,Rs,null,"f"),pe(this,rr,!1,"f"),this.parsed=!1,this}[qE](e,n){return C(this,Ee,"f").path.relative(e,n)}[ou](e,n,r,i=0,s=!1){let a=!!r||s;e=e||C(this,ws,"f"),C(this,ge,"f").__=C(this,Ee,"f").y18n.__,C(this,ge,"f").configuration=this[Ta]();let o=!!C(this,ge,"f").configuration["populate--"],l=Object.assign({},C(this,ge,"f").configuration,{"populate--":!0}),u=C(this,Ee,"f").Parser.detailed(e,Object.assign({},C(this,ge,"f"),{configuration:{"parse-positional-numbers":!1,...l}})),f=Object.assign(u.argv,C(this,ha,"f")),c,m=u.aliases,g=!1,d=!1;Object.keys(f).forEach(p=>{p===C(this,Sr,"f")&&f[p]?g=!0:p===C(this,Si,"f")&&f[p]&&(d=!0)}),f.$0=this.$0,this.parsed=u,i===0&&C(this,Oe,"f").clearCachedHelpMessage();try{if(this[jh](),n)return this[va](f,o,!!r,!1);C(this,Sr,"f")&&[C(this,Sr,"f")].concat(m[C(this,Sr,"f")]||[]).filter(_=>_.length>1).includes(""+f._[f._.length-1])&&(f._.pop(),g=!0);let p=C(this,Rt,"f").getCommands(),h=C(this,Er,"f").completionKey in f,y=g||h||s;if(f._.length){if(p.length){let _;for(let b,N=i||0;f._[N]!==void 0;N++){if(b=String(f._[N]),p.includes(b)&&b!==C(this,nr,"f")){let w=C(this,Rt,"f").runCommand(b,this,u,N+1,s,g||d||s);return this[va](w,o,!!r,!1)}if(!_&&b!==C(this,nr,"f")){_=b;break}}!C(this,Rt,"f").hasDefaultCommand()&&C(this,Jf,"f")&&_&&!y&&C(this,Et,"f").recommendCommands(_,p)}C(this,nr,"f")&&f._.includes(C(this,nr,"f"))&&!h&&(C(this,Dr,"f")&&su(!0),this.showCompletionScript(),this.exit(0))}if(C(this,Rt,"f").hasDefaultCommand()&&!y){let _=C(this,Rt,"f").runCommand(null,this,u,0,s,g||d||s);return this[va](_,o,!!r,!1)}if(h){C(this,Dr,"f")&&su(!0);let _=(e=[].concat(e)).slice(e.indexOf(`--${C(this,Er,"f").completionKey}`)+1);return C(this,Er,"f").getCompletion(_,(b,N)=>{if(b)throw new Kt(b.message);(N||[]).forEach(w=>{C(this,Mo,"f").log(w)}),this.exit(0)}),this[va](f,!o,!!r,!1)}if(C(this,rr,"f")||(g?(C(this,Dr,"f")&&su(!0),a=!0,this.showHelp("log"),this.exit(0)):d&&(C(this,Dr,"f")&&su(!0),a=!0,C(this,Oe,"f").showVersion("log"),this.exit(0))),!a&&C(this,ge,"f").skipValidation.length>0&&(a=Object.keys(f).some(_=>C(this,ge,"f").skipValidation.indexOf(_)>=0&&f[_]===!0)),!a){if(u.error)throw new Kt(u.error.message);if(!h){let _=this[zh](m,{},u.error);r||(c=ru(f,this,C(this,Ar,"f").getMiddleware(),!0)),c=this[xE](_,c??f),jt(c)&&!r&&(c=c.then(()=>ru(f,this,C(this,Ar,"f").getMiddleware(),!1)))}}}catch(p){if(!(p instanceof Kt))throw p;C(this,Oe,"f").fail(p.message,p)}return this[va](c??f,o,!!r,!0)}[zh](e,n,r,i){let s={...this.getDemandedOptions()};return a=>{if(r)throw new Kt(r.message);C(this,Et,"f").nonOptionCount(a),C(this,Et,"f").requiredArguments(a,s);let o=!1;C(this,ya,"f")&&(o=C(this,Et,"f").unknownCommands(a)),C(this,_a,"f")&&!o?C(this,Et,"f").unknownArguments(a,e,n,!!i):C(this,ba,"f")&&C(this,Et,"f").unknownArguments(a,e,{},!1,!1),C(this,Et,"f").limitedChoices(a),C(this,Et,"f").implications(a),C(this,Et,"f").conflicting(a)}}[BE](){pe(this,rr,!0,"f")}[Na](e){if(typeof e=="string")C(this,ge,"f").key[e]=!0;else for(let n of e)C(this,ge,"f").key[n]=!0}},Xh,Qh,{readFileSync:L2}=require("fs"),{inspect:F2}=require("util"),{resolve:M2}=require("path"),k2=dP(),q2=Dh(),Jh,jE={assert:{notStrictEqual:cE.notStrictEqual,strictEqual:cE.strictEqual},cliui:ZP(),findUp:rE(),getEnv:t=>process.env[t],getCallerFile:sE(),getProcessArgvBin:gE,inspect:F2,mainFilename:(Qh=(Xh=require==null?void 0:require.main)===null||Xh===void 0?void 0:Xh.filename)!==null&&Qh!==void 0?Qh:process.cwd(),Parser:q2,path:require("path"),process:{argv:()=>process.argv,cwd:process.cwd,emitWarning:(t,e)=>process.emitWarning(t,e),execPath:()=>process.execPath,exit:t=>{process.exit(t)},nextTick:process.nextTick,stdColumns:process.stdout.columns!==void 0?process.stdout.columns:null},readFileSync:L2,require,requireDirectory:uE(),stringWidth:qf(),y18n:k2({directory:M2(__dirname,"../locales"),updateFiles:!1})},UE=((Jh=process==null?void 0:process.env)===null||Jh===void 0?void 0:Jh.YARGS_MIN_NODE_VERSION)?Number(process.env.YARGS_MIN_NODE_VERSION):12;if(process&&process.version&&Number(process.version.match(/v([^.]+)/)[1])<UE)throw Error(`yargs supports a minimum Node.js version of ${UE}. Read our version support policy: https://github.com/yargs/yargs#supported-nodejs-versions`);var B2=Dh(),Zh,V2={applyExtends:Gf,cjsPlatformShim:jE,Yargs:(Zh=jE,(t=[],e=Zh.process.cwd(),n)=>{let r=new VE(t,e,n,Zh);return Object.defineProperty(r,"argv",{get:()=>r.parse(),enumerable:!0}),r.help(),r.version(),r}),argsert:fe,isPromise:jt,objFilter:Lo,parseCommand:Oo,Parser:B2,processArgv:x2,YError:Kt};WE.exports=V2});var $E=B((pte,YE)=>{"use strict";var{Yargs:j2,processArgv:U2}=GE();Bo(U2.hideBin(process.argv));YE.exports=Bo;function Bo(t,e){let n=j2(t,e,require);return G2(n),n}function eg(t,e,n){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:n})}function W2(t,e){let n=Object.getOwnPropertyDescriptor(t,e);if(typeof n!="undefined")return n.get}function G2(t){[...Object.keys(t),...Object.getOwnPropertyNames(t.constructor.prototype)].forEach(e=>{e==="argv"?eg(Bo,e,W2(t,e)):typeof t[e]=="function"?Bo[e]=t[e].bind(t):(eg(Bo,"$0",()=>t.$0),eg(Bo,"parsed",()=>t.parsed))})}});var at=Ve(require("fs"));var Ls=class{constructor(){this.currentStructure=null;this.isReloading=!1;this.isDirtyState=!0}setActiveProject(e){this.currentStructure=e}getStructure(){return this.currentStructure}hasStructure(){return this.currentStructure!=null}setDirtyState(e){this.isDirtyState=e}reloadDetails(){this.isReloading||this.isDirtyState!=!1&&this.currentStructure!=null&&(this.isReloading=!0,this.currentStructure=this.currentStructure.reloadDetails(),this.isReloading=!1,this.isDirtyState=!1)}};Ls.instance=null;(typeof Ls.instance=="undefined"||Ls.instance==null)&&(Ls.instance=new Ls);var li=Ls;var ui=class{static registerDetails(e,n){this.documentDetails.set(e,n)}static hasDetails(e){return this.documentDetails.has(e)}};ui.documentDetails=new Map;var sD={documentDescription:"",documentName:"",collectionInjections:[],blueprints:[],variableHelper:null,injectsParameters:[],varReferenceNames:new Map,formatterEnabled:!0};var ig="@name",sg="@description",ag="@desc",og="@entry",lg="@collection",ug="@blueprint",cg="@var",fg="@set",pg="@param",dg="@param*",aD="@front",mg="@format";function Uo(t,e){if(e==null||e.isComment==!1)return sD;let n=e.content.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`).map(d=>d.trim()),r=[],i=new Map,s="",a="",o=[],l=[],u="",f=null,c=!1,m=!0;for(let d=0;d<n.length;d++){let p=n[d];if(p.startsWith(og))o=o.concat(p.slice(og.length).split(",").map(h=>h.trim())),c=!1;else if(p.startsWith(lg))o=o.concat(p.slice(lg.length).split(",").map(h=>h.trim())),c=!1;else if(p.startsWith(ug))l=l.concat(p.slice(ug.length).split(",").map(h=>h.trim())),c=!1;else if(p.startsWith(ig))s=p.slice(ig.length).trim(),c=!1;else if(p.startsWith(sg))a=p.slice(sg.length).trim(),c=!0;else if(p.startsWith(ag))a=p.slice(ag.length).trim(),c=!0;else if(p.startsWith(cg))u=p.slice(cg.length).trim(),c=!1;else if(p.startsWith(fg))u="@page "+p.slice(fg.length).trim(),c=!1;else if(p.startsWith(pg)){let h=pg.length,y=!1;p.startsWith(dg)&&(h=dg.length,y=!0);let b=p.slice(h).trim().split(" ");if(b.length>0&&b[0]==aD&&b.length>=4){b.shift();let N=b.shift(),w=b.shift(),le=b.join(" ");r.push({acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:le,expectsTypes:["*"],isDynamic:!0,isRequired:y,name:w}),i.set(w,N)}}else p.startsWith(mg)?p.slice(mg.length).trim().toLowerCase()=="true"?m=!0:m=!1:c&&(a+=`
`+p.trim())}if(u.length>0){let d=u.split(" ");if(d.length==2){let p=d[0],h=d[1];if(h.includes(".")){let y=h.split(".");if(y.length==2){let _=y[0],b=y[1];f={variableName:p,collectionName:_,fieldHandle:b,setHandle:""}}else if(y.length==3){let _=y[0],b=y[1],N=y[2];f={variableName:p,collectionName:_,fieldHandle:b,setHandle:N}}}else f={variableName:p,setHandle:"",collectionName:"",fieldHandle:h}}}if(t.trim().length>0&&li.instance!=null&&li.instance.hasStructure()){let d=li.instance.getStructure().findView(t);d!=null&&(d.injectsParameters=r,d.varReferenceNames=i)}let g={documentName:s,documentDescription:a,collectionInjections:o,blueprints:l,variableHelper:f,injectsParameters:r,varReferenceNames:i,formatterEnabled:m};return t.trim().length>0&&e.startPosition!=null&&(e.startPosition.line<=1||e.index<=1)&&ui.registerDetails(t,g),g}var oD=["markdown","text","textarea","slug","button_group","code","color","date","form","link","structures","select","taxonomies","terms","template","time","video","users","user_groups","user_roles"],lD=["array","assets","bard","blueprints","collections","entries","list","grid","replicator","structures_multiple","sites","select_multiple","form_multiple","table","tags","terms_multiple","taxonomies_multiple","users_multiple","checkboxes","select_multiple","yaml","user_groups_multiple","user_roles_multiple"],uD=["integer","range"],cD=["toggle"];function uu(t){return oD.includes(t)?"string":lD.includes(t)?"array":uD.includes(t)?"number":cD.includes(t)?"boolean":t}var Fs=class{constructor(){this.partialReferences=new Map;this.cacheReferences=new Map;this.removesPageScope=new Map}clearAllReferences(e){this.clearPartialReferences(e),this.clearCacheReferences(e)}registerPartialReferences(e,n){this.partialReferences.has(e)==!1&&this.partialReferences.set(e,[]),this.partialReferences.set(e,n)}registerCacheReferences(e,n){this.cacheReferences.has(e)==!1&&this.cacheReferences.set(e,[]),this.cacheReferences.set(e,n)}clearPartialReferences(e){this.partialReferences.has(e)&&this.partialReferences.set(e,[])}clearRemovesPageScope(e){this.removesPageScope.has(e)&&this.removesPageScope.delete(e)}pageScopeDisabled(e){return this.removesPageScope.has(e)}clearCacheReferences(e){this.cacheReferences.has(e)&&this.cacheReferences.set(e,[])}setRemovesPageScope(e,n){this.removesPageScope.set(e,n)}getPartialReferences(e){return this.partialReferences.has(e)==!1?[]:this.partialReferences.get(e)}getCacheReferencnes(e){return this.cacheReferences.has(e)==!1?[]:this.cacheReferences.get(e)}hasPartialReferences(e){return this.partialReferences.has(e)}hasCacheReferences(e){return this.cacheReferences.has(e)}};Fs.instance=null;(typeof Fs.instance=="undefined"||Fs.instance==null)&&(Fs.instance=new Fs);var hg=Fs;var sr=class{constructor(){this.index=-1;this.offset=0;this.line=0;this.char=0}shiftRight(e){let n=new sr;return n.offset=this.offset+e,n.index=this.index+e,n.line=this.line,n.char=this.char+e,n}isBefore(e){return e==null?!1:e.line>this.line||e.line==this.line&&this.offset<e.offset}isWithin(e,n,r=0){return e==null||n==null?!1:this.index>=e.index&&this.index<=n.index+r}isWithinRange(e){return e==null?!1:e.start!=null&&e.end!=null?this.isWithin(e.start,e.end):!1}};var ci=Ve(Og(),1),Tq=ci.default.v1,vq=ci.default.v3,Pa=ci.default.v4,Nq=ci.default.v5,Cq=ci.default.NIL,Pq=ci.default.version,Eq=ci.default.validate,Dq=ci.default.stringify,Aq=ci.default.parse;var lp=class{constructor(){this.start=null;this.end=null}},Yo=lp;Yo.Empty=new lp;function Lg(t,e){let n=e.copy(),r=e.copy();return r.addVariable({sourceName:"*internal.group_by",sourceField:null,dataType:"string",name:"group",introducedBy:t}),r.addVariable({sourceName:"*internal.group_by",sourceField:null,dataType:"string",name:"key",introducedBy:t}),r.addScopeList("items",n),e.addScopeList("groups",r),e}function Fg(t,e){let n=e.copy();return e.addScopeList("items",n),e}var Mg=[{name:"as",acceptsType:["array"],returnsType:["array"],description:"Alias the array variable with a key.",docLink:"https://statamic.dev/modifiers/as",parameters:[{name:"alias",description:"The alias name."}],canBeParameter:!0},{name:"ampersand_list",acceptsType:["array"],returnsType:["string"],description:"Converts the array into a comma delimited string, with an ampersand before the last item.",docLink:"https://statamic.dev/modifiers/ampersand_list",parameters:[],canBeParameter:!1},{name:"collapse",acceptsType:["array"],returnsType:["array"],description:"Collapses an array of arrays into a single, flat, array.",docLink:"https://statamic.dev/modifiers/collapse",parameters:[],canBeParameter:!1},{name:"contains",acceptsType:["array","string"],returnsType:["boolean"],description:"Tests if the value contains another value.",docLink:"https://statamic.dev/modifiers/contains",parameters:[{name:"needle",description:"The value to check for."}],canBeParameter:!1},{name:"count",acceptsType:["array"],returnsType:["number"],description:"Returns the number of items in the array.",docLink:"https://statamic.dev/modifiers/count",parameters:[],canBeParameter:!1},{name:"dl",acceptsType:["array"],returnsType:["string"],description:"Turns an associative array into an HTML definition list.",docLink:"https://statamic.dev/modifiers/dl",parameters:[],canBeParameter:!1},{name:"explode",acceptsType:["string"],returnsType:["array"],description:"Breaks a string into an array on a given delimiter.",docLink:"https://statamic.dev/modifiers/explode",parameters:[{name:"delimiter",description:"The delimiter to break the string apart on."}],canBeParameter:!0},{name:"flatten",acceptsType:["array"],returnsType:["array"],description:"Flattens a multi-dimensional array.",docLink:"https://statamic.dev/modifiers/flatten",parameters:[],canBeParameter:!1},{name:"flip",acceptsType:["array"],returnsType:["array"],description:"Swaps the array keys with their values.",docLink:"https://statamic.dev/modifiers/flip",parameters:[],canBeParameter:!1},{name:"group_by",acceptsType:["array"],returnsType:["array"],description:"Groups the array items by the given key.",docLink:"https://statamic.dev/modifiers/group_by",parameters:[{name:"key",description:"The key to group by."}],canBeParameter:!0,augmentScope:Lg},{name:"in_array",acceptsType:["array"],returnsType:["boolean"],description:"Tests if an array contains a specific value.",docLink:"https://statamic.dev/modifiers/in_array",parameters:[{name:"needle",description:"The value to check for."}],canBeParameter:!1},{name:"is_empty",acceptsType:["array"],returnsType:["boolean"],description:"Tests if the array is empty.",docLink:"https://statamic.dev/modifiers/is_empty",parameters:[],canBeParameter:!1},{name:"join",acceptsType:["array"],returnsType:["string"],description:"Turn an array into a string by gluing together all the data.",docLink:"https://statamic.dev/modifiers/join",parameters:[{name:"glue",description:"The string to combine the parts by."}],canBeParameter:!0},{name:"joinplode",acceptsType:["array"],returnsType:["string"],description:"Turn an array into a string by gluing together all the data.",docLink:null,parameters:[{name:"glue",description:"The string to combine the parts by."}],canBeParameter:!0},{name:"limit",acceptsType:["array"],returnsType:["array"],description:"Limits the number of items returned in the array",docLink:"https://statamic.dev/modifiers/limit",parameters:[{name:"count",description:"The maximum number of items to return."}],canBeParameter:!0},{name:"list",acceptsType:["array"],returnsType:["string"],description:"Converts the array into a comma-separated string.",docLink:"https://statamic.dev/modifiers/list",parameters:[],canBeParameter:!1},{name:"offset",acceptsType:["array"],returnsType:["array"],description:"Offsets the items returned in the array.",docLink:"https://statamic.dev/modifiers/offset",parameters:[{name:"offset",description:"The one-based index to start retrieving items."}],canBeParameter:!0},{name:"ol",acceptsType:["array"],returnsType:["string"],description:"Turns the array into an HTML ordered list.",docLink:"https://statamic.dev/modifiers/ol",parameters:[],canBeParameter:!1},{name:"option_list",acceptsType:["array"],returnsType:["string"],description:"Turns an array into a pipe-delimited string.",docLink:"https://statamic.dev/modifiers/option_list",parameters:[],canBeParameter:!1},{name:"pluck",acceptsType:["array"],returnsType:["array"],description:"Plucks a value from a collection of items.",parameters:[{name:"value",description:"The value to pluck from the array or collection."}],canBeParameter:!0,docLink:null},{name:"pad",acceptsType:["array"],returnsType:["array"],description:"Pads the array to a specified length with the given value.",docLink:"https://statamic.dev/modifiers/pad",parameters:[{name:"length",description:"The desired length of the array."},{name:"value",description:"The value to pad the array with."}],canBeParameter:!0},{name:"piped",acceptsType:["array"],returnsType:["string"],description:"Turns an array into a pipe-delimited string.",docLink:"https://statamic.dev/modifiers/piped",parameters:[],canBeParameter:!1},{name:"sentence_list",acceptsType:["array"],returnsType:["string"],description:'Turns the array into a comma-delimited list, with the word "and" before the last item.',docLink:"https://statamic.dev/modifiers/sentence_list",parameters:[],canBeParameter:!1},{name:"shuffle",acceptsType:["array"],returnsType:["array"],description:"Randomizes the order of array elements.",docLink:"https://statamic.dev/modifiers/shuffle",parameters:[],canBeParameter:!1},{name:"sort",acceptsType:["array"],returnsType:["array"],description:"Sorts the array by a key in ascending or descending order.",docLink:"https://statamic.dev/modifiers/sort",parameters:[{name:"key",description:"The key to sort by."},{name:"order",description:"The sort direction. `asc` or `desc`."}],canBeParameter:!0},{name:"sum",acceptsType:["array"],returnsType:["number"],description:"Returns the sum of all items in the array.",docLink:"https://statamic.dev/modifiers/sum",parameters:[{name:"key",description:"The value to sum."}],canBeParameter:!1},{name:"ul",acceptsType:["array"],returnsType:["string"],description:"Turns the array into an HTML unordered list.",docLink:"https://statamic.dev/modifiers/ul",parameters:[],canBeParameter:!1},{name:"unique",acceptsType:["array"],returnsType:["array"],description:"Returns all unique items in the array.",docLink:"https://statamic.dev/modifiers/unique",parameters:[],canBeParameter:!1},{name:"where",acceptsType:["array"],returnsType:["array"],description:"Filters the array by a given key and value.",docLink:"https://statamic.dev/modifiers/where",parameters:[{name:"key",description:"The property to filter by."},{name:"value",description:"The value to compare to."}],canBeParameter:!0},{name:"split",acceptsType:["array"],returnsType:["array"],description:"Splits an array into smaller arrays with the provided size.",canBeParameter:!0,docLink:"",parameters:[{name:"size",description:"The size of each new array"}],augmentScope:Fg},{name:"compact",acceptsType:["string"],returnsType:["array"],description:"Accepts a comma-delimited list of variable names and return an array with their values.",canBeParameter:!0,docLink:"",parameters:[{name:"variables",description:"A comma-delimited list of variable names."}]}];var kg=[{name:"background_position",acceptsType:["string"],returnsType:["string"],description:"Converts an asset focal point into a background-position CSS property.",docLink:"https://statamic.dev/modifiers/background_position",parameters:[],canBeParameter:!1},{name:"image",acceptsType:["string"],returnsType:["string"],description:"Generates an HTML image element with the variable's value as the src.",docLink:"https://statamic.dev/modifiers/image",parameters:[],canBeParameter:!1},{name:"output",acceptsType:["string"],returnsType:["string"],description:"Returns the string output of an Asset file's contents.",docLink:"https://statamic.dev/modifiers/output",parameters:[],canBeParameter:!1}];var qg=[{name:"contains_all",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a string contains all of the provided needles.",docLink:"https://statamic.dev/modifiers/contains_all",parameters:[{name:"needle",description:"The string(s) to search for."}],canBeParameter:!1},{name:"contains_any",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a string contains all of the provided needles.",docLink:"https://statamic.dev/modifiers/contains_any",parameters:[{name:"needle",description:"The string(s) to search for."}],canBeParameter:!1},{name:"ends_with",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a string ends with another string.",docLink:"https://statamic.dev/modifiers/ends_with",parameters:[{name:"value",description:"The value to check against."}],canBeParameter:!1},{name:"has_lower_case",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains any lowercase characters.",docLink:"https://statamic.dev/modifiers/has_lower_case",parameters:[],canBeParameter:!1},{name:"has_upper_case",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains any uppercase characters.",docLink:"https://statamic.dev/modifiers/has_upper_case",parameters:[],canBeParameter:!1},{name:"in_array",acceptsType:["array"],returnsType:["boolean"],description:"Tests if an array contains a specific value.",docLink:"https://statamic.dev/modifiers/in_array",parameters:[{name:"needle",description:"The value(s) to search for."}],canBeParameter:!1},{name:"is_after",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the string contains only alphanumeric characters.",docLink:"https://statamic.dev/modifiers/is_after",parameters:[{name:"date",description:"The date to compare to."}],canBeParameter:!1},{name:"is_alphanumeric",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains only alphanumeric characters.",docLink:"https://statamic.dev/modifiers/is_alphanumeric",parameters:[],canBeParameter:!1},{name:"is_before",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if a date is before another date.",docLink:"https://statamic.dev/modifiers/is_before",parameters:[{name:"date",description:"The date to compare to."}],canBeParameter:!1},{name:"is_between",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if a date is between two other dates.",docLink:"https://statamic.dev/modifiers/is_between",parameters:[{name:"start_date",description:"The start date to compare."},{name:"end_date",description:"The end date to compare."}],canBeParameter:!1},{name:"is_blank",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains only whitespace characters.",docLink:"https://statamic.dev/modifiers/is_blank",parameters:[],canBeParameter:!1},{name:"is_email",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string is a valid email address.",docLink:"https://statamic.dev/modifiers/is_email",parameters:[],canBeParameter:!1},{name:"is_future",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is in the future.",docLink:"https://statamic.dev/modifiers/is_future",parameters:[],canBeParameter:!1},{name:"is_json",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string is valid JSON.",docLink:"https://statamic.dev/modifiers/is_json",parameters:[],canBeParameter:!1},{name:"is_leap_year",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is a leap year.",docLink:"https://statamic.dev/modifiers/is_leap_year",parameters:[],canBeParameter:!1},{name:"is_numeric",acceptsType:["string","number"],returnsType:["boolean"],description:"Tests if the value is a number or numeric string.",docLink:"https://statamic.dev/modifiers/is_numeric",parameters:[],canBeParameter:!1},{name:"is_past",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is in the past.",docLink:"https://statamic.dev/modifiers/is_past",parameters:[],canBeParameter:!1},{name:"is_today",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is today.",docLink:"https://statamic.dev/modifiers/is_today",parameters:[],canBeParameter:!1},{name:"is_uppercase",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains only uppercase characters.",docLink:"https://statamic.dev/modifiers/is_uppercase",parameters:[],canBeParameter:!1},{name:"is_url",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string is a valid URL.",docLink:"https://statamic.dev/modifiers/is_url",parameters:[],canBeParameter:!1},{name:"is_weekday",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is a week day.",docLink:"https://statamic.dev/modifiers/is_weekday",parameters:[],canBeParameter:!1},{name:"is_weekend",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is a weekend day.",docLink:"https://statamic.dev/modifiers/is_weekend",parameters:[],canBeParameter:!1},{name:"is_yesterday",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is yesterday.",docLink:"https://statamic.dev/modifiers/is_yesterday",parameters:[],canBeParameter:!1},{name:"is_tomorrow",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is tomorrow.",docLink:null,parameters:[],canBeParameter:!1},{name:"starts_with",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a value starts with the provided value.",docLink:"https://statamic.dev/modifiers/starts_with",parameters:[{name:"value",description:"The value to test for."}],canBeParameter:!1}];var Bg=[{name:"days_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of days since a given date.",docLink:"https://statamic.dev/modifiers/days_ago",parameters:[],canBeParameter:!1},{name:"format_translated",acceptsType:["string","date"],returnsType:["string","date"],description:"Returns a formatted Carbon datetime/string.",docLink:"https://statamic.dev/modifiers/format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0},{name:"format",acceptsType:["string","date"],returnsType:["string","date"],description:"Formats the date using the provided format using PHP's [date variables](https://www.php.net/date).",docLink:"https://statamic.dev/modifiers/format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0},{name:"format_localized",acceptsType:["string","date"],returnsType:["string","date"],description:"Forms the date using server's locale, using PHP's [strftime format variables](https://www.php.net/strftime).",docLink:"https://statamic.dev/modifiers/format_localized",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0},{name:"hours_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of hours since the date.",docLink:"https://statamic.dev/modifiers/hours_ago",parameters:[],canBeParameter:!1},{name:"iso_format",acceptsType:["string","date"],returnsType:["string","date"],description:"Formats the date using an ISO format.",docLink:"https://statamic.dev/modifiers/iso_format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!1},{name:"minutes_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of minutes since the date.",docLink:"https://statamic.dev/modifiers/minutes_ago",parameters:[],canBeParameter:!1},{name:"modify_date",acceptsType:["string","date"],returnsType:["string","date"],description:"Alters the date by incrementing or decrementing it in a format accepted by PHP's [strtotime](https://www.php.net/strtotime) function.",docLink:"https://statamic.dev/modifiers/modify_date",parameters:[],canBeParameter:!0},{name:"months_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of months since the date.",docLink:"https://statamic.dev/modifiers/months_ago",parameters:[],canBeParameter:!1},{name:"relative",acceptsType:["string","date"],returnsType:["string"],description:"Returns a human readable date difference.",docLink:"https://statamic.dev/modifiers/relative",parameters:[{name:"add_ago",description:"Whether to add the relative suffix words at the end of the string."}],canBeParameter:!1},{name:"seconds_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of seconds since the date.",docLink:"https://statamic.dev/modifiers/seconds_ago",parameters:[],canBeParameter:!1},{name:"timezone",acceptsType:["string","date"],returnsType:["string","date"],description:"Applies a timezone to the date.",docLink:"https://statamic.dev/modifiers/timezone",parameters:[{name:"timezone",description:"The timezone to apply."}],canBeParameter:!1},{name:"weeks_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of weeks since the date.",docLink:"https://statamic.dev/modifiers/weeks_ago",parameters:[],canBeParameter:!1},{name:"years_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of years since the date.",docLink:"https://statamic.dev/modifiers/years_ago",parameters:[],canBeParameter:!1}];var Vg=[{name:"chunk",acceptsType:["array"],returnsType:["array"],description:"Breaks the array or collection into smaller arrays of a given size.",docLink:"https://statamic.dev/modifiers/chunk",parameters:[{name:"chunk_size",description:"The maximum length of each new chunk."}],canBeParameter:!0},{name:"favicon",acceptsType:["string"],returnsType:["string"],description:"Generates a favicon HTML meta tag for the given value.",docLink:"https://statamic.dev/modifiers/favicon",parameters:[],canBeParameter:!1},{name:"first",acceptsType:["string"],returnsType:["string"],description:"Returns the specified number of characters from the beginning of the string.",docLink:"https://statamic.dev/modifiers/first",parameters:[{name:"count",description:"The number of characters to return."}],canBeParameter:!0},{name:"last",acceptsType:["string"],returnsType:["string"],description:"Returns the specified number of characters from the end of the string.",docLink:"https://statamic.dev/modifiers/last",parameters:[{name:"count",description:"The number of characters to return."}],canBeParameter:!0},{name:"link",acceptsType:["string"],returnsType:["string"],description:"Generates an HTML link for the provided value.",docLink:"https://statamic.dev/modifiers/link",parameters:[],canBeParameter:!1},{name:"mailto",acceptsType:["string"],returnsType:["string"],description:"Generates a mailto HTML link for the provided value.",docLink:"https://statamic.dev/modifiers/mailto",parameters:[],canBeParameter:!1},{name:"markdown",acceptsType:["string"],returnsType:["string"],description:"Parses the value as Markdown and returns the HTML.",docLink:"https://statamic.dev/modifiers/markdown",parameters:[],canBeParameter:!1},{name:"nl2br",acceptsType:["string"],returnsType:["string"],description:"Replaces line breaks with HTML `<br>` tags.",docLink:"https://statamic.dev/modifiers/nl2br",parameters:[],canBeParameter:!1},{name:"obfuscate",acceptsType:["string"],returnsType:["string"],description:"Modifies the input string by replacing it with special characters, making it harder for bots but remains readable to site visitors.",docLink:"https://statamic.dev/modifiers/obfuscate",parameters:[],canBeParameter:!1},{name:"obfuscate_email",acceptsType:["string"],returnsType:["string"],description:"Obfuscates an email address with special HTML characters.",docLink:"https://statamic.dev/modifiers/obfuscate_email",parameters:[],canBeParameter:!1},{name:"strip_tags",acceptsType:["string"],returnsType:["string"],description:"Removes HTML tags from the string.",docLink:"https://statamic.dev/modifiers/strip_tags",parameters:[{name:"tags",description:"The HTML tag(s) to remove from the string."}],canBeParameter:!1},{name:"table",acceptsType:["array"],returnsType:["string"],description:"Turns a [Table FieldType](https://statamic.dev/fieldtypes/table) array into an HTML table.",docLink:"https://statamic.dev/modifiers/table",parameters:[{name:"content_markdown",description:"Whether to parse cell contents as Markdown."}],canBeParameter:!1},{name:"textile",acceptsType:["string"],returnsType:["string"],description:"Parses a string with [Textile](http://demo.textilewiki.com/theme-default/) and returns the HTML.",docLink:"https://statamic.dev/modifiers/textile",parameters:[],canBeParameter:!1},{name:"wrap",acceptsType:["string"],returnsType:["string"],description:"Wraps a string with a given HTML tag.",docLink:"https://statamic.dev/modifiers/wrap",parameters:[{name:"expression",description:"The HTML tag or Emmet-style expression to wrap the value in."}],canBeParameter:!1}];var jg=[{name:"add",acceptsType:["number"],returnsType:["number"],description:"Adds two values together.",docLink:"https://statamic.dev/modifiers/add",parameters:[{name:"value",description:"The value to add."}],canBeParameter:!0},{name:"+",acceptsType:["number"],returnsType:["number"],description:"Adds two values together.",docLink:"https://statamic.dev/modifiers/add",parameters:[{name:"value",description:"The value to add."}],canBeParameter:!1},{name:"ceil",acceptsType:["number"],returnsType:["number"],description:"Rounds the value to the next whole number.",docLink:"https://statamic.dev/modifiers/ceil",parameters:[],canBeParameter:!1},{name:"divide",acceptsType:["number"],returnsType:["number"],description:"Divides two values.",docLink:"https://statamic.dev/modifiers/divide",parameters:[{name:"value",description:"The value to divide."}],canBeParameter:!0},{name:"floor",acceptsType:["number"],returnsType:["number"],description:"Rounds a number down to the next whole number.",docLink:"https://statamic.dev/modifiers/floor",parameters:[],canBeParameter:!0},{name:"format_number",acceptsType:["number"],returnsType:["string"],description:"Formats a number.",docLink:"https://statamic.dev/modifiers/format_number",parameters:[{name:"precision",description:"Number of decimal places before rounding."},{name:"decimal_separator",description:"The decimal separator (defaults to `.`)."},{name:"thousands_separator",description:"The thousands separator (default `,`)."}],canBeParameter:!0},{name:"mode",acceptsType:["number"],returnsType:["number"],description:"",docLink:"",parameters:[],canBeParameter:!0},{name:"multiply",acceptsType:["number"],returnsType:["number"],description:"Multiplies two values.",docLink:"https://statamic.dev/modifiers/multiply",parameters:[{name:"value",description:"The value to multiply."}],canBeParameter:!0},{name:"*",acceptsType:["number"],returnsType:["number"],description:"Multiplies two values.",docLink:"https://statamic.dev/modifiers/multiply",parameters:[{name:"value",description:"The value to multiply."}],canBeParameter:!1},{name:"round",acceptsType:["number"],returnsType:["number"],description:"Rounds a number to a specified precision.",docLink:"https://statamic.dev/modifiers/round",parameters:[{name:"precision",description:"The number of digits after the decimal point."}],canBeParameter:!0},{name:"subtract",acceptsType:["number"],returnsType:["number"],description:"Subtracts two values.",docLink:"https://statamic.dev/modifiers/subtract",parameters:[{name:"value",description:"The value to subtract."}],canBeParameter:!0},{name:"-",acceptsType:["number"],returnsType:["number"],description:"Subtracts two values.",docLink:"https://statamic.dev/modifiers/subtract",parameters:[{name:"value",description:"The value to subtract."}],canBeParameter:!1}];var Ug=[{name:"partial",acceptsType:["*"],returnsType:["*view*"],description:"Injects data into a partial and renders it.",docLink:"https://statamic.dev/modifiers/partial",parameters:[{name:"partial",description:"The name of the partial."}],canBeParameter:!1},{name:"macro",acceptsType:["*"],returnsType:["*"],description:"Runs a pre-configured macro on the data.",docLink:"https://statamic.dev/modifiers/macro",parameters:[{name:"macro",description:"The macro name."}],canBeParameter:!1},{name:"url",acceptsType:["string"],returnsType:["string"],description:"Locates the URL of an asset, page, entry, or taxonomy term based on the variable contents.",docLink:"https://statamic.dev/modifiers/url",parameters:[],canBeParameter:!1}];var Wg=[{name:"ascii",acceptsType:["string"],returnsType:["string"],description:"Replaces all non-ASCII characters with their closest ASCII counterparts.",docLink:"https://statamic.dev/modifiers/ascii",parameters:[],canBeParameter:!1},{name:"at",acceptsType:["string"],returnsType:["string"],description:"Returns the character at a given zero-based position.",docLink:"https://statamic.dev/modifiers/at",parameters:[{name:"position",description:"The zero-based position to retrieve a character from."}],canBeParameter:!0},{name:"backspace",acceptsType:["string"],returnsType:["string"],description:"Removes a specified number of characters from the end of a string.",docLink:"https://statamic.dev/modifiers/backspace",parameters:[{name:"character_count",description:"The number of characters to remove from the end of the string."}],canBeParameter:!0},{name:"camelize",acceptsType:["string"],returnsType:["string"],description:"Converts the string into camelCase.",docLink:"https://statamic.dev/modifiers/camelize",parameters:[],canBeParameter:!1},{name:"cdata",acceptsType:["string"],returnsType:["string"],description:"Wraps the string in CDATA XML tags.",docLink:"https://statamic.dev/modifiers/cdata",parameters:[],canBeParameter:!1},{name:"collapse_whitespace",acceptsType:["string"],returnsType:["string"],description:"Trims a string and replaces consecutive whitespace characters with a single space.",docLink:"https://statamic.dev/modifiers/collapse_whitespace",parameters:[],canBeParameter:!1},{name:"count_substring",acceptsType:["string"],returnsType:["number"],description:"Counts the number of occurrences of a term within the string.",docLink:"https://statamic.dev/modifiers/count_substring",parameters:[{name:"term",description:"The sub-string to search for"}],canBeParameter:!0},{name:"dashify",acceptsType:["string"],returnsType:["string"],description:"Returns a lower-cased and trimmed string, separated by dashes.",docLink:"https://statamic.dev/modifiers/dashify",parameters:[],canBeParameter:!1},{name:"deslugify",acceptsType:["string"],returnsType:["string"],description:"Replaces all hyphens and underscores with spaces.",docLink:"https://statamic.dev/modifiers/deslugify",parameters:[],canBeParameter:!1},{name:"embed_url",acceptsType:["string"],returnsType:["string"],description:"Converts a YouTube or Viemo link into their embed URLs.",docLink:"https://statamic.dev/modifiers/embed_url",parameters:[],canBeParameter:!1},{name:"trackable_embed_url",acceptsType:["string"],returnsType:["string"],description:"Get the embed URL when given a youtube or vimeo link that's direct to the page.",docLink:null,parameters:[],canBeParameter:!1},{name:"ensure_left",acceptsType:["string"],returnsType:["string"],description:"Ensures that the string begins with the specified string.",docLink:"https://statamic.dev/modifiers/ensure_left",parameters:[{name:"start_string",description:"The value that should be at the start of the string."}],canBeParameter:!0},{name:"ensure_right",acceptsType:["string"],returnsType:["string"],description:"Ensures that the string ends with the specified string.",docLink:"https://statamic.dev/modifiers/ensure_right",parameters:[{name:"end_string",description:"The value that should be at the end of the string."}],canBeParameter:!0},{name:"entities",acceptsType:["string"],returnsType:["string"],description:"Encode a string with HTML entities.",docLink:"https://statamic.dev/modifiers/entities",parameters:[],canBeParameter:!1},{name:"excerpt",acceptsType:["string"],returnsType:["string"],description:"Breaks a string at a given marker.",docLink:"https://statamic.dev/modifiers/excerpt",parameters:[{name:"marker",description:"The string to break by."}],canBeParameter:!1},{name:"explode",acceptsType:["string"],returnsType:["array"],description:"Breaks a string into an array of strings.",docLink:"https://statamic.dev/modifiers/explode",parameters:[{name:"delimiter",description:"The string to split the larger string by."}],canBeParameter:!0},{name:"gravatar",acceptsType:["string"],returnsType:["string"],description:"Converts an email string to a Gravatar image URL.",docLink:"https://statamic.dev/modifiers/gravatar",parameters:[{name:"image size",description:"The desired image size."}],canBeParameter:!0},{name:"insert",acceptsType:["string"],returnsType:["string"],description:"Inserts a string at the position provided.",docLink:"https://statamic.dev/modifiers/insert",parameters:[{name:"value",description:"The value to insert."},{name:"position",description:"The zero based position to insert the text at."}],canBeParameter:!0},{name:"is_email",acceptsType:["string"],returnsType:["boolean"],description:"Returns true if the string is a valid email address.",docLink:"https://statamic.dev/modifiers/is_email",parameters:[],canBeParameter:!1},{name:"is_embeddable",acceptsType:["string"],returnsType:["boolean"],description:"Checks to see if a video URL is embeddable.",docLink:"https://statamic.dev/modifiers/is_embeddable",parameters:[],canBeParameter:!1},{name:"is_lowercase",acceptsType:["string"],returnsType:["boolean"],description:"Returns true if the string contains only lowercase characters.",docLink:"https://statamic.dev/modifiers/is_lowercase",parameters:[],canBeParameter:!1},{name:"is_url",acceptsType:["string"],returnsType:["boolean"],description:"Returns true if a string is a valid URL.",docLink:"https://statamic.dev/modifiers/is_url",parameters:[],canBeParameter:!1},{name:"lcfirst",acceptsType:["string"],returnsType:["string"],description:"Converts the first character of the value to lower case.",docLink:"https://statamic.dev/modifiers/lcfirst",parameters:[],canBeParameter:!1},{name:"length",acceptsType:["string"],returnsType:["number"],description:"Returns the number of items in an array or number of characters in a string.",docLink:"https://statamic.dev/modifiers/length",parameters:[],canBeParameter:!1},{name:"lower",acceptsType:["string"],returnsType:["string"],description:"Converts all characters to lowercase.",docLink:"https://statamic.dev/modifiers/lower",parameters:[],canBeParameter:!1},{name:"md5",acceptsType:["string"],returnsType:["string"],description:"Creates an MD5 hash of the variable.",docLink:"https://statamic.dev/modifiers/md5",parameters:[],canBeParameter:!1},{name:"rawurlencode",acceptsType:["string"],returnsType:["string"],description:"URL-encode a variable according to RFC-3986.",docLink:"https://statamic.dev/modifiers/rawurlencode",parameters:[],canBeParameter:!1},{name:"read_time",acceptsType:["string"],returnsType:["string"],description:"Returns an estimated read time, in minutes.",docLink:"https://statamic.dev/modifiers/read_time",parameters:[{name:"words per minute",description:"The words per minute to use as an estimate."}],canBeParameter:!0},{name:"regex_replace",acceptsType:["string"],returnsType:["string"],description:"Replaces all regex matches with a string.",docLink:"https://statamic.dev/modifiers/regex_replace",parameters:[{name:"pattern",description:"The regex pattern."},{name:"replace",description:"The replacement value."}],canBeParameter:!0},{name:"remove_left",acceptsType:["string"],returnsType:["string"],description:"Ensures that the string never begins with a specified string.",docLink:"https://statamic.dev/modifiers/remove_left/",parameters:[{name:"value",description:"The value to remove."}],canBeParameter:!0},{name:"remove_right",acceptsType:["string"],returnsType:["string"],description:"Ensures that a string never ends with a specified string.",docLink:"https://statamic.dev/modifiers/remove_right",parameters:[{name:"value",description:"The value to remove."}],canBeParameter:!0},{name:"replace",acceptsType:["string"],returnsType:["string"],description:"Replaces all occurrences of a string with a different value.",docLink:"https://statamic.dev/modifiers/replace",parameters:[{name:"needle",description:"The string to search for."},{name:"value",description:"The value to replace all occurrences with."}],canBeParameter:!0},{name:"reverse",acceptsType:["string","array"],returnsType:["string","array"],description:"Reverses all characters in a string, or all items in an array.",docLink:"https://statamic.dev/modifiers/reverse",parameters:[],canBeParameter:!1},{name:"safe_truncate",acceptsType:["string"],returnsType:["string"],description:"Truncates a string to a given length.",docLink:"https://statamic.dev/modifiers/safe_truncate",parameters:[{name:"length",description:"The desired string length."},{name:"suffix",description:"An optional suffix to append to the string if truncation occurs."}],canBeParameter:!1},{name:"sanitize",acceptsType:["string"],returnsType:["string"],description:"Converts special characters to HTML entities.",docLink:"https://statamic.dev/modifiers/sanitize",parameters:[],canBeParameter:!1},{name:"segment",acceptsType:["string"],returnsType:["string"],description:"Returns a segment by number from any valid URL or URI.",docLink:"https://statamic.dev/modifiers/segment",parameters:[{name:"segment",description:"The one-based segment to return."}],canBeParameter:!0},{name:"singular",acceptsType:["string"],returnsType:["string"],description:"Returns the singular form of an English word.",docLink:"https://statamic.dev/modifiers/singular",parameters:[],canBeParameter:!1},{name:"slugify",acceptsType:["string"],returnsType:["string"],description:"Converts the string into an URL slug.",docLink:"https://statamic.dev/modifiers/slugify",parameters:[],canBeParameter:!1},{name:"smartypants",acceptsType:["string"],returnsType:["string"],description:"Translates plain ASCII punctuation characters into typographic punctuation HTML entities.",docLink:"https://statamic.dev/modifiers/smartypants",parameters:[],canBeParameter:!1},{name:"spaceless",acceptsType:["string"],returnsType:["string"],description:"Removes excess whitespace and line breaks from a string.",docLink:"https://statamic.dev/modifiers/spaceless",parameters:[],canBeParameter:!1},{name:"substr",acceptsType:["string"],returnsType:["string"],description:"Returns a portion of a string based on provided a start index, and optional length.",docLink:"https://statamic.dev/modifiers/substr",parameters:[{name:"start",description:"The 0-based index to start searching."},{name:"length",description:"An optional length for the string to find."}],canBeParameter:!1},{name:"surround",acceptsType:["string"],returnsType:["string"],description:"Surrounds a string with another string.",docLink:"https://statamic.dev/modifiers/surround",parameters:[{name:"value",description:"The value to surround the string with."}],canBeParameter:!1},{name:"swap_case",acceptsType:["string"],returnsType:["string"],description:"Returns a case swapped version of the string.",docLink:"https://statamic.dev/modifiers/swap_case",parameters:[],canBeParameter:!1},{name:"tidy",acceptsType:["string"],returnsType:["string"],description:"Returns a string with smart quotes, ellipsis characters, and dashes from Windows-1252 replaced by ASCII equivalents.",docLink:"https://statamic.dev/modifiers/tidy",parameters:[],canBeParameter:!1},{name:"title",acceptsType:["string"],returnsType:["string"],description:"Returns a Title Cased version of the string.",docLink:"https://statamic.dev/modifiers/title",parameters:[],canBeParameter:!1},{name:"trim",acceptsType:["string"],returnsType:["string"],description:"Removes whitespace from the start and end of the string.",docLink:"https://statamic.dev/modifiers/trim",parameters:[],canBeParameter:!1},{name:"truncate",acceptsType:["string"],returnsType:["string"],description:"Truncates a string to a given length.",docLink:"https://statamic.dev/modifiers/truncate",parameters:[{name:"length",description:"The maximum string length."},{name:"suffix",description:"An optional suffix to append to the string if truncation occurs."}],canBeParameter:!1},{name:"ucfirst",acceptsType:["string"],returnsType:["string"],description:"Upper cases the first character in the string.",docLink:"https://statamic.dev/modifiers/ucfirst",parameters:[],canBeParameter:!1},{name:"underscored",acceptsType:["string"],returnsType:["string"],description:"Returns a lower-cased and trimmed version of the string, separated by underscores.",docLink:"https://statamic.dev/modifiers/underscored",parameters:[],canBeParameter:!1},{name:"upper",acceptsType:["string"],returnsType:["string"],description:"Transforms the string to uppercase.",docLink:"https://statamic.dev/modifiers/upper",parameters:[],canBeParameter:!1},{name:"urldecode",acceptsType:["string"],returnsType:["string"],description:"URL-decodes the string.",docLink:"https://statamic.dev/modifiers/urldecode",parameters:[],canBeParameter:!1},{name:"urlencode",acceptsType:["string"],returnsType:["string"],description:"URL-encodes the string.",docLink:"https://statamic.dev/modifiers/urlencode",parameters:[],canBeParameter:!1},{name:"widont",acceptsType:["string"],returnsType:["string"],description:"Attempts to prevent lines with single words.",docLink:"https://statamic.dev/modifiers/widont",parameters:[],canBeParameter:!1},{name:"word_count",acceptsType:["string"],returnsType:["number"],description:"Returns the number of words in the string.",docLink:"https://statamic.dev/modifiers/word_count",parameters:[],canBeParameter:!1},{name:"add_slashes",acceptsType:["string"],returnsType:["string"],description:"Adds slashes before characters that need to be escaped.",docLink:"https://statamic.dev/modifiers/add_slashes",canBeParameter:!1,parameters:[]}];var Gg=[{name:"console_log",acceptsType:["*"],returnsType:["null"],description:"Displays variable data in the browser's JavaScript console.",docLink:"https://statamic.dev/modifiers/console_log",parameters:[],canBeParameter:!1},{name:"decode",acceptsType:["string"],returnsType:["string"],description:"Converts all HTML entities to their applicable character codes.",docLink:"https://statamic.dev/modifiers/decode",parameters:[],canBeParameter:!1},{name:"dump",acceptsType:["*"],returnsType:["null"],description:"Displays variable data in the browser.",docLink:"https://statamic.dev/modifiers/dump",parameters:[],canBeParameter:!1},{name:"full_urls",acceptsType:["string"],returnsType:["string"],description:"Replaces root-relative URLs with absolute URLs.",docLink:"https://statamic.dev/modifiers/full_urls",parameters:[],canBeParameter:!1},{name:"repeat",acceptsType:["string"],returnsType:["string"],description:"Repeats a value a given number of times.",docLink:"https://statamic.dev/modifiers/repeat",parameters:[{name:"repeat_count",description:"The number of times to repeat the value."}],canBeParameter:!0},{name:"to_spaces",acceptsType:["string"],returnsType:["string"],description:"Converts all tabs to spaces.",docLink:"https://statamic.dev/modifiers/to_spaces",parameters:[{name:"space_count",description:"The number of spaces to replace tabs with."}],canBeParameter:!1},{name:"to_tabs",acceptsType:["string"],returnsType:["string"],description:"Converts spaces to tabs.",docLink:"https://statamic.dev/modifiers/to_tabs",parameters:[{name:"space_count",description:"The number of spaces to convert to tabs."}],canBeParameter:!1},{name:"to_json",acceptsType:["*"],returnsType:["string"],description:"Converts the data to JSON.",docLink:"https://statamic.dev/modifiers/to_json",parameters:[],canBeParameter:!1}];var es=class{constructor(){this.registeredModifiers=new Map;this.acceptTypedModifierReference=new Map;this.returnTypeModifierReference=new Map;this.macros=new Map;this.modifierNameCache=[]}reset(){this.modifierNameCache=[],this.registeredModifiers.clear(),this.acceptTypedModifierReference.clear(),this.returnTypeModifierReference.clear()}getRegisteredModifiers(){return this.registeredModifiers}resetMacros(){this.macros.clear()}loadCoreModifiers(){this.registerModifiers(Mg),this.registerModifiers(kg),this.registerModifiers(qg),this.registerModifiers(Bg),this.registerModifiers(Vg),this.registerModifiers(jg),this.registerModifiers(Gg),this.registerModifiers(Wg),this.registerModifiers(Ug)}getModifierNames(){return this.modifierNameCache}registerMacro(e){this.macros.set(e.name,e)}registerMacros(e){for(let n=0;n<e.length;n++)this.registerMacro(e[n])}hasMacro(e){if(this.macros.has(e)){let n=this.macros.get(e);return!(typeof n=="undefined"||n===null)}return!1}getMacro(e){if(this.macros.has(e)){let n=this.macros.get(e);return typeof n=="undefined"||n===null?null:n}return null}getMacroManifestingType(e){let n=this.getMacro(e);return n==null?"":n.manifestsType}getRegisteredModifier(e){return this.registeredModifiers.has(e)?this.registeredModifiers.get(e):null}getModifiersForType(e){let n=uu(e);return this.acceptTypedModifierReference.has(n)?this.acceptTypedModifierReference.get(n):[]}getProbableReturnType(e,n){return e==null||e.returnsType.length==0?"":n&&e.returnsType.includes("array")?"array":e.returnsType[0]}registerModifiers(e){var n,r;for(let i=0;i<e.length;i++){let s=e[i];this.modifierNameCache.push(s.name);for(let a=0;a<s.acceptsType.length;a++){let o=s.acceptsType[a];this.acceptTypedModifierReference.has(o)==!1&&this.acceptTypedModifierReference.set(o,[]),(n=this.acceptTypedModifierReference.get(o))==null||n.push(s)}for(let a=0;a<s.returnsType.length;a++){let o=s.returnsType[a];this.returnTypeModifierReference.has(o)==!1&&this.returnTypeModifierReference.set(o,[]),(r=this.returnTypeModifierReference.get(o))==null||r.push(s)}this.registeredModifiers.set(e[i].name,e[i])}}registerModifier(e){let n=[];n.push(e),this.registerModifiers(n)}getModifier(e){if(this.registeredModifiers.has(e)==!1)return null;let n=this.registeredModifiers.get(e);return typeof n=="undefined"||n==null?null:n}hasModifier(e){if(!this.registeredModifiers.has(e))return!1;let n=this.registeredModifiers.get(e);return!(typeof n=="undefined"||n==null)}};es.instance=null;(typeof es.instance=="undefined"||es.instance==null)&&(es.instance=new es,es.instance.loadCoreModifiers());var Ot=es;var up=class{constructor(e){this.parameterModifiers=[];this.hasMixedModifierStyles=!1;this.modifierNames=[];this.node=e}isPaired(){return this.node instanceof Z?this.node.isPaired():!1}getModifierValue(e){var n;if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0)for(let r=0;r<this.node.modifierChain.modifierChain.length;r++){let i=this.node.modifierChain.modifierChain[r];if(((n=i.nameNode)==null?void 0:n.name)==e)return i.valueNodes.length>0?i.valueNodes[0].content:""}if(this.hasParameterModifiers())for(let r=0;r<this.parameterModifiers.length;r++){let i=this.parameterModifiers[r];if(i.name==e)return i.value}return null}getModifierRange(e){var n;if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0)for(let r=0;r<this.node.modifierChain.modifierChain.length;r++){let i=this.node.modifierChain.modifierChain[r];if(((n=i.nameNode)==null?void 0:n.name)==e)return i.valueNodes.length>0?{start:i.startPosition,end:i.endPosition}:null}if(this.hasParameterModifiers())for(let r=0;r<this.parameterModifiers.length;r++){let i=this.parameterModifiers[r];if(i.name==e&&i.namePosition!=null&&i.valuePosition!=null)return{start:i.namePosition.start,end:i.valuePosition.end}}return null}getLastManifestedModifierRuntimeType(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastManifestedModifier!=null){if(this.node.modifierChain.lastManifestedModifier.parameters.length>0&&this.node.modifierChain.lastManifestedModifier.modifier!=null&&Ot.instance!=null){let e=this.node.modifierChain.lastManifestedModifier.modifier;return Ot.instance.getProbableReturnType(e,this.isPaired())}return"*"}if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null&&Ot.instance!=null){let r=e[n].modifier;return Ot.instance.getProbableReturnType(r,this.isPaired())}}return"*"}getLastManifestedModifierValue(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastManifestedModifier!=null)return this.node.modifierChain.lastManifestedModifier.parameters.length>0?this.node.modifierChain.lastManifestedModifier.parameters[0].value:"";if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null)return e[n].value}return""}getLastManifestedModifier(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastModifier!=null)return this.node.modifierChain.lastModifier;if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null)return e[n].modifier}return null}hasModifiers(){return this.node.modifierChain==null||this.node.modifierChain.modifierChain.length==0?this.parameterModifiers.length>0:!0}hasParameterModifiers(){return this.parameterModifiers.length>0}hasShorthandModifiers(){return this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0}hasModifier(e){return this.modifierNames.includes(e)}};function cp(t){let e=[];return t.forEach(n=>{n instanceof Z?e.push(n):n instanceof xr&&n.logicBranches.length>0&&n.logicBranches.forEach(r=>{if(r.head!=null){let i=r.head;i.originalNode!=null?e.push(i.originalNode):e.push(i)}})}),e}var Pu=g_(),gA=y_(),ie=class{static normalizeLineEndings(e,n=`
`){return e.replace(/\r?\n/g,n)}static split(e){return e.split("")}static substring(e,n,r){return e.substr(n,r)}static ctypeSpace(e){return Pu.ctype_space(e)}static ctypeAlpha(e){return Pu.ctype_alpha(e)}static ctypeDigit(e){return Pu.ctype_digit(e)}static ctypePunct(e){return Pu.ctype_punct(e)}static trimLeft(e,n="\\s"){return e.replace(new RegExp("^["+n+"]+"),"")}static trimRight(e,n="\\s"){return e.replace(new RegExp("["+n+"]+$"),"")}static isNumeric(e){return gA(e)}static substringCount(e,n){let r=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return(e.match(new RegExp(r,"gi"))||[]).length}};var fp=class{constructor(e){this.node=e}findParentWithName(e){let n=this.node.getParser();return n==null?null:n.structure.findParentWithName(e,this.node)}};var T_=Ve(Eu());var Y=class{constructor(){this.node=null;this.errorCode="";this.message="";this.level=0;this.range=null}hash(){var n,r,i,s;let e="";return this.node!=null&&(e=((r=(n=this.node.endPosition)==null?void 0:n.offset)!=null?r:0).toString()+"|"+((s=(i=this.node.startPosition)==null?void 0:i.offset)!=null?s:0).toString()+"|"),T_.Md5.hashStr(e+"|"+this.errorCode+"|"+this.message)}static makeSyntaxError(e,n,r,i){i==null&&(i=0);let s=new Y;return s.errorCode=e,s.node=n,s.message=r,s.level=i,s}};var P=class{};P.TYPE_EXPECTING_OPERAND="ANTLR_001",P.TYPE_UNEXPECTED_END_OF_INPUT="ANTLR_002",P.TYPE_RUNTIME_TYPE_MISMATCH="ANTLR_003",P.TYPE_RUNTIME_DIVIDE_BY_ZERO="ANTLR_004",P.TYPE_RUNTIME_UNKNOWN_LANG_OPERATOR="ANTLR_005",P.TYPE_RUNTIME_UNEXPECTED_STACK_CONDITION="ANTLR_006",P.TYPE_RUNTIME_PARSE_VALUE_VIOLATION="ANTLR_007",P.TYPE_PARSE_UNCLOSED_CONDITIONAL="ANTLR_008",P.TYPE_PARSE_EMPTY_CONDITIONAL="ANTLR_009",P.TYPE_PARSE_UNPAIRED_CONDITIONAL="ANTLR_008",P.TYPE_ILLEGAL_STRING_ESCAPE_SEQUENCE="ANTLR_009",P.TYPE_INCOMPLETE_ANTLERS_REGION="ANTLR_010",P.TYPE_INCOMPLETE_ANTELRS_COMMENT_REGION="ANTLR_011",P.TYPE_ILLEGAL_VARPATH_RIGHT="ANTLR_012",P.TYPE_ILLEGAL_DOTVARPATH_RIGHT="ANTLR_013",P.TYPE_ILLEGAL_VARPATH_SUBPATH_START="ANTLR_014",P.TYPE_ILLEGAL_VARPATH_SPACE_RIGHT="ANTLR_015",P.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR="ANTLR_016",P.TYPE_ILLEGAL_VARIABLE_NAME="ANTLR_017",P.TYPE_UNSET_MODIFIER_DETAILS="ANTLR_018",P.TYPE_MODIFIER_NAME_NOT_START_OF_DETAILS="ANTLR_019",P.TYPE_MODIFIER_UNEXPECTED_VALUE="ANTLR_020",P.TYPE_MODIFIER_UNEXPECTED_END_OF_VALUE_LIST="ANTLR_021",P.TYPE_TERNARY_EXPECTING_BRANCH_SEPARATOR="ANTLR_022",P.TYPE_TERNARY_UNEXPECTED_EXPRESSION_LENGTH="ANTLR_023",P.TYPE_RECURSIVE_UNPAIRED_NODE="ANTLR_024",P.TYPE_RECURSIVE_NODE_INVALID_POSITION="ANTLR_025",P.TYPE_NO_PARSE_UNASSOCIATED="ANTLR_026",P.TYPE_RECURSIVE_NODE_UNASSOCIATED_PARENT="ANTLR_027",P.TYPE_LOGIC_GROUP_NO_END="ANTLR_028",P.TYPE_LOGIC_GROUP_NO_START="ANTLR_029",P.TYPE_UNEXPECTED_BRANCH_SEPARATOR="ANTLR_030",P.TYPE_UNEXPECTED_BRANCH_SEPARATOR_FOR_VARCOMBINE="ANTLR_031",P.TYPE_UNEXPECTED_MODIFIER_SEPARATOR="ANTLR_032",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_DETAILS="ANTLR_033",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_VALUE="ANTLR_034",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NODE_PARAMETER="ANTLR_035",P.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE="ANTLR_036",P.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS="ANTLR_037",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SEMANTIC_GROUP="ANTLR_038",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NULL_COALESCENCE_GROUP="ANTLR_039",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP="ANTLR_040",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP_FALSE_BRANCH="ANTLR_041",P.TYPE_UNEXPECTED_EOI_WHILE_EXITING_TERNARY_GROUP="ANTLR_042",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_NEGATION_OFFSET="ANTLR_043",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END_DUE_TO_NEGATION="ANTLR_044",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END="ANTLR_045",P.TYPE_RUNTIME_UNKNOWN_LIBRARY="ANTLR_046",P.TYPE_RUNTIME_LIBRARY_BAD_METHOD_CALL="ANTLR_047",P.TYPE_UNEXPECTED_FACTORIAL_WHILE_CREATING_GROUPS="ANTLR_048",P.TYPE_UNEXPECTED_FACTORIAL_OPERAND="ANTLR_049",P.TYPE_UNEXPECTED_LOGIC_NEGATION_OPERATOR="ANTLR_050",P.TYPE_FACTORIAL_MATERIALIZED_BOOL_DETECTED="ANTLR_051",P.TYPE_ARG_UNEXPECTED_NAMED_ARGUMENT="ANTLR_052",P.TYPE_UNEXPECTED_EOI_PARSING_BRANCH_GROUP="ANTLR_053",P.TYPE_UNEXPECTED_UNNAMED_METHOD_ARGUMENT="ANTLR_054",P.TYPE_LIBRARY_CALL_NO_ARGS_PROVIDED="ANTLR_055",P.TYPE_LIBRARY_CALL_MISSING_REQUIRED_FORMAL_ARG="ANTLR_056",P.TYPE_LIBRARY_CALL_RUNTIME_TYPE_MISMATCH="ANTLR_057",P.TYPE_LIBRARY_CALL_UNEXPECTED_ARG_RESOLVE_FAULT="ANTLR_058",P.TYPE_LIBRARY_CALL_TOO_MANY_ARGUMENTS="ANTLR_059",P.TYPE_UNEXPECTED_TOKEN_WHILE_PARSING_METHOD="ANTLR_060",P.TYPE_INVALID_NAMED_ARG_IDENTIFIER="ANTLR_061",P.TYPE_LIBRARY_CALL_INVALID_ARGUMENT_NAME="ANTLR_062",P.TYPE_RUNTIME_ATTEMPT_TO_OVERWRITE_LOADED_LIBRARY="ANTLR_063",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_ARG_GROUP="ANTLR_064",P.TYPE_EXPECTING_ARGUMENT_GROUP="ANTLR_065",P.TYPE_RUNTIME_PROTECTED_LIBRARY_ACCESS_VIOLATION="ANTLR_066",P.TYPE_RUNTIME_FATAL_UNPAIRED_LOOP_END="ANTLR_067",P.TYPE_UNEXPECTED_OPERATOR="ANTLR_068",P.TYPE_OPERATOR_INVALID_ON_RIGHT="ANTLR_069",P.TYPE_INVALID_ASSIGNMENT_LOOP_PAIR="ANTLR_070",P.TYPE_UNEXPECTED_EOI_PARSING_ORDER_GROUP="ANTLR_071",P.TYPE_EXPECTING_ORDER_GROUP_FOR_ORDER_BY_OPERAND="ANTLR_072",P.TYPE_QUERY_UNSUPPORTED_VALUE_TYPE="ANTLR_073",P.TYPE_UNEXPECTED_RUNTIME_RESULT_FOR_ORDER_BY_CLAUSE="ANTLR_074",P.TYPE_UNEXPECTED_EMPTY_DIRECTION_GROUP="ANTLR_075",P.TYPE_INVALID_ORDER_BY_NAME_VALUE="ANTLR_076",P.TYPE_INVALID_ORDER_BY_SORT_VALUE="ANTLR_077",P.TYPE_UNEXPECTED_TOKEN_FOR_GROUP_BY="ANTLR_78",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_GROUP_BY="ANTLR_079",P.TYPE_UNEXPECTED_GROUP_BY_AS_ALIAS_TYPE="ANTLR_080",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SWITCH_GROUP="ANTLR_081",P.TYPE_UNEXPECTED_TOKEN_FOR_SWITCH_GROUP="ANTLR_082",P.TYPE_UNEXPECTED_SWITCH_START_VALUE="ANTLR_083",P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE="ANTLR_084",P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_SEMANTIC_VALUE="ANTLR_085",P.TYPE_SWITCH_DEFAULT_MUST_BE_LAST="ANTLR_086",P.TYPE_PARSER_INVALID_SWITCH_TOKEN="ANTLR_087",P.TYPE_ORDER_BY_INVALID_RETURN_TYPE="ANTLR_088",P.TYPE_GROUP_BY_SCOPED_GROUP_MUST_BE_ENCLOSED="ANTLR_089",P.TYPE_PLUCK_INTO_MISSING_VARIABLE_TARGET="ANTLR_090",P.TYPE_PLUCK_INTO_INVALID_VARIABLE_TARGET="ANTLR_091",P.TYPE_PLUCK_INTO_NO_PREDICATE="ANTLR_092",P.TYPE_PLUCK_INTO_INVALID_PREDICATE_VALUE="ANTLR_093",P.TYPE_PLUCK_INTO_EMPTY_LOGIC_GROUP="ANTLR_094",P.TYPE_PLUCK_INTO_INVALID_NUMBER_OF_TUPLE_VARIABLES="ANTLR_095",P.TYPE_PLUCK_INTO_UNKNOWN_ALIAS_VARNAME="ANTLR_096",P.TYPE_PLUCK_INTO_UNEXPECTED_EMPTY_T_LOGIC_GROUP="ANTLR_097",P.TYPE_PLUCK_INTO_REFERENCE_TYPE_DYNAMIC="ANTLR_098",P.TYPE_PLUCK_INTO_REFERENCE_AMBIGUOUS="ANTLR_099",P.TYPE_RUNTIME_ASSIGNMENT_TO_NON_VAR="ANTLR_100",P.TYPE_ARR_MAKE_MISSING_TARGET="ANTLR_101",P.TYPE_ARR_MAKE_UNEXPECTED_TYPE="ANTLR_102",P.TYPE_ARR_MAKE_MISSING_ARR_KEY_PAIR_VALUE="ANTLR_103",P.TYPE_ARR_KEY_PAIR_INVALID_KEY_TYPE="ANTLR_104",P.TYPE_ARR_UNEXPECT_ARG_SEPARATOR="ANTLR_105",P.TYPE_ARR_KEY_PAIR_MISSING_KEY="ANTLR_106",P.RUNTIME_PROTECTED_VAR_ACCESS="ANTLR_107",P.RUNTIME_PROTECTED_TAG_ACCESS="ANTLR_108",P.RUNTIME_PROTECTED_MODIFIER_ACCESS="ANTLR_109",P.TYPE_INCOMPLETE_PHP_EVALUATION_REGION="ANTLR_110",P.RUNTIME_PHP_NODE_WHEN_PHP_DISABLED="ANTLR_111",P.RUNTIME_PHP_NODE_USER_CONTENT_TAG="ANTLR_112",P.TYPE_UNEXPECTED_TYPE_FOR_TUPLE_LIST="ANTLR_113",P.TYPE_UNEXPECTED_EOI_PARSING_TUPLE_LIST="ANTLR_114",P.TYPE_MISSING_BODY_TUPLE_LIST="ANTLR_115",P.TYPE_MISSING_NAMES_TUPLE_LIST="ANTLR_116",P.TYPE_VALUE_NAME_LENGTH_MISMATCH_TUPLE_LIST="ANTLR_117",P.TYPE_INVALID_TUPLE_LIST_NAME_TYPE="ANTLR_118",P.TYPE_INVALID_MANIFESTED_NAME_GROUP="ANTLR_119",P.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE_GROUP="ANTLR_120",P.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE="ANTLR_121",P.TYPE_RUNTIME_BAD_METHOD_CALL="ANTLR_122",P.TYPE_METHOD_CALL_MISSING_ARG_GROUP="ANTLR_123",P.TYPE_INVALID_METHOD_CALL_ARG_GROUP="ANTLR_124",P.TYPE_METHOD_CALL_MISSING_METHOD="ANTLR_125",P.TYPE_MODIFIER_NOT_FOUND="ANTLR_126",P.TYPE_RUNTIME_GENERAL_FAULT="ANTLR_127",P.TYPE_MODIFIER_INCORRECT_VALUE_POSITION="ANTLR_128",P.TYPE_MODIFIER_UNEXPECTED_TOKEN_METHOD_SYNTAX="ANTLR_129",P.PARSER_CANNOT_PARSE_PATH_RECURSIVE="ANTLR_200",P.PATH_STRING_NOT_INSIDE_ARRAY_ACCESSOR="ANTLR_201",P.LINT_UNKNOWN_PARAMETER="ANTLR_500",P.LINT_GENERAL_INVALID_PARAMETER_CONTENTS="ANTLR_501",P.LINT_PARAMETER_CONTENT_INVALID_INTEGER="ANTLR_502",P.LINT_PARAMETER_CONTENT_INVALID_BOOLEAN="ANT LR_503",P.LINT_PAGINATE_INVALID_VALUE="ANTLR_504",P.LINT_DEBUG_DATA_EXPOSED="ANTLR_505",P.LINT_DOUBLE_COLON_IN_TAG_IDENTIFIER="ANTLR_506",P.LINT_MIXED_MODIFIERS="ANTLER_507",P.LINT_MODIFIER_UNEXPECTED_TYPE="ANTLR_508",P.LINT_REMOVE_RELATE_TAG="ANTLR_509",P.LINT_SET_PRODUCES_RUNTIME_ERROR="ANTLR_510",P.LINT_FRONT_MATTER_EMPTY_DOCUMENT="ANTLR_511",P.LINT_SHORTHAND_MODIFIER_TAG_MUST_MATCH="ANTLR_512",P.LINT_INVALID_FRONT_MATTER="ANTLR_513",P.LINT_DUPLICATE_CODE="ANTLR_514",P.LINT_VERSION_NOT_COMPATIBLE="ANTLR_515";var dt=class{static distance(e,n){return e.endPosition==null||n.startPosition==null?this.DistMax:n.startPosition.index-e.endPosition.index}static getTrueName(e){var n,r,i,s;return e.originalNode!=null?(r=(n=e.originalNode.name)==null?void 0:n.name)!=null?r:"":(s=(i=e.name)==null?void 0:i.name)!=null?s:""}static getSimpleVarName(e){return e.variableReference!=null&&e.variableReference.pathParts.length==1&&e.variableReference.pathParts[0]instanceof Un?e.variableReference.pathParts[0].name:""}static isVariableMatching(e,n){return e instanceof Te?e.name==n:!1}static mergeVarContentLeft(e,n,r){return r.mergeRefName=r.name,r.endPosition=n.endPosition,r.name=r.name+e,r}static mergeVarContentRight(e,n,r){return r.mergeRefName=r.name,r.startPosition=n.startPosition,r.name=e+r.name,r}static mergeVarRight(e,n){return n.mergeRefName=n.name,n.startPosition=e.startPosition,n.name=e.name+n.name,n}static getUnrefName(e){return ie.trimLeft(e,":.")}};dt.DistMax=65e3;var lr=class{static isConditionalStructure(e){var r,i;if(e.isComment)return!1;let n=(i=(r=e.name)==null?void 0:r.name)!=null?i:"";return n=="if"||n=="elseif"||n=="else"}static requiresClose(e){var r,i;let n=(i=(r=e.name)==null?void 0:r.name)!=null?i:"";return n=="elseif"||n=="else"?e.isClosedBy==null:!(e.isClosingTag||e.isClosedBy!=null)}static getValidClosingPairs(e){return e=="if"||e=="elseif"?lr.conditionClosingPairs:[]}static findClosestStructurePair(e,n,r){var u,f,c,m,g,d,p,h;let i=[],s=e.length,a=new Map,o=null;i.push({node:n,index:r});for(let y=0;y<s;y+=1){let _=e[y];if(_ instanceof Z){let b=(f=(u=_.name)==null?void 0:u.name)!=null?f:"";if(_.isClosingTag&&b=="if"){a.set(y,y);continue}else if(b=="elseif"||b=="else"){a.set(y,y);continue}}}let l=a.size;for(;i.length>0;){let y=i.pop();if(y==null)continue;if(y.node._conditionParserAbandonPairing)break;let _=y.node,b=lr.getValidClosingPairs((m=(c=_.name)==null?void 0:c.name)!=null?m:""),N=y.index,w=!1;if(l>50&&o!=null){for(let[le,$]of a)if(le>N){N=le;break}}for(let le=N;le<s;le++){let $=e[le];if($ instanceof Z&&lr.isConditionalStructure($)){if(lr.requiresClose($)){i.push(y),i.push({node:$,index:le+1}),w=!0;break}if(_.isClosedBy!=null)continue;let j=(d=(g=$.name)==null?void 0:g.name)!=null?d:"",X=!1;if($.ref==0&&($.isClosingTag&&j=="if"||b.includes(j))&&(X=!0),$.refId==_.refId&&(X=!1),X){o=le,a.delete(le),_.isClosedBy=$,$.isOpenedBy=_,$.ref+=1,w=!0;break}}}if(!w&&_ instanceof Z){let le=(h=(p=_.name)==null?void 0:p.name)!=null?h:"";(le=="elseif"||le=="else")&&_.isOpenedBy==null&&(_.pushError(Y.makeSyntaxError(P.TYPE_PARSE_UNPAIRED_CONDITIONAL,_,'Unpaired "'+dt.getTrueName(_)+'" control structure.')),_._conditionParserAbandonPairing=!0),_.isClosedBy==null&&lr.requiresClose(_)&&(_.pushError(Y.makeSyntaxError(P.TYPE_PARSE_UNCLOSED_CONDITIONAL,_,'Unclosed "'+dt.getTrueName(_)+'" control structure.')),_._conditionParserAbandonPairing=!0)}}}static pairConditionals(e){for(let n=0;n<e.length;n+=1){let r=e[n];r instanceof Z&&lr.isConditionalStructure(r)&&lr.requiresClose(r)&&lr.findClosestStructurePair(e,r,n+1)}return e.forEach(n=>{var r,i;if(n instanceof Z&&lr.isConditionalStructure(n)){let s=(i=(r=n.name)==null?void 0:r.name)!=null?i:"";if((s=="elseif"||s=="else")&&n.isOpenedBy==null){n.pushError(Y.makeSyntaxError(P.TYPE_PARSE_UNPAIRED_CONDITIONAL,n,'Unpaired "'+dt.getTrueName(n)+'" control structure.'));return}if(n.isClosedBy==null&&lr.requiresClose(n)){n.pushError(Y.makeSyntaxError(P.TYPE_PARSE_UNCLOSED_CONDITIONAL,n,"Unclosed "+dt.getTrueName(n)+" control structure."));return}}}),e}},Ri=lr;Ri.conditionClosingPairs=["elseif","else"];var te=class{constructor(){this.refId=null;this.index=0;this.parent=null;this.content="";this.rawLexContent="";this.sourceContent="";this.startPosition=null;this.endPosition=null;this.modifierChain=null;this.originalAbstractNode=null;this.positionContexts=[];this.addedContexts=new Map;this.isVirtual=!0;this.isPartOfMethodChain=!1;this.isVirtualGroupMember=!1;this.isVirtualGroupOperatorResolve=!1;this.isSwitchGroupMember=!1;this.isListGroupMember=!1;this.producesVirtualStatementTerminator=!1;this.convertedToOperator=!1;this.scopeVariable=null;this.currentScope=null;this.manifestType="";this.scopeName=null;this.sourceType="";this.runtimeType=null;this.modifiers=new up(this);this.prev=null;this.next=null;this.methodTarget=null;this.libraryTarget=null;this.antlersErrors=[];this.parser=null;this.refId=Pa()}getContexts(){return this.positionContexts}addContext(e){this.addedContexts.has(e.refId)==!1&&(this.addedContexts.set(e.refId,!0),this.positionContexts.push(e))}getRange(){if(this.originalAbstractNode!=null)return this.originalAbstractNode.getRange();if(this.startPosition==null||this.endPosition==null)return Yo.Empty;let e=new Yo;return e.start=this.startPosition,e.end=this.endPosition,e}withParser(e){this.parser=e}getParser(){return this.parser}pushError(e){this.parent!=null&&this.parent.pushError(e),this.antlersErrors.push(e),this.parent==null&&this.parser!=null&&this.parser.pushError(e)}mergeErrors(e){e.forEach(n=>{n.node==null&&(n.node=this),this.antlersErrors.push(n)})}getErrors(){return this.antlersErrors}innerContent(){return this.content}rawContent(){return this.content}},dp=class extends te{constructor(){super(...arguments);this.head=null;this.tail=null;this.nodes=[]}},xr=class extends te{constructor(){super(...arguments);this.logicBranches=[];this.chain=[]}},Z=class extends te{constructor(){super(...arguments);this.isNodeAbanonded=!1;this.isComment=!1;this.isTagNode=!1;this.isConditionNode=!1;this.runtimeContent="";this.name=null;this.pathReference=null;this.isClosingTag=!1;this.isInterpolationNode=!1;this.isOpenedBy=null;this.isClosedBy=null;this.isSelfClosing=!1;this.children=[];this.runtimeNodes=[];this.parsedRuntimeNodes=[];this.hasParsedRuntimeNodes=!1;this.parameters=[];this.hasParameters=!1;this.contentOffset=null;this.cachedContent=null;this.cachedInnerContent=null;this.hasRecursiveNode=!1;this.recursiveReference=null;this.rawStart="";this.rawEnd="";this.originalNode=null;this.interpolationRegions=new Map;this.processedInterpolationRegions=new Map;this.hasProcessedInterpolationRegions=!1;this.ref=0;this.contentStartRelativeIndex=null;this.antlersNodeIndex=0;this.nameStartsOn=null;this.nameEndsOn=null;this.nameMethodPartStartsOn=null;this.structure=new fp(this);this.mustClose=!1;this.reference=null;this._conditionParserAbandonPairing=!1;this._isEndVirtual=!1}nodeAtIndex(e){if(this.runtimeNodes.length==0)return null;for(let n=0;n<this.runtimeNodes.length;n++)if(this.runtimeNodes[n].index==e)return this.runtimeNodes[n];return null}isEmpty(){return this.content.trim().length==0}nameMatches(e){return this.name==null?!1:this.name.content==e}copyBasicDetails(){return this.copyBasicDetailsTo(new Z)}copyBasicDetailsTo(e){return e.refId=this.refId,e.isComment=this.isComment,e.isTagNode=this.isTagNode,e.children=this.children,e.parameters=this.parameters,e.isClosingTag=this.isClosingTag,e.rawStart=this.rawStart,e.rawEnd=this.rawEnd,e.startPosition=this.startPosition,e.endPosition=this.endPosition,e}id(){return this.refId}innerContent(){return this.cachedInnerContent==null&&(this.cachedInnerContent=this.content.replace('"','\\"')),this.cachedInnerContent}resetContentCache(){this.cachedContent=null,this.cachedInnerContent=null}hasMethodPart(){return this.name==null?!1:this.name.getMethodName()!=null}runtimeName(){return this.name==null?"":this.name.getCompoundTagName()}getTagName(){return this.name==null?"":this.name.name}getNameContent(){return this.name==null?"":this.name.content}getMethodNameValue(){if(this.name==null)return"";let e=this.name.getMethodName();return e!=null?e:""}methodIsEmptyOrMatches(e){return this.getMethodNameValue()==e}hasParameter(e){return this.findParameter(e)!=null}hasParameterWithValue(e,n){let r=this.findParameter(e);return r==null?!1:r.value==n}findParameterValue(e,n){let r=this.findParameter(e);return r==null?n:r.value}findParameterValueOrNull(e){let n=this.findParameter(e);return n==null?null:n.value}findParameter(e){if(this.parameters.length==0)return null;for(let n=0;n<this.parameters.length;n++)if(this.parameters[n].name==e)return this.parameters[n];return null}findAnyParameter(e){for(let n=0;n<e.length;n++){let r=this.findParameter(e[n]);if(r!=null)return r}return null}getContentRelativeStartIndex(){if(this.contentStartRelativeIndex==null){let e=this.content.split("");for(let n=0;n<e.length;n++)if(!ie.ctypeSpace(e[n])){this.contentStartRelativeIndex=n;break}this.contentStartRelativeIndex==null&&(this.contentStartRelativeIndex=e.length),this.contentStartRelativeIndex+=this.rawStart.length}return this.contentStartRelativeIndex}getContent(){if(this.cachedContent==null)if(this.isComment)this.cachedContent=this.content,this.contentOffset=this.startPosition;else if(this.isTagNode){let e=this.content;e=ie.trimLeft(e);let n=0;if(this.name!=null&&(n=this.name.compound.length),this.parameters.length>0){let a=0,o=this.parameters[0];o.startPosition!=null&&(a=o.startPosition.index-1);let l=e,u=l.trimLeft(),f=l.length-u.length,c=n;e=e.substr(0,a)}let r=e.trimLeft(),i=e.length-r.length,s=n+i+2;if(this.parser!=null){let a=0;this.startPosition!=null&&(a=this.startPosition.offset),this.contentOffset==this.parser.positionFromOffset(a+s,0)}this.name!=null?this.name.name=="if"||this.name.name=="elseif"||this.name.name=="unless"||this.name.name=="elseunless"?(e=" "+e.trimLeft(),this.cachedContent=e.substr(this.name.compound.length+1)):this.cachedContent=e:this.cachedContent=e}else if(this.parameters.length>0){let e=this.parameters[0],n=0;e.startPosition!=null&&(n=e.startPosition.index-1),this.contentOffset=this.startPosition,this.cachedContent=this.content.substr(0,n)}else this.contentOffset=this.startPosition,this.cachedContent=this.content;return this.cachedContent}relativePositionFromOffset(e,n){var r,i;return this.parser==null?null:this.parser.positionFromOffset(((i=(r=this.contentOffset)==null?void 0:r.offset)!=null?i:0)+e,n)}getInterpolationNode(e){if(this.processedInterpolationRegions.has(e)){let n=this.processedInterpolationRegions.get(e);if(n.length>0&&n[0]instanceof Z)return n[0]}return null}_lexerRelativeOffset(e,n=null){var a,o;let r=e;if(n!=null&&(r=n),this.parser==null){let l=new sr;return l.index=e,l.offset=e,l}let i=e+this.rawStart.length+((o=(a=this.startPosition)==null?void 0:a.index)!=null?o:0);return this.isTagNode&&this.nameStartsOn!=null&&(i=this.nameStartsOn.index+e,Ri.isConditionalStructure(this)||(i-=this.rawStart.length)),this.parser.positionFromOffset(i,i,!0)}relativeOffset(e,n=null){var a,o;let r=e;if(n!=null&&(r=n),this.parser==null){let l=new sr;return l.index=e,l.offset=e,l}let i=e+this.rawStart.length+((o=(a=this.startPosition)==null?void 0:a.index)!=null?o:0);return this.parser.positionFromOffset(i,i,!0)}isPaired(){return!(this.isClosedBy==null||this.isSelfClosing)}rawContent(){return this.rawStart+this.content+this.rawEnd}getTrueRuntimeNodes(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueRuntimeNodes():this.runtimeNodes}getTrueRawContent(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueRawContent():this.rawContent()}getTrueNode(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueNode():this}getStructuralChildren(){return this.isClosedBy!=null?cp(this.children.slice(0,-1)):cp(this.children)}},Wn=class extends Z{static makeWithStartPosition(e){let n=new Wn;return n.startPosition=e,n.endPosition=e,n}},mt=class extends Wn{},ur=class extends Z{constructor(){super(...arguments);this.recursiveParent=null;this.isNestedRecursive=!1}},Ea=class extends Z{constructor(){super(...arguments);this.isEchoNode=!1}},$o=class extends Wn{},mp=class extends Wn{},fi=class extends Z{constructor(){super(...arguments);this.isNoParseRegion=!1}},Ho=class extends te{constructor(){super(...arguments);this.modifier=null;this.isModifierParameter=!1;this.nameDelimiter='"';this.isVariableReference=!1;this.name="";this.value="";this.interpolations=[];this.parent=null;this.blockPosition=null;this.namePosition=null;this.valuePosition=null}containsSimpleValue(){return this.hasInterpolations()==!1&&this.isVariableReference==!1}hasInterpolations(){return this.interpolations.length>0}getArrayValue(){return this.value.split("|")}getValue(){return this.value}},Ko=class{constructor(){this.modifierTarget=null;this.modifierChain=[];this.startPosition=null;this.endPosition=null;this.lastManifestedModifier=null;this.lastModifier=null}updateValues(){if(this.modifierChain.length==0)this.startPosition=null,this.endPosition=null;else{let e=this.modifierChain[0],n=this.modifierChain[this.modifierChain.length-1];this.startPosition=e.startPosition,this.endPosition=n.endPosition}}},Da=class extends te{constructor(){super(...arguments);this.modifier=null;this.methodStyleArguments=null;this.nameNode=null;this.name="";this.valueNodes=[];this.parameters=[]}getParameterValues(){let e=[];return this.parameters.forEach(n=>{e.push(n.value)}),e}},zo=class extends te{constructor(){super(...arguments);this.order=0;this.name=null;this.directionNode=null}},hp=class extends te{constructor(){super(...arguments);this.value=""}},Rr=class extends te{},cr=class extends te{},wr=class extends te{},Gn=class extends te{},Yn=class extends te{},pi=class extends te{},ts=class extends te{constructor(){super(...arguments);this.repeat=1}},di=class extends te{},$n=class extends te{},wn=class extends te{},Or=class extends te{},Lr=class extends te{},Hn=class extends te{},Fr=class extends te{},Mr=class extends te{},mi=class extends te{},On=class extends te{},fr=class extends te{},wi=class extends te{},kr=class extends te{},qr=class extends te{},Br=class extends te{},Vr=class extends te{},jr=class extends te{},Ur=class extends te{},Oi=class extends te{},Wr=class extends te{},un=class extends te{},ks=class extends te{constructor(){super(...arguments);this.orderClauses=[]}},Ct=class extends te{},Nn=class extends te{},Xo=class extends te{constructor(){super(...arguments);this.left=null;this.right=null}},Ln=class extends te{},Gr=class extends te{},pr=class extends te{},cn=class extends te{},Yr=class extends te{},hi=class extends te{},dr=class extends te{},Cn=class extends te{},gi=class extends te{},Wt=class extends te{},Qt=class extends te{},Aa=class extends te{constructor(){super(...arguments);this.values=[];this.isNamedNode=!1;this.parsedName=null}},Ge=class extends te{constructor(){super(...arguments);this.start=null;this.end=null;this.nodes=[];this.scopeOperator=null}},Sa=class extends te{constructor(){super(...arguments);this.condition=null;this.expression=null}},qs=class extends te{constructor(){super(...arguments);this.cases=[]}},gp=class extends te{constructor(){super(...arguments);this.left=null;this.right=null}},Li=class extends te{constructor(){super(...arguments);this.nodes=[]}},Qo=class extends te{constructor(){super(...arguments);this.head=null;this.truthBranch=null;this.falseBranch=null}},At=class extends te{},Lt=class extends te{constructor(){super(...arguments);this.nodes=[];this.separatorToken=null}},mr=class extends Ge{constructor(){super(...arguments);this.scope=null}extract(){let e=null;this.scope!=null&&(e=this.scope.name);let n=this.nodes[0];return[e,n.nodes]}},Fi=class extends mr{constructor(){super(...arguments);this.alias=null}},Ia=class extends te{constructor(){super(...arguments);this.args=[];this.hasNamedArguments=!1;this.numberOfNamedArguments=0}},$r=class extends te{},_p=class extends te{};var ns=class extends te{constructor(){super(...arguments);this.libraryName="";this.methodName="";this.arguments=null}},Jt=class extends te{},Zt=class extends te{constructor(){super(...arguments);this.method=null;this.args=null}},hn=class extends te{constructor(){super(...arguments);this.name=""}},Gt=class extends te{constructor(){super(...arguments);this.value="";this.name=""}},Du=class extends te{constructor(){super(...arguments);this.name=null;this.value=null}},Jo=class extends te{constructor(){super(...arguments);this.name=null;this.value=null}},Yt=class extends te{constructor(){super(...arguments);this.value=null}},St=class extends te{constructor(){super(...arguments);this.value="";this.sourceTerminator=""}},Te=class extends te{constructor(){super(...arguments);this.name="";this.mergeRefName="";this.variableReference=null;this.interpolationNodes=[];this.isInterpolationReference=!1}},yp=class extends te{constructor(){super(...arguments);this.name=""}},Un=class extends te{constructor(){super(...arguments);this.delimiter="";this.name="";this.isStringVar=!1;this.isFinal=!1}},rs=class{constructor(){this.originalContent="";this.normalizedReference="";this.isStrictTagReference=!1;this.isStrictVariableReference=!1;this.isExplicitVariableReference=!1;this.isVariableVariable=!1;this.pathParts=[];this.isFinal=!1;this._isFromEmptyFailState=!1}clone(){let e=new rs;return e.originalContent=this.originalContent,e.normalizedReference=this.normalizedReference,e.isStrictVariableReference=this.isStrictVariableReference,e.isExplicitVariableReference=this.isExplicitVariableReference,e.pathParts=this.pathParts,e.isFinal=this.isFinal,e}implodePaths(){let e=[];return this.pathParts.forEach(n=>{n instanceof Un?e.push(n.name):n instanceof rs&&e.push(n.implodePaths())}),e.join(".")}};var _v=Ve(bi());var Ua=Ve(bt());function Td(t,e){let n=[];if(t.currentNode==null)return n;let r={start:{line:t.position.line,character:t.position.character-0},end:t.position};for(let i=0;i<e.length;i++){let s=e[i];if(!t.currentNode.hasParameter(s.name)){let a=s.name+'="$1"';n.push({label:s.name,kind:Ua.CompletionItemKind.Value,insertTextFormat:Ua.InsertTextFormat.Snippet,textEdit:Ua.TextEdit.replace(r,a),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}return n}var Qu=Ve(bt());function Wa(t,e,n){return{label:t,insertText:t,kind:Qu.CompletionItemKind.Field,detail:n+": "+e}}function Ju(t){let e=[];for(let n=0;n<t.length;n++)typeof t[n].name!="undefined"&&e.push(vd(t[n]));return e}function vd(t){let e="",n=t.name;return t.instructionText!=null&&(e=t.instructionText),t.displayName!=null&&(n=t.displayName+" ("+t.name+")"),t.blueprintName!=null&&(e.trim().length>0&&(e+=`
`),e+="Blueprint: "+t.blueprintName),t.type!=null&&(n+=": "+t.type),{label:t.name,insertText:t.name,kind:Qu.CompletionItemKind.Field,documentation:e,detail:n}}function Ui(t,e){return e==null&&(e="s"),t.replace(new RegExp("^["+e+"]+"),"")}function nn(t,e,n){return t.replace(new RegExp(e,"g"),n)}function Nd(t,e){return e==null&&(e="s"),t.replace(new RegExp("["+e+"]+$"),"")}function Ue(t,e,n,r){let i="**"+t+"**  ";return i+=`
`,i+=e+"  ",i+="\n```antlers\n",i+=n,i+="\n```",r!=null&&(i+=`

`,i+="[Documentation Reference]("+r+")"),i}function q(t,e,n){let r="**"+t+"**  ";return r+=`
`,r+=e+"  ",n!=null&&(r+=`

`,r+="[Documentation Reference]("+n+")"),r}function Ga(t){let e=[];return t=="order"&&e.push("sort"),e}function vR(t){return{blueprintName:t.sourceName,displayName:t.name,instructionText:"",maxItems:-1,name:t.name,refFieldSetField:null,type:t.dataType,sets:null,import:null}}function Zu(t){let e=[];for(let n=0;n<t.length;n++)e.push(vR(t[n]));return e}function Xe(t){return[{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"count",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"index",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"order",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t}]}function Gb(t,e,n){if(typeof n=="undefined"||n===null)return;let r=t.findParameter("as"),i=t.findParameter("scope");n=n.concat(Zu(Xe(t))),r!=null&&i!=null?e.introduceScopedAliasScope(t,i.value,r.value,n):r!=null?e.introduceAliasScope(t,r.value,n):i!=null?e.introduceDynamicScopeList(t,i.value,n):e.addBlueprintFields(t,n)}function Yb(t){return[{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.collection.context",introducedBy:t},{name:"total_results",dataType:"integer",sourceField:null,sourceName:"*internal.collection.context",introducedBy:t}]}var Zr=Ve(bt());var cs=[{isRequired:!1,name:"from",description:"The collection name to retrieve entries from",aliases:["folder","use"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"not_from",aliases:["not_folder","dont_use"],description:"The collections to exclude when retrieving entries",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"show_unpublished",aliases:null,description:"Controls whether unpbulished entries are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"show_published",aliases:null,description:"Controls whether published entries are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"show_past",aliases:null,description:"Controls whether to display entries with a past date",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"since",aliases:null,description:"Sets the minimum date an entry can have to be returned",acceptsVariableInterpolation:!0,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"until",aliases:null,description:"Sets the maximum date an entry can have to be returned",acceptsVariableInterpolation:!0,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies the entry sort order",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"limit",aliases:null,description:"Sets the maximum number of entries to return",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["integer"],isDynamic:!1},{isRequired:!1,name:"filter",aliases:["query_scope"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Specifies a custom query scope",expectsTypes:["string"],isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets the amount that entry results should be offset by",expectsTypes:["integer"],isRequired:!1,name:"offset",isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets whether not to paginate entry results",expectsTypes:["boolean","number"],isRequired:!1,name:"paginate",isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies a name to give to a new entries array variable",expectsTypes:["string"],isRequired:!1,name:"as",isDynamic:!1},{name:"scope",aliases:null,acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Sets a prefix on all entry variables",expectsTypes:["string"],isRequired:!1,isDynamic:!1},{name:"locale",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies the locale in which to retrieve entry content",expectsTypes:["string"],isRequired:!1,isDynamic:!1},{name:"redirects",aliases:["links"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Controls whether entries with redirects are returned",expectsTypes:["boolean"],isRequired:!1,isDynamic:!1}],$b=["from","folder","use"],Hb=["not_from","not_folder","dont_use"],Kb=["draft","scheduled","expired","published"];function zb(t){let e=[];if(t.project!=null){let n={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position},r=t.project.getUniqueTaxonomyNames();for(let i=0;i<r.length;i++){let s=r[i],a=t.originalLeftWord+s+'="$1"';e.push({label:t.originalLeftWord+s,insertTextFormat:Zr.InsertTextFormat.Snippet,kind:Zr.CompletionItemKind.Field,textEdit:Zr.TextEdit.replace(n,a),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}return e}function Ya(t,e){let n=[];if(t.reference!=null){let r=t.reference,i=e.statamicProject.getBlueprintFields(r.collectionNames);typeof i!="undefined"&&i!=null&&(n=i)}return n}function Xb(t){let e=[],n=Kb.filter(r=>!t.includes(r));for(let r=0;r<n.length;r++)e.push({label:n[r],kind:Zr.CompletionItemKind.Variable});return e}function Qb(t,e,n){let r=[],i=n.getTaxonomyTerms(e),s=i.filter(a=>!t.includes(a));for(let a=0;a<s.length;a++)r.push({label:s[a],kind:Zr.CompletionItemKind.Variable});return r}function Jb(t){let e=[],n=t.getCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:Zr.CompletionItemKind.Variable});return e}function ec(t,e){let n=[],r=e.getCollectionNames().filter(i=>!t.includes(i));for(let i=0;i<r.length;i++)n.push({label:r[i],kind:Zr.CompletionItemKind.Variable});return n}function tc(t){let e=[],n=t.getCollectionQueryScopes();for(let r=0;r<n.length;r++)e.push({label:n[r].name,detail:n[r].description,kind:Zr.CompletionItemKind.Variable});return e}function $a(t,e){if(t.isClosingTag)return e;if(t.hasMethodPart()&&t.getMethodNameValue()!="count"&&e.addVariables(Yb(t)),t.reference!=null){let n=Ya(t,e);Gb(t,e,n)}return e}var hl=Ve(bi());var nc=Ve(bt());var Cd=[{name:"is",description:"Tests if a field is equal to a value"},{name:"equals",description:"Tests if a field is equal to a value"},{name:"not",description:"Tests if a field is not equal to a value"},{name:"isnt",description:"Tests if a field is not equal to a value"},{name:"exists",description:"Tests if a field exists"},{name:"isset",description:"Tests if a field exists"},{name:"doesnt_exist",description:"Tests if a field does not exist"},{name:"is_empty",description:"Tests if a field does not exist"},{name:"null",description:"Tests if a field does not exist"},{name:"contains",description:"Tests if a field contains a value"},{name:"doesnt_contain",description:"Tests if a field does not contain a value"},{name:"in",description:"Tests if a value is in an array"},{name:"not_in",description:"Tests if an array does not contain a value"},{name:"starts_with",description:"Tests if a field starts with a value"},{name:"doesnt_start_with",description:"Tests if a field does not start with a value"},{name:"ends_with",description:"Tests if a field ends with a value"},{name:"doesnt_end_with",description:"Tests if a field does not end with a value"},{name:"gt",description:"Tests if a field is greater than a value"},{name:"lt",description:"Tests if a field is less than a value"},{name:"gte",description:"Tests if a field is greater than or equal to a value"},{name:"lte",description:"Tests if a field is less than or equal to a value"},{name:"matches",description:"Tests if a field matches a case insensitive regex"},{name:"regex",description:"Tests if a field matches a case insensitive regex"},{name:"doesnt_match",description:"Tests if a field does not match a case insensitive regex"},{name:"is_alpha",description:"Tests if a field contains only alphabetical characters"},{name:"is_numeric",description:"Tests if a field contains only numeric characters"},{name:"is_alpha_numeric",description:"Tests if a field contains only alpha-numeric characters"},{name:"is_url",description:"Tests if a field is a valid URL"},{name:"is_embeddable",description:"Tests if a field is an embeddable video URL"},{name:"is_email",description:"Tests if a field is a valid email address"},{name:"is_after",description:"Tests if a field is after a given date"},{name:"is_before",description:"Tests if a field is before a given date"}];function fs(t){let e=[],n={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position};for(let r=0;r<Cd.length;r++){let i=Cd[r],s=t.originalLeftWord+i.name+'="$1"';e.push({label:i.name,insertTextFormat:nc.InsertTextFormat.PlainText,kind:nc.CompletionItemKind.Field})}return e}var $s=Ve(Mn());var Pd=class{static clear(e){this.unclosedNodes.delete(e)}static registerNodes(e,n){this.unclosedNodes.set(e,n)}static getUnclosedTags(e,n){var a,o,l;let r=[];if(this.unclosedNodes.has(e)==!1)return r;let i=this.unclosedNodes.get(e);if(i.length==0)return r;let s=n.line+1;for(let u=0;u<i.length;u++){let f=i[u];(((a=f.endPosition)==null?void 0:a.line)==s&&n.character>f.endPosition.char||s>((l=(o=f.endPosition)==null?void 0:o.line)!=null?l:0))&&r.push(f)}return r}static hasUnclosedTags(e,n){return this.unclosedNodes.has(e)==!1?!1:this.getUnclosedTags(e,n).length>0}};Pd.unclosedNodes=new Map;function ps(t){return[{name:"edit_url",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"id",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"last_modified",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"permalink",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"published",dataType:"boolean",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"slug",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"template",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t}]}var Xn=Ve(bi()),NR=[{label:"name",kind:Xn.CompletionItemKind.Property},{label:"description",kind:Xn.CompletionItemKind.Property},{label:"desc",kind:Xn.CompletionItemKind.Property},{label:"entry",kind:Xn.CompletionItemKind.Property},{label:"collection",kind:Xn.CompletionItemKind.Property},{label:"blueprint",kind:Xn.CompletionItemKind.Property},{label:"var",kind:Xn.CompletionItemKind.Property},{label:"set",kind:Xn.CompletionItemKind.Property},{label:"param",kind:Xn.CompletionItemKind.Property},{label:"param*",kind:Xn.CompletionItemKind.Property},{label:"front",kind:Xn.CompletionItemKind.Property},{label:"format",kind:Xn.CompletionItemKind.Property}];var rc=Ve(bt()),Dj=[{label:"if",kind:rc.CompletionItemKind.Keyword},{label:"elseif",kind:rc.CompletionItemKind.Keyword},{label:"else",kind:rc.CompletionItemKind.Keyword}];var Ed=Ve(bi()),CR=Ve(bt());var Dd=Ve(bt()),ml=[];ml.push({label:"true",kind:Dd.CompletionItemKind.Keyword});ml.push({label:"false",kind:Dd.CompletionItemKind.Keyword});function et(t){return[{sourceName:"*internal.array",sourceField:null,dataType:"*",name:"value",introducedBy:t},{sourceName:"*internal.array",sourceField:null,dataType:"*",name:"key",introducedBy:t}]}var PR={name:"array",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t))}},Zb=PR;var ER={name:"bard",augmentScope:(t,e)=>{e.addVariable({name:"type",dataType:"string",sourceField:null,sourceName:"*internal.bard",introducedBy:t})},injectCompletions:(t,e,n)=>[]},eT=ER;var DR={name:"form_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t))}},tT=DR;var AR={name:"list",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t))}},nT=AR;function rT(t){return[{name:"type",dataType:"string",sourceName:"*internal.replicator",sourceField:null,introducedBy:t}]}var SR={name:"replicator",augmentScope:(t,e)=>{e.addVariables(rT(t)),e.addVariables(Xe(t))},injectCompletions:(t,e,n)=>[]},iT=SR;var IR={name:"select_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t))}},sT=IR;var xR={name:"sites_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t))}},aT=xR;var RR={name:"structures_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t))}},oT=RR;var wR={name:"table",augmentScope:(t,e)=>{e.addVariable({name:"cells",dataType:"array",sourceName:"*internal.fieldtype.table",sourceField:null,introducedBy:t})}},lT=wR;var OR={name:"tags",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t))}},uT=OR;function ic(t){return ps(t).concat([{name:"entries_count",dataType:"number",sourceName:"*internal.term",sourceField:null,introducedBy:t},{name:"is_term",dataType:"boolean",sourceName:"*internal.term",sourceField:null,introducedBy:t},{name:"taxonomy",dataType:"string",sourceName:"*internal.term",sourceField:null,introducedBy:t}])}var LR={name:"taxonomies_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t)),e.addVariables(ic(t))}},cT=LR;var FR={name:"terms_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t)),e.addVariables(ic(t))}},fT=FR;var MR={name:"user_groups_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t))}},pT=MR;var kR={name:"user_roles_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t))}},dT=kR;var qR={name:"users_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t)),e.injectBlueprint(t,"user")}},mT=qR;var BR={name:"yaml",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t))}},hT=BR;var VR=[Zb,eT,tT,nT,iT,sT,aT,oT,hT,lT,cT,uT,fT,mT,pT,dT],gT=VR;var ds=class{constructor(){this.fieldTypes=new Map}getFieldTypes(){return this.fieldTypes}getFieldType(e){return this.fieldTypes.get(e)}registerFieldtypes(e){for(let n=0;n<e.length;n++)this.fieldTypes.set(e[n].name,e[n])}loadCoreFieldtypes(){this.registerFieldtypes(gT)}hasFieldtype(e){return this.fieldTypes.has(e)}};ds.instance=null;(typeof ds.instance=="undefined"||ds.instance==null)&&(ds.instance=new ds,ds.instance.loadCoreFieldtypes());var sc=ds;function ac(t){let e="";return t.currentNode!=null&&(e=t.currentNode.getMethodNameValue()),e}function Wi(t){if(t.includes(":")==!1)return t;let e=t.split(":");return e.length>1?e[e.length-1]:e[0].trim()}function oc(t){return t.includes(":")==!1?t:t.split(":")[0]}function _T(t){var n;if(t.nodesInScope.length==0)return[];let e=t.nodesInScope[t.nodesInScope.length-1];return((n=t.context)==null?void 0:n.node)!=null&&(e=t.context.node),e.currentScope==null?[]:jR(t,e.currentScope)}function jR(t,e){let n=[];return e.values.forEach(r=>{var i;if(r.sourceField!=null?n.push({label:r.name,detail:r.sourceField.blueprintName,documentation:(i=r.sourceField.instructionText)!=null?i:"",kind:$s.CompletionItemKind.Field}):n.push(Wa(r.name,"","")),r.dataType.trim().length>0&&r.dataType=="array"){let s=r.name+` }}
    $1
{{ /`+r.name+" ",a={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position};n.push({label:r.name+" loop",insertTextFormat:$s.InsertTextFormat.Snippet,kind:$s.CompletionItemKind.Snippet,textEdit:$s.TextEdit.replace(a,s),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}),e.lists.forEach((r,i)=>{n.push(Wa(i,"",""))}),n}var yT=Ve(bi());function Ae(t){let e="";typeof t!="undefined"&&typeof t.resolveDocumentation!="undefined"&&t.resolveDocumentation!=null&&(e=t.resolveDocumentation());let n=t.tagName;if(n.includes(":")){let r=n.split(":");n=r[r.length-1]}return{label:n,kind:yT.CompletionItemKind.Text,sortText:"1",documentation:{kind:"markdown",value:e}}}var Ad=Ve(bt());function bT(t,e,n){return{name:t,acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:e,expectsTypes:["string"],isDynamic:!0,isRequired:!1,documentationLink:n,docLinkName:"MDN Reference"}}var TT=bT("class","A space-separated list of the classes of the element.","https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/class"),vT=bT("style","Contains CSS styling declarations to be applied to the element. Note that it is recommended for styles to be defined in a separate file or files.","https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/style");function lc(t){return t=="class"?TT:t=="style"?vT:{name:t,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"",expectsTypes:["string","number","array"],isRequired:!1,isDynamic:!0}}function NT(t){let e=[];for(let n=0;n<t.length;n++)e.push({label:t[n],kind:Ad.CompletionItemKind.Field});return re(e)}function gt(t){let e=[];for(let n=0;n<t.length;n++)e.push({label:t[n],kind:Ad.CompletionItemKind.Field});return re(e)}function re(t){return{items:t,isExclusiveResult:!0,analyzeDefaults:!1}}function _n(t){return{items:t,isExclusiveResult:!1,analyzeDefaults:!0}}var ve={items:[],isExclusiveResult:!1,analyzeDefaults:!0};function it(t,e){let n=UR(t);return n.tagName=e,n}function UR(t){return{allowsArbitraryParameters:t.allowsArbitraryParameters,allowsContentClose:t.allowsContentClose,injectParentScope:t.injectParentScope,parameters:t.parameters,requiresClose:t.requiresClose,tagName:t.tagName,introducedIn:t.introducedIn,hideFromCompletions:t.hideFromCompletions,augmentScope:t.augmentScope,requiresCloseResolver:t.requiresCloseResolver,resolveCompletionItems:t.resolveCompletionItems,resolveDynamicParameter:t.resolveDynamicParameter,resolveSpecialType:t.resolveSpecialType,resovleParameterCompletionItems:t.resovleParameterCompletionItems,suggestAlternativeParams:t.suggestAlternativeParams,resolveDocumentation:t.resolveDocumentation}}function CT(t){return t.findParameterValueOrNull("scope")}function PT(t){t.getAllNodes().forEach(n=>{n instanceof Z&&n.manifestType==="array"&&(n.mustClose=!0)})}function WR(t){return t.findParameterValueOrNull("as")}var GR=["count","next","previous"];function YR(t,e){let n=[];if(t.hasMethodPart()){let o=t.getMethodNameValue();if(GR.includes(o)==!1)return n.push(o),n}let r=t.findAnyParameter($b),i=t.findAnyParameter(Hb),s=[],a=[];return typeof r!="undefined"&&r!==null&&(r.value.trim()==="*"?(s=e.getUniqueCollectionNames(),typeof i!="undefined"&&i!==null&&i.isVariableReference==!1&&i.hasInterpolations()==!1&&(a=i.getArrayValue())):r.isVariableReference==!1&&r.hasInterpolations()==!1&&(s=r.getArrayValue())),a.length>0?n=s.filter(function(o){return a.includes(o)==!1}):n=s,n}function ms(t,e){var u,f,c,m,g,d;let n=YR(t,e),r=!1,i=!1,s=!1,a=null,o="";if(t.isClosingTag==!1){let p=WR(t),h=CT(t);p!=null&&(r=!0,o=p),h!=null&&(s=!0,a=h),i=t.hasParameter("paginate")}return{context:{collectionNames:n!=null?n:[],endPosition:(f=(u=t.endPosition)==null?void 0:u.char)!=null?f:0,aliasName:o,isAliased:r,isScoped:s,scopeName:a,isStartOfScope:!t.isClosingTag,line:(m=(c=t.startPosition)==null?void 0:c.line)!=null?m:0,startPosition:(d=(g=t.startPosition)==null?void 0:g.char)!=null?d:0,isPaginated:i,excludeCollections:[],includeCollections:[]},issues:[]}}function Ha(t,e){if(t==null)return null;let n=Ui(e,":");return n.includes(":")&&(n=n.split(":")[0]),n=="status"||n=="taxonomy"||t.currentScope!=null&&t.currentScope.containsReference(n)?lc(e):null}var $R=["from","folder","use","not_from","not_folder"],HR=["previous","next"],KR=["in","collection"];function hs(t,e){var n,r,i,s,a,o,l,u,f,c;if(t.isDynamic){let m=oc(t.name);if(e.nodesInScope.length>0){let g=e.nodesInScope[e.nodesInScope.length-1];if(g!=null&&g.currentScope!=null){let d=Ya(g,g.currentScope),p=d.map(y=>y.name),h=Wi(e.leftWord);if(p.includes(h))return re(fs(e))}}if(m=="status"&&((n=e.context)==null?void 0:n.parameterContext)!=null)return re(Xb((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[]));if(m=="taxonomy"){let g=Wi(t.name);if(e.project.hasTaxonomy(g)&&((s=e.context)==null?void 0:s.parameterContext)!=null)return re(Qb((o=(a=e.context.parameterContext.parameter)==null?void 0:a.getArrayValue())!=null?o:[],g,e.project))}}if(t.name=="filter"||t.name=="query_scope")return re(tc(e.project));if(e.nodesInScope.length>0){let m=e.nodesInScope[e.nodesInScope.length-1];if(m.hasMethodPart()&&HR.includes(m.getMethodNameValue())&&KR.includes(t.name))return re(Jb(e.project))}return $R.includes(t.name)&&((l=e.context)==null?void 0:l.parameterContext)!=null?re(ec((c=(f=(u=e.context)==null?void 0:u.parameterContext.parameter)==null?void 0:f.getArrayValue())!=null?c:[],e.project)):null}var zR={tagName:"collection:previous",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...cs,{name:"in",aliases:["collection"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The collection to search in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"current",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets the current entry by ID",expectsTypes:["string"],isDynamic:!1,isRequired:!1}],augmentScope:$a,resolveDynamicParameter:Ha,resolveSpecialType:ms,suggestAlternativeParams:Ga,resovleParameterCompletionItems:hs,resolveCompletionItems:Ka,resolveDocumentation:t=>Ue("collection:previous Tag","The `collection:previous` tag is used to show the entries that appear before the current entry, based on some entry order (publish date, alphabetical, or manual).",`{{# Retrieve the previous two entries, based on dates in ascending order. #}}
{{ collection:previous in="articles" limit="2" sort="date:asc" }}

{{ /collection:previous }}`,"https://statamic.dev/tags/collection-previous")},Hs=zR;var uc=it(Hs,"collection:older"),cc=it(Hs,"collection:newer");var XR={tagName:"collection:count",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...cs,{isRequired:!0,name:"in",aliases:["from"],description:"The collection from which to count entries",acceptsVariableInterpolation:!0,allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1}],resolveSpecialType:ms,resovleParameterCompletionItems:hs,resolveDocumentation:t=>Ue("collection:count Tag","The `collection:count` tag returns the total number of entries in the specified collection(s). The collection count tag accepts the same parameters as the collection tag, allowing developers to count entries that meet specific conditions.",`Total entry count: {{ collection:count in="collection-name" }}
Draft count: {{ collection:count in="collection-name" status:in="draft" }}`,"https://statamic.dev/tags/collection-count")},fc=XR;var QR={tagName:"collection:next",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...cs,{name:"in",aliases:["collection"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The collection to search in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"current",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets the current entry by ID",expectsTypes:["string"],isDynamic:!1,isRequired:!1}],augmentScope:$a,resolveDynamicParameter:Ha,resolveSpecialType:ms,suggestAlternativeParams:Ga,resovleParameterCompletionItems:hs,resolveCompletionItems:Ka,resolveDocumentation:t=>Ue("collection:next Tag","The `collection:next` tag is used to show the entries that will appear after the current entry, based on some entry order (publish date, alphabetical, or manual).",`{{# Retrieve the next two entries, based on dates in ascending order. #}}
{{ collection:next in="articles" limit="2" sort="date:asc" }}

{{ /collection:next }}`,"https://statamic.dev/tags/collection-next")},pc=QR;function Ka(t){var n,r;let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="collection"||t.leftWord=="/collection")&&t.leftChar==":"){let i=t.project.getCollectionNames();for(let s=0;s<i.length;s++)e.push({label:i[s],kind:hl.CompletionItemKind.Field,sortText:"0"});return e.push(Ae(fc)),e.push(Ae(pc)),e.push(Ae(Hs)),e.push(Ae(uc)),e.push(Ae(cc)),{items:e,analyzeDefaults:!1,isExclusiveResult:!1}}if(t.currentNode!=null&&t.currentNode.currentScope!=null){let i=Ya(t.currentNode,t.currentNode.currentScope),s=i.map(o=>o.name),a=Wi(t.leftWord);if(a==="taxonomy")return re(zb(t));if(s.includes(a))return e=fs(t),re(e);if(t.isCaretInTag&&!((n=t.context)==null?void 0:n.isInParameter)&&["collection","/collection"].includes(t.leftWord)==!1&&t.leftChar!=" "){let o=[];for(let l=0;l<i.length;l++){let u=i[l];o.includes(u.name)==!1&&(e.push({label:u.name,detail:u.blueprintName,documentation:(r=u.instructionText)!=null?r:"",kind:hl.CompletionItemKind.Field}),o.push(u.name))}if(e.push({label:"taxonomy",insertText:"taxonomy:",kind:hl.CompletionItemKind.Field}),e.push({label:"status",insertText:"status:",kind:hl.CompletionItemKind.Field}),e.length>0)return _n(e)}}return ve}var JR={tagName:"collection",hideFromCompletions:!1,introducedIn:null,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:cs,augmentScope:$a,resolveDynamicParameter:Ha,resolveSpecialType:ms,suggestAlternativeParams:Ga,resovleParameterCompletionItems:hs,resolveCompletionItems:Ka,resolveDocumentation:t=>Ue("collection Tag","The `collection` tag provides access to entry data such as blog posts, products, etc.",`{{ collection:articles as="posts" }}

	{{ posts }}
		{{ title }}
	{{ /posts }}

{{ /collection:articles }}`,"https://statamic.dev/tags/collection")},ET=JR;var ZR={tagName:"cache",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,allowsContentClose:!1,allowsArbitraryParameters:!1,resovleParameterCompletionItems:(t,e)=>t.name=="scope"?gt(["page","site"]):null,parameters:[{isRequired:!1,name:"for",description:"The duration the cache is valid for",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"key",description:"An arbitrary name the cache entry may be referenced by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"scope",description:" The scope of the cached value. Either site or page.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1}],resolveSpecialType:(t,e)=>{let n=t.findParameter("key"),r=null;if(n!=null){let i=n.value;i.trim().length>0&&(r={key:i,reference:t})}return{context:r,issues:[]}},resolveDocumentation:t=>Ue("cache Tag","The `cache` tag can be used to save the results of an expensive template operation. The duration of the cache can be configured.",`{{ cache for="10 minutes" }}
    {{# Template code that won't be re-rendered for at least 10 minutes. #}}
{{ /cache }}`,"https://statamic.dev/tags/cache")},DT=ZR;var ew={tagName:"dump",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.leftWord=="dump"&&t.leftChar==":"?re(_T(t)):ve,resolveDocumentation:t=>Ue("dump Tag","The `dump` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered.",`{{ collection:articles }}
	{{# View all data available, for each entry. #}}
    {{ dump }}
{{ /collection:articles }}`,"https://statamic.dev/tags/dump")},AT=ew;var tw={tagName:"404",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Ue("404 (Not Found) Tag","The `404` (Not Found) tag will trigger a 404 status code, and display the 404 template to the site visitor.",`{{ unless logged_in }}
	{{# Display the 404 Not Found page. #}}
	{{ 404 }}
{{ /unless }}`,"https://statamic.dev/tags/404")},ST=tw;var nw={tagName:"link",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"to",description:"The relative path",expectsTypes:["string"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!0,isDynamic:!1},{name:"absolute",description:"Whether to generate absolute URLs. Default false",expectsTypes:["boolean"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1},{name:"id",description:"The ID of the entry to link to",expectsTypes:["string"],allowsVariableReference:!0,acceptsVariableInterpolation:!0,aliases:[],isDynamic:!1,isRequired:!1},{name:"in",description:"The handle of the site to link to.",expectsTypes:["string"],allowsVariableReference:!0,acceptsVariableInterpolation:!0,aliases:[],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>q("link Tag","The `link` tag accepts relative URLs or entry IDs and generates fully-qualified URLs to the desired content.","https://statamic.dev/tags/link")},IT=nw;var xT={tagName:"loop",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,augmentScope:(t,e)=>(e.addVariable({name:"value",dataType:"*",sourceName:"*internal.loop.value",sourceField:null,introducedBy:t}),e),parameters:[{name:"times",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The number of iterations",isRequired:!1,isDynamic:!1},{name:"from",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to start iterating from. Default 1",isRequired:!1,isDynamic:!1},{name:"to",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to stop iterating at",isRequired:!1,isDynamic:!1}],resolveDocumentation:t=>q("loop Tag","The `loop` tag is used to create an array of items between two values, and then iterate the created array. Alternatively, a max value can be set using the `times` parameter to loop that number of times.","https://statamic.dev/tags/loop")},RT={tagName:"range",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,augmentScope:(t,e)=>(e.addVariable({name:"value",dataType:"*",sourceName:"*internal.loop.value",sourceField:null,introducedBy:t}),e),parameters:[{name:"times",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The number of iterations",isRequired:!1,isDynamic:!1},{name:"from",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to start iterating from. Default 1",isRequired:!1,isDynamic:!1},{name:"to",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to stop iterating at",isRequired:!1,isDynamic:!1}],resolveDocumentation:t=>q("range Tag","The `range` tag is used to create an array of items between two values, and then iterate the created array. Alternatively, a max value can be set using the `times` parameter to loop that number of times.","https://statamic.dev/tags/loop")};var Ti=Ve(bi());var Ks=class{constructor(){this.loadedDocuments=new Map;this.activeProject=null}getDocuments(){let e=[];return this.loadedDocuments.forEach(n=>{e.push(n)}),e}setProject(e){this.activeProject=e,this.loadedDocuments.forEach(n=>{this.activeProject!=null&&n.updateProject(this.activeProject)})}refreshDocumentState(){this.activeProject!=null&&this.setProject(this.activeProject)}hasDocument(e){return this.loadedDocuments.has(e)}createDocument(e){if(!this.loadedDocuments.has(e)){let n=new gs;n.documentUri=e,this.loadedDocuments.set(e,n)}}loadDocument(e,n){this.loadedDocuments.set(e,gs.fromText(n))}getDocument(e){return this.loadedDocuments.get(e)}updateDocument(e,n){this.loadedDocuments.has(e)&&this.loadedDocuments.get(e).loadString(n)}createOrUpdate(e,n){this.createDocument(e),this.updateDocument(e,n)}getDocumentErrors(e){return this.loadedDocuments.has(e)?this.loadedDocuments.get(e).errors.all():[]}};Ks.instance=null;(typeof Ks.instance=="undefined"||Ks.instance)&&(Ks.instance=new Ks);var wT=Ks;var Sd=new wT;function He(t,e){return e.trim().length>0?lc(e):null}var za=[{isRequired:!1,name:"src",description:"The name of the partial view",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],isDynamic:!1}];var gl=Ve(bi());function Xa(t,e){var n;if(t.isDynamic&&e.currentNode!=null&&e.currentNode.getTagName()=="partial"&&e.currentNode.hasMethodPart()){let r=e.currentNode.getMethodNameValue();if(r.trim().length>0&&((n=li.instance)==null?void 0:n.hasStructure())){let i=li.instance.getStructure().findRelativeView(r);if(i!=null&&i.varReferenceNames.has(t.name)){let s=i.varReferenceNames.get(t.name);if(e.antlersDocument.hasFrontMatter()){let a=e.antlersDocument.getFrontMatterScope();if(a!=null)return NT(a.getVariableNames())}}}}if(t.name=="src"){let r=e.project.getViews(),i=[];return r.forEach(s=>{if(ui.hasDetails(s.documentUri)){let a=ui.documentDetails.get(s.documentUri);i.push({label:a.documentName+"("+s.relativeDisplayName+")",insertText:s.relativeDisplayName,detail:a.documentName,documentation:{kind:gl.MarkupKind.Markdown,value:a.documentDescription},kind:gl.CompletionItemKind.File})}else i.push({label:s.relativeDisplayName,kind:gl.CompletionItemKind.File})}),re(i)}return null}var rw={tagName:"partial:exists",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,parameters:za,introducedIn:"3.2.7",resovleParameterCompletionItems:Xa,resolveDocumentation:t=>q("partial:exists Tag","The `partial:exists` can be used within conditional statements to test if a partial exists.","https://statamic.dev/tags/partial-exists")},dc=rw;var iw={tagName:"partial:if_exists",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,parameters:za,introducedIn:"3.2.7",resovleParameterCompletionItems:Xa,resolveDocumentation:t=>q("partial:if_exists Tag","The `partial:if_exists` can be used to output the contents of a partial if it exists.","https://statamic.dev/tags/partial-if-exists")},mc=iw;var sw=[Ae(dc),Ae(mc)],aw={tagName:"partial",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!0,parameters:za,requiresClose:!1,allowsContentClose:!0,introducedIn:null,resolveDocumentation:t=>`**Partial Tag**  
Includes another view into the current template.  

[Documentation Reference](https://statamic.dev/tags/partial)
`,resolveDynamicParameter:He,resovleParameterCompletionItems:Xa,resolveCompletionItems:t=>{let e=[];if(t.leftChar=='"'&&t.leftWord==':src="')return{items:[],analyzeDefaults:!0,isExclusiveResult:!1};if((t.leftWord=="partial"||t.leftWord=="/partial")&&t.leftChar==":"||t.leftWord=='src="'&&t.leftChar=='"')return t.project.getViews().forEach(r=>{let i=decodeURIComponent(r.documentUri);if(ui.hasDetails(i)){let s=ui.documentDetails.get(i);e.push({label:s.documentName+"("+r.relativeDisplayName+")",insertText:r.relativeDisplayName,detail:s.documentName,documentation:{kind:Ti.MarkupKind.Markdown,value:s.documentDescription},kind:Ti.CompletionItemKind.File})}else e.push({label:r.relativeDisplayName,kind:Ti.CompletionItemKind.File})}),t.leftWord!='src="'&&(e=e.concat(sw)),{analyzeDefaults:!1,isExclusiveResult:!0,items:e};if(t.currentNode!=null&&t.project!=null){let n=ow(t.currentNode);if(n!=null&&n.trim().length>0){let r=t.project.findRelativeView(n);if(r!=null&&Sd.hasDocument(r.documentUri)){let i=Sd.getDocument(r.documentUri);if(i!=null){let s=i.getAllAntlersNodes(),a=lw(s),o=[];if(r.varReferenceNames!=null&&r.varReferenceNames.forEach((l,u)=>{a.push(u)}),a.length>0){let l=[],u={start:{line:t.position.line,character:t.position.character-0},end:t.position};return a.forEach(f=>{let c=f+'="$1"';o.includes(f)||(o.push(f),l.push({label:f,kind:Ti.CompletionItemKind.Value,insertTextFormat:Ti.InsertTextFormat.Snippet,textEdit:Ti.TextEdit.replace(u,c),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}))}),_n(l)}}}}}return{analyzeDefaults:!0,isExclusiveResult:!1,items:[]}}};function ow(t){if(t.getTagName()!="partial")return null;let e="";if(t.hasMethodPart())e=t.getMethodNameValue();else{let n=t.findParameter("src");n!=null&&(e=n.value)}return e}function lw(t){let e=[];return t.forEach(n=>{if(n.isTagNode||n.isClosingTag||n.isComment||n.hasMethodPart()&&n.getMethodNameValue().length>0||n.name!=null&&n.name.content.includes("["))return;let r=n.getTagName();!e.includes(r)&&r!="#"&&r!="slot"&&e.push(r)}),e}var OT=aw;var uw={tagName:"increment:reset",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:"3.2.28",parameters:[{isRequired:!0,name:"counter",aliases:[],description:"The incrementing counter to reset",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"to",aliases:[],description:"An optional value to reset the counter to before incrementing starts again",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resolveDocumentation:t=>Ue("increment:reset Tag","The `increment:reset` tag can be used to reset the value of an incrementing counter.",`{{ array_variable }}
    {{ increment:counter_name }}
{{ /array_variable }}

{{ increment:reset counter="counter_name" }}
`,null)},hc=uw;var cw=[Ae(hc)],fw={tagName:"increment",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[{isRequired:!1,name:"from",aliases:[],description:"The number to start incrementing by",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"by",aliases:[],description:"The number to increment by",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resolveCompletionItems:t=>t.leftWord=="increment"||t.leftWord=="/increment"&&t.leftChar==":"?re(cw):ve,resolveDocumentation:t=>q("increment Tag","The `increment` tag can be used to increment a value each time the tag is encountered.","https://statamic.dev/tags/increment")},LT=fw;var Id=class{constructor(e){this.node=e}},FT={tagName:"yields",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,parameters:[],introducedIn:null,requiresClose:!1,resolveSpecialType:(t,e)=>({context:new Id(t),issues:[]})},MT={tagName:"yield",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,parameters:[],introducedIn:null,requiresClose:!1,resolveSpecialType:(t,e)=>({context:new Id(t),issues:[]}),resolveDocumentation:t=>q("yield Tag","The `yield` tag may be used to push rendered content to named regions within a template's structure.","https://statamic.dev/tags/yield")};var gc=Ve(bt());var kT=[{handle:"access cp"},{handle:"configure collections"},{handle:"[view edit create delete publish reorder] {collection} entries"},{handle:"configure structures"},{handle:"[view edit] {structure} structure"},{handle:"edit {global} globals"},{handle:"[view upload edit move rename delete] {container} assets"},{handle:"[view perform] updates"},{handle:"[view edit create delete] users"},{handle:"change passwords"},{handle:"edit roles"},{handle:"configure forms"},{handle:"[view delete] {form} submissions"}];var _s=class{constructor(){this.contextItems=new Map;this.triggerNames=[];this.collectionTriggers=[];this.collectionTriggerCaps=[];this.globalTriggers=[];this.globalTriggerCaps=[];this.formTriggers=[];this.formTriggerCaps=[];this.structureTriggers=[];this.structureTriggerCaps=[];this.assetTriggers=[];this.assetTriggerCaps=[]}getCollectionTriggerCaps(){return this.collectionTriggerCaps}getGlobalTriggerCaps(){return this.globalTriggerCaps}getFormTriggerCaps(){return this.formTriggerCaps}getStructureTriggerCaps(){return this.structureTriggerCaps}getAssetTriggerCaps(){return this.assetTriggerCaps}loadCorePermissions(){this.registerPermissions(kT)}getTriggerNames(){return this.triggerNames}isCollectionTrigger(e){return this.collectionTriggers.includes(e)}isGlobalTrigger(e){return this.globalTriggers.includes(e)}isFormTrigger(e){return this.formTriggers.includes(e)}isStructureTrigger(e){return this.structureTriggers.includes(e)}isAssetTrigger(e){return this.assetTriggers.includes(e)}getTriggerContextItems(e){return this.contextItems.has(e)?this.contextItems.get(e):[]}registerSpecialTrigger(e,n,r){n=="{collection}"?(this.collectionTriggerCaps.includes(r)==!1&&this.collectionTriggerCaps.push(r),this.collectionTriggers.includes(e)==!1&&this.collectionTriggers.push(e)):n=="{structure}"?(this.structureTriggerCaps.includes(r)==!1&&this.structureTriggerCaps.push(r),this.structureTriggers.includes(e)==!1&&this.structureTriggers.push(e)):n=="{container}"?(this.assetTriggerCaps.includes(r)==!1&&this.assetTriggerCaps.push(r),this.assetTriggers.includes(e)==!1&&this.assetTriggers.push(e)):n=="{global}"?(this.globalTriggerCaps.includes(r)==!1&&this.globalTriggerCaps.push(r),this.globalTriggers.includes(e)==!1&&this.globalTriggers.push(e)):n=="{form}"&&(this.formTriggerCaps.includes(r)==!1&&this.formTriggerCaps.push(r),this.formTriggers.includes(e)==!1&&this.formTriggers.push(e))}addContextToTrigger(e,n){var r;this.triggerNames.includes(e)==!1&&this.triggerNames.push(e),this.contextItems.has(e)==!1?this.contextItems.set(e,[n]):(r=this.contextItems.get(e))==null||r.push(n)}registerPermissions(e){for(let n=0;n<e.length;n++){let r=e[n],i=[],s="",a="";if(r.handle.includes("[")&&r.handle.includes("]")){let o=r.handle.indexOf("["),l=r.handle.indexOf("]"),u=l-o,f=r.handle.substr(o+1,u-1).split(" ").filter(m=>m.trim().length>0),c=r.handle.substr(l+1).split(" ").filter(m=>m.trim().length>0);i=f,c.length==2?(s=c[0],a=c[1]):c.length==1&&(s="",a=c[0])}else{let o=r.handle.split(" ").filter(l=>l.trim().length>0);o.length==2&&(i=[o[0]],a=o[1])}for(let o=0;o<i.length;o++){let l=i[o];s.trim().length>0?this.registerSpecialTrigger(l,s,a):this.addContextToTrigger(l,a)}}}};_s.instance=null;(typeof _s.instance=="undefined"||_s.instance==null)&&(_s.instance=new _s,_s.instance.loadCorePermissions());var Qn=_s;function qT(t,e){var r,i,s,a,o,l,u,f,c,m,g,d,p,h,y,_,b,N,w;let n=[];if(t.trim().length==0){let le=(i=(r=Qn.instance)==null?void 0:r.getTriggerNames())!=null?i:[];for(let $=0;$<le.length;$++)n.push({label:le[$],kind:gc.CompletionItemKind.Value})}else{let le=t.split(" ").filter(se=>se.trim().length>0),$=le[0],j=(a=(s=Qn.instance)==null?void 0:s.getTriggerContextItems($))!=null?a:[],X=(o=Qn.instance)==null?void 0:o.isCollectionTrigger($),J=(l=Qn.instance)==null?void 0:l.isGlobalTrigger($),be=(u=Qn.instance)==null?void 0:u.isFormTrigger($),we=(f=Qn.instance)==null?void 0:f.isStructureTrigger($),Le=(c=Qn.instance)==null?void 0:c.isAssetTrigger($),qe=[];if(le.length<=2){X?qe=qe.concat(e.project.getUniqueCollectionNames()):J?qe=qe.concat(e.project.getUniqueGlobalsNames()):be?qe=qe.concat(e.project.getUniqueFormNames()):we?qe=qe.concat(e.project.getUniqueNavigationMenuNames()):Le&&(qe=qe.concat(e.project.getUniqueAssetNames())),j.length>0&&(qe=qe.concat(j)),qe=[...new Set(qe)];for(let se=0;se<qe.length;se++)n.push({label:qe[se],kind:gc.CompletionItemKind.Value})}else{let se=[];X?se=se.concat((g=(m=Qn.instance)==null?void 0:m.getCollectionTriggerCaps())!=null?g:[]):J?se=se.concat((p=(d=Qn.instance)==null?void 0:d.getGlobalTriggerCaps())!=null?p:[]):be?se=se.concat((y=(h=Qn.instance)==null?void 0:h.getFormTriggerCaps())!=null?y:[]):we?se=se.concat((b=(_=Qn.instance)==null?void 0:_.getStructureTriggerCaps())!=null?b:[]):Le&&(se=se.concat((w=(N=Qn.instance)==null?void 0:N.getAssetTriggerCaps())!=null?w:[])),se=[...new Set(se)];for(let Pe=0;Pe<se.length;Pe++)n.push({label:se[Pe],kind:gc.CompletionItemKind.Value})}}return n}function _c(t,e){var r,i,s,a;let n=oc(t.name);return((r=e.context)==null?void 0:r.parameterContext)!=null&&["do","permission"].includes(n)?re(qT((a=(s=(i=e.context)==null?void 0:i.parameterContext.parameter)==null?void 0:s.value)!=null?a:"",e)):null}var pw={tagName:"user:can",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,resovleParameterCompletionItems:_c,parameters:[{name:"do",acceptsVariableInterpolation:!1,aliases:["permission"],allowsVariableReference:!1,description:"The permissions to check against",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resolveDocumentation:t=>q("user:can Tag","The `user:can` tag is used to check if the currently authenticated user has a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user has the specified permissions.","https://statamic.dev/tags/user-can")},Qa=pw;var dw={tagName:"user:logout",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"redirect",description:"An optional URL to redirect the user after being logged out",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>q("user:logout Tag","The `user:logout` tag will sign out the currently authenticated user. An optional `redirect` parameter may be used to redirect the visitor to a different page after being logged out.","https://statamic.dev/tags/user-logout")},Ja=dw;var mw={tagName:"user:logout_url",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"redirect",description:"An optional URL to redirect the user after being logged out",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>Ue("user:logout_url","The `user:logout_url` tag can be used to retrieve the URL that will sign the current user out.",'<a href="{{ user:logout_url }}">Log out</a>',"https://statamic.dev/tags/user-logout_url")},Za=mw;var BT={tagName:"switch",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"between",description:"A set of values to iterate over",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string","array"]},{name:"for",description:"A unique name for the switch instance",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>q("switch Tag","The `switch` tag can be used to alternate between a set of values each time the tag is evaluated.","https://statamic.dev/tags/switch")},VT={tagName:"rotate",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,introducedIn:null,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[{name:"between",description:"A set of values to iterate over",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string","array"]},{name:"for",description:"A unique name for the switch instance",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>q("rotate Tag","The `rotate` tag can be used to alternate between a set of values each time the tag is evaluated.","https://statamic.dev/tags/switch")};var hw={tagName:"oauth",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"provider",description:"The OAuth provider to be used",aliases:[],isRequired:!0,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]},{name:"redirect",description:"The URL to be taken to after authenticating",aliases:[],isRequired:!0,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resovleParameterCompletionItems:(t,e)=>t.name=="provider"?gt(e.project.getOAuthProviders()):null,resolveDocumentation:t=>Ue("oauth Tag","The `oauth` tag can be used to generate login URls for various third-party services.",'<a href="{{ oauth provider="github" }}">Sign In with Github</a>',"https://statamic.dev/tags/oauth")},jT=hw;var gw={tagName:"session:dump",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>q("session:dump Tag","The `session:dump` tag will display the contents of the user's session to the browser. This tag behaves similarly to the `dd` helper functions, but returns just the session data.","https://statamic.dev/tags/session-dump")},yc=gw;var _l=class{constructor(e){this.node=e}};var _w={tagName:"session:set",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!0,parameters:[],introducedIn:null,resolveDynamicParameter:He,resolveSpecialType:(t,e)=>({context:new _l(t),issues:[]}),resolveDocumentation:t=>q("session:set Tag","The `session:set` tag is used to add new data to the user's session.","https://statamic.dev/tags/session-set")},bc=_w;var zs=class{constructor(){this.knownVariables=new Map}registerDocumentSessionVariables(e,n){this.knownVariables.has(e)||this.knownVariables.set(e,new Map);let r=this.knownVariables.get(e);r.clear();for(let i=0;i<n.length;i++){let s=n[i].node;if(s.hasParameters)for(let a=0;a<s.parameters.length;a++){let o=s.parameters[a];r.set(o.name,n[i])}}}getKnownSessionVariableNames(){let e=[];return this.knownVariables.forEach(n=>{n.forEach((r,i)=>{e.includes(i)==!1&&e.push(i)})}),e}};zs.instance=null;(typeof zs.instance=="undefined"||zs.instance==null)&&(zs.instance=new zs);var yl=zs;var UT=Ve(bt());function WT(t,e){let n=[],r=t.getArrayValue(),i=e.filter(s=>!r.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:UT.CompletionItemKind.Variable});return re(n)}var yw={tagName:"session:forget",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"keys",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The session keys to clear",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;if(t.name=="keys"&&((n=e.context)==null?void 0:n.parameterContext)!=null){let s=(i=(r=yl.instance)==null?void 0:r.getKnownSessionVariableNames())!=null?i:[];if(e.context.parameterContext.parameter!=null)return WT(e.context.parameterContext.parameter,s)}return null},resolveDocumentation:t=>q("session:forget Tag","The `session:forget` tag is used to remove variables from the user's session.","https://statamic.dev/tags/session-forget")},Tc=yw;var bw={tagName:"session:flush",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>q("session:flush Tag","The `session:flush` tag will clear all values from the visitor's session. If the visitor is currently signed in they will also be signed out.","https://statamic.dev/tags/session-flush")},vc=bw;var Tw={tagName:"session:flash",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDynamicParameter:He,resolveSpecialType:(t,e)=>({context:new _l(t),issues:[]}),resolveDocumentation:t=>q("session:flash Tag","The `session:flash` tag can be used to add a value to the user's session. Flashed values only persist for a single request, and are then removed.","https://statamic.dev/tags/session-flash")},Nc=Tw;var vw={tagName:"markdown:indent",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>q("markdown:indent Tag","The `markdown:indent` tag is similar to the markdown tag, but will ignore leading whitepsace while rendering the tag's content as markdown.","https://statamic.dev/tags/markdown-indent")},Cc=vw;var Nw=[Ae(Cc)],Cw={tagName:"markdown",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="markdown"||t.leftWord=="/markdown")&&t.leftChar==":"?re(Nw):ve,resolveDocumentation:t=>q("markdown Tag","The `markdown` tag can be used to render the tags contents as markdown.","https://statamic.dev/tags/markdown")},GT=Cw;var YT=Ve(bi());function Pc(t,e){let n=[],r=e;if(t.trim().length>0&&t.includes(".")&&t.endsWith(".")){let i=t.substr(0,t.length-1);r=r.filter(s=>s.startsWith(i))}for(let i=0;i<r.length;i++){let s=r[i],a=!0;t.includes(".")&&(s.startsWith(t)==!1?a=!1:s=s.substr(t.length)),a&&n.push({label:s,insertText:s,kind:YT.CompletionItemKind.Text})}return n}function $T(t,e){return Pc(t,e.getRouteNames())}var Pw={tagName:"route",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDynamicParameter:He,resolveCompletionItems:t=>{if(t.leftMeaningfulWord=="route"){let e=ac(t);return re($T(e,t.project))}return ve},resolveDocumentation:t=>q("route Tag","The `route` tag can be used to generate a full URL [to a named route](https://laravel.com/docs/8.x/routing#named-routes), including any defined route parameters.","https://statamic.dev/tags/route")},HT=Pw;var Ec=Ve(bt()),KT=[{label:"301 Permanent",insertText:"301",kind:Ec.CompletionItemKind.EnumMember},{label:"302 Temporary",insertText:"302",kind:Ec.CompletionItemKind.EnumMember},{label:"404 Not Found",insertText:"404",kind:Ec.CompletionItemKind.EnumMember}];var Ew={tagName:"redirect",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"to",description:"The destination URL",aliases:["url"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!0},{name:"response",description:"The HTTP response code to use",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1}],resovleParameterCompletionItems:t=>t.name=="response"?re(KT):ve,resolveDocumentation:t=>q("redirect Tag","The `redirect` tag can be used to redirect the site visitor to a URL or named route. An optional HTTP status code can also be specified on the response using the `response` parameter.","https://statamic.dev/tags/redirect")},zT=Ew;var QT=Ve(bt());var Xs=class{constructor(){this.knownSections=new Map}registerDocumentSections(e,n){this.knownSections.has(e)||this.knownSections.set(e,new Map);let r=this.knownSections.get(e);r.clear();for(let i=0;i<n.length;i++){let s=n[i];s.node.hasMethodPart()&&r.set(s.node.getMethodNameValue(),s)}}getKnownSectionNames(){let e=[];return this.knownSections.forEach(n=>{n.forEach((r,i)=>{e.includes(i)==!1&&e.push(i)})}),e}};Xs.instance=null;(typeof Xs.instance=="undefined"||Xs.instance==null)&&(Xs.instance=new Xs);var XT=Xs;var Dw={tagName:"section",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>{var e,n;if((t.leftWord=="section"||t.leftWord=="/section")&&t.leftChar==":"){let r=[],i=(n=(e=XT.instance)==null?void 0:e.getKnownSectionNames())!=null?n:[];for(let s=0;s<i.length;s++)r.push({label:i[s],kind:QT.CompletionItemKind.Field});return _n(r)}return ve},resolveDocumentation:t=>q("section Tag","The `section` tag is used to push content to a named region defined by the `yield` tag.","https://statamic.dev/tags/section")},JT=Dw;var Aw={tagName:"obfuscate",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>q("obfuscate Tag","The `obfuscate` tag converts the tags's content into a format that is difficult for bots to read, but can easily be viewed by users within their browser.","https://statamic.dev/tags/obfuscate")},ZT=Aw;var Sw={tagName:"parent",hideFromCompletions:!1,requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!1,injectParentScope:!0,introducedIn:null,parameters:[],resolveDocumentation:t=>q("parent Tag","The `parent` tag provides access to data from the current page's parent (the URL one level above the current page).","https://statamic.dev/tags/parent")},e0=Sw;function xd(t,e){return Pc(t,e.getTranslationKeys())}var Iw=["translate","trans","trans_choice"],Dc={tagName:"translate",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,introducedIn:null,allowsArbitraryParameters:!0,parameters:[{isRequired:!1,name:"key",description:"The key of the translation string to find",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"locale",description:"The locale to be used when translating",acceptsVariableInterpolation:!1,aliases:["site"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"count",description:"The number of items to use for pluralization",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n;if(t.name=="key"){let r="";return((n=e.context)==null?void 0:n.parameterContext)!=null&&e.context.parameterContext.parameter!=null&&(r=e.context.parameterContext.parameter.value),re(xd(r,e.project))}return ve},resolveDynamicParameter:He,resolveCompletionItems:t=>{if(t.leftMeaningfulWord!=null&&Iw.includes(t.leftMeaningfulWord)){let e=ac(t);return re(xd(e,t.project))}return ve},resolveDocumentation:t=>q("trans Tag","The `trans` tag can be used to retrieve a string for the current locale's language file.","https://statamic.dev/tags/trans")},t0=it(Dc,"trans"),Rd=it(Dc,"trans_choice");Rd.resolveDocumentation=t=>q("trans_choice Tag","The `trans_choice` tag can be used to retrieve a pluralized string for the current locale's language file.","https://statamic.dev/tags/trans#pluralization");var xw={tagName:"svg",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,introducedIn:null,parameters:[{isRequired:!1,name:"src",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The SVG filename relative to the project root",expectsTypes:["string"],isDynamic:!1}],resolveDynamicParameter:He,resolveDocumentation:t=>q("svg Tag","The `svg` tag can be used to render inline SVGs, as well as set attributes on the rendered `<svg>` element.","https://statamic.dev/tags/svg")},n0=xw;function Ac(t){return[{name:"basename",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"extension",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"filename",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"focus",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"focus_css",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"height",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_asset",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_image",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"path",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_bytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_gigabytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_kilobytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_megabytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"width",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t}]}var Rw={tagName:"asset",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The path to the file",expectsTypes:["string"],isDynamic:!1,name:"url"}],augmentScope:(t,e)=>(e.addVariables(Ac(t)),e),resolveDocumentation:t=>Ue("asset Tag","The `asset` tag can be used to retrive Assets by supplying a URL.",`{{ asset url="/url/for/asset.png" }}
    <img src="{{ url }}" alt="{{ alt }}" />
{{ /asset }}`,"https://statamic.dev/tags/asset")},r0=Rw;var i0=Ve(bt());function wd(t){let e=[],n=t.getUniqueAssetNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:i0.CompletionItemKind.Field});return e}var s0=["container","id","handle"],ww={tagName:"assets",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"container",aliases:["id","handle"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The handle of the asset container",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"folder",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Filters the resulting assets by specific folder",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"recursive",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Returns all assets in all subdirectories",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"limit",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Limits the total results",expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sort entries by any asset variable",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>s0.includes(t.name)?re(wd(e.project)):ve,augmentScope:(t,e)=>{e.addVariables(Ac(t));let n="";if(t.name!=null&&t.name.getMethodName()!=null)n=t.name.getMethodName();else{let r=t.findAnyParameter(s0);r!=null&&r.containsSimpleValue()&&(n=r.value)}return n.length>0&&e.injectAssetContainer(t,n),e},resolveCompletionItems:t=>(t.leftWord=="assets"||t.leftWord=="/assets")&&t.leftChar==":"?re(wd(t.project)):ve,resolveDocumentation:t=>Ue("assets Tag","The `assets` tag can be used to retrieve multiple Assets from an Asset container.",`{{ assets container="container-name" }}
    {{# Loop over all assets in the container. #}}
	<img src="{{ url }}" alt="{{ alt }}" />
{{ /assets }}`,"https://statamic.dev/tags/assets")},a0=ww;var Ow={tagName:"get_content",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,introducedIn:null,allowsArbitraryParameters:!1,parameters:[{isRequired:!1,name:"from",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"The ID to retrieve data for",expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"locale",aliases:["site"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The locale to show the content in",expectsTypes:["string"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>t.name=="locale"||t.name=="site"?gt(e.project.getSiteNames()):null,resolveDocumentation:t=>Ue("get_content Tag","The `get_content` tag can be used to retrieve content from other entries. This tag accepts the ID of another entry, and will return access to all data for that entry.",`{{ get_content from="the-entry-id" }}
{{ /get_content }}`,"https://statamic.dev/tags/get_content")},o0=Ow;function l0(t){return[{name:"basename",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"extension",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"filename",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"is_image",dataType:"boolean",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"file",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"file",dataType:"last_modified",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_bytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_b",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_gigabytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_gb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_kilobytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_kb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_megabytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_mb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t}]}var Lw={tagName:"get_files",hideFromCompletions:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"in",aliases:["from"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The directory to find files in relative to the public directory",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"depth",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The depth of the subdirectories",expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"not_in",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],description:"The subdirectories or pattern to exclude",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"file_size",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],description:"The file size filter to use",isDynamic:!1},{isRequired:!1,name:"ext",aliases:["extension"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The extension(s) to filter by",expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"include",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:["match"],description:"Filter files by a regular expression",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"exclude",description:"Excludes files by a regular expression",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"file_date",description:"Filters files by last modified date",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"limit",description:"Limits the total number of results",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"offset",description:"The number of entries the results should be offset by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sorts the listing by extension, size, last_modified, or random",expectsTypes:["string"],isDynamic:!1}],augmentScope:(t,e)=>(e.addVariables(l0(t)),e),resolveDocumentation:t=>q("get_files Tag","The `get_files` tag can be used to display information about files on the site's local filesystem.","https://statamic.dev/tags/get_files")},u0=Lw;function Sc(t){return[{name:"width",dataType:"number",sourceName:"*internal.glide",sourceField:null,introducedBy:t},{name:"height",dataType:"number",sourceName:"*internal.glide",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.glide",sourceField:null,introducedBy:t}]}var c0=Ve(bt());function ei(t,e,n){var r,i,s,a,o,l,u,f,c,m,g,d;return{endLine:(s=(i=(r=n.valuePosition)==null?void 0:r.end)==null?void 0:i.line)!=null?s:0,startLine:(l=(o=(a=n.namePosition)==null?void 0:a.start)==null?void 0:o.line)!=null?l:0,endPos:(c=(f=(u=n.valuePosition)==null?void 0:u.end)==null?void 0:f.char)!=null?c:0,startPos:(d=(g=(m=n.namePosition)==null?void 0:m.start)==null?void 0:g.char)!=null?d:0,message:t,severity:c0.DiagnosticSeverity.Error}}var Od=["greyscale","sepia"],Ld=["jpg","pjpg","png","gif","webp","tif","bmp","psd"],f0=["auto","0","90","180","270"],Ic=[{isRequired:!1,name:"src",aliases:["path","id"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The URL of the image when not using shorthand syntax",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"tag",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Outputs an image tag when set to true",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"alt",description:"The alt attribute value to use when generating tags",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"absolute",description:"Whether to output full URLs",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{name:"width",expectsTypes:["number"],isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The width of the image, in pixels",isDynamic:!1},{name:"height",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],description:"The height of the image, in pixels",expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"square",expectsTypes:["number"],acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets both then height and width of the iamge",isDynamic:!1,isRequired:!1},{name:"fit",expectsTypes:["string"],acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"How the image is fitted to its target dimensions",isDynamic:!1,isRequired:!1},{name:"crop",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Crops the image to the specific dimensions",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"orient",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Rotates the image",expectsTypes:["*"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!f0.includes(e.value)&&n.push(ei("Invalid orient value",t,e)),n}},{name:"quality",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Defines the quality of the image",expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"dpr",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],description:"Defines the device pixel ratio",expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<1||n>8)&&r.push(ei("dpr must be an integer between 1 and 8.",t,e)),r}},{name:"format",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Encodes the image to a specific format",expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!Ld.includes(e.value)&&n.push(ei("Format must be one of: "+Ld.join(","),t,e)),n}},{name:"bg",description:"Sets the background color for transparent images",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"blur",description:"Adds a blur effect to the image",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push(ei("blur must be a value between 0 and 100.",t,e)),r}},{name:"brightness",description:"Adjusts the image brightness",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<-100||n>100)&&r.push(ei("brightness must be a value between -100 and 100.",t,e)),r}},{name:"contrast",description:"Adjusts the image contrast",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<-100||n>100)&&r.push(ei("contrast must be a value between -100 and 100.",t,e)),r}},{name:"gamma",description:"Adjusts the image gamma",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseFloat(e.value),r=[];return e.containsSimpleValue()&&(n<.1||n>9.99)&&r.push(ei("gamma must be a value between 0.1 and 9.99.",t,e)),r}},{name:"sharpen",description:"Sharpens the iamge",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push(ei("sharpen must be a value between 0 and 100.",t,e)),r}},{name:"pixelate",description:"Applies a pixelation effect to the image",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push(ei("pixelate must be a value between 0 and 100.",t,e)),r}},{name:"filter",description:"Applies a filter effect to the image",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!Od.includes(e.value)&&n.push(ei("Filter must be one of: "+Od.join(","),t,e)),n}},{name:"preset",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],description:"A collection of pre-configured image manipulation parameters.",isDynamic:!1,isRequired:!1}];function xc(t,e){return t.name=="orient"?gt(f0):t.name=="format"?gt(Ld):t.name=="filter"?gt(Od):t.name=="preset"?gt(e.project.getAssetPresets()):ve}var Fw={tagName:"glide:batch",hideFromCompletions:!1,requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,injectParentScope:!1,parameters:Ic,introducedIn:null,augmentScope:(t,e)=>(e.addVariables(Sc(t)),e),resovleParameterCompletionItems:xc,resolveDocumentation:t=>q("glide:batch Tag","The `glide:batch` tag is similar to the glide tag, but can be used to apply image manipulations to multiple images within a piece of content.","https://statamic.dev/tags/glide-batch")},Rc=Fw;var Mw=[Ae(Rc)],kw={tagName:"glide",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!1,parameters:Ic,introducedIn:null,augmentScope:(t,e)=>(e.addVariables(Sc(t)),e),resovleParameterCompletionItems:xc,resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="glide"||t.leftWord=="/glide")&&t.leftChar==":"?re(Mw):ve,resolveDocumentation:t=>q("glide Tag","The `glide` tag is used to manipulate images on the fly. Image manipulations may include resizing, cropping, or adjusting sharpness and constrast, amongst many others.","https://statamic.dev/tags/glide")},p0=kw;var d0={tagName:"iterate",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Optionally rename the key/value variables",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"array",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The array to iterate",expectsTypes:["array"],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>q("iterate Tag","The `iterate` tag can be used to iterate over arbitrary arrays.","https://statamic.dev/tags/foreach")},m0={tagName:"foreach",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Optionally rename the key/value variables",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"array",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The array to iterate",expectsTypes:["array"],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>q("foreach Tag","The `foreach` tag can be used to iterate over arbitrary arrays.","https://statamic.dev/tags/foreach")};function h0(t){return[{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t},{name:"name",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}]}var wc=[{isRequired:!1,name:"id",description:"The ID of the content to localize",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"sort",description:"Sort by a sites key",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"current_first",description:"When true, ensures that the current locale is first",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"all",description:"When true, all locale data will be returned.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!0,name:"self",description:"When true, the current locale will be included.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1}];var qw={tagName:"locales:count",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,parameters:wc,introducedIn:"3.0.36",resolveDocumentation:t=>q("locales:count Tag","The `locales:count` tag can be used to count the number of locales the current content is available in.","https://statamic.dev/tags/locales-count")},Oc=qw;var Bw=[Ae(Oc)],Vw={tagName:"locales",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,parameters:wc,introducedIn:null,augmentScope:(t,e)=>(e.addVariableArray("locale",h0(t)),e.addVariable({name:"current",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"is_current",dataType:"boolean",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"exists",dataType:"boolean",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"permalink",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e),resolveDocumentation:t=>q("locales Tag","The `locales` tag can be used to access all the locales the current content is available in.","https://statamic.dev/tags/locales"),resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="locale"||t.leftWord=="/locale")&&t.leftChar==":"?re(Bw):ve},g0=Vw;var jw={tagName:"mix",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"src",description:"The path to the versioned file, relative to the public directory",acceptsVariableInterpolation:!1,aliases:["path"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"in",description:"The location of the mix manifest file",acceptsVariableInterpolation:!1,aliases:["from"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1}],resolveDocumentation:t=>q("mix Tag","The `mix` tag is used to return the path of CSS and JavaScript files versioned with [Laravel Mix](https://laravel.com/docs/8.x/mix).","https://statamic.dev/tags/mix")},_0=jw;var bl=Ve(bt());function y0(t){let e=[],n=t.getUniqueUserGroupNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:bl.CompletionItemKind.Field});return e}function b0(t){let e=[],n=t.getUniqueUserRoleNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:bl.CompletionItemKind.Field});return e}function eo(t,e){let n=[],r=e.getUniqueUserGroupNames(),i=r.filter(s=>!t.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:bl.CompletionItemKind.Field});return n}function to(t,e){let n=[],r=e.getUniqueUserRoleNames(),i=r.filter(s=>!t.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:bl.CompletionItemKind.Field});return n}var Uw={tagName:"user:in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="groups"||t.name=="group")&&((n=e.context)==null?void 0:n.parameterContext)!=null?re(eo((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>q("user:in Tag","The `user:in` tag can be used to check if the currently authenticated user belongs to one or more user groups. When used as a tag pair, the tag contents will only be rendered if the user belongs to the specified groups.","https://statamic.dev/tags/user-in")},Lc=Uw;var Ww={tagName:"user:not_in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="groups"||t.name=="group")&&((n=e.context)==null?void 0:n.parameterContext)!=null?re(eo((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>q("user:not_in Tag","The `user:not_in` tag can be used to check if the currently authenticated user does not belong to one or more user groups. When used as a tag pair, the tag contents will be rendered if the user does not belong to the specified groups.","https://statamic.dev/tags/user-in#not-in")},no=Ww;var Gw={tagName:"user:is",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="roles"||t.name=="role")&&((n=e.context)==null?void 0:n.parameterContext)!=null?re(to((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>q("user:is Tag","The `user:is` tag can be used to check whether the currently authenticated user has one or more roles.","https://statamic.dev/tags/user-is")},ro=Gw;var Yw={tagName:"user:isnt",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="roles"||t.name=="role")&&((n=e.context)==null?void 0:n.parameterContext)!=null?re(to((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>q("user:isnt Tag","The `user:isnt` tag can be used to check whether the currently authenticated user does not have one or more roles.","https://statamic.dev/tags/user-is#isnt")},io=Yw;var $w={tagName:"in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="groups"||t.name=="group")&&((n=e.context)==null?void 0:n.parameterContext)!=null?re(eo((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveCompletionItems:t=>(t.leftWord=="in"||t.leftWord=="/in")&&t.leftChar==":"?re(y0(t.project)):ve,resolveDocumentation:t=>q("in Tag","The `in` tag can be used to check if the authenticated user belongs to one or more groups. This tag operates similarly to the `user:in` tag.","https://statamic.dev/tags/user-in")},T0=$w;var Hw={tagName:"not_found",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>Ue("404 (Not Found) Tag","The `not_found` tag will trigger a 404 status code, and display the 404 template to the site visitor.",`{{ unless logged_in }}
	{{# Display the 404 Not Found page. #}}
	{{ not_found }}
{{ /unless }}`,"https://statamic.dev/tags/404")},v0=Hw;var Kw={tagName:"is",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="roles"||t.name=="role")&&((n=e.context)==null?void 0:n.parameterContext)!=null?re(to((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveCompletionItems:t=>(t.leftWord=="is"||t.leftWord=="/is")&&t.leftChar==":"?re(b0(t.project)):ve,resolveDocumentation:t=>q("is Tag","The `is` tag can be used to check whether the currently authenticated user has one or more roles. This tag behaves the same as the `user:is` tag.","https://statamic.dev/tags/user-is")},N0=Kw;var zw={tagName:"widont",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Ue("widont Tag","The `widont` tag is similar to the [widont modifier](https://statamic.dev/modifiers/widont), and will attempt to prevent lines with a single word from appearing within the tags rendered output.",`{{ widont }}
    {{ content }}
{{ /widont }}`,null)},C0=zw;var Fc=[{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"id",description:"The user ID to fetch",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"email",description:"The email address to find the user by",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"field",description:"The field to fetch the user by",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"value",description:"The value to search for",expectsTypes:["string"],isDynamic:!1}];var Xw={tagName:"user:profile",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:Fc,introducedIn:null,augmentScope:(t,e)=>(e.injectBlueprint(t,"user"),e),resovleParameterCompletionItems:(t,e)=>t.name=="field"?re(Ju(e.project.getUserFields())):ve,resolveDocumentation:t=>q("user:profile Tag","The `user:profile` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null)},so=Xw;var P0={tagName:"dd",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Ue("dd Tag","The `dd` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered. This tag will stop the template from rendering after it is encountered.  If Ignition is available, this tag will use the [ddd](https://flareapp.io/blog/1-introducing-ddd-a-new-global-helper-for-laravel) method.",`{{ collection:articles }}
	{{#
		View all data available, for the first
		entry that renders the dd tag.
	#}}
    {{ dd }}
{{ /collection:articles }}`,null)},E0={tagName:"ddd",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Ue("ddd Tag","The `ddd` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered. This tag will stop the template from rendering after it is encountered.  If Ignition is available, this tag will use the [ddd](https://flareapp.io/blog/1-introducing-ddd-a-new-global-helper-for-laravel) method.",`{{ collection:articles }}
	{{#
		View all data available, for the first
		entry that renders the ddd tag.
	#}}
    {{ ddd }}
{{ /collection:articles }}`,null)};var Qw={tagName:"path",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,acceptsVariableInterpolation:!1,aliases:["src"],allowsVariableReference:!0,description:"The path source",name:"to",isDynamic:!1,expectsTypes:["string"]},{isRequired:!1,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],description:"Whether to generate absolute paths",expectsTypes:["boolean"],isDynamic:!1,name:"absolute"}],resolveDocumentation:t=>q("path Tag","The `path` tag can be used to generate URLs from relative URLs, or an entry ID.",null)},D0=Qw;var Jw={tagName:"user:cant",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,resovleParameterCompletionItems:_c,parameters:[{name:"do",acceptsVariableInterpolation:!1,aliases:["permission"],allowsVariableReference:!1,description:"The permissions to check against",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resolveDocumentation:t=>q("user:cant Tag","The `user:cant` tag is used to check if the currently authenticated user does not have a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user does not have the specified permissions.","https://statamic.dev/tags/user-can#cant")},Mc=Jw;var Zw={tagName:"query",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,parameters:[{name:"builder",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The query to evaluate",expectsTypes:["string"],isRequired:!0,isDynamic:!1}]},A0=Zw;var Qs=Ve(bt());var vi=[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"src",description:"The relative path to the file",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"cache_bust",description:"Whether to output the last modified date",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"version",description:"Whether to check a versioning manifest to produce the final URL",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"absolute",description:"Generate absolute URLs or not",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"locale",description:"The locale the path should be generated in",expectsTypes:["string"],isDynamic:!1}];var e1=[{label:"asset",kind:Qs.CompletionItemKind.Text},{label:"css",kind:Qs.CompletionItemKind.Text},{label:"img",kind:Qs.CompletionItemKind.Text},{label:"js",kind:Qs.CompletionItemKind.Text},{label:"output",kind:Qs.CompletionItemKind.Text},{label:"path",kind:Qs.CompletionItemKind.Text}],t1={tagName:"theme",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,introducedIn:null,injectParentScope:!1,parameters:vi,resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="theme"||t.leftWord=="/theme")&&t.leftChar==":"?re(e1):ve},S0=t1;var Fd={tagName:"theme:path",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:vi,resolveDocumentation:t=>q("theme:path Tag","The `theme:path` tag may be used to generate URLs for public assets. This tag may also optionally add the current locale, generate relative URLs, or add cache busting URL parameters to the end of the generated URL.",null)},I0=it(Fd,"theme:asset");var n1={tagName:"theme:css",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...vi,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]}],resolveDocumentation:t=>q("theme:css Tag","The `theme:css` tag may be used to generate a CSS path relative to a public `css/` directory for any arbitrary file path. This tag may also optionally create the HTML `link` tag.",null)},x0=n1;var r1={tagName:"theme:img",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...vi,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]},{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"alt",description:"The alt text to use when generating the HTML tag",expectsTypes:["string"]}],resolveDocumentation:t=>q("theme:img Tag","The `theme:img` tag may be used to generate an image path relative to a public `img/` directory for any arbitrary file path. This tag may also optionally create the HTML `img` tag.",null)},R0=r1;var i1={tagName:"theme:js",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...vi,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]}],resolveDocumentation:t=>q("theme:js Tag","The `theme:js` tag may be used to generate a JavaScript path relative to a public `js/` directory for any arbitrary file path. This tag may also optionally create the HTML `script` tag.",null)},w0=i1;var s1={tagName:"theme:output",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],name:"src",description:"The path to the file",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],name:"as",description:"An optional alias for the contents variable",expectsTypes:["string"],isDynamic:!1}],augmentScope:(t,e)=>{if(t.isClosedBy!=null){let n=t.findParameter("as");n!=null?e.addVariable({name:n.value,dataType:"string",sourceField:null,sourceName:"*internal.theme.context",introducedBy:t}):e.addVariable({name:"output_contents",dataType:"string",sourceField:null,sourceName:"*internal.theme.context",introducedBy:t})}return e},resolveDocumentation:t=>q("theme:output Tag","The `theme:output` tag may be used to output the contents of any arbitrary file, relative to the site's `resources/` directory.",null)},O0=s1;var a1={tagName:"scope",hideFromCompletions:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Ue("scope Tag","The `scope` tag creates a copy of all available variables, and saves them to a new  *array* variable defined by the tag's method part.",`{{ scope:scope_name }}
    {{ scope_name:title }}
{{ /scope:scope_name }}
`,null)},L0=a1;var o1={tagName:"if",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:He,resolveDocumentation:t=>q("if Conditional Control Structure","The contents of the `if` tag will be rendered when it's expression evaluates to `true`.","https://statamic.dev/antlers#conditions")},F0=o1;var l1={tagName:"elseif",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:He,resolveDocumentation:t=>q("elseif Conditional Control Structure","The contents of the `elseif` tag will be rendered when it's expression evaluates to `true`.","https://statamic.dev/antlers#conditions")},M0=l1;var u1={tagName:"else",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDocumentation:t=>q("else Conditional Control Structure","The contents of the `else` control structure will be evaluated when all previous conditional branch conditions were not met.","https://statamic.dev/antlers#conditions")},k0=u1;var q0=Ve(bt());var c1={tagName:"session:has",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!0,parameters:[],introducedIn:"3.1.28",resolveDynamicParameter:He,resolveDocumentation:t=>q("session:has Tag","The `session:has` tag can be used to determine of the user's session contains a specific variable.","https://statamic.dev/tags/session-has")},kc=c1;var f1=[Ae(bc),Ae(Nc),Ae(Tc),Ae(vc),Ae(kc),Ae(yc)],p1={tagName:"session",requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",description:"An optional alias for the session data",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveCompletionItems:t=>{var e,n;if(t.isPastTagPart==!1&&(t.leftWord=="session"||t.leftWord=="/session")&&t.leftChar==":"){let r=(n=(e=yl.instance)==null?void 0:e.getKnownSessionVariableNames())!=null?n:[],i=[];i=i.concat(f1);for(let s=0;s<r.length;s++)i.push({label:r[s],kind:q0.CompletionItemKind.Variable});return re(i)}return ve},augmentScope:(t,e)=>{var s,a;let n=t.findParameter("as"),r=(a=(s=yl.instance)==null?void 0:s.getKnownSessionVariableNames())!=null?a:[],i=[];for(let o=0;o<r.length;o++)i.push({dataType:"*",name:r[o],sourceField:null,sourceName:"project.session",introducedBy:t});return n==null?e.addVariables(i):e.addVariableArray(n.value,i),e}},B0=p1;var Tl={tagName:"user:forgot_password_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",description:"Where the user should be taken after submitting the form",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:He,augmentScope:(t,e)=>(e.addVariables([{name:"success",dataType:"boolean",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t},{name:"url_invalid",dataType:"boolean",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t},{name:"errors",dataType:"array",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t}]),e),resolveDocumentation:t=>q("user:forgot_password_form Tag",'The `user:forgot_password_form` tag is used to quickly create a "forgot password" form for site users.',"https://statamic.dev/tags/user-forgot_password_form")},Md=it(Tl,"member:forgot_password_form");Md.resolveDocumentation=t=>q("member:forgot_password_form Tag",'The `member:forgot_password_form` tag is used to quickly create a "forgot password" form for site users.',"https://statamic.dev/tags/user-forgot_password_form");var vl={tagName:"user:reset_password_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",description:"Where the user should be taken after submitting the form",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:He,augmentScope:(t,e)=>(e.addVariables([{name:"success",dataType:"boolean",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t},{name:"url_invalid",dataType:"boolean",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t},{name:"errors",dataType:"array",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t}]),e),resolveDocumentation:t=>q("user:reset_password_form Tag","The `user:reset_password_form` tag is used to quickly create password reset forms. Forms created with this tag should be displayed after a user has received and clicked a password reset email link.","https://statamic.dev/tags/user-reset_password_form")},kd=it(vl,"member:reset_password_form");kd.resolveDocumentation=t=>q("member:reset_password_form Tag","The `member:reset_password_form` tag is used to quickly create password reset forms. Forms created with this tag should be displayed after a user has received and clicked a password reset email link.","https://statamic.dev/tags/user-reset_password_form");function V0(t,e){return{sourceName:e.blueprintName,dataType:e.type,name:e.name,sourceField:e,introducedBy:t}}function j0(t){let e=new Map;for(let n=0;n<t.length;n++)e.set(t[n].name,t[n]);return e}function ao(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push({sourceName:i.blueprintName,dataType:i.type,name:i.name,sourceField:i,introducedBy:t})}return n}function qc(t){return[{name:"handle",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"display",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"type",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"field",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"error",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"instructions",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"old",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t}]}var Nl={tagName:"user:register_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after registering",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after failed registration attempts",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override the redirect and error_redirect parameters",acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:He,augmentScope:(t,e)=>{e.addVariableArray("fields",qc(t)),e.addVariable({name:"errors",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"old",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"error",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"success",dataType:"string",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t});let n=e.statamicProject.getUserFields();if(n.length>0){let r=ao(t,n);e.addVariableArray("old",r),e.addVariableArray("error",r)}return e},resolveDocumentation:t=>q("user:register_form  Form Tag","The `user:register_form` tag can be used to build out public registration forms for new users.","https://statamic.dev/tags/user-register_form")},qd=it(Nl,"member:register_form");qd.resolveDocumentation=t=>q("member:register_form Tag","The `member:register_form` tag can be used to build out public registration forms for new users.","https://statamic.dev/tags/user-register_form");var d1=[Ae(ro),Ae(no),Ae(io),Ae(so),Ae(Qa),Ae(Mc),Ae(Tl),Ae(Ja),Ae(Za),Ae(Nl),Ae(vl)],m1={tagName:"user",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:Fc,introducedIn:null,resovleParameterCompletionItems:(t,e)=>e.isPastTagPart==!1&&e.currentNode!=null&&e.currentNode.methodIsEmptyOrMatches("profile")&&t.name=="field"?re(Ju(e.project.getUserFields())):ve,augmentScope:(t,e)=>(t.methodIsEmptyOrMatches("profile")&&e.injectUserFields(t),e),resolveCompletionItems:t=>(t.leftWord=="user"||t.leftWord=="/user"||t.leftWord=="member"||t.leftWord=="/member")&&t.leftChar==":"?re(d1):ve,resolveDocumentation:t=>q("user Tag","The `user` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null)},Bc=m1;var Vc=it(Bc,"member"),Bd=it(ro,"member:is"),Vd=it(io,"member:isnt"),jd=it(so,"member:profile"),Ud=it(Qa,"member:can"),Wd=it(Ja,"member:logout"),Gd=it(Za,"member:logout_url"),Yd=it(Lc,"member:in"),$d=it(no,"member:not_in");Vc.hideFromCompletions=!0;Vc.resolveDocumentation=t=>q("member Tag","The `member` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null);Bd.resolveDocumentation=t=>q("member:is Tag","The `member:is` tag can be used to check whether the currently authenticated user has one or more roles.","https://statamic.dev/tags/user-is");Vd.resolveDocumentation=t=>q("member:isnt Tag","The `member:isnt` tag can be used to check whether the currently authenticated user does not have one or more roles.","https://statamic.dev/tags/user-is#isnt");jd.resolveDocumentation=t=>q("member:profile Tag","The `member:profile` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null);Ud.resolveDocumentation=t=>q("member:can Tag","The `member:can` tag is used to check if the currently authenticated user has a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user has the specified permissions.","https://statamic.dev/tags/user-can");Wd.resolveDocumentation=t=>q("member:logout Tag","The `member:logout` tag will sign out the currently authenticated user. An optional `redirect` parameter may be used to redirect the visitor to a different page after being logged out.","https://statamic.dev/tags/user-logout");Gd.resolveDocumentation=t=>Ue("member:logout_url","The `member:logout_url` tag can be used to retrieve the URL that will sign the current user out.",'<a href="{{ member:logout_url }}">Log out</a>',"https://statamic.dev/tags/user-logout_url");Yd.resolveDocumentation=t=>q("member:in Tag","The `member:in` tag can be used to check if the currently authenticated user belongs to one or more user groups. When used as a tag pair, the tag contents will only be rendered if the user belongs to the specified groups.","https://statamic.dev/tags/user-in");$d.resolveDocumentation=t=>q("member:not_in Tag","The `member:not_in` tag can be used to check if the currently authenticated user does not belong to one or more user groups. When used as a tag pair, the tag contents will be rendered if the user does not belong to the specified groups.","https://statamic.dev/tags/user-in#not-in");function ys(t){return[{name:"title",dataType:"string",sourceField:null,sourceName:"*internal.routeable",introducedBy:t},{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.routeable",introducedBy:t}]}var G0=Ve(bt());var Hd=["from","taxonomy","is","use","folder"],Kd=["not_from","not_in","dont_use","not_taxonomy"];var zd=Hd;zd=zd.concat(Kd);function U0(t,e){var n,r,i,s,a,o,l,u;if(e.nodesInScope.length>0){let f=e.nodesInScope[e.nodesInScope.length-1];if(f!=null&&f.currentScope!=null){let c=oo(f,e.project),m=e.project.getTaxonomyBlueprintFields(c),g=m.map(p=>p.name),d=Wi(e.leftWord);if(g.includes(d))return re(fs(e))}}return t.name=="collection"&&((n=e.context)==null?void 0:n.parameterContext)!=null?re(ec((s=(i=(r=e.context)==null?void 0:r.parameterContext.parameter)==null?void 0:i.getArrayValue())!=null?s:[],e.project)):t.name=="filter"||t.name=="query_scope"?re(tc(e.project)):zd.includes(t.name)&&((a=e.context)==null?void 0:a.parameterContext)!=null?re(W0((u=(l=(o=e.context)==null?void 0:o.parameterContext.parameter)==null?void 0:l.getArrayValue())!=null?u:[],e.project)):null}function oo(t,e){let n=[];if(t.hasMethodPart())return n.push(t.getMethodNameValue()),n;let r=t.findAnyParameter(Hd),i=t.findAnyParameter(Kd),s=[],a=[];return typeof r!="undefined"&&r!==null&&(r.value.trim()==="*"?(s=e.getUniqueTaxonomyNames(),typeof i!="undefined"&&i!==null&&i.isVariableReference==!1&&i.hasInterpolations()==!1&&(a=i.getArrayValue())):r.isVariableReference==!1&&r.hasInterpolations()==!1&&(s=r.getArrayValue())),a.length>0?n=s.filter(function(o){return a.includes(o)==!1}):n=s,n}function W0(t,e){let n=[],r=e.getUniqueTaxonomyNames().filter(i=>!t.includes(i));for(let i=0;i<r.length;i++)n.push({label:r[i],kind:G0.CompletionItemKind.Variable});return n}function Y0(t,e){let n=oo(t,e.statamicProject),r=e.statamicProject.getTaxonomyBlueprintFields(n),i=t.findParameter("collection");if(e.addBlueprintFields(t,r),e.addVariables([{name:"first",dataType:"boolean",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"last",dataType:"boolean",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"count",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"index",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"total_results",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"entries_count",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t}]),e.addVariables(ys(t)),typeof i!="undefined"&&i!==null){let s=i.getArrayValue();if(s.length>0){let a=e.statamicProject.getBlueprintFields(s);e.introduceScopedAliasScope(t,"entries","entries",a).addVariables(ps(t))}else e.addVariableArray("entries",ys(t).concat(ps(t)))}else e.addVariableArray("entries",ys(t).concat(ps(t)));return e}var h1=[{name:"from",description:"The taxonomy to use",aliases:["taxonomy","is","use","folder"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1,isRequired:!1},{name:"not_from",description:"Taxonomies to exclude",aliases:["not_in","not_folder","dont_use","not_taxonomy"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["string","array"],isRequired:!1,isDynamic:!1},{name:"min_count",description:"The minimum number of entries a taxonomy term must have to be returned",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"collection",description:"Filter the terms to those that appear in the specified collections",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string","array"],isDynamic:!1,isRequired:!1},{name:"sort",description:"The field to sort terms by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{isRequired:!1,name:"filter",aliases:["query_scope"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Specifies a custom query scope",expectsTypes:["string"],isDynamic:!1}],$0=h1;var Xd=Ve(bt());function H0(t){var n,r;let e=[];if(t.currentNode!=null&&t.currentNode.currentScope!=null){let i=oo(t.currentNode,t.project),s=t.project.getTaxonomyBlueprintFields(i),a=s.map(l=>l.name),o=Wi(t.leftWord);if(a.includes(o))return re(fs(t));if(t.isCaretInTag&&!((n=t.context)==null?void 0:n.interpolatedContext)&&["taxonomy","/taxonomy"].includes(t.leftWord)==!1){let l=[];for(let u=0;u<s.length;u++){let f=s[u];l.includes(f.name)==!1&&(e.push({label:f.name,detail:f.blueprintName,documentation:(r=f.instructionText)!=null?r:"",kind:Xd.CompletionItemKind.Field}),l.push(f.name))}if(e.length>0)return _n(e)}}if((t.leftWord=="taxonomy"||t.leftWord=="/taxonomy")&&t.leftChar==":"){let i=t.project.getUniqueTaxonomyNames();for(let s=0;s<i.length;s++)e.push({label:i[s],kind:Xd.CompletionItemKind.Field});return _n(e)}return ve}var g1={tagName:"taxonomy",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,introducedIn:null,injectParentScope:!1,parameters:$0,resolveDynamicParameter:He,resolveCompletionItems:H0,resovleParameterCompletionItems:U0,augmentScope:Y0,resolveDocumentation:t=>q("taxonomy Tag","The `taxonomy` tag may be used to retrieve taxonomy entries. The taxonomy tag can also be used to access entries associated with any given taxonomy term.","https://statamic.dev/tags/taxonomy")},K0=g1;var Qd=Ve(bt());function z0(t,e){e.addVariables([{name:"is_published",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_page",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_entry",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"has_entries",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_parent",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_current",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_external",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"depth",dataType:"number",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"children",dataType:"array",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"count",dataType:"integer",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"index",dataType:"integer",sourceField:null,sourceName:"*internal.nav",introducedBy:t}]);let n=e.statamicProject.getUniqueCollectionNames(),r=[],i=!1;if(t.hasMethodPart()){let s=t.getMethodNameValue().trim().toLowerCase();if(s.startsWith("collection:")){let a=s.split(":").pop();i=!0,r.push(a)}else s=="pages"?(i=!0,r.push("pages")):(i=!1,r.push(s))}else{let s=t.findParameter("handle");s!=null&&(n.includes(s.value)?i=!0:i=!1,r.push(s.value))}if(i){let s=e.statamicProject.getBlueprintFields(r);e.addBlueprintFields(t,s),e.expandScopedAliasScope(t,"page","page",s)}else{let s=Zu(ys(t));e.addBlueprintFields(t,s),e.expandScopedAliasScope(t,"page","page",s)}return e}var _1={tagName:"nav:breadcrumbs",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,introducedIn:null,injectParentScope:!1,parameters:[{name:"include_home",description:"Whether to include the home page in the first level",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1},{name:"reverse",description:"Whether to reverse the order of links",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isRequired:!1,isDynamic:!1},{name:"trim",description:"Whether to trim the whitespace after each iteration of the loop",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],augmentScope:(t,e)=>(e.addVariables([{name:"is_current",dataType:"boolean",sourceName:"*internal.nav.breadcrumbs",sourceField:null,introducedBy:t}]),e.addVariables(ys(t)),e),resolveDocumentation:t=>q("nav:breadcrumbs Tag","The `nav:breadcrumbs` tag can be used to retrieve the URLs of all pages that make up the current URL back to the site's home page.","https://statamic.dev/tags/nav-breadcrumbs")},jc=_1;function X0(t,e){if(t.name=="handle"){let n=e.project.getUniqueCollectionNames(),r=e.project.getUniqueNavigationMenuNames(),i=[];return i=n,i=i.concat(r),i=[...new Set(i)],gt(i)}return null}var y1=[{isRequired:!1,acceptsVariableInterpolation:!1,aliases:["handle"],allowsVariableReference:!1,name:"for",description:"The navigation or collection to use",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],name:"from",description:"The starting point for the navigation",allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"show_unpublished",description:"Whether to include unpublished content",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"include_home",description:"Whether to include the home page in the tree",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"max_depth",description:"The maximum depth of the navigation or structure",expectsTypes:["number"],isDynamic:!1}],Q0=y1;var Jd={tagName:"structure",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,injectParentScope:!1,parameters:Q0,augmentScope:z0,resovleParameterCompletionItems:X0,resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="nav"||t.leftWord=="/nav"||t.leftWord=="structure"||t.leftWord=="/structure")&&t.leftChar==":"){let n=t.project.getUniqueNavigationMenuNames();for(let r=0;r<n.length;r++)e.push(Wa(n[r],"",""));return(t.leftWord=="nav"||t.leftWord=="/nav")&&e.push(Ae(jc)),e.push(Wa("collection","","")),e.push({label:"collection",kind:Qd.CompletionItemKind.Text}),_n(e)}if((t.leftWord=="nav:collection"||t.leftWord=="/nav:collection"||t.leftWord=="collection"||t.leftWord=="/collection"||t.leftWord=="structure:collection"||t.leftWord=="/structure:collection")&&t.leftChar==":"){let n=t.project.getUniqueCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:Qd.CompletionItemKind.Field});return _n(e)}return ve},resolveDocumentation:t=>q("nav Tag","The `nav` tag can be used to iterate structured collections or navigation menus.","https://statamic.dev/tags/nav")},J0=it(Jd,"nav");var tv=Ve(bt());function Z0(t){return[{name:"success",dataType:"string",sourceField:null,sourceName:"*internal.forms",introducedBy:t},{name:"submission_created",dataType:"boolean",sourceField:null,sourceName:"*internal.forms",introducedBy:t}]}var b1={name:"in",description:"The form to use",acceptsVariableInterpolation:!0,aliases:["handle","is","form","formset"],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},Ni=b1;var Zd=Ve(bt()),T1=[{label:"GET",kind:Zd.CompletionItemKind.EnumMember},{label:"POST",kind:Zd.CompletionItemKind.EnumMember}],ev=T1;var ti=["in","handle","is","form","formset"];function lo(t,e){return ti.includes(t.name)?gt(e.project.getUniqueFormNames()):t.name=="method"?re(ev):t.name=="files"?re(ml):null}function Ci(t,e){let n=t.structure.findParentWithName("form:set");return n!=null?{context:n,issues:[]}:{context:null,issues:[]}}var v1=["set","create","errors","success","submissions","submission"];function Js(t){if(t.reference!=null&&"tagPart"in t.reference){let r=t.reference;if(r.nameMatches("form:set"))return Js(r)}let e=t.findAnyParameter(ti),n=t.getMethodNameValue();return n!=null&&v1.includes(n)==!1?n:typeof e!="undefined"&&e!==null&&e.containsSimpleValue()?e.value:""}var N1={tagName:"form:create",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[Ni,{name:"method",description:"The HTTP method to use",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"files",description:"Indicates if the form sends file data",aliases:[],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1},{name:"redirect",description:"The location to redirect users after a successful form submission",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",description:"The location to redirect users to after a failed form submission",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override redirect or error_redirect",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveSpecialType:Ci,resovleParameterCompletionItems:lo,resolveDynamicParameter:He,augmentScope:(t,e)=>{e.addVariables(Z0(t)),e.addVariable({dataType:"array",name:"errors",sourceField:null,sourceName:"*internal.forms",introducedBy:t}),e.addVariableArray("fields",qc(t));let n=Js(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n),i=ao(t,r);e.addVariableArray("old",i),e.addVariableArray("error",i)}return e},resolveDocumentation:t=>q("form:create Tag","The `form:create` tag can be used to access form data, generate field HTML markup, and handle form validation errors.","https://statamic.dev/tags/form-create")},Uc=N1;var C1={tagName:"form:errors",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[Ni],resolveSpecialType:Ci,resovleParameterCompletionItems:(t,e)=>ti.includes(t.name)?gt(e.project.getUniqueFormNames()):null,resolveDocumentation:t=>q("form:errors Tag","The `form:errors` tag can be used to retrieve validation errors after a user has submitted a form.","https://statamic.dev/tags/form-errors")},Wc=C1;var P1={tagName:"form:set",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"in",description:"The form to use",acceptsVariableInterpolation:!0,aliases:["handle","is","form","formset"],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!0}],resovleParameterCompletionItems:lo,resolveDocumentation:t=>q("form:set Tag","The `form:set` tag can be used to set the form handle on all nested form tags.","https://statamic.dev/tags/form-set")},Gc=P1;var E1={tagName:"form:submission",requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[Ni],resolveSpecialType:Ci,resovleParameterCompletionItems:(t,e)=>ti.includes(t.name)?gt(e.project.getUniqueFormNames()):null,augmentScope:(t,e)=>{let n=Js(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n);e.addBlueprintFields(t,r)}return e},resolveDocumentation:t=>q("form:submission Tag","The `form:submission` tag can be used to access the form submission submitted by the current user.","https://statamic.dev/tags/form-submission")},Yc=E1;var D1={tagName:"form:submissions",allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,introducedIn:null,parameters:[Ni],resolveSpecialType:Ci,resovleParameterCompletionItems:(t,e)=>ti.includes(t.name)?gt(e.project.getUniqueFormNames()):null,augmentScope:(t,e)=>{if(t.isClosingTag)return e;let n=Js(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n);e.addBlueprintFields(t,r)}return e.addVariable({name:"date",dataType:"date",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e.addVariable({name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e.addVariable({name:"total_results",dataType:"number",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e},resolveDocumentation:t=>q("form:submissions Tag","The `form:submissions` tag can be used to fetch previously saved submissions for a form.","https://statamic.dev/tags/form-submissions")},$c=D1;var A1={tagName:"form:success",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[Ni],resolveSpecialType:Ci,resovleParameterCompletionItems:(t,e)=>ti.includes(t.name)?gt(e.project.getUniqueFormNames()):null,resolveDocumentation:t=>q("form:success Tag","The `form:success` tag can be used to check if a form submission was successful or not.","https://statamic.dev/tags/form-success")},Hc=A1;var S1=[Ae(Gc),Ae(Uc),Ae(Wc),Ae(Hc),Ae($c),Ae(Yc)],I1={tagName:"form",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[],resovleParameterCompletionItems:lo,resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="form"||t.leftWord=="/form")&&t.leftChar==":"){let n=t.project.getUniqueFormNames();e=e.concat(S1);for(let r=0;r<n.length;r++)e.push({label:n[r],kind:tv.CompletionItemKind.Field});return _n(e)}return ve}},nv=I1;var em={tagName:"search:results",allowsArbitraryParameters:!1,requiresClose:!0,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"index",description:"The index to search in",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"query",description:"The query string parameter to use",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"limit",description:"The maximum number of search results to return",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1,expectsTypes:["number"]},{name:"offset",description:"The number of results to skip",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1,expectsTypes:["number"]},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets whether not to paginate entry results",expectsTypes:["boolean"],isRequired:!1,name:"paginate",isDynamic:!1},{name:"as",description:"Specifies an alias for search results",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"supplement_data",description:"Controls whether non-indexed fields are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resovleParameterCompletionItems:(t,e)=>t.name=="index"?gt(e.project.getSearchIndexes()):null,augmentScope:(t,e)=>{e.addVariables([{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"total_results",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t}]);let n=t.findParameter("as");return n!=null&&n.value.trim().length>0?e.addVariableArray(n.value,rv(t)):e.addVariables(rv(t)),e},resolveDocumentation:t=>q("search:results Tag","The `search:results` tag provides access to all data that was returned as a result of a user's search.","https://statamic.dev/tags/search")},x1=[Ae(em)];function rv(t){return[{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"title",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"content",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"is_entry",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"is_term",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"count",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"index",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"search_score",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"_highlightResult",dataType:"array",sourceField:null,sourceName:"*internal.search.results",introducedBy:t}]}var iv={tagName:"search",allowsArbitraryParameters:!1,requiresClose:!0,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="search"||t.leftWord=="/search")&&t.leftChar==":"?_n(x1):ve};function tm(t){return[{name:"email",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t},{name:"password",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t}]}var nm={tagName:"user:login_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after logging in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after failed login attempts",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override the redirect and error_redirect parameters",acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:He,augmentScope:(t,e)=>(e.addVariables([{name:"errors",dataType:"array",sourceName:"*internal.user.login",sourceField:null,introducedBy:t},{name:"success",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t}]),e.addVariables(tm(t)),e.addVariableArray("old",tm(t)),e.addVariableArray("error",tm(t)),e),resolveDocumentation:t=>q("user:login_form Tag","The `user:login_form` tag can be used to quickly create a form that users can use to authenticate with the site.","https://statamic.dev/tags/user-login_form")},sv=it(nm,"member:login_form");var R1={tagName:"noparse",requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>q("noparse Tag","The `noparse` tag is used prevent blocks of Antlers code from being parsed, removing the need to escape individual Antlers code regions.","https://statamic.dev/antlers#the-noparse-tag")},av=R1;var w1={tagName:"unless",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:He,resolveDocumentation:t=>q("unless Conditional Control Structure","The `unless` control structure operates the same as an `if` statement, but has it's logic inverted.","https://statamic.dev/antlers#conditions")},ov=w1;var O1={tagName:"elseunless",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:He,resolveDocumentation:t=>q("elseunless Conditional Control Structure","The `elseunless` control structure operates the same as an `elseif` statement, but has it's logic inverted.","https://statamic.dev/antlers#conditions")},lv=O1;var uv=Ve(bi());var cv={tagName:"installed",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!0,introducedIn:"3.1.19",parameters:[],resolveCompletionItems:t=>{if(t.project!=null){let e=t.project.getComposerPackages(),n=[];return e.forEach((r,i)=>{n.push({label:r.name,kind:uv.CompletionItemKind.Text})}),re(n)}return ve},resolveDocumentation:t=>Ue("installed Tag","The `installed` tag is used to check if the site has a specific Composer package available.",`{{ if {installed:composer/package-name} }}
    {{# Package is availabl.e #}}
{{ else }}
    {{# Something else. #}}
{{ /if }}`,"https://statamic.dev/tags/installed")};var L1={tagName:"relate",hideFromCompletions:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,introducedIn:null,parameters:[]},fv=L1;var uo=[{name:"bag",description:"The error message bag to retrieve errors from.",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1}];var F1={tagName:"get_errors",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:uo,introducedIn:"3.2.23",augmentScope:(t,e)=>{var n;if(t.isClosingTag)return e;if(((n=t.name)==null?void 0:n.methodPart)==null){let r=e.copy();r.addVariable({dataType:"string",introducedBy:t,name:"field",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"field",refFieldSetField:null,sets:null,type:"string"}});let i=r.copy();i.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),r.addScopeList("messages",i),e.addScopeList("fields",r)}else{let r=e.copy();r.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e.addScopeList("messages",r)}return e},resolveDocumentation:t=>q("get_errors Tag","The `get_errors` tag can be used to retrieve form validation errors.","https://statamic.dev/tags/get_errors")},pv=F1;var M1={tagName:"get_errors:all",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:uo,introducedIn:null,augmentScope:(t,e)=>{if(t.isClosingTag)return e;let n=e.copy();return n.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors.all",sourceField:{blueprintName:"*internal.tag.get_errors.all",displayName:"get_errors:all",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e.addScopeList("messages",n),e},resolveDocumentation:t=>q("get_errors:all Tag","The `get_errors:all` tag can be used to retrieve all form validation errors.","https://statamic.dev/tags/get_errors#list-all-validation-errors")},dv=M1;var k1={tagName:"get_error",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:uo,introducedIn:null,augmentScope:(t,e)=>(t.isClosingTag||e.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_error",sourceField:{blueprintName:"*internal.tag.get_error",displayName:"get_error",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e),resolveDocumentation:t=>q("get_error Tag","The `get_error` tag can be used to retrieve the first error message for a specific field.","https://statamic.dev/tags/get_errors#get-the-first-error-for-a-specific-field")},mv=k1;var q1={tagName:"set",hideFromCompletions:!0,allowsArbitraryParameters:!0,requiresClose:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[]},hv=q1;var gv=[F0,M0,k0,ov,lv,r0,a0,ET,fc,Hs,pc,cc,uc,fv,nv,Uc,Yc,$c,Gc,Hc,Wc,hv,pv,mv,dv,iv,em,OT,dc,mc,ST,v0,AT,E0,P0,DT,o0,u0,p0,Rc,IT,xT,RT,d0,m0,LT,hc,g0,Oc,_0,J0,Jd,jc,MT,FT,Lc,T0,no,ro,N0,cv,Bc,io,Qa,Mc,Ja,Za,so,nm,vl,Tl,Nl,Vc,Bd,Vd,jd,Ud,Wd,Gd,Yd,$d,sv,kd,Md,qd,av,BT,VT,jT,ZT,e0,D0,zT,HT,L0,JT,B0,Nc,vc,Tc,bc,kc,yc,n0,K0,S0,Fd,I0,x0,R0,w0,O0,Dc,t0,Rd,A0,GT,Cc,C0];var bs=class{constructor(){this.tags=new Map;this.parameters=new Map}reset(){this.tags.clear(),this.parameters.clear(),this.loadCoreTags()}getVisibleTagsWithDocumentation(){let e=[];return this.tags.forEach((n,r)=>{if(n.hideFromCompletions==!1){let i="";n.resolveDocumentation!=null&&(i=n.resolveDocumentation()),e.push({label:r,documentation:i})}}),e}getVisibleTagNames(){let e=[];return this.tags.forEach((n,r)=>{n.hideFromCompletions==!1&&e.push(r)}),[...new Set(e)]}getPossibleTagMethods(e){let n=[],r=e.length+1;return this.tags.forEach((i,s)=>{if(s.startsWith(e)){let a=s.substr(r).trim();a.length>0&&n.push(a)}}),[...new Set(n)]}getTagNames(){let e=[];return this.tags.forEach((n,r)=>{e.push(r)}),[...new Set(e)]}loadCoreTags(){this.registerTags(gv)}cleanTagName(e){return Ui(e,"/")}findTag(e){return this.tags.get(this.resolveTagName(e))}isKnownTag(e){return this.tags.has(this.resolveTagName(e))}isSymbolKnownTag(e){return this.isKnownTag(e.runtimeName())}resolveTagName(e){return e=this.cleanTagName(e.trim()),this.tags.has(e)||e.includes(":")&&(e=e.split(":")[0]),e}canResolveSpecialTypes(e){e=this.resolveTagName(e);let n=this.tags.get(e);return!(typeof n=="undefined"||n==null||n.resolveSpecialType==null)}resolveSpecialType(e,n,r){e=this.resolveTagName(e);let i=this.findTag(e);if(i.resolveSpecialType==null)throw new Error(e+" does not support special types.");return i.resolveSpecialType(n,r)}getCompletionItems(e){var s;let n=null,r=[],i=!0;if(e.nodesInScope.length>0&&(n=e.nodesInScope[e.nodesInScope.length-1]),e.currentNode!=null&&this.isKnownTag(e.currentNode.runtimeName())){let a=this.findTag(e.currentNode.runtimeName());if(typeof a=="undefined")return{isExclusive:!1,items:[]};let o=[];if(a.resolveCompletionItems!=null){let l=a.resolveCompletionItems(e);if(l.isExclusiveResult)return{isExclusive:!0,items:l.items};i=l.analyzeDefaults,r=r.concat(l.items)}if(e.isPastTagPart==!1){let l=this.getPossibleTagMethods(a.tagName);for(let u=0;u<l.length;u++)r.push({label:l[u],kind:_v.CompletionItemKind.Text})}if(i){if(e.isCaretInTag==!0&&a.parameters.length>0&&(r=r.concat(Td(e,a.parameters)),a.tagName=="partial"&&(n==null?void 0:n.hasMethodPart()))){let l=n.getMethodNameValue();if(l.trim().length>0&&((s=li.instance)==null?void 0:s.hasStructure())){let u=li.instance.getStructure().findPartial(l);u!=null&&u.injectsParameters.length>0&&(r=r.concat(Td(e,u.injectsParameters)))}}for(let l=0;l<e.nodesInScope.length;l++)if(e.nodesInScope[l].runtimeType!==null){let u=e.nodesInScope[l].runtimeType;if(u!=null&&u.assumedType=="structure_ref"&&u.supplementedFields!=null)for(let f=0;f<u.supplementedFields.length;f++)r.push(vd(u.supplementedFields[f]))}}return{items:r,isExclusive:!1}}return{items:r,isExclusive:!1}}injectParentScope(e){let n=this.findTag(e);return typeof n=="undefined"||n==null?!0:n.injectParentScope}resolveParameterCompletions(e,n,r){let i=this.findTag(e);return typeof i!="undefined"&&i!==null&&typeof i.resovleParameterCompletionItems!="undefined"&&i.resovleParameterCompletionItems!==null?i.resovleParameterCompletionItems(n,r):null}canResolveDynamicParameter(e){let n=this.resolveTagName(e);if(this.isKnownTag(n)){let r=this.tags.get(n);if(typeof r=="undefined")return!1;if(typeof r.resolveDynamicParameter!="undefined"&&r.resolveDynamicParameter!=null)return!0}return!1}getParameter(e,n){let r=this.resolveTagName(e);if(this.parameters.has(r)==!1)return null;let i=this.parameters.get(r);if(i==null)return null;if(i.has(n)==!1){let a=this.findTag(e);if(a!=null&&typeof a.resolveDynamicParameter!="undefined"&&a.resolveDynamicParameter!=null){let o=a.resolveDynamicParameter(null,n);if(o!==null)return o}return null}let s=i.get(n);return typeof s=="undefined"||i==null?null:s}registerTags(e){for(let n=0;n<e.length;n++)this.registerTag(e[n])}registerTag(e){if(this.tags.set(e.tagName,e),this.parameters.has(e.tagName)==!1&&this.parameters.set(e.tagName,new Map),e.parameters.length>0){let n=this.parameters.get(e.tagName);for(let r=0;r<e.parameters.length;r++){let i=e.parameters[r];n==null||n.set(i.name,i)}}}requiresClose(e){let n=e.getTagName();if(this.tags.has(n)){let r=this.findTag(n);if(r!=null)return r.requiresCloseResolver!=null?r.requiresCloseResolver(e):r.requiresClose}return!1}};bs.instance=null;(typeof bs.instance=="undefined"||bs.instance==null)&&(bs.instance=new bs,bs.instance.loadCoreTags());var It=bs;var br=class{constructor(e){this.generation=0;this.id="";this.name="";this.values=new Map;this.lists=new Map;this.pristine=new Map;this.parentScope=null;this.statamicProject=e,br.generationCounter+=1,this.generation=br.generationCounter,this.id=Pa()}makeNew(){return new br(this.statamicProject)}ancestor(){return this.parentScope!=null?this.parentScope:this}canShiftScope(e){return!!this.pristine.has(e)}shiftScope(e,n,r){if(this.pristine.has(n)){let i=this.pristine.get(n),s=i.parentCopy.copy();return s.introduceAliasScope(e,r,i.introducedFields),s}return this}containsPath(e){if(e.includes(":")){let n=e.split(":"),r=n.shift(),i=n.join(":");if(typeof r=="undefined")return!1;let s=this.lists.get(r);return typeof s=="undefined"?!1:s.containsPath(i)}return!!this.lists.has(e)}findReference(e){if(e.includes(":")){let n=e.split(":"),r=n.pop(),i=n.join(":"),s=this.findNestedScope(i);if(s!=null)return s.findReference(r)}return this.values.has(e)?this.values.get(e):null}findReferenceWithField(e){if(e.includes(":")){let n=e.split(":"),r=n.pop(),i=n.join(":"),s=this.findNestedScope(i);if(s!=null)return s.findReference(r)}if(this.values.has(e)){let n=this.values.get(e);if(n.sourceField==null){if(n.introducedBy!=null&&n.introducedBy.currentScope!=null&&n.introducedBy.currentScope!=this)return n.introducedBy.currentScope.findReferenceWithField(n.introducedBy.getTagName());if(this.parentScope!=null&&this.parentScope!=this)return this.parentScope.findReferenceWithField(e)}return n}return null}containsReference(e){return this.findReference(e)!=null}findNestedScope(e){if(e.includes(":")){let n=e.split(":"),r=n.shift(),i=n.join(":");if(typeof r=="undefined")return null;let s=this.lists.get(r);return typeof s=="undefined"?null:s.findNestedScope(i)}return this.lists.has(e)?this.lists.get(e):this.parentScope!=null&&this.parentScope!=this&&this.parentScope.hasList(e)?this.parentScope.lists.get(e):null}liftList(e){if(this.lists.has(e)){let n=this.lists.get(e);return typeof n=="undefined"||n===null?null:(this.lists.delete(e),n)}return null}hasPristineReference(e){return!!this.pristine.has(e)}hasListInHistory(e){return this.hasList(e)?!0:this.parentScope!=null?this.name=="*root*"?!1:this.parentScope.hasList(e):!1}hasList(e){if(this.lists.has(e)){let n=this.lists.get(e);return!(typeof n=="undefined"||n===null)}return!1}bringListIntoMainScope(e){if(e.includes(":")){let r=e.split(":"),i=r.shift(),s=r.join(":");if(typeof i=="undefined")return this;let a=this.lists.get(i);return typeof a=="undefined"?this:a.bringListIntoMainScope(s)}let n=this.lists.get(e);return this.lists.delete(e),this.mergeScope(n)}getListNames(){let e=[];return this.lists.forEach((n,r)=>{e.push(r)}),e}getVariableNames(){let e=[];return this.values.forEach(n=>{e.push(n.name)}),e}getList(e){return this.lists.has(e)?this.lists.get(e):this.parentScope!=null&&this.parentScope!=this?this.parentScope.getList(e):null}hasValue(e){return this.values.has(e)}findAncestorWithList(e){return this.hasList(e)?this:this.parentScope!=null&&this.parentScope!=this?this.parentScope.findAncestorWithList(e):null}findReferenceNotIntroducedBy(e,n){if(this.hasValue(e)){let r=this.values.get(e);if(r.introducedBy!=null&&r.introducedBy!=n)return r}return this.parentScope!=null&&this.parentScope!=this?this.parentScope.findReferenceNotIntroducedBy(e,n):null}removeThroughIntroduction(e,n){if(this.values.delete(e),this.parentScope!=null){let r=this.findReferenceNotIntroducedBy(e,n);r!=null&&this.addVariable(r)}}wasIntroducedBySymbol(e,n){if(this.values.has(e)==!1)return!1;let r=this.values.get(e);return r.introducedBy!=null?r.introducedBy==n:!1}referencesArray(e){return this.values.has(e)==!1?!1:this.values.get(e).dataType=="array"}addScopeList(e,n){return this.lists.set(e,n),this}mergeAndList(e,n){let r=new br(this.statamicProject);return r.values=j0(n),this.lists.set(e,r),this.mergeVariableScope(n),this}mergeScope(e){return e==this||e==null?this:(typeof e.values!="undefined"&&e.values!==null&&e.values.forEach((n,r)=>{this.values.set(r,n)}),typeof e.lists!="undefined"&&e.lists!==null&&e.lists.forEach((n,r)=>{this.lists.set(r,n)}),this)}mergeVariableScope(e){for(let n=0;n<e.length;n++)this.values.set(e[n].name,e[n]);return this}addVariable(e){this.values.set(e.name,e)}addVariables(e){for(let n=0;n<e.length;n++)this.addVariable(e[n])}addVariableArray(e,n){this.values.has(e)&&this.values.delete(e);let r=new br(this.statamicProject);r.addVariables(n),this.addScopeList(e,r)}injectAssetContainer(e,n){this.addBlueprintFields(e,this.statamicProject.getAssetBlueprintFields(n))}injectUserFields(e){this.addBlueprintFields(e,this.statamicProject.getUserFields())}addBlueprintField(e,n){this.addVariable({dataType:n.type,name:n.name,sourceField:n,sourceName:n.blueprintName,introducedBy:e})}introduceScopedAliasScope(e,n,r,i){this.pristine.set(r,{introducedFields:i,introducedScope:r,parentCopy:this.copy()});let s=new br(this.statamicProject),a=new br(this.statamicProject);return a.addBlueprintFields(e,i),s.name=r,s.addScopeList(n,a),this.addScopeList(r,s),s}expandScopedAliasScope(e,n,r,i){this.lists.has(r)==!1?this.introduceScopedAliasScope(e,n,r,i):this.lists.get(r).addBlueprintFields(e,i)}introduceAliasScope(e,n,r){this.pristine.set(n,{introducedFields:r,introducedScope:n,parentCopy:this.copy()});let i=new br(this.statamicProject);i.addBlueprintFields(e,r),i.name=n,this.addScopeList(n,i)}introduceDynamicScopeList(e,n,r){this.pristine.set(n,{introducedFields:r,introducedScope:n,parentCopy:this.copy()});let i=new br(this.statamicProject);i.name=n,i.addBlueprintFields(e,r),this.addScopeList(n,i)}addBlueprintFields(e,n){for(let r=0;r<n.length;r++)this.addBlueprintField(e,n[r])}injectBlueprint(e,n){let r=this.statamicProject.getBlueprintDetails(n);r.length>0&&this.addBlueprintFields(e,r)}copy(){let e=new br(this.statamicProject);return e.pristine=new Map(this.pristine),e.values=new Map(this.values),e.lists=new Map(this.lists),e.parentScope=this,e}},yr=br;yr.generationCounter=0;function rm(t){let e=new yr(t);return e.addVariable({dataType:"string",name:"handle",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"name",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"locale",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"short_locale",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e}function yv(){let t=[];return t.push({dataType:"number",name:"response_code",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"csrf_field",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"csrf_token",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"environment",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"template",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"xml_header",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"last_segment",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"homepage",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_uri",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_template",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"is_homepage",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"now",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"today",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"current_date",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"get",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"get_post",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"post",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"old",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t}function bv(t,e){let n=t.findParameter("paginate");if(n!=null&&(n.value.toLowerCase()=="true"||parseInt(n.value).toString()==n.value)){let r=e.makeNew(),i=e.makeNew(),s=e.makeNew(),a=e.makeNew();r.addVariable({name:"next_page",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"prev_page",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"total_items",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"total_pages",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"current_page",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"auto_links",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),s.addVariable({name:"url",dataType:"string",sourceField:null,sourceName:"*internal.pagination.all",introducedBy:t}),s.addVariable({name:"page",dataType:"integer",sourceField:null,sourceName:"*internal.pagination.all",introducedBy:t}),a.addVariable({name:"first",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),a.addVariable({name:"last",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),a.addVariable({name:"slider",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),i.addScopeList("all",s),i.addScopeList("segments",a),r.addScopeList("links",i),e.addScopeList("paginate",r)}}var Zs=class{constructor(){this.fileInjections=new Map;this.project=null}updateProject(e){this.project=e}registerInjections(e,n){if(n.length==0)return;let r=[];for(let i=0;i<n.length;i++){let s=n[i];s.hasParameters&&r.push(s)}if(r.length>0){let i=r[0].getMethodNameValue();if(i!=null&&this.project!=null){let s=this.project.findPartial(i);s!=null&&(this.fileInjections.has(s.documentUri)||this.fileInjections.set(s.documentUri,new Map),this.fileInjections.get(s.documentUri).set(e,r))}}}hasAvailableInjections(e){return this.fileInjections.has(e)}getScopeInjection(e,n){let r=new yr(n);return r.name="*injection*",this.fileInjections.get(e).forEach((s,a)=>{for(let o=0;o<s.length;o++){let l=s[o];if(l.hasParameters)for(let u=0;u<l.parameters.length;u++){let f=l.parameters[u];if(f.containsSimpleValue())r.addVariable({dataType:"string",name:f.name,sourceField:null,sourceName:"scope.injection",introducedBy:l});else if(f.isVariableReference&&l.currentScope!=null&&l.currentScope.hasListInHistory(f.value)){let c=l.currentScope.findNestedScope(f.value);if(c!=null){let m=Ui(f.name,":"),g=c.copy();g.name=m,r.addScopeList(m,c)}}}}}),r}};Zs.instance=null;(typeof Zs.instance=="undefined"||Zs.instance==null)&&(Zs.instance=new Zs);var im=Zs;var B1=["collection"],V1=["if","elseif","unless","elseunless"],sm=class{constructor(e,n,r){this.pageVars=[];this.viewDataVars=null;this.documentUri="";this.lastSymbolId="";this.ideHelperMap=new Map;this.statamicProject=e,this.documentUri=n,this.document=r,this.makePageScope(),this.makeViewDataScope()}makeViewDataScope(){this.document.hasFrontMatter()&&(this.viewDataVars=this.document.getFrontMatterScope())}makePageScope(){let e=[],n=this.statamicProject.getFields();if(n.has("pages")){let r=n.get("pages");for(let i=0;i<r.length;i++){let s=r[i];e.push({name:s.name,dataType:s.type,sourceField:s,sourceName:s.blueprintName,introducedBy:null})}}this.pageVars=e}analyzeScope(e){var f,c,m,g,d,p,h,y,_;let n=new yr(this.statamicProject);n.name="*root*",n.parentScope=n,n.addScopeList("site",rm(this.statamicProject)),n.addScopeList("sites",rm(this.statamicProject)),n.addVariables(yv());let r=new yr(this.statamicProject);r.name="*root_user*",r.parentScope=n,this.statamicProject.getUserFields().forEach(b=>{r.addBlueprintField(null,b)}),n.addScopeList("current_user",r),((f=hg.instance)==null?void 0:f.pageScopeDisabled(this.documentUri))?this.viewDataVars!=null&&n.addScopeList("view",this.viewDataVars):this.viewDataVars!=null?n.mergeAndList("page",this.pageVars).addScopeList("view",this.viewDataVars):n.mergeAndList("page",this.pageVars);let i=null;e.length>0&&e[0].isComment&&(i=Uo(this.documentUri,e[0]));for(let b=0;b<e.length;b++)if(e[b].isComment){let N=Uo(this.documentUri,e[b]);N.variableHelper!=null&&this.ideHelperMap.set(e[b].id(),N.variableHelper)}let s=this.statamicProject.getCollectionNamesForView(this.documentUri);if(i!=null&&(i.collectionInjections.length>0&&(s=s.concat(i.collectionInjections)),i.blueprints.length>0&&(s=s.concat(i.blueprints)),i.variableHelper!=null&&i.variableHelper.variableName=="@page")){let b=this.statamicProject.getBlueprintField(i.variableHelper.collectionName,i.variableHelper.fieldHandle);if(b!=null)if(i.variableHelper.setHandle.length>0){if(b.sets!=null){for(let N=0;N<b.sets.length;N++)if(b.sets[N].handle==i.variableHelper.setHandle){n.addVariables(ao(e[0],b.sets[N].fields));break}}}else n.addBlueprintField(e[0],b)}if(s.length>0){for(let b=0;b<s.length;b++)n.injectBlueprint(e[0],s[b]);n.addVariables(ps(e[0]))}((c=im.instance)==null?void 0:c.hasAvailableInjections(this.documentUri))&&n.mergeScope((m=im.instance)==null?void 0:m.getScopeInjection(this.documentUri,this.statamicProject));let a=[],o=[],l=[],u=[];u.push(n);for(let b=0;b<e.length;b++){let N=e[b];this.lastSymbolId.length>0&&o.includes(N.id())&&(a.pop(),u.pop(),u.length==0&&u.push(n));let w=u[u.length-1];if(N.hasParameters){for(let $=0;$<N.parameters.length;$++)if(N.parameters[$].interpolations.length>0)for(let j=0;j<N.parameters[$].interpolations.length;j++){let X=N.parameters[$].interpolations[j];N.processedInterpolationRegions.has(X)&&N.processedInterpolationRegions.get(X).forEach(be=>{be instanceof Z&&(be.currentScope=w)})}}if(((g=It.instance)==null?void 0:g.isKnownTag(N.getTagName()))==!1){if(N.scopeVariable=w.findReference(N.runtimeName()),b>0){let $=e[b-1];if($.isComment&&this.ideHelperMap.has($.id())&&!$.isClosingTag&&!N.isClosingTag){let j=this.ideHelperMap.get($.id());if(j.variableName==N.getTagName()){let X=this.statamicProject.getBlueprintField(j.collectionName,j.fieldHandle);X!=null&&(N.scopeVariable=V0(N,X))}}}if(N.scopeVariable==null){let $=N.runtimeName().trim();if(w.hasList($)||((d=N.currentScope)==null?void 0:d.hasListInHistory($))){N.sourceType="array";let j=w.getList($);if(j!=null&&j.values.size>0){let X=j.values.entries().next().value[1];N.scopeVariable={dataType:"array",introducedBy:X.introducedBy,name:$,sourceField:null,sourceName:X.sourceName}}}}else N.sourceType=uu(N.scopeVariable.dataType),N.scopeVariable.sourceField!=null&&((p=sc.instance)==null?void 0:p.hasFieldtype(N.scopeVariable.sourceField.type))&&((h=sc.instance)==null?void 0:h.getFieldType(N.scopeVariable.sourceField.type)).augmentScope(N,w)}if(N.hasParameters&&bv(N,w),N.modifiers!=null&&N.modifiers.hasModifiers()?N.manifestType=N.modifiers.getLastManifestedModifierRuntimeType():N.manifestType=N.sourceType,N.isClosedBy!=null&&(a.push(N.id()),o.push(N.isClosedBy.id()),w=w.copy(),u.push(w)),N.getTagName()=="scope"&&N.hasMethodPart()){let $=u[u.length-2].copy();w.addScopeList(N.getMethodNameValue(),$)}if(w.containsPath(N.runtimeName())&&(a.push(N.id()),N.isClosedBy!=null&&o.push(N.isClosedBy.id()),w=w.copy().bringListIntoMainScope(N.runtimeName()),u.push(w)),N.currentScope=w,N.getTagName()!="cache"){let $=N.findParameter("scope");$!=null&&w.canShiftScope(N.runtimeName())&&(w=w.shiftScope(N,N.runtimeName(),$.value),N.currentScope=w,u.pop(),u.push(w))}if((y=It.instance)==null?void 0:y.isKnownTag(N.runtimeName())){let $=(_=It.instance)==null?void 0:_.findTag(N.runtimeName());typeof $!="undefined"&&$.augmentScope!=null&&$.augmentScope(N,w)}if(N.modifierChain!=null&&N.modifierChain.modifierChain.length>0&&N.modifierChain.modifierChain.forEach($=>{$.modifier!=null&&typeof $.modifier.augmentScope!="undefined"&&$.modifier.augmentScope!=null&&$.modifier.augmentScope(N,w)}),N.modifiers.hasParameterModifiers()&&N.modifiers.parameterModifiers.forEach($=>{$.modifier!=null&&typeof $.modifier.augmentScope!="undefined"&&$.modifier.augmentScope!=null&&$.modifier.augmentScope(N,w)}),N.sourceType=="array"){let $=N.findParameter("chunk"),j=!0;if(N.parent!=null&&N.parent instanceof Z&&B1.includes(N.parent.runtimeName())&&(j=!1),typeof $!="undefined"&&$!==null)if(N.currentScope.parentScope!=null&&(N.currentScope.parentScope.hasList(N.runtimeName())||w.referencesArray(N.runtimeName()))){let X=N.currentScope.parentScope.copy(),J=X.liftList(N.runtimeName());if(J==null&&w.referencesArray(N.runtimeName())){if(J=new yr(w.statamicProject),j){let be=et(N);for(let we=0;we<be.length;we++){let Le=be[we];X.wasIntroducedBySymbol(Le.name,N)&&X.removeThroughIntroduction(Le.name,N)}J.addVariables(be)}}else j&&X.addVariables(et(N));X.addScopeList("chunk",J),w=X,u.pop(),u.push(w),N.currentScope=X}else{let X=N.findParameter("scope");if(typeof X!="undefined"&&X!==null&&N.currentScope!=null&&N.currentScope.hasList(X.value)&&N.scopeName!=null){let J=N.currentScope.copy(),be=J.ancestor().copy(),we=J.liftList(N.scopeName);j&&J.addVariables(et(N)),be.liftList(N.scopeName),J.addScopeList(N.scopeName,we),be.addScopeList("chunk",J),w=be,u.pop(),u.push(w),N.currentScope=be}}else N.scopeVariable!=null&&N.scopeVariable.sourceField==null&&j&&(w.addVariables(et(N)),w.addVariables(Xe(N)))}if(o.includes(N.id())&&N.parent!=null&&N.parent instanceof Z){let $=N.currentScope.findAncestorWithList(N.getTagName());$!=null?(N.currentScope=$,w=$.copy(),u.pop(),u.length==0&&u.push(n),u.push(w)):N.parent.parent!=null?N.currentScope=N.parent.parent.currentScope:N.currentScope=N.parent.currentScope}if(N.currentScope!=null&&N.runtimeNodes.length>0&&N.runtimeNodes.forEach($=>{var j;if($ instanceof Te&&((j=N.currentScope)==null?void 0:j.hasValue($.name))){let X=N.currentScope.findReferenceWithField($.name);$.currentScope=N.currentScope,$.scopeName=N.scopeName,$.scopeVariable=X}}),V1.includes(N.runtimeName())&&N.runtimeNodes.length==3&&N.runtimeNodes[0]instanceof Te&&N.runtimeNodes[1]instanceof On&&N.runtimeNodes[2]instanceof St&&N.runtimeNodes[0].scopeVariable!=null&&N.runtimeNodes[0].scopeVariable.sourceField!=null){let $=N.runtimeNodes[0].scopeVariable,j=N.runtimeNodes[2].value,X=$.sourceField;if(X.sets!=null)for(let J=0;J<X.sets.length;J++){let be=X.sets[J];if(be.handle==j&&be.fields!=null){w=w.copy(),w.addBlueprintFields(N,be.fields),N.isClosedBy!=null&&!N.isSelfClosing&&(a.push(N.id()),o.push(N.isClosedBy.id()),u.push(w));break}}}this.lastSymbolId=N.id();let le=a.join("/");l.push(le)}}};var Ts=class{};Ts.globalTagEnterStack=[],Ts.interpolatedVariables=[];var Nv=Ve(Eu());var kn=class{constructor(){this.name="";this.compound="";this.methodPart="";this.content="";this.cachedCompoundTagName=null}tagPartIs(e){return e=e.toLowerCase().trim(),this.name.toLowerCase().trim()==e}isCompound(){return this.methodPart==null?!1:this.methodPart.length>0}getMethodName(){return this.methodPart==""?"index":this.methodPart=="null"?"":this.methodPart}getRuntimeMethodName(){}getCompoundTagName(){if(this.cachedCompoundTagName==null){let e=this.getMethodName();this.cachedCompoundTagName=this.name,e!=null&&e!=""&&(this.cachedCompoundTagName=this.cachedCompoundTagName+":"+e)}return this.cachedCompoundTagName}};var am=class{constructor(){this.tagNames=[];this.modifierNames=[]}getModifierNames(){var e,n;return this.modifierNames.concat((n=(e=Ot.instance)==null?void 0:e.getModifierNames())!=null?n:[])}getTagNames(){var e,n;return this.tagNames.concat((n=(e=It.instance)==null?void 0:e.getTagNames())!=null?n:[])}setTagNames(e){this.tagNames=e}setModifierNames(e){this.modifierNames=e}isTag(e){var n;return am.alwaysLikeTag.includes(e)||((n=It.instance)==null?void 0:n.isKnownTag(e))?!0:this.tagNames.includes(e)}isModifier(e){var n;return((n=Ot.instance)==null?void 0:n.hasModifier(e))?!0:this.modifierNames.includes(e)}},co=am;co.alwaysLikeTag=["if","endif","elseif","else","unless","elseunless"];var po=class{static analyze(e,n){e.forEach(r=>{if(r instanceof Z){if(r.pathReference!=null&&r.pathReference.isStrictVariableReference){r.isTagNode=!1;return}r.name!=null&&(r.isTagNode=n.isTag(r.name.name))}})}static analyzeNode(e){if(e.pathReference!=null&&e.pathReference.isStrictVariableReference){e.isTagNode=!1;return}po.environmentDetails!=null&&e.name!=null&&(e.isTagNode=po.environmentDetails.isTag(e.name.name)),e.name!=null&&(e.isConditionNode=co.alwaysLikeTag.includes(e.name.name))}static analyzeParametersForModifiers(e){e.parameters.forEach(n=>{po.environmentDetails!=null&&(n.isModifierParameter=po.environmentDetails.isModifier(n.name))})}},fo=po;fo.environmentDetails=null;(typeof fo.environmentDetails=="undefined"||fo.environmentDetails==null)&&(fo.environmentDetails=new co);var om=fo;var lm=class{static getIdentifier(e){var i;let n=new kn;n.content=e.trim();let r=e.split(":");if(r.length==1)n.name=r[0].trim(),n.methodPart=null,n.compound=n.name;else if(r.length>1){let s=(i=r.shift())!=null?i:"",a=r.join(":");n.name=s.trim(),n.methodPart=a.trim(),n.compound=n.name+":"+n.methodPart}else n.name=e.trim(),n.methodPart="";return n.name.startsWith("/")&&(n.name=n.name.substr(1),n.compound=n.compound.substr(1)),n}};var ae=class{static getPrettyTypeName(e){return e instanceof Wr?ae.TOKEN_LANG_OPERATOR:e instanceof Gn?ae.TOKEN_OP_A_ADD:e instanceof Te?ae.TOKEN_VARIABLE:e instanceof St?ae.TOKEN_STRING:e instanceof Yt?ae.TOKEN_NUMBER:e instanceof Rr?ae.TOKEN_CONSTANT_FALSE:e instanceof cr?ae.TOKEN_CONSTANT_NULL:e instanceof wr?ae.TOKEN_CONSTANT_TRUE:e instanceof Da?ae.TOKEN_MODIFIER_NODE:e instanceof Ko?ae.TOKEN_MODIFIER_CHAIN:e instanceof hp?ae.TOKEN_MODIFIER_PARAMETER:e instanceof Yn?ae.TOKEN_OP_A_DIVIDE:e instanceof pi?ae.TOKEN_OP_A_EXPONENTIATION:e instanceof di?ae.TOKEN_OP_A_MODULUS:e instanceof $n?ae.TOKEN_OP_A_MULTIPLY:e instanceof wn?ae.TOKEN_OP_A_SUBTRACT:e instanceof Or?ae.TOKEN_ASG_ADD:e instanceof Lr?ae.TOKEN_ASG_DIVIDE:e instanceof Fr?ae.TOKEN_ASG_MODULUS:e instanceof Mr?ae.TOKEN_ASG_MULTIPLY:e instanceof Hn?ae.TOKEN_ASG_ASSIGN:e instanceof mi?ae.TOKEN_ASG_SUBTRACT:e instanceof On?ae.TOKEN_CMP_EQUAL:e instanceof Ur?ae.TOKEN_CMP_SEQUAL:e instanceof fr?ae.TOKEN_CMP_GT:e instanceof wi?ae.TOKEN_CMP_GTE:e instanceof kr?ae.TOKEN_CMP_LT:e instanceof qr?ae.TOKEN_CMP_LTE:e instanceof Br?ae.TOKEN_CMP_NEQ:e instanceof Vr?ae.TOKEN_CMP_SNEQ:e instanceof jr?ae.TOKEN_CMP_SPACESHIP:e instanceof Oi?ae.TOKEN_OP_VARIABLE_FALLBACK:e instanceof gp?ae.TOKEN_COND_FALLBACK_GROUP:e instanceof Ct?ae.TOKEN_BRANCH_SEPARATOR:e instanceof Gr?ae.TOKEN_TERNARY_SEPARATOR:e instanceof Qt?ae.TOKEN_GROUP_BEGIN:e instanceof Wt?ae.TOKEN_GROUP_END:e instanceof Nn?ae.TOKEN_MODIFIER_SEPARATOR:e instanceof hn?ae.TOKEN_MODIFIER_NAME:e instanceof Gt?ae.TOKEN_MODIFIER_VALUE:e instanceof Ln?ae.TOKEN_MODIFIER_VALUE_SEPARATOR:e instanceof Xo?ae.TOKEN_NULL_COALESCE_GROUP:e instanceof Lt?ae.TOKEN_SEMANTIC_GROUP:e instanceof un?ae.TOKEN_STATEMENT_SEPARATOR:e instanceof Qo?ae.TOKEN_TERNARY_CONDITION:e instanceof pr?ae.TOKEN_OP_AND:e instanceof cn?ae.TOKEN_OP_LOGIC_NEGATION:e instanceof Yr?ae.TOKEN_OP_OR:e instanceof hi?ae.TOKEN_OP_XOR:e instanceof dr?ae.TOKEN_OP_NULL_COALESCE:e instanceof Ho?ae.TOKEN_PARAM:e instanceof Un?ae.TOKEN_PATH_ACCESSOR:e instanceof ts?ae.TOKEN_OP_A_FACTORIAL:e instanceof ur?ae.TOKEN_RECURSIVE:e instanceof Ia?ae.TOKEN_ARG_GROUP:e instanceof At?ae.TOKEN_ARG_SEPARATOR:e instanceof gi?ae.TOKEN_OP_STRING_CONCAT:e instanceof Cn?ae.TOKEN_OP_SCOPE_REASSIGNMENT:e instanceof Sa?ae.TOKEN_STRUCT_SWITCH_CASE:e instanceof qs?ae.TOKEN_STRUCT_SWITCH_GROUP:e instanceof ks?ae.TOKEN_STRUCT_DIRECTION_GROUP:e instanceof mr?ae.TOKEN_STRUCT_SCOPED_LOGIC_GROUP:e instanceof Ge?ae.TOKEN_STRUCT_LOGIC_GROUP:e instanceof zo?ae.TOKEN_STRUCT_VALUE_DIRECTION:e instanceof Li?ae.TOKEN_STRUCT_ARRAY:e instanceof $r?ae.TOKEN_STRUCT_T_LIST_START:e instanceof _p?ae.TOKEN_STRUCT_TUPLE_LIST:e instanceof Zt?ae.TOKEN_STRUCT_METHOD_CALL:typeof e}},z=ae;z.TOKEN_LANG_OPERATOR="T_LANG_OPERATOR",z.TOKEN_VARIABLE="T_VAR",z.TOKEN_NUMBER="T_NUMERIC",z.TOKEN_STRING="T_STRING",z.TOKEN_RECURSIVE="T_RECURSIVE",z.TOKEN_CONSTANT_FALSE="T_FALSE",z.TOKEN_CONSTANT_NULL="T_NULL",z.TOKEN_CONSTANT_TRUE="T_TRUE",z.TOKEN_MODIFIER_NODE="T_MODIFIER",z.TOKEN_MODIFIER_CHAIN="T_MODIFIER_CHAIN",z.TOKEN_MODIFIER_PARAMETER="T_MODIFIER_PARAM",z.TOKEN_OP_A_ADD="T_AOP_ADD",z.TOKEN_OP_A_DIVIDE="T_AOP_DIVIDE",z.TOKEN_OP_A_EXPONENTIATION="T_AOP_EXP",z.TOKEN_OP_A_MODULUS="T_AOP_MOD",z.TOKEN_OP_A_MULTIPLY="T_AOP_MULTIPLY",z.TOKEN_OP_A_SUBTRACT="T_AOP_SUBTRACT",z.TOKEN_OP_A_FACTORIAL="T_AOP_FACTORIAL",z.TOKEN_ASG_ADD="T_ASG_ADD",z.TOKEN_ASG_DIVIDE="T_ASG_DIVIDE",z.TOKEN_ASG_ASSIGN="T_ASG",z.TOKEN_ASG_MODULUS="T_ASG_MODULUS",z.TOKEN_ASG_MULTIPLY="T_ASG_MULTIPLY",z.TOKEN_ASG_SUBTRACT="T_ASG_SUBTRACT",z.TOKEN_CMP_EQUAL="T_CMP_EQ",z.TOKEN_CMP_SEQUAL="T_CMP_SEQ",z.TOKEN_CMP_GT="T_CMP_GT",z.TOKEN_CMP_GTE="T_CMP_GTE",z.TOKEN_CMP_LT="T_CMP_LT",z.TOKEN_CMP_LTE="T_CMP_LTE",z.TOKEN_CMP_NEQ="T_CMP_NEQ",z.TOKEN_CMP_SNEQ="T_CMP_SNEQ",z.TOKEN_CMP_SPACESHIP="T_CMP_SPSHP",z.TOKEN_OP_VARIABLE_FALLBACK="T_VFBK",z.TOKEN_COND_FALLBACK_GROUP="T_VFBK_GROUP",z.TOKEN_BRANCH_SEPARATOR="T_BRANCH_SEPARATOR",z.TOKEN_TERNARY_SEPARATOR="T_TERNARY_SEPARATOR",z.TOKEN_GROUP_BEGIN="T_LOGIC_BEGIN",z.TOKEN_GROUP_END="T_LOGIC_END",z.TOKEN_MODIFIER_SEPARATOR="T_MODIFIER_SEPARATOR",z.TOKEN_MODIFIER_NAME="T_MODIFIER_NAME",z.TOKEN_MODIFIER_VALUE="T_MODIFIER_VALUE",z.TOKEN_MODIFIER_VALUE_SEPARATOR="T_MODIFIER_VALUE_SEPARATOR",z.TOKEN_NULL_COALESCE_GROUP="T_NULL_COALESCE_GROUP",z.TOKEN_SEMANTIC_GROUP="T_SEMANTIC_GROUP",z.TOKEN_STATEMENT_SEPARATOR="T_STATEMENT_SEPARATOR",z.TOKEN_TERNARY_CONDITION="T_TERNARY_CONDITION",z.TOKEN_OP_AND="T_AND",z.TOKEN_OP_LOGIC_NEGATION="T_LOGIC_INVERSE",z.TOKEN_OP_OR="T_OR",z.TOKEN_OP_XOR="T_XOR",z.TOKEN_OP_NULL_COALESCE="T_NULL_COALESCE",z.TOKEN_PARAM="T_PARAM",z.TOKEN_PATH_ACCESSOR="T_VAR_SEPARATOR",z.TOKEN_ARG_GROUP="T_ARG_GROUP",z.TOKEN_ARG_SEPARATOR="T_ARG_SEPARATOR",z.TOKEN_OP_STRING_CONCAT="T_STR_CONCAT",z.TOKEN_OP_SCOPE_REASSIGNMENT="T_SCOPE_ASSIGNMENT",z.TOKEN_STRUCT_SWITCH_CASE="T_SWITCH_CASE",z.TOKEN_STRUCT_SWITCH_GROUP="T_SWITCH_GROUP",z.TOKEN_STRUCT_DIRECTION_GROUP="T_DIRECTION_GROUP",z.TOKEN_STRUCT_VALUE_DIRECTION="T_ORDER_DIRECTION",z.TOKEN_STRUCT_SCOPED_LOGIC_GROUP="T_SCOPED_LOGIC_GROUP",z.TOKEN_STRUCT_LOGIC_GROUP="T_LOGIC_GROUP",z.TOKEN_STRUCT_ARRAY="T_ARRAY",z.TOKEN_STRUCT_T_LIST_START="T_LIST_START",z.TOKEN_STRUCT_TUPLE_LIST="T_LIST",z.TOKEN_STRUCT_METHOD_CALL="T_METHOD_CALL";var tt=class{static isLanguageLogicalKeyword(e){return e==this.LogicalAnd||e==this.LogicalNot||e==this.LogicalOr||e==this.LogicalXor}};tt.LogicalAnd="and",tt.LogicalNot="not",tt.LogicalOr="or",tt.LogicalXor="xor",tt.ConstTrue="true",tt.ConstFalse="false",tt.ConstNull="null",tt.ArrList="list",tt.ScopeAs="as";var um=class{constructor(){this.chars=[];this.inputLen=0;this.currentIndex=0;this.currentContent=[];this.rawContent=[];this.startIndex=0;this.cur=null;this.next=null;this.prev=null;this.isParsingString=!1;this.isParsingModifierName=!1;this.isInModifierParameterValue=!1;this.runtimeNodes=[];this.ignorePrevious=!1;this.lastNode=null;this.referenceParser=null;this.activeNode=null}reset(){this.ignorePrevious=!1,this.runtimeNodes=[],this.chars=[],this.inputLen=0,this.currentIndex=0,this.currentContent=[],this.rawContent=[],this.startIndex=0,this.cur=null,this.next=null,this.prev=null,this.isParsingString=!1,this.isParsingModifierName=!1,this.isInModifierParameterValue=!1,this.referenceParser=null,this.activeNode=null}checkCurrentOffsets(){this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.ignorePrevious?(this.prev="",this.ignorePrevious=!1):this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen&&(this.next=this.chars[this.currentIndex+1])}isValidChar(e){return e==null||e==L.Punctuation_Semicolon?!1:this.isParsingString==!1&&e=="]"?!0:this.isParsingString==!1&&e==")"?!1:(e=="["||e=="]")&&e==this.cur||(e=="_"||e=="."||e=="["||e=="]")&&(!(this.currentContent.length>0)||ie.ctypeAlpha(this.cur)||ie.ctypeDigit(this.cur))?!0:ie.ctypeSpace(e)?!1:this.isParsingModifierName&&(e==L.Punctuation_Minus||e==L.Punctuation_Underscore)?!0:!ie.ctypePunct(e)}isRightOfInterpolationRegion(){if(this.activeNode==null||this.referenceParser==null)return!1;let e=this.activeNode._lexerRelativeOffset(this.currentIndex);return this.referenceParser.bordersInterpolationRegion(e)}scanForwardTo(e,n=0){let r=[];for(let i=this.currentIndex+1+n;i<this.inputLen;i++){let s=this.chars[i];if(s==e){r.push(s);break}else r.push(s)}return r}nextNonWhitespace(){for(let e=this.currentIndex+1;e<this.inputLen;e++){let n=this.chars[e];if(!ie.ctypeSpace(n))return n}return null}pushError(e){this.referenceParser!=null&&this.referenceParser.addAntlersError(e)}guardAgainstNeighboringTypesInModifier(e){return this.lastNode instanceof Gt&&this.pushError(Y.makeSyntaxError(P.TYPE_MODIFIER_INCORRECT_VALUE_POSITION,this.lastNode,"Incorrect type ["+z.getPrettyTypeName(e)+"] near ["+z.getPrettyTypeName(this.lastNode)+"]")),!1}appendContent(e){e!=null&&this.currentContent.push(e)}tokenize(e,n){this.reset(),this.referenceParser=e.getParser(),this.activeNode=e,this.chars=n.split(""),this.inputLen=this.chars.length,this.runtimeNodes=[],this.lastNode=null;let r=null;this.isParsingString=!1,this.isParsingModifierName=!1;let i=null;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){this.checkCurrentOffsets();let a=!0;if(this.cur!=null&&this.rawContent.push(this.cur),this.isParsingString==!1&&(this.cur==L.String_Terminator_DoubleQuote||this.cur==L.String_Terminator_SingleQuote)){if(this.prev==L.String_EscapeCharacter){this.pushError(Y.makeSyntaxError(P.TYPE_ILLEGAL_STRING_ESCAPE_SEQUENCE,e,"Illegal string escape sequence outside string parsing."));continue}this.rawContent=[],this.rawContent.push(this.cur),i=this.cur,this.isParsingString=!0,r=this.currentIndex;continue}if(this.isInModifierParameterValue&&!this.isParsingString){let o=!1;if(!this.isParsingString&&ie.ctypeSpace(this.next)){let l=this.scanForwardTo(" ",1).join("").trim().toLowerCase();l.length>0&&tt.isLanguageLogicalKeyword(l)&&(o=!0)}if(this.next==L.String_Terminator_SingleQuote||this.next==L.String_Terminator_DoubleQuote||this.next==null||o){this.appendContent(this.cur);let l=this.currentContent.join("");if(l.length>0){let u=l;if(this.currentContent=[],this.rawContent=[],u.trimRight().length==0){let c=this.nextNonWhitespace();if(c==L.String_Terminator_SingleQuote||c==L.String_Terminator_DoubleQuote){this.currentContent=[],this.rawContent=[];continue}}let f=new Gt;f.isVirtual=!1,f.name=u,f.value=u.trimRight(),f.startPosition=e._lexerRelativeOffset(this.currentIndex-u.length),f.endPosition=e._lexerRelativeOffset(this.currentIndex),f.parent=this.activeNode,this.guardAgainstNeighboringTypesInModifier(f),this.runtimeNodes.push(f),this.lastNode=f}if(l.length==0)continue;this.currentContent=[],this.rawContent=[],this.isInModifierParameterValue=!1;continue}if(this.next==L.Punctuation_Pipe||this.next==L.Punctuation_Colon||this.next==L.RightParent){this.isInModifierParameterValue=!1,this.appendContent(this.cur);let l=0,u=!1;if(this.currentContent[0]==L.String_Terminator_SingleQuote||this.currentContent[0]==L.String_Terminator_DoubleQuote){let m=this.scanForwardTo(this.currentContent[0]);m.length>0&&(this.currentContent=this.currentContent.concat(m),l=m.length,u=!0)}let f=this.currentContent.join("");u&&(f=f.substr(1),f=f.slice(0,-1)),this.currentContent=[],this.rawContent=[];let c=new Gt;c.isVirtual=!1,c.name=f,c.value=f,c.startPosition=e._lexerRelativeOffset(this.currentIndex-f.length),c.endPosition=e._lexerRelativeOffset(this.currentIndex),c.parent=this.activeNode,this.runtimeNodes.push(c),this.guardAgainstNeighboringTypesInModifier(c),this.lastNode=c,this.currentIndex+=l}else this.appendContent(this.cur);continue}if(this.isParsingString&&this.cur==i){if(this.prev==L.String_EscapeCharacter)this.appendContent(i);else{if(this.isInModifierParameterValue){let l=this.currentContent.join(""),u=new Gt;u.isVirtual=!1,u.name=l,u.value=l,u.startPosition=e._lexerRelativeOffset(r!=null?r:0),u.endPosition=e._lexerRelativeOffset(this.currentIndex),u.parent=this.activeNode,this.runtimeNodes.push(u),this.guardAgainstNeighboringTypesInModifier(u),this.lastNode=u,this.currentContent=[],this.rawContent=[],this.isParsingString=!1,this.isInModifierParameterValue=!1;continue}let o=new St;o.isVirtual=!1,o.startPosition=e._lexerRelativeOffset(r!=null?r:0),o.endPosition=e._lexerRelativeOffset(this.currentIndex),o.parent=this.activeNode,i!=null&&(o.sourceTerminator=i),i=null,this.isParsingString=!1,o.value=this.currentContent.join(""),o.rawLexContent=this.rawContent.join("").trim(),this.currentContent=[],this.rawContent=[],this.guardAgainstNeighboringTypesInModifier(o),this.runtimeNodes.push(o),this.lastNode=o}continue}if(this.isParsingString&&this.cur==L.String_EscapeCharacter){if(this.next==L.String_EscapeCharacter){this.appendContent(L.String_EscapeCharacter),this.ignorePrevious=!0,this.currentIndex+=1;continue}else if(this.next==L.String_Terminator_SingleQuote){this.appendContent(L.String_Terminator_SingleQuote),this.currentIndex+=1;continue}else if(this.next==L.String_Terminator_DoubleQuote){this.appendContent(L.String_Terminator_DoubleQuote),this.currentIndex+=1;continue}else if(this.next=="n"){this.appendContent(`
`),this.currentIndex+=1;continue}else if(this.next=="t"){this.appendContent("	"),this.currentIndex+=1;continue}else if(this.next=="r"){this.appendContent("\r"),this.currentIndex+=1;continue}}if(this.isParsingString==!1){if(this.isValidChar(this.cur)&&this.isValidChar(this.next)==!1&&this.currentContent.length==0&&(this.appendContent(this.cur),a=!1),(this.next==null||this.isValidChar(this.next)==!1)&&this.currentContent.length>0){a&&this.appendContent(this.cur);let o=this.currentContent.join("").trim(),l=o.length,u=this.currentIndex-l,f=e._lexerRelativeOffset(u),c=e._lexerRelativeOffset(this.currentIndex);if(this.currentContent=[],this.rawContent=[],o==tt.LogicalAnd){let g=new pr;g.isVirtual=!1,g.content=tt.LogicalAnd,g.startPosition=f,g.endPosition=c,g.parent=this.activeNode,this.runtimeNodes.push(g),this.lastNode=g;continue}else if(o==tt.LogicalOr){let g=new Yr;g.isVirtual=!1,g.content=tt.LogicalOr,g.startPosition=f,g.endPosition=c,g.parent=this.activeNode,this.runtimeNodes.push(g),this.lastNode=g;continue}else if(o==tt.LogicalXor){let g=new hi;g.isVirtual=!1,g.content=tt.LogicalXor,g.startPosition=f,g.endPosition=c,g.parent=this.activeNode,this.runtimeNodes.push(g),this.lastNode=g;continue}else if(o==tt.ConstNull){let g=new cr;g.isVirtual=!1,g.content=tt.ConstNull,g.startPosition=f,g.endPosition=c,g.parent=this.activeNode,this.runtimeNodes.push(g),this.lastNode=g;continue}else if(o==tt.ConstTrue){let g=new wr;g.isVirtual=!1,g.content=tt.ConstTrue,g.startPosition=f,g.endPosition=c,g.parent=this.activeNode,this.runtimeNodes.push(g),this.lastNode=g;continue}else if(o==tt.ConstFalse){let g=new Rr;g.isVirtual=!1,g.content=tt.ConstFalse,g.startPosition=f,g.endPosition=c,g.parent=this.activeNode,this.runtimeNodes.push(g),this.lastNode=g;continue}else if(o==tt.LogicalNot){let g=new cn;g.isVirtual=!1,g.content=tt.LogicalNot,g.startPosition=f,g.endPosition=c,g.parent=this.activeNode,this.runtimeNodes.push(g),this.lastNode=g;continue}else if(o==tt.ArrList&&this.next==L.LeftParen){let g=new $r;g.isVirtual=!1,g.content=tt.ArrList,g.startPosition=f,g.endPosition=c,g.parent=this.activeNode,this.runtimeNodes.push(g),this.lastNode=g;continue}if(ie.isNumeric(o)){let g=new Yt;g.isVirtual=!1,g.startPosition=f,g.endPosition=c,g.parent=this.activeNode,o.includes(".")?g.value=parseFloat(o):g.value=parseInt(o),g.rawLexContent=o,this.guardAgainstNeighboringTypesInModifier(g),this.runtimeNodes.push(g),this.lastNode=g;continue}if(this.runtimeNodes.length>0){let g=this.runtimeNodes[this.runtimeNodes.length-1];if(g instanceof Nn){let d=new hn;d.isVirtual=!1,d.name=o,d.startPosition=f,d.endPosition=c,d.parent=this.activeNode,this.runtimeNodes.push(d),this.lastNode=d;continue}else if(g instanceof Ln){let d=new Gt;d.isVirtual=!1,d.name=o,d.value=o,d.startPosition=f,d.endPosition=c,d.parent=this.activeNode,this.runtimeNodes.push(d),this.lastNode=d,this.isParsingModifierName=!1;continue}}let m=new Te;m.isVirtual=!1,m.name=o,m.startPosition=f,m.endPosition=c,m.parent=this.activeNode,this.runtimeNodes.push(m),this.lastNode=m;continue}}else{this.appendContent(this.cur);continue}if(!ie.ctypeSpace(this.cur)){if(this.isParsingString==!1){if(this.cur==L.Punctuation_Equals&&this.next==L.Punctuation_GreaterThan){let o=new Cn;o.isVirtual=!1,o.content="=>",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentContent=[],this.rawContent=[],this.currentIndex+=1;continue}if(this.cur==L.Punctuation_Comma){let o=new At;o.isVirtual=!1,o.content=L.Punctuation_Comma,o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==L.Punctuation_Semicolon){let o=new un;o.isVirtual=!1,o.content=L.Punctuation_Semicolon,o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==L.Punctuation_Plus){if(this.next==L.Punctuation_Equals){let l=new Or;l.isVirtual=!1,l.content="+=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new Gn;o.isVirtual=!1,o.content="+",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.isParsingModifierName==!1&&this.cur==L.Punctuation_Minus){if(ie.ctypeDigit(this.next)&&ie.ctypeDigit(this.prev)==!1&&this.prev!=L.RightParent&&this.isRightOfInterpolationRegion()==!1){this.appendContent(this.cur);continue}if(this.next==L.Punctuation_Equals){let l=new mi;l.isVirtual=!1,l.content="-=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}else if(this.next==L.Punctuation_GreaterThan){let l=new Zt;l.isVirtual=!1,l.content="->",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new wn;o.isVirtual=!1,o.content="-",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==L.Punctuation_Asterisk){if(this.next==L.Punctuation_Asterisk){let l=new pi;l.isVirtual=!1,l.content="**",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}else if(this.next==L.Punctuation_Equals){let l=new Mr;l.isVirtual=!1,l.content="*=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new $n;o.isVirtual=!1,o.content="*",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==L.Punctuation_ForwardSlash){if(this.next==L.Punctuation_Equals){let l=new Lr;l.isVirtual=!1,l.content="/=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new Yn;o.isVirtual=!1,o.content="/",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==L.Punctuation_Percent){if(this.next==L.Punctuation_Equals){let l=new Fr;l.isVirtual=!1,l.content="%=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new di;o.isVirtual=!1,o.content="%",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==L.Punctuation_LessThan){if(this.next==L.Punctuation_Equals){let l=null;if(this.currentIndex+2<this.inputLen&&(l=this.chars[this.currentIndex+2]),l==L.Punctuation_GreaterThan){let f=new jr;f.isVirtual=!1,f.content="<=>",f.startPosition=e._lexerRelativeOffset(this.currentIndex),f.endPosition=e._lexerRelativeOffset(this.currentIndex+3),f.parent=this.activeNode,this.runtimeNodes.push(f),this.lastNode=f,this.currentIndex+=2;continue}let u=new qr;u.isVirtual=!1,u.content="<=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let o=new kr;o.isVirtual=!1,o.content="<",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==L.Punctuation_GreaterThan){if(this.next==L.Punctuation_Equals){let l=new fr;l.isVirtual=!1,l.content=">=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new fr;o.isVirtual=!1,o.content=">",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==L.Punctuation_Equals&&this.next!=L.Punctuation_Equals){let o=new Hn;o.isVirtual=!1,o.content="=",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==L.Punctuation_Equals&&this.next==L.Punctuation_Equals){let o=null;if(this.currentIndex+2<this.inputLen&&(o=this.chars[this.currentIndex+2]),o==L.Punctuation_Equals){let l=new Ur;l.isVirtual=!1,l.content="===",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+3),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=2}else{let l=new On;l.isVirtual=!1,l.content="==",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1}continue}if(this.cur==L.Punctuation_Ampersand){if(this.next==L.Punctuation_Ampersand){let l=new pr;l.isVirtual=!1,l.content="&&",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}if(this.next==L.Punctuation_Equals){let l=new gi;l.isVirtual=!1,l.content="&=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}let o=new pr;o.isVirtual=!1,o.content="&",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==L.Punctuation_Pipe&&this.next!=L.Punctuation_Pipe){let o=new Nn;o.isVirtual=!1,o.content="|",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.isParsingModifierName=!0;continue}if(this.cur==L.Punctuation_Pipe&&this.next==L.Punctuation_Pipe){let o=new Yr;o.isVirtual=!1,o.content="||",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+2),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentIndex+=1;continue}if(this.cur==L.Punctuation_Exclamation){if(this.next==L.Punctuation_Equals){let l=null;if(this.currentIndex+2<this.inputLen&&(l=this.chars[this.currentIndex+2]),l==L.Punctuation_Equals){let f=new Vr;f.isVirtual=!1,f.content="!==",f.startPosition=e._lexerRelativeOffset(this.currentIndex),f.endPosition=e._lexerRelativeOffset(this.currentIndex+3),f.parent=this.activeNode,this.runtimeNodes.push(f),this.lastNode=f,this.currentIndex+=2;continue}let u=new Br;u.isVirtual=!1,u.content="!=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let o=new cn;o.isVirtual=!1,o.content="!",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==L.Punctuation_Question&&this.next==L.Punctuation_Equals){let o=new Oi;o.isVirtual=!1,o.content="?=",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+2),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentIndex+=1;continue}if(this.cur==L.Punctuation_Question&&this.next==L.Punctuation_Question){let o=new dr;o.isVirtual=!1,o.content="??",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+2),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentIndex+=1;continue}if(this.cur==L.Punctuation_Question&&this.next==L.Punctuation_Colon){let o=new dr;o.isVirtual=!1,o.content="?:",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+2),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentIndex+=1;continue}if(this.cur==L.Punctuation_Question){let o=new Gr;o.isVirtual=!1,o.content="?",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==L.LeftParen){let o=new Qt;o.isVirtual=!1,o.content="(",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==L.RightParent){let o=new Wt;o.isVirtual=!1,o.content=")",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==L.Punctuation_Colon){if(this.runtimeNodes.length>0&&this.runtimeNodes[this.runtimeNodes.length-1]instanceof hn){let u=new Ln;u.isVirtual=!1,u.content=":",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+1),u.parent=this.activeNode,this.runtimeNodes.push(u),this.isInModifierParameterValue==!1?this.isInModifierParameterValue=!0:this.isInModifierParameterValue=!1;continue}let o=new Ct;o.isVirtual=!1,o.content=":",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.isParsingModifierName=!1;continue}}a&&this.appendContent(this.cur)}}let s=this.runtimeNodes.length-1;for(let a=0;a<this.runtimeNodes.length;a++){let o=null,l=null;a>0&&(o=this.runtimeNodes[a-1]),a!=s&&(l=this.runtimeNodes[a+1]);let u=this.runtimeNodes[a];u.prev=o,u.next=l}return this.runtimeNodes}};var qt=class{constructor(){this.chars=[];this.currentIndex=0;this.lastIndex=0;this.inputLength=0;this.prev=null;this.cur=null;this.next=null;this.isParsingString=!1;this.isStringKeyPath=!1;this.antlersErrors=[];this._recusriveEntryCheck=new Map}isValidChar(e){return!(this.isParsingString==!1&&ie.ctypeSpace(e)||this.isParsingString==!1&&e==qt.LeftBracket||this.isParsingString==!1&&e==qt.RightBracket)}normalizePath(e){return e=e.replace(":","_"),e=e.replace(".","_"),e=e.replace("[","_"),e=e.replace("]","_"),e.replace("]","_")}getAntlersErrors(){return this.antlersErrors}mergeErrors(e){e.forEach(n=>{this.antlersErrors.push(n)})}parse(e){this.antlersErrors=[],this._recusriveEntryCheck.clear();let n=e,r=!1,i=!1,s=!1,a=!1;e.startsWith(L.AtChar)&&(s=!0,e=e.substr(1)),e.startsWith(L.Punctuation_Caret)?(a=!0,e=e.substr(1)):(e.startsWith(L.Punctuation_Dollar)&&(r=!0,e=e.substr(1)),e.startsWith(L.Punctuation_Dollar)&&(i=!0,e=e.substr(1))),this.chars=[],this.currentIndex=0,this.lastIndex=0,this.inputLength=0,this.cur=null,this.prev=null,this.next=null,this.chars=e.split(""),this.inputLength=this.chars.length,this.lastIndex=this.inputLength-1;let o=[],l=!1,u=[],f=qt.ColonSeparator,c=!1,m=null,g=!1,d=!0;if(this.isParsingString=!1,this.inputLength==0){let y=new rs;return y._isFromEmptyFailState=!0,y}for(this.currentIndex;this.currentIndex<this.inputLength;this.currentIndex+=1){if(this.cur=this.chars[this.currentIndex],this.next=null,c?(c=!1,this.prev=""):this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLength&&(this.next=this.chars[this.currentIndex+1]),this.isParsingString==!1&&this.cur==qt.ColonSeparator&&(f=qt.ColonSeparator),this.isParsingString==!1&&this.cur==qt.DotPathSeparator&&(f=qt.DotPathSeparator),this.isParsingString&&this.cur==L.String_EscapeCharacter&&this.next==m){m!=null&&o.push(m),this.currentIndex+=1;continue}if(this.cur==L.String_Terminator_SingleQuote||this.cur==L.String_Terminator_DoubleQuote)if(this.isParsingString)if(this.cur==m)if(this.prev==L.String_EscapeCharacter){o.push(this.cur);continue}else this.isParsingString=!1,d=!1;else{o.push(this.cur);continue}else{this.prev!=L.LeftBracket&&(ie.ctypeAlpha(this.prev)||ie.ctypeDigit(this.prev))&&this.antlersErrors.push(Y.makeSyntaxError(P.PATH_STRING_NOT_INSIDE_ARRAY_ACCESSOR,null,"Unexpected string start while parsing variable path. String literals must be within array accessors.")),this.isParsingString=!0,g=!0,m=this.cur,this.isStringKeyPath=!0;continue}if(this.isParsingString){if(ie.ctypeSpace(this.cur)){o.push(this.cur);continue}else if(this.cur==L.String_EscapeCharacter){if(this.next==L.String_EscapeCharacter){o.push(L.String_EscapeCharacter),this.currentIndex+=1,c=!0;continue}else if(this.next=="n"){o.push(`
`),this.currentIndex+=1;continue}else if(this.next=="t"){o.push("	"),this.currentIndex+=1;continue}else if(this.next=="r"){o.push("\r"),this.currentIndex+=1;continue}}}if(this.isParsingString==!1&&this.cur==qt.LeftBracket){if(o.length>0){let b=new Un;b.name=o.join(""),b.delimiter=f,u.push(b),o=[]}if(this.next==null||ie.ctypeSpace(this.next)){this.antlersErrors.push(Y.makeSyntaxError(P.TYPE_ILLEGAL_VARPATH_SPACE_RIGHT,null,"Unexpected end of input or whitespace while parsing variable accessor path."));continue}let y=this.locateEndOfAccessor();this.currentIndex=y.foundOn;let _=new qt;if(u.push(_.parse(y.nestedContent)),this.mergeErrors(_.getAntlersErrors()),l=!0,this.currentIndex==-1){this.antlersErrors.push(Y.makeSyntaxError(P.PARSER_CANNOT_PARSE_PATH_RECURSIVE,null,"Cannot parse variable path.")),l=!1;break}continue}if(this.isParsingString==!1&&this.next==qt.RightBracket&&l){d?o.push(this.cur):d=!0;let y=new yp;y.name=o.join(""),u.push(y),o=[],f=qt.ColonSeparator,this.currentIndex+=1,l=!1;continue}if(this.isParsingString==!1&&(this.cur==qt.LeftBracket||this.cur==qt.ColonSeparator||this.cur==qt.DotPathSeparator||this.currentIndex==this.lastIndex)){if(this.next==null||ie.ctypeSpace(this.next)){if(this.cur==qt.ColonSeparator){if(o.length==0){this.antlersErrors.push(Y.makeSyntaxError(P.TYPE_UNEXPECTED_BRANCH_SEPARATOR,null,"Unexpected [T_BRANCH_SEPARATOR] while parsing input text."));continue}this.antlersErrors.push(Y.makeSyntaxError(P.TYPE_ILLEGAL_VARPATH_RIGHT,null,'Variable paths cannot end with the ":" character.'));continue}if(this.cur==qt.LeftBracket){this.antlersErrors.push(Y.makeSyntaxError(P.TYPE_ILLEGAL_VARPATH_SUBPATH_START,null,"Illegal variable sub-path start."));continue}}this.currentIndex==this.lastIndex&&this.isValidChar(this.cur)&&(d?o.push(this.cur):d=!0);let y=new Un;y.delimiter=f,y.name=o.join(""),g&&(y.isStringVar=g,y.name=n.substr(1),y.name=y.name.slice(0,-1),g=!1),u.push(y),o=[];continue}else{o.push(this.cur);continue}}let p=u.length;if(p>0){let y=u[p-1];(y instanceof Un||y instanceof rs)&&(y.isFinal=!0)}let h=new rs;return h.isStrictTagReference=a,h.isStrictVariableReference=r,h.isExplicitVariableReference=i,h.pathParts=u,h.originalContent=e,h.isVariableVariable=s,h.normalizedReference=e.replace(":","."),h}locateEndOfAccessor(){let e=[],n=1,r=-1,i="",s=!1,a=null;if(this._recusriveEntryCheck.has(this.currentIndex+1)==!1)this._recusriveEntryCheck.set(this.currentIndex+1,!0);else return{foundOn:r,nestedContent:""};for(let o=this.currentIndex+1;o<this.inputLength;o++){let l=this.chars[o],u=null,f=null;if(o>0&&(f=this.chars[o-1]),o+1<this.inputLength&&(u=this.chars[o+1]),s==!1&&(l==L.String_Terminator_SingleQuote||l==L.String_Terminator_DoubleQuote)){s=!0,a=l,e.push(l);continue}if(s==!1&&l==qt.LeftBracket){n+=1,e.push(l);continue}if(s&&l==a&&f!=L.String_EscapeCharacter){e.push(l),s=!1,a=null;continue}if(s==!1&&l==qt.RightBracket)if(n-=1,n==0){r=o,i=e.join("");break}else{e.push(l);continue}else e.push(l);s==!1&&ie.ctypeSpace(u)&&this.antlersErrors.push(Y.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR,null,"Unexpected end of input or whitespace while parsing inner variable accessor path.")),u==null&&this.antlersErrors.push(Y.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR,null,"Unexpected end of input or whitespace while parsing inner variable accessor path."))}return{foundOn:r,nestedContent:i}}},Gi=qt;Gi.ColonSeparator=":",Gi.LeftBracket="[",Gi.RightBracket="]",Gi.DotPathSeparator=".";var cm=class{constructor(){this.chars=[];this.inputLen=0;this.currentIndex=0;this.cur=null;this.prev=null;this.pathParser=new Gi;this.lexer=new um;this.activeNode=null}reset(){this.chars=[],this.inputLen=0,this.currentIndex=0,this.cur=null,this.prev=null}canBeClosingTag(e){var r;let n=(r=e.name)==null?void 0:r.name;return n=="elseif"||n=="else"?!0:e.name==null?!1:e.name.content.startsWith("/")}parseNode(e){var f,c,m,g;if(this.activeNode=e,this.reset(),e.content.startsWith("*subrecursive")){let d=e.content;d=d.trim(),d=ie.trimRight(d,"*"),d=d.substr(13);let p=new ur;return e.copyBasicDetailsTo(p),p.originalNode=e,p.name=new kn,p.name.name=d,p.isNestedRecursive=!0,p.pathReference=this.pathParser.parse(d),p.mergeErrors(this.pathParser.getAntlersErrors()),p.content=d,p.runtimeContent=d,p}if(e.content.trim().startsWith("*recursive")){let d=e.content;d=d.trim(),d=ie.trimRight(d,"*"),d=d.substr(10).trim();let p=new ur;return e.copyBasicDetailsTo(p),p.originalNode=e,p.name=new kn,p.name.name=d,p.pathReference=this.pathParser.parse(d),p.mergeErrors(this.pathParser.getAntlersErrors()),p.content=d,p.runtimeContent=d,p}this.chars=e.content.split(""),this.inputLen=this.chars.length;let n=[],r=!1,i="",s=!1,a=null;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1)if(this.cur=this.chars[this.currentIndex],this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),r==!1){if(s==!1&&(this.cur==L.String_Terminator_DoubleQuote||this.cur==L.String_Terminator_SingleQuote)){a=this.cur,s=!0,n.push(this.cur);continue}if(s&&ie.ctypeSpace(this.cur)){n.push(this.cur);continue}if(s&&this.cur==a&&this.prev!=L.String_EscapeCharacter){a=null,s=!1,n.push(this.cur);continue}if(ie.ctypeSpace(this.cur)||this.currentIndex==this.inputLen-1||this.cur==L.Punctuation_Pipe){if(n.length==0)continue;ie.ctypeSpace(this.cur)||this.cur!=L.Punctuation_Pipe&&n.push(this.cur),i=n.join(""),r=!0;break}n.push(this.cur)}let o=e.getContentRelativeStartIndex();if(e.nameStartsOn=e.relativeOffset(o,o),e.nameStartsOn!=null&&(e.nameEndsOn=e.nameStartsOn.shiftRight(i.length-1),i.includes(L.Punctuation_Colon))){let d=i.indexOf(L.Punctuation_Colon);e.nameMethodPartStartsOn=e.nameStartsOn.shiftRight(d+1)}e.name=lm.getIdentifier(i),om.analyzeNode(e),e.parameters=this.getParameters(e),e.hasParameters=e.parameters.length>0,e.hasParameters&&(om.analyzeParametersForModifiers(e),e.resetContentCache()),e.pathReference=this.pathParser.parse(i),e.mergeErrors(this.pathParser.getAntlersErrors()),e.pathReference!=null&&e.pathReference.isStrictTagReference&&(e.name.name=e.name.name.substr(1),e.name.content=e.name.content.substr(1)),e.isClosingTag=this.canBeClosingTag(e);let l=[];e.isClosingTag==!1&&(l=this.lexer.tokenize(e,e.getContent())),e.runtimeNodes=l;let u=e.content.trim();if(Ri.isConditionalStructure(e)&&e.name.name!="else"&&l.length==0&&u!="/if"&&u!="/unless"&&u!="/endunless"&&u!="endif"&&u!="endunless"&&u!="/endif"&&e.getContent().trim().length==0&&this.pushConditionWithoutExpression(e),e.name.name=="endif"){let d=e.copyBasicDetails(),p=e.getParser();return p!=null&&d.withParser(p),d.name=new kn,d.name.name="if",d.name.compound="if",d.isClosingTag=!0,d.content=" /if ",d.originalNode=e,d}if(e.name.name=="unless"){let d=e.copyBasicDetails(),p=e.getParser();if(p!=null&&d.withParser(p),d.name=new kn,d.name.name="if",d.name.compound="if",e.isClosingTag==!1){let h=(f=e.getContent())!=null?f:"",y=" if !("+h+") ";d.content=y,d.originalNode=e,d.resetContentCache(),d.runtimeNodes=this.lexer.tokenize(d,(c=d.getContent())!=null?c:""),this.testUnlessContent(d)}else d.originalNode=e,d.content=" /if ";return d}else if(e.name.name=="elseunless"){let d=e.copyBasicDetails(),p=e.getParser();p!=null&&d.withParser(p),d.name=new kn,d.name.name="elseif",d.name.compound="elseif";let h=(m=e.getContent())!=null?m:"",y=" elseif !("+h+") ";return d.content=y,d.originalNode=e,d.resetContentCache(),d.runtimeNodes=this.lexer.tokenize(d,(g=d.getContent())!=null?g:""),this.testUnlessContent(d),d}else if(e.name.name=="endunless"){let d=e.copyBasicDetails(),p=e.getParser();return p!=null&&d.withParser(p),d.name=new kn,d.name.name="if",d.name.compound="if",d.isClosingTag=!0,d.content=" /if ",d.originalNode=e,d}return e}pushError(e){this.activeNode!=null&&this.activeNode.pushError(e)}testUnlessContent(e){var r;let n=(r=e.getContent())!=null?r:"";if(n=n.replace("!",""),n=n.replace("(",""),n=n.replace(")","").trim(),n.length==0){this.pushConditionWithoutExpression(e);return}}pushConditionWithoutExpression(e){this.pushError(Y.makeSyntaxError(P.TYPE_PARSE_EMPTY_CONDITIONAL,e,"Condition structure lacks comparison expression."))}getParameters(e){var le,$,j,X,J,be,we,Le,qe;let n=(le=e.getContent())!=null?le:"",r=n.split(""),i=[],s=[],a=r.length,o=0;if(e.name!=null){let se=ie.trimLeft(e.content," "),Pe=e.content.length-se.length,lt=e.name.content.length;Pe>0?o=Pe+lt:o=lt}let l=!1,u=[],f="",c=0,m=0,g=!1,d=null,p=-1,h=-1,y=-1,_=-1,b=-1,N=-1,w='"';for(let se=0;se<a;se++){let Pe=r[se],lt=null,zt=null;if(se+1<a&&(zt=r[se+1]),g?(lt="",g=!1):se>0&&(lt=r[se-1]),l==!1&&ie.ctypeSpace(Pe)){u=[],p=-1,h=-1,y=-1,_=-1,b=-1,N=-1;continue}if(l==!1&&Pe==L.Punctuation_Equals){if(u.length>0&&(ie.ctypeAlpha(u[0])||u[0]==L.Punctuation_Colon||u[0]==L.AtChar)==!1){u=[];continue}if(se+1>=a){this.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_END_OF_INPUT,e,"Unexpected end of input"));continue}let Je=null;if(se+1<a&&(Je=r[se+1]),lt==L.Punctuation_Equals){u=[],p=-1,h=-1,y=-1,_=-1,b=-1,N=-1;continue}if(ie.ctypeSpace(Je)||Je==L.Punctuation_Equals){u=[],p=-1,h=-1,y=-1,_=-1,b=-1,N=-1;continue}u.length>0&&(_=se,b=se,f=u.join(""),c=m,l=!0,u=[]),zt==L.String_Terminator_DoubleQuote&&(d=L.String_Terminator_DoubleQuote,w=L.String_Terminator_DoubleQuote,se+=1),zt==L.String_Terminator_SingleQuote&&(d=L.String_Terminator_SingleQuote,w=L.String_Terminator_SingleQuote,se+=1);continue}if(l&&Pe==L.String_EscapeCharacter){let Je=null;if(se+1<a&&(Je=r[se+1]),Je==L.String_EscapeCharacter){u.push(L.String_EscapeCharacter),se+=1,g=!0;continue}if(Je==L.String_Terminator_DoubleQuote){u.push(L.String_Terminator_DoubleQuote),se+=1;continue}if(Je==L.String_Terminator_SingleQuote){u.push(L.String_Terminator_SingleQuote),se+=1;continue}if(Je=="n"){u.push(`
`),se+=1;continue}if(Je=="r"){u.push("\r"),se+=1;continue}}if(l==!1&&(d!=null&&Pe==d||d==null&&ie.ctypeSpace(Pe))&&i.push(u.join("")),l&&(d!=null&&Pe==d||d==null&&ie.ctypeSpace(Pe))){let Je=u.join("");N=se,h=se,l=!1,d=null,u=[];let ut=new Ho;if(f.startsWith(L.Punctuation_Colon)&&(ut.isVariableReference=!0,f=f.substr(1)),ut.nameDelimiter=w,ut.name=f,ut.value=Je,ut.startPosition=($=e.relativePositionFromOffset(m,c))!=null?$:null,se+1>a){this.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NODE_PARAMETER,e,"Unexpected end of input while parsing parameter content.")),ut.parent=e,s.push(ut),f="";continue}ut.endPosition=(j=e.relativePositionFromOffset(se+1,se+1))!=null?j:null,ut.parent=e,ut.blockPosition={start:(X=e.relativeOffset(p,p))!=null?X:null,end:(J=e.relativeOffset(h,h))!=null?J:null},ut.namePosition={start:(be=e.relativeOffset(y,y))!=null?be:null,end:(we=e.relativeOffset(_,_))!=null?we:null},ut.valuePosition={start:(Le=e.relativeOffset(b+2,b+2))!=null?Le:null,end:(qe=e.relativeOffset(N,N))!=null?qe:null},s.push(ut),f="",p=-1,h=-1,y=-1,_=-1,b=-1,N=-1;continue}if(l==!1&&(Pe==L.String_Terminator_DoubleQuote||Pe==L.String_Terminator_SingleQuote)&&se>o)break;u.push(Pe),p==-1&&(p=se),y==-1&&(y=se),u.length==1&&(m=se+1)}if(d!=null){let se=e;if(i.length>0){let Pe=i[i.length-1],lt=e.content.indexOf(Pe);if(lt>=0){let zt=new te;zt.startPosition=e.relativeOffset(lt-2,lt-2),zt.endPosition=e.relativeOffset(lt+Pe.length,lt+Pe.length),se=zt}}this.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_END_OF_INPUT,se,"Unexpected string literal while parsing parameters."))}return s}};var Tv=Ve(Eu()),Kc=class{static regions(){return this.noParseRegions}static clear(){this.noParseRegions.clear()}static registerNoParseContent(e){let n=Tv.Md5.hashStr(e);return this.noParseRegions.set(n,e),n}};Kc.noParseRegions=new Map;function fm(t,e){let n=new Set(t),r=new Set(e),i=new Set([...n].filter(s=>r.has(s)));return Array.from(i)}var pm=class{constructor(){this.closingTagIndex=new Map;this.closingTagIndexCount=new Map;this.openTagIndexCount=new Map;this.closingTagNames=new Map;this.parentNode=null;this.stackCount=0;this.createdExecutionBranches=[];this.document=null}getClosingCandidates(e){var n,r;if((e instanceof Z||e instanceof mt)&&e.isClosingTag==!1){let i=(r=(n=e.name)==null?void 0:n.compound)!=null?r:"";return i=="if"?["if","elseif","else"]:i=="elseif"?["elseif","else","if"]:i=="else"?["if"]:[i]}return[]}buildCloseIndex(e){var n,r,i;e.forEach(s=>{var a,o,l,u,f,c,m,g,d,p;if(!(s instanceof ur)&&!((s instanceof Z||s instanceof mt)&&s.isSelfClosing)&&(s instanceof Z||s instanceof mt)&&s.isClosingTag){this.closingTagIndex.has(this.stackCount)==!1&&this.closingTagIndex.set(this.stackCount,new Map),this.closingTagIndexCount.has(this.stackCount)==!1&&this.closingTagIndexCount.set(this.stackCount,new Map);let h=(o=(a=s.name)==null?void 0:a.compound)!=null?o:"";((l=this.closingTagIndex.get(this.stackCount))==null?void 0:l.has(h))==!1&&((u=this.closingTagIndex.get(this.stackCount))==null||u.set(h,[]),(f=this.closingTagIndexCount.get(this.stackCount))==null||f.set(h,0)),(m=(c=this.closingTagIndex.get(this.stackCount))==null?void 0:c.get(h))==null||m.push(s);let y=(d=(g=this.closingTagIndexCount.get(this.stackCount))==null?void 0:g.get(h))!=null?d:0;(p=this.closingTagIndexCount.get(this.stackCount))==null||p.set(h,y+1)}}),this.closingTagNames.has(this.stackCount)==!1&&this.closingTagNames.set(this.stackCount,[]),this.closingTagIndex.has(this.stackCount)&&(this.closingTagNames.set(this.stackCount,Array.from((r=(n=this.closingTagIndex.get(this.stackCount))==null?void 0:n.keys())!=null?r:[])),(i=this.closingTagIndex.get(this.stackCount))==null||i.forEach((s,a)=>{var u,f,c,m,g,d,p;let o=s.length;if(o==0)return;let l=s[o-1];for(let h=0;h<o;h++){let y=e[h];if(y instanceof Z||y instanceof mt){if(y instanceof ur)continue;if(y.index>=l.index)break;let _=(f=(u=y.name)==null?void 0:u.compound)!=null?f:"";if(y.isClosingTag==!1&&a==_){this.openTagIndexCount.has(this.stackCount)==!1&&this.openTagIndexCount.set(this.stackCount,new Map),((c=this.openTagIndexCount.get(this.stackCount))==null?void 0:c.has(a))==!1&&((m=this.openTagIndexCount.get(this.stackCount))==null||m.set(a,0));let b=(d=(g=this.openTagIndexCount.get(this.stackCount))==null?void 0:g.get(a))!=null?d:0;(p=this.openTagIndexCount.get(this.stackCount))==null||p.set(a,b+1)}}}}))}getScanForList(e){var n;if(e instanceof Z||e instanceof mt){let r=(n=e.name)==null?void 0:n.compound;if(r=="else")return["if"];if(r=="elseif")return["elseif","else","if"];if(e.isClosingTag==!1){let i=this.getClosingCandidates(e),s=this.closingTagNames.get(this.stackCount);return fm(i,s)}}return[]}canPossiblyClose(e){var n,r;if(e instanceof ur)return!1;if(e instanceof mt||e instanceof Z){if(e.isComment||e.isSelfClosing)return!1;let i=(r=(n=e.name)==null?void 0:n.compound)!=null?r:"";if(i=="else"||i=="elseif")return!0;if(e.isClosingTag==!1){let s=this.getClosingCandidates(e),a=this.closingTagNames.get(this.stackCount);return fm(s,a).length>0}}return!1}findClosingPair(e,n,r){var o,l,u,f;let i=n.runtimeNodes.length,s=e.length,a=0;for(let c=0;c<s;c++){let m=e[c];if(m instanceof Z||m instanceof mt)if(n.endPosition!=null&&m.startPosition!=null){if(n.endPosition.isBefore(m.startPosition)){if(m.isClosingTag&&m.isOpenedBy!=null||m.isSelfClosing)continue;let g=(l=(o=m.name)==null?void 0:o.compound)!=null?l:"";if(m.isClosingTag==!1){if(r.includes(g)){let d=(u=this.openTagIndexCount.get(this.stackCount))==null?void 0:u.get(g),p=(f=this.closingTagIndexCount.get(this.stackCount))==null?void 0:f.get(g);d!=p&&m.runtimeNodes.length>=i,a+=1}continue}if(r.includes(g)&&a>0){a-=1;continue}if(a==0&&r.includes(g)){m.isOpenedBy=n,n.isClosedBy=m;break}}}else continue}}associate(e,n){var s,a,o,l,u,f,c;this.document=n;let r=[{documentNodes:e,parent:null}],i=[];for(;r.length>0;){let m=r.pop();if(m==null)continue;let g=m.documentNodes;this.parentNode=m.parent,this.stackCount+=1,this.buildCloseIndex(g),g=Ri.pairConditionals(g),g.forEach(y=>{if((y instanceof Z||y instanceof mt)&&this.canPossiblyClose(y)){if(Ri.isConditionalStructure(y))return;let _=this.getScanForList(y);this.findClosingPair(g,y,_)}});let d=g.length;for(let y=0;y<d;y++){let _=g[y];if((_ instanceof Z||_ instanceof mt)&&_.isClosedBy!=null)for(let b=y+1;b<d;b++){let N=g[b];if(N.index>_.isClosedBy.index)break;if(N.parent=_,_.children.push(N),N instanceof Z&&N.index==_.index){N.parent=_;break}}}g.forEach(y=>{if((y instanceof Z||y instanceof mt)&&y.children.length>0){let _=[];y.children.forEach(b=>{b.parent!=null&&b.parent.index==y.index&&(b.parent=y,_.push(b))}),r.push({documentNodes:_,parent:y})}});let p=[];g.forEach(y=>{this.parentNode==null?y.parent==null&&p.push(y):y.parent==this.parentNode&&p.push(y)}),p=this.reduceConditionals(p);let h=new Map;g.forEach(y=>{var _,b,N,w;if((y instanceof Z||y instanceof mt)&&y.isClosedBy!=null&&this.document!=null){let le=this.document.getText(((b=(_=y.endPosition)==null?void 0:_.index)!=null?b:0)+1,(w=(N=y.isClosedBy.startPosition)==null?void 0:N.index)!=null?w:0);y.runtimeContent=le}});for(let y=0;y<p.length;y++){let _=p[y],b=(s=_.refId)!=null?s:"";if(h.set(b,1),(_ instanceof Z||_ instanceof mt)&&_.isComment==!1&&((a=_.name)==null?void 0:a.name)=="noparse"&&!(_ instanceof fi)&&_.isClosingTag==!1){if(_.isClosedBy==null){_.pushError(Y.makeSyntaxError(P.TYPE_NO_PARSE_UNASSOCIATED,_,"Encountered noparse region without a closing tag. All noparse regions must be closed."));continue}let N=_.content;this.document!=null&&(N=this.document.getText(((l=(o=_.endPosition)==null?void 0:o.index)!=null?l:0)+1,(c=(f=(u=_.isClosedBy)==null?void 0:u.startPosition)==null?void 0:f.index)!=null?c:0));let w=new fi,le=_.getParser();le!=null&&w.withParser(le),_.copyBasicDetailsTo(w),w.name=new kn,w.name.name="noparse",w.name.compound="noparse",w.content=Kc.registerNoParseContent(N),w.originalNode=_,p[y]=w}}if(this.parentNode!=null&&(this.parentNode instanceof mt||this.parentNode instanceof Z)&&(this.parentNode.children=p,this.parentNode.parent!=null&&this.parentNode.parent instanceof Z)){let y=this.parentNode.parent.children,_=[];y.forEach(b=>{var N;h.has((N=b.refId)!=null?N:"")==!1&&_.push(b)}),this.parentNode.parent.children=_}this.stackCount<=1&&(i=p)}return this.createdExecutionBranches.length>0&&this.createdExecutionBranches.forEach(m=>{m.head!=null&&(m.nodes=m.head.children)}),i}findEndOfBranch(e,n,r){let i=[],s=r,a=null;for(let o=0;o<e.length;o++){let l=e[o];if((l instanceof Z||l instanceof mt)&&l.isOpenedBy!=null&&l.isOpenedBy==n){a=l;break}else i.push(l)}return{children:i,tail:a,offset:s}}reduceConditionals(e){var r,i,s;let n=[];for(let a=0;a<e.length;a++){let o=e[a];if((o instanceof Z||o instanceof mt)&&o.isComment==!1&&o.isClosingTag==!1&&o.isClosedBy!=null)if(((i=(r=o.name)==null?void 0:r.compound)!=null?i:"")=="if"){let u=new xr;u.index=o.index,u.chain.push(o.index),this.parentNode!=null&&(u.parent=this.parentNode);let f=null,c=!0,m=0;for(;c;){if(m+=1,m>pm.ForceBreakLimit){c=!1;break}if(o instanceof Z||o instanceof mt){let g=this.findEndOfBranch(e.slice(a+1),o,a),d=new dp,p=g.tail;if(d.head=o,d.tail=p,d.nodes=o.children,p==null&&(p=d.head.isClosedBy),p!=null&&p.startPosition!=null&&(d.startPosition=p.startPosition),p!=null&&(d.index=p.index),d.nodes.length>0){let h=d.nodes[d.nodes.length-1];h.endPosition!=null&&(d.endPosition=h.endPosition)}else p!=null&&p.endPosition!=null&&(d.endPosition=p.endPosition);if(this.createdExecutionBranches.push(d),u.logicBranches.push(d),(p==null?void 0:p.isClosingTag)&&((s=p.name)==null?void 0:s.compound)=="if"){f=g.offset,c=!1;break}else p!=null&&u.chain.push(p.index),a=g.offset,p instanceof Z&&(o=p)}else c=!1}if(u.logicBranches.length>0){let g=u.logicBranches[0],d=u.logicBranches[u.logicBranches.length-1];g.startPosition!=null&&(u.startPosition=g.startPosition),d.endPosition!=null&&(u.endPosition=d.endPosition)}if(n.push(u),f!=null&&f==e.length)break}else n.push(o);else n.push(o)}return n}},zc=pm;zc.ForceBreakLimit=1e5;var dm=class{static associateRecursiveParent(e){var n,r;for(let i=0;i<e.length;i++){let s=e[i];if(s instanceof ur){let a="*recursive "+((n=s.name)==null?void 0:n.name);if(i-1<0){s.pushError(Y.makeSyntaxError(P.TYPE_RECURSIVE_NODE_INVALID_POSITION,s,"Unpaired recursive node. All recursive nodes must have a parent node introducing them."));continue}let o=null;for(let l=i-1;l>=0;l-=1){let u=e[l];if(!(u instanceof Jt)&&u instanceof Z&&u.isClosedBy!=null){if(s.isNestedRecursive){if(u.content.trim()==((r=s.name)==null?void 0:r.name)){o=u;break}}else if(u.runtimeContent.includes(a)&&ie.substringCount(s.runtimeContent,"*recursive")==1){o=u;continue}else if(o!=null)break}}if(o==null)continue;s.isNestedRecursive?(o.hasRecursiveNode=!0,s.recursiveParent=o,o.recursiveReference=s):o.parent!=null?o.parent instanceof Z&&(o.parent.hasRecursiveNode=!0,o.parent.recursiveReference=s,s.recursiveParent=o.parent):(o.hasRecursiveNode=!0,s.recursiveParent=o,o.recursiveReference=s)}}}};var mo=class{static getNearText(e){var r,i,s,a;if(e instanceof Te)return e.name;if(e instanceof Yt)return(i=(r=e.value)==null?void 0:r.toString())!=null?i:"";if(e instanceof St)return e.value;if(e instanceof hn)return e.name;if(e instanceof Gt)return e.value;if(e instanceof $r||e instanceof hi||e instanceof cr||e instanceof wr||e instanceof Rr||e instanceof cn||e instanceof Wr||e instanceof At||e instanceof un||e instanceof Or||e instanceof Gn||e instanceof mi||e instanceof wn||e instanceof pi||e instanceof Mr||e instanceof $n||e instanceof Lr||e instanceof Yn||e instanceof Fr||e instanceof di||e instanceof jr||e instanceof qr||e instanceof kr||e instanceof wi||e instanceof fr||e instanceof Hn||e instanceof Ur||e instanceof On||e instanceof pr||e instanceof Nn||e instanceof Yr||e instanceof Vr||e instanceof Br||e instanceof Oi||e instanceof dr||e instanceof Gr||e instanceof Qt||e instanceof Wt||e instanceof Ln||e instanceof Ct||e instanceof ts||e instanceof Cn||e instanceof gi||e instanceof Zt)return e.content;let n="";return e instanceof Z?e.originalNode!=null?n=e.originalNode.getContent():n=(a=(s=e.startPosition)==null?void 0:s.line.toString())!=null?a:"":e.originalAbstractNode!=null?n=e.originalAbstractNode.rawContent():n=e.rawContent(),n.length>15&&(n=n.substr(0,-15)),n}};var ho=class{};ho.deferredCoreLibraries=["arr","array","str","string","method","math","sys","convert","scope","stopwatch","file","path","url","request","json","datetime"];var Tt=class{};Tt.ARR_PLUCK="pluck",Tt.ARR_TAKE="take",Tt.ARR_SKIP="skip",Tt.ARR_MAKE="arr",Tt.ARR_ORDERBY="orderby",Tt.ARR_GROUPBY="groupby",Tt.ARR_MERGE="merge",Tt.QUERY_WHERE="where",Tt.STRUCT_SWITCH="switch",Tt.BITWISE_AND="bwa",Tt.BITWISE_OR="bwo",Tt.BITWISE_XOR="bxor",Tt.BITWISE_NOT="bnot",Tt.BITWISE_SHIFT_LEFT="bsl",Tt.BITWISE_SHIFT_RIGHT="bsr",Tt.operators=["pluck","take","arr","skip","orderby","groupby","merge","where","switch","bwa","bwo","bxor","bsl","bsr"];var Bt=class{constructor(){this.pathParser=new Gi;this.tokens=[];this.createdModifierChains=[];this.createdLanguageOperators=[];this.createdArrays=[];this.mergedVariablePaths=[];this.mergedComponents=new Map;this.modifierNameMapping=new Map;this.isRealModifierSeparator=new Map;this.isRoot=!0;this.retriggerNonVirtualGroupMembers=[]}hasModifierConstruct(e){return this.modifierNameMapping.has(e)}getModifierConstruct(e){return this.modifierNameMapping.get(e)}isActualModifierSeparator(e){return this.isRealModifierSeparator.has(e)}isMergedVariableComponent(e){return this.mergedComponents.has(e)}getMergedVariable(e){return this.mergedComponents.get(e)}getMergedVariablePaths(){return this.mergedVariablePaths}getCreatedModifierChains(){return this.createdModifierChains}getCreatedLangaugeOperators(){return this.createdLanguageOperators}getCreatedArrays(){return this.createdArrays}reset(){this.tokens=[],this.createdModifierChains=[],this.createdLanguageOperators=[],this.createdArrays=[],this.createdModifierChains=[],this.createdLanguageOperators=[],this.createdArrays=[],this.mergedVariablePaths=[],this.mergedComponents.clear(),this.modifierNameMapping.clear()}parse(e){return this.tokens=e,this.tokens=this.combineVariablePaths(this.tokens),this.tokens=this.createLanguageOperators(this.tokens),this.tokens=this.createLogicalGroups(this.tokens),this.tokens=this.associateMethodCalls(this.tokens),this.tokens=this.createTupleLists(this.tokens),this.tokens=this.createLibraryInvocations(this.tokens),this.tokens=this.associateModifiers(this.tokens),this.tokens=this.createNullCoalescenceGroups(this.tokens),this.tokens=this.correctTypes(this.tokens),this.tokens=this.createTernaryGroups(this.tokens),this.tokens=this.applyOperationOrder(this.tokens),this.validateNeighboringOperators(this.tokens),this.tokens=this.createLogicGroupsToRemoveMethodInvocationAmbiguity(this.tokens),this.tokens=this.createLogicGroupsToResolveOperatorAmbiguity(this.tokens),this.validateNoDanglingLogicGroupEnds(this.tokens),this.isRoot&&(this.tokens=this.insertAutomaticStatementSeparators(this.tokens),this.retriggerNonVirtualGroupMembers.length>0&&this.retriggerNonVirtualGroupMembers.forEach(n=>{this.markAllNonVirtualAsListGroupMember(n)})),this.createSemanticGroups(this.tokens)}setIsRoot(e){return this.isRoot=e,this}validateNeighboringOperators(e){let n=e.length;for(let r=0;r<n;r++){let i=e[r];if(Bt.isOperatorType(i)){if(r+1>=n){i.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_OPERATOR,i,"Unexpected operator while parsing input text."));return}let s=e[r+1];if(Bt.isOperatorType(s)){s.pushError(Y.makeSyntaxError(P.TYPE_OPERATOR_INVALID_ON_RIGHT,s,"Unexpected operator while parsing input text."));continue}}}}static isAssignmentOperator(e){return e instanceof Or||e instanceof Lr||e instanceof Hn||e instanceof Fr||e instanceof Mr||e instanceof mi}static isOperatorType(e){return e instanceof Or||e instanceof Lr||e instanceof Hn||e instanceof Fr||e instanceof Mr||e instanceof mi||e instanceof Oi||e instanceof Wr||e instanceof pr||e instanceof cn||e instanceof Yr||e instanceof hi||e instanceof dr||e instanceof gi||e instanceof Gn||e instanceof Yn||e instanceof pi||e instanceof di||e instanceof $n||e instanceof wn||e instanceof On||e instanceof fr||e instanceof wi||e instanceof kr||e instanceof qr||e instanceof Br||e instanceof Vr||e instanceof jr||e instanceof Ur}markAllNonVirtualAsListGroupMember(e){e.forEach(n=>{if(n instanceof Ge||n instanceof mr||n instanceof Fi){n.start!=null&&n.start.isVirtual==!1&&(n.start.isListGroupMember=!0),n.end!=null&&n.end.isVirtual==!1&&(n.end.isListGroupMember=!0),n.scopeOperator!=null&&(n.scopeOperator.isListGroupMember=!0),n.nodes.forEach(r=>{this.markAllNonVirtualAsListGroupMember([r])});return}else n instanceof Lt&&(n.separatorToken!=null&&n.separatorToken.isVirtual==!1&&(n.separatorToken.isListGroupMember=!0),this.markAllNonVirtualAsListGroupMember(n.nodes));n.isVirtual==!1&&(n.isListGroupMember=!0),n.originalAbstractNode!=null&&n.originalAbstractNode!=n&&this.markAllNonVirtualAsListGroupMember([n.originalAbstractNode])})}markAllNonVirtualAsSwitch(e){e.forEach(n=>{if(n instanceof Ge||n instanceof mr||n instanceof Fi){n.start!=null&&n.start.isVirtual==!1&&(n.start.isSwitchGroupMember=!0),n.end!=null&&n.end.isVirtual==!1&&(n.end.isSwitchGroupMember=!0),n.scopeOperator!=null&&(n.scopeOperator.isSwitchGroupMember=!0),n.nodes.forEach(r=>{this.markAllNonVirtualAsSwitch([r])});return}else n instanceof Lt&&(n.separatorToken!=null&&n.separatorToken.isVirtual==!1&&(n.separatorToken.isSwitchGroupMember=!0),this.markAllNonVirtualAsSwitch(n.nodes));n.isVirtual==!1&&(n.isSwitchGroupMember=!0),n.originalAbstractNode!=null&&n.originalAbstractNode!=n&&this.markAllNonVirtualAsSwitch([n.originalAbstractNode])})}validateNoDanglingLogicGroupEnds(e){e.forEach(n=>{n instanceof Wt&&n.pushError(Y.makeSyntaxError(P.TYPE_LOGIC_GROUP_NO_START,n,"Unexpected [T_LOGIC_END] while parsing input text."))})}isValidModifierValue(e){return e instanceof Gt||e instanceof Te||e instanceof wr||e instanceof Rr||e instanceof cr||e instanceof Yt||e instanceof St}wrapNumberInVariable(e){var r,i,s,a;let n=new Te;return n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.name=(i=(r=e.value)==null?void 0:r.toString())!=null?i:"",n.content=(a=(s=e.value)==null?void 0:s.toString())!=null?a:"",n.originalAbstractNode=e,n.refId=e.refId,n.modifierChain=e.modifierChain,n.index=e.index,n}wrapArithmeticModifier(e,n){let r=new hn;return r.startPosition=e.startPosition,r.endPosition=e.endPosition,r.originalAbstractNode=e,r.content=n,r.name=n,r.index=e.index,r}combineVariablePaths(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i],a=n.length;if(s instanceof Ct){if(a==0){s.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_BRANCH_SEPARATOR_FOR_VARCOMBINE,s,"Unexpected [T_BRANCH_SEPARATOR] while parsing input text."));continue}if(i+1>r){let u="";if(i>0){let f=e[i-1];u=mo.getNearText(f)}s.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_PARSING_BRANCH_GROUP,s,'Unexpected end of input while parsing input text near "'+u+mo.getNearText(s)+'".'));continue}let o=n[a-1],l=e[i+1];if(l instanceof Yt&&dt.distance(o,l)==1&&(l=this.wrapNumberInVariable(l)),o instanceof Te&&l instanceof Te&&dt.distance(o,l)==1){n.pop(),dt.mergeVarContentRight(":",s,l),dt.mergeVarRight(o,l),n.push(l),this.mergedVariablePaths.push(l),this.mergedComponents.set(s,l),this.mergedComponents.set(o,l),this.mergedComponents.set(l,l),i+=1;continue}else{n.push(s);continue}}else if(s instanceof St&&a>0){if(i+1>=r){n.push(s);continue}let o=n[a-1],l=e[i+1];if(o instanceof Te&&l instanceof Te&&dt.distance(o,s)<=1&&dt.distance(s,l)<=1){n.pop(),dt.mergeVarContentLeft(s.sourceTerminator+s.value+s.sourceTerminator,s,o),dt.mergeVarContentLeft(l.name,l,o),n.push(o),this.mergedVariablePaths.push(o),this.mergedComponents.set(s,o),this.mergedComponents.set(o,o),this.mergedComponents.set(l,o),i+=1;continue}else n.push(s)}else n.push(s)}return n.forEach(i=>{i instanceof Te&&(i.variableReference=this.pathParser.parse(i.name),i.mergeErrors(this.pathParser.getAntlersErrors()))}),n}convertVarNodeToOperator(e){let n=new Wr;return n.content=e.name,n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.originalAbstractNode=e,e.convertedToOperator=!0,this.createdLanguageOperators.push(n),n}convertOperatorToVarNode(e){let n=new Te;return n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.content=e.content,n.name=e.content,n.originalAbstractNode=e,n}createLanguageOperators(e){let n=e.length;for(let r=0;r<n;r++){let i=e[r];if(i instanceof Te){if(i.name.includes(L.Punctuation_FullStop)){let s=i.name.split(L.Punctuation_FullStop);if(Tt.operators.includes(s[0])||ho.deferredCoreLibraries.includes(s[0])){e[r]=this.convertVarNodeToOperator(i);continue}}if(Tt.operators.includes(i.name)){e[r]=this.convertVarNodeToOperator(i);continue}}if(i instanceof Wr){if(r+1>=n){e[r]=this.convertOperatorToVarNode(i);continue}if(e[r+1]instanceof un){e[r]=this.convertOperatorToVarNode(i);continue}}}return e}createLogicalGroups(e){let n=[],r=e.length,i=[];for(let a=0;a<r;a++){let o=e[a];if(o instanceof cn){let l=this.countTypeRight(e,a,cn);if(i.length==0&&e.length==l){o.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_LOGIC_NEGATION_OPERATOR,o,"Unexpected [T_LOGIC_INVERSE] while parsing input text."));continue}if(a>0&&i.length>0){let c=i[i.length-1];if(c instanceof Yt||c instanceof Wt||c instanceof Ge){if(c instanceof Ge&&c.start instanceof cn){c.start.pushError(Y.makeSyntaxError(P.TYPE_FACTORIAL_MATERIALIZED_BOOL_DETECTED,c.start,"[T_AOP_FACTORIAL] operand will always materialize boolean type."));continue}let m=new ts;m.startPosition=o.startPosition,m.endPosition=o.endPosition,m.content="!".repeat(l),m.originalAbstractNode=o,m.repeat=l,i.push(m),l>0&&(a+=l-1);continue}}if(l%2==0){a+=l-1;continue}let u=e[a+l];if(u instanceof Qt){let c=a+l+1;if(c>=r){u.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_NEGATION_OFFSET,u,"Unexpected end of input while parsing input text."));continue}let m=this.findLogicalGroupEnd(e[a+l],e.slice(c));if(m.found){let g=m.logicalGroup,d=new Ge;d.start=o,d.end=g,d.nodes.push(o),d.nodes.push(g),d.startPosition=o.startPosition,d.endPosition=g.endPosition,i.push(d),a+=m.skipCount+l}continue}let f=this.resolveValueRight(e,a);f.value!=null&&i.push(f.value),a+=f.negationCount}else i.push(o)}let s=i.length;for(let a=0;a<s;a++){let o=i[a];if(o instanceof Qt){if(a+1>=s){o.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END_DUE_TO_NEGATION,o,"Unexpected end of input while parsing input text."));continue}let l=this.findLogicalGroupEnd(o,i.slice(a+1));l.found&&l.logicalGroup!=null&&n.push(l.logicalGroup),a+=l.skipCount}else if(o instanceof ts){if(n.length==0){o.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_FACTORIAL_WHILE_CREATING_GROUPS,o,"Unexpected [T_AOP_FACTORIAL] while parsing input text."));continue}let l=n[n.length-1];if(!(l instanceof Ge)&&!(l instanceof Yt)){o.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_FACTORIAL_OPERAND,o,"Unexpected left operand encountered for [T_AOP_FACTORIAL] while parsing input text."));continue}l=n.pop();let u=new Ge;u.startPosition=l.startPosition,u.endPosition=o.endPosition,u.originalAbstractNode=o,u.nodes.push(l),u.nodes.push(o),n.push(u)}else n.push(o)}return n}makeArgGroup(e){let n=new Ia,r=e.length;for(let s=0;s<r;s++){let a=e[s];if(this.isOperand(a)==!1){a.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_TOKEN_WHILE_PARSING_METHOD,a,"Unexpected ["+z.getPrettyTypeName(a)+"] while parsing argument group."));continue}let o=null;if(s+1<r&&(o=e[s+1]),o==null||o instanceof At){n.args.push(e[s]),s+=1;continue}else if(o instanceof Ct){if(s+2>=r){a.pushError(Y.makeSyntaxError(P.TYPE_ARG_UNEXPECTED_NAMED_ARGUMENT,a,"Unexpected end of input while parsing named argument."));continue}let l=e[s+2],u=new Du;u.startPosition=a.startPosition,u.endPosition=l.endPosition,u.content=a.content+l.content,u.name=a,u.value=l,a instanceof Te||a.pushError(Y.makeSyntaxError(P.TYPE_INVALID_NAMED_ARG_IDENTIFIER,a,"Invalid type ["+z.getPrettyTypeName(a)+"] supplied for named argument name.")),n.hasNamedArguments=!0,n.numberOfNamedArguments+=1,n.args.push(u),s+3<r&&e[s+3]instanceof At?s+=3:s+=2;continue}}let i=!1;return n.args.forEach(s=>{s instanceof Du?i=!0:i&&s.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_UNNAMED_METHOD_ARGUMENT,s,"Unnamed arguments are not allowed to appear after a named argument."))}),n}cleanVariableForMethodInvocation(e){(e.name.startsWith(":")||e.name.startsWith("."))&&(e.name=e.name.substr(1),e.variableReference!=null&&(e.variableReference.originalContent=e.variableReference.originalContent.substr(1),e.variableReference.normalizedReference=e.variableReference.normalizedReference.substr(1)),e.startPosition!=null&&(e.startPosition.offset+=1,e.startPosition.char+=1))}reduceVariableReferenceForObjectAccessor(e){var s;let n=(s=e.variableReference)==null?void 0:s.pathParts.pop(),r=n.name,i=r.length+1;return e.name=e.name.substr(0,-i),e.variableReference!=null&&(e.variableReference.originalContent=e.variableReference.originalContent.substr(0,-i),e.variableReference.normalizedReference=e.variableReference.normalizedReference.substr(0,-i),e.variableReference.pathParts[e.variableReference.pathParts.length-1].isFinal=!0),e.endPosition!=null&&(e.endPosition.offset-=i,e.endPosition.char-=i),{accessor:r,accessorLen:i}}associateMethodCalls(e){var i,s;let n=[],r=e.length;for(let a=0;a<r;a++){let o=e[a],l=null,u=null;if(n.length>0&&(l=n[n.length-1]),a+1<r&&(u=e[a+1]),o instanceof Te&&u instanceof Ge&&l!=null&&(this.isProperMethodChainTargetStrict(l)||l instanceof Ct)){let f=u,c=[];f.nodes.length>0&&(f.nodes[0]instanceof Lt?c=f.nodes[0].nodes:c=f.nodes);let m=new Zt;if(m.startPosition=o.startPosition,l instanceof Ct){let g=n.pop();m.startPosition=g.startPosition}this.cleanVariableForMethodInvocation(o),m.endPosition=f.endPosition,m.args=this.makeArgGroup(c),m.method=o,l.methodTarget=m,l instanceof Te&&l.mergeRefName.length>0&&(l.name=dt.getUnrefName(l.mergeRefName)),n.push(m),a+=1;continue}else if(o instanceof Ge&&l instanceof Te&&l.variableReference!=null&&l.variableReference.pathParts.length>=2){let f=[];if(o.nodes.length>0&&(o.nodes[0]instanceof Lt?f=o.nodes[0].nodes:f=o.nodes),l.variableReference.pathParts[0]instanceof Un&&ho.deferredCoreLibraries.includes(l.variableReference.pathParts[0].name)){let p=n.pop(),h=new ns;h.startPosition=p.startPosition,h.endPosition=o.endPosition,h.content=p.content,h.originalAbstractNode=o;let _=((i=p.variableReference)==null?void 0:i.pathParts.shift()).name,b=(s=p.variableReference)==null?void 0:s.implodePaths();h.libraryName=_,h.methodName=b,h.arguments=this.makeArgGroup(f),n.push(h),a+=1;continue}let c=this.reduceVariableReferenceForObjectAccessor(l),m=new Zt;m.startPosition=o.startPosition,m.endPosition=o.endPosition,l.methodTarget=m,l instanceof Te&&l.mergeRefName.length>0&&(l.name=dt.getUnrefName(l.mergeRefName)),o.start!=null&&(o.start.isPartOfMethodChain=!0),o.end!=null&&(o.end.isPartOfMethodChain=!0);let g=new Te;g.name=c.accessor,g.isPartOfMethodChain=!0;let d=this.makeArgGroup(f);if(m.startPosition!=null&&(m.startPosition.offset-=c.accessorLen,m.startPosition.char-=c.accessorLen),m.method=g,m.args=d,ie.isNumeric(l.name)){let p=n.pop();n.push(this.convertOperatorToVarNode(p))}n.push(m);continue}else if(o instanceof Te&&l instanceof Zt){if(this.cleanVariableForMethodInvocation(o),a+1>r){o.pushError(Y.makeSyntaxError(P.TYPE_METHOD_CALL_MISSING_ARG_GROUP,o,"Unexpected end of input while parsing method call."));continue}let f=e[a+1];if(!(f instanceof Ge)){o.pushError(Y.makeSyntaxError(P.TYPE_INVALID_METHOD_CALL_ARG_GROUP,o,"Unexpected ["+z.getPrettyTypeName(f)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let c=f,m=[];c.nodes.length>0&&(c.nodes[0]instanceof Lt?m=c.nodes[0].nodes:m=c.nodes);let g=new Zt;g.startPosition=o.startPosition,g.endPosition=c.endPosition,g.args=this.makeArgGroup(m),g.method=o,l.methodTarget=g,n.push(g),a+=1;continue}else if(o instanceof Ct&&l instanceof Zt){if(a+1>r){o.pushError(Y.makeSyntaxError(P.TYPE_METHOD_CALL_MISSING_METHOD,o,"Unexpected end of input while parsing method call."));continue}let f=e[a+1];if(a+2>r){o.pushError(Y.makeSyntaxError(P.TYPE_METHOD_CALL_MISSING_ARG_GROUP,o,"Unexpected end of input while parsing method call."));continue}let c=e[a+2];if(!(c instanceof Ge)){o.pushError(Y.makeSyntaxError(P.TYPE_INVALID_METHOD_CALL_ARG_GROUP,o,"Unexpected ["+z.getPrettyTypeName(c)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let m=c,g=[];m.nodes.length>0&&(m.nodes[0]instanceof Lt?g=m.nodes[0].nodes:g=m.nodes);let d=new Zt;d.startPosition=o.startPosition,d.endPosition=c.endPosition,d.args=this.makeArgGroup(g),d.method=f,l.methodTarget=d,n.push(d),a+=2;continue}else if(o instanceof Zt){if(a+1>r){o.pushError(Y.makeSyntaxError(P.TYPE_METHOD_CALL_MISSING_METHOD,o,"Unexpected end of input while parsing method call."));continue}let f=e[a+1];if(a+2>r){o.pushError(Y.makeSyntaxError(P.TYPE_INVALID_METHOD_CALL_ARG_GROUP,o,"Unexpected end of input while parsing method call."));continue}let c=e[a+2];if(!(c instanceof Ge)){o.pushError(Y.makeSyntaxError(P.TYPE_INVALID_METHOD_CALL_ARG_GROUP,o,"Unexpected ["+z.getPrettyTypeName(c)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let m=c,g=[];m.nodes.length>0&&(m.nodes[0]instanceof Lt?g=m.nodes[0].nodes:g=m.nodes);let d=this.makeArgGroup(g);if(l instanceof Te&&ho.deferredCoreLibraries.includes(l.name)){let p=n.pop(),h=new ns;h.startPosition=p.startPosition,h.endPosition=m.endPosition,h.libraryName=p.name,h.methodName=f.name,h.content=h.libraryName+"->"+h.methodName,h.arguments=d,l.libraryTarget=h,n.push(h),a+=2;continue}o.method=f,o.args=d,n.length>0&&(n[n.length-1].methodTarget=o),a+=2,n.push(o);continue}else n.push(o)}return n}convertVariableToStringNode(e){let n=new St;return n.content=e.name,n.value=e.name,n.originalAbstractNode=e,n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.index=e.index,n}createTupleLists(e){let n=e.length,r=[];for(let i=0;i<n;i++){let s=e[i];if(s instanceof $r){if(s.isListGroupMember=!0,i+1>=n){s.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_PARSING_TUPLE_LIST,s,"Unexpected end of input while parsing tuple list."));continue}let a=e[i+1];if(!(a instanceof Ge)){a.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_TYPE_FOR_TUPLE_LIST,a,"Unexpected ["+z.getPrettyTypeName(a)+"] while parsing tuple list."));continue}let o=a;if(this.markAllNonVirtualAsListGroupMember([o]),this.retriggerNonVirtualGroupMembers.push([o]),o.nodes.length==0){o.pushError(Y.makeSyntaxError(P.TYPE_MISSING_BODY_TUPLE_LIST,o,"Missing tuple list body while parsing tuple list."));continue}let u=o.nodes.shift(),f=u.nodes.length,c=[];for(let d=0;d<f;d++){let p=u.nodes[d];if(!(p instanceof At)){let h=!1;if(p instanceof Te&&(p.variableReference==null&&(h=!0),p.variableReference!=null&&p.variableReference.pathParts.length>1&&(h=!0),p.name.trim().length==0&&(h=!0)),h||!(p instanceof Te)){o.pushError(Y.makeSyntaxError(P.TYPE_INVALID_TUPLE_LIST_NAME_TYPE,o,"Invalid ["+z.getPrettyTypeName(p)+"] name type found while parsing tuple list."));continue}let y=p;c.push(this.convertVariableToStringNode(y))}}let m=c.length;if(m==0){o.pushError(Y.makeSyntaxError(P.TYPE_INVALID_MANIFESTED_NAME_GROUP,o,"Invalid Name expression produced an invalid name group while parsing tuple list."));continue}let g=new Li;this.createdArrays.push(g),g.startPosition=s.startPosition,g.endPosition=s.endPosition,o.nodes.forEach(d=>{if(!(d instanceof Lt)){d.pushError(Y.makeSyntaxError(P.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE_GROUP,d,"Invalid ["+z.getPrettyTypeName(d)+"] name type found while parsing tuple list value expression."));return}let p=d,h=new Li;this.createdArrays.push(h),h.startPosition=p.startPosition;let y=[];for(let _=0;_<f;_++){let b=p.nodes[_];if(!(b instanceof At)){if(this.isOperand(b)==!1){b.pushError(Y.makeSyntaxError(P.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE,b,"Unexpected ["+z.getPrettyTypeName(b)+"]  while parsing tuple list value."));continue}y.push(b)}}for(let _=0;_<m&&!(_>y.length);_++){let b=y[_],N=new Jo;N.startPosition=b.startPosition,N.endPosition=b.endPosition,N.name=c[_],N.value=b,h.nodes.push(N),g.endPosition=b.endPosition,h.endPosition=b.endPosition}g.nodes.push(h)}),r.push(g),i+=1;continue}else r.push(s)}return e}makeOrderGroup(e){let n=[],r=e.length,i=0;for(let s=0;s<r;s++){let a=e[s],o=null;if(s+1<r&&(o=e[s+1]),s>0&&(o==null||o instanceof At)){i+=1;let l=new zo;l.order=i,l.name=e[s-1],l.directionNode=a,this.isOperand(l.name)==!1&&l.name.pushError(Y.makeSyntaxError(P.TYPE_INVALID_ORDER_BY_NAME_VALUE,l.name,"Invalid value or expression supplied for order by name.")),this.isOperand(l.directionNode)==!1&&l.directionNode.pushError(Y.makeSyntaxError(P.TYPE_INVALID_ORDER_BY_SORT_VALUE,l.directionNode,"Invalid value or expression supplied for order by direction.")),l.startPosition=l.name.startPosition,l.endPosition=l.directionNode.endPosition,n.push(l),s+=1;continue}}return n}getValues(e){let n=new Aa,r=e.length,i=[];for(let s=0;s<r;s++){let a=e[s],o=null;if(s+1<r&&(o=e[s+1]),o==null||o instanceof At){i.push(a),s+=1;continue}}return n.values=i,n}createLibraryInvocations(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof Wr)if(s.content.includes(".")){let a=s.content.split("."),o=a.shift(),l=a.join("."),u=new ns;if(u.startPosition=s.startPosition,u.endPosition=s.endPosition,u.content=s.content,u.libraryName=o,u.methodName=l,u.originalAbstractNode=s,i+1>=r){s.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_ARG_GROUP,s,"Unexpected end of input while parsing argument group."));continue}if(!(e[i+1]instanceof Ge)){s.pushError(Y.makeSyntaxError(P.TYPE_EXPECTING_ARGUMENT_GROUP,s,"Unexpected token while parsing method call. Expecting [T_ARG_SEPARATOR] got ["+z.getPrettyTypeName(s)+"]."));continue}let f=e[i+1],c=null;if(f.nodes.length>0){let m=f.nodes[0];c=this.makeArgGroup(m.nodes)}c==null&&(c=new Ia,c.startPosition=f.startPosition,c.endPosition=f.endPosition,c.originalAbstractNode=f),u.arguments=c,n.push(u),i+=1;continue}else if(s.content==Tt.ARR_ORDERBY){if(i+1>=r){s.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_PARSING_ORDER_GROUP,s,"Unexpected end of input while parsing order group."));continue}let a=e[i+1];if(!(a instanceof Ge)){a.pushError(Y.makeSyntaxError(P.TYPE_EXPECTING_ORDER_GROUP_FOR_ORDER_BY_OPERAND,a,"Unexpected ["+z.getPrettyTypeName(a)+"] while parsing order group."));continue}let l=a.nodes;l[0]instanceof Lt&&(l=l[0].nodes);let u=this.makeOrderGroup(l);u.length==0&&s.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_EMPTY_DIRECTION_GROUP,s,"Unexpected empty [T_DIRECTION_GROUP]. Must have at least one order clause, and each property must have a direction specified."));let f=new ks;if(f.orderClauses=u,u.length>0){u[0].directionNode!=null&&(f.startPosition=u[0].directionNode.startPosition);let c=u[u.length-1].directionNode;c!=null&&(f.endPosition=c.endPosition)}n.push(s),n.push(f),i+=1;continue}else if(s.content==Tt.ARR_GROUPBY){if(i+1>=r){s.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_GROUP_BY,s,"Unexpected end of input while parsing group by clause."));continue}let a=e[i+1];if(a instanceof Fi||a instanceof mr){a.pushError(Y.makeSyntaxError(P.TYPE_GROUP_BY_SCOPED_GROUP_MUST_BE_ENCLOSED,a,"Type ["+z.getPrettyTypeName(a)+"] must be enclosed with parenthesis to be used with groupby."));continue}if(!(a instanceof Ge)){a.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_TOKEN_FOR_GROUP_BY,a,"Unexpected ["+z.getPrettyTypeName(a)+"] while parsing group by."));continue}let l=a.nodes;l[0]instanceof Lt&&(l=l[0].nodes);let u=this.getValues(l);if(n.push(s),n.push(u),i+2<r&&i+3<r){let f=e[i+2],c=e[i+3];if(dt.isVariableMatching(f,tt.ScopeAs))if(c instanceof St){u.isNamedNode=!0,u.parsedName=c,i+=3;continue}else c.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_GROUP_BY_AS_ALIAS_TYPE,c,"Expecting [T_STRING] for group by collection alias; got ["+z.getPrettyTypeName(c)+"]."))}i+=1;continue}else if(s.content==Tt.STRUCT_SWITCH){if(i+1>=r){s.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SWITCH_GROUP,s,"Unexpected end of input while parsing [T_SWITCH_GROUP]."));continue}let a=e[i+1];if(!(a instanceof mr)){a.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_TOKEN_FOR_SWITCH_GROUP,a,"Unexpected ["+z.getPrettyTypeName(a)+"] while parsing [T_SWITCH_GROUP]."));continue}let o=a;if(this.markAllNonVirtualAsSwitch([a]),o.scope==null||!(o.scope instanceof Ge)){o.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_SWITCH_START_VALUE,o,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let l=o.scope;if(l.nodes.length==0||!(l.nodes[0]instanceof Lt)){o.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,o,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let u=l.nodes[0];if(this.markAllNonVirtualAsSwitch([l]),u.nodes.length==0||!(u.nodes[0]instanceof Ge)){s.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}this.markAllNonVirtualAsSwitch([s]),this.markAllNonVirtualAsSwitch(u.nodes);let f=u.nodes;if(o.nodes.length==0&&s.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP].")),!(l.nodes[0]instanceof Lt)){s.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let m=l.nodes[0];this.markAllNonVirtualAsSwitch(m.nodes);let g=m.nodes,d=new qs,p=new Ge;p.nodes=f,p.startPosition=p.nodes[0].startPosition,p.endPosition=p.nodes[p.nodes.length-1].endPosition;let h=new Sa;h.condition=p;let y=new Ge;y.nodes.push(g.shift()),y.startPosition=y.nodes[0].startPosition,y.endPosition=y.nodes[y.nodes.length-1].endPosition,h.expression=y,h.startPosition=h.condition.startPosition,h.endPosition=h.expression.nodes[h.expression.nodes.length-1].endPosition,g.shift(),d.cases.push(h);let _=g.length;if(_>0){if(!(g[0]instanceof Ge)){s.pushError(Y.makeSyntaxError(P.TYPE_PARSER_INVALID_SWITCH_TOKEN,s,"Invalid ["+z.getPrettyTypeName(g[0])+"] while parsing case statement."));continue}for(let b=0;b<_;b++){let N=g[b],w=null;if(N instanceof At){N.isSwitchGroupMember=!0;continue}if(b+1<_&&(w=g[b+1]),w instanceof Cn){w.isSwitchGroupMember=!0;let le=new Sa;le.condition=N,this.markAllNonVirtualAsSwitch([le.condition]);let $=new Ge;if($.nodes.push(g[b+2]),$.startPosition=$.nodes[0].startPosition,$.endPosition=$.nodes[$.nodes.length-1].endPosition,le.expression=$,this.markAllNonVirtualAsSwitch([$]),le.startPosition=le.condition.startPosition,le.endPosition=le.expression.nodes[le.expression.nodes.length-1].endPosition,d.cases.push(le),b+3<_&&!(g[b+3]instanceof At)){g[b+3].pushError(Y.makeSyntaxError(P.TYPE_PARSER_INVALID_SWITCH_TOKEN,g[b+3],"Invalid ["+z.getPrettyTypeName(g[b+3])+"] while parsing case statement; expecting [T_ARG_SEPARATOR]."));continue}g[b+3].isSwitchGroupMember=!0,b+=2;continue}}}n.push(new cr),n.push(s),n.push(d),i+=1;continue}else if(s.content==Tt.ARR_MAKE){if(i+1>=r){s.pushError(Y.makeSyntaxError(P.TYPE_ARR_MAKE_MISSING_TARGET,s,"Missing target variable for arr operator."));continue}let a=e[i+1];if(!(a instanceof Ge)){a.pushError(Y.makeSyntaxError(P.TYPE_ARR_MAKE_UNEXPECTED_TYPE,a,"Unexpected ["+z.getPrettyTypeName(a)+"] while parsing array."));continue}let o=a instanceof mr,l=a,u=l.nodes;if(u[0]instanceof Lt&&(u=u[0].nodes),o){let g=a;u.unshift(new Cn),u.unshift(g.scope)}let f=this.getArrayValues(u),c=new Li;c.startPosition=s.startPosition;let m=f.values.length;m>0?c.endPosition=f.values[m-1].endPosition:c.endPosition=s.endPosition,l.end!=null&&(c.endPosition=l.end.endPosition),c.nodes=f.values,this.createdArrays.push(c),n.push(c),i+=1}else n.push(s);else n.push(s)}return n}getArrayValues(e){let n=new Aa,r=e.length,i=[];for(let s=0;s<r;s++){let a=e[s];if(a instanceof At){a.pushError(Y.makeSyntaxError(P.TYPE_ARR_UNEXPECT_ARG_SEPARATOR,a,"Unexpected [T_ARG_SEPARATOR] while parsing array."));continue}if(a instanceof Cn){if(s==0){a.pushError(Y.makeSyntaxError(P.TYPE_ARR_KEY_PAIR_MISSING_KEY,a,"Missing key for key/value pair while parsing array."));continue}else if(e[s-1]instanceof At){a.pushError(Y.makeSyntaxError(P.TYPE_ARR_KEY_PAIR_MISSING_KEY,a,"Missing key for key/value pair while parsing array."));continue}}let o=null;if(s+1<r&&(o=e[s+1]),o instanceof Cn){if(s+2>=r){o.pushError(Y.makeSyntaxError(P.TYPE_ARR_MAKE_MISSING_ARR_KEY_PAIR_VALUE,o,"Missing key/pair value while parsing array."));continue}let l=e[s+2],u=new Jo;if(this.isValidArrayKeyNode(a)==!1){a.pushError(Y.makeSyntaxError(P.TYPE_ARR_KEY_PAIR_INVALID_KEY_TYPE,a,"Invalid ["+z.getPrettyTypeName(a)+"] type for key/value key."));continue}u.name=a,u.value=l,u.startPosition=a.startPosition,u.endPosition=l.endPosition,i.push(u),s+=3;continue}if(o==null||o instanceof At){let l=new Jo;l.value=a,l.startPosition=a.startPosition,l.endPosition=a.endPosition,i.push(l),s+=1;continue}}return n.values=i,n}isValidArrayKeyNode(e){return e instanceof Yt||e instanceof St}associateModifiers(e){let n=[],r=e.length,i=null;for(let s=0;s<r;s++){let a=e[s];if(a instanceof Nn){let o=n.length;if(o==0){a.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_MODIFIER_SEPARATOR,a,"Unexpected [T_MODIFIER_SEPARATOR] while parsing input text."));continue}if(this.isRealModifierSeparator.set(a,!0),i=n[o-1],i.modifierChain==null&&(i.modifierChain=new Ko,i.modifierChain.modifierTarget=i,this.createdModifierChains.push(i.modifierChain)),s+1>=r){a.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_DETAILS,a,"Unexpected end of input while preparing to gather modifier details."));continue}let l=this.scanToEndOfModifier(e.slice(s+1)),u=l.length;if(u>1&&l[1]instanceof Ct){this.isRealModifierSeparator.set(l[1],!0);let c=l[0];c instanceof Gn?l[0]=this.wrapArithmeticModifier(c,"add"):c instanceof wn?l[0]=this.wrapArithmeticModifier(c,"subtract"):c instanceof Yn?l[0]=this.wrapArithmeticModifier(c,"divide"):c instanceof $n?l[0]=this.wrapArithmeticModifier(c,"multiply"):c instanceof di&&(l[0]=this.wrapArithmeticModifier(c,"mod"))}if(u==0){a.pushError(Y.makeSyntaxError(P.TYPE_UNSET_MODIFIER_DETAILS,a,"Invalid or missing modifier details."));continue}if(!(l[0]instanceof hn)){a.pushError(Y.makeSyntaxError(P.TYPE_MODIFIER_NAME_NOT_START_OF_DETAILS,a,"Invalid ["+z.getPrettyTypeName(l[0])+"]; expecting [T_MODIFIER_NAME]"));continue}let f=this.createModifier(l);f.nameNode!=null&&this.modifierNameMapping.set(f.nameNode,f),s+=u,i.modifierChain.modifierChain.push(f),i.modifierChain.updateValues();continue}else n.push(a)}return n}createNullCoalescenceGroups(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof dr){let a=n.pop();if(i+1>=r){s.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NULL_COALESCENCE_GROUP,s,"Unexpected end of input while parsing input text."));continue}let o=e[i+1],l=new Xo;l.left=a,l.right=o,n.push(l),i+=1;continue}else n.push(s)}return n}isOperand(e){return e instanceof Te||e instanceof Ge||e instanceof St||e instanceof Yt||e instanceof Rr||e instanceof cr||e instanceof wr||e instanceof ns||e instanceof ks||e instanceof Aa||e instanceof qs||e instanceof Li}isProperMethodChainTargetStrict(e){return e instanceof Ge||e instanceof St||e instanceof Yt||e instanceof Rr||e instanceof cr||e instanceof wr||e instanceof ns||e instanceof ks||e instanceof Aa||e instanceof qs||e instanceof Li}assertOperandRight(e,n){if(n+1>e.length-1)return e[n].pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_END_OF_INPUT,e[n],"Unexpected end of input; expecting operand for operator "+z.getPrettyTypeName(e[n])+' near "'+mo.getNearText(e[n])+'".')),!1;let r=e[n+1];return this.isOperand(r)?!0:(r.pushError(Y.makeSyntaxError(P.TYPE_EXPECTING_OPERAND,e[n],"Expecting operand, found "+z.getPrettyTypeName(r)+' near "'+mo.getNearText(e[n])+'".')),!1)}resolveValueRight(e,n){let r=null,i=0,s=null;if(e.length>0){let a=!0;for(;a;){let o=e[n];if(o instanceof cn){s=o,i+=1,n+=1,a=!1;continue}else if(this.isOperand(o)){r=o,a=!1;break}else{a=!1;break}}}if(i%2!=0){let a=new Ge;return a.nodes=[],s!=null&&r!=null&&(a.nodes.push(s),a.nodes.push(r)),{value:a,negationCount:i}}return{value:r,negationCount:i}}correctTypes(e){let n=[];return e.forEach(r=>{if(r instanceof Ln){let i=new Ct;i.startPosition=r.startPosition,i.endPosition=r.endPosition,i.originalAbstractNode=r,n.push(i)}else if(r instanceof Gt){let i=new Te;i.name=r.value,i.startPosition=r.startPosition,i.endPosition=r.endPosition,i.modifierChain=r.modifierChain,i.originalAbstractNode=r,n.push(i)}else n.push(r)}),n}createTernaryGroups(e){var i,s,a;let n=[],r=e.length;for(let o=0;o<r;o++){let l=e[o];if(l instanceof Gr){let u=this.seek(Ct,o+1);if(u.found==!1){l.pushError(Y.makeSyntaxError(P.TYPE_TERNARY_EXPECTING_BRANCH_SEPARATOR,l,"Unexpected end of input; expecting [T_BRANCH_SEPARATOR]."));continue}let f=this.collectUntil(n);n=f.tokens;let c=f.collectedTokens[0],m=(i=u.foundAt)!=null?i:0;if(m>=r){l.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP,l,"Unexpected end of input while parsing ternary group."));continue}let g=e.slice(o+1,m);if(g.length>1||g.length==0){l.pushError(Y.makeSyntaxError(P.TYPE_TERNARY_UNEXPECTED_EXPRESSION_LENGTH,l,"Unexpected number of operations within ternary truth branch."));continue}let d=g[0],p=((s=u.foundAt)!=null?s:0)+1;if(p>=r){l.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP_FALSE_BRANCH,l,"Unexpected end of input while parsing ternary false execution branch."));continue}let h=e[p],y=new Qo;y.head=c,y.truthBranch=d,y.falseBranch=h,n.push(y),o=((a=u.foundAt)!=null?a:0)+1;continue}else n.push(l)}return n}groupNodesByType(e,n){let r=[],i=e.length;for(let s=0;s<i;s++){let a=e[s];if(s>0&&a instanceof n){let o=[],l=r.pop();if(o.push(l),!this.assertOperandRight(e,s))continue;if(s+1>=i){a.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS,a,"Unexpected end of input while parsing input text."));continue}let u=e[s+1];u.isVirtualGroupMember=!0,l.isVirtualGroupMember=!0,a.isVirtualGroupMember=!0;let f=new Ge;f.nodes=o,f.nodes.push(a),f.nodes.push(u),s+=1,r.push(f);continue}else r.push(a)}return r}flagNodeAsOperatorResolve(e){if(e instanceof Ge){if(e.nodes.length==0)return;this.flagNodeAsOperatorResolve(e.nodes[e.nodes.length-1])}e.isVirtualGroupOperatorResolve=!0,e.next instanceof un||(e.producesVirtualStatementTerminator=!0)}groupNodesByOperatorType(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(i>0&&Bt.isOperatorType(s)){let a=[],o=n.pop();if(a.push(o),!this.assertOperandRight(e,i))continue;if(i+1>=r){s.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS,s,"Unexpected end of input while parsing input text."));continue}let l=e[i+1];this.flagNodeAsOperatorResolve(l),o.isVirtualGroupMember=!0,l.isVirtualGroupMember=!0,s.isVirtualGroupMember=!0;let u=new Ge;u.nodes=a,u.nodes.push(s),u.nodes.push(l),i+=1,n.push(u);continue}else n.push(s)}return n}applyOperationOrder(e){return e=this.groupNodesByType(e,pi),e=this.groupNodesByType(e,$n),e=this.groupNodesByType(e,Yn),e=this.groupNodesByType(e,Gn),e=this.groupNodesByType(e,wn),e}createLogicGroupsToRemoveMethodInvocationAmbiguity(e){let n=[],r=e.length,i=r-1;for(let s=0;s<r;s++){let a=e[s];if(a instanceof Zt){let o=n.pop(),l=new Ge;if(l.startPosition=o.startPosition,o.isVirtualGroupMember=!0,a.isVirtualGroupMember=!0,l.nodes.push(o),l.nodes.push(a),s!=i)for(let u=s+1;u<r;u++)if(e[u]instanceof Zt){if(e[u].isVirtualGroupMember=!0,l.nodes.push(e[u]),u==i){u+=1;break}}else{if(u==i){u+=1;break}s=u-1;break}l.endPosition=l.nodes[l.nodes.length-1].endPosition,n.push(l)}else n.push(a)}return n}countTypeRight(e,n,r){let i=0;for(let s=n;s<e.length&&e[s]instanceof r;s++)i+=1;return i}createLogicGroupsToResolveOperatorAmbiguity(e){return e=this.groupNodesByType(e,wi),e=this.groupNodesByType(e,fr),e=this.groupNodesByType(e,qr),e=this.groupNodesByType(e,kr),e=this.groupNodesByType(e,Ur),e=this.groupNodesByType(e,On),e=this.groupNodesByType(e,Vr),e=this.groupNodesByType(e,Br),e=this.groupNodesByType(e,jr),e=this.groupNodesByOperatorType(e),e}createModifier(e){let n=e.shift(),r=[],i=e.length;if(e.length>0&&e[0]instanceof Ge){let a=this.unpack(e[0].nodes),o=this.makeArgGroup(a),l=new Da;if(l.nameNode=n,l.methodStyleArguments=o,e.length>1)for(let u=1;u<i;u++)e[u].pushError(Y.makeSyntaxError(P.TYPE_MODIFIER_UNEXPECTED_TOKEN_METHOD_SYNTAX,e[u],"Unexpected ["+z.getPrettyTypeName(e[u])+"] while parsing modifier argument group. Expecting [T_MODIFIER_SEPARATOR] or end of current expression."));return l}for(let a=0;a<i;a++)if(e[a]instanceof Ln||e[a]instanceof Ct){if(a+1>=i)return e[a].pushError(Y.makeSyntaxError(P.TYPE_MODIFIER_UNEXPECTED_END_OF_VALUE_LIST,e[a],"Unexpected end of modifier value list while parsing modifier.")),e;let o=e[a+1];if(this.isValidModifierValue(o)){if(o instanceof Te)if(o.variableReference!=null&&o.variableReference.pathParts.length>0)o.variableReference.pathParts.forEach(l=>{if(l instanceof Un){let u=new Gt;u.startPosition=l.startPosition,u.endPosition=l.endPosition,u.value=l.name,u.name=l.name,u.originalAbstractNode=l,u.endPosition==null&&u.startPosition==null&&(u.startPosition=o.startPosition,u.endPosition=o.endPosition),r.push(u)}});else{let l=new Gt;l.startPosition=o.startPosition,l.endPosition=o.endPosition,l.value=o.name,l.name=o.name,l.originalAbstractNode=o,r.push(l)}else r.push(o);a+=1;continue}else return o.pushError(Y.makeSyntaxError(P.TYPE_MODIFIER_UNEXPECTED_VALUE,o,"Unexpected ["+z.getPrettyTypeName(o)+"] while parsing modifier value.")),e}let s=new Da;return s.nameNode=n,s.valueNodes=r,s.startPosition=s.nameNode.startPosition,s.valueNodes.length>0?s.endPosition=s.valueNodes[s.valueNodes.length-1].endPosition:s.endPosition=s.nameNode.endPosition,s}scanToEndOfModifier(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof Ln){let a=n.length;if(a==0){s.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_VALUE,s,"Unexpected end of input while parsing modifier value."));continue}this.isRealModifierSeparator.set(s,!0);let o=n[a-1];if(dt.distance(o,s)>1)break}if(s instanceof Nn||s instanceof Wt||s instanceof Qt||s instanceof On||s instanceof fr||s instanceof wi||s instanceof kr||s instanceof qr||s instanceof Br||s instanceof Vr||s instanceof jr||s instanceof Ur||s instanceof pr||s instanceof Yr||s instanceof hi||s instanceof dr||s instanceof gi||s instanceof Wr||s instanceof ns||s instanceof Zt||s instanceof cn)break;n.push(s)}return n}static isAssignmentOperatorNode(e){return e instanceof Or||e instanceof Lr||e instanceof Hn||e instanceof Fr||e instanceof Mr||e instanceof wn}insertAutomaticStatementSeparators(e){let n=e.length,r=[];for(let i=0;i<n;i++){let s=e[i];if(Bt.isAssignmentOperatorNode(s))if(i+2<n)if(e[i+2]instanceof un){r.push(s),r.push(e[i+1]),r.push(e[i+2]),i+=2;continue}else{r.push(s),r.push(e[i+1]),r.push(new un),i+=1;continue}else{r.push(s),r.push(e[i+1]),r.push(new un);break}else r.push(s)}return e}createSemanticGroups(e){let n=[],r=e.length,i=[];for(let s=0;s<r;s++)if(e[s]instanceof un){let a=new Lt;a.nodes=i,a.separatorToken=e[s],n.push(a),i=[];continue}else if(i.push(e[s]),s+1>=r){let a=new Lt;a.nodes=i,n.push(a);break}return n}findLogicalGroupEnd(e,n){let r=[],i=n.length,s=null,a=0,o=0;for(o;o<i;o++){let f=n[o];if(a+=1,f instanceof Wt){s=f;break}else if(f instanceof Qt){if(o+1>=i)return f.pushError(Y.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END,f,"Unexpected end of input while parsing input text.")),{found:!1,logicalGroup:null,skipCount:a};let c=this.findLogicalGroupEnd(f,n.slice(o+1));if(c.found){c.logicalGroup!=null&&r.push(c.logicalGroup),a+=c.skipCount,o+=c.skipCount;continue}else continue}else r.push(f)}if(s==null)return e.pushError(Y.makeSyntaxError(P.TYPE_LOGIC_GROUP_NO_END,e,"Unexpected end of input while parsing logic group.")),{found:!1,logicalGroup:null,skipCount:a};let l=new Bt;l.setIsRoot(!1);let u=new Ge;if(r.length>=2&&r[1]instanceof Cn){if(u=new mr,u.scopeOperator=r[1],o+2<i&&n[o+1]instanceof Te&&n[o+2]instanceof St&&n[o+1].name==tt.ScopeAs){let m=n[o+2];u=new Fi,u instanceof Fi&&(u.alias=m),a+=2}let f=r.splice(0,2);(u instanceof mr||u instanceof Fi)&&(u.scope=f[0])}return u.nodes=l.parse(r),u.start=e,u.end=s,u.startPosition=e.startPosition,u.endPosition=s.endPosition,u instanceof Fi&&u.alias!=null&&(u.endPosition=u.alias.endPosition),{found:!0,logicalGroup:u,skipCount:a}}unpack(e){if(e.length==0)return[];if(e[0]instanceof Lt){let n=e[0];return this.unpack(n.nodes)}return e}collectUntil(e){let n=e.length,r=[];for(let i=n-1;i>=0&&!Bt.isAssignmentOperator(e[i]);i--){let s=e.pop();r.push(s)}if(r=r.reverse(),r.length>=3){let i=new Bt;return i.setIsRoot(!1),{collectedTokens:this.unpack(i.parse(r)),tokens:e}}return{collectedTokens:r,tokens:e}}seek(e,n){for(let r=n;r<this.tokens.length;r++)if(this.tokens[r]instanceof e)return{found:!0,foundAt:r,node:this.tokens[r]};return{found:!1,foundAt:null,node:null}}};var Yi=class{static findRightBeighboringNextPunctuation(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e+1;s<n.length;s++){let a=n[s];if(ie.ctypeSpace(a)&&(i=!0),i&&(ie.ctypeAlpha(a)||ie.ctypeDigit(a)))return null;if(ie.ctypePunct(a)||a==L.String_Terminator_SingleQuote||a==L.String_Terminator_DoubleQuote)return a}return null}static findRightNeighboringNextAlphaNumeric(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e+1;s<n.length;s++){let a=n[s];if((ie.ctypeSpace(a)||ie.ctypePunct(a)&&a!=L.Punctuation_Underscore)&&(i=!0),i&&(ie.ctypeAlpha(a)||ie.ctypeDigit(a)))return s+1}return null}static findLeftNeighboringNextPunctuation(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e-2;s>=0;s--){let a=n[s];if(ie.ctypeSpace(a)&&(i=!0),i&&(ie.ctypeAlpha(a)||ie.ctypeDigit(a)))return null;if(ie.ctypePunct(a))return a}return null}static findLeftNeighboringNextAlphaNumeric(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e-1;s>=0;s--){let a=n[s];if((ie.ctypeSpace(a)||ie.ctypePunct(a)&&a!=L.Punctuation_Underscore)&&(i=!0),i&&(ie.ctypeAlpha(a)||ie.ctypeDigit(a)))return s+1}return null}static scanWordAt(e,n,r=4){if(n=n.replace("	"," ".repeat(r)),e<0||e>n.length)return null;let i=[],s=[];for(let a=e-1;a>=0;a--){let o=n[a];if(ie.ctypePunct(o)&&o!=L.Punctuation_Underscore||ie.ctypeSpace(o))break;i.push(o)}for(let a=e;a<n.length;a++){let o=n[a];if(ie.ctypePunct(o)&&o!=L.Punctuation_Underscore||ie.ctypeSpace(o))break;s.push(o)}return i.reverse().join("")+s.join("")}};var mm=class{constructor(e){this.parser=e}findParentWithName(e,n){let r=n.parent;for(;r!=null;){if(r instanceof Z&&r.nameMatches(e))return r;if(r.parent==r)break;r=r.parent}return null}};var hm=class{static analyzeModifierNodeParameters(e){var r,i,s,a;if(!e.hasParameters)return;if(e.parameters.forEach(o=>{var l,u,f,c;o.isModifierParameter=(u=(l=Ot.instance)==null?void 0:l.hasModifier(o.name))!=null?u:!1,o.isModifierParameter&&(e.modifiers.parameterModifiers.push(o),o.modifier=(c=(f=Ot.instance)==null?void 0:f.getModifier(o.name))!=null?c:null,e.modifiers.modifierNames.includes(o.name)==!1&&e.modifiers.modifierNames.push(o.name))}),e.modifierChain!=null&&e.modifierChain.modifierChain.length>0){let o=null;e.modifierChain.modifierChain.forEach(l=>{var u,f;l.nameNode!=null&&(l.modifier=(f=(u=Ot.instance)==null?void 0:u.getModifier(l.nameNode.content))!=null?f:null,e.modifiers.modifierNames.includes(l.nameNode.content)==!1&&e.modifiers.modifierNames.push(l.nameNode.content),l.modifier!=null&&(o=l.modifier,e.modifierChain!=null&&(e.modifierChain.lastManifestedModifier=l)))}),e.modifierChain.lastModifier=o,e.modifiers.parameterModifiers.length>0&&(e.modifiers.hasMixedModifierStyles=!0)}let n=e.modifiers.getLastManifestedModifier();if(n!=null)if(n.name=="macro"){let o=e.modifiers.getLastManifestedModifierValue();e.manifestType=(i=(r=Ot.instance)==null?void 0:r.getMacroManifestingType(o))!=null?i:""}else e.manifestType=(a=(s=Ot.instance)==null?void 0:s.getProbableReturnType(n,e.isPaired()))!=null?a:""}};var vv={warnUnknownParameters:!1};var gm=class{static validateInteger(e){return parseInt(e).toString()!==e?{isValid:!1,message:'"'+e+'" is not a valid integer.'}:{isValid:!0,message:""}}static validateBoolean(e){return e=="true"||e=="false"?{isValid:!0,message:""}:{isValid:!1,message:'"'+e+'" is not a valid value. Expecting true/false.'}}static validateParameters(e){var n,r,i,s,a;if(e.isTagNode&&((n=It.instance)==null?void 0:n.isKnownTag(e.runtimeName()))){let o=(r=It.instance)==null?void 0:r.findTag(e.runtimeName());if(e.hasParameters)for(let l=0;l<e.parameters.length;l++){let u=e.parameters[l],f=null,c=!1,m=u.name.trim();if(m=Ui(m,":"),((i=It.instance)==null?void 0:i.canResolveDynamicParameter(e.runtimeName()))&&typeof o.resolveDynamicParameter!="undefined"&&o.resolveDynamicParameter!=null?(f=o.resolveDynamicParameter(e,m),c=!0):f=(s=It.instance)==null?void 0:s.getParameter(e.runtimeName(),m),c&&f==null&&(f=(a=It.instance)==null?void 0:a.getParameter(e.runtimeName(),m)),f==null){if(vv.warnUnknownParameters){let g="";if(o.suggestAlternativeParams!=null){let p=o.suggestAlternativeParams(m);p.length==1?g='. Did you mean "'+p[0]+'"?':p.length>1&&(g=". Try one of the following: "+p.join(", "))}let d='Unknown parameter name: "'+m+'"'+g;e.pushError(Y.makeSyntaxError(P.LINT_UNKNOWN_PARAMETER,e,d,1))}}else if(f.validate!=null){let g=f.validate(e,u);g.length>0&&g.forEach(d=>{e.pushError(Y.makeSyntaxError(P.LINT_GENERAL_INVALID_PARAMETER_CONTENTS,u,d.message,1))})}else{if(u.hasInterpolations())continue;for(let g=0;g<f.expectsTypes.length;g++){let d=f.expectsTypes[g];if(d=="integer"){let p=this.validateInteger(u.value);p.isValid||e.pushError(Y.makeSyntaxError(P.LINT_PARAMETER_CONTENT_INVALID_INTEGER,u,p.message,1))}else if(d=="boolean"){let p=this.validateBoolean(u.value);if(f.name=="paginate"){if(u.value=="true"||u.value=="false")continue;if(parseInt(u.value).toString()!=u.value){let h='Unexpected "'+u.value+'". Expecting a numeric value, or true/false.';e.pushError(Y.makeSyntaxError(P.LINT_PAGINATE_INVALID_VALUE,u,h,0))}}else p.isValid||e.pushError(Y.makeSyntaxError(P.LINT_PARAMETER_CONTENT_INVALID_BOOLEAN,u,p.message,1))}}}}}}};var ke=class{constructor(){this.interpolationRegions=new Map;this.nodeParser=new cm;this.chars=[];this.charLen=0;this.lastAntlersNode=null;this.content="";this.originalContent="";this.currentIndex=0;this.currentContent=[];this.sourceContent=[];this.startIndex=0;this._recoveryStartIndex=0;this.cur=null;this.next=null;this.prev=null;this.nodes=[];this.renderNodes=[];this.isInterpolatedParser=!1;this.inputLen=0;this.documentOffsets=new Map;this.lineIndex=new Map;this.lastDocumentOffsetKey=null;this.isDoubleBrace=!1;this.interpolationEndOffsets=new Map;this.isScanningInterpolations=!1;this.seedStartLine=1;this.seedStartchar=1;this.frontMatterEndLine=-1;this.lastAntlersEndIndex=-1;this.seedOffset=0;this.antlersStartIndex=[];this.antlersStartPositionIndex=new Map;this.chunkSize=5;this.maxLine=1;this.currentChunkOffset=0;this.antlersErrors=[];this.languageParser=new Bt;this.documentPath=null;this.pushedErrors=new Map;this.frontMatter="";this.doesHaveUncloseIfStructures=!1;this.structure=new mm(this)}hasUnclosedIfStructures(){return this.doesHaveUncloseIfStructures}getFrontMatter(){return this.frontMatter}setDocumentPath(e){this.documentPath=e}getFrontMatterEndLine(){return this.frontMatterEndLine}pushError(e){(e.errorCode==P.TYPE_PARSE_UNCLOSED_CONDITIONAL||e.errorCode==P.TYPE_PARSE_UNPAIRED_CONDITIONAL)&&(this.doesHaveUncloseIfStructures=!0);let n=e.hash();this.pushedErrors.has(n)||(this.pushedErrors.set(n,e),this.antlersErrors.push(e))}getInterpolationRegions(){return this.interpolationRegions}getDocumentPath(){return this.documentPath}checkCurrentOffsets(){if(this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen){let e=!0;if(this.currentIndex==this.charLen-1){let n=ie.split(ie.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,this.currentChunkOffset==this.inputLen&&(e=!1),n.forEach(r=>{this.chars.push(r),this.charLen+=1})}e&&(this.next=this.chars[this.currentIndex+1])}}charLeftAt(e){return e==null||e.char<=1?null:this.charAt(this.positionFromCursor(e.line,e.char-1))}charLeftAtCursor(e,n){return this.charLeftAt(this.positionFromCursor(e,n))}charRightAt(e){return e==null?null:this.charAt(this.positionFromCursor(e.line,e.char+1))}charRightAtCursor(e,n){return this.charRightAt(this.positionFromCursor(e,n))}punctuationLeftAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:Yi.findLeftNeighboringNextPunctuation(e.char,r,n)}punctuationLeftAtCursor(e,n,r=4){return this.punctuationLeftAt(this.positionFromCursor(e,n),r)}punctuationRightAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:Yi.findRightBeighboringNextPunctuation(e.char,r,n)}punctuationRightAtCursor(e,n,r=4){return this.punctuationRightAt(this.positionFromCursor(e,n),r)}wordRightAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);if(r==null)return null;let i=Yi.findRightNeighboringNextAlphaNumeric(e.char,r,n);return i==null?null:Yi.scanWordAt(i,r,n)}wordRightAtCursor(e,n,r=4){return this.wordRightAt(this.positionFromCursor(e,n),r)}wordLeftAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);if(r==null)return null;let i=Yi.findLeftNeighboringNextAlphaNumeric(e.char,r,n);return i==null?null:Yi.scanWordAt(i,r,n)}wordLeftAtCursor(e,n,r=4){return this.wordLeftAt(this.positionFromCursor(e,n),r)}wordAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:Yi.scanWordAt(e.char,r,n)}getLineText(e){let n=this.getLineIndex(e);return n!=null?ie.trimRight(this.getContent().substring(n.start,n.end+1)):null}wordAtCursor(e,n,r=4){return this.wordAt(this.positionFromCursor(e,n),r)}charAt(e){return e==null?null:this.content.substr(e.offset,1)}charAtCursor(e,n){return this.charAt(this.positionFromCursor(e,n))}getLineIndex(e){if(e==this.maxLine){let r=this.lineIndex.get(e-1);if(r!=null){let i=r.endIndex+1;return{end:this.inputLen-1,start:i}}return null}let n=this.lineIndex.get(e);return n!=null?{start:n.startIndex,end:n.endIndex}:null}positionFromCursor(e,n){if(e==this.maxLine){let i=this.lineIndex.get(e-1);if(i!=null){let s=i.endIndex+1,a=s+(n-1),o=new sr;return o.offset=a,o.line=e,o.char=n,o.index=a,o}return null}let r=this.lineIndex.get(e);if(r!=null){let i=new sr;return i.offset=r.startIndex+(n-1),i.line=r.line,i.char=n,i.index=r.startIndex+(n-1),i}return null}parse(e){var o,l,u,f;if(this.resetState(),!this.processInputText(e))return[];let n=this.antlersStartIndex.length,r=n-1;if(n==0){let c=new Jt;c.withParser(this),c.content=this.prepareLiteralContent(this.content),c.startPosition=this.positionFromOffset(0,0),c.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1),this.nodes.push(c)}else for(let c=0;c<n;c+=1){let m=this.antlersStartIndex[c];if(this.seedOffset=m,c==0&&m>0){let d=new Jt;d.withParser(this),d.content=this.prepareLiteralContent(this.content.substr(0,m)),d.content.length>0&&(d.startPosition=this.positionFromOffset(0,0),d.endPosition=this.positionFromOffset(m,m-1),this.nodes.push(d))}if(m<this.lastAntlersEndIndex)continue;if(this.currentChunkOffset=m,this.resetIntermediateState(),this.parseIntermediateText(),this.lastAntlersNode!=null&&!(this.lastAntlersNode instanceof Ea)&&this.lastAntlersNode.isComment&&!(this.lastAntlersNode instanceof $o)&&c+1<n){let d=this.antlersStartPositionIndex.get(c+1);if(this.lastAntlersNode.endPosition!=null&&d<this.lastAntlersNode.endPosition.offset){let p=null;for(let h=c+1;h<n;h++)if(this.antlersStartIndex[h]>this.lastAntlersNode.endPosition.offset){p=h;break}if(p==null){let h=this.prepareLiteralContent(this.content.substr(this.lastAntlersNode.endPosition.offset+1));if(h.length>0){let y=new Jt;y.withParser(this),y.content=h;let _=this.lastAntlersNode.endPosition.offset+1;y.startPosition=this.positionFromOffset(_,_),y.endPosition=this.positionFromOffset(this.inputLen,this.inputLen),this.nodes.push(y)}break}else{let h=this.antlersStartIndex[p],y=h-this.lastAntlersNode.endPosition.offset-1;if(y>0){let _=this.lastAntlersNode.endPosition.offset,b=h-1;_+=1,b-=1;let N=this.content.substr(_,y);if(N.length>0){let w=new Jt;w.withParser(this),w.content=N,w.startPosition=this.positionFromOffset(_,_),w.endPosition=this.positionFromOffset(b,b),this.nodes.push(w)}continue}c=p-1;continue}}}let g=!1;if(this.antlersStartPositionIndex.has(this.currentChunkOffset)?this.lastAntlersEndIndex<this.currentChunkOffset&&(g=!0):g=!0,g){if(c+1<n){let d=this.antlersStartIndex[c+1],p=this.lastAntlersEndIndex+1;if(d<p)if(this.lastAntlersEndIndex>d)c+2<n&&(d=this.antlersStartIndex[c+2]);else continue;if(c+1==r&&d<=this.lastAntlersEndIndex){let h=this.currentChunkOffset,y=this.content.substr(p),_=new Jt;_.withParser(this),_.content=this.prepareLiteralContent(y),_.content.length>0&&(_.startPosition=this.positionFromOffset(h,h),_.endPosition=this.positionFromOffset(d,d-1),this.nodes.push(_));break}else{let h=d-this.lastAntlersEndIndex-1;if(h==0)continue;let _=this.currentChunkOffset;this.lastAntlersNode instanceof $o&&(p=((l=(o=this.lastAntlersNode.endPosition)==null?void 0:o.offset)!=null?l:0)+1,h-=((f=(u=this.lastAntlersNode.endPosition)==null?void 0:u.offset)!=null?f:0)+1,_=p),this.lastAntlersNode instanceof Ea&&(p-=1,h+=1);let b=this.content.substr(p,h),N=new Jt;N.withParser(this),N.content=this.prepareLiteralContent(b),N.content.length>0&&(N.startPosition=this.positionFromOffset(p,p),N.endPosition=this.positionFromOffset(d,d-1),this.nodes.push(N))}continue}if(c!==r&&this.lastAntlersNode!=null&&this.lastAntlersNode.endPosition!=null&&this.positionFromOffset(m,m).isBefore(this.lastAntlersNode.endPosition)){if(c+1<n){if(this.antlersStartIndex[c+1]<this.lastAntlersNode.endPosition.offset)continue}else if(c+1!=r)continue}if(c==r){let d=this.currentIndex+m;if(d<this.inputLen){let p=new Jt;p.withParser(this),p.content=this.prepareLiteralContent(this.content.substr(d)),p.content.length>0&&(p.startPosition=this.positionFromOffset(d,d),p.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1),this.nodes.push(p));break}}}}let i=0;this.nodes.forEach(c=>{c.index=i,i+=1}),this.nodes.forEach(c=>{c instanceof Z&&c.interpolationRegions.size>0&&(c.interpolationRegions.forEach((m,g)=>{let d=new ke;d.setIsInterpolatedParser(!0);let p=d.parse(m.parseContent);p.length>1&&p[1]instanceof Z&&(p=[p[1]]),c.processedInterpolationRegions.set(g,p),this.mergeErrors(d.getAntlersErrors())}),c.hasProcessedInterpolationRegions=!0)});let s=new zc;this.renderNodes=s.associate(this.nodes,this),dm.associateRecursiveParent(this.nodes),this.nodes.forEach(c=>{var m;if((c instanceof Z||c instanceof mt)&&(c.isInterpolationNode=this.isInterpolatedParser),(c instanceof Z||c instanceof mt)&&c.interpolationRegions.size>0&&c.runtimeNodes.forEach(g=>{g instanceof Te&&c.interpolationRegions.has(g.name)&&(g.isInterpolationReference=!0,g.interpolationNodes=c.processedInterpolationRegions.get(g.name))}),(c instanceof Z||c instanceof mt)&&c.hasParameters&&c.interpolationRegions.size>0&&c.parameters.forEach(g=>{c.interpolationRegions.forEach((d,p)=>{g.value.includes(p)&&g.interpolations.push(p)})}),c instanceof Z&&c.runtimeNodes.length>0&&c.isClosingTag==!1&&!c.isComment&&(c.parsedRuntimeNodes=this.languageParser.parse(c.runtimeNodes),c.hasParsedRuntimeNodes=!0,!c.isTagNode&&c.parsedRuntimeNodes.length>0)){let g=c.nodeAtIndex(0);g!=null&&g instanceof Te&&g.name==((m=c.name)==null?void 0:m.name)&&(c.modifierChain=g.modifierChain)}}),this.languageParser.getCreatedModifierChains().forEach(c=>{c.modifierChain.length>0&&c.modifierChain.forEach(m=>{var g,d;m.nameNode!=null&&Ot.instance!=null&&Ot.instance.hasModifier((g=m.nameNode)==null?void 0:g.name)&&(m.modifier=(d=Ot.instance)==null?void 0:d.getModifier(m.nameNode.name))})});let a=1;return this.nodes.forEach(c=>{var m,g;c instanceof Z&&(c.isTagNode=(g=(m=It.instance)==null?void 0:m.isKnownTag(c.runtimeName()))!=null?g:!1,c.scopeName=c.findParameterValue("scope",""),c.antlersNodeIndex=a,a+=1,hm.analyzeModifierNodeParameters(c),gm.validateParameters(c))}),this.renderNodes}positionFromOffset(e,n,r=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let o=this.documentOffsets.get(e);i=o.line,s=o.char}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let o=null,l=null,u=null,f=null;for(let c of this.documentOffsets.keys()){if(c>=e){f!=null&&e>f?(o=u,l=f):(o=this.documentOffsets.get(c),l=c);break}u=this.documentOffsets.get(c),f=c}if(o==null&&(o=u,l=f),o!=null)if(r){let c=this.content.split(""),m=e-(l!=null?l:0),g=o.char-(l!=null?l:0)+e;s=m,i=o.line,e<=(l!=null?l:0)?(i=o.line,s=e+1):i=o.line+1}else{let c=this.content.split(""),m=e-(l!=null?l:0),g=o.char-(l!=null?l:0)+e;s=m,i=o.line,e<=(l!=null?l:0)?(i=o.line,s=e+1):i=o.line+1}else this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let a=new sr;return a.index=n,a.offset=e,a.line=i,a.char=s,a}getLanguageParser(){return this.languageParser}getText(e,n){return this.content.substr(e,n-e)}getOriginalContent(){return this.originalContent}getContent(){return this.content}setIsInterpolatedParser(e){return this.isInterpolatedParser=e,this}setStartLineSeed(e){return this.seedStartLine=e,this}setSeedStartChar(e){return this.seedStartchar=e,this}resetIntermediateState(){this.chars=[],this.charLen=0,this.currentIndex=0,this.currentContent=[],this.sourceContent=[],this.cur=null,this.next=null,this.prev=null}resetState(){if(this.languageParser.reset(),this.charLen=0,this.antlersStartIndex=[],this.antlersErrors=[],this.pushedErrors.clear(),this.antlersStartPositionIndex.clear(),this.lastAntlersEndIndex=-1,this.renderNodes=[],this.nodes=[],Ts.globalTagEnterStack.length>0){let e=Ts.globalTagEnterStack[Ts.length-1];e!=null&&e.endPosition!=null&&this.setStartLineSeed(e.endPosition.line)}this.seedOffset=0,this.isScanningInterpolations=!1,this.content="",this.chars=[],this.currentIndex=0,this.startIndex=0,this._recoveryStartIndex=0,this.cur=null,this.next=null,this.prev=null,this.inputLen=0,this.documentOffsets.clear(),this.isDoubleBrace=!1,this.interpolationRegions.clear(),this.interpolationEndOffsets.clear()}peek(e){if(e==this.charLen){let n=ie.split(ie.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,n.forEach(r=>{this.chars.push(r),this.charLen+=1})}return this.chars[e]}parseIntermediateText(){for(this.currentContent=[],this.sourceContent=[],this.startIndex=0,this.chars=this.content.substr(this.currentChunkOffset,this.chunkSize).split(""),this.charLen=this.chars.length,this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==ke.LeftBrace&&this.next==ke.LeftBrace&&this.prev==ke.AtChar){this.dumpLiteralNode(this.currentIndex);let e=new fi;e.withParser(this),e.name=new kn,e.name.name="noparse",e.content="{{",e.startPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),e.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),this.nodes.push(e),this.currentContent=[],this.sourceContent=[],this.currentIndex+=1;continue}if((this.prev==null||this.prev!=null&&this.prev!=ke.AtChar)&&this.next!=null&&this.cur==ke.LeftBrace&&this.next==ke.LeftBrace){this.dumpLiteralNode(this.currentIndex);let e=null;if(this.currentIndex+2<this.inputLen&&(e=this.peek(this.currentIndex+2)),e==ke.Punctuation_Question){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfPhpRegion(ke.Punctuation_Question),this.isDoubleBrace=!1;break}if(e==ke.Punctuation_Dollar){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfPhpRegion(ke.Punctuation_Dollar),this.isDoubleBrace=!1;break}if(e==ke.Punctuation_Octothorp){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersCommentRegion(),this.isDoubleBrace=!1;break}this.startIndex=this.currentIndex,this._recoveryStartIndex=this.currentIndex,this.isDoubleBrace=!0,this.currentIndex+=2,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersRegion(),this.isDoubleBrace=!1;break}if(this.cur==ke.AtChar&&this.next!=null&&this.next==ke.LeftBrace){if(this.currentIndex+2>=this.inputLen){this.appendContent(this.next),this.dumpLiteralNode(this.currentIndex+1);break}let e=0;for(let n=this.currentIndex+1;n<this.inputLen&&this.chars[n]==ke.LeftBrace;n+=1)e+=1;this.currentContent=this.currentContent.concat(ke.LeftBrace.repeat(e).split("")),this.sourceContent=this.currentContent.concat(ke.LeftBrace.repeat(e).split("")),this.currentIndex+=e}this.appendContent(this.cur),this.next==null&&this.currentContent.length>0&&this.dumpLiteralNode(this.currentIndex)}}getRenderNodes(){return this.renderNodes}processInputText(e){var c;if(this.originalContent=e,this.content=ie.normalizeLineEndings(e),this.inputLen=this.content.length,this.content.startsWith("---")){let m=this.content.split(`
`),g=[],d=[];d.push("");for(let p=1;p<m.length;p++){let h=m[p];if(h.startsWith("---")){d.push(""),d=d.concat(m.slice(p+1)),this.content=d.join(`
`),this.frontMatter=g.join(`
`),this.frontMatterEndLine=p+1;break}else g.push(h),d.push("")}}let n=[...this.content.matchAll(/(\n)/gm)],r=n.length,i=this.seedStartLine,s=null,a=0,o=0;for(let m=0;m<r;m++){let g=n[m],d=(c=g.index)!=null?c:0,p=d;s!=null?p=d-s:p=p+1,this.documentOffsets.set(d,{char:p,line:i});let h=0,y=0;m==0?(y=p-1,h=0):(h=o+1,y=d),this.lineIndex.set(i,{char:p,line:i,startIndex:h,endIndex:y}),this.lastDocumentOffsetKey=d,this.maxLine=i,i+=1,s=d,o=y,a=h}this.maxLine+=1;let l=[...this.content.matchAll(/@?{{/gm)],u=0,f=!1;return l.forEach(m=>{let g=m[0];if(g.startsWith(ke.AtChar)){u=this.content.indexOf(g,u)+2,f=!0;return}let d=this.content.indexOf(g,u);if(f&&u==d){u=d;return}this.antlersStartIndex.push(d),this.antlersStartPositionIndex.set(d,1),u=d+2,f=!1}),!0}prepareLiteralContent(e){return e.replace("@{{","{{")}scanToEndOfPhpRegion(e){for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==e&&this.next!=null&&this.next==ke.RightBrace&&this.peek(this.currentIndex+2)==ke.RightBrace){let r=this.makeAntlersPhpNode(this.currentIndex,e==ke.Punctuation_Dollar);this.currentContent=[],this.sourceContent=[],this.currentIndex+=3,this.startIndex=this.currentIndex,this._recoveryStartIndex=this.startIndex,this.nodes.push(r),this.lastAntlersNode=r;break}if(this.appendContent(this.cur),this.next==null){let n=this.makeAntlersPhpFailedNode(this.currentIndex);this.nodes.push(n),this.lastAntlersNode=n,this.antlersErrors.push(Y.makeSyntaxError(P.TYPE_INCOMPLETE_PHP_EVALUATION_REGION,n,"Unexpected end of input while parsing Antlers PHP region."));break}}}appendContent(e){e!=null&&(this.currentContent.push(e),this.sourceContent.push(e))}scanToEndOfAntlersCommentRegion(){for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==ke.Punctuation_Octothorp&&this.next!=null&&this.next==ke.RightBrace&&this.peek(this.currentIndex+2)==ke.RightBrace){let n=this.makeAntlersTagNode(this.currentIndex,!0);this.currentContent=[],this.sourceContent=[],this.currentIndex+=3,this.nodes.push(n),this.lastAntlersNode=n;break}if(this.appendContent(this.cur),this.next==null){let e=this.makeAntlersCommentFailedNode(this.currentIndex);this.nodes.push(e),this.lastAntlersNode=e,this.antlersErrors.push(Y.makeSyntaxError(P.TYPE_INCOMPLETE_ANTELRS_COMMENT_REGION,e,"Unexpected end of input while parsing Antlers comment region."));break}}}scanToEndOfInterpolatedRegion(){let e=[];this.isScanningInterpolations=!0;let n=0;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1)if(this.checkCurrentOffsets(),this.cur==ke.LeftBrace){if(this.prev==ke.AtChar){e.push(this.cur);continue}n+=1,e.push(this.cur)}else if(this.cur==ke.RightBrace){if(this.prev==ke.AtChar){e.push(this.cur);continue}if(n-=1,e.push(this.cur),n==0){this.interpolationEndOffsets.set(this.currentIndex,1);break}}else this.cur!=null&&e.push(this.cur);let r=e.join(""),s=("int_"+Nv.Md5.hashStr(r)).substr(0,r.length),a=s.length,o=r.length;if(a<o){let l=o-a;s+="x".repeat(l)}return this.isScanningInterpolations=!1,{content:r,varContent:s}}bordersInterpolationRegion(e){if(this.interpolationEndOffsets.size==0)return!1;let n=e.offset-1;return n<=0?!1:this.interpolationEndOffsets.has(n)}getParseableContent(e){let n="";for(let r=0;r<=e;r++)this.content[r]==ke.LeftBrace||this.content[r]==ke.RightBrace?n+="~":n+=this.content[r];return n}scanToEndOfAntlersRegion(){for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==ke.LeftBrace&&this.prev==ke.AtChar){this.currentContent.pop(),this.appendContent(this.cur);continue}if(this.isInterpolatedParser&&this.cur==ke.RightBrace&&this.prev==ke.AtChar){this.currentContent.pop(),this.appendContent(this.cur);continue}if(this.cur==ke.LeftBrace){let e=this.scanToEndOfInterpolatedRegion(),n=this.currentIndex+this.seedOffset,r=n-e.content.length,i=this.getParseableContent(r-1);Ts.interpolatedVariables.push(e.varContent),this.currentContent=this.currentContent.concat(e.varContent.split("")),this.sourceContent=this.sourceContent.concat(e.content.split(""));let s=i+"{"+e.content+"}";this.interpolationRegions.set(e.varContent,{content:e.content,parseContent:s,varContent:e.varContent,startOffset:r,endOffset:n});continue}if(this.cur==ke.RightBrace&&this.next!=null&&this.next==ke.RightBrace){let e=this.makeAntlersTagNode(this.currentIndex,!1);this.currentIndex+=2,this.nodes.push(e),this.lastAntlersNode=e;break}if(this.appendContent(this.cur),this.next==null){let e=this.makeAntlersFailedNode(this.currentIndex,!1);this.nodes.push(e),this.lastAntlersNode=e;let n="Unexpected end of input while parsing Antlers region.";this.isScanningInterpolations&&(n="Unexpected end of input wihle parsing interpolated Antlers region."),this.antlersErrors.push(Y.makeSyntaxError(P.TYPE_INCOMPLETE_ANTLERS_REGION,e,n));break}}}makeAntlersPhpNode(e,n){let r=new Ea;return n?(r.rawStart="{{$",r.rawEnd="$}}"):(r.rawStart="{{?",r.rawEnd="?}}"),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset),e+3>this.inputLen?(r.endPosition=this.positionFromOffset(this.inputLen,this.inputLen-1),this.antlersErrors.push(Y.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE,r,"Unexpected end of input while locating end of Antlers region.")),r):(this.lastAntlersEndIndex=e+3+this.seedOffset,r.endPosition=this.positionFromOffset(e+this.seedOffset,e+3+this.seedOffset),r)}makeAntlersPhpFailedNode(e){let n=new mp;n.rawStart="{{$",n.rawEnd="$}}",n._isEndVirtual=!0,n.content=this.currentContent.join(""),n.sourceContent=this.sourceContent.join(""),n.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let r=this.getLineText(n.startPosition.line),i=this.getLineIndex(n.startPosition.line);if(r!=null){let a=r.substr(this._recoveryStartIndex);n.content=a,n.sourceContent=a}let s=e+this.seedOffset;return i!=null&&(this.currentIndex=i.end,s=i.end),n.endPosition=this.positionFromOffset(s,s),n}makeAntlersCommentFailedNode(e){let n=new $o;this.isDoubleBrace?(n.rawStart="{{",n.rawEnd="}}"):(n.rawStart="{",n.rawEnd="}"),n._isEndVirtual=!0;let r=!1,i=this.currentContent.length;i>0&&this.currentContent[i-1]==ke.Punctuation_ForwardSlash&&(this.currentContent.pop(),r=!0),n.isComment=!0,n.isSelfClosing=r,n.withParser(this),n.content=this.currentContent.join(""),n.sourceContent=this.sourceContent.join(""),n.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let s=this.getLineText(n.startPosition.line),a=this.getLineIndex(n.startPosition.line);if(s!=null){let l=s.substr(this._recoveryStartIndex);n.content=l,n.sourceContent=l}let o=e+this.seedOffset;return a!=null&&(this.currentIndex=a.end,o=a.end),n.endPosition=this.positionFromOffset(o,o),n.interpolationRegions=new Map,this.interpolationRegions.forEach((l,u)=>{n.content.includes(u)&&n.interpolationRegions.set(u,l)}),n}makeAntlersFailedNode(e,n){let r=new mt;this.isDoubleBrace?(r.rawStart="{{",r.rawEnd="}}"):(r.rawStart="{",r.rawEnd="}"),r._isEndVirtual=!0;let i=!1,s=this.currentContent.length;s>0&&this.currentContent[s-1]==ke.Punctuation_ForwardSlash&&(this.currentContent.pop(),i=!0),r.isComment=n,r.isSelfClosing=i,r.withParser(this),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let a=this.getLineText(r.startPosition.line),o=this.getLineIndex(r.startPosition.line);if(a!=null){let f=ie.trimLeft(this.content.substring(r.startPosition.offset+r.rawStart.length-1,o==null?void 0:o.end),"{");r.content=f,r.sourceContent=f}let l=e+this.seedOffset;o!=null&&(this.currentIndex=o.end,l=o.end),r.endPosition=this.positionFromOffset(l,l),r.interpolationRegions=new Map,this.interpolationRegions.forEach((f,c)=>{r.content.includes(c)&&r.interpolationRegions.set(c,f)});let u=this.nodeParser.parseNode(r);return this.mergeErrors(u.getErrors()),u}makeAntlersTagNode(e,n){let r=new Z;this.isDoubleBrace?(r.rawStart="{{",r.rawEnd="}}"):(r.rawStart="{",r.rawEnd="}");let i=!1,s=this.currentContent.length;s>0&&this.currentContent[s-1]==ke.Punctuation_ForwardSlash&&(this.currentContent.pop(),i=!0),r.isComment=n,r.isSelfClosing=i,r.withParser(this),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join("");let a=this.content.split("");if(r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset),e+2>this.inputLen)return r.endPosition=this.positionFromOffset(this.inputLen,this.inputLen-1),this.antlersErrors.push(Y.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE,r,"Unexpected end of input while locating end of Antlers region.")),r;n?this.lastAntlersEndIndex=e+2+this.seedOffset:this.lastAntlersEndIndex=e+1+this.seedOffset,r.endPosition=this.positionFromOffset(this.lastAntlersEndIndex,this.lastAntlersEndIndex),r.interpolationRegions=new Map,this.interpolationRegions.forEach((l,u)=>{r.content.includes(u)&&r.interpolationRegions.set(u,l)});let o=this.nodeParser.parseNode(r);return this.mergeErrors(o.getErrors()),o}mergeErrors(e){e.forEach(n=>{this.antlersErrors.push(n)})}getNodes(){return this.nodes}antlersNodes(){return this.nodes.filter(function(e){return e instanceof Z})}dumpLiteralNode(e){this.currentContent.length>0&&this.nodes.push(this.makeLiteralNode(this.currentContent,this.startIndex,e)),this.currentContent=[],this.sourceContent=[]}makeLiteralNode(e,n,r){let i=new Jt;return i.content=e.join(""),i.sourceContent=this.sourceContent.join(""),i.startPosition=this.positionFromOffset(n,n),i.endPosition=this.positionFromOffset(r,r),i.withParser(this),i}addAntlersError(e){this.antlersErrors.push(e)}getAntlersErrors(){return this.antlersErrors}},L=ke;L.K_CHAR="char",L.K_LINE="line",L.NewLine=`
`,L.AtChar="@",L.LeftBrace="{",L.RightBrace="}",L.LeftBracket="[",L.RightBracket="]",L.String_EscapeCharacter="\\",L.String_Terminator_DoubleQuote='"',L.String_Terminator_SingleQuote="'",L.Punctuation_Question="?",L.Punctuation_Equals="=",L.Punctuation_Comma=",",L.Punctuation_Colon=":",L.Punctuation_Semicolon=";",L.Punctuation_Exclamation="!",L.Punctuation_Pipe="|",L.Punctuation_Ampersand="&",L.Punctuation_LessThan="<",L.Punctuation_GreaterThan=">",L.Punctuation_Octothorp="#",L.Punctuation_Tilde="~",L.Punctuation_FullStop=".",L.Punctuation_Dollar="$",L.Punctuation_Asterisk="*",L.Punctuation_Percent="%",L.Punctuation_Plus="+",L.Punctuation_Minus="-",L.Punctuation_Underscore="_",L.Punctuation_ForwardSlash="/",L.Punctuation_Caret="^",L.LeftParen="(",L.RightParent=")";var Pt=class{static findAssignmentNodes(e){let n=[];for(let r=0;r<e.length;r++)Bt.isAssignmentOperatorNode(e[r])&&n.push(e[r]);return n}static findAbstractNodesBefore(e,n){return this.findAbstractNodesBeforePosition(e.startPosition,n)}static findAbstractNodesBeforePosition(e,n){if(e==null)return[];let r=[];for(let i=0;i<n.length;i++){let s=n[i];if(s.startPosition!=null){if(s.startPosition.index>e.index)break;r.push(s)}}return r}static findNodesBeforePosition(e,n){let r=[];if(e==null)return r;for(let i=0;i<n.length;i++){let s=n[i];if(!Pt.isLiteralType(s)&&s.startPosition!=null&&s.endPosition!=null){if(s.startPosition.index>e.index)break;r.push(s)}}return r}static findNodesAfterPosition(e,n){let r=[];if(e==null)return r;for(let i=0;i<n.length;i++){let s=n[i];Pt.isLiteralType(s)||s.startPosition!=null&&s.startPosition.index>e.index&&r.push(s)}return r}static findNodeBeforePosition(e,n){if(e==null)return null;let r=null;for(let i=0;i<n.length;i++){let s=n[i];if(!Pt.isLiteralType(s)&&s.startPosition!=null){if(s.startPosition.index>e.index)break;r=s}}return r}static findNodeAfterPosition(e,n){if(e==null)return null;for(let r=0;r<n.length;r++){let i=n[r];if(!Pt.isLiteralType(i)&&i.startPosition!=null&&i.startPosition.index>e.index)return i}return null}static findNodeAtPosition(e,n){if(e==null)return null;for(let r=0;r<n.length;r++){let i=n[r];if(!Pt.isLiteralType(i)&&i.startPosition!=null&&i.endPosition!=null&&e.index>=i.startPosition.index&&e.index<=i.endPosition.index)return i}return null}static isLiteralType(e){return e instanceof fi||e instanceof Jt}};var Cl=class{static isModifierLeftOf(e,n){return Cl.isModifierLeftOfPosition(e.startPosition,n)}static isModifierLeftOfPosition(e,n){let r=Pt.findAbstractNodesBeforePosition(e,n);for(let i=r.length-1;i>=0;i--){let s=r[i];if(s instanceof Qt||s instanceof Wt)return!1;if(s instanceof Nn)return!0}return!1}};var Pl=class{constructor(){this.isRightOfOperator=!1;this.isLeftOfOperator=!1}static resolveContext(e,n,r){let i=new Pl;return r!=null&&(r.prev!=null&&Bt.isOperatorType(r.prev)&&(i.isRightOfOperator=!0),r.next!=null&&Bt.isOperatorType(r.next)&&(i.isLeftOfOperator=!0)),i}};var _m=class{constructor(){this.inTagPart=!1;this.inMethodPart=!1}};var El=class{constructor(){this.modifierChain=null;this.activeModifier=null;this.name="";this.inModifierName=!1;this.inModifierParameter=!1;this.valueCount=0;this.activeValueIndex=-1;this.activeValue=null}static resolveContext(e,n,r,i){let s=n.getParser(),a=new El,o=s.getLanguageParser().getCreatedModifierChains(),l=null;for(let u=0;u<o.length;u++){let f=o[u];if(e.isWithin(f.startPosition,f.endPosition)){for(let c=0;c<f.modifierChain.length;c++){let m=f.modifierChain[c];if(e.isWithin(m.startPosition,m.endPosition)){l=m;break}}if(l!=null)break}}if(l==null&&r instanceof hn&&i.getDocumentParser().getLanguageParser().hasModifierConstruct(r)&&(l=i.getDocumentParser().getLanguageParser().getModifierConstruct(r)),l!=null)if(a.activeModifier=l,a.valueCount=l.valueNodes.length,l.nameNode!=null&&(a.name=l.nameNode.name),l.nameNode!=null&&e.isWithin(l.nameNode.startPosition,l.nameNode.endPosition,1))a.inModifierName=!0;else for(let u=0;u<l.valueNodes.length;u++){let f=l.valueNodes[u];if(e.isWithin(f.startPosition,f.endPosition,1)){a.activeValueIndex=u,a.inModifierParameter=!0,a.activeValue=f;break}}return a}};var Dl=class{constructor(){this.parameter=null;this.isInName=!1;this.isInValue=!1}static resolveContext(e,n){let r=new Dl;return r.parameter=n,e.isWithinRange(n.namePosition)?r.isInName=!0:e.isWithinRange(n.valuePosition)&&(r.isInValue=!0),r}};var ym=class{constructor(){this.refId="";this.node=null;this.leftPunctuation=null;this.rightPunctuation=null;this.leftChar=null;this.rightChar=null;this.word=null;this.char=null;this.interpolatedContext=!1;this.leftWord=null;this.rightWord=null;this.isCursorInIdentifier=!1;this.root=null;this.identifierContext=null;this.position=null;this.feature=null;this.isInParameter=!1;this.subContext=null;this.parameterContext=null;this.modifierContext=null;this.generalContext=null;this.variableContext=null;this.cursorContext=bm.Unknown;this.refId=Pa()}},bm=(a=>(a[a.Unknown=0]="Unknown",a[a.Variable=1]="Variable",a[a.Modifier=2]="Modifier",a[a.Parameter=3]="Parameter",a[a.General=4]="General",a[a.LanguageOperator=5]="LanguageOperator",a))(bm||{});var Al=class{constructor(){this.variableNode=null;this.varPathText=""}static resolveContext(e,n,r,i){var c;if(r==null)return null;let s=r,a=i.getDocumentParser().getLanguageParser(),o=new Al,l=(c=i.wordAt(e))!=null?c:"";r instanceof Ct&&a.isMergedVariableComponent(r)==!1&&r.prev instanceof Te&&(s=r.prev);let u="";if(a.isMergedVariableComponent(s)){let m=a.getMergedVariable(s);m.startPosition!=null&&(u=i.getText(m.startPosition.index,e.index).trim()),o.variableNode=m}else s instanceof Te&&(o.variableNode=s,u=s.name,s.variableReference!=null&&(u=s.variableReference.normalizedReference));u.length>0&&(u=nn(u,"\\.",":"));let f=u.split(":");return l.trim().length>0&&f.pop(),u=f.join(":"),u.endsWith(":")&&(u=Nd(u,":")),o.varPathText=u,o}};var $i=class{static resolveIdentifierContext(e,n){let r=new _m;return n.nameMethodPartStartsOn!=null?e.char<n.nameMethodPartStartsOn.char?(r.inTagPart=!0,r.inMethodPart=!1):(r.inTagPart=!1,r.inMethodPart=!0):(r.inMethodPart=!1,r.inTagPart=!0),r}static resolveContext(e,n,r,i=!1,s=null){var a,o,l,u,f,c;if(n==null||e==null)return null;if(n instanceof Wn||n instanceof Z){let m=new ym;if(n.nameStartsOn!=null&&e.line==n.nameStartsOn.line){let p=!1;e.char>=n.nameStartsOn.char&&(p=!0),n.nameEndsOn!=null&&e.char>n.nameEndsOn.char&&(p=!1),p&&(m.isCursorInIdentifier=!0,m.identifierContext=$i.resolveIdentifierContext(e,n))}n.addContext(m),s!=null&&s.addContext(m),m.interpolatedContext=i,m.node=n,m.position=e,m.root=s,m.leftPunctuation=r.punctuationLeftAt(e),m.rightPunctuation=r.punctuationRightAt(e),m.leftChar=r.charLeftAt(e),m.rightChar=r.charRightAt(e),m.word=r.wordAt(e),m.char=r.charAt(e),m.leftWord=r.wordLeftAt(e),m.rightWord=r.wordRightAt(e);let g=!1;if(n.parameters.length>0)for(let p=0;p<n.parameters.length;p++){let h=n.parameters[p];if(h.blockPosition!=null&&h.blockPosition.start!=null&&h.blockPosition.end!=null&&e.char>h.blockPosition.start.char&&e.char<=h.blockPosition.end.char+1&&e.line>=((l=(o=(a=h.namePosition)==null?void 0:a.start)==null?void 0:o.line)!=null?l:h.blockPosition.start.line)&&e.line<=((c=(f=(u=h.valuePosition)==null?void 0:u.end)==null?void 0:f.line)!=null?c:h.blockPosition.end.line)){m.cursorContext=3,m.parameterContext=Dl.resolveContext(e,h),m.isInParameter=!0,m.feature=h,g=!0;break}}if(g||n.runtimeNodes.forEach(p=>{p.startPosition!=null&&p.endPosition!=null&&e.isWithin(p.startPosition,p.endPosition,1)&&(m.feature=p)}),g&&n.interpolationRegions.size>0){let p=Array.from(n.interpolationRegions,([h,y])=>y);for(let h=0;h<p.length;h++){let y=p[h];if(e.index>=y.startOffset&&e.index<=y.endOffset){let _=n.getInterpolationNode(y.varContent);return $i.resolveContext(e,_,r,!0,s)}}}return m.feature instanceof Te&&m.feature.isInterpolationReference&&m.feature.parent!=null&&m.feature.parent instanceof Z&&m.feature.parent.processedInterpolationRegions.has(m.feature.name)?$i.resolveContext(e,m.feature.parent.getInterpolationNode(m.feature.name),r,!0,s):(Cl.isModifierLeftOfPosition(e,n.runtimeNodes)?(m.cursorContext=2,m.modifierContext=El.resolveContext(e,n,m.feature,r)):g||(m.cursorContext=4,m.generalContext=Pl.resolveContext(e,n,m.feature)),m.variableContext=Al.resolveContext(e,n,m.feature,r),m)}return null}};var ea=class{static isPairedNode(e){return e instanceof xr?!0:e instanceof Wn||e instanceof Z?e.isClosedBy!=null:!1}static findAncestorsBeforePosition(e,n){var o,l,u,f,c,m;let r=[],i=[],s=-1,a=-1;for(let g=0;g<n.length;g++){let d=n[g];if(d.isClosedBy!=null&&((o=d.isClosedBy.endPosition)==null?void 0:o.isBefore(e))&&(i.push(d),i.push(d.isClosedBy),s=d.isClosedBy.endPosition.line,a=d.isClosedBy.endPosition.char),!(s>-1&&d.endPosition!=null&&(d.endPosition.line<s||d.endPosition.line==s&&a>-1&&d.endPosition.char<a))){if(d.startPosition!=null){if(e.isBefore(d.startPosition))break;if(d.startPosition.line==e.line&&e.char<=d.startPosition.char){i.push(d);continue}}if(((l=It.instance)==null?void 0:l.requiresClose(d))&&d.isClosedBy!=null){let p=d.isClosedBy;if((u=p.startPosition)==null?void 0:u.isBefore(e)){i.push(d),i.push(p);continue}else((f=p.startPosition)==null?void 0:f.line)==e.line&&((c=p.startPosition)==null?void 0:c.char)<e.char?i.push(d):r.push(d)}else if(d.parent!=null){let p=d.parent;if(i.includes(p)){i.push(d);continue}else((m=d.endPosition)==null?void 0:m.isBefore(e))?r.push(d):i.push(d)}else r.push(d)}}return r}};var Tm=class{constructor(e){this.doc=e}getAncestorsAt(e,n){let r=this.position(e,n);return r==null?[]:ea.findAncestorsBeforePosition(r,this.doc.getAllAntlersNodes())}getNameAt(e,n){let r=this.getNodeAt(e,n);return r instanceof Z?r.name:null}getScopeAt(e,n){let r=this.getNodeAt(e,n);return r instanceof Z&&r.currentScope!=null?r.currentScope:null}getFeaturesAt(e,n){let r=this.position(e,n),i=this.getNodeAt(e,n);return $i.resolveContext(r,i,this.doc,!1,i)}getNodeAt(e,n){return Pt.findNodeAtPosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodeBefore(e,n){return Pt.findNodeBeforePosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodeAfter(e,n){return Pt.findNodeAfterPosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodesBefore(e,n){return Pt.findNodesBeforePosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodesAfter(e,n){return Pt.findNodesAfterPosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getIsWithinPairedNode(e,n){let r=this.getNodeBefore(e,n);return r==null?!1:ea.isPairedNode(r)}position(e,n){return this.doc.getDocumentParser().positionFromCursor(e,n)}charLeftAt(e,n){return this.doc.getDocumentParser().charLeftAtCursor(e,n)}charAt(e,n){return this.doc.getDocumentParser().charAtCursor(e,n)}charRightAt(e,n){return this.doc.getDocumentParser().charRightAtCursor(e,n)}wordLeftAt(e,n,r=4){return this.doc.getDocumentParser().wordLeftAtCursor(e,n,r)}wordRightAt(e,n,r=4){return this.doc.getDocumentParser().wordRightAtCursor(e,n,r)}wordAt(e,n,r=4){return this.doc.getDocumentParser().wordAtCursor(e,n,r)}punctuationLeftAt(e,n,r=4){return this.doc.getDocumentParser().punctuationLeftAtCursor(e,n,r)}punctuationRightAt(e,n,r=4){return this.doc.getDocumentParser().punctuationRightAtCursor(e,n,r)}};var vm=class{constructor(e){this.doc=e}hasAny(){return this.all().length>0}all(){let e=[],n=[];return this.doc.getAllAntlersNodes().forEach(r=>{r.getErrors().forEach(i=>{e.includes(i.hash())==!1&&(e.push(i.hash()),n.push(i))})}),n}};var yN=Ve(Mm());var Rn=Ve(gN(),1),mZ=Rn.default.binaryOptions,hZ=Rn.default.boolOptions,gZ=Rn.default.intOptions,_Z=Rn.default.nullOptions,yZ=Rn.default.strOptions,bZ=Rn.default.Schema,TZ=Rn.default.Alias,vZ=Rn.default.Collection,NZ=Rn.default.Merge,CZ=Rn.default.Node,_N=Rn.default.Pair,bf=Rn.default.Scalar,Fl=Rn.default.YAMLMap,km=Rn.default.YAMLSeq;var qm=class{constructor(e){this.documentScope=null;this.project=e}getKeyValue(e){return e instanceof bf?e.value:""}getNodeValue(e){return e instanceof bf?e.value:e instanceof Fl?this.analyzeDocument(e.items):""}getScalarRuntimeType(e){return parseFloat(e).toString()==e||parseInt(e).toString()==e?"number":"string"}analyzeDocument(e){let n=new yr(this.project);return e.forEach(r=>{if(r instanceof _N){let i=this.getKeyValue(r.key),s=this.getNodeValue(r.value);r.value instanceof bf?n.addVariable({dataType:this.getScalarRuntimeType(s),introducedBy:null,name:i,sourceField:null,sourceName:"*frontmatter"}):n.addScopeList(i,s)}}),n}parse(e){let n=yN.parseDocument(e);try{n.contents instanceof Fl&&(this.documentScope=this.analyzeDocument(n.contents.items))}catch{this.documentScope=null}}hasScope(){return this.documentScope!=null}getScope(){return this.documentScope}};var Bm=class{constructor(e){this.doc=e}getAncestors(e){return ea.findAncestorsBeforePosition(e,this.doc.getAllAntlersNodes())}getNodeAt(e){return Pt.findNodeAtPosition(e,this.doc.getDocumentParser().getNodes())}getNodesBefore(e){return Pt.findNodesBeforePosition(e,this.doc.getDocumentParser().getNodes())}getNodeBefore(e){return Pt.findNodeBeforePosition(e,this.doc.getDocumentParser().getNodes())}getNodeAfter(e){return Pt.findNodeAfterPosition(e,this.doc.getDocumentParser().getNodes())}getNodesAfter(e){return Pt.findNodesAfterPosition(e,this.doc.getDocumentParser().getNodes())}getIsWithinPairedNode(e){let n=this.getNodeBefore(e);return n==null?!1:ea.isPairedNode(n)}filter(e){return this.doc.getDocumentParser().getNodes().filter(e)}getComments(){let e=[];return this.doc.getAllNodes().forEach(n=>{n instanceof Z&&n.isComment&&e.push(n)}),e}getMultilineNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{var r,i;n instanceof Z&&!n.isComment&&((r=n.startPosition)==null?void 0:r.line)!=((i=n.endPosition)==null?void 0:i.line)&&e.push(n)}),e}getMultiLineComments(){let e=[];return this.getComments().forEach(n=>{var r,i;((r=n.startPosition)==null?void 0:r.line)!=((i=n.endPosition)==null?void 0:i.line)&&e.push(n)}),e}getAllLiteralNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof Jt||n instanceof fi)&&e.push(n)}),e}getStructuralNodes(){let e=[];return this.doc.getDocumentParser().getRenderNodes().forEach(n=>{n instanceof Z?e.push(n):n instanceof xr&&n.logicBranches.length>0&&n.logicBranches.forEach(r=>{if(r.head!=null){let i=r.head;i.originalNode!=null?e.push(i.originalNode):e.push(i)}})}),e}getAllRuntimeNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof Wn||n instanceof Z)&&n.runtimeNodes.length>0&&n.runtimeNodes.forEach(r=>{e.push(r)})}),e}getAllParameterNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof Wn||n instanceof Z)&&n.hasParameters&&n.parameters.forEach(r=>{e.push(r)})}),e}getAssignmentNodes(){return Pt.findAssignmentNodes(this.getAllRuntimeNodes())}};var Vm=class{constructor(e){this.doc=e}getAllSelfClosingNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{n instanceof Z&&n.isSelfClosing&&e.push(n)}),e}getAllPairedNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof Z||n instanceof mt)&&n.isClosedBy!=null&&!n.isSelfClosing&&e.push(n)}),e}};var bN=Ve(Mm());var jm=class{constructor(){this.content="";this.ranges=[];this.lastDocumentOffsetKey=null;this.documentOffsets=new Map;this.lineIndex=new Map;this.keys=[];this.values=[];this.isValid=!1;this.parseError=null}loadString(e){var f;this.content=ie.normalizeLineEndings(e);let n=null;try{n=bN.parseDocument(this.content),this.isValid=!0}catch(c){this.isValid=!1,this.parseError=c}if(n==null)return;let r=[...this.content.matchAll(/(\n)/gm)],i=r.length,s=2,a=null,o=0,l=0;for(let c=0;c<i;c++){let m=r[c],g=(f=m.index)!=null?f:0,d=g;a!=null?d=g-a:d=d+1,this.documentOffsets.set(g,{char:d,line:s});let p=0,h=0;c==0?(h=d-1,p=0):(p=l+1,h=g),this.lineIndex.set(s,{char:d,line:s,startIndex:p,endIndex:h}),this.lastDocumentOffsetKey=g,s+=1,a=g,l=h,o=p}let u=n.contents;this.processMap(u)}processMap(e){e.items.forEach(n=>{this.processItem(n)})}processItem(e){if(e.type=="PAIR"){if(e.value instanceof Fl||e.value instanceof km){let s=e.key;if(s.range!=null){let a=this.positionFromOffset(s.range[0],s.range[0]),o=this.positionFromOffset(s.range[1],s.range[1]);this.ranges.push({start:a,end:o,length:o.char-a.char+1,content:"property"}),this.keys.push({start:a,end:o,length:o.char-a.char+1,content:s.value}),e.value instanceof km?this.processMap(e.value.items[0]):this.processMap(e.value);return}}let n=e,r=n.key,i=n.value;if(r.range!=null&&i.range!=null){let s=this.positionFromOffset(r.range[0],r.range[0]),a=this.positionFromOffset(r.range[1],r.range[1]),o=this.positionFromOffset(i.range[0],i.range[0]),l=this.positionFromOffset(i.range[1],i.range[1]),u="string";parseInt(i.value)==i.value&&(u="number"),this.ranges.push({start:s,end:a,length:a.char-s.char+1,content:"property"}),this.keys.push({start:s,end:a,length:a.char-s.char+1,content:r.value}),this.ranges.push({start:o,end:l,length:l.char-o.char+1,content:u}),this.values.push({start:o,end:l,length:l.char-o.char+1,content:i.value})}}}positionFromOffset(e,n,r=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let o=this.documentOffsets.get(e);i=o.line,s=o.char}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let o=null,l=null,u=null,f=null;for(let c of this.documentOffsets.keys()){if(c>=e){f!=null&&e>f?(o=u,l=f):(o=this.documentOffsets.get(c),l=c);break}u=this.documentOffsets.get(c),f=c}if(o==null&&(o=u,l=f),o!=null)if(r){let c=this.content.split(""),m=e-(l!=null?l:0),g=o.char-(l!=null?l:0)+e;s=m,i=o.line,e<=(l!=null?l:0)?(i=o.line,s=e+1):i=o.line+1}else{let c=this.content.split(""),m=e-(l!=null?l:0),g=o.char-(l!=null?l:0)+e;s=m,i=o.line,e<=(l!=null?l:0)?(i=o.line,s=e+1):i=o.line+1}else this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let a=new sr;return a.index=n,a.offset=e,a.line=i,a.char=s,a}getRanges(){return this.ranges}getKeys(){return this.keys}getValues(){return this.values}};var gs=class{constructor(){this.documentParser=new L;this.ranges=new Vm(this);this.nodes=new Bm(this);this.cursor=new Tm(this);this.errors=new vm(this);this.project=null;this.documentUri=""}static fromText(e,n){let r=new gs;return typeof n!="undefined"&&(r.project=n),r.loadString(e)}getDocumentOptions(){let e=this.getAllNodes();if(e.length==0||!(e[0]instanceof Z))return null;let n=e[0];return n.isComment==!1?null:Uo(this.documentUri,n)}isFormattingEnabled(){let e=this.getDocumentOptions();return e==null?!0:e.formatterEnabled}hasInvalidControlFlowStructures(){return this.documentParser.hasUnclosedIfStructures()}getFrontMatterDoc(){if(this.hasFrontMatter()){let e=new jm;return e.loadString(this.getFrontMatter()),e}return null}hasFrontMatter(){return this.documentParser.getFrontMatter().trim().length>0}getFrontMatter(){return this.documentParser.getFrontMatter()}getFrontMatterScope(){if(this.project==null)return null;let e=new qm(this.project);return e.parse(this.getFrontMatter()),e.getScope()}updateProject(e){this.project=e,this.updateProjectDetails()}updateProjectDetails(){try{if(this.project!=null){let e=new sm(this.project,this.documentUri,this),n=this.documentParser.antlersNodes();n.forEach(r=>{var i,s;if(this.project!=null&&((i=It.instance)==null?void 0:i.canResolveSpecialTypes(r.getTagName()))){let a=(s=It.instance)==null?void 0:s.resolveSpecialType(r.getTagName(),r,this.project);a.context!=null&&(r.reference=a.context)}}),e.analyzeScope(n);for(let r=0;r<n.length;r++){let i=n[r];if(i.hasParameters)for(let s=0;s<i.parameters.length;s++){let a=i.parameters[s];if(a.hasInterpolations())for(let o=0;o<a.interpolations.length;o++){let l=a.interpolations[o];i.processedInterpolationRegions.has(l)&&i.processedInterpolationRegions.get(l).forEach(f=>{f instanceof Z&&(f.currentScope=i.currentScope)})}}}PT(this)}}catch(e){console.log(e)}}loadString(e){return this.documentParser.parse(e),this.updateProjectDetails(),this}getDocumentParser(){return this.documentParser}getAllNodes(){return this.documentParser.getNodes()}getAllAntlersNodes(){return this.documentParser.antlersNodes()}extractText(){let e=[];return this.nodes.getAllLiteralNodes().forEach(n=>{e.push(n.content)}),e.join("")}getNameAt(e){let n=this.nodes.getNodeAt(e);return n instanceof Z?n.name:null}getContent(){return this.documentParser.getContent()}getOriginalContent(){return this.documentParser.getOriginalContent()}getFeaturesAt(e){let n=this.nodes.getNodeAt(e);return $i.resolveContext(e,n,this,!1,n)}getText(e,n){return this.documentParser.getText(e,n)}charLeftAt(e){return this.documentParser.charLeftAt(e)}charAt(e){return this.documentParser.charAt(e)}charRightAt(e){return this.documentParser.charRightAt(e)}getLineIndex(e){return this.documentParser.getLineIndex(e)}getLineText(e){return this.documentParser.getLineText(e)}wordAt(e,n=4){return this.documentParser.wordAt(e,n)}wordLeftAt(e,n=4){return this.documentParser.wordLeftAt(e,n)}wordRightAt(e,n=4){return this.documentParser.wordRightAt(e,n)}punctuationLeftAt(e,n=4){return this.documentParser.punctuationLeftAt(e,n)}punctuationRightAt(e,n=4){return this.documentParser.punctuationRightAt(e,n)}getLineChars(e){let n=this.getLineText(e);return n!=null?n.split(""):null}};function TN(t){return typeof t=="undefined"||t===null}function oL(t){return typeof t=="object"&&t!==null}function lL(t){return Array.isArray(t)?t:TN(t)?[]:[t]}function uL(t,e){var n,r,i,s;if(e)for(s=Object.keys(e),n=0,r=s.length;n<r;n+=1)i=s[n],t[i]=e[i];return t}function cL(t,e){var n="",r;for(r=0;r<e;r+=1)n+=t;return n}function fL(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var pL=TN,dL=oL,mL=lL,hL=cL,gL=fL,_L=uL,Ht={isNothing:pL,isObject:dL,toArray:mL,repeat:hL,isNegativeZero:gL,extend:_L};function vN(t,e){var n="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),r+" "+n):r}function Ml(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=vN(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Ml.prototype=Object.create(Error.prototype);Ml.prototype.constructor=Ml;Ml.prototype.toString=function(e){return this.name+": "+vN(this,e)};var Bn=Ml;function Um(t,e,n,r,i){var s="",a="",o=Math.floor(i/2)-1;return r-e>o&&(s=" ... ",e=r-o+s.length),n-r>o&&(a=" ...",n=r+o-a.length),{str:s+t.slice(e,n).replace(/\t/g,"\u2192")+a,pos:r-e+s.length}}function Wm(t,e){return Ht.repeat(" ",e-t.length)+t}function yL(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],s,a=-1;s=n.exec(t.buffer);)i.push(s.index),r.push(s.index+s[0].length),t.position<=s.index&&a<0&&(a=r.length-2);a<0&&(a=r.length-1);var o="",l,u,f=Math.min(t.line+e.linesAfter,i.length).toString().length,c=e.maxLength-(e.indent+f+3);for(l=1;l<=e.linesBefore&&!(a-l<0);l++)u=Um(t.buffer,r[a-l],i[a-l],t.position-(r[a]-r[a-l]),c),o=Ht.repeat(" ",e.indent)+Wm((t.line-l+1).toString(),f)+" | "+u.str+`
`+o;for(u=Um(t.buffer,r[a],i[a],t.position,c),o+=Ht.repeat(" ",e.indent)+Wm((t.line+1).toString(),f)+" | "+u.str+`
`,o+=Ht.repeat("-",e.indent+f+3+u.pos)+`^
`,l=1;l<=e.linesAfter&&!(a+l>=i.length);l++)u=Um(t.buffer,r[a+l],i[a+l],t.position-(r[a]-r[a+l]),c),o+=Ht.repeat(" ",e.indent)+Wm((t.line+l+1).toString(),f)+" | "+u.str+`
`;return o.replace(/\n$/,"")}var bL=yL,TL=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],vL=["scalar","sequence","mapping"];function NL(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(r){e[String(r)]=n})}),e}function CL(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if(TL.indexOf(n)===-1)throw new Bn('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=NL(e.styleAliases||null),vL.indexOf(this.kind)===-1)throw new Bn('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var yn=CL;function NN(t,e){var n=[];return t[e].forEach(function(r){var i=n.length;n.forEach(function(s,a){s.tag===r.tag&&s.kind===r.kind&&s.multi===r.multi&&(i=a)}),n[i]=r}),n}function PL(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function r(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(r);return t}function Gm(t){return this.extend(t)}Gm.prototype.extend=function(e){var n=[],r=[];if(e instanceof yn)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new Bn("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(s){if(!(s instanceof yn))throw new Bn("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Bn("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Bn("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(s){if(!(s instanceof yn))throw new Bn("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Gm.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=NN(i,"implicit"),i.compiledExplicit=NN(i,"explicit"),i.compiledTypeMap=PL(i.compiledImplicit,i.compiledExplicit),i};var EL=Gm,DL=new yn("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),AL=new yn("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),SL=new yn("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),IL=new EL({explicit:[DL,AL,SL]});function xL(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function RL(){return null}function wL(t){return t===null}var OL=new yn("tag:yaml.org,2002:null",{kind:"scalar",resolve:xL,construct:RL,predicate:wL,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function LL(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function FL(t){return t==="true"||t==="True"||t==="TRUE"}function ML(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var kL=new yn("tag:yaml.org,2002:bool",{kind:"scalar",resolve:LL,construct:FL,predicate:ML,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function qL(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function BL(t){return 48<=t&&t<=55}function VL(t){return 48<=t&&t<=57}function jL(t){if(t===null)return!1;var e=t.length,n=0,r=!1,i;if(!e)return!1;if(i=t[n],(i==="-"||i==="+")&&(i=t[++n]),i==="0"){if(n+1===e)return!0;if(i=t[++n],i==="b"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!qL(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!BL(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<e;n++)if(i=t[n],i!=="_"){if(!VL(t.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}function UL(t){var e=t,n=1,r;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),r=e[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),e=e.slice(1),r=e[0]),e==="0")return 0;if(r==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}function WL(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!Ht.isNegativeZero(t)}var GL=new yn("tag:yaml.org,2002:int",{kind:"scalar",resolve:jL,construct:UL,predicate:WL,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),YL=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function $L(t){return!(t===null||!YL.test(t)||t[t.length-1]==="_")}function HL(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}var KL=/^[-+]?[0-9]+e/;function zL(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Ht.isNegativeZero(t))return"-0.0";return n=t.toString(10),KL.test(n)?n.replace("e",".e"):n}function XL(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||Ht.isNegativeZero(t))}var QL=new yn("tag:yaml.org,2002:float",{kind:"scalar",resolve:$L,construct:HL,predicate:XL,represent:zL,defaultStyle:"lowercase"}),JL=IL.extend({implicit:[OL,kL,GL,QL]}),ZL=JL,CN=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),PN=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function eF(t){return t===null?!1:CN.exec(t)!==null||PN.exec(t)!==null}function tF(t){var e,n,r,i,s,a,o,l=0,u=null,f,c,m;if(e=CN.exec(t),e===null&&(e=PN.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(n,r,i));if(s=+e[4],a=+e[5],o=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(f=+e[10],c=+(e[11]||0),u=(f*60+c)*6e4,e[9]==="-"&&(u=-u)),m=new Date(Date.UTC(n,r,i,s,a,o,l)),u&&m.setTime(m.getTime()-u),m}function nF(t){return t.toISOString()}var rF=new yn("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:eF,construct:tF,instanceOf:Date,represent:nF});function iF(t){return t==="<<"||t===null}var sF=new yn("tag:yaml.org,2002:merge",{kind:"scalar",resolve:iF}),Ym=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function aF(t){if(t===null)return!1;var e,n,r=0,i=t.length,s=Ym;for(n=0;n<i;n++)if(e=s.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;r+=6}return r%8===0}function oF(t){var e,n,r=t.replace(/[\r\n=]/g,""),i=r.length,s=Ym,a=0,o=[];for(e=0;e<i;e++)e%4===0&&e&&(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)),a=a<<6|s.indexOf(r.charAt(e));return n=i%4*6,n===0?(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)):n===18?(o.push(a>>10&255),o.push(a>>2&255)):n===12&&o.push(a>>4&255),new Uint8Array(o)}function lF(t){var e="",n=0,r,i,s=t.length,a=Ym;for(r=0;r<s;r++)r%3===0&&r&&(e+=a[n>>18&63],e+=a[n>>12&63],e+=a[n>>6&63],e+=a[n&63]),n=(n<<8)+t[r];return i=s%3,i===0?(e+=a[n>>18&63],e+=a[n>>12&63],e+=a[n>>6&63],e+=a[n&63]):i===2?(e+=a[n>>10&63],e+=a[n>>4&63],e+=a[n<<2&63],e+=a[64]):i===1&&(e+=a[n>>2&63],e+=a[n<<4&63],e+=a[64],e+=a[64]),e}function uF(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var cF=new yn("tag:yaml.org,2002:binary",{kind:"scalar",resolve:aF,construct:oF,predicate:uF,represent:lF}),fF=Object.prototype.hasOwnProperty,pF=Object.prototype.toString;function dF(t){if(t===null)return!0;var e=[],n,r,i,s,a,o=t;for(n=0,r=o.length;n<r;n+=1){if(i=o[n],a=!1,pF.call(i)!=="[object Object]")return!1;for(s in i)if(fF.call(i,s))if(!a)a=!0;else return!1;if(!a)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}function mF(t){return t!==null?t:[]}var hF=new yn("tag:yaml.org,2002:omap",{kind:"sequence",resolve:dF,construct:mF}),gF=Object.prototype.toString;function _F(t){if(t===null)return!0;var e,n,r,i,s,a=t;for(s=new Array(a.length),e=0,n=a.length;e<n;e+=1){if(r=a[e],gF.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;s[e]=[i[0],r[i[0]]]}return!0}function yF(t){if(t===null)return[];var e,n,r,i,s,a=t;for(s=new Array(a.length),e=0,n=a.length;e<n;e+=1)r=a[e],i=Object.keys(r),s[e]=[i[0],r[i[0]]];return s}var bF=new yn("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:_F,construct:yF}),TF=Object.prototype.hasOwnProperty;function vF(t){if(t===null)return!0;var e,n=t;for(e in n)if(TF.call(n,e)&&n[e]!==null)return!1;return!0}function NF(t){return t!==null?t:{}}var CF=new yn("tag:yaml.org,2002:set",{kind:"mapping",resolve:vF,construct:NF}),EN=ZL.extend({implicit:[rF,sF],explicit:[cF,hF,bF,CF]}),Ds=Object.prototype.hasOwnProperty,Tf=1,DN=2,AN=3,vf=4,$m=1,PF=2,SN=3,EF=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,DF=/[\x85\u2028\u2029]/,AF=/[,\[\]\{\}]/,IN=/^(?:!|!!|![a-z\-]+!)$/i,xN=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function RN(t){return Object.prototype.toString.call(t)}function Pi(t){return t===10||t===13}function la(t){return t===9||t===32}function Vn(t){return t===9||t===32||t===10||t===13}function Do(t){return t===44||t===91||t===93||t===123||t===125}function SF(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function IF(t){return t===120?2:t===117?4:t===85?8:0}function xF(t){return 48<=t&&t<=57?t-48:-1}function wN(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"\x85":t===95?"\xA0":t===76?"\u2028":t===80?"\u2029":""}function RF(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var ON=new Array(256),LN=new Array(256);for(ua=0;ua<256;ua++)ON[ua]=wN(ua)?1:0,LN[ua]=wN(ua);var ua;function wF(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||EN,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function FN(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=bL(n),new Bn(e,n)}function _e(t,e){throw FN(t,e)}function Nf(t,e){t.onWarning&&t.onWarning.call(null,FN(t,e))}var MN={YAML:function(e,n,r){var i,s,a;e.version!==null&&_e(e,"duplication of %YAML directive"),r.length!==1&&_e(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&_e(e,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),a=parseInt(i[2],10),s!==1&&_e(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=a<2,a!==1&&a!==2&&Nf(e,"unsupported YAML version of the document")},TAG:function(e,n,r){var i,s;r.length!==2&&_e(e,"TAG directive accepts exactly two arguments"),i=r[0],s=r[1],IN.test(i)||_e(e,"ill-formed tag handle (first argument) of the TAG directive"),Ds.call(e.tagMap,i)&&_e(e,'there is a previously declared suffix for "'+i+'" tag handle'),xN.test(s)||_e(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{_e(e,"tag prefix is malformed: "+s)}e.tagMap[i]=s}};function As(t,e,n,r){var i,s,a,o;if(e<n){if(o=t.input.slice(e,n),r)for(i=0,s=o.length;i<s;i+=1)a=o.charCodeAt(i),a===9||32<=a&&a<=1114111||_e(t,"expected valid JSON character");else EF.test(o)&&_e(t,"the stream contains non-printable characters");t.result+=o}}function kN(t,e,n,r){var i,s,a,o;for(Ht.isObject(n)||_e(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),a=0,o=i.length;a<o;a+=1)s=i[a],Ds.call(e,s)||(e[s]=n[s],r[s]=!0)}function Ao(t,e,n,r,i,s,a,o,l){var u,f;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,f=i.length;u<f;u+=1)Array.isArray(i[u])&&_e(t,"nested arrays are not supported inside keys"),typeof i=="object"&&RN(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&RN(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(u=0,f=s.length;u<f;u+=1)kN(t,e,s[u],n);else kN(t,e,s,n);else!t.json&&!Ds.call(n,i)&&Ds.call(e,i)&&(t.line=a||t.line,t.lineStart=o||t.lineStart,t.position=l||t.position,_e(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[i]=s,delete n[i];return e}function Hm(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):_e(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function Vt(t,e,n){for(var r=0,i=t.input.charCodeAt(t.position);i!==0;){for(;la(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(Pi(i))for(Hm(t),i=t.input.charCodeAt(t.position),r++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return n!==-1&&r!==0&&t.lineIndent<n&&Nf(t,"deficient indentation"),r}function Cf(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||Vn(n)))}function Km(t,e){e===1?t.result+=" ":e>1&&(t.result+=Ht.repeat(`
`,e-1))}function OF(t,e,n){var r,i,s,a,o,l,u,f,c=t.kind,m=t.result,g;if(g=t.input.charCodeAt(t.position),Vn(g)||Do(g)||g===35||g===38||g===42||g===33||g===124||g===62||g===39||g===34||g===37||g===64||g===96||(g===63||g===45)&&(i=t.input.charCodeAt(t.position+1),Vn(i)||n&&Do(i)))return!1;for(t.kind="scalar",t.result="",s=a=t.position,o=!1;g!==0;){if(g===58){if(i=t.input.charCodeAt(t.position+1),Vn(i)||n&&Do(i))break}else if(g===35){if(r=t.input.charCodeAt(t.position-1),Vn(r))break}else{if(t.position===t.lineStart&&Cf(t)||n&&Do(g))break;if(Pi(g))if(l=t.line,u=t.lineStart,f=t.lineIndent,Vt(t,!1,-1),t.lineIndent>=e){o=!0,g=t.input.charCodeAt(t.position);continue}else{t.position=a,t.line=l,t.lineStart=u,t.lineIndent=f;break}}o&&(As(t,s,a,!1),Km(t,t.line-l),s=a=t.position,o=!1),la(g)||(a=t.position+1),g=t.input.charCodeAt(++t.position)}return As(t,s,a,!1),t.result?!0:(t.kind=c,t.result=m,!1)}function LF(t,e){var n,r,i;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(As(t,r,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)r=t.position,t.position++,i=t.position;else return!0;else Pi(n)?(As(t,r,i,!0),Km(t,Vt(t,!1,e)),r=i=t.position):t.position===t.lineStart&&Cf(t)?_e(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);_e(t,"unexpected end of the stream within a single quoted scalar")}function FF(t,e){var n,r,i,s,a,o;if(o=t.input.charCodeAt(t.position),o!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;(o=t.input.charCodeAt(t.position))!==0;){if(o===34)return As(t,n,t.position,!0),t.position++,!0;if(o===92){if(As(t,n,t.position,!0),o=t.input.charCodeAt(++t.position),Pi(o))Vt(t,!1,e);else if(o<256&&ON[o])t.result+=LN[o],t.position++;else if((a=IF(o))>0){for(i=a,s=0;i>0;i--)o=t.input.charCodeAt(++t.position),(a=SF(o))>=0?s=(s<<4)+a:_e(t,"expected hexadecimal character");t.result+=RF(s),t.position++}else _e(t,"unknown escape sequence");n=r=t.position}else Pi(o)?(As(t,n,r,!0),Km(t,Vt(t,!1,e)),n=r=t.position):t.position===t.lineStart&&Cf(t)?_e(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}_e(t,"unexpected end of the stream within a double quoted scalar")}function MF(t,e){var n=!0,r,i,s,a=t.tag,o,l=t.anchor,u,f,c,m,g,d=Object.create(null),p,h,y,_;if(_=t.input.charCodeAt(t.position),_===91)f=93,g=!1,o=[];else if(_===123)f=125,g=!0,o={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=o),_=t.input.charCodeAt(++t.position);_!==0;){if(Vt(t,!0,e),_=t.input.charCodeAt(t.position),_===f)return t.position++,t.tag=a,t.anchor=l,t.kind=g?"mapping":"sequence",t.result=o,!0;n?_===44&&_e(t,"expected the node content, but found ','"):_e(t,"missed comma between flow collection entries"),h=p=y=null,c=m=!1,_===63&&(u=t.input.charCodeAt(t.position+1),Vn(u)&&(c=m=!0,t.position++,Vt(t,!0,e))),r=t.line,i=t.lineStart,s=t.position,So(t,e,Tf,!1,!0),h=t.tag,p=t.result,Vt(t,!0,e),_=t.input.charCodeAt(t.position),(m||t.line===r)&&_===58&&(c=!0,_=t.input.charCodeAt(++t.position),Vt(t,!0,e),So(t,e,Tf,!1,!0),y=t.result),g?Ao(t,o,d,h,p,y,r,i,s):c?o.push(Ao(t,null,d,h,p,y,r,i,s)):o.push(p),Vt(t,!0,e),_=t.input.charCodeAt(t.position),_===44?(n=!0,_=t.input.charCodeAt(++t.position)):n=!1}_e(t,"unexpected end of the stream within a flow collection")}function kF(t,e){var n,r,i=$m,s=!1,a=!1,o=e,l=0,u=!1,f,c;if(c=t.input.charCodeAt(t.position),c===124)r=!1;else if(c===62)r=!0;else return!1;for(t.kind="scalar",t.result="";c!==0;)if(c=t.input.charCodeAt(++t.position),c===43||c===45)$m===i?i=c===43?SN:PF:_e(t,"repeat of a chomping mode identifier");else if((f=xF(c))>=0)f===0?_e(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?_e(t,"repeat of an indentation width identifier"):(o=e+f-1,a=!0);else break;if(la(c)){do c=t.input.charCodeAt(++t.position);while(la(c));if(c===35)do c=t.input.charCodeAt(++t.position);while(!Pi(c)&&c!==0)}for(;c!==0;){for(Hm(t),t.lineIndent=0,c=t.input.charCodeAt(t.position);(!a||t.lineIndent<o)&&c===32;)t.lineIndent++,c=t.input.charCodeAt(++t.position);if(!a&&t.lineIndent>o&&(o=t.lineIndent),Pi(c)){l++;continue}if(t.lineIndent<o){i===SN?t.result+=Ht.repeat(`
`,s?1+l:l):i===$m&&s&&(t.result+=`
`);break}for(r?la(c)?(u=!0,t.result+=Ht.repeat(`
`,s?1+l:l)):u?(u=!1,t.result+=Ht.repeat(`
`,l+1)):l===0?s&&(t.result+=" "):t.result+=Ht.repeat(`
`,l):t.result+=Ht.repeat(`
`,s?1+l:l),s=!0,a=!0,l=0,n=t.position;!Pi(c)&&c!==0;)c=t.input.charCodeAt(++t.position);As(t,n,t.position,!1)}return!0}function qN(t,e){var n,r=t.tag,i=t.anchor,s=[],a,o=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,_e(t,"tab characters must not be used in indentation")),!(l!==45||(a=t.input.charCodeAt(t.position+1),!Vn(a))));){if(o=!0,t.position++,Vt(t,!0,-1)&&t.lineIndent<=e){s.push(null),l=t.input.charCodeAt(t.position);continue}if(n=t.line,So(t,e,AN,!1,!0),s.push(t.result),Vt(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&l!==0)_e(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return o?(t.tag=r,t.anchor=i,t.kind="sequence",t.result=s,!0):!1}function qF(t,e,n){var r,i,s,a,o,l,u=t.tag,f=t.anchor,c={},m=Object.create(null),g=null,d=null,p=null,h=!1,y=!1,_;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=c),_=t.input.charCodeAt(t.position);_!==0;){if(!h&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,_e(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),s=t.line,(_===63||_===58)&&Vn(r))_===63?(h&&(Ao(t,c,m,g,d,null,a,o,l),g=d=p=null),y=!0,h=!0,i=!0):h?(h=!1,i=!0):_e(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,_=r;else{if(a=t.line,o=t.lineStart,l=t.position,!So(t,n,DN,!1,!0))break;if(t.line===s){for(_=t.input.charCodeAt(t.position);la(_);)_=t.input.charCodeAt(++t.position);if(_===58)_=t.input.charCodeAt(++t.position),Vn(_)||_e(t,"a whitespace character is expected after the key-value separator within a block mapping"),h&&(Ao(t,c,m,g,d,null,a,o,l),g=d=p=null),y=!0,h=!1,i=!1,g=t.tag,d=t.result;else if(y)_e(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=u,t.anchor=f,!0}else if(y)_e(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=u,t.anchor=f,!0}if((t.line===s||t.lineIndent>e)&&(h&&(a=t.line,o=t.lineStart,l=t.position),So(t,e,vf,!0,i)&&(h?d=t.result:p=t.result),h||(Ao(t,c,m,g,d,p,a,o,l),g=d=p=null),Vt(t,!0,-1),_=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&_!==0)_e(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return h&&Ao(t,c,m,g,d,null,a,o,l),y&&(t.tag=u,t.anchor=f,t.kind="mapping",t.result=c),y}function BF(t){var e,n=!1,r=!1,i,s,a;if(a=t.input.charCodeAt(t.position),a!==33)return!1;if(t.tag!==null&&_e(t,"duplication of a tag property"),a=t.input.charCodeAt(++t.position),a===60?(n=!0,a=t.input.charCodeAt(++t.position)):a===33?(r=!0,i="!!",a=t.input.charCodeAt(++t.position)):i="!",e=t.position,n){do a=t.input.charCodeAt(++t.position);while(a!==0&&a!==62);t.position<t.length?(s=t.input.slice(e,t.position),a=t.input.charCodeAt(++t.position)):_e(t,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!Vn(a);)a===33&&(r?_e(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),IN.test(i)||_e(t,"named tag handle cannot contain such characters"),r=!0,e=t.position+1)),a=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),AF.test(s)&&_e(t,"tag suffix cannot contain flow indicator characters")}s&&!xN.test(s)&&_e(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{_e(t,"tag name is malformed: "+s)}return n?t.tag=s:Ds.call(t.tagMap,i)?t.tag=t.tagMap[i]+s:i==="!"?t.tag="!"+s:i==="!!"?t.tag="tag:yaml.org,2002:"+s:_e(t,'undeclared tag handle "'+i+'"'),!0}function VF(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&_e(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!Vn(n)&&!Do(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&_e(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function jF(t){var e,n,r;if(r=t.input.charCodeAt(t.position),r!==42)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!Vn(r)&&!Do(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&_e(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),Ds.call(t.anchorMap,n)||_e(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],Vt(t,!0,-1),!0}function So(t,e,n,r,i){var s,a,o,l=1,u=!1,f=!1,c,m,g,d,p,h;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=a=o=vf===n||AN===n,r&&Vt(t,!0,-1)&&(u=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;BF(t)||VF(t);)Vt(t,!0,-1)?(u=!0,o=s,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):o=!1;if(o&&(o=u||i),(l===1||vf===n)&&(Tf===n||DN===n?p=e:p=e+1,h=t.position-t.lineStart,l===1?o&&(qN(t,h)||qF(t,h,p))||MF(t,p)?f=!0:(a&&kF(t,p)||LF(t,p)||FF(t,p)?f=!0:jF(t)?(f=!0,(t.tag!==null||t.anchor!==null)&&_e(t,"alias node should not have any properties")):OF(t,p,Tf===n)&&(f=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(f=o&&qN(t,h))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&_e(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),c=0,m=t.implicitTypes.length;c<m;c+=1)if(d=t.implicitTypes[c],d.resolve(t.result)){t.result=d.construct(t.result),t.tag=d.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(Ds.call(t.typeMap[t.kind||"fallback"],t.tag))d=t.typeMap[t.kind||"fallback"][t.tag];else for(d=null,g=t.typeMap.multi[t.kind||"fallback"],c=0,m=g.length;c<m;c+=1)if(t.tag.slice(0,g[c].tag.length)===g[c].tag){d=g[c];break}d||_e(t,"unknown tag !<"+t.tag+">"),t.result!==null&&d.kind!==t.kind&&_e(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+d.kind+'", not "'+t.kind+'"'),d.resolve(t.result,t.tag)?(t.result=d.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):_e(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||f}function UF(t){var e=t.position,n,r,i,s=!1,a;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(a=t.input.charCodeAt(t.position))!==0&&(Vt(t,!0,-1),a=t.input.charCodeAt(t.position),!(t.lineIndent>0||a!==37));){for(s=!0,a=t.input.charCodeAt(++t.position),n=t.position;a!==0&&!Vn(a);)a=t.input.charCodeAt(++t.position);for(r=t.input.slice(n,t.position),i=[],r.length<1&&_e(t,"directive name must not be less than one character in length");a!==0;){for(;la(a);)a=t.input.charCodeAt(++t.position);if(a===35){do a=t.input.charCodeAt(++t.position);while(a!==0&&!Pi(a));break}if(Pi(a))break;for(n=t.position;a!==0&&!Vn(a);)a=t.input.charCodeAt(++t.position);i.push(t.input.slice(n,t.position))}a!==0&&Hm(t),Ds.call(MN,r)?MN[r](t,r,i):Nf(t,'unknown document directive "'+r+'"')}if(Vt(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,Vt(t,!0,-1)):s&&_e(t,"directives end mark is expected"),So(t,t.lineIndent-1,vf,!1,!0),Vt(t,!0,-1),t.checkLineBreaks&&DF.test(t.input.slice(e,t.position))&&Nf(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&Cf(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,Vt(t,!0,-1));return}if(t.position<t.length-1)_e(t,"end of the stream or a document separator is expected");else return}function BN(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new wF(t,e),r=t.indexOf("\0");for(r!==-1&&(n.position=r,_e(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)UF(n);return n.documents}function WF(t,e,n){e!==null&&typeof e=="object"&&typeof n=="undefined"&&(n=e,e=null);var r=BN(t,n);if(typeof e!="function")return r;for(var i=0,s=r.length;i<s;i+=1)e(r[i])}function GF(t,e){var n=BN(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new Bn("expected a single document in the stream, but found more")}}var YF=WF,$F=GF,VN={loadAll:YF,load:$F},jN=Object.prototype.toString,UN=Object.prototype.hasOwnProperty,zm=65279,HF=9,kl=10,KF=13,zF=32,XF=33,QF=34,Xm=35,JF=37,ZF=38,eM=39,tM=42,WN=44,nM=45,Pf=58,rM=61,iM=62,sM=63,aM=64,GN=91,YN=93,oM=96,$N=123,lM=124,HN=125,bn={};bn[0]="\\0";bn[7]="\\a";bn[8]="\\b";bn[9]="\\t";bn[10]="\\n";bn[11]="\\v";bn[12]="\\f";bn[13]="\\r";bn[27]="\\e";bn[34]='\\"';bn[92]="\\\\";bn[133]="\\N";bn[160]="\\_";bn[8232]="\\L";bn[8233]="\\P";var uM=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],cM=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function fM(t,e){var n,r,i,s,a,o,l;if(e===null)return{};for(n={},r=Object.keys(e),i=0,s=r.length;i<s;i+=1)a=r[i],o=String(e[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),l=t.compiledTypeMap.fallback[a],l&&UN.call(l.styleAliases,o)&&(o=l.styleAliases[o]),n[a]=o;return n}function pM(t){var e,n,r;if(e=t.toString(16).toUpperCase(),t<=255)n="x",r=2;else if(t<=65535)n="u",r=4;else if(t<=4294967295)n="U",r=8;else throw new Bn("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+Ht.repeat("0",r-e.length)+e}var dM=1,ql=2;function mM(t){this.schema=t.schema||EN,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=Ht.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=fM(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?ql:dM,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function KN(t,e){for(var n=Ht.repeat(" ",e),r=0,i=-1,s="",a,o=t.length;r<o;)i=t.indexOf(`
`,r),i===-1?(a=t.slice(r),r=o):(a=t.slice(r,i+1),r=i+1),a.length&&a!==`
`&&(s+=n),s+=a;return s}function Qm(t,e){return`
`+Ht.repeat(" ",t.indent*e)}function hM(t,e){var n,r,i;for(n=0,r=t.implicitTypes.length;n<r;n+=1)if(i=t.implicitTypes[n],i.resolve(e))return!0;return!1}function Ef(t){return t===zF||t===HF}function Bl(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==zm||65536<=t&&t<=1114111}function zN(t){return Bl(t)&&t!==zm&&t!==KF&&t!==kl}function XN(t,e,n){var r=zN(t),i=r&&!Ef(t);return(n?r:r&&t!==WN&&t!==GN&&t!==YN&&t!==$N&&t!==HN)&&t!==Xm&&!(e===Pf&&!i)||zN(e)&&!Ef(e)&&t===Xm||e===Pf&&i}function gM(t){return Bl(t)&&t!==zm&&!Ef(t)&&t!==nM&&t!==sM&&t!==Pf&&t!==WN&&t!==GN&&t!==YN&&t!==$N&&t!==HN&&t!==Xm&&t!==ZF&&t!==tM&&t!==XF&&t!==lM&&t!==rM&&t!==iM&&t!==eM&&t!==QF&&t!==JF&&t!==aM&&t!==oM}function _M(t){return!Ef(t)&&t!==Pf}function Vl(t,e){var n=t.charCodeAt(e),r;return n>=55296&&n<=56319&&e+1<t.length&&(r=t.charCodeAt(e+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}function QN(t){var e=/^\n* /;return e.test(t)}var JN=1,Jm=2,ZN=3,eC=4,Io=5;function yM(t,e,n,r,i,s,a,o){var l,u=0,f=null,c=!1,m=!1,g=r!==-1,d=-1,p=gM(Vl(t,0))&&_M(Vl(t,t.length-1));if(e||a)for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=Vl(t,l),!Bl(u))return Io;p=p&&XN(u,f,o),f=u}else{for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=Vl(t,l),u===kl)c=!0,g&&(m=m||l-d-1>r&&t[d+1]!==" ",d=l);else if(!Bl(u))return Io;p=p&&XN(u,f,o),f=u}m=m||g&&l-d-1>r&&t[d+1]!==" "}return!c&&!m?p&&!a&&!i(t)?JN:s===ql?Io:Jm:n>9&&QN(t)?Io:a?s===ql?Io:Jm:m?eC:ZN}function bM(t,e,n,r,i){t.dump=function(){if(e.length===0)return t.quotingType===ql?'""':"''";if(!t.noCompatMode&&(uM.indexOf(e)!==-1||cM.test(e)))return t.quotingType===ql?'"'+e+'"':"'"+e+"'";var s=t.indent*Math.max(1,n),a=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-s),o=r||t.flowLevel>-1&&n>=t.flowLevel;function l(u){return hM(t,u)}switch(yM(e,o,t.indent,a,l,t.quotingType,t.forceQuotes&&!r,i)){case JN:return e;case Jm:return"'"+e.replace(/'/g,"''")+"'";case ZN:return"|"+tC(e,t.indent)+nC(KN(e,s));case eC:return">"+tC(e,t.indent)+nC(KN(TM(e,a),s));case Io:return'"'+vM(e)+'"';default:throw new Bn("impossible error: invalid scalar style")}}()}function tC(t,e){var n=QN(t)?String(e):"",r=t[t.length-1]===`
`,i=r&&(t[t.length-2]===`
`||t===`
`),s=i?"+":r?"":"-";return n+s+`
`}function nC(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function TM(t,e){for(var n=/(\n+)([^\n]*)/g,r=function(){var u=t.indexOf(`
`);return u=u!==-1?u:t.length,n.lastIndex=u,rC(t.slice(0,u),e)}(),i=t[0]===`
`||t[0]===" ",s,a;a=n.exec(t);){var o=a[1],l=a[2];s=l[0]===" ",r+=o+(!i&&!s&&l!==""?`
`:"")+rC(l,e),i=s}return r}function rC(t,e){if(t===""||t[0]===" ")return t;for(var n=/ [^ ]/g,r,i=0,s,a=0,o=0,l="";r=n.exec(t);)o=r.index,o-i>e&&(s=a>i?a:o,l+=`
`+t.slice(i,s),i=s+1),a=o;return l+=`
`,t.length-i>e&&a>i?l+=t.slice(i,a)+`
`+t.slice(a+1):l+=t.slice(i),l.slice(1)}function vM(t){for(var e="",n=0,r,i=0;i<t.length;n>=65536?i+=2:i++)n=Vl(t,i),r=bn[n],!r&&Bl(n)?(e+=t[i],n>=65536&&(e+=t[i+1])):e+=r||pM(n);return e}function NM(t,e,n){var r="",i=t.tag,s,a,o;for(s=0,a=n.length;s<a;s+=1)o=n[s],t.replacer&&(o=t.replacer.call(n,String(s),o)),(Ki(t,e,o,!1,!1)||typeof o=="undefined"&&Ki(t,e,null,!1,!1))&&(r!==""&&(r+=","+(t.condenseFlow?"":" ")),r+=t.dump);t.tag=i,t.dump="["+r+"]"}function iC(t,e,n,r){var i="",s=t.tag,a,o,l;for(a=0,o=n.length;a<o;a+=1)l=n[a],t.replacer&&(l=t.replacer.call(n,String(a),l)),(Ki(t,e+1,l,!0,!0,!1,!0)||typeof l=="undefined"&&Ki(t,e+1,null,!0,!0,!1,!0))&&((!r||i!=="")&&(i+=Qm(t,e)),t.dump&&kl===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=s,t.dump=i||"[]"}function CM(t,e,n){var r="",i=t.tag,s=Object.keys(n),a,o,l,u,f;for(a=0,o=s.length;a<o;a+=1)f="",r!==""&&(f+=", "),t.condenseFlow&&(f+='"'),l=s[a],u=n[l],t.replacer&&(u=t.replacer.call(n,l,u)),!!Ki(t,e,l,!1,!1)&&(t.dump.length>1024&&(f+="? "),f+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),!!Ki(t,e,u,!1,!1)&&(f+=t.dump,r+=f));t.tag=i,t.dump="{"+r+"}"}function PM(t,e,n,r){var i="",s=t.tag,a=Object.keys(n),o,l,u,f,c,m;if(t.sortKeys===!0)a.sort();else if(typeof t.sortKeys=="function")a.sort(t.sortKeys);else if(t.sortKeys)throw new Bn("sortKeys must be a boolean or a function");for(o=0,l=a.length;o<l;o+=1)m="",(!r||i!=="")&&(m+=Qm(t,e)),u=a[o],f=n[u],t.replacer&&(f=t.replacer.call(n,u,f)),!!Ki(t,e+1,u,!0,!0,!0)&&(c=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,c&&(t.dump&&kl===t.dump.charCodeAt(0)?m+="?":m+="? "),m+=t.dump,c&&(m+=Qm(t,e)),!!Ki(t,e+1,f,!0,c)&&(t.dump&&kl===t.dump.charCodeAt(0)?m+=":":m+=": ",m+=t.dump,i+=m));t.tag=s,t.dump=i||"{}"}function sC(t,e,n){var r,i,s,a,o,l;for(i=n?t.explicitTypes:t.implicitTypes,s=0,a=i.length;s<a;s+=1)if(o=i[s],(o.instanceOf||o.predicate)&&(!o.instanceOf||typeof e=="object"&&e instanceof o.instanceOf)&&(!o.predicate||o.predicate(e))){if(n?o.multi&&o.representName?t.tag=o.representName(e):t.tag=o.tag:t.tag="?",o.represent){if(l=t.styleMap[o.tag]||o.defaultStyle,jN.call(o.represent)==="[object Function]")r=o.represent(e,l);else if(UN.call(o.represent,l))r=o.represent[l](e,l);else throw new Bn("!<"+o.tag+'> tag resolver accepts not "'+l+'" style');t.dump=r}return!0}return!1}function Ki(t,e,n,r,i,s,a){t.tag=null,t.dump=n,sC(t,n,!1)||sC(t,n,!0);var o=jN.call(t.dump),l=r,u;r&&(r=t.flowLevel<0||t.flowLevel>e);var f=o==="[object Object]"||o==="[object Array]",c,m;if(f&&(c=t.duplicates.indexOf(n),m=c!==-1),(t.tag!==null&&t.tag!=="?"||m||t.indent!==2&&e>0)&&(i=!1),m&&t.usedDuplicates[c])t.dump="*ref_"+c;else{if(f&&m&&!t.usedDuplicates[c]&&(t.usedDuplicates[c]=!0),o==="[object Object]")r&&Object.keys(t.dump).length!==0?(PM(t,e,t.dump,i),m&&(t.dump="&ref_"+c+t.dump)):(CM(t,e,t.dump),m&&(t.dump="&ref_"+c+" "+t.dump));else if(o==="[object Array]")r&&t.dump.length!==0?(t.noArrayIndent&&!a&&e>0?iC(t,e-1,t.dump,i):iC(t,e,t.dump,i),m&&(t.dump="&ref_"+c+t.dump)):(NM(t,e,t.dump),m&&(t.dump="&ref_"+c+" "+t.dump));else if(o==="[object String]")t.tag!=="?"&&bM(t,t.dump,e,s,l);else{if(o==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new Bn("unacceptable kind of an object to dump "+o)}t.tag!==null&&t.tag!=="?"&&(u=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",t.dump=u+" "+t.dump)}return!0}function EM(t,e){var n=[],r=[],i,s;for(Zm(t,n,r),i=0,s=r.length;i<s;i+=1)e.duplicates.push(n[r[i]]);e.usedDuplicates=new Array(s)}function Zm(t,e,n){var r,i,s;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)n.indexOf(i)===-1&&n.push(i);else if(e.push(t),Array.isArray(t))for(i=0,s=t.length;i<s;i+=1)Zm(t[i],e,n);else for(r=Object.keys(t),i=0,s=r.length;i<s;i+=1)Zm(t[r[i]],e,n)}function DM(t,e){e=e||{};var n=new mM(e);n.noRefs||EM(t,n);var r=t;return n.replacer&&(r=n.replacer.call({"":r},"",r)),Ki(n,0,r,!0,!0)?n.dump+`
`:""}var AM=DM,SM={dump:AM};function eh(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var aC=VN.load,aee=VN.loadAll,oC=SM.dump;var oee=eh("safeLoad","load"),lee=eh("safeLoadAll","loadAll"),uee=eh("safeDump","dump");var th=class{static formatFrontMatter(e){try{let n=aC(e,{}),r=oC(n,{indent:2,noArrayIndent:!1,condenseFlow:!1,forceQuotes:!0,noRefs:!0,skipInvalid:!0});return r.endsWith(`
`)&&(r=r.trimEnd()),r}catch{return e}}};function er(t,e,n){if(t&&t.hasOwnProperty(e)){let r=t[e];if(r!==null)return r}return n}function lC(t,e,n){let r=er(t,e,null);return typeof r=="string"?r.length>0?r.split(",").map(i=>i.trim().toLowerCase()):[]:n}var Df=class{static frontMatterBlock(e){return`---
`+e+`
---

`}};var Ok=uP().html;var cP=class{constructor(e,n,r){this.buffer="";this.closeString="";this.baseIndent=n,e.isInterpolationNode?(this.buffer="{",this.closeString="}"):(this.buffer="{{ ",e.isSelfClosing?this.closeString=" /}}":this.closeString=" }}"),r!=null&&r.trim().length>0&&(this.buffer+=r+" ")}close(){return this.closeString==" }}"?this.buffer.endsWith(" ")?this.buffer+="}}":this.buffer+=this.closeString:this.buffer+=this.closeString,this}appendT(e){return this.buffer.endsWith(" ")&&(this.buffer=this.buffer.trimEnd()),this.buffer+=e,this}appendTS(e){return this.buffer.endsWith(" ")&&(this.buffer=this.buffer.trimEnd()),this.buffer.endsWith("{")&&(e=e.trimStart()),this.buffer+=e,this}append(e){return this.buffer+=e,this}appendOS(e){return this.buffer.endsWith(" ")==!1&&this.buffer.endsWith("(")==!1&&this.buffer.endsWith("{")==!1&&this.buffer.endsWith("[")==!1&&this.buffer.endsWith(":")==!1&&(this.buffer+=" "),this.append(e)}appendS(e){let n="";return this.buffer.endsWith(" ")==!1&&(n+=" "),n+=e+" ",this.buffer+=n,this}indent(){let e=this.baseIndent;return e==0?e=1:e+=2,this.buffer+=" ".repeat(e),this}addIndent(e){return e<=0?this:(this.buffer+=" ".repeat(e),this)}paramS(e){let n=" ";return e.isVariableReference&&(n+=":"),n+=e.name+"="+e.nameDelimiter+e.value+e.nameDelimiter,this.append(n),this}replace(e,n){return this.buffer=nn(this.buffer,e,n),this}newlineIndent(){return this.newLine(),this.indent(),this}newlineNDIndent(){return this.buffer=this.buffer.trimEnd(),this.newLine(),this.indent(),this}newLine(){return this.buffer+=`
`,this}getContent(){return this.buffer}},Ch=class{constructor(e){this.antlersRegions=new Map;this.conditionRegions=new Map;this.commentRegions=new Map;this.pruneList=[];this.chopList=[];this.commentCount=0;this.formatOptions=e}tabIndent(){let e=this.formatOptions.tabSize;return e<=0&&(e=4)," ".repeat(e)}printComment(e){let n=e.getContent().trim();if(n.includes(`
`)){let r=`{{#
`;return n.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`).forEach(s=>{r+=this.tabIndent()+s.trim()+`
`}),r+="#}}",r}return"{{# "+n+" #}}"}prettyPrintNode(e,n,r,i){var l,u,f,c,m,g,d;if(e.isComment)return this.printComment(e);let s=e.getTrueRuntimeNodes(),a=0,o=0;if(s.length>0){let p=new cP(e,r,i),h=null;for(let _=0;_<s.length;_++){let b=s[_];if(h!=null&&((l=b.endPosition)==null?void 0:l.isBefore(h.startPosition)))continue;let N=!1;if(b instanceof Wt?!(b.next instanceof Wt)&&b.next!=null&&(!Bt.isOperatorType(b.next)||!Bt.isAssignmentOperator(b.next))&&!(b.next instanceof un)&&!(b.next instanceof Ct)&&!b.isSwitchGroupMember&&!Bt.isOperatorType(b.next)&&(N=!0,b.next instanceof Te&&b.next.name=="as"&&(N=!1)):!((u=b.prev)==null?void 0:u.isVirtual)&&((f=b.prev)==null?void 0:f.isVirtualGroupOperatorResolve)&&b.prev.producesVirtualStatementTerminator&&b.next!=null&&(b.prev instanceof Te||p.newlineIndent()),b instanceof Te){if(b.convertedToOperator){if(b.name=="arr")p.appendT(" arr");else if(b.name=="switch"||b.name=="list")if(p.appendTS(" "+b.name),_+1<s.length){if(!(s[_+1]instanceof Qt))break;p.append("("),b.name!="list"&&p.newlineIndent().indent(),_+=1,h=s[_+1];continue}else break;else o+=1,o>1?p.newlineNDIndent().indent().addIndent(6).appendS(b.name):p.appendS(b.name);h=b;continue}b.mergeRefName!=null&&b.mergeRefName.trim().length>0&&b.mergeRefName!=b.name?p.append(b.mergeRefName.trim()):b.name=="as"?p.appendOS("as"):p.append(b.name.trim())}else if(b instanceof $r)if(p.appendTS(" list"),_+1<s.length){if(!(s[_+1]instanceof Qt))break;p.append("("),_+=1,h=s[_+1];continue}else break;else if(b instanceof Nn)p.appendS("|");else if(b instanceof Ct){if(h!=null&&((c=b.startPosition)==null?void 0:c.isBefore(h.endPosition))||b.next instanceof Te&&b.next.mergeRefName.startsWith(":")||n.getDocumentParser().getLanguageParser().isMergedVariableComponent(b))continue;if(b.prev!=null&&b.next!=null&&dt.distance(b.prev,b)<=1&&dt.distance(b.next,b)<=1){p.append(":"),h=b;continue}if(n.getDocumentParser().getLanguageParser().isActualModifierSeparator(b)){p.append(":"),h=b;continue}if(h instanceof hn||h instanceof Gt){p.append(":"),h=b;continue}p.appendS(":")}else if(b instanceof hn)p.append(b.name);else if(b instanceof Gr)p.appendS("?");else if(b instanceof Ln){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(b))continue;if(n.getDocumentParser().getLanguageParser().isActualModifierSeparator(b)){p.append(":"),h=b;continue}p.append(":")}else if(b instanceof Gt)p.append(b.value.trim());else if(b instanceof Qt)p.append("(");else if(b instanceof Wt)p.append(")");else if(b instanceof St){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(b))continue;if(b.startPosition!=null&&b.endPosition!=null){let w=n.getText(b.startPosition.index,b.endPosition.index+1);p.appendOS(w)}else p.appendOS(b.sourceTerminator+b.value+b.sourceTerminator)}else if(b instanceof At)b.isSwitchGroupMember?p.append(",").newlineIndent().indent():p.append(", ");else if(b instanceof Yt){if(h=b,n.getDocumentParser().getLanguageParser().isMergedVariableComponent(b))continue;let w=(g=(m=b.value)==null?void 0:m.toString())!=null?g:"";b.rawLexContent!=null&&b.rawLexContent.trim().length>0&&(w=b.rawLexContent.trim()),p.append(w)}else if(b instanceof Hn)p.appendS("=");else if(b instanceof Cn)p.appendS("=>");else if(b instanceof Gn)p.appendS("+");else if(b instanceof wn){if(b.prev!=null&&b.next!=null&&dt.distance(b.prev,b)<=1&&dt.distance(b.next,b)<=1){b.next instanceof Yt&&b.prev instanceof Yt?p.appendS("-"):p.append("-"),h=b;continue}p.appendS("-")}else if(b instanceof $n)p.appendS("*");else if(b instanceof Yn){if(h=b,(d=b.startPosition)==null?void 0:d.isBefore(e.nameEndsOn)){p.append("/");continue}if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(b))continue;p.appendS("/");continue}else b instanceof un?b.isListGroupMember?(p.append(";").newlineIndent().indent().addIndent(7),_+1<s.length&&!(s[_+1]instanceof Wt)&&p.indent()):(a+=1,a<this.formatOptions.maxStatementsPerLine?p.appendT("; "):(p.appendT(";").newlineIndent(),a=0)):b instanceof cn?b.content=="not"?p.appendS("not"):p.append("!"):p.appendS(b.rawContent());N&&p.newlineIndent(),h=b}e.hasParameters&&e.parameters.forEach(_=>{p.paramS(_)}),p.close();let y=p.getContent();return e.processedInterpolationRegions.size>0&&e.processedInterpolationRegions.forEach((_,b)=>{let N=this.formatDocumentNodes(_,n);y=nn(y,b,N)}),y}return e.getTrueRawContent()}formatDocumentNodes(e,n){var c;let r="",i=(c=lC(this.formatOptions.htmlOptions,"unformatted",[]))!=null?c:[],s=[],a=new Map,o=!1,l=null;e.forEach(m=>{if(m instanceof Jt)m.startPosition!=null&&m.endPosition!=null?r+=n.getText(m.startPosition.index,m.endPosition.index+1):r+=m.rawContent(),l=m;else if(m instanceof Z){if(m.isComment){this.commentCount+=1;let g="__ANTLR_COMMENT"+this.commentCount.toString()+"C";this.commentRegions.set(g,m),r+=g}else if(m.isSelfClosing||m.isClosedBy==null){let g="__ANTLR_"+m.refId;r+=g,a.set(g,m)}else if(m.children.length>0){let g=m.children;g.pop();let d=this.formatDocumentNodes(g,n),p="<ANTLR_"+m.refId+">",h="</ANTLR_"+m.refId+">";this.antlersRegions.set(p,m),r+=p+`
`+d+`
`+h}}else if(m instanceof xr)for(let g=0;g<m.logicBranches.length;g++){let d=m.logicBranches[g];if(d.head==null)continue;let p=d.head.children;p.pop();let h=this.formatDocumentNodes(p,n),y="<ANTLER_COND"+d.head.refId+">",_="</ANTLER_COND"+d.head.refId+">";this.conditionRegions.set(y,d.head),r+=y+h+_}}),r=nn(r,"<{{ as","<ANTLER_COMMON_ALIAS"),r=nn(r,"</{{ as","</ANTLER_COMMON_ALIAS");let u=Ok(r,{indent_size:this.formatOptions.tabSize,indent_char:this.formatOptions.insertSpaces?" ":"	",indent_empty_lines:er(this.formatOptions.htmlOptions,"indentEmptyLines",!1),wrap_line_length:er(this.formatOptions.htmlOptions,"wrapLineLength",120),unformatted:i,content_unformatted:s,indent_inner_html:er(this.formatOptions.htmlOptions,"indentInnerHtml",!1),preserve_newlines:er(this.formatOptions.htmlOptions,"preserveNewLines",!0),max_preserve_newlines:er(this.formatOptions.htmlOptions,"maxPreserveNewLines",32786),indent_handlebars:er(this.formatOptions.htmlOptions,"indentHandlebars",!1),end_with_newline:o&&er(this.formatOptions.htmlOptions,"endWithNewline",!1),extra_liners:[],wrap_attributes:er(this.formatOptions.htmlOptions,"wrapAttributes","auto"),wrap_attributes_indent_size:er(this.formatOptions.htmlOptions,"wrapAttributesIndentSize",void 0),eol:`
`,indent_scripts:er(this.formatOptions.htmlOptions,"indentScripts","normal"),unformatted_content_delimiter:er(this.formatOptions.htmlOptions,"unformattedContentDelimiter","")}),f=u.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`);return a.forEach((m,g)=>{let d=this.getIndent(g,f);u=nn(u,g,this.prettyPrintNode(m,n,d,null))}),u=nn(u,"<ANTLER_COMMON_ALIAS","<{{ as"),u=nn(u,"</ANTLER_COMMON_ALIAS","</{{ as"),u}getIndent(e,n){for(let r=0;r<n.length;r++){let i=n[r];if(i.includes(e)){let s=i.indexOf(e);if(s>=0)return s+1}}return 0}static applyPositionsFromDocument(e,n){let r=e.getAllAntlersNodes(),i=n.getAllAntlersNodes();if(r.length==i.length)for(let s=0;s<r.length;s++){let a=r[s],o=i[s];if(o.startPosition=a.startPosition,o.endPosition=a.endPosition,o.runtimeNodes.length==a.runtimeNodes.length)for(let l=0;l<o.runtimeNodes.length;l++){let u=a.runtimeNodes[l],f=o.runtimeNodes[l];f.startPosition=u.startPosition,f.endPosition=u.endPosition}}}formatDocument(e){if(e.hasInvalidControlFlowStructures()||e.isFormattingEnabled()==!1)return e.getOriginalContent();let n=e.getDocumentParser().getRenderNodes(),r=this.formatDocumentNodes(n,e),i=r.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`);this.antlersRegions.forEach((o,l)=>{let u=this.getIndent(l,i),f=this.prettyPrintNode(o,e,u,null),c="</ANTLR_"+o.refId+">",m="";o.isClosedBy!=null&&(m=o.isClosedBy.getTrueRawContent().trim()),r=nn(r,l,f),r=nn(r,c,m)}),this.commentRegions.forEach((o,l)=>{let u=this.getIndent(l,i),f=this.prettyPrintNode(o,e,u,null);r=nn(r,l,f)}),this.conditionRegions.forEach((o,l)=>{var p,h;let u="</ANTLER_COND"+o.refId+">",f=!0,c=this.getIndent(l,i),m=o.getTrueNode();if(o.isClosedBy!=null){let y=o.isClosedBy;y.startPosition!=null&&o.endPosition!=null&&y.startPosition.line==o.endPosition.line&&this.chopList.push(u+`
`)}o.isClosedBy!=null&&((p=o.isClosedBy.name)==null?void 0:p.name)!="if"&&(this.pruneList.push(u.toLowerCase()),this.chopList.push(u),f=!1);let g=this.prettyPrintNode(m,e,c,m.runtimeName()),d=!1;if(o.isClosedBy!=null){let y=o.isClosedBy;y.startPosition!=null&&o.endPosition!=null&&y.startPosition.line!=o.endPosition.line&&(g+=`
{{@cond_break@}}`+" ".repeat(c+3),d=!0)}if(r=nn(r,l,g),f){let y="";if(d){let w=c;w==1&&(w=0),y=`{{@cond_break@}}
`+" ".repeat(w)}let _=(h=o.isClosedBy)==null?void 0:h.getTrueNode(),b=_==null?void 0:_.runtimeName();(b==null?void 0:b.toLowerCase())=="endunless"&&(b="unless");let N=y+"{{ ";b!="endif"&&(N+="/"),N+=b+" }}",r=nn(r,u,N),r=nn(r,u,"")}}),this.chopList.forEach(o=>{r=nn(r,o,"")});let s=r.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`),a=[];if(s.forEach(o=>{this.pruneList.includes(o.trim().toLowerCase())||o.trim()!="{{@cond_break@}}"&&a.push(o)}),r=a.join(`
`),r=nn(r,"{{@cond_break@}}",""),e.hasFrontMatter()){let o=e.getFrontMatter();this.formatOptions.formatFrontMatter?r=Df.frontMatterBlock(th.formatFrontMatter(o))+r:r=Df.frontMatterBlock(o)+r}return r}};var Y2=$E(),$2=require("path"),HE=0,KE=3,H2=1,tg=4,on=Y2.command("format","Formats a file and writes the changes to disk",{path:{description:"The file to format",alias:"f",type:"string"},dir:{description:"The directory to format",alias:"d",type:"string"},output:{description:"An optional output path",alias:"out",type:"string",default:null},dump:{description:"Optionally writes the formatted results to the output instead of saving",alias:"dd",type:"boolean",default:!1},options:{description:"An optional path to an Antlers format configuration file",alias:"o",type:"string"}}).help().alias("help","h").argv,zE=on._,K2={htmlOptions:{},formatFrontMatter:!0,insertSpaces:!0,maxStatementsPerLine:3,tabSize:4,formatExtensions:[".antlers.html"]};function z2(t){if(at.existsSync(t)){let e=at.readFileSync(t,{encoding:"utf8"});try{return JSON.parse(e)}catch(n){console.error(n)}}return null}function XE(t,e,n){let r=at.readdirSync(t);for(let i=0;i<r.length;i++){let s=$2.join(t,r[i]);at.lstatSync(s).isDirectory()?XE(s,e,n):s.endsWith(e)&&n(s)}}function ng(t,e,n,r){if(at.existsSync(t)){try{at.accessSync(t,at.constants.R_OK|at.constants.W_OK)}catch(i){console.error(i),process.exit(tg)}try{let i=at.readFileSync(t,{encoding:"utf8"}),s=gs.fromText(i),a=new Ch(r),o=a.formatDocument(s);on.dump===!0?console.log(o):at.writeFileSync(e,o,{encoding:"utf8"})}catch(i){console.error(i),process.exit(H2)}}else process.exit(KE)}function QE(t,e,n,r){if(at.existsSync(t)&&at.statSync(t).isDirectory){try{at.accessSync(t,at.constants.R_OK|at.constants.W_OK)}catch(i){console.error(i),process.exit(tg)}n.forEach(i=>{XE(t,i,s=>{ng(s,s,r,e)})}),process.exit(HE)}else process.exit(KE)}if(on._.includes("format")){let t=K2;if(on.options!==null){let e=z2(on.options);e!=null&&(t=e)}if(zE.length==1){if(on.dir!==null){let e=[".antlers.html"];t.formatExtensions.length>0&&(e=t.formatExtensions),QE(on.dir,t,e,on.dump===!0)}if(on.path!==null){let e=on.path;on.output!==null&&(e=on.output),ng(on.path,e,on.dump===!0,t),process.exit(HE)}}else{let e=zE[1];if(at.existsSync(e)){try{at.accessSync(e,at.constants.R_OK|at.constants.W_OK)}catch(r){console.error(r),process.exit(tg)}if(at.lstatSync(e).isDirectory()){let r=[".antlers.html"];t.formatExtensions.length>0&&(r=t.formatExtensions),QE(e,t,r,on.dump===!0)}else{let r=e;on.output!==null&&(r=on.output),ng(e,r,on.dump===!0,t)}}}}
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
