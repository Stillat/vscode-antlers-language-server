#!/usr/bin/env node
var qA=Object.create;var bd=Object.defineProperty;var VA=Object.getOwnPropertyDescriptor;var jA=Object.getOwnPropertyNames;var UA=Object.getPrototypeOf,WA=Object.prototype.hasOwnProperty;var GA=t=>bd(t,"__esModule",{value:!0});var J=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var HA=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of jA(e))!WA.call(t,i)&&(n||i!=="default")&&bd(t,i,{get:()=>e[i],enumerable:!(r=VA(e,i))||r.enumerable});return t},le=(t,e)=>HA(GA(bd(t!=null?qA(UA(t)):{},"default",!e&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var Nc=J(Pd=>{"use strict";Object.defineProperty(Pd,"__esModule",{value:!0});var jy=function(){function t(){this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return t.hashStr=function(e,n){return n===void 0&&(n=!1),this.onePassHasher.start().appendStr(e).end(n)},t.hashAsciiStr=function(e,n){return n===void 0&&(n=!1),this.onePassHasher.start().appendAsciiStr(e).end(n)},t._hex=function(e){var n=t.hexChars,r=t.hexOut,i,s,a,o;for(o=0;o<4;o+=1)for(s=o*8,i=e[o],a=0;a<8;a+=2)r[s+1+a]=n.charAt(i&15),i>>>=4,r[s+0+a]=n.charAt(i&15),i>>>=4;return r.join("")},t._md5cycle=function(e,n){var r=e[0],i=e[1],s=e[2],a=e[3];r+=(i&s|~i&a)+n[0]-680876936|0,r=(r<<7|r>>>25)+i|0,a+=(r&i|~r&s)+n[1]-389564586|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&i)+n[2]+606105819|0,s=(s<<17|s>>>15)+a|0,i+=(s&a|~s&r)+n[3]-1044525330|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&a)+n[4]-176418897|0,r=(r<<7|r>>>25)+i|0,a+=(r&i|~r&s)+n[5]+1200080426|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&i)+n[6]-1473231341|0,s=(s<<17|s>>>15)+a|0,i+=(s&a|~s&r)+n[7]-45705983|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&a)+n[8]+1770035416|0,r=(r<<7|r>>>25)+i|0,a+=(r&i|~r&s)+n[9]-1958414417|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&i)+n[10]-42063|0,s=(s<<17|s>>>15)+a|0,i+=(s&a|~s&r)+n[11]-1990404162|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&a)+n[12]+1804603682|0,r=(r<<7|r>>>25)+i|0,a+=(r&i|~r&s)+n[13]-40341101|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&i)+n[14]-1502002290|0,s=(s<<17|s>>>15)+a|0,i+=(s&a|~s&r)+n[15]+1236535329|0,i=(i<<22|i>>>10)+s|0,r+=(i&a|s&~a)+n[1]-165796510|0,r=(r<<5|r>>>27)+i|0,a+=(r&s|i&~s)+n[6]-1069501632|0,a=(a<<9|a>>>23)+r|0,s+=(a&i|r&~i)+n[11]+643717713|0,s=(s<<14|s>>>18)+a|0,i+=(s&r|a&~r)+n[0]-373897302|0,i=(i<<20|i>>>12)+s|0,r+=(i&a|s&~a)+n[5]-701558691|0,r=(r<<5|r>>>27)+i|0,a+=(r&s|i&~s)+n[10]+38016083|0,a=(a<<9|a>>>23)+r|0,s+=(a&i|r&~i)+n[15]-660478335|0,s=(s<<14|s>>>18)+a|0,i+=(s&r|a&~r)+n[4]-405537848|0,i=(i<<20|i>>>12)+s|0,r+=(i&a|s&~a)+n[9]+568446438|0,r=(r<<5|r>>>27)+i|0,a+=(r&s|i&~s)+n[14]-1019803690|0,a=(a<<9|a>>>23)+r|0,s+=(a&i|r&~i)+n[3]-187363961|0,s=(s<<14|s>>>18)+a|0,i+=(s&r|a&~r)+n[8]+1163531501|0,i=(i<<20|i>>>12)+s|0,r+=(i&a|s&~a)+n[13]-1444681467|0,r=(r<<5|r>>>27)+i|0,a+=(r&s|i&~s)+n[2]-51403784|0,a=(a<<9|a>>>23)+r|0,s+=(a&i|r&~i)+n[7]+1735328473|0,s=(s<<14|s>>>18)+a|0,i+=(s&r|a&~r)+n[12]-1926607734|0,i=(i<<20|i>>>12)+s|0,r+=(i^s^a)+n[5]-378558|0,r=(r<<4|r>>>28)+i|0,a+=(r^i^s)+n[8]-2022574463|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^i)+n[11]+1839030562|0,s=(s<<16|s>>>16)+a|0,i+=(s^a^r)+n[14]-35309556|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^a)+n[1]-1530992060|0,r=(r<<4|r>>>28)+i|0,a+=(r^i^s)+n[4]+1272893353|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^i)+n[7]-155497632|0,s=(s<<16|s>>>16)+a|0,i+=(s^a^r)+n[10]-1094730640|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^a)+n[13]+681279174|0,r=(r<<4|r>>>28)+i|0,a+=(r^i^s)+n[0]-358537222|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^i)+n[3]-722521979|0,s=(s<<16|s>>>16)+a|0,i+=(s^a^r)+n[6]+76029189|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^a)+n[9]-640364487|0,r=(r<<4|r>>>28)+i|0,a+=(r^i^s)+n[12]-421815835|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^i)+n[15]+530742520|0,s=(s<<16|s>>>16)+a|0,i+=(s^a^r)+n[2]-995338651|0,i=(i<<23|i>>>9)+s|0,r+=(s^(i|~a))+n[0]-198630844|0,r=(r<<6|r>>>26)+i|0,a+=(i^(r|~s))+n[7]+1126891415|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~i))+n[14]-1416354905|0,s=(s<<15|s>>>17)+a|0,i+=(a^(s|~r))+n[5]-57434055|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~a))+n[12]+1700485571|0,r=(r<<6|r>>>26)+i|0,a+=(i^(r|~s))+n[3]-1894986606|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~i))+n[10]-1051523|0,s=(s<<15|s>>>17)+a|0,i+=(a^(s|~r))+n[1]-2054922799|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~a))+n[8]+1873313359|0,r=(r<<6|r>>>26)+i|0,a+=(i^(r|~s))+n[15]-30611744|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~i))+n[6]-1560198380|0,s=(s<<15|s>>>17)+a|0,i+=(a^(s|~r))+n[13]+1309151649|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~a))+n[4]-145523070|0,r=(r<<6|r>>>26)+i|0,a+=(i^(r|~s))+n[11]-1120210379|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~i))+n[2]+718787259|0,s=(s<<15|s>>>17)+a|0,i+=(a^(s|~r))+n[9]-343485551|0,i=(i<<21|i>>>11)+s|0,e[0]=r+e[0]|0,e[1]=i+e[1]|0,e[2]=s+e[2]|0,e[3]=a+e[3]|0},t.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(t.stateIdentity),this},t.prototype.appendStr=function(e){var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,a;for(a=0;a<e.length;a+=1){if(s=e.charCodeAt(a),s<128)n[i++]=s;else if(s<2048)n[i++]=(s>>>6)+192,n[i++]=s&63|128;else if(s<55296||s>56319)n[i++]=(s>>>12)+224,n[i++]=s>>>6&63|128,n[i++]=s&63|128;else{if(s=(s-55296)*1024+(e.charCodeAt(++a)-56320)+65536,s>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");n[i++]=(s>>>18)+240,n[i++]=s>>>12&63|128,n[i++]=s>>>6&63|128,n[i++]=s&63|128}i>=64&&(this._dataLength+=64,t._md5cycle(this._state,r),i-=64,r[0]=r[16])}return this._bufferLength=i,this},t.prototype.appendAsciiStr=function(e){for(var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,a=0;;){for(s=Math.min(e.length-a,64-i);s--;)n[i++]=e.charCodeAt(a++);if(i<64)break;this._dataLength+=64,t._md5cycle(this._state,r),i=0}return this._bufferLength=i,this},t.prototype.appendByteArray=function(e){for(var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,a=0;;){for(s=Math.min(e.length-a,64-i);s--;)n[i++]=e[a++];if(i<64)break;this._dataLength+=64,t._md5cycle(this._state,r),i=0}return this._bufferLength=i,this},t.prototype.getState=function(){var e=this,n=e._state;return{buffer:String.fromCharCode.apply(null,e._buffer8),buflen:e._bufferLength,length:e._dataLength,state:[n[0],n[1],n[2],n[3]]}},t.prototype.setState=function(e){var n=e.buffer,r=e.state,i=this._state,s;for(this._dataLength=e.length,this._bufferLength=e.buflen,i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],s=0;s<n.length;s+=1)this._buffer8[s]=n.charCodeAt(s)},t.prototype.end=function(e){e===void 0&&(e=!1);var n=this._bufferLength,r=this._buffer8,i=this._buffer32,s=(n>>2)+1,a;if(this._dataLength+=n,r[n]=128,r[n+1]=r[n+2]=r[n+3]=0,i.set(t.buffer32Identity.subarray(s),s),n>55&&(t._md5cycle(this._state,i),i.set(t.buffer32Identity)),a=this._dataLength*8,a<=4294967295)i[14]=a;else{var o=a.toString(16).match(/(.*?)(.{0,8})$/);if(o===null)return;var l=parseInt(o[2],16),u=parseInt(o[1],16)||0;i[14]=l,i[15]=u}return t._md5cycle(this._state,i),e?this._state:t._hex(this._state)},t.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),t.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t.hexChars="0123456789abcdef",t.hexOut=[],t.onePassHasher=new t,t}();Pd.Md5=jy;jy.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592"&&console.error("Md5 self test failed.")});var Dc=J(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.thenable=tn.typedArray=tn.stringArray=tn.array=tn.func=tn.error=tn.number=tn.string=tn.boolean=void 0;function ex(t){return t===!0||t===!1}tn.boolean=ex;function Gy(t){return typeof t=="string"||t instanceof String}tn.string=Gy;function tx(t){return typeof t=="number"||t instanceof Number}tn.number=tx;function nx(t){return t instanceof Error}tn.error=nx;function Hy(t){return typeof t=="function"}tn.func=Hy;function Yy(t){return Array.isArray(t)}tn.array=Yy;function rx(t){return Yy(t)&&t.every(e=>Gy(e))}tn.stringArray=rx;function ix(t,e){return Array.isArray(t)&&t.every(e)}tn.typedArray=ix;function sx(t){return t&&Hy(t.then)}tn.thenable=sx});var os=J(Ld=>{"use strict";Object.defineProperty(Ld,"__esModule",{value:!0});var Od;function Fd(){if(Od===void 0)throw new Error("No runtime abstraction layer installed");return Od}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");Od=n}t.install=e})(Fd||(Fd={}));Ld.default=Fd});var kd=J(Ql=>{"use strict";Object.defineProperty(Ql,"__esModule",{value:!0});Ql.Disposable=void 0;var ax;(function(t){function e(n){return{dispose:n}}t.create=e})(ax=Ql.Disposable||(Ql.Disposable={}))});var Ky=J(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.AbstractMessageBuffer=void 0;var ox=13,lx=10,ux=`\r
`,$y=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let e=0,n=0,r=0,i=0;e:for(;n<this._chunks.length;){let l=this._chunks[n];r=0;t:for(;r<l.length;){switch(l[r]){case ox:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case lx:switch(e){case 1:e=2;break;case 3:e=4,r++;break e;default:e=0}break;default:e=0}r++}i+=l.byteLength,n++}if(e!==4)return;let s=this._read(i+r),a=new Map,o=this.toString(s,"ascii").split(ux);if(o.length<2)return a;for(let l=0;l<o.length-2;l++){let u=o[l],c=u.indexOf(":");if(c===-1)throw new Error("Message header must separate key and value using :");let f=u.substr(0,c),d=u.substr(c+1).trim();a.set(f,d)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],a=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,a}let n=this.allocNative(e),r=0,i=0;for(;e>0;){let s=this._chunks[i];if(s.byteLength>e){let a=s.slice(0,e);n.set(a,r),r+=e,this._chunks[i]=s.slice(e),this._totalLength-=e,e-=e}else n.set(s,r),r+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return n}};Sc.AbstractMessageBuffer=$y});var Zy=J(Bd=>{"use strict";Object.defineProperty(Bd,"__esModule",{value:!0});var cx=os(),zy=require("util"),_a=kd(),fx=Ky(),Jl=class extends fx.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return Jl.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new zy.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};Jl.emptyBuffer=Buffer.allocUnsafe(0);var Xy=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),_a.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),_a.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),_a.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),_a.Disposable.create(()=>this.stream.off("data",e))}},Qy=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),_a.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),_a.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),_a.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((r,i)=>{let s=a=>{a==null?r():i(a)};typeof e=="string"?this.stream.write(e,n,s):this.stream.write(e,s)})}end(){this.stream.end()}},Jy=Object.freeze({messageBuffer:Object.freeze({create:t=>new Jl(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new zy.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new Xy(t),asWritableStream:t=>new Qy(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){return setTimeout(t,e,...n)},clearTimeout(t){clearTimeout(t)},setImmediate(t,...e){return setImmediate(t,...e)},clearImmediate(t){clearImmediate(t)}})});function Md(){return Jy}(function(t){function e(){cx.default.install(Jy)}t.install=e})(Md||(Md={}));Bd.default=Md});var _o=J(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});qn.stringArray=qn.array=qn.func=qn.error=qn.number=qn.string=qn.boolean=void 0;function px(t){return t===!0||t===!1}qn.boolean=px;function eb(t){return typeof t=="string"||t instanceof String}qn.string=eb;function dx(t){return typeof t=="number"||t instanceof Number}qn.number=dx;function mx(t){return t instanceof Error}qn.error=mx;function hx(t){return typeof t=="function"}qn.func=hx;function tb(t){return Array.isArray(t)}qn.array=tb;function gx(t){return tb(t)&&t.every(e=>eb(e))}qn.stringArray=gx});var qd=J(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.isResponseMessage=De.isNotificationMessage=De.isRequestMessage=De.NotificationType9=De.NotificationType8=De.NotificationType7=De.NotificationType6=De.NotificationType5=De.NotificationType4=De.NotificationType3=De.NotificationType2=De.NotificationType1=De.NotificationType0=De.NotificationType=De.RequestType9=De.RequestType8=De.RequestType7=De.RequestType6=De.RequestType5=De.RequestType4=De.RequestType3=De.RequestType2=De.RequestType1=De.RequestType=De.RequestType0=De.AbstractMessageSignature=De.ParameterStructures=De.ResponseError=De.ErrorCodes=void 0;var ya=_o(),nb;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=t.jsonrpcReservedErrorRangeStart,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=t.jsonrpcReservedErrorRangeEnd})(nb=De.ErrorCodes||(De.ErrorCodes={}));var Ic=class extends Error{constructor(e,n,r){super(n);this.code=ya.number(e)?e:nb.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,Ic.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};De.ResponseError=Ic;var Fn=class{constructor(e){this.kind=e}static is(e){return e===Fn.auto||e===Fn.byName||e===Fn.byPosition}toString(){return this.kind}};De.ParameterStructures=Fn;Fn.auto=new Fn("auto");Fn.byPosition=new Fn("byPosition");Fn.byName=new Fn("byName");var qt=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return Fn.auto}};De.AbstractMessageSignature=qt;var rb=class extends qt{constructor(e){super(e,0)}};De.RequestType0=rb;var ib=class extends qt{constructor(e,n=Fn.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};De.RequestType=ib;var sb=class extends qt{constructor(e,n=Fn.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};De.RequestType1=sb;var ab=class extends qt{constructor(e){super(e,2)}};De.RequestType2=ab;var ob=class extends qt{constructor(e){super(e,3)}};De.RequestType3=ob;var lb=class extends qt{constructor(e){super(e,4)}};De.RequestType4=lb;var ub=class extends qt{constructor(e){super(e,5)}};De.RequestType5=ub;var cb=class extends qt{constructor(e){super(e,6)}};De.RequestType6=cb;var fb=class extends qt{constructor(e){super(e,7)}};De.RequestType7=fb;var pb=class extends qt{constructor(e){super(e,8)}};De.RequestType8=pb;var db=class extends qt{constructor(e){super(e,9)}};De.RequestType9=db;var mb=class extends qt{constructor(e,n=Fn.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};De.NotificationType=mb;var hb=class extends qt{constructor(e){super(e,0)}};De.NotificationType0=hb;var gb=class extends qt{constructor(e,n=Fn.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};De.NotificationType1=gb;var _b=class extends qt{constructor(e){super(e,2)}};De.NotificationType2=_b;var yb=class extends qt{constructor(e){super(e,3)}};De.NotificationType3=yb;var bb=class extends qt{constructor(e){super(e,4)}};De.NotificationType4=bb;var Tb=class extends qt{constructor(e){super(e,5)}};De.NotificationType5=Tb;var vb=class extends qt{constructor(e){super(e,6)}};De.NotificationType6=vb;var Nb=class extends qt{constructor(e){super(e,7)}};De.NotificationType7=Nb;var Cb=class extends qt{constructor(e){super(e,8)}};De.NotificationType8=Cb;var Pb=class extends qt{constructor(e){super(e,9)}};De.NotificationType9=Pb;function _x(t){let e=t;return e&&ya.string(e.method)&&(ya.string(e.id)||ya.number(e.id))}De.isRequestMessage=_x;function yx(t){let e=t;return e&&ya.string(e.method)&&t.id===void 0}De.isNotificationMessage=yx;function bx(t){let e=t;return e&&(e.result!==void 0||!!e.error)&&(ya.string(e.id)||ya.number(e.id)||e.id===null)}De.isResponseMessage=bx});var yo=J(ba=>{"use strict";Object.defineProperty(ba,"__esModule",{value:!0});ba.Emitter=ba.Event=void 0;var Tx=os(),vx;(function(t){let e={dispose(){}};t.None=function(){return e}})(vx=ba.Event||(ba.Event={}));var Db=class{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===e)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,a=r.length;s<a;s++)try{n.push(r[s].apply(i[s],e))}catch(o){Tx.default().console.error(o)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Zl=class{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new Db),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let i={dispose:()=>{!this._callbacks||(this._callbacks.remove(e,n),i.dispose=Zl._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};ba.Emitter=Zl;Zl._noop=function(){}});var Wd=J(Ta=>{"use strict";Object.defineProperty(Ta,"__esModule",{value:!0});Ta.CancellationTokenSource=Ta.CancellationToken=void 0;var Sb=os(),Nx=_o(),Vd=yo(),jd;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Vd.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Vd.Event.None});function e(n){let r=n;return r&&(r===t.None||r===t.Cancelled||Nx.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(jd=Ta.CancellationToken||(Ta.CancellationToken={}));var Cx=Object.freeze(function(t,e){let n=Sb.default().timer.setTimeout(t.bind(e),0);return{dispose(){Sb.default().timer.clearTimeout(n)}}}),Ud=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Cx:(this._emitter||(this._emitter=new Vd.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},Ib=class{get token(){return this._token||(this._token=new Ud),this._token}cancel(){this._token?this._token.cancel():this._token=jd.Cancelled}dispose(){this._token?this._token instanceof Ud&&this._token.dispose():this._token=jd.None}};Ta.CancellationTokenSource=Ib});var Ab=J(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});ls.ReadableStreamMessageReader=ls.AbstractMessageReader=ls.MessageReader=void 0;var Ec=os(),bo=_o(),Gd=yo(),Px;(function(t){function e(n){let r=n;return r&&bo.func(r.listen)&&bo.func(r.dispose)&&bo.func(r.onError)&&bo.func(r.onClose)&&bo.func(r.onPartialMessage)}t.is=e})(Px=ls.MessageReader||(ls.MessageReader={}));var Hd=class{constructor(){this.errorEmitter=new Gd.Emitter,this.closeEmitter=new Gd.Emitter,this.partialMessageEmitter=new Gd.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${bo.string(e.message)?e.message:"unknown"}`)}};ls.AbstractMessageReader=Hd;var Yd;(function(t){function e(n){var r;let i,s,a,o=new Map,l,u=new Map;if(n===void 0||typeof n=="string")i=n??"utf-8";else{if(i=(r=n.charset)!==null&&r!==void 0?r:"utf-8",n.contentDecoder!==void 0&&(a=n.contentDecoder,o.set(a.name,a)),n.contentDecoders!==void 0)for(let c of n.contentDecoders)o.set(c.name,c);if(n.contentTypeDecoder!==void 0&&(l=n.contentTypeDecoder,u.set(l.name,l)),n.contentTypeDecoders!==void 0)for(let c of n.contentTypeDecoders)u.set(c.name,c)}return l===void 0&&(l=Ec.default().applicationJson.decoder,u.set(l.name,l)),{charset:i,contentDecoder:a,contentDecoders:o,contentTypeDecoder:l,contentTypeDecoders:u}}t.fromOptions=e})(Yd||(Yd={}));var Eb=class extends Hd{constructor(e,n){super();this.readable=e,this.options=Yd.fromOptions(n),this.buffer=Ec.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let s=i.get("Content-Length");if(!s)throw new Error("Header must provide a Content-Length property.");let a=parseInt(s);if(isNaN(a))throw new Error("Content-Length value must be a number.");this.nextMessageLength=a}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let r;this.options.contentDecoder!==void 0?r=this.options.contentDecoder.decode(n):r=Promise.resolve(n),r.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(s=>{this.callback(s)},s=>{this.fireError(s)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(Ec.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=Ec.default().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};ls.ReadableStreamMessageReader=Eb});var Rb=J(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.Semaphore=void 0;var Dx=os(),xb=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||Dx.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};Ac.Semaphore=xb});var kb=J(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});us.WriteableStreamMessageWriter=us.AbstractMessageWriter=us.MessageWriter=void 0;var wb=os(),eu=_o(),Sx=Rb(),Ob=yo(),Ix="Content-Length: ",Fb=`\r
`,Ex;(function(t){function e(n){let r=n;return r&&eu.func(r.dispose)&&eu.func(r.onClose)&&eu.func(r.onError)&&eu.func(r.write)}t.is=e})(Ex=us.MessageWriter||(us.MessageWriter={}));var $d=class{constructor(){this.errorEmitter=new Ob.Emitter,this.closeEmitter=new Ob.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${eu.string(e.message)?e.message:"unknown"}`)}};us.AbstractMessageWriter=$d;var Kd;(function(t){function e(n){var r,i;return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:wb.default().applicationJson.encoder}:{charset:(r=n.charset)!==null&&r!==void 0?r:"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:(i=n.contentTypeEncoder)!==null&&i!==void 0?i:wb.default().applicationJson.encoder}}t.fromOptions=e})(Kd||(Kd={}));var Lb=class extends $d{constructor(e,n){super();this.writable=e,this.options=Kd.fromOptions(n),this.errorCount=0,this.writeSemaphore=new Sx.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(Ix,r.byteLength.toString(),Fb),i.push(Fb),this.doWrite(e,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};us.WriteableStreamMessageWriter=Lb});var Bb=J(cs=>{"use strict";Object.defineProperty(cs,"__esModule",{value:!0});cs.LRUCache=cs.LinkedMap=cs.Touch=void 0;var Xn;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(Xn=cs.Touch||(cs.Touch={}));var zd=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,n=Xn.None){let r=this._map.get(e);if(!!r)return n!==Xn.None&&this.touch(r,n),r.value}set(e,n,r=Xn.None){let i=this._map.get(e);if(i)i.value=n,r!==Xn.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case Xn.None:this.addItemLast(i);break;case Xn.First:this.addItemFirst(i);break;case Xn.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(!!n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let r=this._state,i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.key,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}values(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.value,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}entries(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:[r.key,r.value],done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==Xn.First&&n!==Xn.Last)){if(n===Xn.First){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===Xn.Last){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r)}};cs.LinkedMap=zd;var Mb=class extends zd{constructor(e,n=1){super();this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=Xn.AsNew){return super.get(e,n)}peek(e){return super.get(e,Xn.None)}set(e,n){return super.set(e,n,Xn.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};cs.LRUCache=Mb});var Gb=J(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.createMessageConnection=Ve.ConnectionOptions=Ve.CancellationStrategy=Ve.CancellationSenderStrategy=Ve.CancellationReceiverStrategy=Ve.ConnectionStrategy=Ve.ConnectionError=Ve.ConnectionErrors=Ve.LogTraceNotification=Ve.SetTraceNotification=Ve.TraceFormat=Ve.Trace=Ve.NullLogger=Ve.ProgressType=void 0;var qb=os(),vn=_o(),Me=qd(),Vb=Bb(),tu=yo(),Xd=Wd(),nu;(function(t){t.type=new Me.NotificationType("$/cancelRequest")})(nu||(nu={}));var xc;(function(t){t.type=new Me.NotificationType("$/progress")})(xc||(xc={}));var jb=class{constructor(){}};Ve.ProgressType=jb;var Qd;(function(t){function e(n){return vn.func(n)}t.is=e})(Qd||(Qd={}));Ve.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var nn;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Verbose=2]="Verbose"})(nn=Ve.Trace||(Ve.Trace={}));(function(t){function e(r){if(!vn.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(nn=Ve.Trace||(Ve.Trace={}));var Ci;(function(t){t.Text="text",t.JSON="json"})(Ci=Ve.TraceFormat||(Ve.TraceFormat={}));(function(t){function e(n){return n=n.toLowerCase(),n==="json"?t.JSON:t.Text}t.fromString=e})(Ci=Ve.TraceFormat||(Ve.TraceFormat={}));var Ub;(function(t){t.type=new Me.NotificationType("$/setTrace")})(Ub=Ve.SetTraceNotification||(Ve.SetTraceNotification={}));var Jd;(function(t){t.type=new Me.NotificationType("$/logTrace")})(Jd=Ve.LogTraceNotification||(Ve.LogTraceNotification={}));var Rc;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(Rc=Ve.ConnectionErrors||(Ve.ConnectionErrors={}));var va=class extends Error{constructor(e,n){super(n);this.code=e,Object.setPrototypeOf(this,va.prototype)}};Ve.ConnectionError=va;var Wb;(function(t){function e(n){let r=n;return r&&vn.func(r.cancelUndispatched)}t.is=e})(Wb=Ve.ConnectionStrategy||(Ve.ConnectionStrategy={}));var Zd;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new Xd.CancellationTokenSource}});function e(n){let r=n;return r&&vn.func(r.createCancellationTokenSource)}t.is=e})(Zd=Ve.CancellationReceiverStrategy||(Ve.CancellationReceiverStrategy={}));var em;(function(t){t.Message=Object.freeze({sendCancellation(n,r){n.sendNotification(nu.type,{id:r})},cleanup(n){}});function e(n){let r=n;return r&&vn.func(r.sendCancellation)&&vn.func(r.cleanup)}t.is=e})(em=Ve.CancellationSenderStrategy||(Ve.CancellationSenderStrategy={}));var tm;(function(t){t.Message=Object.freeze({receiver:Zd.Message,sender:em.Message});function e(n){let r=n;return r&&Zd.is(r.receiver)&&em.is(r.sender)}t.is=e})(tm=Ve.CancellationStrategy||(Ve.CancellationStrategy={}));var Ax;(function(t){function e(n){let r=n;return r&&(tm.is(r.cancellationStrategy)||Wb.is(r.connectionStrategy))}t.is=e})(Ax=Ve.ConnectionOptions||(Ve.ConnectionOptions={}));var Pi;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(Pi||(Pi={}));function xx(t,e,n,r){let i=n!==void 0?n:Ve.NullLogger,s=0,a=0,o=0,l="2.0",u,c=Object.create(null),f,d=Object.create(null),m=new Map,p,h=new Vb.LinkedMap,_=Object.create(null),g=Object.create(null),b=nn.Off,y=Ci.Text,T,C=Pi.New,W=new tu.Emitter,F=new tu.Emitter,L=new tu.Emitter,H=new tu.Emitter,G=new tu.Emitter,Q=r&&r.cancellationStrategy?r.cancellationStrategy:tm.Message;function re(D){if(D===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+D.toString()}function ye(D){return D===null?"res-unknown-"+(++o).toString():"res-"+D.toString()}function he(){return"not-"+(++a).toString()}function oe(D,S){Me.isRequestMessage(S)?D.set(re(S.id),S):Me.isResponseMessage(S)?D.set(ye(S.id),S):D.set(he(),S)}function Ae(D){}function ut(){return C===Pi.Listening}function Lt(){return C===Pi.Closed}function Ye(){return C===Pi.Disposed}function ct(){(C===Pi.New||C===Pi.Listening)&&(C=Pi.Closed,F.fire(void 0))}function _e(D){W.fire([D,void 0,void 0])}function we(D){W.fire(D)}t.onClose(ct),t.onError(_e),e.onClose(ct),e.onError(we);function se(){p||h.size===0||(p=qb.default().timer.setImmediate(()=>{p=void 0,V()}))}function V(){if(h.size===0)return;let D=h.shift();try{Me.isRequestMessage(D)?ae(D):Me.isNotificationMessage(D)?ft(D):Me.isResponseMessage(D)?ve(D):An(D)}finally{se()}}let pe=D=>{try{if(Me.isNotificationMessage(D)&&D.method===nu.type.method){let S=re(D.params.id),v=h.get(S);if(Me.isRequestMessage(v)){let x=r==null?void 0:r.connectionStrategy,O=x&&x.cancelUndispatched?x.cancelUndispatched(v,Ae):void 0;if(O&&(O.error!==void 0||O.result!==void 0)){h.delete(S),O.id=v.id,Lr(O,D.method,Date.now()),e.write(O);return}}}oe(h,D)}finally{se()}};function ae(D){if(Ye())return;function S(Y,Te,Re){let Qe={jsonrpc:l,id:D.id};Y instanceof Me.ResponseError?Qe.error=Y.toJson():Qe.result=Y===void 0?null:Y,Lr(Qe,Te,Re),e.write(Qe)}function v(Y,Te,Re){let Qe={jsonrpc:l,id:D.id,error:Y.toJson()};Lr(Qe,Te,Re),e.write(Qe)}function x(Y,Te,Re){Y===void 0&&(Y=null);let Qe={jsonrpc:l,id:D.id,result:Y};Lr(Qe,Te,Re),e.write(Qe)}xn(D);let O=c[D.method],E,N;O&&(E=O.type,N=O.handler);let B=Date.now();if(N||u){let Y=String(D.id),Te=Q.receiver.createCancellationTokenSource(Y);g[Y]=Te;try{let Re;if(N)if(D.params===void 0){if(E!==void 0&&E.numberOfParams!==0){v(new Me.ResponseError(Me.ErrorCodes.InvalidParams,`Request ${D.method} defines ${E.numberOfParams} params but recevied none.`),D.method,B);return}Re=N(Te.token)}else if(Array.isArray(D.params)){if(E!==void 0&&E.parameterStructures===Me.ParameterStructures.byName){v(new Me.ResponseError(Me.ErrorCodes.InvalidParams,`Request ${D.method} defines parameters by name but received parameters by position`),D.method,B);return}Re=N(...D.params,Te.token)}else{if(E!==void 0&&E.parameterStructures===Me.ParameterStructures.byPosition){v(new Me.ResponseError(Me.ErrorCodes.InvalidParams,`Request ${D.method} defines parameters by position but received parameters by name`),D.method,B);return}Re=N(D.params,Te.token)}else u&&(Re=u(D.method,D.params,Te.token));let Qe=Re;Re?Qe.then?Qe.then(Rt=>{delete g[Y],S(Rt,D.method,B)},Rt=>{delete g[Y],Rt instanceof Me.ResponseError?v(Rt,D.method,B):Rt&&vn.string(Rt.message)?v(new Me.ResponseError(Me.ErrorCodes.InternalError,`Request ${D.method} failed with message: ${Rt.message}`),D.method,B):v(new Me.ResponseError(Me.ErrorCodes.InternalError,`Request ${D.method} failed unexpectedly without providing any details.`),D.method,B)}):(delete g[Y],S(Re,D.method,B)):(delete g[Y],x(Re,D.method,B))}catch(Re){delete g[Y],Re instanceof Me.ResponseError?S(Re,D.method,B):Re&&vn.string(Re.message)?v(new Me.ResponseError(Me.ErrorCodes.InternalError,`Request ${D.method} failed with message: ${Re.message}`),D.method,B):v(new Me.ResponseError(Me.ErrorCodes.InternalError,`Request ${D.method} failed unexpectedly without providing any details.`),D.method,B)}}else v(new Me.ResponseError(Me.ErrorCodes.MethodNotFound,`Unhandled method ${D.method}`),D.method,B)}function ve(D){if(!Ye())if(D.id===null)D.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(D.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let S=String(D.id),v=_[S];if(R(D,v),v){delete _[S];try{if(D.error){let x=D.error;v.reject(new Me.ResponseError(x.code,x.message,x.data))}else if(D.result!==void 0)v.resolve(D.result);else throw new Error("Should never happen.")}catch(x){x.message?i.error(`Response handler '${v.method}' failed with message: ${x.message}`):i.error(`Response handler '${v.method}' failed unexpectedly.`)}}}}function ft(D){if(Ye())return;let S,v;if(D.method===nu.type.method)v=x=>{let O=x.id,E=g[String(O)];E&&E.cancel()};else{let x=d[D.method];x&&(v=x.handler,S=x.type)}if(v||f)try{Ss(D),v?D.params===void 0?(S!==void 0&&S.numberOfParams!==0&&S.parameterStructures!==Me.ParameterStructures.byName&&i.error(`Notification ${D.method} defines ${S.numberOfParams} params but recevied none.`),v()):Array.isArray(D.params)?(S!==void 0&&(S.parameterStructures===Me.ParameterStructures.byName&&i.error(`Notification ${D.method} defines parameters by name but received parameters by position`),S.numberOfParams!==D.params.length&&i.error(`Notification ${D.method} defines ${S.numberOfParams} params but received ${D.params.length} argumennts`)),v(...D.params)):(S!==void 0&&S.parameterStructures===Me.ParameterStructures.byPosition&&i.error(`Notification ${D.method} defines parameters by position but received parameters by name`),v(D.params)):f&&f(D.method,D.params)}catch(x){x.message?i.error(`Notification handler '${D.method}' failed with message: ${x.message}`):i.error(`Notification handler '${D.method}' failed unexpectedly.`)}else L.fire(D)}function An(D){if(!D){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(D,null,4)}`);let S=D;if(vn.string(S.id)||vn.number(S.id)){let v=String(S.id),x=_[v];x&&x.reject(new Error("The received response has neither a result nor an error property."))}}function dr(D){if(!(b===nn.Off||!T))if(y===Ci.Text){let S;b===nn.Verbose&&D.params&&(S=`Params: ${JSON.stringify(D.params,null,4)}

`),T.log(`Sending request '${D.method} - (${D.id})'.`,S)}else M("send-request",D)}function Ds(D){if(!(b===nn.Off||!T))if(y===Ci.Text){let S;b===nn.Verbose&&(D.params?S=`Params: ${JSON.stringify(D.params,null,4)}

`:S=`No parameters provided.

`),T.log(`Sending notification '${D.method}'.`,S)}else M("send-notification",D)}function Lr(D,S,v){if(!(b===nn.Off||!T))if(y===Ci.Text){let x;b===nn.Verbose&&(D.error&&D.error.data?x=`Error data: ${JSON.stringify(D.error.data,null,4)}

`:D.result?x=`Result: ${JSON.stringify(D.result,null,4)}

`:D.error===void 0&&(x=`No result returned.

`)),T.log(`Sending response '${S} - (${D.id})'. Processing request took ${Date.now()-v}ms`,x)}else M("send-response",D)}function xn(D){if(!(b===nn.Off||!T))if(y===Ci.Text){let S;b===nn.Verbose&&D.params&&(S=`Params: ${JSON.stringify(D.params,null,4)}

`),T.log(`Received request '${D.method} - (${D.id})'.`,S)}else M("receive-request",D)}function Ss(D){if(!(b===nn.Off||!T||D.method===Jd.type.method))if(y===Ci.Text){let S;b===nn.Verbose&&(D.params?S=`Params: ${JSON.stringify(D.params,null,4)}

`:S=`No parameters provided.

`),T.log(`Received notification '${D.method}'.`,S)}else M("receive-notification",D)}function R(D,S){if(!(b===nn.Off||!T))if(y===Ci.Text){let v;if(b===nn.Verbose&&(D.error&&D.error.data?v=`Error data: ${JSON.stringify(D.error.data,null,4)}

`:D.result?v=`Result: ${JSON.stringify(D.result,null,4)}

`:D.error===void 0&&(v=`No result returned.

`)),S){let x=D.error?` Request failed: ${D.error.message} (${D.error.code}).`:"";T.log(`Received response '${S.method} - (${D.id})' in ${Date.now()-S.timerStart}ms.${x}`,v)}else T.log(`Received response ${D.id} without active response promise.`,v)}else M("receive-response",D)}function M(D,S){if(!T||b===nn.Off)return;let v={isLSPMessage:!0,type:D,message:S,timestamp:Date.now()};T.log(v)}function Z(){if(Lt())throw new va(Rc.Closed,"Connection is closed.");if(Ye())throw new va(Rc.Disposed,"Connection is disposed.")}function $(){if(ut())throw new va(Rc.AlreadyListening,"Connection is already listening")}function k(){if(!ut())throw new Error("Call listen() first.")}function me(D){return D===void 0?null:D}function ce(D){if(D!==null)return D}function be(D){return D!=null&&!Array.isArray(D)&&typeof D=="object"}function Ct(D,S){switch(D){case Me.ParameterStructures.auto:return be(S)?ce(S):[me(S)];case Me.ParameterStructures.byName:if(!be(S))throw new Error("Recevied parameters by name but param is not an object literal.");return ce(S);case Me.ParameterStructures.byPosition:return[me(S)];default:throw new Error(`Unknown parameter structure ${D.toString()}`)}}function xt(D,S){let v,x=D.numberOfParams;switch(x){case 0:v=void 0;break;case 1:v=Ct(D.parameterStructures,S[0]);break;default:v=[];for(let O=0;O<S.length&&O<x;O++)v.push(me(S[O]));if(S.length<x)for(let O=S.length;O<x;O++)v.push(null);break}return v}let kr={sendNotification:(D,...S)=>{Z();let v,x;if(vn.string(D)){v=D;let E=S[0],N=0,B=Me.ParameterStructures.auto;Me.ParameterStructures.is(E)&&(N=1,B=E);let Y=S.length,Te=Y-N;switch(Te){case 0:x=void 0;break;case 1:x=Ct(B,S[N]);break;default:if(B===Me.ParameterStructures.byName)throw new Error(`Recevied ${Te} parameters for 'by Name' notification parameter structure.`);x=S.slice(N,Y).map(Re=>me(Re));break}}else{let E=S;v=D.method,x=xt(D,E)}let O={jsonrpc:l,method:v,params:x};Ds(O),e.write(O)},onNotification:(D,S)=>{Z();let v;return vn.func(D)?f=D:S&&(vn.string(D)?(v=D,d[D]={type:void 0,handler:S}):(v=D.method,d[D.method]={type:D,handler:S})),{dispose:()=>{v!==void 0?delete d[v]:f=void 0}}},onProgress:(D,S,v)=>{if(m.has(S))throw new Error(`Progress handler for token ${S} already registered`);return m.set(S,v),{dispose:()=>{m.delete(S)}}},sendProgress:(D,S,v)=>{kr.sendNotification(xc.type,{token:S,value:v})},onUnhandledProgress:H.event,sendRequest:(D,...S)=>{Z(),k();let v,x,O;if(vn.string(D)){v=D;let Y=S[0],Te=S[S.length-1],Re=0,Qe=Me.ParameterStructures.auto;Me.ParameterStructures.is(Y)&&(Re=1,Qe=Y);let Rt=S.length;Xd.CancellationToken.is(Te)&&(Rt=Rt-1,O=Te);let un=Rt-Re;switch(un){case 0:x=void 0;break;case 1:x=Ct(Qe,S[Re]);break;default:if(Qe===Me.ParameterStructures.byName)throw new Error(`Recevied ${un} parameters for 'by Name' request parameter structure.`);x=S.slice(Re,Rt).map(_n=>me(_n));break}}else{let Y=S;v=D.method,x=xt(D,Y);let Te=D.numberOfParams;O=Xd.CancellationToken.is(Y[Te])?Y[Te]:void 0}let E=s++,N;return O&&(N=O.onCancellationRequested(()=>{Q.sender.sendCancellation(kr,E)})),new Promise((Y,Te)=>{let Re={jsonrpc:l,id:E,method:v,params:x},Qe=_n=>{Y(_n),Q.sender.cleanup(E),N==null||N.dispose()},Rt=_n=>{Te(_n),Q.sender.cleanup(E),N==null||N.dispose()},un={method:v,timerStart:Date.now(),resolve:Qe,reject:Rt};dr(Re);try{e.write(Re)}catch(_n){un.reject(new Me.ResponseError(Me.ErrorCodes.MessageWriteError,_n.message?_n.message:"Unknown reason")),un=null}un&&(_[String(E)]=un)})},onRequest:(D,S)=>{Z();let v=null;return Qd.is(D)?(v=void 0,u=D):vn.string(D)?(v=null,S!==void 0&&(v=D,c[D]={handler:S,type:void 0})):S!==void 0&&(v=D.method,c[D.method]={type:D,handler:S}),{dispose:()=>{v!==null&&(v!==void 0?delete c[v]:u=void 0)}}},trace:(D,S,v)=>{let x=!1,O=Ci.Text;v!==void 0&&(vn.boolean(v)?x=v:(x=v.sendNotification||!1,O=v.traceFormat||Ci.Text)),b=D,y=O,b===nn.Off?T=void 0:T=S,x&&!Lt()&&!Ye()&&kr.sendNotification(Ub.type,{value:nn.toString(D)})},onError:W.event,onClose:F.event,onUnhandledNotification:L.event,onDispose:G.event,end:()=>{e.end()},dispose:()=>{if(Ye())return;C=Pi.Disposed,G.fire(void 0);let D=new Error("Connection got disposed.");Object.keys(_).forEach(S=>{_[S].reject(D)}),_=Object.create(null),g=Object.create(null),h=new Vb.LinkedMap,vn.func(e.dispose)&&e.dispose(),vn.func(t.dispose)&&t.dispose()},listen:()=>{Z(),$(),C=Pi.Listening,t.listen(pe)},inspect:()=>{qb.default().console.log("inspect")}};return kr.onNotification(Jd.type,D=>{b===nn.Off||!T||T.log(D.message,b===nn.Verbose?D.verbose:void 0)}),kr.onNotification(xc.type,D=>{let S=m.get(D.token);S?S(D.value):H.fire(D)}),kr}Ve.createMessageConnection=xx});var im=J(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.CancellationSenderStrategy=ee.CancellationReceiverStrategy=ee.ConnectionError=ee.ConnectionErrors=ee.LogTraceNotification=ee.SetTraceNotification=ee.TraceFormat=ee.Trace=ee.ProgressType=ee.createMessageConnection=ee.NullLogger=ee.ConnectionOptions=ee.ConnectionStrategy=ee.WriteableStreamMessageWriter=ee.AbstractMessageWriter=ee.MessageWriter=ee.ReadableStreamMessageReader=ee.AbstractMessageReader=ee.MessageReader=ee.CancellationToken=ee.CancellationTokenSource=ee.Emitter=ee.Event=ee.Disposable=ee.ParameterStructures=ee.NotificationType9=ee.NotificationType8=ee.NotificationType7=ee.NotificationType6=ee.NotificationType5=ee.NotificationType4=ee.NotificationType3=ee.NotificationType2=ee.NotificationType1=ee.NotificationType0=ee.NotificationType=ee.ErrorCodes=ee.ResponseError=ee.RequestType9=ee.RequestType8=ee.RequestType7=ee.RequestType6=ee.RequestType5=ee.RequestType4=ee.RequestType3=ee.RequestType2=ee.RequestType1=ee.RequestType0=ee.RequestType=ee.RAL=void 0;ee.CancellationStrategy=void 0;var Mt=qd();Object.defineProperty(ee,"RequestType",{enumerable:!0,get:function(){return Mt.RequestType}});Object.defineProperty(ee,"RequestType0",{enumerable:!0,get:function(){return Mt.RequestType0}});Object.defineProperty(ee,"RequestType1",{enumerable:!0,get:function(){return Mt.RequestType1}});Object.defineProperty(ee,"RequestType2",{enumerable:!0,get:function(){return Mt.RequestType2}});Object.defineProperty(ee,"RequestType3",{enumerable:!0,get:function(){return Mt.RequestType3}});Object.defineProperty(ee,"RequestType4",{enumerable:!0,get:function(){return Mt.RequestType4}});Object.defineProperty(ee,"RequestType5",{enumerable:!0,get:function(){return Mt.RequestType5}});Object.defineProperty(ee,"RequestType6",{enumerable:!0,get:function(){return Mt.RequestType6}});Object.defineProperty(ee,"RequestType7",{enumerable:!0,get:function(){return Mt.RequestType7}});Object.defineProperty(ee,"RequestType8",{enumerable:!0,get:function(){return Mt.RequestType8}});Object.defineProperty(ee,"RequestType9",{enumerable:!0,get:function(){return Mt.RequestType9}});Object.defineProperty(ee,"ResponseError",{enumerable:!0,get:function(){return Mt.ResponseError}});Object.defineProperty(ee,"ErrorCodes",{enumerable:!0,get:function(){return Mt.ErrorCodes}});Object.defineProperty(ee,"NotificationType",{enumerable:!0,get:function(){return Mt.NotificationType}});Object.defineProperty(ee,"NotificationType0",{enumerable:!0,get:function(){return Mt.NotificationType0}});Object.defineProperty(ee,"NotificationType1",{enumerable:!0,get:function(){return Mt.NotificationType1}});Object.defineProperty(ee,"NotificationType2",{enumerable:!0,get:function(){return Mt.NotificationType2}});Object.defineProperty(ee,"NotificationType3",{enumerable:!0,get:function(){return Mt.NotificationType3}});Object.defineProperty(ee,"NotificationType4",{enumerable:!0,get:function(){return Mt.NotificationType4}});Object.defineProperty(ee,"NotificationType5",{enumerable:!0,get:function(){return Mt.NotificationType5}});Object.defineProperty(ee,"NotificationType6",{enumerable:!0,get:function(){return Mt.NotificationType6}});Object.defineProperty(ee,"NotificationType7",{enumerable:!0,get:function(){return Mt.NotificationType7}});Object.defineProperty(ee,"NotificationType8",{enumerable:!0,get:function(){return Mt.NotificationType8}});Object.defineProperty(ee,"NotificationType9",{enumerable:!0,get:function(){return Mt.NotificationType9}});Object.defineProperty(ee,"ParameterStructures",{enumerable:!0,get:function(){return Mt.ParameterStructures}});var Rx=kd();Object.defineProperty(ee,"Disposable",{enumerable:!0,get:function(){return Rx.Disposable}});var Hb=yo();Object.defineProperty(ee,"Event",{enumerable:!0,get:function(){return Hb.Event}});Object.defineProperty(ee,"Emitter",{enumerable:!0,get:function(){return Hb.Emitter}});var Yb=Wd();Object.defineProperty(ee,"CancellationTokenSource",{enumerable:!0,get:function(){return Yb.CancellationTokenSource}});Object.defineProperty(ee,"CancellationToken",{enumerable:!0,get:function(){return Yb.CancellationToken}});var nm=Ab();Object.defineProperty(ee,"MessageReader",{enumerable:!0,get:function(){return nm.MessageReader}});Object.defineProperty(ee,"AbstractMessageReader",{enumerable:!0,get:function(){return nm.AbstractMessageReader}});Object.defineProperty(ee,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return nm.ReadableStreamMessageReader}});var rm=kb();Object.defineProperty(ee,"MessageWriter",{enumerable:!0,get:function(){return rm.MessageWriter}});Object.defineProperty(ee,"AbstractMessageWriter",{enumerable:!0,get:function(){return rm.AbstractMessageWriter}});Object.defineProperty(ee,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return rm.WriteableStreamMessageWriter}});var ar=Gb();Object.defineProperty(ee,"ConnectionStrategy",{enumerable:!0,get:function(){return ar.ConnectionStrategy}});Object.defineProperty(ee,"ConnectionOptions",{enumerable:!0,get:function(){return ar.ConnectionOptions}});Object.defineProperty(ee,"NullLogger",{enumerable:!0,get:function(){return ar.NullLogger}});Object.defineProperty(ee,"createMessageConnection",{enumerable:!0,get:function(){return ar.createMessageConnection}});Object.defineProperty(ee,"ProgressType",{enumerable:!0,get:function(){return ar.ProgressType}});Object.defineProperty(ee,"Trace",{enumerable:!0,get:function(){return ar.Trace}});Object.defineProperty(ee,"TraceFormat",{enumerable:!0,get:function(){return ar.TraceFormat}});Object.defineProperty(ee,"SetTraceNotification",{enumerable:!0,get:function(){return ar.SetTraceNotification}});Object.defineProperty(ee,"LogTraceNotification",{enumerable:!0,get:function(){return ar.LogTraceNotification}});Object.defineProperty(ee,"ConnectionErrors",{enumerable:!0,get:function(){return ar.ConnectionErrors}});Object.defineProperty(ee,"ConnectionError",{enumerable:!0,get:function(){return ar.ConnectionError}});Object.defineProperty(ee,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return ar.CancellationReceiverStrategy}});Object.defineProperty(ee,"CancellationSenderStrategy",{enumerable:!0,get:function(){return ar.CancellationSenderStrategy}});Object.defineProperty(ee,"CancellationStrategy",{enumerable:!0,get:function(){return ar.CancellationStrategy}});var wx=os();ee.RAL=wx.default});var Co=J(gt=>{"use strict";var Ox=gt&&gt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Fx=gt&&gt.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Ox(e,t,n)};Object.defineProperty(gt,"__esModule",{value:!0});gt.createMessageConnection=gt.createServerSocketTransport=gt.createClientSocketTransport=gt.createServerPipeTransport=gt.createClientPipeTransport=gt.generateRandomPipeName=gt.StreamMessageWriter=gt.StreamMessageReader=gt.SocketMessageWriter=gt.SocketMessageReader=gt.IPCMessageWriter=gt.IPCMessageReader=void 0;var To=Zy();To.default.install();var Hi=im(),$b=require("path"),Lx=require("os"),kx=require("crypto"),wc=require("net");Fx(im(),gt);var Kb=class extends Hi.AbstractMessageReader{constructor(e){super();this.process=e;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Hi.Disposable.create(()=>this.process.off("message",e))}};gt.IPCMessageReader=Kb;var zb=class extends Hi.AbstractMessageWriter{constructor(e){super();this.process=e,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};gt.IPCMessageWriter=zb;var vo=class extends Hi.ReadableStreamMessageReader{constructor(e,n="utf-8"){super(To.default().stream.asReadableStream(e),n)}};gt.SocketMessageReader=vo;var No=class extends Hi.WriteableStreamMessageWriter{constructor(e,n){super(To.default().stream.asWritableStream(e),n);this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};gt.SocketMessageWriter=No;var sm=class extends Hi.ReadableStreamMessageReader{constructor(e,n){super(To.default().stream.asReadableStream(e),n)}};gt.StreamMessageReader=sm;var am=class extends Hi.WriteableStreamMessageWriter{constructor(e,n){super(To.default().stream.asWritableStream(e),n)}};gt.StreamMessageWriter=am;var Xb=process.env.XDG_RUNTIME_DIR,Mx=new Map([["linux",107],["darwin",103]]);function Bx(){let t=kx.randomBytes(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;Xb?e=$b.join(Xb,`vscode-ipc-${t}.sock`):e=$b.join(Lx.tmpdir(),`vscode-${t}.sock`);let n=Mx.get(process.platform);return n!==void 0&&e.length>=n&&To.default().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}gt.generateRandomPipeName=Bx;function qx(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let a=wc.createServer(o=>{a.close(),n([new vo(o,e),new No(o,e)])});a.on("error",s),a.listen(t,()=>{a.removeListener("error",s),i({onConnected:()=>r})})})}gt.createClientPipeTransport=qx;function Vx(t,e="utf-8"){let n=wc.createConnection(t);return[new vo(n,e),new No(n,e)]}gt.createServerPipeTransport=Vx;function jx(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let a=wc.createServer(o=>{a.close(),n([new vo(o,e),new No(o,e)])});a.on("error",s),a.listen(t,"127.0.0.1",()=>{a.removeListener("error",s),i({onConnected:()=>r})})})}gt.createClientSocketTransport=jx;function Ux(t,e="utf-8"){let n=wc.createConnection(t,"127.0.0.1");return[new vo(n,e),new No(n,e)]}gt.createServerSocketTransport=Ux;function Wx(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function Gx(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function Hx(t,e,n,r){n||(n=Hi.NullLogger);let i=Wx(t)?new sm(t):t,s=Gx(e)?new am(e):e;return Hi.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),Hi.createMessageConnection(i,s,n,r)}gt.createMessageConnection=Hx});var om=J((Q3,Qb)=>{"use strict";Qb.exports=Co()});var wt=J((Jb,Oc)=>{(function(t){if(typeof Oc=="object"&&typeof Oc.exports=="object"){var e=t(require,Jb);e!==void 0&&(Oc.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionKind=e.DocumentSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=void 0;var n;(function(v){v.MIN_VALUE=-2147483648,v.MAX_VALUE=2147483647})(n=e.integer||(e.integer={}));var r;(function(v){v.MIN_VALUE=0,v.MAX_VALUE=2147483647})(r=e.uinteger||(e.uinteger={}));var i;(function(v){function x(E,N){return E===Number.MAX_VALUE&&(E=r.MAX_VALUE),N===Number.MAX_VALUE&&(N=r.MAX_VALUE),{line:E,character:N}}v.create=x;function O(E){var N=E;return S.objectLiteral(N)&&S.uinteger(N.line)&&S.uinteger(N.character)}v.is=O})(i=e.Position||(e.Position={}));var s;(function(v){function x(E,N,B,Y){if(S.uinteger(E)&&S.uinteger(N)&&S.uinteger(B)&&S.uinteger(Y))return{start:i.create(E,N),end:i.create(B,Y)};if(i.is(E)&&i.is(N))return{start:E,end:N};throw new Error("Range#create called with invalid arguments["+E+", "+N+", "+B+", "+Y+"]")}v.create=x;function O(E){var N=E;return S.objectLiteral(N)&&i.is(N.start)&&i.is(N.end)}v.is=O})(s=e.Range||(e.Range={}));var a;(function(v){function x(E,N){return{uri:E,range:N}}v.create=x;function O(E){var N=E;return S.defined(N)&&s.is(N.range)&&(S.string(N.uri)||S.undefined(N.uri))}v.is=O})(a=e.Location||(e.Location={}));var o;(function(v){function x(E,N,B,Y){return{targetUri:E,targetRange:N,targetSelectionRange:B,originSelectionRange:Y}}v.create=x;function O(E){var N=E;return S.defined(N)&&s.is(N.targetRange)&&S.string(N.targetUri)&&(s.is(N.targetSelectionRange)||S.undefined(N.targetSelectionRange))&&(s.is(N.originSelectionRange)||S.undefined(N.originSelectionRange))}v.is=O})(o=e.LocationLink||(e.LocationLink={}));var l;(function(v){function x(E,N,B,Y){return{red:E,green:N,blue:B,alpha:Y}}v.create=x;function O(E){var N=E;return S.numberRange(N.red,0,1)&&S.numberRange(N.green,0,1)&&S.numberRange(N.blue,0,1)&&S.numberRange(N.alpha,0,1)}v.is=O})(l=e.Color||(e.Color={}));var u;(function(v){function x(E,N){return{range:E,color:N}}v.create=x;function O(E){var N=E;return s.is(N.range)&&l.is(N.color)}v.is=O})(u=e.ColorInformation||(e.ColorInformation={}));var c;(function(v){function x(E,N,B){return{label:E,textEdit:N,additionalTextEdits:B}}v.create=x;function O(E){var N=E;return S.string(N.label)&&(S.undefined(N.textEdit)||y.is(N))&&(S.undefined(N.additionalTextEdits)||S.typedArray(N.additionalTextEdits,y.is))}v.is=O})(c=e.ColorPresentation||(e.ColorPresentation={}));var f;(function(v){v.Comment="comment",v.Imports="imports",v.Region="region"})(f=e.FoldingRangeKind||(e.FoldingRangeKind={}));var d;(function(v){function x(E,N,B,Y,Te){var Re={startLine:E,endLine:N};return S.defined(B)&&(Re.startCharacter=B),S.defined(Y)&&(Re.endCharacter=Y),S.defined(Te)&&(Re.kind=Te),Re}v.create=x;function O(E){var N=E;return S.uinteger(N.startLine)&&S.uinteger(N.startLine)&&(S.undefined(N.startCharacter)||S.uinteger(N.startCharacter))&&(S.undefined(N.endCharacter)||S.uinteger(N.endCharacter))&&(S.undefined(N.kind)||S.string(N.kind))}v.is=O})(d=e.FoldingRange||(e.FoldingRange={}));var m;(function(v){function x(E,N){return{location:E,message:N}}v.create=x;function O(E){var N=E;return S.defined(N)&&a.is(N.location)&&S.string(N.message)}v.is=O})(m=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var p;(function(v){v.Error=1,v.Warning=2,v.Information=3,v.Hint=4})(p=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var h;(function(v){v.Unnecessary=1,v.Deprecated=2})(h=e.DiagnosticTag||(e.DiagnosticTag={}));var _;(function(v){function x(O){var E=O;return E!=null&&S.string(E.href)}v.is=x})(_=e.CodeDescription||(e.CodeDescription={}));var g;(function(v){function x(E,N,B,Y,Te,Re){var Qe={range:E,message:N};return S.defined(B)&&(Qe.severity=B),S.defined(Y)&&(Qe.code=Y),S.defined(Te)&&(Qe.source=Te),S.defined(Re)&&(Qe.relatedInformation=Re),Qe}v.create=x;function O(E){var N,B=E;return S.defined(B)&&s.is(B.range)&&S.string(B.message)&&(S.number(B.severity)||S.undefined(B.severity))&&(S.integer(B.code)||S.string(B.code)||S.undefined(B.code))&&(S.undefined(B.codeDescription)||S.string((N=B.codeDescription)===null||N===void 0?void 0:N.href))&&(S.string(B.source)||S.undefined(B.source))&&(S.undefined(B.relatedInformation)||S.typedArray(B.relatedInformation,m.is))}v.is=O})(g=e.Diagnostic||(e.Diagnostic={}));var b;(function(v){function x(E,N){for(var B=[],Y=2;Y<arguments.length;Y++)B[Y-2]=arguments[Y];var Te={title:E,command:N};return S.defined(B)&&B.length>0&&(Te.arguments=B),Te}v.create=x;function O(E){var N=E;return S.defined(N)&&S.string(N.title)&&S.string(N.command)}v.is=O})(b=e.Command||(e.Command={}));var y;(function(v){function x(B,Y){return{range:B,newText:Y}}v.replace=x;function O(B,Y){return{range:{start:B,end:B},newText:Y}}v.insert=O;function E(B){return{range:B,newText:""}}v.del=E;function N(B){var Y=B;return S.objectLiteral(Y)&&S.string(Y.newText)&&s.is(Y.range)}v.is=N})(y=e.TextEdit||(e.TextEdit={}));var T;(function(v){function x(E,N,B){var Y={label:E};return N!==void 0&&(Y.needsConfirmation=N),B!==void 0&&(Y.description=B),Y}v.create=x;function O(E){var N=E;return N!==void 0&&S.objectLiteral(N)&&S.string(N.label)&&(S.boolean(N.needsConfirmation)||N.needsConfirmation===void 0)&&(S.string(N.description)||N.description===void 0)}v.is=O})(T=e.ChangeAnnotation||(e.ChangeAnnotation={}));var C;(function(v){function x(O){var E=O;return typeof E=="string"}v.is=x})(C=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var W;(function(v){function x(B,Y,Te){return{range:B,newText:Y,annotationId:Te}}v.replace=x;function O(B,Y,Te){return{range:{start:B,end:B},newText:Y,annotationId:Te}}v.insert=O;function E(B,Y){return{range:B,newText:"",annotationId:Y}}v.del=E;function N(B){var Y=B;return y.is(Y)&&(T.is(Y.annotationId)||C.is(Y.annotationId))}v.is=N})(W=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var F;(function(v){function x(E,N){return{textDocument:E,edits:N}}v.create=x;function O(E){var N=E;return S.defined(N)&&ut.is(N.textDocument)&&Array.isArray(N.edits)}v.is=O})(F=e.TextDocumentEdit||(e.TextDocumentEdit={}));var L;(function(v){function x(E,N,B){var Y={kind:"create",uri:E};return N!==void 0&&(N.overwrite!==void 0||N.ignoreIfExists!==void 0)&&(Y.options=N),B!==void 0&&(Y.annotationId=B),Y}v.create=x;function O(E){var N=E;return N&&N.kind==="create"&&S.string(N.uri)&&(N.options===void 0||(N.options.overwrite===void 0||S.boolean(N.options.overwrite))&&(N.options.ignoreIfExists===void 0||S.boolean(N.options.ignoreIfExists)))&&(N.annotationId===void 0||C.is(N.annotationId))}v.is=O})(L=e.CreateFile||(e.CreateFile={}));var H;(function(v){function x(E,N,B,Y){var Te={kind:"rename",oldUri:E,newUri:N};return B!==void 0&&(B.overwrite!==void 0||B.ignoreIfExists!==void 0)&&(Te.options=B),Y!==void 0&&(Te.annotationId=Y),Te}v.create=x;function O(E){var N=E;return N&&N.kind==="rename"&&S.string(N.oldUri)&&S.string(N.newUri)&&(N.options===void 0||(N.options.overwrite===void 0||S.boolean(N.options.overwrite))&&(N.options.ignoreIfExists===void 0||S.boolean(N.options.ignoreIfExists)))&&(N.annotationId===void 0||C.is(N.annotationId))}v.is=O})(H=e.RenameFile||(e.RenameFile={}));var G;(function(v){function x(E,N,B){var Y={kind:"delete",uri:E};return N!==void 0&&(N.recursive!==void 0||N.ignoreIfNotExists!==void 0)&&(Y.options=N),B!==void 0&&(Y.annotationId=B),Y}v.create=x;function O(E){var N=E;return N&&N.kind==="delete"&&S.string(N.uri)&&(N.options===void 0||(N.options.recursive===void 0||S.boolean(N.options.recursive))&&(N.options.ignoreIfNotExists===void 0||S.boolean(N.options.ignoreIfNotExists)))&&(N.annotationId===void 0||C.is(N.annotationId))}v.is=O})(G=e.DeleteFile||(e.DeleteFile={}));var Q;(function(v){function x(O){var E=O;return E&&(E.changes!==void 0||E.documentChanges!==void 0)&&(E.documentChanges===void 0||E.documentChanges.every(function(N){return S.string(N.kind)?L.is(N)||H.is(N)||G.is(N):F.is(N)}))}v.is=x})(Q=e.WorkspaceEdit||(e.WorkspaceEdit={}));var re=function(){function v(x,O){this.edits=x,this.changeAnnotations=O}return v.prototype.insert=function(x,O,E){var N,B;if(E===void 0?N=y.insert(x,O):C.is(E)?(B=E,N=W.insert(x,O,E)):(this.assertChangeAnnotations(this.changeAnnotations),B=this.changeAnnotations.manage(E),N=W.insert(x,O,B)),this.edits.push(N),B!==void 0)return B},v.prototype.replace=function(x,O,E){var N,B;if(E===void 0?N=y.replace(x,O):C.is(E)?(B=E,N=W.replace(x,O,E)):(this.assertChangeAnnotations(this.changeAnnotations),B=this.changeAnnotations.manage(E),N=W.replace(x,O,B)),this.edits.push(N),B!==void 0)return B},v.prototype.delete=function(x,O){var E,N;if(O===void 0?E=y.del(x):C.is(O)?(N=O,E=W.del(x,O)):(this.assertChangeAnnotations(this.changeAnnotations),N=this.changeAnnotations.manage(O),E=W.del(x,N)),this.edits.push(E),N!==void 0)return N},v.prototype.add=function(x){this.edits.push(x)},v.prototype.all=function(){return this.edits},v.prototype.clear=function(){this.edits.splice(0,this.edits.length)},v.prototype.assertChangeAnnotations=function(x){if(x===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},v}(),ye=function(){function v(x){this._annotations=x===void 0?Object.create(null):x,this._counter=0,this._size=0}return v.prototype.all=function(){return this._annotations},Object.defineProperty(v.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),v.prototype.manage=function(x,O){var E;if(C.is(x)?E=x:(E=this.nextId(),O=x),this._annotations[E]!==void 0)throw new Error("Id "+E+" is already in use.");if(O===void 0)throw new Error("No annotation provided for id "+E);return this._annotations[E]=O,this._size++,E},v.prototype.nextId=function(){return this._counter++,this._counter.toString()},v}(),he=function(){function v(x){var O=this;this._textEditChanges=Object.create(null),x!==void 0?(this._workspaceEdit=x,x.documentChanges?(this._changeAnnotations=new ye(x.changeAnnotations),x.changeAnnotations=this._changeAnnotations.all(),x.documentChanges.forEach(function(E){if(F.is(E)){var N=new re(E.edits,O._changeAnnotations);O._textEditChanges[E.textDocument.uri]=N}})):x.changes&&Object.keys(x.changes).forEach(function(E){var N=new re(x.changes[E]);O._textEditChanges[E]=N})):this._workspaceEdit={}}return Object.defineProperty(v.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),v.prototype.getTextEditChange=function(x){if(ut.is(x)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var O={uri:x.uri,version:x.version},E=this._textEditChanges[O.uri];if(!E){var N=[],B={textDocument:O,edits:N};this._workspaceEdit.documentChanges.push(B),E=new re(N,this._changeAnnotations),this._textEditChanges[O.uri]=E}return E}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var E=this._textEditChanges[x];if(!E){var N=[];this._workspaceEdit.changes[x]=N,E=new re(N),this._textEditChanges[x]=E}return E}},v.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new ye,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},v.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},v.prototype.createFile=function(x,O,E){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var N;T.is(O)||C.is(O)?N=O:E=O;var B,Y;if(N===void 0?B=L.create(x,E):(Y=C.is(N)?N:this._changeAnnotations.manage(N),B=L.create(x,E,Y)),this._workspaceEdit.documentChanges.push(B),Y!==void 0)return Y},v.prototype.renameFile=function(x,O,E,N){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var B;T.is(E)||C.is(E)?B=E:N=E;var Y,Te;if(B===void 0?Y=H.create(x,O,N):(Te=C.is(B)?B:this._changeAnnotations.manage(B),Y=H.create(x,O,N,Te)),this._workspaceEdit.documentChanges.push(Y),Te!==void 0)return Te},v.prototype.deleteFile=function(x,O,E){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var N;T.is(O)||C.is(O)?N=O:E=O;var B,Y;if(N===void 0?B=G.create(x,E):(Y=C.is(N)?N:this._changeAnnotations.manage(N),B=G.create(x,E,Y)),this._workspaceEdit.documentChanges.push(B),Y!==void 0)return Y},v}();e.WorkspaceChange=he;var oe;(function(v){function x(E){return{uri:E}}v.create=x;function O(E){var N=E;return S.defined(N)&&S.string(N.uri)}v.is=O})(oe=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var Ae;(function(v){function x(E,N){return{uri:E,version:N}}v.create=x;function O(E){var N=E;return S.defined(N)&&S.string(N.uri)&&S.integer(N.version)}v.is=O})(Ae=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var ut;(function(v){function x(E,N){return{uri:E,version:N}}v.create=x;function O(E){var N=E;return S.defined(N)&&S.string(N.uri)&&(N.version===null||S.integer(N.version))}v.is=O})(ut=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var Lt;(function(v){function x(E,N,B,Y){return{uri:E,languageId:N,version:B,text:Y}}v.create=x;function O(E){var N=E;return S.defined(N)&&S.string(N.uri)&&S.string(N.languageId)&&S.integer(N.version)&&S.string(N.text)}v.is=O})(Lt=e.TextDocumentItem||(e.TextDocumentItem={}));var Ye;(function(v){v.PlainText="plaintext",v.Markdown="markdown"})(Ye=e.MarkupKind||(e.MarkupKind={})),function(v){function x(O){var E=O;return E===v.PlainText||E===v.Markdown}v.is=x}(Ye=e.MarkupKind||(e.MarkupKind={}));var ct;(function(v){function x(O){var E=O;return S.objectLiteral(O)&&Ye.is(E.kind)&&S.string(E.value)}v.is=x})(ct=e.MarkupContent||(e.MarkupContent={}));var _e;(function(v){v.Text=1,v.Method=2,v.Function=3,v.Constructor=4,v.Field=5,v.Variable=6,v.Class=7,v.Interface=8,v.Module=9,v.Property=10,v.Unit=11,v.Value=12,v.Enum=13,v.Keyword=14,v.Snippet=15,v.Color=16,v.File=17,v.Reference=18,v.Folder=19,v.EnumMember=20,v.Constant=21,v.Struct=22,v.Event=23,v.Operator=24,v.TypeParameter=25})(_e=e.CompletionItemKind||(e.CompletionItemKind={}));var we;(function(v){v.PlainText=1,v.Snippet=2})(we=e.InsertTextFormat||(e.InsertTextFormat={}));var se;(function(v){v.Deprecated=1})(se=e.CompletionItemTag||(e.CompletionItemTag={}));var V;(function(v){function x(E,N,B){return{newText:E,insert:N,replace:B}}v.create=x;function O(E){var N=E;return N&&S.string(N.newText)&&s.is(N.insert)&&s.is(N.replace)}v.is=O})(V=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var pe;(function(v){v.asIs=1,v.adjustIndentation=2})(pe=e.InsertTextMode||(e.InsertTextMode={}));var ae;(function(v){function x(O){return{label:O}}v.create=x})(ae=e.CompletionItem||(e.CompletionItem={}));var ve;(function(v){function x(O,E){return{items:O||[],isIncomplete:!!E}}v.create=x})(ve=e.CompletionList||(e.CompletionList={}));var ft;(function(v){function x(E){return E.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}v.fromPlainText=x;function O(E){var N=E;return S.string(N)||S.objectLiteral(N)&&S.string(N.language)&&S.string(N.value)}v.is=O})(ft=e.MarkedString||(e.MarkedString={}));var An;(function(v){function x(O){var E=O;return!!E&&S.objectLiteral(E)&&(ct.is(E.contents)||ft.is(E.contents)||S.typedArray(E.contents,ft.is))&&(O.range===void 0||s.is(O.range))}v.is=x})(An=e.Hover||(e.Hover={}));var dr;(function(v){function x(O,E){return E?{label:O,documentation:E}:{label:O}}v.create=x})(dr=e.ParameterInformation||(e.ParameterInformation={}));var Ds;(function(v){function x(O,E){for(var N=[],B=2;B<arguments.length;B++)N[B-2]=arguments[B];var Y={label:O};return S.defined(E)&&(Y.documentation=E),S.defined(N)?Y.parameters=N:Y.parameters=[],Y}v.create=x})(Ds=e.SignatureInformation||(e.SignatureInformation={}));var Lr;(function(v){v.Text=1,v.Read=2,v.Write=3})(Lr=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var xn;(function(v){function x(O,E){var N={range:O};return S.number(E)&&(N.kind=E),N}v.create=x})(xn=e.DocumentHighlight||(e.DocumentHighlight={}));var Ss;(function(v){v.File=1,v.Module=2,v.Namespace=3,v.Package=4,v.Class=5,v.Method=6,v.Property=7,v.Field=8,v.Constructor=9,v.Enum=10,v.Interface=11,v.Function=12,v.Variable=13,v.Constant=14,v.String=15,v.Number=16,v.Boolean=17,v.Array=18,v.Object=19,v.Key=20,v.Null=21,v.EnumMember=22,v.Struct=23,v.Event=24,v.Operator=25,v.TypeParameter=26})(Ss=e.SymbolKind||(e.SymbolKind={}));var R;(function(v){v.Deprecated=1})(R=e.SymbolTag||(e.SymbolTag={}));var M;(function(v){function x(O,E,N,B,Y){var Te={name:O,kind:E,location:{uri:B,range:N}};return Y&&(Te.containerName=Y),Te}v.create=x})(M=e.SymbolInformation||(e.SymbolInformation={}));var Z;(function(v){function x(E,N,B,Y,Te,Re){var Qe={name:E,detail:N,kind:B,range:Y,selectionRange:Te};return Re!==void 0&&(Qe.children=Re),Qe}v.create=x;function O(E){var N=E;return N&&S.string(N.name)&&S.number(N.kind)&&s.is(N.range)&&s.is(N.selectionRange)&&(N.detail===void 0||S.string(N.detail))&&(N.deprecated===void 0||S.boolean(N.deprecated))&&(N.children===void 0||Array.isArray(N.children))&&(N.tags===void 0||Array.isArray(N.tags))}v.is=O})(Z=e.DocumentSymbol||(e.DocumentSymbol={}));var $;(function(v){v.Empty="",v.QuickFix="quickfix",v.Refactor="refactor",v.RefactorExtract="refactor.extract",v.RefactorInline="refactor.inline",v.RefactorRewrite="refactor.rewrite",v.Source="source",v.SourceOrganizeImports="source.organizeImports",v.SourceFixAll="source.fixAll"})($=e.CodeActionKind||(e.CodeActionKind={}));var k;(function(v){function x(E,N){var B={diagnostics:E};return N!=null&&(B.only=N),B}v.create=x;function O(E){var N=E;return S.defined(N)&&S.typedArray(N.diagnostics,g.is)&&(N.only===void 0||S.typedArray(N.only,S.string))}v.is=O})(k=e.CodeActionContext||(e.CodeActionContext={}));var me;(function(v){function x(E,N,B){var Y={title:E},Te=!0;return typeof N=="string"?(Te=!1,Y.kind=N):b.is(N)?Y.command=N:Y.edit=N,Te&&B!==void 0&&(Y.kind=B),Y}v.create=x;function O(E){var N=E;return N&&S.string(N.title)&&(N.diagnostics===void 0||S.typedArray(N.diagnostics,g.is))&&(N.kind===void 0||S.string(N.kind))&&(N.edit!==void 0||N.command!==void 0)&&(N.command===void 0||b.is(N.command))&&(N.isPreferred===void 0||S.boolean(N.isPreferred))&&(N.edit===void 0||Q.is(N.edit))}v.is=O})(me=e.CodeAction||(e.CodeAction={}));var ce;(function(v){function x(E,N){var B={range:E};return S.defined(N)&&(B.data=N),B}v.create=x;function O(E){var N=E;return S.defined(N)&&s.is(N.range)&&(S.undefined(N.command)||b.is(N.command))}v.is=O})(ce=e.CodeLens||(e.CodeLens={}));var be;(function(v){function x(E,N){return{tabSize:E,insertSpaces:N}}v.create=x;function O(E){var N=E;return S.defined(N)&&S.uinteger(N.tabSize)&&S.boolean(N.insertSpaces)}v.is=O})(be=e.FormattingOptions||(e.FormattingOptions={}));var Ct;(function(v){function x(E,N,B){return{range:E,target:N,data:B}}v.create=x;function O(E){var N=E;return S.defined(N)&&s.is(N.range)&&(S.undefined(N.target)||S.string(N.target))}v.is=O})(Ct=e.DocumentLink||(e.DocumentLink={}));var xt;(function(v){function x(E,N){return{range:E,parent:N}}v.create=x;function O(E){var N=E;return N!==void 0&&s.is(N.range)&&(N.parent===void 0||v.is(N.parent))}v.is=O})(xt=e.SelectionRange||(e.SelectionRange={})),e.EOL=[`
`,`\r
`,"\r"];var kr;(function(v){function x(B,Y,Te,Re){return new D(B,Y,Te,Re)}v.create=x;function O(B){var Y=B;return!!(S.defined(Y)&&S.string(Y.uri)&&(S.undefined(Y.languageId)||S.string(Y.languageId))&&S.uinteger(Y.lineCount)&&S.func(Y.getText)&&S.func(Y.positionAt)&&S.func(Y.offsetAt))}v.is=O;function E(B,Y){for(var Te=B.getText(),Re=N(Y,function(co,Tc){var _y=co.range.start.line-Tc.range.start.line;return _y===0?co.range.start.character-Tc.range.start.character:_y}),Qe=Te.length,Rt=Re.length-1;Rt>=0;Rt--){var un=Re[Rt],_n=B.offsetAt(un.range.start),rt=B.offsetAt(un.range.end);if(rt<=Qe)Te=Te.substring(0,_n)+un.newText+Te.substring(rt,Te.length);else throw new Error("Overlapping edit");Qe=_n}return Te}v.applyEdits=E;function N(B,Y){if(B.length<=1)return B;var Te=B.length/2|0,Re=B.slice(0,Te),Qe=B.slice(Te);N(Re,Y),N(Qe,Y);for(var Rt=0,un=0,_n=0;Rt<Re.length&&un<Qe.length;){var rt=Y(Re[Rt],Qe[un]);rt<=0?B[_n++]=Re[Rt++]:B[_n++]=Qe[un++]}for(;Rt<Re.length;)B[_n++]=Re[Rt++];for(;un<Qe.length;)B[_n++]=Qe[un++];return B}})(kr=e.TextDocument||(e.TextDocument={}));var D=function(){function v(x,O,E,N){this._uri=x,this._languageId=O,this._version=E,this._content=N,this._lineOffsets=void 0}return Object.defineProperty(v.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),v.prototype.getText=function(x){if(x){var O=this.offsetAt(x.start),E=this.offsetAt(x.end);return this._content.substring(O,E)}return this._content},v.prototype.update=function(x,O){this._content=x.text,this._version=O,this._lineOffsets=void 0},v.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var x=[],O=this._content,E=!0,N=0;N<O.length;N++){E&&(x.push(N),E=!1);var B=O.charAt(N);E=B==="\r"||B===`
`,B==="\r"&&N+1<O.length&&O.charAt(N+1)===`
`&&N++}E&&O.length>0&&x.push(O.length),this._lineOffsets=x}return this._lineOffsets},v.prototype.positionAt=function(x){x=Math.max(Math.min(x,this._content.length),0);var O=this.getLineOffsets(),E=0,N=O.length;if(N===0)return i.create(0,x);for(;E<N;){var B=Math.floor((E+N)/2);O[B]>x?N=B:E=B+1}var Y=E-1;return i.create(Y,x-O[Y])},v.prototype.offsetAt=function(x){var O=this.getLineOffsets();if(x.line>=O.length)return this._content.length;if(x.line<0)return 0;var E=O[x.line],N=x.line+1<O.length?O[x.line+1]:this._content.length;return Math.max(Math.min(E+x.character,N),E)},Object.defineProperty(v.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),v}(),S;(function(v){var x=Object.prototype.toString;function O(rt){return typeof rt!="undefined"}v.defined=O;function E(rt){return typeof rt=="undefined"}v.undefined=E;function N(rt){return rt===!0||rt===!1}v.boolean=N;function B(rt){return x.call(rt)==="[object String]"}v.string=B;function Y(rt){return x.call(rt)==="[object Number]"}v.number=Y;function Te(rt,co,Tc){return x.call(rt)==="[object Number]"&&co<=rt&&rt<=Tc}v.numberRange=Te;function Re(rt){return x.call(rt)==="[object Number]"&&-2147483648<=rt&&rt<=2147483647}v.integer=Re;function Qe(rt){return x.call(rt)==="[object Number]"&&0<=rt&&rt<=2147483647}v.uinteger=Qe;function Rt(rt){return x.call(rt)==="[object Function]"}v.func=Rt;function un(rt){return rt!==null&&typeof rt=="object"}v.objectLiteral=un;function _n(rt,co){return Array.isArray(rt)&&rt.every(co)}v.typedArray=_n})(S||(S={}))})});var Nn=J(Hr=>{"use strict";Object.defineProperty(Hr,"__esModule",{value:!0});Hr.ProtocolNotificationType=Hr.ProtocolNotificationType0=Hr.ProtocolRequestType=Hr.ProtocolRequestType0=Hr.RegistrationType=void 0;var Po=Co(),Zb=class{constructor(e){this.method=e}};Hr.RegistrationType=Zb;var eT=class extends Po.RequestType0{constructor(e){super(e)}};Hr.ProtocolRequestType0=eT;var tT=class extends Po.RequestType{constructor(e){super(e,Po.ParameterStructures.byName)}};Hr.ProtocolRequestType=tT;var nT=class extends Po.NotificationType0{constructor(e){super(e)}};Hr.ProtocolNotificationType0=nT;var rT=class extends Po.NotificationType{constructor(e){super(e,Po.ParameterStructures.byName)}};Hr.ProtocolNotificationType=rT});var aT=J(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});rn.objectLiteral=rn.typedArray=rn.stringArray=rn.array=rn.func=rn.error=rn.number=rn.string=rn.boolean=void 0;function Yx(t){return t===!0||t===!1}rn.boolean=Yx;function iT(t){return typeof t=="string"||t instanceof String}rn.string=iT;function $x(t){return typeof t=="number"||t instanceof Number}rn.number=$x;function Kx(t){return t instanceof Error}rn.error=Kx;function zx(t){return typeof t=="function"}rn.func=zx;function sT(t){return Array.isArray(t)}rn.array=sT;function Xx(t){return sT(t)&&t.every(e=>iT(e))}rn.stringArray=Xx;function Qx(t,e){return Array.isArray(t)&&t.every(e)}rn.typedArray=Qx;function Jx(t){return t!==null&&typeof t=="object"}rn.objectLiteral=Jx});var oT=J(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});ru.ImplementationRequest=void 0;var Zx=Nn(),eR;(function(t){t.method="textDocument/implementation",t.type=new Zx.ProtocolRequestType(t.method)})(eR=ru.ImplementationRequest||(ru.ImplementationRequest={}))});var lT=J(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});iu.TypeDefinitionRequest=void 0;var tR=Nn(),nR;(function(t){t.method="textDocument/typeDefinition",t.type=new tR.ProtocolRequestType(t.method)})(nR=iu.TypeDefinitionRequest||(iu.TypeDefinitionRequest={}))});var cT=J(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});xs.DidChangeWorkspaceFoldersNotification=xs.WorkspaceFoldersRequest=void 0;var uT=Nn(),rR;(function(t){t.type=new uT.ProtocolRequestType0("workspace/workspaceFolders")})(rR=xs.WorkspaceFoldersRequest||(xs.WorkspaceFoldersRequest={}));var iR;(function(t){t.type=new uT.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(iR=xs.DidChangeWorkspaceFoldersNotification||(xs.DidChangeWorkspaceFoldersNotification={}))});var fT=J(su=>{"use strict";Object.defineProperty(su,"__esModule",{value:!0});su.ConfigurationRequest=void 0;var sR=Nn(),aR;(function(t){t.type=new sR.ProtocolRequestType("workspace/configuration")})(aR=su.ConfigurationRequest||(su.ConfigurationRequest={}))});var dT=J(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.ColorPresentationRequest=Rs.DocumentColorRequest=void 0;var pT=Nn(),oR;(function(t){t.method="textDocument/documentColor",t.type=new pT.ProtocolRequestType(t.method)})(oR=Rs.DocumentColorRequest||(Rs.DocumentColorRequest={}));var lR;(function(t){t.type=new pT.ProtocolRequestType("textDocument/colorPresentation")})(lR=Rs.ColorPresentationRequest||(Rs.ColorPresentationRequest={}))});var lm=J(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});ws.FoldingRangeRequest=ws.FoldingRangeKind=void 0;var uR=Nn(),cR;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(cR=ws.FoldingRangeKind||(ws.FoldingRangeKind={}));var fR;(function(t){t.method="textDocument/foldingRange",t.type=new uR.ProtocolRequestType(t.method)})(fR=ws.FoldingRangeRequest||(ws.FoldingRangeRequest={}))});var mT=J(au=>{"use strict";Object.defineProperty(au,"__esModule",{value:!0});au.DeclarationRequest=void 0;var pR=Nn(),dR;(function(t){t.method="textDocument/declaration",t.type=new pR.ProtocolRequestType(t.method)})(dR=au.DeclarationRequest||(au.DeclarationRequest={}))});var hT=J(ou=>{"use strict";Object.defineProperty(ou,"__esModule",{value:!0});ou.SelectionRangeRequest=void 0;var mR=Nn(),hR;(function(t){t.method="textDocument/selectionRange",t.type=new mR.ProtocolRequestType(t.method)})(hR=ou.SelectionRangeRequest||(ou.SelectionRangeRequest={}))});var _T=J(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});Di.WorkDoneProgressCancelNotification=Di.WorkDoneProgressCreateRequest=Di.WorkDoneProgress=void 0;var gR=Co(),gT=Nn(),_R;(function(t){t.type=new gR.ProgressType;function e(n){return n===t.type}t.is=e})(_R=Di.WorkDoneProgress||(Di.WorkDoneProgress={}));var yR;(function(t){t.type=new gT.ProtocolRequestType("window/workDoneProgress/create")})(yR=Di.WorkDoneProgressCreateRequest||(Di.WorkDoneProgressCreateRequest={}));var bR;(function(t){t.type=new gT.ProtocolNotificationType("window/workDoneProgress/cancel")})(bR=Di.WorkDoneProgressCancelNotification||(Di.WorkDoneProgressCancelNotification={}))});var yT=J(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});Si.CallHierarchyOutgoingCallsRequest=Si.CallHierarchyIncomingCallsRequest=Si.CallHierarchyPrepareRequest=void 0;var um=Nn(),TR;(function(t){t.method="textDocument/prepareCallHierarchy",t.type=new um.ProtocolRequestType(t.method)})(TR=Si.CallHierarchyPrepareRequest||(Si.CallHierarchyPrepareRequest={}));var vR;(function(t){t.method="callHierarchy/incomingCalls",t.type=new um.ProtocolRequestType(t.method)})(vR=Si.CallHierarchyIncomingCallsRequest||(Si.CallHierarchyIncomingCallsRequest={}));var NR;(function(t){t.method="callHierarchy/outgoingCalls",t.type=new um.ProtocolRequestType(t.method)})(NR=Si.CallHierarchyOutgoingCallsRequest||(Si.CallHierarchyOutgoingCallsRequest={}))});var bT=J(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.SemanticTokensRefreshRequest=Tt.SemanticTokensRangeRequest=Tt.SemanticTokensDeltaRequest=Tt.SemanticTokensRequest=Tt.SemanticTokensRegistrationType=Tt.TokenFormat=Tt.SemanticTokens=Tt.SemanticTokenModifiers=Tt.SemanticTokenTypes=void 0;var lu=Nn(),CR;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator"})(CR=Tt.SemanticTokenTypes||(Tt.SemanticTokenTypes={}));var PR;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(PR=Tt.SemanticTokenModifiers||(Tt.SemanticTokenModifiers={}));var DR;(function(t){function e(n){let r=n;return r!==void 0&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}t.is=e})(DR=Tt.SemanticTokens||(Tt.SemanticTokens={}));var SR;(function(t){t.Relative="relative"})(SR=Tt.TokenFormat||(Tt.TokenFormat={}));var IR;(function(t){t.method="textDocument/semanticTokens",t.type=new lu.RegistrationType(t.method)})(IR=Tt.SemanticTokensRegistrationType||(Tt.SemanticTokensRegistrationType={}));var ER;(function(t){t.method="textDocument/semanticTokens/full",t.type=new lu.ProtocolRequestType(t.method)})(ER=Tt.SemanticTokensRequest||(Tt.SemanticTokensRequest={}));var AR;(function(t){t.method="textDocument/semanticTokens/full/delta",t.type=new lu.ProtocolRequestType(t.method)})(AR=Tt.SemanticTokensDeltaRequest||(Tt.SemanticTokensDeltaRequest={}));var xR;(function(t){t.method="textDocument/semanticTokens/range",t.type=new lu.ProtocolRequestType(t.method)})(xR=Tt.SemanticTokensRangeRequest||(Tt.SemanticTokensRangeRequest={}));var RR;(function(t){t.method="workspace/semanticTokens/refresh",t.type=new lu.ProtocolRequestType0(t.method)})(RR=Tt.SemanticTokensRefreshRequest||(Tt.SemanticTokensRefreshRequest={}))});var TT=J(uu=>{"use strict";Object.defineProperty(uu,"__esModule",{value:!0});uu.ShowDocumentRequest=void 0;var wR=Nn(),OR;(function(t){t.method="window/showDocument",t.type=new wR.ProtocolRequestType(t.method)})(OR=uu.ShowDocumentRequest||(uu.ShowDocumentRequest={}))});var vT=J(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});cu.LinkedEditingRangeRequest=void 0;var FR=Nn(),LR;(function(t){t.method="textDocument/linkedEditingRange",t.type=new FR.ProtocolRequestType(t.method)})(LR=cu.LinkedEditingRangeRequest||(cu.LinkedEditingRangeRequest={}))});var NT=J(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.WillDeleteFilesRequest=Gt.DidDeleteFilesNotification=Gt.DidRenameFilesNotification=Gt.WillRenameFilesRequest=Gt.DidCreateFilesNotification=Gt.WillCreateFilesRequest=Gt.FileOperationPatternKind=void 0;var Do=Nn(),kR;(function(t){t.file="file",t.folder="folder"})(kR=Gt.FileOperationPatternKind||(Gt.FileOperationPatternKind={}));var MR;(function(t){t.method="workspace/willCreateFiles",t.type=new Do.ProtocolRequestType(t.method)})(MR=Gt.WillCreateFilesRequest||(Gt.WillCreateFilesRequest={}));var BR;(function(t){t.method="workspace/didCreateFiles",t.type=new Do.ProtocolNotificationType(t.method)})(BR=Gt.DidCreateFilesNotification||(Gt.DidCreateFilesNotification={}));var qR;(function(t){t.method="workspace/willRenameFiles",t.type=new Do.ProtocolRequestType(t.method)})(qR=Gt.WillRenameFilesRequest||(Gt.WillRenameFilesRequest={}));var VR;(function(t){t.method="workspace/didRenameFiles",t.type=new Do.ProtocolNotificationType(t.method)})(VR=Gt.DidRenameFilesNotification||(Gt.DidRenameFilesNotification={}));var jR;(function(t){t.method="workspace/didDeleteFiles",t.type=new Do.ProtocolNotificationType(t.method)})(jR=Gt.DidDeleteFilesNotification||(Gt.DidDeleteFilesNotification={}));var UR;(function(t){t.method="workspace/willDeleteFiles",t.type=new Do.ProtocolRequestType(t.method)})(UR=Gt.WillDeleteFilesRequest||(Gt.WillDeleteFilesRequest={}))});var CT=J(Ii=>{"use strict";Object.defineProperty(Ii,"__esModule",{value:!0});Ii.MonikerRequest=Ii.MonikerKind=Ii.UniquenessLevel=void 0;var WR=Nn(),GR;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(GR=Ii.UniquenessLevel||(Ii.UniquenessLevel={}));var HR;(function(t){t.import="import",t.export="export",t.local="local"})(HR=Ii.MonikerKind||(Ii.MonikerKind={}));var YR;(function(t){t.method="textDocument/moniker",t.type=new WR.ProtocolRequestType(t.method)})(YR=Ii.MonikerRequest||(Ii.MonikerRequest={}))});var ET=J(A=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});A.DocumentLinkRequest=A.CodeLensRefreshRequest=A.CodeLensResolveRequest=A.CodeLensRequest=A.WorkspaceSymbolRequest=A.CodeActionResolveRequest=A.CodeActionRequest=A.DocumentSymbolRequest=A.DocumentHighlightRequest=A.ReferencesRequest=A.DefinitionRequest=A.SignatureHelpRequest=A.SignatureHelpTriggerKind=A.HoverRequest=A.CompletionResolveRequest=A.CompletionRequest=A.CompletionTriggerKind=A.PublishDiagnosticsNotification=A.WatchKind=A.FileChangeType=A.DidChangeWatchedFilesNotification=A.WillSaveTextDocumentWaitUntilRequest=A.WillSaveTextDocumentNotification=A.TextDocumentSaveReason=A.DidSaveTextDocumentNotification=A.DidCloseTextDocumentNotification=A.DidChangeTextDocumentNotification=A.TextDocumentContentChangeEvent=A.DidOpenTextDocumentNotification=A.TextDocumentSyncKind=A.TelemetryEventNotification=A.LogMessageNotification=A.ShowMessageRequest=A.ShowMessageNotification=A.MessageType=A.DidChangeConfigurationNotification=A.ExitNotification=A.ShutdownRequest=A.InitializedNotification=A.InitializeError=A.InitializeRequest=A.WorkDoneProgressOptions=A.TextDocumentRegistrationOptions=A.StaticRegistrationOptions=A.FailureHandlingKind=A.ResourceOperationKind=A.UnregistrationRequest=A.RegistrationRequest=A.DocumentSelector=A.DocumentFilter=void 0;A.MonikerRequest=A.MonikerKind=A.UniquenessLevel=A.WillDeleteFilesRequest=A.DidDeleteFilesNotification=A.WillRenameFilesRequest=A.DidRenameFilesNotification=A.WillCreateFilesRequest=A.DidCreateFilesNotification=A.FileOperationPatternKind=A.LinkedEditingRangeRequest=A.ShowDocumentRequest=A.SemanticTokensRegistrationType=A.SemanticTokensRefreshRequest=A.SemanticTokensRangeRequest=A.SemanticTokensDeltaRequest=A.SemanticTokensRequest=A.TokenFormat=A.SemanticTokens=A.SemanticTokenModifiers=A.SemanticTokenTypes=A.CallHierarchyPrepareRequest=A.CallHierarchyOutgoingCallsRequest=A.CallHierarchyIncomingCallsRequest=A.WorkDoneProgressCancelNotification=A.WorkDoneProgressCreateRequest=A.WorkDoneProgress=A.SelectionRangeRequest=A.DeclarationRequest=A.FoldingRangeRequest=A.ColorPresentationRequest=A.DocumentColorRequest=A.ConfigurationRequest=A.DidChangeWorkspaceFoldersNotification=A.WorkspaceFoldersRequest=A.TypeDefinitionRequest=A.ImplementationRequest=A.ApplyWorkspaceEditRequest=A.ExecuteCommandRequest=A.PrepareRenameRequest=A.RenameRequest=A.PrepareSupportDefaultBehavior=A.DocumentOnTypeFormattingRequest=A.DocumentRangeFormattingRequest=A.DocumentFormattingRequest=A.DocumentLinkResolveRequest=void 0;var Os=aT(),Ke=Nn(),$R=oT();Object.defineProperty(A,"ImplementationRequest",{enumerable:!0,get:function(){return $R.ImplementationRequest}});var KR=lT();Object.defineProperty(A,"TypeDefinitionRequest",{enumerable:!0,get:function(){return KR.TypeDefinitionRequest}});var PT=cT();Object.defineProperty(A,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return PT.WorkspaceFoldersRequest}});Object.defineProperty(A,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return PT.DidChangeWorkspaceFoldersNotification}});var zR=fT();Object.defineProperty(A,"ConfigurationRequest",{enumerable:!0,get:function(){return zR.ConfigurationRequest}});var DT=dT();Object.defineProperty(A,"DocumentColorRequest",{enumerable:!0,get:function(){return DT.DocumentColorRequest}});Object.defineProperty(A,"ColorPresentationRequest",{enumerable:!0,get:function(){return DT.ColorPresentationRequest}});var XR=lm();Object.defineProperty(A,"FoldingRangeRequest",{enumerable:!0,get:function(){return XR.FoldingRangeRequest}});var QR=mT();Object.defineProperty(A,"DeclarationRequest",{enumerable:!0,get:function(){return QR.DeclarationRequest}});var JR=hT();Object.defineProperty(A,"SelectionRangeRequest",{enumerable:!0,get:function(){return JR.SelectionRangeRequest}});var cm=_T();Object.defineProperty(A,"WorkDoneProgress",{enumerable:!0,get:function(){return cm.WorkDoneProgress}});Object.defineProperty(A,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return cm.WorkDoneProgressCreateRequest}});Object.defineProperty(A,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return cm.WorkDoneProgressCancelNotification}});var fm=yT();Object.defineProperty(A,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return fm.CallHierarchyIncomingCallsRequest}});Object.defineProperty(A,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return fm.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(A,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return fm.CallHierarchyPrepareRequest}});var fs=bT();Object.defineProperty(A,"SemanticTokenTypes",{enumerable:!0,get:function(){return fs.SemanticTokenTypes}});Object.defineProperty(A,"SemanticTokenModifiers",{enumerable:!0,get:function(){return fs.SemanticTokenModifiers}});Object.defineProperty(A,"SemanticTokens",{enumerable:!0,get:function(){return fs.SemanticTokens}});Object.defineProperty(A,"TokenFormat",{enumerable:!0,get:function(){return fs.TokenFormat}});Object.defineProperty(A,"SemanticTokensRequest",{enumerable:!0,get:function(){return fs.SemanticTokensRequest}});Object.defineProperty(A,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return fs.SemanticTokensDeltaRequest}});Object.defineProperty(A,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return fs.SemanticTokensRangeRequest}});Object.defineProperty(A,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return fs.SemanticTokensRefreshRequest}});Object.defineProperty(A,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return fs.SemanticTokensRegistrationType}});var ZR=TT();Object.defineProperty(A,"ShowDocumentRequest",{enumerable:!0,get:function(){return ZR.ShowDocumentRequest}});var ew=vT();Object.defineProperty(A,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return ew.LinkedEditingRangeRequest}});var Na=NT();Object.defineProperty(A,"FileOperationPatternKind",{enumerable:!0,get:function(){return Na.FileOperationPatternKind}});Object.defineProperty(A,"DidCreateFilesNotification",{enumerable:!0,get:function(){return Na.DidCreateFilesNotification}});Object.defineProperty(A,"WillCreateFilesRequest",{enumerable:!0,get:function(){return Na.WillCreateFilesRequest}});Object.defineProperty(A,"DidRenameFilesNotification",{enumerable:!0,get:function(){return Na.DidRenameFilesNotification}});Object.defineProperty(A,"WillRenameFilesRequest",{enumerable:!0,get:function(){return Na.WillRenameFilesRequest}});Object.defineProperty(A,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return Na.DidDeleteFilesNotification}});Object.defineProperty(A,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return Na.WillDeleteFilesRequest}});var pm=CT();Object.defineProperty(A,"UniquenessLevel",{enumerable:!0,get:function(){return pm.UniquenessLevel}});Object.defineProperty(A,"MonikerKind",{enumerable:!0,get:function(){return pm.MonikerKind}});Object.defineProperty(A,"MonikerRequest",{enumerable:!0,get:function(){return pm.MonikerRequest}});var ST;(function(t){function e(n){let r=n;return Os.string(r.language)||Os.string(r.scheme)||Os.string(r.pattern)}t.is=e})(ST=A.DocumentFilter||(A.DocumentFilter={}));var IT;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let r of n)if(!Os.string(r)&&!ST.is(r))return!1;return!0}t.is=e})(IT=A.DocumentSelector||(A.DocumentSelector={}));var tw;(function(t){t.type=new Ke.ProtocolRequestType("client/registerCapability")})(tw=A.RegistrationRequest||(A.RegistrationRequest={}));var nw;(function(t){t.type=new Ke.ProtocolRequestType("client/unregisterCapability")})(nw=A.UnregistrationRequest||(A.UnregistrationRequest={}));var rw;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(rw=A.ResourceOperationKind||(A.ResourceOperationKind={}));var iw;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(iw=A.FailureHandlingKind||(A.FailureHandlingKind={}));var sw;(function(t){function e(n){let r=n;return r&&Os.string(r.id)&&r.id.length>0}t.hasId=e})(sw=A.StaticRegistrationOptions||(A.StaticRegistrationOptions={}));var aw;(function(t){function e(n){let r=n;return r&&(r.documentSelector===null||IT.is(r.documentSelector))}t.is=e})(aw=A.TextDocumentRegistrationOptions||(A.TextDocumentRegistrationOptions={}));var ow;(function(t){function e(r){let i=r;return Os.objectLiteral(i)&&(i.workDoneProgress===void 0||Os.boolean(i.workDoneProgress))}t.is=e;function n(r){let i=r;return i&&Os.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=n})(ow=A.WorkDoneProgressOptions||(A.WorkDoneProgressOptions={}));var lw;(function(t){t.type=new Ke.ProtocolRequestType("initialize")})(lw=A.InitializeRequest||(A.InitializeRequest={}));var uw;(function(t){t.unknownProtocolVersion=1})(uw=A.InitializeError||(A.InitializeError={}));var cw;(function(t){t.type=new Ke.ProtocolNotificationType("initialized")})(cw=A.InitializedNotification||(A.InitializedNotification={}));var fw;(function(t){t.type=new Ke.ProtocolRequestType0("shutdown")})(fw=A.ShutdownRequest||(A.ShutdownRequest={}));var pw;(function(t){t.type=new Ke.ProtocolNotificationType0("exit")})(pw=A.ExitNotification||(A.ExitNotification={}));var dw;(function(t){t.type=new Ke.ProtocolNotificationType("workspace/didChangeConfiguration")})(dw=A.DidChangeConfigurationNotification||(A.DidChangeConfigurationNotification={}));var mw;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4})(mw=A.MessageType||(A.MessageType={}));var hw;(function(t){t.type=new Ke.ProtocolNotificationType("window/showMessage")})(hw=A.ShowMessageNotification||(A.ShowMessageNotification={}));var gw;(function(t){t.type=new Ke.ProtocolRequestType("window/showMessageRequest")})(gw=A.ShowMessageRequest||(A.ShowMessageRequest={}));var _w;(function(t){t.type=new Ke.ProtocolNotificationType("window/logMessage")})(_w=A.LogMessageNotification||(A.LogMessageNotification={}));var yw;(function(t){t.type=new Ke.ProtocolNotificationType("telemetry/event")})(yw=A.TelemetryEventNotification||(A.TelemetryEventNotification={}));var bw;(function(t){t.None=0,t.Full=1,t.Incremental=2})(bw=A.TextDocumentSyncKind||(A.TextDocumentSyncKind={}));var Tw;(function(t){t.method="textDocument/didOpen",t.type=new Ke.ProtocolNotificationType(t.method)})(Tw=A.DidOpenTextDocumentNotification||(A.DidOpenTextDocumentNotification={}));var vw;(function(t){function e(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}t.isIncremental=e;function n(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}t.isFull=n})(vw=A.TextDocumentContentChangeEvent||(A.TextDocumentContentChangeEvent={}));var Nw;(function(t){t.method="textDocument/didChange",t.type=new Ke.ProtocolNotificationType(t.method)})(Nw=A.DidChangeTextDocumentNotification||(A.DidChangeTextDocumentNotification={}));var Cw;(function(t){t.method="textDocument/didClose",t.type=new Ke.ProtocolNotificationType(t.method)})(Cw=A.DidCloseTextDocumentNotification||(A.DidCloseTextDocumentNotification={}));var Pw;(function(t){t.method="textDocument/didSave",t.type=new Ke.ProtocolNotificationType(t.method)})(Pw=A.DidSaveTextDocumentNotification||(A.DidSaveTextDocumentNotification={}));var Dw;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(Dw=A.TextDocumentSaveReason||(A.TextDocumentSaveReason={}));var Sw;(function(t){t.method="textDocument/willSave",t.type=new Ke.ProtocolNotificationType(t.method)})(Sw=A.WillSaveTextDocumentNotification||(A.WillSaveTextDocumentNotification={}));var Iw;(function(t){t.method="textDocument/willSaveWaitUntil",t.type=new Ke.ProtocolRequestType(t.method)})(Iw=A.WillSaveTextDocumentWaitUntilRequest||(A.WillSaveTextDocumentWaitUntilRequest={}));var Ew;(function(t){t.type=new Ke.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(Ew=A.DidChangeWatchedFilesNotification||(A.DidChangeWatchedFilesNotification={}));var Aw;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(Aw=A.FileChangeType||(A.FileChangeType={}));var xw;(function(t){t.Create=1,t.Change=2,t.Delete=4})(xw=A.WatchKind||(A.WatchKind={}));var Rw;(function(t){t.type=new Ke.ProtocolNotificationType("textDocument/publishDiagnostics")})(Rw=A.PublishDiagnosticsNotification||(A.PublishDiagnosticsNotification={}));var ww;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(ww=A.CompletionTriggerKind||(A.CompletionTriggerKind={}));var Ow;(function(t){t.method="textDocument/completion",t.type=new Ke.ProtocolRequestType(t.method)})(Ow=A.CompletionRequest||(A.CompletionRequest={}));var Fw;(function(t){t.method="completionItem/resolve",t.type=new Ke.ProtocolRequestType(t.method)})(Fw=A.CompletionResolveRequest||(A.CompletionResolveRequest={}));var Lw;(function(t){t.method="textDocument/hover",t.type=new Ke.ProtocolRequestType(t.method)})(Lw=A.HoverRequest||(A.HoverRequest={}));var kw;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(kw=A.SignatureHelpTriggerKind||(A.SignatureHelpTriggerKind={}));var Mw;(function(t){t.method="textDocument/signatureHelp",t.type=new Ke.ProtocolRequestType(t.method)})(Mw=A.SignatureHelpRequest||(A.SignatureHelpRequest={}));var Bw;(function(t){t.method="textDocument/definition",t.type=new Ke.ProtocolRequestType(t.method)})(Bw=A.DefinitionRequest||(A.DefinitionRequest={}));var qw;(function(t){t.method="textDocument/references",t.type=new Ke.ProtocolRequestType(t.method)})(qw=A.ReferencesRequest||(A.ReferencesRequest={}));var Vw;(function(t){t.method="textDocument/documentHighlight",t.type=new Ke.ProtocolRequestType(t.method)})(Vw=A.DocumentHighlightRequest||(A.DocumentHighlightRequest={}));var jw;(function(t){t.method="textDocument/documentSymbol",t.type=new Ke.ProtocolRequestType(t.method)})(jw=A.DocumentSymbolRequest||(A.DocumentSymbolRequest={}));var Uw;(function(t){t.method="textDocument/codeAction",t.type=new Ke.ProtocolRequestType(t.method)})(Uw=A.CodeActionRequest||(A.CodeActionRequest={}));var Ww;(function(t){t.method="codeAction/resolve",t.type=new Ke.ProtocolRequestType(t.method)})(Ww=A.CodeActionResolveRequest||(A.CodeActionResolveRequest={}));var Gw;(function(t){t.method="workspace/symbol",t.type=new Ke.ProtocolRequestType(t.method)})(Gw=A.WorkspaceSymbolRequest||(A.WorkspaceSymbolRequest={}));var Hw;(function(t){t.method="textDocument/codeLens",t.type=new Ke.ProtocolRequestType(t.method)})(Hw=A.CodeLensRequest||(A.CodeLensRequest={}));var Yw;(function(t){t.method="codeLens/resolve",t.type=new Ke.ProtocolRequestType(t.method)})(Yw=A.CodeLensResolveRequest||(A.CodeLensResolveRequest={}));var $w;(function(t){t.method="workspace/codeLens/refresh",t.type=new Ke.ProtocolRequestType0(t.method)})($w=A.CodeLensRefreshRequest||(A.CodeLensRefreshRequest={}));var Kw;(function(t){t.method="textDocument/documentLink",t.type=new Ke.ProtocolRequestType(t.method)})(Kw=A.DocumentLinkRequest||(A.DocumentLinkRequest={}));var zw;(function(t){t.method="documentLink/resolve",t.type=new Ke.ProtocolRequestType(t.method)})(zw=A.DocumentLinkResolveRequest||(A.DocumentLinkResolveRequest={}));var Xw;(function(t){t.method="textDocument/formatting",t.type=new Ke.ProtocolRequestType(t.method)})(Xw=A.DocumentFormattingRequest||(A.DocumentFormattingRequest={}));var Qw;(function(t){t.method="textDocument/rangeFormatting",t.type=new Ke.ProtocolRequestType(t.method)})(Qw=A.DocumentRangeFormattingRequest||(A.DocumentRangeFormattingRequest={}));var Jw;(function(t){t.method="textDocument/onTypeFormatting",t.type=new Ke.ProtocolRequestType(t.method)})(Jw=A.DocumentOnTypeFormattingRequest||(A.DocumentOnTypeFormattingRequest={}));var Zw;(function(t){t.Identifier=1})(Zw=A.PrepareSupportDefaultBehavior||(A.PrepareSupportDefaultBehavior={}));var e1;(function(t){t.method="textDocument/rename",t.type=new Ke.ProtocolRequestType(t.method)})(e1=A.RenameRequest||(A.RenameRequest={}));var t1;(function(t){t.method="textDocument/prepareRename",t.type=new Ke.ProtocolRequestType(t.method)})(t1=A.PrepareRenameRequest||(A.PrepareRenameRequest={}));var n1;(function(t){t.type=new Ke.ProtocolRequestType("workspace/executeCommand")})(n1=A.ExecuteCommandRequest||(A.ExecuteCommandRequest={}));var r1;(function(t){t.type=new Ke.ProtocolRequestType("workspace/applyEdit")})(r1=A.ApplyWorkspaceEditRequest||(A.ApplyWorkspaceEditRequest={}))});var xT=J(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.createProtocolConnection=void 0;var AT=Co();function i1(t,e,n,r){return AT.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),AT.createMessageConnection(t,e,n,r)}Fc.createProtocolConnection=i1});var RT=J(Qn=>{"use strict";var s1=Qn&&Qn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Lc=Qn&&Qn.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&s1(e,t,n)};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.LSPErrorCodes=Qn.createProtocolConnection=void 0;Lc(Co(),Qn);Lc(wt(),Qn);Lc(Nn(),Qn);Lc(ET(),Qn);var a1=xT();Object.defineProperty(Qn,"createProtocolConnection",{enumerable:!0,get:function(){return a1.createProtocolConnection}});var o1;(function(t){t.lspReservedErrorRangeStart=-32899,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(o1=Qn.LSPErrorCodes||(Qn.LSPErrorCodes={}))});var Vn=J(Yi=>{"use strict";var l1=Yi&&Yi.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),wT=Yi&&Yi.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&l1(e,t,n)};Object.defineProperty(Yi,"__esModule",{value:!0});Yi.createProtocolConnection=void 0;var u1=om();wT(om(),Yi);wT(RT(),Yi);function c1(t,e,n,r){return u1.createMessageConnection(t,e,n,r)}Yi.createProtocolConnection=c1});var dm=J(Yr=>{"use strict";Object.defineProperty(Yr,"__esModule",{value:!0});Yr.generateUuid=Yr.parse=Yr.isUUID=Yr.v4=Yr.empty=void 0;var kc=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},Je=class extends kc{constructor(){super([Je._randomHex(),Je._randomHex(),Je._randomHex(),Je._randomHex(),Je._randomHex(),Je._randomHex(),Je._randomHex(),Je._randomHex(),"-",Je._randomHex(),Je._randomHex(),Je._randomHex(),Je._randomHex(),"-","4",Je._randomHex(),Je._randomHex(),Je._randomHex(),"-",Je._oneOf(Je._timeHighBits),Je._randomHex(),Je._randomHex(),Je._randomHex(),"-",Je._randomHex(),Je._randomHex(),Je._randomHex(),Je._randomHex(),Je._randomHex(),Je._randomHex(),Je._randomHex(),Je._randomHex(),Je._randomHex(),Je._randomHex(),Je._randomHex(),Je._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return Je._oneOf(Je._chars)}};Je._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Je._timeHighBits=["8","9","a","b"];Yr.empty=new kc("00000000-0000-0000-0000-000000000000");function OT(){return new Je}Yr.v4=OT;var f1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function FT(t){return f1.test(t)}Yr.isUUID=FT;function p1(t){if(!FT(t))throw new Error("invalid uuid");return new kc(t)}Yr.parse=p1;function d1(){return OT().asHex()}Yr.generateUuid=d1});var kT=J(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});Ls.attachPartialResult=Ls.ProgressFeature=Ls.attachWorkDone=void 0;var Fs=Vn(),m1=dm(),ps=class{constructor(e,n){this._connection=e,this._token=n,ps.Instances.set(this._token,this)}begin(e,n,r,i){let s={kind:"begin",title:e,percentage:n,message:r,cancellable:i};this._connection.sendProgress(Fs.WorkDoneProgress.type,this._token,s)}report(e,n){let r={kind:"report"};typeof e=="number"?(r.percentage=e,n!==void 0&&(r.message=n)):r.message=e,this._connection.sendProgress(Fs.WorkDoneProgress.type,this._token,r)}done(){ps.Instances.delete(this._token),this._connection.sendProgress(Fs.WorkDoneProgress.type,this._token,{kind:"end"})}};ps.Instances=new Map;var mm=class extends ps{constructor(e,n){super(e,n);this._source=new Fs.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},Mc=class{constructor(){}begin(){}report(){}done(){}},hm=class extends Mc{constructor(){super();this._source=new Fs.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function h1(t,e){if(e===void 0||e.workDoneToken===void 0)return new Mc;let n=e.workDoneToken;return delete e.workDoneToken,new ps(t,n)}Ls.attachWorkDone=h1;var g1=t=>class extends t{constructor(){super();this._progressSupported=!1}initialize(e){var n;((n=e==null?void 0:e.window)===null||n===void 0?void 0:n.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification(Fs.WorkDoneProgressCancelNotification.type,r=>{let i=ps.Instances.get(r.token);(i instanceof mm||i instanceof hm)&&i.cancel()}))}attachWorkDoneProgress(e){return e===void 0?new Mc:new ps(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){let e=m1.generateUuid();return this.connection.sendRequest(Fs.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new mm(this.connection,e))}else return Promise.resolve(new hm)}};Ls.ProgressFeature=g1;var gm;(function(t){t.type=new Fs.ProgressType})(gm||(gm={}));var LT=class{constructor(e,n){this._connection=e,this._token=n}report(e){this._connection.sendProgress(gm.type,this._token,e)}};function _1(t,e){if(e===void 0||e.partialResultToken===void 0)return;let n=e.partialResultToken;return delete e.partialResultToken,new LT(t,n)}Ls.attachPartialResult=_1});var MT=J(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.ConfigurationFeature=void 0;var y1=Vn(),b1=Dc(),T1=t=>class extends t{getConfiguration(e){return e?b1.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let n={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(y1.ConfigurationRequest.type,n).then(r=>Array.isArray(e)?r:r[0])}};Bc.ConfigurationFeature=T1});var BT=J(Vc=>{"use strict";Object.defineProperty(Vc,"__esModule",{value:!0});Vc.WorkspaceFoldersFeature=void 0;var qc=Vn(),v1=t=>class extends t{initialize(e){let n=e.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new qc.Emitter,this.connection.onNotification(qc.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(qc.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(qc.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};Vc.WorkspaceFoldersFeature=v1});var qT=J(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.CallHierarchyFeature=void 0;var _m=Vn(),N1=t=>class extends t{get callHierarchy(){return{onPrepare:e=>{this.connection.onRequest(_m.CallHierarchyPrepareRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))},onIncomingCalls:e=>{let n=_m.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:e=>{let n=_m.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};jc.CallHierarchyFeature=N1});var bm=J(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});So.SemanticTokensBuilder=So.SemanticTokensFeature=void 0;var ym=Vn(),C1=t=>class extends t{get semanticTokens(){return{on:e=>{let n=ym.SemanticTokensRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:e=>{let n=ym.SemanticTokensDeltaRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:e=>{let n=ym.SemanticTokensRangeRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};So.SemanticTokensFeature=C1;var VT=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,n,r,i,s){let a=e,o=n;this._dataLen>0&&(a-=this._prevLine,a===0&&(o-=this._prevChar)),this._data[this._dataLen++]=a,this._data[this._dataLen++]=o,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=s,this._prevLine=e,this._prevChar=n}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){if(this._prevData!==void 0){let e=this._prevData.length,n=this._data.length,r=0;for(;r<n&&r<e&&this._prevData[r]===this._data[r];)r++;if(r<n&&r<e){let i=0;for(;i<n&&i<e&&this._prevData[e-1-i]===this._data[n-1-i];)i++;let s=this._data.slice(r,n-i);return{resultId:this.id,edits:[{start:r,deleteCount:e-i-r,data:s}]}}else return r<n?{resultId:this.id,edits:[{start:r,deleteCount:0,data:this._data.slice(r)}]}:r<e?{resultId:this.id,edits:[{start:r,deleteCount:e-r}]}:{resultId:this.id,edits:[]}}else return this.build()}};So.SemanticTokensBuilder=VT});var jT=J(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.ShowDocumentFeature=void 0;var P1=Vn(),D1=t=>class extends t{showDocument(e){return this.connection.sendRequest(P1.ShowDocumentRequest.type,e)}};Uc.ShowDocumentFeature=D1});var UT=J(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.FileOperationsFeature=void 0;var Io=Vn(),S1=t=>class extends t{onDidCreateFiles(e){this.connection.onNotification(Io.DidCreateFilesNotification.type,n=>{e(n)})}onDidRenameFiles(e){this.connection.onNotification(Io.DidRenameFilesNotification.type,n=>{e(n)})}onDidDeleteFiles(e){this.connection.onNotification(Io.DidDeleteFilesNotification.type,n=>{e(n)})}onWillCreateFiles(e){return this.connection.onRequest(Io.WillCreateFilesRequest.type,(n,r)=>e(n,r))}onWillRenameFiles(e){return this.connection.onRequest(Io.WillRenameFilesRequest.type,(n,r)=>e(n,r))}onWillDeleteFiles(e){return this.connection.onRequest(Io.WillDeleteFilesRequest.type,(n,r)=>e(n,r))}};Wc.FileOperationsFeature=S1});var WT=J(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.LinkedEditingRangeFeature=void 0;var I1=Vn(),E1=t=>class extends t{onLinkedEditingRange(e){this.connection.onRequest(I1.LinkedEditingRangeRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))}};Gc.LinkedEditingRangeFeature=E1});var GT=J(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});Hc.MonikerFeature=void 0;var A1=Vn(),x1=t=>class extends t{get moniker(){return{on:e=>{let n=A1.MonikerRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Hc.MonikerFeature=x1});var Em=J(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.createConnection=pt.combineFeatures=pt.combineLanguagesFeatures=pt.combineWorkspaceFeatures=pt.combineWindowFeatures=pt.combineClientFeatures=pt.combineTracerFeatures=pt.combineTelemetryFeatures=pt.combineConsoleFeatures=pt._LanguagesImpl=pt.BulkUnregistration=pt.BulkRegistration=pt.ErrorMessageTracker=pt.TextDocuments=void 0;var ue=Vn(),$r=Dc(),Tm=dm(),ze=kT(),R1=MT(),w1=BT(),O1=qT(),F1=bm(),L1=jT(),k1=UT(),M1=WT(),B1=GT();function vm(t){if(t!==null)return t}var HT=class{constructor(e){this._documents=Object.create(null),this._configuration=e,this._onDidChangeContent=new ue.Emitter,this._onDidOpen=new ue.Emitter,this._onDidClose=new ue.Emitter,this._onDidSave=new ue.Emitter,this._onWillSave=new ue.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._documents[e]}all(){return Object.keys(this._documents).map(e=>this._documents[e])}keys(){return Object.keys(this._documents)}listen(e){e.__textDocumentSync=ue.TextDocumentSyncKind.Full,e.onDidOpenTextDocument(n=>{let r=n.textDocument,i=this._configuration.create(r.uri,r.languageId,r.version,r.text);this._documents[r.uri]=i;let s=Object.freeze({document:i});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)}),e.onDidChangeTextDocument(n=>{let r=n.textDocument,i=n.contentChanges;if(i.length===0)return;let s=this._documents[r.uri],{version:a}=r;if(a==null)throw new Error(`Received document change event for ${r.uri} without valid version identifier`);s=this._configuration.update(s,i,a),this._documents[r.uri]=s,this._onDidChangeContent.fire(Object.freeze({document:s}))}),e.onDidCloseTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&(delete this._documents[n.textDocument.uri],this._onDidClose.fire(Object.freeze({document:r})))}),e.onWillSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onWillSave.fire(Object.freeze({document:r,reason:n.reason}))}),e.onWillSaveTextDocumentWaitUntil((n,r)=>{let i=this._documents[n.textDocument.uri];return i&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:i,reason:n.reason}),r):[]}),e.onDidSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onDidSave.fire(Object.freeze({document:r}))})}};pt.TextDocuments=HT;var YT=class{constructor(){this._messages=Object.create(null)}add(e){let n=this._messages[e];n||(n=0),n++,this._messages[e]=n}sendErrors(e){Object.keys(this._messages).forEach(n=>{e.window.showErrorMessage(n)})}};pt.ErrorMessageTracker=YT;var Nm=class{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(ue.MessageType.Error,e)}warn(e){this.send(ue.MessageType.Warning,e)}info(e){this.send(ue.MessageType.Info,e)}log(e){this.send(ue.MessageType.Log,e)}send(e,n){this._rawConnection&&this._rawConnection.sendNotification(ue.LogMessageNotification.type,{type:e,message:n})}},$T=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...n){let r={type:ue.MessageType.Error,message:e,actions:n};return this.connection.sendRequest(ue.ShowMessageRequest.type,r).then(vm)}showWarningMessage(e,...n){let r={type:ue.MessageType.Warning,message:e,actions:n};return this.connection.sendRequest(ue.ShowMessageRequest.type,r).then(vm)}showInformationMessage(e,...n){let r={type:ue.MessageType.Info,message:e,actions:n};return this.connection.sendRequest(ue.ShowMessageRequest.type,r).then(vm)}},KT=L1.ShowDocumentFeature(ze.ProgressFeature($T)),q1;(function(t){function e(){return new Cm}t.create=e})(q1=pt.BulkRegistration||(pt.BulkRegistration={}));var Cm=class{constructor(){this._registrations=[],this._registered=new Set}add(e,n){let r=$r.string(e)?e:e.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);let i=Tm.generateUuid();this._registrations.push({id:i,method:r,registerOptions:n||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}},V1;(function(t){function e(){return new Yc(void 0,[])}t.create=e})(V1=pt.BulkUnregistration||(pt.BulkUnregistration={}));var Yc=class{constructor(e,n){this._connection=e,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let r of this._unregistrations.values())e.push(r);let n={unregisterations:e};this._connection.sendRequest(ue.UnregistrationRequest.type,n).then(void 0,r=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){let n=$r.string(e)?e:e.method,r=this._unregistrations.get(n);if(!r)return!1;let i={unregisterations:[r]};return this._connection.sendRequest(ue.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(n)},s=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}},Pm=class{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,n,r){return e instanceof Cm?this.registerMany(e):e instanceof Yc?this.registerSingle1(e,n,r):this.registerSingle2(e,n)}registerSingle1(e,n,r){let i=$r.string(n)?n:n.method,s=Tm.generateUuid(),a={registrations:[{id:s,method:i,registerOptions:r||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(ue.RegistrationRequest.type,a).then(o=>(e.add({id:s,method:i}),e),o=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(o)))}registerSingle2(e,n){let r=$r.string(e)?e:e.method,i=Tm.generateUuid(),s={registrations:[{id:i,method:r,registerOptions:n||{}}]};return this.connection.sendRequest(ue.RegistrationRequest.type,s).then(a=>ue.Disposable.create(()=>{this.unregisterSingle(i,r)}),a=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(a)))}unregisterSingle(e,n){let r={unregisterations:[{id:e,method:n}]};return this.connection.sendRequest(ue.UnregistrationRequest.type,r).then(void 0,i=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)})}registerMany(e){let n=e.asRegistrationParams();return this.connection.sendRequest(ue.RegistrationRequest.type,n).then(()=>new Yc(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}},zT=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function n(i){return i&&!!i.edit}let r=n(e)?e:{edit:e};return this.connection.sendRequest(ue.ApplyWorkspaceEditRequest.type,r)}},XT=k1.FileOperationsFeature(w1.WorkspaceFoldersFeature(R1.ConfigurationFeature(zT))),Dm=class{constructor(){this._trace=ue.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,n){this._trace!==ue.Trace.Off&&this.connection.sendNotification(ue.LogTraceNotification.type,{message:e,verbose:this._trace===ue.Trace.Verbose?n:void 0})}},Sm=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(ue.TelemetryEventNotification.type,e)}},Im=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return ze.attachWorkDone(this.connection,e)}attachPartialResultProgress(e,n){return ze.attachPartialResult(this.connection,n)}};pt._LanguagesImpl=Im;var QT=B1.MonikerFeature(M1.LinkedEditingRangeFeature(F1.SemanticTokensFeature(O1.CallHierarchyFeature(Im))));function JT(t,e){return function(n){return e(t(n))}}pt.combineConsoleFeatures=JT;function ZT(t,e){return function(n){return e(t(n))}}pt.combineTelemetryFeatures=ZT;function ev(t,e){return function(n){return e(t(n))}}pt.combineTracerFeatures=ev;function tv(t,e){return function(n){return e(t(n))}}pt.combineClientFeatures=tv;function nv(t,e){return function(n){return e(t(n))}}pt.combineWindowFeatures=nv;function rv(t,e){return function(n){return e(t(n))}}pt.combineWorkspaceFeatures=rv;function j1(t,e){return function(n){return e(t(n))}}pt.combineLanguagesFeatures=j1;function U1(t,e){function n(i,s,a){return i&&s?a(i,s):i||s}return{__brand:"features",console:n(t.console,e.console,JT),tracer:n(t.tracer,e.tracer,ev),telemetry:n(t.telemetry,e.telemetry,ZT),client:n(t.client,e.client,tv),window:n(t.window,e.window,nv),workspace:n(t.workspace,e.workspace,rv)}}pt.combineFeatures=U1;function W1(t,e,n){let r=n&&n.console?new(n.console(Nm)):new Nm,i=t(r);r.rawAttach(i);let s=n&&n.tracer?new(n.tracer(Dm)):new Dm,a=n&&n.telemetry?new(n.telemetry(Sm)):new Sm,o=n&&n.client?new(n.client(Pm)):new Pm,l=n&&n.window?new(n.window(KT)):new KT,u=n&&n.workspace?new(n.workspace(XT)):new XT,c=n&&n.languages?new(n.languages(QT)):new QT,f=[r,s,a,o,l,u,c];function d(g){return g instanceof Promise?g:$r.thenable(g)?new Promise((b,y)=>{g.then(T=>b(T),T=>y(T))}):Promise.resolve(g)}let m,p,h,_={listen:()=>i.listen(),sendRequest:(g,...b)=>i.sendRequest($r.string(g)?g:g.method,...b),onRequest:(g,b)=>i.onRequest(g,b),sendNotification:(g,b)=>{let y=$r.string(g)?g:g.method;arguments.length===1?i.sendNotification(y):i.sendNotification(y,b)},onNotification:(g,b)=>i.onNotification(g,b),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:g=>p=g,onInitialized:g=>i.onNotification(ue.InitializedNotification.type,g),onShutdown:g=>m=g,onExit:g=>h=g,get console(){return r},get telemetry(){return a},get tracer(){return s},get client(){return o},get window(){return l},get workspace(){return u},get languages(){return c},onDidChangeConfiguration:g=>i.onNotification(ue.DidChangeConfigurationNotification.type,g),onDidChangeWatchedFiles:g=>i.onNotification(ue.DidChangeWatchedFilesNotification.type,g),__textDocumentSync:void 0,onDidOpenTextDocument:g=>i.onNotification(ue.DidOpenTextDocumentNotification.type,g),onDidChangeTextDocument:g=>i.onNotification(ue.DidChangeTextDocumentNotification.type,g),onDidCloseTextDocument:g=>i.onNotification(ue.DidCloseTextDocumentNotification.type,g),onWillSaveTextDocument:g=>i.onNotification(ue.WillSaveTextDocumentNotification.type,g),onWillSaveTextDocumentWaitUntil:g=>i.onRequest(ue.WillSaveTextDocumentWaitUntilRequest.type,g),onDidSaveTextDocument:g=>i.onNotification(ue.DidSaveTextDocumentNotification.type,g),sendDiagnostics:g=>i.sendNotification(ue.PublishDiagnosticsNotification.type,g),onHover:g=>i.onRequest(ue.HoverRequest.type,(b,y)=>g(b,y,ze.attachWorkDone(i,b),void 0)),onCompletion:g=>i.onRequest(ue.CompletionRequest.type,(b,y)=>g(b,y,ze.attachWorkDone(i,b),ze.attachPartialResult(i,b))),onCompletionResolve:g=>i.onRequest(ue.CompletionResolveRequest.type,g),onSignatureHelp:g=>i.onRequest(ue.SignatureHelpRequest.type,(b,y)=>g(b,y,ze.attachWorkDone(i,b),void 0)),onDeclaration:g=>i.onRequest(ue.DeclarationRequest.type,(b,y)=>g(b,y,ze.attachWorkDone(i,b),ze.attachPartialResult(i,b))),onDefinition:g=>i.onRequest(ue.DefinitionRequest.type,(b,y)=>g(b,y,ze.attachWorkDone(i,b),ze.attachPartialResult(i,b))),onTypeDefinition:g=>i.onRequest(ue.TypeDefinitionRequest.type,(b,y)=>g(b,y,ze.attachWorkDone(i,b),ze.attachPartialResult(i,b))),onImplementation:g=>i.onRequest(ue.ImplementationRequest.type,(b,y)=>g(b,y,ze.attachWorkDone(i,b),ze.attachPartialResult(i,b))),onReferences:g=>i.onRequest(ue.ReferencesRequest.type,(b,y)=>g(b,y,ze.attachWorkDone(i,b),ze.attachPartialResult(i,b))),onDocumentHighlight:g=>i.onRequest(ue.DocumentHighlightRequest.type,(b,y)=>g(b,y,ze.attachWorkDone(i,b),ze.attachPartialResult(i,b))),onDocumentSymbol:g=>i.onRequest(ue.DocumentSymbolRequest.type,(b,y)=>g(b,y,ze.attachWorkDone(i,b),ze.attachPartialResult(i,b))),onWorkspaceSymbol:g=>i.onRequest(ue.WorkspaceSymbolRequest.type,(b,y)=>g(b,y,ze.attachWorkDone(i,b),ze.attachPartialResult(i,b))),onCodeAction:g=>i.onRequest(ue.CodeActionRequest.type,(b,y)=>g(b,y,ze.attachWorkDone(i,b),ze.attachPartialResult(i,b))),onCodeActionResolve:g=>i.onRequest(ue.CodeActionResolveRequest.type,(b,y)=>g(b,y)),onCodeLens:g=>i.onRequest(ue.CodeLensRequest.type,(b,y)=>g(b,y,ze.attachWorkDone(i,b),ze.attachPartialResult(i,b))),onCodeLensResolve:g=>i.onRequest(ue.CodeLensResolveRequest.type,(b,y)=>g(b,y)),onDocumentFormatting:g=>i.onRequest(ue.DocumentFormattingRequest.type,(b,y)=>g(b,y,ze.attachWorkDone(i,b),void 0)),onDocumentRangeFormatting:g=>i.onRequest(ue.DocumentRangeFormattingRequest.type,(b,y)=>g(b,y,ze.attachWorkDone(i,b),void 0)),onDocumentOnTypeFormatting:g=>i.onRequest(ue.DocumentOnTypeFormattingRequest.type,(b,y)=>g(b,y)),onRenameRequest:g=>i.onRequest(ue.RenameRequest.type,(b,y)=>g(b,y,ze.attachWorkDone(i,b),void 0)),onPrepareRename:g=>i.onRequest(ue.PrepareRenameRequest.type,(b,y)=>g(b,y)),onDocumentLinks:g=>i.onRequest(ue.DocumentLinkRequest.type,(b,y)=>g(b,y,ze.attachWorkDone(i,b),ze.attachPartialResult(i,b))),onDocumentLinkResolve:g=>i.onRequest(ue.DocumentLinkResolveRequest.type,(b,y)=>g(b,y)),onDocumentColor:g=>i.onRequest(ue.DocumentColorRequest.type,(b,y)=>g(b,y,ze.attachWorkDone(i,b),ze.attachPartialResult(i,b))),onColorPresentation:g=>i.onRequest(ue.ColorPresentationRequest.type,(b,y)=>g(b,y,ze.attachWorkDone(i,b),ze.attachPartialResult(i,b))),onFoldingRanges:g=>i.onRequest(ue.FoldingRangeRequest.type,(b,y)=>g(b,y,ze.attachWorkDone(i,b),ze.attachPartialResult(i,b))),onSelectionRanges:g=>i.onRequest(ue.SelectionRangeRequest.type,(b,y)=>g(b,y,ze.attachWorkDone(i,b),ze.attachPartialResult(i,b))),onExecuteCommand:g=>i.onRequest(ue.ExecuteCommandRequest.type,(b,y)=>g(b,y,ze.attachWorkDone(i,b),void 0)),dispose:()=>i.dispose()};for(let g of f)g.attach(_);return i.onRequest(ue.InitializeRequest.type,g=>{e.initialize(g),$r.string(g.trace)&&(s.trace=ue.Trace.fromString(g.trace));for(let b of f)b.initialize(g.capabilities);if(p){let b=p(g,new ue.CancellationTokenSource().token,ze.attachWorkDone(i,g),void 0);return d(b).then(y=>{if(y instanceof ue.ResponseError)return y;let T=y;T||(T={capabilities:{}});let C=T.capabilities;C||(C={},T.capabilities=C),C.textDocumentSync===void 0||C.textDocumentSync===null?C.textDocumentSync=$r.number(_.__textDocumentSync)?_.__textDocumentSync:ue.TextDocumentSyncKind.None:!$r.number(C.textDocumentSync)&&!$r.number(C.textDocumentSync.change)&&(C.textDocumentSync.change=$r.number(_.__textDocumentSync)?_.__textDocumentSync:ue.TextDocumentSyncKind.None);for(let W of f)W.fillServerCapabilities(C);return T})}else{let b={capabilities:{textDocumentSync:ue.TextDocumentSyncKind.None}};for(let y of f)y.fillServerCapabilities(b.capabilities);return b}}),i.onRequest(ue.ShutdownRequest.type,()=>{if(e.shutdownReceived=!0,m)return m(new ue.CancellationTokenSource().token)}),i.onNotification(ue.ExitNotification.type,()=>{try{h&&h()}finally{e.shutdownReceived?e.exit(0):e.exit(1)}}),i.onNotification(ue.SetTraceNotification.type,g=>{s.trace=ue.Trace.fromString(g.value)}),_}pt.createConnection=W1});var sv=J(Jn=>{"use strict";Object.defineProperty(Jn,"__esModule",{value:!0});Jn.resolveModulePath=Jn.FileSystem=Jn.resolveGlobalYarnPath=Jn.resolveGlobalNodePath=Jn.resolve=Jn.uriToFilePath=void 0;var G1=require("url"),Ei=require("path"),Am=require("fs"),xm=require("child_process");function H1(t){let e=G1.parse(t);if(e.protocol!=="file:"||!e.path)return;let n=e.path.split("/");for(var r=0,i=n.length;r<i;r++)n[r]=decodeURIComponent(n[r]);if(process.platform==="win32"&&n.length>1){let s=n[0],a=n[1];s.length===0&&a.length>1&&a[1]===":"&&n.shift()}return Ei.normalize(n.join("/"))}Jn.uriToFilePath=H1;function Rm(){return process.platform==="win32"}function $c(t,e,n,r){let i="NODE_PATH",s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((a,o)=>{let l=process.env,u=Object.create(null);Object.keys(l).forEach(c=>u[c]=l[c]),e&&Am.existsSync(e)&&(u[i]?u[i]=e+Ei.delimiter+u[i]:u[i]=e,r&&r(`NODE_PATH value is: ${u[i]}`)),u.ELECTRON_RUN_AS_NODE="1";try{let c=xm.fork("",[],{cwd:n,env:u,execArgv:["-e",s]});if(c.pid===void 0){o(new Error(`Starting process to resolve node module  ${t} failed`));return}c.on("error",d=>{o(d)}),c.on("message",d=>{d.c==="r"&&(c.send({c:"e"}),d.s?a(d.r):o(new Error(`Failed to resolve module: ${t}`)))});let f={c:"rs",a:t};c.send(f)}catch(c){o(c)}})}Jn.resolve=$c;function wm(t){let e="npm",n=Object.create(null);Object.keys(process.env).forEach(s=>n[s]=process.env[s]),n.NO_UPDATE_NOTIFIER="true";let r={encoding:"utf8",env:n};Rm()&&(e="npm.cmd",r.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let s=xm.spawnSync(e,["config","get","prefix"],r).stdout;if(!s){t&&t("'npm config get prefix' didn't return a value.");return}let a=s.trim();return t&&t(`'npm config get prefix' value is: ${a}`),a.length>0?Rm()?Ei.join(a,"node_modules"):Ei.join(a,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}Jn.resolveGlobalNodePath=wm;function Y1(t){let e="yarn",n={encoding:"utf8"};Rm()&&(e="yarn.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let i=xm.spawnSync(e,["global","dir","--json"],n),s=i.stdout;if(!s){t&&(t("'yarn global dir' didn't return a value."),i.stderr&&t(i.stderr));return}let a=s.trim().split(/\r?\n/);for(let o of a)try{let l=JSON.parse(o);if(l.type==="log")return Ei.join(l.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",r)}}Jn.resolveGlobalYarnPath=Y1;var iv;(function(t){let e;function n(){return e!==void 0||(process.platform==="win32"?e=!1:e=!Am.existsSync(__filename.toUpperCase())||!Am.existsSync(__filename.toLowerCase())),e}t.isCaseSensitive=n;function r(i,s){return n()?Ei.normalize(s).indexOf(Ei.normalize(i))===0:Ei.normalize(s).toLowerCase().indexOf(Ei.normalize(i).toLowerCase())===0}t.isParent=r})(iv=Jn.FileSystem||(Jn.FileSystem={}));function $1(t,e,n,r){return n?(Ei.isAbsolute(n)||(n=Ei.join(t,n)),$c(e,n,n,r).then(i=>iv.isParent(n,i)?i:Promise.reject(new Error(`Failed to load ${e} from node path location.`))).then(void 0,i=>$c(e,wm(r),t,r))):$c(e,wm(r),t,r)}Jn.resolveModulePath=$1});var Om=J((R8,av)=>{"use strict";av.exports=Vn()});var lv=J(br=>{"use strict";var K1=br&&br.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),ov=br&&br.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&K1(e,t,n)};Object.defineProperty(br,"__esModule",{value:!0});br.ProposedFeatures=br.SemanticTokensBuilder=void 0;var z1=bm();Object.defineProperty(br,"SemanticTokensBuilder",{enumerable:!0,get:function(){return z1.SemanticTokensBuilder}});ov(Vn(),br);ov(Em(),br);var X1;(function(t){t.all={__brand:"features"}})(X1=br.ProposedFeatures||(br.ProposedFeatures={}))});var Cn=J(Tr=>{"use strict";var Q1=Tr&&Tr.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),uv=Tr&&Tr.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Q1(e,t,n)};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.createConnection=Tr.Files=void 0;var Fm=Dc(),J1=Em(),fu=sv(),Ca=Om();uv(Om(),Tr);uv(lv(),Tr);var Z1;(function(t){t.uriToFilePath=fu.uriToFilePath,t.resolveGlobalNodePath=fu.resolveGlobalNodePath,t.resolveGlobalYarnPath=fu.resolveGlobalYarnPath,t.resolve=fu.resolve,t.resolveModulePath=fu.resolveModulePath})(Z1=Tr.Files||(Tr.Files={}));var cv;function Kc(){if(cv!==void 0)try{cv.end()}catch{}}var Eo=!1,fv;function eO(){let t="--clientProcessId";function e(n){try{let r=parseInt(n);isNaN(r)||(fv=setInterval(()=>{try{process.kill(r,0)}catch{Kc(),process.exit(Eo?0:1)}},3e3))}catch{}}for(let n=2;n<process.argv.length;n++){let r=process.argv[n];if(r===t&&n+1<process.argv.length){e(process.argv[n+1]);return}else{let i=r.split("=");i[0]===t&&e(i[1])}}}eO();var tO={initialize:t=>{let e=t.processId;Fm.number(e)&&fv===void 0&&setInterval(()=>{try{process.kill(e,0)}catch{process.exit(Eo?0:1)}},3e3)},get shutdownReceived(){return Eo},set shutdownReceived(t){Eo=t},exit:t=>{Kc(),process.exit(t)}};function nO(t,e,n,r){let i,s,a,o;return t!==void 0&&t.__brand==="features"&&(i=t,t=e,e=n,n=r),Ca.ConnectionStrategy.is(t)||Ca.ConnectionOptions.is(t)?o=t:(s=t,a=e,o=n),rO(s,a,o,i)}Tr.createConnection=nO;function rO(t,e,n,r){if(!t&&!e&&process.argv.length>2){let o,l,u=process.argv.slice(2);for(let c=0;c<u.length;c++){let f=u[c];if(f==="--node-ipc"){t=new Ca.IPCMessageReader(process),e=new Ca.IPCMessageWriter(process);break}else if(f==="--stdio"){t=process.stdin,e=process.stdout;break}else if(f==="--socket"){o=parseInt(u[c+1]);break}else if(f==="--pipe"){l=u[c+1];break}else{var i=f.split("=");if(i[0]==="--socket"){o=parseInt(i[1]);break}else if(i[0]==="--pipe"){l=i[1];break}}}if(o){let c=Ca.createServerSocketTransport(o);t=c[0],e=c[1]}else if(l){let c=Ca.createServerPipeTransport(l);t=c[0],e=c[1]}}var s="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!t)throw new Error("Connection input stream is not set. "+s);if(!e)throw new Error("Connection output stream is not set. "+s);if(Fm.func(t.read)&&Fm.func(t.on)){let o=t;o.on("end",()=>{Kc(),process.exit(Eo?0:1)}),o.on("close",()=>{Kc(),process.exit(Eo?0:1)})}let a=o=>Ca.createProtocolConnection(t,e,o,n);return J1.createConnection(a,tO,r)}});var $s=J(lr=>{"use strict";var _s={ANCHOR:"&",COMMENT:"#",TAG:"!",DIRECTIVES_END:"-",DOCUMENT_END:"."},Du={ALIAS:"ALIAS",BLANK_LINE:"BLANK_LINE",BLOCK_FOLDED:"BLOCK_FOLDED",BLOCK_LITERAL:"BLOCK_LITERAL",COMMENT:"COMMENT",DIRECTIVE:"DIRECTIVE",DOCUMENT:"DOCUMENT",FLOW_MAP:"FLOW_MAP",FLOW_SEQ:"FLOW_SEQ",MAP:"MAP",MAP_KEY:"MAP_KEY",MAP_VALUE:"MAP_VALUE",PLAIN:"PLAIN",QUOTE_DOUBLE:"QUOTE_DOUBLE",QUOTE_SINGLE:"QUOTE_SINGLE",SEQ:"SEQ",SEQ_ITEM:"SEQ_ITEM"},EL="tag:yaml.org,2002:",AL={MAP:"tag:yaml.org,2002:map",SEQ:"tag:yaml.org,2002:seq",STR:"tag:yaml.org,2002:str"};function sC(t){let e=[0],n=t.indexOf(`
`);for(;n!==-1;)n+=1,e.push(n),n=t.indexOf(`
`,n);return e}function aC(t){let e,n;return typeof t=="string"?(e=sC(t),n=t):(Array.isArray(t)&&(t=t[0]),t&&t.context&&(t.lineStarts||(t.lineStarts=sC(t.context.src)),e=t.lineStarts,n=t.context.src)),{lineStarts:e,src:n}}function qh(t,e){if(typeof t!="number"||t<0)return null;let{lineStarts:n,src:r}=aC(e);if(!n||!r||t>r.length)return null;for(let s=0;s<n.length;++s){let a=n[s];if(t<a)return{line:s,col:t-n[s-1]+1};if(t===a)return{line:s+1,col:1}}let i=n.length;return{line:i,col:t-n[i-1]+1}}function xL(t,e){let{lineStarts:n,src:r}=aC(e);if(!n||!(t>=1)||t>n.length)return null;let i=n[t-1],s=n[t];for(;s&&s>i&&r[s-1]===`
`;)--s;return r.slice(i,s)}function RL({start:t,end:e},n,r=80){let i=xL(t.line,n);if(!i)return null;let{col:s}=t;if(i.length>r)if(s<=r-10)i=i.substr(0,r-1)+"\u2026";else{let c=Math.round(r/2);i.length>s+c&&(i=i.substr(0,s+c-1)+"\u2026"),s-=i.length-r,i="\u2026"+i.substr(1-r)}let a=1,o="";e&&(e.line===t.line&&s+(e.col-t.col)<=r+1?a=e.col-t.col:(a=Math.min(i.length+1,r)-s,o="\u2026"));let l=s>1?" ".repeat(s-1):"",u="^".repeat(a);return`${i}
${l}${u}${o}`}var Ma=class{static copy(e){return new Ma(e.start,e.end)}constructor(e,n){this.start=e,this.end=n||e}isEmpty(){return typeof this.start!="number"||!this.end||this.end<=this.start}setOrigRange(e,n){let{start:r,end:i}=this;if(e.length===0||i<=e[0])return this.origStart=r,this.origEnd=i,n;let s=n;for(;s<e.length&&!(e[s]>r);)++s;this.origStart=r+s;let a=s;for(;s<e.length&&!(e[s]>=i);)++s;return this.origEnd=i+s,a}},Ln=class{static addStringTerminator(e,n,r){if(r[r.length-1]===`
`)return r;let i=Ln.endOfWhiteSpace(e,n);return i>=e.length||e[i]===`
`?r+`
`:r}static atDocumentBoundary(e,n,r){let i=e[n];if(!i)return!0;let s=e[n-1];if(s&&s!==`
`)return!1;if(r){if(i!==r)return!1}else if(i!==_s.DIRECTIVES_END&&i!==_s.DOCUMENT_END)return!1;let a=e[n+1],o=e[n+2];if(a!==i||o!==i)return!1;let l=e[n+3];return!l||l===`
`||l==="	"||l===" "}static endOfIdentifier(e,n){let r=e[n],i=r==="<",s=i?[`
`,"	"," ",">"]:[`
`,"	"," ","[","]","{","}",","];for(;r&&s.indexOf(r)===-1;)r=e[n+=1];return i&&r===">"&&(n+=1),n}static endOfIndent(e,n){let r=e[n];for(;r===" ";)r=e[n+=1];return n}static endOfLine(e,n){let r=e[n];for(;r&&r!==`
`;)r=e[n+=1];return n}static endOfWhiteSpace(e,n){let r=e[n];for(;r==="	"||r===" ";)r=e[n+=1];return n}static startOfLine(e,n){let r=e[n-1];if(r===`
`)return n;for(;r&&r!==`
`;)r=e[n-=1];return n+1}static endOfBlockIndent(e,n,r){let i=Ln.endOfIndent(e,r);if(i>r+n)return i;{let s=Ln.endOfWhiteSpace(e,i),a=e[s];if(!a||a===`
`)return s}return null}static atBlank(e,n,r){let i=e[n];return i===`
`||i==="	"||i===" "||r&&!i}static nextNodeIsIndented(e,n,r){return!e||n<0?!1:n>0?!0:r&&e==="-"}static normalizeOffset(e,n){let r=e[n];return r?r!==`
`&&e[n-1]===`
`?n-1:Ln.endOfWhiteSpace(e,n):n}static foldNewline(e,n,r){let i=0,s=!1,a="",o=e[n+1];for(;o===" "||o==="	"||o===`
`;){switch(o){case`
`:i=0,n+=1,a+=`
`;break;case"	":i<=r&&(s=!0),n=Ln.endOfWhiteSpace(e,n+2)-1;break;case" ":i+=1,n+=1;break}o=e[n+1]}return a||(a=" "),o&&i<=r&&(s=!0),{fold:a,offset:n,error:s}}constructor(e,n,r){Object.defineProperty(this,"context",{value:r||null,writable:!0}),this.error=null,this.range=null,this.valueRange=null,this.props=n||[],this.type=e,this.value=null}getPropValue(e,n,r){if(!this.context)return null;let{src:i}=this.context,s=this.props[e];return s&&i[s.start]===n?i.slice(s.start+(r?1:0),s.end):null}get anchor(){for(let e=0;e<this.props.length;++e){let n=this.getPropValue(e,_s.ANCHOR,!0);if(n!=null)return n}return null}get comment(){let e=[];for(let n=0;n<this.props.length;++n){let r=this.getPropValue(n,_s.COMMENT,!0);r!=null&&e.push(r)}return e.length>0?e.join(`
`):null}commentHasRequiredWhitespace(e){let{src:n}=this.context;if(this.header&&e===this.header.end||!this.valueRange)return!1;let{end:r}=this.valueRange;return e!==r||Ln.atBlank(n,r-1)}get hasComment(){if(this.context){let{src:e}=this.context;for(let n=0;n<this.props.length;++n)if(e[this.props[n].start]===_s.COMMENT)return!0}return!1}get hasProps(){if(this.context){let{src:e}=this.context;for(let n=0;n<this.props.length;++n)if(e[this.props[n].start]!==_s.COMMENT)return!0}return!1}get includesTrailingLines(){return!1}get jsonLike(){return[Du.FLOW_MAP,Du.FLOW_SEQ,Du.QUOTE_DOUBLE,Du.QUOTE_SINGLE].indexOf(this.type)!==-1}get rangeAsLinePos(){if(!this.range||!this.context)return;let e=qh(this.range.start,this.context.root);if(!e)return;let n=qh(this.range.end,this.context.root);return{start:e,end:n}}get rawValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange;return this.context.src.slice(e,n)}get tag(){for(let e=0;e<this.props.length;++e){let n=this.getPropValue(e,_s.TAG,!1);if(n!=null){if(n[1]==="<")return{verbatim:n.slice(2,-1)};{let[r,i,s]=n.match(/^(.*!)([^!]*)$/);return{handle:i,suffix:s}}}}return null}get valueRangeContainsNewline(){if(!this.valueRange||!this.context)return!1;let{start:e,end:n}=this.valueRange,{src:r}=this.context;for(let i=e;i<n;++i)if(r[i]===`
`)return!0;return!1}parseComment(e){let{src:n}=this.context;if(n[e]===_s.COMMENT){let r=Ln.endOfLine(n,e+1),i=new Ma(e,r);return this.props.push(i),r}return e}setOrigRanges(e,n){return this.range&&(n=this.range.setOrigRange(e,n)),this.valueRange&&this.valueRange.setOrigRange(e,n),this.props.forEach(r=>r.setOrigRange(e,n)),n}toString(){let{context:{src:e},range:n,value:r}=this;if(r!=null)return r;let i=e.slice(n.start,n.end);return Ln.addStringTerminator(e,n.end,i)}},ll=class extends Error{constructor(e,n,r){if(!r||!(n instanceof Ln))throw new Error(`Invalid arguments for new ${e}`);super();this.name=e,this.message=r,this.source=n}makePretty(){if(!this.source)return;this.nodeType=this.source.type;let e=this.source.context&&this.source.context.root;if(typeof this.offset=="number"){this.range=new Ma(this.offset,this.offset+1);let n=e&&qh(this.offset,e);if(n){let r={line:n.line,col:n.col+1};this.linePos={start:n,end:r}}delete this.offset}else this.range=this.source.range,this.linePos=this.source.rangeAsLinePos;if(this.linePos){let{line:n,col:r}=this.linePos.start;this.message+=` at line ${n}, column ${r}`;let i=e&&RL(this.linePos,e);i&&(this.message+=`:

${i}
`)}delete this.source}},oC=class extends ll{constructor(e,n){super("YAMLReferenceError",e,n)}},$f=class extends ll{constructor(e,n){super("YAMLSemanticError",e,n)}},lC=class extends ll{constructor(e,n){super("YAMLSyntaxError",e,n)}},uC=class extends ll{constructor(e,n){super("YAMLWarning",e,n)}};function wL(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Su=class extends Ln{static endOfLine(e,n,r){let i=e[n],s=n;for(;i&&i!==`
`&&!(r&&(i==="["||i==="]"||i==="{"||i==="}"||i===","));){let a=e[s+1];if(i===":"&&(!a||a===`
`||a==="	"||a===" "||r&&a===",")||(i===" "||i==="	")&&a==="#")break;s+=1,i=a}return s}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange,{src:r}=this.context,i=r[n-1];for(;e<n&&(i===`
`||i==="	"||i===" ");)i=r[--n-1];let s="";for(let o=e;o<n;++o){let l=r[o];if(l===`
`){let{fold:u,offset:c}=Ln.foldNewline(r,o,-1);s+=u,o=c}else if(l===" "||l==="	"){let u=o,c=r[o+1];for(;o<n&&(c===" "||c==="	");)o+=1,c=r[o+1];c!==`
`&&(s+=o>u?r.slice(u,o+1):l)}else s+=l}let a=r[e];switch(a){case"	":{let o="Plain value cannot start with a tab character";return{errors:[new $f(this,o)],str:s}}case"@":case"`":{let o=`Plain value cannot start with reserved character ${a}`;return{errors:[new $f(this,o)],str:s}}default:return s}}parseBlockValue(e){let{indent:n,inFlow:r,src:i}=this.context,s=e,a=e;for(let o=i[s];o===`
`&&!Ln.atDocumentBoundary(i,s+1);o=i[s]){let l=Ln.endOfBlockIndent(i,n,s+1);if(l===null||i[l]==="#")break;i[l]===`
`?s=l:(a=Su.endOfLine(i,l,r),s=a)}return this.valueRange.isEmpty()&&(this.valueRange.start=e),this.valueRange.end=a,a}parse(e,n){this.context=e;let{inFlow:r,src:i}=e,s=n,a=i[s];return a&&a!=="#"&&a!==`
`&&(s=Su.endOfLine(i,n,r)),this.valueRange=new Ma(n,s),s=Ln.endOfWhiteSpace(i,s),s=this.parseComment(s),(!this.hasComment||this.valueRange.isEmpty())&&(s=this.parseBlockValue(s)),s}};lr.Char=_s;lr.Node=Ln;lr.PlainValue=Su;lr.Range=Ma;lr.Type=Du;lr.YAMLError=ll;lr.YAMLReferenceError=oC;lr.YAMLSemanticError=$f;lr.YAMLSyntaxError=lC;lr.YAMLWarning=uC;lr._defineProperty=wL;lr.defaultTagPrefix=EL;lr.defaultTags=AL});var hC=J(mC=>{"use strict";var q=$s(),ul=class extends q.Node{constructor(){super(q.Type.BLANK_LINE)}get includesTrailingLines(){return!0}parse(e,n){return this.context=e,this.range=new q.Range(n,n+1),n+1}},Kf=class extends q.Node{constructor(e,n){super(e,n);this.node=null}get includesTrailingLines(){return!!this.node&&this.node.includesTrailingLines}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,{atLineStart:s,lineStart:a}=e;!s&&this.type===q.Type.SEQ_ITEM&&(this.error=new q.YAMLSemanticError(this,"Sequence items must not have preceding content on the same line"));let o=s?n-a:e.indent,l=q.Node.endOfWhiteSpace(i,n+1),u=i[l],c=u==="#",f=[],d=null;for(;u===`
`||u==="#";){if(u==="#"){let p=q.Node.endOfLine(i,l+1);f.push(new q.Range(l,p)),l=p}else{s=!0,a=l+1;let p=q.Node.endOfWhiteSpace(i,a);i[p]===`
`&&f.length===0&&(d=new ul,a=d.parse({src:i},a)),l=q.Node.endOfIndent(i,a)}u=i[l]}if(q.Node.nextNodeIsIndented(u,l-(a+o),this.type!==q.Type.SEQ_ITEM)?this.node=r({atLineStart:s,inCollection:!1,indent:o,lineStart:a,parent:this},l):u&&a>n+1&&(l=a-1),this.node){if(d){let p=e.parent.items||e.parent.contents;p&&p.push(d)}f.length&&Array.prototype.push.apply(this.props,f),l=this.node.range.end}else if(c){let p=f[0];this.props.push(p),l=p.end}else l=q.Node.endOfLine(i,n+1);let m=this.node?this.node.valueRange.end:l;return this.valueRange=new q.Range(n,m),l}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.node?this.node.setOrigRanges(e,n):n}toString(){let{context:{src:e},node:n,range:r,value:i}=this;if(i!=null)return i;let s=n?e.slice(r.start,n.range.start)+String(n):e.slice(r.start,r.end);return q.Node.addStringTerminator(e,r.end,s)}},cl=class extends q.Node{constructor(){super(q.Type.COMMENT)}parse(e,n){this.context=e;let r=this.parseComment(n);return this.range=new q.Range(n,r),r}};function Vh(t){let e=t;for(;e instanceof Kf;)e=e.node;if(!(e instanceof fl))return null;let n=e.items.length,r=-1;for(let a=n-1;a>=0;--a){let o=e.items[a];if(o.type===q.Type.COMMENT){let{indent:l,lineStart:u}=o.context;if(l>0&&o.range.start>=u+l)break;r=a}else if(o.type===q.Type.BLANK_LINE)r=a;else break}if(r===-1)return null;let i=e.items.splice(r,n-r),s=i[0].range.start;for(;e.range.end=s,e.valueRange&&e.valueRange.end>s&&(e.valueRange.end=s),e!==t;)e=e.context.parent;return i}var fl=class extends q.Node{static nextContentHasIndent(e,n,r){let i=q.Node.endOfLine(e,n)+1;n=q.Node.endOfWhiteSpace(e,i);let s=e[n];return s?n>=i+r?!0:s!=="#"&&s!==`
`?!1:fl.nextContentHasIndent(e,n,r):!1}constructor(e){super(e.type===q.Type.SEQ_ITEM?q.Type.SEQ:q.Type.MAP);for(let r=e.props.length-1;r>=0;--r)if(e.props[r].start<e.context.lineStart){this.props=e.props.slice(0,r+1),e.props=e.props.slice(r+1);let i=e.props[0]||e.valueRange;e.range.start=i.start;break}this.items=[e];let n=Vh(e);n&&Array.prototype.push.apply(this.items,n)}get includesTrailingLines(){return this.items.length>0}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,s=q.Node.startOfLine(i,n),a=this.items[0];a.context.parent=this,this.valueRange=q.Range.copy(a.valueRange);let o=a.range.start-a.context.lineStart,l=n;l=q.Node.normalizeOffset(i,l);let u=i[l],c=q.Node.endOfWhiteSpace(i,s)===l,f=!1;for(;u;){for(;u===`
`||u==="#";){if(c&&u===`
`&&!f){let p=new ul;if(l=p.parse({src:i},l),this.valueRange.end=l,l>=i.length){u=null;break}this.items.push(p),l-=1}else if(u==="#"){if(l<s+o&&!fl.nextContentHasIndent(i,l,o))return l;let p=new cl;if(l=p.parse({indent:o,lineStart:s,src:i},l),this.items.push(p),this.valueRange.end=l,l>=i.length){u=null;break}}if(s=l+1,l=q.Node.endOfIndent(i,s),q.Node.atBlank(i,l)){let p=q.Node.endOfWhiteSpace(i,l),h=i[p];(!h||h===`
`||h==="#")&&(l=p)}u=i[l],c=!0}if(!u)break;if(l!==s+o&&(c||u!==":")){if(l<s+o){s>n&&(l=s);break}else if(!this.error){let p="All collection items must start at the same column";this.error=new q.YAMLSyntaxError(this,p)}}if(a.type===q.Type.SEQ_ITEM){if(u!=="-"){s>n&&(l=s);break}}else if(u==="-"&&!this.error){let p=i[l+1];if(!p||p===`
`||p==="	"||p===" "){let h="A collection cannot be both a mapping and a sequence";this.error=new q.YAMLSyntaxError(this,h)}}let d=r({atLineStart:c,inCollection:!0,indent:o,lineStart:s,parent:this},l);if(!d)return l;if(this.items.push(d),this.valueRange.end=d.valueRange.end,l=q.Node.normalizeOffset(i,d.range.end),u=i[l],c=!1,f=d.includesTrailingLines,u){let p=l-1,h=i[p];for(;h===" "||h==="	";)h=i[--p];h===`
`&&(s=p+1,c=!0)}let m=Vh(d);m&&Array.prototype.push.apply(this.items,m)}return l}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.items.forEach(r=>{n=r.setOrigRanges(e,n)}),n}toString(){let{context:{src:e},items:n,range:r,value:i}=this;if(i!=null)return i;let s=e.slice(r.start,n[0].range.start)+String(n[0]);for(let a=1;a<n.length;++a){let o=n[a],{atLineStart:l,indent:u}=o.context;if(l)for(let c=0;c<u;++c)s+=" ";s+=String(o)}return q.Node.addStringTerminator(e,r.end,s)}},cC=class extends q.Node{constructor(){super(q.Type.DIRECTIVE);this.name=null}get parameters(){let e=this.rawValue;return e?e.trim().split(/[ \t]+/):[]}parseName(e){let{src:n}=this.context,r=e,i=n[r];for(;i&&i!==`
`&&i!=="	"&&i!==" ";)i=n[r+=1];return this.name=n.slice(e,r),r}parseParameters(e){let{src:n}=this.context,r=e,i=n[r];for(;i&&i!==`
`&&i!=="#";)i=n[r+=1];return this.valueRange=new q.Range(e,r),r}parse(e,n){this.context=e;let r=this.parseName(n+1);return r=this.parseParameters(r),r=this.parseComment(r),this.range=new q.Range(n,r),r}},Iu=class extends q.Node{static startCommentOrEndBlankLine(e,n){let r=q.Node.endOfWhiteSpace(e,n),i=e[r];return i==="#"||i===`
`?r:n}constructor(){super(q.Type.DOCUMENT);this.directives=null,this.contents=null,this.directivesEndMarker=null,this.documentEndMarker=null}parseDirectives(e){let{src:n}=this.context;this.directives=[];let r=!0,i=!1,s=e;for(;!q.Node.atDocumentBoundary(n,s,q.Char.DIRECTIVES_END);)switch(s=Iu.startCommentOrEndBlankLine(n,s),n[s]){case`
`:if(r){let a=new ul;s=a.parse({src:n},s),s<n.length&&this.directives.push(a)}else s+=1,r=!0;break;case"#":{let a=new cl;s=a.parse({src:n},s),this.directives.push(a),r=!1}break;case"%":{let a=new cC;s=a.parse({parent:this,src:n},s),this.directives.push(a),i=!0,r=!1}break;default:return i?this.error=new q.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s}return n[s]?(this.directivesEndMarker=new q.Range(s,s+3),s+3):(i?this.error=new q.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s)}parseContents(e){let{parseNode:n,src:r}=this.context;this.contents||(this.contents=[]);let i=e;for(;r[i-1]==="-";)i-=1;let s=q.Node.endOfWhiteSpace(r,e),a=i===e;for(this.valueRange=new q.Range(s);!q.Node.atDocumentBoundary(r,s,q.Char.DOCUMENT_END);){switch(r[s]){case`
`:if(a){let o=new ul;s=o.parse({src:r},s),s<r.length&&this.contents.push(o)}else s+=1,a=!0;i=s;break;case"#":{let o=new cl;s=o.parse({src:r},s),this.contents.push(o),a=!1}break;default:{let o=q.Node.endOfIndent(r,s),u=n({atLineStart:a,indent:-1,inFlow:!1,inCollection:!1,lineStart:i,parent:this},o);if(!u)return this.valueRange.end=o;this.contents.push(u),s=u.range.end,a=!1;let c=Vh(u);c&&Array.prototype.push.apply(this.contents,c)}}s=Iu.startCommentOrEndBlankLine(r,s)}if(this.valueRange.end=s,r[s]&&(this.documentEndMarker=new q.Range(s,s+3),s+=3,r[s])){if(s=q.Node.endOfWhiteSpace(r,s),r[s]==="#"){let o=new cl;s=o.parse({src:r},s),this.contents.push(o)}switch(r[s]){case`
`:s+=1;break;case void 0:break;default:this.error=new q.YAMLSyntaxError(this,"Document end marker line cannot have a non-comment suffix")}}return s}parse(e,n){e.root=this,this.context=e;let{src:r}=e,i=r.charCodeAt(n)===65279?n+1:n;return i=this.parseDirectives(i),i=this.parseContents(i),i}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.directives.forEach(r=>{n=r.setOrigRanges(e,n)}),this.directivesEndMarker&&(n=this.directivesEndMarker.setOrigRange(e,n)),this.contents.forEach(r=>{n=r.setOrigRanges(e,n)}),this.documentEndMarker&&(n=this.documentEndMarker.setOrigRange(e,n)),n}toString(){let{contents:e,directives:n,value:r}=this;if(r!=null)return r;let i=n.join("");return e.length>0&&((n.length>0||e[0].type===q.Type.COMMENT)&&(i+=`---
`),i+=e.join("")),i[i.length-1]!==`
`&&(i+=`
`),i}},fC=class extends q.Node{parse(e,n){this.context=e;let{src:r}=e,i=q.Node.endOfIdentifier(r,n+1);return this.valueRange=new q.Range(n+1,i),i=q.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i}},Ks={CLIP:"CLIP",KEEP:"KEEP",STRIP:"STRIP"},pC=class extends q.Node{constructor(e,n){super(e,n);this.blockIndent=null,this.chomping=Ks.CLIP,this.header=null}get includesTrailingLines(){return this.chomping===Ks.KEEP}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange,{indent:r,src:i}=this.context;if(this.valueRange.isEmpty())return"";let s=null,a=i[n-1];for(;a===`
`||a==="	"||a===" ";){if(n-=1,n<=e){if(this.chomping===Ks.KEEP)break;return""}a===`
`&&(s=n),a=i[n-1]}let o=n+1;s&&(this.chomping===Ks.KEEP?(o=s,n=this.valueRange.end):n=s);let l=r+this.blockIndent,u=this.type===q.Type.BLOCK_FOLDED,c=!0,f="",d="",m=!1;for(let p=e;p<n;++p){for(let _=0;_<l&&i[p]===" ";++_)p+=1;let h=i[p];if(h===`
`)d===`
`?f+=`
`:d=`
`;else{let _=q.Node.endOfLine(i,p),g=i.slice(p,_);p=_,u&&(h===" "||h==="	")&&p<o?(d===" "?d=`
`:!m&&!c&&d===`
`&&(d=`

`),f+=d+g,d=_<n&&i[_]||"",m=!0):(f+=d+g,d=u&&p<o?" ":`
`,m=!1),c&&g!==""&&(c=!1)}}return this.chomping===Ks.STRIP?f:f+`
`}parseBlockHeader(e){let{src:n}=this.context,r=e+1,i="";for(;;){let s=n[r];switch(s){case"-":this.chomping=Ks.STRIP;break;case"+":this.chomping=Ks.KEEP;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":i+=s;break;default:return this.blockIndent=Number(i)||null,this.header=new q.Range(e,r),r}r+=1}}parseBlockValue(e){let{indent:n,src:r}=this.context,i=!!this.blockIndent,s=e,a=e,o=1;for(let l=r[s];l===`
`&&(s+=1,!q.Node.atDocumentBoundary(r,s));l=r[s]){let u=q.Node.endOfBlockIndent(r,n,s);if(u===null)break;let c=r[u],f=u-(s+n);if(this.blockIndent){if(c&&c!==`
`&&f<this.blockIndent){if(r[u]==="#")break;if(!this.error){let m=`Block scalars must not be less indented than their ${i?"explicit indentation indicator":"first line"}`;this.error=new q.YAMLSemanticError(this,m)}}}else if(r[u]!==`
`){if(f<o){let d="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";this.error=new q.YAMLSemanticError(this,d)}this.blockIndent=f}else f>o&&(o=f);r[u]===`
`?s=u:s=a=q.Node.endOfLine(r,u)}return this.chomping!==Ks.KEEP&&(s=r[a]?a+1:a),this.valueRange=new q.Range(e+1,s),s}parse(e,n){this.context=e;let{src:r}=e,i=this.parseBlockHeader(n);return i=q.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i=this.parseBlockValue(i),i}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.header?this.header.setOrigRange(e,n):n}},dC=class extends q.Node{constructor(e,n){super(e,n);this.items=null}prevNodeIsJsonLike(e=this.items.length){let n=this.items[e-1];return!!n&&(n.jsonLike||n.type===q.Type.COMMENT&&this.prevNodeIsJsonLike(e-1))}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,{indent:s,lineStart:a}=e,o=i[n];this.items=[{char:o,offset:n}];let l=q.Node.endOfWhiteSpace(i,n+1);for(o=i[l];o&&o!=="]"&&o!=="}";){switch(o){case`
`:{a=l+1;let u=q.Node.endOfWhiteSpace(i,a);if(i[u]===`
`){let c=new ul;a=c.parse({src:i},a),this.items.push(c)}if(l=q.Node.endOfIndent(i,a),l<=a+s&&(o=i[l],l<a+s||o!=="]"&&o!=="}")){let c="Insufficient indentation in flow collection";this.error=new q.YAMLSemanticError(this,c)}}break;case",":this.items.push({char:o,offset:l}),l+=1;break;case"#":{let u=new cl;l=u.parse({src:i},l),this.items.push(u)}break;case"?":case":":{let u=i[l+1];if(u===`
`||u==="	"||u===" "||u===","||o===":"&&this.prevNodeIsJsonLike()){this.items.push({char:o,offset:l}),l+=1;break}}default:{let u=r({atLineStart:!1,inCollection:!1,inFlow:!0,indent:-1,lineStart:a,parent:this},l);if(!u)return this.valueRange=new q.Range(n,l),l;this.items.push(u),l=q.Node.normalizeOffset(i,u.range.end)}}l=q.Node.endOfWhiteSpace(i,l),o=i[l]}return this.valueRange=new q.Range(n,l+1),o&&(this.items.push({char:o,offset:l}),l=q.Node.endOfWhiteSpace(i,l+1),l=this.parseComment(l)),l}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.items.forEach(r=>{if(r instanceof q.Node)n=r.setOrigRanges(e,n);else if(e.length===0)r.origOffset=r.offset;else{let i=n;for(;i<e.length&&!(e[i]>r.offset);)++i;r.origOffset=r.offset+i,n=i}}),n}toString(){let{context:{src:e},items:n,range:r,value:i}=this;if(i!=null)return i;let s=n.filter(l=>l instanceof q.Node),a="",o=r.start;return s.forEach(l=>{let u=e.slice(o,l.range.start);o=l.range.end,a+=u+String(l),a[a.length-1]===`
`&&e[o-1]!==`
`&&e[o]===`
`&&(o+=1)}),a+=e.slice(o,r.end),q.Node.addStringTerminator(e,r.end,a)}},zf=class extends q.Node{static endOfQuote(e,n){let r=e[n];for(;r&&r!=='"';)n+=r==="\\"?2:1,r=e[n];return n+1}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:n,end:r}=this.valueRange,{indent:i,src:s}=this.context;s[r-1]!=='"'&&e.push(new q.YAMLSyntaxError(this,'Missing closing "quote'));let a="";for(let o=n+1;o<r-1;++o){let l=s[o];if(l===`
`){q.Node.atDocumentBoundary(s,o+1)&&e.push(new q.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:u,offset:c,error:f}=q.Node.foldNewline(s,o,i);a+=u,o=c,f&&e.push(new q.YAMLSemanticError(this,"Multi-line double-quoted string needs to be sufficiently indented"))}else if(l==="\\")switch(o+=1,s[o]){case"0":a+="\0";break;case"a":a+="\x07";break;case"b":a+="\b";break;case"e":a+="\x1B";break;case"f":a+="\f";break;case"n":a+=`
`;break;case"r":a+="\r";break;case"t":a+="	";break;case"v":a+="\v";break;case"N":a+="\x85";break;case"_":a+="\xA0";break;case"L":a+="\u2028";break;case"P":a+="\u2029";break;case" ":a+=" ";break;case'"':a+='"';break;case"/":a+="/";break;case"\\":a+="\\";break;case"	":a+="	";break;case"x":a+=this.parseCharCode(o+1,2,e),o+=2;break;case"u":a+=this.parseCharCode(o+1,4,e),o+=4;break;case"U":a+=this.parseCharCode(o+1,8,e),o+=8;break;case`
`:for(;s[o+1]===" "||s[o+1]==="	";)o+=1;break;default:e.push(new q.YAMLSyntaxError(this,`Invalid escape sequence ${s.substr(o-1,2)}`)),a+="\\"+s[o]}else if(l===" "||l==="	"){let u=o,c=s[o+1];for(;c===" "||c==="	";)o+=1,c=s[o+1];c!==`
`&&(a+=o>u?s.slice(u,o+1):l)}else a+=l}return e.length>0?{errors:e,str:a}:a}parseCharCode(e,n,r){let{src:i}=this.context,s=i.substr(e,n),o=s.length===n&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;return isNaN(o)?(r.push(new q.YAMLSyntaxError(this,`Invalid escape sequence ${i.substr(e-2,n+2)}`)),i.substr(e-2,n+2)):String.fromCodePoint(o)}parse(e,n){this.context=e;let{src:r}=e,i=zf.endOfQuote(r,n+1);return this.valueRange=new q.Range(n,i),i=q.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i}},Xf=class extends q.Node{static endOfQuote(e,n){let r=e[n];for(;r;)if(r==="'"){if(e[n+1]!=="'")break;r=e[n+=2]}else r=e[n+=1];return n+1}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:n,end:r}=this.valueRange,{indent:i,src:s}=this.context;s[r-1]!=="'"&&e.push(new q.YAMLSyntaxError(this,"Missing closing 'quote"));let a="";for(let o=n+1;o<r-1;++o){let l=s[o];if(l===`
`){q.Node.atDocumentBoundary(s,o+1)&&e.push(new q.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:u,offset:c,error:f}=q.Node.foldNewline(s,o,i);a+=u,o=c,f&&e.push(new q.YAMLSemanticError(this,"Multi-line single-quoted string needs to be sufficiently indented"))}else if(l==="'")a+=l,o+=1,s[o]!=="'"&&e.push(new q.YAMLSyntaxError(this,"Unescaped single quote? This should not happen."));else if(l===" "||l==="	"){let u=o,c=s[o+1];for(;c===" "||c==="	";)o+=1,c=s[o+1];c!==`
`&&(a+=o>u?s.slice(u,o+1):l)}else a+=l}return e.length>0?{errors:e,str:a}:a}parse(e,n){this.context=e;let{src:r}=e,i=Xf.endOfQuote(r,n+1);return this.valueRange=new q.Range(n,i),i=q.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i}};function OL(t,e){switch(t){case q.Type.ALIAS:return new fC(t,e);case q.Type.BLOCK_FOLDED:case q.Type.BLOCK_LITERAL:return new pC(t,e);case q.Type.FLOW_MAP:case q.Type.FLOW_SEQ:return new dC(t,e);case q.Type.MAP_KEY:case q.Type.MAP_VALUE:case q.Type.SEQ_ITEM:return new Kf(t,e);case q.Type.COMMENT:case q.Type.PLAIN:return new q.PlainValue(t,e);case q.Type.QUOTE_DOUBLE:return new zf(t,e);case q.Type.QUOTE_SINGLE:return new Xf(t,e);default:return null}}var pl=class{static parseType(e,n,r){switch(e[n]){case"*":return q.Type.ALIAS;case">":return q.Type.BLOCK_FOLDED;case"|":return q.Type.BLOCK_LITERAL;case"{":return q.Type.FLOW_MAP;case"[":return q.Type.FLOW_SEQ;case"?":return!r&&q.Node.atBlank(e,n+1,!0)?q.Type.MAP_KEY:q.Type.PLAIN;case":":return!r&&q.Node.atBlank(e,n+1,!0)?q.Type.MAP_VALUE:q.Type.PLAIN;case"-":return!r&&q.Node.atBlank(e,n+1,!0)?q.Type.SEQ_ITEM:q.Type.PLAIN;case'"':return q.Type.QUOTE_DOUBLE;case"'":return q.Type.QUOTE_SINGLE;default:return q.Type.PLAIN}}constructor(e={},{atLineStart:n,inCollection:r,inFlow:i,indent:s,lineStart:a,parent:o}={}){q._defineProperty(this,"parseNode",(l,u)=>{if(q.Node.atDocumentBoundary(this.src,u))return null;let c=new pl(this,l),{props:f,type:d,valueStart:m}=c.parseProps(u),p=OL(d,f),h=p.parse(c,m);if(p.range=new q.Range(u,h),h<=u&&(p.error=new Error("Node#parse consumed no characters"),p.error.parseEnd=h,p.error.source=p,p.range.end=u+1),c.nodeStartsCollection(p)){!p.error&&!c.atLineStart&&c.parent.type===q.Type.DOCUMENT&&(p.error=new q.YAMLSyntaxError(p,"Block collection must not have preceding content here (e.g. directives-end indicator)"));let _=new fl(p);return h=_.parse(new pl(c),h),_.range=new q.Range(u,h),_}return p}),this.atLineStart=n??(e.atLineStart||!1),this.inCollection=r??(e.inCollection||!1),this.inFlow=i??(e.inFlow||!1),this.indent=s??e.indent,this.lineStart=a??e.lineStart,this.parent=o??(e.parent||{}),this.root=e.root,this.src=e.src}nodeStartsCollection(e){let{inCollection:n,inFlow:r,src:i}=this;if(n||r)return!1;if(e instanceof Kf)return!0;let s=e.range.end;return i[s]===`
`||i[s-1]===`
`?!1:(s=q.Node.endOfWhiteSpace(i,s),i[s]===":")}parseProps(e){let{inFlow:n,parent:r,src:i}=this,s=[],a=!1;e=this.atLineStart?q.Node.endOfIndent(i,e):q.Node.endOfWhiteSpace(i,e);let o=i[e];for(;o===q.Char.ANCHOR||o===q.Char.COMMENT||o===q.Char.TAG||o===`
`;){if(o===`
`){let u=e,c;do c=u+1,u=q.Node.endOfIndent(i,c);while(i[u]===`
`);let f=u-(c+this.indent),d=r.type===q.Type.SEQ_ITEM&&r.context.atLineStart;if(i[u]!=="#"&&!q.Node.nextNodeIsIndented(i[u],f,!d))break;this.atLineStart=!0,this.lineStart=c,a=!1,e=u}else if(o===q.Char.COMMENT){let u=q.Node.endOfLine(i,e+1);s.push(new q.Range(e,u)),e=u}else{let u=q.Node.endOfIdentifier(i,e+1);o===q.Char.TAG&&i[u]===","&&/^[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+,\d\d\d\d(-\d\d){0,2}\/\S/.test(i.slice(e+1,u+13))&&(u=q.Node.endOfIdentifier(i,u+5)),s.push(new q.Range(e,u)),a=!0,e=q.Node.endOfWhiteSpace(i,u)}o=i[e]}a&&o===":"&&q.Node.atBlank(i,e+1,!0)&&(e-=1);let l=pl.parseType(i,e,n);return{props:s,type:l,valueStart:e}}};function FL(t){let e=[];t.indexOf("\r")!==-1&&(t=t.replace(/\r\n?/g,(i,s)=>(i.length>1&&e.push(s),`
`)));let n=[],r=0;do{let i=new Iu,s=new pl({src:t});r=i.parse(s,r),n.push(i)}while(r<t.length);return n.setOrigRanges=()=>{if(e.length===0)return!1;for(let s=1;s<e.length;++s)e[s]-=s;let i=0;for(let s=0;s<n.length;++s)i=n[s].setOrigRanges(e,i);return e.splice(0,e.length),!0},n.toString=()=>n.join(`...
`),n}mC.parse=FL});var ml=J(Ut=>{"use strict";var X=$s();function LL(t,e,n){return n?`#${n.replace(/[\s\S]^/gm,`$&${e}#`)}
${e}${t}`:t}function dl(t,e,n){return n?n.indexOf(`
`)===-1?`${t} #${n}`:`${t}
`+n.replace(/^/gm,`${e||""}#`):t}var zr=class{};function zs(t,e,n){if(Array.isArray(t))return t.map((r,i)=>zs(r,String(i),n));if(t&&typeof t.toJSON=="function"){let r=n&&n.anchors&&n.anchors.get(t);r&&(n.onCreate=s=>{r.res=s,delete n.onCreate});let i=t.toJSON(e,n);return r&&n.onCreate&&n.onCreate(i),i}return(!n||!n.keep)&&typeof t=="bigint"?Number(t):t}var Zn=class extends zr{constructor(e){super();this.value=e}toJSON(e,n){return n&&n.keep?this.value:zs(this.value,e,n)}toString(){return String(this.value)}};function gC(t,e,n){let r=n;for(let i=e.length-1;i>=0;--i){let s=e[i];if(Number.isInteger(s)&&s>=0){let a=[];a[s]=r,r=a}else{let a={};Object.defineProperty(a,s,{value:r,writable:!0,enumerable:!0,configurable:!0}),r=a}}return t.createNode(r,!1)}var _C=t=>t==null||typeof t=="object"&&t[Symbol.iterator]().next().done,mn=class extends zr{constructor(e){super();X._defineProperty(this,"items",[]),this.schema=e}addIn(e,n){if(_C(e))this.add(n);else{let[r,...i]=e,s=this.get(r,!0);if(s instanceof mn)s.addIn(i,n);else if(s===void 0&&this.schema)this.set(r,gC(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn([e,...n]){if(n.length===0)return this.delete(e);let r=this.get(e,!0);if(r instanceof mn)return r.deleteIn(n);throw new Error(`Expected YAML collection at ${e}. Remaining path: ${n}`)}getIn([e,...n],r){let i=this.get(e,!0);return n.length===0?!r&&i instanceof Zn?i.value:i:i instanceof mn?i.getIn(n,r):void 0}hasAllNullValues(){return this.items.every(e=>{if(!e||e.type!=="PAIR")return!1;let n=e.value;return n==null||n instanceof Zn&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn([e,...n]){if(n.length===0)return this.has(e);let r=this.get(e,!0);return r instanceof mn?r.hasIn(n):!1}setIn([e,...n],r){if(n.length===0)this.set(e,r);else{let i=this.get(e,!0);if(i instanceof mn)i.setIn(n,r);else if(i===void 0&&this.schema)this.set(e,gC(this.schema,n,r));else throw new Error(`Expected YAML collection at ${e}. Remaining path: ${n}`)}}toJSON(){return null}toString(e,{blockItem:n,flowChars:r,isMap:i,itemIndent:s},a,o){let{indent:l,indentStep:u,stringify:c}=e,f=this.type===X.Type.FLOW_MAP||this.type===X.Type.FLOW_SEQ||e.inFlow;f&&(s+=u);let d=i&&this.hasAllNullValues();e=Object.assign({},e,{allNullValues:d,indent:s,inFlow:f,type:null});let m=!1,p=!1,h=this.items.reduce((g,b,y)=>{let T;b&&(!m&&b.spaceBefore&&g.push({type:"comment",str:""}),b.commentBefore&&b.commentBefore.match(/^.*$/gm).forEach(W=>{g.push({type:"comment",str:`#${W}`})}),b.comment&&(T=b.comment),f&&(!m&&b.spaceBefore||b.commentBefore||b.comment||b.key&&(b.key.commentBefore||b.key.comment)||b.value&&(b.value.commentBefore||b.value.comment))&&(p=!0)),m=!1;let C=c(b,e,()=>T=null,()=>m=!0);return f&&!p&&C.includes(`
`)&&(p=!0),f&&y<this.items.length-1&&(C+=","),C=dl(C,s,T),m&&(T||f)&&(m=!1),g.push({type:"item",str:C}),g},[]),_;if(h.length===0)_=r.start+r.end;else if(f){let{start:g,end:b}=r,y=h.map(T=>T.str);if(p||y.reduce((T,C)=>T+C.length+2,2)>mn.maxFlowStringSingleLineLength){_=g;for(let T of y)_+=T?`
${u}${l}${T}`:`
`;_+=`
${l}${b}`}else _=`${g} ${y.join(" ")} ${b}`}else{let g=h.map(n);_=g.shift();for(let b of g)_+=b?`
${l}${b}`:`
`}return this.comment?(_+=`
`+this.comment.replace(/^/gm,`${l}#`),a&&a()):m&&o&&o(),_}};X._defineProperty(mn,"maxFlowStringSingleLineLength",60);function Qf(t){let e=t instanceof Zn?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),Number.isInteger(e)&&e>=0?e:null}var Ba=class extends mn{add(e){this.items.push(e)}delete(e){let n=Qf(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){let r=Qf(e);if(typeof r!="number")return;let i=this.items[r];return!n&&i instanceof Zn?i.value:i}has(e){let n=Qf(e);return typeof n=="number"&&n<this.items.length}set(e,n){let r=Qf(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);this.items[r]=n}toJSON(e,n){let r=[];n&&n.onCreate&&n.onCreate(r);let i=0;for(let s of this.items)r.push(zs(s,String(i++),n));return r}toString(e,n,r){return e?super.toString(e,{blockItem:i=>i.type==="comment"?i.str:`- ${i.str}`,flowChars:{start:"[",end:"]"},isMap:!1,itemIndent:(e.indent||"")+"  "},n,r):JSON.stringify(this)}},kL=(t,e,n)=>e===null?"":typeof e!="object"?String(e):t instanceof zr&&n&&n.doc?t.toString({anchors:Object.create(null),doc:n.doc,indent:"",indentStep:n.indentStep,inFlow:!0,inStringifyKey:!0,stringify:n.stringify}):JSON.stringify(e),Et=class extends zr{constructor(e,n=null){super();this.key=e,this.value=n,this.type=Et.Type.PAIR}get commentBefore(){return this.key instanceof zr?this.key.commentBefore:void 0}set commentBefore(e){if(this.key==null&&(this.key=new Zn(null)),this.key instanceof zr)this.key.commentBefore=e;else{let n="Pair.commentBefore is an alias for Pair.key.commentBefore. To set it, the key must be a Node.";throw new Error(n)}}addToJSMap(e,n){let r=zs(this.key,"",e);if(n instanceof Map){let i=zs(this.value,r,e);n.set(r,i)}else if(n instanceof Set)n.add(r);else{let i=kL(this.key,r,e),s=zs(this.value,i,e);i in n?Object.defineProperty(n,i,{value:s,writable:!0,enumerable:!0,configurable:!0}):n[i]=s}return n}toJSON(e,n){let r=n&&n.mapAsMap?new Map:{};return this.addToJSMap(n,r)}toString(e,n,r){if(!e||!e.doc)return JSON.stringify(this);let{indent:i,indentSeq:s,simpleKeys:a}=e.doc.options,{key:o,value:l}=this,u=o instanceof zr&&o.comment;if(a){if(u)throw new Error("With simple keys, key nodes cannot have comments");if(o instanceof mn){let C="With simple keys, collection cannot be used as a key value";throw new Error(C)}}let c=!a&&(!o||u||(o instanceof zr?o instanceof mn||o.type===X.Type.BLOCK_FOLDED||o.type===X.Type.BLOCK_LITERAL:typeof o=="object")),{doc:f,indent:d,indentStep:m,stringify:p}=e;e=Object.assign({},e,{implicitKey:!c,indent:d+m});let h=!1,_=p(o,e,()=>u=null,()=>h=!0);if(_=dl(_,e.indent,u),!c&&_.length>1024){if(a)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");c=!0}if(e.allNullValues&&!a)return this.comment?(_=dl(_,e.indent,this.comment),n&&n()):h&&!u&&r&&r(),e.inFlow&&!c?_:`? ${_}`;_=c?`? ${_}
${d}:`:`${_}:`,this.comment&&(_=dl(_,e.indent,this.comment),n&&n());let g="",b=null;l instanceof zr?(l.spaceBefore&&(g=`
`),l.commentBefore&&(g+=`
${l.commentBefore.replace(/^/gm,`${e.indent}#`)}`),b=l.comment):l&&typeof l=="object"&&(l=f.schema.createNode(l,!0)),e.implicitKey=!1,!c&&!this.comment&&l instanceof Zn&&(e.indentAtStart=_.length+1),h=!1,!s&&i>=2&&!e.inFlow&&!c&&l instanceof Ba&&l.type!==X.Type.FLOW_SEQ&&!l.tag&&!f.anchors.getName(l)&&(e.indent=e.indent.substr(2));let y=p(l,e,()=>b=null,()=>h=!0),T=" ";return g||this.comment?T=`${g}
${e.indent}`:!c&&l instanceof mn?(!(y[0]==="["||y[0]==="{")||y.includes(`
`))&&(T=`
${e.indent}`):y[0]===`
`&&(T=""),h&&!b&&r&&r(),dl(_+T+y,e.indent,b)}};X._defineProperty(Et,"Type",{PAIR:"PAIR",MERGE_PAIR:"MERGE_PAIR"});var Jf=(t,e)=>{if(t instanceof Xs){let n=e.get(t.source);return n.count*n.aliasCount}else if(t instanceof mn){let n=0;for(let r of t.items){let i=Jf(r,e);i>n&&(n=i)}return n}else if(t instanceof Et){let n=Jf(t.key,e),r=Jf(t.value,e);return Math.max(n,r)}return 1},Xs=class extends zr{static stringify({range:e,source:n},{anchors:r,doc:i,implicitKey:s,inStringifyKey:a}){let o=Object.keys(r).find(u=>r[u]===n);if(!o&&a&&(o=i.anchors.getName(n)||i.anchors.newName()),o)return`*${o}${s?" ":""}`;let l=i.anchors.getName(n)?"Alias node must be after source node":"Source node not found for alias node";throw new Error(`${l} [${e}]`)}constructor(e){super();this.source=e,this.type=X.Type.ALIAS}set tag(e){throw new Error("Alias nodes cannot have tags")}toJSON(e,n){if(!n)return zs(this.source,e,n);let{anchors:r,maxAliasCount:i}=n,s=r.get(this.source);if(!s||s.res===void 0){let a="This should not happen: Alias anchor was not resolved?";throw this.cstNode?new X.YAMLReferenceError(this.cstNode,a):new ReferenceError(a)}if(i>=0&&(s.count+=1,s.aliasCount===0&&(s.aliasCount=Jf(this.source,r)),s.count*s.aliasCount>i)){let a="Excessive alias count indicates a resource exhaustion attack";throw this.cstNode?new X.YAMLReferenceError(this.cstNode,a):new ReferenceError(a)}return s.res}toString(e){return Xs.stringify(this,e)}};X._defineProperty(Xs,"default",!0);function Eu(t,e){let n=e instanceof Zn?e.value:e;for(let r of t)if(r instanceof Et&&(r.key===e||r.key===n||r.key&&r.key.value===n))return r}var Zf=class extends mn{add(e,n){e?e instanceof Et||(e=new Et(e.key||e,e.value)):e=new Et(e);let r=Eu(this.items,e.key),i=this.schema&&this.schema.sortMapEntries;if(r)if(n)r.value=e.value;else throw new Error(`Key ${e.key} already set`);else if(i){let s=this.items.findIndex(a=>i(e,a)<0);s===-1?this.items.push(e):this.items.splice(s,0,e)}else this.items.push(e)}delete(e){let n=Eu(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){let r=Eu(this.items,e),i=r&&r.value;return!n&&i instanceof Zn?i.value:i}has(e){return!!Eu(this.items,e)}set(e,n){this.add(new Et(e,n),!0)}toJSON(e,n,r){let i=r?new r:n&&n.mapAsMap?new Map:{};n&&n.onCreate&&n.onCreate(i);for(let s of this.items)s.addToJSMap(n,i);return i}toString(e,n,r){if(!e)return JSON.stringify(this);for(let i of this.items)if(!(i instanceof Et))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return super.toString(e,{blockItem:i=>i.str,flowChars:{start:"{",end:"}"},isMap:!0,itemIndent:e.indent||""},n,r)}},yC="<<",jh=class extends Et{constructor(e){if(e instanceof Et){let n=e.value;n instanceof Ba||(n=new Ba,n.items.push(e.value),n.range=e.value.range);super(e.key,n);this.range=e.range}else super(new Zn(yC),new Ba);this.type=Et.Type.MERGE_PAIR}addToJSMap(e,n){for(let{source:r}of this.value.items){if(!(r instanceof Zf))throw new Error("Merge sources must be maps");let i=r.toJSON(null,e,Map);for(let[s,a]of i)n instanceof Map?n.has(s)||n.set(s,a):n instanceof Set?n.add(s):Object.prototype.hasOwnProperty.call(n,s)||Object.defineProperty(n,s,{value:a,writable:!0,enumerable:!0,configurable:!0})}return n}toString(e,n){let r=this.value;if(r.items.length>1)return super.toString(e,n);this.value=r.items[0];let i=super.toString(e,n);return this.value=r,i}},ML={defaultType:X.Type.BLOCK_LITERAL,lineWidth:76},BL={trueStr:"true",falseStr:"false"},qL={asBigInt:!1},VL={nullStr:"null"},qa={defaultType:X.Type.PLAIN,doubleQuoted:{jsonEncoding:!1,minMultiLineLength:40},fold:{lineWidth:80,minContentWidth:20}};function Uh(t,e,n){for(let{format:r,test:i,resolve:s}of e)if(i){let a=t.match(i);if(a){let o=s.apply(null,a);return o instanceof Zn||(o=new Zn(o)),r&&(o.format=r),o}}return n&&(t=n(t)),new Zn(t)}var bC="flow",Wh="block",ep="quoted",TC=(t,e)=>{let n=t[e+1];for(;n===" "||n==="	";){do n=t[e+=1];while(n&&n!==`
`);n=t[e+1]}return e};function tp(t,e,n,{indentAtStart:r,lineWidth:i=80,minContentWidth:s=20,onFold:a,onOverflow:o}){if(!i||i<0)return t;let l=Math.max(1+s,1+i-e.length);if(t.length<=l)return t;let u=[],c={},f=i-e.length;typeof r=="number"&&(r>i-Math.max(2,s)?u.push(0):f=i-r);let d,m,p=!1,h=-1,_=-1,g=-1;n===Wh&&(h=TC(t,h),h!==-1&&(f=h+l));for(let y;y=t[h+=1];){if(n===ep&&y==="\\"){switch(_=h,t[h+1]){case"x":h+=3;break;case"u":h+=5;break;case"U":h+=9;break;default:h+=1}g=h}if(y===`
`)n===Wh&&(h=TC(t,h)),f=h+l,d=void 0;else{if(y===" "&&m&&m!==" "&&m!==`
`&&m!=="	"){let T=t[h+1];T&&T!==" "&&T!==`
`&&T!=="	"&&(d=h)}if(h>=f)if(d)u.push(d),f=d+l,d=void 0;else if(n===ep){for(;m===" "||m==="	";)m=y,y=t[h+=1],p=!0;let T=h>g+1?h-2:_-1;if(c[T])return t;u.push(T),c[T]=!0,f=T+l,d=void 0}else p=!0}m=y}if(p&&o&&o(),u.length===0)return t;a&&a();let b=t.slice(0,u[0]);for(let y=0;y<u.length;++y){let T=u[y],C=u[y+1]||t.length;T===0?b=`
${e}${t.slice(0,C)}`:(n===ep&&c[T]&&(b+=`${t[T]}\\`),b+=`
${e}${t.slice(T+1,C)}`)}return b}var Gh=({indentAtStart:t})=>t?Object.assign({indentAtStart:t},qa.fold):qa.fold,np=t=>/^(%|---|\.\.\.)/m.test(t);function jL(t,e,n){if(!e||e<0)return!1;let r=e-n,i=t.length;if(i<=r)return!1;for(let s=0,a=0;s<i;++s)if(t[s]===`
`){if(s-a>r)return!0;if(a=s+1,i-a<=r)return!1}return!0}function Va(t,e){let{implicitKey:n}=e,{jsonEncoding:r,minMultiLineLength:i}=qa.doubleQuoted,s=JSON.stringify(t);if(r)return s;let a=e.indent||(np(t)?"  ":""),o="",l=0;for(let u=0,c=s[u];c;c=s[++u])if(c===" "&&s[u+1]==="\\"&&s[u+2]==="n"&&(o+=s.slice(l,u)+"\\ ",u+=1,l=u,c="\\"),c==="\\")switch(s[u+1]){case"u":{o+=s.slice(l,u);let f=s.substr(u+2,4);switch(f){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:f.substr(0,2)==="00"?o+="\\x"+f.substr(2):o+=s.substr(u,6)}u+=5,l=u+1}break;case"n":if(n||s[u+2]==='"'||s.length<i)u+=1;else{for(o+=s.slice(l,u)+`

`;s[u+2]==="\\"&&s[u+3]==="n"&&s[u+4]!=='"';)o+=`
`,u+=2;o+=a,s[u+2]===" "&&(o+="\\"),u+=1,l=u+1}break;default:u+=1}return o=l?o+s.slice(l):s,n?o:tp(o,a,ep,Gh(e))}function vC(t,e){if(e.implicitKey){if(/\n/.test(t))return Va(t,e)}else if(/[ \t]\n|\n[ \t]/.test(t))return Va(t,e);let n=e.indent||(np(t)?"  ":""),r="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?r:tp(r,n,bC,Gh(e))}function rp({comment:t,type:e,value:n},r,i,s){if(/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return Va(n,r);let a=r.indent||(r.forceBlockIndent||np(n)?"  ":""),o=a?"2":"1",l=e===X.Type.BLOCK_FOLDED?!1:e===X.Type.BLOCK_LITERAL?!0:!jL(n,qa.fold.lineWidth,a.length),u=l?"|":">";if(!n)return u+`
`;let c="",f="";if(n=n.replace(/[\n\t ]*$/,m=>{let p=m.indexOf(`
`);return p===-1?u+="-":(n===m||p!==m.length-1)&&(u+="+",s&&s()),f=m.replace(/\n$/,""),""}).replace(/^[\n ]*/,m=>{m.indexOf(" ")!==-1&&(u+=o);let p=m.match(/ +$/);return p?(c=m.slice(0,-p[0].length),p[0]):(c=m,"")}),f&&(f=f.replace(/\n+(?!\n|$)/g,`$&${a}`)),c&&(c=c.replace(/\n+/g,`$&${a}`)),t&&(u+=" #"+t.replace(/ ?[\r\n]+/g," "),i&&i()),!n)return`${u}${o}
${a}${f}`;if(l)return n=n.replace(/\n+/g,`$&${a}`),`${u}
${a}${c}${n}${f}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${a}`);let d=tp(`${c}${n}${f}`,a,Wh,qa.fold);return`${u}
${a}${d}`}function UL(t,e,n,r){let{comment:i,type:s,value:a}=t,{actualString:o,implicitKey:l,indent:u,inFlow:c}=e;if(l&&/[\n[\]{},]/.test(a)||c&&/[[\]{},]/.test(a))return Va(a,e);if(!a||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(a))return l||c||a.indexOf(`
`)===-1?a.indexOf('"')!==-1&&a.indexOf("'")===-1?vC(a,e):Va(a,e):rp(t,e,n,r);if(!l&&!c&&s!==X.Type.PLAIN&&a.indexOf(`
`)!==-1)return rp(t,e,n,r);if(u===""&&np(a))return e.forceBlockIndent=!0,rp(t,e,n,r);let f=a.replace(/\n+/g,`$&
${u}`);if(o){let{tags:m}=e.doc.schema;if(typeof Uh(f,m,m.scalarFallback).value!="string")return Va(a,e)}let d=l?f:tp(f,u,bC,Gh(e));return i&&!c&&(d.indexOf(`
`)!==-1||i.indexOf(`
`)!==-1)?(n&&n(),LL(d,u,i)):d}function WL(t,e,n,r){let{defaultType:i}=qa,{implicitKey:s,inFlow:a}=e,{type:o,value:l}=t;typeof l!="string"&&(l=String(l),t=Object.assign({},t,{value:l}));let u=f=>{switch(f){case X.Type.BLOCK_FOLDED:case X.Type.BLOCK_LITERAL:return rp(t,e,n,r);case X.Type.QUOTE_DOUBLE:return Va(l,e);case X.Type.QUOTE_SINGLE:return vC(l,e);case X.Type.PLAIN:return UL(t,e,n,r);default:return null}};(o!==X.Type.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f]/.test(l)||(s||a)&&(o===X.Type.BLOCK_FOLDED||o===X.Type.BLOCK_LITERAL))&&(o=X.Type.QUOTE_DOUBLE);let c=u(o);if(c===null&&(c=u(i),c===null))throw new Error(`Unsupported default string type ${i}`);return c}function GL({format:t,minFractionDigits:e,tag:n,value:r}){if(typeof r=="bigint")return String(r);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let i=JSON.stringify(r);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let s=i.indexOf(".");s<0&&(s=i.length,i+=".");let a=e-(i.length-s-1);for(;a-- >0;)i+="0"}return i}function NC(t,e){let n,r;switch(e.type){case X.Type.FLOW_MAP:n="}",r="flow map";break;case X.Type.FLOW_SEQ:n="]",r="flow sequence";break;default:t.push(new X.YAMLSemanticError(e,"Not a flow collection!?"));return}let i;for(let s=e.items.length-1;s>=0;--s){let a=e.items[s];if(!a||a.type!==X.Type.COMMENT){i=a;break}}if(i&&i.char!==n){let s=`Expected ${r} to end with ${n}`,a;typeof i.offset=="number"?(a=new X.YAMLSemanticError(e,s),a.offset=i.offset+1):(a=new X.YAMLSemanticError(i,s),i.range&&i.range.end&&(a.offset=i.range.end-i.range.start)),t.push(a)}}function CC(t,e){let n=e.context.src[e.range.start-1];if(n!==`
`&&n!=="	"&&n!==" "){let r="Comments must be separated from other tokens by white space characters";t.push(new X.YAMLSemanticError(e,r))}}function PC(t,e){let n=String(e),r=n.substr(0,8)+"..."+n.substr(-8);return new X.YAMLSemanticError(t,`The "${r}" key is too long`)}function DC(t,e){for(let{afterKey:n,before:r,comment:i}of e){let s=t.items[r];s?(n&&s.value&&(s=s.value),i===void 0?(n||!s.commentBefore)&&(s.spaceBefore=!0):s.commentBefore?s.commentBefore+=`
`+i:s.commentBefore=i):i!==void 0&&(t.comment?t.comment+=`
`+i:t.comment=i)}}function Hh(t,e){let n=e.strValue;return n?typeof n=="string"?n:(n.errors.forEach(r=>{r.source||(r.source=e),t.errors.push(r)}),n.str):""}function HL(t,e){let{handle:n,suffix:r}=e.tag,i=t.tagPrefixes.find(s=>s.handle===n);if(!i){let s=t.getDefaults().tagPrefixes;if(s&&(i=s.find(a=>a.handle===n)),!i)throw new X.YAMLSemanticError(e,`The ${n} tag handle is non-default and was not declared.`)}if(!r)throw new X.YAMLSemanticError(e,`The ${n} tag has no suffix.`);if(n==="!"&&(t.version||t.options.version)==="1.0"){if(r[0]==="^")return t.warnings.push(new X.YAMLWarning(e,"YAML 1.0 ^ tag expansion is not supported")),r;if(/[:/]/.test(r)){let s=r.match(/^([a-z0-9-]+)\/(.*)/i);return s?`tag:${s[1]}.yaml.org,2002:${s[2]}`:`tag:${r}`}}return i.prefix+decodeURIComponent(r)}function YL(t,e){let{tag:n,type:r}=e,i=!1;if(n){let{handle:s,suffix:a,verbatim:o}=n;if(o){if(o!=="!"&&o!=="!!")return o;let l=`Verbatim tags aren't resolved, so ${o} is invalid.`;t.errors.push(new X.YAMLSemanticError(e,l))}else if(s==="!"&&!a)i=!0;else try{return HL(t,e)}catch(l){t.errors.push(l)}}switch(r){case X.Type.BLOCK_FOLDED:case X.Type.BLOCK_LITERAL:case X.Type.QUOTE_DOUBLE:case X.Type.QUOTE_SINGLE:return X.defaultTags.STR;case X.Type.FLOW_MAP:case X.Type.MAP:return X.defaultTags.MAP;case X.Type.FLOW_SEQ:case X.Type.SEQ:return X.defaultTags.SEQ;case X.Type.PLAIN:return i?X.defaultTags.STR:null;default:return null}}function SC(t,e,n){let{tags:r}=t.schema,i=[];for(let a of r)if(a.tag===n)if(a.test)i.push(a);else{let o=a.resolve(t,e);return o instanceof mn?o:new Zn(o)}let s=Hh(t,e);return typeof s=="string"&&i.length>0?Uh(s,i,r.scalarFallback):null}function $L({type:t}){switch(t){case X.Type.FLOW_MAP:case X.Type.MAP:return X.defaultTags.MAP;case X.Type.FLOW_SEQ:case X.Type.SEQ:return X.defaultTags.SEQ;default:return X.defaultTags.STR}}function KL(t,e,n){try{let r=SC(t,e,n);if(r)return n&&e.tag&&(r.tag=n),r}catch(r){return r.source||(r.source=e),t.errors.push(r),null}try{let r=$L(e);if(!r)throw new Error(`The tag ${n} is unavailable`);let i=`The tag ${n} is unavailable, falling back to ${r}`;t.warnings.push(new X.YAMLWarning(e,i));let s=SC(t,e,r);return s.tag=n,s}catch(r){let i=new X.YAMLReferenceError(e,r.message);return i.stack=r.stack,t.errors.push(i),null}}var zL=t=>{if(!t)return!1;let{type:e}=t;return e===X.Type.MAP_KEY||e===X.Type.MAP_VALUE||e===X.Type.SEQ_ITEM};function XL(t,e){let n={before:[],after:[]},r=!1,i=!1,s=zL(e.context.parent)?e.context.parent.props.concat(e.props):e.props;for(let{start:a,end:o}of s)switch(e.context.src[a]){case X.Char.COMMENT:{if(!e.commentHasRequiredWhitespace(a)){let f="Comments must be separated from other tokens by white space characters";t.push(new X.YAMLSemanticError(e,f))}let{header:l,valueRange:u}=e;(u&&(a>u.start||l&&a>l.start)?n.after:n.before).push(e.context.src.slice(a+1,o));break}case X.Char.ANCHOR:if(r){let l="A node can have at most one anchor";t.push(new X.YAMLSemanticError(e,l))}r=!0;break;case X.Char.TAG:if(i){let l="A node can have at most one tag";t.push(new X.YAMLSemanticError(e,l))}i=!0;break}return{comments:n,hasAnchor:r,hasTag:i}}function QL(t,e){let{anchors:n,errors:r,schema:i}=t;if(e.type===X.Type.ALIAS){let a=e.rawValue,o=n.getNode(a);if(!o){let u=`Aliased anchor not found: ${a}`;return r.push(new X.YAMLReferenceError(e,u)),null}let l=new Xs(o);return n._cstAliases.push(l),l}let s=YL(t,e);if(s)return KL(t,e,s);if(e.type!==X.Type.PLAIN){let a=`Failed to resolve ${e.type} node here`;return r.push(new X.YAMLSyntaxError(e,a)),null}try{let a=Hh(t,e);return Uh(a,i.tags,i.tags.scalarFallback)}catch(a){return a.source||(a.source=e),r.push(a),null}}function Qs(t,e){if(!e)return null;e.error&&t.errors.push(e.error);let{comments:n,hasAnchor:r,hasTag:i}=XL(t.errors,e);if(r){let{anchors:a}=t,o=e.anchor,l=a.getNode(o);l&&(a.map[a.newName(o)]=l),a.map[o]=e}if(e.type===X.Type.ALIAS&&(r||i)){let a="An alias node must not specify any properties";t.errors.push(new X.YAMLSemanticError(e,a))}let s=QL(t,e);if(s){s.range=[e.range.start,e.range.end],t.options.keepCstNodes&&(s.cstNode=e),t.options.keepNodeTypes&&(s.type=e.type);let a=n.before.join(`
`);a&&(s.commentBefore=s.commentBefore?`${s.commentBefore}
${a}`:a);let o=n.after.join(`
`);o&&(s.comment=s.comment?`${s.comment}
${o}`:o)}return e.resolved=s}function JL(t,e){if(e.type!==X.Type.MAP&&e.type!==X.Type.FLOW_MAP){let a=`A ${e.type} node cannot be resolved as a mapping`;return t.errors.push(new X.YAMLSyntaxError(e,a)),null}let{comments:n,items:r}=e.type===X.Type.FLOW_MAP?nk(t,e):tk(t,e),i=new Zf;i.items=r,DC(i,n);let s=!1;for(let a=0;a<r.length;++a){let{key:o}=r[a];if(o instanceof mn&&(s=!0),t.schema.merge&&o&&o.value===yC){r[a]=new jh(r[a]);let l=r[a].value.items,u=null;l.some(c=>{if(c instanceof Xs){let{type:f}=c.source;return f===X.Type.MAP||f===X.Type.FLOW_MAP?!1:u="Merge nodes aliases can only point to maps"}return u="Merge nodes can only have Alias nodes as values"}),u&&t.errors.push(new X.YAMLSemanticError(e,u))}else for(let l=a+1;l<r.length;++l){let{key:u}=r[l];if(o===u||o&&u&&Object.prototype.hasOwnProperty.call(o,"value")&&o.value===u.value){let c=`Map keys must be unique; "${o}" is repeated`;t.errors.push(new X.YAMLSemanticError(e,c));break}}}if(s&&!t.options.mapAsMap){let a="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new X.YAMLWarning(e,a))}return e.resolved=i,i}var ZL=({context:{lineStart:t,node:e,src:n},props:r})=>{if(r.length===0)return!1;let{start:i}=r[0];if(e&&i>e.valueRange.start||n[i]!==X.Char.COMMENT)return!1;for(let s=t;s<i;++s)if(n[s]===`
`)return!1;return!0};function ek(t,e){if(!ZL(t))return;let n=t.getPropValue(0,X.Char.COMMENT,!0),r=!1,i=e.value.commentBefore;if(i&&i.startsWith(n))e.value.commentBefore=i.substr(n.length+1),r=!0;else{let s=e.value.comment;!t.node&&s&&s.startsWith(n)&&(e.value.comment=s.substr(n.length+1),r=!0)}r&&(e.comment=n)}function tk(t,e){let n=[],r=[],i,s=null;for(let a=0;a<e.items.length;++a){let o=e.items[a];switch(o.type){case X.Type.BLANK_LINE:n.push({afterKey:!!i,before:r.length});break;case X.Type.COMMENT:n.push({afterKey:!!i,before:r.length,comment:o.comment});break;case X.Type.MAP_KEY:i!==void 0&&r.push(new Et(i)),o.error&&t.errors.push(o.error),i=Qs(t,o.node),s=null;break;case X.Type.MAP_VALUE:{if(i===void 0&&(i=null),o.error&&t.errors.push(o.error),!o.context.atLineStart&&o.node&&o.node.type===X.Type.MAP&&!o.node.context.atLineStart){let c="Nested mappings are not allowed in compact mappings";t.errors.push(new X.YAMLSemanticError(o.node,c))}let l=o.node;if(!l&&o.props.length>0){l=new X.PlainValue(X.Type.PLAIN,[]),l.context={parent:o,src:o.context.src};let c=o.range.start+1;if(l.range={start:c,end:c},l.valueRange={start:c,end:c},typeof o.range.origStart=="number"){let f=o.range.origStart+1;l.range.origStart=l.range.origEnd=f,l.valueRange.origStart=l.valueRange.origEnd=f}}let u=new Et(i,Qs(t,l));ek(o,u),r.push(u),i&&typeof s=="number"&&o.range.start>s+1024&&t.errors.push(PC(e,i)),i=void 0,s=null}break;default:i!==void 0&&r.push(new Et(i)),i=Qs(t,o),s=o.range.start,o.error&&t.errors.push(o.error);e:for(let l=a+1;;++l){let u=e.items[l];switch(u&&u.type){case X.Type.BLANK_LINE:case X.Type.COMMENT:continue e;case X.Type.MAP_VALUE:break e;default:{let c="Implicit map keys need to be followed by map values";t.errors.push(new X.YAMLSemanticError(o,c));break e}}}if(o.valueRangeContainsNewline){let l="Implicit map keys need to be on a single line";t.errors.push(new X.YAMLSemanticError(o,l))}}}return i!==void 0&&r.push(new Et(i)),{comments:n,items:r}}function nk(t,e){let n=[],r=[],i,s=!1,a="{";for(let o=0;o<e.items.length;++o){let l=e.items[o];if(typeof l.char=="string"){let{char:u,offset:c}=l;if(u==="?"&&i===void 0&&!s){s=!0,a=":";continue}if(u===":"){if(i===void 0&&(i=null),a===":"){a=",";continue}}else if(s&&(i===void 0&&u!==","&&(i=null),s=!1),i!==void 0&&(r.push(new Et(i)),i=void 0,u===",")){a=":";continue}if(u==="}"){if(o===e.items.length-1)continue}else if(u===a){a=":";continue}let f=`Flow map contains an unexpected ${u}`,d=new X.YAMLSyntaxError(e,f);d.offset=c,t.errors.push(d)}else l.type===X.Type.BLANK_LINE?n.push({afterKey:!!i,before:r.length}):l.type===X.Type.COMMENT?(CC(t.errors,l),n.push({afterKey:!!i,before:r.length,comment:l.comment})):i===void 0?(a===","&&t.errors.push(new X.YAMLSemanticError(l,"Separator , missing in flow map")),i=Qs(t,l)):(a!==","&&t.errors.push(new X.YAMLSemanticError(l,"Indicator : missing in flow map entry")),r.push(new Et(i,Qs(t,l))),i=void 0,s=!1)}return NC(t.errors,e),i!==void 0&&r.push(new Et(i)),{comments:n,items:r}}function rk(t,e){if(e.type!==X.Type.SEQ&&e.type!==X.Type.FLOW_SEQ){let s=`A ${e.type} node cannot be resolved as a sequence`;return t.errors.push(new X.YAMLSyntaxError(e,s)),null}let{comments:n,items:r}=e.type===X.Type.FLOW_SEQ?sk(t,e):ik(t,e),i=new Ba;if(i.items=r,DC(i,n),!t.options.mapAsMap&&r.some(s=>s instanceof Et&&s.key instanceof mn)){let s="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new X.YAMLWarning(e,s))}return e.resolved=i,i}function ik(t,e){let n=[],r=[];for(let i=0;i<e.items.length;++i){let s=e.items[i];switch(s.type){case X.Type.BLANK_LINE:n.push({before:r.length});break;case X.Type.COMMENT:n.push({comment:s.comment,before:r.length});break;case X.Type.SEQ_ITEM:if(s.error&&t.errors.push(s.error),r.push(Qs(t,s.node)),s.hasProps){let a="Sequence items cannot have tags or anchors before the - indicator";t.errors.push(new X.YAMLSemanticError(s,a))}break;default:s.error&&t.errors.push(s.error),t.errors.push(new X.YAMLSyntaxError(s,`Unexpected ${s.type} node in sequence`))}}return{comments:n,items:r}}function sk(t,e){let n=[],r=[],i=!1,s,a=null,o="[",l=null;for(let u=0;u<e.items.length;++u){let c=e.items[u];if(typeof c.char=="string"){let{char:f,offset:d}=c;if(f!==":"&&(i||s!==void 0)&&(i&&s===void 0&&(s=o?r.pop():null),r.push(new Et(s)),i=!1,s=void 0,a=null),f===o)o=null;else if(!o&&f==="?")i=!0;else if(o!=="["&&f===":"&&s===void 0){if(o===","){if(s=r.pop(),s instanceof Et){let m="Chaining flow sequence pairs is invalid",p=new X.YAMLSemanticError(e,m);p.offset=d,t.errors.push(p)}if(!i&&typeof a=="number"){let m=c.range?c.range.start:c.offset;m>a+1024&&t.errors.push(PC(e,s));let{src:p}=l.context;for(let h=a;h<m;++h)if(p[h]===`
`){let _="Implicit keys of flow sequence pairs need to be on a single line";t.errors.push(new X.YAMLSemanticError(l,_));break}}}else s=null;a=null,i=!1,o=null}else if(o==="["||f!=="]"||u<e.items.length-1){let m=`Flow sequence contains an unexpected ${f}`,p=new X.YAMLSyntaxError(e,m);p.offset=d,t.errors.push(p)}}else if(c.type===X.Type.BLANK_LINE)n.push({before:r.length});else if(c.type===X.Type.COMMENT)CC(t.errors,c),n.push({comment:c.comment,before:r.length});else{if(o){let d=`Expected a ${o} in flow sequence`;t.errors.push(new X.YAMLSemanticError(c,d))}let f=Qs(t,c);s===void 0?(r.push(f),l=c):(r.push(new Et(s,f)),s=void 0),a=c.range.start,o=","}}return NC(t.errors,e),s!==void 0&&r.push(new Et(s)),{comments:n,items:r}}Ut.Alias=Xs;Ut.Collection=mn;Ut.Merge=jh;Ut.Node=zr;Ut.Pair=Et;Ut.Scalar=Zn;Ut.YAMLMap=Zf;Ut.YAMLSeq=Ba;Ut.addComment=dl;Ut.binaryOptions=ML;Ut.boolOptions=BL;Ut.findPair=Eu;Ut.intOptions=qL;Ut.isEmptyPath=_C;Ut.nullOptions=VL;Ut.resolveMap=JL;Ut.resolveNode=Qs;Ut.resolveSeq=rk;Ut.resolveString=Hh;Ut.strOptions=qa;Ut.stringifyNumber=GL;Ut.stringifyString=WL;Ut.toJSON=zs});var ip=J(Oi=>{"use strict";var Dr=$s(),ot=ml(),ak={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve:(t,e)=>{let n=ot.resolveString(t,e);if(typeof Buffer=="function")return Buffer.from(n,"base64");if(typeof atob=="function"){let r=atob(n.replace(/[\n\r]/g,"")),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}else{let r="This environment does not support reading binary tags; either Buffer or atob is required";return t.errors.push(new Dr.YAMLReferenceError(e,r)),null}},options:ot.binaryOptions,stringify:({comment:t,type:e,value:n},r,i,s)=>{let a;if(typeof Buffer=="function")a=n instanceof Buffer?n.toString("base64"):Buffer.from(n.buffer).toString("base64");else if(typeof btoa=="function"){let o="";for(let l=0;l<n.length;++l)o+=String.fromCharCode(n[l]);a=btoa(o)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=ot.binaryOptions.defaultType),e===Dr.Type.QUOTE_DOUBLE)n=a;else{let{lineWidth:o}=ot.binaryOptions,l=Math.ceil(a.length/o),u=new Array(l);for(let c=0,f=0;c<l;++c,f+=o)u[c]=a.substr(f,o);n=u.join(e===Dr.Type.BLOCK_LITERAL?`
`:" ")}return ot.stringifyString({comment:t,type:e,value:n},r,i,s)}};function IC(t,e){let n=ot.resolveSeq(t,e);for(let r=0;r<n.items.length;++r){let i=n.items[r];if(!(i instanceof ot.Pair)){if(i instanceof ot.YAMLMap){if(i.items.length>1){let a="Each pair must have its own sequence indicator";throw new Dr.YAMLSemanticError(e,a)}let s=i.items[0]||new ot.Pair;i.commentBefore&&(s.commentBefore=s.commentBefore?`${i.commentBefore}
${s.commentBefore}`:i.commentBefore),i.comment&&(s.comment=s.comment?`${i.comment}
${s.comment}`:i.comment),i=s}n.items[r]=i instanceof ot.Pair?i:new ot.Pair(i)}}return n}function EC(t,e,n){let r=new ot.YAMLSeq(t);r.tag="tag:yaml.org,2002:pairs";for(let i of e){let s,a;if(Array.isArray(i))if(i.length===2)s=i[0],a=i[1];else throw new TypeError(`Expected [key, value] tuple: ${i}`);else if(i&&i instanceof Object){let l=Object.keys(i);if(l.length===1)s=l[0],a=i[s];else throw new TypeError(`Expected { key: value } tuple: ${i}`)}else s=i;let o=t.createPair(s,a,n);r.items.push(o)}return r}var ok={default:!1,tag:"tag:yaml.org,2002:pairs",resolve:IC,createNode:EC},ja=class extends ot.YAMLSeq{constructor(){super();Dr._defineProperty(this,"add",ot.YAMLMap.prototype.add.bind(this)),Dr._defineProperty(this,"delete",ot.YAMLMap.prototype.delete.bind(this)),Dr._defineProperty(this,"get",ot.YAMLMap.prototype.get.bind(this)),Dr._defineProperty(this,"has",ot.YAMLMap.prototype.has.bind(this)),Dr._defineProperty(this,"set",ot.YAMLMap.prototype.set.bind(this)),this.tag=ja.tag}toJSON(e,n){let r=new Map;n&&n.onCreate&&n.onCreate(r);for(let i of this.items){let s,a;if(i instanceof ot.Pair?(s=ot.toJSON(i.key,"",n),a=ot.toJSON(i.value,s,n)):s=ot.toJSON(i,"",n),r.has(s))throw new Error("Ordered maps must not include duplicate keys");r.set(s,a)}return r}};Dr._defineProperty(ja,"tag","tag:yaml.org,2002:omap");function lk(t,e){let n=IC(t,e),r=[];for(let{key:i}of n.items)if(i instanceof ot.Scalar)if(r.includes(i.value)){let s="Ordered maps must not include duplicate keys";throw new Dr.YAMLSemanticError(e,s)}else r.push(i.value);return Object.assign(new ja,n)}function uk(t,e,n){let r=EC(t,e,n),i=new ja;return i.items=r.items,i}var ck={identify:t=>t instanceof Map,nodeClass:ja,default:!1,tag:"tag:yaml.org,2002:omap",resolve:lk,createNode:uk},Ua=class extends ot.YAMLMap{constructor(){super();this.tag=Ua.tag}add(e){let n=e instanceof ot.Pair?e:new ot.Pair(e);ot.findPair(this.items,n.key)||this.items.push(n)}get(e,n){let r=ot.findPair(this.items,e);return!n&&r instanceof ot.Pair?r.key instanceof ot.Scalar?r.key.value:r.key:r}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);let r=ot.findPair(this.items,e);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new ot.Pair(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues())return super.toString(e,n,r);throw new Error("Set items must all have null values")}};Dr._defineProperty(Ua,"tag","tag:yaml.org,2002:set");function fk(t,e){let n=ot.resolveMap(t,e);if(!n.hasAllNullValues())throw new Dr.YAMLSemanticError(e,"Set items must all have null values");return Object.assign(new Ua,n)}function pk(t,e,n){let r=new Ua;for(let i of e)r.items.push(t.createPair(i,null,n));return r}var dk={identify:t=>t instanceof Set,nodeClass:Ua,default:!1,tag:"tag:yaml.org,2002:set",resolve:fk,createNode:pk},Yh=(t,e)=>{let n=e.split(":").reduce((r,i)=>r*60+Number(i),0);return t==="-"?-n:n},AC=({value:t})=>{if(isNaN(t)||!isFinite(t))return ot.stringifyNumber(t);let e="";t<0&&(e="-",t=Math.abs(t));let n=[t%60];return t<60?n.unshift(0):(t=Math.round((t-n[0])/60),n.unshift(t%60),t>=60&&(t=Math.round((t-n[0])/60),n.unshift(t))),e+n.map(r=>r<10?"0"+String(r):String(r)).join(":").replace(/000000\d*$/,"")},mk={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+)$/,resolve:(t,e,n)=>Yh(e,n.replace(/_/g,"")),stringify:AC},hk={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*)$/,resolve:(t,e,n)=>Yh(e,n.replace(/_/g,"")),stringify:AC},gk={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^(?:([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?)$"),resolve:(t,e,n,r,i,s,a,o,l)=>{o&&(o=(o+"00").substr(1,3));let u=Date.UTC(e,n-1,r,i||0,s||0,a||0,o||0);if(l&&l!=="Z"){let c=Yh(l[0],l.slice(1));Math.abs(c)<30&&(c*=60),u-=6e4*c}return new Date(u)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};function $h(t){let e=typeof process!="undefined"&&process.env||{};return t?typeof YAML_SILENCE_DEPRECATION_WARNINGS!="undefined"?!YAML_SILENCE_DEPRECATION_WARNINGS:!e.YAML_SILENCE_DEPRECATION_WARNINGS:typeof YAML_SILENCE_WARNINGS!="undefined"?!YAML_SILENCE_WARNINGS:!e.YAML_SILENCE_WARNINGS}function Kh(t,e){if($h(!1)){let n=typeof process!="undefined"&&process.emitWarning;n?n(t,e):console.warn(e?`${e}: ${t}`:t)}}function _k(t){if($h(!0)){let e=t.replace(/.*yaml[/\\]/i,"").replace(/\.js$/,"").replace(/\\/g,"/");Kh(`The endpoint 'yaml/${e}' will be removed in a future release.`,"DeprecationWarning")}}var xC={};function yk(t,e){if(!xC[t]&&$h(!0)){xC[t]=!0;let n=`The option '${t}' will be removed in a future release`;n+=e?`, use '${e}' instead.`:".",Kh(n,"DeprecationWarning")}}Oi.binary=ak;Oi.floatTime=hk;Oi.intTime=mk;Oi.omap=ck;Oi.pairs=ok;Oi.set=dk;Oi.timestamp=gk;Oi.warn=Kh;Oi.warnFileDeprecation=_k;Oi.warnOptionDeprecation=yk});var cp=J(WC=>{"use strict";var sp=$s(),qe=ml(),er=ip();function bk(t,e,n){let r=new qe.YAMLMap(t);if(e instanceof Map)for(let[i,s]of e)r.items.push(t.createPair(i,s,n));else if(e&&typeof e=="object")for(let i of Object.keys(e))r.items.push(t.createPair(i,e[i],n));return typeof t.sortMapEntries=="function"&&r.items.sort(t.sortMapEntries),r}var Au={createNode:bk,default:!0,nodeClass:qe.YAMLMap,tag:"tag:yaml.org,2002:map",resolve:qe.resolveMap};function Tk(t,e,n){let r=new qe.YAMLSeq(t);if(e&&e[Symbol.iterator])for(let i of e){let s=t.createNode(i,n.wrapScalars,null,n);r.items.push(s)}return r}var ap={createNode:Tk,default:!0,nodeClass:qe.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve:qe.resolveSeq},vk={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:qe.resolveString,stringify(t,e,n,r){return e=Object.assign({actualString:!0},e),qe.stringifyString(t,e,n,r)},options:qe.strOptions},zh=[Au,ap,vk],op=t=>typeof t=="bigint"||Number.isInteger(t),Xh=(t,e,n)=>qe.intOptions.asBigInt?BigInt(t):parseInt(e,n);function RC(t,e,n){let{value:r}=t;return op(r)&&r>=0?n+r.toString(e):qe.stringifyNumber(t)}var wC={identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new qe.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:qe.nullOptions,stringify:()=>qe.nullOptions.nullStr},OC={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>t[0]==="t"||t[0]==="T",options:qe.boolOptions,stringify:({value:t})=>t?qe.boolOptions.trueStr:qe.boolOptions.falseStr},FC={identify:t=>op(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o([0-7]+)$/,resolve:(t,e)=>Xh(t,e,8),options:qe.intOptions,stringify:t=>RC(t,8,"0o")},LC={identify:op,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:t=>Xh(t,t,10),options:qe.intOptions,stringify:qe.stringifyNumber},kC={identify:t=>op(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x([0-9a-fA-F]+)$/,resolve:(t,e)=>Xh(t,e,16),options:qe.intOptions,stringify:t=>RC(t,16,"0x")},MC={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:qe.stringifyNumber},BC={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify:({value:t})=>Number(t).toExponential()},qC={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.([0-9]+)|[0-9]+\.([0-9]*))$/,resolve(t,e,n){let r=e||n,i=new qe.Scalar(parseFloat(t));return r&&r[r.length-1]==="0"&&(i.minFractionDigits=r.length),i},stringify:qe.stringifyNumber},Nk=zh.concat([wC,OC,FC,LC,kC,MC,BC,qC]),VC=t=>typeof t=="bigint"||Number.isInteger(t),lp=({value:t})=>JSON.stringify(t),jC=[Au,ap,{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:qe.resolveString,stringify:lp},{identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new qe.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:lp},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:lp},{identify:VC,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:t=>qe.intOptions.asBigInt?BigInt(t):parseInt(t,10),stringify:({value:t})=>VC(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:lp}];jC.scalarFallback=t=>{throw new SyntaxError(`Unresolved plain scalar ${JSON.stringify(t)}`)};var UC=({value:t})=>t?qe.boolOptions.trueStr:qe.boolOptions.falseStr,xu=t=>typeof t=="bigint"||Number.isInteger(t);function up(t,e,n){let r=e.replace(/_/g,"");if(qe.intOptions.asBigInt){switch(n){case 2:r=`0b${r}`;break;case 8:r=`0o${r}`;break;case 16:r=`0x${r}`;break}let s=BigInt(r);return t==="-"?BigInt(-1)*s:s}let i=parseInt(r,n);return t==="-"?-1*i:i}function Qh(t,e,n){let{value:r}=t;if(xu(r)){let i=r.toString(e);return r<0?"-"+n+i.substr(1):n+i}return qe.stringifyNumber(t)}var Ck=zh.concat([{identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new qe.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:qe.nullOptions,stringify:()=>qe.nullOptions.nullStr},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>!0,options:qe.boolOptions,stringify:UC},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>!1,options:qe.boolOptions,stringify:UC},{identify:xu,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^([-+]?)0b([0-1_]+)$/,resolve:(t,e,n)=>up(e,n,2),stringify:t=>Qh(t,2,"0b")},{identify:xu,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^([-+]?)0([0-7_]+)$/,resolve:(t,e,n)=>up(e,n,8),stringify:t=>Qh(t,8,"0")},{identify:xu,default:!0,tag:"tag:yaml.org,2002:int",test:/^([-+]?)([0-9][0-9_]*)$/,resolve:(t,e,n)=>up(e,n,10),stringify:qe.stringifyNumber},{identify:xu,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^([-+]?)0x([0-9a-fA-F_]+)$/,resolve:(t,e,n)=>up(e,n,16),stringify:t=>Qh(t,16,"0x")},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:qe.stringifyNumber},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?([0-9][0-9_]*)?(\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify:({value:t})=>Number(t).toExponential()},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.([0-9_]*)$/,resolve(t,e){let n=new qe.Scalar(parseFloat(t.replace(/_/g,"")));if(e){let r=e.replace(/_/g,"");r[r.length-1]==="0"&&(n.minFractionDigits=r.length)}return n},stringify:qe.stringifyNumber}],er.binary,er.omap,er.pairs,er.set,er.intTime,er.floatTime,er.timestamp),Pk={core:Nk,failsafe:zh,json:jC,yaml11:Ck},Dk={binary:er.binary,bool:OC,float:qC,floatExp:BC,floatNaN:MC,floatTime:er.floatTime,int:LC,intHex:kC,intOct:FC,intTime:er.intTime,map:Au,null:wC,omap:er.omap,pairs:er.pairs,seq:ap,set:er.set,timestamp:er.timestamp};function Sk(t,e,n){if(e){let r=n.filter(s=>s.tag===e),i=r.find(s=>!s.format)||r[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return n.find(r=>(r.identify&&r.identify(t)||r.class&&t instanceof r.class)&&!r.format)}function Ik(t,e,n){if(t instanceof qe.Node)return t;let{defaultPrefix:r,onTagObj:i,prevObjects:s,schema:a,wrapScalars:o}=n;e&&e.startsWith("!!")&&(e=r+e.slice(2));let l=Sk(t,e,a.tags);if(!l){if(typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object")return o?new qe.Scalar(t):t;l=t instanceof Map?Au:t[Symbol.iterator]?ap:Au}i&&(i(l),delete n.onTagObj);let u={value:void 0,node:void 0};if(t&&typeof t=="object"&&s){let c=s.get(t);if(c){let f=new qe.Alias(c);return n.aliasNodes.push(f),f}u.value=t,s.set(t,u)}return u.node=l.createNode?l.createNode(n.schema,t,n):o?new qe.Scalar(t):t,e&&u.node instanceof qe.Node&&(u.node.tag=e),u.node}function Ek(t,e,n,r){let i=t[r.replace(/\W/g,"")];if(!i){let s=Object.keys(t).map(a=>JSON.stringify(a)).join(", ");throw new Error(`Unknown schema "${r}"; use one of ${s}`)}if(Array.isArray(n))for(let s of n)i=i.concat(s);else typeof n=="function"&&(i=n(i.slice()));for(let s=0;s<i.length;++s){let a=i[s];if(typeof a=="string"){let o=e[a];if(!o){let l=Object.keys(e).map(u=>JSON.stringify(u)).join(", ");throw new Error(`Unknown custom tag "${a}"; use one of ${l}`)}i[s]=o}}return i}var Ak=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0,hl=class{constructor({customTags:e,merge:n,schema:r,sortMapEntries:i,tags:s}){this.merge=!!n,this.name=r,this.sortMapEntries=i===!0?Ak:i||null,!e&&s&&er.warnOptionDeprecation("tags","customTags"),this.tags=Ek(Pk,Dk,e||s,r)}createNode(e,n,r,i){let s={defaultPrefix:hl.defaultPrefix,schema:this,wrapScalars:n},a=i?Object.assign(i,s):s;return Ik(e,r,a)}createPair(e,n,r){r||(r={wrapScalars:!0});let i=this.createNode(e,r.wrapScalars,null,r),s=this.createNode(n,r.wrapScalars,null,r);return new qe.Pair(i,s)}};sp._defineProperty(hl,"defaultPrefix",sp.defaultTagPrefix);sp._defineProperty(hl,"defaultTags",sp.defaultTags);WC.Schema=hl});var $C=J(mp=>{"use strict";var tr=$s(),je=ml(),GC=cp(),xk={anchorPrefix:"a",customTags:null,indent:2,indentSeq:!0,keepCstNodes:!1,keepNodeTypes:!0,keepBlobsInJSON:!0,mapAsMap:!1,maxAliasCount:100,prettyErrors:!1,simpleKeys:!1,version:"1.2"},Rk={get binary(){return je.binaryOptions},set binary(t){Object.assign(je.binaryOptions,t)},get bool(){return je.boolOptions},set bool(t){Object.assign(je.boolOptions,t)},get int(){return je.intOptions},set int(t){Object.assign(je.intOptions,t)},get null(){return je.nullOptions},set null(t){Object.assign(je.nullOptions,t)},get str(){return je.strOptions},set str(t){Object.assign(je.strOptions,t)}},HC={"1.0":{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:tr.defaultTagPrefix},{handle:"!!",prefix:"tag:private.yaml.org,2002:"}]},1.1:{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:tr.defaultTagPrefix}]},1.2:{schema:"core",merge:!1,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:tr.defaultTagPrefix}]}};function YC(t,e){if((t.version||t.options.version)==="1.0"){let i=e.match(/^tag:private\.yaml\.org,2002:([^:/]+)$/);if(i)return"!"+i[1];let s=e.match(/^tag:([a-zA-Z0-9-]+)\.yaml\.org,2002:(.*)/);return s?`!${s[1]}/${s[2]}`:`!${e.replace(/^tag:/,"")}`}let n=t.tagPrefixes.find(i=>e.indexOf(i.prefix)===0);if(!n){let i=t.getDefaults().tagPrefixes;n=i&&i.find(s=>e.indexOf(s.prefix)===0)}if(!n)return e[0]==="!"?e:`!<${e}>`;let r=e.substr(n.prefix.length).replace(/[!,[\]{}]/g,i=>({"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"})[i]);return n.handle+r}function wk(t,e){if(e instanceof je.Alias)return je.Alias;if(e.tag){let i=t.filter(s=>s.tag===e.tag);if(i.length>0)return i.find(s=>s.format===e.format)||i[0]}let n,r;if(e instanceof je.Scalar){r=e.value;let i=t.filter(s=>s.identify&&s.identify(r)||s.class&&r instanceof s.class);n=i.find(s=>s.format===e.format)||i.find(s=>!s.format)}else r=e,n=t.find(i=>i.nodeClass&&r instanceof i.nodeClass);if(!n){let i=r&&r.constructor?r.constructor.name:typeof r;throw new Error(`Tag not resolved for ${i} value`)}return n}function Ok(t,e,{anchors:n,doc:r}){let i=[],s=r.anchors.getName(t);return s&&(n[s]=t,i.push(`&${s}`)),t.tag?i.push(YC(r,t.tag)):e.default||i.push(YC(r,e.tag)),i.join(" ")}function fp(t,e,n,r){let{anchors:i,schema:s}=e.doc,a;if(!(t instanceof je.Node)){let u={aliasNodes:[],onTagObj:c=>a=c,prevObjects:new Map};t=s.createNode(t,!0,null,u);for(let c of u.aliasNodes){c.source=c.source.node;let f=i.getName(c.source);f||(f=i.newName(),i.map[f]=c.source)}}if(t instanceof je.Pair)return t.toString(e,n,r);a||(a=wk(s.tags,t));let o=Ok(t,a,e);o.length>0&&(e.indentAtStart=(e.indentAtStart||0)+o.length+1);let l=typeof a.stringify=="function"?a.stringify(t,e,n,r):t instanceof je.Scalar?je.stringifyString(t,e,n,r):t.toString(e,n,r);return o?t instanceof je.Scalar||l[0]==="{"||l[0]==="["?`${o} ${l}`:`${o}
${e.indent}${l}`:l}var pp=class{static validAnchorNode(e){return e instanceof je.Scalar||e instanceof je.YAMLSeq||e instanceof je.YAMLMap}constructor(e){tr._defineProperty(this,"map",Object.create(null)),this.prefix=e}createAlias(e,n){return this.setAnchor(e,n),new je.Alias(e)}createMergePair(...e){let n=new je.Merge;return n.value.items=e.map(r=>{if(r instanceof je.Alias){if(r.source instanceof je.YAMLMap)return r}else if(r instanceof je.YAMLMap)return this.createAlias(r);throw new Error("Merge sources must be Map nodes or their Aliases")}),n}getName(e){let{map:n}=this;return Object.keys(n).find(r=>n[r]===e)}getNames(){return Object.keys(this.map)}getNode(e){return this.map[e]}newName(e){e||(e=this.prefix);let n=Object.keys(this.map);for(let r=1;;++r){let i=`${e}${r}`;if(!n.includes(i))return i}}resolveNodes(){let{map:e,_cstAliases:n}=this;Object.keys(e).forEach(r=>{e[r]=e[r].resolved}),n.forEach(r=>{r.source=r.source.resolved}),delete this._cstAliases}setAnchor(e,n){if(e!=null&&!pp.validAnchorNode(e))throw new Error("Anchors may only be set for Scalar, Seq and Map nodes");if(n&&/[\x00-\x19\s,[\]{}]/.test(n))throw new Error("Anchor names must not contain whitespace or control characters");let{map:r}=this,i=e&&Object.keys(r).find(s=>r[s]===e);if(i)if(n)i!==n&&(delete r[i],r[n]=e);else return i;else{if(!n){if(!e)return null;n=this.newName()}r[n]=e}return n}},dp=(t,e)=>{if(t&&typeof t=="object"){let{tag:n}=t;t instanceof je.Collection?(n&&(e[n]=!0),t.items.forEach(r=>dp(r,e))):t instanceof je.Pair?(dp(t.key,e),dp(t.value,e)):t instanceof je.Scalar&&n&&(e[n]=!0)}return e},Fk=t=>Object.keys(dp(t,{}));function Lk(t,e){let n={before:[],after:[]},r,i=!1;for(let s of e)if(s.valueRange){if(r!==void 0){let o="Document contains trailing content not separated by a ... or --- line";t.errors.push(new tr.YAMLSyntaxError(s,o));break}let a=je.resolveNode(t,s);i&&(a.spaceBefore=!0,i=!1),r=a}else s.comment!==null?(r===void 0?n.before:n.after).push(s.comment):s.type===tr.Type.BLANK_LINE&&(i=!0,r===void 0&&n.before.length>0&&!t.commentBefore&&(t.commentBefore=n.before.join(`
`),n.before=[]));if(t.contents=r||null,!r)t.comment=n.before.concat(n.after).join(`
`)||null;else{let s=n.before.join(`
`);if(s){let a=r instanceof je.Collection&&r.items[0]?r.items[0]:r;a.commentBefore=a.commentBefore?`${s}
${a.commentBefore}`:s}t.comment=n.after.join(`
`)||null}}function kk({tagPrefixes:t},e){let[n,r]=e.parameters;if(!n||!r){let i="Insufficient parameters given for %TAG directive";throw new tr.YAMLSemanticError(e,i)}if(t.some(i=>i.handle===n)){let i="The %TAG directive must only be given at most once per handle in the same document.";throw new tr.YAMLSemanticError(e,i)}return{handle:n,prefix:r}}function Mk(t,e){let[n]=e.parameters;if(e.name==="YAML:1.0"&&(n="1.0"),!n){let r="Insufficient parameters given for %YAML directive";throw new tr.YAMLSemanticError(e,r)}if(!HC[n]){let i=`Document will be parsed as YAML ${t.version||t.options.version} rather than YAML ${n}`;t.warnings.push(new tr.YAMLWarning(e,i))}return n}function Bk(t,e,n){let r=[],i=!1;for(let s of e){let{comment:a,name:o}=s;switch(o){case"TAG":try{t.tagPrefixes.push(kk(t,s))}catch(l){t.errors.push(l)}i=!0;break;case"YAML":case"YAML:1.0":if(t.version){let l="The %YAML directive must only be given at most once per document.";t.errors.push(new tr.YAMLSemanticError(s,l))}try{t.version=Mk(t,s)}catch(l){t.errors.push(l)}i=!0;break;default:if(o){let l=`YAML only supports %TAG and %YAML directives, and not %${o}`;t.warnings.push(new tr.YAMLWarning(s,l))}}a&&r.push(a)}if(n&&!i&&(t.version||n.version||t.options.version)==="1.1"){let s=({handle:a,prefix:o})=>({handle:a,prefix:o});t.tagPrefixes=n.tagPrefixes.map(s),t.version=n.version}t.commentBefore=r.join(`
`)||null}function gl(t){if(t instanceof je.Collection)return!0;throw new Error("Expected a YAML collection as document contents")}var _l=class{constructor(e){this.anchors=new pp(e.anchorPrefix),this.commentBefore=null,this.comment=null,this.contents=null,this.directivesEndMarker=null,this.errors=[],this.options=e,this.schema=null,this.tagPrefixes=[],this.version=null,this.warnings=[]}add(e){return gl(this.contents),this.contents.add(e)}addIn(e,n){gl(this.contents),this.contents.addIn(e,n)}delete(e){return gl(this.contents),this.contents.delete(e)}deleteIn(e){return je.isEmptyPath(e)?this.contents==null?!1:(this.contents=null,!0):(gl(this.contents),this.contents.deleteIn(e))}getDefaults(){return _l.defaults[this.version]||_l.defaults[this.options.version]||{}}get(e,n){return this.contents instanceof je.Collection?this.contents.get(e,n):void 0}getIn(e,n){return je.isEmptyPath(e)?!n&&this.contents instanceof je.Scalar?this.contents.value:this.contents:this.contents instanceof je.Collection?this.contents.getIn(e,n):void 0}has(e){return this.contents instanceof je.Collection?this.contents.has(e):!1}hasIn(e){return je.isEmptyPath(e)?this.contents!==void 0:this.contents instanceof je.Collection?this.contents.hasIn(e):!1}set(e,n){gl(this.contents),this.contents.set(e,n)}setIn(e,n){je.isEmptyPath(e)?this.contents=n:(gl(this.contents),this.contents.setIn(e,n))}setSchema(e,n){if(!e&&!n&&this.schema)return;typeof e=="number"&&(e=e.toFixed(1)),e==="1.0"||e==="1.1"||e==="1.2"?(this.version?this.version=e:this.options.version=e,delete this.options.schema):e&&typeof e=="string"&&(this.options.schema=e),Array.isArray(n)&&(this.options.customTags=n);let r=Object.assign({},this.getDefaults(),this.options);this.schema=new GC.Schema(r)}parse(e,n){this.options.keepCstNodes&&(this.cstNode=e),this.options.keepNodeTypes&&(this.type="DOCUMENT");let{directives:r=[],contents:i=[],directivesEndMarker:s,error:a,valueRange:o}=e;if(a&&(a.source||(a.source=this),this.errors.push(a)),Bk(this,r,n),s&&(this.directivesEndMarker=!0),this.range=o?[o.start,o.end]:null,this.setSchema(),this.anchors._cstAliases=[],Lk(this,i),this.anchors.resolveNodes(),this.options.prettyErrors){for(let l of this.errors)l instanceof tr.YAMLError&&l.makePretty();for(let l of this.warnings)l instanceof tr.YAMLError&&l.makePretty()}return this}listNonDefaultTags(){return Fk(this.contents).filter(e=>e.indexOf(GC.Schema.defaultPrefix)!==0)}setTagPrefix(e,n){if(e[0]!=="!"||e[e.length-1]!=="!")throw new Error("Handle must start and end with !");if(n){let r=this.tagPrefixes.find(i=>i.handle===e);r?r.prefix=n:this.tagPrefixes.push({handle:e,prefix:n})}else this.tagPrefixes=this.tagPrefixes.filter(r=>r.handle!==e)}toJSON(e,n){let{keepBlobsInJSON:r,mapAsMap:i,maxAliasCount:s}=this.options,a=r&&(typeof e!="string"||!(this.contents instanceof je.Scalar)),o={doc:this,indentStep:"  ",keep:a,mapAsMap:a&&!!i,maxAliasCount:s,stringify:fp},l=Object.keys(this.anchors.map);l.length>0&&(o.anchors=new Map(l.map(c=>[this.anchors.map[c],{alias:[],aliasCount:0,count:1}])));let u=je.toJSON(this.contents,e,o);if(typeof n=="function"&&o.anchors)for(let{count:c,res:f}of o.anchors.values())n(f,c);return u}toString(){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");let e=this.options.indent;if(!Number.isInteger(e)||e<=0){let l=JSON.stringify(e);throw new Error(`"indent" option must be a positive integer, not ${l}`)}this.setSchema();let n=[],r=!1;if(this.version){let l="%YAML 1.2";this.schema.name==="yaml-1.1"&&(this.version==="1.0"?l="%YAML:1.0":this.version==="1.1"&&(l="%YAML 1.1")),n.push(l),r=!0}let i=this.listNonDefaultTags();this.tagPrefixes.forEach(({handle:l,prefix:u})=>{i.some(c=>c.indexOf(u)===0)&&(n.push(`%TAG ${l} ${u}`),r=!0)}),(r||this.directivesEndMarker)&&n.push("---"),this.commentBefore&&((r||!this.directivesEndMarker)&&n.unshift(""),n.unshift(this.commentBefore.replace(/^/gm,"#")));let s={anchors:Object.create(null),doc:this,indent:"",indentStep:" ".repeat(e),stringify:fp},a=!1,o=null;if(this.contents){this.contents instanceof je.Node&&(this.contents.spaceBefore&&(r||this.directivesEndMarker)&&n.push(""),this.contents.commentBefore&&n.push(this.contents.commentBefore.replace(/^/gm,"#")),s.forceBlockIndent=!!this.comment,o=this.contents.comment);let l=o?null:()=>a=!0,u=fp(this.contents,s,()=>o=null,l);n.push(je.addComment(u,"",o))}else this.contents!==void 0&&n.push(fp(this.contents,s));return this.comment&&((!a||o)&&n[n.length-1]!==""&&n.push(""),n.push(this.comment.replace(/^/gm,"#"))),n.join(`
`)+`
`}};tr._defineProperty(_l,"defaults",HC);mp.Document=_l;mp.defaultOptions=xk;mp.scalarOptions=Rk});var XC=J(zC=>{"use strict";var Jh=hC(),Wa=$C(),qk=cp(),Vk=$s(),jk=ip();ml();function Uk(t,e=!0,n){n===void 0&&typeof e=="string"&&(n=e,e=!0);let r=Object.assign({},Wa.Document.defaults[Wa.defaultOptions.version],Wa.defaultOptions);return new qk.Schema(r).createNode(t,e,n)}var Ru=class extends Wa.Document{constructor(e){super(Object.assign({},Wa.defaultOptions,e))}};function Wk(t,e){let n=[],r;for(let i of Jh.parse(t)){let s=new Ru(e);s.parse(i,r),n.push(s),r=s}return n}function KC(t,e){let n=Jh.parse(t),r=new Ru(e).parse(n[0]);if(n.length>1){let i="Source contains multiple documents; please use YAML.parseAllDocuments()";r.errors.unshift(new Vk.YAMLSemanticError(n[1],i))}return r}function Gk(t,e){let n=KC(t,e);if(n.warnings.forEach(r=>jk.warn(r)),n.errors.length>0)throw n.errors[0];return n.toJSON()}function Hk(t,e){let n=new Ru(e);return n.contents=t,String(n)}var Yk={createNode:Uk,defaultOptions:Wa.defaultOptions,Document:Ru,parse:Gk,parseAllDocuments:Wk,parseCST:Jh.parse,parseDocument:KC,scalarOptions:Wa.scalarOptions,stringify:Hk};zC.YAML=Yk});var Xi=J((Fre,QC)=>{QC.exports=XC().YAML});var JC=J(nr=>{"use strict";var Sr=ml(),$k=cp();$s();ip();nr.Alias=Sr.Alias;nr.Collection=Sr.Collection;nr.Merge=Sr.Merge;nr.Node=Sr.Node;nr.Pair=Sr.Pair;nr.Scalar=Sr.Scalar;nr.YAMLMap=Sr.YAMLMap;nr.YAMLSeq=Sr.YAMLSeq;nr.binaryOptions=Sr.binaryOptions;nr.boolOptions=Sr.boolOptions;nr.intOptions=Sr.intOptions;nr.nullOptions=Sr.nullOptions;nr.strOptions=Sr.strOptions;nr.Schema=$k.Schema});var rP=J((nP,_p)=>{(function(t){if(typeof _p=="object"&&typeof _p.exports=="object"){var e=t(require,nP);e!==void 0&&(_p.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function l(u,c,f,d){this._uri=u,this._languageId=c,this._version=f,this._content=d,this._lineOffsets=void 0}return Object.defineProperty(l.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),l.prototype.getText=function(u){if(u){var c=this.offsetAt(u.start),f=this.offsetAt(u.end);return this._content.substring(c,f)}return this._content},l.prototype.update=function(u,c){for(var f=0,d=u;f<d.length;f++){var m=d[f];if(l.isIncremental(m)){var p=a(m.range),h=this.offsetAt(p.start),_=this.offsetAt(p.end);this._content=this._content.substring(0,h)+m.text+this._content.substring(_,this._content.length);var g=Math.max(p.start.line,0),b=Math.max(p.end.line,0),y=this._lineOffsets,T=s(m.text,!1,h);if(b-g===T.length)for(var C=0,W=T.length;C<W;C++)y[C+g+1]=T[C];else T.length<1e4?y.splice.apply(y,[g+1,b-g].concat(T)):this._lineOffsets=y=y.slice(0,g+1).concat(T,y.slice(b+1));var F=m.text.length-(_-h);if(F!==0)for(var C=g+1+T.length,W=y.length;C<W;C++)y[C]=y[C]+F}else if(l.isFull(m))this._content=m.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received")}this._version=c},l.prototype.getLineOffsets=function(){return this._lineOffsets===void 0&&(this._lineOffsets=s(this._content,!0)),this._lineOffsets},l.prototype.positionAt=function(u){u=Math.max(Math.min(u,this._content.length),0);var c=this.getLineOffsets(),f=0,d=c.length;if(d===0)return{line:0,character:u};for(;f<d;){var m=Math.floor((f+d)/2);c[m]>u?d=m:f=m+1}var p=f-1;return{line:p,character:u-c[p]}},l.prototype.offsetAt=function(u){var c=this.getLineOffsets();if(u.line>=c.length)return this._content.length;if(u.line<0)return 0;var f=c[u.line],d=u.line+1<c.length?c[u.line+1]:this._content.length;return Math.max(Math.min(f+u.character,d),f)},Object.defineProperty(l.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),l.isIncremental=function(u){var c=u;return c!=null&&typeof c.text=="string"&&c.range!==void 0&&(c.rangeLength===void 0||typeof c.rangeLength=="number")},l.isFull=function(u){var c=u;return c!=null&&typeof c.text=="string"&&c.range===void 0&&c.rangeLength===void 0},l}(),r;(function(l){function u(d,m,p,h){return new n(d,m,p,h)}l.create=u;function c(d,m,p){if(d instanceof n)return d.update(m,p),d;throw new Error("TextDocument.update: document must be created by TextDocument.create")}l.update=c;function f(d,m){for(var p=d.getText(),h=i(m.map(o),function(W,F){var L=W.range.start.line-F.range.start.line;return L===0?W.range.start.character-F.range.start.character:L}),_=0,g=[],b=0,y=h;b<y.length;b++){var T=y[b],C=d.offsetAt(T.range.start);if(C<_)throw new Error("Overlapping edit");C>_&&g.push(p.substring(_,C)),T.newText.length&&g.push(T.newText),_=d.offsetAt(T.range.end)}return g.push(p.substr(_)),g.join("")}l.applyEdits=f})(r=e.TextDocument||(e.TextDocument={}));function i(l,u){if(l.length<=1)return l;var c=l.length/2|0,f=l.slice(0,c),d=l.slice(c);i(f,u),i(d,u);for(var m=0,p=0,h=0;m<f.length&&p<d.length;){var _=u(f[m],d[p]);_<=0?l[h++]=f[m++]:l[h++]=d[p++]}for(;m<f.length;)l[h++]=f[m++];for(;p<d.length;)l[h++]=d[p++];return l}function s(l,u,c){c===void 0&&(c=0);for(var f=u?[c]:[],d=0;d<l.length;d++){var m=l.charCodeAt(d);(m===13||m===10)&&(m===13&&d+1<l.length&&l.charCodeAt(d+1)===10&&d++,f.push(c+d+1))}return f}function a(l){var u=l.start,c=l.end;return u.line>c.line||u.line===c.line&&u.character>c.character?{start:c,end:u}:l}function o(l){var u=a(l.range);return u!==l.range?{newText:l.newText,range:u}:l}})});var sP=J((ise,iP)=>{"use strict";iP.exports=Cn()});var Vg=J((Ge,MD)=>{Ge=MD.exports=it;var vt;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?vt=function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("SEMVER"),console.log.apply(console,t)}:vt=function(){};Ge.SEMVER_SPEC_VERSION="2.0.0";var Cg=256,Sp=Number.MAX_SAFE_INTEGER||9007199254740991,Pg=16,At=Ge.re=[],ie=Ge.src=[],nt=0,Sl=nt++;ie[Sl]="0|[1-9]\\d*";var Il=nt++;ie[Il]="[0-9]+";var Dg=nt++;ie[Dg]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var ND=nt++;ie[ND]="("+ie[Sl]+")\\.("+ie[Sl]+")\\.("+ie[Sl]+")";var CD=nt++;ie[CD]="("+ie[Il]+")\\.("+ie[Il]+")\\.("+ie[Il]+")";var Sg=nt++;ie[Sg]="(?:"+ie[Sl]+"|"+ie[Dg]+")";var Ig=nt++;ie[Ig]="(?:"+ie[Il]+"|"+ie[Dg]+")";var Eg=nt++;ie[Eg]="(?:-("+ie[Sg]+"(?:\\."+ie[Sg]+")*))";var Ag=nt++;ie[Ag]="(?:-?("+ie[Ig]+"(?:\\."+ie[Ig]+")*))";var xg=nt++;ie[xg]="[0-9A-Za-z-]+";var Wu=nt++;ie[Wu]="(?:\\+("+ie[xg]+"(?:\\."+ie[xg]+")*))";var Rg=nt++,PD="v?"+ie[ND]+ie[Eg]+"?"+ie[Wu]+"?";ie[Rg]="^"+PD+"$";var wg="[v=\\s]*"+ie[CD]+ie[Ag]+"?"+ie[Wu]+"?",Og=nt++;ie[Og]="^"+wg+"$";var El=nt++;ie[El]="((?:<|>)?=?)";var Ip=nt++;ie[Ip]=ie[Il]+"|x|X|\\*";var Ep=nt++;ie[Ep]=ie[Sl]+"|x|X|\\*";var $a=nt++;ie[$a]="[v=\\s]*("+ie[Ep]+")(?:\\.("+ie[Ep]+")(?:\\.("+ie[Ep]+")(?:"+ie[Eg]+")?"+ie[Wu]+"?)?)?";var Al=nt++;ie[Al]="[v=\\s]*("+ie[Ip]+")(?:\\.("+ie[Ip]+")(?:\\.("+ie[Ip]+")(?:"+ie[Ag]+")?"+ie[Wu]+"?)?)?";var DD=nt++;ie[DD]="^"+ie[El]+"\\s*"+ie[$a]+"$";var SD=nt++;ie[SD]="^"+ie[El]+"\\s*"+ie[Al]+"$";var ID=nt++;ie[ID]="(?:^|[^\\d])(\\d{1,"+Pg+"})(?:\\.(\\d{1,"+Pg+"}))?(?:\\.(\\d{1,"+Pg+"}))?(?:$|[^\\d])";var Ap=nt++;ie[Ap]="(?:~>?)";var xp=nt++;ie[xp]="(\\s*)"+ie[Ap]+"\\s+";At[xp]=new RegExp(ie[xp],"g");var kB="$1~",ED=nt++;ie[ED]="^"+ie[Ap]+ie[$a]+"$";var AD=nt++;ie[AD]="^"+ie[Ap]+ie[Al]+"$";var Rp=nt++;ie[Rp]="(?:\\^)";var wp=nt++;ie[wp]="(\\s*)"+ie[Rp]+"\\s+";At[wp]=new RegExp(ie[wp],"g");var MB="$1^",xD=nt++;ie[xD]="^"+ie[Rp]+ie[$a]+"$";var RD=nt++;ie[RD]="^"+ie[Rp]+ie[Al]+"$";var Fg=nt++;ie[Fg]="^"+ie[El]+"\\s*("+wg+")$|^$";var Lg=nt++;ie[Lg]="^"+ie[El]+"\\s*("+PD+")$|^$";var Gu=nt++;ie[Gu]="(\\s*)"+ie[El]+"\\s*("+wg+"|"+ie[$a]+")";At[Gu]=new RegExp(ie[Gu],"g");var BB="$1$2$3",wD=nt++;ie[wD]="^\\s*("+ie[$a]+")\\s+-\\s+("+ie[$a]+")\\s*$";var OD=nt++;ie[OD]="^\\s*("+ie[Al]+")\\s+-\\s+("+ie[Al]+")\\s*$";var FD=nt++;ie[FD]="(<|>)?=?\\s*\\*";for(ta=0;ta<nt;ta++)vt(ta,ie[ta]),At[ta]||(At[ta]=new RegExp(ie[ta]));var ta;Ge.parse=Ka;function Ka(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof it)return t;if(typeof t!="string"||t.length>Cg)return null;var n=e.loose?At[Og]:At[Rg];if(!n.test(t))return null;try{return new it(t,e)}catch{return null}}Ge.valid=qB;function qB(t,e){var n=Ka(t,e);return n?n.version:null}Ge.clean=VB;function VB(t,e){var n=Ka(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null}Ge.SemVer=it;function it(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof it){if(t.loose===e.loose)return t;t=t.version}else if(typeof t!="string")throw new TypeError("Invalid Version: "+t);if(t.length>Cg)throw new TypeError("version is longer than "+Cg+" characters");if(!(this instanceof it))return new it(t,e);vt("SemVer",t,e),this.options=e,this.loose=!!e.loose;var n=t.trim().match(e.loose?At[Og]:At[Rg]);if(!n)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Sp||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Sp||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Sp||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(function(r){if(/^[0-9]+$/.test(r)){var i=+r;if(i>=0&&i<Sp)return i}return r}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}it.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};it.prototype.toString=function(){return this.version};it.prototype.compare=function(t){return vt("SemVer.compare",this.version,this.options,t),t instanceof it||(t=new it(t,this.options)),this.compareMain(t)||this.comparePre(t)};it.prototype.compareMain=function(t){return t instanceof it||(t=new it(t,this.options)),xl(this.major,t.major)||xl(this.minor,t.minor)||xl(this.patch,t.patch)};it.prototype.comparePre=function(t){if(t instanceof it||(t=new it(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var e=0;do{var n=this.prerelease[e],r=t.prerelease[e];if(vt("prerelease compare",e,n,r),n===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(n===void 0)return-1;if(n===r)continue;return xl(n,r)}while(++e)};it.prototype.inc=function(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",e),this.inc("pre",e);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+t)}return this.format(),this.raw=this.version,this};Ge.inc=jB;function jB(t,e,n,r){typeof n=="string"&&(r=n,n=void 0);try{return new it(t,n).inc(e,r).version}catch{return null}}Ge.diff=UB;function UB(t,e){if(kg(t,e))return null;var n=Ka(t),r=Ka(e),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var s="prerelease"}for(var a in n)if((a==="major"||a==="minor"||a==="patch")&&n[a]!==r[a])return i+a;return s}Ge.compareIdentifiers=xl;var LD=/^[0-9]+$/;function xl(t,e){var n=LD.test(t),r=LD.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1}Ge.rcompareIdentifiers=WB;function WB(t,e){return xl(e,t)}Ge.major=GB;function GB(t,e){return new it(t,e).major}Ge.minor=HB;function HB(t,e){return new it(t,e).minor}Ge.patch=YB;function YB(t,e){return new it(t,e).patch}Ge.compare=bs;function bs(t,e,n){return new it(t,n).compare(new it(e,n))}Ge.compareLoose=$B;function $B(t,e){return bs(t,e,!0)}Ge.rcompare=KB;function KB(t,e,n){return bs(e,t,n)}Ge.sort=zB;function zB(t,e){return t.sort(function(n,r){return Ge.compare(n,r,e)})}Ge.rsort=XB;function XB(t,e){return t.sort(function(n,r){return Ge.rcompare(n,r,e)})}Ge.gt=Hu;function Hu(t,e,n){return bs(t,e,n)>0}Ge.lt=Op;function Op(t,e,n){return bs(t,e,n)<0}Ge.eq=kg;function kg(t,e,n){return bs(t,e,n)===0}Ge.neq=kD;function kD(t,e,n){return bs(t,e,n)!==0}Ge.gte=Mg;function Mg(t,e,n){return bs(t,e,n)>=0}Ge.lte=Bg;function Bg(t,e,n){return bs(t,e,n)<=0}Ge.cmp=Fp;function Fp(t,e,n,r){switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return kg(t,n,r);case"!=":return kD(t,n,r);case">":return Hu(t,n,r);case">=":return Mg(t,n,r);case"<":return Op(t,n,r);case"<=":return Bg(t,n,r);default:throw new TypeError("Invalid operator: "+e)}}Ge.Comparator=Xr;function Xr(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof Xr){if(t.loose===!!e.loose)return t;t=t.value}if(!(this instanceof Xr))return new Xr(t,e);vt("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===Yu?this.value="":this.value=this.operator+this.semver.version,vt("comp",this)}var Yu={};Xr.prototype.parse=function(t){var e=this.options.loose?At[Fg]:At[Lg],n=t.match(e);if(!n)throw new TypeError("Invalid comparator: "+t);this.operator=n[1],this.operator==="="&&(this.operator=""),n[2]?this.semver=new it(n[2],this.options.loose):this.semver=Yu};Xr.prototype.toString=function(){return this.value};Xr.prototype.test=function(t){return vt("Comparator.test",t,this.options.loose),this.semver===Yu?!0:(typeof t=="string"&&(t=new it(t,this.options)),Fp(t,this.operator,this.semver,this.options))};Xr.prototype.intersects=function(t,e){if(!(t instanceof Xr))throw new TypeError("a Comparator is required");(!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1});var n;if(this.operator==="")return n=new Ht(t.value,e),Lp(this.value,n,e);if(t.operator==="")return n=new Ht(this.value,e),Lp(t.semver,n,e);var r=(this.operator===">="||this.operator===">")&&(t.operator===">="||t.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(t.operator==="<="||t.operator==="<"),s=this.semver.version===t.semver.version,a=(this.operator===">="||this.operator==="<=")&&(t.operator===">="||t.operator==="<="),o=Fp(this.semver,"<",t.semver,e)&&(this.operator===">="||this.operator===">")&&(t.operator==="<="||t.operator==="<"),l=Fp(this.semver,">",t.semver,e)&&(this.operator==="<="||this.operator==="<")&&(t.operator===">="||t.operator===">");return r||i||s&&a||o||l};Ge.Range=Ht;function Ht(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof Ht)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new Ht(t.raw,e);if(t instanceof Xr)return new Ht(t.value,e);if(!(this instanceof Ht))return new Ht(t,e);if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map(function(n){return this.parseRange(n.trim())},this).filter(function(n){return n.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+t);this.format()}Ht.prototype.format=function(){return this.range=this.set.map(function(t){return t.join(" ").trim()}).join("||").trim(),this.range};Ht.prototype.toString=function(){return this.range};Ht.prototype.parseRange=function(t){var e=this.options.loose;t=t.trim();var n=e?At[OD]:At[wD];t=t.replace(n,aq),vt("hyphen replace",t),t=t.replace(At[Gu],BB),vt("comparator trim",t,At[Gu]),t=t.replace(At[xp],kB),t=t.replace(At[wp],MB),t=t.split(/\s+/).join(" ");var r=e?At[Fg]:At[Lg],i=t.split(" ").map(function(s){return JB(s,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(s){return!!s.match(r)})),i=i.map(function(s){return new Xr(s,this.options)},this),i};Ht.prototype.intersects=function(t,e){if(!(t instanceof Ht))throw new TypeError("a Range is required");return this.set.some(function(n){return n.every(function(r){return t.set.some(function(i){return i.every(function(s){return r.intersects(s,e)})})})})};Ge.toComparators=QB;function QB(t,e){return new Ht(t,e).set.map(function(n){return n.map(function(r){return r.value}).join(" ").trim().split(" ")})}function JB(t,e){return vt("comp",t,e),t=tq(t,e),vt("caret",t),t=ZB(t,e),vt("tildes",t),t=rq(t,e),vt("xrange",t),t=sq(t,e),vt("stars",t),t}function sr(t){return!t||t.toLowerCase()==="x"||t==="*"}function ZB(t,e){return t.trim().split(/\s+/).map(function(n){return eq(n,e)}).join(" ")}function eq(t,e){var n=e.loose?At[AD]:At[ED];return t.replace(n,function(r,i,s,a,o){vt("tilde",t,r,i,s,a,o);var l;return sr(i)?l="":sr(s)?l=">="+i+".0.0 <"+(+i+1)+".0.0":sr(a)?l=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":o?(vt("replaceTilde pr",o),l=">="+i+"."+s+"."+a+"-"+o+" <"+i+"."+(+s+1)+".0"):l=">="+i+"."+s+"."+a+" <"+i+"."+(+s+1)+".0",vt("tilde return",l),l})}function tq(t,e){return t.trim().split(/\s+/).map(function(n){return nq(n,e)}).join(" ")}function nq(t,e){vt("caret",t,e);var n=e.loose?At[RD]:At[xD];return t.replace(n,function(r,i,s,a,o){vt("caret",t,r,i,s,a,o);var l;return sr(i)?l="":sr(s)?l=">="+i+".0.0 <"+(+i+1)+".0.0":sr(a)?i==="0"?l=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":l=">="+i+"."+s+".0 <"+(+i+1)+".0.0":o?(vt("replaceCaret pr",o),i==="0"?s==="0"?l=">="+i+"."+s+"."+a+"-"+o+" <"+i+"."+s+"."+(+a+1):l=">="+i+"."+s+"."+a+"-"+o+" <"+i+"."+(+s+1)+".0":l=">="+i+"."+s+"."+a+"-"+o+" <"+(+i+1)+".0.0"):(vt("no pr"),i==="0"?s==="0"?l=">="+i+"."+s+"."+a+" <"+i+"."+s+"."+(+a+1):l=">="+i+"."+s+"."+a+" <"+i+"."+(+s+1)+".0":l=">="+i+"."+s+"."+a+" <"+(+i+1)+".0.0"),vt("caret return",l),l})}function rq(t,e){return vt("replaceXRanges",t,e),t.split(/\s+/).map(function(n){return iq(n,e)}).join(" ")}function iq(t,e){t=t.trim();var n=e.loose?At[SD]:At[DD];return t.replace(n,function(r,i,s,a,o,l){vt("xRange",t,r,i,s,a,o,l);var u=sr(s),c=u||sr(a),f=c||sr(o),d=f;return i==="="&&d&&(i=""),u?i===">"||i==="<"?r="<0.0.0":r="*":i&&d?(c&&(a=0),o=0,i===">"?(i=">=",c?(s=+s+1,a=0,o=0):(a=+a+1,o=0)):i==="<="&&(i="<",c?s=+s+1:a=+a+1),r=i+s+"."+a+"."+o):c?r=">="+s+".0.0 <"+(+s+1)+".0.0":f&&(r=">="+s+"."+a+".0 <"+s+"."+(+a+1)+".0"),vt("xRange return",r),r})}function sq(t,e){return vt("replaceStars",t,e),t.trim().replace(At[FD],"")}function aq(t,e,n,r,i,s,a,o,l,u,c,f,d){return sr(n)?e="":sr(r)?e=">="+n+".0.0":sr(i)?e=">="+n+"."+r+".0":e=">="+e,sr(l)?o="":sr(u)?o="<"+(+l+1)+".0.0":sr(c)?o="<"+l+"."+(+u+1)+".0":f?o="<="+l+"."+u+"."+c+"-"+f:o="<="+o,(e+" "+o).trim()}Ht.prototype.test=function(t){if(!t)return!1;typeof t=="string"&&(t=new it(t,this.options));for(var e=0;e<this.set.length;e++)if(oq(this.set[e],t,this.options))return!0;return!1};function oq(t,e,n){for(var r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(r=0;r<t.length;r++)if(vt(t[r].semver),t[r].semver!==Yu&&t[r].semver.prerelease.length>0){var i=t[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}Ge.satisfies=Lp;function Lp(t,e,n){try{e=new Ht(e,n)}catch{return!1}return e.test(t)}Ge.maxSatisfying=lq;function lq(t,e,n){var r=null,i=null;try{var s=new Ht(e,n)}catch{return null}return t.forEach(function(a){s.test(a)&&(!r||i.compare(a)===-1)&&(r=a,i=new it(r,n))}),r}Ge.minSatisfying=uq;function uq(t,e,n){var r=null,i=null;try{var s=new Ht(e,n)}catch{return null}return t.forEach(function(a){s.test(a)&&(!r||i.compare(a)===1)&&(r=a,i=new it(r,n))}),r}Ge.minVersion=cq;function cq(t,e){t=new Ht(t,e);var n=new it("0.0.0");if(t.test(n)||(n=new it("0.0.0-0"),t.test(n)))return n;n=null;for(var r=0;r<t.set.length;++r){var i=t.set[r];i.forEach(function(s){var a=new it(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!n||Hu(n,a))&&(n=a);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+s.operator)}})}return n&&t.test(n)?n:null}Ge.validRange=fq;function fq(t,e){try{return new Ht(t,e).range||"*"}catch{return null}}Ge.ltr=pq;function pq(t,e,n){return qg(t,e,"<",n)}Ge.gtr=dq;function dq(t,e,n){return qg(t,e,">",n)}Ge.outside=qg;function qg(t,e,n,r){t=new it(t,r),e=new Ht(e,r);var i,s,a,o,l;switch(n){case">":i=Hu,s=Bg,a=Op,o=">",l=">=";break;case"<":i=Op,s=Mg,a=Hu,o="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Lp(t,e,r))return!1;for(var u=0;u<e.set.length;++u){var c=e.set[u],f=null,d=null;if(c.forEach(function(m){m.semver===Yu&&(m=new Xr(">=0.0.0")),f=f||m,d=d||m,i(m.semver,f.semver,r)?f=m:a(m.semver,d.semver,r)&&(d=m)}),f.operator===o||f.operator===l||(!d.operator||d.operator===o)&&s(t,d.semver))return!1;if(d.operator===l&&a(t,d.semver))return!1}return!0}Ge.prerelease=mq;function mq(t,e){var n=Ka(t,e);return n&&n.prerelease.length?n.prerelease:null}Ge.intersects=hq;function hq(t,e,n){return t=new Ht(t,n),e=new Ht(e,n),t.intersects(e)}Ge.coerce=gq;function gq(t){if(t instanceof it)return t;if(typeof t!="string")return null;var e=t.match(At[ID]);return e==null?null:Ka(e[1]+"."+(e[2]||"0")+"."+(e[3]||"0"))}});var jg=J((Coe,UD)=>{"use strict";var kp=require("path");function Tq(t){if(typeof t!="string"||t.length<=7||t.substring(0,7)!=="file://")throw new TypeError("must pass in a file:// URI to convert to a file path");let e=decodeURI(t.substring(7)),n=e.indexOf("/"),r=e.substring(0,n),i=e.substring(n+1);return r==="localhost"&&(r=""),r&&(r=kp.sep+kp.sep+r),i=i.replace(/^(.+)\|/,"$1:"),kp.sep==="\\"&&(i=i.replace(/\//g,"\\")),/^.+:/.test(i)||(i=kp.sep+i),r+i}UD.exports=Tq});var GS=J(WS=>{WS.debounce=function(t,e,n){var r,i,s;e===void 0&&(e=50),n===void 0&&(n={});var a=(r=n.isImmediate)!=null&&r,o=(i=n.callback)!=null&&i,l=n.maxWait,u=Date.now(),c=[];function f(){if(l!==void 0){var m=Date.now()-u;if(m+e>=l)return l-m}return e}var d=function(){var m=[].slice.call(arguments),p=this;return new Promise(function(h,_){var g=a&&s===void 0;if(s!==void 0&&clearTimeout(s),s=setTimeout(function(){if(s=void 0,u=Date.now(),!a){var y=t.apply(p,m);o&&o(y),c.forEach(function(T){return(0,T.resolve)(y)}),c=[]}},f()),g){var b=t.apply(p,m);return o&&o(b),h(b)}c.push({resolve:h,reject:_})})};return d.cancel=function(m){s!==void 0&&clearTimeout(s),c.forEach(function(p){return(0,p.reject)(m)}),c=[]},d}});var Gp=J((nfe,JS)=>{"use strict";function Sn(t){this.__parent=t,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}Sn.prototype.clone_empty=function(){var t=new Sn(this.__parent);return t.set_indent(this.__indent_count,this.__alignment_count),t};Sn.prototype.item=function(t){return t<0?this.__items[this.__items.length+t]:this.__items[t]};Sn.prototype.has_match=function(t){for(var e=this.__items.length-1;e>=0;e--)if(this.__items[e].match(t))return!0;return!1};Sn.prototype.set_indent=function(t,e){this.is_empty()&&(this.__indent_count=t||0,this.__alignment_count=e||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))};Sn.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)};Sn.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count};Sn.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;return t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),t.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),t.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,t.__items[0]===" "&&(t.__items.splice(0,1),t.__character_count-=1),!0}return!1};Sn.prototype.is_empty=function(){return this.__items.length===0};Sn.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]};Sn.prototype.push=function(t){this.__items.push(t);var e=t.lastIndexOf(`
`);e!==-1?this.__character_count=t.length-e:this.__character_count+=t.length};Sn.prototype.pop=function(){var t=null;return this.is_empty()||(t=this.__items.pop(),this.__character_count-=t.length),t};Sn.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)};Sn.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)};Sn.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1};Sn.prototype.toString=function(){var t="";return this.is_empty()?this.__parent.indent_empty_lines&&(t=this.__parent.get_indent_string(this.__indent_count)):(t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),t+=this.__items.join("")),t};function Ju(t,e){this.__cache=[""],this.__indent_size=t.indent_size,this.__indent_string=t.indent_char,t.indent_with_tabs||(this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)),e=e||"",t.indent_level>0&&(e=new Array(t.indent_level+1).join(this.__indent_string)),this.__base_string=e,this.__base_string_length=e.length}Ju.prototype.get_indent_size=function(t,e){var n=this.__base_string_length;return e=e||0,t<0&&(n=0),n+=t*this.__indent_size,n+=e,n};Ju.prototype.get_indent_string=function(t,e){var n=this.__base_string;return e=e||0,t<0&&(t=0,n=""),e+=t*this.__indent_size,this.__ensure_cache(e),n+=this.__cache[e],n};Ju.prototype.__ensure_cache=function(t){for(;t>=this.__cache.length;)this.__add_column()};Ju.prototype.__add_column=function(){var t=this.__cache.length,e=0,n="";this.__indent_size&&t>=this.__indent_size&&(e=Math.floor(t/this.__indent_size),t-=e*this.__indent_size,n=new Array(e+1).join(this.__indent_string)),t&&(n+=new Array(t+1).join(" ")),this.__cache.push(n)};function In(t,e){this.__indent_cache=new Ju(t,e),this.raw=!1,this._end_with_newline=t.end_with_newline,this.indent_size=t.indent_size,this.wrap_line_length=t.wrap_line_length,this.indent_empty_lines=t.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new Sn(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}In.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)};In.prototype.get_line_number=function(){return this.__lines.length};In.prototype.get_indent_string=function(t,e){return this.__indent_cache.get_indent_string(t,e)};In.prototype.get_indent_size=function(t,e){return this.__indent_cache.get_indent_size(t,e)};In.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()};In.prototype.add_new_line=function(t){return this.is_empty()||!t&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)};In.prototype.get_code=function(t){this.trim(!0);var e=this.current_line.pop();e&&(e[e.length-1]===`
`&&(e=e.replace(/\n+$/g,"")),this.current_line.push(e)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join(`
`);return t!==`
`&&(n=n.replace(/[\n]/g,t)),n};In.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()};In.prototype.set_indent=function(t,e){return t=t||0,e=e||0,this.next_line.set_indent(t,e),this.__lines.length>1?(this.current_line.set_indent(t,e),!0):(this.current_line.set_indent(),!1)};In.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1};In.prototype.add_token=function(t){this.__add_space_before_token(),this.current_line.push(t),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()};In.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))};In.prototype.remove_indent=function(t){for(var e=this.__lines.length;t<e;)this.__lines[t]._remove_indent(),t++;this.current_line._remove_wrap_indent()};In.prototype.trim=function(t){for(t=t===void 0?!1:t,this.current_line.trim();t&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null};In.prototype.just_added_newline=function(){return this.current_line.is_empty()};In.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()};In.prototype.ensure_empty_line_above=function(t,e){for(var n=this.__lines.length-2;n>=0;){var r=this.__lines[n];if(r.is_empty())break;if(r.item(0).indexOf(t)!==0&&r.item(-1)!==e){this.__lines.splice(n+1,0,new Sn(this)),this.previous_line=this.__lines[this.__lines.length-2];break}n--}};JS.exports.Output=In});var __=J((rfe,ZS)=>{"use strict";function zq(t,e,n,r){this.type=t,this.text=e,this.comments_before=null,this.newlines=n||0,this.whitespace_before=r||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}ZS.exports.Token=zq});var b_=J(Ns=>{"use strict";var Xq="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",eI="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",y_="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",tI="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",nI="(?:\\\\u[0-9a-fA-F]{4}|["+Xq+y_+"])",Qq="(?:\\\\u[0-9a-fA-F]{4}|["+eI+y_+tI+"])*";Ns.identifier=new RegExp(nI+Qq,"g");Ns.identifierStart=new RegExp(nI);Ns.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+eI+y_+tI+"])+");Ns.newline=/[\n\r\u2028\u2029]/;Ns.lineBreak=new RegExp(`\r
|`+Ns.newline.source);Ns.allLineBreaks=new RegExp(Ns.lineBreak.source,"g")});var Yp=J((sfe,Hp)=>{"use strict";function sa(t,e){this.raw_options=rI(t,e),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}sa.prototype._get_array=function(t,e){var n=this.raw_options[t],r=e||[];return typeof n=="object"?n!==null&&typeof n.concat=="function"&&(r=n.concat()):typeof n=="string"&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r};sa.prototype._get_boolean=function(t,e){var n=this.raw_options[t],r=n===void 0?!!e:!!n;return r};sa.prototype._get_characters=function(t,e){var n=this.raw_options[t],r=e||"";return typeof n=="string"&&(r=n.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),r};sa.prototype._get_number=function(t,e){var n=this.raw_options[t];e=parseInt(e,10),isNaN(e)&&(e=0);var r=parseInt(n,10);return isNaN(r)&&(r=e),r};sa.prototype._get_selection=function(t,e,n){var r=this._get_selection_list(t,e,n);if(r.length!==1)throw new Error("Invalid Option Value: The option '"+t+`' can only be one of the following values:
`+e+`
You passed in: '`+this.raw_options[t]+"'");return r[0]};sa.prototype._get_selection_list=function(t,e,n){if(!e||e.length===0)throw new Error("Selection list cannot be empty.");if(n=n||[e[0]],!this._is_valid_selection(n,e))throw new Error("Invalid Default Value!");var r=this._get_array(t,n);if(!this._is_valid_selection(r,e))throw new Error("Invalid Option Value: The option '"+t+`' can contain only the following values:
`+e+`
You passed in: '`+this.raw_options[t]+"'");return r};sa.prototype._is_valid_selection=function(t,e){return t.length&&e.length&&!t.some(function(n){return e.indexOf(n)===-1})};function rI(t,e){var n={};t=iI(t);var r;for(r in t)r!==e&&(n[r]=t[r]);if(e&&t[e])for(r in t[e])n[r]=t[e][r];return n}function iI(t){var e={},n;for(n in t){var r=n.replace(/-/g,"_");e[r]=t[n]}return e}Hp.exports.Options=sa;Hp.exports.normalizeOpts=iI;Hp.exports.mergeOpts=rI});var T_=J((afe,oI)=>{"use strict";var sI=Yp().Options,Jq=["before-newline","after-newline","preserve-newline"];function aI(t){sI.call(this,t,"js");var e=this.raw_options.brace_style||null;e==="expand-strict"?this.raw_options.brace_style="expand":e==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var r=0;r<n.length;r++)n[r]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=n[r];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",Jq),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}aI.prototype=new sI;oI.exports.Options=aI});var $p=J((ofe,uI)=>{"use strict";var lI=RegExp.prototype.hasOwnProperty("sticky");function kn(t){this.__input=t||"",this.__input_length=this.__input.length,this.__position=0}kn.prototype.restart=function(){this.__position=0};kn.prototype.back=function(){this.__position>0&&(this.__position-=1)};kn.prototype.hasNext=function(){return this.__position<this.__input_length};kn.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__input.charAt(this.__position),this.__position+=1),t};kn.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__input_length&&(e=this.__input.charAt(t)),e};kn.prototype.__match=function(t,e){t.lastIndex=e;var n=t.exec(this.__input);return n&&!(lI&&t.sticky)&&n.index!==e&&(n=null),n};kn.prototype.test=function(t,e){return e=e||0,e+=this.__position,e>=0&&e<this.__input_length?!!this.__match(t,e):!1};kn.prototype.testChar=function(t,e){var n=this.peek(e);return t.lastIndex=0,n!==null&&t.test(n)};kn.prototype.match=function(t){var e=this.__match(t,this.__position);return e?this.__position+=e[0].length:e=null,e};kn.prototype.read=function(t,e,n){var r="",i;return t&&(i=this.match(t),i&&(r+=i[0])),e&&(i||!t)&&(r+=this.readUntil(e,n)),r};kn.prototype.readUntil=function(t,e){var n="",r=this.__position;t.lastIndex=this.__position;var i=t.exec(this.__input);return i?(r=i.index,e&&(r+=i[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n};kn.prototype.readUntilAfter=function(t){return this.readUntil(t,!0)};kn.prototype.get_regexp=function(t,e){var n=null,r="g";return e&&lI&&(r="y"),typeof t=="string"&&t!==""?n=new RegExp(t,r):t&&(n=new RegExp(t.source,r)),n};kn.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))};kn.prototype.peekUntilAfter=function(t){var e=this.__position,n=this.readUntilAfter(t);return this.__position=e,n};kn.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t};uI.exports.InputScanner=kn});var fI=J((lfe,cI)=>{"use strict";function Qa(t){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=t}Qa.prototype.restart=function(){this.__position=0};Qa.prototype.isEmpty=function(){return this.__tokens_length===0};Qa.prototype.hasNext=function(){return this.__position<this.__tokens_length};Qa.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__tokens[this.__position],this.__position+=1),t};Qa.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__tokens_length&&(e=this.__tokens[t]),e};Qa.prototype.add=function(t){this.__parent_token&&(t.parent=this.__parent_token),this.__tokens.push(t),this.__tokens_length+=1};cI.exports.TokenStream=Qa});var Zu=J((ufe,pI)=>{"use strict";function Zi(t,e){this._input=t,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,e&&(this._starting_pattern=this._input.get_regexp(e._starting_pattern,!0),this._match_pattern=this._input.get_regexp(e._match_pattern,!0),this._until_pattern=this._input.get_regexp(e._until_pattern),this._until_after=e._until_after)}Zi.prototype.read=function(){var t=this._input.read(this._starting_pattern);return(!this._starting_pattern||t)&&(t+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),t};Zi.prototype.read_match=function(){return this._input.match(this._match_pattern)};Zi.prototype.until_after=function(t){var e=this._create();return e._until_after=!0,e._until_pattern=this._input.get_regexp(t),e._update(),e};Zi.prototype.until=function(t){var e=this._create();return e._until_after=!1,e._until_pattern=this._input.get_regexp(t),e._update(),e};Zi.prototype.starting_with=function(t){var e=this._create();return e._starting_pattern=this._input.get_regexp(t,!0),e._update(),e};Zi.prototype.matching=function(t){var e=this._create();return e._match_pattern=this._input.get_regexp(t,!0),e._update(),e};Zi.prototype._create=function(){return new Zi(this._input,this)};Zi.prototype._update=function(){};pI.exports.Pattern=Zi});var hI=J((cfe,mI)=>{"use strict";var dI=Zu().Pattern;function aa(t,e){dI.call(this,t,e),e?this._line_regexp=this._input.get_regexp(e._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}aa.prototype=new dI;aa.prototype.__set_whitespace_patterns=function(t,e){t+="\\t ",e+="\\n\\r",this._match_pattern=this._input.get_regexp("["+t+e+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+e+"]")};aa.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var t=this._input.read(this._match_pattern);if(t===" ")this.whitespace_before_token=" ";else if(t){var e=this.__split(this._newline_regexp,t);this.newline_count=e.length-1,this.whitespace_before_token=e[this.newline_count]}return t};aa.prototype.matching=function(t,e){var n=this._create();return n.__set_whitespace_patterns(t,e),n._update(),n};aa.prototype._create=function(){return new aa(this._input,this)};aa.prototype.__split=function(t,e){t.lastIndex=0;for(var n=0,r=[],i=t.exec(e);i;)r.push(e.substring(n,i.index)),n=i.index+i[0].length,i=t.exec(e);return n<e.length?r.push(e.substring(n,e.length)):r.push(""),r};mI.exports.WhitespacePattern=aa});var tc=J((ffe,N_)=>{"use strict";var Zq=$p().InputScanner,gI=__().Token,v_=fI().TokenStream,eV=hI().WhitespacePattern,ec={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},es=function(t,e){this._input=new Zq(t),this._options=e||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new eV(this._input)};es.prototype.tokenize=function(){this._input.restart(),this.__tokens=new v_,this._reset();for(var t,e=new gI(ec.START,""),n=null,r=[],i=new v_;e.type!==ec.EOF;){for(t=this._get_next_token(e,n);this._is_comment(t);)i.add(t),t=this._get_next_token(e,n);i.isEmpty()||(t.comments_before=i,i=new v_),t.parent=n,this._is_opening(t)?(r.push(n),n=t):n&&this._is_closing(t,n)&&(t.opened=n,n.closed=t,n=r.pop(),t.parent=n),t.previous=e,e.next=t,this.__tokens.add(t),e=t}return this.__tokens};es.prototype._is_first_token=function(){return this.__tokens.isEmpty()};es.prototype._reset=function(){};es.prototype._get_next_token=function(t,e){this._readWhitespace();var n=this._input.read(/.+/g);return n?this._create_token(ec.RAW,n):this._create_token(ec.EOF,"")};es.prototype._is_comment=function(t){return!1};es.prototype._is_opening=function(t){return!1};es.prototype._is_closing=function(t,e){return!1};es.prototype._create_token=function(t,e){var n=new gI(t,e,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return n};es.prototype._readWhitespace=function(){return this._patterns.whitespace.read()};N_.exports.Tokenizer=es;N_.exports.TOKEN=ec});var Kp=J((pfe,_I)=>{"use strict";function C_(t,e){t=typeof t=="string"?t:t.source,e=typeof e=="string"?e:e.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+e,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+e,"g")}C_.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var e={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(t);n;)e[n[1]]=n[2],n=this.__directive_pattern.exec(t);return e};C_.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)};_I.exports.Directives=C_});var S_=J((dfe,yI)=>{"use strict";var P_=Zu().Pattern,D_={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function Fi(t,e){P_.call(this,t,e),this.__template_pattern=null,this._disabled=Object.assign({},D_),this._excluded=Object.assign({},D_),e&&(this.__template_pattern=this._input.get_regexp(e.__template_pattern),this._excluded=Object.assign(this._excluded,e._excluded),this._disabled=Object.assign(this._disabled,e._disabled));var n=new P_(t);this.__patterns={handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:n.starting_with(/{{{/).until_after(/}}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),php:n.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:n.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:n.starting_with(/{%/).until_after(/%}/),django_value:n.starting_with(/{{/).until_after(/}}/),django_comment:n.starting_with(/{#/).until_after(/#}/),smarty:n.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:n.starting_with(/{\*/).until_after(/\*}/),smarty_literal:n.starting_with(/{literal}/).until_after(/{\/literal}/)}}Fi.prototype=new P_;Fi.prototype._create=function(){return new Fi(this._input,this)};Fi.prototype._update=function(){this.__set_templated_pattern()};Fi.prototype.disable=function(t){var e=this._create();return e._disabled[t]=!0,e._update(),e};Fi.prototype.read_options=function(t){var e=this._create();for(var n in D_)e._disabled[n]=t.templating.indexOf(n)===-1;return e._update(),e};Fi.prototype.exclude=function(t){var e=this._create();return e._excluded[t]=!0,e._update(),e};Fi.prototype.read=function(){var t="";this._match_pattern?t=this._input.read(this._starting_pattern):t=this._input.read(this._starting_pattern,this.__template_pattern);for(var e=this._read_template();e;)this._match_pattern?e+=this._input.read(this._match_pattern):e+=this._input.readUntil(this.__template_pattern),t+=e,e=this._read_template();return this._until_after&&(t+=this._input.readUntilAfter(this._until_pattern)),t};Fi.prototype.__set_templated_pattern=function(){var t=[];this._disabled.php||t.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||t.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||t.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(t.push(this.__patterns.django._starting_pattern.source),t.push(this.__patterns.django_value._starting_pattern.source),t.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||t.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&t.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+t.join("|")+")")};Fi.prototype._read_template=function(){var t="",e=this._input.peek();if(e==="<"){var n=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&n==="?"&&(t=t||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&n==="%"&&(t=t||this.__patterns.erb.read())}else e==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(t=t||this.__patterns.handlebars_comment.read(),t=t||this.__patterns.handlebars_unescaped.read(),t=t||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(t=t||this.__patterns.django_value.read()),this._excluded.django||(t=t||this.__patterns.django_comment.read(),t=t||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(t=t||this.__patterns.smarty_comment.read(),t=t||this.__patterns.smarty_literal.read(),t=t||this.__patterns.smarty.read()));return t};yI.exports.TemplatablePattern=Fi});var rc=J((mfe,nc)=>{"use strict";var tV=$p().InputScanner,bI=tc().Tokenizer,I_=tc().TOKEN,nV=Kp().Directives,Qr=b_(),rV=Zu().Pattern,iV=S_().TemplatablePattern;function E_(t,e){return e.indexOf(t)!==-1}var Fe={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:I_.START,RAW:I_.RAW,EOF:I_.EOF},TI=new nV(/\/\*/,/\*\//),sV=/0[xX][0123456789abcdefABCDEF]*|0[oO][01234567]*|0[bB][01]*|\d+n|(?:\.\d+|\d+\.?\d*)(?:[eE][+-]?\d+)?/,aV=/[0-9]/,oV=/[^\d\.]/,lV=">>> === !== << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),Ja=">>>= ... >>= <<= === >>> !== **= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";Ja=Ja.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");Ja="\\?\\.(?!\\d) "+Ja;Ja=Ja.replace(/ /g,"|");var uV=new RegExp(Ja),vI="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),cV=vI.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),fV=new RegExp("^(?:"+cV.join("|")+")$"),zp,Mn=function(t,e){bI.call(this,t,e),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var n=new rV(this._input),r=new iV(this._input).read_options(this._options);this.__patterns={template:r,identifier:r.starting_with(Qr.identifier).matching(Qr.identifierMatch),number:n.matching(sV),punct:n.matching(uV),comment:n.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:n.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:n.matching(/<!--/),html_comment_end:n.matching(/-->/),include:n.starting_with(/#include/).until_after(Qr.lineBreak),shebang:n.starting_with(/#!/).until_after(Qr.lineBreak),xml:n.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\]|)(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/),single_quote:r.until(/['\\\n\r\u2028\u2029]/),double_quote:r.until(/["\\\n\r\u2028\u2029]/),template_text:r.until(/[`\\$]/),template_expression:r.until(/[`}\\]/)}};Mn.prototype=new bI;Mn.prototype._is_comment=function(t){return t.type===Fe.COMMENT||t.type===Fe.BLOCK_COMMENT||t.type===Fe.UNKNOWN};Mn.prototype._is_opening=function(t){return t.type===Fe.START_BLOCK||t.type===Fe.START_EXPR};Mn.prototype._is_closing=function(t,e){return(t.type===Fe.END_BLOCK||t.type===Fe.END_EXPR)&&e&&(t.text==="]"&&e.text==="["||t.text===")"&&e.text==="("||t.text==="}"&&e.text==="{")};Mn.prototype._reset=function(){zp=!1};Mn.prototype._get_next_token=function(t,e){var n=null;this._readWhitespace();var r=this._input.peek();return r===null?this._create_token(Fe.EOF,""):(n=n||this._read_non_javascript(r),n=n||this._read_string(r),n=n||this._read_word(t),n=n||this._read_singles(r),n=n||this._read_comment(r),n=n||this._read_regexp(r,t),n=n||this._read_xml(r,t),n=n||this._read_punctuation(),n=n||this._create_token(Fe.UNKNOWN,this._input.next()),n)};Mn.prototype._read_word=function(t){var e;if(e=this.__patterns.identifier.read(),e!=="")return e=e.replace(Qr.allLineBreaks,`
`),!(t.type===Fe.DOT||t.type===Fe.RESERVED&&(t.text==="set"||t.text==="get"))&&fV.test(e)?e==="in"||e==="of"?this._create_token(Fe.OPERATOR,e):this._create_token(Fe.RESERVED,e):this._create_token(Fe.WORD,e);if(e=this.__patterns.number.read(),e!=="")return this._create_token(Fe.WORD,e)};Mn.prototype._read_singles=function(t){var e=null;return t==="("||t==="["?e=this._create_token(Fe.START_EXPR,t):t===")"||t==="]"?e=this._create_token(Fe.END_EXPR,t):t==="{"?e=this._create_token(Fe.START_BLOCK,t):t==="}"?e=this._create_token(Fe.END_BLOCK,t):t===";"?e=this._create_token(Fe.SEMICOLON,t):t==="."&&oV.test(this._input.peek(1))?e=this._create_token(Fe.DOT,t):t===","&&(e=this._create_token(Fe.COMMA,t)),e&&this._input.next(),e};Mn.prototype._read_punctuation=function(){var t=this.__patterns.punct.read();if(t!=="")return t==="="?this._create_token(Fe.EQUALS,t):t==="?."?this._create_token(Fe.DOT,t):this._create_token(Fe.OPERATOR,t)};Mn.prototype._read_non_javascript=function(t){var e="";if(t==="#"){if(this._is_first_token()&&(e=this.__patterns.shebang.read(),e))return this._create_token(Fe.UNKNOWN,e.trim()+`
`);if(e=this.__patterns.include.read(),e)return this._create_token(Fe.UNKNOWN,e.trim()+`
`);t=this._input.next();var n="#";if(this._input.hasNext()&&this._input.testChar(aV)){do t=this._input.next(),n+=t;while(this._input.hasNext()&&t!=="#"&&t!=="=");return t==="#"||(this._input.peek()==="["&&this._input.peek(1)==="]"?(n+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(n+="{}",this._input.next(),this._input.next())),this._create_token(Fe.WORD,n)}this._input.back()}else if(t==="<"&&this._is_first_token()){if(e=this.__patterns.html_comment_start.read(),e){for(;this._input.hasNext()&&!this._input.testChar(Qr.newline);)e+=this._input.next();return zp=!0,this._create_token(Fe.COMMENT,e)}}else if(zp&&t==="-"&&(e=this.__patterns.html_comment_end.read(),e))return zp=!1,this._create_token(Fe.COMMENT,e);return null};Mn.prototype._read_comment=function(t){var e=null;if(t==="/"){var n="";if(this._input.peek(1)==="*"){n=this.__patterns.block_comment.read();var r=TI.get_directives(n);r&&r.ignore==="start"&&(n+=TI.readIgnored(this._input)),n=n.replace(Qr.allLineBreaks,`
`),e=this._create_token(Fe.BLOCK_COMMENT,n),e.directives=r}else this._input.peek(1)==="/"&&(n=this.__patterns.comment.read(),e=this._create_token(Fe.COMMENT,n))}return e};Mn.prototype._read_string=function(t){if(t==="`"||t==="'"||t==='"'){var e=this._input.next();return this.has_char_escapes=!1,t==="`"?e+=this._read_string_recursive("`",!0,"${"):e+=this._read_string_recursive(t),this.has_char_escapes&&this._options.unescape_strings&&(e=pV(e)),this._input.peek()===t&&(e+=this._input.next()),e=e.replace(Qr.allLineBreaks,`
`),this._create_token(Fe.STRING,e)}return null};Mn.prototype._allow_regexp_or_xml=function(t){return t.type===Fe.RESERVED&&E_(t.text,["return","case","throw","else","do","typeof","yield"])||t.type===Fe.END_EXPR&&t.text===")"&&t.opened.previous.type===Fe.RESERVED&&E_(t.opened.previous.text,["if","while","for"])||E_(t.type,[Fe.COMMENT,Fe.START_EXPR,Fe.START_BLOCK,Fe.START,Fe.END_BLOCK,Fe.OPERATOR,Fe.EQUALS,Fe.EOF,Fe.SEMICOLON,Fe.COMMA])};Mn.prototype._read_regexp=function(t,e){if(t==="/"&&this._allow_regexp_or_xml(e)){for(var n=this._input.next(),r=!1,i=!1;this._input.hasNext()&&(r||i||this._input.peek()!==t)&&!this._input.testChar(Qr.newline);)n+=this._input.peek(),r?r=!1:(r=this._input.peek()==="\\",this._input.peek()==="["?i=!0:this._input.peek()==="]"&&(i=!1)),this._input.next();return this._input.peek()===t&&(n+=this._input.next(),n+=this._input.read(Qr.identifier)),this._create_token(Fe.STRING,n)}return null};Mn.prototype._read_xml=function(t,e){if(this._options.e4x&&t==="<"&&this._allow_regexp_or_xml(e)){var n="",r=this.__patterns.xml.read_match();if(r){for(var i=r[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),s=i.indexOf("{")===0,a=0;r;){var o=!!r[1],l=r[2],u=!!r[r.length-1]||l.slice(0,8)==="![CDATA[";if(!u&&(l===i||s&&l.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(o?--a:++a),n+=r[0],a<=0)break;r=this.__patterns.xml.read_match()}return r||(n+=this._input.match(/[\s\S]*/g)[0]),n=n.replace(Qr.allLineBreaks,`
`),this._create_token(Fe.STRING,n)}}return null};function pV(t){for(var e="",n=0,r=new tV(t),i=null;r.hasNext();)if(i=r.match(/([\s]|[^\\]|\\\\)+/g),i&&(e+=i[0]),r.peek()==="\\"){if(r.next(),r.peek()==="x")i=r.match(/x([0-9A-Fa-f]{2})/g);else if(r.peek()==="u")i=r.match(/u([0-9A-Fa-f]{4})/g);else{e+="\\",r.hasNext()&&(e+=r.next());continue}if(!i||(n=parseInt(i[1],16),n>126&&n<=255&&i[0].indexOf("x")===0))return t;if(n>=0&&n<32){e+="\\"+i[0];continue}else n===34||n===39||n===92?e+="\\"+String.fromCharCode(n):e+=String.fromCharCode(n)}return e}Mn.prototype._read_string_recursive=function(t,e,n){var r,i;t==="'"?i=this.__patterns.single_quote:t==='"'?i=this.__patterns.double_quote:t==="`"?i=this.__patterns.template_text:t==="}"&&(i=this.__patterns.template_expression);for(var s=i.read(),a="";this._input.hasNext();){if(a=this._input.next(),a===t||!e&&Qr.newline.test(a)){this._input.back();break}else a==="\\"&&this._input.hasNext()?(r=this._input.peek(),r==="x"||r==="u"?this.has_char_escapes=!0:r==="\r"&&this._input.peek(1)===`
`&&this._input.next(),a+=this._input.next()):n&&(n==="${"&&a==="$"&&this._input.peek()==="{"&&(a+=this._input.next()),n===a&&(t==="`"?a+=this._read_string_recursive("}",e,"`"):a+=this._read_string_recursive("`",e,"${"),this._input.hasNext()&&(a+=this._input.next())));a+=i.read(),s+=a}return s};nc.exports.Tokenizer=Mn;nc.exports.TOKEN=Fe;nc.exports.positionable_operators=lV.slice();nc.exports.line_starters=vI.slice()});var DI=J((hfe,PI)=>{"use strict";var dV=Gp().Output,mV=__().Token,Xp=b_(),hV=T_().Options,gV=rc().Tokenizer,ic=rc().line_starters,sc=rc().positionable_operators,z=rc().TOKEN;function et(t,e){return e.indexOf(t)!==-1}function _V(t){return t.replace(/^\s+/g,"")}function yV(t){for(var e={},n=0;n<t.length;n++)e[t[n].replace(/-/g,"_")]=t[n];return e}function Jr(t,e){return t&&t.type===z.RESERVED&&t.text===e}function Ft(t,e){return t&&t.type===z.RESERVED&&et(t.text,e)}var Qp=["case","return","do","if","throw","else","await","break","continue","async"],bV=["before-newline","after-newline","preserve-newline"],ac=yV(bV),NI=[ac.before_newline,ac.preserve_newline],Le={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function CI(t,e){e.multiline_frame||e.mode===Le.ForInitializer||e.mode===Le.Conditional||t.remove_indent(e.start_line_index)}function TV(t){t=t.replace(Xp.allLineBreaks,`
`);for(var e=[],n=t.indexOf(`
`);n!==-1;)e.push(t.substring(0,n)),t=t.substring(n+1),n=t.indexOf(`
`);return t.length&&e.push(t),e}function oa(t){return t===Le.ArrayLiteral}function oc(t){return et(t,[Le.Expression,Le.ForInitializer,Le.Conditional])}function vV(t,e){for(var n=0;n<t.length;n++){var r=t[n].trim();if(r.charAt(0)!==e)return!1}return!0}function NV(t,e){for(var n=0,r=t.length,i;n<r;n++)if(i=t[n],i&&i.indexOf(e)!==0)return!1;return!0}function mt(t,e){e=e||{},this._source_text=t||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new hV(e)}mt.prototype.create_flags=function(t,e){var n=0;t&&(n=t.indentation_level,!this._output.just_added_newline()&&t.line_indent_level>n&&(n=t.line_indent_level));var r={mode:e,parent:t,last_token:t?t.last_token:new mV(z.START_BLOCK,""),last_word:t?t.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,alignment:0,line_indent_level:t?t.line_indent_level:n,start_line_index:this._output.get_line_number(),ternary_depth:0};return r};mt.prototype._reset=function(t){var e=t.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new dV(this._options,e),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(Le.BlockStatement);var n=new gV(t,this._options);return this._tokens=n.tokenize(),t};mt.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t,e=this._reset(this._source_text),n=this._options.eol;this._options.eol==="auto"&&(n=`
`,e&&Xp.lineBreak.test(e||"")&&(n=e.match(Xp.lineBreak)[0]));for(var r=this._tokens.next();r;)this.handle_token(r),this._last_last_text=this._flags.last_token.text,this._flags.last_token=r,r=this._tokens.next();return t=this._output.get_code(n),t};mt.prototype.handle_token=function(t,e){t.type===z.START_EXPR?this.handle_start_expr(t):t.type===z.END_EXPR?this.handle_end_expr(t):t.type===z.START_BLOCK?this.handle_start_block(t):t.type===z.END_BLOCK?this.handle_end_block(t):t.type===z.WORD?this.handle_word(t):t.type===z.RESERVED?this.handle_word(t):t.type===z.SEMICOLON?this.handle_semicolon(t):t.type===z.STRING?this.handle_string(t):t.type===z.EQUALS?this.handle_equals(t):t.type===z.OPERATOR?this.handle_operator(t):t.type===z.COMMA?this.handle_comma(t):t.type===z.BLOCK_COMMENT?this.handle_block_comment(t,e):t.type===z.COMMENT?this.handle_comment(t,e):t.type===z.DOT?this.handle_dot(t):t.type===z.EOF?this.handle_eof(t):t.type===z.UNKNOWN?this.handle_unknown(t,e):this.handle_unknown(t,e)};mt.prototype.handle_whitespace_and_comments=function(t,e){var n=t.newlines,r=this._options.keep_array_indentation&&oa(this._flags.mode);if(t.comments_before)for(var i=t.comments_before.next();i;)this.handle_whitespace_and_comments(i,e),this.handle_token(i,e),i=t.comments_before.next();if(r)for(var s=0;s<n;s+=1)this.print_newline(s>0,e);else if(this._options.max_preserve_newlines&&n>this._options.max_preserve_newlines&&(n=this._options.max_preserve_newlines),this._options.preserve_newlines&&n>1){this.print_newline(!1,e);for(var a=1;a<n;a+=1)this.print_newline(!0,e)}};var A_=["async","break","continue","return","throw","yield"];mt.prototype.allow_wrap_or_preserved_newline=function(t,e){if(e=e===void 0?!1:e,!this._output.just_added_newline()){var n=this._options.preserve_newlines&&t.newlines||e,r=et(this._flags.last_token.text,sc)||et(t.text,sc);if(r){var i=et(this._flags.last_token.text,sc)&&et(this._options.operator_position,NI)||et(t.text,sc);n=n&&i}if(n)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(Ft(this._flags.last_token,A_))return;this._output.set_wrap_point()}}};mt.prototype.print_newline=function(t,e){if(!e&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==z.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var n=this._tokens.peek();this._flags.mode===Le.Statement&&!(this._flags.if_block&&Jr(n,"else"))&&!this._flags.do_block;)this.restore_mode();this._output.add_new_line(t)&&(this._flags.multiline_frame=!0)};mt.prototype.print_token_line_indentation=function(t){this._output.just_added_newline()&&(this._options.keep_array_indentation&&t.newlines&&(t.text==="["||oa(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(t.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))};mt.prototype.print_token=function(t){if(this._output.raw){this._output.add_raw_token(t);return}if(this._options.comma_first&&t.previous&&t.previous.type===z.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","){var e=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(e),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(t),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(t),this._output.non_breaking_space=!0,this._output.add_token(t.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)};mt.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};mt.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};mt.prototype.set_mode=function(t){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,t),this._flags=this.create_flags(this._previous_flags,t),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};mt.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===Le.Statement&&CI(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};mt.prototype.start_of_object_property=function(){return this._flags.parent.mode===Le.ObjectLiteral&&this._flags.mode===Le.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||Ft(this._flags.last_token,["get","set"]))};mt.prototype.start_of_statement=function(t){var e=!1;return e=e||Ft(this._flags.last_token,["var","let","const"])&&t.type===z.WORD,e=e||Jr(this._flags.last_token,"do"),e=e||!(this._flags.parent.mode===Le.ObjectLiteral&&this._flags.mode===Le.Statement)&&Ft(this._flags.last_token,A_)&&!t.newlines,e=e||Jr(this._flags.last_token,"else")&&!(Jr(t,"if")&&!t.comments_before),e=e||this._flags.last_token.type===z.END_EXPR&&(this._previous_flags.mode===Le.ForInitializer||this._previous_flags.mode===Le.Conditional),e=e||this._flags.last_token.type===z.WORD&&this._flags.mode===Le.BlockStatement&&!this._flags.in_case&&!(t.text==="--"||t.text==="++")&&this._last_last_text!=="function"&&t.type!==z.WORD&&t.type!==z.RESERVED,e=e||this._flags.mode===Le.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||Ft(this._flags.last_token,["get","set"])),e?(this.set_mode(Le.Statement),this.indent(),this.handle_whitespace_and_comments(t,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t,Ft(t,["do","for","if","while"])),!0):!1};mt.prototype.handle_start_expr=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t);var e=Le.Expression;if(t.text==="["){if(this._flags.last_token.type===z.WORD||this._flags.last_token.text===")"){Ft(this._flags.last_token,ic)&&(this._output.space_before_token=!0),this.print_token(t),this.set_mode(e),this.indent(),this._options.space_in_paren&&(this._output.space_before_token=!0);return}e=Le.ArrayLiteral,oa(this._flags.mode)&&(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}"))&&(this._options.keep_array_indentation||this.print_newline()),et(this._flags.last_token.type,[z.START_EXPR,z.END_EXPR,z.WORD,z.OPERATOR,z.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===z.RESERVED)this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,e=Le.ForInitializer):et(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,e=Le.Conditional):et(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&t.whitespace_before===""?this._output.space_before_token=!1:(et(this._flags.last_token.text,ic)||this._flags.last_token.text==="catch")&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===z.EQUALS||this._flags.last_token.type===z.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t);else if(this._flags.last_token.type===z.WORD){this._output.space_before_token=!1;var n=this._tokens.peek(-3);if(this._options.space_after_named_function&&n){var r=this._tokens.peek(-4);Ft(n,["async","function"])||n.text==="*"&&Ft(r,["async","function"])?this._output.space_before_token=!0:this._flags.mode===Le.ObjectLiteral&&(n.text==="{"||n.text===","||n.text==="*"&&(r.text==="{"||r.text===","))&&(this._output.space_before_token=!0)}}else this.allow_wrap_or_preserved_newline(t);(this._flags.last_token.type===z.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(et(this._last_last_text,["function","yield"])||this._flags.mode===Le.ObjectLiteral&&et(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}this._flags.last_token.text===";"||this._flags.last_token.type===z.START_BLOCK?this.print_newline():(this._flags.last_token.type===z.END_EXPR||this._flags.last_token.type===z.START_EXPR||this._flags.last_token.type===z.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===z.COMMA)&&this.allow_wrap_or_preserved_newline(t,t.newlines),this.print_token(t),this.set_mode(e),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()};mt.prototype.handle_end_expr=function(t){for(;this._flags.mode===Le.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(t,t.text==="]"&&oa(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type===z.START_EXPR&&!this._options.space_in_empty_paren?(this._output.trim(),this._output.space_before_token=!1):this._output.space_before_token=!0),this.deindent(),this.print_token(t),this.restore_mode(),CI(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===Le.Conditional&&(this._previous_flags.mode=Le.Expression,this._flags.do_block=!1,this._flags.do_while=!1)};mt.prototype.handle_start_block=function(t){this.handle_whitespace_and_comments(t);var e=this._tokens.peek(),n=this._tokens.peek(1);this._flags.last_word==="switch"&&this._flags.last_token.type===z.END_EXPR?(this.set_mode(Le.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(Le.BlockStatement):n&&(et(n.text,[":",","])&&et(e.type,[z.STRING,z.WORD,z.RESERVED])||et(e.text,["get","set","..."])&&et(n.type,[z.WORD,z.RESERVED]))?et(this._last_last_text,["class","interface"])?this.set_mode(Le.BlockStatement):this.set_mode(Le.ObjectLiteral):this._flags.last_token.type===z.OPERATOR&&this._flags.last_token.text==="=>"?this.set_mode(Le.BlockStatement):et(this._flags.last_token.type,[z.EQUALS,z.START_EXPR,z.COMMA,z.OPERATOR])||Ft(this._flags.last_token,["return","throw","import","default"])?this.set_mode(Le.ObjectLiteral):this.set_mode(Le.BlockStatement);var r=!e.comments_before&&e.text==="}",i=r&&this._flags.last_word==="function"&&this._flags.last_token.type===z.END_EXPR;if(this._options.brace_preserve_inline){var s=0,a=null;this._flags.inline_frame=!0;do if(s+=1,a=this._tokens.peek(s-1),a.newlines){this._flags.inline_frame=!1;break}while(a.type!==z.EOF&&!(a.type===z.END_BLOCK&&a.opened===t))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==z.OPERATOR&&(i||this._flags.last_token.type===z.EQUALS||Ft(this._flags.last_token,Qp)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(oa(this._previous_flags.mode)&&(this._flags.last_token.type===z.START_EXPR||this._flags.last_token.type===z.COMMA)&&((this._flags.last_token.type===z.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===z.COMMA||this._flags.last_token.type===z.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(t),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==z.OPERATOR&&this._flags.last_token.type!==z.START_EXPR&&(this._flags.last_token.type===z.START_BLOCK&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(t),this.indent(),!r&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)&&this.print_newline()};mt.prototype.handle_end_block=function(t){for(this.handle_whitespace_and_comments(t);this._flags.mode===Le.Statement;)this.restore_mode();var e=this._flags.last_token.type===z.START_BLOCK;this._flags.inline_frame&&!e?this._output.space_before_token=!0:this._options.brace_style==="expand"?e||this.print_newline():e||(oa(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(t)};mt.prototype.handle_word=function(t){if(t.type===z.RESERVED){if(et(t.text,["set","get"])&&this._flags.mode!==Le.ObjectLiteral)t.type=z.WORD;else if(t.text==="import"&&this._tokens.peek().text==="(")t.type=z.WORD;else if(et(t.text,["as","from"])&&!this._flags.import_block)t.type=z.WORD;else if(this._flags.mode===Le.ObjectLiteral){var e=this._tokens.peek();e.text===":"&&(t.type=z.WORD)}}if(this.start_of_statement(t)?Ft(this._flags.last_token,["var","let","const"])&&t.type===z.WORD&&(this._flags.declaration_statement=!0):t.newlines&&!oc(this._flags.mode)&&(this._flags.last_token.type!==z.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")&&this._flags.last_token.type!==z.EQUALS&&(this._options.preserve_newlines||!Ft(this._flags.last_token,["var","let","const","set","get"]))?(this.handle_whitespace_and_comments(t),this.print_newline()):this.handle_whitespace_and_comments(t),this._flags.do_block&&!this._flags.do_while)if(Jr(t,"while")){this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0,this._flags.do_while=!0;return}else this.print_newline(),this._flags.do_block=!1;if(this._flags.if_block)if(!this._flags.else_block&&Jr(t,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===Le.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&Ft(t,["case","default"])){this.print_newline(),this._flags.last_token.type!==z.END_BLOCK&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(t),this._flags.in_case=!0;return}if((this._flags.last_token.type===z.COMMA||this._flags.last_token.type===z.START_EXPR||this._flags.last_token.type===z.EQUALS||this._flags.last_token.type===z.OPERATOR)&&(this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t)),Jr(t,"function")){(et(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!(et(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===z.OPERATOR))&&!this._output.just_added_blankline()&&!t.comments_before&&(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===z.RESERVED||this._flags.last_token.type===z.WORD?Ft(this._flags.last_token,["get","set","new","export"])||Ft(this._flags.last_token,A_)?this._output.space_before_token=!0:Jr(this._flags.last_token,"default")&&this._last_last_text==="export"?this._output.space_before_token=!0:this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===z.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(oc(this._flags.mode)||oa(this._flags.mode))||this.print_newline(),this.print_token(t),this._flags.last_word=t.text;return}var n="NONE";if(this._flags.last_token.type===z.END_BLOCK?this._previous_flags.inline_frame?n="SPACE":Ft(t,["else","catch","finally","from"])?this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines?n="NEWLINE":(n="SPACE",this._output.space_before_token=!0):n="NEWLINE":this._flags.last_token.type===z.SEMICOLON&&this._flags.mode===Le.BlockStatement?n="NEWLINE":this._flags.last_token.type===z.SEMICOLON&&oc(this._flags.mode)?n="SPACE":this._flags.last_token.type===z.STRING?n="NEWLINE":this._flags.last_token.type===z.RESERVED||this._flags.last_token.type===z.WORD||this._flags.last_token.text==="*"&&(et(this._last_last_text,["function","yield"])||this._flags.mode===Le.ObjectLiteral&&et(this._last_last_text,["{",","]))?n="SPACE":this._flags.last_token.type===z.START_BLOCK?this._flags.inline_frame?n="SPACE":n="NEWLINE":this._flags.last_token.type===z.END_EXPR&&(this._output.space_before_token=!0,n="NEWLINE"),Ft(t,ic)&&this._flags.last_token.text!==")"&&(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?n="SPACE":n="NEWLINE"),Ft(t,["else","catch","finally"]))if((!(this._flags.last_token.type===z.END_BLOCK&&this._previous_flags.mode===Le.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var r=this._output.current_line;r.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0}else n==="NEWLINE"?Ft(this._flags.last_token,Qp)?this._output.space_before_token=!0:this._flags.last_token.text==="declare"&&Ft(t,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==z.END_EXPR?(this._flags.last_token.type!==z.START_EXPR||!Ft(t,["var","let","const"]))&&this._flags.last_token.text!==":"&&(Jr(t,"if")&&Jr(t.previous,"else")?this._output.space_before_token=!0:this.print_newline()):Ft(t,ic)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&oa(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():n==="SPACE"&&(this._output.space_before_token=!0);t.previous&&(t.previous.type===z.WORD||t.previous.type===z.RESERVED)&&(this._output.space_before_token=!0),this.print_token(t),this._flags.last_word=t.text,t.type===z.RESERVED&&(t.text==="do"?this._flags.do_block=!0:t.text==="if"?this._flags.if_block=!0:t.text==="import"?this._flags.import_block=!0:this._flags.import_block&&Jr(t,"from")&&(this._flags.import_block=!1))};mt.prototype.handle_semicolon=function(t){this.start_of_statement(t)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(t);for(var e=this._tokens.peek();this._flags.mode===Le.Statement&&!(this._flags.if_block&&Jr(e,"else"))&&!this._flags.do_block;)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(t)};mt.prototype.handle_string=function(t){t.text.startsWith("`")&&t.newlines===0&&t.whitespace_before===""&&(t.previous.text===")"||this._flags.last_token.type===z.WORD)||(this.start_of_statement(t)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(t),this._flags.last_token.type===z.RESERVED||this._flags.last_token.type===z.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===z.COMMA||this._flags.last_token.type===z.START_EXPR||this._flags.last_token.type===z.EQUALS||this._flags.last_token.type===z.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t):t.text.startsWith("`")&&this._flags.last_token.type===z.END_EXPR&&(t.previous.text==="]"||t.previous.text===")")&&t.newlines===0?this._output.space_before_token=!0:this.print_newline())),this.print_token(t)};mt.prototype.handle_equals=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0};mt.prototype.handle_comma=function(t){this.handle_whitespace_and_comments(t,!0),this.print_token(t),this._output.space_before_token=!0,this._flags.declaration_statement?(oc(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)):this._flags.mode===Le.ObjectLiteral||this._flags.mode===Le.Statement&&this._flags.parent.mode===Le.ObjectLiteral?(this._flags.mode===Le.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)};mt.prototype.handle_operator=function(t){var e=t.text==="*"&&(Ft(this._flags.last_token,["function","yield"])||et(this._flags.last_token.type,[z.START_BLOCK,z.COMMA,z.END_BLOCK,z.SEMICOLON])),n=et(t.text,["-","+"])&&(et(this._flags.last_token.type,[z.START_BLOCK,z.START_EXPR,z.EQUALS,z.OPERATOR])||et(this._flags.last_token.text,ic)||this._flags.last_token.text===",");if(!this.start_of_statement(t)){var r=!e;this.handle_whitespace_and_comments(t,r)}if(Ft(this._flags.last_token,Qp)){this._output.space_before_token=!0,this.print_token(t);return}if(t.text==="*"&&this._flags.last_token.type===z.DOT){this.print_token(t);return}if(t.text==="::"){this.print_token(t);return}if(this._flags.last_token.type===z.OPERATOR&&et(this._options.operator_position,NI)&&this.allow_wrap_or_preserved_newline(t),t.text===":"&&this._flags.in_case){this.print_token(t),this._flags.in_case=!1,this._flags.case_body=!0,this._tokens.peek().type!==z.START_BLOCK?(this.indent(),this.print_newline()):this._output.space_before_token=!0;return}var i=!0,s=!0,a=!1;if(t.text===":"?this._flags.ternary_depth===0?i=!1:(this._flags.ternary_depth-=1,a=!0):t.text==="?"&&(this._flags.ternary_depth+=1),!n&&!e&&this._options.preserve_newlines&&et(t.text,sc)){var o=t.text===":",l=o&&a,u=o&&!a;switch(this._options.operator_position){case ac.before_newline:this._output.space_before_token=!u,this.print_token(t),(!o||l)&&this.allow_wrap_or_preserved_newline(t),this._output.space_before_token=!0;return;case ac.after_newline:this._output.space_before_token=!0,!o||l?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(t):this._output.space_before_token=!1,this.print_token(t),this._output.space_before_token=!0;return;case ac.preserve_newline:u||this.allow_wrap_or_preserved_newline(t),i=!(this._output.just_added_newline()||u),this._output.space_before_token=i,this.print_token(t),this._output.space_before_token=!0;return}}if(e){this.allow_wrap_or_preserved_newline(t),i=!1;var c=this._tokens.peek();s=c&&et(c.type,[z.WORD,z.RESERVED])}else t.text==="..."?(this.allow_wrap_or_preserved_newline(t),i=this._flags.last_token.type===z.START_BLOCK,s=!1):(et(t.text,["--","++","!","~"])||n)&&((this._flags.last_token.type===z.COMMA||this._flags.last_token.type===z.START_EXPR)&&this.allow_wrap_or_preserved_newline(t),i=!1,s=!1,t.newlines&&(t.text==="--"||t.text==="++")&&this.print_newline(!1,!0),this._flags.last_token.text===";"&&oc(this._flags.mode)&&(i=!0),this._flags.last_token.type===z.RESERVED?i=!0:this._flags.last_token.type===z.END_EXPR?i=!(this._flags.last_token.text==="]"&&(t.text==="--"||t.text==="++")):this._flags.last_token.type===z.OPERATOR&&(i=et(t.text,["--","-","++","+"])&&et(this._flags.last_token.text,["--","-","++","+"]),et(t.text,["+","-"])&&et(this._flags.last_token.text,["--","++"])&&(s=!0)),(this._flags.mode===Le.BlockStatement&&!this._flags.inline_frame||this._flags.mode===Le.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")&&this.print_newline());this._output.space_before_token=this._output.space_before_token||i,this.print_token(t),this._output.space_before_token=s};mt.prototype.handle_block_comment=function(t,e){if(this._output.raw){this._output.add_raw_token(t),t.directives&&t.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw);return}if(t.directives){this.print_newline(!1,e),this.print_token(t),t.directives.preserve==="start"&&(this._output.raw=!0),this.print_newline(!1,!0);return}if(!Xp.newline.test(t.text)&&!t.newlines){this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0;return}else this.print_block_commment(t,e)};mt.prototype.print_block_commment=function(t,e){var n=TV(t.text),r,i=!1,s=!1,a=t.whitespace_before,o=a.length;if(this.print_newline(!1,e),this.print_token_line_indentation(t),this._output.add_token(n[0]),this.print_newline(!1,e),n.length>1){for(n=n.slice(1),i=vV(n,"*"),s=NV(n,a),i&&(this._flags.alignment=1),r=0;r<n.length;r++)i?(this.print_token_line_indentation(t),this._output.add_token(_V(n[r]))):s&&n[r]?(this.print_token_line_indentation(t),this._output.add_token(n[r].substring(o))):(this._output.current_line.set_indent(-1),this._output.add_token(n[r])),this.print_newline(!1,e);this._flags.alignment=0}};mt.prototype.handle_comment=function(t,e){t.newlines?this.print_newline(!1,e):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(t),this.print_newline(!1,e)};mt.prototype.handle_dot=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t,!0),Ft(this._flags.last_token,Qp)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(t,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(t)};mt.prototype.handle_unknown=function(t,e){this.print_token(t),t.text[t.text.length-1]===`
`&&this.print_newline(!1,e)};mt.prototype.handle_eof=function(t){for(;this._flags.mode===Le.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t)};PI.exports.Beautifier=mt});var SI=J((gfe,x_)=>{"use strict";var CV=DI().Beautifier,PV=T_().Options;function DV(t,e){var n=new CV(t,e);return n.beautify()}x_.exports=DV;x_.exports.defaultOptions=function(){return new PV}});var R_=J((_fe,AI)=>{"use strict";var II=Yp().Options;function EI(t){II.call(this,t,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var e=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||e;var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var r=0;r<n.length;r++)n[r]!=="expand"?this.brace_style="collapse":this.brace_style=n[r]}EI.prototype=new II;AI.exports.Options=EI});var OI=J((yfe,wI)=>{"use strict";var SV=R_().Options,IV=Gp().Output,EV=$p().InputScanner,AV=Kp().Directives,xI=new AV(/\/\*/,/\*\//),RI=/\r\n|[\r\n]/,xV=/\r\n|[\r\n]/g,Jp=/\s/,RV=/(?:\s|\n)+/g,wV=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,OV=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function Cs(t,e){this._source_text=t||"",this._options=new SV(e),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}Cs.prototype.eatString=function(t){var e="";for(this._ch=this._input.next();this._ch;){if(e+=this._ch,this._ch==="\\")e+=this._input.next();else if(t.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return e};Cs.prototype.eatWhitespace=function(t){for(var e=Jp.test(this._input.peek()),n=0;Jp.test(this._input.peek());)this._ch=this._input.next(),t&&this._ch===`
`&&(n===0||n<this._options.max_preserve_newlines)&&(n++,this._output.add_new_line(!0));return e};Cs.prototype.foundNestedPseudoClass=function(){for(var t=0,e=1,n=this._input.peek(e);n;){if(n==="{")return!0;if(n==="(")t+=1;else if(n===")"){if(t===0)return!1;t-=1}else if(n===";"||n==="}")return!1;e++,n=this._input.peek(e)}return!1};Cs.prototype.print_string=function(t){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(t)};Cs.prototype.preserveSingleSpace=function(t){t&&(this._output.space_before_token=!0)};Cs.prototype.indent=function(){this._indentLevel++};Cs.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--};Cs.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;e==="auto"&&(e=`
`,t&&RI.test(t||"")&&(e=t.match(RI)[0])),t=t.replace(xV,`
`);var n=t.match(/^[\t ]*/)[0];this._output=new IV(this._options,n),this._input=new EV(t),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var r=0,i=!1,s=!1,a=!1,o=!1,l=!1,u=this._ch,c,f,d;c=this._input.read(RV),f=c!=="",d=u,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),u=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var m=this._input.read(wV),p=xI.get_directives(m);p&&p.ignore==="start"&&(m+=xI.readIgnored(this._input)),this.print_string(m),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(OV)),this.eatWhitespace(!0);else if(this._ch==="@")if(this.preserveSingleSpace(f),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var h=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);h.match(/[ :]$/)&&(h=this.eatString(": ").replace(/\s$/,""),this.print_string(h),this._output.space_before_token=!0),h=h.replace(/\s$/,""),h==="extend"?o=!0:h==="import"&&(l=!0),h in this.NESTED_AT_RULE?(this._nestedLevel+=1,h in this.CONDITIONAL_GROUP_RULE&&(a=!0)):!i&&r===0&&h.indexOf(":")!==-1&&(s=!0,this.indent())}else this._ch==="#"&&this._input.peek()==="{"?(this.preserveSingleSpace(f),this.print_string(this._ch+this.eatString("}"))):this._ch==="{"?(s&&(s=!1,this.outdent()),a?(a=!1,i=this._indentLevel>=this._nestedLevel):i=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&i&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line()):this._ch==="}"?(this.outdent(),this._output.add_new_line(),d==="{"&&this._output.trim(!0),l=!1,o=!1,s&&(this.outdent(),s=!1),this.print_string(this._ch),i=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0)):this._ch===":"?(i||a)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!o&&r===0?(this.print_string(":"),s||(s=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):this._ch==='"'||this._ch==="'"?(this.preserveSingleSpace(f),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):this._ch===";"?r===0?(s&&(this.outdent(),s=!1),o=!1,l=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0):this._ch==="("?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),r++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),r&&(r--,this.outdent()))):(this.preserveSingleSpace(f),this.print_string(this._ch),this.eatWhitespace(),r++,this.indent()):this._ch===")"?(r&&(r--,this.outdent()),this.print_string(this._ch)):this._ch===","?(this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&!s&&r===0&&!l?this._output.add_new_line():this._output.space_before_token=!0):(this._ch===">"||this._ch==="+"||this._ch==="~")&&!s&&r===0?this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&Jp.test(this._ch)&&(this._ch="")):this._ch==="]"?this.print_string(this._ch):this._ch==="["?(this.preserveSingleSpace(f),this.print_string(this._ch)):this._ch==="="?(this.eatWhitespace(),this.print_string("="),Jp.test(this._ch)&&(this._ch="")):this._ch==="!"&&!this._input.lookBack("\\")?(this.print_string(" "),this.print_string(this._ch)):(this.preserveSingleSpace(f),this.print_string(this._ch));var _=this._output.get_code(e);return _};wI.exports.Beautifier=Cs});var FI=J((bfe,w_)=>{"use strict";var FV=OI().Beautifier,LV=R_().Options;function kV(t,e){var n=new FV(t,e);return n.beautify()}w_.exports=kV;w_.exports.defaultOptions=function(){return new LV}});var O_=J((Tfe,MI)=>{"use strict";var LI=Yp().Options;function kI(t){LI.call(this,t,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}kI.prototype=new LI;MI.exports.Options=kI});var k_=J((vfe,L_)=>{"use strict";var BI=tc().Tokenizer,F_=tc().TOKEN,MV=Kp().Directives,BV=S_().TemplatablePattern,qV=Zu().Pattern,Qt={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:F_.START,RAW:F_.RAW,EOF:F_.EOF},qI=new MV(/<\!--/,/-->/),Gn=function(t,e){BI.call(this,t,e),this._current_tag_name="";var n=new BV(this._input).read_options(this._options),r=new qV(this._input);if(this.__patterns={word:n.until(/[\n\r\t <]/),single_quote:n.until_after(/'/),double_quote:n.until_after(/"/),attribute:n.until(/[\n\r\t =>]|\/>/),element_name:n.until(/[\n\r\t >\/]/),handlebars_comment:r.starting_with(/{{!--/).until_after(/--}}/),handlebars:r.starting_with(/{{/).until_after(/}}/),handlebars_open:r.until(/[\n\r\t }]/),handlebars_raw_close:r.until(/}}/),comment:r.starting_with(/<!--/).until_after(/-->/),cdata:r.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:r.starting_with(/<!\[/).until_after(/]>/),processing:r.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var i=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=r.matching(i).until_after(i)}};Gn.prototype=new BI;Gn.prototype._is_comment=function(t){return!1};Gn.prototype._is_opening=function(t){return t.type===Qt.TAG_OPEN};Gn.prototype._is_closing=function(t,e){return t.type===Qt.TAG_CLOSE&&e&&((t.text===">"||t.text==="/>")&&e.text[0]==="<"||t.text==="}}"&&e.text[0]==="{"&&e.text[1]==="{")};Gn.prototype._reset=function(){this._current_tag_name=""};Gn.prototype._get_next_token=function(t,e){var n=null;this._readWhitespace();var r=this._input.peek();return r===null?this._create_token(Qt.EOF,""):(n=n||this._read_open_handlebars(r,e),n=n||this._read_attribute(r,t,e),n=n||this._read_close(r,e),n=n||this._read_raw_content(r,t,e),n=n||this._read_content_word(r),n=n||this._read_comment_or_cdata(r),n=n||this._read_processing(r),n=n||this._read_open(r,e),n=n||this._create_token(Qt.UNKNOWN,this._input.next()),n)};Gn.prototype._read_comment_or_cdata=function(t){var e=null,n=null,r=null;if(t==="<"){var i=this._input.peek(1);i==="!"&&(n=this.__patterns.comment.read(),n?(r=qI.get_directives(n),r&&r.ignore==="start"&&(n+=qI.readIgnored(this._input))):n=this.__patterns.cdata.read()),n&&(e=this._create_token(Qt.COMMENT,n),e.directives=r)}return e};Gn.prototype._read_processing=function(t){var e=null,n=null,r=null;if(t==="<"){var i=this._input.peek(1);(i==="!"||i==="?")&&(n=this.__patterns.conditional_comment.read(),n=n||this.__patterns.processing.read()),n&&(e=this._create_token(Qt.COMMENT,n),e.directives=r)}return e};Gn.prototype._read_open=function(t,e){var n=null,r=null;return e||t==="<"&&(n=this._input.next(),this._input.peek()==="/"&&(n+=this._input.next()),n+=this.__patterns.element_name.read(),r=this._create_token(Qt.TAG_OPEN,n)),r};Gn.prototype._read_open_handlebars=function(t,e){var n=null,r=null;return e||this._options.indent_handlebars&&t==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(n=this.__patterns.handlebars_comment.read(),n=n||this.__patterns.handlebars.read(),r=this._create_token(Qt.COMMENT,n)):(n=this.__patterns.handlebars_open.read(),r=this._create_token(Qt.TAG_OPEN,n))),r};Gn.prototype._read_close=function(t,e){var n=null,r=null;return e&&(e.text[0]==="<"&&(t===">"||t==="/"&&this._input.peek(1)===">")?(n=this._input.next(),t==="/"&&(n+=this._input.next()),r=this._create_token(Qt.TAG_CLOSE,n)):e.text[0]==="{"&&t==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),r=this._create_token(Qt.TAG_CLOSE,"}}"))),r};Gn.prototype._read_attribute=function(t,e,n){var r=null,i="";if(n&&n.text[0]==="<")if(t==="=")r=this._create_token(Qt.EQUALS,this._input.next());else if(t==='"'||t==="'"){var s=this._input.next();t==='"'?s+=this.__patterns.double_quote.read():s+=this.__patterns.single_quote.read(),r=this._create_token(Qt.VALUE,s)}else i=this.__patterns.attribute.read(),i&&(e.type===Qt.EQUALS?r=this._create_token(Qt.VALUE,i):r=this._create_token(Qt.ATTRIBUTE,i));return r};Gn.prototype._is_content_unformatted=function(t){return this._options.void_elements.indexOf(t)===-1&&(this._options.content_unformatted.indexOf(t)!==-1||this._options.unformatted.indexOf(t)!==-1)};Gn.prototype._read_raw_content=function(t,e,n){var r="";if(n&&n.text[0]==="{")r=this.__patterns.handlebars_raw_close.read();else if(e.type===Qt.TAG_CLOSE&&e.opened.text[0]==="<"&&e.text[0]!=="/"){var i=e.opened.text.substr(1).toLowerCase();if(i==="script"||i==="style"){var s=this._read_comment_or_cdata(t);if(s)return s.type=Qt.TEXT,s;r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(i)&&(r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig")))}return r?this._create_token(Qt.TEXT,r):null};Gn.prototype._read_content_word=function(t){var e="";if(this._options.unformatted_content_delimiter&&t===this._options.unformatted_content_delimiter[0]&&(e=this.__patterns.unformatted_content_delimiter.read()),e||(e=this.__patterns.word.read()),e)return this._create_token(Qt.TEXT,e)};L_.exports.Tokenizer=Gn;L_.exports.TOKEN=Qt});var WI=J((Nfe,UI)=>{"use strict";var VV=O_().Options,jV=Gp().Output,UV=k_().Tokenizer,Dt=k_().TOKEN,VI=/\r\n|[\r\n]/,WV=/\r\n|[\r\n]/g,Zr=function(t,e){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=t.max_preserve_newlines,this.preserve_newlines=t.preserve_newlines,this._output=new jV(t,e)};Zr.prototype.current_line_has_match=function(t){return this._output.current_line.has_match(t)};Zr.prototype.set_space_before_token=function(t,e){this._output.space_before_token=t,this._output.non_breaking_space=e};Zr.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()};Zr.prototype.add_raw_token=function(t){this._output.add_raw_token(t)};Zr.prototype.print_preserved_newlines=function(t){var e=0;t.type!==Dt.TEXT&&t.previous.type!==Dt.TEXT&&(e=t.newlines?1:0),this.preserve_newlines&&(e=t.newlines<this.max_preserve_newlines+1?t.newlines:this.max_preserve_newlines+1);for(var n=0;n<e;n++)this.print_newline(n>0);return e!==0};Zr.prototype.traverse_whitespace=function(t){return t.whitespace_before||t.newlines?(this.print_preserved_newlines(t)||(this._output.space_before_token=!0),!0):!1};Zr.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped};Zr.prototype.print_newline=function(t){this._output.add_new_line(t)};Zr.prototype.print_token=function(t){t.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(t.text))};Zr.prototype.indent=function(){this.indent_level++};Zr.prototype.get_full_indent=function(t){return t=this.indent_level+(t||0),t<1?"":this._output.get_indent_string(t)};var GV=function(t){for(var e=null,n=t.next;n.type!==Dt.EOF&&t.closed!==n;){if(n.type===Dt.ATTRIBUTE&&n.text==="type"){n.next&&n.next.type===Dt.EQUALS&&n.next.next&&n.next.next.type===Dt.VALUE&&(e=n.next.next.text);break}n=n.next}return e},HV=function(t,e){var n=null,r=null;return e.closed?(t==="script"?n="text/javascript":t==="style"&&(n="text/css"),n=GV(e)||n,n.search("text/css")>-1?r="css":n.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?r="javascript":n.search(/(text|application|dojo)\/(x-)?(html)/)>-1?r="html":n.search(/test\/null/)>-1&&(r="null"),r):null};function lc(t,e){return e.indexOf(t)!==-1}function YV(t,e,n){this.parent=t||null,this.tag=e?e.tag_name:"",this.indent_level=n||0,this.parser_token=e||null}function Za(t){this._printer=t,this._current_frame=null}Za.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null};Za.prototype.record_tag=function(t){var e=new YV(this._current_frame,t,this._printer.indent_level);this._current_frame=e};Za.prototype._try_pop_frame=function(t){var e=null;return t&&(e=t.parser_token,this._printer.indent_level=t.indent_level,this._current_frame=t.parent),e};Za.prototype._get_frame=function(t,e){for(var n=this._current_frame;n&&t.indexOf(n.tag)===-1;){if(e&&e.indexOf(n.tag)!==-1){n=null;break}n=n.parent}return n};Za.prototype.try_pop=function(t,e){var n=this._get_frame([t],e);return this._try_pop_frame(n)};Za.prototype.indent_to_tag=function(t){var e=this._get_frame(t);e&&(this._printer.indent_level=e.indent_level)};function ei(t,e,n,r){this._source_text=t||"",e=e||{},this._js_beautify=n,this._css_beautify=r,this._tag_stack=null;var i=new VV(e,"html");this._options=i,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,"force".length)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,"preserve".length)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}ei.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;this._options.eol==="auto"&&(e=`
`,t&&VI.test(t)&&(e=t.match(VI)[0])),t=t.replace(WV,`
`);var n=t.match(/^[\t ]*/)[0],r={text:"",type:""},i=new jI,s=new Zr(this._options,n),a=new UV(t,this._options).tokenize();this._tag_stack=new Za(s);for(var o=null,l=a.next();l.type!==Dt.EOF;)l.type===Dt.TAG_OPEN||l.type===Dt.COMMENT?(o=this._handle_tag_open(s,l,i,r),i=o):l.type===Dt.ATTRIBUTE||l.type===Dt.EQUALS||l.type===Dt.VALUE||l.type===Dt.TEXT&&!i.tag_complete?o=this._handle_inside_tag(s,l,i,a):l.type===Dt.TAG_CLOSE?o=this._handle_tag_close(s,l,i):l.type===Dt.TEXT?o=this._handle_text(s,l,i):s.add_raw_token(l),r=o,l=a.next();var u=s._output.get_code(e);return u};ei.prototype._handle_tag_close=function(t,e,n){var r={text:e.text,type:e.type};return t.alignment_size=0,n.tag_complete=!0,t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),n.is_unformatted?t.add_raw_token(e):(n.tag_start_char==="<"&&(t.set_space_before_token(e.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&n.has_wrapped_attrs&&t.print_newline(!1)),t.print_token(e)),n.indent_content&&!(n.is_unformatted||n.is_content_unformatted)&&(t.indent(),n.indent_content=!1),!n.is_inline_element&&!(n.is_unformatted||n.is_content_unformatted)&&t.set_wrap_point(),r};ei.prototype._handle_inside_tag=function(t,e,n,r){var i=n.has_wrapped_attrs,s={text:e.text,type:e.type};if(t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),n.is_unformatted)t.add_raw_token(e);else if(n.tag_start_char==="{"&&e.type===Dt.TEXT)t.print_preserved_newlines(e)?(e.newlines=0,t.add_raw_token(e)):t.print_token(e);else{if(e.type===Dt.ATTRIBUTE?(t.set_space_before_token(!0),n.attr_count+=1):(e.type===Dt.EQUALS||e.type===Dt.VALUE&&e.previous.type===Dt.EQUALS)&&t.set_space_before_token(!1),e.type===Dt.ATTRIBUTE&&n.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(t.traverse_whitespace(e),i=i||e.newlines!==0),this._is_wrap_attributes_force)){var a=n.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&n.attr_count===1){var o=!0,l=0,u;do{if(u=r.peek(l),u.type===Dt.ATTRIBUTE){o=!1;break}l+=1}while(l<4&&u.type!==Dt.EOF&&u.type!==Dt.TAG_CLOSE);a=!o}a&&(t.print_newline(!1),i=!0)}t.print_token(e),i=i||t.previous_token_wrapped(),n.has_wrapped_attrs=i}return s};ei.prototype._handle_text=function(t,e,n){var r={text:e.text,type:"TK_CONTENT"};return n.custom_beautifier_name?this._print_custom_beatifier_text(t,e,n):n.is_unformatted||n.is_content_unformatted?t.add_raw_token(e):(t.traverse_whitespace(e),t.print_token(e)),r};ei.prototype._print_custom_beatifier_text=function(t,e,n){var r=this;if(e.text!==""){var i=e.text,s,a=1,o="",l="";n.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?s=this._js_beautify:n.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?s=this._css_beautify:n.custom_beautifier_name==="html"&&(s=function(p,h){var _=new ei(p,h,r._js_beautify,r._css_beautify);return _.beautify()}),this._options.indent_scripts==="keep"?a=0:this._options.indent_scripts==="separate"&&(a=-t.indent_level);var u=t.get_full_indent(a);if(i=i.replace(/\n[ \t]*$/,""),n.custom_beautifier_name!=="html"&&i[0]==="<"&&i.match(/^(<!--|<!\[CDATA\[)/)){var c=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(i);if(!c){t.add_raw_token(e);return}o=u+c[1]+`
`,i=c[4],c[5]&&(l=u+c[5]),i=i.replace(/\n[ \t]*$/,""),(c[2]||c[3].indexOf(`
`)!==-1)&&(c=c[3].match(/[ \t]+$/),c&&(e.whitespace_before=c[0]))}if(i)if(s){var f=function(){this.eol=`
`};f.prototype=this._options.raw_options;var d=new f;i=s(u+i,d)}else{var m=e.whitespace_before;m&&(i=i.replace(new RegExp(`
(`+m+")?","g"),`
`)),i=u+i.replace(/\n/g,`
`+u)}o&&(i?i=o+i+`
`+l:i=o+l),t.print_newline(!1),i&&(e.text=i,e.whitespace_before="",e.newlines=0,t.add_raw_token(e),t.print_newline(!0))}};ei.prototype._handle_tag_open=function(t,e,n,r){var i=this._get_tag_open_token(e);return(n.is_unformatted||n.is_content_unformatted)&&!n.is_empty_element&&e.type===Dt.TAG_OPEN&&e.text.indexOf("</")===0?(t.add_raw_token(e),i.start_tag_token=this._tag_stack.try_pop(i.tag_name)):(t.traverse_whitespace(e),this._set_tag_position(t,e,i,n,r),i.is_inline_element||t.set_wrap_point(),t.print_token(e)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(i.alignment_size=e.text.length+1),!i.tag_complete&&!i.is_unformatted&&(t.alignment_size=i.alignment_size),i};var jI=function(t,e){if(this.parent=t||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!e)this.tag_complete=!0;else{var n;this.tag_start_char=e.text[0],this.text=e.text,this.tag_start_char==="<"?(n=e.text.match(/^<([^\s>]*)/),this.tag_check=n?n[1]:""):(n=e.text.match(/^{{(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=n?n[1]:"",e.text==="{{#>"&&this.tag_check===">"&&e.next!==null&&(this.tag_check=e.next.text)),this.tag_check=this.tag_check.toLowerCase(),e.type===Dt.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||e.closed&&e.closed.text==="/>",this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))}};ei.prototype._get_tag_open_token=function(t){var e=new jI(this._tag_stack.get_parser_token(),t);return e.alignment_size=this._options.wrap_attributes_indent_size,e.is_end_tag=e.is_end_tag||lc(e.tag_check,this._options.void_elements),e.is_empty_element=e.tag_complete||e.is_start_tag&&e.is_end_tag,e.is_unformatted=!e.tag_complete&&lc(e.tag_check,this._options.unformatted),e.is_content_unformatted=!e.is_empty_element&&lc(e.tag_check,this._options.content_unformatted),e.is_inline_element=lc(e.tag_name,this._options.inline)||e.tag_start_char==="{",e};ei.prototype._set_tag_position=function(t,e,n,r,i){if(n.is_empty_element||(n.is_end_tag?n.start_tag_token=this._tag_stack.try_pop(n.tag_name):(this._do_optional_end_element(n)&&(n.is_inline_element||t.print_newline(!1)),this._tag_stack.record_tag(n),(n.tag_name==="script"||n.tag_name==="style")&&!(n.is_unformatted||n.is_content_unformatted)&&(n.custom_beautifier_name=HV(n.tag_check,e)))),lc(n.tag_check,this._options.extra_liners)&&(t.print_newline(!1),t._output.just_added_blankline()||t.print_newline(!0)),n.is_empty_element){if(n.tag_start_char==="{"&&n.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),n.indent_content=!0;var s=t.current_line_has_match(/{{#if/);s||t.print_newline(!1)}n.tag_name==="!--"&&i.type===Dt.TAG_CLOSE&&r.is_end_tag&&n.text.indexOf(`
`)===-1||(n.is_inline_element||n.is_unformatted||t.print_newline(!1),this._calcluate_parent_multiline(t,n))}else if(n.is_end_tag){var a=!1;a=n.start_tag_token&&n.start_tag_token.multiline_content,a=a||!n.is_inline_element&&!(r.is_inline_element||r.is_unformatted)&&!(i.type===Dt.TAG_CLOSE&&n.start_tag_token===r)&&i.type!=="TK_CONTENT",(n.is_content_unformatted||n.is_unformatted)&&(a=!1),a&&t.print_newline(!1)}else n.indent_content=!n.custom_beautifier_name,n.tag_start_char==="<"&&(n.tag_name==="html"?n.indent_content=this._options.indent_inner_html:n.tag_name==="head"?n.indent_content=this._options.indent_head_inner_html:n.tag_name==="body"&&(n.indent_content=this._options.indent_body_inner_html)),!(n.is_inline_element||n.is_unformatted)&&(i.type!=="TK_CONTENT"||n.is_content_unformatted)&&t.print_newline(!1),this._calcluate_parent_multiline(t,n)};ei.prototype._calcluate_parent_multiline=function(t,e){e.parent&&t._output.just_added_newline()&&!((e.is_inline_element||e.is_unformatted)&&e.parent.is_inline_element)&&(e.parent.multiline_content=!0)};var $V=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],KV=["a","audio","del","ins","map","noscript","video"];ei.prototype._do_optional_end_element=function(t){var e=null;if(!(t.is_empty_element||!t.is_start_tag||!t.parent)){if(t.tag_name==="body")e=e||this._tag_stack.try_pop("head");else if(t.tag_name==="li")e=e||this._tag_stack.try_pop("li",["ol","ul"]);else if(t.tag_name==="dd"||t.tag_name==="dt")e=e||this._tag_stack.try_pop("dt",["dl"]),e=e||this._tag_stack.try_pop("dd",["dl"]);else if(t.parent.tag_name==="p"&&$V.indexOf(t.tag_name)!==-1){var n=t.parent.parent;(!n||KV.indexOf(n.tag_name)===-1)&&(e=e||this._tag_stack.try_pop("p"))}else t.tag_name==="rp"||t.tag_name==="rt"?(e=e||this._tag_stack.try_pop("rt",["ruby","rtc"]),e=e||this._tag_stack.try_pop("rp",["ruby","rtc"])):t.tag_name==="optgroup"?e=e||this._tag_stack.try_pop("optgroup",["select"]):t.tag_name==="option"?e=e||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):t.tag_name==="colgroup"?e=e||this._tag_stack.try_pop("caption",["table"]):t.tag_name==="thead"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"])):t.tag_name==="tbody"||t.tag_name==="tfoot"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("thead",["table"]),e=e||this._tag_stack.try_pop("tbody",["table"])):t.tag_name==="tr"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(t.tag_name==="th"||t.tag_name==="td")&&(e=e||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),e=e||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return t.parent=this._tag_stack.get_parser_token(),e}};UI.exports.Beautifier=ei});var GI=J((Cfe,M_)=>{"use strict";var zV=WI().Beautifier,XV=O_().Options;function QV(t,e,n,r){var i=new zV(t,e,n,r);return i.beautify()}M_.exports=QV;M_.exports.defaultOptions=function(){return new XV}});var zI=J((Pfe,Zp)=>{"use strict";var HI=SI(),YI=FI(),$I=GI();function KI(t,e,n,r){return n=n||HI,r=r||YI,$I(t,e,n,r)}KI.defaultOptions=$I.defaultOptions;Zp.exports.js=HI;Zp.exports.css=YI;Zp.exports.html=KI});var JI=J((Dfe,QI)=>{"use strict";function XI(t,e,n){var r=function(i,s){return t.js_beautify(i,s)};return r.js=t.js_beautify,r.css=e.css_beautify,r.html=n.html_beautify,r.js_beautify=t.js_beautify,r.css_beautify=e.css_beautify,r.html_beautify=n.html_beautify,r}typeof define=="function"&&define.amd?define(["./lib/beautify","./lib/beautify-css","./lib/beautify-html"],function(t,e,n){return XI(t,e,n)}):function(t){var e=zI();e.js_beautify=e.js,e.css_beautify=e.css,e.html_beautify=e.html,t.exports=XI(e,e,e)}(QI)});var tE=J((xfe,eE)=>{"use strict";var B_=require("fs"),ZV=require("util"),ej=require("path"),Li,ZI=class{constructor(e){e=e||{},this.directory=e.directory||"./locales",this.updateFiles=typeof e.updateFiles=="boolean"?e.updateFiles:!0,this.locale=e.locale||"en",this.fallbackToLanguage=typeof e.fallbackToLanguage=="boolean"?e.fallbackToLanguage:!0,this.cache=Object.create(null),this.writeQueue=[]}__(...e){if(typeof arguments[0]!="string")return this._taggedLiteral(arguments[0],...arguments);let n=e.shift(),r=function(){};return typeof e[e.length-1]=="function"&&(r=e.pop()),r=r||function(){},this.cache[this.locale]||this._readLocaleFile(),!this.cache[this.locale][n]&&this.updateFiles?(this.cache[this.locale][n]=n,this._enqueueWrite({directory:this.directory,locale:this.locale,cb:r})):r(),Li.format.apply(Li.format,[this.cache[this.locale][n]||n].concat(e))}__n(){let e=Array.prototype.slice.call(arguments),n=e.shift(),r=e.shift(),i=e.shift(),s=function(){};typeof e[e.length-1]=="function"&&(s=e.pop()),this.cache[this.locale]||this._readLocaleFile();let a=i===1?n:r;this.cache[this.locale][n]&&(a=this.cache[this.locale][n][i===1?"one":"other"]),!this.cache[this.locale][n]&&this.updateFiles?(this.cache[this.locale][n]={one:n,other:r},this._enqueueWrite({directory:this.directory,locale:this.locale,cb:s})):s();let o=[a];return~a.indexOf("%d")&&o.push(i),Li.format.apply(Li.format,o.concat(e))}setLocale(e){this.locale=e}getLocale(){return this.locale}updateLocale(e){this.cache[this.locale]||this._readLocaleFile();for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.cache[this.locale][n]=e[n])}_taggedLiteral(e,...n){let r="";return e.forEach(function(i,s){let a=n[s+1];r+=i,typeof a!="undefined"&&(r+="%s")}),this.__.apply(this,[r].concat([].slice.call(n,1)))}_enqueueWrite(e){this.writeQueue.push(e),this.writeQueue.length===1&&this._processWriteQueue()}_processWriteQueue(){let e=this,n=this.writeQueue[0],r=n.directory,i=n.locale,s=n.cb,a=this._resolveLocaleFile(r,i),o=JSON.stringify(this.cache[i],null,2);Li.fs.writeFile(a,o,"utf-8",function(l){e.writeQueue.shift(),e.writeQueue.length>0&&e._processWriteQueue(),s(l)})}_readLocaleFile(){let e={},n=this._resolveLocaleFile(this.directory,this.locale);try{Li.fs.readFileSync&&(e=JSON.parse(Li.fs.readFileSync(n,"utf-8")))}catch(r){if(r instanceof SyntaxError&&(r.message="syntax error in "+n),r.code==="ENOENT")e={};else throw r}this.cache[this.locale]=e}_resolveLocaleFile(e,n){let r=Li.resolve(e,"./",n+".json");if(this.fallbackToLanguage&&!this._fileExistsSync(r)&&~n.lastIndexOf("_")){let i=Li.resolve(e,"./",n.split("_")[0]+".json");this._fileExistsSync(i)&&(r=i)}return r}_fileExistsSync(e){return Li.exists(e)}};function tj(t,e){Li=e;let n=new ZI(t);return{__:n.__.bind(n),__n:n.__n.bind(n),setLocale:n.setLocale.bind(n),getLocale:n.getLocale.bind(n),updateLocale:n.updateLocale.bind(n),locale:n.locale}}var nj={fs:{readFileSync:B_.readFileSync,writeFile:B_.writeFile},format:ZV.format,resolve:ej.resolve,exists:t=>{try{return B_.statSync(t).isFile()}catch{return!1}}},rj=t=>tj(t,nj);eE.exports=rj});var V_=J((Rfe,uE)=>{"use strict";var ij=require("util"),nE=require("path"),sj=require("fs");function uc(t){if(t!==t.toLowerCase()&&t!==t.toUpperCase()||(t=t.toLowerCase()),t.indexOf("-")===-1&&t.indexOf("_")===-1)return t;{let n="",r=!1,i=t.match(/^-+/);for(let s=i?i[0].length:0;s<t.length;s++){let a=t.charAt(s);r&&(r=!1,a=a.toUpperCase()),s!==0&&(a==="-"||a==="_")?r=!0:a!=="-"&&a!=="_"&&(n+=a)}return n}}function rE(t,e){let n=t.toLowerCase();e=e||"-";let r="";for(let i=0;i<t.length;i++){let s=n.charAt(i),a=t.charAt(i);s!==a&&i>0?r+=`${e}${n.charAt(i)}`:r+=a}return r}function iE(t){return t==null?!1:typeof t=="number"||/^0x[0-9a-f]+$/i.test(t)?!0:/^0[^.]/.test(t)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t)}function aj(t){if(Array.isArray(t))return t.map(a=>typeof a!="string"?a+"":a);t=t.trim();let e=0,n=null,r=null,i=null,s=[];for(let a=0;a<t.length;a++){if(n=r,r=t.charAt(a),r===" "&&!i){n!==" "&&e++;continue}r===i?i=null:(r==="'"||r==='"')&&!i&&(i=r),s[e]||(s[e]=""),s[e]+=r}return s}var ki;(function(t){t.BOOLEAN="boolean",t.STRING="string",t.NUMBER="number",t.ARRAY="array"})(ki||(ki={}));var Ps,sE=class{constructor(e){Ps=e}parse(e,n){let r=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},n),i=aj(e),s=typeof e=="string",a=oj(Object.assign(Object.create(null),r.alias)),o=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},r.configuration),l=Object.assign(Object.create(null),r.default),u=r.configObjects||[],c=r.envPrefix,f=o["populate--"],d=f?"--":"_",m=Object.create(null),p=Object.create(null),h=r.__||Ps.format,_={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},g=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,b=new RegExp("^--"+o["negation-prefix"]+"(.+)");[].concat(r.array||[]).filter(Boolean).forEach(function(R){let M=typeof R=="object"?R.key:R,Z=Object.keys(R).map(function($){return{boolean:"bools",string:"strings",number:"numbers"}[$]}).filter(Boolean).pop();Z&&(_[Z][M]=!0),_.arrays[M]=!0,_.keys.push(M)}),[].concat(r.boolean||[]).filter(Boolean).forEach(function(R){_.bools[R]=!0,_.keys.push(R)}),[].concat(r.string||[]).filter(Boolean).forEach(function(R){_.strings[R]=!0,_.keys.push(R)}),[].concat(r.number||[]).filter(Boolean).forEach(function(R){_.numbers[R]=!0,_.keys.push(R)}),[].concat(r.count||[]).filter(Boolean).forEach(function(R){_.counts[R]=!0,_.keys.push(R)}),[].concat(r.normalize||[]).filter(Boolean).forEach(function(R){_.normalize[R]=!0,_.keys.push(R)}),typeof r.narg=="object"&&Object.entries(r.narg).forEach(([R,M])=>{typeof M=="number"&&(_.nargs[R]=M,_.keys.push(R))}),typeof r.coerce=="object"&&Object.entries(r.coerce).forEach(([R,M])=>{typeof M=="function"&&(_.coercions[R]=M,_.keys.push(R))}),typeof r.config!="undefined"&&(Array.isArray(r.config)||typeof r.config=="string"?[].concat(r.config).filter(Boolean).forEach(function(R){_.configs[R]=!0}):typeof r.config=="object"&&Object.entries(r.config).forEach(([R,M])=>{(typeof M=="boolean"||typeof M=="function")&&(_.configs[R]=M)})),se(r.key,a,r.default,_.arrays),Object.keys(l).forEach(function(R){(_.aliases[R]||[]).forEach(function(M){l[M]=l[R]})});let y=null;Ss();let T=[],C=Object.assign(Object.create(null),{_:[]}),W={};for(let R=0;R<i.length;R++){let M=i[R],Z=M.replace(/^-{3,}/,"---"),$,k,me,ce,be,Ct;if(M!=="--"&&ft(M))F(M);else if(Z.match(/---+(=|$)/)){F(M);continue}else if(M.match(/^--.+=/)||!o["short-option-groups"]&&M.match(/^-.+=/))ce=M.match(/^--?([^=]+)=([\s\S]*)$/),ce!==null&&Array.isArray(ce)&&ce.length>=3&&(V(ce[1],_.arrays)?R=H(R,ce[1],i,ce[2]):V(ce[1],_.nargs)!==!1?R=L(R,ce[1],i,ce[2]):G(ce[1],ce[2],!0));else if(M.match(b)&&o["boolean-negation"])ce=M.match(b),ce!==null&&Array.isArray(ce)&&ce.length>=2&&(k=ce[1],G(k,V(k,_.arrays)?[!1]:!1));else if(M.match(/^--.+/)||!o["short-option-groups"]&&M.match(/^-[^-]+/))ce=M.match(/^--?(.+)/),ce!==null&&Array.isArray(ce)&&ce.length>=2&&(k=ce[1],V(k,_.arrays)?R=H(R,k,i):V(k,_.nargs)!==!1?R=L(R,k,i):(be=i[R+1],be!==void 0&&(!be.match(/^-/)||be.match(g))&&!V(k,_.bools)&&!V(k,_.counts)||/^(true|false)$/.test(be)?(G(k,be),R++):G(k,dr(k))));else if(M.match(/^-.\..+=/))ce=M.match(/^-([^=]+)=([\s\S]*)$/),ce!==null&&Array.isArray(ce)&&ce.length>=3&&G(ce[1],ce[2]);else if(M.match(/^-.\..+/)&&!M.match(g))be=i[R+1],ce=M.match(/^-(.\..+)/),ce!==null&&Array.isArray(ce)&&ce.length>=2&&(k=ce[1],be!==void 0&&!be.match(/^-/)&&!V(k,_.bools)&&!V(k,_.counts)?(G(k,be),R++):G(k,dr(k)));else if(M.match(/^-[^-]+/)&&!M.match(g)){me=M.slice(1,-1).split(""),$=!1;for(let xt=0;xt<me.length;xt++){if(be=M.slice(xt+2),me[xt+1]&&me[xt+1]==="="){Ct=M.slice(xt+3),k=me[xt],V(k,_.arrays)?R=H(R,k,i,Ct):V(k,_.nargs)!==!1?R=L(R,k,i,Ct):G(k,Ct),$=!0;break}if(be==="-"){G(me[xt],be);continue}if(/[A-Za-z]/.test(me[xt])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(be)&&V(be,_.bools)===!1){G(me[xt],be),$=!0;break}if(me[xt+1]&&me[xt+1].match(/\W/)){G(me[xt],be),$=!0;break}else G(me[xt],dr(me[xt]))}k=M.slice(-1)[0],!$&&k!=="-"&&(V(k,_.arrays)?R=H(R,k,i):V(k,_.nargs)!==!1?R=L(R,k,i):(be=i[R+1],be!==void 0&&(!/^(-|--)[^-]/.test(be)||be.match(g))&&!V(k,_.bools)&&!V(k,_.counts)||/^(true|false)$/.test(be)?(G(k,be),R++):G(k,dr(k))))}else if(M.match(/^-[0-9]$/)&&M.match(g)&&V(M.slice(1),_.bools))k=M.slice(1),G(k,dr(k));else if(M==="--"){T=i.slice(R+1);break}else if(o["halt-at-non-option"]){T=i.slice(R);break}else F(M)}ut(C,!0),ut(C,!1),he(C),Ae(),ct(C,_.aliases,l,!0),Lt(C),o["set-placeholder-key"]&&Ye(C),Object.keys(_.counts).forEach(function(R){_e(C,R.split("."))||G(R,0)}),f&&T.length&&(C[d]=[]),T.forEach(function(R){C[d].push(R)}),o["camel-case-expansion"]&&o["strip-dashed"]&&Object.keys(C).filter(R=>R!=="--"&&R.includes("-")).forEach(R=>{delete C[R]}),o["strip-aliased"]&&[].concat(...Object.keys(a).map(R=>a[R])).forEach(R=>{o["camel-case-expansion"]&&R.includes("-")&&delete C[R.split(".").map(M=>uc(M)).join(".")],delete C[R]});function F(R){let M=ye("_",R);(typeof M=="string"||typeof M=="number")&&C._.push(M)}function L(R,M,Z,$){let k,me=V(M,_.nargs);if(me=typeof me!="number"||isNaN(me)?1:me,me===0)return xn($)||(y=Error(h("Argument unexpected for: %s",M))),G(M,dr(M)),R;let ce=xn($)?0:1;if(o["nargs-eats-options"])Z.length-(R+1)+ce<me&&(y=Error(h("Not enough arguments following: %s",M))),ce=me;else{for(k=R+1;k<Z.length&&(!Z[k].match(/^-[^0-9]/)||Z[k].match(g)||ft(Z[k]));k++)ce++;ce<me&&(y=Error(h("Not enough arguments following: %s",M)))}let be=Math.min(ce,me);for(!xn($)&&be>0&&(G(M,$),be--),k=R+1;k<be+R+1;k++)G(M,Z[k]);return R+be}function H(R,M,Z,$){let k=[],me=$||Z[R+1],ce=V(M,_.nargs);if(V(M,_.bools)&&!/^(true|false)$/.test(me))k.push(!0);else if(xn(me)||xn($)&&/^-/.test(me)&&!g.test(me)&&!ft(me)){if(l[M]!==void 0){let be=l[M];k=Array.isArray(be)?be:[be]}}else{xn($)||k.push(re(M,$,!0));for(let be=R+1;be<Z.length&&!(!o["greedy-arrays"]&&k.length>0||ce&&typeof ce=="number"&&k.length>=ce||(me=Z[be],/^-/.test(me)&&!g.test(me)&&!ft(me)));be++)R=be,k.push(re(M,me,s))}return typeof ce=="number"&&(ce&&k.length<ce||isNaN(ce)&&k.length===0)&&(y=Error(h("Not enough arguments following: %s",M))),G(M,k),R}function G(R,M,Z=s){if(/-/.test(R)&&o["camel-case-expansion"]){let me=R.split(".").map(function(ce){return uc(ce)}).join(".");Q(R,me)}let $=re(R,M,Z),k=R.split(".");we(C,k,$),_.aliases[R]&&_.aliases[R].forEach(function(me){let ce=me.split(".");we(C,ce,$)}),k.length>1&&o["dot-notation"]&&(_.aliases[k[0]]||[]).forEach(function(me){let ce=me.split("."),be=[].concat(k);be.shift(),ce=ce.concat(be),(_.aliases[R]||[]).includes(ce.join("."))||we(C,ce,$)}),V(R,_.normalize)&&!V(R,_.arrays)&&[R].concat(_.aliases[R]||[]).forEach(function(ce){Object.defineProperty(W,ce,{enumerable:!0,get(){return M},set(be){M=typeof be=="string"?Ps.normalize(be):be}})})}function Q(R,M){_.aliases[R]&&_.aliases[R].length||(_.aliases[R]=[M],m[M]=!0),_.aliases[M]&&_.aliases[M].length||Q(M,R)}function re(R,M,Z){Z&&(M=lj(M)),(V(R,_.bools)||V(R,_.counts))&&typeof M=="string"&&(M=M==="true");let $=Array.isArray(M)?M.map(function(k){return ye(R,k)}):ye(R,M);return V(R,_.counts)&&(xn($)||typeof $=="boolean")&&($=q_()),V(R,_.normalize)&&V(R,_.arrays)&&(Array.isArray(M)?$=M.map(k=>Ps.normalize(k)):$=Ps.normalize(M)),$}function ye(R,M){return!o["parse-positional-numbers"]&&R==="_"||!V(R,_.strings)&&!V(R,_.bools)&&!Array.isArray(M)&&(iE(M)&&o["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${M}`)))||!xn(M)&&V(R,_.numbers))&&(M=Number(M)),M}function he(R){let M=Object.create(null);ct(M,_.aliases,l),Object.keys(_.configs).forEach(function(Z){let $=R[Z]||M[Z];if($)try{let k=null,me=Ps.resolve(Ps.cwd(),$),ce=_.configs[Z];if(typeof ce=="function"){try{k=ce(me)}catch(be){k=be}if(k instanceof Error){y=k;return}}else k=Ps.require(me);oe(k)}catch(k){k.name==="PermissionDenied"?y=k:R[Z]&&(y=Error(h("Invalid JSON config file: %s",$)))}})}function oe(R,M){Object.keys(R).forEach(function(Z){let $=R[Z],k=M?M+"."+Z:Z;typeof $=="object"&&$!==null&&!Array.isArray($)&&o["dot-notation"]?oe($,k):(!_e(C,k.split("."))||V(k,_.arrays)&&o["combine-arrays"])&&G(k,$)})}function Ae(){typeof u!="undefined"&&u.forEach(function(R){oe(R)})}function ut(R,M){if(typeof c=="undefined")return;let Z=typeof c=="string"?c:"",$=Ps.env();Object.keys($).forEach(function(k){if(Z===""||k.lastIndexOf(Z,0)===0){let me=k.split("__").map(function(ce,be){return be===0&&(ce=ce.substring(Z.length)),uc(ce)});(M&&_.configs[me.join(".")]||!M)&&!_e(R,me)&&G(me.join("."),$[k])}})}function Lt(R){let M,Z=new Set;Object.keys(R).forEach(function($){if(!Z.has($)&&(M=V($,_.coercions),typeof M=="function"))try{let k=ye($,M(R[$]));[].concat(_.aliases[$]||[],$).forEach(me=>{Z.add(me),R[me]=k})}catch(k){y=k}})}function Ye(R){return _.keys.forEach(M=>{~M.indexOf(".")||typeof R[M]=="undefined"&&(R[M]=void 0)}),R}function ct(R,M,Z,$=!1){Object.keys(Z).forEach(function(k){_e(R,k.split("."))||(we(R,k.split("."),Z[k]),$&&(p[k]=!0),(M[k]||[]).forEach(function(me){_e(R,me.split("."))||we(R,me.split("."),Z[k])}))})}function _e(R,M){let Z=R;o["dot-notation"]||(M=[M.join(".")]),M.slice(0,-1).forEach(function(k){Z=Z[k]||{}});let $=M[M.length-1];return typeof Z!="object"?!1:$ in Z}function we(R,M,Z){let $=R;o["dot-notation"]||(M=[M.join(".")]),M.slice(0,-1).forEach(function(Ct){Ct=aE(Ct),typeof $=="object"&&$[Ct]===void 0&&($[Ct]={}),typeof $[Ct]!="object"||Array.isArray($[Ct])?(Array.isArray($[Ct])?$[Ct].push({}):$[Ct]=[$[Ct],{}],$=$[Ct][$[Ct].length-1]):$=$[Ct]});let k=aE(M[M.length-1]),me=V(M.join("."),_.arrays),ce=Array.isArray(Z),be=o["duplicate-arguments-array"];!be&&V(k,_.nargs)&&(be=!0,(!xn($[k])&&_.nargs[k]===1||Array.isArray($[k])&&$[k].length===_.nargs[k])&&($[k]=void 0)),Z===q_()?$[k]=q_($[k]):Array.isArray($[k])?be&&me&&ce?$[k]=o["flatten-duplicate-arrays"]?$[k].concat(Z):(Array.isArray($[k][0])?$[k]:[$[k]]).concat([Z]):!be&&Boolean(me)===Boolean(ce)?$[k]=Z:$[k]=$[k].concat([Z]):$[k]===void 0&&me?$[k]=ce?Z:[Z]:be&&!($[k]===void 0||V(k,_.counts)||V(k,_.bools))?$[k]=[$[k],Z]:$[k]=Z}function se(...R){R.forEach(function(M){Object.keys(M||{}).forEach(function(Z){_.aliases[Z]||(_.aliases[Z]=[].concat(a[Z]||[]),_.aliases[Z].concat(Z).forEach(function($){if(/-/.test($)&&o["camel-case-expansion"]){let k=uc($);k!==Z&&_.aliases[Z].indexOf(k)===-1&&(_.aliases[Z].push(k),m[k]=!0)}}),_.aliases[Z].concat(Z).forEach(function($){if($.length>1&&/[A-Z]/.test($)&&o["camel-case-expansion"]){let k=rE($,"-");k!==Z&&_.aliases[Z].indexOf(k)===-1&&(_.aliases[Z].push(k),m[k]=!0)}}),_.aliases[Z].forEach(function($){_.aliases[$]=[Z].concat(_.aliases[Z].filter(function(k){return $!==k}))}))})})}function V(R,M){let Z=[].concat(_.aliases[R]||[],R),$=Object.keys(M),k=Z.find(me=>$.includes(me));return k?M[k]:!1}function pe(R){let M=Object.keys(_);return[].concat(M.map($=>_[$])).some(function($){return Array.isArray($)?$.includes(R):$[R]})}function ae(R,...M){return[].concat(...M).some(function($){let k=R.match($);return k&&pe(k[1])})}function ve(R){if(R.match(g)||!R.match(/^-[^-]+/))return!1;let M=!0,Z,$=R.slice(1).split("");for(let k=0;k<$.length;k++){if(Z=R.slice(k+2),!pe($[k])){M=!1;break}if($[k+1]&&$[k+1]==="="||Z==="-"||/[A-Za-z]/.test($[k])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(Z)||$[k+1]&&$[k+1].match(/\W/))break}return M}function ft(R){return o["unknown-options-as-args"]&&An(R)}function An(R){return R=R.replace(/^-{3,}/,"--"),R.match(g)||ve(R)?!1:!ae(R,/^-+([^=]+?)=[\s\S]*$/,b,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}function dr(R){return!V(R,_.bools)&&!V(R,_.counts)&&`${R}`in l?l[R]:Ds(Lr(R))}function Ds(R){return{[ki.BOOLEAN]:!0,[ki.STRING]:"",[ki.NUMBER]:void 0,[ki.ARRAY]:[]}[R]}function Lr(R){let M=ki.BOOLEAN;return V(R,_.strings)?M=ki.STRING:V(R,_.numbers)?M=ki.NUMBER:V(R,_.bools)?M=ki.BOOLEAN:V(R,_.arrays)&&(M=ki.ARRAY),M}function xn(R){return R===void 0}function Ss(){Object.keys(_.counts).find(R=>V(R,_.arrays)?(y=Error(h("Invalid configuration: %s, opts.count excludes opts.array.",R)),!0):V(R,_.nargs)?(y=Error(h("Invalid configuration: %s, opts.count excludes opts.narg.",R)),!0):!1)}return{aliases:Object.assign({},_.aliases),argv:Object.assign(W,C),configuration:o,defaulted:Object.assign({},p),error:y,newAliases:Object.assign({},m)}}};function oj(t){let e=[],n=Object.create(null),r=!0;for(Object.keys(t).forEach(function(i){e.push([].concat(t[i],i))});r;){r=!1;for(let i=0;i<e.length;i++)for(let s=i+1;s<e.length;s++)if(e[i].filter(function(o){return e[s].indexOf(o)!==-1}).length){e[i]=e[i].concat(e[s]),e.splice(s,1),r=!0;break}}return e.forEach(function(i){i=i.filter(function(a,o,l){return l.indexOf(a)===o});let s=i.pop();s!==void 0&&typeof s=="string"&&(n[s]=i)}),n}function q_(t){return t!==void 0?t+1:1}function aE(t){return t==="__proto__"?"___proto___":t}function lj(t){return typeof t=="string"&&(t[0]==="'"||t[0]==='"')&&t[t.length-1]===t[0]?t.substring(1,t.length-1):t}var oE=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12;if(process&&process.version&&Number(process.version.match(/v([^.]+)/)[1])<oE)throw Error(`yargs parser supports a minimum Node.js version of ${oE}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);var uj=process?process.env:{},lE=new sE({cwd:process.cwd,env:()=>uj,format:ij.format,normalize:nE.normalize,resolve:nE.resolve,require:t=>{if(typeof require!="undefined")return require(t);if(t.match(/\.json$/))return JSON.parse(sj.readFileSync(t,"utf8"));throw Error("only .json config files are supported in ESM")}}),cc=function(e,n){return lE.parse(e.slice(),n).argv};cc.detailed=function(t,e){return lE.parse(t.slice(),e)};cc.camelCase=uc;cc.decamelize=rE;cc.looksLikeNumber=iE;uE.exports=cc});var fE=J((wfe,cE)=>{"use strict";cE.exports=({onlyFirst:t=!1}={})=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,t?void 0:"g")}});var ed=J((Ofe,pE)=>{"use strict";var cj=fE();pE.exports=t=>typeof t=="string"?t.replace(cj(),""):t});var mE=J((Ffe,j_)=>{"use strict";var dE=t=>Number.isNaN(t)?!1:t>=4352&&(t<=4447||t===9001||t===9002||11904<=t&&t<=12871&&t!==12351||12880<=t&&t<=19903||19968<=t&&t<=42182||43360<=t&&t<=43388||44032<=t&&t<=55203||63744<=t&&t<=64255||65040<=t&&t<=65049||65072<=t&&t<=65131||65281<=t&&t<=65376||65504<=t&&t<=65510||110592<=t&&t<=110593||127488<=t&&t<=127569||131072<=t&&t<=262141);j_.exports=dE;j_.exports.default=dE});var gE=J((Lfe,hE)=>{"use strict";hE.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}});var td=J((kfe,U_)=>{"use strict";var fj=ed(),pj=mE(),dj=gE(),_E=t=>{if(typeof t!="string"||t.length===0||(t=fj(t),t.length===0))return 0;t=t.replace(dj(),"  ");let e=0;for(let n=0;n<t.length;n++){let r=t.codePointAt(n);r<=31||r>=127&&r<=159||r>=768&&r<=879||(r>65535&&n++,e+=pj(r)?2:1)}return e};U_.exports=_E;U_.exports.default=_E});var bE=J((Mfe,yE)=>{"use strict";yE.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var W_=J((Bfe,vE)=>{var fc=bE(),TE={};for(let t of Object.keys(fc))TE[fc[t]]=t;var Se={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};vE.exports=Se;for(let t of Object.keys(Se)){if(!("channels"in Se[t]))throw new Error("missing channels property: "+t);if(!("labels"in Se[t]))throw new Error("missing channel labels property: "+t);if(Se[t].labels.length!==Se[t].channels)throw new Error("channel and label counts mismatch: "+t);let{channels:e,labels:n}=Se[t];delete Se[t].channels,delete Se[t].labels,Object.defineProperty(Se[t],"channels",{value:e}),Object.defineProperty(Se[t],"labels",{value:n})}Se.rgb.hsl=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=s-i,o,l;s===i?o=0:e===s?o=(n-r)/a:n===s?o=2+(r-e)/a:r===s&&(o=4+(e-n)/a),o=Math.min(o*60,360),o<0&&(o+=360);let u=(i+s)/2;return s===i?l=0:u<=.5?l=a/(s+i):l=a/(2-s-i),[o,l*100,u*100]};Se.rgb.hsv=function(t){let e,n,r,i,s,a=t[0]/255,o=t[1]/255,l=t[2]/255,u=Math.max(a,o,l),c=u-Math.min(a,o,l),f=function(d){return(u-d)/6/c+1/2};return c===0?(i=0,s=0):(s=c/u,e=f(a),n=f(o),r=f(l),a===u?i=r-n:o===u?i=1/3+e-r:l===u&&(i=2/3+n-e),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,u*100]};Se.rgb.hwb=function(t){let e=t[0],n=t[1],r=t[2],i=Se.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(n,r));return r=1-1/255*Math.max(e,Math.max(n,r)),[i,s*100,r*100]};Se.rgb.cmyk=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(1-e,1-n,1-r),s=(1-e-i)/(1-i)||0,a=(1-n-i)/(1-i)||0,o=(1-r-i)/(1-i)||0;return[s*100,a*100,o*100,i*100]};function mj(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}Se.rgb.keyword=function(t){let e=TE[t];if(e)return e;let n=1/0,r;for(let i of Object.keys(fc)){let s=fc[i],a=mj(t,s);a<n&&(n=a,r=i)}return r};Se.keyword.rgb=function(t){return fc[t]};Se.rgb.xyz=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;let i=e*.4124+n*.3576+r*.1805,s=e*.2126+n*.7152+r*.0722,a=e*.0193+n*.1192+r*.9505;return[i*100,s*100,a*100]};Se.rgb.lab=function(t){let e=Se.rgb.xyz(t),n=e[0],r=e[1],i=e[2];n/=95.047,r/=100,i/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let s=116*r-16,a=500*(n-r),o=200*(r-i);return[s,a,o]};Se.hsl.rgb=function(t){let e=t[0]/360,n=t[1]/100,r=t[2]/100,i,s,a;if(n===0)return a=r*255,[a,a,a];r<.5?i=r*(1+n):i=r+n-r*n;let o=2*r-i,l=[0,0,0];for(let u=0;u<3;u++)s=e+1/3*-(u-1),s<0&&s++,s>1&&s--,6*s<1?a=o+(i-o)*6*s:2*s<1?a=i:3*s<2?a=o+(i-o)*(2/3-s)*6:a=o,l[u]=a*255;return l};Se.hsl.hsv=function(t){let e=t[0],n=t[1]/100,r=t[2]/100,i=n,s=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,i*=s<=1?s:2-s;let a=(r+n)/2,o=r===0?2*i/(s+i):2*n/(r+n);return[e,o*100,a*100]};Se.hsv.rgb=function(t){let e=t[0]/60,n=t[1]/100,r=t[2]/100,i=Math.floor(e)%6,s=e-Math.floor(e),a=255*r*(1-n),o=255*r*(1-n*s),l=255*r*(1-n*(1-s));switch(r*=255,i){case 0:return[r,l,a];case 1:return[o,r,a];case 2:return[a,r,l];case 3:return[a,o,r];case 4:return[l,a,r];case 5:return[r,a,o]}};Se.hsv.hsl=function(t){let e=t[0],n=t[1]/100,r=t[2]/100,i=Math.max(r,.01),s,a;a=(2-n)*r;let o=(2-n)*i;return s=n*i,s/=o<=1?o:2-o,s=s||0,a/=2,[e,s*100,a*100]};Se.hwb.rgb=function(t){let e=t[0]/360,n=t[1]/100,r=t[2]/100,i=n+r,s;i>1&&(n/=i,r/=i);let a=Math.floor(6*e),o=1-r;s=6*e-a,(a&1)!==0&&(s=1-s);let l=n+s*(o-n),u,c,f;switch(a){default:case 6:case 0:u=o,c=l,f=n;break;case 1:u=l,c=o,f=n;break;case 2:u=n,c=o,f=l;break;case 3:u=n,c=l,f=o;break;case 4:u=l,c=n,f=o;break;case 5:u=o,c=n,f=l;break}return[u*255,c*255,f*255]};Se.cmyk.rgb=function(t){let e=t[0]/100,n=t[1]/100,r=t[2]/100,i=t[3]/100,s=1-Math.min(1,e*(1-i)+i),a=1-Math.min(1,n*(1-i)+i),o=1-Math.min(1,r*(1-i)+i);return[s*255,a*255,o*255]};Se.xyz.rgb=function(t){let e=t[0]/100,n=t[1]/100,r=t[2]/100,i,s,a;return i=e*3.2406+n*-1.5372+r*-.4986,s=e*-.9689+n*1.8758+r*.0415,a=e*.0557+n*-.204+r*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),a=Math.min(Math.max(0,a),1),[i*255,s*255,a*255]};Se.xyz.lab=function(t){let e=t[0],n=t[1],r=t[2];e/=95.047,n/=100,r/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;let i=116*n-16,s=500*(e-n),a=200*(n-r);return[i,s,a]};Se.lab.xyz=function(t){let e=t[0],n=t[1],r=t[2],i,s,a;s=(e+16)/116,i=n/500+s,a=s-r/200;let o=s**3,l=i**3,u=a**3;return s=o>.008856?o:(s-16/116)/7.787,i=l>.008856?l:(i-16/116)/7.787,a=u>.008856?u:(a-16/116)/7.787,i*=95.047,s*=100,a*=108.883,[i,s,a]};Se.lab.lch=function(t){let e=t[0],n=t[1],r=t[2],i;i=Math.atan2(r,n)*360/2/Math.PI,i<0&&(i+=360);let a=Math.sqrt(n*n+r*r);return[e,a,i]};Se.lch.lab=function(t){let e=t[0],n=t[1],i=t[2]/360*2*Math.PI,s=n*Math.cos(i),a=n*Math.sin(i);return[e,s,a]};Se.rgb.ansi16=function(t,e=null){let[n,r,i]=t,s=e===null?Se.rgb.hsv(t)[2]:e;if(s=Math.round(s/50),s===0)return 30;let a=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return s===2&&(a+=60),a};Se.hsv.ansi16=function(t){return Se.rgb.ansi16(Se.hsv.rgb(t),t[2])};Se.rgb.ansi256=function(t){let e=t[0],n=t[1],r=t[2];return e===n&&n===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)};Se.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let n=(~~(t>50)+1)*.5,r=(e&1)*n*255,i=(e>>1&1)*n*255,s=(e>>2&1)*n*255;return[r,i,s]};Se.ansi256.rgb=function(t){if(t>=232){let s=(t-232)*10+8;return[s,s,s]}t-=16;let e,n=Math.floor(t/36)/5*255,r=Math.floor((e=t%36)/6)/5*255,i=e%6/5*255;return[n,r,i]};Se.rgb.hex=function(t){let n=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(n.length)+n};Se.hex.rgb=function(t){let e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let n=e[0];e[0].length===3&&(n=n.split("").map(o=>o+o).join(""));let r=parseInt(n,16),i=r>>16&255,s=r>>8&255,a=r&255;return[i,s,a]};Se.rgb.hcg=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(Math.max(e,n),r),s=Math.min(Math.min(e,n),r),a=i-s,o,l;return a<1?o=s/(1-a):o=0,a<=0?l=0:i===e?l=(n-r)/a%6:i===n?l=2+(r-e)/a:l=4+(e-n)/a,l/=6,l%=1,[l*360,a*100,o*100]};Se.hsl.hcg=function(t){let e=t[1]/100,n=t[2]/100,r=n<.5?2*e*n:2*e*(1-n),i=0;return r<1&&(i=(n-.5*r)/(1-r)),[t[0],r*100,i*100]};Se.hsv.hcg=function(t){let e=t[1]/100,n=t[2]/100,r=e*n,i=0;return r<1&&(i=(n-r)/(1-r)),[t[0],r*100,i*100]};Se.hcg.rgb=function(t){let e=t[0]/360,n=t[1]/100,r=t[2]/100;if(n===0)return[r*255,r*255,r*255];let i=[0,0,0],s=e%1*6,a=s%1,o=1-a,l=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=a,i[2]=0;break;case 1:i[0]=o,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=a;break;case 3:i[0]=0,i[1]=o,i[2]=1;break;case 4:i[0]=a,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=o}return l=(1-n)*r,[(n*i[0]+l)*255,(n*i[1]+l)*255,(n*i[2]+l)*255]};Se.hcg.hsv=function(t){let e=t[1]/100,n=t[2]/100,r=e+n*(1-e),i=0;return r>0&&(i=e/r),[t[0],i*100,r*100]};Se.hcg.hsl=function(t){let e=t[1]/100,r=t[2]/100*(1-e)+.5*e,i=0;return r>0&&r<.5?i=e/(2*r):r>=.5&&r<1&&(i=e/(2*(1-r))),[t[0],i*100,r*100]};Se.hcg.hwb=function(t){let e=t[1]/100,n=t[2]/100,r=e+n*(1-e);return[t[0],(r-e)*100,(1-r)*100]};Se.hwb.hcg=function(t){let e=t[1]/100,n=t[2]/100,r=1-n,i=r-e,s=0;return i<1&&(s=(r-i)/(1-i)),[t[0],i*100,s*100]};Se.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};Se.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};Se.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};Se.gray.hsl=function(t){return[0,0,t[0]]};Se.gray.hsv=Se.gray.hsl;Se.gray.hwb=function(t){return[0,100,t[0]]};Se.gray.cmyk=function(t){return[0,0,0,t[0]]};Se.gray.lab=function(t){return[t[0],0,0]};Se.gray.hex=function(t){let e=Math.round(t[0]/100*255)&255,r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(r.length)+r};Se.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}});var CE=J((qfe,NE)=>{var nd=W_();function hj(){let t={},e=Object.keys(nd);for(let n=e.length,r=0;r<n;r++)t[e[r]]={distance:-1,parent:null};return t}function gj(t){let e=hj(),n=[t];for(e[t].distance=0;n.length;){let r=n.pop(),i=Object.keys(nd[r]);for(let s=i.length,a=0;a<s;a++){let o=i[a],l=e[o];l.distance===-1&&(l.distance=e[r].distance+1,l.parent=r,n.unshift(o))}}return e}function _j(t,e){return function(n){return e(t(n))}}function yj(t,e){let n=[e[t].parent,t],r=nd[e[t].parent][t],i=e[t].parent;for(;e[i].parent;)n.unshift(e[i].parent),r=_j(nd[e[i].parent][i],r),i=e[i].parent;return r.conversion=n,r}NE.exports=function(t){let e=gj(t),n={},r=Object.keys(e);for(let i=r.length,s=0;s<i;s++){let a=r[s];e[a].parent!==null&&(n[a]=yj(a,e))}return n}});var DE=J((Vfe,PE)=>{var G_=W_(),bj=CE(),Ol={},Tj=Object.keys(G_);function vj(t){let e=function(...n){let r=n[0];return r==null?r:(r.length>1&&(n=r),t(n))};return"conversion"in t&&(e.conversion=t.conversion),e}function Nj(t){let e=function(...n){let r=n[0];if(r==null)return r;r.length>1&&(n=r);let i=t(n);if(typeof i=="object")for(let s=i.length,a=0;a<s;a++)i[a]=Math.round(i[a]);return i};return"conversion"in t&&(e.conversion=t.conversion),e}Tj.forEach(t=>{Ol[t]={},Object.defineProperty(Ol[t],"channels",{value:G_[t].channels}),Object.defineProperty(Ol[t],"labels",{value:G_[t].labels});let e=bj(t);Object.keys(e).forEach(r=>{let i=e[r];Ol[t][r]=Nj(i),Ol[t][r].raw=vj(i)})});PE.exports=Ol});var RE=J((jfe,xE)=>{"use strict";var SE=(t,e)=>(...n)=>`\x1B[${t(...n)+e}m`,IE=(t,e)=>(...n)=>{let r=t(...n);return`\x1B[${38+e};5;${r}m`},EE=(t,e)=>(...n)=>{let r=t(...n);return`\x1B[${38+e};2;${r[0]};${r[1]};${r[2]}m`},rd=t=>t,AE=(t,e,n)=>[t,e,n],Fl=(t,e,n)=>{Object.defineProperty(t,e,{get:()=>{let r=n();return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0}),r},enumerable:!0,configurable:!0})},H_,Ll=(t,e,n,r)=>{H_===void 0&&(H_=DE());let i=r?10:0,s={};for(let[a,o]of Object.entries(H_)){let l=a==="ansi16"?"ansi":a;a===e?s[l]=t(n,i):typeof o=="object"&&(s[l]=t(o[e],i))}return s};function Cj(){let t=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.gray=e.color.blackBright,e.bgColor.bgGray=e.bgColor.bgBlackBright,e.color.grey=e.color.blackBright,e.bgColor.bgGrey=e.bgColor.bgBlackBright;for(let[n,r]of Object.entries(e)){for(let[i,s]of Object.entries(r))e[i]={open:`\x1B[${s[0]}m`,close:`\x1B[${s[1]}m`},r[i]=e[i],t.set(s[0],s[1]);Object.defineProperty(e,n,{value:r,enumerable:!1})}return Object.defineProperty(e,"codes",{value:t,enumerable:!1}),e.color.close="\x1B[39m",e.bgColor.close="\x1B[49m",Fl(e.color,"ansi",()=>Ll(SE,"ansi16",rd,!1)),Fl(e.color,"ansi256",()=>Ll(IE,"ansi256",rd,!1)),Fl(e.color,"ansi16m",()=>Ll(EE,"rgb",AE,!1)),Fl(e.bgColor,"ansi",()=>Ll(SE,"ansi16",rd,!0)),Fl(e.bgColor,"ansi256",()=>Ll(IE,"ansi256",rd,!0)),Fl(e.bgColor,"ansi16m",()=>Ll(EE,"rgb",AE,!0)),e}Object.defineProperty(xE,"exports",{enumerable:!0,get:Cj})});var ME=J((Ufe,kE)=>{"use strict";var pc=td(),Pj=ed(),Dj=RE(),id=new Set(["\x1B","\x9B"]),Sj=39,Y_="\x07",wE="[",Ij="]",OE="m",$_=`${Ij}8;;`,FE=t=>`${id.values().next().value}${wE}${t}${OE}`,LE=t=>`${id.values().next().value}${$_}${t}${Y_}`,Ej=t=>t.split(" ").map(e=>pc(e)),K_=(t,e,n)=>{let r=[...e],i=!1,s=!1,a=pc(Pj(t[t.length-1]));for(let[o,l]of r.entries()){let u=pc(l);if(a+u<=n?t[t.length-1]+=l:(t.push(l),a=0),id.has(l)&&(i=!0,s=r.slice(o+1).join("").startsWith($_)),i){s?l===Y_&&(i=!1,s=!1):l===OE&&(i=!1);continue}a+=u,a===n&&o<r.length-1&&(t.push(""),a=0)}!a&&t[t.length-1].length>0&&t.length>1&&(t[t.length-2]+=t.pop())},Aj=t=>{let e=t.split(" "),n=e.length;for(;n>0&&!(pc(e[n-1])>0);)n--;return n===e.length?t:e.slice(0,n).join(" ")+e.slice(n).join("")},xj=(t,e,n={})=>{if(n.trim!==!1&&t.trim()==="")return"";let r="",i,s,a=Ej(t),o=[""];for(let[u,c]of t.split(" ").entries()){n.trim!==!1&&(o[o.length-1]=o[o.length-1].trimStart());let f=pc(o[o.length-1]);if(u!==0&&(f>=e&&(n.wordWrap===!1||n.trim===!1)&&(o.push(""),f=0),(f>0||n.trim===!1)&&(o[o.length-1]+=" ",f++)),n.hard&&a[u]>e){let d=e-f,m=1+Math.floor((a[u]-d-1)/e);Math.floor((a[u]-1)/e)<m&&o.push(""),K_(o,c,e);continue}if(f+a[u]>e&&f>0&&a[u]>0){if(n.wordWrap===!1&&f<e){K_(o,c,e);continue}o.push("")}if(f+a[u]>e&&n.wordWrap===!1){K_(o,c,e);continue}o[o.length-1]+=c}n.trim!==!1&&(o=o.map(Aj));let l=[...o.join(`
`)];for(let[u,c]of l.entries()){if(r+=c,id.has(c)){let{groups:d}=new RegExp(`(?:\\${wE}(?<code>\\d+)m|\\${$_}(?<uri>.*)${Y_})`).exec(l.slice(u).join(""))||{groups:{}};if(d.code!==void 0){let m=Number.parseFloat(d.code);i=m===Sj?void 0:m}else d.uri!==void 0&&(s=d.uri.length===0?void 0:d.uri)}let f=Dj.codes.get(Number(i));l[u+1]===`
`?(s&&(r+=LE("")),i&&f&&(r+=FE(f))):c===`
`&&(i&&f&&(r+=FE(i)),s&&(r+=LE(s)))}return r};kE.exports=(t,e,n)=>String(t).normalize().replace(/\r\n/g,`
`).split(`
`).map(r=>xj(r,e,n)).join(`
`)});var jE=J((Wfe,VE)=>{"use strict";var Rj={right:kj,center:Mj},wj=0,sd=1,Oj=2,ad=3,BE=class{constructor(e){var n;this.width=e.width,this.wrap=(n=e.wrap)!==null&&n!==void 0?n:!0,this.rows=[]}span(...e){let n=this.div(...e);n.span=!0}resetOutput(){this.rows=[]}div(...e){if(e.length===0&&this.div(""),this.wrap&&this.shouldApplyLayoutDSL(...e)&&typeof e[0]=="string")return this.applyLayoutDSL(e[0]);let n=e.map(r=>typeof r=="string"?this.colFromString(r):r);return this.rows.push(n),n}shouldApplyLayoutDSL(...e){return e.length===1&&typeof e[0]=="string"&&/[\t\n]/.test(e[0])}applyLayoutDSL(e){let n=e.split(`
`).map(i=>i.split("	")),r=0;return n.forEach(i=>{i.length>1&&Rr.stringWidth(i[0])>r&&(r=Math.min(Math.floor(this.width*.5),Rr.stringWidth(i[0])))}),n.forEach(i=>{this.div(...i.map((s,a)=>({text:s.trim(),padding:this.measurePadding(s),width:a===0&&i.length>1?r:void 0})))}),this.rows[this.rows.length-1]}colFromString(e){return{text:e,padding:this.measurePadding(e)}}measurePadding(e){let n=Rr.stripAnsi(e);return[0,n.match(/\s*$/)[0].length,0,n.match(/^\s*/)[0].length]}toString(){let e=[];return this.rows.forEach(n=>{this.rowToString(n,e)}),e.filter(n=>!n.hidden).map(n=>n.text).join(`
`)}rowToString(e,n){return this.rasterize(e).forEach((r,i)=>{let s="";r.forEach((a,o)=>{let{width:l}=e[o],u=this.negatePadding(e[o]),c=a;u>Rr.stringWidth(a)&&(c+=" ".repeat(u-Rr.stringWidth(a))),e[o].align&&e[o].align!=="left"&&this.wrap&&(c=Rj[e[o].align](c,u),Rr.stringWidth(c)<u&&(c+=" ".repeat((l||0)-Rr.stringWidth(c)-1)));let f=e[o].padding||[0,0,0,0];f[ad]&&(s+=" ".repeat(f[ad])),s+=qE(e[o],c,"| "),s+=c,s+=qE(e[o],c," |"),f[sd]&&(s+=" ".repeat(f[sd])),i===0&&n.length>0&&(s=this.renderInline(s,n[n.length-1]))}),n.push({text:s.replace(/ +$/,""),span:e.span})}),n}renderInline(e,n){let r=e.match(/^ */),i=r?r[0].length:0,s=n.text,a=Rr.stringWidth(s.trimRight());return n.span?this.wrap?i<a?e:(n.hidden=!0,s.trimRight()+" ".repeat(i-a)+e.trimLeft()):(n.hidden=!0,s+e):e}rasterize(e){let n=[],r=this.columnWidths(e),i;return e.forEach((s,a)=>{s.width=r[a],this.wrap?i=Rr.wrap(s.text,this.negatePadding(s),{hard:!0}).split(`
`):i=s.text.split(`
`),s.border&&(i.unshift("."+"-".repeat(this.negatePadding(s)+2)+"."),i.push("'"+"-".repeat(this.negatePadding(s)+2)+"'")),s.padding&&(i.unshift(...new Array(s.padding[wj]||0).fill("")),i.push(...new Array(s.padding[Oj]||0).fill(""))),i.forEach((o,l)=>{n[l]||n.push([]);let u=n[l];for(let c=0;c<a;c++)u[c]===void 0&&u.push("");u.push(o)})}),n}negatePadding(e){let n=e.width||0;return e.padding&&(n-=(e.padding[ad]||0)+(e.padding[sd]||0)),e.border&&(n-=4),n}columnWidths(e){if(!this.wrap)return e.map(a=>a.width||Rr.stringWidth(a.text));let n=e.length,r=this.width,i=e.map(a=>{if(a.width)return n--,r-=a.width,a.width}),s=n?Math.floor(r/n):0;return i.map((a,o)=>a===void 0?Math.max(s,Fj(e[o])):a)}};function qE(t,e,n){return t.border?/[.']-+[.']/.test(e)?"":e.trim().length!==0?n:"  ":""}function Fj(t){let e=t.padding||[],n=1+(e[ad]||0)+(e[sd]||0);return t.border?n+4:n}function Lj(){return typeof process=="object"&&process.stdout&&process.stdout.columns?process.stdout.columns:80}function kj(t,e){t=t.trim();let n=Rr.stringWidth(t);return n<e?" ".repeat(e-n)+t:t}function Mj(t,e){t=t.trim();let n=Rr.stringWidth(t);return n>=e?t:" ".repeat(e-n>>1)+t}var Rr;function Bj(t,e){return Rr=e,new BE({width:(t==null?void 0:t.width)||Lj(),wrap:t==null?void 0:t.wrap})}var qj=td(),Vj=ed(),jj=ME();function Uj(t){return Bj(t,{stringWidth:qj,stripAnsi:Vj,wrap:jj})}VE.exports=Uj});var HE=J((Gfe,GE)=>{var{dirname:UE,resolve:WE}=require("path"),{readdirSync:Wj,statSync:Gj}=require("fs");GE.exports=function(t,e){let n=WE(".",t),r;for(Gj(n).isDirectory()||(n=UE(n));;){if(r=e(n,Wj(n)),r)return WE(n,r);if(n=UE(r=n),r===n)break}}});var $E=J((Hfe,YE)=>{"use strict";YE.exports=function(e){if(e===void 0&&(e=2),e>=Error.stackTraceLimit)throw new TypeError("getCallerFile(position) requires position be less then Error.stackTraceLimit but position was: `"+e+"` and Error.stackTraceLimit was: `"+Error.stackTraceLimit+"`");var n=Error.prepareStackTrace;Error.prepareStackTrace=function(i,s){return s};var r=new Error().stack;if(Error.prepareStackTrace=n,r!==null&&typeof r=="object")return r[e]?r[e].getFileName():void 0}});var QE=J((Yfe,X_)=>{"use strict";var KE=require("fs"),Hj=require("path").join,Yj=require("path").resolve,zE=require("path").dirname,z_={extensions:["js","json","coffee"],recurse:!0,rename:function(t){return t},visit:function(t){return t}};function $j(t,e,n){return new RegExp("\\.("+n.extensions.join("|")+")$","i").test(e)&&!(n.include&&n.include instanceof RegExp&&!n.include.test(t))&&!(n.include&&typeof n.include=="function"&&!n.include(t,e))&&!(n.exclude&&n.exclude instanceof RegExp&&n.exclude.test(t))&&!(n.exclude&&typeof n.exclude=="function"&&n.exclude(t,e))}function XE(t,e,n){var r={};e&&!n&&typeof e!="string"&&(n=e,e=null),n=n||{};for(var i in z_)typeof n[i]=="undefined"&&(n[i]=z_[i]);return e=e?Yj(zE(t.filename),e):zE(t.filename),KE.readdirSync(e).forEach(function(s){var a=Hj(e,s),o,l,u;KE.statSync(a).isDirectory()&&n.recurse?(o=XE(t,a,n),Object.keys(o).length&&(r[n.rename(s,a,s)]=o)):a!==t.filename&&$j(a,s,n)&&(l=s.substring(0,s.lastIndexOf(".")),u=t.require(a),r[n.rename(l,a,s)]=n.visit(u,a,s)||u)}),r}X_.exports=XE;X_.exports.defaults=z_});var wA=J(($fe,RA)=>{"use strict";var JE=require("assert"),gn=class extends Error{constructor(e){super(e||"yargs error"),this.name="YError",Error.captureStackTrace(this,gn)}},dc,Q_=[];function od(t,e,n,r){dc=r;let i={};if(Object.prototype.hasOwnProperty.call(t,"extends")){if(typeof t.extends!="string")return i;let s=/\.json|\..*rc$/.test(t.extends),a=null;if(s)a=function(o,l){return dc.path.resolve(o,l)}(e,t.extends);else try{a=require.resolve(t.extends)}catch{return t}(function(o){if(Q_.indexOf(o)>-1)throw new gn(`Circular extended configurations: '${o}'.`)})(a),Q_.push(a),i=s?JSON.parse(dc.readFileSync(a,"utf8")):require(t.extends),delete t.extends,i=od(i,dc.path.dirname(a),n,dc)}return Q_=[],n?ZE(i,t):Object.assign({},i,t)}function ZE(t,e){let n={};function r(i){return i&&typeof i=="object"&&!Array.isArray(i)}Object.assign(n,t);for(let i of Object.keys(e))r(e[i])&&r(n[i])?n[i]=ZE(t[i],e[i]):n[i]=e[i];return n}function kl(t){let e=t.replace(/\s{2,}/g," ").split(/\s+(?![^[]*]|[^<]*>)/),n=/\.*[\][<>]/g,r=e.shift();if(!r)throw new Error(`No command found in: ${t}`);let i={cmd:r.replace(n,""),demanded:[],optional:[]};return e.forEach((s,a)=>{let o=!1;s=s.replace(/\s/g,""),/\.+[\]>]/.test(s)&&a===e.length-1&&(o=!0),/^\[/.test(s)?i.optional.push({cmd:s.replace(n,"").split("|"),variadic:o}):i.demanded.push({cmd:s.replace(n,"").split("|"),variadic:o})}),i}var Kj=["first","second","third","fourth","fifth","sixth"];function Ce(t,e,n){try{let r=0,[i,s,a]=typeof t=="object"?[{demanded:[],optional:[]},t,e]:[kl(`cmd ${t}`),e,n],o=[].slice.call(s);for(;o.length&&o[o.length-1]===void 0;)o.pop();let l=a||o.length;if(l<i.demanded.length)throw new gn(`Not enough arguments provided. Expected ${i.demanded.length} but received ${o.length}.`);let u=i.demanded.length+i.optional.length;if(l>u)throw new gn(`Too many arguments provided. Expected max ${u} but received ${l}.`);i.demanded.forEach(c=>{let f=eA(o.shift());c.cmd.filter(d=>d===f||d==="*").length===0&&tA(f,c.cmd,r),r+=1}),i.optional.forEach(c=>{if(o.length===0)return;let f=eA(o.shift());c.cmd.filter(d=>d===f||d==="*").length===0&&tA(f,c.cmd,r),r+=1})}catch(r){console.warn(r.stack)}}function eA(t){return Array.isArray(t)?"array":t===null?"null":typeof t}function tA(t,e,n){throw new gn(`Invalid ${Kj[n]||"manyith"} argument. Expected ${e.join(" or ")} but received ${t}.`)}function ln(t){return!!t&&!!t.then&&typeof t.then=="function"}function Mi(t,e,n,r){n.assert.notStrictEqual(t,e,r)}function nA(t,e){e.assert.strictEqual(typeof t,"string")}function ld(t){return Object.keys(t)}function Ml(t={},e=()=>!0){let n={};return ld(t).forEach(r=>{e(r,t[r])&&(n[r]=t[r])}),n}function rA(){return process.versions.electron&&!process.defaultApp?0:1}function iA(){return process.argv[rA()]}var zj=Object.freeze({__proto__:null,hideBin:function(t){return t.slice(rA()+1)},getProcessArgvBin:iA});function I(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Pe(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}var sA=class{constructor(e){this.globalMiddleware=[],this.frozens=[],this.yargs=e}addMiddleware(e,n,r=!0,i=!1){if(Ce("<array|function> [boolean] [boolean] [boolean]",[e,n,r],arguments.length),Array.isArray(e)){for(let s=0;s<e.length;s++){if(typeof e[s]!="function")throw Error("middleware must be a function");let a=e[s];a.applyBeforeValidation=n,a.global=r}Array.prototype.push.apply(this.globalMiddleware,e)}else if(typeof e=="function"){let s=e;s.applyBeforeValidation=n,s.global=r,s.mutates=i,this.globalMiddleware.push(e)}return this.yargs}addCoerceMiddleware(e,n){let r=this.yargs.getAliases();return this.globalMiddleware=this.globalMiddleware.filter(i=>{let s=[...r[n]||[],n];return!i.option||!s.includes(i.option)}),e.option=n,this.addMiddleware(e,!0,!0,!0)}getMiddleware(){return this.globalMiddleware}freeze(){this.frozens.push([...this.globalMiddleware])}unfreeze(){let e=this.frozens.pop();e!==void 0&&(this.globalMiddleware=e)}reset(){this.globalMiddleware=this.globalMiddleware.filter(e=>e.global)}};function mc(t,e,n,r){return n.reduce((i,s)=>{if(s.applyBeforeValidation!==r)return i;if(s.mutates){if(s.applied)return i;s.applied=!0}if(ln(i))return i.then(a=>Promise.all([a,s(a,e)])).then(([a,o])=>Object.assign(a,o));{let a=s(i,e);return ln(a)?a.then(o=>Object.assign(i,o)):Object.assign(i,a)}},t)}function hc(t,e,n=r=>{throw r}){try{let r=typeof t=="function"?t():t;return ln(r)?r.then(i=>e(i)):e(r)}catch(r){return n(r)}}var Bl=/(^\*)|(^\$0)/,aA=class{constructor(e,n,r,i){this.requireCache=new Set,this.handlers={},this.aliasMap={},this.frozens=[],this.shim=i,this.usage=e,this.globalMiddleware=r,this.validation=n}addDirectory(e,n,r,i){typeof(i=i||{}).recurse!="boolean"&&(i.recurse=!1),Array.isArray(i.extensions)||(i.extensions=["js"]);let s=typeof i.visit=="function"?i.visit:a=>a;i.visit=(a,o,l)=>{let u=s(a,o,l);if(u){if(this.requireCache.has(o))return u;this.requireCache.add(o),this.addHandler(u)}return u},this.shim.requireDirectory({require:n,filename:r},e,i)}addHandler(e,n,r,i,s,a){let o=[],l=function(u){return u?u.map(c=>(c.applyBeforeValidation=!1,c)):[]}(s);if(i=i||(()=>{}),Array.isArray(e))if(function(u){return u.every(c=>typeof c=="string")}(e))[e,...o]=e;else for(let u of e)this.addHandler(u);else{if(function(u){return typeof u=="object"&&!Array.isArray(u)}(e)){let u=Array.isArray(e.command)||typeof e.command=="string"?e.command:this.moduleName(e);return e.aliases&&(u=[].concat(u).concat(e.aliases)),void this.addHandler(u,this.extractDesc(e),e.builder,e.handler,e.middlewares,e.deprecated)}if(oA(r))return void this.addHandler([e].concat(o),n,r.builder,r.handler,r.middlewares,r.deprecated)}if(typeof e=="string"){let u=kl(e);o=o.map(d=>kl(d).cmd);let c=!1,f=[u.cmd].concat(o).filter(d=>!Bl.test(d)||(c=!0,!1));f.length===0&&c&&f.push("$0"),c&&(u.cmd=f[0],o=f.slice(1),e=e.replace(Bl,u.cmd)),o.forEach(d=>{this.aliasMap[d]=u.cmd}),n!==!1&&this.usage.command(e,n,c,o,a),this.handlers[u.cmd]={original:e,description:n,handler:i,builder:r||{},middlewares:l,deprecated:a,demanded:u.demanded,optional:u.optional},c&&(this.defaultCommand=this.handlers[u.cmd])}}getCommandHandlers(){return this.handlers}getCommands(){return Object.keys(this.handlers).concat(Object.keys(this.aliasMap))}hasDefaultCommand(){return!!this.defaultCommand}runCommand(e,n,r,i,s,a){let o=this.handlers[e]||this.handlers[this.aliasMap[e]]||this.defaultCommand,l=n.getInternalMethods().getContext(),u=l.commands.slice(),c=!e;e&&(l.commands.push(e),l.fullCommands.push(o.original));let f=this.applyBuilderUpdateUsageAndParse(c,o,n,r.aliases,u,i,s,a);return ln(f)?f.then(d=>this.applyMiddlewareAndGetResult(c,o,d.innerArgv,l,s,d.aliases,n)):this.applyMiddlewareAndGetResult(c,o,f.innerArgv,l,s,f.aliases,n)}applyBuilderUpdateUsageAndParse(e,n,r,i,s,a,o,l){let u=n.builder,c=r;if(J_(u)){let f=u(r.getInternalMethods().reset(i),l);if(ln(f))return f.then(d=>{var m;return c=(m=d)&&typeof m.getInternalMethods=="function"?d:r,this.parseAndUpdateUsage(e,n,c,s,a,o)})}else(function(f){return typeof f=="object"})(u)&&(c=r.getInternalMethods().reset(i),Object.keys(n.builder).forEach(f=>{c.option(f,u[f])}));return this.parseAndUpdateUsage(e,n,c,s,a,o)}parseAndUpdateUsage(e,n,r,i,s,a){e&&r.getInternalMethods().getUsageInstance().unfreeze(),this.shouldUpdateUsage(r)&&r.getInternalMethods().getUsageInstance().usage(this.usageFromParentCommandsCommandHandler(i,n),n.description);let o=r.getInternalMethods().runYargsParserAndExecuteCommands(null,void 0,!0,s,a);return ln(o)?o.then(l=>({aliases:r.parsed.aliases,innerArgv:l})):{aliases:r.parsed.aliases,innerArgv:o}}shouldUpdateUsage(e){return!e.getInternalMethods().getUsageInstance().getUsageDisabled()&&e.getInternalMethods().getUsageInstance().getUsage().length===0}usageFromParentCommandsCommandHandler(e,n){let r=Bl.test(n.original)?n.original.replace(Bl,"").trim():n.original,i=e.filter(s=>!Bl.test(s));return i.push(r),`$0 ${i.join(" ")}`}applyMiddlewareAndGetResult(e,n,r,i,s,a,o){let l={};if(s)return r;o.getInternalMethods().getHasOutput()||(l=this.populatePositionals(n,r,i,o));let u=this.globalMiddleware.getMiddleware().slice(0).concat(n.middlewares);if(r=mc(r,o,u,!0),!o.getInternalMethods().getHasOutput()){let c=o.getInternalMethods().runValidation(a,l,o.parsed.error,e);r=hc(r,f=>(c(f),f))}if(n.handler&&!o.getInternalMethods().getHasOutput()){o.getInternalMethods().setHasOutput();let c=!!o.getOptions().configuration["populate--"];o.getInternalMethods().postProcess(r,c,!1,!1),r=hc(r=mc(r,o,u,!1),f=>{let d=n.handler(f);return ln(d)?d.then(()=>f):f}),e||o.getInternalMethods().getUsageInstance().cacheHelpMessage(),ln(r)&&!o.getInternalMethods().hasParseCallback()&&r.catch(f=>{try{o.getInternalMethods().getUsageInstance().fail(null,f)}catch{}})}return e||(i.commands.pop(),i.fullCommands.pop()),r}populatePositionals(e,n,r,i){n._=n._.slice(r.commands.length);let s=e.demanded.slice(0),a=e.optional.slice(0),o={};for(this.validation.positionalCount(s.length,n._.length);s.length;){let l=s.shift();this.populatePositional(l,n,o)}for(;a.length;){let l=a.shift();this.populatePositional(l,n,o)}return n._=r.commands.concat(n._.map(l=>""+l)),this.postProcessPositionals(n,o,this.cmdToParseOptions(e.original),i),o}populatePositional(e,n,r){let i=e.cmd[0];e.variadic?r[i]=n._.splice(0).map(String):n._.length&&(r[i]=[String(n._.shift())])}cmdToParseOptions(e){let n={array:[],default:{},alias:{},demand:{}},r=kl(e);return r.demanded.forEach(i=>{let[s,...a]=i.cmd;i.variadic&&(n.array.push(s),n.default[s]=[]),n.alias[s]=a,n.demand[s]=!0}),r.optional.forEach(i=>{let[s,...a]=i.cmd;i.variadic&&(n.array.push(s),n.default[s]=[]),n.alias[s]=a}),n}postProcessPositionals(e,n,r,i){let s=Object.assign({},i.getOptions());s.default=Object.assign(r.default,s.default);for(let u of Object.keys(r.alias))s.alias[u]=(s.alias[u]||[]).concat(r.alias[u]);s.array=s.array.concat(r.array),s.config={};let a=[];if(Object.keys(n).forEach(u=>{n[u].map(c=>{s.configuration["unknown-options-as-args"]&&(s.key[u]=!0),a.push(`--${u}`),a.push(c)})}),!a.length)return;let o=Object.assign({},s.configuration,{"populate--":!1}),l=this.shim.Parser.detailed(a,Object.assign({},s,{configuration:o}));if(l.error)i.getInternalMethods().getUsageInstance().fail(l.error.message,l.error);else{let u=Object.keys(n);Object.keys(n).forEach(f=>{u.push(...l.aliases[f])});let c=i.getOptions().default;Object.keys(l.argv).forEach(f=>{u.includes(f)&&(n[f]||(n[f]=l.argv[f]),!Object.prototype.hasOwnProperty.call(c,f)&&Object.prototype.hasOwnProperty.call(e,f)&&Object.prototype.hasOwnProperty.call(l.argv,f)&&(Array.isArray(e[f])||Array.isArray(l.argv[f]))?e[f]=[].concat(e[f],l.argv[f]):e[f]=l.argv[f])})}}runDefaultBuilderOn(e){if(!this.defaultCommand)return;if(this.shouldUpdateUsage(e)){let r=Bl.test(this.defaultCommand.original)?this.defaultCommand.original:this.defaultCommand.original.replace(/^[^[\]<>]*/,"$0 ");e.getInternalMethods().getUsageInstance().usage(r,this.defaultCommand.description)}let n=this.defaultCommand.builder;if(J_(n))return n(e,!0);oA(n)||Object.keys(n).forEach(r=>{e.option(r,n[r])})}moduleName(e){let n=function(r){if(typeof require=="undefined")return null;for(let i,s=0,a=Object.keys(require.cache);s<a.length;s++)if(i=require.cache[a[s]],i.exports===r)return i;return null}(e);if(!n)throw new Error(`No command name given for module: ${this.shim.inspect(e)}`);return this.commandFromFilename(n.filename)}commandFromFilename(e){return this.shim.path.basename(e,this.shim.path.extname(e))}extractDesc({describe:e,description:n,desc:r}){for(let i of[e,n,r]){if(typeof i=="string"||i===!1)return i;Mi(i,!0,this.shim)}return!1}freeze(){this.frozens.push({handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand})}unfreeze(){let e=this.frozens.pop();Mi(e,void 0,this.shim),{handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand}=e}reset(){return this.handlers={},this.aliasMap={},this.defaultCommand=void 0,this.requireCache=new Set,this}};function oA(t){return typeof t=="object"&&!!t.builder&&typeof t.handler=="function"}function J_(t){return typeof t=="function"}function gc(t){typeof process!="undefined"&&[process.stdout,process.stderr].forEach(e=>{let n=e;n._handle&&n.isTTY&&typeof n._handle.setBlocking=="function"&&n._handle.setBlocking(t)})}function Xj(t){return typeof t=="boolean"}function Qj(t,e){let n=e.y18n.__,r={},i=[];r.failFn=function(L){i.push(L)};let s=null,a=!0;r.showHelpOnFail=function(L=!0,H){let[G,Q]=typeof L=="string"?[!0,L]:[L,H];return s=Q,a=G,r};let o=!1;r.fail=function(L,H){let G=t.getInternalMethods().getLoggerInstance();if(!i.length){if(t.getExitProcess()&&gc(!0),o||(o=!0,a&&(t.showHelp("error"),G.error()),(L||H)&&G.error(L||H),s&&((L||H)&&G.error(""),G.error(s))),H=H||new gn(L),t.getExitProcess())return t.exit(1);if(t.getInternalMethods().hasParseCallback())return t.exit(1,H);throw H}for(let Q=i.length-1;Q>=0;--Q){let re=i[Q];if(Xj(re)){if(H)throw H;if(L)throw Error(L)}else re(L,H,r)}};let l=[],u=!1;r.usage=(L,H)=>L===null?(u=!0,l=[],r):(u=!1,l.push([L,H||""]),r),r.getUsage=()=>l,r.getUsageDisabled=()=>u,r.getPositionalGroupName=()=>n("Positionals:");let c=[];r.example=(L,H)=>{c.push([L,H||""])};let f=[];r.command=function(L,H,G,Q,re=!1){G&&(f=f.map(ye=>(ye[2]=!1,ye))),f.push([L,H||"",G,Q,re])},r.getCommands=()=>f;let d={};r.describe=function(L,H){Array.isArray(L)?L.forEach(G=>{r.describe(G,H)}):typeof L=="object"?Object.keys(L).forEach(G=>{r.describe(G,L[G])}):d[L]=H},r.getDescriptions=()=>d;let m=[];r.epilog=L=>{m.push(L)};let p,h=!1;function _(){return h||(p=function(){let L=80;return e.process.stdColumns?Math.min(L,e.process.stdColumns):L}(),h=!0),p}r.wrap=L=>{h=!0,p=L};let g="__yargsString__:";function b(L,H,G){let Q=0;return Array.isArray(L)||(L=Object.values(L).map(re=>[re])),L.forEach(re=>{Q=Math.max(e.stringWidth(G?`${G} ${ud(re[0])}`:ud(re[0]))+lA(re[0]),Q)}),H&&(Q=Math.min(Q,parseInt((.5*H).toString(),10))),Q}let y;function T(L){return t.getOptions().hiddenOptions.indexOf(L)<0||t.parsed.argv[t.getOptions().showHiddenOpt]}function C(L,H){let G=`[${n("default:")} `;if(L===void 0&&!H)return null;if(H)G+=H;else switch(typeof L){case"string":G+=`"${L}"`;break;case"object":G+=JSON.stringify(L);break;default:G+=L}return`${G}]`}r.deferY18nLookup=L=>g+L,r.help=function(){if(y)return y;(function(){let _e=t.getDemandedOptions(),we=t.getOptions();(Object.keys(we.alias)||[]).forEach(se=>{we.alias[se].forEach(V=>{d[V]&&r.describe(se,d[V]),V in _e&&t.demandOption(se,_e[V]),we.boolean.includes(V)&&t.boolean(se),we.count.includes(V)&&t.count(se),we.string.includes(V)&&t.string(se),we.normalize.includes(V)&&t.normalize(se),we.array.includes(V)&&t.array(se),we.number.includes(V)&&t.number(se)})})})();let L=t.customScriptName?t.$0:e.path.basename(t.$0),H=t.getDemandedOptions(),G=t.getDemandedCommands(),Q=t.getDeprecatedOptions(),re=t.getGroups(),ye=t.getOptions(),he=[];he=he.concat(Object.keys(d)),he=he.concat(Object.keys(H)),he=he.concat(Object.keys(G)),he=he.concat(Object.keys(ye.default)),he=he.filter(T),he=Object.keys(he.reduce((_e,we)=>(we!=="_"&&(_e[we]=!0),_e),{}));let oe=_(),Ae=e.cliui({width:oe,wrap:!!oe});if(!u){if(l.length)l.forEach(_e=>{Ae.div({text:`${_e[0].replace(/\$0/g,L)}`}),_e[1]&&Ae.div({text:`${_e[1]}`,padding:[1,0,0,0]})}),Ae.div();else if(f.length){let _e=null;_e=G._?`${L} <${n("command")}>
`:`${L} [${n("command")}]
`,Ae.div(`${_e}`)}}if(f.length>1||f.length===1&&!f[0][2]){Ae.div(n("Commands:"));let _e=t.getInternalMethods().getContext(),we=_e.commands.length?`${_e.commands.join(" ")} `:"";t.getInternalMethods().getParserConfiguration()["sort-commands"]===!0&&(f=f.sort((V,pe)=>V[0].localeCompare(pe[0])));let se=L?`${L} `:"";f.forEach(V=>{let pe=`${se}${we}${V[0].replace(/^\$0 ?/,"")}`;Ae.span({text:pe,padding:[0,2,0,2],width:b(f,oe,`${L}${we}`)+4},{text:V[1]});let ae=[];V[2]&&ae.push(`[${n("default")}]`),V[3]&&V[3].length&&ae.push(`[${n("aliases:")} ${V[3].join(", ")}]`),V[4]&&(typeof V[4]=="string"?ae.push(`[${n("deprecated: %s",V[4])}]`):ae.push(`[${n("deprecated")}]`)),ae.length?Ae.div({text:ae.join(" "),padding:[0,0,0,2],align:"right"}):Ae.div()}),Ae.div()}let ut=(Object.keys(ye.alias)||[]).concat(Object.keys(t.parsed.newAliases)||[]);he=he.filter(_e=>!t.parsed.newAliases[_e]&&ut.every(we=>(ye.alias[we]||[]).indexOf(_e)===-1));let Lt=n("Options:");re[Lt]||(re[Lt]=[]),function(_e,we,se,V){let pe=[],ae=null;Object.keys(se).forEach(ve=>{pe=pe.concat(se[ve])}),_e.forEach(ve=>{ae=[ve].concat(we[ve]),ae.some(ft=>pe.indexOf(ft)!==-1)||se[V].push(ve)})}(he,ye.alias,re,Lt);let Ye=_e=>/^--/.test(ud(_e)),ct=Object.keys(re).filter(_e=>re[_e].length>0).map(_e=>({groupName:_e,normalizedKeys:re[_e].filter(T).map(we=>{if(ut.includes(we))return we;for(let se,V=0;(se=ut[V])!==void 0;V++)if((ye.alias[se]||[]).includes(we))return se;return we})})).filter(({normalizedKeys:_e})=>_e.length>0).map(({groupName:_e,normalizedKeys:we})=>{let se=we.reduce((V,pe)=>(V[pe]=[pe].concat(ye.alias[pe]||[]).map(ae=>_e===r.getPositionalGroupName()?ae:(/^[0-9]$/.test(ae)?ye.boolean.includes(pe)?"-":"--":ae.length>1?"--":"-")+ae).sort((ae,ve)=>Ye(ae)===Ye(ve)?0:Ye(ae)?1:-1).join(", "),V),{});return{groupName:_e,normalizedKeys:we,switches:se}});if(ct.filter(({groupName:_e})=>_e!==r.getPositionalGroupName()).some(({normalizedKeys:_e,switches:we})=>!_e.every(se=>Ye(we[se])))&&ct.filter(({groupName:_e})=>_e!==r.getPositionalGroupName()).forEach(({normalizedKeys:_e,switches:we})=>{_e.forEach(se=>{var V,pe;Ye(we[se])&&(we[se]=(V=we[se],pe="-x, ".length,Z_(V)?{text:V.text,indentation:V.indentation+pe}:{text:V,indentation:pe}))})}),ct.forEach(({groupName:_e,normalizedKeys:we,switches:se})=>{Ae.div(_e),we.forEach(V=>{let pe=se[V],ae=d[V]||"",ve=null;ae.includes(g)&&(ae=n(ae.substring(g.length))),ye.boolean.includes(V)&&(ve=`[${n("boolean")}]`),ye.count.includes(V)&&(ve=`[${n("count")}]`),ye.string.includes(V)&&(ve=`[${n("string")}]`),ye.normalize.includes(V)&&(ve=`[${n("string")}]`),ye.array.includes(V)&&(ve=`[${n("array")}]`),ye.number.includes(V)&&(ve=`[${n("number")}]`);let ft=[V in Q?(An=Q[V],typeof An=="string"?`[${n("deprecated: %s",An)}]`:`[${n("deprecated")}]`):null,ve,V in H?`[${n("required")}]`:null,ye.choices&&ye.choices[V]?`[${n("choices:")} ${r.stringifiedValues(ye.choices[V])}]`:null,C(ye.default[V],ye.defaultDescription[V])].filter(Boolean).join(" ");var An;Ae.span({text:ud(pe),padding:[0,2,0,2+lA(pe)],width:b(se,oe)+4},ae),ft?Ae.div({text:ft,padding:[0,0,0,2],align:"right"}):Ae.div()}),Ae.div()}),c.length&&(Ae.div(n("Examples:")),c.forEach(_e=>{_e[0]=_e[0].replace(/\$0/g,L)}),c.forEach(_e=>{_e[1]===""?Ae.div({text:_e[0],padding:[0,2,0,2]}):Ae.div({text:_e[0],padding:[0,2,0,2],width:b(c,oe)+4},{text:_e[1]})}),Ae.div()),m.length>0){let _e=m.map(we=>we.replace(/\$0/g,L)).join(`
`);Ae.div(`${_e}
`)}return Ae.toString().replace(/\s*$/,"")},r.cacheHelpMessage=function(){y=this.help()},r.clearCachedHelpMessage=function(){y=void 0},r.hasCachedHelpMessage=function(){return!!y},r.showHelp=L=>{let H=t.getInternalMethods().getLoggerInstance();L||(L="error"),(typeof L=="function"?L:H[L])(r.help())},r.functionDescription=L=>["(",L.name?e.Parser.decamelize(L.name,"-"):n("generated-value"),")"].join(""),r.stringifiedValues=function(L,H){let G="",Q=H||", ",re=[].concat(L);return L&&re.length&&re.forEach(ye=>{G.length&&(G+=Q),G+=JSON.stringify(ye)}),G};let W=null;r.version=L=>{W=L},r.showVersion=L=>{let H=t.getInternalMethods().getLoggerInstance();L||(L="error"),(typeof L=="function"?L:H[L])(W)},r.reset=function(L){return s=null,o=!1,l=[],u=!1,m=[],c=[],f=[],d=Ml(d,H=>!L[H]),r};let F=[];return r.freeze=function(){F.push({failMessage:s,failureOutput:o,usages:l,usageDisabled:u,epilogs:m,examples:c,commands:f,descriptions:d})},r.unfreeze=function(){let L=F.pop();L&&({failMessage:s,failureOutput:o,usages:l,usageDisabled:u,epilogs:m,examples:c,commands:f,descriptions:d}=L)},r}function Z_(t){return typeof t=="object"}function lA(t){return Z_(t)?t.indentation:0}function ud(t){return Z_(t)?t.text:t}var uA=class{constructor(e,n,r,i){var s,a,o;this.yargs=e,this.usage=n,this.command=r,this.shim=i,this.completionKey="get-yargs-completions",this.aliases=null,this.customCompletionFunction=null,this.zshShell=(o=((s=this.shim.getEnv("SHELL"))===null||s===void 0?void 0:s.includes("zsh"))||((a=this.shim.getEnv("ZSH_NAME"))===null||a===void 0?void 0:a.includes("zsh")))!==null&&o!==void 0&&o}defaultCompletion(e,n,r,i){let s=this.command.getCommandHandlers();for(let o=0,l=e.length;o<l;++o)if(s[e[o]]&&s[e[o]].builder){let u=s[e[o]].builder;if(J_(u)){let c=this.yargs.getInternalMethods().reset();return u(c,!0),c.argv}}let a=[];this.commandCompletions(a,e,r),this.optionCompletions(a,e,n,r),this.choicesCompletions(a,e,n,r),i(null,a)}commandCompletions(e,n,r){let i=this.yargs.getInternalMethods().getContext().commands;r.match(/^-/)||i[i.length-1]===r||this.previousArgHasChoices(n)||this.usage.getCommands().forEach(s=>{let a=kl(s[0]).cmd;if(n.indexOf(a)===-1)if(this.zshShell){let o=s[1]||"";e.push(a.replace(/:/g,"\\:")+":"+o)}else e.push(a)})}optionCompletions(e,n,r,i){if((i.match(/^-/)||i===""&&e.length===0)&&!this.previousArgHasChoices(n)){let s=this.yargs.getOptions(),a=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[];Object.keys(s.key).forEach(o=>{let l=!!s.configuration["boolean-negation"]&&s.boolean.includes(o);a.includes(o)||this.argsContainKey(n,r,o,l)||(this.completeOptionKey(o,e,i),l&&s.default[o]&&this.completeOptionKey(`no-${o}`,e,i))})}}choicesCompletions(e,n,r,i){if(this.previousArgHasChoices(n)){let s=this.getPreviousArgChoices(n);s&&s.length>0&&e.push(...s)}}getPreviousArgChoices(e){if(e.length<1)return;let n=e[e.length-1],r="";if(!n.startsWith("--")&&e.length>1&&(r=n,n=e[e.length-2]),!n.startsWith("--"))return;let i=n.replace(/-/g,""),s=this.yargs.getOptions();return Object.keys(s.key).some(a=>a===i)&&Array.isArray(s.choices[i])?s.choices[i].filter(a=>!r||a.startsWith(r)):void 0}previousArgHasChoices(e){let n=this.getPreviousArgChoices(e);return n!==void 0&&n.length>0}argsContainKey(e,n,r,i){if(e.indexOf(`--${r}`)!==-1||i&&e.indexOf(`--no-${r}`)!==-1)return!0;if(this.aliases){for(let s of this.aliases[r])if(n[s]!==void 0)return!0}return!1}completeOptionKey(e,n,r){let i=this.usage.getDescriptions(),s=!/^--/.test(r)&&(a=>/^[^0-9]$/.test(a))(e)?"-":"--";if(this.zshShell){let a=i[e]||"";n.push(s+`${e.replace(/:/g,"\\:")}:${a.replace("__yargsString__:","")}`)}else n.push(s+e)}customCompletion(e,n,r,i){if(Mi(this.customCompletionFunction,null,this.shim),this.customCompletionFunction.length<3){let s=this.customCompletionFunction(r,n);return ln(s)?s.then(a=>{this.shim.process.nextTick(()=>{i(null,a)})}).catch(a=>{this.shim.process.nextTick(()=>{i(a,void 0)})}):i(null,s)}return function(s){return s.length>3}(this.customCompletionFunction)?this.customCompletionFunction(r,n,(s=i)=>this.defaultCompletion(e,n,r,s),s=>{i(null,s)}):this.customCompletionFunction(r,n,s=>{i(null,s)})}getCompletion(e,n){let r=e.length?e[e.length-1]:"",i=this.yargs.parse(e,!0),s=this.customCompletionFunction?a=>this.customCompletion(e,a,r,n):a=>this.defaultCompletion(e,a,r,n);return ln(i)?i.then(s):s(i)}generateCompletionScript(e,n){let r=this.zshShell?`#compdef {{app_name}}
###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.zshrc
#    or {{app_path}} {{completion_command}} >> ~/.zsh_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
  local reply
  local si=$IFS
  IFS=$'
' reply=($(COMP_CWORD="$((CURRENT-1))" COMP_LINE="$BUFFER" COMP_POINT="$CURSOR" {{app_path}} --get-yargs-completions "\${words[@]}"))
  IFS=$si
  _describe 'values' reply
}
compdef _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`:`###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.bashrc
#    or {{app_path}} {{completion_command}} >> ~/.bash_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
    local cur_word args type_list

    cur_word="\${COMP_WORDS[COMP_CWORD]}"
    args=("\${COMP_WORDS[@]}")

    # ask yargs to generate completions.
    type_list=$({{app_path}} --get-yargs-completions "\${args[@]}")

    COMPREPLY=( $(compgen -W "\${type_list}" -- \${cur_word}) )

    # if no match was found, fall back to filename completion
    if [ \${#COMPREPLY[@]} -eq 0 ]; then
      COMPREPLY=()
    fi

    return 0
}
complete -o bashdefault -o default -F _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`,i=this.shim.path.basename(e);return e.match(/\.js$/)&&(e=`./${e}`),r=r.replace(/{{app_name}}/g,i),r=r.replace(/{{completion_command}}/g,n),r.replace(/{{app_path}}/g,e)}registerFunction(e){this.customCompletionFunction=e}setParsed(e){this.aliases=e.aliases}};function Jj(t,e){if(t.length===0)return e.length;if(e.length===0)return t.length;let n=[],r,i;for(r=0;r<=e.length;r++)n[r]=[r];for(i=0;i<=t.length;i++)n[0][i]=i;for(r=1;r<=e.length;r++)for(i=1;i<=t.length;i++)e.charAt(r-1)===t.charAt(i-1)?n[r][i]=n[r-1][i-1]:r>1&&i>1&&e.charAt(r-2)===t.charAt(i-1)&&e.charAt(r-1)===t.charAt(i-2)?n[r][i]=n[r-2][i-2]+1:n[r][i]=Math.min(n[r-1][i-1]+1,Math.min(n[r][i-1]+1,n[r-1][i]+1));return n[e.length][t.length]}var cA=["$0","--","_"],Jt,eo,_c,ti,wr,cd,la,to,fd,ni,pd,ri,ts,Or,ii,ql,En,Ee,dd,md,Fr,no,Vl,ro,ua,hd,ke,io,so,ao,He,ns,Kt,fA=Symbol("copyDoubleDash"),pA=Symbol("copyDoubleDash"),ey=Symbol("deleteFromParserHintObject"),dA=Symbol("emitWarning"),mA=Symbol("freeze"),hA=Symbol("getDollarZero"),oo=Symbol("getParserConfiguration"),ty=Symbol("guessLocale"),gA=Symbol("guessVersion"),_A=Symbol("parsePositionalNumbers"),ny=Symbol("pkgUp"),ca=Symbol("populateParserHintArray"),jl=Symbol("populateParserHintSingleValueDictionary"),ry=Symbol("populateParserHintArrayDictionary"),iy=Symbol("populateParserHintDictionary"),sy=Symbol("sanitizeKey"),ay=Symbol("setKey"),oy=Symbol("unfreeze"),yA=Symbol("validateAsync"),bA=Symbol("getCommandInstance"),TA=Symbol("getContext"),vA=Symbol("getHasOutput"),NA=Symbol("getLoggerInstance"),CA=Symbol("getParseContext"),PA=Symbol("getUsageInstance"),DA=Symbol("getValidationInstance"),gd=Symbol("hasParseCallback"),lo=Symbol("postProcess"),SA=Symbol("rebase"),ly=Symbol("reset"),yc=Symbol("runYargsParserAndExecuteCommands"),uy=Symbol("runValidation"),IA=Symbol("setHasOutput"),uo=Symbol("kTrackManuallySetKeys"),EA=class{constructor(e=[],n,r,i){this.customScriptName=!1,this.parsed=!1,Jt.set(this,void 0),eo.set(this,void 0),_c.set(this,{commands:[],fullCommands:[]}),ti.set(this,null),wr.set(this,null),cd.set(this,"show-hidden"),la.set(this,null),to.set(this,!0),fd.set(this,{}),ni.set(this,!0),pd.set(this,[]),ri.set(this,void 0),ts.set(this,{}),Or.set(this,!1),ii.set(this,null),ql.set(this,void 0),En.set(this,""),Ee.set(this,void 0),dd.set(this,void 0),md.set(this,{}),Fr.set(this,null),no.set(this,null),Vl.set(this,{}),ro.set(this,{}),ua.set(this,void 0),hd.set(this,!1),ke.set(this,void 0),io.set(this,!1),so.set(this,!1),ao.set(this,!1),He.set(this,void 0),ns.set(this,null),Kt.set(this,void 0),Pe(this,ke,i,"f"),Pe(this,ua,e,"f"),Pe(this,eo,n,"f"),Pe(this,dd,r,"f"),Pe(this,ri,new sA(this),"f"),this.$0=this[hA](),this[ly](),Pe(this,Jt,I(this,Jt,"f"),"f"),Pe(this,He,I(this,He,"f"),"f"),Pe(this,Kt,I(this,Kt,"f"),"f"),Pe(this,Ee,I(this,Ee,"f"),"f"),I(this,Ee,"f").showHiddenOpt=I(this,cd,"f"),Pe(this,ql,this[pA](),"f")}addHelpOpt(e,n){return Ce("[string|boolean] [string]",[e,n],arguments.length),I(this,ii,"f")&&(this[ey](I(this,ii,"f")),Pe(this,ii,null,"f")),e===!1&&n===void 0||(Pe(this,ii,typeof e=="string"?e:"help","f"),this.boolean(I(this,ii,"f")),this.describe(I(this,ii,"f"),n||I(this,He,"f").deferY18nLookup("Show help"))),this}help(e,n){return this.addHelpOpt(e,n)}addShowHiddenOpt(e,n){if(Ce("[string|boolean] [string]",[e,n],arguments.length),e===!1&&n===void 0)return this;let r=typeof e=="string"?e:I(this,cd,"f");return this.boolean(r),this.describe(r,n||I(this,He,"f").deferY18nLookup("Show hidden options")),I(this,Ee,"f").showHiddenOpt=r,this}showHidden(e,n){return this.addShowHiddenOpt(e,n)}alias(e,n){return Ce("<object|string|array> [string|array]",[e,n],arguments.length),this[ry](this.alias.bind(this),"alias",e,n),this}array(e){return Ce("<array|string>",[e],arguments.length),this[ca]("array",e),this[uo](e),this}boolean(e){return Ce("<array|string>",[e],arguments.length),this[ca]("boolean",e),this[uo](e),this}check(e,n){return Ce("<function> [boolean]",[e,n],arguments.length),this.middleware((r,i)=>hc(()=>e(r,i.getOptions()),s=>(s?(typeof s=="string"||s instanceof Error)&&I(this,He,"f").fail(s.toString(),s):I(this,He,"f").fail(I(this,ke,"f").y18n.__("Argument check failed: %s",e.toString())),r),s=>(I(this,He,"f").fail(s.message?s.message:s.toString(),s),r)),!1,n),this}choices(e,n){return Ce("<object|string|array> [string|array]",[e,n],arguments.length),this[ry](this.choices.bind(this),"choices",e,n),this}coerce(e,n){if(Ce("<object|string|array> [function]",[e,n],arguments.length),Array.isArray(e)){if(!n)throw new gn("coerce callback must be provided");for(let r of e)this.coerce(r,n);return this}if(typeof e=="object"){for(let r of Object.keys(e))this.coerce(r,e[r]);return this}if(!n)throw new gn("coerce callback must be provided");return I(this,Ee,"f").key[e]=!0,I(this,ri,"f").addCoerceMiddleware((r,i)=>{let s;return hc(()=>(s=i.getAliases(),n(r[e])),a=>{if(r[e]=a,s[e])for(let o of s[e])r[o]=a;return r},a=>{throw new gn(a.message)})},e),this}conflicts(e,n){return Ce("<string|object> [string|array]",[e,n],arguments.length),I(this,Kt,"f").conflicts(e,n),this}config(e="config",n,r){return Ce("[object|string] [string|function] [function]",[e,n,r],arguments.length),typeof e!="object"||Array.isArray(e)?(typeof n=="function"&&(r=n,n=void 0),this.describe(e,n||I(this,He,"f").deferY18nLookup("Path to JSON config file")),(Array.isArray(e)?e:[e]).forEach(i=>{I(this,Ee,"f").config[i]=r||!0}),this):(e=od(e,I(this,eo,"f"),this[oo]()["deep-merge-config"]||!1,I(this,ke,"f")),I(this,Ee,"f").configObjects=(I(this,Ee,"f").configObjects||[]).concat(e),this)}completion(e,n,r){return Ce("[string] [string|boolean|function] [function]",[e,n,r],arguments.length),typeof n=="function"&&(r=n,n=void 0),Pe(this,wr,e||I(this,wr,"f")||"completion","f"),n||n===!1||(n="generate completion script"),this.command(I(this,wr,"f"),n),r&&I(this,ti,"f").registerFunction(r),this}command(e,n,r,i,s,a){return Ce("<string|array|object> [string|boolean] [function|object] [function] [array] [boolean|string]",[e,n,r,i,s,a],arguments.length),I(this,Jt,"f").addHandler(e,n,r,i,s,a),this}commands(e,n,r,i,s,a){return this.command(e,n,r,i,s,a)}commandDir(e,n){Ce("<string> [object]",[e,n],arguments.length);let r=I(this,dd,"f")||I(this,ke,"f").require;return I(this,Jt,"f").addDirectory(e,r,I(this,ke,"f").getCallerFile(),n),this}count(e){return Ce("<array|string>",[e],arguments.length),this[ca]("count",e),this[uo](e),this}default(e,n,r){return Ce("<object|string|array> [*] [string]",[e,n,r],arguments.length),r&&(nA(e,I(this,ke,"f")),I(this,Ee,"f").defaultDescription[e]=r),typeof n=="function"&&(nA(e,I(this,ke,"f")),I(this,Ee,"f").defaultDescription[e]||(I(this,Ee,"f").defaultDescription[e]=I(this,He,"f").functionDescription(n)),n=n.call()),this[jl](this.default.bind(this),"default",e,n),this}defaults(e,n,r){return this.default(e,n,r)}demandCommand(e=1,n,r,i){return Ce("[number] [number|string] [string|null|undefined] [string|null|undefined]",[e,n,r,i],arguments.length),typeof n!="number"&&(r=n,n=1/0),this.global("_",!1),I(this,Ee,"f").demandedCommands._={min:e,max:n,minMsg:r,maxMsg:i},this}demand(e,n,r){return Array.isArray(n)?(n.forEach(i=>{Mi(r,!0,I(this,ke,"f")),this.demandOption(i,r)}),n=1/0):typeof n!="number"&&(r=n,n=1/0),typeof e=="number"?(Mi(r,!0,I(this,ke,"f")),this.demandCommand(e,n,r,r)):Array.isArray(e)?e.forEach(i=>{Mi(r,!0,I(this,ke,"f")),this.demandOption(i,r)}):typeof r=="string"?this.demandOption(e,r):r!==!0&&r!==void 0||this.demandOption(e),this}demandOption(e,n){return Ce("<object|string|array> [string]",[e,n],arguments.length),this[jl](this.demandOption.bind(this),"demandedOptions",e,n),this}deprecateOption(e,n){return Ce("<string> [string|boolean]",[e,n],arguments.length),I(this,Ee,"f").deprecatedOptions[e]=n,this}describe(e,n){return Ce("<object|string|array> [string]",[e,n],arguments.length),this[ay](e,!0),I(this,He,"f").describe(e,n),this}detectLocale(e){return Ce("<boolean>",[e],arguments.length),Pe(this,to,e,"f"),this}env(e){return Ce("[string|boolean]",[e],arguments.length),e===!1?delete I(this,Ee,"f").envPrefix:I(this,Ee,"f").envPrefix=e||"",this}epilogue(e){return Ce("<string>",[e],arguments.length),I(this,He,"f").epilog(e),this}epilog(e){return this.epilogue(e)}example(e,n){return Ce("<string|array> [string]",[e,n],arguments.length),Array.isArray(e)?e.forEach(r=>this.example(...r)):I(this,He,"f").example(e,n),this}exit(e,n){Pe(this,Or,!0,"f"),Pe(this,la,n,"f"),I(this,ni,"f")&&I(this,ke,"f").process.exit(e)}exitProcess(e=!0){return Ce("[boolean]",[e],arguments.length),Pe(this,ni,e,"f"),this}fail(e){if(Ce("<function|boolean>",[e],arguments.length),typeof e=="boolean"&&e!==!1)throw new gn("Invalid first argument. Expected function or boolean 'false'");return I(this,He,"f").failFn(e),this}getAliases(){return this.parsed?this.parsed.aliases:{}}async getCompletion(e,n){return Ce("<array> [function]",[e,n],arguments.length),n?I(this,ti,"f").getCompletion(e,n):new Promise((r,i)=>{I(this,ti,"f").getCompletion(e,(s,a)=>{s?i(s):r(a)})})}getDemandedOptions(){return Ce([],0),I(this,Ee,"f").demandedOptions}getDemandedCommands(){return Ce([],0),I(this,Ee,"f").demandedCommands}getDeprecatedOptions(){return Ce([],0),I(this,Ee,"f").deprecatedOptions}getDetectLocale(){return I(this,to,"f")}getExitProcess(){return I(this,ni,"f")}getGroups(){return Object.assign({},I(this,ts,"f"),I(this,ro,"f"))}getHelp(){if(Pe(this,Or,!0,"f"),!I(this,He,"f").hasCachedHelpMessage()){if(!this.parsed){let n=this[yc](I(this,ua,"f"),void 0,void 0,0,!0);if(ln(n))return n.then(()=>I(this,He,"f").help())}let e=I(this,Jt,"f").runDefaultBuilderOn(this);if(ln(e))return e.then(()=>I(this,He,"f").help())}return Promise.resolve(I(this,He,"f").help())}getOptions(){return I(this,Ee,"f")}getStrict(){return I(this,io,"f")}getStrictCommands(){return I(this,so,"f")}getStrictOptions(){return I(this,ao,"f")}global(e,n){return Ce("<string|array> [boolean]",[e,n],arguments.length),e=[].concat(e),n!==!1?I(this,Ee,"f").local=I(this,Ee,"f").local.filter(r=>e.indexOf(r)===-1):e.forEach(r=>{I(this,Ee,"f").local.includes(r)||I(this,Ee,"f").local.push(r)}),this}group(e,n){Ce("<string|array> <string>",[e,n],arguments.length);let r=I(this,ro,"f")[n]||I(this,ts,"f")[n];I(this,ro,"f")[n]&&delete I(this,ro,"f")[n];let i={};return I(this,ts,"f")[n]=(r||[]).concat(e).filter(s=>!i[s]&&(i[s]=!0)),this}hide(e){return Ce("<string>",[e],arguments.length),I(this,Ee,"f").hiddenOptions.push(e),this}implies(e,n){return Ce("<string|object> [number|string|array]",[e,n],arguments.length),I(this,Kt,"f").implies(e,n),this}locale(e){return Ce("[string]",[e],arguments.length),e?(Pe(this,to,!1,"f"),I(this,ke,"f").y18n.setLocale(e),this):(this[ty](),I(this,ke,"f").y18n.getLocale())}middleware(e,n,r){return I(this,ri,"f").addMiddleware(e,!!n,r)}nargs(e,n){return Ce("<string|object|array> [number]",[e,n],arguments.length),this[jl](this.nargs.bind(this),"narg",e,n),this}normalize(e){return Ce("<array|string>",[e],arguments.length),this[ca]("normalize",e),this}number(e){return Ce("<array|string>",[e],arguments.length),this[ca]("number",e),this[uo](e),this}option(e,n){if(Ce("<string|object> [object]",[e,n],arguments.length),typeof e=="object")Object.keys(e).forEach(r=>{this.options(r,e[r])});else{typeof n!="object"&&(n={}),this[uo](e),!I(this,ns,"f")||e!=="version"&&(n==null?void 0:n.alias)!=="version"||this[dA](['"version" is a reserved word.',"Please do one of the following:",'- Disable version with `yargs.version(false)` if using "version" as an option',"- Use the built-in `yargs.version` method instead (if applicable)","- Use a different option key","https://yargs.js.org/docs/#api-reference-version"].join(`
`),void 0,"versionWarning"),I(this,Ee,"f").key[e]=!0,n.alias&&this.alias(e,n.alias);let r=n.deprecate||n.deprecated;r&&this.deprecateOption(e,r);let i=n.demand||n.required||n.require;i&&this.demand(e,i),n.demandOption&&this.demandOption(e,typeof n.demandOption=="string"?n.demandOption:void 0),n.conflicts&&this.conflicts(e,n.conflicts),"default"in n&&this.default(e,n.default),n.implies!==void 0&&this.implies(e,n.implies),n.nargs!==void 0&&this.nargs(e,n.nargs),n.config&&this.config(e,n.configParser),n.normalize&&this.normalize(e),n.choices&&this.choices(e,n.choices),n.coerce&&this.coerce(e,n.coerce),n.group&&this.group(e,n.group),(n.boolean||n.type==="boolean")&&(this.boolean(e),n.alias&&this.boolean(n.alias)),(n.array||n.type==="array")&&(this.array(e),n.alias&&this.array(n.alias)),(n.number||n.type==="number")&&(this.number(e),n.alias&&this.number(n.alias)),(n.string||n.type==="string")&&(this.string(e),n.alias&&this.string(n.alias)),(n.count||n.type==="count")&&this.count(e),typeof n.global=="boolean"&&this.global(e,n.global),n.defaultDescription&&(I(this,Ee,"f").defaultDescription[e]=n.defaultDescription),n.skipValidation&&this.skipValidation(e);let s=n.describe||n.description||n.desc;this.describe(e,s),n.hidden&&this.hide(e),n.requiresArg&&this.requiresArg(e)}return this}options(e,n){return this.option(e,n)}parse(e,n,r){Ce("[string|array] [function|boolean|object] [function]",[e,n,r],arguments.length),this[mA](),e===void 0&&(e=I(this,ua,"f")),typeof n=="object"&&(Pe(this,no,n,"f"),n=r),typeof n=="function"&&(Pe(this,Fr,n,"f"),n=!1),n||Pe(this,ua,e,"f"),I(this,Fr,"f")&&Pe(this,ni,!1,"f");let i=this[yc](e,!!n),s=this.parsed;return I(this,ti,"f").setParsed(this.parsed),ln(i)?i.then(a=>(I(this,Fr,"f")&&I(this,Fr,"f").call(this,I(this,la,"f"),a,I(this,En,"f")),a)).catch(a=>{throw I(this,Fr,"f")&&I(this,Fr,"f")(a,this.parsed.argv,I(this,En,"f")),a}).finally(()=>{this[oy](),this.parsed=s}):(I(this,Fr,"f")&&I(this,Fr,"f").call(this,I(this,la,"f"),i,I(this,En,"f")),this[oy](),this.parsed=s,i)}parseAsync(e,n,r){let i=this.parse(e,n,r);return ln(i)?i:Promise.resolve(i)}parseSync(e,n,r){let i=this.parse(e,n,r);if(ln(i))throw new gn(".parseSync() must not be used with asynchronous builders, handlers, or middleware");return i}parserConfiguration(e){return Ce("<object>",[e],arguments.length),Pe(this,md,e,"f"),this}pkgConf(e,n){Ce("<string> [string]",[e,n],arguments.length);let r=null,i=this[ny](n||I(this,eo,"f"));return i[e]&&typeof i[e]=="object"&&(r=od(i[e],n||I(this,eo,"f"),this[oo]()["deep-merge-config"]||!1,I(this,ke,"f")),I(this,Ee,"f").configObjects=(I(this,Ee,"f").configObjects||[]).concat(r)),this}positional(e,n){Ce("<string> <object>",[e,n],arguments.length);let r=["default","defaultDescription","implies","normalize","choices","conflicts","coerce","type","describe","desc","description","alias"];n=Ml(n,(a,o)=>!(a==="type"&&!["string","number","boolean"].includes(o))&&r.includes(a));let i=I(this,_c,"f").fullCommands[I(this,_c,"f").fullCommands.length-1],s=i?I(this,Jt,"f").cmdToParseOptions(i):{array:[],alias:{},default:{},demand:{}};return ld(s).forEach(a=>{let o=s[a];Array.isArray(o)?o.indexOf(e)!==-1&&(n[a]=!0):o[e]&&!(a in n)&&(n[a]=o[e])}),this.group(e,I(this,He,"f").getPositionalGroupName()),this.option(e,n)}recommendCommands(e=!0){return Ce("[boolean]",[e],arguments.length),Pe(this,hd,e,"f"),this}required(e,n,r){return this.demand(e,n,r)}require(e,n,r){return this.demand(e,n,r)}requiresArg(e){return Ce("<array|string|object> [number]",[e],arguments.length),typeof e=="string"&&I(this,Ee,"f").narg[e]||this[jl](this.requiresArg.bind(this),"narg",e,NaN),this}showCompletionScript(e,n){return Ce("[string] [string]",[e,n],arguments.length),e=e||this.$0,I(this,ql,"f").log(I(this,ti,"f").generateCompletionScript(e,n||I(this,wr,"f")||"completion")),this}showHelp(e){if(Ce("[string|function]",[e],arguments.length),Pe(this,Or,!0,"f"),!I(this,He,"f").hasCachedHelpMessage()){if(!this.parsed){let r=this[yc](I(this,ua,"f"),void 0,void 0,0,!0);if(ln(r))return r.then(()=>{I(this,He,"f").showHelp(e)}),this}let n=I(this,Jt,"f").runDefaultBuilderOn(this);if(ln(n))return n.then(()=>{I(this,He,"f").showHelp(e)}),this}return I(this,He,"f").showHelp(e),this}scriptName(e){return this.customScriptName=!0,this.$0=e,this}showHelpOnFail(e,n){return Ce("[boolean|string] [string]",[e,n],arguments.length),I(this,He,"f").showHelpOnFail(e,n),this}showVersion(e){return Ce("[string|function]",[e],arguments.length),I(this,He,"f").showVersion(e),this}skipValidation(e){return Ce("<array|string>",[e],arguments.length),this[ca]("skipValidation",e),this}strict(e){return Ce("[boolean]",[e],arguments.length),Pe(this,io,e!==!1,"f"),this}strictCommands(e){return Ce("[boolean]",[e],arguments.length),Pe(this,so,e!==!1,"f"),this}strictOptions(e){return Ce("[boolean]",[e],arguments.length),Pe(this,ao,e!==!1,"f"),this}string(e){return Ce("<array|string>",[e],arguments.length),this[ca]("string",e),this[uo](e),this}terminalWidth(){return Ce([],0),I(this,ke,"f").process.stdColumns}updateLocale(e){return this.updateStrings(e)}updateStrings(e){return Ce("<object>",[e],arguments.length),Pe(this,to,!1,"f"),I(this,ke,"f").y18n.updateLocale(e),this}usage(e,n,r,i){if(Ce("<string|null|undefined> [string|boolean] [function|object] [function]",[e,n,r,i],arguments.length),n!==void 0){if(Mi(e,null,I(this,ke,"f")),(e||"").match(/^\$0( |$)/))return this.command(e,n,r,i);throw new gn(".usage() description must start with $0 if being used as alias for .command()")}return I(this,He,"f").usage(e),this}version(e,n,r){let i="version";if(Ce("[boolean|string] [string] [string]",[e,n,r],arguments.length),I(this,ns,"f")&&(this[ey](I(this,ns,"f")),I(this,He,"f").version(void 0),Pe(this,ns,null,"f")),arguments.length===0)r=this[gA](),e=i;else if(arguments.length===1){if(e===!1)return this;r=e,e=i}else arguments.length===2&&(r=n,n=void 0);return Pe(this,ns,typeof e=="string"?e:i,"f"),n=n||I(this,He,"f").deferY18nLookup("Show version number"),I(this,He,"f").version(r||void 0),this.boolean(I(this,ns,"f")),this.describe(I(this,ns,"f"),n),this}wrap(e){return Ce("<number|null|undefined>",[e],arguments.length),I(this,He,"f").wrap(e),this}[(Jt=new WeakMap,eo=new WeakMap,_c=new WeakMap,ti=new WeakMap,wr=new WeakMap,cd=new WeakMap,la=new WeakMap,to=new WeakMap,fd=new WeakMap,ni=new WeakMap,pd=new WeakMap,ri=new WeakMap,ts=new WeakMap,Or=new WeakMap,ii=new WeakMap,ql=new WeakMap,En=new WeakMap,Ee=new WeakMap,dd=new WeakMap,md=new WeakMap,Fr=new WeakMap,no=new WeakMap,Vl=new WeakMap,ro=new WeakMap,ua=new WeakMap,hd=new WeakMap,ke=new WeakMap,io=new WeakMap,so=new WeakMap,ao=new WeakMap,He=new WeakMap,ns=new WeakMap,Kt=new WeakMap,fA)](e){if(!e._||!e["--"])return e;e._.push.apply(e._,e["--"]);try{delete e["--"]}catch{}return e}[pA](){return{log:(...e)=>{this[gd]()||console.log(...e),Pe(this,Or,!0,"f"),I(this,En,"f").length&&Pe(this,En,I(this,En,"f")+`
`,"f"),Pe(this,En,I(this,En,"f")+e.join(" "),"f")},error:(...e)=>{this[gd]()||console.error(...e),Pe(this,Or,!0,"f"),I(this,En,"f").length&&Pe(this,En,I(this,En,"f")+`
`,"f"),Pe(this,En,I(this,En,"f")+e.join(" "),"f")}}}[ey](e){ld(I(this,Ee,"f")).forEach(n=>{if(n==="configObjects")return;let r=I(this,Ee,"f")[n];Array.isArray(r)?r.includes(e)&&r.splice(r.indexOf(e),1):typeof r=="object"&&delete r[e]}),delete I(this,He,"f").getDescriptions()[e]}[dA](e,n,r){I(this,fd,"f")[r]||(I(this,ke,"f").process.emitWarning(e,n),I(this,fd,"f")[r]=!0)}[mA](){I(this,pd,"f").push({options:I(this,Ee,"f"),configObjects:I(this,Ee,"f").configObjects.slice(0),exitProcess:I(this,ni,"f"),groups:I(this,ts,"f"),strict:I(this,io,"f"),strictCommands:I(this,so,"f"),strictOptions:I(this,ao,"f"),completionCommand:I(this,wr,"f"),output:I(this,En,"f"),exitError:I(this,la,"f"),hasOutput:I(this,Or,"f"),parsed:this.parsed,parseFn:I(this,Fr,"f"),parseContext:I(this,no,"f")}),I(this,He,"f").freeze(),I(this,Kt,"f").freeze(),I(this,Jt,"f").freeze(),I(this,ri,"f").freeze()}[hA](){let e,n="";return e=/\b(node|iojs|electron)(\.exe)?$/.test(I(this,ke,"f").process.argv()[0])?I(this,ke,"f").process.argv().slice(1,2):I(this,ke,"f").process.argv().slice(0,1),n=e.map(r=>{let i=this[SA](I(this,eo,"f"),r);return r.match(/^(\/|([a-zA-Z]:)?\\)/)&&i.length<r.length?i:r}).join(" ").trim(),I(this,ke,"f").getEnv("_")&&I(this,ke,"f").getProcessArgvBin()===I(this,ke,"f").getEnv("_")&&(n=I(this,ke,"f").getEnv("_").replace(`${I(this,ke,"f").path.dirname(I(this,ke,"f").process.execPath())}/`,"")),n}[oo](){return I(this,md,"f")}[ty](){if(!I(this,to,"f"))return;let e=I(this,ke,"f").getEnv("LC_ALL")||I(this,ke,"f").getEnv("LC_MESSAGES")||I(this,ke,"f").getEnv("LANG")||I(this,ke,"f").getEnv("LANGUAGE")||"en_US";this.locale(e.replace(/[.:].*/,""))}[gA](){return this[ny]().version||"unknown"}[_A](e){let n=e["--"]?e["--"]:e._;for(let r,i=0;(r=n[i])!==void 0;i++)I(this,ke,"f").Parser.looksLikeNumber(r)&&Number.isSafeInteger(Math.floor(parseFloat(`${r}`)))&&(n[i]=Number(r));return e}[ny](e){let n=e||"*";if(I(this,Vl,"f")[n])return I(this,Vl,"f")[n];let r={};try{let i=e||I(this,ke,"f").mainFilename;!e&&I(this,ke,"f").path.extname(i)&&(i=I(this,ke,"f").path.dirname(i));let s=I(this,ke,"f").findUp(i,(a,o)=>o.includes("package.json")?"package.json":void 0);Mi(s,void 0,I(this,ke,"f")),r=JSON.parse(I(this,ke,"f").readFileSync(s,"utf8"))}catch{}return I(this,Vl,"f")[n]=r||{},I(this,Vl,"f")[n]}[ca](e,n){(n=[].concat(n)).forEach(r=>{r=this[sy](r),I(this,Ee,"f")[e].push(r)})}[jl](e,n,r,i){this[iy](e,n,r,i,(s,a,o)=>{I(this,Ee,"f")[s][a]=o})}[ry](e,n,r,i){this[iy](e,n,r,i,(s,a,o)=>{I(this,Ee,"f")[s][a]=(I(this,Ee,"f")[s][a]||[]).concat(o)})}[iy](e,n,r,i,s){if(Array.isArray(r))r.forEach(a=>{e(a,i)});else if((a=>typeof a=="object")(r))for(let a of ld(r))e(a,r[a]);else s(n,this[sy](r),i)}[sy](e){return e==="__proto__"?"___proto___":e}[ay](e,n){return this[jl](this[ay].bind(this),"key",e,n),this}[oy](){var e,n,r,i,s,a,o,l,u,c,f,d;let m=I(this,pd,"f").pop(),p;Mi(m,void 0,I(this,ke,"f")),e=this,n=this,r=this,i=this,s=this,a=this,o=this,l=this,u=this,c=this,f=this,d=this,{options:{set value(h){Pe(e,Ee,h,"f")}}.value,configObjects:p,exitProcess:{set value(h){Pe(n,ni,h,"f")}}.value,groups:{set value(h){Pe(r,ts,h,"f")}}.value,output:{set value(h){Pe(i,En,h,"f")}}.value,exitError:{set value(h){Pe(s,la,h,"f")}}.value,hasOutput:{set value(h){Pe(a,Or,h,"f")}}.value,parsed:this.parsed,strict:{set value(h){Pe(o,io,h,"f")}}.value,strictCommands:{set value(h){Pe(l,so,h,"f")}}.value,strictOptions:{set value(h){Pe(u,ao,h,"f")}}.value,completionCommand:{set value(h){Pe(c,wr,h,"f")}}.value,parseFn:{set value(h){Pe(f,Fr,h,"f")}}.value,parseContext:{set value(h){Pe(d,no,h,"f")}}.value}=m,I(this,Ee,"f").configObjects=p,I(this,He,"f").unfreeze(),I(this,Kt,"f").unfreeze(),I(this,Jt,"f").unfreeze(),I(this,ri,"f").unfreeze()}[yA](e,n){return hc(n,r=>(e(r),r))}getInternalMethods(){return{getCommandInstance:this[bA].bind(this),getContext:this[TA].bind(this),getHasOutput:this[vA].bind(this),getLoggerInstance:this[NA].bind(this),getParseContext:this[CA].bind(this),getParserConfiguration:this[oo].bind(this),getUsageInstance:this[PA].bind(this),getValidationInstance:this[DA].bind(this),hasParseCallback:this[gd].bind(this),postProcess:this[lo].bind(this),reset:this[ly].bind(this),runValidation:this[uy].bind(this),runYargsParserAndExecuteCommands:this[yc].bind(this),setHasOutput:this[IA].bind(this)}}[bA](){return I(this,Jt,"f")}[TA](){return I(this,_c,"f")}[vA](){return I(this,Or,"f")}[NA](){return I(this,ql,"f")}[CA](){return I(this,no,"f")||{}}[PA](){return I(this,He,"f")}[DA](){return I(this,Kt,"f")}[gd](){return!!I(this,Fr,"f")}[lo](e,n,r,i){return r||ln(e)?e:(n||(e=this[fA](e)),(this[oo]()["parse-positional-numbers"]||this[oo]()["parse-positional-numbers"]===void 0)&&(e=this[_A](e)),i&&(e=mc(e,this,I(this,ri,"f").getMiddleware(),!1)),e)}[ly](e={}){Pe(this,Ee,I(this,Ee,"f")||{},"f");let n={};n.local=I(this,Ee,"f").local||[],n.configObjects=I(this,Ee,"f").configObjects||[];let r={};return n.local.forEach(i=>{r[i]=!0,(e[i]||[]).forEach(s=>{r[s]=!0})}),Object.assign(I(this,ro,"f"),Object.keys(I(this,ts,"f")).reduce((i,s)=>{let a=I(this,ts,"f")[s].filter(o=>!(o in r));return a.length>0&&(i[s]=a),i},{})),Pe(this,ts,{},"f"),["array","boolean","string","skipValidation","count","normalize","number","hiddenOptions"].forEach(i=>{n[i]=(I(this,Ee,"f")[i]||[]).filter(s=>!r[s])}),["narg","key","alias","default","defaultDescription","config","choices","demandedOptions","demandedCommands","deprecatedOptions"].forEach(i=>{n[i]=Ml(I(this,Ee,"f")[i],s=>!r[s])}),n.envPrefix=I(this,Ee,"f").envPrefix,Pe(this,Ee,n,"f"),Pe(this,He,I(this,He,"f")?I(this,He,"f").reset(r):Qj(this,I(this,ke,"f")),"f"),Pe(this,Kt,I(this,Kt,"f")?I(this,Kt,"f").reset(r):function(i,s,a){let o=a.y18n.__,l=a.y18n.__n,u={nonOptionCount:function(p){let h=i.getDemandedCommands(),_=p._.length+(p["--"]?p["--"].length:0)-i.getInternalMethods().getContext().commands.length;h._&&(_<h._.min||_>h._.max)&&(_<h._.min?h._.minMsg!==void 0?s.fail(h._.minMsg?h._.minMsg.replace(/\$0/g,_.toString()).replace(/\$1/,h._.min.toString()):null):s.fail(l("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",_,_.toString(),h._.min.toString())):_>h._.max&&(h._.maxMsg!==void 0?s.fail(h._.maxMsg?h._.maxMsg.replace(/\$0/g,_.toString()).replace(/\$1/,h._.max.toString()):null):s.fail(l("Too many non-option arguments: got %s, maximum of %s","Too many non-option arguments: got %s, maximum of %s",_,_.toString(),h._.max.toString()))))},positionalCount:function(p,h){h<p&&s.fail(l("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",h,h+"",p+""))},requiredArguments:function(p,h){let _=null;for(let g of Object.keys(h))Object.prototype.hasOwnProperty.call(p,g)&&p[g]!==void 0||(_=_||{},_[g]=h[g]);if(_){let g=[];for(let y of Object.keys(_)){let T=_[y];T&&g.indexOf(T)<0&&g.push(T)}let b=g.length?`
${g.join(`
`)}`:"";s.fail(l("Missing required argument: %s","Missing required arguments: %s",Object.keys(_).length,Object.keys(_).join(", ")+b))}},unknownArguments:function(p,h,_,g,b=!0){var y;let T=i.getInternalMethods().getCommandInstance().getCommands(),C=[],W=i.getInternalMethods().getContext();if(Object.keys(p).forEach(F=>{cA.includes(F)||Object.prototype.hasOwnProperty.call(_,F)||Object.prototype.hasOwnProperty.call(i.getInternalMethods().getParseContext(),F)||u.isValidAndSomeAliasIsNotNew(F,h)||C.push(F)}),b&&(W.commands.length>0||T.length>0||g)&&p._.slice(W.commands.length).forEach(F=>{T.includes(""+F)||C.push(""+F)}),b){let F=((y=i.getDemandedCommands()._)===null||y===void 0?void 0:y.max)||0,L=W.commands.length+F;L<p._.length&&p._.slice(L).forEach(H=>{H=String(H),W.commands.includes(H)||C.includes(H)||C.push(H)})}C.length&&s.fail(l("Unknown argument: %s","Unknown arguments: %s",C.length,C.join(", ")))},unknownCommands:function(p){let h=i.getInternalMethods().getCommandInstance().getCommands(),_=[],g=i.getInternalMethods().getContext();return(g.commands.length>0||h.length>0)&&p._.slice(g.commands.length).forEach(b=>{h.includes(""+b)||_.push(""+b)}),_.length>0&&(s.fail(l("Unknown command: %s","Unknown commands: %s",_.length,_.join(", "))),!0)},isValidAndSomeAliasIsNotNew:function(p,h){if(!Object.prototype.hasOwnProperty.call(h,p))return!1;let _=i.parsed.newAliases;return[p,...h[p]].some(g=>!Object.prototype.hasOwnProperty.call(_,g)||!_[p])},limitedChoices:function(p){let h=i.getOptions(),_={};if(!Object.keys(h.choices).length)return;Object.keys(p).forEach(y=>{cA.indexOf(y)===-1&&Object.prototype.hasOwnProperty.call(h.choices,y)&&[].concat(p[y]).forEach(T=>{h.choices[y].indexOf(T)===-1&&T!==void 0&&(_[y]=(_[y]||[]).concat(T))})});let g=Object.keys(_);if(!g.length)return;let b=o("Invalid values:");g.forEach(y=>{b+=`
  ${o("Argument: %s, Given: %s, Choices: %s",y,s.stringifiedValues(_[y]),s.stringifiedValues(h.choices[y]))}`}),s.fail(b)}},c={};function f(p,h){let _=Number(h);return typeof(h=isNaN(_)?h:_)=="number"?h=p._.length>=h:h.match(/^--no-.+/)?(h=h.match(/^--no-(.+)/)[1],h=!Object.prototype.hasOwnProperty.call(p,h)):h=Object.prototype.hasOwnProperty.call(p,h),h}u.implies=function(p,h){Ce("<string|object> [array|number|string]",[p,h],arguments.length),typeof p=="object"?Object.keys(p).forEach(_=>{u.implies(_,p[_])}):(i.global(p),c[p]||(c[p]=[]),Array.isArray(h)?h.forEach(_=>u.implies(p,_)):(Mi(h,void 0,a),c[p].push(h)))},u.getImplied=function(){return c},u.implications=function(p){let h=[];if(Object.keys(c).forEach(_=>{let g=_;(c[_]||[]).forEach(b=>{let y=g,T=b;y=f(p,y),b=f(p,b),y&&!b&&h.push(` ${g} -> ${T}`)})}),h.length){let _=`${o("Implications failed:")}
`;h.forEach(g=>{_+=g}),s.fail(_)}};let d={};u.conflicts=function(p,h){Ce("<string|object> [array|string]",[p,h],arguments.length),typeof p=="object"?Object.keys(p).forEach(_=>{u.conflicts(_,p[_])}):(i.global(p),d[p]||(d[p]=[]),Array.isArray(h)?h.forEach(_=>u.conflicts(p,_)):d[p].push(h))},u.getConflicting=()=>d,u.conflicting=function(p){Object.keys(p).forEach(h=>{d[h]&&d[h].forEach(_=>{_&&p[h]!==void 0&&p[_]!==void 0&&s.fail(o("Arguments %s and %s are mutually exclusive",h,_))})}),i.getInternalMethods().getParserConfiguration()["strip-dashed"]&&Object.keys(d).forEach(h=>{d[h].forEach(_=>{_&&p[a.Parser.camelCase(h)]!==void 0&&p[a.Parser.camelCase(_)]!==void 0&&s.fail(o("Arguments %s and %s are mutually exclusive",h,_))})})},u.recommendCommands=function(p,h){h=h.sort((b,y)=>y.length-b.length);let _=null,g=1/0;for(let b,y=0;(b=h[y])!==void 0;y++){let T=Jj(p,b);T<=3&&T<g&&(g=T,_=b)}_&&s.fail(o("Did you mean %s?",_))},u.reset=function(p){return c=Ml(c,h=>!p[h]),d=Ml(d,h=>!p[h]),u};let m=[];return u.freeze=function(){m.push({implied:c,conflicting:d})},u.unfreeze=function(){let p=m.pop();Mi(p,void 0,a),{implied:c,conflicting:d}=p},u}(this,I(this,He,"f"),I(this,ke,"f")),"f"),Pe(this,Jt,I(this,Jt,"f")?I(this,Jt,"f").reset():function(i,s,a,o){return new aA(i,s,a,o)}(I(this,He,"f"),I(this,Kt,"f"),I(this,ri,"f"),I(this,ke,"f")),"f"),I(this,ti,"f")||Pe(this,ti,function(i,s,a,o){return new uA(i,s,a,o)}(this,I(this,He,"f"),I(this,Jt,"f"),I(this,ke,"f")),"f"),I(this,ri,"f").reset(),Pe(this,wr,null,"f"),Pe(this,En,"","f"),Pe(this,la,null,"f"),Pe(this,Or,!1,"f"),this.parsed=!1,this}[SA](e,n){return I(this,ke,"f").path.relative(e,n)}[yc](e,n,r,i=0,s=!1){let a=!!r||s;e=e||I(this,ua,"f"),I(this,Ee,"f").__=I(this,ke,"f").y18n.__,I(this,Ee,"f").configuration=this[oo]();let o=!!I(this,Ee,"f").configuration["populate--"],l=Object.assign({},I(this,Ee,"f").configuration,{"populate--":!0}),u=I(this,ke,"f").Parser.detailed(e,Object.assign({},I(this,Ee,"f"),{configuration:{"parse-positional-numbers":!1,...l}})),c=Object.assign(u.argv,I(this,no,"f")),f,d=u.aliases,m=!1,p=!1;Object.keys(c).forEach(h=>{h===I(this,ii,"f")&&c[h]?m=!0:h===I(this,ns,"f")&&c[h]&&(p=!0)}),c.$0=this.$0,this.parsed=u,i===0&&I(this,He,"f").clearCachedHelpMessage();try{if(this[ty](),n)return this[lo](c,o,!!r,!1);I(this,ii,"f")&&[I(this,ii,"f")].concat(d[I(this,ii,"f")]||[]).filter(b=>b.length>1).includes(""+c._[c._.length-1])&&(c._.pop(),m=!0);let h=I(this,Jt,"f").getCommands(),_=I(this,ti,"f").completionKey in c,g=m||_||s;if(c._.length){if(h.length){let b;for(let y,T=i||0;c._[T]!==void 0;T++){if(y=String(c._[T]),h.includes(y)&&y!==I(this,wr,"f")){let C=I(this,Jt,"f").runCommand(y,this,u,T+1,s,m||p||s);return this[lo](C,o,!!r,!1)}if(!b&&y!==I(this,wr,"f")){b=y;break}}!I(this,Jt,"f").hasDefaultCommand()&&I(this,hd,"f")&&b&&!g&&I(this,Kt,"f").recommendCommands(b,h)}I(this,wr,"f")&&c._.includes(I(this,wr,"f"))&&!_&&(I(this,ni,"f")&&gc(!0),this.showCompletionScript(),this.exit(0))}if(I(this,Jt,"f").hasDefaultCommand()&&!g){let b=I(this,Jt,"f").runCommand(null,this,u,0,s,m||p||s);return this[lo](b,o,!!r,!1)}if(_){I(this,ni,"f")&&gc(!0);let b=(e=[].concat(e)).slice(e.indexOf(`--${I(this,ti,"f").completionKey}`)+1);return I(this,ti,"f").getCompletion(b,(y,T)=>{if(y)throw new gn(y.message);(T||[]).forEach(C=>{I(this,ql,"f").log(C)}),this.exit(0)}),this[lo](c,!o,!!r,!1)}if(I(this,Or,"f")||(m?(I(this,ni,"f")&&gc(!0),a=!0,this.showHelp("log"),this.exit(0)):p&&(I(this,ni,"f")&&gc(!0),a=!0,I(this,He,"f").showVersion("log"),this.exit(0))),!a&&I(this,Ee,"f").skipValidation.length>0&&(a=Object.keys(c).some(b=>I(this,Ee,"f").skipValidation.indexOf(b)>=0&&c[b]===!0)),!a){if(u.error)throw new gn(u.error.message);if(!_){let b=this[uy](d,{},u.error);r||(f=mc(c,this,I(this,ri,"f").getMiddleware(),!0)),f=this[yA](b,f??c),ln(f)&&!r&&(f=f.then(()=>mc(c,this,I(this,ri,"f").getMiddleware(),!1)))}}}catch(h){if(!(h instanceof gn))throw h;I(this,He,"f").fail(h.message,h)}return this[lo](f??c,o,!!r,!0)}[uy](e,n,r,i){let s={...this.getDemandedOptions()};return a=>{if(r)throw new gn(r.message);I(this,Kt,"f").nonOptionCount(a),I(this,Kt,"f").requiredArguments(a,s);let o=!1;I(this,so,"f")&&(o=I(this,Kt,"f").unknownCommands(a)),I(this,io,"f")&&!o?I(this,Kt,"f").unknownArguments(a,e,n,!!i):I(this,ao,"f")&&I(this,Kt,"f").unknownArguments(a,e,{},!1,!1),I(this,Kt,"f").limitedChoices(a),I(this,Kt,"f").implications(a),I(this,Kt,"f").conflicting(a)}}[IA](){Pe(this,Or,!0,"f")}[uo](e){if(typeof e=="string")I(this,Ee,"f").key[e]=!0;else for(let n of e)I(this,Ee,"f").key[n]=!0}},cy,fy,{readFileSync:Zj}=require("fs"),{inspect:eU}=require("util"),{resolve:tU}=require("path"),nU=tE(),rU=V_(),py,AA={assert:{notStrictEqual:JE.notStrictEqual,strictEqual:JE.strictEqual},cliui:jE(),findUp:HE(),getEnv:t=>process.env[t],getCallerFile:$E(),getProcessArgvBin:iA,inspect:eU,mainFilename:(fy=(cy=require==null?void 0:require.main)===null||cy===void 0?void 0:cy.filename)!==null&&fy!==void 0?fy:process.cwd(),Parser:rU,path:require("path"),process:{argv:()=>process.argv,cwd:process.cwd,emitWarning:(t,e)=>process.emitWarning(t,e),execPath:()=>process.execPath,exit:t=>{process.exit(t)},nextTick:process.nextTick,stdColumns:process.stdout.columns!==void 0?process.stdout.columns:null},readFileSync:Zj,require,requireDirectory:QE(),stringWidth:td(),y18n:nU({directory:tU(__dirname,"../locales"),updateFiles:!1})},xA=((py=process==null?void 0:process.env)===null||py===void 0?void 0:py.YARGS_MIN_NODE_VERSION)?Number(process.env.YARGS_MIN_NODE_VERSION):12;if(process&&process.version&&Number(process.version.match(/v([^.]+)/)[1])<xA)throw Error(`yargs supports a minimum Node.js version of ${xA}. Read our version support policy: https://github.com/yargs/yargs#supported-nodejs-versions`);var iU=V_(),dy,sU={applyExtends:od,cjsPlatformShim:AA,Yargs:(dy=AA,(t=[],e=dy.process.cwd(),n)=>{let r=new EA(t,e,n,dy);return Object.defineProperty(r,"argv",{get:()=>r.parse(),enumerable:!0}),r.help(),r.version(),r}),argsert:Ce,isPromise:ln,objFilter:Ml,parseCommand:kl,Parser:iU,processArgv:zj,YError:gn};RA.exports=sU});var FA=J((Kfe,OA)=>{"use strict";var{Yargs:aU,processArgv:oU}=wA();Ul(oU.hideBin(process.argv));OA.exports=Ul;function Ul(t,e){let n=aU(t,e,require);return uU(n),n}function my(t,e,n){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:n})}function lU(t,e){let n=Object.getOwnPropertyDescriptor(t,e);if(typeof n!="undefined")return n.get}function uU(t){[...Object.keys(t),...Object.getOwnPropertyNames(t.constructor.prototype)].forEach(e=>{e==="argv"?my(Ul,e,lU(t,e)):typeof t[e]=="function"?Ul[e]=t[e].bind(t):(my(Ul,"$0",()=>t.$0),my(Ul,"parsed",()=>t.parsed))})}});var bt=le(require("fs"));var fa=class{constructor(){this.currentStructure=null;this.isReloading=!1;this.isDirtyState=!0}setActiveProject(e){this.currentStructure=e}getStructure(){return this.currentStructure}hasStructure(){return this.currentStructure!=null}setDirtyState(e){this.isDirtyState=e}reloadDetails(){this.isReloading||this.isDirtyState!=!1&&this.currentStructure!=null&&(this.isReloading=!0,this.currentStructure=this.currentStructure.reloadDetails(),this.isReloading=!1,this.isDirtyState=!1)}};fa.instance=null;(typeof fa.instance=="undefined"||fa.instance==null)&&(fa.instance=new fa);var Ie=fa;var Bi=class{static registerDetails(e,n){this.documentDetails.set(e,n)}static hasDetails(e){return this.documentDetails.has(e)}};Bi.documentDetails=new Map;var YA={documentDescription:"",documentName:"",collectionInjections:[],blueprints:[],variableHelper:null,injectsParameters:[],varReferenceNames:new Map,formatterEnabled:!0},yy="@name",by="@description",Ty="@desc",vy="@entry",Ny="@collection",Cy="@blueprint",Py="@var",Dy="@set",Sy="@param",Iy="@param*",$A="@front",Ey="@format";function Wl(t,e){if(e==null||e.isComment==!1)return YA;let n=e.content.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`).map(p=>p.trim()),r=[],i=new Map,s="",a="",o=[],l=[],u="",c=null,f=!1,d=!0;for(let p=0;p<n.length;p++){let h=n[p];if(h.startsWith(vy))o=o.concat(h.slice(vy.length).split(",").map(_=>_.trim())),f=!1;else if(h.startsWith(Ny))o=o.concat(h.slice(Ny.length).split(",").map(_=>_.trim())),f=!1;else if(h.startsWith(Cy))l=l.concat(h.slice(Cy.length).split(",").map(_=>_.trim())),f=!1;else if(h.startsWith(yy))s=h.slice(yy.length).trim(),f=!1;else if(h.startsWith(by))a=h.slice(by.length).trim(),f=!0;else if(h.startsWith(Ty))a=h.slice(Ty.length).trim(),f=!0;else if(h.startsWith(Py))u=h.slice(Py.length).trim(),f=!1;else if(h.startsWith(Dy))u="@page "+h.slice(Dy.length).trim(),f=!1;else if(h.startsWith(Sy)){let _=Sy.length,g=!1;h.startsWith(Iy)&&(_=Iy.length,g=!0);let y=h.slice(_).trim().split(" ");if(y.length>0)if(y[0]==$A&&y.length>=4){y.shift();let T=y.shift(),C=y.shift(),W=y.join(" ");r.push({acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:W,expectsTypes:["*"],isDynamic:!0,isRequired:g,name:C}),i.set(C,T)}else{let T=y.shift(),C=y.join(" ");r.push({acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:C,expectsTypes:["*"],isDynamic:!0,isRequired:g,name:T})}}else h.startsWith(Ey)?h.slice(Ey.length).trim().toLowerCase()=="true"?d=!0:d=!1:f&&(a+=`
`+h.trim())}if(u.length>0){let p=u.split(" ");if(p.length==2){let h=p[0],_=p[1];if(_.includes(".")){let g=_.split(".");if(g.length==2){let b=g[0],y=g[1];c={variableName:h,collectionName:b,fieldHandle:y,setHandle:""}}else if(g.length==3){let b=g[0],y=g[1],T=g[2];c={variableName:h,collectionName:b,fieldHandle:y,setHandle:T}}}else c={variableName:h,setHandle:"",collectionName:"",fieldHandle:_}}}if(t.trim().length>0&&Ie.instance!=null&&Ie.instance.hasStructure()){let p=Ie.instance.getStructure().findView(t);p!=null&&(p.injectsParameters=r,p.varReferenceNames=i)}let m={documentName:s,documentDescription:a,collectionInjections:o,blueprints:l,variableHelper:c,injectsParameters:r,varReferenceNames:i,formatterEnabled:d};return t.trim().length>0&&e.startPosition!=null&&(e.startPosition.line<=1||e.index<=1)&&Bi.registerDetails(t,m),m}var KA=["markdown","text","textarea","slug","button_group","code","color","date","form","link","structures","select","taxonomies","terms","template","time","video","users","user_groups","user_roles"],zA=["array","assets","bard","blueprints","collections","entries","list","grid","replicator","structures_multiple","sites","select_multiple","form_multiple","table","tags","terms_multiple","taxonomies_multiple","users_multiple","checkboxes","select_multiple","yaml","user_groups_multiple","user_roles_multiple"],XA=["integer","range"],QA=["toggle"];function vc(t){return KA.includes(t)?"string":zA.includes(t)?"array":XA.includes(t)?"number":QA.includes(t)?"boolean":t}var pa=class{constructor(){this.partialReferences=new Map;this.cacheReferences=new Map;this.removesPageScope=new Map}clearAllReferences(e){this.clearPartialReferences(e),this.clearCacheReferences(e)}registerPartialReferences(e,n){this.partialReferences.has(e)==!1&&this.partialReferences.set(e,[]),this.partialReferences.set(e,n)}registerCacheReferences(e,n){this.cacheReferences.has(e)==!1&&this.cacheReferences.set(e,[]),this.cacheReferences.set(e,n)}clearPartialReferences(e){this.partialReferences.has(e)&&this.partialReferences.set(e,[])}clearRemovesPageScope(e){this.removesPageScope.has(e)&&this.removesPageScope.delete(e)}pageScopeDisabled(e){return this.removesPageScope.has(e)}clearCacheReferences(e){this.cacheReferences.has(e)&&this.cacheReferences.set(e,[])}setRemovesPageScope(e,n){this.removesPageScope.set(e,n)}getPartialReferences(e){return this.partialReferences.has(e)==!1?[]:this.partialReferences.get(e)}getCacheReferencnes(e){return this.cacheReferences.has(e)==!1?[]:this.cacheReferences.get(e)}hasPartialReferences(e){return this.partialReferences.has(e)}hasCacheReferences(e){return this.cacheReferences.has(e)}};pa.instance=null;(typeof pa.instance=="undefined"||pa.instance==null)&&(pa.instance=new pa);var si=pa;var cn=class{constructor(){this.index=-1;this.offset=0;this.line=0;this.char=0}shiftRight(e){let n=new cn;return n.offset=this.offset+e,n.index=this.index+e,n.line=this.line,n.char=this.char+e,n}isBefore(e){return e==null?!1:e.line>this.line||e.line==this.line&&this.offset<e.offset}isWithin(e,n,r=0){return e==null||n==null?!1:this.index>=e.index&&this.index<=n.index+r}isWithinRange(e){return e==null?!1:e.start!=null&&e.end!=null?this.isWithin(e.start,e.end):!1}};var Td=class{constructor(){this.start=null;this.end=null}},Gl=Td;Gl.Empty=new Td;function Ay(t,e){let n=e.copy(),r=e.copy();return r.addVariable({sourceName:"*internal.group_by",sourceField:null,dataType:"string",name:"group",introducedBy:t}),r.addVariable({sourceName:"*internal.group_by",sourceField:null,dataType:"string",name:"key",introducedBy:t}),r.addScopeList("items",n),e.addScopeList("groups",r),e}function xy(t,e){let n=e.copy();return e.addScopeList("items",n),e}var Ry=[{name:"as",acceptsType:["array"],returnsType:["array"],description:"Alias the array variable with a key.",docLink:"https://statamic.dev/modifiers/as",parameters:[{name:"alias",description:"The alias name."}],canBeParameter:!0,isDeprecated:!1},{name:"ampersand_list",acceptsType:["array"],returnsType:["string"],description:"Converts the array into a comma delimited string, with an ampersand before the last item.",docLink:"https://statamic.dev/modifiers/ampersand_list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"collapse",acceptsType:["array"],returnsType:["array"],description:"Collapses an array of arrays into a single, flat, array.",docLink:"https://statamic.dev/modifiers/collapse",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"contains",acceptsType:["array","string"],returnsType:["boolean"],description:"Tests if the value contains another value.",docLink:"https://statamic.dev/modifiers/contains",parameters:[{name:"needle",description:"The value to check for."}],canBeParameter:!1,isDeprecated:!1},{name:"count",acceptsType:["array"],returnsType:["number"],description:"Returns the number of items in the array.",docLink:"https://statamic.dev/modifiers/count",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"dl",acceptsType:["array"],returnsType:["string"],description:"Turns an associative array into an HTML definition list.",docLink:"https://statamic.dev/modifiers/dl",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"explode",acceptsType:["string"],returnsType:["array"],description:"Breaks a string into an array on a given delimiter.",docLink:"https://statamic.dev/modifiers/explode",parameters:[{name:"delimiter",description:"The delimiter to break the string apart on."}],canBeParameter:!0,isDeprecated:!1},{name:"flatten",acceptsType:["array"],returnsType:["array"],description:"Flattens a multi-dimensional array.",docLink:"https://statamic.dev/modifiers/flatten",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"flip",acceptsType:["array"],returnsType:["array"],description:"Swaps the array keys with their values.",docLink:"https://statamic.dev/modifiers/flip",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"group_by",acceptsType:["array"],returnsType:["array"],description:"Groups the array items by the given key.",docLink:"https://statamic.dev/modifiers/group_by",parameters:[{name:"key",description:"The key to group by."}],canBeParameter:!0,augmentScope:Ay,isDeprecated:!1},{name:"in_array",acceptsType:["array"],returnsType:["boolean"],description:"Tests if an array contains a specific value.",docLink:"https://statamic.dev/modifiers/in_array",parameters:[{name:"needle",description:"The value to check for."}],canBeParameter:!1,isDeprecated:!1},{name:"is_empty",acceptsType:["array"],returnsType:["boolean"],description:"Tests if the array is empty.",docLink:"https://statamic.dev/modifiers/is_empty",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"join",acceptsType:["array"],returnsType:["string"],description:"Turn an array into a string by gluing together all the data.",docLink:"https://statamic.dev/modifiers/join",parameters:[{name:"glue",description:"The string to combine the parts by."}],canBeParameter:!0,isDeprecated:!1},{name:"joinplode",acceptsType:["array"],returnsType:["string"],description:"Turn an array into a string by gluing together all the data.",docLink:null,parameters:[{name:"glue",description:"The string to combine the parts by."}],canBeParameter:!0,isDeprecated:!1},{name:"limit",acceptsType:["array"],returnsType:["array"],description:"Limits the number of items returned in the array",docLink:"https://statamic.dev/modifiers/limit",parameters:[{name:"count",description:"The maximum number of items to return."}],canBeParameter:!0,isDeprecated:!1},{name:"list",acceptsType:["array"],returnsType:["string"],description:"Converts the array into a comma-separated string.",docLink:"https://statamic.dev/modifiers/list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"offset",acceptsType:["array"],returnsType:["array"],description:"Offsets the items returned in the array.",docLink:"https://statamic.dev/modifiers/offset",parameters:[{name:"offset",description:"The one-based index to start retrieving items."}],canBeParameter:!0,isDeprecated:!1},{name:"ol",acceptsType:["array"],returnsType:["string"],description:"Turns the array into an HTML ordered list.",docLink:"https://statamic.dev/modifiers/ol",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"option_list",acceptsType:["array"],returnsType:["string"],description:"Turns an array into a pipe-delimited string.",docLink:"https://statamic.dev/modifiers/option_list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"pluck",acceptsType:["array"],returnsType:["array"],description:"Plucks a value from a collection of items.",parameters:[{name:"value",description:"The value to pluck from the array or collection."}],canBeParameter:!0,docLink:null,isDeprecated:!1},{name:"pad",acceptsType:["array"],returnsType:["array"],description:"Pads the array to a specified length with the given value.",docLink:"https://statamic.dev/modifiers/pad",parameters:[{name:"length",description:"The desired length of the array."},{name:"value",description:"The value to pad the array with."}],canBeParameter:!0,isDeprecated:!1},{name:"piped",acceptsType:["array"],returnsType:["string"],description:"Turns an array into a pipe-delimited string.",docLink:"https://statamic.dev/modifiers/piped",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"sentence_list",acceptsType:["array"],returnsType:["string"],description:'Turns the array into a comma-delimited list, with the word "and" before the last item.',docLink:"https://statamic.dev/modifiers/sentence_list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"shuffle",acceptsType:["array"],returnsType:["array"],description:"Randomizes the order of array elements.",docLink:"https://statamic.dev/modifiers/shuffle",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"sort",acceptsType:["array"],returnsType:["array"],description:"Sorts the array by a key in ascending or descending order.",docLink:"https://statamic.dev/modifiers/sort",parameters:[{name:"key",description:"The key to sort by."},{name:"order",description:"The sort direction. `asc` or `desc`."}],canBeParameter:!0,isDeprecated:!1},{name:"sum",acceptsType:["array"],returnsType:["number"],description:"Returns the sum of all items in the array.",docLink:"https://statamic.dev/modifiers/sum",parameters:[{name:"key",description:"The value to sum."}],canBeParameter:!1,isDeprecated:!1},{name:"ul",acceptsType:["array"],returnsType:["string"],description:"Turns the array into an HTML unordered list.",docLink:"https://statamic.dev/modifiers/ul",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"unique",acceptsType:["array"],returnsType:["array"],description:"Returns all unique items in the array.",docLink:"https://statamic.dev/modifiers/unique",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"where",acceptsType:["array"],returnsType:["array"],description:"Filters the array by a given key and value.",docLink:"https://statamic.dev/modifiers/where",parameters:[{name:"key",description:"The property to filter by."},{name:"value",description:"The value to compare to."}],canBeParameter:!0,isDeprecated:!1},{name:"split",acceptsType:["array"],returnsType:["array"],description:"Splits an array into smaller arrays with the provided size.",canBeParameter:!0,docLink:"",parameters:[{name:"size",description:"The size of each new array"}],augmentScope:xy,isDeprecated:!1},{name:"compact",acceptsType:["string"],returnsType:["array"],description:"Accepts a comma-delimited list of variable names and return an array with their values.",canBeParameter:!0,docLink:"",parameters:[{name:"variables",description:"A comma-delimited list of variable names."}],isDeprecated:!1}];var wy=[{name:"background_position",acceptsType:["string"],returnsType:["string"],description:"Converts an asset focal point into a background-position CSS property.",docLink:"https://statamic.dev/modifiers/background_position",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"image",acceptsType:["string"],returnsType:["string"],description:"Generates an HTML image element with the variable's value as the src.",docLink:"https://statamic.dev/modifiers/image",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"output",acceptsType:["string"],returnsType:["string"],description:"Returns the string output of an Asset file's contents.",docLink:"https://statamic.dev/modifiers/output",parameters:[],canBeParameter:!1,isDeprecated:!1}];var Oy=[{name:"contains_all",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a string contains all of the provided needles.",docLink:"https://statamic.dev/modifiers/contains_all",parameters:[{name:"needle",description:"The string(s) to search for."}],canBeParameter:!1,isDeprecated:!1},{name:"contains_any",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a string contains all of the provided needles.",docLink:"https://statamic.dev/modifiers/contains_any",parameters:[{name:"needle",description:"The string(s) to search for."}],canBeParameter:!1,isDeprecated:!1},{name:"ends_with",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a string ends with another string.",docLink:"https://statamic.dev/modifiers/ends_with",parameters:[{name:"value",description:"The value to check against."}],canBeParameter:!1,isDeprecated:!1},{name:"has_lower_case",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains any lowercase characters.",docLink:"https://statamic.dev/modifiers/has_lower_case",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"has_upper_case",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains any uppercase characters.",docLink:"https://statamic.dev/modifiers/has_upper_case",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"in_array",acceptsType:["array"],returnsType:["boolean"],description:"Tests if an array contains a specific value.",docLink:"https://statamic.dev/modifiers/in_array",parameters:[{name:"needle",description:"The value(s) to search for."}],canBeParameter:!1,isDeprecated:!1},{name:"is_after",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the string contains only alphanumeric characters.",docLink:"https://statamic.dev/modifiers/is_after",parameters:[{name:"date",description:"The date to compare to."}],canBeParameter:!1,isDeprecated:!1},{name:"is_alphanumeric",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains only alphanumeric characters.",docLink:"https://statamic.dev/modifiers/is_alphanumeric",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_before",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if a date is before another date.",docLink:"https://statamic.dev/modifiers/is_before",parameters:[{name:"date",description:"The date to compare to."}],canBeParameter:!1,isDeprecated:!1},{name:"is_between",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if a date is between two other dates.",docLink:"https://statamic.dev/modifiers/is_between",parameters:[{name:"start_date",description:"The start date to compare."},{name:"end_date",description:"The end date to compare."}],canBeParameter:!1,isDeprecated:!1},{name:"is_blank",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains only whitespace characters.",docLink:"https://statamic.dev/modifiers/is_blank",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_email",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string is a valid email address.",docLink:"https://statamic.dev/modifiers/is_email",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_future",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is in the future.",docLink:"https://statamic.dev/modifiers/is_future",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_json",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string is valid JSON.",docLink:"https://statamic.dev/modifiers/is_json",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_leap_year",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is a leap year.",docLink:"https://statamic.dev/modifiers/is_leap_year",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_numeric",acceptsType:["string","number"],returnsType:["boolean"],description:"Tests if the value is a number or numeric string.",docLink:"https://statamic.dev/modifiers/is_numeric",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_past",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is in the past.",docLink:"https://statamic.dev/modifiers/is_past",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_today",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is today.",docLink:"https://statamic.dev/modifiers/is_today",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_uppercase",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains only uppercase characters.",docLink:"https://statamic.dev/modifiers/is_uppercase",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_url",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string is a valid URL.",docLink:"https://statamic.dev/modifiers/is_url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_weekday",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is a week day.",docLink:"https://statamic.dev/modifiers/is_weekday",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_weekend",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is a weekend day.",docLink:"https://statamic.dev/modifiers/is_weekend",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_yesterday",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is yesterday.",docLink:"https://statamic.dev/modifiers/is_yesterday",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_tomorrow",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is tomorrow.",docLink:null,parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"starts_with",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a value starts with the provided value.",docLink:"https://statamic.dev/modifiers/starts_with",parameters:[{name:"value",description:"The value to test for."}],canBeParameter:!1,isDeprecated:!1}];var Fy=[{name:"days_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of days since a given date.",docLink:"https://statamic.dev/modifiers/days_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"format_translated",acceptsType:["string","date"],returnsType:["string","date"],description:"Returns a formatted Carbon datetime/string.",docLink:"https://statamic.dev/modifiers/format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0,isDeprecated:!1},{name:"format",acceptsType:["string","date"],returnsType:["string","date"],description:"Formats the date using the provided format using PHP's [date variables](https://www.php.net/date).",docLink:"https://statamic.dev/modifiers/format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0,isDeprecated:!1},{name:"format_localized",acceptsType:["string","date"],returnsType:["string","date"],description:"Formats the date using server's locale, using PHP's [strftime format variables](https://www.php.net/strftime).",docLink:"https://statamic.dev/modifiers/format_localized",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0,isDeprecated:!0,getDeprecatedMessage(){return"The format_localized modifier is deprecated. Alternatives, such as the iso_format modifier, should be used instead."}},{name:"hours_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of hours since the date.",docLink:"https://statamic.dev/modifiers/hours_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"iso_format",acceptsType:["string","date"],returnsType:["string","date"],description:"Formats the date using an ISO format.",docLink:"https://statamic.dev/modifiers/iso_format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!1,isDeprecated:!1},{name:"minutes_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of minutes since the date.",docLink:"https://statamic.dev/modifiers/minutes_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"modify_date",acceptsType:["string","date"],returnsType:["string","date"],description:"Alters the date by incrementing or decrementing it in a format accepted by PHP's [strtotime](https://www.php.net/strtotime) function.",docLink:"https://statamic.dev/modifiers/modify_date",parameters:[],canBeParameter:!0,isDeprecated:!1},{name:"months_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of months since the date.",docLink:"https://statamic.dev/modifiers/months_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"relative",acceptsType:["string","date"],returnsType:["string"],description:"Returns a human readable date difference.",docLink:"https://statamic.dev/modifiers/relative",parameters:[{name:"add_ago",description:"Whether to add the relative suffix words at the end of the string."}],canBeParameter:!1,isDeprecated:!1},{name:"seconds_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of seconds since the date.",docLink:"https://statamic.dev/modifiers/seconds_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"timezone",acceptsType:["string","date"],returnsType:["string","date"],description:"Applies a timezone to the date.",docLink:"https://statamic.dev/modifiers/timezone",parameters:[{name:"timezone",description:"The timezone to apply."}],canBeParameter:!1,isDeprecated:!1},{name:"weeks_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of weeks since the date.",docLink:"https://statamic.dev/modifiers/weeks_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"years_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of years since the date.",docLink:"https://statamic.dev/modifiers/years_ago",parameters:[],canBeParameter:!1,isDeprecated:!1}];var Ly=[{name:"chunk",acceptsType:["array"],returnsType:["array"],description:"Breaks the array or collection into smaller arrays of a given size.",docLink:"https://statamic.dev/modifiers/chunk",parameters:[{name:"chunk_size",description:"The maximum length of each new chunk."}],canBeParameter:!0,isDeprecated:!1},{name:"favicon",acceptsType:["string"],returnsType:["string"],description:"Generates a favicon HTML meta tag for the given value.",docLink:"https://statamic.dev/modifiers/favicon",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"first",acceptsType:["string","array"],returnsType:["*"],description:"Returns the specified number of characters from the beginning of the string.",docLink:"https://statamic.dev/modifiers/first",parameters:[{name:"count",description:"The number of characters to return."}],canBeParameter:!0,isDeprecated:!1},{name:"last",acceptsType:["string","array"],returnsType:["*"],description:"Returns the specified number of characters from the end of the string.",docLink:"https://statamic.dev/modifiers/last",parameters:[{name:"count",description:"The number of characters to return."}],canBeParameter:!0,isDeprecated:!1},{name:"link",acceptsType:["string"],returnsType:["string"],description:"Generates an HTML link for the provided value.",docLink:"https://statamic.dev/modifiers/link",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"mailto",acceptsType:["string"],returnsType:["string"],description:"Generates a mailto HTML link for the provided value.",docLink:"https://statamic.dev/modifiers/mailto",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"markdown",acceptsType:["string"],returnsType:["string"],description:"Parses the value as Markdown and returns the HTML.",docLink:"https://statamic.dev/modifiers/markdown",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"nl2br",acceptsType:["string"],returnsType:["string"],description:"Replaces line breaks with HTML `<br>` tags.",docLink:"https://statamic.dev/modifiers/nl2br",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"obfuscate",acceptsType:["string"],returnsType:["string"],description:"Modifies the input string by replacing it with special characters, making it harder for bots but remains readable to site visitors.",docLink:"https://statamic.dev/modifiers/obfuscate",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"obfuscate_email",acceptsType:["string"],returnsType:["string"],description:"Obfuscates an email address with special HTML characters.",docLink:"https://statamic.dev/modifiers/obfuscate_email",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"strip_tags",acceptsType:["string"],returnsType:["string"],description:"Removes HTML tags from the string.",docLink:"https://statamic.dev/modifiers/strip_tags",parameters:[{name:"tags",description:"The HTML tag(s) to remove from the string."}],canBeParameter:!1,isDeprecated:!1},{name:"table",acceptsType:["array"],returnsType:["string"],description:"Turns a [Table FieldType](https://statamic.dev/fieldtypes/table) array into an HTML table.",docLink:"https://statamic.dev/modifiers/table",parameters:[{name:"content_markdown",description:"Whether to parse cell contents as Markdown."}],canBeParameter:!1,isDeprecated:!1},{name:"textile",acceptsType:["string"],returnsType:["string"],description:"Parses a string with [Textile](http://demo.textilewiki.com/theme-default/) and returns the HTML.",docLink:"https://statamic.dev/modifiers/textile",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"wrap",acceptsType:["string"],returnsType:["string"],description:"Wraps a string with a given HTML tag.",docLink:"https://statamic.dev/modifiers/wrap",parameters:[{name:"expression",description:"The HTML tag or Emmet-style expression to wrap the value in."}],canBeParameter:!1,isDeprecated:!1}];var ky=[{name:"add",acceptsType:["number"],returnsType:["number"],description:"Adds two values together.",docLink:"https://statamic.dev/modifiers/add",parameters:[{name:"value",description:"The value to add."}],canBeParameter:!0,isDeprecated:!1},{name:"+",acceptsType:["number"],returnsType:["number"],description:"Adds two values together.",docLink:"https://statamic.dev/modifiers/add",parameters:[{name:"value",description:"The value to add."}],canBeParameter:!1,isDeprecated:!1},{name:"ceil",acceptsType:["number"],returnsType:["number"],description:"Rounds the value to the next whole number.",docLink:"https://statamic.dev/modifiers/ceil",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"divide",acceptsType:["number"],returnsType:["number"],description:"Divides two values.",docLink:"https://statamic.dev/modifiers/divide",parameters:[{name:"value",description:"The value to divide."}],canBeParameter:!0,isDeprecated:!1},{name:"floor",acceptsType:["number"],returnsType:["number"],description:"Rounds a number down to the next whole number.",docLink:"https://statamic.dev/modifiers/floor",parameters:[],canBeParameter:!0,isDeprecated:!1},{name:"format_number",acceptsType:["number"],returnsType:["string"],description:"Formats a number.",docLink:"https://statamic.dev/modifiers/format_number",parameters:[{name:"precision",description:"Number of decimal places before rounding."},{name:"decimal_separator",description:"The decimal separator (defaults to `.`)."},{name:"thousands_separator",description:"The thousands separator (default `,`)."}],canBeParameter:!0,isDeprecated:!1},{name:"mode",acceptsType:["number"],returnsType:["number"],description:"",docLink:"",parameters:[],canBeParameter:!0,isDeprecated:!1},{name:"multiply",acceptsType:["number"],returnsType:["number"],description:"Multiplies two values.",docLink:"https://statamic.dev/modifiers/multiply",parameters:[{name:"value",description:"The value to multiply."}],canBeParameter:!0,isDeprecated:!1},{name:"*",acceptsType:["number"],returnsType:["number"],description:"Multiplies two values.",docLink:"https://statamic.dev/modifiers/multiply",parameters:[{name:"value",description:"The value to multiply."}],canBeParameter:!1,isDeprecated:!1},{name:"round",acceptsType:["number"],returnsType:["number"],description:"Rounds a number to a specified precision.",docLink:"https://statamic.dev/modifiers/round",parameters:[{name:"precision",description:"The number of digits after the decimal point."}],canBeParameter:!0,isDeprecated:!1},{name:"subtract",acceptsType:["number"],returnsType:["number"],description:"Subtracts two values.",docLink:"https://statamic.dev/modifiers/subtract",parameters:[{name:"value",description:"The value to subtract."}],canBeParameter:!0,isDeprecated:!1},{name:"-",acceptsType:["number"],returnsType:["number"],description:"Subtracts two values.",docLink:"https://statamic.dev/modifiers/subtract",parameters:[{name:"value",description:"The value to subtract."}],canBeParameter:!1,isDeprecated:!1}];var My=[{name:"partial",acceptsType:["*"],returnsType:["*view*"],description:"Injects data into a partial and renders it.",docLink:"https://statamic.dev/modifiers/partial",parameters:[{name:"partial",description:"The name of the partial."}],canBeParameter:!1,isDeprecated:!1},{name:"macro",acceptsType:["*"],returnsType:["*"],description:"Runs a pre-configured macro on the data.",docLink:"https://statamic.dev/modifiers/macro",parameters:[{name:"macro",description:"The macro name."}],canBeParameter:!1,isDeprecated:!1},{name:"url",acceptsType:["string","*"],returnsType:["string"],description:"Locates the URL of an asset, page, entry, or taxonomy term based on the variable contents.",docLink:"https://statamic.dev/modifiers/url",parameters:[],canBeParameter:!1,isDeprecated:!1}];var By=[{name:"ascii",acceptsType:["string"],returnsType:["string"],description:"Replaces all non-ASCII characters with their closest ASCII counterparts.",docLink:"https://statamic.dev/modifiers/ascii",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"at",acceptsType:["string"],returnsType:["string"],description:"Returns the character at a given zero-based position.",docLink:"https://statamic.dev/modifiers/at",parameters:[{name:"position",description:"The zero-based position to retrieve a character from."}],canBeParameter:!0,isDeprecated:!1},{name:"backspace",acceptsType:["string"],returnsType:["string"],description:"Removes a specified number of characters from the end of a string.",docLink:"https://statamic.dev/modifiers/backspace",parameters:[{name:"character_count",description:"The number of characters to remove from the end of the string."}],canBeParameter:!0,isDeprecated:!1},{name:"camelize",acceptsType:["string"],returnsType:["string"],description:"Converts the string into camelCase.",docLink:"https://statamic.dev/modifiers/camelize",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"cdata",acceptsType:["string"],returnsType:["string"],description:"Wraps the string in CDATA XML tags.",docLink:"https://statamic.dev/modifiers/cdata",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"collapse_whitespace",acceptsType:["string"],returnsType:["string"],description:"Trims a string and replaces consecutive whitespace characters with a single space.",docLink:"https://statamic.dev/modifiers/collapse_whitespace",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"count_substring",acceptsType:["string"],returnsType:["number"],description:"Counts the number of occurrences of a term within the string.",docLink:"https://statamic.dev/modifiers/count_substring",parameters:[{name:"term",description:"The sub-string to search for"}],canBeParameter:!0,isDeprecated:!1},{name:"dashify",acceptsType:["string"],returnsType:["string"],description:"Returns a lower-cased and trimmed string, separated by dashes.",docLink:"https://statamic.dev/modifiers/dashify",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"deslugify",acceptsType:["string"],returnsType:["string"],description:"Replaces all hyphens and underscores with spaces.",docLink:"https://statamic.dev/modifiers/deslugify",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"embed_url",acceptsType:["string"],returnsType:["string"],description:"Converts a YouTube or Viemo link into their embed URLs.",docLink:"https://statamic.dev/modifiers/embed_url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"trackable_embed_url",acceptsType:["string"],returnsType:["string"],description:"Get the embed URL when given a youtube or vimeo link that's direct to the page.",docLink:null,parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"ensure_left",acceptsType:["string"],returnsType:["string"],description:"Ensures that the string begins with the specified string.",docLink:"https://statamic.dev/modifiers/ensure_left",parameters:[{name:"start_string",description:"The value that should be at the start of the string."}],canBeParameter:!0,isDeprecated:!1},{name:"ensure_right",acceptsType:["string"],returnsType:["string"],description:"Ensures that the string ends with the specified string.",docLink:"https://statamic.dev/modifiers/ensure_right",parameters:[{name:"end_string",description:"The value that should be at the end of the string."}],canBeParameter:!0,isDeprecated:!1},{name:"entities",acceptsType:["string"],returnsType:["string"],description:"Encode a string with HTML entities.",docLink:"https://statamic.dev/modifiers/entities",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"excerpt",acceptsType:["string"],returnsType:["string"],description:"Breaks a string at a given marker.",docLink:"https://statamic.dev/modifiers/excerpt",parameters:[{name:"marker",description:"The string to break by."}],canBeParameter:!1,isDeprecated:!1},{name:"explode",acceptsType:["string"],returnsType:["array"],description:"Breaks a string into an array of strings.",docLink:"https://statamic.dev/modifiers/explode",parameters:[{name:"delimiter",description:"The string to split the larger string by."}],canBeParameter:!0,isDeprecated:!1},{name:"gravatar",acceptsType:["string"],returnsType:["string"],description:"Converts an email string to a Gravatar image URL.",docLink:"https://statamic.dev/modifiers/gravatar",parameters:[{name:"image size",description:"The desired image size."}],canBeParameter:!0,isDeprecated:!1},{name:"insert",acceptsType:["string"],returnsType:["string"],description:"Inserts a string at the position provided.",docLink:"https://statamic.dev/modifiers/insert",parameters:[{name:"value",description:"The value to insert."},{name:"position",description:"The zero based position to insert the text at."}],canBeParameter:!0,isDeprecated:!1},{name:"is_email",acceptsType:["string"],returnsType:["boolean"],description:"Returns true if the string is a valid email address.",docLink:"https://statamic.dev/modifiers/is_email",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_embeddable",acceptsType:["string"],returnsType:["boolean"],description:"Checks to see if a video URL is embeddable.",docLink:"https://statamic.dev/modifiers/is_embeddable",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_lowercase",acceptsType:["string"],returnsType:["boolean"],description:"Returns true if the string contains only lowercase characters.",docLink:"https://statamic.dev/modifiers/is_lowercase",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_url",acceptsType:["string"],returnsType:["boolean"],description:"Returns true if a string is a valid URL.",docLink:"https://statamic.dev/modifiers/is_url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"lcfirst",acceptsType:["string"],returnsType:["string"],description:"Converts the first character of the value to lower case.",docLink:"https://statamic.dev/modifiers/lcfirst",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"length",acceptsType:["string"],returnsType:["number"],description:"Returns the number of items in an array or number of characters in a string.",docLink:"https://statamic.dev/modifiers/length",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"lower",acceptsType:["string"],returnsType:["string"],description:"Converts all characters to lowercase.",docLink:"https://statamic.dev/modifiers/lower",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"md5",acceptsType:["string"],returnsType:["string"],description:"Creates an MD5 hash of the variable.",docLink:"https://statamic.dev/modifiers/md5",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"rawurlencode",acceptsType:["string"],returnsType:["string"],description:"URL-encode a variable according to RFC-3986.",docLink:"https://statamic.dev/modifiers/rawurlencode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"read_time",acceptsType:["string"],returnsType:["string"],description:"Returns an estimated read time, in minutes.",docLink:"https://statamic.dev/modifiers/read_time",parameters:[{name:"words per minute",description:"The words per minute to use as an estimate."}],canBeParameter:!0,isDeprecated:!1},{name:"regex_replace",acceptsType:["string"],returnsType:["string"],description:"Replaces all regex matches with a string.",docLink:"https://statamic.dev/modifiers/regex_replace",parameters:[{name:"pattern",description:"The regex pattern."},{name:"replace",description:"The replacement value."}],canBeParameter:!0,isDeprecated:!1},{name:"remove_left",acceptsType:["string"],returnsType:["string"],description:"Ensures that the string never begins with a specified string.",docLink:"https://statamic.dev/modifiers/remove_left/",parameters:[{name:"value",description:"The value to remove."}],canBeParameter:!0,isDeprecated:!1},{name:"remove_right",acceptsType:["string"],returnsType:["string"],description:"Ensures that a string never ends with a specified string.",docLink:"https://statamic.dev/modifiers/remove_right",parameters:[{name:"value",description:"The value to remove."}],canBeParameter:!0,isDeprecated:!1},{name:"replace",acceptsType:["string"],returnsType:["string"],description:"Replaces all occurrences of a string with a different value.",docLink:"https://statamic.dev/modifiers/replace",parameters:[{name:"needle",description:"The string to search for."},{name:"value",description:"The value to replace all occurrences with."}],canBeParameter:!0,isDeprecated:!1},{name:"reverse",acceptsType:["string","array"],returnsType:["string","array"],description:"Reverses all characters in a string, or all items in an array.",docLink:"https://statamic.dev/modifiers/reverse",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"safe_truncate",acceptsType:["string"],returnsType:["string"],description:"Truncates a string to a given length.",docLink:"https://statamic.dev/modifiers/safe_truncate",parameters:[{name:"length",description:"The desired string length."},{name:"suffix",description:"An optional suffix to append to the string if truncation occurs."}],canBeParameter:!1,isDeprecated:!1},{name:"sanitize",acceptsType:["string"],returnsType:["string"],description:"Converts special characters to HTML entities.",docLink:"https://statamic.dev/modifiers/sanitize",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"segment",acceptsType:["string"],returnsType:["string"],description:"Returns a segment by number from any valid URL or URI.",docLink:"https://statamic.dev/modifiers/segment",parameters:[{name:"segment",description:"The one-based segment to return."}],canBeParameter:!0,isDeprecated:!1},{name:"singular",acceptsType:["string"],returnsType:["string"],description:"Returns the singular form of an English word.",docLink:"https://statamic.dev/modifiers/singular",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"slugify",acceptsType:["string"],returnsType:["string"],description:"Converts the string into an URL slug.",docLink:"https://statamic.dev/modifiers/slugify",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"smartypants",acceptsType:["string"],returnsType:["string"],description:"Translates plain ASCII punctuation characters into typographic punctuation HTML entities.",docLink:"https://statamic.dev/modifiers/smartypants",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"spaceless",acceptsType:["string"],returnsType:["string"],description:"Removes excess whitespace and line breaks from a string.",docLink:"https://statamic.dev/modifiers/spaceless",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"substr",acceptsType:["string"],returnsType:["string"],description:"Returns a portion of a string based on provided a start index, and optional length.",docLink:"https://statamic.dev/modifiers/substr",parameters:[{name:"start",description:"The 0-based index to start searching."},{name:"length",description:"An optional length for the string to find."}],canBeParameter:!1,isDeprecated:!1},{name:"surround",acceptsType:["string"],returnsType:["string"],description:"Surrounds a string with another string.",docLink:"https://statamic.dev/modifiers/surround",parameters:[{name:"value",description:"The value to surround the string with."}],canBeParameter:!1,isDeprecated:!1},{name:"swap_case",acceptsType:["string"],returnsType:["string"],description:"Returns a case swapped version of the string.",docLink:"https://statamic.dev/modifiers/swap_case",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"tidy",acceptsType:["string"],returnsType:["string"],description:"Returns a string with smart quotes, ellipsis characters, and dashes from Windows-1252 replaced by ASCII equivalents.",docLink:"https://statamic.dev/modifiers/tidy",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"title",acceptsType:["string"],returnsType:["string"],description:"Returns a Title Cased version of the string.",docLink:"https://statamic.dev/modifiers/title",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"trim",acceptsType:["string"],returnsType:["string"],description:"Removes whitespace from the start and end of the string.",docLink:"https://statamic.dev/modifiers/trim",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"truncate",acceptsType:["string"],returnsType:["string"],description:"Truncates a string to a given length.",docLink:"https://statamic.dev/modifiers/truncate",parameters:[{name:"length",description:"The maximum string length."},{name:"suffix",description:"An optional suffix to append to the string if truncation occurs."}],canBeParameter:!1,isDeprecated:!1},{name:"ucfirst",acceptsType:["string"],returnsType:["string"],description:"Upper cases the first character in the string.",docLink:"https://statamic.dev/modifiers/ucfirst",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"underscored",acceptsType:["string"],returnsType:["string"],description:"Returns a lower-cased and trimmed version of the string, separated by underscores.",docLink:"https://statamic.dev/modifiers/underscored",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"upper",acceptsType:["string"],returnsType:["string"],description:"Transforms the string to uppercase.",docLink:"https://statamic.dev/modifiers/upper",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"urldecode",acceptsType:["string"],returnsType:["string"],description:"URL-decodes the string.",docLink:"https://statamic.dev/modifiers/urldecode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"urlencode",acceptsType:["string"],returnsType:["string"],description:"URL-encodes the string.",docLink:"https://statamic.dev/modifiers/urlencode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"widont",acceptsType:["string"],returnsType:["string"],description:"Attempts to prevent lines with single words.",docLink:"https://statamic.dev/modifiers/widont",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"word_count",acceptsType:["string"],returnsType:["number"],description:"Returns the number of words in the string.",docLink:"https://statamic.dev/modifiers/word_count",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"add_slashes",acceptsType:["string"],returnsType:["string"],description:"Adds slashes before characters that need to be escaped.",docLink:"https://statamic.dev/modifiers/add_slashes",canBeParameter:!1,parameters:[],isDeprecated:!1}];var qy=[{name:"console_log",acceptsType:["*"],returnsType:["null"],description:"Displays variable data in the browser's JavaScript console.",docLink:"https://statamic.dev/modifiers/console_log",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"decode",acceptsType:["string"],returnsType:["string"],description:"Converts all HTML entities to their applicable character codes.",docLink:"https://statamic.dev/modifiers/decode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"dump",acceptsType:["*"],returnsType:["null"],description:"Displays variable data in the browser.",docLink:"https://statamic.dev/modifiers/dump",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"full_urls",acceptsType:["string"],returnsType:["string"],description:"Replaces root-relative URLs with absolute URLs.",docLink:"https://statamic.dev/modifiers/full_urls",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"repeat",acceptsType:["string"],returnsType:["string"],description:"Repeats a value a given number of times.",docLink:"https://statamic.dev/modifiers/repeat",parameters:[{name:"repeat_count",description:"The number of times to repeat the value."}],canBeParameter:!0,isDeprecated:!1},{name:"to_spaces",acceptsType:["string"],returnsType:["string"],description:"Converts all tabs to spaces.",docLink:"https://statamic.dev/modifiers/to_spaces",parameters:[{name:"space_count",description:"The number of spaces to replace tabs with."}],canBeParameter:!1,isDeprecated:!1},{name:"to_tabs",acceptsType:["string"],returnsType:["string"],description:"Converts spaces to tabs.",docLink:"https://statamic.dev/modifiers/to_tabs",parameters:[{name:"space_count",description:"The number of spaces to convert to tabs."}],canBeParameter:!1,isDeprecated:!1},{name:"to_json",acceptsType:["*"],returnsType:["string"],description:"Converts the data to JSON.",docLink:"https://statamic.dev/modifiers/to_json",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"to_bool",acceptsType:["*"],returnsType:["boolean"],description:"Converst the data to a boolean",parameters:[],canBeParameter:!1,docLink:null,isDeprecated:!1}];var Is=class{constructor(){this.registeredModifiers=new Map;this.acceptTypedModifierReference=new Map;this.returnTypeModifierReference=new Map;this.macros=new Map;this.modifierNameCache=[]}reset(){this.modifierNameCache=[],this.registeredModifiers.clear(),this.acceptTypedModifierReference.clear(),this.returnTypeModifierReference.clear()}getRegisteredModifiers(){return this.registeredModifiers}resetMacros(){this.macros.clear()}loadCoreModifiers(){this.registerModifiers(Ry),this.registerModifiers(wy),this.registerModifiers(Oy),this.registerModifiers(Fy),this.registerModifiers(Ly),this.registerModifiers(ky),this.registerModifiers(qy),this.registerModifiers(By),this.registerModifiers(My)}getModifierNames(){return this.modifierNameCache}registerMacro(e){this.macros.set(e.name,e)}registerMacros(e){for(let n=0;n<e.length;n++)this.registerMacro(e[n])}hasMacro(e){if(this.macros.has(e)){let n=this.macros.get(e);return!(typeof n=="undefined"||n===null)}return!1}getMacro(e){if(this.macros.has(e)){let n=this.macros.get(e);return typeof n=="undefined"||n===null?null:n}return null}getMacroManifestingType(e){let n=this.getMacro(e);return n==null?"":n.manifestsType}getRegisteredModifier(e){return this.registeredModifiers.has(e)?this.registeredModifiers.get(e):null}getModifiersForType(e){let n=vc(e);return this.acceptTypedModifierReference.has(n)?this.acceptTypedModifierReference.get(n):[]}getProbableReturnType(e,n){return e==null||e.returnsType.length==0?"":n&&e.returnsType.includes("array")?"array":e.returnsType[0]}registerModifiers(e){var n,r;for(let i=0;i<e.length;i++){let s=e[i];this.modifierNameCache.push(s.name);for(let a=0;a<s.acceptsType.length;a++){let o=s.acceptsType[a];this.acceptTypedModifierReference.has(o)==!1&&this.acceptTypedModifierReference.set(o,[]),(n=this.acceptTypedModifierReference.get(o))==null||n.push(s)}for(let a=0;a<s.returnsType.length;a++){let o=s.returnsType[a];this.returnTypeModifierReference.has(o)==!1&&this.returnTypeModifierReference.set(o,[]),(r=this.returnTypeModifierReference.get(o))==null||r.push(s)}this.registeredModifiers.set(e[i].name,e[i])}}registerModifier(e){let n=[];n.push(e),this.registerModifiers(n)}getModifier(e){if(this.registeredModifiers.has(e)==!1)return null;let n=this.registeredModifiers.get(e);return typeof n=="undefined"||n==null?null:n}hasModifier(e){if(!this.registeredModifiers.has(e))return!1;let n=this.registeredModifiers.get(e);return!(typeof n=="undefined"||n==null)}};Is.instance=null;(typeof Is.instance=="undefined"||Is.instance==null)&&(Is.instance=new Is,Is.instance.loadCoreModifiers());var tt=Is;var vd=class{constructor(e){this.parameterModifiers=[];this.hasMixedModifierStyles=!1;this.modifierNames=[];this.node=e}isPaired(){return this.node instanceof K?this.node.isPaired():!1}getModifierValue(e){var n;if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0)for(let r=0;r<this.node.modifierChain.modifierChain.length;r++){let i=this.node.modifierChain.modifierChain[r];if(((n=i.nameNode)==null?void 0:n.name)==e)return i.valueNodes.length>0?i.valueNodes[0].content:""}if(this.hasParameterModifiers())for(let r=0;r<this.parameterModifiers.length;r++){let i=this.parameterModifiers[r];if(i.name==e)return i.value}return null}getModifierRange(e){var n;if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0)for(let r=0;r<this.node.modifierChain.modifierChain.length;r++){let i=this.node.modifierChain.modifierChain[r];if(((n=i.nameNode)==null?void 0:n.name)==e)return i.valueNodes.length>0?{start:i.startPosition,end:i.endPosition}:null}if(this.hasParameterModifiers())for(let r=0;r<this.parameterModifiers.length;r++){let i=this.parameterModifiers[r];if(i.name==e&&i.namePosition!=null&&i.valuePosition!=null)return{start:i.namePosition.start,end:i.valuePosition.end}}return null}getLastManifestedModifierRuntimeType(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastManifestedModifier!=null){if(this.node.modifierChain.lastManifestedModifier.parameters.length>0&&this.node.modifierChain.lastManifestedModifier.modifier!=null&&tt.instance!=null){let e=this.node.modifierChain.lastManifestedModifier.modifier;return tt.instance.getProbableReturnType(e,this.isPaired())}return"*"}if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null&&tt.instance!=null){let r=e[n].modifier;return tt.instance.getProbableReturnType(r,this.isPaired())}}return"*"}getLastManifestedModifierValue(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastManifestedModifier!=null)return this.node.modifierChain.lastManifestedModifier.parameters.length>0?this.node.modifierChain.lastManifestedModifier.parameters[0].value:"";if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null)return e[n].value}return""}getLastManifestedModifier(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastModifier!=null)return this.node.modifierChain.lastModifier;if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null)return e[n].modifier}return null}hasModifiers(){return this.node.modifierChain==null||this.node.modifierChain.modifierChain.length==0?this.parameterModifiers.length>0:!0}hasParameterModifiers(){return this.parameterModifiers.length>0}hasShorthandModifiers(){return this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0}hasModifier(e){return this.modifierNames.includes(e)}};function Nd(t){let e=[];return t.forEach(n=>{n instanceof K?e.push(n):n instanceof ht&&n.logicBranches.length>0&&n.logicBranches.forEach(r=>{if(r.head!=null){let i=r.head;i.originalNode!=null?e.push(i.originalNode):e.push(i)}})}),e}var JA=[" ",`
`,"\r","	","\f","\v","\xA0","\u2000","\u2001","\u2002","\u2003","\u2004","\u2005","\u2006","\u2007","\u2008","\u2009","\u200A","\u200B","\u2028","\u2029","\u3000"].join("");function Vy(t){return(typeof t=="number"||typeof t=="string"&&JA.indexOf(t.slice(-1))===-1)&&t!==""&&!isNaN(t)}var te=class{static normalizeLineEndings(e,n=`
`){return e.replace(/\r?\n/g,n)}static breakByNewLine(e){return e.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`)}static split(e){return e.split("")}static substring(e,n,r){return e.substr(n,r)}static ctypeSpace(e){return(e==null?void 0:e.search(/^[\f\n\r\t\v ]+$/g))!==-1}static ctypeAlpha(e){return(e==null?void 0:e.search(/^[A-Za-z]+$/g))!==-1}static ctypeDigit(e){return(e==null?void 0:e.search(/^[\d]+$/g))!==-1}static ctypePunct(e){return(e==null?void 0:e.search(/^[\u0021-\u002F\u003A-\u0040\u005B-\u0060\u007B-\u007E]+$/g))!==-1}static trimLeft(e,n="\\s"){return e.replace(new RegExp("^["+n+"]+"),"")}static trimRight(e,n="\\s"){return e.replace(new RegExp("["+n+"]+$"),"")}static isNumeric(e){return Vy(e)}static substringCount(e,n){let r=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return(e.match(new RegExp(r,"gi"))||[]).length}static getLastLine(e){let n=te.breakByNewLine(e);return n.length==0?"":n[n.length-1]}static getFirstLine(e){let n=te.breakByNewLine(e);return n.length==0?"":n[0]}};var Cd=class{constructor(e){this.node=e}findParentWithName(e){let n=this.node.getParser();return n==null?null:n.structure.findParentWithName(e,this.node)}};var Uy=le(Nc());var j=class{constructor(){this.node=null;this.errorCode="";this.message="";this.level=0;this.range=null;this.actions=[];this.lsRange=null;this.data=null}hash(){var n,r,i,s;let e="";return this.node!=null&&(e=((r=(n=this.node.endPosition)==null?void 0:n.offset)!=null?r:0).toString()+"|"+((s=(i=this.node.startPosition)==null?void 0:i.offset)!=null?s:0).toString()+"|"),Uy.Md5.hashStr(e+"|"+this.errorCode)}static makeSyntaxError(e,n,r,i){i==null&&(i=0);let s=new j;return s.errorCode=e,s.node=n,s.message=r,s.level=i,s}};var P=class{};P.TYPE_EXPECTING_OPERAND="ANTLR_001",P.TYPE_UNEXPECTED_END_OF_INPUT="ANTLR_002",P.TYPE_RUNTIME_TYPE_MISMATCH="ANTLR_003",P.TYPE_RUNTIME_DIVIDE_BY_ZERO="ANTLR_004",P.TYPE_RUNTIME_UNKNOWN_LANG_OPERATOR="ANTLR_005",P.TYPE_RUNTIME_UNEXPECTED_STACK_CONDITION="ANTLR_006",P.TYPE_RUNTIME_PARSE_VALUE_VIOLATION="ANTLR_007",P.TYPE_PARSE_UNCLOSED_CONDITIONAL="ANTLR_008",P.TYPE_PARSE_EMPTY_CONDITIONAL="ANTLR_009",P.TYPE_PARSE_UNPAIRED_CONDITIONAL="ANTLR_008",P.TYPE_ILLEGAL_STRING_ESCAPE_SEQUENCE="ANTLR_009",P.TYPE_INCOMPLETE_ANTLERS_REGION="ANTLR_010",P.TYPE_INCOMPLETE_ANTELRS_COMMENT_REGION="ANTLR_011",P.TYPE_ILLEGAL_VARPATH_RIGHT="ANTLR_012",P.TYPE_ILLEGAL_DOTVARPATH_RIGHT="ANTLR_013",P.TYPE_ILLEGAL_VARPATH_SUBPATH_START="ANTLR_014",P.TYPE_ILLEGAL_VARPATH_SPACE_RIGHT="ANTLR_015",P.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR="ANTLR_016",P.TYPE_ILLEGAL_VARIABLE_NAME="ANTLR_017",P.TYPE_UNSET_MODIFIER_DETAILS="ANTLR_018",P.TYPE_MODIFIER_NAME_NOT_START_OF_DETAILS="ANTLR_019",P.TYPE_MODIFIER_UNEXPECTED_VALUE="ANTLR_020",P.TYPE_MODIFIER_UNEXPECTED_END_OF_VALUE_LIST="ANTLR_021",P.TYPE_TERNARY_EXPECTING_BRANCH_SEPARATOR="ANTLR_022",P.TYPE_TERNARY_UNEXPECTED_EXPRESSION_LENGTH="ANTLR_023",P.TYPE_RECURSIVE_UNPAIRED_NODE="ANTLR_024",P.TYPE_RECURSIVE_NODE_INVALID_POSITION="ANTLR_025",P.TYPE_NO_PARSE_UNASSOCIATED="ANTLR_026",P.TYPE_RECURSIVE_NODE_UNASSOCIATED_PARENT="ANTLR_027",P.TYPE_LOGIC_GROUP_NO_END="ANTLR_028",P.TYPE_LOGIC_GROUP_NO_START="ANTLR_029",P.TYPE_UNEXPECTED_BRANCH_SEPARATOR="ANTLR_030",P.TYPE_UNEXPECTED_BRANCH_SEPARATOR_FOR_VARCOMBINE="ANTLR_031",P.TYPE_UNEXPECTED_MODIFIER_SEPARATOR="ANTLR_032",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_DETAILS="ANTLR_033",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_VALUE="ANTLR_034",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NODE_PARAMETER="ANTLR_035",P.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE="ANTLR_036",P.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS="ANTLR_037",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SEMANTIC_GROUP="ANTLR_038",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NULL_COALESCENCE_GROUP="ANTLR_039",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP="ANTLR_040",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP_FALSE_BRANCH="ANTLR_041",P.TYPE_UNEXPECTED_EOI_WHILE_EXITING_TERNARY_GROUP="ANTLR_042",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_NEGATION_OFFSET="ANTLR_043",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END_DUE_TO_NEGATION="ANTLR_044",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END="ANTLR_045",P.TYPE_RUNTIME_UNKNOWN_LIBRARY="ANTLR_046",P.TYPE_RUNTIME_LIBRARY_BAD_METHOD_CALL="ANTLR_047",P.TYPE_UNEXPECTED_FACTORIAL_WHILE_CREATING_GROUPS="ANTLR_048",P.TYPE_UNEXPECTED_FACTORIAL_OPERAND="ANTLR_049",P.TYPE_UNEXPECTED_LOGIC_NEGATION_OPERATOR="ANTLR_050",P.TYPE_FACTORIAL_MATERIALIZED_BOOL_DETECTED="ANTLR_051",P.TYPE_ARG_UNEXPECTED_NAMED_ARGUMENT="ANTLR_052",P.TYPE_UNEXPECTED_EOI_PARSING_BRANCH_GROUP="ANTLR_053",P.TYPE_UNEXPECTED_UNNAMED_METHOD_ARGUMENT="ANTLR_054",P.TYPE_LIBRARY_CALL_NO_ARGS_PROVIDED="ANTLR_055",P.TYPE_LIBRARY_CALL_MISSING_REQUIRED_FORMAL_ARG="ANTLR_056",P.TYPE_LIBRARY_CALL_RUNTIME_TYPE_MISMATCH="ANTLR_057",P.TYPE_LIBRARY_CALL_UNEXPECTED_ARG_RESOLVE_FAULT="ANTLR_058",P.TYPE_LIBRARY_CALL_TOO_MANY_ARGUMENTS="ANTLR_059",P.TYPE_UNEXPECTED_TOKEN_WHILE_PARSING_METHOD="ANTLR_060",P.TYPE_INVALID_NAMED_ARG_IDENTIFIER="ANTLR_061",P.TYPE_LIBRARY_CALL_INVALID_ARGUMENT_NAME="ANTLR_062",P.TYPE_RUNTIME_ATTEMPT_TO_OVERWRITE_LOADED_LIBRARY="ANTLR_063",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_ARG_GROUP="ANTLR_064",P.TYPE_EXPECTING_ARGUMENT_GROUP="ANTLR_065",P.TYPE_RUNTIME_PROTECTED_LIBRARY_ACCESS_VIOLATION="ANTLR_066",P.TYPE_RUNTIME_FATAL_UNPAIRED_LOOP_END="ANTLR_067",P.TYPE_UNEXPECTED_OPERATOR="ANTLR_068",P.TYPE_OPERATOR_INVALID_ON_RIGHT="ANTLR_069",P.TYPE_INVALID_ASSIGNMENT_LOOP_PAIR="ANTLR_070",P.TYPE_UNEXPECTED_EOI_PARSING_ORDER_GROUP="ANTLR_071",P.TYPE_EXPECTING_ORDER_GROUP_FOR_ORDER_BY_OPERAND="ANTLR_072",P.TYPE_QUERY_UNSUPPORTED_VALUE_TYPE="ANTLR_073",P.TYPE_UNEXPECTED_RUNTIME_RESULT_FOR_ORDER_BY_CLAUSE="ANTLR_074",P.TYPE_UNEXPECTED_EMPTY_DIRECTION_GROUP="ANTLR_075",P.TYPE_INVALID_ORDER_BY_NAME_VALUE="ANTLR_076",P.TYPE_INVALID_ORDER_BY_SORT_VALUE="ANTLR_077",P.TYPE_UNEXPECTED_TOKEN_FOR_GROUP_BY="ANTLR_78",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_GROUP_BY="ANTLR_079",P.TYPE_UNEXPECTED_GROUP_BY_AS_ALIAS_TYPE="ANTLR_080",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SWITCH_GROUP="ANTLR_081",P.TYPE_UNEXPECTED_TOKEN_FOR_SWITCH_GROUP="ANTLR_082",P.TYPE_UNEXPECTED_SWITCH_START_VALUE="ANTLR_083",P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE="ANTLR_084",P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_SEMANTIC_VALUE="ANTLR_085",P.TYPE_SWITCH_DEFAULT_MUST_BE_LAST="ANTLR_086",P.TYPE_PARSER_INVALID_SWITCH_TOKEN="ANTLR_087",P.TYPE_ORDER_BY_INVALID_RETURN_TYPE="ANTLR_088",P.TYPE_GROUP_BY_SCOPED_GROUP_MUST_BE_ENCLOSED="ANTLR_089",P.TYPE_PLUCK_INTO_MISSING_VARIABLE_TARGET="ANTLR_090",P.TYPE_PLUCK_INTO_INVALID_VARIABLE_TARGET="ANTLR_091",P.TYPE_PLUCK_INTO_NO_PREDICATE="ANTLR_092",P.TYPE_PLUCK_INTO_INVALID_PREDICATE_VALUE="ANTLR_093",P.TYPE_PLUCK_INTO_EMPTY_LOGIC_GROUP="ANTLR_094",P.TYPE_PLUCK_INTO_INVALID_NUMBER_OF_TUPLE_VARIABLES="ANTLR_095",P.TYPE_PLUCK_INTO_UNKNOWN_ALIAS_VARNAME="ANTLR_096",P.TYPE_PLUCK_INTO_UNEXPECTED_EMPTY_T_LOGIC_GROUP="ANTLR_097",P.TYPE_PLUCK_INTO_REFERENCE_TYPE_DYNAMIC="ANTLR_098",P.TYPE_PLUCK_INTO_REFERENCE_AMBIGUOUS="ANTLR_099",P.TYPE_RUNTIME_ASSIGNMENT_TO_NON_VAR="ANTLR_100",P.TYPE_ARR_MAKE_MISSING_TARGET="ANTLR_101",P.TYPE_ARR_MAKE_UNEXPECTED_TYPE="ANTLR_102",P.TYPE_ARR_MAKE_MISSING_ARR_KEY_PAIR_VALUE="ANTLR_103",P.TYPE_ARR_KEY_PAIR_INVALID_KEY_TYPE="ANTLR_104",P.TYPE_ARR_UNEXPECT_ARG_SEPARATOR="ANTLR_105",P.TYPE_ARR_KEY_PAIR_MISSING_KEY="ANTLR_106",P.RUNTIME_PROTECTED_VAR_ACCESS="ANTLR_107",P.RUNTIME_PROTECTED_TAG_ACCESS="ANTLR_108",P.RUNTIME_PROTECTED_MODIFIER_ACCESS="ANTLR_109",P.TYPE_INCOMPLETE_PHP_EVALUATION_REGION="ANTLR_110",P.RUNTIME_PHP_NODE_WHEN_PHP_DISABLED="ANTLR_111",P.RUNTIME_PHP_NODE_USER_CONTENT_TAG="ANTLR_112",P.TYPE_UNEXPECTED_TYPE_FOR_TUPLE_LIST="ANTLR_113",P.TYPE_UNEXPECTED_EOI_PARSING_TUPLE_LIST="ANTLR_114",P.TYPE_MISSING_BODY_TUPLE_LIST="ANTLR_115",P.TYPE_MISSING_NAMES_TUPLE_LIST="ANTLR_116",P.TYPE_VALUE_NAME_LENGTH_MISMATCH_TUPLE_LIST="ANTLR_117",P.TYPE_INVALID_TUPLE_LIST_NAME_TYPE="ANTLR_118",P.TYPE_INVALID_MANIFESTED_NAME_GROUP="ANTLR_119",P.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE_GROUP="ANTLR_120",P.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE="ANTLR_121",P.TYPE_RUNTIME_BAD_METHOD_CALL="ANTLR_122",P.TYPE_METHOD_CALL_MISSING_ARG_GROUP="ANTLR_123",P.TYPE_INVALID_METHOD_CALL_ARG_GROUP="ANTLR_124",P.TYPE_METHOD_CALL_MISSING_METHOD="ANTLR_125",P.TYPE_MODIFIER_NOT_FOUND="ANTLR_126",P.TYPE_RUNTIME_GENERAL_FAULT="ANTLR_127",P.TYPE_MODIFIER_INCORRECT_VALUE_POSITION="ANTLR_128",P.TYPE_MODIFIER_UNEXPECTED_TOKEN_METHOD_SYNTAX="ANTLR_129",P.TYPE_RUNTIME_ATTEMPTING_TO_RENDER_OBJECT_AS_STRING="ANTLR_130",P.TYPE_UNPAIRED_CLOSING_TAG="ANTLR_131",P.PARSER_CANNOT_PARSE_PATH_RECURSIVE="ANTLR_200",P.PATH_STRING_NOT_INSIDE_ARRAY_ACCESSOR="ANTLR_201",P.LINT_UNKNOWN_PARAMETER="ANTLR_500",P.LINT_GENERAL_INVALID_PARAMETER_CONTENTS="ANTLR_501",P.LINT_PARAMETER_CONTENT_INVALID_INTEGER="ANTLR_502",P.LINT_PARAMETER_CONTENT_INVALID_BOOLEAN="ANT LR_503",P.LINT_PAGINATE_INVALID_VALUE="ANTLR_504",P.LINT_DEBUG_DATA_EXPOSED="ANTLR_505",P.LINT_DOUBLE_COLON_IN_TAG_IDENTIFIER="ANTLR_506",P.LINT_MIXED_MODIFIERS="ANTLR_507",P.LINT_MODIFIER_UNEXPECTED_TYPE="ANTLR_508",P.LINT_REMOVE_RELATE_TAG="ANTLR_509",P.LINT_SET_PRODUCES_RUNTIME_ERROR="ANTLR_510",P.LINT_FRONT_MATTER_EMPTY_DOCUMENT="ANTLR_511",P.LINT_SHORTHAND_MODIFIER_TAG_MUST_MATCH="ANTLR_512",P.LINT_INVALID_FRONT_MATTER="ANTLR_513",P.LINT_DUPLICATE_CODE="ANTLR_514",P.LINT_VERSION_NOT_COMPATIBLE="ANTLR_515",P.LINT_INTERLEAVED_TAG_PAIRS="ANTLR_516",P.LINT_MISSING_REQUIRED_PARAMETER="ANTLR_517",P.LINT_POSSIBLE_PARTIAL_RECURSION="ANTLR_518",P.LINT_URL_VARIABLE_WITHOUT_SANITIZE="ANTLR_519",P.LINT_DYNAMIC_CLASS_NAMES_POSSIBLE_PURGE="ANTLER_520",P.LINT_DEPRECATED_MODIFIER="ANTLER_521";var St=class{static distance(e,n){return e.endPosition==null||n.startPosition==null?this.DistMax:n.startPosition.index-e.endPosition.index}static getTrueName(e){var n,r,i,s;return e.originalNode!=null?(r=(n=e.originalNode.name)==null?void 0:n.name)!=null?r:"":(s=(i=e.name)==null?void 0:i.name)!=null?s:""}static getSimpleVarName(e){return e.variableReference!=null&&e.variableReference.pathParts.length==1&&e.variableReference.pathParts[0]instanceof Bn?e.variableReference.pathParts[0].name:""}static isVariableMatching(e,n){return e instanceof Ne?e.name==n:!1}static mergeVarContentLeft(e,n,r){return r.mergeRefName=r.name,r.endPosition=n.endPosition,r.name=r.name+e,r}static mergeVarContentRight(e,n,r){return r.mergeRefName=r.name,r.startPosition=n.startPosition,r.name=e+r.name,r}static mergeVarRight(e,n){return n.mergeRefName=n.name,n.startPosition=e.startPosition,n.name=e.name+n.name,n}static getUnrefName(e){return te.trimLeft(e,":.")}};St.DistMax=65e3;var Mr=class{static isConditionalStructure(e){var r,i;if(e.isComment)return!1;let n=(i=(r=e.name)==null?void 0:r.name)!=null?i:"";return n=="if"||n=="elseif"||n=="else"}static requiresClose(e){var r,i;let n=(i=(r=e.name)==null?void 0:r.name)!=null?i:"";return n=="elseif"||n=="else"?e.isClosedBy==null:!(e.isClosingTag||e.isClosedBy!=null)}static getValidClosingPairs(e){return e=="if"||e=="elseif"?Mr.conditionClosingPairs:[]}static findClosestStructurePair(e,n,r){var u,c,f,d,m,p,h,_;let i=[],s=e.length,a=new Map,o=null;i.push({node:n,index:r});for(let g=0;g<s;g+=1){let b=e[g];if(b instanceof K){let y=(c=(u=b.name)==null?void 0:u.name)!=null?c:"";if(b.isClosingTag&&y=="if"){a.set(g,g);continue}else if(y=="elseif"||y=="else"){a.set(g,g);continue}}}let l=a.size;for(;i.length>0;){let g=i.pop();if(g==null)continue;if(g.node._conditionParserAbandonPairing)break;let b=g.node,y=Mr.getValidClosingPairs((d=(f=b.name)==null?void 0:f.name)!=null?d:""),T=g.index,C=!1;if(l>50&&o!=null){for(let[W,F]of a)if(W>T){T=W;break}}for(let W=T;W<s;W++){let F=e[W];if(F instanceof K&&Mr.isConditionalStructure(F)){if(Mr.requiresClose(F)){i.push(g),i.push({node:F,index:W+1}),C=!0;break}if(b.isClosedBy!=null)continue;let L=(p=(m=F.name)==null?void 0:m.name)!=null?p:"",H=!1;if(F.ref==0&&(F.isClosingTag&&L=="if"||y.includes(L))&&(H=!0),F.refId==b.refId&&(H=!1),H){o=W,a.delete(W),b.isClosedBy=F,F.isOpenedBy=b,F.ref+=1,C=!0;break}}}if(!C&&b instanceof K){let W=(_=(h=b.name)==null?void 0:h.name)!=null?_:"";if((W=="elseif"||W=="else")&&b.isOpenedBy==null){let F='Unpaired "'+St.getTrueName(b)+'" control structure.';b.isInterpolationNode&&(F+=" Tag pairs are not supported within Antlers tags."),b.pushError(j.makeSyntaxError(P.TYPE_PARSE_UNPAIRED_CONDITIONAL,b,F)),b._conditionParserAbandonPairing=!0}if(b.isClosedBy==null&&Mr.requiresClose(b)){let F='Unclosed "'+St.getTrueName(b)+'" control structure.';b.isInterpolationNode&&(F+=" Tag pairs are not supported within Antlers tags."),b.pushError(j.makeSyntaxError(P.TYPE_PARSE_UNCLOSED_CONDITIONAL,b,F)),b._conditionParserAbandonPairing=!0}}}}static pairConditionals(e){for(let n=0;n<e.length;n+=1){let r=e[n];r instanceof K&&Mr.isConditionalStructure(r)&&Mr.requiresClose(r)&&Mr.findClosestStructurePair(e,r,n+1)}return e.forEach(n=>{var r,i;if(n instanceof K&&Mr.isConditionalStructure(n)){let s=(i=(r=n.name)==null?void 0:r.name)!=null?i:"";if((s=="elseif"||s=="else")&&n.isOpenedBy==null){n.pushError(j.makeSyntaxError(P.TYPE_PARSE_UNPAIRED_CONDITIONAL,n,'Unpaired "'+St.getTrueName(n)+'" control structure.'));return}if(n.isClosedBy==null&&Mr.requiresClose(n)){n.pushError(j.makeSyntaxError(P.TYPE_PARSE_UNCLOSED_CONDITIONAL,n,"Unclosed "+St.getTrueName(n)+" control structure."));return}}}),e}},yn=Mr;yn.conditionClosingPairs=["elseif","else"];function Br(t,e){return e==null&&(e="s"),t.replace(new RegExp("^["+e+"]+"),"")}function Yt(t,e,n){return t.replace(new RegExp(e,"g"),n)}function ai(t,e){return e==null&&(e="s"),t.replace(new RegExp("["+e+"]+$"),"")}function fo(){return(Date.now().toString(32)+Math.random().toString(16)).replace(/\./g,"")}function Wy(){return Yt(fo(),"-","_")}var Cc=class{constructor(){this.startPosition=null;this.endPosition=null;this.index=0;this.embeddedIndex=0;this.refId=null;this.parameters=[];this.isSelfClosing=!1;this.isClosingFragment=!1;this.name="";this.containsStructures=!1;this.refId=Wy()}},Dd=class{constructor(){this.startPosition=null;this.endPosition=null;this.content="";this.name=""}};function ZA(t){let e=[],n=[];for(let r=0;r<t.length;r++){let i=t[r],s=i.refId;if(n.includes(s))break;e.push(i),n.push(s)}return e}var fe=class{constructor(){this.refId=null;this.index=0;this.parent=null;this.content="";this.rawLexContent="";this.sourceContent="";this.startPosition=null;this.endPosition=null;this.modifierChain=null;this.originalAbstractNode=null;this.positionContexts=[];this.addedContexts=new Map;this.fragment=null;this.fragmentParameter=null;this.fragmentPosition=3;this.containsAnyFragments=!1;this.containsChildStructures=!1;this.isInScriptTag=!1;this.isInStyleTag=!1;this.isVirtual=!0;this.isPartOfMethodChain=!1;this.isVirtualGroupMember=!1;this.isVirtualGroupOperatorResolve=!1;this.isSwitchGroupMember=!1;this.isListGroupMember=!1;this.producesVirtualStatementTerminator=!1;this.convertedToOperator=!1;this.scopeVariable=null;this.currentScope=null;this.manifestType="";this.scopeName=null;this.sourceType="";this.runtimeType=null;this.modifiers=new vd(this);this.prev=null;this.next=null;this.methodTarget=null;this.libraryTarget=null;this.antlersErrors=[];this.parser=null;this.refId=Wy()}isEmbedded(){return this.isInScriptTag||this.isInStyleTag}getContexts(){return this.positionContexts}addContext(e){this.addedContexts.has(e.refId)==!1&&(this.addedContexts.set(e.refId,!0),this.positionContexts.push(e))}getRange(){if(this.originalAbstractNode!=null)return this.originalAbstractNode.getRange();if(this.startPosition==null||this.endPosition==null)return Gl.Empty;let e=new Gl;return e.start=this.startPosition,e.end=this.endPosition,e}withParser(e){this.parser=e}getParser(){return this.parser}pushError(e){this.parent!=null&&this.parent.pushError(e),this.antlersErrors.push(e),this.parent==null&&this.parser!=null&&this.parser.pushError(e)}mergeErrors(e){e.forEach(n=>{n.node==null&&(n.node=this),this.antlersErrors.push(n)})}getErrors(){return this.antlersErrors}innerContent(){return this.content}rawContent(){return this.content}},Sd=class extends fe{constructor(){super(...arguments);this.head=null;this.tail=null;this.nodes=[];this.documentText="";this.childDocument=null}getImmediateChildren(){return this.head==null?[]:this.head.getImmediateChildren()}},ht=class extends fe{constructor(){super(...arguments);this.logicBranches=[];this.chain=[];this.nodeContent="";this.fragment=null;this.fragmentParameter=null;this.fragmentPosition=3;this.containsAnyFragments=!1;this.containsChildStructures=!1}},K=class extends fe{constructor(){super(...arguments);this.isNodeAbanonded=!1;this.isComment=!1;this.isTagNode=!1;this.isConditionNode=!1;this.runtimeContent="";this.name=null;this.pathReference=null;this.isClosingTag=!1;this.isInterpolationNode=!1;this.isOpenedBy=null;this.isClosedBy=null;this.isSelfClosing=!1;this.children=[];this.runtimeNodes=[];this.parsedRuntimeNodes=[];this.hasParsedRuntimeNodes=!1;this.parameters=[];this.hasParameters=!1;this.contentOffset=null;this.cachedContent=null;this.cachedInnerContent=null;this.hasRecursiveNode=!1;this.recursiveReference=null;this.rawStart="";this.rawEnd="";this.originalNode=null;this.interpolationRegions=new Map;this.processedInterpolationRegions=new Map;this.hasProcessedInterpolationRegions=!1;this.ref=0;this.contentStartRelativeIndex=null;this.antlersNodeIndex=0;this.nameStartsOn=null;this.nameEndsOn=null;this.nameMethodPartStartsOn=null;this.documentText="";this.nodeContent="";this.childDocument=null;this.structure=new Cd(this);this.isInlineAntlers=!1;this.mustClose=!1;this.reference=null;this._conditionParserAbandonPairing=!1;this._isEndVirtual=!1}getOriginalContent(){return this.startPosition==null||this.endPosition==null||this.parser==null?"":this.isClosedBy!=null?this.isClosedBy.startPosition==null||this.isClosedBy.endPosition==null?"":this.parser.getText(this.startPosition.index,this.isClosedBy.endPosition.index+1):this.parser.getText(this.startPosition.index,this.endPosition.index+1)}getNodeDocumentText(){return this.startPosition==null||this.endPosition==null||this.parser==null?"":this.parser.getText(this.startPosition.index,this.endPosition.index+1)}getImmediateChildren(){let e=[];for(let n=0;n<this.children.length;n++){let r=this.children[n];if(r.parent==this){if(r==this.isClosedBy)break;e.push(r)}}return ZA(e)}getChildren(){if(this.isClosedBy==null)return[];let e=[];for(let n=0;n<this.children.length;n++){let r=this.children[n];if(r instanceof K&&r.refId==this.isClosedBy.refId)break;e.push(r)}return e}getInnerDocumentText(){if(this.startPosition==null||this.endPosition==null||this.parser==null)return"";if(this.isClosedBy==null)return this.getNodeDocumentText();let e=this.isClosedBy.startPosition;return e==null?"":this.parser.getText(this.endPosition.index+1,e.index)}nodeAtIndex(e){if(this.runtimeNodes.length==0)return null;for(let n=0;n<this.runtimeNodes.length;n++)if(this.runtimeNodes[n].index==e)return this.runtimeNodes[n];return null}getDepthCount(){if(this.parent==null)return 1;let e=this.parent,n=1;for(;e!=null;){if(n+=1,e.parent===e){e=null;break}e=e.parent}return n}isEmpty(){return this.content.trim().length==0}nameMatches(e){return this.name==null?!1:this.name.content==e}copyBasicDetails(){return this.copyBasicDetailsTo(new K)}copyBasicDetailsTo(e){return e.refId=this.refId,e.isComment=this.isComment,e.isTagNode=this.isTagNode,e.children=this.children,e.parent=this.parent,e.parameters=this.parameters,e.isClosingTag=this.isClosingTag,e.rawStart=this.rawStart,e.rawEnd=this.rawEnd,e.startPosition=this.startPosition,e.endPosition=this.endPosition,e.originalAbstractNode=this,e.containsAnyFragments=this.containsAnyFragments,e.containsChildStructures=this.containsChildStructures,e.isInScriptTag=this.isInScriptTag,e.isInStyleTag=this.isInStyleTag,e}id(){return this.refId}innerContent(){return this.cachedInnerContent==null&&(this.cachedInnerContent=this.content.replace('"','\\"')),this.cachedInnerContent}resetContentCache(){this.cachedContent=null,this.cachedInnerContent=null}hasMethodPart(){return this.name==null?!1:this.name.getMethodName()!=null}runtimeName(){return this.name==null?"":this.name.getCompoundTagName()}getTagName(){return this.name==null?"":this.name.name}getNameContent(){return this.name==null?"":this.name.content}getMethodNameValue(){if(this.name==null)return"";let e=this.name.getMethodName();return e!=null?e:""}methodIsEmptyOrMatches(e){return this.getMethodNameValue()==e}hasParameter(e){return this.findParameter(e)!=null}hasParameterWithValue(e,n){let r=this.findParameter(e);return r==null?!1:r.value==n}findParameterValue(e,n){let r=this.findParameter(e);return r==null?n:r.value}findParameterValueOrNull(e){let n=this.findParameter(e);return n==null?null:n.value}findParameter(e){if(this.parameters.length==0)return null;for(let n=0;n<this.parameters.length;n++)if(this.parameters[n].name==e)return this.parameters[n];return null}findAnyParameter(e){for(let n=0;n<e.length;n++){let r=this.findParameter(e[n]);if(r!=null)return r}return null}getContentRelativeStartIndex(){if(this.contentStartRelativeIndex==null){let e=this.content.split("");for(let n=0;n<e.length;n++)if(!te.ctypeSpace(e[n])){this.contentStartRelativeIndex=n;break}this.contentStartRelativeIndex==null&&(this.contentStartRelativeIndex=e.length),this.contentStartRelativeIndex+=this.rawStart.length}return this.contentStartRelativeIndex}getContentAfterName(){let e=0;return this.nameEndsOn!=null&&(e=this.nameEndsOn.char-this.rawStart.length-1),this.content.substring(e)}getContent(){if(this.cachedContent==null)if(this.isComment)this.cachedContent=this.content,this.contentOffset=this.startPosition;else if(this.isTagNode){let e=this.content;e=te.trimLeft(e);let n=0;if(this.name!=null&&(n=this.name.compound.length),this.parameters.length>0){let a=0,o=this.parameters[0];o.startPosition!=null&&(a=o.startPosition.index-1);let l=e,u=l.trimLeft(),c=l.length-u.length,f=n;e=e.substr(0,a)}let r=e.trimLeft(),i=e.length-r.length,s=n+i+2;if(this.parser!=null){let a=0;this.startPosition!=null&&(a=this.startPosition.offset),this.contentOffset==this.parser.positionFromOffset(a+s,0)}this.name!=null?this.name.name=="if"||this.name.name=="elseif"||this.name.name=="unless"||this.name.name=="elseunless"?(e=" "+e.trimLeft(),this.cachedContent=e.substr(this.name.compound.length+1)):this.cachedContent=e:this.cachedContent=e}else if(this.parameters.length>0){let e=this.parameters[0],n=0;e.startPosition!=null&&(n=e.startPosition.index-1),this.contentOffset=this.startPosition,this.cachedContent=this.content.substr(0,n)}else this.contentOffset=this.startPosition,this.cachedContent=this.content;return this.cachedContent}relativePositionFromOffset(e,n){var r,i;return this.parser==null?null:this.parser.positionFromOffset(((i=(r=this.contentOffset)==null?void 0:r.offset)!=null?i:0)+e,n)}getInterpolationNode(e){if(this.processedInterpolationRegions.has(e)){let n=this.processedInterpolationRegions.get(e);if(n.length>0&&n[0]instanceof K)return n[0]}return null}_lexerRelativeOffset(e,n=null){var a,o;let r=e;if(n!=null&&(r=n),this.parser==null){let l=new cn;return l.index=e,l.offset=e,l}let i=e+this.rawStart.length+((o=(a=this.startPosition)==null?void 0:a.index)!=null?o:0);return this.isTagNode&&this.nameStartsOn!=null&&(i=this.nameStartsOn.index+e,yn.isConditionalStructure(this)||(i-=this.rawStart.length)),this.parser.positionFromOffset(i,i,!0)}relativeOffset(e,n=null){var a,o;let r=e;if(n!=null&&(r=n),this.parser==null){let l=new cn;return l.index=e,l.offset=e,l}let i=e+this.rawStart.length+((o=(a=this.startPosition)==null?void 0:a.index)!=null?o:0);return this.parser.positionFromOffset(i,i,!0)}isPaired(){return this.isClosingTag&&this.isSelfClosing==!1&&this.isOpenedBy!=null?!0:!(this.isClosedBy==null||this.isSelfClosing)}getFinalClosingTag(){return this.isClosedBy==null?this:this.isClosedBy.getFinalClosingTag()}rawContent(){return this.rawStart+this.content+this.rawEnd}getTrueRuntimeNodes(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueRuntimeNodes():this.runtimeNodes}getTrueRawContent(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueRawContent():this.rawContent()}getTrueNode(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueNode():this}getStructuralChildren(){return this.isClosedBy!=null?Nd(this.children.slice(0,-1)):Nd(this.children)}findParentOfType(e){return this.parent==null?null:this.parent instanceof K?this.parent.name!=null&&e.includes(this.parent.getTagName())?this.parent:this.parent.findParentOfType(e):null}},mr=class extends K{static makeWithStartPosition(e){let n=new mr;return n.startPosition=e,n.endPosition=e,n}},kt=class extends mr{},qr=class extends K{constructor(){super(...arguments);this.recursiveParent=null;this.isNestedRecursive=!1}},da=class extends K{constructor(){super(...arguments);this.isEchoNode=!1}},Hl=class extends mr{},Id=class extends mr{},Rn=class extends K{constructor(){super(...arguments);this.isNoParseRegion=!1}},ma=class extends fe{constructor(){super(...arguments);this.modifier=null;this.isModifierParameter=!1;this.nameDelimiter='"';this.isVariableReference=!1;this.name="";this.value="";this.interpolations=[];this.parent=null;this.blockPosition=null;this.namePosition=null;this.valuePosition=null}containsSimpleValue(){return this.hasInterpolations()==!1&&this.isVariableReference==!1}hasInterpolations(){return this.interpolations.length>0}getArrayValue(){return this.value.split("|")}getValue(){return this.value}},Yl=class{constructor(){this.modifierTarget=null;this.modifierChain=[];this.startPosition=null;this.endPosition=null;this.lastManifestedModifier=null;this.lastModifier=null}updateValues(){if(this.modifierChain.length==0)this.startPosition=null,this.endPosition=null;else{let e=this.modifierChain[0],n=this.modifierChain[this.modifierChain.length-1];this.startPosition=e.startPosition,this.endPosition=n.endPosition}}},po=class extends fe{constructor(){super(...arguments);this.modifier=null;this.methodStyleArguments=null;this.nameNode=null;this.name="";this.valueNodes=[];this.parameters=[]}getParameterValues(){let e=[];return this.parameters.forEach(n=>{e.push(n.value)}),e}},$l=class extends fe{constructor(){super(...arguments);this.order=0;this.name=null;this.directionNode=null}},Ed=class extends fe{constructor(){super(...arguments);this.value=""}},oi=class extends fe{},Vr=class extends fe{},li=class extends fe{},hr=class extends fe{},gr=class extends fe{},qi=class extends fe{},Es=class extends fe{constructor(){super(...arguments);this.repeat=1}},Vi=class extends fe{},_r=class extends fe{},Hn=class extends fe{},ui=class extends fe{},ci=class extends fe{},yr=class extends fe{},fi=class extends fe{},pi=class extends fe{},ji=class extends fe{},Yn=class extends fe{},jr=class extends fe{},rs=class extends fe{},di=class extends fe{},mi=class extends fe{},hi=class extends fe{},gi=class extends fe{},_i=class extends fe{},yi=class extends fe{},is=class extends fe{},bi=class extends fe{},wn=class extends fe{},ha=class extends fe{constructor(){super(...arguments);this.orderClauses=[]}},$t=class extends fe{},$n=class extends fe{},Kl=class extends fe{constructor(){super(...arguments);this.left=null;this.right=null}},Kn=class extends fe{constructor(){super(...arguments);this.isTenaryBranchSeparator=!1}},Ti=class extends fe{},Ur=class extends fe{},On=class extends fe{},vi=class extends fe{},Ui=class extends fe{},Wr=class extends fe{},zn=class extends fe{},Wi=class extends fe{},fn=class extends fe{},bn=class extends fe{},mo=class extends fe{constructor(){super(...arguments);this.values=[];this.isNamedNode=!1;this.parsedName=null}},Ze=class extends fe{constructor(){super(...arguments);this.start=null;this.end=null;this.nodes=[];this.scopeOperator=null}},ho=class extends fe{constructor(){super(...arguments);this.condition=null;this.expression=null}},ga=class extends fe{constructor(){super(...arguments);this.cases=[]}},Ad=class extends fe{constructor(){super(...arguments);this.left=null;this.right=null}},ss=class extends fe{constructor(){super(...arguments);this.nodes=[]}},zl=class extends fe{constructor(){super(...arguments);this.head=null;this.truthBranch=null;this.falseBranch=null}},zt=class extends fe{},Zt=class extends fe{constructor(){super(...arguments);this.nodes=[];this.separatorToken=null}},Gr=class extends Ze{constructor(){super(...arguments);this.scope=null}extract(){let e=null;this.scope!=null&&(e=this.scope.name);let n=this.nodes[0];return[e,n.nodes]}},as=class extends Gr{constructor(){super(...arguments);this.alias=null}},go=class extends fe{constructor(){super(...arguments);this.args=[];this.hasNamedArguments=!1;this.numberOfNamedArguments=0}},Ni=class extends fe{},xd=class extends fe{};var As=class extends fe{constructor(){super(...arguments);this.libraryName="";this.methodName="";this.arguments=null}},st=class extends fe{constructor(){super(...arguments);this.sourceContent=""}},Tn=class extends fe{constructor(){super(...arguments);this.method=null;this.args=null}},pn=class extends fe{constructor(){super(...arguments);this.name=""}},dn=class extends fe{constructor(){super(...arguments);this.value="";this.name=""}},Pc=class extends fe{constructor(){super(...arguments);this.name=null;this.value=null}},Xl=class extends fe{constructor(){super(...arguments);this.name=null;this.value=null}},en=class extends fe{constructor(){super(...arguments);this.value=null}},Wt=class extends fe{constructor(){super(...arguments);this.value="";this.sourceTerminator="";this.sourceContent=""}},Ne=class extends fe{constructor(){super(...arguments);this.name="";this.mergeRefName="";this.variableReference=null;this.interpolationNodes=[];this.isInterpolationReference=!1}},Rd=class extends fe{constructor(){super(...arguments);this.name=""}},Bn=class extends fe{constructor(){super(...arguments);this.delimiter="";this.name="";this.isStringVar=!1;this.isFinal=!1}},Gi=class{constructor(){this.originalContent="";this.normalizedReference="";this.isStrictTagReference=!1;this.isStrictVariableReference=!1;this.isExplicitVariableReference=!1;this.isVariableVariable=!1;this.pathParts=[];this.isFinal=!1;this._isFromEmptyFailState=!1}clone(){let e=new Gi;return e.originalContent=this.originalContent,e.normalizedReference=this.normalizedReference,e.isStrictVariableReference=this.isStrictVariableReference,e.isExplicitVariableReference=this.isExplicitVariableReference,e.pathParts=this.pathParts,e.isFinal=this.isFinal,e}implodePaths(){let e=[];return this.pathParts.forEach(n=>{n instanceof Bn?e.push(n.name):n instanceof Gi&&e.push(n.implodePaths())}),e.join(".")}},wd=class{constructor(e,n,r){this.target=e,this.value=n,this.operator=r}};var QN=le(Cn());var Ao=le(wt());function Lm(t,e){let n=[];if(t.currentNode==null)return n;let r={start:{line:t.position.line,character:t.position.character-0},end:t.position};for(let i=0;i<e.length;i++){let s=e[i];if(!t.currentNode.hasParameter(s.name)){let a=s.name+'="$1"';n.push({label:s.name,kind:Ao.CompletionItemKind.Value,insertTextFormat:Ao.InsertTextFormat.Snippet,textEdit:Ao.TextEdit.replace(r,a),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}return n}var xo=le(wt());function ks(t,e,n){return{label:t,insertText:t,kind:xo.CompletionItemKind.Field,detail:n+": "+e}}function iO(t,e){let n="";return e.length>0&&(n=e.join(", ")),"**"+t+"** `"+n+"`  \n"}function zc(t){let e=iO(t.name,t.acceptsType),n="";if(t.parameters.length>0){let s=[];t.parameters.forEach(a=>{s.push("$"+a.name)}),n=s.join(", ")}let r="";if(t.returnsType.length==1)r=t.returnsType[0];else{let s=[];t.returnsType.forEach(a=>{s.push(a)}),r=s.join(", ")}return e+=t.description+`
`,e+="```js\n",e+="function "+t.name+"("+n+"):"+r,e+="\n```",t.docLink!=null&&t.docLink.trim().length>0&&(e+=`  

`,e+="[Documentation Reference]("+t.docLink+")"),{label:t.name,insertText:t.name,documentation:{kind:xo.MarkupKind.Markdown,value:e},kind:xo.CompletionItemKind.Function}}function Xc(t){let e=[];for(let n=0;n<t.length;n++)typeof t[n].name!="undefined"&&e.push(km(t[n]));return e}function km(t){let e="",n=t.name;return t.instructionText!=null&&(e=t.instructionText),t.displayName!=null&&(n=t.displayName+" ("+t.name+")"),t.blueprintName!=null&&(e.trim().length>0&&(e+=`
`),e+="Blueprint: "+t.blueprintName),t.type!=null&&(n+=": "+t.type),{label:t.name,insertText:t.name,kind:xo.CompletionItemKind.Field,documentation:e,detail:n}}function $e(t,e,n,r){let i="**"+t+"**  ";return i+=`
`,i+=e+"  ",i+="\n```antlers\n",i+=n,i+="\n```",r!=null&&(i+=`

`,i+="[Documentation Reference]("+r+")"),i}function U(t,e,n){let r="**"+t+"**  ";return r+=`
`,r+=e+"  ",n!=null&&(r+=`

`,r+="[Documentation Reference]("+n+")"),r}function Ro(t){let e=[];return t=="order"&&e.push("sort"),e}var pv=["replicator","bard"];function sO(t){return{blueprintName:t.sourceName,displayName:t.name,instructionText:"",maxItems:-1,name:t.name,refFieldSetField:null,type:t.dataType,sets:null,import:null}}function Qc(t){let e=[];for(let n=0;n<t.length;n++)e.push(sO(t[n]));return e}function Mm(t,e=""){return{blueprintName:"fieldset",displayName:e+t.name,instructionText:t.instructionText,maxItems:t.maxItems,name:e+t.handle,type:t.type,refFieldSetField:t,sets:t.sets,import:t.import}}function dv(t,e,n){return t=="select"&&typeof e.field.multiple!="undefined"&&e.field.multiple===!0&&(t="select_multiple"),(typeof e.field.multiple=="undefined"||n>1)&&(t=="form"?t="form_multiple":t=="sites"?t="sites_multiple":t=="taxonomies"?t="taxonomies_multiple":t=="user_groups"?t="user_groups_multiple":t=="user_roles"?t="user_roles_multiple":t=="terms"?t="terms_multiple":t=="users"?t="users_multiple":t=="structures"&&(t="structures_multiple")),t}function mv(t){let e=[];for(let n=0;n<t.length;n++)e.push(Mm(t[n]));return e}function dt(t){return[{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"count",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"index",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"order",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t}]}function hv(t,e,n){if(typeof n=="undefined"||n===null)return;let r=t.findParameter("as"),i=t.findParameter("scope");n=n.concat(Qc(dt(t))),r!=null&&i!=null?e.introduceScopedAliasScope(t,i.value,r.value,n):r!=null?e.introduceAliasScope(t,r.value,n):i!=null?e.introduceDynamicScopeList(t,i.value,n):e.addBlueprintFields(t,n)}function gv(t){return[{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.collection.context",introducedBy:t},{name:"total_results",dataType:"integer",sourceField:null,sourceName:"*internal.collection.context",introducedBy:t}]}var Ai=le(wt());var Ms=[{isRequired:!1,name:"from",description:"The collection name to retrieve entries from",aliases:["folder","use"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"not_from",aliases:["not_folder","dont_use"],description:"The collections to exclude when retrieving entries",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"show_unpublished",aliases:null,description:"Controls whether unpbulished entries are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"show_published",aliases:null,description:"Controls whether published entries are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"show_past",aliases:null,description:"Controls whether to display entries with a past date",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"since",aliases:null,description:"Sets the minimum date an entry can have to be returned",acceptsVariableInterpolation:!0,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"until",aliases:null,description:"Sets the maximum date an entry can have to be returned",acceptsVariableInterpolation:!0,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies the entry sort order",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"limit",aliases:null,description:"Sets the maximum number of entries to return",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["integer"],isDynamic:!1},{isRequired:!1,name:"filter",aliases:["query_scope"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Specifies a custom query scope",expectsTypes:["string"],isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets the amount that entry results should be offset by",expectsTypes:["integer"],isRequired:!1,name:"offset",isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets whether not to paginate entry results",expectsTypes:["boolean","number"],isRequired:!1,name:"paginate",isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies a name to give to a new entries array variable",expectsTypes:["string"],isRequired:!1,name:"as",isDynamic:!1},{name:"scope",aliases:null,acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Sets a prefix on all entry variables",expectsTypes:["string"],isRequired:!1,isDynamic:!1},{name:"locale",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies the locale in which to retrieve entry content",expectsTypes:["string"],isRequired:!1,isDynamic:!1},{name:"redirects",aliases:["links"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Controls whether entries with redirects are returned",expectsTypes:["boolean"],isRequired:!1,isDynamic:!1}],_v=["from","folder","use"],yv=["not_from","not_folder","dont_use"],bv=["draft","scheduled","expired","published"];function Tv(t){let e=[];if(t.project!=null){let n={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position},r=t.project.getUniqueTaxonomyNames();for(let i=0;i<r.length;i++){let s=r[i],a=t.originalLeftWord+s+'="$1"';e.push({label:t.originalLeftWord+s,insertTextFormat:Ai.InsertTextFormat.Snippet,kind:Ai.CompletionItemKind.Field,textEdit:Ai.TextEdit.replace(n,a),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}return e}function wo(t,e){let n=[];if(t.reference!=null){let r=t.reference,i=e.statamicProject.getBlueprintFields(r.collectionNames);typeof i!="undefined"&&i!=null&&(n=i)}return n}function vv(t){let e=[],n=bv.filter(r=>!t.includes(r));for(let r=0;r<n.length;r++)e.push({label:n[r],kind:Ai.CompletionItemKind.Variable});return e}function Nv(t,e,n){let r=[],i=n.getTaxonomyTerms(e),s=i.filter(a=>!t.includes(a));for(let a=0;a<s.length;a++)r.push({label:s[a],kind:Ai.CompletionItemKind.Variable});return r}function Cv(t){let e=[],n=t.getCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:Ai.CompletionItemKind.Variable});return e}function Oo(t,e){let n=[],r=e.getCollectionNames().filter(i=>!t.includes(i));for(let i=0;i<r.length;i++)n.push({label:r[i],kind:Ai.CompletionItemKind.Variable});return n}function Jc(t){let e=[],n=t.getCollectionQueryScopes();for(let r=0;r<n.length;r++)e.push({label:n[r].name,detail:n[r].description,kind:Ai.CompletionItemKind.Variable});return e}function Fo(t,e){if(t.isClosingTag)return e;if(t.hasMethodPart()&&t.getMethodNameValue()!="count"&&e.addVariables(gv(t)),t.reference!=null){let n=wo(t,e);hv(t,e,n)}return e}var pu=le(Cn());var Zc=le(wt());var Bm=[{name:"is",description:"Tests if a field is equal to a value"},{name:"equals",description:"Tests if a field is equal to a value"},{name:"not",description:"Tests if a field is not equal to a value"},{name:"isnt",description:"Tests if a field is not equal to a value"},{name:"exists",description:"Tests if a field exists"},{name:"isset",description:"Tests if a field exists"},{name:"doesnt_exist",description:"Tests if a field does not exist"},{name:"is_empty",description:"Tests if a field does not exist"},{name:"null",description:"Tests if a field does not exist"},{name:"contains",description:"Tests if a field contains a value"},{name:"doesnt_contain",description:"Tests if a field does not contain a value"},{name:"in",description:"Tests if a value is in an array"},{name:"not_in",description:"Tests if an array does not contain a value"},{name:"starts_with",description:"Tests if a field starts with a value"},{name:"doesnt_start_with",description:"Tests if a field does not start with a value"},{name:"ends_with",description:"Tests if a field ends with a value"},{name:"doesnt_end_with",description:"Tests if a field does not end with a value"},{name:"gt",description:"Tests if a field is greater than a value"},{name:"lt",description:"Tests if a field is less than a value"},{name:"gte",description:"Tests if a field is greater than or equal to a value"},{name:"lte",description:"Tests if a field is less than or equal to a value"},{name:"matches",description:"Tests if a field matches a case insensitive regex"},{name:"regex",description:"Tests if a field matches a case insensitive regex"},{name:"doesnt_match",description:"Tests if a field does not match a case insensitive regex"},{name:"is_alpha",description:"Tests if a field contains only alphabetical characters"},{name:"is_numeric",description:"Tests if a field contains only numeric characters"},{name:"is_alpha_numeric",description:"Tests if a field contains only alpha-numeric characters"},{name:"is_url",description:"Tests if a field is a valid URL"},{name:"is_embeddable",description:"Tests if a field is an embeddable video URL"},{name:"is_email",description:"Tests if a field is a valid email address"},{name:"is_after",description:"Tests if a field is after a given date"},{name:"is_before",description:"Tests if a field is before a given date"}];function Bs(t){let e=[],n={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position};for(let r=0;r<Bm.length;r++){let i=Bm[r],s=t.originalLeftWord+i.name+'="$1"';e.push({label:i.name,insertTextFormat:Zc.InsertTextFormat.PlainText,kind:Zc.CompletionItemKind.Field})}return e}var sn=le(Vn());var Pa=class{static clear(e){this.unclosedNodes.delete(e)}static registerNodes(e,n){this.unclosedNodes.set(e,n)}static getUnclosedTags(e,n){var a,o,l;let r=[];if(this.unclosedNodes.has(e)==!1)return r;let i=this.unclosedNodes.get(e);if(i.length==0)return r;let s=n.line+1;for(let u=0;u<i.length;u++){let c=i[u];(((a=c.endPosition)==null?void 0:a.line)==s&&n.character>c.endPosition.char||s>((l=(o=c.endPosition)==null?void 0:o.line)!=null?l:0))&&r.push(c)}return r}static hasUnclosedTags(e,n){return this.unclosedNodes.has(e)==!1?!1:this.getUnclosedTags(e,n).length>0}};Pa.unclosedNodes=new Map;var Pv=["edit_url","id","last_modified","permalink","published","slug","template","url"];function qs(t){return[{name:"edit_url",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"id",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"last_modified",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"permalink",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"published",dataType:"boolean",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"slug",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"template",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t}]}var vr=le(Cn()),Dv=[{label:"name",kind:vr.CompletionItemKind.Property},{label:"description",kind:vr.CompletionItemKind.Property},{label:"desc",kind:vr.CompletionItemKind.Property},{label:"entry",kind:vr.CompletionItemKind.Property},{label:"collection",kind:vr.CompletionItemKind.Property},{label:"blueprint",kind:vr.CompletionItemKind.Property},{label:"var",kind:vr.CompletionItemKind.Property},{label:"set",kind:vr.CompletionItemKind.Property},{label:"param",kind:vr.CompletionItemKind.Property},{label:"param*",kind:vr.CompletionItemKind.Property},{label:"front",kind:vr.CompletionItemKind.Property},{label:"format",kind:vr.CompletionItemKind.Property}];var ef=le(wt()),aO=[{label:"if",kind:ef.CompletionItemKind.Keyword},{label:"elseif",kind:ef.CompletionItemKind.Keyword},{label:"else",kind:ef.CompletionItemKind.Keyword}],Sv=aO;var Lo=le(Cn()),Iv=le(wt());var qm=class{static getCompletions(e,n){var a;let r=[],i=0;e.leftWord!=e.leftMeaningfulWord&&(i=e.leftWord.length);let s={start:{line:e.position.line,character:e.position.character-i},end:e.position};return(a=tt.instance)==null||a.getModifiersForType(n.dataType).filter(o=>o.canBeParameter).forEach(o=>{r.push({label:o.name,documentation:{kind:Iv.MarkupKind.Markdown,value:o.description},insertTextFormat:Lo.InsertTextFormat.Snippet,kind:Lo.CompletionItemKind.Value,textEdit:Lo.TextEdit.replace(s,o.name+'="$1" '),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}),r}};var Vm=le(wt()),ko=[];ko.push({label:"true",kind:Vm.CompletionItemKind.Keyword});ko.push({label:"false",kind:Vm.CompletionItemKind.Keyword});function Ev(t){let e=[];for(let n=0;n<t.expectsTypes.length;n++)t.expectsTypes[n]=="boolean"&&(e=e.concat(ko));return e}function _t(t){return[{sourceName:"*internal.array",sourceField:null,dataType:"*",name:"value",introducedBy:t},{sourceName:"*internal.array",sourceField:null,dataType:"*",name:"key",introducedBy:t}]}var oO={name:"array",augmentScope:(t,e)=>{e.addVariables(_t(t)),e.addVariables(dt(t))}},Av=oO;var lO={name:"bard",augmentScope:(t,e)=>{e.addVariable({name:"type",dataType:"string",sourceField:null,sourceName:"*internal.bard",introducedBy:t})},injectCompletions:(t,e,n)=>[]},xv=lO;var uO={name:"form_multiple",augmentScope:(t,e)=>{e.addVariables(_t(t)),e.addVariables(dt(t))}},Rv=uO;var cO={name:"list",augmentScope:(t,e)=>{e.addVariables(_t(t)),e.addVariables(dt(t))}},wv=cO;function Ov(t){return[{name:"type",dataType:"string",sourceName:"*internal.replicator",sourceField:null,introducedBy:t}]}var fO={name:"replicator",augmentScope:(t,e)=>{e.addVariables(Ov(t)),e.addVariables(dt(t))},injectCompletions:(t,e,n)=>[]},Fv=fO;var pO={name:"select_multiple",augmentScope:(t,e)=>{e.addVariables(_t(t)),e.addVariables(dt(t))}},Lv=pO;var dO={name:"sites_multiple",augmentScope:(t,e)=>{e.addVariables(_t(t)),e.addVariables(dt(t))}},kv=dO;var mO={name:"structures_multiple",augmentScope:(t,e)=>{e.addVariables(_t(t)),e.addVariables(dt(t))}},Mv=mO;var hO={name:"table",augmentScope:(t,e)=>{e.addVariable({name:"cells",dataType:"array",sourceName:"*internal.fieldtype.table",sourceField:null,introducedBy:t})}},Bv=hO;var gO={name:"tags",augmentScope:(t,e)=>{e.addVariables(_t(t)),e.addVariables(dt(t))}},qv=gO;function tf(t){return qs(t).concat([{name:"entries_count",dataType:"number",sourceName:"*internal.term",sourceField:null,introducedBy:t},{name:"is_term",dataType:"boolean",sourceName:"*internal.term",sourceField:null,introducedBy:t},{name:"taxonomy",dataType:"string",sourceName:"*internal.term",sourceField:null,introducedBy:t}])}var _O={name:"taxonomies_multiple",augmentScope:(t,e)=>{e.addVariables(_t(t)),e.addVariables(dt(t)),e.addVariables(tf(t))}},Vv=_O;var yO={name:"terms_multiple",augmentScope:(t,e)=>{e.addVariables(_t(t)),e.addVariables(dt(t)),e.addVariables(tf(t))}},jv=yO;var bO={name:"user_groups_multiple",augmentScope:(t,e)=>{e.addVariables(_t(t)),e.addVariables(dt(t))}},Uv=bO;var TO={name:"user_roles_multiple",augmentScope:(t,e)=>{e.addVariables(_t(t)),e.addVariables(dt(t))}},Wv=TO;var vO={name:"users_multiple",augmentScope:(t,e)=>{e.addVariables(_t(t)),e.addVariables(dt(t)),e.injectBlueprint(t,"user")}},Gv=vO;var NO={name:"yaml",augmentScope:(t,e)=>{e.addVariables(_t(t)),e.addVariables(dt(t))}},Hv=NO;var CO=[Av,xv,Rv,wv,Fv,Lv,kv,Mv,Hv,Bv,Vv,qv,jv,Gv,Uv,Wv],Yv=CO;var Vs=class{constructor(){this.fieldTypes=new Map}getFieldTypes(){return this.fieldTypes}getFieldType(e){return this.fieldTypes.get(e)}registerFieldtypes(e){for(let n=0;n<e.length;n++)this.fieldTypes.set(e[n].name,e[n])}loadCoreFieldtypes(){this.registerFieldtypes(Yv)}hasFieldtype(e){return this.fieldTypes.has(e)}};Vs.instance=null;(typeof Vs.instance=="undefined"||Vs.instance==null)&&(Vs.instance=new Vs,Vs.instance.loadCoreFieldtypes());var Mo=Vs;var jm=class{static getVariableSuggestions(e,n){var i,s;let r=[];if(n.scopeVariable!=null&&n.scopeVariable.sourceField!=null&&((i=Mo.instance)==null?void 0:i.hasFieldtype(n.scopeVariable.sourceField.type))){let a=(s=Mo.instance)==null?void 0:s.getFieldType(n.scopeVariable.sourceField.type);a.injectCompletions!=null&&(r=a.injectCompletions(e,n.scopeVariable.sourceField,n))}return r}};var PO=["if","elseif","unless","elseunless"],DO=["else","/if"];function $v(t,e){var l,u,c,f,d,m,p,h;let n=(u=(l=t.startPosition)==null?void 0:l.line)!=null?u:-1,r=(f=(c=t.endPosition)==null?void 0:c.line)!=null?f:1,i=(m=(d=t.startPosition)==null?void 0:d.char)!=null?m:-1,s=(h=(p=t.endPosition)==null?void 0:p.char)!=null?h:-1,a=e.line+1,o=e.character+1;return n==r&&a==n+1&&o>i&&o<=s||a==n&&o>i&&o<=s||a==r&&o<s||a>n&&a<r}function nf(t){let e="";return t.currentNode!=null&&(e=t.currentNode.getMethodNameValue()),e}function ds(t){if(t.includes(":")==!1)return t;let e=t.split(":");return e.length>1?e[e.length-1]:e[0].trim()}function rf(t){return t.includes(":")==!1?t:t.split(":")[0]}function Kv(t){var n;if(t.nodesInScope.length==0)return[];let e=t.nodesInScope[t.nodesInScope.length-1];return((n=t.context)==null?void 0:n.node)!=null&&(e=t.context.node),e.currentScope==null?[]:Da(t,e.currentScope)}function Da(t,e){let n=[];return e.values.forEach(r=>{var i;if(r.sourceField!=null?n.push({label:r.name,detail:r.sourceField.blueprintName,documentation:(i=r.sourceField.instructionText)!=null?i:"",kind:sn.CompletionItemKind.Field}):n.push(ks(r.name,"","")),r.dataType.trim().length>0&&r.dataType=="array"){let s=r.name+` }}
    $1
{{ /`+r.name+" ",a={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position};n.push({label:r.name+" loop",insertTextFormat:sn.InsertTextFormat.Snippet,kind:sn.CompletionItemKind.Snippet,textEdit:sn.TextEdit.replace(a,s),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}),e.lists.forEach((r,i)=>{n.push(ks(i,"",""))}),n}function SO(){var e;let t=[];return(e=tt.instance)==null||e.getRegisteredModifiers().forEach(n=>{n.isDeprecated||t.push(zc(n))}),t}var Um=class{static getSuggestions(e){var s,a,o,l,u,c,f,d,m,p,h,_,g,b,y,T,C,W,F,L,H,G,Q,re,ye,he,oe,Ae,ut,Lt,Ye,ct,_e,we;if(e==null)return[];if(e.context!=null&&e.context.node!=null&&e.context.node.isComment)return e.context.node.antlersNodeIndex==1?Dv:[];if(e.nodesInScope.length==0)return[];if(e.leftMeaningfulWord==null&&e.leftChar=="/"){let se=Pa.getUnclosedTags(e.document,e.position);if(se.length>0){let V=[],pe="";e.rightChar=="}"&&(pe=" ");for(let ae=0;ae<se.length;ae++)V.push({label:se[ae].runtimeName()+pe,kind:sn.CompletionItemKind.Text});return V}}let n=e.nodesInScope[e.nodesInScope.length-1];if(n instanceof da)return[];let r=[],i=!0;if(n.currentScope!=null&&((s=e.context)==null?void 0:s.variableContext)!=null&&e.context.variableContext.varPathText.length>0){if(n.currentScope.hasListInHistory(e.context.variableContext.varPathText)){let se=n.currentScope.getList(e.context.variableContext.varPathText);se!=null&&Da(e,se).forEach(V=>{r.push({...V,sortText:"00"})})}else if(n.currentScope.containsPath(e.context.variableContext.varPathText)){let se=n.currentScope.findNestedScope(e.context.variableContext.varPathText);se!=null&&Da(e,se).forEach(V=>{r.push({...V,sortText:"00"})})}}if(((a=e.context)==null?void 0:a.modifierContext)!=null&&(e.context.modifierContext.inModifierName||e.context.modifierContext.inModifierName==!1&&e.context.modifierContext.inModifierParameter==!1||e.context.feature==null||e.leftChar=="|"&&e.context.char==" ")&&(r=r.concat(SO())),e.nodesInScope.length>=2){let se=e.nodesInScope.length-2,V=[];for(let pe=se;pe>=0;pe--){let ae=e.nodesInScope[pe];V=V.concat(jm.getVariableSuggestions(e,ae))}V.length>0&&(r=r.concat(V))}if((((o=e.currentNode)==null?void 0:o.isEmpty())||((l=e.context)==null?void 0:l.isCursorInIdentifier)&&e.leftChar!=":"&&e.leftChar!=" ")&&((u=e.context)==null?void 0:u.modifierContext)==null){let se=(f=(c=Ue.instance)==null?void 0:c.getVisibleTagsWithDocumentation())!=null?f:[],V=[],pe=[];for(let ae=0;ae<se.length;ae++){let ve="000";if(e.leftWord!=null&&se[ae].label.startsWith(e.leftWord)==!1&&(ve="001"),((d=e.context)==null?void 0:d.node)!=null&&((m=e.context)==null?void 0:m.node.parent)!=null&&(ve=void 0),se[ae].label.includes(":")==!1)V.includes(se[ae].label)==!1&&(pe.push({label:se[ae].label,kind:sn.CompletionItemKind.Text,documentation:{kind:"markdown",value:se[ae].documentation},sortText:ve}),V.push(se[ae].label));else{let ft=se[ae].label.split(":")[0];V.includes(ft)==!1&&(pe.push({label:ft,kind:sn.CompletionItemKind.Text,documentation:{kind:"markdown",value:se[ae].documentation},sortText:ve}),V.push(ft))}}r=r.concat(pe)}if(n!=null&&n.currentScope!=null){if(DO.includes(n.getTagName()))return[];if(((p=e.context)==null?void 0:p.node)==null)return[];if(e.antlersDocument!=null){let se=e.antlersDocument.cursor.getAssignmentsBefore(e.position.line,e.position.character);se.length>0&&se.forEach(V=>{V.target instanceof Ne&&r.push({label:V.target.name,kind:sn.CompletionItemKind.Variable})})}if(PO.includes(n.getTagName())&&e.context.feature!=null&&e.context.feature instanceof Wt&&e.context.feature.prev instanceof Yn&&e.context.feature.prev.prev instanceof Ne){let se=n.getParser();if(se!=null&&e.project!=null&&se.getLanguageParser().isMergedVariableComponent(e.context.feature.prev.prev)){let pe=se.getLanguageParser().getMergedVariable(e.context.feature.prev.prev),ae=[];return pe.name=="collection:handle"?ae=e.project.getUniqueCollectionNames():pe.name=="site:handle"?ae=e.project.getSiteNames():pe.name=="blueprint:handle"&&(ae=e.project.getBlueprintNames()),ae.forEach(ve=>{r.push({label:ve,sortText:ve,kind:sn.CompletionItemKind.EnumMember})}),r}if(["collection","current_template","status","blueprint","response_code"].includes(e.context.feature.prev.prev.name)){if(e.project!=null){let pe=e.context.feature.prev.prev.name,ae=[];return pe=="collection"?ae=e.project.getUniqueCollectionNames():pe=="current_template"?ae=e.project.getTemplateNames():pe=="status"?ae=["draft","scheduled","expired","published"]:pe=="blueprint"?ae=e.project.getBlueprintNames():pe=="response_code"&&(ae=["404","200"]),ae.forEach(ve=>{r.push({label:ve,sortText:ve,kind:sn.CompletionItemKind.EnumMember})}),r}}else if(e.context.feature.prev.prev.scopeVariable!=null){let pe=e.context.feature.prev.prev.scopeVariable.dataType;if(pe=="replicator"||pe=="bard"){let ae=e.context.feature.prev.prev.scopeVariable.sourceField;return(h=ae.sets)==null||h.forEach(ve=>{let ft="**"+ve.displayName+"** `"+ve.handle+"`  ";ft+=`

 Blueprint: \``+ae.blueprintName+"`  \n",ve.fields.forEach(An=>{ft+=`
 * `+An.displayName+" `"+An.name+":"+An.type+"`  "}),pe=="replicator"?ft+=`

 [Replicator Templating Documentation](https://statamic.dev/fieldtypes/replicator#templating)`:ft+=`

 [Bard Templating Documentation](https://statamic.dev/fieldtypes/bard#with-sets)`,r.push({label:ve.displayName,insertText:ve.handle,sortText:"000",documentation:{kind:"markdown",value:ft},kind:sn.CompletionItemKind.EnumMember})}),r}}}if(n.isTagNode==!1){r=r.concat(Sv);let se={start:{line:e.position.line,character:e.position.character-e.originalLeftWord.length},end:e.position},V=`if $1 }}
    $2
{{ else }}

{{ /if `;r.push({label:"ifelse",insertTextFormat:sn.InsertTextFormat.Snippet,kind:sn.CompletionItemKind.Snippet,textEdit:sn.TextEdit.replace(se,V),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}),n.scopeVariable!=null&&(r=r.concat(qm.getCompletions(e,n.scopeVariable)))}if(n.currentScope.hasListInHistory(n.runtimeName())==!1&&n.currentScope.hasPristineReference(n.runtimeName())==!1?i=(g=(_=Ue.instance)==null?void 0:_.injectParentScope(n.runtimeName()))!=null?g:!1:i=!1,((b=e.context)==null?void 0:b.parameterContext)!=null&&e.context.parameterContext.parameter!=null&&(e.context.parameterContext.parameter.isVariableReference==!1?i=!1:i=!0),e.currentNode!=null&&(e.currentNode.isEmpty()||e.currentNode.parent!=null)&&(i=!0),n.runtimeName().includes(":")&&n.currentScope.containsPath(ai(n.runtimeName(),":"))){let se=ai(n.runtimeName(),":"),V=Br(ai(e.leftWord,":"),"{");if(se==V){let pe=n.currentScope.findNestedScope(se);if(pe!=null)return pe.lists.forEach((ae,ve)=>{r.push(ks(ve,"",""))}),pe.values.forEach(ae=>{var ve;ae.sourceField!=null?r.push({label:ae.name,detail:ae.sourceField.blueprintName,documentation:(ve=ae.sourceField.instructionText)!=null?ve:"",kind:sn.CompletionItemKind.Field}):r.push(ks(ae.name,"",""))}),r}}if(n.isTagNode){if(e.isInVariableInterpolation&&e.currentNode==null)r=r.concat(Da(e,n.currentScope.ancestor()));else if(((y=e.context)==null?void 0:y.parameterContext)!=null&&e.context.parameterContext.parameter!=null){let se=e.context.parameterContext.parameter;if(se.isVariableReference&&e.position.character<=((W=(C=(T=se.valuePosition)==null?void 0:T.end)==null?void 0:C.char)!=null?W:-1)){if(r=r.concat(Da(e,n.currentScope.ancestor())),Ue.instance!=null){let V=Ue.instance.getCompletionItems(e);r=r.concat(V.items)}}else if(e.position.character<=((H=(L=(F=se.valuePosition)==null?void 0:F.end)==null?void 0:L.char)!=null?H:-1)){let V=null,pe=!1;if((G=Ue.instance)==null?void 0:G.canResolveDynamicParameter(n.runtimeName())){let ae=Ue.instance.findTag(n.runtimeName());typeof ae!="undefined"&&typeof ae.resolveDynamicParameter!="undefined"&&ae.resolveDynamicParameter!=null&&(V=ae.resolveDynamicParameter(n,se.name),pe=!0)}else V=(re=(Q=Ue.instance)==null?void 0:Q.getParameter(n.runtimeName(),se.name))!=null?re:null;if(V==null&&pe&&(V=(he=(ye=Ue.instance)==null?void 0:ye.getParameter(n.runtimeName(),se.name))!=null?he:null),typeof V!="undefined"&&V!==null){let ae=(Ae=(oe=Ue.instance)==null?void 0:oe.resolveParameterCompletions(n.runtimeName(),V,e))!=null?Ae:null;ae!==null&&ae.items.length>0?ae.items.forEach(ve=>{ve.sortText="000",r.push(ve)}):Ev(V).forEach(ve=>{ve.sortText="000",r.push(ve)})}if(se.hasInterpolations()&&e.isInVariableInterpolation&&n.isTagNode){let ae=(ut=Ue.instance)==null?void 0:ut.findTag(n.runtimeName());if(ae.resolveCompletionItems!=null){let ve=ae.resolveCompletionItems(e);ve.items.length>0&&(r=ve.items)}}}}else if(e.isInVariableInterpolation==!1||e.currentNode==n){let se=$v(n,e.position);if(e.isCaretInTag=se,e.currentNode=n,Ue.instance!=null){let V=Ue.instance.getCompletionItems(e);V.isExclusive?r=V.items:r=r.concat(V.items)}}}else e.isInVariableInterpolation&&e.currentNode==null&&(r=r.concat(Da(e,n.currentScope.ancestor())));if(i){e.context.node!=null&&e.context.node.currentScope!=null&&(e.context.modifierContext==null||e.context.modifierContext.activeModifier==null)&&(r=r.concat(Da(e,e.context.node.currentScope)));let se=decodeURIComponent(e.document);if(e.project.hasViewCollectionInjections(se)){let V=e.project.getCollectionNamesForView(se);for(let pe=0;pe<V.length;pe++){let ae=e.project.getBlueprintFields(V);if(ae.length>0)for(let ve=0;ve<ae.length;ve++){let ft=ae[ve];r.push({label:ft.name,detail:ft.blueprintName,documentation:(Lt=ft.instructionText)!=null?Lt:"",kind:sn.CompletionItemKind.Field})}}Pv.forEach(pe=>{r.push({label:pe,kind:sn.CompletionItemKind.Field})})}}return e.context.node!=null&&(e.context.node.manifestType=="array"&&e.context.node.isClosedBy!=null?e.context.modifierContext!=null&&((ct=(Ye=tt.instance)==null?void 0:Ye.getModifiersForType("array"))!=null?ct:[]).forEach(V=>{if(V.isDeprecated)return;let pe=zc(V);pe.sortText="000",r.push(pe)}):e.context.modifierContext!=null&&((we=(_e=tt.instance)==null?void 0:_e.getModifiersForType(e.context.node.manifestType))!=null?we:[]).forEach(V=>{if(V.isDeprecated)return;let pe=zc(V);pe.sortText="000",r.push(pe)})),r}for(let se=0;se<e.nodesInScope.length;se++){let V=e.nodesInScope[se],pe=!0;if(e.isInVariableInterpolation&&e.currentNode!==null&&V.currentScope!=null&&e.currentNode.currentScope!=null&&V.currentScope.generation>e.currentNode.currentScope.generation&&(pe=!1),V.isTagNode&&pe){let ae=$v(V,e.position);if(e.isCaretInTag=ae,e.currentNode=V,Ue.instance!=null){let ve=Ue.instance.getCompletionItems(e);if(ve.isExclusive){r=ve.items;break}r=r.concat(ve.items)}continue}}return r}};var zv=le(Cn());function Be(t){let e="";typeof t!="undefined"&&typeof t.resolveDocumentation!="undefined"&&t.resolveDocumentation!=null&&(e=t.resolveDocumentation());let n=t.tagName;if(n.includes(":")){let r=n.split(":");n=r[r.length-1]}return{label:n,kind:zv.CompletionItemKind.Text,sortText:"1",documentation:{kind:"markdown",value:e}}}var Wm=le(wt());function Xv(t,e,n){return{name:t,acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:e,expectsTypes:["string"],isDynamic:!0,isRequired:!1,documentationLink:n,docLinkName:"MDN Reference"}}var Qv=Xv("class","A space-separated list of the classes of the element.","https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/class"),Jv=Xv("style","Contains CSS styling declarations to be applied to the element. Note that it is recommended for styles to be defined in a separate file or files.","https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/style");function sf(t){return t=="class"?Qv:t=="style"?Jv:{name:t,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"",expectsTypes:["string","number","array"],isRequired:!1,isDynamic:!0}}function Zv(t){let e=[];for(let n=0;n<t.length;n++)e.push({label:t[n],kind:Wm.CompletionItemKind.Field});return de(e)}function Bt(t){let e=[];for(let n=0;n<t.length;n++)e.push({label:t[n],kind:Wm.CompletionItemKind.Field});return de(e)}function de(t){return{items:t,isExclusiveResult:!0,analyzeDefaults:!1}}function jn(t){return{items:t,isExclusiveResult:!1,analyzeDefaults:!0}}var Oe={items:[],isExclusiveResult:!1,analyzeDefaults:!0};function Pt(t,e){let n=IO(t);return n.tagName=e,n}function IO(t){return{allowsArbitraryParameters:t.allowsArbitraryParameters,allowsContentClose:t.allowsContentClose,injectParentScope:t.injectParentScope,parameters:t.parameters,requiresClose:t.requiresClose,tagName:t.tagName,introducedIn:t.introducedIn,hideFromCompletions:t.hideFromCompletions,augmentScope:t.augmentScope,requiresCloseResolver:t.requiresCloseResolver,resolveCompletionItems:t.resolveCompletionItems,resolveDynamicParameter:t.resolveDynamicParameter,resolveSpecialType:t.resolveSpecialType,resovleParameterCompletionItems:t.resovleParameterCompletionItems,suggestAlternativeParams:t.suggestAlternativeParams,resolveDocumentation:t.resolveDocumentation}}function e0(t){return t.findParameterValueOrNull("scope")}function t0(t){t.getAllNodes().forEach(n=>{n instanceof K&&n.manifestType==="array"&&(n.mustClose=!0)})}function EO(t){return t.findParameterValueOrNull("as")}var AO=["count","next","previous"];function xO(t,e){let n=[];if(t.hasMethodPart()){let o=t.getMethodNameValue();if(AO.includes(o)==!1)return n.push(o),n}let r=t.findAnyParameter(_v),i=t.findAnyParameter(yv),s=[],a=[];return typeof r!="undefined"&&r!==null&&(r.value.trim()==="*"?(s=e.getUniqueCollectionNames(),typeof i!="undefined"&&i!==null&&i.isVariableReference==!1&&i.hasInterpolations()==!1&&(a=i.getArrayValue())):r.isVariableReference==!1&&r.hasInterpolations()==!1&&(s=r.getArrayValue())),a.length>0?n=s.filter(function(o){return a.includes(o)==!1}):n=s,n}function js(t,e){var u,c,f,d,m,p;let n=xO(t,e),r=!1,i=!1,s=!1,a=null,o="";if(t.isClosingTag==!1){let h=EO(t),_=e0(t);h!=null&&(r=!0,o=h),_!=null&&(s=!0,a=_),i=t.hasParameter("paginate")}return{context:{collectionNames:n!=null?n:[],endPosition:(c=(u=t.endPosition)==null?void 0:u.char)!=null?c:0,aliasName:o,isAliased:r,isScoped:s,scopeName:a,isStartOfScope:!t.isClosingTag,line:(d=(f=t.startPosition)==null?void 0:f.line)!=null?d:0,startPosition:(p=(m=t.startPosition)==null?void 0:m.char)!=null?p:0,isPaginated:i,excludeCollections:[],includeCollections:[]},issues:[]}}function Bo(t,e){if(t==null)return null;let n=Br(e,":");return n.includes(":")&&(n=n.split(":")[0]),n=="status"||n=="taxonomy"||t.currentScope!=null&&t.currentScope.containsReference(n)?sf(e):null}var RO=["from","folder","use","not_from","not_folder"],wO=["previous","next"],OO=["in","collection"];function Us(t,e){var n,r,i,s,a,o,l,u,c,f;if(t.isDynamic){let d=rf(t.name);if(e.nodesInScope.length>0){let m=e.nodesInScope[e.nodesInScope.length-1];if(m!=null&&m.currentScope!=null){let p=wo(m,m.currentScope),h=p.map(g=>g.name),_=ds(e.leftWord);if(h.includes(_))return de(Bs(e))}}if(d=="status"&&((n=e.context)==null?void 0:n.parameterContext)!=null)return de(vv((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[]));if(d=="taxonomy"){let m=ds(t.name);if(e.project.hasTaxonomy(m)&&((s=e.context)==null?void 0:s.parameterContext)!=null)return de(Nv((o=(a=e.context.parameterContext.parameter)==null?void 0:a.getArrayValue())!=null?o:[],m,e.project))}}if(t.name=="filter"||t.name=="query_scope")return de(Jc(e.project));if(e.nodesInScope.length>0){let d=e.nodesInScope[e.nodesInScope.length-1];if(d.hasMethodPart()&&wO.includes(d.getMethodNameValue())&&OO.includes(t.name))return de(Cv(e.project))}return RO.includes(t.name)&&((l=e.context)==null?void 0:l.parameterContext)!=null?de(Oo((f=(c=(u=e.context)==null?void 0:u.parameterContext.parameter)==null?void 0:c.getArrayValue())!=null?f:[],e.project)):null}var FO={tagName:"collection:previous",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...Ms,{name:"in",aliases:["collection"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The collection to search in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"current",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets the current entry by ID",expectsTypes:["string"],isDynamic:!1,isRequired:!1}],augmentScope:Fo,resolveDynamicParameter:Bo,resolveSpecialType:js,suggestAlternativeParams:Ro,resovleParameterCompletionItems:Us,resolveCompletionItems:qo,resolveDocumentation:t=>$e("collection:previous Tag","The `collection:previous` tag is used to show the entries that appear before the current entry, based on some entry order (publish date, alphabetical, or manual).",`{{# Retrieve the previous two entries, based on dates in ascending order. #}}
{{ collection:previous in="articles" limit="2" sort="date:asc" }}

{{ /collection:previous }}`,"https://statamic.dev/tags/collection-previous")},Sa=FO;var af=Pt(Sa,"collection:older"),of=Pt(Sa,"collection:newer");var LO={tagName:"collection:count",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...Ms,{isRequired:!0,name:"in",aliases:["from"],description:"The collection from which to count entries",acceptsVariableInterpolation:!0,allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1}],resolveSpecialType:js,resovleParameterCompletionItems:Us,resolveDocumentation:t=>$e("collection:count Tag","The `collection:count` tag returns the total number of entries in the specified collection(s). The collection count tag accepts the same parameters as the collection tag, allowing developers to count entries that meet specific conditions.",`Total entry count: {{ collection:count in="collection-name" }}
Draft count: {{ collection:count in="collection-name" status:in="draft" }}`,"https://statamic.dev/tags/collection-count")},lf=LO;var kO={tagName:"collection:next",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...Ms,{name:"in",aliases:["collection"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The collection to search in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"current",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets the current entry by ID",expectsTypes:["string"],isDynamic:!1,isRequired:!1}],augmentScope:Fo,resolveDynamicParameter:Bo,resolveSpecialType:js,suggestAlternativeParams:Ro,resovleParameterCompletionItems:Us,resolveCompletionItems:qo,resolveDocumentation:t=>$e("collection:next Tag","The `collection:next` tag is used to show the entries that will appear after the current entry, based on some entry order (publish date, alphabetical, or manual).",`{{# Retrieve the next two entries, based on dates in ascending order. #}}
{{ collection:next in="articles" limit="2" sort="date:asc" }}

{{ /collection:next }}`,"https://statamic.dev/tags/collection-next")},uf=kO;function qo(t){var n,r;let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="collection"||t.leftWord=="/collection")&&t.leftChar==":"){let i=t.project.getCollectionNames();for(let s=0;s<i.length;s++)e.push({label:i[s],kind:pu.CompletionItemKind.Field,sortText:"0"});return e.push(Be(lf)),e.push(Be(uf)),e.push(Be(Sa)),e.push(Be(af)),e.push(Be(of)),{items:e,analyzeDefaults:!1,isExclusiveResult:!1}}if(t.currentNode!=null&&t.currentNode.currentScope!=null){let i=wo(t.currentNode,t.currentNode.currentScope),s=i.map(o=>o.name),a=ds(t.leftWord);if(a==="taxonomy")return de(Tv(t));if(s.includes(a))return e=Bs(t),de(e);if(t.isCaretInTag&&!((n=t.context)==null?void 0:n.isInParameter)&&["collection","/collection"].includes(t.leftWord)==!1&&t.leftChar!=" "){let o=[];for(let l=0;l<i.length;l++){let u=i[l];o.includes(u.name)==!1&&(e.push({label:u.name,detail:u.blueprintName,documentation:(r=u.instructionText)!=null?r:"",kind:pu.CompletionItemKind.Field}),o.push(u.name))}if(e.push({label:"taxonomy",insertText:"taxonomy:",kind:pu.CompletionItemKind.Field}),e.push({label:"status",insertText:"status:",kind:pu.CompletionItemKind.Field}),e.length>0)return jn(e)}}return Oe}var MO={tagName:"collection",hideFromCompletions:!1,introducedIn:null,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:Ms,augmentScope:Fo,resolveDynamicParameter:Bo,resolveSpecialType:js,suggestAlternativeParams:Ro,resovleParameterCompletionItems:Us,resolveCompletionItems:qo,resolveDocumentation:t=>$e("collection Tag","The `collection` tag provides access to entry data such as blog posts, products, etc.",`{{ collection:articles as="posts" }}

	{{ posts }}
		{{ title }}
	{{ /posts }}

{{ /collection:articles }}`,"https://statamic.dev/tags/collection")},n0=MO;var BO={tagName:"cache",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,allowsContentClose:!1,allowsArbitraryParameters:!1,resovleParameterCompletionItems:(t,e)=>t.name=="scope"?Bt(["page","site"]):null,parameters:[{isRequired:!1,name:"for",description:"The duration the cache is valid for",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"key",description:"An arbitrary name the cache entry may be referenced by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"scope",description:" The scope of the cached value. Either site or page.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1}],resolveSpecialType:(t,e)=>{let n=t.findParameter("key"),r=null;if(n!=null){let i=n.value;i.trim().length>0&&(r={key:i,reference:t})}return{context:r,issues:[]}},resolveDocumentation:t=>$e("cache Tag","The `cache` tag can be used to save the results of an expensive template operation. The duration of the cache can be configured.",`{{ cache for="10 minutes" }}
    {{# Template code that won't be re-rendered for at least 10 minutes. #}}
{{ /cache }}`,"https://statamic.dev/tags/cache")},r0=BO;var qO={tagName:"dump",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.leftWord=="dump"&&t.leftChar==":"?de(Kv(t)):Oe,resolveDocumentation:t=>$e("dump Tag","The `dump` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered.",`{{ collection:articles }}
	{{# View all data available, for each entry. #}}
    {{ dump }}
{{ /collection:articles }}`,"https://statamic.dev/tags/dump")},i0=qO;var VO={tagName:"404",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>$e("404 (Not Found) Tag","The `404` (Not Found) tag will trigger a 404 status code, and display the 404 template to the site visitor.",`{{ unless logged_in }}
	{{# Display the 404 Not Found page. #}}
	{{ 404 }}
{{ /unless }}`,"https://statamic.dev/tags/404")},s0=VO;var jO={tagName:"link",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"to",description:"The relative path",expectsTypes:["string"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!0,isDynamic:!1},{name:"absolute",description:"Whether to generate absolute URLs. Default false",expectsTypes:["boolean"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1},{name:"id",description:"The ID of the entry to link to",expectsTypes:["string"],allowsVariableReference:!0,acceptsVariableInterpolation:!0,aliases:[],isDynamic:!1,isRequired:!1},{name:"in",description:"The handle of the site to link to.",expectsTypes:["string"],allowsVariableReference:!0,acceptsVariableInterpolation:!0,aliases:[],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>U("link Tag","The `link` tag accepts relative URLs or entry IDs and generates fully-qualified URLs to the desired content.","https://statamic.dev/tags/link")},a0=jO;var o0={tagName:"loop",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,augmentScope:(t,e)=>(e.addVariable({name:"value",dataType:"*",sourceName:"*internal.loop.value",sourceField:null,introducedBy:t}),e),parameters:[{name:"times",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The number of iterations",isRequired:!1,isDynamic:!1},{name:"from",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to start iterating from. Default 1",isRequired:!1,isDynamic:!1},{name:"to",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to stop iterating at",isRequired:!1,isDynamic:!1}],resolveDocumentation:t=>U("loop Tag","The `loop` tag is used to create an array of items between two values, and then iterate the created array. Alternatively, a max value can be set using the `times` parameter to loop that number of times.","https://statamic.dev/tags/loop")},l0={tagName:"range",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,augmentScope:(t,e)=>(e.addVariable({name:"value",dataType:"*",sourceName:"*internal.loop.value",sourceField:null,introducedBy:t}),e),parameters:[{name:"times",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The number of iterations",isRequired:!1,isDynamic:!1},{name:"from",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to start iterating from. Default 1",isRequired:!1,isDynamic:!1},{name:"to",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to stop iterating at",isRequired:!1,isDynamic:!1}],resolveDocumentation:t=>U("range Tag","The `range` tag is used to create an array of items between two values, and then iterate the created array. Alternatively, a max value can be set using the `times` parameter to loop that number of times.","https://statamic.dev/tags/loop")};var Nr=le(Cn());var Ia=class{constructor(){this.loadedDocuments=new Map;this.activeProject=null}getDocuments(){let e=[];return this.loadedDocuments.forEach(n=>{e.push(n)}),e}setProject(e){this.activeProject=e,this.loadedDocuments.forEach(n=>{this.activeProject!=null&&n.updateProject(this.activeProject)})}refreshDocumentState(){this.activeProject!=null&&this.setProject(this.activeProject)}hasDocument(e){return this.loadedDocuments.has(e)}createDocument(e){if(!this.loadedDocuments.has(e)){let n=new It;n.documentUri=e,this.loadedDocuments.set(e,n)}}loadDocument(e,n){this.loadedDocuments.set(e,It.fromText(n))}getDocument(e){return this.loadedDocuments.get(e)}updateDocument(e,n){var r,i;if(this.loadedDocuments.has(e)){let s=this.loadedDocuments.get(e);s.loadString(n);let a=(i=(r=Ie.instance)==null?void 0:r.getStructure())==null?void 0:i.findView(e);a!=null&&(a.document=s)}}createOrUpdate(e,n){this.createDocument(e),this.updateDocument(e,n)}getDocumentErrors(e){return this.loadedDocuments.has(e)?this.loadedDocuments.get(e).errors.all():[]}};Ia.instance=null;(typeof Ia.instance=="undefined"||Ia.instance==null)&&(Ia.instance=new Ia);var u0=Ia;var xi=new Map,We=new u0;function at(t,e){return e.trim().length>0?sf(e):null}var Vo=[{isRequired:!1,name:"src",description:"The name of the partial view",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],isDynamic:!1}];var du=le(Cn());function jo(t,e){var n;if(t.isDynamic&&e.currentNode!=null&&e.currentNode.getTagName()=="partial"&&e.currentNode.hasMethodPart()){let r=e.currentNode.getMethodNameValue();if(r.trim().length>0&&((n=Ie.instance)==null?void 0:n.hasStructure())){let i=Ie.instance.getStructure().findRelativeView(r);if(i!=null&&i.varReferenceNames.has(t.name)){let s=i.varReferenceNames.get(t.name);if(i.document!=null&&i.document.hasFrontMatter()){let a=i.document.getFrontMatterScope();if(a!=null){let o=a.getList(s);if(o!=null)return Zv(o.getVariableNames())}}}}}if(t.name=="src"){let r=e.project.getViews(),i=[];return r.forEach(s=>{if(Bi.hasDetails(s.documentUri)){let a=Bi.documentDetails.get(s.documentUri);i.push({label:a.documentName+"("+s.relativeDisplayName+")",insertText:s.relativeDisplayName,detail:a.documentName,documentation:{kind:du.MarkupKind.Markdown,value:a.documentDescription},kind:du.CompletionItemKind.File})}else i.push({label:s.relativeDisplayName,kind:du.CompletionItemKind.File})}),de(i)}return null}var UO={tagName:"partial:exists",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,parameters:Vo,introducedIn:"3.2.7",resovleParameterCompletionItems:jo,resolveDocumentation:t=>U("partial:exists Tag","The `partial:exists` can be used within conditional statements to test if a partial exists.","https://statamic.dev/tags/partial-exists")},cf=UO;var WO={tagName:"partial:if_exists",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,parameters:Vo,introducedIn:"3.2.7",resovleParameterCompletionItems:jo,resolveDocumentation:t=>U("partial:if_exists Tag","The `partial:if_exists` can be used to output the contents of a partial if it exists.","https://statamic.dev/tags/partial-if-exists")},ff=WO;function Uo(t){if(t.getTagName()!="partial")return null;let e="";if(t.hasMethodPart())e=t.getMethodNameValue();else{let n=t.findParameter("src");n!=null&&(e=n.value)}return e}var GO=[Be(cf),Be(ff)],HO={tagName:"partial",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!0,parameters:Vo,requiresClose:!1,allowsContentClose:!0,introducedIn:null,resolveDocumentation:t=>`**Partial Tag**  
Includes another view into the current template.  

[Documentation Reference](https://statamic.dev/tags/partial)
`,resolveDynamicParameter:at,resovleParameterCompletionItems:jo,resolveCompletionItems:t=>{let e=[];if(t.leftChar=='"'&&t.leftWord==':src="')return{items:[],analyzeDefaults:!0,isExclusiveResult:!1};if((t.leftWord=="partial"||t.leftWord=="/partial")&&t.leftChar==":"||t.leftWord=='src="'&&t.leftChar=='"')return t.project.getViews().forEach(r=>{let i=decodeURIComponent(r.documentUri);if(Bi.hasDetails(i)){let s=Bi.documentDetails.get(i);e.push({label:s.documentName+"("+r.relativeDisplayName+")",insertText:r.relativeDisplayName,detail:s.documentName,documentation:{kind:Nr.MarkupKind.Markdown,value:s.documentDescription},kind:Nr.CompletionItemKind.File})}else e.push({label:r.relativeDisplayName,kind:Nr.CompletionItemKind.File})}),t.leftWord!='src="'&&(e=e.concat(GO)),{analyzeDefaults:!1,isExclusiveResult:!0,items:e};if(t.currentNode!=null&&t.project!=null){let n=Uo(t.currentNode);if(n!=null&&n.trim().length>0){let r=t.project.findRelativeView(n);if(r!=null&&We.hasDocument(r.documentUri)){let i=We.getDocument(r.documentUri);if(i!=null){let s=i.getAllAntlersNodes(),a=YO(s),o=[];r.varReferenceNames!=null&&r.varReferenceNames.forEach((u,c)=>{a.push(c)});let l=[];if(r.injectsParameters.length>0){let u={start:{line:t.position.line,character:t.position.character-0},end:t.position};r.injectsParameters.forEach(c=>{let f=c.name+'="$1"';o.includes(c.name)||(o.push(c.name),l.push({label:c.name,kind:Nr.CompletionItemKind.Value,insertTextFormat:Nr.InsertTextFormat.Snippet,textEdit:Nr.TextEdit.replace(u,f),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}))})}if(a.length>0){let u={start:{line:t.position.line,character:t.position.character-0},end:t.position};a.forEach(c=>{let f=c+'="$1"';o.includes(c)||(o.push(c),l.push({label:c,kind:Nr.CompletionItemKind.Value,insertTextFormat:Nr.InsertTextFormat.Snippet,textEdit:Nr.TextEdit.replace(u,f),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}))})}return jn(l)}}}}return{analyzeDefaults:!0,isExclusiveResult:!1,items:[]}}};function YO(t){let e=[];return t.forEach(n=>{if(n.isTagNode||n.isClosingTag||n.isComment||n.hasMethodPart()&&n.getMethodNameValue().length>0||n.name!=null&&n.name.content.includes("["))return;let r=n.getTagName();!e.includes(r)&&r!="#"&&r!="slot"&&e.push(r)}),e}var c0=HO;var $O={tagName:"increment:reset",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:"3.2.28",parameters:[{isRequired:!0,name:"counter",aliases:[],description:"The incrementing counter to reset",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"to",aliases:[],description:"An optional value to reset the counter to before incrementing starts again",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resolveDocumentation:t=>$e("increment:reset Tag","The `increment:reset` tag can be used to reset the value of an incrementing counter.",`{{ array_variable }}
    {{ increment:counter_name }}
{{ /array_variable }}

{{ increment:reset counter="counter_name" }}
`,null)},pf=$O;var KO=[Be(pf)],zO={tagName:"increment",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[{isRequired:!1,name:"from",aliases:[],description:"The number to start incrementing by",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"by",aliases:[],description:"The number to increment by",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resolveCompletionItems:t=>t.leftWord=="increment"||t.leftWord=="/increment"&&t.leftChar==":"?de(KO):Oe,resolveDocumentation:t=>U("increment Tag","The `increment` tag can be used to increment a value each time the tag is encountered.","https://statamic.dev/tags/increment")},f0=zO;var mu=class{constructor(e){this.node=e}},p0={tagName:"yields",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,parameters:[],introducedIn:null,requiresClose:!1,resolveSpecialType:(t,e)=>({context:new mu(t),issues:[]})},d0={tagName:"yield",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,parameters:[],introducedIn:null,requiresClose:!1,resolveSpecialType:(t,e)=>({context:new mu(t),issues:[]}),resolveDocumentation:t=>U("yield Tag","The `yield` tag may be used to push rendered content to named regions within a template's structure.","https://statamic.dev/tags/yield")};var df=le(wt());var m0=[{handle:"access cp"},{handle:"configure collections"},{handle:"[view edit create delete publish reorder] {collection} entries"},{handle:"configure structures"},{handle:"[view edit] {structure} structure"},{handle:"edit {global} globals"},{handle:"[view upload edit move rename delete] {container} assets"},{handle:"[view perform] updates"},{handle:"[view edit create delete] users"},{handle:"change passwords"},{handle:"edit roles"},{handle:"configure forms"},{handle:"[view delete] {form} submissions"}];var Ws=class{constructor(){this.contextItems=new Map;this.triggerNames=[];this.collectionTriggers=[];this.collectionTriggerCaps=[];this.globalTriggers=[];this.globalTriggerCaps=[];this.formTriggers=[];this.formTriggerCaps=[];this.structureTriggers=[];this.structureTriggerCaps=[];this.assetTriggers=[];this.assetTriggerCaps=[]}getCollectionTriggerCaps(){return this.collectionTriggerCaps}getGlobalTriggerCaps(){return this.globalTriggerCaps}getFormTriggerCaps(){return this.formTriggerCaps}getStructureTriggerCaps(){return this.structureTriggerCaps}getAssetTriggerCaps(){return this.assetTriggerCaps}loadCorePermissions(){this.registerPermissions(m0)}getTriggerNames(){return this.triggerNames}isCollectionTrigger(e){return this.collectionTriggers.includes(e)}isGlobalTrigger(e){return this.globalTriggers.includes(e)}isFormTrigger(e){return this.formTriggers.includes(e)}isStructureTrigger(e){return this.structureTriggers.includes(e)}isAssetTrigger(e){return this.assetTriggers.includes(e)}getTriggerContextItems(e){return this.contextItems.has(e)?this.contextItems.get(e):[]}registerSpecialTrigger(e,n,r){n=="{collection}"?(this.collectionTriggerCaps.includes(r)==!1&&this.collectionTriggerCaps.push(r),this.collectionTriggers.includes(e)==!1&&this.collectionTriggers.push(e)):n=="{structure}"?(this.structureTriggerCaps.includes(r)==!1&&this.structureTriggerCaps.push(r),this.structureTriggers.includes(e)==!1&&this.structureTriggers.push(e)):n=="{container}"?(this.assetTriggerCaps.includes(r)==!1&&this.assetTriggerCaps.push(r),this.assetTriggers.includes(e)==!1&&this.assetTriggers.push(e)):n=="{global}"?(this.globalTriggerCaps.includes(r)==!1&&this.globalTriggerCaps.push(r),this.globalTriggers.includes(e)==!1&&this.globalTriggers.push(e)):n=="{form}"&&(this.formTriggerCaps.includes(r)==!1&&this.formTriggerCaps.push(r),this.formTriggers.includes(e)==!1&&this.formTriggers.push(e))}addContextToTrigger(e,n){var r;this.triggerNames.includes(e)==!1&&this.triggerNames.push(e),this.contextItems.has(e)==!1?this.contextItems.set(e,[n]):(r=this.contextItems.get(e))==null||r.push(n)}registerPermissions(e){for(let n=0;n<e.length;n++){let r=e[n],i=[],s="",a="";if(r.handle.includes("[")&&r.handle.includes("]")){let o=r.handle.indexOf("["),l=r.handle.indexOf("]"),u=l-o,c=r.handle.substr(o+1,u-1).split(" ").filter(d=>d.trim().length>0),f=r.handle.substr(l+1).split(" ").filter(d=>d.trim().length>0);i=c,f.length==2?(s=f[0],a=f[1]):f.length==1&&(s="",a=f[0])}else{let o=r.handle.split(" ").filter(l=>l.trim().length>0);o.length==2&&(i=[o[0]],a=o[1])}for(let o=0;o<i.length;o++){let l=i[o];s.trim().length>0?this.registerSpecialTrigger(l,s,a):this.addContextToTrigger(l,a)}}}};Ws.instance=null;(typeof Ws.instance=="undefined"||Ws.instance==null)&&(Ws.instance=new Ws,Ws.instance.loadCorePermissions());var Cr=Ws;function h0(t,e){var r,i,s,a,o,l,u,c,f,d,m,p,h,_,g,b,y,T,C;let n=[];if(t.trim().length==0){let W=(i=(r=Cr.instance)==null?void 0:r.getTriggerNames())!=null?i:[];for(let F=0;F<W.length;F++)n.push({label:W[F],kind:df.CompletionItemKind.Value})}else{let W=t.split(" ").filter(oe=>oe.trim().length>0),F=W[0],L=(a=(s=Cr.instance)==null?void 0:s.getTriggerContextItems(F))!=null?a:[],H=(o=Cr.instance)==null?void 0:o.isCollectionTrigger(F),G=(l=Cr.instance)==null?void 0:l.isGlobalTrigger(F),Q=(u=Cr.instance)==null?void 0:u.isFormTrigger(F),re=(c=Cr.instance)==null?void 0:c.isStructureTrigger(F),ye=(f=Cr.instance)==null?void 0:f.isAssetTrigger(F),he=[];if(W.length<=2){H?he=he.concat(e.project.getUniqueCollectionNames()):G?he=he.concat(e.project.getUniqueGlobalsNames()):Q?he=he.concat(e.project.getUniqueFormNames()):re?he=he.concat(e.project.getUniqueNavigationMenuNames()):ye&&(he=he.concat(e.project.getUniqueAssetNames())),L.length>0&&(he=he.concat(L)),he=[...new Set(he)];for(let oe=0;oe<he.length;oe++)n.push({label:he[oe],kind:df.CompletionItemKind.Value})}else{let oe=[];H?oe=oe.concat((m=(d=Cr.instance)==null?void 0:d.getCollectionTriggerCaps())!=null?m:[]):G?oe=oe.concat((h=(p=Cr.instance)==null?void 0:p.getGlobalTriggerCaps())!=null?h:[]):Q?oe=oe.concat((g=(_=Cr.instance)==null?void 0:_.getFormTriggerCaps())!=null?g:[]):re?oe=oe.concat((y=(b=Cr.instance)==null?void 0:b.getStructureTriggerCaps())!=null?y:[]):ye&&(oe=oe.concat((C=(T=Cr.instance)==null?void 0:T.getAssetTriggerCaps())!=null?C:[])),oe=[...new Set(oe)];for(let Ae=0;Ae<oe.length;Ae++)n.push({label:oe[Ae],kind:df.CompletionItemKind.Value})}}return n}function mf(t,e){var r,i,s,a;let n=rf(t.name);return((r=e.context)==null?void 0:r.parameterContext)!=null&&["do","permission"].includes(n)?de(h0((a=(s=(i=e.context)==null?void 0:i.parameterContext.parameter)==null?void 0:s.value)!=null?a:"",e)):null}var XO={tagName:"user:can",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,resovleParameterCompletionItems:mf,parameters:[{name:"do",acceptsVariableInterpolation:!1,aliases:["permission"],allowsVariableReference:!1,description:"The permissions to check against",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resolveDocumentation:t=>U("user:can Tag","The `user:can` tag is used to check if the currently authenticated user has a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user has the specified permissions.","https://statamic.dev/tags/user-can")},Wo=XO;var QO={tagName:"user:logout",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"redirect",description:"An optional URL to redirect the user after being logged out",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>U("user:logout Tag","The `user:logout` tag will sign out the currently authenticated user. An optional `redirect` parameter may be used to redirect the visitor to a different page after being logged out.","https://statamic.dev/tags/user-logout")},Go=QO;var JO={tagName:"user:logout_url",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"redirect",description:"An optional URL to redirect the user after being logged out",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>$e("user:logout_url","The `user:logout_url` tag can be used to retrieve the URL that will sign the current user out.",'<a href="{{ user:logout_url }}">Log out</a>',"https://statamic.dev/tags/user-logout_url")},Ho=JO;var g0={tagName:"switch",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"between",description:"A set of values to iterate over",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string","array"]},{name:"for",description:"A unique name for the switch instance",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>U("switch Tag","The `switch` tag can be used to alternate between a set of values each time the tag is evaluated.","https://statamic.dev/tags/switch")},_0={tagName:"rotate",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,introducedIn:null,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[{name:"between",description:"A set of values to iterate over",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string","array"]},{name:"for",description:"A unique name for the switch instance",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>U("rotate Tag","The `rotate` tag can be used to alternate between a set of values each time the tag is evaluated.","https://statamic.dev/tags/switch")};var ZO={tagName:"oauth",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"provider",description:"The OAuth provider to be used",aliases:[],isRequired:!0,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]},{name:"redirect",description:"The URL to be taken to after authenticating",aliases:[],isRequired:!0,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resovleParameterCompletionItems:(t,e)=>t.name=="provider"?Bt(e.project.getOAuthProviders()):null,resolveDocumentation:t=>$e("oauth Tag","The `oauth` tag can be used to generate login URls for various third-party services.",'<a href="{{ oauth provider="github" }}">Sign In with Github</a>',"https://statamic.dev/tags/oauth")},y0=ZO;var eF={tagName:"session:dump",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>U("session:dump Tag","The `session:dump` tag will display the contents of the user's session to the browser. This tag behaves similarly to the `dd` helper functions, but returns just the session data.","https://statamic.dev/tags/session-dump")},hf=eF;var Ea=class{constructor(e){this.node=e}};var tF={tagName:"session:set",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!0,parameters:[],introducedIn:null,resolveDynamicParameter:at,resolveSpecialType:(t,e)=>({context:new Ea(t),issues:[]}),resolveDocumentation:t=>U("session:set Tag","The `session:set` tag is used to add new data to the user's session.","https://statamic.dev/tags/session-set")},gf=tF;var Aa=class{constructor(){this.knownVariables=new Map}registerDocumentSessionVariables(e,n){this.knownVariables.has(e)||this.knownVariables.set(e,new Map);let r=this.knownVariables.get(e);r.clear();for(let i=0;i<n.length;i++){let s=n[i].node;if(s.hasParameters)for(let a=0;a<s.parameters.length;a++){let o=s.parameters[a];r.set(o.name,n[i])}}}getKnownSessionVariableNames(){let e=[];return this.knownVariables.forEach(n=>{n.forEach((r,i)=>{e.includes(i)==!1&&e.push(i)})}),e}};Aa.instance=null;(typeof Aa.instance=="undefined"||Aa.instance==null)&&(Aa.instance=new Aa);var xa=Aa;var b0=le(wt());function T0(t,e){let n=[],r=t.getArrayValue(),i=e.filter(s=>!r.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:b0.CompletionItemKind.Variable});return de(n)}var nF={tagName:"session:forget",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"keys",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The session keys to clear",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;if(t.name=="keys"&&((n=e.context)==null?void 0:n.parameterContext)!=null){let s=(i=(r=xa.instance)==null?void 0:r.getKnownSessionVariableNames())!=null?i:[];if(e.context.parameterContext.parameter!=null)return T0(e.context.parameterContext.parameter,s)}return null},resolveDocumentation:t=>U("session:forget Tag","The `session:forget` tag is used to remove variables from the user's session.","https://statamic.dev/tags/session-forget")},_f=nF;var rF={tagName:"session:flush",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>U("session:flush Tag","The `session:flush` tag will clear all values from the visitor's session. If the visitor is currently signed in they will also be signed out.","https://statamic.dev/tags/session-flush")},yf=rF;var iF={tagName:"session:flash",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDynamicParameter:at,resolveSpecialType:(t,e)=>({context:new Ea(t),issues:[]}),resolveDocumentation:t=>U("session:flash Tag","The `session:flash` tag can be used to add a value to the user's session. Flashed values only persist for a single request, and are then removed.","https://statamic.dev/tags/session-flash")},bf=iF;var sF={tagName:"markdown:indent",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>U("markdown:indent Tag","The `markdown:indent` tag is similar to the markdown tag, but will ignore leading whitepsace while rendering the tag's content as markdown.","https://statamic.dev/tags/markdown-indent")},Tf=sF;var aF=[Be(Tf)],oF={tagName:"markdown",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="markdown"||t.leftWord=="/markdown")&&t.leftChar==":"?de(aF):Oe,resolveDocumentation:t=>U("markdown Tag","The `markdown` tag can be used to render the tags contents as markdown.","https://statamic.dev/tags/markdown")},v0=oF;var N0=le(Cn());function vf(t,e){let n=[],r=e;if(t.trim().length>0&&t.includes(".")&&t.endsWith(".")){let i=t.substr(0,t.length-1);r=r.filter(s=>s.startsWith(i))}for(let i=0;i<r.length;i++){let s=r[i],a=!0;t.includes(".")&&(s.startsWith(t)==!1?a=!1:s=s.substr(t.length)),a&&n.push({label:s,insertText:s,kind:N0.CompletionItemKind.Text})}return n}function C0(t,e){return vf(t,e.getRouteNames())}var lF={tagName:"route",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDynamicParameter:at,resolveCompletionItems:t=>{if(t.leftMeaningfulWord=="route"){let e=nf(t);return de(C0(e,t.project))}return Oe},resolveDocumentation:t=>U("route Tag","The `route` tag can be used to generate a full URL [to a named route](https://laravel.com/docs/8.x/routing#named-routes), including any defined route parameters.","https://statamic.dev/tags/route")},P0=lF;var Nf=le(wt()),D0=[{label:"301 Permanent",insertText:"301",kind:Nf.CompletionItemKind.EnumMember},{label:"302 Temporary",insertText:"302",kind:Nf.CompletionItemKind.EnumMember},{label:"404 Not Found",insertText:"404",kind:Nf.CompletionItemKind.EnumMember}];var uF={tagName:"redirect",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"to",description:"The destination URL",aliases:["url"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!0},{name:"response",description:"The HTTP response code to use",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1}],resovleParameterCompletionItems:t=>t.name=="response"?de(D0):Oe,resolveDocumentation:t=>U("redirect Tag","The `redirect` tag can be used to redirect the site visitor to a URL or named route. An optional HTTP status code can also be specified on the response using the `response` parameter.","https://statamic.dev/tags/redirect")},S0=uF;var I0=le(wt());var Ra=class{constructor(){this.knownSections=new Map}registerDocumentSections(e,n){this.knownSections.has(e)||this.knownSections.set(e,new Map);let r=this.knownSections.get(e);r.clear();for(let i=0;i<n.length;i++){let s=n[i];s.node.hasMethodPart()&&r.set(s.node.getMethodNameValue(),s)}}getKnownSectionNames(){let e=[];return this.knownSections.forEach(n=>{n.forEach((r,i)=>{e.includes(i)==!1&&e.push(i)})}),e}};Ra.instance=null;(typeof Ra.instance=="undefined"||Ra.instance==null)&&(Ra.instance=new Ra);var Cf=Ra;var cF={tagName:"section",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>{var e,n;if((t.leftWord=="section"||t.leftWord=="/section")&&t.leftChar==":"){let r=[],i=(n=(e=Cf.instance)==null?void 0:e.getKnownSectionNames())!=null?n:[];for(let s=0;s<i.length;s++)r.push({label:i[s],kind:I0.CompletionItemKind.Field});return jn(r)}return Oe},resolveDocumentation:t=>U("section Tag","The `section` tag is used to push content to a named region defined by the `yield` tag.","https://statamic.dev/tags/section")},E0=cF;var fF={tagName:"obfuscate",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>U("obfuscate Tag","The `obfuscate` tag converts the tags's content into a format that is difficult for bots to read, but can easily be viewed by users within their browser.","https://statamic.dev/tags/obfuscate")},A0=fF;var pF={tagName:"parent",hideFromCompletions:!1,requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!1,injectParentScope:!0,introducedIn:null,parameters:[],resolveDocumentation:t=>U("parent Tag","The `parent` tag provides access to data from the current page's parent (the URL one level above the current page).","https://statamic.dev/tags/parent")},x0=pF;function Gm(t,e){return vf(t,e.getTranslationKeys())}var dF=["translate","trans","trans_choice"],Pf={tagName:"translate",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,introducedIn:null,allowsArbitraryParameters:!0,parameters:[{isRequired:!1,name:"key",description:"The key of the translation string to find",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"locale",description:"The locale to be used when translating",acceptsVariableInterpolation:!1,aliases:["site"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"count",description:"The number of items to use for pluralization",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n;if(t.name=="key"){let r="";return((n=e.context)==null?void 0:n.parameterContext)!=null&&e.context.parameterContext.parameter!=null&&(r=e.context.parameterContext.parameter.value),de(Gm(r,e.project))}return Oe},resolveDynamicParameter:at,resolveCompletionItems:t=>{if(t.leftMeaningfulWord!=null&&dF.includes(t.leftMeaningfulWord)){let e=nf(t);return de(Gm(e,t.project))}return Oe},resolveDocumentation:t=>U("trans Tag","The `trans` tag can be used to retrieve a string for the current locale's language file.","https://statamic.dev/tags/trans")},R0=Pt(Pf,"trans"),Hm=Pt(Pf,"trans_choice");Hm.resolveDocumentation=t=>U("trans_choice Tag","The `trans_choice` tag can be used to retrieve a pluralized string for the current locale's language file.","https://statamic.dev/tags/trans#pluralization");var mF={tagName:"svg",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,introducedIn:null,parameters:[{isRequired:!1,name:"src",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The SVG filename relative to the project root",expectsTypes:["string"],isDynamic:!1}],resolveDynamicParameter:at,resolveDocumentation:t=>U("svg Tag","The `svg` tag can be used to render inline SVGs, as well as set attributes on the rendered `<svg>` element.","https://statamic.dev/tags/svg")},w0=mF;function Df(t){return[{name:"basename",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"extension",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"filename",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"focus",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"focus_css",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"height",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_asset",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_image",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"path",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_bytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_gigabytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_kilobytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_megabytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"width",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t}]}var hF={tagName:"asset",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The path to the file",expectsTypes:["string"],isDynamic:!1,name:"url"}],augmentScope:(t,e)=>(e.addVariables(Df(t)),e),resolveDocumentation:t=>$e("asset Tag","The `asset` tag can be used to retrive Assets by supplying a URL.",`{{ asset url="/url/for/asset.png" }}
    <img src="{{ url }}" alt="{{ alt }}" />
{{ /asset }}`,"https://statamic.dev/tags/asset")},O0=hF;var F0=le(wt());function Ym(t){let e=[],n=t.getUniqueAssetNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:F0.CompletionItemKind.Field});return e}var L0=["container","id","handle"],gF={tagName:"assets",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"container",aliases:["id","handle"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The handle of the asset container",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"folder",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Filters the resulting assets by specific folder",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"recursive",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Returns all assets in all subdirectories",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"limit",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Limits the total results",expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sort entries by any asset variable",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>L0.includes(t.name)?de(Ym(e.project)):Oe,augmentScope:(t,e)=>{e.addVariables(Df(t));let n="";if(t.name!=null&&t.name.getMethodName()!=null)n=t.name.getMethodName();else{let r=t.findAnyParameter(L0);r!=null&&r.containsSimpleValue()&&(n=r.value)}return n.length>0&&e.injectAssetContainer(t,n),e},resolveCompletionItems:t=>(t.leftWord=="assets"||t.leftWord=="/assets")&&t.leftChar==":"?de(Ym(t.project)):Oe,resolveDocumentation:t=>$e("assets Tag","The `assets` tag can be used to retrieve multiple Assets from an Asset container.",`{{ assets container="container-name" }}
    {{# Loop over all assets in the container. #}}
	<img src="{{ url }}" alt="{{ alt }}" />
{{ /assets }}`,"https://statamic.dev/tags/assets")},k0=gF;var _F={tagName:"get_content",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,introducedIn:null,allowsArbitraryParameters:!1,parameters:[{isRequired:!1,name:"from",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"The ID to retrieve data for",expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"locale",aliases:["site"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The locale to show the content in",expectsTypes:["string"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>t.name=="locale"||t.name=="site"?Bt(e.project.getSiteNames()):null,resolveDocumentation:t=>$e("get_content Tag","The `get_content` tag can be used to retrieve content from other entries. This tag accepts the ID of another entry, and will return access to all data for that entry.",`{{ get_content from="the-entry-id" }}
{{ /get_content }}`,"https://statamic.dev/tags/get_content")},M0=_F;function B0(t){return[{name:"basename",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"extension",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"filename",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"is_image",dataType:"boolean",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"file",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"file",dataType:"last_modified",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_bytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_b",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_gigabytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_gb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_kilobytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_kb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_megabytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_mb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t}]}var yF={tagName:"get_files",hideFromCompletions:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"in",aliases:["from"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The directory to find files in relative to the public directory",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"depth",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The depth of the subdirectories",expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"not_in",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],description:"The subdirectories or pattern to exclude",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"file_size",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],description:"The file size filter to use",isDynamic:!1},{isRequired:!1,name:"ext",aliases:["extension"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The extension(s) to filter by",expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"include",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:["match"],description:"Filter files by a regular expression",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"exclude",description:"Excludes files by a regular expression",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"file_date",description:"Filters files by last modified date",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"limit",description:"Limits the total number of results",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"offset",description:"The number of entries the results should be offset by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sorts the listing by extension, size, last_modified, or random",expectsTypes:["string"],isDynamic:!1}],augmentScope:(t,e)=>(e.addVariables(B0(t)),e),resolveDocumentation:t=>U("get_files Tag","The `get_files` tag can be used to display information about files on the site's local filesystem.","https://statamic.dev/tags/get_files")},q0=yF;function Sf(t){return[{name:"width",dataType:"number",sourceName:"*internal.glide",sourceField:null,introducedBy:t},{name:"height",dataType:"number",sourceName:"*internal.glide",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.glide",sourceField:null,introducedBy:t}]}var V0=le(wt());function Ri(t,e,n){var r,i,s,a,o,l,u,c,f,d,m,p;return{endLine:(s=(i=(r=n.valuePosition)==null?void 0:r.end)==null?void 0:i.line)!=null?s:0,startLine:(l=(o=(a=n.namePosition)==null?void 0:a.start)==null?void 0:o.line)!=null?l:0,endPos:(f=(c=(u=n.valuePosition)==null?void 0:u.end)==null?void 0:c.char)!=null?f:0,startPos:(p=(m=(d=n.namePosition)==null?void 0:d.start)==null?void 0:m.char)!=null?p:0,message:t,severity:V0.DiagnosticSeverity.Error}}var $m=["greyscale","sepia"],Km=["jpg","pjpg","png","gif","webp","avif","tif","bmp","psd"],j0=["auto","0","90","180","270"],If=[{isRequired:!1,name:"src",aliases:["path","id"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The URL of the image when not using shorthand syntax",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"tag",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Outputs an image tag when set to true",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"alt",description:"The alt attribute value to use when generating tags",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"absolute",description:"Whether to output full URLs",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{name:"width",expectsTypes:["number"],isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The width of the image, in pixels",isDynamic:!1},{name:"height",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],description:"The height of the image, in pixels",expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"square",expectsTypes:["number"],acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets both then height and width of the iamge",isDynamic:!1,isRequired:!1},{name:"fit",expectsTypes:["string"],acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"How the image is fitted to its target dimensions",isDynamic:!1,isRequired:!1},{name:"crop",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Crops the image to the specific dimensions",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"orient",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Rotates the image",expectsTypes:["*"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!j0.includes(e.value)&&n.push(Ri("Invalid orient value",t,e)),n}},{name:"quality",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Defines the quality of the image",expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"dpr",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],description:"Defines the device pixel ratio",expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<1||n>8)&&r.push(Ri("dpr must be an integer between 1 and 8.",t,e)),r}},{name:"format",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Encodes the image to a specific format",expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!Km.includes(e.value)&&n.push(Ri("Format must be one of: "+Km.join(","),t,e)),n}},{name:"bg",description:"Sets the background color for transparent images",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"blur",description:"Adds a blur effect to the image",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push(Ri("blur must be a value between 0 and 100.",t,e)),r}},{name:"brightness",description:"Adjusts the image brightness",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<-100||n>100)&&r.push(Ri("brightness must be a value between -100 and 100.",t,e)),r}},{name:"contrast",description:"Adjusts the image contrast",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<-100||n>100)&&r.push(Ri("contrast must be a value between -100 and 100.",t,e)),r}},{name:"gamma",description:"Adjusts the image gamma",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseFloat(e.value),r=[];return e.containsSimpleValue()&&(n<.1||n>9.99)&&r.push(Ri("gamma must be a value between 0.1 and 9.99.",t,e)),r}},{name:"sharpen",description:"Sharpens the iamge",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push(Ri("sharpen must be a value between 0 and 100.",t,e)),r}},{name:"pixelate",description:"Applies a pixelation effect to the image",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push(Ri("pixelate must be a value between 0 and 100.",t,e)),r}},{name:"filter",description:"Applies a filter effect to the image",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!$m.includes(e.value)&&n.push(Ri("Filter must be one of: "+$m.join(","),t,e)),n}},{name:"preset",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],description:"A collection of pre-configured image manipulation parameters.",isDynamic:!1,isRequired:!1}];function Ef(t,e){return t.name=="orient"?Bt(j0):t.name=="format"?Bt(Km):t.name=="filter"?Bt($m):t.name=="preset"?Bt(e.project.getAssetPresets()):Oe}var bF={tagName:"glide:batch",hideFromCompletions:!1,requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,injectParentScope:!1,parameters:If,introducedIn:null,augmentScope:(t,e)=>(e.addVariables(Sf(t)),e),resovleParameterCompletionItems:Ef,resolveDocumentation:t=>U("glide:batch Tag","The `glide:batch` tag is similar to the glide tag, but can be used to apply image manipulations to multiple images within a piece of content.","https://statamic.dev/tags/glide-batch")},Af=bF;var TF=[Be(Af)],vF={tagName:"glide",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!1,parameters:If,introducedIn:null,augmentScope:(t,e)=>(e.addVariables(Sf(t)),e),resovleParameterCompletionItems:Ef,resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="glide"||t.leftWord=="/glide")&&t.leftChar==":"?de(TF):Oe,resolveDocumentation:t=>U("glide Tag","The `glide` tag is used to manipulate images on the fly. Image manipulations may include resizing, cropping, or adjusting sharpness and constrast, amongst many others.","https://statamic.dev/tags/glide")},U0=vF;var W0={tagName:"iterate",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Optionally rename the key/value variables",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"array",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The array to iterate",expectsTypes:["array"],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>U("iterate Tag","The `iterate` tag can be used to iterate over arbitrary arrays.","https://statamic.dev/tags/foreach")},G0={tagName:"foreach",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Optionally rename the key/value variables",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"array",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The array to iterate",expectsTypes:["array"],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>U("foreach Tag","The `foreach` tag can be used to iterate over arbitrary arrays.","https://statamic.dev/tags/foreach")};function H0(t){return[{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t},{name:"name",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}]}var xf=[{isRequired:!1,name:"id",description:"The ID of the content to localize",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"sort",description:"Sort by a sites key",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"current_first",description:"When true, ensures that the current locale is first",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"all",description:"When true, all locale data will be returned.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!0,name:"self",description:"When true, the current locale will be included.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1}];var NF={tagName:"locales:count",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,parameters:xf,introducedIn:"3.0.36",resolveDocumentation:t=>U("locales:count Tag","The `locales:count` tag can be used to count the number of locales the current content is available in.","https://statamic.dev/tags/locales-count")},Rf=NF;var CF=[Be(Rf)],PF={tagName:"locales",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,parameters:xf,introducedIn:null,augmentScope:(t,e)=>(e.addVariableArray("locale",H0(t)),e.addVariable({name:"current",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"is_current",dataType:"boolean",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"exists",dataType:"boolean",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"permalink",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e),resolveDocumentation:t=>U("locales Tag","The `locales` tag can be used to access all the locales the current content is available in.","https://statamic.dev/tags/locales"),resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="locale"||t.leftWord=="/locale")&&t.leftChar==":"?de(CF):Oe},Y0=PF;var DF={tagName:"mix",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"src",description:"The path to the versioned file, relative to the public directory",acceptsVariableInterpolation:!1,aliases:["path"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"in",description:"The location of the mix manifest file",acceptsVariableInterpolation:!1,aliases:["from"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1}],resolveDocumentation:t=>U("mix Tag","The `mix` tag is used to return the path of CSS and JavaScript files versioned with [Laravel Mix](https://laravel.com/docs/8.x/mix).","https://statamic.dev/tags/mix")},$0=DF;var hu=le(wt());function K0(t){let e=[],n=t.getUniqueUserGroupNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:hu.CompletionItemKind.Field});return e}function z0(t){let e=[],n=t.getUniqueUserRoleNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:hu.CompletionItemKind.Field});return e}function Yo(t,e){let n=[],r=e.getUniqueUserGroupNames(),i=r.filter(s=>!t.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:hu.CompletionItemKind.Field});return n}function $o(t,e){let n=[],r=e.getUniqueUserRoleNames(),i=r.filter(s=>!t.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:hu.CompletionItemKind.Field});return n}var SF={tagName:"user:in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="groups"||t.name=="group")&&((n=e.context)==null?void 0:n.parameterContext)!=null?de(Yo((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>U("user:in Tag","The `user:in` tag can be used to check if the currently authenticated user belongs to one or more user groups. When used as a tag pair, the tag contents will only be rendered if the user belongs to the specified groups.","https://statamic.dev/tags/user-in")},wf=SF;var IF={tagName:"user:not_in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="groups"||t.name=="group")&&((n=e.context)==null?void 0:n.parameterContext)!=null?de(Yo((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>U("user:not_in Tag","The `user:not_in` tag can be used to check if the currently authenticated user does not belong to one or more user groups. When used as a tag pair, the tag contents will be rendered if the user does not belong to the specified groups.","https://statamic.dev/tags/user-in#not-in")},Ko=IF;var EF={tagName:"user:is",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="roles"||t.name=="role")&&((n=e.context)==null?void 0:n.parameterContext)!=null?de($o((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>U("user:is Tag","The `user:is` tag can be used to check whether the currently authenticated user has one or more roles.","https://statamic.dev/tags/user-is")},zo=EF;var AF={tagName:"user:isnt",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="roles"||t.name=="role")&&((n=e.context)==null?void 0:n.parameterContext)!=null?de($o((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>U("user:isnt Tag","The `user:isnt` tag can be used to check whether the currently authenticated user does not have one or more roles.","https://statamic.dev/tags/user-is#isnt")},Xo=AF;var xF={tagName:"in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="groups"||t.name=="group")&&((n=e.context)==null?void 0:n.parameterContext)!=null?de(Yo((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveCompletionItems:t=>(t.leftWord=="in"||t.leftWord=="/in")&&t.leftChar==":"?de(K0(t.project)):Oe,resolveDocumentation:t=>U("in Tag","The `in` tag can be used to check if the authenticated user belongs to one or more groups. This tag operates similarly to the `user:in` tag.","https://statamic.dev/tags/user-in")},X0=xF;var RF={tagName:"not_found",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>$e("404 (Not Found) Tag","The `not_found` tag will trigger a 404 status code, and display the 404 template to the site visitor.",`{{ unless logged_in }}
	{{# Display the 404 Not Found page. #}}
	{{ not_found }}
{{ /unless }}`,"https://statamic.dev/tags/404")},Q0=RF;var wF={tagName:"is",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="roles"||t.name=="role")&&((n=e.context)==null?void 0:n.parameterContext)!=null?de($o((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveCompletionItems:t=>(t.leftWord=="is"||t.leftWord=="/is")&&t.leftChar==":"?de(z0(t.project)):Oe,resolveDocumentation:t=>U("is Tag","The `is` tag can be used to check whether the currently authenticated user has one or more roles. This tag behaves the same as the `user:is` tag.","https://statamic.dev/tags/user-is")},J0=wF;var OF={tagName:"widont",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>$e("widont Tag","The `widont` tag is similar to the [widont modifier](https://statamic.dev/modifiers/widont), and will attempt to prevent lines with a single word from appearing within the tags rendered output.",`{{ widont }}
    {{ content }}
{{ /widont }}`,null)},Z0=OF;var Of=[{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"id",description:"The user ID to fetch",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"email",description:"The email address to find the user by",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"field",description:"The field to fetch the user by",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"value",description:"The value to search for",expectsTypes:["string"],isDynamic:!1}];var FF={tagName:"user:profile",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:Of,introducedIn:null,augmentScope:(t,e)=>(e.injectBlueprint(t,"user"),e),resovleParameterCompletionItems:(t,e)=>t.name=="field"?de(Xc(e.project.getUserFields())):Oe,resolveDocumentation:t=>U("user:profile Tag","The `user:profile` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null)},Qo=FF;var eN={tagName:"dd",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>$e("dd Tag","The `dd` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered. This tag will stop the template from rendering after it is encountered.  If Ignition is available, this tag will use the [ddd](https://flareapp.io/blog/1-introducing-ddd-a-new-global-helper-for-laravel) method.",`{{ collection:articles }}
	{{#
		View all data available, for the first
		entry that renders the dd tag.
	#}}
    {{ dd }}
{{ /collection:articles }}`,null)},tN={tagName:"ddd",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>$e("ddd Tag","The `ddd` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered. This tag will stop the template from rendering after it is encountered.  If Ignition is available, this tag will use the [ddd](https://flareapp.io/blog/1-introducing-ddd-a-new-global-helper-for-laravel) method.",`{{ collection:articles }}
	{{#
		View all data available, for the first
		entry that renders the ddd tag.
	#}}
    {{ ddd }}
{{ /collection:articles }}`,null)};var LF={tagName:"path",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,acceptsVariableInterpolation:!1,aliases:["src"],allowsVariableReference:!0,description:"The path source",name:"to",isDynamic:!1,expectsTypes:["string"]},{isRequired:!1,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],description:"Whether to generate absolute paths",expectsTypes:["boolean"],isDynamic:!1,name:"absolute"}],resolveDocumentation:t=>U("path Tag","The `path` tag can be used to generate URLs from relative URLs, or an entry ID.",null)},nN=LF;var kF={tagName:"user:cant",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,resovleParameterCompletionItems:mf,parameters:[{name:"do",acceptsVariableInterpolation:!1,aliases:["permission"],allowsVariableReference:!1,description:"The permissions to check against",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resolveDocumentation:t=>U("user:cant Tag","The `user:cant` tag is used to check if the currently authenticated user does not have a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user does not have the specified permissions.","https://statamic.dev/tags/user-can#cant")},Ff=kF;var MF={tagName:"query",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,parameters:[{name:"builder",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The query to evaluate",expectsTypes:["string"],isRequired:!0,isDynamic:!1}]},rN=MF;var wa=le(wt());var $i=[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"src",description:"The relative path to the file",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"cache_bust",description:"Whether to output the last modified date",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"version",description:"Whether to check a versioning manifest to produce the final URL",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"absolute",description:"Generate absolute URLs or not",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"locale",description:"The locale the path should be generated in",expectsTypes:["string"],isDynamic:!1}];var BF=[{label:"asset",kind:wa.CompletionItemKind.Text},{label:"css",kind:wa.CompletionItemKind.Text},{label:"img",kind:wa.CompletionItemKind.Text},{label:"js",kind:wa.CompletionItemKind.Text},{label:"output",kind:wa.CompletionItemKind.Text},{label:"path",kind:wa.CompletionItemKind.Text}],qF={tagName:"theme",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,introducedIn:null,injectParentScope:!1,parameters:$i,resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="theme"||t.leftWord=="/theme")&&t.leftChar==":"?de(BF):Oe},iN=qF;var zm={tagName:"theme:path",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:$i,resolveDocumentation:t=>U("theme:path Tag","The `theme:path` tag may be used to generate URLs for public assets. This tag may also optionally add the current locale, generate relative URLs, or add cache busting URL parameters to the end of the generated URL.",null)},sN=Pt(zm,"theme:asset");var VF={tagName:"theme:css",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...$i,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]}],resolveDocumentation:t=>U("theme:css Tag","The `theme:css` tag may be used to generate a CSS path relative to a public `css/` directory for any arbitrary file path. This tag may also optionally create the HTML `link` tag.",null)},aN=VF;var jF={tagName:"theme:img",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...$i,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]},{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"alt",description:"The alt text to use when generating the HTML tag",expectsTypes:["string"]}],resolveDocumentation:t=>U("theme:img Tag","The `theme:img` tag may be used to generate an image path relative to a public `img/` directory for any arbitrary file path. This tag may also optionally create the HTML `img` tag.",null)},oN=jF;var UF={tagName:"theme:js",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...$i,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]}],resolveDocumentation:t=>U("theme:js Tag","The `theme:js` tag may be used to generate a JavaScript path relative to a public `js/` directory for any arbitrary file path. This tag may also optionally create the HTML `script` tag.",null)},lN=UF;var WF={tagName:"theme:output",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],name:"src",description:"The path to the file",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],name:"as",description:"An optional alias for the contents variable",expectsTypes:["string"],isDynamic:!1}],augmentScope:(t,e)=>{if(t.isClosedBy!=null){let n=t.findParameter("as");n!=null?e.addVariable({name:n.value,dataType:"string",sourceField:null,sourceName:"*internal.theme.context",introducedBy:t}):e.addVariable({name:"output_contents",dataType:"string",sourceField:null,sourceName:"*internal.theme.context",introducedBy:t})}return e},resolveDocumentation:t=>U("theme:output Tag","The `theme:output` tag may be used to output the contents of any arbitrary file, relative to the site's `resources/` directory.",null)},uN=WF;var GF={tagName:"scope",hideFromCompletions:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>$e("scope Tag","The `scope` tag creates a copy of all available variables, and saves them to a new  *array* variable defined by the tag's method part.",`{{ scope:scope_name }}
    {{ scope_name:title }}
{{ /scope:scope_name }}
`,null)},cN=GF;var HF={tagName:"if",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:at,resolveDocumentation:t=>U("if Conditional Control Structure","The contents of the `if` tag will be rendered when it's expression evaluates to `true`.","https://statamic.dev/antlers#conditions")},fN=HF;var YF={tagName:"elseif",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:at,resolveDocumentation:t=>U("elseif Conditional Control Structure","The contents of the `elseif` tag will be rendered when it's expression evaluates to `true`.","https://statamic.dev/antlers#conditions")},pN=YF;var $F={tagName:"else",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDocumentation:t=>U("else Conditional Control Structure","The contents of the `else` control structure will be evaluated when all previous conditional branch conditions were not met.","https://statamic.dev/antlers#conditions")},dN=$F;var mN=le(wt());var KF={tagName:"session:has",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!0,parameters:[],introducedIn:"3.1.28",resolveDynamicParameter:at,resolveDocumentation:t=>U("session:has Tag","The `session:has` tag can be used to determine of the user's session contains a specific variable.","https://statamic.dev/tags/session-has")},Lf=KF;var zF=[Be(gf),Be(bf),Be(_f),Be(yf),Be(Lf),Be(hf)],XF={tagName:"session",requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",description:"An optional alias for the session data",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveCompletionItems:t=>{var e,n;if(t.isPastTagPart==!1&&(t.leftWord=="session"||t.leftWord=="/session")&&t.leftChar==":"){let r=(n=(e=xa.instance)==null?void 0:e.getKnownSessionVariableNames())!=null?n:[],i=[];i=i.concat(zF);for(let s=0;s<r.length;s++)i.push({label:r[s],kind:mN.CompletionItemKind.Variable});return de(i)}return Oe},augmentScope:(t,e)=>{var s,a;let n=t.findParameter("as"),r=(a=(s=xa.instance)==null?void 0:s.getKnownSessionVariableNames())!=null?a:[],i=[];for(let o=0;o<r.length;o++)i.push({dataType:"*",name:r[o],sourceField:null,sourceName:"project.session",introducedBy:t});return n==null?e.addVariables(i):e.addVariableArray(n.value,i),e}},hN=XF;var gu={tagName:"user:forgot_password_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",description:"Where the user should be taken after submitting the form",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:at,augmentScope:(t,e)=>(e.addVariables([{name:"success",dataType:"boolean",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t},{name:"url_invalid",dataType:"boolean",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t},{name:"errors",dataType:"array",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t}]),e),resolveDocumentation:t=>U("user:forgot_password_form Tag",'The `user:forgot_password_form` tag is used to quickly create a "forgot password" form for site users.',"https://statamic.dev/tags/user-forgot_password_form")},Xm=Pt(gu,"member:forgot_password_form");Xm.resolveDocumentation=t=>U("member:forgot_password_form Tag",'The `member:forgot_password_form` tag is used to quickly create a "forgot password" form for site users.',"https://statamic.dev/tags/user-forgot_password_form");var _u={tagName:"user:reset_password_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",description:"Where the user should be taken after submitting the form",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:at,augmentScope:(t,e)=>(e.addVariables([{name:"success",dataType:"boolean",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t},{name:"url_invalid",dataType:"boolean",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t},{name:"errors",dataType:"array",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t}]),e),resolveDocumentation:t=>U("user:reset_password_form Tag","The `user:reset_password_form` tag is used to quickly create password reset forms. Forms created with this tag should be displayed after a user has received and clicked a password reset email link.","https://statamic.dev/tags/user-reset_password_form")},Qm=Pt(_u,"member:reset_password_form");Qm.resolveDocumentation=t=>U("member:reset_password_form Tag","The `member:reset_password_form` tag is used to quickly create password reset forms. Forms created with this tag should be displayed after a user has received and clicked a password reset email link.","https://statamic.dev/tags/user-reset_password_form");function gN(t,e){return{sourceName:e.blueprintName,dataType:e.type,name:e.name,sourceField:e,introducedBy:t}}function _N(t){let e=new Map;for(let n=0;n<t.length;n++)e.set(t[n].name,t[n]);return e}function Jo(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push({sourceName:i.blueprintName,dataType:i.type,name:i.name,sourceField:i,introducedBy:t})}return n}function kf(t){return[{name:"handle",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"display",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"type",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"field",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"error",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"instructions",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"old",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t}]}var yu={tagName:"user:register_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after registering",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after failed registration attempts",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override the redirect and error_redirect parameters",acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:at,augmentScope:(t,e)=>{e.addVariableArray("fields",kf(t)),e.addVariable({name:"errors",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"old",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"error",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"success",dataType:"string",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t});let n=e.statamicProject.getUserFields();if(n.length>0){let r=Jo(t,n);e.addVariableArray("old",r),e.addVariableArray("error",r)}return e},resolveDocumentation:t=>U("user:register_form  Form Tag","The `user:register_form` tag can be used to build out public registration forms for new users.","https://statamic.dev/tags/user-register_form")},Jm=Pt(yu,"member:register_form");Jm.resolveDocumentation=t=>U("member:register_form Tag","The `member:register_form` tag can be used to build out public registration forms for new users.","https://statamic.dev/tags/user-register_form");var QF=[Be(zo),Be(Ko),Be(Xo),Be(Qo),Be(Wo),Be(Ff),Be(gu),Be(Go),Be(Ho),Be(yu),Be(_u)],JF={tagName:"user",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:Of,introducedIn:null,resovleParameterCompletionItems:(t,e)=>e.isPastTagPart==!1&&e.currentNode!=null&&e.currentNode.methodIsEmptyOrMatches("profile")&&t.name=="field"?de(Xc(e.project.getUserFields())):Oe,augmentScope:(t,e)=>(t.methodIsEmptyOrMatches("profile")&&e.injectUserFields(t),e),resolveCompletionItems:t=>(t.leftWord=="user"||t.leftWord=="/user"||t.leftWord=="member"||t.leftWord=="/member")&&t.leftChar==":"?de(QF):Oe,resolveDocumentation:t=>U("user Tag","The `user` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null)},Mf=JF;var Bf=Pt(Mf,"member"),Zm=Pt(zo,"member:is"),eh=Pt(Xo,"member:isnt"),th=Pt(Qo,"member:profile"),nh=Pt(Wo,"member:can"),rh=Pt(Go,"member:logout"),ih=Pt(Ho,"member:logout_url"),sh=Pt(wf,"member:in"),ah=Pt(Ko,"member:not_in");Bf.hideFromCompletions=!0;Bf.resolveDocumentation=t=>U("member Tag","The `member` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null);Zm.resolveDocumentation=t=>U("member:is Tag","The `member:is` tag can be used to check whether the currently authenticated user has one or more roles.","https://statamic.dev/tags/user-is");eh.resolveDocumentation=t=>U("member:isnt Tag","The `member:isnt` tag can be used to check whether the currently authenticated user does not have one or more roles.","https://statamic.dev/tags/user-is#isnt");th.resolveDocumentation=t=>U("member:profile Tag","The `member:profile` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null);nh.resolveDocumentation=t=>U("member:can Tag","The `member:can` tag is used to check if the currently authenticated user has a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user has the specified permissions.","https://statamic.dev/tags/user-can");rh.resolveDocumentation=t=>U("member:logout Tag","The `member:logout` tag will sign out the currently authenticated user. An optional `redirect` parameter may be used to redirect the visitor to a different page after being logged out.","https://statamic.dev/tags/user-logout");ih.resolveDocumentation=t=>$e("member:logout_url","The `member:logout_url` tag can be used to retrieve the URL that will sign the current user out.",'<a href="{{ member:logout_url }}">Log out</a>',"https://statamic.dev/tags/user-logout_url");sh.resolveDocumentation=t=>U("member:in Tag","The `member:in` tag can be used to check if the currently authenticated user belongs to one or more user groups. When used as a tag pair, the tag contents will only be rendered if the user belongs to the specified groups.","https://statamic.dev/tags/user-in");ah.resolveDocumentation=t=>U("member:not_in Tag","The `member:not_in` tag can be used to check if the currently authenticated user does not belong to one or more user groups. When used as a tag pair, the tag contents will be rendered if the user does not belong to the specified groups.","https://statamic.dev/tags/user-in#not-in");function Gs(t){return[{name:"title",dataType:"string",sourceField:null,sourceName:"*internal.routeable",introducedBy:t},{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.routeable",introducedBy:t}]}var TN=le(wt());var oh=["from","taxonomy","is","use","folder"],lh=["not_from","not_in","dont_use","not_taxonomy"];var uh=oh;uh=uh.concat(lh);function yN(t,e){var n,r,i,s,a,o,l,u;if(e.nodesInScope.length>0){let c=e.nodesInScope[e.nodesInScope.length-1];if(c!=null&&c.currentScope!=null){let f=Zo(c,e.project),d=e.project.getTaxonomyBlueprintFields(f),m=d.map(h=>h.name),p=ds(e.leftWord);if(m.includes(p))return de(Bs(e))}}return t.name=="collection"&&((n=e.context)==null?void 0:n.parameterContext)!=null?de(Oo((s=(i=(r=e.context)==null?void 0:r.parameterContext.parameter)==null?void 0:i.getArrayValue())!=null?s:[],e.project)):t.name=="filter"||t.name=="query_scope"?de(Jc(e.project)):uh.includes(t.name)&&((a=e.context)==null?void 0:a.parameterContext)!=null?de(bN((u=(l=(o=e.context)==null?void 0:o.parameterContext.parameter)==null?void 0:l.getArrayValue())!=null?u:[],e.project)):null}function Zo(t,e){let n=[];if(t.hasMethodPart())return n.push(t.getMethodNameValue()),n;let r=t.findAnyParameter(oh),i=t.findAnyParameter(lh),s=[],a=[];return typeof r!="undefined"&&r!==null&&(r.value.trim()==="*"?(s=e.getUniqueTaxonomyNames(),typeof i!="undefined"&&i!==null&&i.isVariableReference==!1&&i.hasInterpolations()==!1&&(a=i.getArrayValue())):r.isVariableReference==!1&&r.hasInterpolations()==!1&&(s=r.getArrayValue())),a.length>0?n=s.filter(function(o){return a.includes(o)==!1}):n=s,n}function bN(t,e){let n=[],r=e.getUniqueTaxonomyNames().filter(i=>!t.includes(i));for(let i=0;i<r.length;i++)n.push({label:r[i],kind:TN.CompletionItemKind.Variable});return n}function vN(t,e){let n=Zo(t,e.statamicProject),r=e.statamicProject.getTaxonomyBlueprintFields(n),i=t.findParameter("collection");if(e.addBlueprintFields(t,r),e.addVariables([{name:"first",dataType:"boolean",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"last",dataType:"boolean",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"count",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"index",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"total_results",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"entries_count",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t}]),e.addVariables(Gs(t)),typeof i!="undefined"&&i!==null){let s=i.getArrayValue();if(s.length>0){let a=e.statamicProject.getBlueprintFields(s);e.introduceScopedAliasScope(t,"entries","entries",a).addVariables(qs(t))}else e.addVariableArray("entries",Gs(t).concat(qs(t)))}else e.addVariableArray("entries",Gs(t).concat(qs(t)));return e}var ZF=[{name:"from",description:"The taxonomy to use",aliases:["taxonomy","is","use","folder"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1,isRequired:!1},{name:"not_from",description:"Taxonomies to exclude",aliases:["not_in","not_folder","dont_use","not_taxonomy"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["string","array"],isRequired:!1,isDynamic:!1},{name:"min_count",description:"The minimum number of entries a taxonomy term must have to be returned",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"collection",description:"Filter the terms to those that appear in the specified collections",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string","array"],isDynamic:!1,isRequired:!1},{name:"sort",description:"The field to sort terms by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{isRequired:!1,name:"filter",aliases:["query_scope"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Specifies a custom query scope",expectsTypes:["string"],isDynamic:!1}],NN=ZF;var ch=le(wt());function CN(t){var n,r;let e=[];if(t.currentNode!=null&&t.currentNode.currentScope!=null){let i=Zo(t.currentNode,t.project),s=t.project.getTaxonomyBlueprintFields(i),a=s.map(l=>l.name),o=ds(t.leftWord);if(a.includes(o))return de(Bs(t));if(t.isCaretInTag&&!((n=t.context)==null?void 0:n.interpolatedContext)&&["taxonomy","/taxonomy"].includes(t.leftWord)==!1){let l=[];for(let u=0;u<s.length;u++){let c=s[u];l.includes(c.name)==!1&&(e.push({label:c.name,detail:c.blueprintName,documentation:(r=c.instructionText)!=null?r:"",kind:ch.CompletionItemKind.Field}),l.push(c.name))}if(e.length>0)return jn(e)}}if((t.leftWord=="taxonomy"||t.leftWord=="/taxonomy")&&t.leftChar==":"){let i=t.project.getUniqueTaxonomyNames();for(let s=0;s<i.length;s++)e.push({label:i[s],kind:ch.CompletionItemKind.Field});return jn(e)}return Oe}var eL={tagName:"taxonomy",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,introducedIn:null,injectParentScope:!1,parameters:NN,resolveDynamicParameter:at,resolveCompletionItems:CN,resovleParameterCompletionItems:yN,augmentScope:vN,resolveDocumentation:t=>U("taxonomy Tag","The `taxonomy` tag may be used to retrieve taxonomy entries. The taxonomy tag can also be used to access entries associated with any given taxonomy term.","https://statamic.dev/tags/taxonomy")},PN=eL;var fh=le(wt());function DN(t,e){e.addVariables([{name:"is_published",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_page",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_entry",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"has_entries",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_parent",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_current",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_external",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"depth",dataType:"number",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"children",dataType:"array",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"count",dataType:"integer",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"index",dataType:"integer",sourceField:null,sourceName:"*internal.nav",introducedBy:t}]);let n=e.statamicProject.getUniqueCollectionNames(),r=[],i=!1;if(t.hasMethodPart()){let s=t.getMethodNameValue().trim().toLowerCase();if(s.startsWith("collection:")){let a=s.split(":").pop();i=!0,r.push(a)}else s=="pages"?(i=!0,r.push("pages")):(i=!1,r.push(s))}else{let s=t.findParameter("handle");s!=null&&(n.includes(s.value)?i=!0:i=!1,r.push(s.value))}if(i){let s=e.statamicProject.getBlueprintFields(r);e.addBlueprintFields(t,s),e.expandScopedAliasScope(t,"page","page",s)}else{let s=Qc(Gs(t));e.addBlueprintFields(t,s),e.expandScopedAliasScope(t,"page","page",s)}return e}var tL={tagName:"nav:breadcrumbs",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,introducedIn:null,injectParentScope:!1,parameters:[{name:"include_home",description:"Whether to include the home page in the first level",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1},{name:"reverse",description:"Whether to reverse the order of links",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isRequired:!1,isDynamic:!1},{name:"trim",description:"Whether to trim the whitespace after each iteration of the loop",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],augmentScope:(t,e)=>(e.addVariables([{name:"is_current",dataType:"boolean",sourceName:"*internal.nav.breadcrumbs",sourceField:null,introducedBy:t}]),e.addVariables(Gs(t)),e),resolveDocumentation:t=>U("nav:breadcrumbs Tag","The `nav:breadcrumbs` tag can be used to retrieve the URLs of all pages that make up the current URL back to the site's home page.","https://statamic.dev/tags/nav-breadcrumbs")},qf=tL;function SN(t,e){if(t.name=="handle"){let n=e.project.getUniqueCollectionNames(),r=e.project.getUniqueNavigationMenuNames(),i=[];return i=n,i=i.concat(r),i=[...new Set(i)],Bt(i)}return null}var nL=[{isRequired:!1,acceptsVariableInterpolation:!1,aliases:["handle"],allowsVariableReference:!1,name:"for",description:"The navigation or collection to use",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],name:"from",description:"The starting point for the navigation",allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"show_unpublished",description:"Whether to include unpublished content",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"include_home",description:"Whether to include the home page in the tree",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"max_depth",description:"The maximum depth of the navigation or structure",expectsTypes:["number"],isDynamic:!1}],IN=nL;var ph={tagName:"structure",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,injectParentScope:!1,parameters:IN,augmentScope:DN,resovleParameterCompletionItems:SN,resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="nav"||t.leftWord=="/nav"||t.leftWord=="structure"||t.leftWord=="/structure")&&t.leftChar==":"){let n=t.project.getUniqueNavigationMenuNames();for(let r=0;r<n.length;r++)e.push(ks(n[r],"",""));return(t.leftWord=="nav"||t.leftWord=="/nav")&&e.push(Be(qf)),e.push(ks("collection","","")),e.push({label:"collection",kind:fh.CompletionItemKind.Text}),jn(e)}if((t.leftWord=="nav:collection"||t.leftWord=="/nav:collection"||t.leftWord=="collection"||t.leftWord=="/collection"||t.leftWord=="structure:collection"||t.leftWord=="/structure:collection")&&t.leftChar==":"){let n=t.project.getUniqueCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:fh.CompletionItemKind.Field});return jn(e)}return Oe},resolveDocumentation:t=>U("nav Tag","The `nav` tag can be used to iterate structured collections or navigation menus.","https://statamic.dev/tags/nav")},EN=Pt(ph,"nav");var RN=le(wt());function AN(t){return[{name:"success",dataType:"string",sourceField:null,sourceName:"*internal.forms",introducedBy:t},{name:"submission_created",dataType:"boolean",sourceField:null,sourceName:"*internal.forms",introducedBy:t}]}var rL={name:"in",description:"The form to use",acceptsVariableInterpolation:!0,aliases:["handle","is","form","formset"],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},Ki=rL;var dh=le(wt()),iL=[{label:"GET",kind:dh.CompletionItemKind.EnumMember},{label:"POST",kind:dh.CompletionItemKind.EnumMember}],xN=iL;var wi=["in","handle","is","form","formset"];function el(t,e){return wi.includes(t.name)?Bt(e.project.getUniqueFormNames()):t.name=="method"?de(xN):t.name=="files"?de(ko):null}function zi(t,e){let n=t.structure.findParentWithName("form:set");return n!=null?{context:n,issues:[]}:{context:null,issues:[]}}var sL=["set","create","errors","success","submissions","submission"];function Oa(t){if(t.reference!=null&&"tagPart"in t.reference){let r=t.reference;if(r.nameMatches("form:set"))return Oa(r)}let e=t.findAnyParameter(wi),n=t.getMethodNameValue();return n!=null&&sL.includes(n)==!1?n:typeof e!="undefined"&&e!==null&&e.containsSimpleValue()?e.value:""}var aL={tagName:"form:create",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[Ki,{name:"method",description:"The HTTP method to use",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"files",description:"Indicates if the form sends file data",aliases:[],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1},{name:"redirect",description:"The location to redirect users after a successful form submission",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",description:"The location to redirect users to after a failed form submission",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override redirect or error_redirect",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveSpecialType:zi,resovleParameterCompletionItems:el,resolveDynamicParameter:at,augmentScope:(t,e)=>{e.addVariables(AN(t)),e.addVariable({dataType:"array",name:"errors",sourceField:null,sourceName:"*internal.forms",introducedBy:t}),e.addVariableArray("fields",kf(t));let n=Oa(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n),i=Jo(t,r);e.addVariableArray("old",i),e.addVariableArray("error",i)}return e},resolveDocumentation:t=>U("form:create Tag","The `form:create` tag can be used to access form data, generate field HTML markup, and handle form validation errors.","https://statamic.dev/tags/form-create")},Vf=aL;var oL={tagName:"form:errors",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[Ki],resolveSpecialType:zi,resovleParameterCompletionItems:(t,e)=>wi.includes(t.name)?Bt(e.project.getUniqueFormNames()):null,resolveDocumentation:t=>U("form:errors Tag","The `form:errors` tag can be used to retrieve validation errors after a user has submitted a form.","https://statamic.dev/tags/form-errors")},jf=oL;var lL={tagName:"form:set",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"in",description:"The form to use",acceptsVariableInterpolation:!0,aliases:["handle","is","form","formset"],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!0}],resovleParameterCompletionItems:el,resolveDocumentation:t=>U("form:set Tag","The `form:set` tag can be used to set the form handle on all nested form tags.","https://statamic.dev/tags/form-set")},Uf=lL;var uL={tagName:"form:submission",requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[Ki],resolveSpecialType:zi,resovleParameterCompletionItems:(t,e)=>wi.includes(t.name)?Bt(e.project.getUniqueFormNames()):null,augmentScope:(t,e)=>{let n=Oa(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n);e.addBlueprintFields(t,r)}return e},resolveDocumentation:t=>U("form:submission Tag","The `form:submission` tag can be used to access the form submission submitted by the current user.","https://statamic.dev/tags/form-submission")},Wf=uL;var cL={tagName:"form:submissions",allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,introducedIn:null,parameters:[Ki],resolveSpecialType:zi,resovleParameterCompletionItems:(t,e)=>wi.includes(t.name)?Bt(e.project.getUniqueFormNames()):null,augmentScope:(t,e)=>{if(t.isClosingTag)return e;let n=Oa(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n);e.addBlueprintFields(t,r)}return e.addVariable({name:"date",dataType:"date",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e.addVariable({name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e.addVariable({name:"total_results",dataType:"number",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e},resolveDocumentation:t=>U("form:submissions Tag","The `form:submissions` tag can be used to fetch previously saved submissions for a form.","https://statamic.dev/tags/form-submissions")},Gf=cL;var fL={tagName:"form:success",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[Ki],resolveSpecialType:zi,resovleParameterCompletionItems:(t,e)=>wi.includes(t.name)?Bt(e.project.getUniqueFormNames()):null,resolveDocumentation:t=>U("form:success Tag","The `form:success` tag can be used to check if a form submission was successful or not.","https://statamic.dev/tags/form-success")},Hf=fL;var pL=[Be(Uf),Be(Vf),Be(jf),Be(Hf),Be(Gf),Be(Wf)],dL={tagName:"form",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[],resovleParameterCompletionItems:el,resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="form"||t.leftWord=="/form")&&t.leftChar==":"){let n=t.project.getUniqueFormNames();e=e.concat(pL);for(let r=0;r<n.length;r++)e.push({label:n[r],kind:RN.CompletionItemKind.Field});return jn(e)}return Oe}},wN=dL;var mh={tagName:"search:results",allowsArbitraryParameters:!1,requiresClose:!0,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"index",description:"The index to search in",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"query",description:"The query string parameter to use",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"limit",description:"The maximum number of search results to return",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1,expectsTypes:["number"]},{name:"offset",description:"The number of results to skip",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1,expectsTypes:["number"]},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets whether not to paginate entry results",expectsTypes:["boolean"],isRequired:!1,name:"paginate",isDynamic:!1},{name:"as",description:"Specifies an alias for search results",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"supplement_data",description:"Controls whether non-indexed fields are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resovleParameterCompletionItems:(t,e)=>t.name=="index"?Bt(e.project.getSearchIndexes()):null,augmentScope:(t,e)=>{e.addVariables([{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"total_results",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t}]);let n=t.findParameter("as");return n!=null&&n.value.trim().length>0?e.addVariableArray(n.value,ON(t)):e.addVariables(ON(t)),e},resolveDocumentation:t=>U("search:results Tag","The `search:results` tag provides access to all data that was returned as a result of a user's search.","https://statamic.dev/tags/search")},mL=[Be(mh)];function ON(t){return[{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"title",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"content",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"is_entry",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"is_term",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"count",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"index",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"search_score",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"_highlightResult",dataType:"array",sourceField:null,sourceName:"*internal.search.results",introducedBy:t}]}var FN={tagName:"search",allowsArbitraryParameters:!1,requiresClose:!0,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="search"||t.leftWord=="/search")&&t.leftChar==":"?jn(mL):Oe};function hh(t){return[{name:"email",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t},{name:"password",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t}]}var gh={tagName:"user:login_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after logging in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after failed login attempts",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override the redirect and error_redirect parameters",acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:at,augmentScope:(t,e)=>(e.addVariables([{name:"errors",dataType:"array",sourceName:"*internal.user.login",sourceField:null,introducedBy:t},{name:"success",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t}]),e.addVariables(hh(t)),e.addVariableArray("old",hh(t)),e.addVariableArray("error",hh(t)),e),resolveDocumentation:t=>U("user:login_form Tag","The `user:login_form` tag can be used to quickly create a form that users can use to authenticate with the site.","https://statamic.dev/tags/user-login_form")},LN=Pt(gh,"member:login_form");var hL={tagName:"noparse",requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>U("noparse Tag","The `noparse` tag is used prevent blocks of Antlers code from being parsed, removing the need to escape individual Antlers code regions.","https://statamic.dev/antlers#the-noparse-tag")},kN=hL;var gL={tagName:"unless",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:at,resolveDocumentation:t=>U("unless Conditional Control Structure","The `unless` control structure operates the same as an `if` statement, but has it's logic inverted.","https://statamic.dev/antlers#conditions")},MN=gL;var _L={tagName:"elseunless",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:at,resolveDocumentation:t=>U("elseunless Conditional Control Structure","The `elseunless` control structure operates the same as an `elseif` statement, but has it's logic inverted.","https://statamic.dev/antlers#conditions")},BN=_L;var qN=le(Cn());var VN={tagName:"installed",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!0,introducedIn:"3.1.19",parameters:[],resolveCompletionItems:t=>{if(t.project!=null){let e=t.project.getComposerPackages(),n=[];return e.forEach((r,i)=>{n.push({label:r.name,kind:qN.CompletionItemKind.Text})}),de(n)}return Oe},resolveDocumentation:t=>$e("installed Tag","The `installed` tag is used to check if the site has a specific Composer package available.",`{{ if {installed:composer/package-name} }}
    {{# Package is availabl.e #}}
{{ else }}
    {{# Something else. #}}
{{ /if }}`,"https://statamic.dev/tags/installed")};var yL={tagName:"relate",hideFromCompletions:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,introducedIn:null,parameters:[]},jN=yL;var tl=[{name:"bag",description:"The error message bag to retrieve errors from.",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1}];var bL={tagName:"get_errors",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:tl,introducedIn:"3.2.23",augmentScope:(t,e)=>{var n;if(t.isClosingTag)return e;if(((n=t.name)==null?void 0:n.methodPart)==null){let r=e.copy();r.addVariable({dataType:"string",introducedBy:t,name:"field",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"field",refFieldSetField:null,sets:null,type:"string"}});let i=r.copy();i.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),r.addScopeList("messages",i),e.addScopeList("fields",r)}else{let r=e.copy();r.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e.addScopeList("messages",r)}return e},resolveDocumentation:t=>U("get_errors Tag","The `get_errors` tag can be used to retrieve form validation errors.","https://statamic.dev/tags/get_errors")},UN=bL;var TL={tagName:"get_errors:all",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:tl,introducedIn:null,augmentScope:(t,e)=>{if(t.isClosingTag)return e;let n=e.copy();return n.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors.all",sourceField:{blueprintName:"*internal.tag.get_errors.all",displayName:"get_errors:all",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e.addScopeList("messages",n),e},resolveDocumentation:t=>U("get_errors:all Tag","The `get_errors:all` tag can be used to retrieve all form validation errors.","https://statamic.dev/tags/get_errors#list-all-validation-errors")},WN=TL;var vL={tagName:"get_error",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:tl,introducedIn:null,augmentScope:(t,e)=>(t.isClosingTag||e.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_error",sourceField:{blueprintName:"*internal.tag.get_error",displayName:"get_error",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e),resolveDocumentation:t=>U("get_error Tag","The `get_error` tag can be used to retrieve the first error message for a specific field.","https://statamic.dev/tags/get_errors#get-the-first-error-for-a-specific-field")},GN=vL;var NL={tagName:"set",hideFromCompletions:!0,allowsArbitraryParameters:!0,requiresClose:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[]},HN=NL;var YN=le(Cn());var CL={tagName:"mount_url",hideFromCompletions:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:"3.3.15",parameters:[{isRequired:!1,acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The collection handle",name:"handle",isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>U("mount Tag","The `mount` tag can be used to retrieve the mount URL for a given collection.",null),resovleParameterCompletionItems:(t,e)=>{var n,r,i,s;return t.name=="handle"&&((n=e.context)==null?void 0:n.parameterContext)!=null?de(Oo((s=(i=(r=e.context)==null?void 0:r.parameterContext.parameter)==null?void 0:i.getArrayValue())!=null?s:[],e.project)):null},resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="mount_url"||t.leftWord=="/mount_url")&&t.leftChar==":"){let n=t.project.getCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:YN.CompletionItemKind.Field,sortText:"0"})}return{items:e,analyzeDefaults:!1,isExclusiveResult:!1}}},$N=CL;var PL={tagName:"vite",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"src",description:"The entry point",expectsTypes:["string"],isDynamic:!1}],resolveDocumentation:t=>$e("vite Tag","Generates Vite tags for an entrypoint.",'{{ vite src="entry/point" }}',null)},KN=PL;var DL={tagName:"nocache",requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>$e("nocache Tag","The `nocache` tag is used to mark regions of a template. These regions will continue to update even when using caching strategies such as the full or half-measure cache.",`{{ nocache }} 
    <!-- This content will remain dynamic. -->
{{ /nocache }}`,"https://statamic.dev/tags/nocache")},zN=DL;var XN=[fN,pN,dN,MN,BN,O0,k0,n0,lf,Sa,uf,of,af,jN,wN,Vf,Wf,Gf,Uf,Hf,jf,HN,UN,GN,WN,FN,mh,c0,cf,ff,s0,Q0,i0,tN,eN,r0,M0,q0,U0,Af,a0,o0,l0,W0,G0,f0,pf,Y0,Rf,$0,$N,EN,ph,qf,d0,p0,wf,X0,Ko,zo,J0,VN,Mf,Xo,Wo,Ff,Go,Ho,Qo,gh,_u,gu,yu,Bf,Zm,eh,th,nh,rh,ih,sh,ah,LN,Qm,Xm,Jm,kN,zN,g0,_0,y0,A0,x0,nN,S0,P0,cN,E0,hN,bf,yf,_f,gf,Lf,hf,w0,PN,iN,zm,sN,aN,oN,lN,uN,Pf,R0,Hm,rN,v0,Tf,Z0,KN];var Hs=class{constructor(){this.tags=new Map;this.parameters=new Map}reset(){this.tags.clear(),this.parameters.clear(),this.loadCoreTags()}getVisibleTagsWithDocumentation(){let e=[];return this.tags.forEach((n,r)=>{if(n.hideFromCompletions==!1){let i="";n.resolveDocumentation!=null&&(i=n.resolveDocumentation()),e.push({label:r,documentation:i})}}),e}getVisibleTagNames(){let e=[];return this.tags.forEach((n,r)=>{n.hideFromCompletions==!1&&e.push(r)}),[...new Set(e)]}getPossibleTagMethods(e){let n=[],r=e.length+1;return this.tags.forEach((i,s)=>{if(s.startsWith(e)){let a=s.substr(r).trim();a.length>0&&n.push(a)}}),[...new Set(n)]}getTagNames(){let e=[];return this.tags.forEach((n,r)=>{e.push(r)}),[...new Set(e)]}loadCoreTags(){this.registerTags(XN)}cleanTagName(e){return Br(e,"/")}findTag(e){return this.tags.get(this.resolveTagName(e))}isKnownTag(e){return this.tags.has(this.resolveTagName(e))}isSymbolKnownTag(e){return this.isKnownTag(e.runtimeName())}resolveTagName(e){return e=this.cleanTagName(e.trim()),this.tags.has(e)||e.includes(":")&&(e=e.split(":")[0]),e}canResolveSpecialTypes(e){e=this.resolveTagName(e);let n=this.tags.get(e);return!(typeof n=="undefined"||n==null||n.resolveSpecialType==null)}resolveSpecialType(e,n,r){e=this.resolveTagName(e);let i=this.findTag(e);if(i.resolveSpecialType==null)throw new Error(e+" does not support special types.");return i.resolveSpecialType(n,r)}getCompletionItems(e){var s;let n=null,r=[],i=!0;if(e.nodesInScope.length>0&&(n=e.nodesInScope[e.nodesInScope.length-1]),e.currentNode!=null&&this.isKnownTag(e.currentNode.runtimeName())){let a=this.findTag(e.currentNode.runtimeName());if(typeof a=="undefined")return{isExclusive:!1,items:[]};let o=[];if(a.resolveCompletionItems!=null){let l=a.resolveCompletionItems(e);if(l.isExclusiveResult)return{isExclusive:!0,items:l.items};i=l.analyzeDefaults,r=r.concat(l.items)}if(e.isPastTagPart==!1){let l=this.getPossibleTagMethods(a.tagName);for(let u=0;u<l.length;u++)r.push({label:l[u],kind:QN.CompletionItemKind.Text})}if(i){if(e.isCaretInTag==!0&&a.parameters.length>0&&(r=r.concat(Lm(e,a.parameters)),a.tagName=="partial"&&(n==null?void 0:n.hasMethodPart()))){let l=n.getMethodNameValue();if(l.trim().length>0&&((s=Ie.instance)==null?void 0:s.hasStructure())){let u=Ie.instance.getStructure().findPartial(l);u!=null&&u.injectsParameters.length>0&&(r=r.concat(Lm(e,u.injectsParameters)))}}for(let l=0;l<e.nodesInScope.length;l++)if(e.nodesInScope[l].runtimeType!==null){let u=e.nodesInScope[l].runtimeType;if(u!=null&&u.assumedType=="structure_ref"&&u.supplementedFields!=null)for(let c=0;c<u.supplementedFields.length;c++)r.push(km(u.supplementedFields[c]))}}return{items:r,isExclusive:!1}}return{items:r,isExclusive:!1}}injectParentScope(e){let n=this.findTag(e);return typeof n=="undefined"||n==null?!0:n.injectParentScope}resolveParameterCompletions(e,n,r){let i=this.findTag(e);return typeof i!="undefined"&&i!==null&&typeof i.resovleParameterCompletionItems!="undefined"&&i.resovleParameterCompletionItems!==null?i.resovleParameterCompletionItems(n,r):null}canResolveDynamicParameter(e){let n=this.resolveTagName(e);if(this.isKnownTag(n)){let r=this.tags.get(n);if(typeof r=="undefined")return!1;if(typeof r.resolveDynamicParameter!="undefined"&&r.resolveDynamicParameter!=null)return!0}return!1}getParameter(e,n){let r=this.resolveTagName(e);if(this.parameters.has(r)==!1)return null;let i=this.parameters.get(r);if(i==null)return null;if(i.has(n)==!1){let a=this.findTag(e);if(a!=null&&typeof a.resolveDynamicParameter!="undefined"&&a.resolveDynamicParameter!=null){let o=a.resolveDynamicParameter(null,n);if(o!==null)return o}return null}let s=i.get(n);return typeof s=="undefined"||i==null?null:s}registerTags(e){for(let n=0;n<e.length;n++)this.registerTag(e[n])}registerTag(e){if(this.tags.set(e.tagName,e),this.parameters.has(e.tagName)==!1&&this.parameters.set(e.tagName,new Map),e.parameters.length>0){let n=this.parameters.get(e.tagName);for(let r=0;r<e.parameters.length;r++){let i=e.parameters[r];n==null||n.set(i.name,i)}}}requiresClose(e){let n=e.getTagName();if(this.tags.has(n)){let r=this.findTag(n);if(r!=null)return r.requiresCloseResolver!=null?r.requiresCloseResolver(e):r.requiresClose}return!1}};Hs.instance=null;(typeof Hs.instance=="undefined"||Hs.instance==null)&&(Hs.instance=new Hs,Hs.instance.loadCoreTags());var Ue=Hs;var Kr=class{constructor(e){this.generation=0;this.id="";this.name="";this.values=new Map;this.lists=new Map;this.pristine=new Map;this.parentScope=null;this.statamicProject=e,Kr.generationCounter+=1,this.generation=Kr.generationCounter,this.id=fo()}makeNew(){return new Kr(this.statamicProject)}ancestor(){return this.parentScope!=null?this.parentScope:this}canShiftScope(e){return!!this.pristine.has(e)}shiftScope(e,n,r){if(this.pristine.has(n)){let i=this.pristine.get(n),s=i.parentCopy.copy();return s.introduceAliasScope(e,r,i.introducedFields),s}return this}containsPath(e){if(e.includes(":")){let n=e.split(":"),r=n.shift(),i=n.join(":");if(typeof r=="undefined")return!1;let s=this.lists.get(r);return typeof s=="undefined"?!1:s.containsPath(i)}return!!this.lists.has(e)}findReference(e){if(e.includes(":")){let n=e.split(":"),r=n.pop(),i=n.join(":"),s=this.findNestedScope(i);if(s!=null)return s.findReference(r)}return this.values.has(e)?this.values.get(e):null}findReferenceWithField(e){if(e.includes(":")){let n=e.split(":"),r=n.pop(),i=n.join(":"),s=this.findNestedScope(i);if(s!=null)return s.findReference(r)}if(this.values.has(e)){let n=this.values.get(e);if(n.sourceField==null){if(n.introducedBy!=null&&n.introducedBy.currentScope!=null&&n.introducedBy.currentScope!=this)return n.introducedBy.currentScope.findReferenceWithField(n.introducedBy.getTagName());if(this.parentScope!=null&&this.parentScope!=this)return this.parentScope.findReferenceWithField(e)}return n}return null}containsReference(e){return this.findReference(e)!=null}findNestedScope(e){if(e.includes(":")){let n=e.split(":"),r=n.shift(),i=n.join(":");if(typeof r=="undefined")return null;let s=this.lists.get(r);return typeof s=="undefined"?null:s.findNestedScope(i)}return this.lists.has(e)?this.lists.get(e):this.parentScope!=null&&this.parentScope!=this&&this.parentScope.hasList(e)?this.parentScope.lists.get(e):null}liftList(e){if(this.lists.has(e)){let n=this.lists.get(e);return typeof n=="undefined"||n===null?null:(this.lists.delete(e),n)}return null}hasPristineReference(e){return!!this.pristine.has(e)}hasListInHistory(e){return this.hasList(e)?!0:this.parentScope!=null?this.name=="*root*"?!1:this.parentScope.hasList(e):!1}hasList(e){if(this.lists.has(e)){let n=this.lists.get(e);return!(typeof n=="undefined"||n===null)}return!1}bringListIntoMainScope(e){if(e.includes(":")){let r=e.split(":"),i=r.shift(),s=r.join(":");if(typeof i=="undefined")return this;let a=this.lists.get(i);return typeof a=="undefined"?this:a.bringListIntoMainScope(s)}let n=this.lists.get(e);return this.lists.delete(e),this.mergeScope(n)}getListNames(){let e=[];return this.lists.forEach((n,r)=>{e.push(r)}),e}getVariableNames(){let e=[];return this.values.forEach(n=>{e.push(n.name)}),e}getList(e){return this.lists.has(e)?this.lists.get(e):this.parentScope!=null&&this.parentScope!=this?this.parentScope.getList(e):null}hasValue(e){return this.values.has(e)}findAncestorWithList(e){return this.hasList(e)?this:this.parentScope!=null&&this.parentScope!=this?this.parentScope.findAncestorWithList(e):null}findReferenceNotIntroducedBy(e,n){if(this.hasValue(e)){let r=this.values.get(e);if(r.introducedBy!=null&&r.introducedBy!=n)return r}return this.parentScope!=null&&this.parentScope!=this?this.parentScope.findReferenceNotIntroducedBy(e,n):null}removeThroughIntroduction(e,n){if(this.values.delete(e),this.parentScope!=null){let r=this.findReferenceNotIntroducedBy(e,n);r!=null&&this.addVariable(r)}}wasIntroducedBySymbol(e,n){if(this.values.has(e)==!1)return!1;let r=this.values.get(e);return r.introducedBy!=null?r.introducedBy==n:!1}referencesArray(e){return this.values.has(e)==!1?!1:this.values.get(e).dataType=="array"}addScopeList(e,n){return this.lists.set(e,n),this}mergeAndList(e,n){let r=new Kr(this.statamicProject);return r.values=_N(n),this.lists.set(e,r),this.mergeVariableScope(n),this}mergeScope(e){return e==this||e==null?this:(typeof e.values!="undefined"&&e.values!==null&&e.values.forEach((n,r)=>{this.values.set(r,n)}),typeof e.lists!="undefined"&&e.lists!==null&&e.lists.forEach((n,r)=>{this.lists.set(r,n)}),this)}mergeVariableScope(e){for(let n=0;n<e.length;n++)this.values.set(e[n].name,e[n]);return this}addVariable(e){this.values.set(e.name,e)}addVariables(e){for(let n=0;n<e.length;n++)this.addVariable(e[n])}addVariableArray(e,n){this.values.has(e)&&this.values.delete(e);let r=new Kr(this.statamicProject);r.addVariables(n),this.addScopeList(e,r)}injectAssetContainer(e,n){this.addBlueprintFields(e,this.statamicProject.getAssetBlueprintFields(n))}injectUserFields(e){this.addBlueprintFields(e,this.statamicProject.getUserFields())}addBlueprintField(e,n){this.addVariable({dataType:n.type,name:n.name,sourceField:n,sourceName:n.blueprintName,introducedBy:e})}introduceScopedAliasScope(e,n,r,i){this.pristine.set(r,{introducedFields:i,introducedScope:r,parentCopy:this.copy()});let s=new Kr(this.statamicProject),a=new Kr(this.statamicProject);return a.addBlueprintFields(e,i),s.name=r,s.addScopeList(n,a),this.addScopeList(r,s),s}expandScopedAliasScope(e,n,r,i){this.lists.has(r)==!1?this.introduceScopedAliasScope(e,n,r,i):this.lists.get(r).addBlueprintFields(e,i)}introduceAliasScope(e,n,r){this.pristine.set(n,{introducedFields:r,introducedScope:n,parentCopy:this.copy()});let i=new Kr(this.statamicProject);i.addBlueprintFields(e,r),i.name=n,this.addScopeList(n,i)}introduceDynamicScopeList(e,n,r){this.pristine.set(n,{introducedFields:r,introducedScope:n,parentCopy:this.copy()});let i=new Kr(this.statamicProject);i.name=n,i.addBlueprintFields(e,r),this.addScopeList(n,i)}addBlueprintFields(e,n){for(let r=0;r<n.length;r++)this.addBlueprintField(e,n[r])}injectBlueprint(e,n){let r=this.statamicProject.getBlueprintDetails(n);r.length>0&&this.addBlueprintFields(e,r)}copy(){let e=new Kr(this.statamicProject);return e.pristine=new Map(this.pristine),e.values=new Map(this.values),e.lists=new Map(this.lists),e.parentScope=this,e}},Pr=Kr;Pr.generationCounter=0;function _h(t){let e=new Pr(t);return e.addVariable({dataType:"string",name:"handle",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"name",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"locale",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"short_locale",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e}function JN(){let t=[];return t.push({dataType:"number",name:"response_code",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"csrf_field",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"csrf_token",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"environment",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"template",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"xml_header",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"last_segment",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"homepage",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_uri",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"amp_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"api_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_full_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_template",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"logged_in",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"logged_out",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"is_homepage",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"now",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"today",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"current_date",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"get",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"get_post",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"post",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"old",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t}function ZN(t,e){let n=t.findParameter("paginate");if(n!=null&&(n.value.toLowerCase()=="true"||parseInt(n.value).toString()==n.value)){let r=e.makeNew(),i=e.makeNew(),s=e.makeNew(),a=e.makeNew();r.addVariable({name:"next_page",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"prev_page",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"total_items",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"total_pages",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"current_page",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"auto_links",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),s.addVariable({name:"url",dataType:"string",sourceField:null,sourceName:"*internal.pagination.all",introducedBy:t}),s.addVariable({name:"page",dataType:"integer",sourceField:null,sourceName:"*internal.pagination.all",introducedBy:t}),a.addVariable({name:"first",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),a.addVariable({name:"last",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),a.addVariable({name:"slider",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),i.addScopeList("all",s),i.addScopeList("segments",a),r.addScopeList("links",i),e.addScopeList("paginate",r)}}var Fa=class{constructor(){this.fileInjections=new Map;this.project=null}updateProject(e){this.project=e}registerInjections(e,n){if(n.length==0)return;let r=[];for(let i=0;i<n.length;i++){let s=n[i];s.hasParameters&&r.push(s)}if(r.length>0){let i=r[0].getMethodNameValue();if(i!=null&&this.project!=null){let s=this.project.findPartial(i);s!=null&&(this.fileInjections.has(s.documentUri)||this.fileInjections.set(s.documentUri,new Map),this.fileInjections.get(s.documentUri).set(e,r))}}}hasAvailableInjections(e){return this.fileInjections.has(e)}getScopeInjection(e,n){let r=new Pr(n);return r.name="*injection*",this.fileInjections.get(e).forEach((s,a)=>{for(let o=0;o<s.length;o++){let l=s[o];if(l.hasParameters)for(let u=0;u<l.parameters.length;u++){let c=l.parameters[u];if(c.containsSimpleValue())r.addVariable({dataType:"string",name:c.name,sourceField:null,sourceName:"scope.injection",introducedBy:l});else if(c.isVariableReference&&l.currentScope!=null&&l.currentScope.hasListInHistory(c.value)){let f=l.currentScope.findNestedScope(c.value);if(f!=null){let d=Br(c.name,":"),m=f.copy();m.name=d,r.addScopeList(d,f)}}}}}),r}};Fa.instance=null;(typeof Fa.instance=="undefined"||Fa.instance==null)&&(Fa.instance=new Fa);var La=Fa;var SL=["collection"],IL=["if","elseif","unless","elseunless"],yh=class{constructor(e,n,r){this.pageVars=[];this.viewDataVars=null;this.documentUri="";this.lastSymbolId="";this.ideHelperMap=new Map;this.statamicProject=e,this.documentUri=n,this.document=r,this.makePageScope(),this.makeViewDataScope()}makeViewDataScope(){this.document.hasFrontMatter()&&(this.viewDataVars=this.document.getFrontMatterScope())}makePageScope(){let e=[],n=this.statamicProject.getFields();if(n.has("pages")){let r=n.get("pages");for(let i=0;i<r.length;i++){let s=r[i];e.push({name:s.name,dataType:s.type,sourceField:s,sourceName:s.blueprintName,introducedBy:null})}}this.pageVars=e}analyzeScope(e){var c,f,d,m,p,h,_,g,b;let n=new Pr(this.statamicProject);n.name="*root*",n.parentScope=n,n.addScopeList("site",_h(this.statamicProject)),n.addScopeList("sites",_h(this.statamicProject)),n.addVariables(JN());let r=new Pr(this.statamicProject);r.name="*root_user*",r.parentScope=n,this.statamicProject.getUserFields().forEach(y=>{r.addBlueprintField(null,y)}),n.addScopeList("current_user",r),((c=si.instance)==null?void 0:c.pageScopeDisabled(this.documentUri))?this.viewDataVars!=null&&n.addScopeList("view",this.viewDataVars):this.viewDataVars!=null?n.mergeAndList("page",this.pageVars).addScopeList("view",this.viewDataVars):n.mergeAndList("page",this.pageVars);let i=null;e.length>0&&e[0].isComment&&(i=Wl(this.documentUri,e[0]));for(let y=0;y<e.length;y++)if(e[y].isComment){let T=Wl(this.documentUri,e[y]);T.variableHelper!=null&&this.ideHelperMap.set(e[y].id(),T.variableHelper)}let s=this.statamicProject.getCollectionNamesForView(this.documentUri);if(i!=null&&(i.collectionInjections.length>0&&(s=s.concat(i.collectionInjections)),i.blueprints.length>0&&(s=s.concat(i.blueprints)),i.variableHelper!=null&&i.variableHelper.variableName=="@page")){let y=this.statamicProject.getBlueprintField(i.variableHelper.collectionName,i.variableHelper.fieldHandle);if(y!=null)if(i.variableHelper.setHandle.length>0){if(y.sets!=null){for(let T=0;T<y.sets.length;T++)if(y.sets[T].handle==i.variableHelper.setHandle){n.addVariables(Jo(e[0],y.sets[T].fields));break}}}else n.addBlueprintField(e[0],y)}if(s.length>0){for(let y=0;y<s.length;y++)n.injectBlueprint(e[0],s[y]);n.addVariables(qs(e[0]))}((f=La.instance)==null?void 0:f.hasAvailableInjections(this.documentUri))&&n.mergeScope((d=La.instance)==null?void 0:d.getScopeInjection(this.documentUri,this.statamicProject));let a=[],o=[],l=[],u=[];u.push(n);for(let y=0;y<e.length;y++){let T=e[y];this.lastSymbolId.length>0&&o.includes(T.id())&&(a.pop(),u.pop(),u.length==0&&u.push(n));let C=u[u.length-1];if(T.hasParameters){for(let F=0;F<T.parameters.length;F++)if(T.parameters[F].interpolations.length>0)for(let L=0;L<T.parameters[F].interpolations.length;L++){let H=T.parameters[F].interpolations[L];T.processedInterpolationRegions.has(H)&&T.processedInterpolationRegions.get(H).forEach(Q=>{Q instanceof K&&(Q.currentScope=C)})}}if(((m=Ue.instance)==null?void 0:m.isKnownTag(T.getTagName()))==!1){if(T.scopeVariable=C.findReference(T.runtimeName()),y>0){let F=e[y-1];if(F.isComment&&this.ideHelperMap.has(F.id())&&!F.isClosingTag&&!T.isClosingTag){let L=this.ideHelperMap.get(F.id());if(L.variableName==T.getTagName()){let H=this.statamicProject.getBlueprintField(L.collectionName,L.fieldHandle);H!=null&&(T.scopeVariable=gN(T,H))}}}if(T.scopeVariable==null){let F=T.runtimeName().trim();if(C.hasList(F)||((p=T.currentScope)==null?void 0:p.hasListInHistory(F))){T.sourceType="array";let L=C.getList(F);if(L!=null&&L.values.size>0){let H=L.values.entries().next().value[1];T.scopeVariable={dataType:"array",introducedBy:H.introducedBy,name:F,sourceField:null,sourceName:H.sourceName}}}}else T.sourceType=vc(T.scopeVariable.dataType),T.scopeVariable.sourceField!=null&&((h=Mo.instance)==null?void 0:h.hasFieldtype(T.scopeVariable.sourceField.type))&&((_=Mo.instance)==null?void 0:_.getFieldType(T.scopeVariable.sourceField.type)).augmentScope(T,C)}if(T.hasParameters&&ZN(T,C),T.modifiers!=null&&T.modifiers.hasModifiers()?T.manifestType=T.modifiers.getLastManifestedModifierRuntimeType():T.manifestType=T.sourceType,T.isClosedBy!=null&&(a.push(T.id()),o.push(T.isClosedBy.id()),C=C.copy(),u.push(C)),T.getTagName()=="scope"&&T.hasMethodPart()){let F=u[u.length-2].copy();C.addScopeList(T.getMethodNameValue(),F)}if(C.containsPath(T.runtimeName())&&(a.push(T.id()),T.isClosedBy!=null&&o.push(T.isClosedBy.id()),C=C.copy().bringListIntoMainScope(T.runtimeName()),u.push(C)),T.currentScope=C,T.getTagName()!="cache"){let F=T.findParameter("scope");F!=null&&C.canShiftScope(T.runtimeName())&&(C=C.shiftScope(T,T.runtimeName(),F.value),T.currentScope=C,u.pop(),u.push(C))}if((g=Ue.instance)==null?void 0:g.isKnownTag(T.runtimeName())){let F=(b=Ue.instance)==null?void 0:b.findTag(T.runtimeName());typeof F!="undefined"&&F.augmentScope!=null&&F.augmentScope(T,C)}if(T.modifierChain!=null&&T.modifierChain.modifierChain.length>0&&T.modifierChain.modifierChain.forEach(F=>{F.modifier!=null&&typeof F.modifier.augmentScope!="undefined"&&F.modifier.augmentScope!=null&&F.modifier.augmentScope(T,C)}),T.modifiers.hasParameterModifiers()&&T.modifiers.parameterModifiers.forEach(F=>{F.modifier!=null&&typeof F.modifier.augmentScope!="undefined"&&F.modifier.augmentScope!=null&&F.modifier.augmentScope(T,C)}),T.sourceType=="array"){let F=T.findParameter("chunk"),L=!0;if(T.parent!=null&&T.parent instanceof K&&SL.includes(T.parent.runtimeName())&&(L=!1),typeof F!="undefined"&&F!==null)if(T.currentScope.parentScope!=null&&(T.currentScope.parentScope.hasList(T.runtimeName())||C.referencesArray(T.runtimeName()))){let H=T.currentScope.parentScope.copy(),G=H.liftList(T.runtimeName());if(G==null&&C.referencesArray(T.runtimeName())){if(G=new Pr(C.statamicProject),L){let Q=_t(T);for(let re=0;re<Q.length;re++){let ye=Q[re];H.wasIntroducedBySymbol(ye.name,T)&&H.removeThroughIntroduction(ye.name,T)}G.addVariables(Q)}}else L&&H.addVariables(_t(T));H.addScopeList("chunk",G),C=H,u.pop(),u.push(C),T.currentScope=H}else{let H=T.findParameter("scope");if(typeof H!="undefined"&&H!==null&&T.currentScope!=null&&T.currentScope.hasList(H.value)&&T.scopeName!=null){let G=T.currentScope.copy(),Q=G.ancestor().copy(),re=G.liftList(T.scopeName);L&&G.addVariables(_t(T)),Q.liftList(T.scopeName),G.addScopeList(T.scopeName,re),Q.addScopeList("chunk",G),C=Q,u.pop(),u.push(C),T.currentScope=Q}}else T.scopeVariable!=null&&T.scopeVariable.sourceField==null&&L&&(C.addVariables(_t(T)),C.addVariables(dt(T)))}if(o.includes(T.id())&&T.parent!=null&&T.parent instanceof K){let F=T.currentScope.findAncestorWithList(T.getTagName());F!=null?(T.currentScope=F,C=F.copy(),u.pop(),u.length==0&&u.push(n),u.push(C)):T.parent.parent!=null?T.currentScope=T.parent.parent.currentScope:T.currentScope=T.parent.currentScope}if(T.currentScope!=null&&T.runtimeNodes.length>0&&T.runtimeNodes.forEach(F=>{var L;if(F instanceof Ne&&((L=T.currentScope)==null?void 0:L.hasValue(F.name))){let H=T.currentScope.findReferenceWithField(F.name);F.currentScope=T.currentScope,F.scopeName=T.scopeName,F.scopeVariable=H}}),IL.includes(T.runtimeName())&&T.runtimeNodes.length==3&&T.runtimeNodes[0]instanceof Ne&&T.runtimeNodes[1]instanceof Yn&&T.runtimeNodes[2]instanceof Wt&&T.runtimeNodes[0].scopeVariable!=null&&T.runtimeNodes[0].scopeVariable.sourceField!=null){let F=T.runtimeNodes[0].scopeVariable,L=T.runtimeNodes[2].value,H=F.sourceField;if(H.sets!=null)for(let G=0;G<H.sets.length;G++){let Q=H.sets[G];if(Q.handle==L&&Q.fields!=null){C=C.copy(),C.addBlueprintFields(T,Q.fields),T.isClosedBy!=null&&!T.isSelfClosing&&(a.push(T.id()),o.push(T.isClosedBy.id()),u.push(C));break}}}this.lastSymbolId=T.id();let W=a.join("/");l.push(W)}}};var Ys=class{};Ys.globalTagEnterStack=[],Ys.interpolatedVariables=[];var iC=le(Nc());var or=class{constructor(){this.name="";this.compound="";this.methodPart="";this.content="";this.cachedCompoundTagName=null}tagPartIs(e){return e=e.toLowerCase().trim(),this.name.toLowerCase().trim()==e}isCompound(){return this.methodPart==null?!1:this.methodPart.length>0}getMethodName(){return this.methodPart==""?"index":this.methodPart=="null"?"":this.methodPart}getRuntimeMethodName(){}getCompoundTagName(){if(this.cachedCompoundTagName==null){let e=this.getMethodName();this.cachedCompoundTagName=this.name,e!=null&&e!=""&&(this.cachedCompoundTagName=this.cachedCompoundTagName+":"+e)}return this.cachedCompoundTagName}};var bh=class{constructor(){this.tagNames=[];this.modifierNames=[]}getModifierNames(){var e,n;return this.modifierNames.concat((n=(e=tt.instance)==null?void 0:e.getModifierNames())!=null?n:[])}getTagNames(){var e,n;return this.tagNames.concat((n=(e=Ue.instance)==null?void 0:e.getTagNames())!=null?n:[])}setTagNames(e){this.tagNames=e}setModifierNames(e){this.modifierNames=e}isTag(e){var n;return bh.alwaysLikeTag.includes(e)||((n=Ue.instance)==null?void 0:n.isKnownTag(e))?!0:this.tagNames.includes(e)}isModifier(e){var n;return((n=tt.instance)==null?void 0:n.hasModifier(e))?!0:this.modifierNames.includes(e)}},nl=bh;nl.alwaysLikeTag=["if","endif","elseif","else","unless","elseunless"];var il=class{static analyze(e,n){e.forEach(r=>{if(r instanceof K){if(r.pathReference!=null&&r.pathReference.isStrictVariableReference){r.isTagNode=!1;return}r.name!=null&&(r.isTagNode=n.isTag(r.name.name))}})}static analyzeNode(e){if(e.pathReference!=null&&e.pathReference.isStrictVariableReference){e.isTagNode=!1;return}il.environmentDetails!=null&&e.name!=null&&(e.isTagNode=il.environmentDetails.isTag(e.name.name)),e.name!=null&&(e.isConditionNode=nl.alwaysLikeTag.includes(e.name.name))}static analyzeParametersForModifiers(e){e.parameters.forEach(n=>{il.environmentDetails!=null&&(n.isModifierParameter=il.environmentDetails.isModifier(n.name))})}},rl=il;rl.environmentDetails=null;(typeof rl.environmentDetails=="undefined"||rl.environmentDetails==null)&&(rl.environmentDetails=new nl);var Th=rl;var vh=class{static getIdentifier(e){var i;let n=new or;n.content=e.trim();let r=e.split(":");if(r.length==1)n.name=r[0].trim(),n.methodPart=null,n.compound=n.name;else if(r.length>1){let s=(i=r.shift())!=null?i:"",a=r.join(":");n.name=s.trim(),n.methodPart=a.trim(),n.compound=n.name+":"+n.methodPart}else n.name=e.trim(),n.methodPart="";return n.name.startsWith("/")&&(n.name=n.name.substr(1),n.compound=n.compound.substr(1)),n}};var ge=class{static getPrettyTypeName(e){return e instanceof bi?ge.TOKEN_LANG_OPERATOR:e instanceof hr?ge.TOKEN_OP_A_ADD:e instanceof Ne?ge.TOKEN_VARIABLE:e instanceof Wt?ge.TOKEN_STRING:e instanceof en?ge.TOKEN_NUMBER:e instanceof oi?ge.TOKEN_CONSTANT_FALSE:e instanceof Vr?ge.TOKEN_CONSTANT_NULL:e instanceof li?ge.TOKEN_CONSTANT_TRUE:e instanceof po?ge.TOKEN_MODIFIER_NODE:e instanceof Yl?ge.TOKEN_MODIFIER_CHAIN:e instanceof Ed?ge.TOKEN_MODIFIER_PARAMETER:e instanceof gr?ge.TOKEN_OP_A_DIVIDE:e instanceof qi?ge.TOKEN_OP_A_EXPONENTIATION:e instanceof Vi?ge.TOKEN_OP_A_MODULUS:e instanceof _r?ge.TOKEN_OP_A_MULTIPLY:e instanceof Hn?ge.TOKEN_OP_A_SUBTRACT:e instanceof ui?ge.TOKEN_ASG_ADD:e instanceof ci?ge.TOKEN_ASG_DIVIDE:e instanceof fi?ge.TOKEN_ASG_MODULUS:e instanceof pi?ge.TOKEN_ASG_MULTIPLY:e instanceof yr?ge.TOKEN_ASG_ASSIGN:e instanceof ji?ge.TOKEN_ASG_SUBTRACT:e instanceof Yn?ge.TOKEN_CMP_EQUAL:e instanceof yi?ge.TOKEN_CMP_SEQUAL:e instanceof jr?ge.TOKEN_CMP_GT:e instanceof rs?ge.TOKEN_CMP_GTE:e instanceof di?ge.TOKEN_CMP_LT:e instanceof mi?ge.TOKEN_CMP_LTE:e instanceof hi?ge.TOKEN_CMP_NEQ:e instanceof gi?ge.TOKEN_CMP_SNEQ:e instanceof _i?ge.TOKEN_CMP_SPACESHIP:e instanceof is?ge.TOKEN_OP_VARIABLE_FALLBACK:e instanceof Ad?ge.TOKEN_COND_FALLBACK_GROUP:e instanceof $t?ge.TOKEN_BRANCH_SEPARATOR:e instanceof Ti?ge.TOKEN_TERNARY_SEPARATOR:e instanceof bn?ge.TOKEN_GROUP_BEGIN:e instanceof fn?ge.TOKEN_GROUP_END:e instanceof $n?ge.TOKEN_MODIFIER_SEPARATOR:e instanceof pn?ge.TOKEN_MODIFIER_NAME:e instanceof dn?ge.TOKEN_MODIFIER_VALUE:e instanceof Kn?ge.TOKEN_MODIFIER_VALUE_SEPARATOR:e instanceof Kl?ge.TOKEN_NULL_COALESCE_GROUP:e instanceof Zt?ge.TOKEN_SEMANTIC_GROUP:e instanceof wn?ge.TOKEN_STATEMENT_SEPARATOR:e instanceof zl?ge.TOKEN_TERNARY_CONDITION:e instanceof Ur?ge.TOKEN_OP_AND:e instanceof On?ge.TOKEN_OP_LOGIC_NEGATION:e instanceof vi?ge.TOKEN_OP_OR:e instanceof Ui?ge.TOKEN_OP_XOR:e instanceof Wr?ge.TOKEN_OP_NULL_COALESCE:e instanceof ma?ge.TOKEN_PARAM:e instanceof Bn?ge.TOKEN_PATH_ACCESSOR:e instanceof Es?ge.TOKEN_OP_A_FACTORIAL:e instanceof qr?ge.TOKEN_RECURSIVE:e instanceof go?ge.TOKEN_ARG_GROUP:e instanceof zt?ge.TOKEN_ARG_SEPARATOR:e instanceof Wi?ge.TOKEN_OP_STRING_CONCAT:e instanceof zn?ge.TOKEN_OP_SCOPE_REASSIGNMENT:e instanceof ho?ge.TOKEN_STRUCT_SWITCH_CASE:e instanceof ga?ge.TOKEN_STRUCT_SWITCH_GROUP:e instanceof ha?ge.TOKEN_STRUCT_DIRECTION_GROUP:e instanceof Gr?ge.TOKEN_STRUCT_SCOPED_LOGIC_GROUP:e instanceof Ze?ge.TOKEN_STRUCT_LOGIC_GROUP:e instanceof $l?ge.TOKEN_STRUCT_VALUE_DIRECTION:e instanceof ss?ge.TOKEN_STRUCT_ARRAY:e instanceof Ni?ge.TOKEN_STRUCT_T_LIST_START:e instanceof xd?ge.TOKEN_STRUCT_TUPLE_LIST:e instanceof Tn?ge.TOKEN_STRUCT_METHOD_CALL:typeof e}},ne=ge;ne.TOKEN_LANG_OPERATOR="T_LANG_OPERATOR",ne.TOKEN_VARIABLE="T_VAR",ne.TOKEN_NUMBER="T_NUMERIC",ne.TOKEN_STRING="T_STRING",ne.TOKEN_RECURSIVE="T_RECURSIVE",ne.TOKEN_CONSTANT_FALSE="T_FALSE",ne.TOKEN_CONSTANT_NULL="T_NULL",ne.TOKEN_CONSTANT_TRUE="T_TRUE",ne.TOKEN_MODIFIER_NODE="T_MODIFIER",ne.TOKEN_MODIFIER_CHAIN="T_MODIFIER_CHAIN",ne.TOKEN_MODIFIER_PARAMETER="T_MODIFIER_PARAM",ne.TOKEN_OP_A_ADD="T_AOP_ADD",ne.TOKEN_OP_A_DIVIDE="T_AOP_DIVIDE",ne.TOKEN_OP_A_EXPONENTIATION="T_AOP_EXP",ne.TOKEN_OP_A_MODULUS="T_AOP_MOD",ne.TOKEN_OP_A_MULTIPLY="T_AOP_MULTIPLY",ne.TOKEN_OP_A_SUBTRACT="T_AOP_SUBTRACT",ne.TOKEN_OP_A_FACTORIAL="T_AOP_FACTORIAL",ne.TOKEN_ASG_ADD="T_ASG_ADD",ne.TOKEN_ASG_DIVIDE="T_ASG_DIVIDE",ne.TOKEN_ASG_ASSIGN="T_ASG",ne.TOKEN_ASG_MODULUS="T_ASG_MODULUS",ne.TOKEN_ASG_MULTIPLY="T_ASG_MULTIPLY",ne.TOKEN_ASG_SUBTRACT="T_ASG_SUBTRACT",ne.TOKEN_CMP_EQUAL="T_CMP_EQ",ne.TOKEN_CMP_SEQUAL="T_CMP_SEQ",ne.TOKEN_CMP_GT="T_CMP_GT",ne.TOKEN_CMP_GTE="T_CMP_GTE",ne.TOKEN_CMP_LT="T_CMP_LT",ne.TOKEN_CMP_LTE="T_CMP_LTE",ne.TOKEN_CMP_NEQ="T_CMP_NEQ",ne.TOKEN_CMP_SNEQ="T_CMP_SNEQ",ne.TOKEN_CMP_SPACESHIP="T_CMP_SPSHP",ne.TOKEN_OP_VARIABLE_FALLBACK="T_VFBK",ne.TOKEN_COND_FALLBACK_GROUP="T_VFBK_GROUP",ne.TOKEN_BRANCH_SEPARATOR="T_BRANCH_SEPARATOR",ne.TOKEN_TERNARY_SEPARATOR="T_TERNARY_SEPARATOR",ne.TOKEN_GROUP_BEGIN="T_LOGIC_BEGIN",ne.TOKEN_GROUP_END="T_LOGIC_END",ne.TOKEN_MODIFIER_SEPARATOR="T_MODIFIER_SEPARATOR",ne.TOKEN_MODIFIER_NAME="T_MODIFIER_NAME",ne.TOKEN_MODIFIER_VALUE="T_MODIFIER_VALUE",ne.TOKEN_MODIFIER_VALUE_SEPARATOR="T_MODIFIER_VALUE_SEPARATOR",ne.TOKEN_NULL_COALESCE_GROUP="T_NULL_COALESCE_GROUP",ne.TOKEN_SEMANTIC_GROUP="T_SEMANTIC_GROUP",ne.TOKEN_STATEMENT_SEPARATOR="T_STATEMENT_SEPARATOR",ne.TOKEN_TERNARY_CONDITION="T_TERNARY_CONDITION",ne.TOKEN_OP_AND="T_AND",ne.TOKEN_OP_LOGIC_NEGATION="T_LOGIC_INVERSE",ne.TOKEN_OP_OR="T_OR",ne.TOKEN_OP_XOR="T_XOR",ne.TOKEN_OP_NULL_COALESCE="T_NULL_COALESCE",ne.TOKEN_PARAM="T_PARAM",ne.TOKEN_PATH_ACCESSOR="T_VAR_SEPARATOR",ne.TOKEN_ARG_GROUP="T_ARG_GROUP",ne.TOKEN_ARG_SEPARATOR="T_ARG_SEPARATOR",ne.TOKEN_OP_STRING_CONCAT="T_STR_CONCAT",ne.TOKEN_OP_SCOPE_REASSIGNMENT="T_SCOPE_ASSIGNMENT",ne.TOKEN_STRUCT_SWITCH_CASE="T_SWITCH_CASE",ne.TOKEN_STRUCT_SWITCH_GROUP="T_SWITCH_GROUP",ne.TOKEN_STRUCT_DIRECTION_GROUP="T_DIRECTION_GROUP",ne.TOKEN_STRUCT_VALUE_DIRECTION="T_ORDER_DIRECTION",ne.TOKEN_STRUCT_SCOPED_LOGIC_GROUP="T_SCOPED_LOGIC_GROUP",ne.TOKEN_STRUCT_LOGIC_GROUP="T_LOGIC_GROUP",ne.TOKEN_STRUCT_ARRAY="T_ARRAY",ne.TOKEN_STRUCT_T_LIST_START="T_LIST_START",ne.TOKEN_STRUCT_TUPLE_LIST="T_LIST",ne.TOKEN_STRUCT_METHOD_CALL="T_METHOD_CALL";var yt=class{static isLanguageLogicalKeyword(e){return e==this.LogicalAnd||e==this.LogicalNot||e==this.LogicalOr||e==this.LogicalXor}};yt.LogicalAnd="and",yt.LogicalNot="not",yt.LogicalOr="or",yt.LogicalXor="xor",yt.ConstTrue="true",yt.ConstFalse="false",yt.ConstNull="null",yt.ArrList="list",yt.ScopeAs="as";var Nh=class{constructor(){this.chars=[];this.inputLen=0;this.currentIndex=0;this.currentContent=[];this.rawContent=[];this.startIndex=0;this.cur=null;this.next=null;this.prev=null;this.isParsingString=!1;this.isParsingModifierName=!1;this.isInModifierParameterValue=!1;this.runtimeNodes=[];this.ignorePrevious=!1;this.lastNode=null;this.referenceParser=null;this.activeNode=null}reset(){this.ignorePrevious=!1,this.runtimeNodes=[],this.chars=[],this.inputLen=0,this.currentIndex=0,this.currentContent=[],this.rawContent=[],this.startIndex=0,this.cur=null,this.next=null,this.prev=null,this.isParsingString=!1,this.isParsingModifierName=!1,this.isInModifierParameterValue=!1,this.referenceParser=null,this.activeNode=null}checkCurrentOffsets(){this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.ignorePrevious?(this.prev="",this.ignorePrevious=!1):this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen&&(this.next=this.chars[this.currentIndex+1])}isValidChar(e){return e==null||e==w.Punctuation_Semicolon?!1:this.isParsingString==!1&&e=="]"?!0:this.isParsingString==!1&&e==")"?!1:(e=="["||e=="]")&&e==this.cur||(e=="_"||e=="."||e=="["||e=="]")&&(!(this.currentContent.length>0)||te.ctypeAlpha(this.cur)||te.ctypeDigit(this.cur))?!0:te.ctypeSpace(e)?!1:this.isParsingModifierName&&(e==w.Punctuation_Minus||e==w.Punctuation_Underscore)?!0:!te.ctypePunct(e)}isRightOfInterpolationRegion(){if(this.activeNode==null||this.referenceParser==null)return!1;let e=this.activeNode._lexerRelativeOffset(this.currentIndex);return this.referenceParser.bordersInterpolationRegion(e)}scanForwardTo(e,n=0){let r=[];for(let i=this.currentIndex+1+n;i<this.inputLen;i++){let s=this.chars[i];if(s==e){r.push(s);break}else r.push(s)}return r}nextNonWhitespace(){for(let e=this.currentIndex+1;e<this.inputLen;e++){let n=this.chars[e];if(!te.ctypeSpace(n))return n}return null}pushError(e){this.referenceParser!=null&&this.referenceParser.addAntlersError(e)}guardAgainstNeighboringTypesInModifier(e){return this.lastNode instanceof dn&&this.pushError(j.makeSyntaxError(P.TYPE_MODIFIER_INCORRECT_VALUE_POSITION,this.lastNode,"Incorrect type ["+ne.getPrettyTypeName(e)+"] near ["+ne.getPrettyTypeName(this.lastNode)+"]")),!1}appendContent(e){e!=null&&this.currentContent.push(e)}tokenize(e,n){this.reset(),this.referenceParser=e.getParser(),this.activeNode=e,this.chars=n.split(""),this.inputLen=this.chars.length,this.runtimeNodes=[],this.lastNode=null;let r=null;this.isParsingString=!1,this.isParsingModifierName=!1;let i=null;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){this.checkCurrentOffsets();let a=!0;if(this.cur!=null&&this.rawContent.push(this.cur),this.isParsingString==!1&&(this.cur==w.String_Terminator_DoubleQuote||this.cur==w.String_Terminator_SingleQuote)){if(this.prev==w.String_EscapeCharacter){this.pushError(j.makeSyntaxError(P.TYPE_ILLEGAL_STRING_ESCAPE_SEQUENCE,e,"Illegal string escape sequence outside string parsing."));continue}this.rawContent=[],this.rawContent.push(this.cur),i=this.cur,this.isParsingString=!0,r=this.currentIndex;continue}if(this.isInModifierParameterValue&&!this.isParsingString){let o=!1;if(!this.isParsingString&&te.ctypeSpace(this.next)){let l=this.scanForwardTo(" ",1).join("").trim().toLowerCase();l.length>0&&yt.isLanguageLogicalKeyword(l)&&(o=!0)}if(this.next==w.String_Terminator_SingleQuote||this.next==w.String_Terminator_DoubleQuote||this.next==null||o){this.appendContent(this.cur);let l=this.currentContent.join("");if(l.length>0){let u=l;if(this.currentContent=[],this.rawContent=[],u.trimRight().length==0){let f=this.nextNonWhitespace();if(f==w.String_Terminator_SingleQuote||f==w.String_Terminator_DoubleQuote){this.currentContent=[],this.rawContent=[];continue}}let c=new dn;c.isVirtual=!1,c.name=u,c.value=u.trimRight(),c.startPosition=e._lexerRelativeOffset(this.currentIndex-u.length),c.endPosition=e._lexerRelativeOffset(this.currentIndex),c.parent=this.activeNode,this.guardAgainstNeighboringTypesInModifier(c),this.runtimeNodes.push(c),this.lastNode=c}if(l.length==0)continue;this.currentContent=[],this.rawContent=[],this.isInModifierParameterValue=!1;continue}if(this.next==w.Punctuation_Pipe||this.next==w.Punctuation_Colon||this.next==w.RightParent){this.isInModifierParameterValue=!1,this.appendContent(this.cur);let l=0,u=!1;if(this.currentContent[0]==w.String_Terminator_SingleQuote||this.currentContent[0]==w.String_Terminator_DoubleQuote){let d=this.scanForwardTo(this.currentContent[0]);d.length>0&&(this.currentContent=this.currentContent.concat(d),l=d.length,u=!0)}let c=this.currentContent.join("");u&&(c=c.substr(1),c=c.slice(0,-1)),this.currentContent=[],this.rawContent=[];let f=new dn;f.isVirtual=!1,f.name=c,f.value=c,f.startPosition=e._lexerRelativeOffset(this.currentIndex-c.length),f.endPosition=e._lexerRelativeOffset(this.currentIndex),f.parent=this.activeNode,this.runtimeNodes.push(f),this.guardAgainstNeighboringTypesInModifier(f),this.lastNode=f,this.currentIndex+=l}else this.appendContent(this.cur);continue}if(this.isParsingString&&this.cur==i){if(this.prev==w.String_EscapeCharacter)this.appendContent(i);else{if(this.isInModifierParameterValue){let l=this.currentContent.join(""),u=new dn;u.isVirtual=!1,u.name=l,u.value=l,u.startPosition=e._lexerRelativeOffset(r!=null?r:0),u.endPosition=e._lexerRelativeOffset(this.currentIndex),u.parent=this.activeNode,this.runtimeNodes.push(u),this.guardAgainstNeighboringTypesInModifier(u),this.lastNode=u,this.currentContent=[],this.rawContent=[],this.isParsingString=!1,this.isInModifierParameterValue=!1;continue}let o=new Wt;o.isVirtual=!1,o.startPosition=e._lexerRelativeOffset(r!=null?r:0),o.endPosition=e._lexerRelativeOffset(this.currentIndex),this.referenceParser!=null&&(o.sourceContent=this.referenceParser.getText(o.startPosition.index,o.endPosition.index+1)),o.parent=this.activeNode,i!=null&&(o.sourceTerminator=i),i=null,this.isParsingString=!1,o.value=this.currentContent.join(""),o.rawLexContent=this.rawContent.join("").trim(),this.currentContent=[],this.rawContent=[],this.guardAgainstNeighboringTypesInModifier(o),this.runtimeNodes.push(o),this.lastNode=o}continue}if(this.isParsingString&&this.cur==w.String_EscapeCharacter){if(this.next==w.String_EscapeCharacter){this.appendContent(w.String_EscapeCharacter),this.ignorePrevious=!0,this.currentIndex+=1;continue}else if(this.next==w.String_Terminator_SingleQuote){this.appendContent(w.String_Terminator_SingleQuote),this.currentIndex+=1;continue}else if(this.next==w.String_Terminator_DoubleQuote){this.appendContent(w.String_Terminator_DoubleQuote),this.currentIndex+=1;continue}else if(this.next=="n"){this.appendContent(`
`),this.currentIndex+=1;continue}else if(this.next=="t"){this.appendContent("	"),this.currentIndex+=1;continue}else if(this.next=="r"){this.appendContent("\r"),this.currentIndex+=1;continue}}if(this.isParsingString==!1){if(this.isValidChar(this.cur)&&this.isValidChar(this.next)==!1&&this.currentContent.length==0&&(this.appendContent(this.cur),a=!1),(this.next==null||this.isValidChar(this.next)==!1)&&this.currentContent.length>0){a&&this.appendContent(this.cur);let o=this.currentContent.join("").trim(),l=o.length,u=this.currentIndex-l,c=e._lexerRelativeOffset(u),f=e._lexerRelativeOffset(this.currentIndex);if(this.currentContent=[],this.rawContent=[],o==yt.LogicalAnd){let m=new Ur;m.isVirtual=!1,m.content=yt.LogicalAnd,m.startPosition=c,m.endPosition=f,m.parent=this.activeNode,this.runtimeNodes.push(m),this.lastNode=m;continue}else if(o==yt.LogicalOr){let m=new vi;m.isVirtual=!1,m.content=yt.LogicalOr,m.startPosition=c,m.endPosition=f,m.parent=this.activeNode,this.runtimeNodes.push(m),this.lastNode=m;continue}else if(o==yt.LogicalXor){let m=new Ui;m.isVirtual=!1,m.content=yt.LogicalXor,m.startPosition=c,m.endPosition=f,m.parent=this.activeNode,this.runtimeNodes.push(m),this.lastNode=m;continue}else if(o==yt.ConstNull){let m=new Vr;m.isVirtual=!1,m.content=yt.ConstNull,m.startPosition=c,m.endPosition=f,m.parent=this.activeNode,this.runtimeNodes.push(m),this.lastNode=m;continue}else if(o==yt.ConstTrue){let m=new li;m.isVirtual=!1,m.content=yt.ConstTrue,m.startPosition=c,m.endPosition=f,m.parent=this.activeNode,this.runtimeNodes.push(m),this.lastNode=m;continue}else if(o==yt.ConstFalse){let m=new oi;m.isVirtual=!1,m.content=yt.ConstFalse,m.startPosition=c,m.endPosition=f,m.parent=this.activeNode,this.runtimeNodes.push(m),this.lastNode=m;continue}else if(o==yt.LogicalNot){let m=new On;m.isVirtual=!1,m.content=yt.LogicalNot,m.startPosition=c,m.endPosition=f,m.parent=this.activeNode,this.runtimeNodes.push(m),this.lastNode=m;continue}else if(o==yt.ArrList&&this.next==w.LeftParen){let m=new Ni;m.isVirtual=!1,m.content=yt.ArrList,m.startPosition=c,m.endPosition=f,m.parent=this.activeNode,this.runtimeNodes.push(m),this.lastNode=m;continue}if(te.isNumeric(o)){let m=new en;m.isVirtual=!1,m.startPosition=c,m.endPosition=f,m.parent=this.activeNode,o.includes(".")?m.value=parseFloat(o):m.value=parseInt(o),m.rawLexContent=o,this.guardAgainstNeighboringTypesInModifier(m),this.runtimeNodes.push(m),this.lastNode=m;continue}if(this.runtimeNodes.length>0){let m=this.runtimeNodes[this.runtimeNodes.length-1];if(m instanceof $n){let p=new pn;p.isVirtual=!1,p.name=o,p.content=o,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(m instanceof Kn){let p=new dn;p.isVirtual=!1,p.name=o,p.value=o,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p,this.isParsingModifierName=!1;continue}}let d=new Ne;d.isVirtual=!1,d.name=o,d.startPosition=c,d.endPosition=f,d.parent=this.activeNode,this.runtimeNodes.push(d),this.lastNode=d;continue}}else{this.appendContent(this.cur);continue}if(!te.ctypeSpace(this.cur)){if(this.isParsingString==!1){if(this.cur==w.Punctuation_Equals&&this.next==w.Punctuation_GreaterThan){let o=new zn;o.isVirtual=!1,o.content="=>",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentContent=[],this.rawContent=[],this.currentIndex+=1;continue}if(this.cur==w.Punctuation_Comma){let o=new zt;o.isVirtual=!1,o.content=w.Punctuation_Comma,o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==w.Punctuation_Semicolon){let o=new wn;o.isVirtual=!1,o.content=w.Punctuation_Semicolon,o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==w.Punctuation_Plus){if(this.next==w.Punctuation_Equals){let l=new ui;l.isVirtual=!1,l.content="+=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new hr;o.isVirtual=!1,o.content="+",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.isParsingModifierName==!1&&this.cur==w.Punctuation_Minus){if(te.ctypeDigit(this.next)&&te.ctypeDigit(this.prev)==!1&&this.prev!=w.RightParent&&this.isRightOfInterpolationRegion()==!1){this.appendContent(this.cur);continue}if(this.next==w.Punctuation_Equals){let l=new ji;l.isVirtual=!1,l.content="-=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}else if(this.next==w.Punctuation_GreaterThan){let l=new Tn;l.isVirtual=!1,l.content="->",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new Hn;o.isVirtual=!1,o.content="-",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==w.Punctuation_Asterisk){if(this.next==w.Punctuation_Asterisk){let l=new qi;l.isVirtual=!1,l.content="**",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}else if(this.next==w.Punctuation_Equals){let l=new pi;l.isVirtual=!1,l.content="*=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new _r;o.isVirtual=!1,o.content="*",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==w.Punctuation_ForwardSlash){if(this.next==w.Punctuation_Equals){let l=new ci;l.isVirtual=!1,l.content="/=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new gr;o.isVirtual=!1,o.content="/",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==w.Punctuation_Percent){if(this.next==w.Punctuation_Equals){let l=new fi;l.isVirtual=!1,l.content="%=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new Vi;o.isVirtual=!1,o.content="%",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==w.Punctuation_LessThan){if(this.next==w.Punctuation_Equals){let l=null;if(this.currentIndex+2<this.inputLen&&(l=this.chars[this.currentIndex+2]),l==w.Punctuation_GreaterThan){let c=new _i;c.isVirtual=!1,c.content="<=>",c.startPosition=e._lexerRelativeOffset(this.currentIndex),c.endPosition=e._lexerRelativeOffset(this.currentIndex+3),c.parent=this.activeNode,this.runtimeNodes.push(c),this.lastNode=c,this.currentIndex+=2;continue}let u=new mi;u.isVirtual=!1,u.content="<=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let o=new di;o.isVirtual=!1,o.content="<",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==w.Punctuation_GreaterThan){if(this.next==w.Punctuation_Equals){let l=new jr;l.isVirtual=!1,l.content=">=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new jr;o.isVirtual=!1,o.content=">",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==w.Punctuation_Equals&&this.next!=w.Punctuation_Equals){let o=new yr;o.isVirtual=!1,o.content="=",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==w.Punctuation_Equals&&this.next==w.Punctuation_Equals){let o=null;if(this.currentIndex+2<this.inputLen&&(o=this.chars[this.currentIndex+2]),o==w.Punctuation_Equals){let l=new yi;l.isVirtual=!1,l.content="===",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+3),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=2}else{let l=new Yn;l.isVirtual=!1,l.content="==",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1}continue}if(this.cur==w.Punctuation_Ampersand){if(this.next==w.Punctuation_Ampersand){let l=new Ur;l.isVirtual=!1,l.content="&&",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}if(this.next==w.Punctuation_Equals){let l=new Wi;l.isVirtual=!1,l.content="&=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}let o=new Ur;o.isVirtual=!1,o.content="&",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==w.Punctuation_Pipe&&this.next!=w.Punctuation_Pipe){let o=new $n;o.isVirtual=!1,o.content="|",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.isParsingModifierName=!0;continue}if(this.cur==w.Punctuation_Pipe&&this.next==w.Punctuation_Pipe){let o=new vi;o.isVirtual=!1,o.content="||",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+2),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentIndex+=1;continue}if(this.cur==w.Punctuation_Exclamation){if(this.next==w.Punctuation_Equals){let l=null;if(this.currentIndex+2<this.inputLen&&(l=this.chars[this.currentIndex+2]),l==w.Punctuation_Equals){let c=new gi;c.isVirtual=!1,c.content="!==",c.startPosition=e._lexerRelativeOffset(this.currentIndex),c.endPosition=e._lexerRelativeOffset(this.currentIndex+3),c.parent=this.activeNode,this.runtimeNodes.push(c),this.lastNode=c,this.currentIndex+=2;continue}let u=new hi;u.isVirtual=!1,u.content="!=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let o=new On;o.isVirtual=!1,o.content="!",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==w.Punctuation_Question&&this.next==w.Punctuation_Equals){let o=new is;o.isVirtual=!1,o.content="?=",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+2),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentIndex+=1;continue}if(this.cur==w.Punctuation_Question&&this.next==w.Punctuation_Question){let o=new Wr;o.isVirtual=!1,o.content="??",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+2),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentIndex+=1;continue}if(this.cur==w.Punctuation_Question&&this.next==w.Punctuation_Colon){let o=new Wr;o.isVirtual=!1,o.content="?:",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+2),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentIndex+=1;continue}if(this.cur==w.Punctuation_Question){let o=new Ti;o.isVirtual=!1,o.content="?",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==w.LeftParen){let o=new bn;o.isVirtual=!1,o.content="(",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==w.RightParent){let o=new fn;o.isVirtual=!1,o.content=")",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==w.Punctuation_Colon){if(this.runtimeNodes.length>0&&this.runtimeNodes[this.runtimeNodes.length-1]instanceof pn){let u=new Kn;u.isVirtual=!1,u.content=":",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+1),u.parent=this.activeNode,this.runtimeNodes.push(u),this.isInModifierParameterValue==!1?this.isInModifierParameterValue=!0:this.isInModifierParameterValue=!1;continue}let o=new $t;o.isVirtual=!1,o.content=":",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.isParsingModifierName=!1;continue}}a&&this.appendContent(this.cur)}}let s=this.runtimeNodes.length-1;for(let a=0;a<this.runtimeNodes.length;a++){let o=null,l=null;a>0&&(o=this.runtimeNodes[a-1]),a!=s&&(l=this.runtimeNodes[a+1]);let u=this.runtimeNodes[a];u.prev=o,u.next=l}return this.runtimeNodes}};var an=class{constructor(){this.chars=[];this.currentIndex=0;this.lastIndex=0;this.inputLength=0;this.prev=null;this.cur=null;this.next=null;this.isParsingString=!1;this.isStringKeyPath=!1;this.antlersErrors=[];this._recusriveEntryCheck=new Map}isValidChar(e){return!(this.isParsingString==!1&&te.ctypeSpace(e)||this.isParsingString==!1&&e==an.LeftBracket||this.isParsingString==!1&&e==an.RightBracket)}normalizePath(e){return e=e.replace(":","_"),e=e.replace(".","_"),e=e.replace("[","_"),e=e.replace("]","_"),e.replace("]","_")}getAntlersErrors(){return this.antlersErrors}mergeErrors(e){e.forEach(n=>{this.antlersErrors.push(n)})}parse(e){this.antlersErrors=[],this._recusriveEntryCheck.clear();let n=e,r=!1,i=!1,s=!1,a=!1;e.startsWith(w.AtChar)&&(s=!0,e=e.substr(1)),e.startsWith(w.Punctuation_Caret)?(a=!0,e=e.substr(1)):(e.startsWith(w.Punctuation_Dollar)&&(r=!0,e=e.substr(1)),e.startsWith(w.Punctuation_Dollar)&&(i=!0,e=e.substr(1))),this.chars=[],this.currentIndex=0,this.lastIndex=0,this.inputLength=0,this.cur=null,this.prev=null,this.next=null,this.chars=e.split(""),this.inputLength=this.chars.length,this.lastIndex=this.inputLength-1;let o=[],l=!1,u=[],c=an.ColonSeparator,f=!1,d=null,m=!1,p=!0;if(this.isParsingString=!1,this.inputLength==0){let g=new Gi;return g._isFromEmptyFailState=!0,g}for(this.currentIndex;this.currentIndex<this.inputLength;this.currentIndex+=1){if(this.cur=this.chars[this.currentIndex],this.next=null,f?(f=!1,this.prev=""):this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLength&&(this.next=this.chars[this.currentIndex+1]),this.isParsingString==!1&&this.cur==an.ColonSeparator&&(c=an.ColonSeparator),this.isParsingString==!1&&this.cur==an.DotPathSeparator&&(c=an.DotPathSeparator),this.isParsingString&&this.cur==w.String_EscapeCharacter&&this.next==d){d!=null&&o.push(d),this.currentIndex+=1;continue}if(this.cur==w.String_Terminator_SingleQuote||this.cur==w.String_Terminator_DoubleQuote)if(this.isParsingString)if(this.cur==d)if(this.prev==w.String_EscapeCharacter){o.push(this.cur);continue}else this.isParsingString=!1,p=!1;else{o.push(this.cur);continue}else{this.prev!=w.LeftBracket&&(te.ctypeAlpha(this.prev)||te.ctypeDigit(this.prev))&&this.antlersErrors.push(j.makeSyntaxError(P.PATH_STRING_NOT_INSIDE_ARRAY_ACCESSOR,null,"Unexpected string start while parsing variable path. String literals must be within array accessors.")),this.isParsingString=!0,m=!0,d=this.cur,this.isStringKeyPath=!0;continue}if(this.isParsingString){if(te.ctypeSpace(this.cur)){o.push(this.cur);continue}else if(this.cur==w.String_EscapeCharacter){if(this.next==w.String_EscapeCharacter){o.push(w.String_EscapeCharacter),this.currentIndex+=1,f=!0;continue}else if(this.next=="n"){o.push(`
`),this.currentIndex+=1;continue}else if(this.next=="t"){o.push("	"),this.currentIndex+=1;continue}else if(this.next=="r"){o.push("\r"),this.currentIndex+=1;continue}}}if(this.isParsingString==!1&&this.cur==an.LeftBracket){if(o.length>0){let y=new Bn;y.name=o.join(""),y.delimiter=c,u.push(y),o=[]}if(this.next==null||te.ctypeSpace(this.next)){this.antlersErrors.push(j.makeSyntaxError(P.TYPE_ILLEGAL_VARPATH_SPACE_RIGHT,null,"Unexpected end of input or whitespace while parsing variable accessor path."));continue}let g=this.locateEndOfAccessor();this.currentIndex=g.foundOn;let b=new an;if(u.push(b.parse(g.nestedContent)),this.mergeErrors(b.getAntlersErrors()),l=!0,this.currentIndex==-1){this.antlersErrors.push(j.makeSyntaxError(P.PARSER_CANNOT_PARSE_PATH_RECURSIVE,null,"Cannot parse variable path.")),l=!1;break}continue}if(this.isParsingString==!1&&this.next==an.RightBracket&&l){p?o.push(this.cur):p=!0;let g=new Rd;g.name=o.join(""),u.push(g),o=[],c=an.ColonSeparator,this.currentIndex+=1,l=!1;continue}if(this.isParsingString==!1&&(this.cur==an.LeftBracket||this.cur==an.ColonSeparator||this.cur==an.DotPathSeparator||this.currentIndex==this.lastIndex)){if(this.next==null||te.ctypeSpace(this.next)){if(this.cur==an.ColonSeparator){if(o.length==0){this.antlersErrors.push(j.makeSyntaxError(P.TYPE_UNEXPECTED_BRANCH_SEPARATOR,null,"Unexpected [T_BRANCH_SEPARATOR] while parsing input text."));continue}this.antlersErrors.push(j.makeSyntaxError(P.TYPE_ILLEGAL_VARPATH_RIGHT,null,'Variable paths cannot end with the ":" character.'));continue}if(this.cur==an.LeftBracket){this.antlersErrors.push(j.makeSyntaxError(P.TYPE_ILLEGAL_VARPATH_SUBPATH_START,null,"Illegal variable sub-path start."));continue}}this.currentIndex==this.lastIndex&&this.isValidChar(this.cur)&&(p?o.push(this.cur):p=!0);let g=new Bn;g.delimiter=c,g.name=o.join(""),m&&(g.isStringVar=m,g.name=n.substr(1),g.name=g.name.slice(0,-1),m=!1),u.push(g),o=[];continue}else{o.push(this.cur);continue}}let h=u.length;if(h>0){let g=u[h-1];(g instanceof Bn||g instanceof Gi)&&(g.isFinal=!0)}let _=new Gi;return _.isStrictTagReference=a,_.isStrictVariableReference=r,_.isExplicitVariableReference=i,_.pathParts=u,_.originalContent=e,_.isVariableVariable=s,_.normalizedReference=e.replace(":","."),_}locateEndOfAccessor(){let e=[],n=1,r=-1,i="",s=!1,a=null;if(this._recusriveEntryCheck.has(this.currentIndex+1)==!1)this._recusriveEntryCheck.set(this.currentIndex+1,!0);else return{foundOn:r,nestedContent:""};for(let o=this.currentIndex+1;o<this.inputLength;o++){let l=this.chars[o],u=null,c=null;if(o>0&&(c=this.chars[o-1]),o+1<this.inputLength&&(u=this.chars[o+1]),s==!1&&(l==w.String_Terminator_SingleQuote||l==w.String_Terminator_DoubleQuote)){s=!0,a=l,e.push(l);continue}if(s==!1&&l==an.LeftBracket){n+=1,e.push(l);continue}if(s&&l==a&&c!=w.String_EscapeCharacter){e.push(l),s=!1,a=null;continue}if(s==!1&&l==an.RightBracket)if(n-=1,n==0){r=o,i=e.join("");break}else{e.push(l);continue}else e.push(l);s==!1&&te.ctypeSpace(u)&&this.antlersErrors.push(j.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR,null,"Unexpected end of input or whitespace while parsing inner variable accessor path.")),u==null&&this.antlersErrors.push(j.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR,null,"Unexpected end of input or whitespace while parsing inner variable accessor path."))}return{foundOn:r,nestedContent:i}}},ms=an;ms.ColonSeparator=":",ms.LeftBracket="[",ms.RightBracket="]",ms.DotPathSeparator=".";var Ch=class{constructor(){this.chars=[];this.inputLen=0;this.currentIndex=0;this.cur=null;this.prev=null;this.pathParser=new ms;this.lexer=new Nh;this.activeNode=null}reset(){this.chars=[],this.inputLen=0,this.currentIndex=0,this.cur=null,this.prev=null}canBeClosingTag(e){var r;let n=(r=e.name)==null?void 0:r.name;return n=="elseif"||n=="else"?!0:e.name==null?!1:e.name.content.startsWith("/")}parseNode(e){var c,f,d,m;if(this.activeNode=e,this.reset(),e.content.startsWith("*subrecursive")){let p=e.content;p=p.trim(),p=te.trimRight(p,"*"),p=p.substr(13);let h=new qr;return e.copyBasicDetailsTo(h),h.originalNode=e,h.name=new or,h.name.name=p,h.isNestedRecursive=!0,h.pathReference=this.pathParser.parse(p),h.mergeErrors(this.pathParser.getAntlersErrors()),h.content=p,h.runtimeContent=p,h}if(e.content.trim().startsWith("*recursive")){let p=e.content;p=p.trim(),p=te.trimRight(p,"*"),p=p.substr(10).trim();let h=new qr;return e.copyBasicDetailsTo(h),h.originalNode=e,h.name=new or,h.name.name=p,h.pathReference=this.pathParser.parse(p),h.mergeErrors(this.pathParser.getAntlersErrors()),h.content=p,h.runtimeContent=p,h}this.chars=e.content.split(""),this.inputLen=this.chars.length;let n=[],r=!1,i="",s=!1,a=null;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1)if(this.cur=this.chars[this.currentIndex],this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),r==!1){if(s==!1&&(this.cur==w.String_Terminator_DoubleQuote||this.cur==w.String_Terminator_SingleQuote)){a=this.cur,s=!0,n.push(this.cur);continue}if(s&&te.ctypeSpace(this.cur)){n.push(this.cur);continue}if(s&&this.cur==a&&this.prev!=w.String_EscapeCharacter){a=null,s=!1,n.push(this.cur);continue}if(te.ctypeSpace(this.cur)||this.currentIndex==this.inputLen-1||this.cur==w.Punctuation_Pipe){if(n.length==0)continue;te.ctypeSpace(this.cur)||this.cur!=w.Punctuation_Pipe&&n.push(this.cur),i=n.join(""),r=!0;break}n.push(this.cur)}let o=e.getContentRelativeStartIndex();if(e.nameStartsOn=e.relativeOffset(o,o),e.nameStartsOn!=null&&(e.nameEndsOn=e.nameStartsOn.shiftRight(i.length-1),i.includes(w.Punctuation_Colon))){let p=i.indexOf(w.Punctuation_Colon);e.nameMethodPartStartsOn=e.nameStartsOn.shiftRight(p+1)}e.name=vh.getIdentifier(i),Th.analyzeNode(e),e.parameters=this.getParameters(e),e.hasParameters=e.parameters.length>0,e.hasParameters&&(Th.analyzeParametersForModifiers(e),e.resetContentCache()),e.pathReference=this.pathParser.parse(i),e.mergeErrors(this.pathParser.getAntlersErrors()),e.pathReference!=null&&e.pathReference.isStrictTagReference&&(e.name.name=e.name.name.substr(1),e.name.content=e.name.content.substr(1)),e.isClosingTag=this.canBeClosingTag(e);let l=[];e.isClosingTag==!1&&(l=this.lexer.tokenize(e,e.getContent())),e.runtimeNodes=l;let u=e.content.trim();if(yn.isConditionalStructure(e)&&e.name.name!="else"&&l.length==0&&u!="/if"&&u!="/unless"&&u!="/endunless"&&u!="endif"&&u!="endunless"&&u!="/endif"&&e.getContent().trim().length==0&&this.pushConditionWithoutExpression(e),e.name.name=="endif"){let p=e.copyBasicDetails(),h=e.getParser();return h!=null&&p.withParser(h),p.name=new or,p.name.name="if",p.name.compound="if",p.isClosingTag=!0,p.content=" /if ",p.originalNode=e,p}if(e.name.name=="unless"){let p=e.copyBasicDetails(),h=e.getParser();if(h!=null&&p.withParser(h),p.name=new or,p.name.name="if",p.name.compound="if",e.isClosingTag==!1){let _=(c=e.getContent())!=null?c:"",g=" if !("+_+") ";p.content=g,p.originalNode=e,p.resetContentCache(),p.runtimeNodes=this.lexer.tokenize(p,(f=p.getContent())!=null?f:""),this.testUnlessContent(p)}else p.originalNode=e,p.content=" /if ";return p}else if(e.name.name=="elseunless"){let p=e.copyBasicDetails(),h=e.getParser();h!=null&&p.withParser(h),p.name=new or,p.name.name="elseif",p.name.compound="elseif";let _=(d=e.getContent())!=null?d:"",g=" elseif !("+_+") ";return p.content=g,p.originalNode=e,p.resetContentCache(),p.runtimeNodes=this.lexer.tokenize(p,(m=p.getContent())!=null?m:""),this.testUnlessContent(p),p}else if(e.name.name=="endunless"){let p=e.copyBasicDetails(),h=e.getParser();return h!=null&&p.withParser(h),p.name=new or,p.name.name="if",p.name.compound="if",p.isClosingTag=!0,p.content=" /if ",p.originalNode=e,p}return e}pushError(e){this.activeNode!=null&&this.activeNode.pushError(e)}testUnlessContent(e){var r;let n=(r=e.getContent())!=null?r:"";if(n=n.replace("!",""),n=n.replace("(",""),n=n.replace(")","").trim(),n.length==0){this.pushConditionWithoutExpression(e);return}}pushConditionWithoutExpression(e){this.pushError(j.makeSyntaxError(P.TYPE_PARSE_EMPTY_CONDITIONAL,e,"Condition structure lacks comparison expression."))}getParameters(e){var W,F,L,H,G,Q,re,ye,he;let n=(W=e.getContent())!=null?W:"",r=n.split(""),i=[],s=[],a=r.length,o=0;if(e.name!=null){let oe=te.trimLeft(e.content," "),Ae=e.content.length-oe.length,ut=e.name.content.length;Ae>0?o=Ae+ut:o=ut}let l=!1,u=[],c="",f=0,d=0,m=!1,p=null,h=-1,_=-1,g=-1,b=-1,y=-1,T=-1,C='"';for(let oe=0;oe<a;oe++){let Ae=r[oe],ut=null,Lt=null;if(oe+1<a&&(Lt=r[oe+1]),m?(ut="",m=!1):oe>0&&(ut=r[oe-1]),l==!1&&te.ctypeSpace(Ae)){u=[],h=-1,_=-1,g=-1,b=-1,y=-1,T=-1;continue}if(l==!1&&Ae==w.Punctuation_Equals){if(u.length>0&&(te.ctypeAlpha(u[0])||te.ctypeDigit(u[0])||u[0]==w.Punctuation_Colon||u[0]==w.AtChar)==!1){u=[];continue}if(oe+1>=a){this.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_END_OF_INPUT,e,"Unexpected end of input"));continue}let Ye=null;if(oe+1<a&&(Ye=r[oe+1]),ut==w.Punctuation_Equals){u=[],h=-1,_=-1,g=-1,b=-1,y=-1,T=-1;continue}if(te.ctypeSpace(Ye)||Ye==w.Punctuation_Equals){u=[],h=-1,_=-1,g=-1,b=-1,y=-1,T=-1;continue}u.length>0&&(b=oe,y=oe,c=u.join(""),f=d,l=!0,u=[]),Lt==w.String_Terminator_DoubleQuote&&(p=w.String_Terminator_DoubleQuote,C=w.String_Terminator_DoubleQuote,oe+=1),Lt==w.String_Terminator_SingleQuote&&(p=w.String_Terminator_SingleQuote,C=w.String_Terminator_SingleQuote,oe+=1);continue}if(l&&Ae==w.String_EscapeCharacter){let Ye=null;if(oe+1<a&&(Ye=r[oe+1]),Ye==w.String_EscapeCharacter){u.push(w.String_EscapeCharacter),oe+=1,m=!0;continue}if(Ye==w.String_Terminator_DoubleQuote){u.push(w.String_Terminator_DoubleQuote),oe+=1;continue}if(Ye==w.String_Terminator_SingleQuote){u.push(w.String_Terminator_SingleQuote),oe+=1;continue}if(Ye=="n"){u.push(`
`),oe+=1;continue}if(Ye=="r"){u.push("\r"),oe+=1;continue}}if(l==!1&&(p!=null&&Ae==p||p==null&&te.ctypeSpace(Ae))&&i.push(u.join("")),l&&(p!=null&&Ae==p||p==null&&te.ctypeSpace(Ae))){let Ye=u.join("");T=oe,_=oe,l=!1,p=null,u=[];let ct=new ma;if(c.startsWith(w.Punctuation_Colon)&&(ct.isVariableReference=!0,c=c.substr(1)),ct.nameDelimiter=C,ct.name=c,ct.value=Ye,ct.startPosition=(F=e.relativePositionFromOffset(d,f))!=null?F:null,oe+1>a){this.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NODE_PARAMETER,e,"Unexpected end of input while parsing parameter content.")),ct.parent=e,s.push(ct),c="";continue}ct.endPosition=(L=e.relativePositionFromOffset(oe+1,oe+1))!=null?L:null,ct.parent=e,ct.blockPosition={start:(H=e.relativeOffset(h,h))!=null?H:null,end:(G=e.relativeOffset(_,_))!=null?G:null},ct.namePosition={start:(Q=e.relativeOffset(g,g))!=null?Q:null,end:(re=e.relativeOffset(b,b))!=null?re:null},ct.valuePosition={start:(ye=e.relativeOffset(y+2,y+2))!=null?ye:null,end:(he=e.relativeOffset(T,T))!=null?he:null},s.push(ct),c="",h=-1,_=-1,g=-1,b=-1,y=-1,T=-1;continue}if(l==!1&&(Ae==w.String_Terminator_DoubleQuote||Ae==w.String_Terminator_SingleQuote)&&oe>o)break;u.push(Ae),h==-1&&(h=oe),g==-1&&(g=oe),u.length==1&&(d=oe+1)}if(p!=null){let oe=e;if(i.length>0){let Ae=i[i.length-1],ut=e.content.indexOf(Ae);if(ut>=0){let Lt=new fe;Lt.startPosition=e.relativeOffset(ut-2,ut-2),Lt.endPosition=e.relativeOffset(ut+Ae.length,ut+Ae.length),oe=Lt}}this.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_END_OF_INPUT,oe,"Unexpected string literal while parsing parameters."))}return s}};function bu(t){return t.length==0?null:t[0].startPosition}var eC=le(Nc()),Yf=class{static regions(){return this.noParseRegions}static clear(){this.noParseRegions.clear()}static registerNoParseContent(e){let n=eC.Md5.hashStr(e);return this.noParseRegions.set(n,e),n}};Yf.noParseRegions=new Map;function Ph(t,e){let n=new Set(t),r=new Set(e),i=new Set([...n].filter(s=>r.has(s)));return Array.from(i)}var Dh=class{constructor(){this.closingTagIndex=new Map;this.closingTagIndexCount=new Map;this.openTagIndexCount=new Map;this.closingTagNames=new Map;this.parentNode=null;this.stackCount=0;this.createdExecutionBranches=[];this.document=null}getClosingCandidates(e){var n,r;if((e instanceof K||e instanceof kt)&&e.isClosingTag==!1){let i=(r=(n=e.name)==null?void 0:n.compound)!=null?r:"";return i=="if"?["if","elseif","else"]:i=="elseif"?["elseif","else","if"]:i=="else"?["if"]:[i]}return[]}buildCloseIndex(e){var n,r,i;e.forEach(s=>{var a,o,l,u,c,f,d,m,p,h;if(!(s instanceof qr)&&!((s instanceof K||s instanceof kt)&&s.isSelfClosing)&&(s instanceof K||s instanceof kt)&&s.isClosingTag){this.closingTagIndex.has(this.stackCount)==!1&&this.closingTagIndex.set(this.stackCount,new Map),this.closingTagIndexCount.has(this.stackCount)==!1&&this.closingTagIndexCount.set(this.stackCount,new Map);let _=(o=(a=s.name)==null?void 0:a.compound)!=null?o:"";((l=this.closingTagIndex.get(this.stackCount))==null?void 0:l.has(_))==!1&&((u=this.closingTagIndex.get(this.stackCount))==null||u.set(_,[]),(c=this.closingTagIndexCount.get(this.stackCount))==null||c.set(_,0)),(d=(f=this.closingTagIndex.get(this.stackCount))==null?void 0:f.get(_))==null||d.push(s);let g=(p=(m=this.closingTagIndexCount.get(this.stackCount))==null?void 0:m.get(_))!=null?p:0;(h=this.closingTagIndexCount.get(this.stackCount))==null||h.set(_,g+1)}}),this.closingTagNames.has(this.stackCount)==!1&&this.closingTagNames.set(this.stackCount,[]),this.closingTagIndex.has(this.stackCount)&&(this.closingTagNames.set(this.stackCount,Array.from((r=(n=this.closingTagIndex.get(this.stackCount))==null?void 0:n.keys())!=null?r:[])),(i=this.closingTagIndex.get(this.stackCount))==null||i.forEach((s,a)=>{var u,c,f,d,m,p,h;let o=s.length;if(o==0)return;let l=s[o-1];for(let _=0;_<o;_++){let g=e[_];if(g instanceof K||g instanceof kt){if(g instanceof qr)continue;if(g.index>=l.index)break;let b=(c=(u=g.name)==null?void 0:u.compound)!=null?c:"";if(g.isClosingTag==!1&&a==b&&!g.isSelfClosing){this.openTagIndexCount.has(this.stackCount)==!1&&this.openTagIndexCount.set(this.stackCount,new Map),((f=this.openTagIndexCount.get(this.stackCount))==null?void 0:f.has(a))==!1&&((d=this.openTagIndexCount.get(this.stackCount))==null||d.set(a,0));let y=(p=(m=this.openTagIndexCount.get(this.stackCount))==null?void 0:m.get(a))!=null?p:0;(h=this.openTagIndexCount.get(this.stackCount))==null||h.set(a,y+1)}}}}))}getScanForList(e){var n;if(e instanceof K||e instanceof kt){let r=(n=e.name)==null?void 0:n.compound;if(r=="else")return["if"];if(r=="elseif")return["elseif","else","if"];if(e.isClosingTag==!1){let i=this.getClosingCandidates(e),s=this.closingTagNames.get(this.stackCount);return Ph(i,s)}}return[]}canPossiblyClose(e){var n,r;if(e instanceof qr)return!1;if(e instanceof kt||e instanceof K){if(e.isComment||e.isSelfClosing)return!1;let i=(r=(n=e.name)==null?void 0:n.compound)!=null?r:"";if(i=="else"||i=="elseif")return!0;if(e.isClosingTag==!1){let s=this.getClosingCandidates(e),a=this.closingTagNames.get(this.stackCount);return Ph(s,a).length>0}}return!1}findClosingPair(e,n,r){var o,l,u,c;let i=n.runtimeNodes.length,s=e.length,a=0;for(let f=0;f<s;f++){let d=e[f];if(d instanceof K||d instanceof kt)if(n.endPosition!=null&&d.startPosition!=null){if(n.endPosition.isBefore(d.startPosition)){if(d.isClosingTag&&d.isOpenedBy!=null||d.isSelfClosing)continue;let m=(l=(o=d.name)==null?void 0:o.compound)!=null?l:"";if(d.isClosingTag==!1){if(r.includes(m)){let p=(u=this.openTagIndexCount.get(this.stackCount))==null?void 0:u.get(m),h=(c=this.closingTagIndexCount.get(this.stackCount))==null?void 0:c.get(m);p!=h&&d.runtimeNodes.length>=i,a+=1}continue}if(r.includes(m)&&a>0){a-=1;continue}if(a==0&&r.includes(m)){d.isOpenedBy=n,n.isClosedBy=d;break}}}else continue}}associate(e,n){var s,a,o,l,u,c,f;this.document=n;let r=[{documentNodes:e,parent:null}],i=[];for(;r.length>0;){let d=r.pop();if(d==null)continue;let m=d.documentNodes;this.parentNode=d.parent,this.stackCount+=1,this.buildCloseIndex(m),m=yn.pairConditionals(m),m.forEach(g=>{if((g instanceof K||g instanceof kt)&&this.canPossiblyClose(g)){if(yn.isConditionalStructure(g))return;let b=this.getScanForList(g);this.findClosingPair(m,g,b)}});let p=m.length;for(let g=0;g<p;g++){let b=m[g];if((b instanceof K||b instanceof kt)&&b.isClosedBy!=null)for(let y=g+1;y<p;y++){let T=m[y];if(T.index>b.isClosedBy.index)break;if(T.parent=b,b.children.push(T),T instanceof K&&T.index==b.index){T.parent=b;break}}}m.forEach(g=>{if((g instanceof K||g instanceof kt)&&g.children.length>0){let b=[];g.children.forEach(y=>{y.parent!=null&&y.parent.index==g.index&&(y.parent=g,b.push(y))}),r.push({documentNodes:b,parent:g})}});let h=[];m.forEach(g=>{this.parentNode==null?g.parent==null&&h.push(g):g.parent==this.parentNode&&h.push(g)}),h=this.reduceConditionals(h,n);let _=new Map;m.forEach(g=>{var b,y,T,C;if((g instanceof K||g instanceof kt)&&g.isClosedBy!=null&&this.document!=null){let W=this.document.getText(((y=(b=g.endPosition)==null?void 0:b.index)!=null?y:0)+1,(C=(T=g.isClosedBy.startPosition)==null?void 0:T.index)!=null?C:0);g.runtimeContent=W}});for(let g=0;g<h.length;g++){let b=h[g],y=(s=b.refId)!=null?s:"";if(_.set(y,1),(b instanceof K||b instanceof kt)&&b.isComment==!1&&((a=b.name)==null?void 0:a.name)=="noparse"&&!(b instanceof Rn)&&b.isClosingTag==!1){if(b.isClosedBy==null){b.pushError(j.makeSyntaxError(P.TYPE_NO_PARSE_UNASSOCIATED,b,"Encountered noparse region without a closing tag. All noparse regions must be closed."));continue}let T=b.content;this.document!=null&&(T=this.document.getText(((l=(o=b.endPosition)==null?void 0:o.index)!=null?l:0)+1,(f=(c=(u=b.isClosedBy)==null?void 0:u.startPosition)==null?void 0:c.index)!=null?f:0));let C=new Rn,W=b.getParser();W!=null&&C.withParser(W),b.copyBasicDetailsTo(C),C.name=new or,C.name.name="noparse",C.name.compound="noparse",C.content=Yf.registerNoParseContent(T),C.originalNode=b,C.isClosedBy=b.isClosedBy,C.parent=b.parent,h[g]=C}}if(this.parentNode!=null&&(this.parentNode instanceof kt||this.parentNode instanceof K)&&(this.parentNode.children=this.cleanNodes(h),this.parentNode.parent!=null&&this.parentNode.parent instanceof K)){let g=this.parentNode.parent.children,b=[];g.forEach(y=>{var T;_.has((T=y.refId)!=null?T:"")==!1&&b.push(y)}),this.parentNode.parent.children=this.cleanNodes(b)}this.stackCount<=1&&(i=h)}return this.createdExecutionBranches.length>0&&this.createdExecutionBranches.forEach(d=>{d.head!=null&&(d.nodes=d.head.children)}),i}cleanNodes(e){let n=[],r=[];for(let i=0;i<e.length;i++){let s=e[i],a=s.refId;if(r.includes(a))break;n.push(s),r.push(a)}return n}findEndOfBranch(e,n,r){let i=[],s=r,a=null;for(let o=0;o<e.length;o++){let l=e[o];if((l instanceof K||l instanceof kt)&&l.isOpenedBy!=null&&l.isOpenedBy==n){a=l;break}else i.push(l)}return{children:i,tail:a,offset:s}}reduceConditionals(e,n){var i,s,a,o,l,u,c,f,d,m,p,h;let r=[];for(let _=0;_<e.length;_++){let g=e[_];if((g instanceof K||g instanceof kt)&&g.isComment==!1&&g.isClosingTag==!1&&g.isClosedBy!=null)if(((s=(i=g.name)==null?void 0:i.compound)!=null?s:"")=="if"){let y=new ht;y.index=g.index,y.chain.push(g.index),y.fragment=g.fragment,y.fragmentPosition=g.fragmentPosition,y.containsAnyFragments=g.containsAnyFragments,y.containsChildStructures=g.containsChildStructures;let T=(o=(a=g.startPosition)==null?void 0:a.offset)!=null?o:0,C=g.getFinalClosingTag(),W=((u=(l=C.endPosition)==null?void 0:l.offset)!=null?u:0)+1;y.nodeContent=n.getText(T,W),this.parentNode!=null&&(y.parent=this.parentNode);let F=null,L=!0,H=0;for(;L;){if(H+=1,H>Dh.ForceBreakLimit){L=!1;break}if(g instanceof K||g instanceof kt){let G=this.findEndOfBranch(e.slice(_+1),g,_),Q=new Sd,re=G.tail;Q.head=g,Q.tail=re,Q.nodes=this.cleanNodes(g.children);let ye=((f=(c=g.endPosition)==null?void 0:c.offset)!=null?f:0)+1,he=(p=(m=(d=g.isClosedBy)==null?void 0:d.startPosition)==null?void 0:m.offset)!=null?p:0,oe=n.getText(ye,he);if(Q.documentText=oe,n.shouldParseChildDocument()&&(Q.childDocument=It.childFromText(Q.documentText,bu(Q.nodes))),re==null&&(re=Q.head.isClosedBy),re!=null&&re.startPosition!=null&&(Q.startPosition=re.startPosition),re!=null&&(Q.index=re.index),Q.nodes.length>0){let Ae=Q.nodes[Q.nodes.length-1];Ae.endPosition!=null&&(Q.endPosition=Ae.endPosition)}else re!=null&&re.endPosition!=null&&(Q.endPosition=re.endPosition);if(this.createdExecutionBranches.push(Q),y.logicBranches.push(Q),(re==null?void 0:re.isClosingTag)&&((h=re.name)==null?void 0:h.compound)=="if"){F=G.offset,L=!1;break}else re!=null&&y.chain.push(re.index),_=G.offset,re instanceof K&&(g=re)}else L=!1}if(y.logicBranches.length>0){let G=y.logicBranches[0],Q=y.logicBranches[y.logicBranches.length-1];G.startPosition!=null&&(y.startPosition=G.startPosition),Q.endPosition!=null&&(y.endPosition=Q.endPosition)}if(r.push(y),F!=null&&F==e.length)break}else r.push(g);else r.push(g)}return r}},sl=Dh;sl.ForceBreakLimit=1e5;var Sh=class{static associateRecursiveParent(e){var n,r;for(let i=0;i<e.length;i++){let s=e[i];if(s instanceof qr){let a="*recursive "+((n=s.name)==null?void 0:n.name);if(i-1<0){s.pushError(j.makeSyntaxError(P.TYPE_RECURSIVE_NODE_INVALID_POSITION,s,"Unpaired recursive node. All recursive nodes must have a parent node introducing them."));continue}let o=null;for(let l=i-1;l>=0;l-=1){let u=e[l];if(!(u instanceof st)&&u instanceof K&&u.isClosedBy!=null){if(s.isNestedRecursive){if(u.content.trim()==((r=s.name)==null?void 0:r.name)){o=u;break}}else if(u.runtimeContent.includes(a)&&te.substringCount(s.runtimeContent,"*recursive")==1){o=u;continue}else if(o!=null)break}}if(o==null)continue;s.isNestedRecursive?(o.hasRecursiveNode=!0,s.recursiveParent=o,o.recursiveReference=s):o.parent!=null?o.parent instanceof K&&(o.parent.hasRecursiveNode=!0,o.parent.recursiveReference=s,s.recursiveParent=o.parent):(o.hasRecursiveNode=!0,s.recursiveParent=o,o.recursiveReference=s)}}}};var al=class{static getNearText(e){var r,i,s,a;if(e instanceof Ne)return e.name;if(e instanceof en)return(i=(r=e.value)==null?void 0:r.toString())!=null?i:"";if(e instanceof Wt)return e.value;if(e instanceof pn)return e.name;if(e instanceof dn)return e.value;if(e instanceof Ni||e instanceof Ui||e instanceof Vr||e instanceof li||e instanceof oi||e instanceof On||e instanceof bi||e instanceof zt||e instanceof wn||e instanceof ui||e instanceof hr||e instanceof ji||e instanceof Hn||e instanceof qi||e instanceof pi||e instanceof _r||e instanceof ci||e instanceof gr||e instanceof fi||e instanceof Vi||e instanceof _i||e instanceof mi||e instanceof di||e instanceof rs||e instanceof jr||e instanceof yr||e instanceof yi||e instanceof Yn||e instanceof Ur||e instanceof $n||e instanceof vi||e instanceof gi||e instanceof hi||e instanceof is||e instanceof Wr||e instanceof Ti||e instanceof bn||e instanceof fn||e instanceof Kn||e instanceof $t||e instanceof Es||e instanceof zn||e instanceof Wi||e instanceof Tn)return e.content;let n="";return e instanceof K?e.originalNode!=null?n=e.originalNode.getContent():n=(a=(s=e.startPosition)==null?void 0:s.line.toString())!=null?a:"":e.originalAbstractNode!=null?n=e.originalAbstractNode.rawContent():n=e.rawContent(),n.length>15&&(n=n.substr(0,-15)),n}};var ol=class{};ol.deferredCoreLibraries=["arr","array","str","string","method","math","sys","convert","scope","stopwatch","file","path","url","request","json","datetime"];var Vt=class{};Vt.ARR_PLUCK="pluck",Vt.ARR_TAKE="take",Vt.ARR_SKIP="skip",Vt.ARR_MAKE="arr",Vt.ARR_ORDERBY="orderby",Vt.ARR_GROUPBY="groupby",Vt.ARR_MERGE="merge",Vt.QUERY_WHERE="where",Vt.STRUCT_SWITCH="switch",Vt.BITWISE_AND="bwa",Vt.BITWISE_OR="bwo",Vt.BITWISE_XOR="bxor",Vt.BITWISE_NOT="bnot",Vt.BITWISE_SHIFT_LEFT="bsl",Vt.BITWISE_SHIFT_RIGHT="bsr",Vt.operators=["pluck","take","arr","skip","orderby","groupby","merge","where","switch","bwa","bwo","bxor","bsl","bsr"];var Xt=class{constructor(){this.pathParser=new ms;this.tokens=[];this.createdVariables=[];this.createdModifierChains=[];this.createdLanguageOperators=[];this.createdArrays=[];this.tracedAssignments=[];this.mergedVariablePaths=[];this.mergedComponents=new Map;this.modifierNameMapping=new Map;this.isRealModifierSeparator=new Map;this.isRoot=!0;this.retriggerNonVirtualGroupMembers=[]}hasModifierConstruct(e){return this.modifierNameMapping.has(e)}getModifierConstruct(e){return this.modifierNameMapping.get(e)}isActualModifierSeparator(e){return this.isRealModifierSeparator.has(e)}isMergedVariableComponent(e){return this.mergedComponents.has(e)}getMergedVariable(e){return this.mergedComponents.get(e)}getMergedVariablePaths(){return this.mergedVariablePaths}getCreatedModifierChains(){return this.createdModifierChains}getCreatedLangaugeOperators(){return this.createdLanguageOperators}getCreatedArrays(){return this.createdArrays}getCreatedVariables(){return this.createdVariables}getRuntimeAssignments(){return this.tracedAssignments}getAssignedVariables(){let e=[],n=[];for(let r=0;r<this.tracedAssignments.length;r++){let i=this.tracedAssignments[r];i.target instanceof Ne&&n.includes(i.target.name)==!1&&(n.push(i.target.name),e.push(i.target))}return e}getAssignedVariableNames(){let e=[];for(let n=0;n<this.tracedAssignments.length;n++){let r=this.tracedAssignments[n];r.target instanceof Ne&&e.includes(r.target.name)==!1&&e.push(r.target.name)}return e}reset(){this.tokens=[],this.createdModifierChains=[],this.createdLanguageOperators=[],this.createdArrays=[],this.createdModifierChains=[],this.createdLanguageOperators=[],this.tracedAssignments=[],this.createdArrays=[],this.mergedVariablePaths=[],this.mergedComponents.clear(),this.modifierNameMapping.clear()}parse(e){return this.tokens=e,this.tokens=this.combineVariablePaths(this.tokens),this.tokens=this.createLanguageOperators(this.tokens),this.tokens=this.createLogicalGroups(this.tokens),this.tokens=this.associateMethodCalls(this.tokens),this.tokens=this.createTupleLists(this.tokens),this.tokens=this.createLibraryInvocations(this.tokens),this.tokens=this.associateModifiers(this.tokens),this.tokens=this.createNullCoalescenceGroups(this.tokens),this.tokens=this.correctTypes(this.tokens),this.tokens=this.createTernaryGroups(this.tokens),this.tokens=this.applyOperationOrder(this.tokens),this.validateNeighboringOperators(this.tokens),this.tokens=this.createLogicGroupsToRemoveMethodInvocationAmbiguity(this.tokens),this.tokens=this.createLogicGroupsToResolveOperatorAmbiguity(this.tokens),this.validateNoDanglingLogicGroupEnds(this.tokens),this.isRoot&&(this.tokens=this.insertAutomaticStatementSeparators(this.tokens),this.retriggerNonVirtualGroupMembers.length>0&&this.retriggerNonVirtualGroupMembers.forEach(n=>{this.markAllNonVirtualAsListGroupMember(n)})),this.createSemanticGroups(this.tokens)}setIsRoot(e){return this.isRoot=e,this}validateNeighboringOperators(e){let n=e.length;for(let r=0;r<n;r++){let i=e[r];if(Xt.isOperatorType(i)){if(r+1>=n){i.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_OPERATOR,i,"Unexpected operator while parsing input text."));return}let s=e[r+1];if(Xt.isOperatorType(s)){s.pushError(j.makeSyntaxError(P.TYPE_OPERATOR_INVALID_ON_RIGHT,s,"Unexpected operator while parsing input text."));continue}}}}static isAssignmentOperator(e){return e instanceof ui||e instanceof ci||e instanceof yr||e instanceof fi||e instanceof pi||e instanceof ji}static isOperatorType(e){return e instanceof ui||e instanceof ci||e instanceof yr||e instanceof fi||e instanceof pi||e instanceof ji||e instanceof is||e instanceof bi||e instanceof Ur||e instanceof On||e instanceof vi||e instanceof Ui||e instanceof Wr||e instanceof Wi||e instanceof hr||e instanceof gr||e instanceof qi||e instanceof Vi||e instanceof _r||e instanceof Hn||e instanceof Yn||e instanceof jr||e instanceof rs||e instanceof di||e instanceof mi||e instanceof hi||e instanceof gi||e instanceof _i||e instanceof yi}markAllNonVirtualAsListGroupMember(e){e.forEach(n=>{if(n instanceof Ze||n instanceof Gr||n instanceof as){n.start!=null&&n.start.isVirtual==!1&&(n.start.isListGroupMember=!0),n.end!=null&&n.end.isVirtual==!1&&(n.end.isListGroupMember=!0),n.scopeOperator!=null&&(n.scopeOperator.isListGroupMember=!0),n.nodes.forEach(r=>{this.markAllNonVirtualAsListGroupMember([r])});return}else n instanceof Zt&&(n.separatorToken!=null&&n.separatorToken.isVirtual==!1&&(n.separatorToken.isListGroupMember=!0),this.markAllNonVirtualAsListGroupMember(n.nodes));n.isVirtual==!1&&(n.isListGroupMember=!0),n.originalAbstractNode!=null&&n.originalAbstractNode!=n&&this.markAllNonVirtualAsListGroupMember([n.originalAbstractNode])})}markAllNonVirtualAsSwitch(e){e.forEach(n=>{if(n instanceof Ze||n instanceof Gr||n instanceof as){n.start!=null&&n.start.isVirtual==!1&&(n.start.isSwitchGroupMember=!0),n.end!=null&&n.end.isVirtual==!1&&(n.end.isSwitchGroupMember=!0),n.scopeOperator!=null&&(n.scopeOperator.isSwitchGroupMember=!0),n.nodes.forEach(r=>{this.markAllNonVirtualAsSwitch([r])});return}else n instanceof Zt&&(n.separatorToken!=null&&n.separatorToken.isVirtual==!1&&(n.separatorToken.isSwitchGroupMember=!0),this.markAllNonVirtualAsSwitch(n.nodes));n.isVirtual==!1&&(n.isSwitchGroupMember=!0),n.originalAbstractNode!=null&&n.originalAbstractNode!=n&&this.markAllNonVirtualAsSwitch([n.originalAbstractNode])})}validateNoDanglingLogicGroupEnds(e){e.forEach(n=>{n instanceof fn&&n.pushError(j.makeSyntaxError(P.TYPE_LOGIC_GROUP_NO_START,n,"Unexpected [T_LOGIC_END] while parsing input text."))})}isValidModifierValue(e){return e instanceof dn||e instanceof Ne||e instanceof li||e instanceof oi||e instanceof Vr||e instanceof en||e instanceof Wt}wrapNumberInVariable(e){var r,i,s,a;let n=new Ne;return n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.name=(i=(r=e.value)==null?void 0:r.toString())!=null?i:"",n.content=(a=(s=e.value)==null?void 0:s.toString())!=null?a:"",n.originalAbstractNode=e,n.refId=e.refId,n.modifierChain=e.modifierChain,n.index=e.index,this.createdVariables.push(n),n}wrapArithmeticModifier(e,n){let r=new pn;return r.startPosition=e.startPosition,r.endPosition=e.endPosition,r.originalAbstractNode=e,r.content=n,r.name=n,r.index=e.index,r}combineVariablePaths(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i],a=n.length;if(s instanceof $t){if(a==0){s.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_BRANCH_SEPARATOR_FOR_VARCOMBINE,s,"Unexpected [T_BRANCH_SEPARATOR] while parsing input text."));continue}if(i+1>r){let u="";if(i>0){let c=e[i-1];u=al.getNearText(c)}s.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_PARSING_BRANCH_GROUP,s,'Unexpected end of input while parsing input text near "'+u+al.getNearText(s)+'".'));continue}let o=n[a-1],l=e[i+1];if(l instanceof en&&St.distance(o,l)==1&&(l=this.wrapNumberInVariable(l)),o instanceof Ne&&l instanceof Ne&&St.distance(o,l)==1){n.pop(),St.mergeVarContentRight(":",s,l),St.mergeVarRight(o,l),n.push(l),this.createdVariables.push(l),this.mergedVariablePaths.push(l),this.mergedComponents.set(s,l),this.mergedComponents.set(o,l),this.mergedComponents.set(l,l),i+=1;continue}else{n.push(s);continue}}else if(s instanceof Wt&&a>0){if(i+1>=r){n.push(s);continue}let o=n[a-1],l=e[i+1];if(o instanceof Ne&&l instanceof Ne&&St.distance(o,s)<=1&&St.distance(s,l)<=1){n.pop(),St.mergeVarContentLeft(s.sourceTerminator+s.value+s.sourceTerminator,s,o),St.mergeVarContentLeft(l.name,l,o),this.createdVariables.push(o),n.push(o),this.mergedVariablePaths.push(o),this.mergedComponents.set(s,o),this.mergedComponents.set(o,o),this.mergedComponents.set(l,o),i+=1;continue}else n.push(s)}else if(s instanceof Hn&&a>0){let o=n[a-1],l=e[i+1];if(o instanceof Ne&&l instanceof Ne){let u=St.distance(o,s),c=St.distance(s,l);u<=1&&c<=1?(o.endPosition=l.endPosition,this.mergedComponents.set(s,o),this.mergedComponents.set(o,o),this.mergedComponents.set(l,o),i+=1):n.push(s)}else n.push(s)}else n.push(s)}return n.forEach(i=>{i instanceof Ne&&(i.variableReference=this.pathParser.parse(i.name),i.mergeErrors(this.pathParser.getAntlersErrors()))}),n}convertVarNodeToOperator(e){let n=new bi;return n.content=e.name,n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.originalAbstractNode=e,e.convertedToOperator=!0,this.createdLanguageOperators.push(n),n}convertOperatorToVarNode(e){let n=new Ne;return n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.content=e.content,n.name=e.content,n.originalAbstractNode=e,this.createdVariables.push(n),n}createLanguageOperators(e){let n=e.length;for(let r=0;r<n;r++){let i=e[r];if(i instanceof Ne){if(i.name.includes(w.Punctuation_FullStop)){let s=i.name.split(w.Punctuation_FullStop);if(Vt.operators.includes(s[0])||ol.deferredCoreLibraries.includes(s[0])){e[r]=this.convertVarNodeToOperator(i);continue}}if(Vt.operators.includes(i.name)){e[r]=this.convertVarNodeToOperator(i);continue}}if(i instanceof bi){if(r+1>=n){e[r]=this.convertOperatorToVarNode(i);continue}if(e[r+1]instanceof wn){e[r]=this.convertOperatorToVarNode(i);continue}}}return e}createLogicalGroups(e){let n=[],r=e.length,i=[];for(let a=0;a<r;a++){let o=e[a];if(o instanceof On){let l=this.countTypeRight(e,a,On);if(i.length==0&&e.length==l){o.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_LOGIC_NEGATION_OPERATOR,o,"Unexpected [T_LOGIC_INVERSE] while parsing input text."));continue}if(a>0&&i.length>0){let f=i[i.length-1];if(f instanceof en||f instanceof fn||f instanceof Ze){if(f instanceof Ze&&f.start instanceof On){f.start.pushError(j.makeSyntaxError(P.TYPE_FACTORIAL_MATERIALIZED_BOOL_DETECTED,f.start,"[T_AOP_FACTORIAL] operand will always materialize boolean type."));continue}let d=new Es;d.startPosition=o.startPosition,d.endPosition=o.endPosition,d.content="!".repeat(l),d.originalAbstractNode=o,d.repeat=l,i.push(d),l>0&&(a+=l-1);continue}}if(l%2==0){a+=l-1;continue}let u=e[a+l];if(u instanceof bn){let f=a+l+1;if(f>=r){u.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_NEGATION_OFFSET,u,"Unexpected end of input while parsing input text."));continue}let d=this.findLogicalGroupEnd(e[a+l],e.slice(f));if(d.found){let m=d.logicalGroup,p=new Ze;p.start=o,p.end=m,p.nodes.push(o),p.nodes.push(m),p.startPosition=o.startPosition,p.endPosition=m.endPosition,i.push(p),a+=d.skipCount+l}continue}let c=this.resolveValueRight(e,a);c.value!=null&&i.push(c.value),a+=c.negationCount}else i.push(o)}let s=i.length;for(let a=0;a<s;a++){let o=i[a];if(o instanceof bn){if(a+1>=s){o.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END_DUE_TO_NEGATION,o,"Unexpected end of input while parsing input text."));continue}let l=this.findLogicalGroupEnd(o,i.slice(a+1));l.found&&l.logicalGroup!=null&&n.push(l.logicalGroup),a+=l.skipCount}else if(o instanceof Es){if(n.length==0){o.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_FACTORIAL_WHILE_CREATING_GROUPS,o,"Unexpected [T_AOP_FACTORIAL] while parsing input text."));continue}let l=n[n.length-1];if(!(l instanceof Ze)&&!(l instanceof en)){o.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_FACTORIAL_OPERAND,o,"Unexpected left operand encountered for [T_AOP_FACTORIAL] while parsing input text."));continue}l=n.pop();let u=new Ze;u.startPosition=l.startPosition,u.endPosition=o.endPosition,u.originalAbstractNode=o,u.nodes.push(l),u.nodes.push(o),n.push(u)}else n.push(o)}return n}makeArgGroup(e){let n=new go,r=e.length;for(let s=0;s<r;s++){let a=e[s];if(this.isOperand(a)==!1){a.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_TOKEN_WHILE_PARSING_METHOD,a,"Unexpected ["+ne.getPrettyTypeName(a)+"] while parsing argument group."));continue}let o=null;if(s+1<r&&(o=e[s+1]),o==null||o instanceof zt){n.args.push(e[s]),s+=1;continue}else if(o instanceof $t){if(s+2>=r){a.pushError(j.makeSyntaxError(P.TYPE_ARG_UNEXPECTED_NAMED_ARGUMENT,a,"Unexpected end of input while parsing named argument."));continue}let l=e[s+2],u=new Pc;u.startPosition=a.startPosition,u.endPosition=l.endPosition,u.content=a.content+l.content,u.name=a,u.value=l,a instanceof Ne||a.pushError(j.makeSyntaxError(P.TYPE_INVALID_NAMED_ARG_IDENTIFIER,a,"Invalid type ["+ne.getPrettyTypeName(a)+"] supplied for named argument name.")),n.hasNamedArguments=!0,n.numberOfNamedArguments+=1,n.args.push(u),s+3<r&&e[s+3]instanceof zt?s+=3:s+=2;continue}}let i=!1;return n.args.forEach(s=>{s instanceof Pc?i=!0:i&&s.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_UNNAMED_METHOD_ARGUMENT,s,"Unnamed arguments are not allowed to appear after a named argument."))}),n}cleanVariableForMethodInvocation(e){(e.name.startsWith(":")||e.name.startsWith("."))&&(e.name=e.name.substr(1),e.variableReference!=null&&(e.variableReference.originalContent=e.variableReference.originalContent.substr(1),e.variableReference.normalizedReference=e.variableReference.normalizedReference.substr(1)),e.startPosition!=null&&(e.startPosition.offset+=1,e.startPosition.char+=1))}reduceVariableReferenceForObjectAccessor(e){var s;let n=(s=e.variableReference)==null?void 0:s.pathParts.pop(),r=n.name,i=r.length+1;return e.name=e.name.substr(0,-i),e.variableReference!=null&&(e.variableReference.originalContent=e.variableReference.originalContent.substr(0,-i),e.variableReference.normalizedReference=e.variableReference.normalizedReference.substr(0,-i),e.variableReference.pathParts[e.variableReference.pathParts.length-1].isFinal=!0),e.endPosition!=null&&(e.endPosition.offset-=i,e.endPosition.char-=i),{accessor:r,accessorLen:i}}associateMethodCalls(e){var i,s;let n=[],r=e.length;for(let a=0;a<r;a++){let o=e[a],l=null,u=null;if(n.length>0&&(l=n[n.length-1]),a+1<r&&(u=e[a+1]),o instanceof Ne&&u instanceof Ze&&l!=null&&(this.isProperMethodChainTargetStrict(l)||l instanceof $t)){let c=u,f=[];c.nodes.length>0&&(c.nodes[0]instanceof Zt?f=c.nodes[0].nodes:f=c.nodes);let d=new Tn;if(d.startPosition=o.startPosition,l instanceof $t){let m=n.pop();d.startPosition=m.startPosition}this.cleanVariableForMethodInvocation(o),d.endPosition=c.endPosition,d.args=this.makeArgGroup(f),d.method=o,l.methodTarget=d,l instanceof Ne&&l.mergeRefName.length>0&&(l.name=St.getUnrefName(l.mergeRefName)),n.push(d),a+=1;continue}else if(o instanceof Ze&&l instanceof Ne&&l.variableReference!=null&&l.variableReference.pathParts.length>=2){let c=[];if(o.nodes.length>0&&(o.nodes[0]instanceof Zt?c=o.nodes[0].nodes:c=o.nodes),l.variableReference.pathParts[0]instanceof Bn&&ol.deferredCoreLibraries.includes(l.variableReference.pathParts[0].name)){let h=n.pop(),_=new As;_.startPosition=h.startPosition,_.endPosition=o.endPosition,_.content=h.content,_.originalAbstractNode=o;let b=((i=h.variableReference)==null?void 0:i.pathParts.shift()).name,y=(s=h.variableReference)==null?void 0:s.implodePaths();_.libraryName=b,_.methodName=y,_.arguments=this.makeArgGroup(c),n.push(_),a+=1;continue}let f=this.reduceVariableReferenceForObjectAccessor(l),d=new Tn;d.startPosition=o.startPosition,d.endPosition=o.endPosition,l.methodTarget=d,l instanceof Ne&&l.mergeRefName.length>0&&(l.name=St.getUnrefName(l.mergeRefName)),o.start!=null&&(o.start.isPartOfMethodChain=!0),o.end!=null&&(o.end.isPartOfMethodChain=!0);let m=new Ne;m.name=f.accessor,m.isPartOfMethodChain=!0;let p=this.makeArgGroup(c);if(d.startPosition!=null&&(d.startPosition.offset-=f.accessorLen,d.startPosition.char-=f.accessorLen),d.method=m,d.args=p,te.isNumeric(l.name)){let h=n.pop();n.push(this.convertOperatorToVarNode(h))}n.push(d);continue}else if(o instanceof Ne&&l instanceof Tn){if(this.cleanVariableForMethodInvocation(o),a+1>r){o.pushError(j.makeSyntaxError(P.TYPE_METHOD_CALL_MISSING_ARG_GROUP,o,"Unexpected end of input while parsing method call."));continue}let c=e[a+1];if(!(c instanceof Ze)){o.pushError(j.makeSyntaxError(P.TYPE_INVALID_METHOD_CALL_ARG_GROUP,o,"Unexpected ["+ne.getPrettyTypeName(c)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let f=c,d=[];f.nodes.length>0&&(f.nodes[0]instanceof Zt?d=f.nodes[0].nodes:d=f.nodes);let m=new Tn;m.startPosition=o.startPosition,m.endPosition=f.endPosition,m.args=this.makeArgGroup(d),m.method=o,l.methodTarget=m,n.push(m),a+=1;continue}else if(o instanceof $t&&l instanceof Tn){if(a+1>r){o.pushError(j.makeSyntaxError(P.TYPE_METHOD_CALL_MISSING_METHOD,o,"Unexpected end of input while parsing method call."));continue}let c=e[a+1];if(a+2>r){o.pushError(j.makeSyntaxError(P.TYPE_METHOD_CALL_MISSING_ARG_GROUP,o,"Unexpected end of input while parsing method call."));continue}let f=e[a+2];if(!(f instanceof Ze)){o.pushError(j.makeSyntaxError(P.TYPE_INVALID_METHOD_CALL_ARG_GROUP,o,"Unexpected ["+ne.getPrettyTypeName(f)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let d=f,m=[];d.nodes.length>0&&(d.nodes[0]instanceof Zt?m=d.nodes[0].nodes:m=d.nodes);let p=new Tn;p.startPosition=o.startPosition,p.endPosition=f.endPosition,p.args=this.makeArgGroup(m),p.method=c,l.methodTarget=p,n.push(p),a+=2;continue}else if(o instanceof Tn){if(a+1>r){o.pushError(j.makeSyntaxError(P.TYPE_METHOD_CALL_MISSING_METHOD,o,"Unexpected end of input while parsing method call."));continue}let c=e[a+1];if(a+2>r){o.pushError(j.makeSyntaxError(P.TYPE_INVALID_METHOD_CALL_ARG_GROUP,o,"Unexpected end of input while parsing method call."));continue}let f=e[a+2];if(!(f instanceof Ze)){o.pushError(j.makeSyntaxError(P.TYPE_INVALID_METHOD_CALL_ARG_GROUP,o,"Unexpected ["+ne.getPrettyTypeName(f)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let d=f,m=[];d.nodes.length>0&&(d.nodes[0]instanceof Zt?m=d.nodes[0].nodes:m=d.nodes);let p=this.makeArgGroup(m);if(l instanceof Ne&&ol.deferredCoreLibraries.includes(l.name)){let h=n.pop(),_=new As;_.startPosition=h.startPosition,_.endPosition=d.endPosition,_.libraryName=h.name,_.methodName=c.name,_.content=_.libraryName+"->"+_.methodName,_.arguments=p,l.libraryTarget=_,n.push(_),a+=2;continue}o.method=c,o.args=p,n.length>0&&(n[n.length-1].methodTarget=o),a+=2,n.push(o);continue}else n.push(o)}return n}convertVariableToStringNode(e){let n=new Wt;return n.content=e.name,n.value=e.name,n.originalAbstractNode=e,n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.index=e.index,n}createTupleLists(e){let n=e.length,r=[];for(let i=0;i<n;i++){let s=e[i];if(s instanceof Ni){if(s.isListGroupMember=!0,i+1>=n){s.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_PARSING_TUPLE_LIST,s,"Unexpected end of input while parsing tuple list."));continue}let a=e[i+1];if(!(a instanceof Ze)){a.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_TYPE_FOR_TUPLE_LIST,a,"Unexpected ["+ne.getPrettyTypeName(a)+"] while parsing tuple list."));continue}let o=a;if(this.markAllNonVirtualAsListGroupMember([o]),this.retriggerNonVirtualGroupMembers.push([o]),o.nodes.length==0){o.pushError(j.makeSyntaxError(P.TYPE_MISSING_BODY_TUPLE_LIST,o,"Missing tuple list body while parsing tuple list."));continue}let u=o.nodes.shift(),c=u.nodes.length,f=[];for(let p=0;p<c;p++){let h=u.nodes[p];if(!(h instanceof zt)){let _=!1;if(h instanceof Ne&&(h.variableReference==null&&(_=!0),h.variableReference!=null&&h.variableReference.pathParts.length>1&&(_=!0),h.name.trim().length==0&&(_=!0)),_||!(h instanceof Ne)){o.pushError(j.makeSyntaxError(P.TYPE_INVALID_TUPLE_LIST_NAME_TYPE,o,"Invalid ["+ne.getPrettyTypeName(h)+"] name type found while parsing tuple list."));continue}let g=h;f.push(this.convertVariableToStringNode(g))}}let d=f.length;if(d==0){o.pushError(j.makeSyntaxError(P.TYPE_INVALID_MANIFESTED_NAME_GROUP,o,"Invalid Name expression produced an invalid name group while parsing tuple list."));continue}let m=new ss;this.createdArrays.push(m),m.startPosition=s.startPosition,m.endPosition=s.endPosition,o.nodes.forEach(p=>{if(!(p instanceof Zt)){p.pushError(j.makeSyntaxError(P.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE_GROUP,p,"Invalid ["+ne.getPrettyTypeName(p)+"] name type found while parsing tuple list value expression."));return}let h=p,_=new ss;this.createdArrays.push(_),_.startPosition=h.startPosition;let g=[];for(let b=0;b<c;b++){let y=h.nodes[b];if(!(y instanceof zt)){if(this.isOperand(y)==!1){y.pushError(j.makeSyntaxError(P.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE,y,"Unexpected ["+ne.getPrettyTypeName(y)+"]  while parsing tuple list value."));continue}g.push(y)}}for(let b=0;b<d&&!(b>g.length);b++){let y=g[b],T=new Xl;T.startPosition=y.startPosition,T.endPosition=y.endPosition,T.name=f[b],T.value=y,_.nodes.push(T),m.endPosition=y.endPosition,_.endPosition=y.endPosition}m.nodes.push(_)}),r.push(m),i+=1;continue}else r.push(s)}return e}makeOrderGroup(e){let n=[],r=e.length,i=0;for(let s=0;s<r;s++){let a=e[s],o=null;if(s+1<r&&(o=e[s+1]),s>0&&(o==null||o instanceof zt)){i+=1;let l=new $l;l.order=i,l.name=e[s-1],l.directionNode=a,this.isOperand(l.name)==!1&&l.name.pushError(j.makeSyntaxError(P.TYPE_INVALID_ORDER_BY_NAME_VALUE,l.name,"Invalid value or expression supplied for order by name.")),this.isOperand(l.directionNode)==!1&&l.directionNode.pushError(j.makeSyntaxError(P.TYPE_INVALID_ORDER_BY_SORT_VALUE,l.directionNode,"Invalid value or expression supplied for order by direction.")),l.startPosition=l.name.startPosition,l.endPosition=l.directionNode.endPosition,n.push(l),s+=1;continue}}return n}getValues(e){let n=new mo,r=e.length,i=[];for(let s=0;s<r;s++){let a=e[s],o=null;if(s+1<r&&(o=e[s+1]),o==null||o instanceof zt){i.push(a),s+=1;continue}}return n.values=i,n}createLibraryInvocations(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof bi)if(s.content.includes(".")){let a=s.content.split("."),o=a.shift(),l=a.join("."),u=new As;if(u.startPosition=s.startPosition,u.endPosition=s.endPosition,u.content=s.content,u.libraryName=o,u.methodName=l,u.originalAbstractNode=s,i+1>=r){s.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_ARG_GROUP,s,"Unexpected end of input while parsing argument group."));continue}if(!(e[i+1]instanceof Ze)){s.pushError(j.makeSyntaxError(P.TYPE_EXPECTING_ARGUMENT_GROUP,s,"Unexpected token while parsing method call. Expecting [T_ARG_SEPARATOR] got ["+ne.getPrettyTypeName(s)+"]."));continue}let c=e[i+1],f=null;if(c.nodes.length>0){let d=c.nodes[0];f=this.makeArgGroup(d.nodes)}f==null&&(f=new go,f.startPosition=c.startPosition,f.endPosition=c.endPosition,f.originalAbstractNode=c),u.arguments=f,n.push(u),i+=1;continue}else if(s.content==Vt.ARR_ORDERBY){if(i+1>=r){s.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_PARSING_ORDER_GROUP,s,"Unexpected end of input while parsing order group."));continue}let a=e[i+1];if(!(a instanceof Ze)){a.pushError(j.makeSyntaxError(P.TYPE_EXPECTING_ORDER_GROUP_FOR_ORDER_BY_OPERAND,a,"Unexpected ["+ne.getPrettyTypeName(a)+"] while parsing order group."));continue}let l=a.nodes;l[0]instanceof Zt&&(l=l[0].nodes);let u=this.makeOrderGroup(l);u.length==0&&s.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_EMPTY_DIRECTION_GROUP,s,"Unexpected empty [T_DIRECTION_GROUP]. Must have at least one order clause, and each property must have a direction specified."));let c=new ha;if(c.orderClauses=u,u.length>0){u[0].directionNode!=null&&(c.startPosition=u[0].directionNode.startPosition);let f=u[u.length-1].directionNode;f!=null&&(c.endPosition=f.endPosition)}n.push(s),n.push(c),i+=1;continue}else if(s.content==Vt.ARR_GROUPBY){if(i+1>=r){s.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_GROUP_BY,s,"Unexpected end of input while parsing group by clause."));continue}let a=e[i+1];if(a instanceof as||a instanceof Gr){a.pushError(j.makeSyntaxError(P.TYPE_GROUP_BY_SCOPED_GROUP_MUST_BE_ENCLOSED,a,"Type ["+ne.getPrettyTypeName(a)+"] must be enclosed with parenthesis to be used with groupby."));continue}if(!(a instanceof Ze)){a.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_TOKEN_FOR_GROUP_BY,a,"Unexpected ["+ne.getPrettyTypeName(a)+"] while parsing group by."));continue}let l=a.nodes;l[0]instanceof Zt&&(l=l[0].nodes);let u=this.getValues(l);if(n.push(s),n.push(u),i+2<r&&i+3<r){let c=e[i+2],f=e[i+3];if(St.isVariableMatching(c,yt.ScopeAs))if(f instanceof Wt){u.isNamedNode=!0,u.parsedName=f,i+=3;continue}else f.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_GROUP_BY_AS_ALIAS_TYPE,f,"Expecting [T_STRING] for group by collection alias; got ["+ne.getPrettyTypeName(f)+"]."))}i+=1;continue}else if(s.content==Vt.STRUCT_SWITCH){if(i+1>=r){s.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SWITCH_GROUP,s,"Unexpected end of input while parsing [T_SWITCH_GROUP]."));continue}let a=e[i+1];if(!(a instanceof Gr)){a.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_TOKEN_FOR_SWITCH_GROUP,a,"Unexpected ["+ne.getPrettyTypeName(a)+"] while parsing [T_SWITCH_GROUP]."));continue}let o=a;if(this.markAllNonVirtualAsSwitch([a]),o.scope==null||!(o.scope instanceof Ze)){o.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_SWITCH_START_VALUE,o,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let l=o.scope;if(l.nodes.length==0||!(l.nodes[0]instanceof Zt)){o.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,o,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let u=l.nodes[0];if(this.markAllNonVirtualAsSwitch([l]),u.nodes.length==0||!(u.nodes[0]instanceof Ze)){s.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}this.markAllNonVirtualAsSwitch([s]),this.markAllNonVirtualAsSwitch(u.nodes);let c=u.nodes;if(o.nodes.length==0&&s.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP].")),!(l.nodes[0]instanceof Zt)){s.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let d=l.nodes[0];this.markAllNonVirtualAsSwitch(d.nodes);let m=d.nodes,p=new ga,h=new Ze;h.nodes=c,h.startPosition=h.nodes[0].startPosition,h.endPosition=h.nodes[h.nodes.length-1].endPosition;let _=new ho;_.condition=h;let g=new Ze;g.nodes.push(m.shift()),g.startPosition=g.nodes[0].startPosition,g.endPosition=g.nodes[g.nodes.length-1].endPosition,_.expression=g,_.startPosition=_.condition.startPosition,_.endPosition=_.expression.nodes[_.expression.nodes.length-1].endPosition,m.shift(),p.cases.push(_);let b=m.length;if(b>0){if(!(m[0]instanceof Ze)){s.pushError(j.makeSyntaxError(P.TYPE_PARSER_INVALID_SWITCH_TOKEN,s,"Invalid ["+ne.getPrettyTypeName(m[0])+"] while parsing case statement."));continue}for(let y=0;y<b;y++){let T=m[y],C=null;if(T instanceof zt){T.isSwitchGroupMember=!0;continue}if(y+1<b&&(C=m[y+1]),C instanceof zn){C.isSwitchGroupMember=!0;let W=new ho;W.condition=T,this.markAllNonVirtualAsSwitch([W.condition]);let F=new Ze;if(F.nodes.push(m[y+2]),F.startPosition=F.nodes[0].startPosition,F.endPosition=F.nodes[F.nodes.length-1].endPosition,W.expression=F,this.markAllNonVirtualAsSwitch([F]),W.startPosition=W.condition.startPosition,W.endPosition=W.expression.nodes[W.expression.nodes.length-1].endPosition,p.cases.push(W),y+3<b&&!(m[y+3]instanceof zt)){m[y+3].pushError(j.makeSyntaxError(P.TYPE_PARSER_INVALID_SWITCH_TOKEN,m[y+3],"Invalid ["+ne.getPrettyTypeName(m[y+3])+"] while parsing case statement; expecting [T_ARG_SEPARATOR]."));continue}m[y+3].isSwitchGroupMember=!0,y+=2;continue}}}n.push(new Vr),n.push(s),n.push(p),i+=1;continue}else if(s.content==Vt.ARR_MAKE){if(i+1>=r){s.pushError(j.makeSyntaxError(P.TYPE_ARR_MAKE_MISSING_TARGET,s,"Missing target variable for arr operator."));continue}let a=e[i+1];if(!(a instanceof Ze)){a.pushError(j.makeSyntaxError(P.TYPE_ARR_MAKE_UNEXPECTED_TYPE,a,"Unexpected ["+ne.getPrettyTypeName(a)+"] while parsing array."));continue}let o=a instanceof Gr,l=a,u=l.nodes;if(u[0]instanceof Zt&&(u=u[0].nodes),o){let m=a;u.unshift(new zn),u.unshift(m.scope)}let c=this.getArrayValues(u),f=new ss;f.startPosition=s.startPosition;let d=c.values.length;d>0?f.endPosition=c.values[d-1].endPosition:f.endPosition=s.endPosition,l.end!=null&&(f.endPosition=l.end.endPosition),f.nodes=c.values,this.createdArrays.push(f),n.push(f),i+=1}else n.push(s);else n.push(s)}return n}getArrayValues(e){let n=new mo,r=e.length,i=[];for(let s=0;s<r;s++){let a=e[s];if(a instanceof zt){a.pushError(j.makeSyntaxError(P.TYPE_ARR_UNEXPECT_ARG_SEPARATOR,a,"Unexpected [T_ARG_SEPARATOR] while parsing array."));continue}if(a instanceof zn){if(s==0){a.pushError(j.makeSyntaxError(P.TYPE_ARR_KEY_PAIR_MISSING_KEY,a,"Missing key for key/value pair while parsing array."));continue}else if(e[s-1]instanceof zt){a.pushError(j.makeSyntaxError(P.TYPE_ARR_KEY_PAIR_MISSING_KEY,a,"Missing key for key/value pair while parsing array."));continue}}let o=null;if(s+1<r&&(o=e[s+1]),o instanceof zn){if(s+2>=r){o.pushError(j.makeSyntaxError(P.TYPE_ARR_MAKE_MISSING_ARR_KEY_PAIR_VALUE,o,"Missing key/pair value while parsing array."));continue}let l=e[s+2],u=new Xl;if(this.isValidArrayKeyNode(a)==!1){a.pushError(j.makeSyntaxError(P.TYPE_ARR_KEY_PAIR_INVALID_KEY_TYPE,a,"Invalid ["+ne.getPrettyTypeName(a)+"] type for key/value key."));continue}u.name=a,u.value=l,u.startPosition=a.startPosition,u.endPosition=l.endPosition,i.push(u),s+=3;continue}if(o==null||o instanceof zt){let l=new Xl;l.value=a,l.startPosition=a.startPosition,l.endPosition=a.endPosition,i.push(l),s+=1;continue}}return n.values=i,n}isValidArrayKeyNode(e){return e instanceof en||e instanceof Wt}associateModifiers(e){let n=[],r=e.length,i=null;for(let s=0;s<r;s++){let a=e[s];if(a instanceof $n){let o=n.length;if(o==0){a.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_MODIFIER_SEPARATOR,a,"Unexpected [T_MODIFIER_SEPARATOR] while parsing input text."));continue}if(this.isRealModifierSeparator.set(a,!0),i=n[o-1],i.modifierChain==null&&(i.modifierChain=new Yl,i.modifierChain.modifierTarget=i,this.createdModifierChains.push(i.modifierChain)),s+1>=r){a.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_DETAILS,a,"Unexpected end of input while preparing to gather modifier details."));continue}let l=this.scanToEndOfModifier(e.slice(s+1)),u=l.length;if(u>1&&l[1]instanceof $t){this.isRealModifierSeparator.set(l[1],!0);let f=l[0];f instanceof hr?l[0]=this.wrapArithmeticModifier(f,"add"):f instanceof Hn?l[0]=this.wrapArithmeticModifier(f,"subtract"):f instanceof gr?l[0]=this.wrapArithmeticModifier(f,"divide"):f instanceof _r?l[0]=this.wrapArithmeticModifier(f,"multiply"):f instanceof Vi&&(l[0]=this.wrapArithmeticModifier(f,"mod"))}if(u==0){a.pushError(j.makeSyntaxError(P.TYPE_UNSET_MODIFIER_DETAILS,a,"Invalid or missing modifier details."));continue}if(!(l[0]instanceof pn)){a.pushError(j.makeSyntaxError(P.TYPE_MODIFIER_NAME_NOT_START_OF_DETAILS,a,"Invalid ["+ne.getPrettyTypeName(l[0])+"]; expecting [T_MODIFIER_NAME]"));continue}let c=this.createModifier(l);c.nameNode!=null&&this.modifierNameMapping.set(c.nameNode,c),s+=u,i.modifierChain.modifierChain.push(c),i.modifierChain.updateValues();continue}else n.push(a)}return n}createNullCoalescenceGroups(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof Wr){let a=n.pop();if(i+1>=r){s.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NULL_COALESCENCE_GROUP,s,"Unexpected end of input while parsing input text."));continue}let o=e[i+1],l=new Kl;l.left=a,l.right=o,n.push(l),i+=1;continue}else n.push(s)}return n}isOperand(e){return e instanceof Ne||e instanceof Ze||e instanceof Wt||e instanceof en||e instanceof oi||e instanceof Vr||e instanceof li||e instanceof As||e instanceof ha||e instanceof mo||e instanceof ga||e instanceof ss}isProperMethodChainTargetStrict(e){return e instanceof Ze||e instanceof Wt||e instanceof en||e instanceof oi||e instanceof Vr||e instanceof li||e instanceof As||e instanceof ha||e instanceof mo||e instanceof ga||e instanceof ss}assertOperandRight(e,n){if(n+1>e.length-1)return e[n].pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_END_OF_INPUT,e[n],"Unexpected end of input; expecting operand for operator "+ne.getPrettyTypeName(e[n])+' near "'+al.getNearText(e[n])+'".')),!1;let r=e[n+1];return this.isOperand(r)?!0:(r.pushError(j.makeSyntaxError(P.TYPE_EXPECTING_OPERAND,e[n],"Expecting operand, found "+ne.getPrettyTypeName(r)+' near "'+al.getNearText(e[n])+'".')),!1)}resolveValueRight(e,n){let r=null,i=0,s=null;if(e.length>0){let a=!0;for(;a;){let o=e[n];if(o instanceof On){s=o,i+=1,n+=1,a=!1;continue}else if(this.isOperand(o)){r=o,a=!1;break}else{a=!1;break}}}if(i%2!=0){let a=new Ze;return a.nodes=[],s!=null&&r!=null&&(a.nodes.push(s),a.nodes.push(r)),{value:a,negationCount:i}}return{value:r,negationCount:i}}correctTypes(e){let n=[];return e.forEach(r=>{if(r instanceof Kn){let i=new $t;i.startPosition=r.startPosition,i.endPosition=r.endPosition,i.originalAbstractNode=r,n.push(i)}else if(r instanceof dn){let i=new Ne;i.name=r.value,i.startPosition=r.startPosition,i.endPosition=r.endPosition,i.modifierChain=r.modifierChain,i.originalAbstractNode=r,this.createdVariables.push(i),n.push(i)}else n.push(r)}),n}createTernaryGroups(e){var i,s,a,o;let n=[],r=e.length;for(let l=0;l<r;l++){let u=e[l];if(u instanceof Ti){let c=this.seek($t,l+1);if(((i=c.node)==null?void 0:i.originalAbstractNode)!=null&&c.node.originalAbstractNode instanceof Kn&&(c.node.originalAbstractNode.isTenaryBranchSeparator=!0),c.found==!1){u.pushError(j.makeSyntaxError(P.TYPE_TERNARY_EXPECTING_BRANCH_SEPARATOR,u,"Unexpected end of input; expecting [T_BRANCH_SEPARATOR]."));continue}let f=this.collectUntil(n);n=f.tokens;let d=f.collectedTokens[0],m=(s=c.foundAt)!=null?s:0;if(m>=r){u.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP,u,"Unexpected end of input while parsing ternary group."));continue}let p=e.slice(l+1,m);if(p.length>1||p.length==0){u.pushError(j.makeSyntaxError(P.TYPE_TERNARY_UNEXPECTED_EXPRESSION_LENGTH,u,"Unexpected number of operations within ternary truth branch."));continue}let h=p[0],_=((a=c.foundAt)!=null?a:0)+1;if(_>=r){u.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP_FALSE_BRANCH,u,"Unexpected end of input while parsing ternary false execution branch."));continue}let g=e[_],b=new zl;b.head=d,b.truthBranch=h,b.falseBranch=g,n.push(b),l=((o=c.foundAt)!=null?o:0)+1;continue}else n.push(u)}return n}groupNodesByType(e,n){let r=[],i=e.length;for(let s=0;s<i;s++){let a=e[s];if(s>0&&a instanceof n){let o=[],l=r.pop();if(o.push(l),!this.assertOperandRight(e,s))continue;if(s+1>=i){a.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS,a,"Unexpected end of input while parsing input text."));continue}let u=e[s+1];typeof u!="undefined"&&(u.isVirtualGroupMember=!0),typeof l!="undefined"&&(l.isVirtualGroupMember=!0),a.isVirtualGroupMember=!0;let c=new Ze;c.nodes=o,c.nodes.push(a),c.nodes.push(u),s+=1,r.push(c);continue}else r.push(a)}return r}flagNodeAsOperatorResolve(e){if(e instanceof Ze){if(e.nodes.length==0)return;this.flagNodeAsOperatorResolve(e.nodes[e.nodes.length-1])}e.isVirtualGroupOperatorResolve=!0,e.next instanceof wn||(e.producesVirtualStatementTerminator=!0)}groupNodesByOperatorType(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(i>0&&Xt.isOperatorType(s)){let a=[],o=n.pop();if(a.push(o),!this.assertOperandRight(e,i))continue;if(i+1>=r){s.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS,s,"Unexpected end of input while parsing input text."));continue}let l=e[i+1];this.flagNodeAsOperatorResolve(l),Xt.isAssignmentOperator(s)&&this.tracedAssignments.push(new wd(o,l,s)),typeof o!="undefined"&&(o.isVirtualGroupMember=!0),typeof l!="undefined"&&(l.isVirtualGroupMember=!0),s.isVirtualGroupMember=!0;let u=new Ze;u.nodes=a,u.nodes.push(s),u.nodes.push(l),i+=1,n.push(u);continue}else n.push(s)}return n}applyOperationOrder(e){return e=this.groupNodesByType(e,qi),e=this.groupNodesByType(e,_r),e=this.groupNodesByType(e,gr),e=this.groupNodesByType(e,hr),e=this.groupNodesByType(e,Hn),e}createLogicGroupsToRemoveMethodInvocationAmbiguity(e){let n=[],r=e.length,i=r-1;for(let s=0;s<r;s++){let a=e[s];if(a instanceof Tn){let o=n.pop(),l=new Ze;if(l.startPosition=o.startPosition,typeof o!="undefined"&&(o.isVirtualGroupMember=!0),typeof a!="undefined"&&(a.isVirtualGroupMember=!0),l.nodes.push(o),l.nodes.push(a),s!=i)for(let u=s+1;u<r;u++)if(e[u]instanceof Tn){if(typeof e[u]=="undefined")continue;if(e[u].isVirtualGroupMember=!0,l.nodes.push(e[u]),u==i){u+=1;break}}else{if(u==i){u+=1;break}s=u-1;break}l.endPosition=l.nodes[l.nodes.length-1].endPosition,n.push(l)}else n.push(a)}return n}countTypeRight(e,n,r){let i=0;for(let s=n;s<e.length&&e[s]instanceof r;s++)i+=1;return i}createLogicGroupsToResolveOperatorAmbiguity(e){return e=this.groupNodesByType(e,rs),e=this.groupNodesByType(e,jr),e=this.groupNodesByType(e,mi),e=this.groupNodesByType(e,di),e=this.groupNodesByType(e,yi),e=this.groupNodesByType(e,Yn),e=this.groupNodesByType(e,gi),e=this.groupNodesByType(e,hi),e=this.groupNodesByType(e,_i),e=this.groupNodesByOperatorType(e),e}createModifier(e){let n=e.shift(),r=[],i=e.length;if(e.length>0&&e[0]instanceof Ze){let a=this.unpack(e[0].nodes),o=this.makeArgGroup(a),l=new po;if(l.nameNode=n,l.methodStyleArguments=o,e.length>1)for(let u=1;u<i;u++)e[u].pushError(j.makeSyntaxError(P.TYPE_MODIFIER_UNEXPECTED_TOKEN_METHOD_SYNTAX,e[u],"Unexpected ["+ne.getPrettyTypeName(e[u])+"] while parsing modifier argument group. Expecting [T_MODIFIER_SEPARATOR] or end of current expression."));return l}for(let a=0;a<i;a++)if(e[a]instanceof Kn||e[a]instanceof $t){if(a+1>=i)return e[a].pushError(j.makeSyntaxError(P.TYPE_MODIFIER_UNEXPECTED_END_OF_VALUE_LIST,e[a],"Unexpected end of modifier value list while parsing modifier.")),e;let o=e[a+1];if(this.isValidModifierValue(o)){if(o instanceof Ne)if(o.variableReference!=null&&o.variableReference.pathParts.length>0)o.variableReference.pathParts.forEach(l=>{if(l instanceof Bn){let u=new dn;u.startPosition=l.startPosition,u.endPosition=l.endPosition,u.value=l.name,u.name=l.name,u.originalAbstractNode=l,u.endPosition==null&&u.startPosition==null&&(u.startPosition=o.startPosition,u.endPosition=o.endPosition),r.push(u)}});else{let l=new dn;l.startPosition=o.startPosition,l.endPosition=o.endPosition,l.value=o.name,l.name=o.name,l.originalAbstractNode=o,r.push(l)}else r.push(o);a+=1;continue}else return o.pushError(j.makeSyntaxError(P.TYPE_MODIFIER_UNEXPECTED_VALUE,o,"Unexpected ["+ne.getPrettyTypeName(o)+"] while parsing modifier value.")),e}let s=new po;return s.nameNode=n,s.valueNodes=r,s.startPosition=s.nameNode.startPosition,s.valueNodes.length>0?s.endPosition=s.valueNodes[s.valueNodes.length-1].endPosition:s.endPosition=s.nameNode.endPosition,s}scanToEndOfModifier(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof Kn){let a=n.length;if(a==0){s.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_VALUE,s,"Unexpected end of input while parsing modifier value."));continue}this.isRealModifierSeparator.set(s,!0);let o=n[a-1];if(St.distance(o,s)>1)break}if(s instanceof Wt||s instanceof Ne||s instanceof en){let a=n.length;if(a>0&&n[a-1]instanceof Ze)break}if(s instanceof $n||s instanceof fn||s instanceof bn||s instanceof Yn||s instanceof jr||s instanceof rs||s instanceof di||s instanceof mi||s instanceof hi||s instanceof gi||s instanceof _i||s instanceof yi||s instanceof Ur||s instanceof vi||s instanceof Ui||s instanceof Wr||s instanceof Wi||s instanceof bi||s instanceof As||s instanceof Tn||s instanceof On)break;n.push(s)}return n}static isAssignmentOperatorNode(e){return e instanceof ui||e instanceof ci||e instanceof yr||e instanceof fi||e instanceof pi||e instanceof Hn}insertAutomaticStatementSeparators(e){let n=e.length,r=[];for(let i=0;i<n;i++){let s=e[i];if(Xt.isAssignmentOperatorNode(s))if(i+2<n)if(e[i+2]instanceof wn){r.push(s),r.push(e[i+1]),r.push(e[i+2]),i+=2;continue}else{r.push(s),r.push(e[i+1]),r.push(new wn),i+=1;continue}else{r.push(s),r.push(e[i+1]),r.push(new wn);break}else r.push(s)}return e}createSemanticGroups(e){let n=[],r=e.length,i=[];for(let s=0;s<r;s++)if(e[s]instanceof wn){let a=new Zt;a.nodes=i,a.separatorToken=e[s],n.push(a),i=[];continue}else if(i.push(e[s]),s+1>=r){let a=new Zt;a.nodes=i,n.push(a);break}return n}findLogicalGroupEnd(e,n){let r=[],i=n.length,s=null,a=0,o=0;for(o;o<i;o++){let c=n[o];if(a+=1,c instanceof fn){s=c;break}else if(c instanceof bn){if(o+1>=i)return c.pushError(j.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END,c,"Unexpected end of input while parsing input text.")),{found:!1,logicalGroup:null,skipCount:a};let f=this.findLogicalGroupEnd(c,n.slice(o+1));if(f.found){f.logicalGroup!=null&&r.push(f.logicalGroup),a+=f.skipCount,o+=f.skipCount;continue}else continue}else r.push(c)}if(s==null)return e.pushError(j.makeSyntaxError(P.TYPE_LOGIC_GROUP_NO_END,e,"Unexpected end of input while parsing logic group.")),{found:!1,logicalGroup:null,skipCount:a};let l=new Xt;l.setIsRoot(!1);let u=new Ze;if(r.length>=2&&r[1]instanceof zn){if(u=new Gr,u.scopeOperator=r[1],o+2<i&&n[o+1]instanceof Ne&&n[o+2]instanceof Wt&&n[o+1].name==yt.ScopeAs){let d=n[o+2];u=new as,u instanceof as&&(u.alias=d),a+=2}let c=r.splice(0,2);(u instanceof Gr||u instanceof as)&&(u.scope=c[0])}return u.nodes=l.parse(r),u.start=e,u.end=s,u.startPosition=e.startPosition,u.endPosition=s.endPosition,u instanceof as&&u.alias!=null&&(u.endPosition=u.alias.endPosition),{found:!0,logicalGroup:u,skipCount:a}}unpack(e){if(e.length==0)return[];if(e[0]instanceof Zt){let n=e[0];return this.unpack(n.nodes)}return e}collectUntil(e){let n=e.length,r=[];for(let i=n-1;i>=0&&!Xt.isAssignmentOperator(e[i]);i--){let s=e.pop();r.push(s)}if(r=r.reverse(),r.length>=3){let i=new Xt;return i.setIsRoot(!1),{collectedTokens:this.unpack(i.parse(r)),tokens:e}}return{collectedTokens:r,tokens:e}}seek(e,n){for(let r=n;r<this.tokens.length;r++)if(this.tokens[r]instanceof e)return{found:!0,foundAt:r,node:this.tokens[r]};return{found:!1,foundAt:null,node:null}}};var hs=class{static findRightBeighboringNextPunctuation(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e+1;s<n.length;s++){let a=n[s];if(te.ctypeSpace(a)&&(i=!0),i&&(te.ctypeAlpha(a)||te.ctypeDigit(a)))return null;if(te.ctypePunct(a)||a==w.String_Terminator_SingleQuote||a==w.String_Terminator_DoubleQuote)return a}return null}static findRightNeighboringNextAlphaNumeric(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e+1;s<n.length;s++){let a=n[s];if((te.ctypeSpace(a)||te.ctypePunct(a)&&a!=w.Punctuation_Underscore)&&(i=!0),i&&(te.ctypeAlpha(a)||te.ctypeDigit(a)))return s+1}return null}static findLeftNeighboringNextPunctuation(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e-2;s>=0;s--){let a=n[s];if(te.ctypeSpace(a)&&(i=!0),i&&(te.ctypeAlpha(a)||te.ctypeDigit(a)))return null;if(te.ctypePunct(a))return a}return null}static findLeftNeighboringNextAlphaNumeric(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e-1;s>=0;s--){let a=n[s];if((te.ctypeSpace(a)||te.ctypePunct(a)&&a!=w.Punctuation_Underscore)&&(i=!0),i&&(te.ctypeAlpha(a)||te.ctypeDigit(a)))return s+1}return null}static scanWordAt(e,n,r=4){if(n=n.replace("	"," ".repeat(r)),e<0||e>n.length)return null;let i=[],s=[];for(let a=e-1;a>=0;a--){let o=n[a];if(te.ctypePunct(o)&&o!=w.Punctuation_Underscore||te.ctypeSpace(o))break;i.push(o)}for(let a=e;a<n.length;a++){let o=n[a];if(te.ctypePunct(o)&&o!=w.Punctuation_Underscore||te.ctypeSpace(o))break;s.push(o)}return i.reverse().join("")+s.join("")}};var Ih=class{constructor(e){this.parser=e}findParentWithName(e,n){let r=n.parent;for(;r!=null;){if(r instanceof K&&r.nameMatches(e))return r;if(r.parent==r)break;r=r.parent}return null}};var Eh=class{static analyzeModifierNodeParameters(e){var r,i,s,a;if(e.parameters.forEach(o=>{var l,u,c,f;o.isModifierParameter=(u=(l=tt.instance)==null?void 0:l.hasModifier(o.name))!=null?u:!1,o.isModifierParameter&&(e.modifiers.parameterModifiers.push(o),o.modifier=(f=(c=tt.instance)==null?void 0:c.getModifier(o.name))!=null?f:null,e.modifiers.modifierNames.includes(o.name)==!1&&e.modifiers.modifierNames.push(o.name))}),e.modifierChain!=null&&e.modifierChain.modifierChain.length>0){let o=null;e.modifierChain.modifierChain.forEach(l=>{var u,c;l.nameNode!=null&&(l.modifier=(c=(u=tt.instance)==null?void 0:u.getModifier(l.nameNode.content))!=null?c:null,e.modifiers.modifierNames.includes(l.nameNode.content)==!1&&e.modifiers.modifierNames.push(l.nameNode.content),l.modifier!=null&&(o=l.modifier,e.modifierChain!=null&&(e.modifierChain.lastManifestedModifier=l)))}),e.modifierChain.lastModifier=o,e.modifiers.parameterModifiers.length>0&&(e.modifiers.hasMixedModifierStyles=!0)}e.runtimeNodes.length>0&&e.runtimeNodes.forEach(o=>{if(o.modifierChain!=null&&o.modifierChain.modifierChain.length>0){let l=null;o.modifierChain.modifierChain.forEach(u=>{var c,f;u.nameNode!=null&&(u.modifier=(f=(c=tt.instance)==null?void 0:c.getModifier(u.nameNode.content))!=null?f:null,e.modifiers.modifierNames.includes(u.nameNode.content)==!1&&e.modifiers.modifierNames.push(u.nameNode.content),u.modifier!=null&&(l=u.modifier,e.modifierChain!=null&&(e.modifierChain.lastManifestedModifier=u)))}),e.modifierChain!=null&&(e.modifierChain.lastModifier=l),e.modifiers.parameterModifiers.length>0&&(e.modifiers.hasMixedModifierStyles=!0)}});let n=e.modifiers.getLastManifestedModifier();if(n!=null)if(n.name=="macro"){let o=e.modifiers.getLastManifestedModifierValue();e.manifestType=(i=(r=tt.instance)==null?void 0:r.getMacroManifestingType(o))!=null?i:""}else e.manifestType=(a=(s=tt.instance)==null?void 0:s.getProbableReturnType(n,e.isPaired()))!=null?a:""}};function Ah(t){return t==null?!1:t=='"'||t=="'"}function tC(t,e){for(t.getCurrentIndex();t.getCurrentIndex()<t.inputLength()&&(t.checkCurrentOffsets(),e&&t.pushChar(t.getCurrent()),t.getCurrent()!=w.NewLine);t.incrementIndex());}function nC(t,e){for(t.getCurrentIndex();t.getCurrentIndex()<t.inputLength();t.incrementIndex())if(t.checkCurrentOffsets(),e&&t.pushChar(t.getCurrent()),t.getCurrent()==w.Punctuation_Asterisk&&t.getNext()==w.Punctuation_ForwardSlash){e&&t.pushChar(w.Punctuation_ForwardSlash),t.incrementIndex(),t.checkCurrentOffsets();break}}function xh(t){let e=t.getCurrent();for(t.incrementIndex(),t.getCurrentIndex();t.getCurrentIndex()<t.inputLength()&&(t.checkCurrentOffsets(),!(t.getCurrent()==e&&t.getPrev()!=w.String_EscapeCharacter));t.incrementIndex());}var Rh=class{constructor(){this.content="";this.nodeIndex=[];this.fragmentStartIndex=[];this.charLen=0;this.documentOffsets=new Map;this.inputLen=0;this.seedOffset=0;this.shiftLine=0;this.chars=[];this.currentIndex=0;this.lastDocumentOffsetKey=null;this.cur=null;this.next=null;this.prev=null;this.chunkSize=5;this.currentChunkOffset=0;this.fragments=[];this.isScript=!1;this.fragmentOpeningIndex=new Map;this.indexedFragments=new Map;this.embeddedIndexedFragments=new Map}updateIndex(e){this.currentIndex=e}inputLength(){return this.inputLen}incrementIndex(){this.currentIndex+=1}getCurrentIndex(){return this.currentIndex}getCurrent(){return this.cur}getNext(){return this.next}getPrev(){return this.prev}pushChar(e){}getChar(e){return this.chars[e]}getSeedOffset(){return this.seedOffset}setDocumentOffsets(e,n){return this.documentOffsets=e,this.lastDocumentOffsetKey=n,this}getClosingFragmentAfter(e){if(typeof e=="undefined")return null;let n=e.name.toLowerCase();for(let r=0;r<this.fragments.length;r++){let i=this.fragments[r];if(i.isClosingFragment&&!i.isSelfClosing&&i.name.toLowerCase()==n&&i.index>e.index)return i}return null}getContentSubstring(e,n){return this.content.substr(e,n)}resetState(){return this.fragments=[],this.inputLen=0,this.fragmentStartIndex=[],this.fragmentOpeningIndex.clear(),this}resetIntermediateState(){this.chars=[],this.charLen=0,this.currentIndex=0,this.seedOffset=0,this.cur=null,this.next=null,this.prev=null}positionFromOffset(e,n,r=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let o=this.documentOffsets.get(e);i=o.line,s=o.char}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let o=null,l=null,u=null,c=null;for(let f of this.documentOffsets.keys()){if(f>=e){c!=null&&e>c?(o=u,l=c):(o=this.documentOffsets.get(f),l=f);break}u=this.documentOffsets.get(f),c=f}o==null&&(o=u,l=c),o!=null?(s=e-(l!=null?l:0),i=o.line,e<=(l!=null?l:0)?(i=o.line,s=e+1):i=o.line+1):this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let a=new cn;return a.index=n,a.offset=e,a.line=i+this.shiftLine,a.char=s,a}getFragments(){return this.fragments}getFragmentsBetween(e,n){let r=[];return this.fragments.forEach(i=>{var o,l,u,c;let s=(l=(o=i.startPosition)==null?void 0:o.index)!=null?l:0,a=(c=(u=i.endPosition)==null?void 0:u.index)!=null?c:0;s>e&&a<n&&r.push(i)}),r}getFragmentContaining(e){var n,r,i,s;for(let a=0;a<this.fragments.length;a++){let o=this.fragments[a];if(((r=(n=o.startPosition)==null?void 0:n.index)!=null?r:0)<e.index&&((s=(i=o.endPosition)==null?void 0:i.index)!=null?s:0)>e.index)return o}return null}checkCurrentOffsets(){if(this.currentIndex>this.chars.length){this.cur=null,this.prev=null,this.next=null;return}if(this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen){let e=!0;if(this.currentIndex==this.charLen-1){let n=te.split(te.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,this.currentChunkOffset==this.inputLen&&(e=!1),n.forEach(r=>{this.chars.push(r),this.charLen+=1})}e&&this.currentIndex+1<this.chars.length&&(this.next=this.chars[this.currentIndex+1])}}processInputText(e){this.content=e,this.inputLen=this.content.length;let n=[...this.content.matchAll(/(<(?!\?[php|?=]))/gm)],r=[];n.forEach(i=>{var a;let s=(a=i.index)!=null?a:0;for(let o=0;o<this.nodeIndex.length;o++){let l=this.nodeIndex[o];if(s>=l.start&&s<=l.end)return}r.push(s)}),this.fragmentStartIndex=r}setIndexRanges(e){return this.nodeIndex=e,this}fetchAt(e,n){return this.content.substr(e,n)}getFragmentsContainingStructures(){let e=[];return this.fragments.forEach(n=>{let r=n.name.toLowerCase();if(!(r!="script"&&r!="style")&&!n.isClosingFragment&&!n.isSelfClosing&&n.containsStructures){let i=this.getClosingFragmentAfter(n);i!=null&&e.push({start:n,end:i})}}),e}parse(e){if(this.resetState().processInputText(e),this.fragmentStartIndex.length==0)return[];for(let s=0;s<this.fragmentStartIndex.length;s++){let a=this.fragmentStartIndex[s];if(this.resetIntermediateState(),this.seedOffset=a,this.currentChunkOffset=a,this.parseIntermediateText(),this.isScript){let o=!1;for(let l=s+1;l<this.fragmentStartIndex.length;l++){let u=this.fragmentStartIndex[l];if(this.fetchAt(u,8).toLowerCase()=="<\/script"){s=l-1,this.isScript=!1,o=!0;break}}if(!o)break}}let r=0,i=0;return this.fragments.forEach(s=>{let a=s.name.toLowerCase();(a=="script"||a=="style")&&(s.embeddedIndex=i,this.embeddedIndexedFragments.set(i,s),i+=1),s.index=r,this.indexedFragments.set(r,s),r+=1}),this.fragments}getFragment(e){return this.indexedFragments.get(e)}getEmbeddedFragment(e){return this.embeddedIndexedFragments.has(e)?this.embeddedIndexedFragments.get(e):null}hasFragments(){return this.fragments.length>0}skipToEndOfPhp(){for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),Ah(this.cur)&&xh(this),this.cur==w.Punctuation_ForwardSlash&&this.next==w.Punctuation_ForwardSlash){tC(this,!0);continue}if(this.cur==w.Punctuation_ForwardSlash&&this.next==w.Punctuation_Asterisk){nC(this,!0);continue}if(this.cur==w.Punctuation_Question&&this.next==w.Punctuation_GreaterThan||this.next==null)break}}parseIntermediateText(){this.chars=this.content.substr(this.currentChunkOffset,this.chunkSize).split(""),this.charLen=this.chars.length;let e=this.currentIndex,n=[],r=[],i=!1,s=!1;for(this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),te.ctypeSpace(this.cur)&&(i=!0),this.next==w.Punctuation_LessThan){let a=1;this.cur==w.Punctuation_ForwardSlash&&(a=2);let o=this.fetchAt(this.currentChunkOffset+a,5);if(o.toLowerCase()=="<?php"||o.startsWith("<?=")){this.skipToEndOfPhp();continue}}if(this.currentIndex>0&&this.cur==w.Punctuation_LessThan||this.next==null&&this.cur!=w.Punctuation_GreaterThan)break;if(!i&&this.cur==w.Punctuation_LessThan&&this.next==w.Punctuation_ForwardSlash&&(s=!0),!i&&this.cur!=w.Punctuation_LessThan&&this.cur!=w.Punctuation_ForwardSlash&&this.cur!=w.Punctuation_GreaterThan&&r.push(this.cur),Ah(this.cur)){let a=this.currentIndex;xh(this);let o=new Dd;o.startPosition=this.positionFromOffset(a+this.seedOffset,a+this.seedOffset),o.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset);let l=a+this.seedOffset,u=this.currentIndex+this.seedOffset+1;o.content=this.content.substr(l,u-l);let c=[];for(let f=a-2;f>=0;f--){let d=this.chars[f];if(te.ctypeSpace(d))break;c.push(d)}o.name=c.reverse().join(""),n.push(o);continue}if(this.cur==w.Punctuation_ForwardSlash&&this.next==w.Punctuation_GreaterThan){let a=new Cc;a.startPosition=this.positionFromOffset(e+this.seedOffset,e+this.seedOffset),a.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset+1,this.currentIndex+this.seedOffset+1),a.parameters=n,a.isSelfClosing=!0,a.name=r.join(""),a.isClosingFragment=s,this.fragments.push(a),s?this.fragmentOpeningIndex.set(a.startPosition.index+1,1):this.fragmentOpeningIndex.set(a.startPosition.index,1);break}if(this.cur==w.Punctuation_GreaterThan){let a=new Cc;a.startPosition=this.positionFromOffset(e+this.seedOffset,e+this.seedOffset),a.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),a.parameters=n,a.name=r.join(""),a.isClosingFragment=s,this.fragments.push(a),s?this.fragmentOpeningIndex.set(a.startPosition.index+1,1):this.fragmentOpeningIndex.set(a.startPosition.index,1),a.name.toLowerCase()=="script"&&a.isClosingFragment==!1&&(this.isScript=!0);break}}}};var wh=class{constructor(e,n){this.documentParser=e,this.fragmentsParser=n}doesContainFragments(e){var i,s,a,o,l;let n=(s=(i=e.endPosition)==null?void 0:i.index)!=null?s:0,r=(l=(o=(a=e.isClosedBy)==null?void 0:a.startPosition)==null?void 0:o.index)!=null?l:0;return this.fragmentsParser.getFragmentsBetween(n,r).length>0}analyze(){let e=this.documentParser.getNodes();!this.fragmentsParser.hasFragments()||(this.fragmentsParser.getFragments().forEach(n=>{let r=n.name.toLowerCase();if(n.isClosingFragment==!1&&n.isSelfClosing==!1&&(r=="script"||r=="style")){let i=this.fragmentsParser.getClosingFragmentAfter(n);if(i==null)return;n.endPosition!=null&&i.startPosition!=null&&this.documentParser.getNodesBetween(n.endPosition,i.startPosition).forEach(a=>{(a instanceof ht||a instanceof K&&a.isClosedBy!=null)&&(n.containsStructures=!0),r=="style"?a.isInStyleTag=!0:a.isInScriptTag=!0})}}),e.forEach(n=>{var a,o,l,u,c,f;if(n instanceof st||n.startPosition==null)return;n instanceof K&&(yn.isConditionalStructure(n)||!n.isClosingTag)&&n.isClosedBy!=null&&(n.containsAnyFragments=this.doesContainFragments(n));let r=this.fragmentsParser.getFragmentContaining(n.startPosition);if(r==null)return;if(n.fragment=r,n.startPosition.index-((o=(a=r.startPosition)==null?void 0:a.index)!=null?o:0)<=3){n.fragmentPosition=0;return}if(r.parameters.length==0){n.fragmentPosition=2;return}let s=!1;for(let d=0;d<r.parameters.length;d++){let m=r.parameters[d];if(((u=(l=m.startPosition)==null?void 0:l.index)!=null?u:0)<n.startPosition.index&&((f=(c=m.endPosition)==null?void 0:c.index)!=null?f:0)>n.startPosition.index){n.fragmentPosition=1,n.fragmentParameter=m,s=!0;break}}s||(n.fragmentPosition=2)}))}};var Oh=class{static analyze(e){e.forEach(n=>{var r,i,s,a;if(n instanceof K){if(n.prev instanceof K&&n.isPaired()&&n.prev.isInlineAntlers==!0){n.isInlineAntlers=!1,n.isClosedBy!=null&&(n.isClosedBy.isInlineAntlers=!1);return}let o=!1,l=!1;if(n.next==null)o=!0;else if(n.next instanceof st){let u=te.getFirstLine(n.next.content);(n.next.next==null&&u.trim().length==0||te.trimLeft(u," 	").startsWith(`
`)==!1&&u.trim().length>0||n.next.next instanceof Rn||n.next.next instanceof K&&(n.next.next.isPaired()==!1||((i=(r=n.next.next.startPosition)==null?void 0:r.line)!=null?i:0)!=((a=(s=n.startPosition)==null?void 0:s.line)!=null?a:0)))&&(o=!0)}else n.next instanceof K&&n.next.isPaired()&&(o=!0);if(n.prev==null)l=!0;else if(n.prev instanceof st){let u=te.getLastLine(n.prev.content);te.trimRight(u," 	").endsWith(`
`)==!1&&u.trim().length>0||n.prev.prev instanceof Rn?l=!0:n.prev.prev instanceof K&&(n.prev.prev.isInlineAntlers?l=!0:n.prev.prev.isClosingTag&&n.prev.prev.isOpenedBy!=null&&(n.prev.prev.isOpenedBy instanceof Rn||n.prev.prev.runtimeName()=="noparse")&&(n.prev.prev.isInlineAntlers=!0,l=!0))}else n.prev instanceof K&&n.prev.isPaired()&&(l=!0);n.isInlineAntlers=o&&l}})}};var Xe=class{constructor(){this.interpolationRegions=new Map;this.nodeParser=new Ch;this.chars=[];this.charLen=0;this.lastAntlersNode=null;this.content="";this.originalContent="";this.currentIndex=0;this.currentContent=[];this.sourceContent=[];this.startIndex=0;this._recoveryStartIndex=0;this.cur=null;this.next=null;this.prev=null;this.nodes=[];this.renderNodes=[];this.isInterpolatedParser=!1;this.inputLen=0;this.documentOffsets=new Map;this.lineIndex=new Map;this.lastDocumentOffsetKey=null;this.isDoubleBrace=!1;this.interpolationEndOffsets=new Map;this.isScanningInterpolations=!1;this.seedStartLine=1;this.seedStartchar=1;this.frontMatterEndLine=-1;this.lastAntlersEndIndex=-1;this.seedOffset=0;this.antlersStartIndex=[];this.antlersStartPositionIndex=new Map;this.chunkSize=5;this.maxLine=1;this.currentChunkOffset=0;this.isNoParse=!1;this.antlersErrors=[];this.structureErrors=[];this.languageParser=new Xt;this.documentPath=null;this.pushedErrors=new Map;this.frontMatter="";this.shiftLine=0;this.doesHaveUncloseIfStructures=!1;this.doesHaveUnclosedStructures=!1;this.parseChildDocuments=!1;this.structuralErrorCodes=[P.TYPE_PARSE_UNCLOSED_CONDITIONAL,P.TYPE_PARSE_UNPAIRED_CONDITIONAL,P.TYPE_RECURSIVE_UNPAIRED_NODE,P.TYPE_RUNTIME_FATAL_UNPAIRED_LOOP_END,P.TYPE_UNPAIRED_CLOSING_TAG];this.structure=new Ih(this);this.fragmentsParser=new Rh,this.fragmentsAnalyzer=new wh(this,this.fragmentsParser)}withChildDocuments(e){return this.parseChildDocuments=e,this}shouldParseChildDocument(){return this.parseChildDocuments}hasUnclosedIfStructures(){return this.doesHaveUncloseIfStructures}hasUnclosedStructures(){return this.doesHaveUnclosedStructures}getFrontMatter(){return this.frontMatter}setDocumentPath(e){this.documentPath=e}getFrontMatterEndLine(){return this.frontMatterEndLine}pushError(e){(e.errorCode==P.TYPE_PARSE_UNCLOSED_CONDITIONAL||e.errorCode==P.TYPE_PARSE_UNPAIRED_CONDITIONAL)&&(this.doesHaveUncloseIfStructures=!0);let n=e.hash();this.pushedErrors.has(n)||(this.pushedErrors.set(n,e),this.antlersErrors.push(e),this.structuralErrorCodes.includes(e.errorCode)&&this.structureErrors.push(e))}getInterpolationRegions(){return this.interpolationRegions}getDocumentPath(){return this.documentPath}checkCurrentOffsets(){if(this.currentIndex>this.chars.length){this.cur=null,this.prev=null,this.next=null;return}if(this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen){let e=!0;if(this.currentIndex==this.charLen-1){let n=te.split(te.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,this.currentChunkOffset==this.inputLen&&(e=!1),n.forEach(r=>{this.chars.push(r),this.charLen+=1})}e&&this.currentIndex+1<this.chars.length&&(this.next=this.chars[this.currentIndex+1])}}charLeftAt(e){return e==null||e.char<=1?null:this.charAt(this.positionFromCursor(e.line,e.char-1))}charLeftAtCursor(e,n){return this.charLeftAt(this.positionFromCursor(e,n))}charRightAt(e){return e==null?null:this.charAt(this.positionFromCursor(e.line,e.char+1))}charRightAtCursor(e,n){return this.charRightAt(this.positionFromCursor(e,n))}punctuationLeftAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:hs.findLeftNeighboringNextPunctuation(e.char,r,n)}punctuationLeftAtCursor(e,n,r=4){return this.punctuationLeftAt(this.positionFromCursor(e,n),r)}punctuationRightAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:hs.findRightBeighboringNextPunctuation(e.char,r,n)}punctuationRightAtCursor(e,n,r=4){return this.punctuationRightAt(this.positionFromCursor(e,n),r)}wordRightAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);if(r==null)return null;let i=hs.findRightNeighboringNextAlphaNumeric(e.char,r,n);return i==null?null:hs.scanWordAt(i,r,n)}wordRightAtCursor(e,n,r=4){return this.wordRightAt(this.positionFromCursor(e,n),r)}wordLeftAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);if(r==null)return null;let i=hs.findLeftNeighboringNextAlphaNumeric(e.char,r,n);return i==null?null:hs.scanWordAt(i,r,n)}wordLeftAtCursor(e,n,r=4){return this.wordLeftAt(this.positionFromCursor(e,n),r)}wordAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:hs.scanWordAt(e.char,r,n)}getLineText(e){let n=this.getLineIndex(e);return n!=null?te.trimRight(this.getContent().substring(n.start,n.end+1)):null}wordAtCursor(e,n,r=4){return this.wordAt(this.positionFromCursor(e,n),r)}charAt(e){return e==null?null:this.content.substr(e.offset,1)}getLinesAround(e){var s;let n=new Map,r=e-3,i=e+3;r<1&&(r=1),i>this.maxLine&&(i=this.maxLine);for(let a=r;a<=i;a++)n.set(a,(s=this.getLineText(a))!=null?s:"");return n}charAtCursor(e,n){return this.charAt(this.positionFromCursor(e,n))}getLineIndex(e){if(e==this.maxLine){let r=this.lineIndex.get(e-1);if(r!=null){let i=r.endIndex+1;return{end:this.inputLen-1,start:i}}return null}let n=this.lineIndex.get(e);return n!=null?{start:n.startIndex,end:n.endIndex}:null}positionFromCursor(e,n){if(e==this.maxLine){let i=this.lineIndex.get(e-1);if(i!=null){let s=i.endIndex+1,a=s+(n-1),o=new cn;return o.offset=a,o.line=e,o.char=n,o.index=a,o}return null}let r=this.lineIndex.get(e);if(r!=null){let i=new cn;return i.offset=r.startIndex+(n-1),i.line=r.line,i.char=n,i.index=r.startIndex+(n-1),i}return null}parse(e){var u,c,f,d,m,p,h,_,g,b;if(this.resetState(),!this.processInputText(e))return[];let n=this.antlersStartIndex.length,r=n-1;if(n==0&&!this.isNoParse){let y=new st;y.withParser(this),y.content=this.prepareLiteralContent(this.content),y.startPosition=this.positionFromOffset(0,0),y.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1),y.sourceContent=this.content,this.nodes.push(y)}else for(let y=0;y<n;y+=1){let T=this.antlersStartIndex[y];if(this.seedOffset=T,y==0&&T>0&&!this.isNoParse){let W=new st;if(W.withParser(this),W.content=this.prepareLiteralContent(this.content.substr(0,T)),W.content.length>0){W.startPosition=this.positionFromOffset(0,0),W.endPosition=this.positionFromOffset(T,T-1);let F=(u=W.startPosition.index)!=null?u:0,L=W.endPosition.index+1;W.sourceContent=this.content.substr(F,L-F),this.nodes.push(W)}}if(T<this.lastAntlersEndIndex)continue;if(this.currentChunkOffset=T,this.resetIntermediateState(),this.parseIntermediateText(),this.lastAntlersNode!=null&&!(this.lastAntlersNode instanceof da)&&this.lastAntlersNode.isComment&&!(this.lastAntlersNode instanceof Hl)&&y+1<n){let W=this.antlersStartPositionIndex.get(y+1);if(this.lastAntlersNode.endPosition!=null&&W<this.lastAntlersNode.endPosition.offset){let F=null;for(let L=y+1;L<n;L++)if(this.antlersStartIndex[L]>this.lastAntlersNode.endPosition.offset){F=L;break}if(F==null){let L=this.prepareLiteralContent(this.content.substr(this.lastAntlersNode.endPosition.offset+1));if(L.length>0&&!this.isNoParse){let H=new st;H.withParser(this),H.content=L;let G=this.lastAntlersNode.endPosition.offset+1;H.startPosition=this.positionFromOffset(G,G),H.endPosition=this.positionFromOffset(this.inputLen,this.inputLen);let Q=(c=H.startPosition.index)!=null?c:0,re=H.endPosition.index+1;H.sourceContent=this.content.substr(Q,re-Q),this.nodes.push(H)}break}else{let L=this.antlersStartIndex[F],H=L-this.lastAntlersNode.endPosition.offset-1;if(H>0){let G=this.lastAntlersNode.endPosition.offset,Q=L-1;G+=1,Q-=1;let re=this.content.substr(G,H);if(re.length>0&&!this.isNoParse){let ye=new st;ye.withParser(this),ye.content=re,ye.startPosition=this.positionFromOffset(G,G),ye.endPosition=this.positionFromOffset(Q,Q);let he=(f=ye.startPosition.index)!=null?f:0,oe=ye.endPosition.index+1;ye.sourceContent=this.content.substr(he,oe-he),this.nodes.push(ye)}continue}y=F-1;continue}}}let C=!1;if(this.antlersStartPositionIndex.has(this.currentChunkOffset)?this.lastAntlersEndIndex<this.currentChunkOffset&&(C=!0):C=!0,C){if(y+1<n){let W=this.antlersStartIndex[y+1],F=this.lastAntlersEndIndex+1;if(W<F)if(this.lastAntlersEndIndex>W)y+2<n&&(W=this.antlersStartIndex[y+2]);else continue;if(y+1==r&&W<=this.lastAntlersEndIndex){if(this.isNoParse)break;let L=this.currentChunkOffset,H=this.content.substr(F),G=new st;if(G.withParser(this),G.content=this.prepareLiteralContent(H),G.content.length>0){G.startPosition=this.positionFromOffset(L,L),G.endPosition=this.positionFromOffset(W,W-1);let Q=(d=G.startPosition.index)!=null?d:0,re=G.endPosition.index+1;G.sourceContent=this.content.substr(Q+2,this.inputLen-Q+2),this.nodes.push(G)}break}else{let L=W-this.lastAntlersEndIndex-1;if(L==0||this.isNoParse)continue;let G=this.currentChunkOffset;this.lastAntlersNode instanceof Hl&&(F=((p=(m=this.lastAntlersNode.endPosition)==null?void 0:m.offset)!=null?p:0)+1,L-=((_=(h=this.lastAntlersNode.endPosition)==null?void 0:h.offset)!=null?_:0)+1,G=F),this.lastAntlersNode instanceof da&&(F-=1,L+=1);let Q=this.content.substr(F,L),re=new st;if(re.withParser(this),re.content=this.prepareLiteralContent(Q),re.content.length>0){re.startPosition=this.positionFromOffset(F,F),re.endPosition=this.positionFromOffset(W,W-1);let ye=(g=re.startPosition.index)!=null?g:0,he=re.endPosition.index+1;re.sourceContent=this.content.substr(ye,he-ye),this.nodes.push(re)}}continue}if(y!==r&&this.lastAntlersNode!=null&&this.lastAntlersNode.endPosition!=null&&this.positionFromOffset(T,T).isBefore(this.lastAntlersNode.endPosition)){if(y+1<n){if(this.antlersStartIndex[y+1]<this.lastAntlersNode.endPosition.offset)continue}else if(y+1!=r)continue}if(y==r){let W=this.currentIndex+T;if(W<this.inputLen&&!this.isNoParse){let F=new st;if(F.withParser(this),F.content=this.prepareLiteralContent(this.content.substr(W)),F.content.length>0){F.startPosition=this.positionFromOffset(W,W),F.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1);let L=(b=F.startPosition.index)!=null?b:0,H=F.endPosition.index+1;F.sourceContent=this.content.substr(L,H-L),this.nodes.push(F)}break}}}}let i=0;this.nodes.forEach(y=>{y.index=i,i+=1}),this.nodes.length>500&&(this.parseChildDocuments=!1),this.nodes.forEach(y=>{y instanceof K&&y.isComment||y instanceof K&&y.interpolationRegions.size>0&&(y.interpolationRegions.forEach((T,C)=>{let W=new Xe;W.withChildDocuments(this.parseChildDocuments),W.setIsInterpolatedParser(!0);let F=W.parse(T.parseContent);F.length>1&&F[1]instanceof K&&(F=[F[1]]),W.hasUnclosedIfStructures()&&(this.doesHaveUncloseIfStructures=!0),W.hasUnclosedStructures()&&(this.doesHaveUnclosedStructures=!0),y.processedInterpolationRegions.set(C,F),this.mergeErrors(W.getAntlersErrors())}),y.hasProcessedInterpolationRegions=!0)}),this.content.length>0&&this.fragmentsParser.setIndexRanges(this.getNodeIndexRanges()).parse(this.content);let s=new sl;this.renderNodes=s.associate(this.nodes,this),this.createChildDocuments(this.renderNodes);let a=null,o=null;for(let y=0;y<this.nodes.length;y++){let T=this.nodes[y];y+1<this.nodes.length?o=this.nodes[y+1]:o=null,T.next=o,T.prev=a,a=T}this.fragmentsAnalyzer.analyze(),Oh.analyze(this.nodes),this.nodes.forEach(y=>{if(y instanceof K&&y.isClosedBy!=null){let T=y.getImmediateChildren();for(let C=0;C<T.length;C++){let W=T[C];if(W instanceof K&&W.isClosedBy!=null){y.containsChildStructures=!0;break}else if(W instanceof ht){y.containsChildStructures=!0;break}}}}),this.nodes.forEach(y=>{if(y instanceof K&&y.isClosingTag&&y.isOpenedBy==null){let T="Unpaired closing tag.";y.isInterpolationNode&&(T+=" Tag pairs are not supported within Antlers tags."),y.pushError(j.makeSyntaxError(P.TYPE_UNPAIRED_CLOSING_TAG,y,T))}}),Sh.associateRecursiveParent(this.nodes),this.nodes.forEach(y=>{var T;if(!(y instanceof K&&y.isComment)&&((y instanceof K||y instanceof kt)&&(y.isInterpolationNode=this.isInterpolatedParser),(y instanceof K||y instanceof kt)&&y.interpolationRegions.size>0&&y.runtimeNodes.forEach(C=>{C instanceof Ne&&y.interpolationRegions.has(C.name)&&(C.isInterpolationReference=!0,C.interpolationNodes=y.processedInterpolationRegions.get(C.name))}),(y instanceof K||y instanceof kt)&&y.hasParameters&&y.interpolationRegions.size>0&&y.parameters.forEach(C=>{y.interpolationRegions.forEach((W,F)=>{C.value.includes(F)&&C.interpolations.push(F)})}),y instanceof K&&y.runtimeNodes.length>0&&y.isClosingTag==!1&&!y.isComment&&(y.parsedRuntimeNodes=this.languageParser.parse(y.runtimeNodes),y.hasParsedRuntimeNodes=!0,!y.isTagNode&&y.parsedRuntimeNodes.length>0))){let C=y.nodeAtIndex(0);C!=null&&C instanceof Ne&&C.name==((T=y.name)==null?void 0:T.name)&&(y.modifierChain=C.modifierChain)}}),this.languageParser.getCreatedModifierChains().forEach(y=>{y.modifierChain.length>0&&y.modifierChain.forEach(T=>{var C,W;T.nameNode!=null&&tt.instance!=null&&tt.instance.hasModifier((C=T.nameNode)==null?void 0:C.name)&&(T.modifier=(W=tt.instance)==null?void 0:W.getModifier(T.nameNode.name))})});let l=1;return this.nodes.forEach(y=>{var T,C;if(y instanceof K){if(y.isComment)return;y.isTagNode=(C=(T=Ue.instance)==null?void 0:T.isKnownTag(y.runtimeName()))!=null?C:!1,y.scopeName=y.findParameterValue("scope",""),y.antlersNodeIndex=l,l+=1,Eh.analyzeModifierNodeParameters(y)}}),this.nodes.forEach(y=>{var T,C,W,F,L,H,G,Q;if(y instanceof K&&y.isClosedBy!=null){let re=((C=(T=y.endPosition)==null?void 0:T.offset)!=null?C:0)+1,ye=(F=(W=y.isClosedBy.startPosition)==null?void 0:W.offset)!=null?F:0,he=(H=(L=y.startPosition)==null?void 0:L.offset)!=null?H:0,oe=((Q=(G=y.isClosedBy.endPosition)==null?void 0:G.offset)!=null?Q:0)+1;y.documentText=this.content.substr(re,ye-re),y.nodeContent=this.content.substr(he,oe-he),this.parseChildDocuments&&(y.childDocument=It.childFromText(y.documentText,bu(y.children)))}}),this.renderNodes}createChildDocuments(e){e.forEach(n=>{var r,i,s,a,o,l,u,c;if(n instanceof K&&n.isClosedBy!=null){let f=n.isClosedBy,d=((i=(r=n.startPosition)==null?void 0:r.index)!=null?i:0)-1,m=((a=(s=f.endPosition)==null?void 0:s.index)!=null?a:0)-d;if(n.documentText=this.content.substr(d,m),this.parseChildDocuments){let p=(l=(o=n.endPosition)==null?void 0:o.index)!=null?l:0,h=((c=(u=f.startPosition)==null?void 0:u.index)!=null?c:0)-1-p,_=this.content.substr(p,h);n.childDocument=It.childFromText(_,bu(n.getChildren()))}}})}getNodeIndexRanges(){let e=[];return this.nodes.forEach(n=>{var r,i,s,a;n instanceof st||e.push({start:(i=(r=n.startPosition)==null?void 0:r.index)!=null?i:0,end:(a=(s=n.endPosition)==null?void 0:s.index)!=null?a:0})}),e}positionFromOffset(e,n,r=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let o=this.documentOffsets.get(e);i=o.line,s=o.char}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let o=null,l=null,u=null,c=null;for(let f of this.documentOffsets.keys()){if(f>=e){c!=null&&e>c?(o=u,l=c):(o=this.documentOffsets.get(f),l=f);break}u=this.documentOffsets.get(f),c=f}if(o==null&&(o=u,l=c),o!=null)if(r){let f=this.content.split(""),d=e-(l!=null?l:0),m=o.char-(l!=null?l:0)+e;s=d,i=o.line,e<=(l!=null?l:0)?(i=o.line,s=e+1):i=o.line+1}else{let f=this.content.split(""),d=e-(l!=null?l:0),m=o.char-(l!=null?l:0)+e;s=d,i=o.line,e<=(l!=null?l:0)?(i=o.line,s=e+1):i=o.line+1}else this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let a=new cn;return a.index=n,a.offset=e,a.line=i+this.shiftLine,a.char=s,a}getLanguageParser(){return this.languageParser}getText(e,n){return this.content.substr(e,n-e)}getOriginalContent(){return this.originalContent}getContent(){return this.content}getFragments(){return this.fragmentsParser.getFragments()}getFragmentsParser(){return this.fragmentsParser}getFragmentsContainingStructures(){return this.fragmentsParser.getFragmentsContainingStructures()}setIsInterpolatedParser(e){return this.isInterpolatedParser=e,this}setStartLineSeed(e){return this.seedStartLine=e,this}setSeedStartChar(e){return this.seedStartchar=e,this}resetIntermediateState(){this.chars=[],this.charLen=0,this.currentIndex=0,this.currentContent=[],this.sourceContent=[],this.cur=null,this.next=null,this.prev=null}setSeedPosition(e){return e==null?this.shiftLine=0:this.shiftLine=e.line,this}resetState(){if(this.languageParser.reset(),this.charLen=0,this.antlersStartIndex=[],this.antlersErrors=[],this.pushedErrors.clear(),this.antlersStartPositionIndex.clear(),this.lastAntlersEndIndex=-1,this.renderNodes=[],this.nodes=[],Ys.globalTagEnterStack.length>0){let e=Ys.globalTagEnterStack[Ys.length-1];e!=null&&e.endPosition!=null&&this.setStartLineSeed(e.endPosition.line)}this.seedOffset=0,this.isScanningInterpolations=!1,this.content="",this.chars=[],this.currentIndex=0,this.startIndex=0,this._recoveryStartIndex=0,this.cur=null,this.next=null,this.prev=null,this.inputLen=0,this.documentOffsets.clear(),this.isDoubleBrace=!1,this.interpolationRegions.clear(),this.interpolationEndOffsets.clear()}fetch(e){let n=this.currentChunkOffset+this.chunkSize-this.chars.length;return te.substring(this.content,n,e)}getParsedContent(){return this.content}peek(e){if(e==this.charLen){let n=te.split(te.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,n.forEach(r=>{this.chars.push(r),this.charLen+=1})}return this.chars[e]}parseIntermediateText(){for(this.currentContent=[],this.sourceContent=[],this.startIndex=0,this.chars=this.content.substr(this.currentChunkOffset,this.chunkSize).split(""),this.charLen=this.chars.length,this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==Xe.LeftBrace&&this.next==Xe.LeftBrace&&this.prev==Xe.AtChar){this.dumpLiteralNode(this.currentIndex);let e=new Rn;e.withParser(this),e.name=new or,e.name.name="noparse",e.content="{{",e.startPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),e.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),this.nodes.push(e),this.currentContent=[],this.sourceContent=[],this.currentIndex+=1;continue}if((this.prev==null||this.prev!=null&&this.prev!=Xe.AtChar)&&this.next!=null&&this.cur==Xe.LeftBrace&&this.next==Xe.LeftBrace){this.dumpLiteralNode(this.currentIndex);let e=null;if(this.currentIndex+2<this.inputLen&&(e=this.peek(this.currentIndex+2)),e==Xe.Punctuation_Question&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfPhpRegion(Xe.Punctuation_Question),this.isDoubleBrace=!1;break}if(e==Xe.Punctuation_Dollar&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfPhpRegion(Xe.Punctuation_Dollar),this.isDoubleBrace=!1;break}if(e==Xe.Punctuation_Octothorp&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersCommentRegion(),this.isDoubleBrace=!1;break}if(!this.isNoParse)this.startIndex=this.currentIndex,this._recoveryStartIndex=this.currentIndex,this.isDoubleBrace=!0,this.currentIndex+=2,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersRegion(),this.isDoubleBrace=!1;else if(this.fetch(11).replace(" ","").toLocaleLowerCase().startsWith("{{/noparse")){this.startIndex=this.currentIndex,this._recoveryStartIndex=this.currentIndex,this.isDoubleBrace=!0,this.currentIndex+=2,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersRegion(),this.isDoubleBrace=!1,this.isNoParse=!1;break}else{this.currentContent.push(this.cur);continue}break}if(this.cur==Xe.AtChar&&this.next!=null&&this.next==Xe.LeftBrace){if(this.currentIndex+2>=this.inputLen){this.appendContent(this.next),this.dumpLiteralNode(this.currentIndex+1);break}let e=0;for(let n=this.currentIndex+1;n<this.inputLen&&this.chars[n]==Xe.LeftBrace;n+=1)e+=1;this.currentContent=this.currentContent.concat(Xe.LeftBrace.repeat(e).split("")),this.sourceContent=this.currentContent.concat(Xe.LeftBrace.repeat(e).split("")),this.currentIndex+=e}this.appendContent(this.cur),this.next==null&&this.currentContent.length>0&&this.dumpLiteralNode(this.currentIndex)}}getRenderNodes(){return this.renderNodes}processInputText(e){var f;if(this.originalContent=e,this.content=te.normalizeLineEndings(e),this.inputLen=this.content.length,this.content.startsWith("---")){let d=this.content.split(`
`),m=[],p=[];p.push("");for(let h=1;h<d.length;h++){let _=d[h];if(_.startsWith("---")){p.push(""),p=p.concat(d.slice(h+1)),this.content=p.join(`
`),this.frontMatter=m.join(`
`),this.frontMatterEndLine=h+1;break}else m.push(_),p.push("")}}let n=[...this.content.matchAll(/(\n)/gm)],r=n.length,i=this.seedStartLine,s=null,a=0,o=0;for(let d=0;d<r;d++){let m=n[d],p=(f=m.index)!=null?f:0,h=p;s!=null?h=p-s:h=h+1,this.documentOffsets.set(p,{char:h,line:i});let _=0,g=0;d==0?(g=h-1,_=0):(_=o+1,g=p),this.lineIndex.set(i,{char:h,line:i,startIndex:_,endIndex:g}),this.lastDocumentOffsetKey=p,this.maxLine=i,i+=1,s=p,o=g,a=_}this.maxLine+=1;let l=[...this.content.matchAll(/@?{{/gm)],u=0,c=!1;return l.forEach(d=>{let m=d[0];if(m.startsWith(Xe.AtChar)){u=this.content.indexOf(m,u)+2,c=!0;return}let p=this.content.indexOf(m,u);if(c&&u==p){u=p;return}this.antlersStartIndex.push(p),this.antlersStartPositionIndex.set(p,1),u=p+2,c=!1}),!0}prepareLiteralContent(e){return e.replace("@{{","{{")}scanToEndOfPhpRegion(e){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==e&&this.next!=null&&this.next==Xe.RightBrace&&this.peek(this.currentIndex+2)==Xe.RightBrace){let r=this.makeAntlersPhpNode(this.currentIndex,e==Xe.Punctuation_Dollar);this.currentContent=[],this.sourceContent=[],this.currentIndex+=3,this.startIndex=this.currentIndex,this._recoveryStartIndex=this.startIndex,this.nodes.push(r),this.lastAntlersNode=r;break}if(this.appendContent(this.cur),this.next==null){let n=this.makeAntlersPhpFailedNode(this.currentIndex);this.nodes.push(n),this.lastAntlersNode=n,this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(j.makeSyntaxError(P.TYPE_INCOMPLETE_PHP_EVALUATION_REGION,n,"Unexpected end of input while parsing Antlers PHP region."));break}}}appendContent(e){e!=null&&(this.currentContent.push(e),this.sourceContent.push(e))}scanToEndOfAntlersCommentRegion(){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==Xe.Punctuation_Octothorp&&this.next!=null&&this.next==Xe.RightBrace&&this.peek(this.currentIndex+2)==Xe.RightBrace){let n=this.makeAntlersTagNode(this.currentIndex,!0);this.currentContent=[],this.sourceContent=[],this.currentIndex+=3,this.nodes.push(n),this.lastAntlersNode=n;break}if(this.appendContent(this.cur),this.next==null){let e=this.makeAntlersCommentFailedNode(this.currentIndex);this.nodes.push(e),this.lastAntlersNode=e,this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(j.makeSyntaxError(P.TYPE_INCOMPLETE_ANTELRS_COMMENT_REGION,e,"Unexpected end of input while parsing Antlers comment region."));break}}}scanToEndOfInterpolatedRegion(){this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0);let e=[];this.isScanningInterpolations=!0;let n=0;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1)if(this.checkCurrentOffsets(),this.cur==Xe.LeftBrace){if(this.prev==Xe.AtChar){e.push(this.cur);continue}n+=1,e.push(this.cur)}else if(this.cur==Xe.RightBrace){if(this.prev==Xe.AtChar){e.push(this.cur);continue}if(n-=1,e.push(this.cur),n==0){this.interpolationEndOffsets.set(this.currentIndex,1);break}}else this.cur!=null&&e.push(this.cur);let r=e.join(""),s=("int_"+iC.Md5.hashStr(r)).substr(0,r.length),a=s.length,o=r.length;if(a<o){let l=o-a;s+="x".repeat(l)}return this.isScanningInterpolations=!1,{content:r,varContent:s}}bordersInterpolationRegion(e){if(this.interpolationEndOffsets.size==0)return!1;let n=e.offset-1;return n<=0?!1:this.interpolationEndOffsets.has(n)}getParseableContent(e){let n="";for(let r=0;r<=e;r++)this.content[r]==Xe.LeftBrace||this.content[r]==Xe.RightBrace?n+="~":n+=this.content[r];return n}scanToEndOfAntlersRegion(){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==Xe.LeftBrace&&this.prev==Xe.AtChar){this.currentContent.pop(),this.appendContent(this.cur);continue}if(this.isInterpolatedParser&&this.cur==Xe.RightBrace&&this.prev==Xe.AtChar){this.currentContent.pop(),this.appendContent(this.cur);continue}if(this.cur==Xe.LeftBrace){let e=this.scanToEndOfInterpolatedRegion(),n=this.currentIndex+this.seedOffset,r=n-e.content.length,i=this.getParseableContent(r-1);Ys.interpolatedVariables.push(e.varContent),this.currentContent=this.currentContent.concat(e.varContent.split("")),this.sourceContent=this.sourceContent.concat(e.content.split(""));let s=i+"{"+e.content+"}";this.interpolationRegions.set(e.varContent,{content:e.content,parseContent:s,varContent:e.varContent,startOffset:r,endOffset:n});continue}if(this.cur==Xe.RightBrace&&this.next!=null&&this.next==Xe.RightBrace){let e=this.makeAntlersTagNode(this.currentIndex,!1);e.name!=null&&e.name.name=="noparse"&&(this.isNoParse=!0),this.currentIndex+=2,this.nodes.push(e),this.lastAntlersNode=e;break}if(this.appendContent(this.cur),this.next==null){let e=this.makeAntlersFailedNode(this.currentIndex,!1);this.nodes.push(e),this.lastAntlersNode=e,this.doesHaveUnclosedStructures=!0;let n="Unexpected end of input while parsing Antlers region.";this.isScanningInterpolations&&(n="Unexpected end of input wihle parsing interpolated Antlers region."),this.antlersErrors.push(j.makeSyntaxError(P.TYPE_INCOMPLETE_ANTLERS_REGION,e,n));break}}}makeAntlersPhpNode(e,n){let r=new da;return n?(r.rawStart="{{$",r.rawEnd="$}}"):(r.rawStart="{{?",r.rawEnd="?}}"),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset),e+3>this.inputLen?(r.endPosition=this.positionFromOffset(this.inputLen,this.inputLen-1),this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(j.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE,r,"Unexpected end of input while locating end of Antlers region.")),r):(this.lastAntlersEndIndex=e+3+this.seedOffset,r.endPosition=this.positionFromOffset(e+this.seedOffset,e+3+this.seedOffset),r)}makeAntlersPhpFailedNode(e){let n=new Id;n.rawStart="{{$",n.rawEnd="$}}",n._isEndVirtual=!0,n.content=this.currentContent.join(""),n.sourceContent=this.sourceContent.join(""),n.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let r=this.getLineText(n.startPosition.line),i=this.getLineIndex(n.startPosition.line);if(r!=null){let a=r.substr(this._recoveryStartIndex);n.content=a,n.sourceContent=a}let s=e+this.seedOffset;return i!=null&&(this.currentIndex=i.end,s=i.end),n.endPosition=this.positionFromOffset(s,s),n}makeAntlersCommentFailedNode(e){let n=new Hl;this.isDoubleBrace?(n.rawStart="{{",n.rawEnd="}}"):(n.rawStart="{",n.rawEnd="}"),n._isEndVirtual=!0;let r=!1,i=this.currentContent.length;i>0&&this.currentContent[i-1]==Xe.Punctuation_ForwardSlash&&(this.currentContent.pop(),r=!0),n.isComment=!0,n.isSelfClosing=r,n.withParser(this),n.content=this.currentContent.join(""),n.sourceContent=this.sourceContent.join(""),n.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let s=this.getLineText(n.startPosition.line),a=this.getLineIndex(n.startPosition.line);if(s!=null){let l=s.substr(this._recoveryStartIndex);n.content=l,n.sourceContent=l}let o=e+this.seedOffset;return a!=null&&(this.currentIndex=a.end,o=a.end),n.endPosition=this.positionFromOffset(o,o),n.interpolationRegions=new Map,this.interpolationRegions.forEach((l,u)=>{n.content.includes(u)&&n.interpolationRegions.set(u,l)}),n}makeAntlersFailedNode(e,n){let r=new kt;this.isDoubleBrace?(r.rawStart="{{",r.rawEnd="}}"):(r.rawStart="{",r.rawEnd="}"),r._isEndVirtual=!0;let i=!1,s=this.currentContent.length;s>0&&this.currentContent[s-1]==Xe.Punctuation_ForwardSlash&&(this.currentContent.pop(),i=!0),r.isComment=n,r.isSelfClosing=i,r.withParser(this),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let a=this.getLineText(r.startPosition.line),o=this.getLineIndex(r.startPosition.line);if(a!=null){let c=te.trimLeft(this.content.substring(r.startPosition.offset+r.rawStart.length-1,o==null?void 0:o.end),"{");r.content=c,r.sourceContent=c}let l=e+this.seedOffset;o!=null&&(this.currentIndex=o.end,l=o.end),r.endPosition=this.positionFromOffset(l,l),r.interpolationRegions=new Map,this.interpolationRegions.forEach((c,f)=>{r.content.includes(f)&&r.interpolationRegions.set(f,c)});let u=this.nodeParser.parseNode(r);return this.mergeErrors(u.getErrors()),u}makeAntlersTagNode(e,n){let r=new K;this.isDoubleBrace?(r.rawStart="{{",r.rawEnd="}}"):(r.rawStart="{",r.rawEnd="}");let i=!1,s=this.currentContent.length;if(s>0&&this.currentContent[s-1]==Xe.Punctuation_ForwardSlash&&(this.currentContent.pop(),i=!0),r.isInterpolationNode=this.isInterpolatedParser,r.isComment=n,r.isSelfClosing=i,r.withParser(this),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset),e+2>this.inputLen)return r.endPosition=this.positionFromOffset(this.inputLen,this.inputLen-1),this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(j.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE,r,"Unexpected end of input while locating end of Antlers region.")),r;if(n?this.lastAntlersEndIndex=e+2+this.seedOffset:this.lastAntlersEndIndex=e+1+this.seedOffset,r.endPosition=this.positionFromOffset(this.lastAntlersEndIndex,this.lastAntlersEndIndex),r.interpolationRegions=new Map,this.interpolationRegions.forEach((o,l)=>{r.content.includes(l)&&r.interpolationRegions.set(l,o)}),r.isComment)return r;let a=this.nodeParser.parseNode(r);return this.mergeErrors(a.getErrors()),a}mergeErrors(e){e.forEach(n=>{this.antlersErrors.push(n)})}getNodes(){return this.nodes}getNodesBetween(e,n){let r=[];return this.nodes.forEach(i=>{var s,a,o,l;((a=(s=i.startPosition)==null?void 0:s.offset)!=null?a:0)>e.offset&&((l=(o=i.endPosition)==null?void 0:o.offset)!=null?l:0)<n.offset&&r.push(i)}),r}antlersNodes(){return this.nodes.filter(function(e){return e instanceof K})}dumpLiteralNode(e){this.isNoParse||(this.currentContent.length>0&&this.nodes.push(this.makeLiteralNode(this.currentContent,this.startIndex,e)),this.currentContent=[],this.sourceContent=[])}makeLiteralNode(e,n,r){let i=new st;return i.content=e.join(""),i.sourceContent=this.sourceContent.join(""),i.startPosition=this.positionFromOffset(n,n),i.endPosition=this.positionFromOffset(r,r),i.sourceContent=this.content.substr(n,r),i.withParser(this),i}addAntlersError(e){this.antlersErrors.push(e)}getAntlersErrors(){return this.antlersErrors}getStructureErrors(){return this.structureErrors}},w=Xe;w.K_CHAR="char",w.K_LINE="line",w.NewLine=`
`,w.AtChar="@",w.LeftBrace="{",w.RightBrace="}",w.LeftBracket="[",w.RightBracket="]",w.String_EscapeCharacter="\\",w.String_Terminator_DoubleQuote='"',w.String_Terminator_SingleQuote="'",w.Punctuation_Question="?",w.Punctuation_Equals="=",w.Punctuation_Comma=",",w.Punctuation_Colon=":",w.Punctuation_Semicolon=";",w.Punctuation_Exclamation="!",w.Punctuation_Pipe="|",w.Punctuation_Ampersand="&",w.Punctuation_LessThan="<",w.Punctuation_GreaterThan=">",w.Punctuation_Octothorp="#",w.Punctuation_Tilde="~",w.Punctuation_FullStop=".",w.Punctuation_Dollar="$",w.Punctuation_Asterisk="*",w.Punctuation_Percent="%",w.Punctuation_Plus="+",w.Punctuation_Minus="-",w.Punctuation_Underscore="_",w.Punctuation_ForwardSlash="/",w.Punctuation_Caret="^",w.LeftParen="(",w.RightParent=")";var jt=class{static findAssignmentNodes(e){let n=[];for(let r=0;r<e.length;r++)Xt.isAssignmentOperatorNode(e[r])&&n.push(e[r]);return n}static findAbstractNodesBefore(e,n){return this.findAbstractNodesBeforePosition(e.startPosition,n)}static findAbstractNodesBeforePosition(e,n){if(e==null)return[];let r=[];for(let i=0;i<n.length;i++){let s=n[i];if(s.startPosition!=null){if(s.startPosition.index>e.index)break;r.push(s)}}return r}static isBefore(e,n){return e.startPosition==null?!1:e.startPosition.index<n.index}static isAfter(e,n){return e.startPosition==null?!1:e.startPosition.index>n.index}static findNodesBeforePosition(e,n){let r=[];if(e==null)return r;for(let i=0;i<n.length;i++){let s=n[i];if(!jt.isLiteralType(s)&&s.startPosition!=null&&s.endPosition!=null){if(s.startPosition.index>e.index)break;r.push(s)}}return r}static findNodesAfterPosition(e,n){let r=[];if(e==null)return r;for(let i=0;i<n.length;i++){let s=n[i];jt.isLiteralType(s)||s.startPosition!=null&&s.startPosition.index>e.index&&r.push(s)}return r}static findNodeBeforePosition(e,n){if(e==null)return null;let r=null;for(let i=0;i<n.length;i++){let s=n[i];if(!jt.isLiteralType(s)&&s.startPosition!=null){if(s.startPosition.index>e.index)break;r=s}}return r}static findNodeAfterPosition(e,n){if(e==null)return null;for(let r=0;r<n.length;r++){let i=n[r];if(!jt.isLiteralType(i)&&i.startPosition!=null&&i.startPosition.index>e.index)return i}return null}static findNodeAtPosition(e,n){if(e==null)return null;for(let r=0;r<n.length;r++){let i=n[r];if(!jt.isLiteralType(i)&&i.startPosition!=null&&i.endPosition!=null&&e.index>=i.startPosition.index&&e.index<=i.endPosition.index)return i}return null}static isLiteralType(e){return e instanceof Rn||e instanceof st}};var Tu=class{static isModifierLeftOf(e,n){return Tu.isModifierLeftOfPosition(e.startPosition,n)}static isModifierLeftOfPosition(e,n){let r=jt.findAbstractNodesBeforePosition(e,n);for(let i=r.length-1;i>=0;i--){let s=r[i];if(s instanceof bn||s instanceof fn)return!1;if(s instanceof $n)return!0}return!1}};var vu=class{constructor(){this.isRightOfOperator=!1;this.isLeftOfOperator=!1}static resolveContext(e,n,r){let i=new vu;return r!=null&&(r.prev!=null&&Xt.isOperatorType(r.prev)&&(i.isRightOfOperator=!0),r.next!=null&&Xt.isOperatorType(r.next)&&(i.isLeftOfOperator=!0)),i}};var Fh=class{constructor(){this.inTagPart=!1;this.inMethodPart=!1}};var Nu=class{constructor(){this.modifierChain=null;this.activeModifier=null;this.name="";this.inModifierName=!1;this.inModifierParameter=!1;this.valueCount=0;this.activeValueIndex=-1;this.activeValue=null}static resolveContext(e,n,r,i){let s=n.getParser(),a=new Nu,o=s.getLanguageParser().getCreatedModifierChains(),l=null;for(let u=0;u<o.length;u++){let c=o[u];if(e.isWithin(c.startPosition,c.endPosition)){for(let f=0;f<c.modifierChain.length;f++){let d=c.modifierChain[f];if(e.isWithin(d.startPosition,d.endPosition)){l=d;break}}if(l!=null)break}}if(l==null&&r instanceof pn&&i.getDocumentParser().getLanguageParser().hasModifierConstruct(r)&&(l=i.getDocumentParser().getLanguageParser().getModifierConstruct(r)),l!=null)if(a.activeModifier=l,a.valueCount=l.valueNodes.length,l.nameNode!=null&&(a.name=l.nameNode.name),l.nameNode!=null&&e.isWithin(l.nameNode.startPosition,l.nameNode.endPosition,1))a.inModifierName=!0;else for(let u=0;u<l.valueNodes.length;u++){let c=l.valueNodes[u];if(e.isWithin(c.startPosition,c.endPosition,1)){a.activeValueIndex=u,a.inModifierParameter=!0,a.activeValue=c;break}}return a}};var Cu=class{constructor(){this.parameter=null;this.isInName=!1;this.isInValue=!1}static resolveContext(e,n){let r=new Cu;return r.parameter=n,e.isWithinRange(n.namePosition)?r.isInName=!0:e.isWithinRange(n.valuePosition)&&(r.isInValue=!0),r}};var Lh=class{constructor(){this.refId="";this.node=null;this.leftPunctuation=null;this.rightPunctuation=null;this.leftChar=null;this.rightChar=null;this.word=null;this.char=null;this.interpolatedContext=!1;this.leftWord=null;this.rightWord=null;this.isCursorInIdentifier=!1;this.root=null;this.identifierContext=null;this.position=null;this.feature=null;this.isInParameter=!1;this.subContext=null;this.parameterContext=null;this.modifierContext=null;this.generalContext=null;this.variableContext=null;this.cursorContext=kh.Unknown;this.refId=fo()}},kh=(a=>(a[a.Unknown=0]="Unknown",a[a.Variable=1]="Variable",a[a.Modifier=2]="Modifier",a[a.Parameter=3]="Parameter",a[a.General=4]="General",a[a.LanguageOperator=5]="LanguageOperator",a))(kh||{});var Pu=class{constructor(){this.variableNode=null;this.varPathText=""}static resolveContext(e,n,r,i){var f;if(r==null)return null;let s=r,a=i.getDocumentParser().getLanguageParser(),o=new Pu,l=(f=i.wordAt(e))!=null?f:"";r instanceof $t&&a.isMergedVariableComponent(r)==!1&&r.prev instanceof Ne&&(s=r.prev);let u="";if(a.isMergedVariableComponent(s)){let d=a.getMergedVariable(s);d.startPosition!=null&&(u=i.getText(d.startPosition.index,e.index).trim()),o.variableNode=d}else s instanceof Ne&&(o.variableNode=s,u=s.name,s.variableReference!=null&&(u=s.variableReference.normalizedReference));u.length>0&&(u=Yt(u,"\\.",":"));let c=u.split(":");return l.trim().length>0&&c.pop(),u=c.join(":"),u.endsWith(":")&&(u=ai(u,":")),o.varPathText=u,o}};var gs=class{static resolveIdentifierContext(e,n){let r=new Fh;return n.nameMethodPartStartsOn!=null?e.char<n.nameMethodPartStartsOn.char?(r.inTagPart=!0,r.inMethodPart=!1):(r.inTagPart=!1,r.inMethodPart=!0):(r.inMethodPart=!1,r.inTagPart=!0),r}static resolveContext(e,n,r,i=!1,s=null){var a,o,l,u,c,f;if(n==null||e==null)return null;if(n instanceof mr||n instanceof K){let d=new Lh;if(n.nameStartsOn!=null&&e.line==n.nameStartsOn.line){let h=!1;e.char>=n.nameStartsOn.char&&(h=!0),n.nameEndsOn!=null&&e.char>n.nameEndsOn.char&&(h=!1),h&&(d.isCursorInIdentifier=!0,d.identifierContext=gs.resolveIdentifierContext(e,n))}n.addContext(d),s!=null&&s.addContext(d),d.interpolatedContext=i,d.node=n,d.position=e,d.root=s,d.leftPunctuation=r.punctuationLeftAt(e),d.rightPunctuation=r.punctuationRightAt(e),d.leftChar=r.charLeftAt(e),d.rightChar=r.charRightAt(e),d.word=r.wordAt(e),d.char=r.charAt(e),d.leftWord=r.wordLeftAt(e),d.rightWord=r.wordRightAt(e);let m=!1;if(n.parameters.length>0)for(let h=0;h<n.parameters.length;h++){let _=n.parameters[h];if(_.blockPosition!=null&&_.blockPosition.start!=null&&_.blockPosition.end!=null&&e.char>_.blockPosition.start.char&&e.char<=_.blockPosition.end.char+1&&e.line>=((l=(o=(a=_.namePosition)==null?void 0:a.start)==null?void 0:o.line)!=null?l:_.blockPosition.start.line)&&e.line<=((f=(c=(u=_.valuePosition)==null?void 0:u.end)==null?void 0:c.line)!=null?f:_.blockPosition.end.line)){d.cursorContext=3,d.parameterContext=Cu.resolveContext(e,_),d.isInParameter=!0,d.feature=_,m=!0;break}}if(m||n.runtimeNodes.forEach(h=>{h.startPosition!=null&&h.endPosition!=null&&e.isWithin(h.startPosition,h.endPosition,1)&&(d.feature=h)}),m&&n.interpolationRegions.size>0){let h=Array.from(n.interpolationRegions,([_,g])=>g);for(let _=0;_<h.length;_++){let g=h[_];if(e.index>=g.startOffset&&e.index<=g.endOffset){let b=n.getInterpolationNode(g.varContent);return gs.resolveContext(e,b,r,!0,s)}}}return d.feature instanceof Ne&&d.feature.isInterpolationReference&&d.feature.parent!=null&&d.feature.parent instanceof K&&d.feature.parent.processedInterpolationRegions.has(d.feature.name)?gs.resolveContext(e,d.feature.parent.getInterpolationNode(d.feature.name),r,!0,s):(Tu.isModifierLeftOfPosition(e,n.runtimeNodes)?(d.cursorContext=2,d.modifierContext=Nu.resolveContext(e,n,d.feature,r)):m||(d.cursorContext=4,d.generalContext=vu.resolveContext(e,n,d.feature)),d.variableContext=Pu.resolveContext(e,n,d.feature,r),d)}return null}};var ka=class{static isPairedNode(e){return e instanceof ht?!0:e instanceof mr||e instanceof K?e.isClosedBy!=null:!1}static findAncestorsBeforePosition(e,n){var o,l,u,c,f,d;let r=[],i=[],s=-1,a=-1;for(let m=0;m<n.length;m++){let p=n[m];if(p.isClosedBy!=null&&((o=p.isClosedBy.endPosition)==null?void 0:o.isBefore(e))&&(i.push(p),i.push(p.isClosedBy),s=p.isClosedBy.endPosition.line,a=p.isClosedBy.endPosition.char),!(s>-1&&p.endPosition!=null&&(p.endPosition.line<s||p.endPosition.line==s&&a>-1&&p.endPosition.char<a))){if(p.startPosition!=null){if(e.isBefore(p.startPosition))break;if(p.startPosition.line==e.line&&e.char<=p.startPosition.char){i.push(p);continue}}if(((l=Ue.instance)==null?void 0:l.requiresClose(p))&&p.isClosedBy!=null){let h=p.isClosedBy;if((u=h.startPosition)==null?void 0:u.isBefore(e)){i.push(p),i.push(h);continue}else((c=h.startPosition)==null?void 0:c.line)==e.line&&((f=h.startPosition)==null?void 0:f.char)<e.char?i.push(p):r.push(p)}else if(p.parent!=null){let h=p.parent;if(i.includes(h)){i.push(p);continue}else((d=p.endPosition)==null?void 0:d.isBefore(e))?r.push(p):i.push(p)}else r.push(p)}}return r}};var Mh=class{constructor(e){this.doc=e}getAncestorsAt(e,n){let r=this.position(e,n);return r==null?[]:ka.findAncestorsBeforePosition(r,this.doc.getAllAntlersNodes())}getNameAt(e,n){let r=this.getNodeAt(e,n);return r instanceof K?r.name:null}getScopeAt(e,n){let r=this.getNodeAt(e,n);return r instanceof K&&r.currentScope!=null?r.currentScope:null}getFeaturesAt(e,n){let r=this.position(e,n),i=this.getNodeAt(e,n);return gs.resolveContext(r,i,this.doc,!1,i)}getNodeAt(e,n){return jt.findNodeAtPosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodeBefore(e,n){return jt.findNodeBeforePosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodeAfter(e,n){return jt.findNodeAfterPosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodesBefore(e,n){return jt.findNodesBeforePosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getAssignmentsBefore(e,n){let r=this.doc.getDocumentParser().getLanguageParser().getRuntimeAssignments(),i=[],s=this.position(e,n);return s!=null&&r.forEach(a=>{jt.isBefore(a.target,s)&&i.push(a)}),i}getAssignmentsAfter(e,n){let r=this.doc.getDocumentParser().getLanguageParser().getRuntimeAssignments(),i=[],s=this.position(e,n);return s!=null&&r.forEach(a=>{jt.isAfter(a.target,s)&&i.push(a)}),i}getNodesAfter(e,n){return jt.findNodesAfterPosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getIsWithinPairedNode(e,n){let r=this.getNodeBefore(e,n);return r==null?!1:ka.isPairedNode(r)}position(e,n){return this.doc.getDocumentParser().positionFromCursor(e,n)}charLeftAt(e,n){return this.doc.getDocumentParser().charLeftAtCursor(e,n)}charAt(e,n){return this.doc.getDocumentParser().charAtCursor(e,n)}charRightAt(e,n){return this.doc.getDocumentParser().charRightAtCursor(e,n)}wordLeftAt(e,n,r=4){return this.doc.getDocumentParser().wordLeftAtCursor(e,n,r)}wordRightAt(e,n,r=4){return this.doc.getDocumentParser().wordRightAtCursor(e,n,r)}wordAt(e,n,r=4){return this.doc.getDocumentParser().wordAtCursor(e,n,r)}punctuationLeftAt(e,n,r=4){return this.doc.getDocumentParser().punctuationLeftAtCursor(e,n,r)}punctuationRightAt(e,n,r=4){return this.doc.getDocumentParser().punctuationRightAtCursor(e,n,r)}};var Bh=class{constructor(e){this.doc=e}hasStructureErrors(){return this.doc.getDocumentParser().getStructureErrors().length>0}getFirstStructureError(){return this.doc.getDocumentParser().getStructureErrors()[0]}hasAny(){return this.all().length>0}all(){let e=[],n=[];return this.doc.getAllAntlersNodes().forEach(r=>{r.getErrors().forEach(i=>{e.includes(i.hash())==!1&&(e.push(i.hash()),n.push(i))})}),this.doc.getDocumentParser().getAntlersErrors().forEach(r=>{e.includes(r.hash())==!1&&(e.push(r.hash()),n.push(r))}),n}};var eP=le(Xi());var rr=le(JC(),1),kre=rr.default.binaryOptions,Mre=rr.default.boolOptions,Bre=rr.default.intOptions,qre=rr.default.nullOptions,Vre=rr.default.strOptions,jre=rr.default.Schema,Ure=rr.default.Alias,Wre=rr.default.Collection,Gre=rr.default.Merge,Hre=rr.default.Node,ZC=rr.default.Pair,wu=rr.default.Scalar,Ou=rr.default.YAMLMap,yl=rr.default.YAMLSeq;var Zh=class{constructor(e){this.documentScope=null;this.project=e}getKeyValue(e){return e instanceof wu?e.value:""}getNodeValue(e){return e instanceof wu?e.value:e instanceof Ou?this.analyzeDocument(e.items):e instanceof yl?this.analyzeDocument(e.items):""}getScalarRuntimeType(e){return parseFloat(e).toString()==e||parseInt(e).toString()==e?"number":"string"}analyzeDocument(e){let n=new Pr(this.project);return e.forEach(r=>{if(r instanceof ZC){let i=this.getKeyValue(r.key),s=this.getNodeValue(r.value);if(r.value instanceof wu)n.addVariable({dataType:this.getScalarRuntimeType(s),introducedBy:null,name:i,sourceField:null,sourceName:"*frontmatter"});else if(r.value instanceof yl&&r.key instanceof wu){let a=new Pr(this.project);r.value.items.forEach(o=>{let l=this.getNodeValue(o);a.addVariable({dataType:this.getScalarRuntimeType(l),introducedBy:null,name:o.value,sourceField:null,sourceName:"*frontmatter"})}),n.addScopeList(r.key.value,a)}else n.addScopeList(i,s)}}),n}parse(e){let n=eP.parseDocument(e);try{n.contents instanceof Ou&&(this.documentScope=this.analyzeDocument(n.contents.items))}catch{this.documentScope=null}}hasScope(){return this.documentScope!=null}getScope(){return this.documentScope}};var eg=class{constructor(e){this.doc=e}getAncestors(e){return ka.findAncestorsBeforePosition(e,this.doc.getAllAntlersNodes())}getNodeAt(e){return jt.findNodeAtPosition(e,this.doc.getDocumentParser().getNodes())}getNodesBefore(e){return jt.findNodesBeforePosition(e,this.doc.getDocumentParser().getNodes())}getNodeBefore(e){return jt.findNodeBeforePosition(e,this.doc.getDocumentParser().getNodes())}getNodeAfter(e){return jt.findNodeAfterPosition(e,this.doc.getDocumentParser().getNodes())}getNodesAfter(e){return jt.findNodesAfterPosition(e,this.doc.getDocumentParser().getNodes())}getIsWithinPairedNode(e){let n=this.getNodeBefore(e);return n==null?!1:ka.isPairedNode(n)}filter(e){return this.doc.getDocumentParser().getNodes().filter(e)}getComments(){let e=[];return this.doc.getAllNodes().forEach(n=>{n instanceof K&&n.isComment&&e.push(n)}),e}getMultilineNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{var r,i;n instanceof K&&!n.isComment&&((r=n.startPosition)==null?void 0:r.line)!=((i=n.endPosition)==null?void 0:i.line)&&e.push(n)}),e}getMultiLineComments(){let e=[];return this.getComments().forEach(n=>{var r,i;((r=n.startPosition)==null?void 0:r.line)!=((i=n.endPosition)==null?void 0:i.line)&&e.push(n)}),e}getAllLiteralNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof st||n instanceof Rn)&&e.push(n)}),e}getStructuralNodes(){let e=[];return this.doc.getDocumentParser().getRenderNodes().forEach(n=>{n instanceof K?e.push(n):n instanceof ht&&n.logicBranches.length>0&&n.logicBranches.forEach(r=>{if(r.head!=null){let i=r.head;i.originalNode!=null?e.push(i.originalNode):e.push(i)}})}),e}getAllRuntimeNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof mr||n instanceof K)&&n.runtimeNodes.length>0&&n.runtimeNodes.forEach(r=>{e.push(r)})}),e}getAllParameterNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof mr||n instanceof K)&&n.hasParameters&&n.parameters.forEach(r=>{e.push(r)})}),e}getAssignmentNodes(){return jt.findAssignmentNodes(this.getAllRuntimeNodes())}};var tg=class{constructor(e){this.doc=e}getAllSelfClosingNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{n instanceof K&&n.isSelfClosing&&e.push(n)}),e}getAllPairedNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof K||n instanceof kt)&&n.isClosedBy!=null&&!n.isSelfClosing&&e.push(n)}),e}};var hp=class{static printComment(e,n,r){let i=e.getContent(),s=i.trim();if(s.includes(`
`)){let a=te.breakByNewLine(i.trim()),o=[];a.forEach(c=>{o.push(" ".repeat(n+r)+c.trim())});let l=o.join(`
`),u=`{{#
`;return u+=l,u+=`
`+" ".repeat(r)+"#}}",u}return"{{# "+s+" #}}"}};var bl=class{static indentRelative(e,n){let r=te.breakByNewLine(e),i=[];for(let o=0;o<r.length;o++)if(r[o].trim().length>0){i=r.slice(o);break}for(let o=i.length-1;o>=0&&i[o].trim().length==0;o--)i.pop();let s=-1,a="";for(let o=0;o<i.length;o++){let l=i[o],u=l.trimLeft(),c=l.length-u.length;(o==0||c<s)&&(s=c,a=l)}if(s>=0){let o=" ".repeat(n);for(let l=0;l<i.length;l++){let u=i[l];if(u.trim().length==0){i[l]="";continue}let c=u.substring(s);if(l==0){i[l]=u.trimLeft();continue}else i[l]=o+c}}return i.join(`
`)}static shiftIndent(e,n,r=!1,i=4,s=!0){n<0&&(n=0);let a=te.breakByNewLine(e.trim()),o=[];for(let u=0;u<a.length;u++){if(u==0&&r){o.push(a[u]);continue}let c=a[u];o.push(" ".repeat(n)+c)}let l=o.join(`
`);if(s&&o.length>0&&n-i>i&&o[o.length-1].trim()==") }}"){a=te.breakByNewLine(l.trim()),o=[];for(let u=0;u<a.length;u++){if(u==0&&r){o.push(a[u]);continue}let c=a[u];if(u==a.length-1){o.push(c);break}o.push(" ".repeat(i)+c)}l=o.join(`
`)}return l}static shiftClean(e,n){let r=te.breakByNewLine(e),i=[],s=" ".repeat(n),a=!1;return r.forEach(o=>{o.trim().length>0&&(a=!0),!!a&&i.push(s+o)}),i.join(`
`)}static inferIndentLevel(e,n,r){let i=0,s=-1;for(let a=0;a<e.length;a++){let o=e[a];if(o.includes(n)){let l=o.trimLeft();i=o.length-l.length,s=a;break}}if(s>0)for(let a=s-1;a>=0;a--){let o=e[a],l=o.trim(),u=o.trimLeft(),c=o.length-l.length;if(u.length!=0&&c!=i&&c<i){let f=i-c;return{targetLevel:i,referenceLevel:c,sourceTabSize:f}}}return{targetLevel:i,referenceLevel:i,sourceTabSize:r}}static indent(e,n,r){let i=bl.inferIndentLevel(e,n,r);return" ".repeat(i.targetLevel)}};var ng=class{constructor(e,n,r){this.buffer="";this.closeString="";this.relativeIndentSize=0;this.indentSeed=0;this.baseIndent=n,e.isInterpolationNode?(this.buffer="{",this.closeString="}"):(this.buffer="{{ ",e.isSelfClosing?this.closeString=" /}}":this.closeString=" }}"),r!=null&&r.trim().length>0&&(this.buffer+=r+" ")}setIndentSeed(e){return this.indentSeed=e,this}close(){return this.closeString==" }}"?this.buffer.endsWith(" ")?this.buffer+="}}":this.buffer+=this.closeString:this.buffer+=this.closeString,this}appendT(e){return this.buffer.endsWith(" ")&&(this.buffer=this.buffer.trimEnd()),this.buffer+=e,this}appendTS(e){return this.buffer.endsWith(" ")&&(this.buffer=this.buffer.trimEnd()),this.buffer.endsWith("{")&&(e=e.trimStart()),this.buffer+=e,this}append(e){return this.buffer+=e,this}appendOS(e){return this.buffer.endsWith(" ")==!1&&this.buffer.endsWith("(")==!1&&this.buffer.endsWith("{")==!1&&this.buffer.endsWith("[")==!1&&this.buffer.endsWith(":")==!1&&(this.buffer+=" "),this.append(e)}appendS(e){let n="";return this.buffer.endsWith(" ")==!1&&(n+=" "),n+=e+" ",this.buffer+=n,this}indent(){let e=this.baseIndent;return e==0?e=1:e+=2,this.relativeIndentSize>0&&(e+=this.relativeIndentSize),this.buffer+=" ".repeat(e),this}addIndent(e){return e<=0?this:(this.buffer+=" ".repeat(e),this)}paramS(e){let n=" ";return e.isVariableReference&&(n+=":"),n+=e.name+"="+e.nameDelimiter+e.value+e.nameDelimiter,this.append(n),this}replace(e,n){return this.buffer=Yt(this.buffer,e,n),this}relativeIndent(e){let n=this.buffer.split(`
`);if(n.length==0)return this;let r=n[n.length-1].trimEnd();return r.endsWith("(")&&(r=r.slice(0,-1)),r.endsWith(e)==!1?this:(this.relativeIndentSize=r.lastIndexOf(e),this)}newlineIndent(){return this.newLine(),this.indent(),this}newlineNDIndent(){return this.buffer=this.buffer.trimEnd(),this.newLine(),this.indent(),this}newLine(){return this.buffer+=`
`,this}getContent(){return this.buffer}endsWith(e){return this.buffer.endsWith(e)}};var Fu=class{static prettyPrintNode(e,n,r,i,s,a){var c,f,d,m,p,h,_;let o=e.getTrueRuntimeNodes(),l=0,u=0;if(o.length>0){let g=new ng(e,r,s);a!=null&&g.setIndentSeed(a);let b=null;for(let T=0;T<o.length;T++){let C=o[T];if(b!=null&&((c=C.endPosition)==null?void 0:c.isBefore(b.startPosition)))continue;let W=!1;if(C instanceof fn?!(C.next instanceof fn)&&C.next!=null&&(!Xt.isOperatorType(C.next)||!Xt.isAssignmentOperator(C.next))&&!(C.next instanceof wn)&&!(C.next instanceof $t)&&!C.isSwitchGroupMember&&!Xt.isOperatorType(C.next)&&(W=!0,C.next instanceof Ne&&C.next.name=="as"&&(W=!1)):!((f=C.prev)==null?void 0:f.isVirtual)&&((d=C.prev)==null?void 0:d.isVirtualGroupOperatorResolve)&&C.prev.producesVirtualStatementTerminator&&C.next!=null&&(C.prev instanceof Ne||g.newlineIndent()),C instanceof Ne){if(C.convertedToOperator){if(C.name=="arr")g.appendT(" arr");else if(C.name=="switch"||C.name=="list")if(g.appendTS(" "+C.name),T+1<o.length){if(!(o[T+1]instanceof bn))break;g.append("("),C.name!="list"&&g.relativeIndent(C.name).newLine().indent(),T+=1,b=o[T+1];continue}else break;else u+=1,u>1?g.newlineNDIndent().indent().addIndent(6).appendS(C.name):g.appendS(C.name);b=C;continue}C.mergeRefName!=null&&C.mergeRefName.trim().length>0&&C.mergeRefName!=C.name?g.append(C.mergeRefName.trim()):C.name=="as"?g.appendOS("as"):g.append(C.name.trim())}else if(C instanceof Ni)if(g.appendTS(" list"),T+1<o.length){if(!(o[T+1]instanceof bn))break;g.append("("),T+=1,b=o[T+1];continue}else break;else if(C instanceof $n)g.appendS("|");else if(C instanceof $t){if(b!=null&&((m=C.startPosition)==null?void 0:m.isBefore(b.endPosition))||C.next instanceof Ne&&C.next.mergeRefName.startsWith(":"))continue;if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(C)){g.endsWith(":")||g.append(":");continue}if(C.prev!=null&&C.next!=null&&St.distance(C.prev,C)<=1&&St.distance(C.next,C)<=1){g.append(":"),b=C;continue}if(n.getDocumentParser().getLanguageParser().isActualModifierSeparator(C)){g.append(":"),b=C;continue}if(b instanceof pn||b instanceof dn){g.append(":"),b=C;continue}g.appendS(":")}else if(C instanceof pn)g.append(C.name);else if(C instanceof Ti)g.appendS("?");else if(C instanceof Kn){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(C))continue;if(C.isTenaryBranchSeparator){g.appendS(":"),b=C;continue}if(n.getDocumentParser().getLanguageParser().isActualModifierSeparator(C)){g.append(":"),b=C;continue}g.append(":")}else if(C instanceof dn)g.append(C.value.trim());else if(C instanceof bn)g.append("(");else if(C instanceof fn)g.append(")");else if(C instanceof Wt){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(C))continue;C.sourceContent!=""?g.appendOS(C.sourceContent):g.appendOS(C.sourceTerminator+C.value+C.sourceTerminator)}else if(C instanceof zt)C.isSwitchGroupMember?g.append(",").newlineIndent():g.append(", ");else if(C instanceof en){if(b=C,n.getDocumentParser().getLanguageParser().isMergedVariableComponent(C))continue;let F=(h=(p=C.value)==null?void 0:p.toString())!=null?h:"";C.rawLexContent!=null&&C.rawLexContent.trim().length>0&&(F=C.rawLexContent.trim()),g.append(F)}else if(C instanceof yr)g.appendS("=");else if(C instanceof zn)g.appendS("=>");else if(C instanceof hr)g.appendS("+");else if(C instanceof Hn){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(C)){g.append("-");continue}if(C.prev!=null&&C.next!=null&&St.distance(C.prev,C)<=1&&St.distance(C.next,C)<=1){C.next instanceof en&&C.prev instanceof en?g.appendS("-"):g.append("-"),b=C;continue}g.appendS("-")}else if(C instanceof _r)g.appendS("*");else if(C instanceof gr){if(b=C,(_=C.startPosition)==null?void 0:_.isBefore(e.nameEndsOn)){g.append("/");continue}if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(C))continue;g.appendS("/");continue}else C instanceof wn?C.isListGroupMember?(g.append(";").newlineIndent().indent().addIndent(7),T+1<o.length&&!(o[T+1]instanceof fn)&&g.indent()):(l+=1,l<i.maxAntlersStatementsPerLine?g.appendT("; "):(g.appendT(";").newlineIndent(),l=0)):C instanceof On?C.content=="not"?g.appendS("not"):g.append("!"):g.appendS(C.rawContent());W&&g.newlineIndent(),b=C}e.hasParameters&&e.parameters.forEach(T=>{g.paramS(T)}),g.close();let y=g.getContent();return e.processedInterpolationRegions.size>0&&e.processedInterpolationRegions.forEach((T,C)=>{let W=Fu.prettyPrintNode(T[0],n,r,i,null,null);y=Yt(y,C,W)}),y}return e.getTrueRawContent()}};var Lu=class{constructor(e){this.htmlFormatter=null;this.yamlFormatter=null;this.phpFormatter=null;this.slugs=[];this.removeLines=[];this.virtualStructureOpens=[];this.virtualStructureClose=[];this.structureLines=[];this.parentTransformer=null;this.tagPairs=new Map;this.conditions=[];this.inlineIfs=new Map;this.createExraStructuralPairs=!1;this.spanNodes=new Map;this.inlineNodes=new Map;this.virtualBlocks=[];this.inlineComments=new Map;this.blockComments=[];this.extractedEmbeddedDocuments=new Map;this.dynamicElementAntlers=new Map;this.dynamicElementAntlersNodes=new Map;this.dynamicElementPairedAntlers=new Map;this.dynamicElementPairedAntlersNodes=new Map;this.dynamicElementConditionAntlers=new Map;this.dynamicElementConditionAntlersNodes=new Map;this.noParses=new Map;this.forceBreaks=[];this.forceCleanLines=["{{ if ","{{ /if","{{ /unless","{{ /noparse","{{ else","{{ unless"];this.doc=e,this.options={tabSize:4,newlinesAfterFrontMatter:1,maxAntlersStatementsPerLine:3,endNewline:!0}}produceExtraStructuralPairs(e){return this.createExraStructuralPairs=e,this}withHtmlFormatter(e){return this.htmlFormatter=e,this}withYamlFormatter(e){return this.yamlFormatter=e,this}withPhpFormatter(e){return this.phpFormatter=e,this}withOptions(e){return this.options=e,this.options.tabSize<=0&&(this.options.tabSize=4),this.options.newlinesAfterFrontMatter<0&&(this.options.newlinesAfterFrontMatter=1),this}setParentTransformer(e){return this.parentTransformer=e,this}close(e){return"</"+e+">"}open(e){return"<"+e+">"}selfClosing(e){return"<"+e+" />"}pair(e,n=""){return"<"+e+">"+n+"</"+e+">"}makeSlug(e){e<=2&&(e=7);let n="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=r.length;for(let a=0;a<e-1;a++)n+=r.charAt(Math.floor(Math.random()*i));let s="A"+n+"A";return this.slugs.includes(s)?this.makeSlug(e+1):(this.slugs.push(s),s)}transformInlineConditions(e){let n=e;return this.inlineIfs.forEach((r,i)=>{n=n.replace(i,r.nodeContent)}),n}registerCondition(e){this.parentTransformer!=null?this.parentTransformer.registerCondition(e):this.conditions.push(e)}registerInlineCondition(e,n){this.parentTransformer!=null?this.parentTransformer.registerInlineCondition(e,n):this.inlineIfs.set(e,n)}registerVirtualBlock(e){this.parentTransformer!=null?this.parentTransformer.registerVirtualBlock(e):this.virtualBlocks.push(e)}registerNoParse(e,n){this.parentTransformer!=null?this.parentTransformer.registerNoParse(e,n):this.noParses.set(e,n)}prepareNoParse(e){let n=this.makeSlug(35);return this.registerNoParse(n,e),n}registerForcedBreak(){if(this.parentTransformer!=null)return this.parentTransformer.registerForcedBreak();{let e=this.makeSlug(15),n=this.makeSlug(10);return this.forceBreaks.push(e),this.forceBreaks.push(n),this.removeLines.push(this.open(e)),this.removeLines.push(this.close(e)),this.removeLines.push(this.selfClosing(n)),this.pair(e,this.selfClosing(n))}}transformVirtualStructures(e){let n=e;return this.virtualBlocks.forEach(r=>{var s;this.removeLines.push(r.pairClose);let i=this.indentLevel(r.pairOpen);if(r.virtualElement.length>0&&(this.removeLines.push(this.open(r.virtualElement)),this.removeLines.push(this.close(r.virtualElement))),r.node instanceof Rn){let a="{{ noparse }}"+r.node.getInnerDocumentText();n=n.replace(r.pairOpen,a)}if(r.node instanceof K){let a=r.node;n=n.replace(r.pairClose,(s=a.isClosedBy)==null?void 0:s.getOriginalContent())}else this.removeLines.push(r.pairClose)}),this.noParses.forEach((r,i)=>{n=n.replace(i,`{{ noparse }}${r.getInnerDocumentText()}{{ /noparse }}`)}),n}printNode(e,n=null){let r=e.getTrueNode();if((r.rawStart=="{{?"||r.rawStart=="{{$")&&this.phpFormatter!=null)try{let o=this.phpFormatter(r.content);return`${r.rawStart} ${o} ${r.rawEnd}`}catch{}let i=this.doc;e.childDocument!=null&&(i=e.childDocument.document);let s=null;if(yn.isConditionalStructure(e)&&(s=r.runtimeName(),e.isClosingTag&&(s=="if"||s=="unless")))return`{{ /${s} }}`;if(e.isClosingTag)return r.runtimeName()=="endunless"?"{{ /unless }}":`{{ ${r.content.trim()} }}`;let a=Fu.prettyPrintNode(r,i,0,this.options,s,null);return n!=null&&a.includes(`
`)&&(a=bl.shiftIndent(a,n-this.options.tabSize*2,!0)),a}transformConditions(e){let n=e;return this.conditions.forEach(r=>{r.structures.forEach(i=>{let s=i.branch.head;if(i.virtualBreakOpen.length>0&&this.removeLines.push(i.virtualBreakOpen),i.virtualBreakClose.length>0&&(n=n.replace(i.virtualBreakClose,i.virtualBreakClose+`
`),this.removeLines.push(i.virtualBreakClose)),this.virtualStructureOpens.push(i.virtualOpen),this.removeLines.push(i.virtualOpen),this.removeLines.push(i.virtualClose),i.isLast){let a=this.selfClosing(i.virtualSlug);n.includes(a)&&(n=n.replace(a,i.doc.trim())),n=n.replace(i.pairOpen,this.printNode(s,this.indentLevel(i.pairOpen))),n=n.replace(i.pairClose,this.printNode(s.isClosedBy))}else{let a=this.selfClosing(i.virtualSlug);n.includes(a)&&(n=n.replace(a,i.doc.trim())),this.removeLines.push(i.pairClose),n=n.replace(i.pairOpen,this.printNode(s,this.indentLevel(i.pairOpen)))}})}),n}transformExtractedDocuments(e){let n=e;return this.extractedEmbeddedDocuments.forEach((r,i)=>{let s="",a=0;r.isScript?s="//"+i:s="/*"+i+"*/",a=this.indentLevel(s),n.includes(s)&&(n=n.replace(s,bl.indentRelative(r.content,a)))}),n}getAntlersChildDoc(e){return e.childDocument!=null?e.childDocument.document.transform().setParentTransformer(this).toStructure():this.clone().toStructure(e.getImmediateChildren())}prepareCondition(e){let n=e.logicBranches[0].head;if(n.fragmentPosition==2||n.fragmentPosition==1){let l=this.makeSlug(e.nodeContent.length);return this.registerInlineCondition(l,e),l}if(n.fragmentPosition==0)return this.prepareDynamicCondition(e);let r=[],i="";n.prev instanceof K&&n.prev.isInlineAntlers&&(i+=this.registerForcedBreak()),e.logicBranches.forEach((l,u)=>{var h,_,g,b;let c=l.head,f=this.getAntlersChildDoc(l),d=this.makeSlug(c.sourceContent.length),m=this.makeSlug(10),p={branch:l,slug:d,doc:f,pairOpen:this.open(d),pairClose:this.close(d),virtualOpen:this.open(m),virtualClose:this.close(m),virtualSlug:m,isFirst:u==0,isLast:u==e.logicBranches.length-1,virtualBreakClose:"",virtualBreakOpen:""};if(((_=(h=l.head)==null?void 0:h.name)==null?void 0:_.getCompoundTagName())=="else"){i+=`
`+p.pairOpen;let y=this.makeSlug(25);this.createExraStructuralPairs&&l.head.containsChildStructures==!1&&l.head.containsAnyFragments==!1?(p.virtualBreakOpen=this.open(y),p.virtualBreakClose=this.close(y),p.virtualSlug=y,i+=`
`+this.selfClosing(y),i+=p.pairClose+`
`):(p.virtualBreakOpen=this.selfClosing(y),i+=p.virtualBreakOpen+`
`,i+=f,i+=`
`+p.pairClose)}else if(this.createExraStructuralPairs&&((g=l.head)==null?void 0:g.containsAnyFragments)==!1&&((b=l.head)==null?void 0:b.containsChildStructures)==!1){let y=this.makeSlug(25);p.virtualBreakOpen=this.open(y),p.virtualBreakClose=this.close(y),p.virtualSlug=y,i+=`
`+p.pairOpen,i+=`
`+this.selfClosing(y),i+=p.pairClose+`
`}else i+=p.pairOpen,i+=`
`,i+=f,i+=`
`,i+=p.pairClose;r.push(p)});let s=r[0].pairOpen,a=r[r.length-1].pairClose,o={pairOpen:s,pairClose:a,structures:r,condition:e};return this.registerCondition(o),i}registerPairedAntlers(e,n){this.parentTransformer!=null?this.parentTransformer.registerPairedAntlers(e,n):this.tagPairs.set(e,n)}preparePairedAntlers(e){let n=this.makeSlug(e.getOriginalContent().length),r=this.getAntlersChildDoc(e);if(e.fragmentPosition!=0){let i="",s="";if(e.prev instanceof K&&e.prev.isPaired()==!1&&(s+=this.registerForcedBreak()),s+=`${this.open(n)}
`,e.containsChildStructures==!1&&e.containsAnyFragments==!1){let a=!1,o=!0,l=!0,u=0;for(let f=0;f<e.children.length;f++){let d=e.children[f];if(d instanceof st&&d.sourceContent.trim().length>0){a=!0,o=!1;break}}e.children.length==2&&e.children[0]instanceof K&&(a=!0);let c=0;for(let f=0;f<e.children.length-1;f++){let d=e.children[f];d instanceof K&&(u+=1,d.isInlineAntlers?c+=1:l=!1)}c==0&&(a=!0),l==!1&&(a=!1),o==!1&&u==0&&(a=!1),a?(i=this.makeSlug(15),s+=this.pair(i,r)):s+=r}else s+=r;return s+=`
${this.close(n)}
`,this.virtualStructureOpens.push(this.open(i)),this.virtualStructureClose.push(this.close(i)),this.virtualStructureClose.push(this.close(n)),this.registerPairedAntlers(n,{innerDoc:r,slug:n,tag:e,virtualElementSlug:i,isInline:!1}),s}return this.prepareConditionalAntlersPair(e)}registerInlineAntlers(e){if(this.parentTransformer!=null)return this.parentTransformer.registerInlineAntlers(e);{let n=this.makeSlug(e.getOriginalContent().length);return e.isInlineAntlers?(this.spanNodes.set(n,e),n):(this.inlineNodes.set(n,e),this.selfClosing(n))}}registerVirtualComment(e){this.parentTransformer!=null?this.parentTransformer.registerVirtualComment(e):this.blockComments.push(e)}registerComment(e,n){this.parentTransformer!=null?this.parentTransformer.registerComment(e,n):this.inlineComments.set(e,n)}prepareComment(e){let n=e.getContent();if(n.trim().includes(`
`)){let s=this.makeSlug(10),a=this.makeSlug(10),o={node:e,pairOpen:this.open(s),pairClose:this.close(s),virtualElement:this.selfClosing(a)};return this.registerVirtualComment(o),o.pairOpen+`
`+o.virtualElement+`
`+o.pairClose}let i=this.makeSlug(n.length);return this.registerComment(i,e),this.selfClosing(i)}registerDynamicAntlersPair(e,n){this.parentTransformer!=null?(this.dynamicElementPairedAntlers.set(n.nodeContent,e),this.parentTransformer.registerDynamicAntlersPair(e,n)):(this.dynamicElementPairedAntlers.set(n.nodeContent,e),this.dynamicElementPairedAntlersNodes.set(e,n))}prepareConditionalAntlersPair(e){if(this.dynamicElementPairedAntlers.has(e.nodeContent))return this.dynamicElementPairedAntlers.get(e.nodeContent);let n=this.makeSlug(e.nodeContent.length);return this.registerDynamicAntlersPair(n,e),n}registerDynamicCondition(e,n){this.parentTransformer!=null?(this.dynamicElementConditionAntlers.set(n.nodeContent,e),this.parentTransformer.registerDynamicCondition(e,n)):(this.dynamicElementConditionAntlers.set(n.nodeContent,e),this.dynamicElementConditionAntlersNodes.set(e,n))}prepareDynamicCondition(e){if(this.dynamicElementConditionAntlers.has(e.nodeContent))return this.dynamicElementConditionAntlers.get(e.nodeContent);let n=this.makeSlug(e.nodeContent.length);return this.registerDynamicCondition(n,e),n}registerDynamicAntlers(e,n){this.parentTransformer!=null?(this.dynamicElementAntlers.set(n.content,e),this.parentTransformer.registerDynamicAntlers(e,n)):(this.dynamicElementAntlers.set(n.content,e),this.dynamicElementAntlersNodes.set(e,n))}prepareConditionalAntlers(e){if(this.dynamicElementAntlers.has(e.content))return this.dynamicElementAntlers.get(e.content);let n=this.makeSlug(e.content.length);return this.registerDynamicAntlers(n,e),n}prepareAntlers(e){return e.isClosedBy!=null?this.preparePairedAntlers(e):e.fragmentPosition==0?this.prepareConditionalAntlers(e):this.registerInlineAntlers(e)}transformDynamicAntlers(e){let n=e;return this.dynamicElementAntlersNodes.forEach((r,i)=>{let s=this.printNode(r);n=Yt(n,i,s)}),this.dynamicElementPairedAntlersNodes.forEach((r,i)=>{let s=r.nodeContent;n=Yt(n,i,s)}),this.dynamicElementConditionAntlersNodes.forEach((r,i)=>{let s=r.nodeContent;n=Yt(n,i,s)}),n}transformPairedAntlers(e){let n=e;return this.tagPairs.forEach((r,i)=>{let s=r.tag;if(r.virtualElementSlug.length>0){let l=this.open(r.virtualElementSlug),u=this.close(r.virtualElementSlug);this.virtualStructureOpens.push(l),this.removeLines.push(l),this.removeLines.push(u)}let a=this.open(i),o=this.close(i);n=n.replace(a,this.printNode(s,this.indentLevel(a))),n=n.replace(o,this.printNode(s.isClosedBy))}),n}transformInlineAntlers(e){let n=e;return this.inlineNodes.forEach((r,i)=>{let s=this.selfClosing(i);n=n.replace(s,this.printNode(r,this.indentLevel(s)))}),this.spanNodes.forEach((r,i)=>{n=n.replace(i,this.printNode(r))}),n}transformComments(e){let n=e;return this.inlineComments.forEach((r,i)=>{let s=this.selfClosing(i);n=n.replace(s,hp.printComment(r,this.options.tabSize,0))}),this.blockComments.forEach(r=>{let i=r.node;n=n.replace(r.pairOpen,hp.printComment(i,this.options.tabSize,this.indentLevel(r.pairOpen))),this.removeLines.push(r.pairClose),this.removeLines.push(r.virtualElement)}),n}registerEmbeddedDocument(e,n,r){return this.parentTransformer!=null?this.parentTransformer.registerEmbeddedDocument(e,n,r):(this.extractedEmbeddedDocuments.set(e,{slug:e,content:n,isScript:r}),e)}clone(){let e=new Lu(this.doc);return e.withOptions(this.options).setParentTransformer(this),e}toStructure(e=null){let n="";e==null&&(e=this.doc.getDocumentParser().getRenderNodes()),e.forEach(i=>{i instanceof st?i.sourceContent==""?n+=i.content:n+=i.sourceContent:i instanceof ht?n+=this.prepareCondition(i):i instanceof Rn?n+=this.prepareNoParse(i):i instanceof K&&(i.isComment?n+=this.prepareComment(i):n+=this.prepareAntlers(i))});let r=this.doc.getDocumentParser().getFragmentsContainingStructures();if(r.length>0){let i=new It;i.loadString(n),r.forEach(s=>{var m,p,h,_,g,b,y,T;let a=this.doc.getDocumentParser().getText(((p=(m=s.start.endPosition)==null?void 0:m.offset)!=null?p:0)+1,(_=(h=s.end.startPosition)==null?void 0:h.offset)!=null?_:0),o=i.getDocumentParser().getFragmentsParser().getEmbeddedFragment(s.start.embeddedIndex);if(o==null)return;let l=i.getDocumentParser().getFragmentsParser().getClosingFragmentAfter(o);if(l==null)return;let u=i.getDocumentParser().getText(((b=(g=o.endPosition)==null?void 0:g.offset)!=null?b:0)+1,(T=(y=l==null?void 0:l.startPosition)==null?void 0:y.offset)!=null?T:0),c=this.makeSlug(16),f=s.start.name.toLowerCase()=="script",d=c;f?d="//"+c:d="/*"+c+"*/",n=n.replace(u,d),this.registerEmbeddedDocument(c,a,f)})}return n}removeVirtualStructures(e){let n=e;return this.removeLines.forEach(r=>{n=n.replace(r,"")}),n}indentLevel(e){for(let n=0;n<this.structureLines.length;n++){let r=this.structureLines[n];if(r.includes(e)){let i=r.trimLeft();return r.length-i.length}}return 0}shouldCleanAfter(e){for(let n=0;n<this.removeLines.length;n++)if(e.startsWith(this.removeLines[n]))return!0;for(let n=0;n<this.forceCleanLines.length;n++)if(e.startsWith(this.forceCleanLines[n]))return!0;return!1}shouldCleanLine(e){for(let n=0;n<this.forceCleanLines.length;n++){let r=e.trim();if(e.startsWith(this.forceCleanLines[n])||r.startsWith("{{ /")&&r.endsWith("}}"))return!0}return!1}cleanVirtualStructures(e){let n=[],r=te.breakByNewLine(e),i=!1;for(let s=0;s<r.length;s++){let a=r[s].trim();if(i){if(a.length==0)continue;i=!1}else i=this.shouldCleanAfter(a);if(this.shouldCleanLine(a))for(let o=n.length-1;o>0&&n[o].trim().length==0;o--)n.pop();if(!this.removeLines.includes(a)){let o=r[s];this.removeLines.forEach(l=>{o.includes(l)&&(o=o.replace(l,""))}),n.push(o)}}return n.join(`
`)}cleanStructuralNewLines(e){let n=te.breakByNewLine(e),r=[],i=!1;return n.forEach(s=>{let a=s.trim();if(a.startsWith("{{")&&a.endsWith("}}")){r.push(s),i=!0;return}i&&a.length>0&&(i=!1),i||r.push(s)}),r.join(`
`)}reflowSlugs(e){let n=e;return this.slugs.forEach(r=>{let i=this.open(r),s=this.close(r),a=this.selfClosing(r),o="/<"+r+"(.*?)>/gms",l="/</"+r+"(.*?)>/gms",u="/<"+r+"(.*?)/>/gms";n=n.replace(o,i),n=n.replace(l,s),n=n.replace(u,a)}),n}cleanLines(e){let n=te.breakByNewLine(e),r=[],i=!1,s=0,a=!1;for(let o=0;o<n.length;o++){let l=n[o].trim(),u=n[o];if(l.startsWith("{{")&&l.endsWith("}}")){i&&(s=0),l.startsWith("{{ /")==!1?a=!0:a=!1,i=!0,r.push(u);continue}if(!i)r.push(u);else if(l.length==0){if(a==!1){s=0,i=!1;continue}s+=1;continue}else a&&s>1&&r.push(""),s=0,r.push(u),i=!1}return r.join(`
`)}fromStructure(e){let n=this.reflowSlugs(e);this.structureLines=te.breakByNewLine(n);let r=this.transformInlineConditions(n);if(r=this.transformConditions(r),r=this.transformInlineAntlers(r),r=this.transformComments(r),r=this.transformVirtualStructures(r),r=this.transformDynamicAntlers(r),r=this.transformPairedAntlers(r),r=this.transformExtractedDocuments(r),r=this.cleanVirtualStructures(r),r=this.cleanLines(r),this.doc.hasFrontMatter()){let i=this.doc.getFrontMatter(),s=this.doc.getFrontMatterDoc();s!=null&&s.isValid&&this.yamlFormatter!=null&&(i=this.yamlFormatter(i)),r=`---
${i}
---
`+`
`.repeat(this.options.newlinesAfterFrontMatter)+r.trimLeft()}return r=r.trimRight(),this.options.endNewline&&(r+=`
`),r}};var tP=le(Xi());var rg=class{constructor(){this.content="";this.ranges=[];this.lastDocumentOffsetKey=null;this.documentOffsets=new Map;this.lineIndex=new Map;this.keys=[];this.values=[];this.isValid=!1;this.parseError=null}loadString(e){var c;this.content=te.normalizeLineEndings(e);let n=null;try{n=tP.parseDocument(this.content),this.isValid=!0}catch(f){this.isValid=!1,this.parseError=f}if(n==null)return;let r=[...this.content.matchAll(/(\n)/gm)],i=r.length,s=2,a=null,o=0,l=0;for(let f=0;f<i;f++){let d=r[f],m=(c=d.index)!=null?c:0,p=m;a!=null?p=m-a:p=p+1,this.documentOffsets.set(m,{char:p,line:s});let h=0,_=0;f==0?(_=p-1,h=0):(h=l+1,_=m),this.lineIndex.set(s,{char:p,line:s,startIndex:h,endIndex:_}),this.lastDocumentOffsetKey=m,s+=1,a=m,l=_,o=h}let u=n.contents;this.processMap(u)}processMap(e){typeof e.items!="undefined"&&e.items.forEach(n=>{this.processItem(n)})}processItem(e){if(e.type=="PAIR"){if(e.value instanceof Ou||e.value instanceof yl){let s=e.key;if(s.range!=null){let a=this.positionFromOffset(s.range[0],s.range[0]),o=this.positionFromOffset(s.range[1],s.range[1]);this.ranges.push({start:a,end:o,length:o.char-a.char+1,content:"property"}),this.keys.push({start:a,end:o,length:o.char-a.char+1,content:s.value}),e.value instanceof yl?this.processMap(e.value.items[0]):this.processMap(e.value);return}}let n=e,r=n.key,i=n.value;if(r.range!=null&&i.range!=null){let s=this.positionFromOffset(r.range[0],r.range[0]),a=this.positionFromOffset(r.range[1],r.range[1]),o=this.positionFromOffset(i.range[0],i.range[0]),l=this.positionFromOffset(i.range[1],i.range[1]),u="string";parseInt(i.value)==i.value&&(u="number"),this.ranges.push({start:s,end:a,length:a.char-s.char+1,content:"property"}),this.keys.push({start:s,end:a,length:a.char-s.char+1,content:r.value}),this.ranges.push({start:o,end:l,length:l.char-o.char+1,content:u}),this.values.push({start:o,end:l,length:l.char-o.char+1,content:i.value})}}}positionFromOffset(e,n,r=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let o=this.documentOffsets.get(e);i=o.line,s=o.char}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let o=null,l=null,u=null,c=null;for(let f of this.documentOffsets.keys()){if(f>=e){c!=null&&e>c?(o=u,l=c):(o=this.documentOffsets.get(f),l=f);break}u=this.documentOffsets.get(f),c=f}if(o==null&&(o=u,l=c),o!=null)if(r){let f=this.content.split(""),d=e-(l!=null?l:0),m=o.char-(l!=null?l:0)+e;s=d,i=o.line,e<=(l!=null?l:0)?(i=o.line,s=e+1):i=o.line+1}else{let f=this.content.split(""),d=e-(l!=null?l:0),m=o.char-(l!=null?l:0)+e;s=d,i=o.line,e<=(l!=null?l:0)?(i=o.line,s=e+1):i=o.line+1}else this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let a=new cn;return a.index=n,a.offset=e,a.line=i,a.char=s,a}getRanges(){return this.ranges}getKeys(){return this.keys}getValues(){return this.values}};var It=class{constructor(){this.documentParser=new w;this.transformer=null;this.ranges=new tg(this);this.nodes=new eg(this);this.cursor=new Mh(this);this.errors=new Bh(this);this.project=null;this.documentUri=""}static fromText(e,n){let r=new It;return typeof n!="undefined"&&(r.project=n),r.loadString(e)}static childFromText(e,n=null){let r=new It;return n!=null&&r.getDocumentParser().setSeedPosition(n),r.getDocumentParser().withChildDocuments(!0),r.loadString(e),{renderNodes:r.getDocumentParser().getRenderNodes(),content:e,document:r}}isValid(){return!(this.hasInvalidControlFlowStructures()||this.hasUnclosedStructures())}getDocumentOptions(){let e=this.getAllNodes();if(e.length==0||!(e[0]instanceof K))return null;let n=e[0];return n.isComment==!1?null:Wl(this.documentUri,n)}isFormattingEnabled(){let e=this.getDocumentOptions();return e==null?!0:e.formatterEnabled}hasInvalidControlFlowStructures(){return this.documentParser.hasUnclosedIfStructures()}hasUnclosedStructures(){return this.documentParser.hasUnclosedStructures()}getFrontMatterDoc(){if(this.hasFrontMatter()){let e=new rg;return e.loadString(this.getFrontMatter()),e}return null}hasFrontMatter(){return this.documentParser.getFrontMatter().trim().length>0}getFrontMatter(){return this.documentParser.getFrontMatter()}getFrontMatterScope(){if(this.project==null)return null;let e=new Zh(this.project);return e.parse(this.getFrontMatter()),e.getScope()}updateProject(e){this.project=e,this.updateProjectDetails()}updateProjectDetails(){try{if(this.project!=null){let e=new yh(this.project,this.documentUri,this),n=this.documentParser.antlersNodes();n.forEach(r=>{var i,s;if(this.project!=null&&((i=Ue.instance)==null?void 0:i.canResolveSpecialTypes(r.getTagName()))){let a=(s=Ue.instance)==null?void 0:s.resolveSpecialType(r.getTagName(),r,this.project);a.context!=null&&(r.reference=a.context)}}),e.analyzeScope(n);for(let r=0;r<n.length;r++){let i=n[r];if(i.hasParameters)for(let s=0;s<i.parameters.length;s++){let a=i.parameters[s];if(a.hasInterpolations())for(let o=0;o<a.interpolations.length;o++){let l=a.interpolations[o];i.processedInterpolationRegions.has(l)&&i.processedInterpolationRegions.get(l).forEach(c=>{c instanceof K&&(c.currentScope=i.currentScope)})}}}t0(this)}}catch(e){console.log(e)}}loadString(e){return this.documentParser.parse(e),this.updateProjectDetails(),this}getDocumentParser(){return this.documentParser}getParsedContent(){return this.documentParser.getParsedContent()}getAllNodes(){return this.documentParser.getNodes()}getAllAntlersNodes(){return this.documentParser.antlersNodes()}extractText(){let e=[];return this.nodes.getAllLiteralNodes().forEach(n=>{e.push(n.content)}),e.join("")}getNameAt(e){let n=this.nodes.getNodeAt(e);return n instanceof K?n.name:null}getLinesAround(e){return this.documentParser.getLinesAround(e)}getContent(){return this.documentParser.getContent()}getOriginalContent(){return this.documentParser.getOriginalContent()}getFeaturesAt(e){let n=this.nodes.getNodeAt(e);return gs.resolveContext(e,n,this,!1,n)}getText(e,n){return this.documentParser.getText(e,n)}charLeftAt(e){return this.documentParser.charLeftAt(e)}charAt(e){return this.documentParser.charAt(e)}charRightAt(e){return this.documentParser.charRightAt(e)}getLineIndex(e){return this.documentParser.getLineIndex(e)}getLineText(e){return this.documentParser.getLineText(e)}wordAt(e,n=4){return this.documentParser.wordAt(e,n)}wordLeftAt(e,n=4){return this.documentParser.wordLeftAt(e,n)}wordRightAt(e,n=4){return this.documentParser.wordRightAt(e,n)}punctuationLeftAt(e,n=4){return this.documentParser.punctuationLeftAt(e,n)}punctuationRightAt(e,n=4){return this.documentParser.punctuationRightAt(e,n)}getLineChars(e){let n=this.getLineText(e);return n!=null?n.split(""):null}transform(){return this.transformer==null&&(this.transformer=new Lu(this)),this.transformer}};var Kk={checkNode(t){var i;let e=[];if(t.isClosedBy==null||t.parent==null||!(t.parent instanceof K))return e;let n=t.parent;if(n.isClosedBy==null)return e;let r=t.runtimeName();return r=="if"||r=="if:index"||r=="else"||r=="else:index"||r=="elseif"||r=="elseif:index"||r=="elseunless"||r=="elseunless:index"||((i=n.isClosedBy.startPosition)==null?void 0:i.isBefore(t.isClosedBy.endPosition))&&(e.push(j.makeSyntaxError(P.LINT_INTERLEAVED_TAG_PAIRS,t,"Closing tag cannot appear after parent closing tag.")),e.push(j.makeSyntaxError(P.LINT_INTERLEAVED_TAG_PAIRS,t.isClosedBy,"Closing tag cannot appear after parent closing tag."))),e}},gp=Kk;var HS=le(require("fs")),YS=le(rP()),Dn=le(sP());function aP(t,e){let n=[];return t.processedInterpolationRegions.size>0&&t.processedInterpolationRegions.forEach((r,i)=>{var s;for(let a=0;a<r.length;a++){let o=r[a];if(o instanceof K&&e.isWithin(o.startPosition,o.endPosition)){o.currentScope==null&&(((s=t.parent)==null?void 0:s.currentScope)!=null?o.currentScope=t.parent.currentScope:o.currentScope=t.currentScope),n.push(o),o.processedInterpolationRegions.size>0&&(n=n.concat(aP(o,e)));break}}}),n}function ur(t,e,n=!0){var d,m,p,h,_,g,b,y,T,C,W;if(!We.hasDocument(e)||Ie.instance==null||Ie.instance.hasStructure()==!1)return null;let r=We.getDocument(e),i=t.line+1,s=t.character+1,a=r.cursor.getFeaturesAt(i,s),o=r.cursor.position(i,s),l=Ie.instance.getStructure(),u=r.cursor.getAncestorsAt(i,s);if(o!=null&&u.length>0){let F=u[u.length-1];aP(F,o).forEach(L=>{u.push(L)})}let c=(a==null?void 0:a.isCursorInIdentifier)==!1;return c==!1&&((d=a==null?void 0:a.leftChar)!=null?d:"")==" "&&(c=!0),{hasFrontMatter:r.hasFrontMatter(),antlersDocument:r,frontMatterEndsOn:r.getDocumentParser().getFrontMatterEndLine(),document:e,leftMeaningfulWord:(m=a==null?void 0:a.leftWord)!=null?m:null,leftChar:(p=a==null?void 0:a.leftChar)!=null?p:"",leftWord:(_=(h=a==null?void 0:a.leftWord)==null?void 0:h.trim())!=null?_:"",originalLeftWord:(g=a==null?void 0:a.leftWord)!=null?g:"",rightWord:(b=a==null?void 0:a.rightWord)!=null?b:"",rightChar:(y=a==null?void 0:a.rightChar)!=null?y:"",context:a,position:t,project:l,nodesInScope:u,isInDoubleBraces:((T=a==null?void 0:a.node)==null?void 0:T.rawStart)=="{{",isInVariableInterpolation:(C=a==null?void 0:a.interpolatedContext)!=null?C:!1,interpolationStartsOn:null,currentNode:(W=a==null?void 0:a.node)!=null?W:null,isCaretInTag:(a==null?void 0:a.node)!=null,isPastTagPart:c,showGeneralSnippets:n}}var Tl=le(Cn());var zk=`{{ collection:$1 $2 }}

{{ /collection:$1 }}`,oP=zk;var Xk='&copy; {{ now format="Y"  }}',lP=Xk;var Qk=`{{ form:set in="$1" }}

{{ if {form:errors} }}
	{{ form:errors }}

	{{ /form:errors }}
{{ /if }}

{{ if {form:success} }}

{{ /if }}

{{ form:create }}
	$2
{{ /form:create }}

{{ /form:set }}`,uP=Qk;var cP=`{{# Displays your site's current locale. #}}
<span>{{ site:short_locale }}</span>

{{# Displays all available locales. #}}
<ul>
    {{ locales all="true" self="false" }}
    <li>
        <a href="{{ permalink }}" aria-label="{{ locale:name }}">{{ locale:short }}</a>
    </li>    
    {{ /locales }}
</ul>`;var Jk=`<ul>
{{ nav }}
	{{ if depth == 1 }}
		$1
		{{ if children }}
			<ul>{{ *recursive children* }}</ul>
		{{ /if }}
	{{ elseif depth == 2 }}
		
	{{ /if }}
{{ /nav }}
</ul>`,fP=Jk;function ku(t,e,n,r){return{label:t,detail:e,insertTextFormat:Tl.InsertTextFormat.Snippet,kind:Tl.CompletionItemKind.Snippet,textEdit:Tl.TextEdit.replace(r,n),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}}function Zk(t){var l,u,c,f,d;let e=[];if(t.showGeneralSnippets==!1)return e;let n={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position},r=(l=Ir.instance)==null?void 0:l.getContent("collection"),i=(u=Ir.instance)==null?void 0:u.getContent("formset"),s=(c=Ir.instance)==null?void 0:c.getContent("nav_depth2"),a=(f=Ir.instance)==null?void 0:f.getContent("copyright_year"),o=(d=Ir.instance)==null?void 0:d.getContent("multisite_lang_generic");return r!=null&&e.push(ku("coll","Statamic Collection",r,n)),i!=null&&e.push(ku("formset","Statamic Form Set",i,n)),s!=null&&e.push(ku("nav-depth2","Statamic Nav with Depth Two",s,n)),a!=null&&e.push(ku("copyright_year","Copyright year using Antlers tags.",a,n)),o!=null&&e.push(ku("multisite_locales","Displays the current locale, and a list of all available locales.",o,n)),e}var Ir=class{constructor(){this.registeredSnippets=new Map}loadCoreSnippets(){this.registeredSnippets.set("collection",oP),this.registeredSnippets.set("formset",uP),this.registeredSnippets.set("nav_depth2",fP),this.registeredSnippets.set("copyright_year",lP),this.registeredSnippets.set("multisite_lang_generic",cP)}getContent(e){return this.registeredSnippets.has(e)?this.registeredSnippets.get(e):""}getSnippets(e){let n=[];return e==null||(n=n.concat(Zk(e))),n}};Ir.instance=null;(typeof Ir.instance=="undefined"||Ir.instance==null)&&(Ir.instance=new Ir,Ir.instance.loadCoreSnippets());var pP=Ir;var dP=new Map;function mP(t){var a,o,l;if(((a=Ie.instance)==null?void 0:a.hasStructure())==!1)return[];We.refreshDocumentState();let e=decodeURIComponent(t.textDocument.uri);if(We.hasDocument(e)==!1)return[];let n=ur(t.position,e,Js.showGeneralSnippetCompletions);if(n==null)return[];if(n.hasFrontMatter&&n.frontMatterEndsOn>-1&&n.position.line<n.frontMatterEndsOn)return[];let r=(l=(o=pP.instance)==null?void 0:o.getSnippets(n))!=null?l:[],i=Um.getSuggestions(n);r.length>0&&(n.isInDoubleBraces==!1||n.nodesInScope.length==0)&&(i=i.concat(r));let s=[];return i.filter(u=>s.includes(u.label)?!1:(s.push(u.label),!0))}function hP(t){if(dP.has(t.data)){let e=dP.get(t.data);e!=null&&(t.detail=e.detail,t.documentation=e.docs)}return t}var Mu=le(lm());var ig=le(wt());function yp(t){let e=[];return t.forEach(n=>{let r=null;n.lsRange!=null?r=n.lsRange:n.node!=null?r=Ga(n.node):n.range!=null?r={start:Ot(n.range.start),end:Ot(n.range.end)}:r={start:{line:1,character:1},end:{line:1,character:1}};let i=1;n.level==1&&(i=2),e.push({severity:i,range:r,message:"["+n.errorCode+"] "+n.message,source:"antlers",code:n.errorCode})}),e}function Ot(t){return t==null?{character:0,line:0}:{character:t.char,line:t.line-1}}function Ga(t){var e,n,r,i,s,a,o,l;if(t instanceof ma){let u=Ot((i=(r=(e=t.valuePosition)==null?void 0:e.end)!=null?r:(n=t.blockPosition)==null?void 0:n.end)!=null?i:t.endPosition);return{start:Ot((l=(o=(s=t.namePosition)==null?void 0:s.start)!=null?o:(a=t.blockPosition)==null?void 0:a.start)!=null?l:t.startPosition),end:{character:u.character+1,line:u.line}}}else if(t instanceof ht&&t.logicBranches.length>0){let u=t.logicBranches[0],c=t.logicBranches[t.logicBranches.length-1];if(u.head!=null&&c.head!=null&&c.head.isClosedBy!=null)return{start:Ot(u.head.startPosition),end:Ot(c.head.isClosedBy.endPosition)}}return{start:Ot(t.startPosition),end:Ot(t.endPosition)}}function gP(t){if(t.isClosedBy==null)return null;let e=-1,n=-1,r=-1,i=-1;return t.startPosition!=null&&(e=t.startPosition.line-1,n=t.startPosition.char),t.isClosedBy.endPosition!=null?(r=t.isClosedBy.endPosition.char,i=t.isClosedBy.endPosition.line-1):t.isClosedBy.startPosition!=null&&(r=t.isClosedBy.startPosition.char,i=t.isClosedBy.startPosition.line-1),e==-1||i==-1||n==-1||r==-1?null:{kind:ig.FoldingRangeKind.Region,startLine:e,endLine:i,startCharacter:n,endCharacter:r}}function sg(t){let e=-1,n=-1,r=-1,i=-1;return t.startPosition!=null&&(e=t.startPosition.line-1,n=t.startPosition.char),t.endPosition!=null&&(r=t.endPosition.char,i=t.endPosition.line-1),e==-1||n==-1||r==-1||i==-1?null:{kind:ig.FoldingRangeKind.Comment,startLine:e,endLine:i,startCharacter:n,endCharacter:r}}function _P(t){let e=decodeURIComponent(t.textDocument.uri);if(We.hasDocument(e)){let n=We.getDocument(e),r=n.ranges.getAllPairedNodes(),i=n.nodes.getMultiLineComments(),s=n.nodes.getMultilineNodes(),a=[];if(n.hasFrontMatter()){let o=n.getDocumentParser().getFrontMatterEndLine();a.push({startLine:0,endLine:o-1,kind:Mu.FoldingRangeKind.Imports})}return r.length>0&&r.forEach(o=>{var u,c,f;if(((u=o.startPosition)==null?void 0:u.line)==((f=(c=o.isClosedBy)==null?void 0:c.startPosition)==null?void 0:f.line))return;let l=gP(o);l!=null&&(l.kind=Mu.FoldingRangeKind.Region,a.push(l))}),i.length>0&&i.forEach(o=>{let l=sg(o);l!=null&&(l.kind=Mu.FoldingRangeKind.Comment,a.push(l))}),s.length>0&&s.forEach(o=>{if(o.isClosedBy!=null)return;let l=sg(o);l!=null&&(l.kind=Mu.FoldingRangeKind.Region,a.push(l))}),a}return[]}function yP(t){return typeof t=="undefined"||t===null}function eM(t){return typeof t=="object"&&t!==null}function tM(t){return Array.isArray(t)?t:yP(t)?[]:[t]}function nM(t,e){var n,r,i,s;if(e)for(s=Object.keys(e),n=0,r=s.length;n<r;n+=1)i=s[n],t[i]=e[i];return t}function rM(t,e){var n="",r;for(r=0;r<e;r+=1)n+=t;return n}function iM(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var sM=yP,aM=eM,oM=tM,lM=rM,uM=iM,cM=nM,hn={isNothing:sM,isObject:aM,toArray:oM,repeat:lM,isNegativeZero:uM,extend:cM};function bP(t,e){var n="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),r+" "+n):r}function Bu(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=bP(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Bu.prototype=Object.create(Error.prototype);Bu.prototype.constructor=Bu;Bu.prototype.toString=function(e){return this.name+": "+bP(this,e)};var ir=Bu;function ag(t,e,n,r,i){var s="",a="",o=Math.floor(i/2)-1;return r-e>o&&(s=" ... ",e=r-o+s.length),n-r>o&&(a=" ...",n=r+o-a.length),{str:s+t.slice(e,n).replace(/\t/g,"\u2192")+a,pos:r-e+s.length}}function og(t,e){return hn.repeat(" ",e-t.length)+t}function fM(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],s,a=-1;s=n.exec(t.buffer);)i.push(s.index),r.push(s.index+s[0].length),t.position<=s.index&&a<0&&(a=r.length-2);a<0&&(a=r.length-1);var o="",l,u,c=Math.min(t.line+e.linesAfter,i.length).toString().length,f=e.maxLength-(e.indent+c+3);for(l=1;l<=e.linesBefore&&!(a-l<0);l++)u=ag(t.buffer,r[a-l],i[a-l],t.position-(r[a]-r[a-l]),f),o=hn.repeat(" ",e.indent)+og((t.line-l+1).toString(),c)+" | "+u.str+`
`+o;for(u=ag(t.buffer,r[a],i[a],t.position,f),o+=hn.repeat(" ",e.indent)+og((t.line+1).toString(),c)+" | "+u.str+`
`,o+=hn.repeat("-",e.indent+c+3+u.pos)+`^
`,l=1;l<=e.linesAfter&&!(a+l>=i.length);l++)u=ag(t.buffer,r[a+l],i[a+l],t.position-(r[a]-r[a+l]),f),o+=hn.repeat(" ",e.indent)+og((t.line+l+1).toString(),c)+" | "+u.str+`
`;return o.replace(/\n$/,"")}var pM=fM,dM=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],mM=["scalar","sequence","mapping"];function hM(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(r){e[String(r)]=n})}),e}function gM(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if(dM.indexOf(n)===-1)throw new ir('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=hM(e.styleAliases||null),mM.indexOf(this.kind)===-1)throw new ir('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var Un=gM;function TP(t,e){var n=[];return t[e].forEach(function(r){var i=n.length;n.forEach(function(s,a){s.tag===r.tag&&s.kind===r.kind&&s.multi===r.multi&&(i=a)}),n[i]=r}),n}function _M(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function r(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(r);return t}function lg(t){return this.extend(t)}lg.prototype.extend=function(e){var n=[],r=[];if(e instanceof Un)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new ir("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(s){if(!(s instanceof Un))throw new ir("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new ir("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new ir("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(s){if(!(s instanceof Un))throw new ir("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(lg.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=TP(i,"implicit"),i.compiledExplicit=TP(i,"explicit"),i.compiledTypeMap=_M(i.compiledImplicit,i.compiledExplicit),i};var yM=lg,bM=new Un("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),TM=new Un("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),vM=new Un("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),NM=new yM({explicit:[bM,TM,vM]});function CM(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function PM(){return null}function DM(t){return t===null}var SM=new Un("tag:yaml.org,2002:null",{kind:"scalar",resolve:CM,construct:PM,predicate:DM,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function IM(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function EM(t){return t==="true"||t==="True"||t==="TRUE"}function AM(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var xM=new Un("tag:yaml.org,2002:bool",{kind:"scalar",resolve:IM,construct:EM,predicate:AM,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function RM(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function wM(t){return 48<=t&&t<=55}function OM(t){return 48<=t&&t<=57}function FM(t){if(t===null)return!1;var e=t.length,n=0,r=!1,i;if(!e)return!1;if(i=t[n],(i==="-"||i==="+")&&(i=t[++n]),i==="0"){if(n+1===e)return!0;if(i=t[++n],i==="b"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!RM(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!wM(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<e;n++)if(i=t[n],i!=="_"){if(!OM(t.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}function LM(t){var e=t,n=1,r;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),r=e[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),e=e.slice(1),r=e[0]),e==="0")return 0;if(r==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}function kM(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!hn.isNegativeZero(t)}var MM=new Un("tag:yaml.org,2002:int",{kind:"scalar",resolve:FM,construct:LM,predicate:kM,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),BM=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function qM(t){return!(t===null||!BM.test(t)||t[t.length-1]==="_")}function VM(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}var jM=/^[-+]?[0-9]+e/;function UM(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(hn.isNegativeZero(t))return"-0.0";return n=t.toString(10),jM.test(n)?n.replace("e",".e"):n}function WM(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||hn.isNegativeZero(t))}var GM=new Un("tag:yaml.org,2002:float",{kind:"scalar",resolve:qM,construct:VM,predicate:WM,represent:UM,defaultStyle:"lowercase"}),HM=NM.extend({implicit:[SM,xM,MM,GM]}),YM=HM,vP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),NP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function $M(t){return t===null?!1:vP.exec(t)!==null||NP.exec(t)!==null}function KM(t){var e,n,r,i,s,a,o,l=0,u=null,c,f,d;if(e=vP.exec(t),e===null&&(e=NP.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(n,r,i));if(s=+e[4],a=+e[5],o=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(c=+e[10],f=+(e[11]||0),u=(c*60+f)*6e4,e[9]==="-"&&(u=-u)),d=new Date(Date.UTC(n,r,i,s,a,o,l)),u&&d.setTime(d.getTime()-u),d}function zM(t){return t.toISOString()}var XM=new Un("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:$M,construct:KM,instanceOf:Date,represent:zM});function QM(t){return t==="<<"||t===null}var JM=new Un("tag:yaml.org,2002:merge",{kind:"scalar",resolve:QM}),ug=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function ZM(t){if(t===null)return!1;var e,n,r=0,i=t.length,s=ug;for(n=0;n<i;n++)if(e=s.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;r+=6}return r%8===0}function e2(t){var e,n,r=t.replace(/[\r\n=]/g,""),i=r.length,s=ug,a=0,o=[];for(e=0;e<i;e++)e%4===0&&e&&(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)),a=a<<6|s.indexOf(r.charAt(e));return n=i%4*6,n===0?(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)):n===18?(o.push(a>>10&255),o.push(a>>2&255)):n===12&&o.push(a>>4&255),new Uint8Array(o)}function t2(t){var e="",n=0,r,i,s=t.length,a=ug;for(r=0;r<s;r++)r%3===0&&r&&(e+=a[n>>18&63],e+=a[n>>12&63],e+=a[n>>6&63],e+=a[n&63]),n=(n<<8)+t[r];return i=s%3,i===0?(e+=a[n>>18&63],e+=a[n>>12&63],e+=a[n>>6&63],e+=a[n&63]):i===2?(e+=a[n>>10&63],e+=a[n>>4&63],e+=a[n<<2&63],e+=a[64]):i===1&&(e+=a[n>>2&63],e+=a[n<<4&63],e+=a[64],e+=a[64]),e}function n2(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var r2=new Un("tag:yaml.org,2002:binary",{kind:"scalar",resolve:ZM,construct:e2,predicate:n2,represent:t2}),i2=Object.prototype.hasOwnProperty,s2=Object.prototype.toString;function a2(t){if(t===null)return!0;var e=[],n,r,i,s,a,o=t;for(n=0,r=o.length;n<r;n+=1){if(i=o[n],a=!1,s2.call(i)!=="[object Object]")return!1;for(s in i)if(i2.call(i,s))if(!a)a=!0;else return!1;if(!a)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}function o2(t){return t!==null?t:[]}var l2=new Un("tag:yaml.org,2002:omap",{kind:"sequence",resolve:a2,construct:o2}),u2=Object.prototype.toString;function c2(t){if(t===null)return!0;var e,n,r,i,s,a=t;for(s=new Array(a.length),e=0,n=a.length;e<n;e+=1){if(r=a[e],u2.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;s[e]=[i[0],r[i[0]]]}return!0}function f2(t){if(t===null)return[];var e,n,r,i,s,a=t;for(s=new Array(a.length),e=0,n=a.length;e<n;e+=1)r=a[e],i=Object.keys(r),s[e]=[i[0],r[i[0]]];return s}var p2=new Un("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:c2,construct:f2}),d2=Object.prototype.hasOwnProperty;function m2(t){if(t===null)return!0;var e,n=t;for(e in n)if(d2.call(n,e)&&n[e]!==null)return!1;return!0}function h2(t){return t!==null?t:{}}var g2=new Un("tag:yaml.org,2002:set",{kind:"mapping",resolve:m2,construct:h2}),CP=YM.extend({implicit:[XM,JM],explicit:[r2,l2,p2,g2]}),Zs=Object.prototype.hasOwnProperty,bp=1,PP=2,DP=3,Tp=4,cg=1,_2=2,SP=3,y2=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,b2=/[\x85\u2028\u2029]/,T2=/[,\[\]\{\}]/,IP=/^(?:!|!!|![a-z\-]+!)$/i,EP=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function AP(t){return Object.prototype.toString.call(t)}function Qi(t){return t===10||t===13}function Ha(t){return t===9||t===32}function cr(t){return t===9||t===32||t===10||t===13}function vl(t){return t===44||t===91||t===93||t===123||t===125}function v2(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function N2(t){return t===120?2:t===117?4:t===85?8:0}function C2(t){return 48<=t&&t<=57?t-48:-1}function xP(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"\x85":t===95?"\xA0":t===76?"\u2028":t===80?"\u2029":""}function P2(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var RP=new Array(256),wP=new Array(256);for(Ya=0;Ya<256;Ya++)RP[Ya]=xP(Ya)?1:0,wP[Ya]=xP(Ya);var Ya;function D2(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||CP,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function OP(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=pM(n),new ir(e,n)}function xe(t,e){throw OP(t,e)}function vp(t,e){t.onWarning&&t.onWarning.call(null,OP(t,e))}var FP={YAML:function(e,n,r){var i,s,a;e.version!==null&&xe(e,"duplication of %YAML directive"),r.length!==1&&xe(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&xe(e,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),a=parseInt(i[2],10),s!==1&&xe(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=a<2,a!==1&&a!==2&&vp(e,"unsupported YAML version of the document")},TAG:function(e,n,r){var i,s;r.length!==2&&xe(e,"TAG directive accepts exactly two arguments"),i=r[0],s=r[1],IP.test(i)||xe(e,"ill-formed tag handle (first argument) of the TAG directive"),Zs.call(e.tagMap,i)&&xe(e,'there is a previously declared suffix for "'+i+'" tag handle'),EP.test(s)||xe(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{xe(e,"tag prefix is malformed: "+s)}e.tagMap[i]=s}};function ea(t,e,n,r){var i,s,a,o;if(e<n){if(o=t.input.slice(e,n),r)for(i=0,s=o.length;i<s;i+=1)a=o.charCodeAt(i),a===9||32<=a&&a<=1114111||xe(t,"expected valid JSON character");else y2.test(o)&&xe(t,"the stream contains non-printable characters");t.result+=o}}function LP(t,e,n,r){var i,s,a,o;for(hn.isObject(n)||xe(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),a=0,o=i.length;a<o;a+=1)s=i[a],Zs.call(e,s)||(e[s]=n[s],r[s]=!0)}function Nl(t,e,n,r,i,s,a,o,l){var u,c;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,c=i.length;u<c;u+=1)Array.isArray(i[u])&&xe(t,"nested arrays are not supported inside keys"),typeof i=="object"&&AP(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&AP(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(u=0,c=s.length;u<c;u+=1)LP(t,e,s[u],n);else LP(t,e,s,n);else!t.json&&!Zs.call(n,i)&&Zs.call(e,i)&&(t.line=a||t.line,t.lineStart=o||t.lineStart,t.position=l||t.position,xe(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[i]=s,delete n[i];return e}function fg(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):xe(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function on(t,e,n){for(var r=0,i=t.input.charCodeAt(t.position);i!==0;){for(;Ha(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(Qi(i))for(fg(t),i=t.input.charCodeAt(t.position),r++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return n!==-1&&r!==0&&t.lineIndent<n&&vp(t,"deficient indentation"),r}function Np(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||cr(n)))}function pg(t,e){e===1?t.result+=" ":e>1&&(t.result+=hn.repeat(`
`,e-1))}function S2(t,e,n){var r,i,s,a,o,l,u,c,f=t.kind,d=t.result,m;if(m=t.input.charCodeAt(t.position),cr(m)||vl(m)||m===35||m===38||m===42||m===33||m===124||m===62||m===39||m===34||m===37||m===64||m===96||(m===63||m===45)&&(i=t.input.charCodeAt(t.position+1),cr(i)||n&&vl(i)))return!1;for(t.kind="scalar",t.result="",s=a=t.position,o=!1;m!==0;){if(m===58){if(i=t.input.charCodeAt(t.position+1),cr(i)||n&&vl(i))break}else if(m===35){if(r=t.input.charCodeAt(t.position-1),cr(r))break}else{if(t.position===t.lineStart&&Np(t)||n&&vl(m))break;if(Qi(m))if(l=t.line,u=t.lineStart,c=t.lineIndent,on(t,!1,-1),t.lineIndent>=e){o=!0,m=t.input.charCodeAt(t.position);continue}else{t.position=a,t.line=l,t.lineStart=u,t.lineIndent=c;break}}o&&(ea(t,s,a,!1),pg(t,t.line-l),s=a=t.position,o=!1),Ha(m)||(a=t.position+1),m=t.input.charCodeAt(++t.position)}return ea(t,s,a,!1),t.result?!0:(t.kind=f,t.result=d,!1)}function I2(t,e){var n,r,i;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(ea(t,r,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)r=t.position,t.position++,i=t.position;else return!0;else Qi(n)?(ea(t,r,i,!0),pg(t,on(t,!1,e)),r=i=t.position):t.position===t.lineStart&&Np(t)?xe(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);xe(t,"unexpected end of the stream within a single quoted scalar")}function E2(t,e){var n,r,i,s,a,o;if(o=t.input.charCodeAt(t.position),o!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;(o=t.input.charCodeAt(t.position))!==0;){if(o===34)return ea(t,n,t.position,!0),t.position++,!0;if(o===92){if(ea(t,n,t.position,!0),o=t.input.charCodeAt(++t.position),Qi(o))on(t,!1,e);else if(o<256&&RP[o])t.result+=wP[o],t.position++;else if((a=N2(o))>0){for(i=a,s=0;i>0;i--)o=t.input.charCodeAt(++t.position),(a=v2(o))>=0?s=(s<<4)+a:xe(t,"expected hexadecimal character");t.result+=P2(s),t.position++}else xe(t,"unknown escape sequence");n=r=t.position}else Qi(o)?(ea(t,n,r,!0),pg(t,on(t,!1,e)),n=r=t.position):t.position===t.lineStart&&Np(t)?xe(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}xe(t,"unexpected end of the stream within a double quoted scalar")}function A2(t,e){var n=!0,r,i,s,a=t.tag,o,l=t.anchor,u,c,f,d,m,p=Object.create(null),h,_,g,b;if(b=t.input.charCodeAt(t.position),b===91)c=93,m=!1,o=[];else if(b===123)c=125,m=!0,o={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=o),b=t.input.charCodeAt(++t.position);b!==0;){if(on(t,!0,e),b=t.input.charCodeAt(t.position),b===c)return t.position++,t.tag=a,t.anchor=l,t.kind=m?"mapping":"sequence",t.result=o,!0;n?b===44&&xe(t,"expected the node content, but found ','"):xe(t,"missed comma between flow collection entries"),_=h=g=null,f=d=!1,b===63&&(u=t.input.charCodeAt(t.position+1),cr(u)&&(f=d=!0,t.position++,on(t,!0,e))),r=t.line,i=t.lineStart,s=t.position,Cl(t,e,bp,!1,!0),_=t.tag,h=t.result,on(t,!0,e),b=t.input.charCodeAt(t.position),(d||t.line===r)&&b===58&&(f=!0,b=t.input.charCodeAt(++t.position),on(t,!0,e),Cl(t,e,bp,!1,!0),g=t.result),m?Nl(t,o,p,_,h,g,r,i,s):f?o.push(Nl(t,null,p,_,h,g,r,i,s)):o.push(h),on(t,!0,e),b=t.input.charCodeAt(t.position),b===44?(n=!0,b=t.input.charCodeAt(++t.position)):n=!1}xe(t,"unexpected end of the stream within a flow collection")}function x2(t,e){var n,r,i=cg,s=!1,a=!1,o=e,l=0,u=!1,c,f;if(f=t.input.charCodeAt(t.position),f===124)r=!1;else if(f===62)r=!0;else return!1;for(t.kind="scalar",t.result="";f!==0;)if(f=t.input.charCodeAt(++t.position),f===43||f===45)cg===i?i=f===43?SP:_2:xe(t,"repeat of a chomping mode identifier");else if((c=C2(f))>=0)c===0?xe(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?xe(t,"repeat of an indentation width identifier"):(o=e+c-1,a=!0);else break;if(Ha(f)){do f=t.input.charCodeAt(++t.position);while(Ha(f));if(f===35)do f=t.input.charCodeAt(++t.position);while(!Qi(f)&&f!==0)}for(;f!==0;){for(fg(t),t.lineIndent=0,f=t.input.charCodeAt(t.position);(!a||t.lineIndent<o)&&f===32;)t.lineIndent++,f=t.input.charCodeAt(++t.position);if(!a&&t.lineIndent>o&&(o=t.lineIndent),Qi(f)){l++;continue}if(t.lineIndent<o){i===SP?t.result+=hn.repeat(`
`,s?1+l:l):i===cg&&s&&(t.result+=`
`);break}for(r?Ha(f)?(u=!0,t.result+=hn.repeat(`
`,s?1+l:l)):u?(u=!1,t.result+=hn.repeat(`
`,l+1)):l===0?s&&(t.result+=" "):t.result+=hn.repeat(`
`,l):t.result+=hn.repeat(`
`,s?1+l:l),s=!0,a=!0,l=0,n=t.position;!Qi(f)&&f!==0;)f=t.input.charCodeAt(++t.position);ea(t,n,t.position,!1)}return!0}function kP(t,e){var n,r=t.tag,i=t.anchor,s=[],a,o=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,xe(t,"tab characters must not be used in indentation")),!(l!==45||(a=t.input.charCodeAt(t.position+1),!cr(a))));){if(o=!0,t.position++,on(t,!0,-1)&&t.lineIndent<=e){s.push(null),l=t.input.charCodeAt(t.position);continue}if(n=t.line,Cl(t,e,DP,!1,!0),s.push(t.result),on(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&l!==0)xe(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return o?(t.tag=r,t.anchor=i,t.kind="sequence",t.result=s,!0):!1}function R2(t,e,n){var r,i,s,a,o,l,u=t.tag,c=t.anchor,f={},d=Object.create(null),m=null,p=null,h=null,_=!1,g=!1,b;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=f),b=t.input.charCodeAt(t.position);b!==0;){if(!_&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,xe(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),s=t.line,(b===63||b===58)&&cr(r))b===63?(_&&(Nl(t,f,d,m,p,null,a,o,l),m=p=h=null),g=!0,_=!0,i=!0):_?(_=!1,i=!0):xe(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,b=r;else{if(a=t.line,o=t.lineStart,l=t.position,!Cl(t,n,PP,!1,!0))break;if(t.line===s){for(b=t.input.charCodeAt(t.position);Ha(b);)b=t.input.charCodeAt(++t.position);if(b===58)b=t.input.charCodeAt(++t.position),cr(b)||xe(t,"a whitespace character is expected after the key-value separator within a block mapping"),_&&(Nl(t,f,d,m,p,null,a,o,l),m=p=h=null),g=!0,_=!1,i=!1,m=t.tag,p=t.result;else if(g)xe(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=u,t.anchor=c,!0}else if(g)xe(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=u,t.anchor=c,!0}if((t.line===s||t.lineIndent>e)&&(_&&(a=t.line,o=t.lineStart,l=t.position),Cl(t,e,Tp,!0,i)&&(_?p=t.result:h=t.result),_||(Nl(t,f,d,m,p,h,a,o,l),m=p=h=null),on(t,!0,-1),b=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&b!==0)xe(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return _&&Nl(t,f,d,m,p,null,a,o,l),g&&(t.tag=u,t.anchor=c,t.kind="mapping",t.result=f),g}function w2(t){var e,n=!1,r=!1,i,s,a;if(a=t.input.charCodeAt(t.position),a!==33)return!1;if(t.tag!==null&&xe(t,"duplication of a tag property"),a=t.input.charCodeAt(++t.position),a===60?(n=!0,a=t.input.charCodeAt(++t.position)):a===33?(r=!0,i="!!",a=t.input.charCodeAt(++t.position)):i="!",e=t.position,n){do a=t.input.charCodeAt(++t.position);while(a!==0&&a!==62);t.position<t.length?(s=t.input.slice(e,t.position),a=t.input.charCodeAt(++t.position)):xe(t,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!cr(a);)a===33&&(r?xe(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),IP.test(i)||xe(t,"named tag handle cannot contain such characters"),r=!0,e=t.position+1)),a=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),T2.test(s)&&xe(t,"tag suffix cannot contain flow indicator characters")}s&&!EP.test(s)&&xe(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{xe(t,"tag name is malformed: "+s)}return n?t.tag=s:Zs.call(t.tagMap,i)?t.tag=t.tagMap[i]+s:i==="!"?t.tag="!"+s:i==="!!"?t.tag="tag:yaml.org,2002:"+s:xe(t,'undeclared tag handle "'+i+'"'),!0}function O2(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&xe(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!cr(n)&&!vl(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&xe(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function F2(t){var e,n,r;if(r=t.input.charCodeAt(t.position),r!==42)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!cr(r)&&!vl(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&xe(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),Zs.call(t.anchorMap,n)||xe(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],on(t,!0,-1),!0}function Cl(t,e,n,r,i){var s,a,o,l=1,u=!1,c=!1,f,d,m,p,h,_;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=a=o=Tp===n||DP===n,r&&on(t,!0,-1)&&(u=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;w2(t)||O2(t);)on(t,!0,-1)?(u=!0,o=s,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):o=!1;if(o&&(o=u||i),(l===1||Tp===n)&&(bp===n||PP===n?h=e:h=e+1,_=t.position-t.lineStart,l===1?o&&(kP(t,_)||R2(t,_,h))||A2(t,h)?c=!0:(a&&x2(t,h)||I2(t,h)||E2(t,h)?c=!0:F2(t)?(c=!0,(t.tag!==null||t.anchor!==null)&&xe(t,"alias node should not have any properties")):S2(t,h,bp===n)&&(c=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(c=o&&kP(t,_))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&xe(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),f=0,d=t.implicitTypes.length;f<d;f+=1)if(p=t.implicitTypes[f],p.resolve(t.result)){t.result=p.construct(t.result),t.tag=p.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(Zs.call(t.typeMap[t.kind||"fallback"],t.tag))p=t.typeMap[t.kind||"fallback"][t.tag];else for(p=null,m=t.typeMap.multi[t.kind||"fallback"],f=0,d=m.length;f<d;f+=1)if(t.tag.slice(0,m[f].tag.length)===m[f].tag){p=m[f];break}p||xe(t,"unknown tag !<"+t.tag+">"),t.result!==null&&p.kind!==t.kind&&xe(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+p.kind+'", not "'+t.kind+'"'),p.resolve(t.result,t.tag)?(t.result=p.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):xe(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||c}function L2(t){var e=t.position,n,r,i,s=!1,a;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(a=t.input.charCodeAt(t.position))!==0&&(on(t,!0,-1),a=t.input.charCodeAt(t.position),!(t.lineIndent>0||a!==37));){for(s=!0,a=t.input.charCodeAt(++t.position),n=t.position;a!==0&&!cr(a);)a=t.input.charCodeAt(++t.position);for(r=t.input.slice(n,t.position),i=[],r.length<1&&xe(t,"directive name must not be less than one character in length");a!==0;){for(;Ha(a);)a=t.input.charCodeAt(++t.position);if(a===35){do a=t.input.charCodeAt(++t.position);while(a!==0&&!Qi(a));break}if(Qi(a))break;for(n=t.position;a!==0&&!cr(a);)a=t.input.charCodeAt(++t.position);i.push(t.input.slice(n,t.position))}a!==0&&fg(t),Zs.call(FP,r)?FP[r](t,r,i):vp(t,'unknown document directive "'+r+'"')}if(on(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,on(t,!0,-1)):s&&xe(t,"directives end mark is expected"),Cl(t,t.lineIndent-1,Tp,!1,!0),on(t,!0,-1),t.checkLineBreaks&&b2.test(t.input.slice(e,t.position))&&vp(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&Np(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,on(t,!0,-1));return}if(t.position<t.length-1)xe(t,"end of the stream or a document separator is expected");else return}function MP(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new D2(t,e),r=t.indexOf("\0");for(r!==-1&&(n.position=r,xe(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)L2(n);return n.documents}function k2(t,e,n){e!==null&&typeof e=="object"&&typeof n=="undefined"&&(n=e,e=null);var r=MP(t,n);if(typeof e!="function")return r;for(var i=0,s=r.length;i<s;i+=1)e(r[i])}function M2(t,e){var n=MP(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new ir("expected a single document in the stream, but found more")}}var B2=k2,q2=M2,BP={loadAll:B2,load:q2},qP=Object.prototype.toString,VP=Object.prototype.hasOwnProperty,dg=65279,V2=9,qu=10,j2=13,U2=32,W2=33,G2=34,mg=35,H2=37,Y2=38,$2=39,K2=42,jP=44,z2=45,Cp=58,X2=61,Q2=62,J2=63,Z2=64,UP=91,WP=93,eB=96,GP=123,tB=124,HP=125,Wn={};Wn[0]="\\0";Wn[7]="\\a";Wn[8]="\\b";Wn[9]="\\t";Wn[10]="\\n";Wn[11]="\\v";Wn[12]="\\f";Wn[13]="\\r";Wn[27]="\\e";Wn[34]='\\"';Wn[92]="\\\\";Wn[133]="\\N";Wn[160]="\\_";Wn[8232]="\\L";Wn[8233]="\\P";var nB=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],rB=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function iB(t,e){var n,r,i,s,a,o,l;if(e===null)return{};for(n={},r=Object.keys(e),i=0,s=r.length;i<s;i+=1)a=r[i],o=String(e[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),l=t.compiledTypeMap.fallback[a],l&&VP.call(l.styleAliases,o)&&(o=l.styleAliases[o]),n[a]=o;return n}function sB(t){var e,n,r;if(e=t.toString(16).toUpperCase(),t<=255)n="x",r=2;else if(t<=65535)n="u",r=4;else if(t<=4294967295)n="U",r=8;else throw new ir("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+hn.repeat("0",r-e.length)+e}var aB=1,Vu=2;function oB(t){this.schema=t.schema||CP,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=hn.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=iB(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?Vu:aB,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function YP(t,e){for(var n=hn.repeat(" ",e),r=0,i=-1,s="",a,o=t.length;r<o;)i=t.indexOf(`
`,r),i===-1?(a=t.slice(r),r=o):(a=t.slice(r,i+1),r=i+1),a.length&&a!==`
`&&(s+=n),s+=a;return s}function hg(t,e){return`
`+hn.repeat(" ",t.indent*e)}function lB(t,e){var n,r,i;for(n=0,r=t.implicitTypes.length;n<r;n+=1)if(i=t.implicitTypes[n],i.resolve(e))return!0;return!1}function Pp(t){return t===U2||t===V2}function ju(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==dg||65536<=t&&t<=1114111}function $P(t){return ju(t)&&t!==dg&&t!==j2&&t!==qu}function KP(t,e,n){var r=$P(t),i=r&&!Pp(t);return(n?r:r&&t!==jP&&t!==UP&&t!==WP&&t!==GP&&t!==HP)&&t!==mg&&!(e===Cp&&!i)||$P(e)&&!Pp(e)&&t===mg||e===Cp&&i}function uB(t){return ju(t)&&t!==dg&&!Pp(t)&&t!==z2&&t!==J2&&t!==Cp&&t!==jP&&t!==UP&&t!==WP&&t!==GP&&t!==HP&&t!==mg&&t!==Y2&&t!==K2&&t!==W2&&t!==tB&&t!==X2&&t!==Q2&&t!==$2&&t!==G2&&t!==H2&&t!==Z2&&t!==eB}function cB(t){return!Pp(t)&&t!==Cp}function Uu(t,e){var n=t.charCodeAt(e),r;return n>=55296&&n<=56319&&e+1<t.length&&(r=t.charCodeAt(e+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}function zP(t){var e=/^\n* /;return e.test(t)}var XP=1,gg=2,QP=3,JP=4,Pl=5;function fB(t,e,n,r,i,s,a,o){var l,u=0,c=null,f=!1,d=!1,m=r!==-1,p=-1,h=uB(Uu(t,0))&&cB(Uu(t,t.length-1));if(e||a)for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=Uu(t,l),!ju(u))return Pl;h=h&&KP(u,c,o),c=u}else{for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=Uu(t,l),u===qu)f=!0,m&&(d=d||l-p-1>r&&t[p+1]!==" ",p=l);else if(!ju(u))return Pl;h=h&&KP(u,c,o),c=u}d=d||m&&l-p-1>r&&t[p+1]!==" "}return!f&&!d?h&&!a&&!i(t)?XP:s===Vu?Pl:gg:n>9&&zP(t)?Pl:a?s===Vu?Pl:gg:d?JP:QP}function pB(t,e,n,r,i){t.dump=function(){if(e.length===0)return t.quotingType===Vu?'""':"''";if(!t.noCompatMode&&(nB.indexOf(e)!==-1||rB.test(e)))return t.quotingType===Vu?'"'+e+'"':"'"+e+"'";var s=t.indent*Math.max(1,n),a=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-s),o=r||t.flowLevel>-1&&n>=t.flowLevel;function l(u){return lB(t,u)}switch(fB(e,o,t.indent,a,l,t.quotingType,t.forceQuotes&&!r,i)){case XP:return e;case gg:return"'"+e.replace(/'/g,"''")+"'";case QP:return"|"+ZP(e,t.indent)+eD(YP(e,s));case JP:return">"+ZP(e,t.indent)+eD(YP(dB(e,a),s));case Pl:return'"'+mB(e)+'"';default:throw new ir("impossible error: invalid scalar style")}}()}function ZP(t,e){var n=zP(t)?String(e):"",r=t[t.length-1]===`
`,i=r&&(t[t.length-2]===`
`||t===`
`),s=i?"+":r?"":"-";return n+s+`
`}function eD(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function dB(t,e){for(var n=/(\n+)([^\n]*)/g,r=function(){var u=t.indexOf(`
`);return u=u!==-1?u:t.length,n.lastIndex=u,tD(t.slice(0,u),e)}(),i=t[0]===`
`||t[0]===" ",s,a;a=n.exec(t);){var o=a[1],l=a[2];s=l[0]===" ",r+=o+(!i&&!s&&l!==""?`
`:"")+tD(l,e),i=s}return r}function tD(t,e){if(t===""||t[0]===" ")return t;for(var n=/ [^ ]/g,r,i=0,s,a=0,o=0,l="";r=n.exec(t);)o=r.index,o-i>e&&(s=a>i?a:o,l+=`
`+t.slice(i,s),i=s+1),a=o;return l+=`
`,t.length-i>e&&a>i?l+=t.slice(i,a)+`
`+t.slice(a+1):l+=t.slice(i),l.slice(1)}function mB(t){for(var e="",n=0,r,i=0;i<t.length;n>=65536?i+=2:i++)n=Uu(t,i),r=Wn[n],!r&&ju(n)?(e+=t[i],n>=65536&&(e+=t[i+1])):e+=r||sB(n);return e}function hB(t,e,n){var r="",i=t.tag,s,a,o;for(s=0,a=n.length;s<a;s+=1)o=n[s],t.replacer&&(o=t.replacer.call(n,String(s),o)),(ys(t,e,o,!1,!1)||typeof o=="undefined"&&ys(t,e,null,!1,!1))&&(r!==""&&(r+=","+(t.condenseFlow?"":" ")),r+=t.dump);t.tag=i,t.dump="["+r+"]"}function nD(t,e,n,r){var i="",s=t.tag,a,o,l;for(a=0,o=n.length;a<o;a+=1)l=n[a],t.replacer&&(l=t.replacer.call(n,String(a),l)),(ys(t,e+1,l,!0,!0,!1,!0)||typeof l=="undefined"&&ys(t,e+1,null,!0,!0,!1,!0))&&((!r||i!=="")&&(i+=hg(t,e)),t.dump&&qu===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=s,t.dump=i||"[]"}function gB(t,e,n){var r="",i=t.tag,s=Object.keys(n),a,o,l,u,c;for(a=0,o=s.length;a<o;a+=1)c="",r!==""&&(c+=", "),t.condenseFlow&&(c+='"'),l=s[a],u=n[l],t.replacer&&(u=t.replacer.call(n,l,u)),!!ys(t,e,l,!1,!1)&&(t.dump.length>1024&&(c+="? "),c+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),!!ys(t,e,u,!1,!1)&&(c+=t.dump,r+=c));t.tag=i,t.dump="{"+r+"}"}function _B(t,e,n,r){var i="",s=t.tag,a=Object.keys(n),o,l,u,c,f,d;if(t.sortKeys===!0)a.sort();else if(typeof t.sortKeys=="function")a.sort(t.sortKeys);else if(t.sortKeys)throw new ir("sortKeys must be a boolean or a function");for(o=0,l=a.length;o<l;o+=1)d="",(!r||i!=="")&&(d+=hg(t,e)),u=a[o],c=n[u],t.replacer&&(c=t.replacer.call(n,u,c)),!!ys(t,e+1,u,!0,!0,!0)&&(f=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,f&&(t.dump&&qu===t.dump.charCodeAt(0)?d+="?":d+="? "),d+=t.dump,f&&(d+=hg(t,e)),!!ys(t,e+1,c,!0,f)&&(t.dump&&qu===t.dump.charCodeAt(0)?d+=":":d+=": ",d+=t.dump,i+=d));t.tag=s,t.dump=i||"{}"}function rD(t,e,n){var r,i,s,a,o,l;for(i=n?t.explicitTypes:t.implicitTypes,s=0,a=i.length;s<a;s+=1)if(o=i[s],(o.instanceOf||o.predicate)&&(!o.instanceOf||typeof e=="object"&&e instanceof o.instanceOf)&&(!o.predicate||o.predicate(e))){if(n?o.multi&&o.representName?t.tag=o.representName(e):t.tag=o.tag:t.tag="?",o.represent){if(l=t.styleMap[o.tag]||o.defaultStyle,qP.call(o.represent)==="[object Function]")r=o.represent(e,l);else if(VP.call(o.represent,l))r=o.represent[l](e,l);else throw new ir("!<"+o.tag+'> tag resolver accepts not "'+l+'" style');t.dump=r}return!0}return!1}function ys(t,e,n,r,i,s,a){t.tag=null,t.dump=n,rD(t,n,!1)||rD(t,n,!0);var o=qP.call(t.dump),l=r,u;r&&(r=t.flowLevel<0||t.flowLevel>e);var c=o==="[object Object]"||o==="[object Array]",f,d;if(c&&(f=t.duplicates.indexOf(n),d=f!==-1),(t.tag!==null&&t.tag!=="?"||d||t.indent!==2&&e>0)&&(i=!1),d&&t.usedDuplicates[f])t.dump="*ref_"+f;else{if(c&&d&&!t.usedDuplicates[f]&&(t.usedDuplicates[f]=!0),o==="[object Object]")r&&Object.keys(t.dump).length!==0?(_B(t,e,t.dump,i),d&&(t.dump="&ref_"+f+t.dump)):(gB(t,e,t.dump),d&&(t.dump="&ref_"+f+" "+t.dump));else if(o==="[object Array]")r&&t.dump.length!==0?(t.noArrayIndent&&!a&&e>0?nD(t,e-1,t.dump,i):nD(t,e,t.dump,i),d&&(t.dump="&ref_"+f+t.dump)):(hB(t,e,t.dump),d&&(t.dump="&ref_"+f+" "+t.dump));else if(o==="[object String]")t.tag!=="?"&&pB(t,t.dump,e,s,l);else{if(o==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new ir("unacceptable kind of an object to dump "+o)}t.tag!==null&&t.tag!=="?"&&(u=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",t.dump=u+" "+t.dump)}return!0}function yB(t,e){var n=[],r=[],i,s;for(_g(t,n,r),i=0,s=r.length;i<s;i+=1)e.duplicates.push(n[r[i]]);e.usedDuplicates=new Array(s)}function _g(t,e,n){var r,i,s;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)n.indexOf(i)===-1&&n.push(i);else if(e.push(t),Array.isArray(t))for(i=0,s=t.length;i<s;i+=1)_g(t[i],e,n);else for(r=Object.keys(t),i=0,s=r.length;i<s;i+=1)_g(t[r[i]],e,n)}function bB(t,e){e=e||{};var n=new oB(e);n.noRefs||yB(t,n);var r=t;return n.replacer&&(r=n.replacer.call({"":r},"",r)),ys(n,0,r,!0,!0)?n.dump+`
`:""}var TB=bB,vB={dump:TB};function yg(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var Dl=BP.load,Mse=BP.loadAll,iD=vB.dump,sD=ir;var Bse=yg("safeLoad","load"),qse=yg("safeLoadAll","loadAll"),Vse=yg("safeDump","dump");var Tg=class{constructor(){this.yamlData=null}isInClassParmaeter(e){let n=null;return e instanceof ht&&e.logicBranches.length>0&&e.logicBranches[0].head!=null?n=e.logicBranches[0].head:e instanceof K&&(n=e),n!=null&&n.fragmentPosition==1&&n.fragmentParameter!=null&&n.fragmentParameter.name.toLowerCase()=="class"}getPrefix(e){if(e.prev==null||!(e.prev instanceof st)||e.prev.content.trimRight().length!=e.prev.content.length)return"";let n=e.prev.content.split('"');if(n.length==0)return"";let r=n[n.length-1].split(" ");return r.length==0?"":r[r.length-1].trim()}getSuffix(e){if(e.next==null||!(e.next instanceof st)||e.next.content.trimLeft().length!=e.next.content.length)return"";let n=e.next.content.split('"');if(n.length==0)return"";let r=n[0].split(" ");return r.length==0?"":r[0].trim()}analyze(e){let n=e.getDocumentParser().getRenderNodes();if(e.hasFrontMatter())try{this.yamlData=Dl(e.getFrontMatter())}catch{}return this.analyzeNodes(n)}analyzeNodes(e){let n=[];return e.forEach(r=>{var l;let i=[],s=[],a="",o="";if(this.isInClassParmaeter(r)){let u=[];if(r instanceof ht){if(r.logicBranches.length==0)return;let c=r.logicBranches[0],f=r.logicBranches[r.logicBranches.length-1];if(c.head==null||f.head==null||f.head.isClosedBy==null)return;let d=f.head.isClosedBy,m=c.head;a=this.getPrefix(m),o=this.getSuffix(d),r.logicBranches.forEach(p=>{if(p.head==null||p.head.children.length!=2||!(p.head.children[0]instanceof st))return;let h=p.head.children[0].content;h.trim().length==h.length&&(u.includes(h)||u.push(h))})}else if(r instanceof K){if(r.isPaired()){n=n.concat(this.analyzeNodes(r.getStructuralChildren()));return}a=this.getPrefix(r),o=this.getSuffix(r)}if(this.yamlData!=null&&u.length==0&&a.length+o.length>0&&((l=r.getParser())==null?void 0:l.getLanguageParser()).getCreatedVariables().forEach(d=>{if(d.variableReference==null||d.variableReference.pathParts.length!=3||!(d.variableReference.pathParts[0]instanceof Bn)||!(d.variableReference.pathParts[1]instanceof Bn)||!(d.variableReference.pathParts[2]instanceof Gi))return;let m=d.variableReference.pathParts[0],p=d.variableReference.pathParts[1];if(m.name!="view"||typeof this.yamlData[p.name]=="undefined")return;let h=this.yamlData[p.name],_=[],g=Object.keys(h),b=!0;for(let y=0;y<g.length;y++){let T=h[g[y]];if(typeof T!="string"){b=!1;break}_.push(T)}b&&_.forEach(y=>{u.includes(y)||u.push(y)})}),u.length==0&&a.length+o.length>0){let c="/";a.length>0&&(c+=a),c+="(.*)",o.length>0&&(c+=o),c+="/",s.push(c)}else u.length>0&&u.forEach(c=>{let f=`${a}${c}${o}`;i.push(f)})}else r instanceof K&&r.isPaired()&&(n=n.concat(this.analyzeNodes(r.getImmediateChildren())));(o.length>0||a.length>0)&&(i.length>0||s.length>0)&&n.push({classNames:i,patterns:s,node:r,suffix:o,prefix:a})}),n}};var Dp=le(require("fs")),NB={checkDocument(t,e){var s;if(e.diagnostics.warnOnDynamicCssClassNames==!1)return[];let n=[],r=new Tg().analyze(t);if(r.length==0)return n;let i="";if((s=Ie.instance)==null?void 0:s.hasStructure()){let a=Ie.instance.getStructure().getProjectRoot(),o=[];o.push(a+"tailwind.config.js"),o.push(a+"webpack.mix.js"),o.push(a+"webpack.config.js");for(let l=0;l<o.length;l++)if(Dp.existsSync(o[l])){i=Dp.readFileSync(o[l],{encoding:"utf8"});break}}return r.forEach(a=>{let o=a.classNames.concat(a.patterns),l=j.makeSyntaxError(P.LINT_DYNAMIC_CLASS_NAMES_POSSIBLE_PURGE,a.node,`Dynamic CSS class name generation detected. Some build tools, like PurgeCSS, may not be able to find these classes. It is recommended to use full class names, or configure a class safelist.
    
Possible Classes: ${o.join(", ")}`,1),u=!0;if(i.trim().length>0){u=!1;for(let d=0;d<o.length;d++)if(i.includes(o[d])==!1){u=!0;break}}if(!u)return;let c=Ot(a.node.startPosition),f=Ot(a.node.endPosition);if(a.node instanceof ht){if(a.node.logicBranches.length>0){let d=a.node.logicBranches[0],m=a.node.logicBranches[a.node.logicBranches.length-1];d.head!=null&&m.head!=null&&m.head.isClosedBy!=null&&(c=Ot(d.head.startPosition),f=Ot(m.head.isClosedBy.endPosition))}}else a.node instanceof K&&(c=Ot(a.node.startPosition),f=Ot(a.node.endPosition));c.character=c.character-a.prefix.length-1,f.character=f.character+a.suffix.length,l.lsRange={start:c,end:f},l.data=a,n.push(l)}),n}},aD=NB;var CB={checkDocument(t){let e=[];return t.hasFrontMatter()&&t.getContent().trim().length==0&&e.push(j.makeSyntaxError(P.LINT_FRONT_MATTER_EMPTY_DOCUMENT,null,'Empty document content with Front Matter will result in "[ErrorException] Undefined index: content".')),e}},oD=CB;function lD(t){let e=t.split(/\r?\n/),n=[];return e.forEach(r=>{let i=r.split("|");if(i.length==1)n.push(r);else if(i.length>1){let s=i[0];if(parseInt(s.trim()).toString()==s.trim()){let a=parseInt(s)+1;i.shift();let o=i.join("|"),l=" ".repeat(s.length-a.toString().length);n.push(l+a.toString()+"|"+o)}else n.push(r)}}),n.join(`
`)}var PB={checkDocument(t){let e=[];if(t.hasFrontMatter()){let n=t.getFrontMatter();try{Dl(n,{onWarning:r=>{let i=new cn,s=new cn;i.line=r.mark.line+2,i.char=r.mark.column,s.line=r.mark.line+2,s.char=r.mark.snippet.length+r.mark.column;let a={start:i,end:s},o=new j;o.errorCode=P.LINT_INVALID_FRONT_MATTER,o.level=1,o.message=lD(r.message),o.range=a,e.push(o)}})}catch(r){if(r instanceof sD){let i=new cn,s=new cn;i.line=r.mark.line+2,i.char=r.mark.column,s.line=r.mark.line+2,s.char=r.mark.snippet.length+r.mark.column;let a={start:i,end:s},o=new j;o.errorCode=P.LINT_INVALID_FRONT_MATTER,o.level=0,o.message=lD(r.message),o.range=a,e.push(o)}}}return e}},uD=PB;var DB={checkDocument(t){let e=[];return t.getAllAntlersNodes().forEach(n=>{var r,i;if(n.isTagNode&&n.name!=null&&n.getTagName()=="partial"){let s=Uo(n);if(s==null)return;let a=(i=(r=Ie.instance)==null?void 0:r.getStructure())==null?void 0:i.findRelativeView(s);if(typeof a=="undefined"||a==null)return;a.documentUri==t.documentUri&&n.findParentOfType(["if","elseif","else"])==null&&e.push(j.makeSyntaxError(P.LINT_POSSIBLE_PARTIAL_RECURSION,n,"Possible partial recursion detected",1))}}),e}},cD=DB;var fD=[oD,uD,cD,aD];var SB=["dump","dd","ddd"],IB={checkNode(t){let e=t.getTagName(),n=[];return SB.includes(e)&&n.push(j.makeSyntaxError(P.LINT_DEBUG_DATA_EXPOSED,t,e+" exposes data and should be removed after debugging.",1)),t.modifiers.hasModifier("dump")&&n.push(j.makeSyntaxError(P.LINT_DEBUG_DATA_EXPOSED,t,"dump modifier exposes data and should be removed after debugging.",1)),n}},pD=IB;var EB={checkNode(t){let e=[];if(t.modifiers==null)return e;let n=[];if(t.modifiers.hasParameterModifiers())for(let r=0;r<t.modifiers.parameterModifiers.length;r++){let i=t.modifiers.parameterModifiers[r];i.refId!=null&&n.includes(i.refId)==!1&&i.modifier!=null&&i.modifier.isDeprecated&&(e.push(j.makeSyntaxError(P.LINT_DEPRECATED_MODIFIER,t.modifiers.parameterModifiers[r],vg(i.modifier),1)),n.push(i.refId))}if(t.modifiers.hasShorthandModifiers()&&t.modifierChain!=null)for(let r=0;r<t.modifierChain.modifierChain.length;r++){let i=t.modifierChain.modifierChain[r];i.refId!=null&&n.includes(i.refId)==!1&&i.modifier!=null&&i.modifier.isDeprecated&&(e.push(j.makeSyntaxError(P.LINT_DEPRECATED_MODIFIER,i,vg(i.modifier),1)),n.push(i.refId))}if(t.runtimeNodes!=null&&t.runtimeNodes.length>0)for(let r=0;r<t.runtimeNodes.length;r++){let i=t.runtimeNodes[r];if(i.modifierChain!=null)for(let s=0;s<i.modifierChain.modifierChain.length;s++){let a=i.modifierChain.modifierChain[s];a.refId!=null&&n.includes(a.refId)==!1&&a.modifier!=null&&a.modifier.isDeprecated&&(e.push(j.makeSyntaxError(P.LINT_DEPRECATED_MODIFIER,a,vg(a.modifier),1)),n.push(a.refId))}}return e}};function vg(t){return t.getDeprecatedMessage!=null?t.getDeprecatedMessage():`${t.name} is deprecated.`}var dD=EB;var AB={checkNode(t){let e=[];return t.runtimeName().includes("::")&&e.push(j.makeSyntaxError(P.LINT_DOUBLE_COLON_IN_TAG_IDENTIFIER,t,":: in tag part leads to ErrorException call_user_func() runtime exception.",1)),e}},mD=AB;var xB={checkNode(t){let e=[];return t.modifiers!=null&&t.modifiers.hasMixedModifierStyles&&e.push(j.makeSyntaxError(P.LINT_MIXED_MODIFIERS,t,"Mixed modifier styles is not supported",0)),e}},hD=xB;var RB={checkNode(t){let e=[];if(t.modifiers==null)return e;let n=[];if(t.modifiers.hasParameterModifiers()){let r=null;for(let i=0;i<t.modifiers.parameterModifiers.length;i++){let s=t.modifiers.parameterModifiers[i];if(r==null){r=s;continue}if(r!=null&&r.modifier!=null&&s.modifier!=null){if(r.modifier.returnsType.includes("*")||s.modifier.acceptsType.includes("*"))continue;{let a=r.modifier.returnsType,o="void",l="void",u=s.modifier.acceptsType.some(c=>a.includes(c));if(a.length>0&&(o=a[a.length-1]),s.modifier.acceptsType.length>0&&(l=s.modifier.acceptsType[0]),!u){e.push(j.makeSyntaxError(P.LINT_MODIFIER_UNEXPECTED_TYPE,s,"Unexpected type supplied to modifier "+s.name+". Expected "+l+" got "+o+".",1));break}}}}}if(t.modifiers.hasShorthandModifiers()&&t.modifierChain!=null){let r=null;for(let i=0;i<t.modifierChain.modifierChain.length;i++){let s=t.modifierChain.modifierChain[i];if(r==null){r=s;continue}if(r!=null&&r.modifier!=null&&s.modifier!=null){if(r.modifier.returnsType.includes("*")||s.modifier.acceptsType.includes("*"))continue;{let a=r.modifier.returnsType,o="void",l="void",u=s.modifier.acceptsType.some(c=>a.includes(c));if(a.length>0&&(o=a[a.length-1]),s.modifier.acceptsType.length>0&&(l=s.modifier.acceptsType[0]),!u){s.refId!=null&&!n.includes(s.refId)&&(e.push(j.makeSyntaxError(P.LINT_MODIFIER_UNEXPECTED_TYPE,s,"Unexpected type supplied to modifier "+s.name+". Expected "+l+" got "+o+".",1)),n.push(s.refId));break}}}}}if(t.runtimeNodes!=null&&t.runtimeNodes.length>0)for(let r=0;r<t.runtimeNodes.length;r++){let i=t.runtimeNodes[r],s=null;if(i.modifierChain!=null)for(let a=0;a<i.modifierChain.modifierChain.length;a++){let o=i.modifierChain.modifierChain[a];if(s==null){s=o;continue}if(s!=null&&s.modifier!=null&&o.modifier!=null){if(s.modifier.returnsType.includes("*")||o.modifier.acceptsType.includes("*"))continue;{let l=s.modifier.returnsType,u="void",c="void",f=o.modifier.acceptsType.some(d=>l.includes(d));if(l.length>0&&(u=l[l.length-1]),o.modifier.acceptsType.length>0&&(c=o.modifier.acceptsType[0]),!f){o.refId!=null&&n.includes(o.refId)==!1&&(e.push(j.makeSyntaxError(P.LINT_MODIFIER_UNEXPECTED_TYPE,o,"Unexpected type supplied to modifier "+o.name+". Expected "+c+" got "+u+".",1)),n.push(o.refId));break}}}}}return e}},gD=RB;var _D={warnUnknownParameters:!1};var Ng=class{static validateInteger(e){return parseInt(e).toString()!==e?{isValid:!1,message:'"'+e+'" is not a valid integer.'}:{isValid:!0,message:""}}static validateBoolean(e){return e=="true"||e=="false"?{isValid:!0,message:""}:{isValid:!1,message:'"'+e+'" is not a valid value. Expecting true/false.'}}static validateParameters(e){var r,i,s,a,o;let n=[];if(e.isTagNode&&((r=Ue.instance)==null?void 0:r.isKnownTag(e.runtimeName()))){let l=(i=Ue.instance)==null?void 0:i.findTag(e.runtimeName());if(e.hasParameters)for(let u=0;u<e.parameters.length;u++){let c=e.parameters[u],f=null,d=!1,m=c.name.trim();if(!c.isVariableReference)if(m=Br(m,":"),((s=Ue.instance)==null?void 0:s.canResolveDynamicParameter(e.runtimeName()))&&typeof l.resolveDynamicParameter!="undefined"&&l.resolveDynamicParameter!=null?(f=l.resolveDynamicParameter(e,m),d=!0):f=(a=Ue.instance)==null?void 0:a.getParameter(e.runtimeName(),m),d&&f==null&&(f=(o=Ue.instance)==null?void 0:o.getParameter(e.runtimeName(),m)),f==null){if(_D.warnUnknownParameters){let p="";if(l.suggestAlternativeParams!=null){let _=l.suggestAlternativeParams(m);_.length==1?p='. Did you mean "'+_[0]+'"?':_.length>1&&(p=". Try one of the following: "+_.join(", "))}let h='Unknown parameter name: "'+m+'"'+p;n.push(j.makeSyntaxError(P.LINT_UNKNOWN_PARAMETER,e,h,1))}}else if(f.validate!=null){let p=f.validate(e,c);p.length>0&&p.forEach(h=>{n.push(j.makeSyntaxError(P.LINT_GENERAL_INVALID_PARAMETER_CONTENTS,c,h.message,1))})}else{if(c.hasInterpolations())continue;for(let p=0;p<f.expectsTypes.length;p++){let h=f.expectsTypes[p];if(h=="integer"){let _=this.validateInteger(c.value);_.isValid||n.push(j.makeSyntaxError(P.LINT_PARAMETER_CONTENT_INVALID_INTEGER,c,_.message,1))}else if(h=="boolean"){let _=this.validateBoolean(c.value);if(f.name=="paginate"){if(c.value=="true"||c.value=="false")continue;if(parseInt(c.value).toString()!=c.value){let g='Unexpected "'+c.value+'". Expecting a numeric value, or true/false.';n.push(j.makeSyntaxError(P.LINT_PAGINATE_INVALID_VALUE,c,g,0))}}else _.isValid||n.push(j.makeSyntaxError(P.LINT_PARAMETER_CONTENT_INVALID_BOOLEAN,c,_.message,1))}}}}}return n}};var wB={checkNode(t,e){return e.diagnostics.validateTagParameters==!1?[]:Ng.validateParameters(t)}},yD=wB;var OB={checkNode(t){var n,r;let e=[];if(t.isTagNode&&t.name!=null&&t.getTagName()=="partial"){let i=Uo(t);if(i==null)return e;let s=(r=(n=Ie.instance)==null?void 0:n.getStructure())==null?void 0:r.findRelativeView(i);if(typeof s=="undefined"||s==null)return e;s.injectsParameters.length>0&&s.injectsParameters.forEach(a=>{a.isRequired&&!t.hasParameter(a.name)&&e.push(j.makeSyntaxError(P.LINT_MISSING_REQUIRED_PARAMETER,t,"Missing required parameter: "+a.name,0))})}return e}},bD=OB;var FB={checkNode(t){let e=[];return t.isTagNode&&t.name!=null&&t.getTagName()=="relate"&&e.push(j.makeSyntaxError(P.LINT_REMOVE_RELATE_TAG,t,"The `relate` tag is not necessary here, and can be removed.",1)),e}},TD=FB;var LB={checkNode(t){let e=[];if(Js.languageVersion=="runtime")return[];if(t.isClosedBy!=null&&t.modifierChain!=null){let n=t.content.trim(),r=t.isClosedBy.content.trim(),i="/"+n;r!=i&&(e.push(j.makeSyntaxError(P.LINT_SHORTHAND_MODIFIER_TAG_MUST_MATCH,t,"Closing tags must match exactly when using shorthand modifiers in tag pairs.",0)),e.push(j.makeSyntaxError(P.LINT_SHORTHAND_MODIFIER_TAG_MUST_MATCH,t.isClosedBy,'Closing tags must match exactly when using shorthand modifiers in tag pairs. Expecting: "'+i+'".',0)))}return e}},vD=LB;var BD=le(Vg()),_q={checkNode(t){var i,s,a;let e=[];if(t.isOpenedBy!=null||!((i=Ie.instance)==null?void 0:i.hasStructure()))return e;let n=Ie.instance.getStructure().getStatamicVersion();if(n==null||n.trim().length==0||!((s=Ue.instance)==null?void 0:s.isKnownTag(t.runtimeName())))return e;let r=(a=Ue.instance)==null?void 0:a.findTag(t.runtimeName());if((r==null?void 0:r.introducedIn)==null)return e;try{BD.lt(n,r.introducedIn)&&e.push(j.makeSyntaxError(P.LINT_VERSION_NOT_COMPATIBLE,t,t.runtimeName()+" requires at least Statamic "+r.introducedIn+". Current project version: "+n,1))}catch{}return e}},qD=_q;var yq={checkNode(t){let e=[];return t.isTagNode&&t.getTagName()=="set"&&e.push(j.makeSyntaxError(P.LINT_SET_PRODUCES_RUNTIME_ERROR,t,'`set` tag will produce "array_merge(): Expected parameter 1 to be an array, object given" runtime exception.')),e}},VD=yq;var bq=[pD,hD,gD,dD,mD,TD,VD,vD,qD,gp,bD,yD],jD=bq;var na=class{constructor(){this.fileDiagnostics=new Map;this.handlers=[];this.docHandlers=[]}registerHandler(e){this.handlers.push(e)}registerDocumentHandler(e){this.docHandlers.push(e)}registerDocumentHandlers(e){for(let n=0;n<e.length;n++)this.registerDocumentHandler(e[n])}registerHandlers(e){for(let n=0;n<e.length;n++)this.registerHandler(e[n])}registerCoreHandlers(){this.registerHandlers(jD),this.registerDocumentHandlers(fD)}hasDiagnosticsIssues(e){return this.fileDiagnostics.has(e)==!1?!1:this.fileDiagnostics.get(e).length>0}registerDiagnostics(e,n){this.fileDiagnostics.set(e,n)}clearIssues(e){this.fileDiagnostics.set(e,[])}getDiagnostics(e){return this.hasDiagnosticsIssues(e)?this.fileDiagnostics.get(e):[]}checkDocument(e){let n=[],r=ra();return this.docHandlers.forEach(i=>{i.checkDocument(e,r).forEach(s=>{n.push(s)})}),n}checkNode(e){let n=[];if(e.isComment)return n;let r=ra();return this.handlers.forEach(i=>{i.checkNode(e,r).forEach(s=>{n.push(s)})}),n}getAllDiagnostics(){let e=[];return this.fileDiagnostics.forEach((n,r)=>{for(let i=0;i<n.length;i++)e.push(n[i])}),e}};na.instance=null;(typeof na.instance=="undefined"||na.instance==null)&&(na.instance=new na,na.instance.registerCoreHandlers());var Ar=na;var JD=le(Cn());var Rl=le(Cn());var vq=jg();function Ts(t){return t.split("\\").join("/")}function WD(t){let e=vq(decodeURIComponent(t));return Ts(e)}var GD=le(require("fs")),HD=le(require("path"));var Wg=class{constructor(){this.activeRequest=null}getName(e){return"Extract to Partial"}canHandle(e){return e.selectedText.trim().length>0}refactor(e){this.activeRequest=e,Wg.currentAction=this;let n=this.getName(e);return[Rl.CodeAction.create(n+"...",Rl.Command.create(n,"antlers.extractToPartial",e.documentUri),Rl.CodeActionKind.RefactorExtract)]}completeRefactor(e){var r;let n=(r=Ie.instance)==null?void 0:r.getStructure();if(n!=null&&this.activeRequest!=null){let i=Ts(n.getViewPath()),s=Ts(e.fsPath);if(s.startsWith(i)){GD.writeFileSync(e.fsPath,this.activeRequest.selectedText);let a=s.substring(i.length),o=HD.basename(s);o.startsWith("_")&&(o=o.substr(1)),a=a.substr(0,a.length-o.length),o.endsWith(".antlers.html")?o=o.substring(0,o.length-13):o.endsWith(".antlers.xml")||o.endsWith("antlers.php")?o=o.substring(0,o.length-12):o.endsWith(".blade.php")?o=o.substring(0,o.length-10):o.endsWith(".html")&&(o=o.substring(0,o.length-5)),a.length>1&&a.endsWith("/")==!1&&(a=a+"/");let l="{{ partial:"+a+o+" }}",u={range:this.activeRequest.actionParams.range,newText:l},c={changes:{[this.activeRequest.actionParams.textDocument.uri]:[u]}};YD(c)}}}},Ug=Wg;Ug.currentAction=null;var $u=Ug;var $D=le(Cn());var Mp=class{static isFlatCondition(e){var i;if(e.chain.length>1&&((i=e.logicBranches[1].head)==null?void 0:i.getTagName())!="else")return!1;let n=e.logicBranches[0].nodes,r=!1;for(let s=0;s<n.length;s++)if(n[s]instanceof ht){r=!0;break}if(r)for(let s=0;s<n.length;s++){let a=n[s];if(a instanceof st&&a.content.trim().length!=0)return!1}for(let s=0;s<n.length;s++){let a=n[s];if(a instanceof ht&&!Mp.isFlatCondition(a)||a instanceof K&&!yn.isConditionalStructure(a)&&a.isClosingTag)return!1}return!0}static getCleanChildren(e){let n=[],r=[];for(let i=0;i<e.nodes.length;i++){let s=e.nodes[i];if(s.startPosition==null)break;if(!r.includes(s.startPosition.index))s instanceof st?s.content.trim().length>0&&n.push(s):n.push(s),r.push(s.startPosition.index);else break}return n.pop(),n}static unwrapFlattenedConditions(e){let n={body:[],conditions:[]};return e.logicBranches.forEach(r=>{if(r.head==null)return;n.conditions.push(r.head);let i=this.getCleanChildren(r);if(i.length==1&&i[0]instanceof ht){let s=this.unwrapFlattenedConditions(i[0]);n.conditions=n.conditions.concat(s.conditions),n.body=n.body.concat(s.body)}else i.length==1?n.body.push(i[0]):i.forEach(s=>{if(s instanceof ht){let a=this.unwrapFlattenedConditions(s);n.conditions=n.conditions.concat(a.conditions),n.body=n.body.concat(a.body)}else{if(s instanceof K&&yn.isConditionalStructure(s))return;n.body.push(s)}})}),n}},Bp=Mp;var qp=class{constructor(e){this.refactoredStyle=0;this.params=e}isSimpleElse(e){var n;return e.logicBranches.length==2&&((n=e.logicBranches[1].head)==null?void 0:n.getTagName())=="else"}getRefactorMode(){return this.refactoredStyle}refactor(e){let n="";return this.params.refactorNested?(n=this.createdNestedGatekeeper(e),this.refactoredStyle=1):e.logicBranches.length==1?(n=this.createGatekeeper(e),this.refactoredStyle=1):this.isSimpleElse(e)&&(n=this.createTernary(e),this.refactoredStyle=0),this.params.isInInterpolation?"{"+n+"}":"{{ "+n+" }}"}createdNestedGatekeeper(e){let n=Bp.unwrapFlattenedConditions(e),r=[],i=[];n.conditions.forEach(o=>{let l=o.getContent().trim();o.runtimeNodes.length>1&&(l.startsWith("(")==!1&&(l="("+l),l.endsWith(")")==!1&&(l=l+")"),this.shouldAddEndingParenthesis(o)&&(l+=")")),r.push(l)}),n.body.forEach(o=>{o instanceof K?i.push(o.getNodeDocumentText()):o instanceof st&&i.push(o.content)}),i.length>0&&(i[0]=i[0].trimLeft(),i[i.length-1]=i[i.length-1].trimRight());let s=r.join(" && "),a=i.join("");return"("+s+") ?= "+this.convertToString(a)}convertToString(e){let n=e;return n=Yt(n,"{{","{"),n=Yt(n,"}}","}"),"'"+Yt(n,"'","\\'")+"'"}createTernary(e){var l;let n=e.logicBranches[0].head,r=e.logicBranches[1].head,i=this.convertToString((l=n.getInnerDocumentText())!=null?l:""),s=this.convertToString(r.getInnerDocumentText()),o=n.getContent().trim();return o.startsWith("(")==!1&&(o="("+o),o.endsWith(")")==!1&&(o=o+")"),this.shouldAddEndingParenthesis(n)&&(o+=")"),o+" ? "+i+" : "+s}shouldAddEndingParenthesis(e){return e.originalNode==null?!1:e.originalNode.getTagName()=="unless"}createGatekeeper(e){var a;let n=e.logicBranches[0].head,r=(a=n.getInnerDocumentText())!=null?a:"",i=this.convertToString(r),s="";return n.runtimeNodes.length>1?s="("+n.getContent().trim()+")":s=n.getContent(),s.trim()+" ?= "+i}};var KD=class{constructor(){this.condition=null;this.isNestedConditions=!1;this.refactorStyle=0}getName(e){return this.refactorStyle==1?"Convert Condition to Gatekeeper operator":"Convert Condition to Ternary"}canHandle(e){if(e.selectedDocument.hasUnclosedStructures()||e.selectedDocument.hasUnclosedStructures()||e.selectedDocument.errors.hasAny())return!1;let n=e.selectedDocument.getAllAntlersNodes(),r=new sl,i=0,s=0;for(let o=0;o<n.length;o++)if(n[o].isClosingTag){if(yn.isConditionalStructure(n[o])){s+=1;continue}if(i+=1,i>1)return!1}let a=r.associate(n,e.ownerDocument.getDocumentParser());if(a.length==1&&a[0]instanceof ht){if(this.condition=a[0],this.isNestedConditions=!1,s>2){if(!Bp.isFlatCondition(this.condition))return this.isNestedConditions=!1,!1;this.isNestedConditions=!0}return!0}return!1}refactor(e){if(this.condition==null)return[];let n=[],r=!1;e.params.currentNode!=null&&e.params.currentNode.getTagName()!="if"&&(r=!0);let i=new qp({isInInterpolation:r,refactorNested:this.isNestedConditions}),s=i.refactor(this.condition);this.refactorStyle=i.getRefactorMode();let a={range:e.actionParams.range,newText:s};return n.push({title:this.getName(e),kind:$D.CodeActionKind.RefactorRewrite,edit:{changes:{[e.documentUri]:[a]}}}),n}},zD=KD;var XD=class{static getRefactors(e){let n=[],r=[];return r.push(new $u),r.push(new zD),r.forEach(i=>{i.canHandle(e)&&i.refactor(e).forEach(s=>{n.push(s)})}),n}},QD=XD;var Gg=[];function ZD(t){Gg=t}function eS(t){var f,d;if(((f=Ie.instance)==null?void 0:f.hasStructure())==!1)return[];We.refreshDocumentState();let e=decodeURIComponent(t.textDocument.uri);if(We.hasDocument(e)==!1)return[];if(!xi.has(e))return[];let n=t.range.start,r=ur(n,e,Js.showGeneralSnippetCompletions);if(r==null)return[];let i=xi.get(e),s=i.getText(t.range),a=It.fromText(s.trim()),o={params:r,selectedText:s,selectedDocument:a,ownerDocument:We.getDocument(e),documentUri:t.textDocument.uri,actionParams:t},l=QD.getRefactors(o),u=(d=Ar.instance)==null?void 0:d.getDiagnostics(e),c=[];return u!=null&&u.length>0&&(u==null||u.forEach(m=>{var p,h,_,g,b,y;if(m.errorCode==P.LINT_DYNAMIC_CLASS_NAMES_POSSIBLE_PURGE){let T=m.data;if(m.node instanceof ht){let C="";for(let H=0;H<m.node.logicBranches.length;H++){let G=m.node.logicBranches[H];H==m.node.logicBranches.length-1?(C+=`{{${(p=G.head)==null?void 0:p.getTrueNode().sourceContent}}}`,C+=`${T.prefix}${(h=G.head)==null?void 0:h.documentText}${T.suffix}`,C+=`{{${(g=(_=G.head)==null?void 0:_.isClosedBy)==null?void 0:g.getTrueNode().sourceContent}}}`):(C+=`{{${(b=G.head)==null?void 0:b.getTrueNode().sourceContent}}}`,C+=`${T.prefix}${(y=G.head)==null?void 0:y.documentText}${T.suffix}`)}let W={range:m.lsRange,newText:C},F=[];Gg.length>0&&Gg.forEach(H=>{H.range==m.lsRange&&F.push(H)});let L="";T.suffix.length>0&&T.prefix.length>0?L=`${T.prefix}...${T.suffix}`:T.suffix.length>0?L=`...${T.suffix}`:T.prefix.length>0&&(L=`${T.prefix}...`),T.classNames.length==1&&T.patterns.length==0&&(L=T.classNames[0]),l.push({title:"Dynamic CSS Class: "+L,kind:JD.CodeActionKind.QuickFix,diagnostics:F,edit:{changes:{[t.textDocument.uri]:[W]}}})}}})),l}function tS(t,e){let n=decodeURIComponent(t);We.createOrUpdate(n,e)}function Hg(t){let e=decodeURIComponent(t.uri);We.createOrUpdate(decodeURIComponent(t.uri),t.getText()),xi.set(e,t)}async function Yg(t,e){var i;let n=decodeURIComponent(t.uri);We.createOrUpdate(n,t.getText());let r=[];if(We.hasDocument(n)){let s=We.getDocument(n);if(yp(s.errors.all()).forEach(a=>{r.push(a)}),(i=Ar.instance)==null?void 0:i.hasDiagnosticsIssues(n)){let a=Ar.instance.getDiagnostics(n);yp(a).forEach(o=>{r.push(o)})}}ZD(r),e.sendDiagnostics({uri:t.uri,diagnostics:r}),Nq(t.uri,e)}function Nq(t,e){var n,r,i;if((n=Ie.instance)==null?void 0:n.hasStructure()){let s=Ie.instance.getStructure().getViews();for(let a=0;a<s.length;a++)if(s[a].documentUri!=t){let o=decodeURIComponent(s[a].documentUri);if((r=Ar.instance)==null?void 0:r.hasDiagnosticsIssues(o)){let l=[],u=(i=Ar.instance)==null?void 0:i.getDiagnostics(o);yp(u).forEach(c=>{l.push(c)}),e.sendDiagnostics({uri:s[a].originalDocumentUri,diagnostics:l})}}}}var nS=le(Vn());var Ku=null;function $g(t){Ku=t}function rS(t){let e=ra(),n=decodeURIComponent(t.textDocument.uri),r=Ku.format;if(e.formatterIgnoreExtensions.length>0){for(let i=0;i<e.formatterIgnoreExtensions.length;i++)if(n.toLowerCase().endsWith(e.formatterIgnoreExtensions[i].toLowerCase()))return null}if(We.hasDocument(n)&&xi.has(n)){let i=xi.get(n),s=i.getText(),a=It.fromText(s),o={htmlOptions:r,formatFrontMatter:e.formatFrontMatter,insertSpaces:t.options.insertSpaces,tabSize:t.options.tabSize,maxStatementsPerLine:3,formatExtensions:[]},l=new ia(o),u=l.formatDocument(a),c=i.positionAt(s.length);return[{range:{start:nS.Position.create(0,0),end:c},newText:u}]}return null}var iS=le(Vn());var Cq={activeSignature:null,activeParameter:null,signatures:[]};function sS(t){var r;let e=decodeURIComponent(t.textDocument.uri),n=ur(t.position,e);if(n!=null&&n.context!=null&&n.context.modifierContext!=null&&((r=tt.instance)==null?void 0:r.hasModifier(n.context.modifierContext.name))){let i=n.context.modifierContext.name,s=tt.instance.getModifier(i),a=[];s!=null&&s.parameters.forEach(l=>{a.push({label:l.name,documentation:l.description})});let o=n.context.modifierContext.activeValueIndex;return o>a.length&&(o=a.length-1),(o<0||a.length==0)&&(o=0),{signatures:[{label:s.name,documentation:{kind:iS.MarkupKind.Markdown,value:s.description},parameters:a,activeParameter:o}],activeParameter:o,activeSignature:0}}return Cq}var za=le(wt());var Kg=class{static getTypedHeader(e,n){let r="";return n.length>0&&(r=n.join(", ")),"**"+e+"** `"+r+"`  \n"}static formatParameterHover(e){let n=this.getTypedHeader(e.name,e.expectsTypes);if(n+=e.description,e.documentationLink!=null&&e.documentationLink.trim().length>0){n+=`  

`;let r="Documentation Reference]";e.docLinkName!=null&&e.docLinkName.trim().length>0&&(r=e.docLinkName.trim()),n+="["+r+"]("+e.documentationLink+")"}return{contents:{kind:za.MarkupKind.Markdown,value:n}}}static formatModifierHover(e){let n=this.getTypedHeader(e.name,e.acceptsType),r="";if(e.parameters.length>0){let s=[];e.parameters.forEach(a=>{s.push("$"+a.name)}),r=s.join(", ")}let i="";if(e.returnsType.length==1)i=e.returnsType[0];else{let s=[];e.returnsType.forEach(a=>{s.push(a)}),i=s.join(", ")}return n+=e.description+`
`,n+="```js\n",n+="function "+e.name+"("+r+"):"+i,n+="\n```",e.docLink!=null&&e.docLink.trim().length>0&&(n+=`  

`,n+="[Documentation Reference]("+e.docLink+")"),{contents:{kind:za.MarkupKind.Markdown,value:n}}}static formatBlueprintHover(e,n){let r="";return e.displayName!=null&&e.displayName.trim().length>0?r="**"+e.displayName+"** ("+e.name+`)

`:r="**"+e.name+`**

`,e.instructionText!=null&&(r+=e.instructionText+`

`),r+="**Blueprint**: "+e.blueprintName+`

`,r+="**Type**: "+e.type,e.maxItems!=null&&(r+=`

**Max Items**: `+e.maxItems),n!=null&&(r+=`

**From**: `+n.runtimeName()),{contents:{kind:za.MarkupKind.Markdown,value:r}}}static formatScopeVariableHover(e){if(e.sourceField!=null)return this.formatBlueprintHover(e.sourceField,e.introducedBy);let n="**"+e.name+`**

`;return n+="**Type**: "+e.dataType,e.introducedBy!=null&&(n+=`
**From**: `+e.introducedBy.runtimeName()),{contents:{kind:za.MarkupKind.Markdown,value:n}}}static getHover(e){var r,i,s,a,o,l,u,c,f;if(e==null||e.nodesInScope.length==0)return null;let n=e.nodesInScope[e.nodesInScope.length-1];if(e.context!=null&&e.context.node!=null&&(n=e.context.node),n!=null){if((r=Ue.instance)==null?void 0:r.isKnownTag(n.runtimeName())){let h=(i=Ue.instance)==null?void 0:i.findTag(n.runtimeName());if(e.context!=null&&e.context.isCursorInIdentifier&&typeof(h==null?void 0:h.resolveDocumentation)!="undefined"){let _=h.resolveDocumentation(e);if(_.trim().length>0)return{contents:{kind:za.MarkupKind.Markdown,value:_},range:{start:Ot(n.startPosition),end:Ot(n.endPosition)}}}if(h!=null&&((a=(s=e.context)==null?void 0:s.parameterContext)==null?void 0:a.parameter)!=null){let _=e.context.parameterContext.parameter,g=Ue.instance.getParameter(h.tagName,_.name);if(g!=null){if(typeof g.providesDocumentation!="undefined"){let b=g.providesDocumentation(e);if(b.trim().length>0)return{contents:{kind:za.MarkupKind.Markdown,value:b},range:{start:Ot(n.startPosition),end:Ot(n.endPosition)}}}return this.formatParameterHover(g)}else if(_.isModifierParameter&&_.modifier!=null)return this.formatModifierHover(_.modifier)}}if(((o=e.context)==null?void 0:o.parameterContext)!=null&&((u=(l=e.context)==null?void 0:l.parameterContext.parameter)==null?void 0:u.modifier)!=null)return this.formatModifierHover(e.context.parameterContext.parameter.modifier);if(((c=e.context)==null?void 0:c.modifierContext)!=null){let h=(f=tt.instance)==null?void 0:f.getModifier(e.context.modifierContext.name);if(h!=null)return this.formatModifierHover(h)}let d=e.position.line+1,m=e.position.character+1,p=e.antlersDocument.cursor.position(d,m);return n.scopeVariable!=null&&p!=null&&p.isWithin(n.startPosition,n.endPosition)?this.formatScopeVariableHover(n.scopeVariable):null}return null}};function aS(t){var r;if(((r=Ie.instance)==null?void 0:r.hasStructure())==!1)return null;let e=decodeURIComponent(t.textDocument.uri);if(We.hasDocument(e)==!1)return null;let n=ur(t.position,e);return Kg.getHover(n)}var zg=class{static findLocations(e,n){if(e==null||e.nodesInScope.length==0)return null;let r=e.nodesInScope[e.nodesInScope.length-1];if(e.context!=null&&e.context.node!=null&&(r=e.context.node),r!=null&&r.scopeVariable!=null&&r.scopeVariable.introducedBy!=null){let i=[];return i.push({uri:n.textDocument.uri,range:{start:Ot(r.scopeVariable.introducedBy.startPosition),end:Ot(r.scopeVariable.introducedBy.endPosition)}}),i}return null}};function oS(t){var r;if(((r=Ie.instance)==null?void 0:r.hasStructure())==!1)return null;let e=decodeURIComponent(t.textDocument.uri);if(We.hasDocument(e)==!1)return null;let n=ur(t.position,e);return zg.findLocations(n,t)}var lS=le(Cn());var Vp=new Map,jp=new Map;function Xg(){let t={types:["comment","string","keyword","number","regexp","operator","namespace","type","struct","class","interface","enum","typeParameter","function","method","macro","variable","parameter","property","label","antlersAttribute"],modifiers:["declaration","documentation","readonly","static","abstract","deprecated","modification","async"]};return t.types.forEach((e,n)=>Vp.set(e,n)),t.modifiers.forEach((e,n)=>jp.set(e,n)),{legend:t,async getSemanticTokens(e,n){let r=decodeURIComponent(e.uri),i=new lS.SemanticTokensBuilder,s=[];if(We.hasDocument(r)){let a=We.getDocument(r);a.nodes.getAllRuntimeNodes().forEach(m=>{m instanceof pn&&s.push(m)});let l=new Map;s.forEach(m=>{var p;m.startPosition!=null&&(l.has(m.startPosition.line)||l.set(m.startPosition.line,[]),(p=l.get(m.startPosition.line))==null||p.push(m))});let u=[];Array.from(l.keys()).sort((m,p)=>m-p).forEach(m=>{l.get(m).sort((_,g)=>{var b,y,T,C;return((y=(b=_.startPosition)==null?void 0:b.char)!=null?y:0)-((C=(T=g.startPosition)==null?void 0:T.char)!=null?C:0)}).forEach(_=>{u.push(_)})}),u.forEach(m=>{m instanceof pn&&m.startPosition!=null&&m.endPosition!=null&&i.push(m.startPosition.line-1,m.startPosition.char,m.endPosition.char-m.startPosition.char,cS("function"),uS([]))}),a.nodes.getAllParameterNodes().forEach(m=>{m.namePosition!=null&&m.namePosition.start!=null&&m.namePosition.end!=null&&i.push(m.namePosition.start.line-1,m.namePosition.start.char-1,m.namePosition.end.char-m.namePosition.start.char,cS("antlersAttribute"),uS([]))})}return i.build().data}}}function uS(t){let e=0;for(let n=0;n<t.length;n++){let r=t[n];jp.has(r)?e=e|1<<jp.get(r):r==="notInLegend"&&(e=e|1<<jp.size+2)}return e}function cS(t){return Vp.has(t)?Vp.get(t):t==="notInLegend"?Vp.size+2:0}var Up=le(Cn());function fS(t){let e=[];return t.forEach(n=>{if(n.isComment||n.isClosingTag&&!n.isConditionNode||n.isConditionNode&&n.name!=null&&n.isClosingTag&&(n.name.name=="if"||n.name.name=="unless"))return;let r=Ga(n),i=[];if(n.children.length>0){let u=n.getStructuralChildren();u.length>0&&(i=fS(u))}let s=Up.SymbolKind.Field;n.isTagNode&&(s=Up.SymbolKind.Class);let a=n.getNameContent().trim(),o=n.getContent().trim(),l=a+" "+o;a==o&&(l=o),l=n.sourceContent,n.name!=null&&n.name.name=="partial"&&(s=Up.SymbolKind.File),e.push({range:r,kind:s,name:l,selectionRange:r,children:i})}),e}function pS(t){let e=decodeURIComponent(t.textDocument.uri);if(We.hasDocument(e)){let n=We.getDocument(e),r=n.nodes.getStructuralNodes();return fS(r)}return[]}var Qg=class{static getDocumentLinks(e){var r,i,s;let n=[];if((r=Ie.instance)==null?void 0:r.hasStructure()){let a=(s=(i=si.instance)==null?void 0:i.getPartialReferences(e))!=null?s:[];for(let o=0;o<a.length;o++){let l=a[o];if(l.hasMethodPart()){let u=Ie.instance.getStructure().findRelativeView(l.getMethodNameValue());if(u!=null){let c=Ot(l.nameEndsOn);n.push({range:{start:Ot(l.startPosition),end:{character:c.character-2,line:c.line}},tooltip:"Partial: "+u.displayName,target:decodeURIComponent(u.documentUri)})}}}}return n}};var Pn=le(require("path")),fr=le(require("fs")),MS=require("path");var Ji=le(require("fs")),dS=le(Vg());function Pq(t){let e=JSON.parse(Ji.readFileSync(t,{encoding:"utf8"}));return typeof e.extra!="undefined"&&typeof e.extra.statamic!="undefined"}var Jg=class{static getInstalledPackages(e,n,r){let i=[];if(Ji.existsSync(e)){let s=JSON.parse(Ji.readFileSync(e,{encoding:"utf8"}));if(typeof s!="undefined"&&typeof s.packages!="undefined")for(let a=0;a<s.packages.length;a++){let o=s.packages[a];if(typeof o.name!="undefined"&&typeof o.version!="undefined"){let l=r+ai(o.name,"/")+"/composer.json",u=r+ai(o.name,"/")+"/.antlers-ls/",c=!1;if(typeof o.dist!="undefined"){let p=o.dist;typeof p.type!="undefined"&&typeof p.url!="undefined"&&p.type==="path"&&(l=n+ai(o.dist.url,"/")+"/composer.json",u=r+ai(o.name,"/")+"/.antlers-ls/")}let f=null;if(Ji.existsSync(l)&&(c=Pq(l),c&&Ji.existsSync(u))){f={fieldtypesFile:null,modifiersFile:null,tagsFile:null};let p=u+"tags.json",h=u+"modifiers.json",_=u+"types.json";Ji.existsSync(p)&&(f.tagsFile=p),Ji.existsSync(h)&&(f.modifiersFile=h),Ji.existsSync(_)&&(f.fieldtypesFile=_)}let d=Br(o.version,"v"),m=dS.clean(d);m!=null&&(d=m),i.push({name:o.name,version:d,vendorPath:l,isStatamicAddon:c,antlersExtension:f})}}}return i}};var mS=le(require("path"));function Zg(t){let e=mS.resolve(t).replace(/\\/g,"/");return e[0]!=="/"&&(e="/"+e),encodeURI("file://"+e)}function xr(t){return!t.toLowerCase().endsWith(".gitkeep")}var hS=le(Xi()),gS=le(require("fs"));function zu(t,e,n,r,i){let s=[],a=[];for(let o of Object.keys(t[n])){let l=t[n][o],u="",c="",f="",d="",m=null,p=null,h=null;if(typeof l.prefix!="undefined"&&l.prefix!==null&&(d=l.prefix),typeof l.import!="undefined"&&i.has(l.import)){let _=i.get(l.import);for(let g=0;g<_.length;g++)a.includes(_[g].handle)==!1&&(s.push(Mm(_[g],d)),a.push(_[g].handle));continue}if(typeof l.import!="undefined"&&(h=l.import),typeof l.field!="undefined"&&(typeof l.field.type!="undefined"&&(u=l.field.type),typeof l.field.display!="undefined"&&(c=l.field.display),typeof l.field.instructions!="undefined"&&(f=l.field.instructions),typeof l.field.max_items!="undefined"&&(m=l.field.max_items),u=dv(u,l,m),pv.includes(u)&&typeof l.field.sets!="undefined")){p=[];for(let _ of Object.keys(l.field.sets)){let g=l.field.sets[_],b=zu(g,e,"fields","set:"+_,i),y="";typeof g.display!="undefined"&&(y=g.display),p.push({handle:_,displayName:y,fields:b})}}s.push({blueprintName:e,name:l.handle,type:u,displayName:c,instructionText:f,maxItems:m,refFieldSetField:null,sets:p,import:h})}return s}function Xa(t,e,n){let r=gS.readFileSync(t,{encoding:"utf8"}),i=hS.parse(r),s=i.sections,a=[];if(typeof s!="undefined")for(let o of Object.keys(s)){let l=s[o];if(typeof l.fields!="undefined"){let u=zu(l,e,"fields",e,n);u.length>0&&(a=a.concat(u))}}else if(typeof i.fields!="undefined"){let o=zu(i,e,"fields",e,n);o.length>0&&(a=a.concat(o))}return a}var _S=le(Xi()),yS=le(require("fs"));function bS(t,e){let n=yS.readFileSync(t,{encoding:"utf8"}),r=_S.parse(n);if(typeof r=="undefined"||r===null)return[];let i=[];if(typeof r.fields!="undefined")for(let s of Object.keys(r.fields)){let a=r.fields[s],o=a.handle,l="",u="",c="",f=null,d=null,m=null;if(typeof a.import!="undefined"&&(m=a.import),typeof a.field!="undefined"&&(typeof a.field.display!="undefined"&&(l=a.field.display),typeof a.field.type!="undefined"&&(c=a.field.type),typeof a.field.instructions!="undefined"&&(u=a.field.instructions),typeof a.field.max_items!="undefined"&&(f=a.field.max_items),typeof a.field.sets!="undefined")){d=[];for(let p of Object.keys(a.field.sets)){let h=a.field.sets[p],_=zu(h,e,"fields","set:"+p,new Map),g="";typeof h.display!="undefined"&&(g=h.display),d.push({handle:p,displayName:g,fields:_})}}i.push({handle:o,instructionText:u,name:l,type:c,maxItems:f,sets:d,import:m})}return i}var TS=le(require("path")),vS=le(require("fs")),NS=le(Xi());function CS(t){let e=TS.basename(t).split(".").slice(0,-1).join("."),n=e;try{let r=vS.readFileSync(t,{encoding:"utf8"}),i=NS.parse(r);typeof i.title!="undefined"&&i.title!==null&&(n=i.title)}catch(r){console.error(r)}return{handle:e,title:n}}var PS=le(require("path")),DS=le(require("fs")),SS=le(Xi());function IS(t){let e=PS.basename(t).split(".").slice(0,-1).join("."),n=e,r="";try{let i=DS.readFileSync(t,{encoding:"utf8"}),s=SS.parse(i);typeof s!="undefined"&&s!==null&&(typeof s.title!="undefined"&&s.title!==null&&(n=s.title),typeof s.disk!="undefined"&&s.disk!==null&&(r=s.disk))}catch(i){console.error(i)}return{handle:e,title:n,diskName:r}}var ES=le(require("path")),AS=le(require("fs")),xS=le(Xi());function RS(t){let e=ES.basename(t).split(".").slice(0,-1).join("."),n=AS.readFileSync(t,{encoding:"utf8"}),r="",i="",s="",a=!1,o=[],l=null,u=null,c=[];try{let f=xS.parse(n);if(typeof f!="undefined"&&f!==null){if(typeof f.title!="undefined"&&f.title!==null&&(r=f.title),typeof f.inject!="undefined"&&f.inject!==null){let d=Object.keys(f.inject);for(let m=0;m<d.length;m++){let p=d[m];p=="view_model"?u=f.inject.view_model:c.push(p)}}if(typeof f.template!="undefined"&&f.template!==null&&(i=f.template),typeof f.layout!="undefined"&&f.layout!==null&&(s=f.layout),typeof f.taxonomies!="undefined"&&f.taxonomies!==null&&(o=Object.keys(f.taxonomies)),typeof f.structure!="undefined"&&f.structure!==null){a=!0;let d=f.structure,m=-1,p=!1;typeof d.root!="undefined"&&d.root!==null&&(p=d.root),typeof d.max_depth!="undefined"&&d.max_depth!==null&&(m=d.max_depth),l={root:p,maxDepth:m}}}}catch(f){console.error(f)}return{handle:e,title:r,template:i,layout:s,taxonomies:o,isStructure:a,structure:l,viewModel:u,injectFields:c}}var e_=le(require("fs")),t_=le(Xi());function wS(t){let e=[],n=e_.readFileSync(t,{encoding:"utf8"});try{let r=t_.parse(n);if(typeof r=="undefined"||r===null)return[];let i=Object.keys(r);for(let s=0;s<i.length;s++){let a=i[s],o=r[a],l=a;typeof o!="undefined"&&o!==null&&typeof o.title!="undefined"&&o.title!==null&&(l=o.title),e.push({handle:a,title:l})}}catch(r){console.error(r)}return e}function OS(t){let e=[],n=e_.readFileSync(t,{encoding:"utf8"});try{let r=t_.parse(n);if(typeof r=="undefined"||r===null)return[];let i=Object.keys(r);for(let s=0;s<i.length;s++){let a=i[s],o=r[a],l=a;typeof o!="undefined"&&o!==null&&typeof o.title!="undefined"&&o.title!==null&&(l=o.title),e.push({handle:a,title:l})}}catch(r){console.error(r)}return e}var FS=le(require("fs")),LS=le(Xi());function kS(t){var r,i,s,a;let e=FS.readFileSync(t,{encoding:"utf8"}),n=[];try{let o=LS.parse(e);if(typeof o=="undefined"||o===null)return[];let l=Object.keys(o);for(let u=0;u<l.length;u++){let c=l[u],f=o[c],d=[],m="";if(typeof f!="undefined"&&f!==null){let p=Object.keys(f);for(let h=0;h<p.length;h++){let _=p[h],g=(i=(r=tt.instance)==null?void 0:r.getModifier(_))!=null?i:null,b=!1,y="";g!=null?(b=!0,y=(a=(s=tt.instance)==null?void 0:s.getProbableReturnType(g,!1))!=null?a:"",m=y):m="",d.push({hasReference:b,manifestsType:y,name:_,ref:g})}}n.push({name:c,manifestsType:m,modifiers:d})}}catch{}return n}function n_(t,e,n){return{blueprintName:t,displayName:"",import:null,instructionText:"",maxItems:null,name:e,refFieldSetField:null,sets:null,type:n}}var r_=class{constructor(e,n){this.isMocked=!1;this.rootPath="";this.fieldsetsPath="";this.viewsPath="";this.collectionBlueprintsPath="";this.formBlueprintsPath="";this.globalBlueprintsPath="";this.miscBlueprintsPath="";this.taxonomiesBlueprintsPath="";this.globalFiles=[];this.blueprintFiles=[];this.collectionNames=[];this.collections=new Map;this.fieldsets=new Map;this.forms=new Map;this.globals=new Map;this.taxonomies=new Map;this.fields=new Map;this.miscFields=new Map;this.blueprintRef=new Map;this.blueprintCollectionRef=new Map;this.templates=[];this.views=[];this.partialCache=[];this.partialViewNames=[];this.taxonomyNames=[];this.hasMacroFile=!1;this.macroFilePath="";this.collectionQueryScopes=[];this.taxonomyTerms=new Map;this.assets=new Map;this.userGroups=new Map;this.userRoles=new Map;this.navigationMenus=new Map;this.viewMap=new Map;this.routeNames=[];this.translationKeys=[];this.uniqueFormNames=[];this.uniquePartialViewNames=[];this.uniqueCollectionNames=[];this.uniqueTaxonomyNames=[];this.uniqueUserGroups=[];this.uniqueUserRoles=[];this.uniqueGlobalSettingNames=[];this.uniqueNavigationNames=[];this.uniqueAssetNames=[];this.publicAssets=[];this.packageMapping=new Map;this.statamicAddonMapping=new Map;this.blueprintFieldReference=[];this.baseResourcePath=n,this.sourceStructure=e,this.rootPath="",this.isMocked=e.isMocked,this.rootPath=e.rootPath,this.fieldsetsPath=e.fieldsetsPath,this.viewsPath=e.viewsPath,this.collectionBlueprintsPath=e.collectionBlueprintsPath,this.formBlueprintsPath=e.formBlueprintsPath,this.globalBlueprintsPath=e.globalBlueprintsPath,this.miscBlueprintsPath=e.miscBlueprintsPath,this.taxonomiesBlueprintsPath=e.taxonomiesBlueprintsPath,this.globalFiles=e.globalFiles,this.blueprintFiles=e.blueprintFiles,this.collectionNames=e.collectionNames,this.collections=e.collections,this.assets=e.assets,this.fieldsets=e.fieldsets,this.forms=e.forms,this.globals=e.globals,this.taxonomies=e.taxonomies,this.fields=e.fields,this.miscFields=e.miscFields,this.templates=e.templates,this.views=e.views,this.partialCache=e.partialCache,this.partialViewNames=e.partialViewNames,this.taxonomyNames=e.taxonomyNames,this.macroFilePath=e.macroFilePath,this.hasMacroFile=e.hasMacrosFile,this.collectionQueryScopes=e.collectionScopes,this.taxonomyTerms=e.taxonomyTerms,this.navigationMenus=e.navigationMenus,this.rootPath=e.workingDirectory,this.buildDetails(),typeof this.sourceStructure.restoreProperties!="undefined"&&this.sourceStructure.restoreProperties!=null&&(this.assets=this.sourceStructure.restoreProperties.assets,this.blueprintCollectionRef=this.sourceStructure.restoreProperties.blueprintCollectionRef,this.blueprintFieldReference=this.sourceStructure.restoreProperties.blueprintFieldReference,this.blueprintFiles=this.sourceStructure.restoreProperties.blueprintFiles,this.blueprintRef=this.sourceStructure.restoreProperties.blueprintRef,this.collectionNames=this.sourceStructure.restoreProperties.collectionNames,this.collectionQueryScopes=this.sourceStructure.restoreProperties.collectionQueryScopes,this.collections=this.sourceStructure.restoreProperties.collections,this.fields=this.sourceStructure.restoreProperties.fields,this.fieldsets=this.sourceStructure.restoreProperties.fieldsets,this.forms=this.sourceStructure.restoreProperties.forms,this.globalFiles=this.sourceStructure.restoreProperties.globalFiles,this.globals=this.sourceStructure.restoreProperties.globals,this.miscFields=this.sourceStructure.restoreProperties.miscFields,this.navigationMenus=this.sourceStructure.restoreProperties.navigationMenus,this.packageMapping=this.sourceStructure.restoreProperties.packageMapping,this.partialCache=this.sourceStructure.restoreProperties.partialCache,this.partialViewNames=this.sourceStructure.restoreProperties.partialViewNames,this.publicAssets=this.sourceStructure.restoreProperties.publicAssets,this.routeNames=this.sourceStructure.restoreProperties.routeNames,this.statamicAddonMapping=this.sourceStructure.restoreProperties.statamicAddonMapping,this.taxonomies=this.sourceStructure.restoreProperties.taxonomies,this.taxonomyNames=this.sourceStructure.restoreProperties.taxonomyNames,this.taxonomyTerms=this.sourceStructure.restoreProperties.taxonomyTerms,this.templates=this.sourceStructure.restoreProperties.templates,this.translationKeys=this.sourceStructure.restoreProperties.translationKeys,this.uniqueAssetNames=this.sourceStructure.restoreProperties.uniqueAssetNames,this.uniqueCollectionNames=this.sourceStructure.restoreProperties.uniqueCollectionNames,this.uniqueFormNames=this.sourceStructure.restoreProperties.uniqueFormNames,this.uniqueGlobalSettingNames=this.sourceStructure.restoreProperties.uniqueGlobalSettingNames,this.uniqueNavigationNames=this.sourceStructure.restoreProperties.uniqueNavigationNames,this.uniquePartialViewNames=this.sourceStructure.restoreProperties.uniquePartialViewNames,this.uniqueTaxonomyNames=this.sourceStructure.restoreProperties.uniqueTaxonomyNames,this.uniqueUserGroups=this.sourceStructure.restoreProperties.uniqueUserGroups,this.uniqueUserRoles=this.sourceStructure.restoreProperties.uniqueUserRoles,this.userGroups=this.sourceStructure.restoreProperties.userGroups,this.userRoles=this.sourceStructure.restoreProperties.userRoles,this.viewMap=this.sourceStructure.restoreProperties.viewMap,this.views=this.sourceStructure.restoreProperties.views)}getViewPath(){return this.viewsPath}getProjectRoot(){return this.rootPath}export(){let e=this.sourceStructure;return e.restoreProperties=this.getRestoreRecords(),e}getRestoreRecords(){return{assets:this.assets,baseResourcePath:this.baseResourcePath,blueprintCollectionRef:this.blueprintCollectionRef,blueprintFieldReference:this.blueprintFieldReference,blueprintFiles:this.blueprintFiles,blueprintRef:this.blueprintRef,collectionNames:this.collectionNames,collectionQueryScopes:this.collectionQueryScopes,collections:this.collections,fields:this.fields,fieldsets:this.fieldsets,forms:this.forms,globalFiles:this.globalFiles,globals:this.globals,miscFields:this.miscFields,navigationMenus:this.navigationMenus,packageMapping:this.packageMapping,partialCache:this.partialCache,partialViewNames:this.partialViewNames,publicAssets:this.publicAssets,routeNames:this.routeNames,statamicAddonMapping:this.statamicAddonMapping,taxonomies:this.taxonomies,taxonomyNames:this.taxonomyNames,taxonomyTerms:this.taxonomyTerms,templates:this.templates,translationKeys:this.translationKeys,uniqueAssetNames:this.uniqueAssetNames,uniqueCollectionNames:this.uniqueCollectionNames,uniqueFormNames:this.uniqueFormNames,uniqueGlobalSettingNames:this.uniqueGlobalSettingNames,uniqueNavigationNames:this.uniqueNavigationNames,uniquePartialViewNames:this.uniquePartialViewNames,uniqueTaxonomyNames:this.uniqueTaxonomyNames,uniqueUserGroups:this.uniqueUserGroups,uniqueUserRoles:this.uniqueUserRoles,userGroups:this.userGroups,userRoles:this.userRoles,viewMap:this.viewMap,views:this.views}}reloadDetails(){return this}buildImportRefernece(e){if(e.sets!=null)for(let n=0;n<e.sets.length;n++){let r=e.sets[n];for(let i=0;i<r.fields.length;i++){let s=r.fields[i];if(s.import!=null){let a=s.import;if(this.sourceStructure.fieldsets.has(a)){let o=this.sourceStructure.fieldsets.get(a),l=mv(o);for(let u=0;u<l.length;u++)this.buildImportRefernece(l[u]);r.fields.splice(i,1),r.fields=r.fields.concat(l)}}}}}buildDetails(){var s,a;let e=[],n=[],r=[],i=[];if(typeof this.sourceStructure.assets.forEach!="undefined"&&this.sourceStructure.assets.forEach((o,l)=>{i.push(l)}),typeof this.sourceStructure.forms.forEach!="undefined"&&this.sourceStructure.forms.forEach((o,l)=>{o.forEach(u=>{this.blueprintCollectionRef.set(u.blueprintName,l)}),e.push(l),this.blueprintRef.set(l,o)}),typeof this.sourceStructure.globals.forEach!="undefined"&&this.sourceStructure.globals.forEach((o,l)=>{o.forEach(u=>{this.blueprintCollectionRef.set(u.blueprintName,l)}),n.push(l),this.blueprintRef.set(l,o)}),typeof this.sourceStructure.miscFields.forEach!="undefined"&&this.sourceStructure.miscFields.forEach((o,l)=>{o.forEach(u=>{this.blueprintCollectionRef.set(u.blueprintName,l)}),this.blueprintRef.set(l,o)}),typeof this.sourceStructure.taxonomies.forEach!="undefined"&&this.sourceStructure.taxonomies.forEach((o,l)=>{o.forEach(u=>{this.blueprintCollectionRef.set(u.blueprintName,l)}),this.blueprintRef.set(l,o)}),typeof this.sourceStructure.fields.forEach!="undefined"&&this.sourceStructure.fields.forEach((o,l)=>{o.forEach(u=>{this.blueprintCollectionRef.set(u.blueprintName,l)}),this.blueprintRef.set(l,o)}),typeof this.sourceStructure.navigationMenus.forEach!="undefined"&&this.sourceStructure.navigationMenus.forEach((o,l)=>{r.push(l)}),typeof this.sourceStructure.views.forEach!="undefined"&&this.sourceStructure.views.forEach((o,l)=>{this.viewMap.set(o.documentUri,o)}),typeof this.sourceStructure.composerPackages.forEach!="undefined"&&this.sourceStructure.composerPackages.forEach(o=>{o.isStatamicAddon&&this.statamicAddonMapping.set(o.name,o),this.packageMapping.set(o.name,o)}),this.uniqueAssetNames=[...new Set(i)],this.uniqueNavigationNames=[...new Set(r)],this.uniqueGlobalSettingNames=[...new Set(n)],this.uniqueFormNames=[...new Set(e)],this.uniqueCollectionNames=[...new Set(this.collectionNames)],this.uniquePartialViewNames=[...new Set(this.partialViewNames)],this.uniqueTaxonomyNames=[...new Set(this.taxonomyNames)],(s=tt.instance)==null||s.resetMacros(),this.hasMacroFile){let o=kS(this.macroFilePath);o.length>0&&((a=tt.instance)==null||a.registerMacros(o))}this.uniqueUserRoles=[...new Set(this.sourceStructure.userRoleNames)],this.uniqueUserGroups=[...new Set(this.sourceStructure.userGroupNames)],this.sourceStructure.searchIndexes.length==0&&this.sourceStructure.searchIndexes.push("default");for(let o=0;o<this.sourceStructure.internalFieldReference.length;o++)this.buildImportRefernece(this.sourceStructure.internalFieldReference[o])}getWorkingDirectory(){return this.sourceStructure.workingDirectory}getOAuthProviders(){return[]}getSiteNames(){return[]}getSearchIndexes(){return this.sourceStructure.searchIndexes}getStatamicVersion(){return this.sourceStructure.statamicPackage!=null?this.sourceStructure.statamicPackage.version:""}hasComposerPackage(e){return this.packageMapping.has(e)}hasStatamicAddon(e){return this.statamicAddonMapping.has(e)}getAddonDetails(e){return this.hasStatamicAddon(e)?this.statamicAddonMapping.get(e):null}getComposerPackages(){return this.packageMapping}getComposerPackageDetails(e){return this.hasComposerPackage(e)?this.packageMapping.get(e):null}getPartials(){return this.sourceStructure.partialCache}getBlueprintNames(){let e=[];return this.blueprintRef.forEach((n,r)=>{r.startsWith("*")==!1&&e.includes(r)==!1&&e.push(r)}),e}getBlueprintDetails(e){if(this.blueprintRef.has(e)==!1){let n=[];return n.push(n_(e,"title","text")),n.push(n_(e,"content","markdown")),n.push(n_(e,"slug","slug")),n}return this.blueprintRef.get(e)}hasViewCollectionInjections(e){return this.viewMap.has(e)==!1?!1:this.viewMap.get(e).injectsCollections.length>0}getCollectionNames(){return this.collectionNames}getCollectionNamesForView(e){return this.viewMap.has(e)==!1?[]:this.viewMap.get(e).injectsCollections}getPublicAssetPaths(){return this.publicAssets}getTaxonomyTerms(e){return this.hasTaxonomy(e)?this.taxonomyTerms.get(e):[]}hasTaxonomy(e){return this.taxonomyNames.includes(e)}getCollectionQueryScopes(){return this.collectionQueryScopes}getBlueprintFields(e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=this.getCollectionDetails(i);if(s!=null&&s.injectFields!=null)for(let a=0;a<s.injectFields.length;a++)n.push({blueprintName:"*inject",displayName:s.injectFields[a],import:null,instructionText:null,maxItems:null,name:s.injectFields[r],refFieldSetField:null,sets:null,type:"*"});if(this.fields.has(i)){let a=this.fields.get(i);typeof a!="undefined"&&a!==null&&(n=n.concat(a))}}return n}getBlueprintField(e,n){let r=e;if(this.blueprintCollectionRef.has(r)&&(r=this.blueprintCollectionRef.get(r)),this.fields.has(r)){let i=this.fields.get(r);for(let s=0;s<i.length;s++)if(i[s].name==n)return i[s]}return null}getFields(){return this.fields}getTaxonomyBlueprintFields(e){let n=[];for(let r=0;r<e.length;r++){let i=e[r];if(this.taxonomies.has(i)){let s=this.taxonomies.get(i);typeof s!="undefined"&&s!==null&&(n=n.concat(s))}}return n}getUserFields(){return this.miscFields.has("user")?this.miscFields.get("user"):[]}getAssetBlueprintFields(e){return this.sourceStructure.assetFields.has(e)?this.sourceStructure.assetFields.get(e):[]}getUniqueTaxonomyNames(){return this.uniqueTaxonomyNames}getUniqueCollectionNames(){return this.uniqueCollectionNames}getUniquePartialNames(){return this.uniquePartialViewNames}getUniqueUserGroupNames(){return this.uniqueUserGroups}getUniqueUserRoleNames(){return this.uniqueUserRoles}getUniqueFormNames(){return this.uniqueFormNames}getAssetPresets(){return[]}getUniqueGlobalsNames(){return this.uniqueGlobalSettingNames}getUniqueNavigationMenuNames(){return this.uniqueNavigationNames}getUniqueAssetNames(){return this.uniqueAssetNames}getCollectionDetails(e){return this.collections.has(e)?this.collections.get(e):null}getFormBlueprintFields(e){if(this.forms.has(e)){let n=this.forms.get(e);return typeof n=="undefined"||n===null?[]:n}return[]}getRouteNames(){return this.routeNames}getTranslationKeys(){return this.translationKeys}getTemplateNames(){let e=[];return this.views.forEach(n=>{let r=Yt(n.relativeDisplayName,"/",".");e.includes(r)==!1&&e.push(r)}),e}getViews(){return this.views}findView(e){if(e.trim()=="")return null;let n=WD(e);for(let r=0;r<this.views.length;r++)if(this.views[r].path==n)return this.views[r];return null}findRelativeView(e){e=Yt(e,"\\.","/");for(let n=0;n<this.views.length;n++)if(this.views[n].relativeDisplayName==e)return this.views[n];return null}findPartial(e){e=Yt(e,"\\.","/");for(let n=0;n<this.views.length;n++)if(this.views[n].isPartial&&this.views[n].relativeDisplayName==e)return this.views[n];return null}};function Dq(t){let e=Ts(t).split("/"),n=[],r=null;for(let i=0;i<e.length;i++){if(i==0){r=e[i],n.push(e[i]);continue}if(e[i]=="views"&&r=="resources")break;n.push(e[i]),r=e[i]}return n.join("/")}function Sq(t){return t.endsWith("/")==!1&&(t=t+"/"),t+"../"}function Iq(t){return t+"composer.lock"}function Eq(t){return t+"vendor/"}function Aq(t){return t+"/blueprints/collections/"}function xq(t){return t+"/blueprints/taxonomies/"}function Rq(t){return t+"/blueprints/assets/"}function wq(t){return t+"/blueprints/globals/"}function Oq(t){return t+"/blueprints/forms/"}function Fq(t){return t+"/blueprints/"}function Lq(t){return t+"/macros.yaml"}function kq(t){return t+"/views/"}function Mq(t){return t+"/users/"}function Bq(t){return t+"/forms/"}function qq(t){return t+"/fieldsets"}function Xu(t){return t+"/../content/"}function Vq(t){return Xu(t)+"assets/"}function jq(t){return Xu(t)+"collections/"}function Uq(t){return Xu(t)+"taxonomies/"}function Wq(t){return Xu(t)+"navigation/"}function Qu(t,e,n){if(!fr.existsSync(t))return[];let r=n||[],i=fr.readdirSync(t);for(let s=0;s<i.length;s++){let a=Pn.join(t,i[s]);fr.lstatSync(a).isDirectory()?r=r.concat(Qu(a,e,n)):a.indexOf(e)>=0&&r.push(a)}return[...new Set(r)]}function vs(t,e){if(!fr.existsSync(t))return[];let n=[],r=fr.readdirSync(t);for(let i=0;i<r.length;i++){let s=Pn.join(t,r[i]);fr.lstatSync(s).isDirectory()==!1&&n.push(s)}return[...new Set(n)]}function Gq(t){let e=Qu(t,".html",[]),n=t.length,r=[];for(let i=0;i<e.length;i++){let s=e[i],a=s.substr(n),o=Ts(Pn.dirname(a)),l=Pn.basename(a),u=l,c=!1,f=!1,d=!1,m="";l.startsWith("_")&&(c=!0,u=u.substr(1)),l.endsWith(".antlers.html")?(f=!0,u=u.substr(0,u.length-13)):l.endsWith(".blade.php")?(f=!1,d=!0):(f=!1,d=!1),o!="."?m=o+"/"+u:m=u,r.push({displayName:u,fileName:l,documentUri:Zg(s),originalDocumentUri:Zg(s),isAntlers:f,isBlade:d,isPartial:c,path:Ts(s),relativeDisplayName:m,relativeFileName:l,relativePath:a,injectsCollections:[],injectsParameters:[],templateName:Yt(m,"/","."),varReferenceNames:new Map,document:null})}return r}function i_(t){let e=Dq(t),n=Aq(e),r=kq(e),i=Bq(e),s=Oq(e),a=qq(e),o=xq(e),l=wq(e),u=Fq(e),c=Xu(e),f=Wq(e),d=Uq(e),m=Mq(e),p=jq(e),h=Vq(e),_=Rq(e),g=Qu(n,".yaml",[]),b=Gq(r),y=Lq(e),T=Sq(e),C=Iq(T),W=Eq(T),F=!1,L=null,H=Jg.getInstalledPackages(C,T,W);for(let D=0;D<H.length;D++)if(H[D].name=="statamic/cms"){L=H[D];break}let G=new Map,Q=new Map,re=new Map,ye=new Map,he=new Map,oe=new Map,Ae=[],ut=new Map,Lt=[],Ye=[],ct=[],_e=[],we=[],se=new Map,V=new Map,pe=[],ae=new Map,ve=[],ft=new Map,An=new Map,dr=new Map,Ds=new Map;y.trim().length>0&&(F=fr.existsSync(y));for(let D=0;D<b.length;D++)b[D].isPartial&&(ct.push(b[D]),_e.push(b[D].relativeDisplayName));let Lr=vs(h,".yaml");for(let D=0;D<Lr.length;D++)if(xr(Lr[D])){let S=IS(Lr[D]);dr.set(S.handle,S)}let xn=vs(p,".yaml");for(let D=0;D<xn.length;D++)if(xr(xn[D])){let S=RS(xn[D]);An.set(S.handle,S)}let Ss=m+"roles.yaml",R=m+"groups.yaml";if(fr.existsSync(Ss)){let D=wS(Ss);for(let S=0;S<D.length;S++)ae.set(D[S].handle,D[S]),ve.push(D[S].handle)}if(fr.existsSync(R)){let D=OS(R);for(let S=0;S<D.length;S++)V.set(D[S].handle,D[S]),pe.push(D[S].handle)}let M=Qu(a,".yaml",[]),Z=[];for(let D=0;D<M.length;D++)if(xr(M[D])){let S=Pn.basename(M[D]).split(".").slice(0,-1).join(".");if(S!=null&&S.trim().length>0){let v=bS(M[D],S);G.set(S,v)}}let $=Qu(o,".yaml",[]);for(let D=0;D<$.length;D++)if(xr($[D])){let S=Pn.basename($[D]).split(".").slice(0,-1).join("."),v=Pn.basename(Pn.dirname($[D]));if(S!=null&&S.trim().length>0){Q.set(S,v);let x=Xa($[D],S,G);he.set(S,x),Z=Z.concat(x),Ye.includes(S)==!1&&Ye.push(S)}}if(Ye.length>0){for(let D=0;D<Ye.length;D++)if(Q.has(Ye[D])){let S=Q.get(Ye[D]);if(typeof S!="undefined"&&S!==null){let v=d+S+"/";if(fr.existsSync(v)){let x=vs(v,".yaml"),O=[];for(let E=0;E<x.length;E++)if(xr(x[E])){let N=Pn.basename(x[E]).split(".").slice(0,-1).join(".");O.push(N)}se.set(Ye[D],O)}}}}let k=vs(u,".yaml");for(let D=0;D<k.length;D++)if(xr(k[D])){let S=Pn.basename(k[D]).split(".").slice(0,-1).join(".");if(S!=null&&S.trim().length>0){let v=Xa(k[D],S,G);oe.set(S,v),Z=Z.concat(v)}}for(let D=0;D<g.length;D++)if(xr(g[D])){let S=Pn.basename(g[D]).split(".").slice(0,-1).join("."),v=Xa(g[D],S,G),x=Ts((0,MS.dirname)(g[D])).split("/").pop();Z=Z.concat(v),x!=null&&x.trim().length>0&&(S=x,Lt.includes(x)==!1&&Lt.push(x)),ut.set(S,v)}let me=vs(f,".yaml");for(let D=0;D<me.length;D++)if(xr(me[D])){let S=CS(me[D]);ft.set(S.handle,S)}let ce=vs(l,".yaml");for(let D=0;D<ce.length;D++)if(xr(ce[D])){let S=Pn.basename(ce[D]).split(".").slice(0,-1).join("."),v=Xa(ce[D],S,G);Z=Z.concat(v),ye.set(S,v)}if(fr.existsSync(_)){let D=vs(_,".yaml");for(let S=0;S<D.length;S++)if(xr(D[S])){let v=Pn.basename(D[S]).split(".").slice(0,-1).join("."),x=Xa(D[S],v,G);Z=Z.concat(x),Ds.set(v,x)}}let be=vs(s,".yaml"),Ct=vs(i,".yaml"),xt=[];for(let D=0;D<Ct.length;D++)if(xr(Ct[D])){let S=Pn.basename(Ct[D]).split(".").slice(0,-1).join(".");xt.includes(S)||xt.push(S)}for(let D=0;D<be.length;D++)if(xr(be[D])){let S=Pn.basename(be[D]).split(".").slice(0,-1).join("."),v=Xa(be[D],S,G);Z=Z.concat(v),re.set(S,v)}for(let D=0;D<xt.length;D++)re.has(xt[D])||re.set(xt[D],[]);let kr=new Map;for(let D=0;D<b.length;D++)kr.set(b[D].relativeDisplayName,b[D]);return An.forEach((D,S)=>{D.template.trim().length>0&&kr.has(D.template)&&kr.get(D.template).injectsCollections.push(D.handle)}),new BS({composerPackages:H,statamicPackage:L,isMocked:!1,workingDirectory:T,taxonomyPluralizedMapping:Q,collectionScopes:we,blueprintFiles:g,collectionBlueprintsPath:n,collections:An,rootPath:e,fields:ut,fieldsetsPath:a,fieldsets:G,collectionNames:Lt,formBlueprintsPath:i,taxonomiesBlueprintsPath:o,globalBlueprintsPath:l,miscBlueprintsPath:u,viewsPath:r,views:b,globalFiles:[],forms:re,globals:ye,miscFields:oe,taxonomies:he,taxonomyNames:Ye,templates:Ae,partialCache:ct,partialViewNames:_e,macroFilePath:y,hasMacrosFile:F,contentDirectory:c,taxonomyContentDirectory:d,taxonomyTerms:se,assets:dr,assetFields:Ds,oauthProviders:[],navigationMenus:ft,userPermissionsPath:m,userGroupNames:pe,userGroups:V,userRoleNames:ve,userRoles:ae,searchIndexes:[],internalFieldReference:Z,restoreProperties:null},t)}var BS=class extends r_{reloadDetails(){return i_(this.baseResourcePath)}};var s_=class{static getReferences(e){var n;if(e==null)return null;if(((n=e.context)==null?void 0:n.feature)instanceof Ne){let r=e.context.feature;if(r.scopeVariable==null||r.scopeVariable.sourceField==null)return null;let i=new Map;We.getDocuments().forEach(a=>{let o=a.getAllAntlersNodes(),l=[];o.forEach(u=>{u.runtimeNodes.forEach(c=>{var f;(c.scopeVariable!=null&&c.scopeVariable==r.scopeVariable||c.scopeVariable!=null&&c.scopeVariable.sourceName==((f=r.scopeVariable)==null?void 0:f.sourceName)&&c instanceof Ne&&c.name==r.name)&&l.push(c)})}),i.set(a.documentUri,l)});let s=[];return i.forEach((a,o)=>{a.forEach(l=>{s.push({uri:o,range:Ga(l)})})}),s}return[]}};function qS(t){var r;if(((r=Ie.instance)==null?void 0:r.hasStructure())==!1)return null;let e=decodeURIComponent(t.textDocument.uri);if(We.hasDocument(e)==!1)return null;let n=ur(t.position,e);return s_.getReferences(n)}function VS(t){var r;let e=decodeURIComponent(t.textDocument.uri),n=ur(t.position,e);if(n==null)return null;if(((r=n.context)==null?void 0:r.feature)instanceof Ne){let i=n.context.feature,s=n.antlersDocument.getAllAntlersNodes();if(i.scopeVariable==null||i.scopeVariable.sourceField==null)return null;let a=[],o=[];return s.forEach(l=>{l.runtimeNodes.forEach(u=>{var c;(u.scopeVariable!=null&&u.scopeVariable==i.scopeVariable||u.scopeVariable!=null&&u.scopeVariable.sourceName==((c=i.scopeVariable)==null?void 0:c.sourceName)&&u instanceof Ne&&u.name==i.name)&&a.push(u)})}),a.length>0&&a.push(i),a.forEach(l=>{o.push({range:Ga(l)})}),o}return[]}var jS=class{constructor(){this._nodes=[];this._extractedAntlers=new Map;this._buffer="";this._shouldFormat=!0}load(e){let n=new It;return n.getDocumentParser().withChildDocuments(!0),n.loadString(e),this._nodes=n.getAllNodes(),this._buffer=n.getParsedContent(),(!n.isValid()||!n.isFormattingEnabled())&&(this._shouldFormat=!1),this._nodes.forEach(r=>{if(r instanceof K){let i=r.getNodeDocumentText(),s="ANTLERS:"+r.refId;this._buffer=this._buffer.replace(i,s),this._extractedAntlers.set(s,i)}}),this}getShouldFormat(){return this._shouldFormat}getBuffer(){return this._buffer}getMapping(){return this._extractedAntlers}transform(e){return this._buffer=e(this._buffer),this}getTemplate(){let e=this._buffer;return this._extractedAntlers.forEach((n,r)=>{e=e.replace(r,n)}),e}},US=jS;var $S=le(GS()),Hq=jg(),a_={formatFrontMatter:!1,showGeneralSnippetCompletions:!0,diagnostics:{warnOnDynamicCssClassNames:!0,validateTagParameters:!0},trace:{server:"off"},formatterIgnoreExtensions:["xml"],languageVersion:"runtime"},Js=a_;function Wp(t){Js=t}function ra(){return Js}var lt=(0,Dn.createConnection)(Dn.ProposedFeatures.all),wl=new Dn.TextDocuments(YS.TextDocument),KS=!1,zS=!1,Yq=!1,o_;(e=>e.type=new Dn.RequestType("antlers/lockedits"))(o_||(o_={}));var l_;(e=>e.type=new Dn.RequestType("antlers/forcedFormat"))(l_||(l_={}));var u_;(e=>e.type=new Dn.RequestType("antlers/projectUpdate"))(u_||(u_={}));var c_;(e=>e.type=new Dn.RequestType("antlers/transform"))(c_||(c_={}));var f_;(e=>e.type=new Dn.RequestType0("antlers/semanticTokenLegend"))(f_||(f_={}));var p_;(e=>e.type=new Dn.RequestType("antlers/semanticTokens"))(p_||(p_={}));lt.onInitialize(t=>{let e=t.capabilities;KS=!!(e.workspace&&!!e.workspace.configuration),zS=!!(e.workspace&&!!e.workspace.workspaceFolders),Yq=!!(e.textDocument&&e.textDocument.publishDiagnostics&&e.textDocument.publishDiagnostics.relatedInformation);let n={capabilities:{textDocumentSync:Dn.TextDocumentSyncKind.Full,completionProvider:{resolveProvider:!0,triggerCharacters:[":",'"',"'","{","/","|","@"," "]},documentFormattingProvider:{},foldingRangeProvider:{},signatureHelpProvider:{triggerCharacters:[":",","]},documentLinkProvider:{},hoverProvider:{},definitionProvider:{},documentSymbolProvider:{},referencesProvider:{},documentHighlightProvider:{},codeActionProvider:{},executeCommandProvider:{commands:["antlers.extractToPartial"]}}};return zS&&(n.capabilities.workspace={workspaceFolders:{supported:!0}}),n});lt.onInitialized(()=>{KS&&lt.client.register(Dn.DidChangeConfigurationNotification.type,void 0),lt.workspace.getConfiguration("html").then(function(t){$g(t)}),lt.workspace.getConfiguration("antlersLanguageServer").then(function(t){t!=null?Wp(t):Wp(a_)})});lt.onExecuteCommand(async t=>{var e;t.command=="antlers.extractToPartial"&&$u.currentAction!=null&&((e=t.arguments)==null?void 0:e.length)==3&&$u.currentAction.completeRefactor({path:t.arguments[1],fsPath:t.arguments[2]})});lt.onDidChangeConfiguration(t=>{lt.workspace.getConfiguration("html").then(function(e){$g(e)}),lt.workspace.getConfiguration("antlersLanguageServer").then(function(e){e!=null?Wp(e):Wp(a_)}),wl.all().forEach(XS),wl.all().forEach(Hg),wl.all().forEach(e=>{m_(encodeURIComponent(e.uri))}),wl.all().forEach(e=>{Yg(e,lt)})});lt.onDocumentLinks(t=>{let e=decodeURIComponent(t.textDocument.uri);return Qg.getDocumentLinks(e)});var d_=!1;lt.onRequest(o_.type,()=>{d_=!0});function $q(t){if(d_){d_=!1;return}XS(t.document),Hg(t.document),m_(decodeURIComponent(t.document.uri)),Yg(t.document,lt)}var Kq=(0,$S.debounce)($q,250);wl.onDidChangeContent(Kq);lt.onDidChangeWatchedFiles(t=>{});lt.onHover(t=>aS(t));lt.onDocumentSymbol(t=>pS(t));lt.onDocumentHighlight(VS);lt.onReferences(qS);lt.onDefinition(oS);lt.onFoldingRanges(_P);lt.onSignatureHelp(sS);lt.onDocumentFormatting(rS);lt.onCompletion(mP);lt.onCompletionResolve(hP);wl.listen(lt);lt.onRequest(f_.type,t=>Xg().legend);lt.onRequest(l_.type,t=>{let e=ra(),n=Ku.format;return new ia({tabSize:t.tabSize,formatFrontMatter:e.formatFrontMatter,insertSpaces:t.insertSpaces,formatExtensions:[],maxStatementsPerLine:3,htmlOptions:n}).formatDocument(It.fromText(t.content))});lt.onRequest(c_.type,t=>{let e=new US;e.load(t.content);let n=[];return e.getMapping().forEach((i,s)=>{n.push({find:s,replace:i})}),{shouldParse:e.getShouldFormat(),transformedText:e.getBuffer(),replacements:n}});lt.onCodeAction(eS);lt.onRequest(u_.type,()=>{var t,e,n,r,i;if((t=Ie.instance)==null||t.setDirtyState(!0),(e=Ie.instance)==null||e.reloadDetails(),(n=Ie.instance)==null?void 0:n.hasStructure()){let s=(r=Ie.instance)==null?void 0:r.getStructure();We.setProject(s),(i=La.instance)==null||i.updateProject(s)}});lt.onRequest(p_.type,(t,e)=>{let n=decodeURIComponent(t.textDocument.uri);if(xi.has(n)){let r=xi.get(n);return Xg().getSemanticTokens(r,t.ranges)}return null});async function XS(t){var i,s,a,o,l,u,c,f,d;if((i=Ie.instance)==null?void 0:i.hasStructure()){Ie.instance.reloadDetails(),We.setProject(Ie.instance.getStructure());return}let e=decodeURIComponent(t.uri),n=Hq(e),r=i_(n);if((s=Ie.instance)==null||s.setActiveProject(r),((a=Ie.instance)==null?void 0:a.hasStructure())&&(We.setProject((o=Ie.instance)==null?void 0:o.getStructure()),(u=La.instance)==null||u.updateProject((l=Ie.instance)==null?void 0:l.getStructure())),(c=si.instance)==null||c.clearPartialReferences(e),(f=Ar.instance)==null||f.clearIssues(e),(d=Ie.instance)==null?void 0:d.hasStructure()){let m=Ie.instance.getStructure().getViews();for(let p=0;p<m.length;p++){let h=m[p];tS(h.documentUri,HS.readFileSync(h.path,{encoding:"utf8"})),m_(h.documentUri)}}}function YD(t){let e={edit:t};lt.sendRequest("workspace/applyEdit",e)}function m_(t){var e,n,r,i,s,a,o,l,u,c,f,d,m,p,h,_;if(t=decodeURIComponent(t),We.hasDocument(t)){let g=We.getDocument(t),b=g.getAllAntlersNodes();(e=Ar.instance)==null||e.clearIssues(t),(n=si.instance)==null||n.clearAllReferences(t),Pa.clear(t);let y=[],T=[],C=[],W=[],F=[],L=[];for(let G=0;G<b.length;G++){let Q=b[G],re=Q.getTagName();if(re==="yield"||re=="yields"){let he=Q.reference;he!=null&&he instanceof mu&&y.push(he)}else if(re==="partial")C.push(Q);else if(re==="cache")W.push(Q);else if(Q.runtimeName()=="session:set"||Q.runtimeName()=="session:flash"){let he=Q.reference;he!=null&&he instanceof Ea&&T.push(he)}if(Q.modifiers!=null){let he=Q.modifiers.getModifierValue("partial");if(he!=null){let oe=(r=Ie.instance)==null?void 0:r.getStructure().findPartial(he);oe!=null&&((i=si.instance)==null||i.clearRemovesPageScope(oe.originalDocumentUri),(s=si.instance)==null||s.setRemovesPageScope(oe.originalDocumentUri,Q))}}if(Q.isTagNode){let he=(a=Ue.instance)==null?void 0:a.findTag(Q.runtimeName());he!=null&&he.requiresClose&&Q.isClosedBy==null&&Q.isClosingTag==!1&&Q.isSelfClosing==!1&&F.push(Q)}else Q.manifestType==="array"&&Q.isClosedBy==null&&F.push(Q);let ye=(l=(o=Ar.instance)==null?void 0:o.checkNode(Q))!=null?l:[];ye.length>0&&(L=L.concat(ye))}let H=(c=(u=Ar.instance)==null?void 0:u.checkDocument(g))!=null?c:[];H.length>0&&(L=L.concat(H)),F.length>0&&Pa.registerNodes(t,F),(f=La.instance)==null||f.registerInjections(t,C),(d=Cf.instance)==null||d.registerDocumentSections(t,y),(m=si.instance)==null||m.registerPartialReferences(t,C),(p=si.instance)==null||p.registerCacheReferences(t,W),(h=Ar.instance)==null||h.registerDiagnostics(t,L),(_=xa.instance)==null||_.registerDocumentSessionVariables(t,T)}}lt.listen();var h_=class{constructor(){this.htmlFormatter=null;this.yamlFormatter=null;this.phpFormatter=null;this.preFormatter=null;this.transformOptions=null;this.createExtraVirtualStructures=!1}withTransformOptions(e){return this.transformOptions=e,this}withPreFormatter(e){return this.preFormatter=e,this}withHtmlFormatter(e){return this.htmlFormatter=e,this}withYamlFormatter(e){return this.yamlFormatter=e,this}withPhpFormatter(e){return this.phpFormatter=e,this}formatText(e){let n=new It;return n.getDocumentParser().withChildDocuments(!0),n.loadString(e),this.formatDocument(n)}formatDocument(e){if(!e.isFormattingEnabled())return e.getOriginalContent();if(this.preFormatter!=null){let a=this.preFormatter(e);if(a!=null)return a}let n=e.getAllAntlersNodes(),r=ra();for(let a=0;a<n.length;a++)if(gp.checkNode(n[a],r).length>0)return e.getOriginalContent();if(this.htmlFormatter==null||e.isValid()==!1)return e.getOriginalContent();e.transform().produceExtraStructuralPairs(this.createExtraVirtualStructures).withHtmlFormatter(this.htmlFormatter).withPhpFormatter(this.phpFormatter).withYamlFormatter(this.yamlFormatter),this.transformOptions!=null&&e.transform().withOptions(this.transformOptions);let i=e.transform().toStructure(),s=this.htmlFormatter(i);return e.transform().fromStructure(s)}};var g_=class{static formatFrontMatter(e){try{let n=Dl(e,{}),r=iD(n,{indent:2,noArrayIndent:!1,condenseFlow:!1,forceQuotes:!0,noRefs:!0,skipInvalid:!0});return r.endsWith(`
`)&&(r=r.trimEnd()),r}catch{return e}}};function pr(t,e,n){if(t&&t.hasOwnProperty(e)){let r=t[e];if(r!==null)return r}return n}function QS(t,e,n){let r=pr(t,e,null);return typeof r=="string"?r.length>0?r.split(",").map(i=>i.trim().toLowerCase()):[]:n}var JV=JI().html,ia=class extends h_{constructor(e){super();this.options=e,this.withHtmlFormatter(this.formatHtml).withYamlFormatter(g_.formatFrontMatter).withTransformOptions({endNewline:pr(e.htmlOptions,"endWithNewline",!1),maxAntlersStatementsPerLine:e.maxStatementsPerLine,newlinesAfterFrontMatter:1,tabSize:e.tabSize})}formatHtml(e){var n;return JV(e,{indent_size:this.options.tabSize,indent_char:this.options.insertSpaces?" ":"	",indent_empty_lines:pr(this.options.htmlOptions,"indentEmptyLines",!1),wrap_line_length:pr(this.options.htmlOptions,"wrapLineLength",120),unformatted:(n=QS(this.options.htmlOptions,"unformatted",[]))!=null?n:[],content_unformatted:[],indent_inner_html:pr(this.options.htmlOptions,"indentInnerHtml",!1),preserve_newlines:pr(this.options.htmlOptions,"preserveNewLines",!0),max_preserve_newlines:pr(this.options.htmlOptions,"maxPreserveNewLines",32786),indent_handlebars:pr(this.options.htmlOptions,"indentHandlebars",!1),end_with_newline:pr(this.options.htmlOptions,"endWithNewline",!1),extra_liners:[],wrap_attributes:pr(this.options.htmlOptions,"wrapAttributes","auto"),wrap_attributes_indent_size:pr(this.options.htmlOptions,"wrapAttributesIndentSize",void 0),eol:`
`,indent_scripts:pr(this.options.htmlOptions,"indentScripts","normal"),unformatted_content_delimiter:pr(this.options.htmlOptions,"unformattedContentDelimiter","")})}};var cU=FA(),bc=require("path"),_d=0,LA=3,fU=1,hy=4,pU=".antlers.format.json",Nt=cU.command("format","Formats a file and writes the changes to disk",{path:{description:"The file to format",alias:"f",type:"string"},dir:{description:"The directory to format",alias:"d",type:"string"},stdin:{description:"Indicates that the formatter should use stdin input",alias:"s",type:"boolean",default:!1},output:{description:"An optional output path",alias:"out",type:"string",default:null},dump:{description:"Optionally writes the formatted results to the output instead of saving",alias:"dd",type:"boolean",default:!1},options:{description:"An optional path to an Antlers format configuration file",alias:"o",type:"string"}}).help().alias("help","h").argv,yd=Nt._,dU={htmlOptions:{},formatFrontMatter:!0,insertSpaces:!0,maxStatementsPerLine:3,tabSize:4,formatExtensions:[".antlers.html"]};function kA(t){if(bt.existsSync(t)){let e=bt.readFileSync(t,{encoding:"utf8"});try{return JSON.parse(e)}catch(n){console.error(n)}}return null}function MA(t,e,n){let r=bt.readdirSync(t);for(let i=0;i<r.length;i++){let s=bc.join(t,r[i]);bt.lstatSync(s).isDirectory()?MA(s,e,n):s.endsWith(e)&&n(s)}}function mU(t,e,n,r){let i=It.fromText(t),s=new ia(r),a=s.formatDocument(i);n===!0?console.log(a):e!=null&&bt.writeFileSync(e,a,{encoding:"utf8"})}function gy(t,e,n,r){if(bt.existsSync(t)){try{bt.accessSync(t,bt.constants.R_OK|bt.constants.W_OK)}catch(i){console.error(i),process.exit(hy)}try{let i=bt.readFileSync(t,{encoding:"utf8"}),s=It.fromText(i),a=new ia(r),o=a.formatDocument(s);n===!0?console.log(o):bt.writeFileSync(e,o,{encoding:"utf8"})}catch(i){console.error(i),process.exit(fU)}}else process.exit(LA)}function BA(t,e,n,r){if(bt.existsSync(t)&&bt.statSync(t).isDirectory()){try{bt.accessSync(t,bt.constants.R_OK|bt.constants.W_OK)}catch(i){console.error(i),process.exit(hy)}n.forEach(i=>{MA(t,i,s=>{gy(s,s,r,e)})}),process.exit(_d)}else process.exit(LA)}function hU(t){let e=bc.dirname(t);e=="."&&(e=process.cwd());let n=e.split(bc.sep);for(;n.length>0;){let r=n.join(bc.sep),i=bc.join(r,pU);if(bt.existsSync(i))return i;n.pop()}return null}if(Nt._.includes("format")){let t=dU;if(typeof Nt.options!="undefined"&&Nt.options!==null){let e=kA(Nt.options);e!=null&&(t=e)}else{let e="";yd.length==1?typeof Nt.dir!="undefined"&&Nt.dir!==null?e=Nt.dir:typeof Nt.path!="undefined"&&Nt.path!==null&&(e=Nt.path):e=yd[1];let n=hU(e);if(n!=null){let r=kA(n);r!=null&&(t=r)}}if(yd.length==1){if(Nt.stdin===!0){let e=bt.readFileSync(0,"utf-8");mU(e,Nt.output,Nt.dump===!0,t),process.exit(_d)}if(typeof Nt.dir!="undefined"&&Nt.dir!==null){let e=[".antlers.html"];t.formatExtensions.length>0&&(e=t.formatExtensions),BA(Nt.dir,t,e,Nt.dump===!0),process.exit(_d)}if(typeof Nt.path!="undefined"&&Nt.path!==null){let e=Nt.path;Nt.output!==null&&(e=Nt.output),gy(Nt.path,e,Nt.dump===!0,t),process.exit(_d)}}else{let e=yd[1];if(bt.existsSync(e)){try{bt.accessSync(e,bt.constants.R_OK|bt.constants.W_OK)}catch(r){console.error(r),process.exit(hy)}if(bt.lstatSync(e).isDirectory()){let r=[".antlers.html"];t.formatExtensions.length>0&&(r=t.formatExtensions),BA(e,t,r,Nt.dump===!0)}else{let r=e;Nt.output!==null&&(r=Nt.output),gy(e,r,Nt.dump===!0,t)}}}}
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
