var qU=Object.create;var Sg=Object.defineProperty;var UU=Object.getOwnPropertyDescriptor;var jU=Object.getOwnPropertyNames;var GU=Object.getPrototypeOf,HU=Object.prototype.hasOwnProperty;var WU=t=>Sg(t,"__esModule",{value:!0});var C=(t,e)=>()=>(t&&(e=t(t=0)),e);var oe=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var YU=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of jU(e))!HU.call(t,i)&&(n||i!=="default")&&Sg(t,i,{get:()=>e[i],enumerable:!(r=UU(e,i))||r.enumerable});return t},he=(t,e)=>YU(WU(Sg(t!=null?qU(GU(t)):{},"default",!e&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var Go,Oe,Gn=C(()=>{Go=class{constructor(){this.currentStructure=null;this.isReloading=!1;this.isDirtyState=!0}setActiveProject(e){this.currentStructure=e}getStructure(){return this.currentStructure}hasStructure(){return this.currentStructure!=null}setDirtyState(e){this.isDirtyState=e}reloadDetails(){this.isReloading||this.isDirtyState!=!1&&this.currentStructure!=null&&(this.isReloading=!0,this.currentStructure=this.currentStructure.reloadDetails(),this.isReloading=!1,this.isDirtyState=!1)}};Go.instance=null;(typeof Go.instance=="undefined"||Go.instance==null)&&(Go.instance=new Go);Oe=Go});var Hs,wp=C(()=>{Hs=class{static registerDetails(e,n){this.documentDetails.set(e,n)}static hasDetails(e){return this.documentDetails.has(e)}};Hs.documentDetails=new Map});function Au(t,e){if(e==null||e.isComment==!1)return KU;let n=e.content.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`).map(T=>T.trim()),r=[],i=new Map,s="",a="",l=[],c=[],f="",d=null,m=!1,_=!0;for(let T=0;T<n.length;T++){let N=n[T];if(N.startsWith(mS))l=l.concat(N.slice(mS.length).split(",").map(A=>A.trim())),m=!1;else if(N.startsWith(gS))l=l.concat(N.slice(gS.length).split(",").map(A=>A.trim())),m=!1;else if(N.startsWith(_S))c=c.concat(N.slice(_S.length).split(",").map(A=>A.trim())),m=!1;else if(N.startsWith(pS))s=N.slice(pS.length).trim(),m=!1;else if(N.startsWith(dS))a=N.slice(dS.length).trim(),m=!0;else if(N.startsWith(hS))a=N.slice(hS.length).trim(),m=!0;else if(N.startsWith(TS))f=N.slice(TS.length).trim(),m=!1;else if(N.startsWith(yS))f="@page "+N.slice(yS.length).trim(),m=!1;else if(N.startsWith(bS)){let A=bS.length,b=!1;N.startsWith(vS)&&(A=vS.length,b=!0);let v=N.slice(A).trim().split(" ");if(v.length>0)if(v[0]==$U&&v.length>=4){v.shift();let I=v.shift(),O=v.shift(),X=v.join(" ");r.push({acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:X,expectsTypes:["*"],isDynamic:!0,isRequired:b,name:O}),i.set(O,I)}else{let I=v.shift(),O=v.join(" ");r.push({acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:O,expectsTypes:["*"],isDynamic:!0,isRequired:b,name:I})}}else N.startsWith(NS)?N.slice(NS.length).trim().toLowerCase()=="true"?_=!0:_=!1:m&&(a+=`
`+N.trim())}if(f.length>0){let T=f.split(" ");if(T.length==2){let N=T[0],A=T[1];if(A.includes(".")){let b=A.split(".");if(b.length==2){let x=b[0],v=b[1];d={variableName:N,collectionName:x,fieldHandle:v,setHandle:""}}else if(b.length==3){let x=b[0],v=b[1],I=b[2];d={variableName:N,collectionName:x,fieldHandle:v,setHandle:I}}}else d={variableName:N,setHandle:"",collectionName:"",fieldHandle:A}}}if(t.trim().length>0&&Oe.instance!=null&&Oe.instance.hasStructure()){let T=Oe.instance.getStructure().findView(t);T!=null&&(T.injectsParameters=r,T.varReferenceNames=i)}let g={documentName:s,documentDescription:a,collectionInjections:l,blueprints:c,variableHelper:d,injectsParameters:r,varReferenceNames:i,formatterEnabled:_};return t.trim().length>0&&e.startPosition!=null&&(e.startPosition.line<=1||e.index<=1)&&Hs.registerDetails(t,g),g}var KU,pS,dS,hS,mS,gS,_S,TS,yS,bS,vS,$U,NS,Pg=C(()=>{Gn();wp();KU={documentDescription:"",documentName:"",collectionInjections:[],blueprints:[],variableHelper:null,injectsParameters:[],varReferenceNames:new Map,formatterEnabled:!0},pS="@name",dS="@description",hS="@desc",mS="@entry",gS="@collection",_S="@blueprint",TS="@var",yS="@set",bS="@param",vS="@param*",$U="@front",NS="@format"});function Op(t){return zU.includes(t)?"string":QU.includes(t)?"array":XU.includes(t)?"number":JU.includes(t)?"boolean":t}var zU,QU,XU,JU,Ig=C(()=>{zU=["markdown","text","textarea","slug","button_group","code","color","date","form","link","structures","select","taxonomies","terms","template","time","video","users","user_groups","user_roles"],QU=["array","assets","bard","blueprints","collections","entries","list","grid","replicator","structures_multiple","sites","select_multiple","form_multiple","table","tags","terms_multiple","taxonomies_multiple","users_multiple","checkboxes","select_multiple","yaml","user_groups_multiple","user_roles_multiple"],XU=["integer","range"],JU=["toggle"]});var Ho,ls,Lp=C(()=>{Ho=class{constructor(){this.partialReferences=new Map;this.cacheReferences=new Map;this.removesPageScope=new Map}clearAllReferences(e){this.clearPartialReferences(e),this.clearCacheReferences(e)}registerPartialReferences(e,n){this.partialReferences.has(e)==!1&&this.partialReferences.set(e,[]),this.partialReferences.set(e,n)}registerCacheReferences(e,n){this.cacheReferences.has(e)==!1&&this.cacheReferences.set(e,[]),this.cacheReferences.set(e,n)}clearPartialReferences(e){this.partialReferences.has(e)&&this.partialReferences.set(e,[])}clearRemovesPageScope(e){this.removesPageScope.has(e)&&this.removesPageScope.delete(e)}pageScopeDisabled(e){return this.removesPageScope.has(e)}clearCacheReferences(e){this.cacheReferences.has(e)&&this.cacheReferences.set(e,[])}setRemovesPageScope(e,n){this.removesPageScope.set(e,n)}getPartialReferences(e){return this.partialReferences.has(e)==!1?[]:this.partialReferences.get(e)}getCacheReferencnes(e){return this.cacheReferences.has(e)==!1?[]:this.cacheReferences.get(e)}hasPartialReferences(e){return this.partialReferences.has(e)}hasCacheReferences(e){return this.cacheReferences.has(e)}};Ho.instance=null;(typeof Ho.instance=="undefined"||Ho.instance==null)&&(Ho.instance=new Ho);ls=Ho});var Hn,Hl=C(()=>{Hn=class{constructor(){this.index=-1;this.offset=0;this.line=0;this.char=0}shiftRight(e){let n=new Hn;return n.offset=this.offset+e,n.index=this.index+e,n.line=this.line,n.char=this.char+e,n}isBefore(e){return e==null?!1:e.line>this.line||e.line==this.line&&this.offset<e.offset}isWithin(e,n,r=0){return e==null||n==null?!1:this.index>=e.index&&this.index<=n.index+r}isWithinRange(e){return e==null?!1:e.start!=null&&e.end!=null?this.isWithin(e.start,e.end):!1}}});var Cg,Ru,xS=C(()=>{Cg=class{constructor(){this.start=null;this.end=null}},Ru=Cg;Ru.Empty=new Cg});function ES(t,e){let n=e.copy(),r=e.copy();return r.addVariable({sourceName:"*internal.group_by",sourceField:null,dataType:"string",name:"group",introducedBy:t}),r.addVariable({sourceName:"*internal.group_by",sourceField:null,dataType:"string",name:"key",introducedBy:t}),r.addScopeList("items",n),e.addScopeList("groups",r),e}var SS=C(()=>{});function PS(t,e){let n=e.copy();return e.addScopeList("items",n),e}var IS=C(()=>{});var CS,AS=C(()=>{SS();IS();CS=[{name:"as",acceptsType:["array"],returnsType:["array"],description:"Alias the array variable with a key.",docLink:"https://statamic.dev/modifiers/as",parameters:[{name:"alias",description:"The alias name."}],canBeParameter:!0,isDeprecated:!1},{name:"ampersand_list",acceptsType:["array"],returnsType:["string"],description:"Converts the array into a comma delimited string, with an ampersand before the last item.",docLink:"https://statamic.dev/modifiers/ampersand_list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"collapse",acceptsType:["array"],returnsType:["array"],description:"Collapses an array of arrays into a single, flat, array.",docLink:"https://statamic.dev/modifiers/collapse",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"contains",acceptsType:["array","string"],returnsType:["boolean"],description:"Tests if the value contains another value.",docLink:"https://statamic.dev/modifiers/contains",parameters:[{name:"needle",description:"The value to check for."}],canBeParameter:!1,isDeprecated:!1},{name:"count",acceptsType:["array"],returnsType:["number"],description:"Returns the number of items in the array.",docLink:"https://statamic.dev/modifiers/count",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"dl",acceptsType:["array"],returnsType:["string"],description:"Turns an associative array into an HTML definition list.",docLink:"https://statamic.dev/modifiers/dl",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"explode",acceptsType:["string"],returnsType:["array"],description:"Breaks a string into an array on a given delimiter.",docLink:"https://statamic.dev/modifiers/explode",parameters:[{name:"delimiter",description:"The delimiter to break the string apart on."}],canBeParameter:!0,isDeprecated:!1},{name:"flatten",acceptsType:["array"],returnsType:["array"],description:"Flattens a multi-dimensional array.",docLink:"https://statamic.dev/modifiers/flatten",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"flip",acceptsType:["array"],returnsType:["array"],description:"Swaps the array keys with their values.",docLink:"https://statamic.dev/modifiers/flip",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"group_by",acceptsType:["array"],returnsType:["array"],description:"Groups the array items by the given key.",docLink:"https://statamic.dev/modifiers/group_by",parameters:[{name:"key",description:"The key to group by."}],canBeParameter:!0,augmentScope:ES,isDeprecated:!1},{name:"in_array",acceptsType:["array"],returnsType:["boolean"],description:"Tests if an array contains a specific value.",docLink:"https://statamic.dev/modifiers/in_array",parameters:[{name:"needle",description:"The value to check for."}],canBeParameter:!1,isDeprecated:!1},{name:"is_empty",acceptsType:["array"],returnsType:["boolean"],description:"Tests if the array is empty.",docLink:"https://statamic.dev/modifiers/is_empty",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"join",acceptsType:["array"],returnsType:["string"],description:"Turn an array into a string by gluing together all the data.",docLink:"https://statamic.dev/modifiers/join",parameters:[{name:"glue",description:"The string to combine the parts by."}],canBeParameter:!0,isDeprecated:!1},{name:"joinplode",acceptsType:["array"],returnsType:["string"],description:"Turn an array into a string by gluing together all the data.",docLink:null,parameters:[{name:"glue",description:"The string to combine the parts by."}],canBeParameter:!0,isDeprecated:!1},{name:"limit",acceptsType:["array"],returnsType:["array"],description:"Limits the number of items returned in the array",docLink:"https://statamic.dev/modifiers/limit",parameters:[{name:"count",description:"The maximum number of items to return."}],canBeParameter:!0,isDeprecated:!1},{name:"list",acceptsType:["array"],returnsType:["string"],description:"Converts the array into a comma-separated string.",docLink:"https://statamic.dev/modifiers/list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"offset",acceptsType:["array"],returnsType:["array"],description:"Offsets the items returned in the array.",docLink:"https://statamic.dev/modifiers/offset",parameters:[{name:"offset",description:"The one-based index to start retrieving items."}],canBeParameter:!0,isDeprecated:!1},{name:"ol",acceptsType:["array"],returnsType:["string"],description:"Turns the array into an HTML ordered list.",docLink:"https://statamic.dev/modifiers/ol",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"option_list",acceptsType:["array"],returnsType:["string"],description:"Turns an array into a pipe-delimited string.",docLink:"https://statamic.dev/modifiers/option_list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"pluck",acceptsType:["array"],returnsType:["array"],description:"Plucks a value from a collection of items.",parameters:[{name:"value",description:"The value to pluck from the array or collection."}],canBeParameter:!0,docLink:null,isDeprecated:!1},{name:"pad",acceptsType:["array"],returnsType:["array"],description:"Pads the array to a specified length with the given value.",docLink:"https://statamic.dev/modifiers/pad",parameters:[{name:"length",description:"The desired length of the array."},{name:"value",description:"The value to pad the array with."}],canBeParameter:!0,isDeprecated:!1},{name:"piped",acceptsType:["array"],returnsType:["string"],description:"Turns an array into a pipe-delimited string.",docLink:"https://statamic.dev/modifiers/piped",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"sentence_list",acceptsType:["array"],returnsType:["string"],description:'Turns the array into a comma-delimited list, with the word "and" before the last item.',docLink:"https://statamic.dev/modifiers/sentence_list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"shuffle",acceptsType:["array"],returnsType:["array"],description:"Randomizes the order of array elements.",docLink:"https://statamic.dev/modifiers/shuffle",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"sort",acceptsType:["array"],returnsType:["array"],description:"Sorts the array by a key in ascending or descending order.",docLink:"https://statamic.dev/modifiers/sort",parameters:[{name:"key",description:"The key to sort by."},{name:"order",description:"The sort direction. `asc` or `desc`."}],canBeParameter:!0,isDeprecated:!1},{name:"sum",acceptsType:["array"],returnsType:["number"],description:"Returns the sum of all items in the array.",docLink:"https://statamic.dev/modifiers/sum",parameters:[{name:"key",description:"The value to sum."}],canBeParameter:!1,isDeprecated:!1},{name:"ul",acceptsType:["array"],returnsType:["string"],description:"Turns the array into an HTML unordered list.",docLink:"https://statamic.dev/modifiers/ul",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"unique",acceptsType:["array"],returnsType:["array"],description:"Returns all unique items in the array.",docLink:"https://statamic.dev/modifiers/unique",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"where",acceptsType:["array"],returnsType:["array"],description:"Filters the array by a given key and value.",docLink:"https://statamic.dev/modifiers/where",parameters:[{name:"key",description:"The property to filter by."},{name:"value",description:"The value to compare to."}],canBeParameter:!0,isDeprecated:!1},{name:"split",acceptsType:["array"],returnsType:["array"],description:"Splits an array into smaller arrays with the provided size.",canBeParameter:!0,docLink:"",parameters:[{name:"size",description:"The size of each new array"}],augmentScope:PS,isDeprecated:!1},{name:"compact",acceptsType:["string"],returnsType:["array"],description:"Accepts a comma-delimited list of variable names and return an array with their values.",canBeParameter:!0,docLink:"",parameters:[{name:"variables",description:"A comma-delimited list of variable names."}],isDeprecated:!1}]});var RS,kS=C(()=>{RS=[{name:"background_position",acceptsType:["string"],returnsType:["string"],description:"Converts an asset focal point into a background-position CSS property.",docLink:"https://statamic.dev/modifiers/background_position",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"image",acceptsType:["string"],returnsType:["string"],description:"Generates an HTML image element with the variable's value as the src.",docLink:"https://statamic.dev/modifiers/image",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"output",acceptsType:["string"],returnsType:["string"],description:"Returns the string output of an Asset file's contents.",docLink:"https://statamic.dev/modifiers/output",parameters:[],canBeParameter:!1,isDeprecated:!1}]});var wS,OS=C(()=>{wS=[{name:"contains_all",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a string contains all of the provided needles.",docLink:"https://statamic.dev/modifiers/contains_all",parameters:[{name:"needle",description:"The string(s) to search for."}],canBeParameter:!1,isDeprecated:!1},{name:"contains_any",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a string contains all of the provided needles.",docLink:"https://statamic.dev/modifiers/contains_any",parameters:[{name:"needle",description:"The string(s) to search for."}],canBeParameter:!1,isDeprecated:!1},{name:"ends_with",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a string ends with another string.",docLink:"https://statamic.dev/modifiers/ends_with",parameters:[{name:"value",description:"The value to check against."}],canBeParameter:!1,isDeprecated:!1},{name:"has_lower_case",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains any lowercase characters.",docLink:"https://statamic.dev/modifiers/has_lower_case",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"has_upper_case",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains any uppercase characters.",docLink:"https://statamic.dev/modifiers/has_upper_case",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"in_array",acceptsType:["array"],returnsType:["boolean"],description:"Tests if an array contains a specific value.",docLink:"https://statamic.dev/modifiers/in_array",parameters:[{name:"needle",description:"The value(s) to search for."}],canBeParameter:!1,isDeprecated:!1},{name:"is_after",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the string contains only alphanumeric characters.",docLink:"https://statamic.dev/modifiers/is_after",parameters:[{name:"date",description:"The date to compare to."}],canBeParameter:!1,isDeprecated:!1},{name:"is_alphanumeric",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains only alphanumeric characters.",docLink:"https://statamic.dev/modifiers/is_alphanumeric",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_before",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if a date is before another date.",docLink:"https://statamic.dev/modifiers/is_before",parameters:[{name:"date",description:"The date to compare to."}],canBeParameter:!1,isDeprecated:!1},{name:"is_between",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if a date is between two other dates.",docLink:"https://statamic.dev/modifiers/is_between",parameters:[{name:"start_date",description:"The start date to compare."},{name:"end_date",description:"The end date to compare."}],canBeParameter:!1,isDeprecated:!1},{name:"is_blank",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains only whitespace characters.",docLink:"https://statamic.dev/modifiers/is_blank",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_email",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string is a valid email address.",docLink:"https://statamic.dev/modifiers/is_email",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_future",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is in the future.",docLink:"https://statamic.dev/modifiers/is_future",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_json",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string is valid JSON.",docLink:"https://statamic.dev/modifiers/is_json",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_leap_year",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is a leap year.",docLink:"https://statamic.dev/modifiers/is_leap_year",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_numeric",acceptsType:["string","number"],returnsType:["boolean"],description:"Tests if the value is a number or numeric string.",docLink:"https://statamic.dev/modifiers/is_numeric",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_past",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is in the past.",docLink:"https://statamic.dev/modifiers/is_past",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_today",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is today.",docLink:"https://statamic.dev/modifiers/is_today",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_uppercase",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains only uppercase characters.",docLink:"https://statamic.dev/modifiers/is_uppercase",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_url",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string is a valid URL.",docLink:"https://statamic.dev/modifiers/is_url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_weekday",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is a week day.",docLink:"https://statamic.dev/modifiers/is_weekday",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_weekend",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is a weekend day.",docLink:"https://statamic.dev/modifiers/is_weekend",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_yesterday",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is yesterday.",docLink:"https://statamic.dev/modifiers/is_yesterday",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_tomorrow",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is tomorrow.",docLink:null,parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"starts_with",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a value starts with the provided value.",docLink:"https://statamic.dev/modifiers/starts_with",parameters:[{name:"value",description:"The value to test for."}],canBeParameter:!1,isDeprecated:!1}]});var LS,DS=C(()=>{LS=[{name:"days_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of days since a given date.",docLink:"https://statamic.dev/modifiers/days_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"format_translated",acceptsType:["string","date"],returnsType:["string","date"],description:"Returns a formatted Carbon datetime/string.",docLink:"https://statamic.dev/modifiers/format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0,isDeprecated:!1},{name:"format",acceptsType:["string","date"],returnsType:["string","date"],description:"Formats the date using the provided format using PHP's [date variables](https://www.php.net/date).",docLink:"https://statamic.dev/modifiers/format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0,isDeprecated:!1},{name:"format_localized",acceptsType:["string","date"],returnsType:["string","date"],description:"Formats the date using server's locale, using PHP's [strftime format variables](https://www.php.net/strftime).",docLink:"https://statamic.dev/modifiers/format_localized",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0,isDeprecated:!0,getDeprecatedMessage(){return"The format_localized modifier is deprecated. Alternatives, such as the iso_format modifier, should be used instead."}},{name:"hours_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of hours since the date.",docLink:"https://statamic.dev/modifiers/hours_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"iso_format",acceptsType:["string","date"],returnsType:["string","date"],description:"Formats the date using an ISO format.",docLink:"https://statamic.dev/modifiers/iso_format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!1,isDeprecated:!1},{name:"minutes_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of minutes since the date.",docLink:"https://statamic.dev/modifiers/minutes_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"modify_date",acceptsType:["string","date"],returnsType:["string","date"],description:"Alters the date by incrementing or decrementing it in a format accepted by PHP's [strtotime](https://www.php.net/strtotime) function.",docLink:"https://statamic.dev/modifiers/modify_date",parameters:[],canBeParameter:!0,isDeprecated:!1},{name:"months_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of months since the date.",docLink:"https://statamic.dev/modifiers/months_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"relative",acceptsType:["string","date"],returnsType:["string"],description:"Returns a human readable date difference.",docLink:"https://statamic.dev/modifiers/relative",parameters:[{name:"add_ago",description:"Whether to add the relative suffix words at the end of the string."}],canBeParameter:!1,isDeprecated:!1},{name:"seconds_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of seconds since the date.",docLink:"https://statamic.dev/modifiers/seconds_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"timezone",acceptsType:["string","date"],returnsType:["string","date"],description:"Applies a timezone to the date.",docLink:"https://statamic.dev/modifiers/timezone",parameters:[{name:"timezone",description:"The timezone to apply."}],canBeParameter:!1,isDeprecated:!1},{name:"weeks_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of weeks since the date.",docLink:"https://statamic.dev/modifiers/weeks_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"years_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of years since the date.",docLink:"https://statamic.dev/modifiers/years_ago",parameters:[],canBeParameter:!1,isDeprecated:!1}]});var MS,FS=C(()=>{MS=[{name:"chunk",acceptsType:["array"],returnsType:["array"],description:"Breaks the array or collection into smaller arrays of a given size.",docLink:"https://statamic.dev/modifiers/chunk",parameters:[{name:"chunk_size",description:"The maximum length of each new chunk."}],canBeParameter:!0,isDeprecated:!1},{name:"favicon",acceptsType:["string"],returnsType:["string"],description:"Generates a favicon HTML meta tag for the given value.",docLink:"https://statamic.dev/modifiers/favicon",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"first",acceptsType:["string","array"],returnsType:["*"],description:"Returns the specified number of characters from the beginning of the string.",docLink:"https://statamic.dev/modifiers/first",parameters:[{name:"count",description:"The number of characters to return."}],canBeParameter:!0,isDeprecated:!1},{name:"last",acceptsType:["string","array"],returnsType:["*"],description:"Returns the specified number of characters from the end of the string.",docLink:"https://statamic.dev/modifiers/last",parameters:[{name:"count",description:"The number of characters to return."}],canBeParameter:!0,isDeprecated:!1},{name:"link",acceptsType:["string"],returnsType:["string"],description:"Generates an HTML link for the provided value.",docLink:"https://statamic.dev/modifiers/link",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"mailto",acceptsType:["string"],returnsType:["string"],description:"Generates a mailto HTML link for the provided value.",docLink:"https://statamic.dev/modifiers/mailto",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"markdown",acceptsType:["string"],returnsType:["string"],description:"Parses the value as Markdown and returns the HTML.",docLink:"https://statamic.dev/modifiers/markdown",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"nl2br",acceptsType:["string"],returnsType:["string"],description:"Replaces line breaks with HTML `<br>` tags.",docLink:"https://statamic.dev/modifiers/nl2br",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"obfuscate",acceptsType:["string"],returnsType:["string"],description:"Modifies the input string by replacing it with special characters, making it harder for bots but remains readable to site visitors.",docLink:"https://statamic.dev/modifiers/obfuscate",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"obfuscate_email",acceptsType:["string"],returnsType:["string"],description:"Obfuscates an email address with special HTML characters.",docLink:"https://statamic.dev/modifiers/obfuscate_email",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"strip_tags",acceptsType:["string"],returnsType:["string"],description:"Removes HTML tags from the string.",docLink:"https://statamic.dev/modifiers/strip_tags",parameters:[{name:"tags",description:"The HTML tag(s) to remove from the string."}],canBeParameter:!1,isDeprecated:!1},{name:"table",acceptsType:["array"],returnsType:["string"],description:"Turns a [Table FieldType](https://statamic.dev/fieldtypes/table) array into an HTML table.",docLink:"https://statamic.dev/modifiers/table",parameters:[{name:"content_markdown",description:"Whether to parse cell contents as Markdown."}],canBeParameter:!1,isDeprecated:!1},{name:"textile",acceptsType:["string"],returnsType:["string"],description:"Parses a string with [Textile](http://demo.textilewiki.com/theme-default/) and returns the HTML.",docLink:"https://statamic.dev/modifiers/textile",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"wrap",acceptsType:["string"],returnsType:["string"],description:"Wraps a string with a given HTML tag.",docLink:"https://statamic.dev/modifiers/wrap",parameters:[{name:"expression",description:"The HTML tag or Emmet-style expression to wrap the value in."}],canBeParameter:!1,isDeprecated:!1}]});var VS,BS=C(()=>{VS=[{name:"add",acceptsType:["number"],returnsType:["number"],description:"Adds two values together.",docLink:"https://statamic.dev/modifiers/add",parameters:[{name:"value",description:"The value to add."}],canBeParameter:!0,isDeprecated:!1},{name:"+",acceptsType:["number"],returnsType:["number"],description:"Adds two values together.",docLink:"https://statamic.dev/modifiers/add",parameters:[{name:"value",description:"The value to add."}],canBeParameter:!1,isDeprecated:!1},{name:"ceil",acceptsType:["number"],returnsType:["number"],description:"Rounds the value to the next whole number.",docLink:"https://statamic.dev/modifiers/ceil",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"divide",acceptsType:["number"],returnsType:["number"],description:"Divides two values.",docLink:"https://statamic.dev/modifiers/divide",parameters:[{name:"value",description:"The value to divide."}],canBeParameter:!0,isDeprecated:!1},{name:"floor",acceptsType:["number"],returnsType:["number"],description:"Rounds a number down to the next whole number.",docLink:"https://statamic.dev/modifiers/floor",parameters:[],canBeParameter:!0,isDeprecated:!1},{name:"format_number",acceptsType:["number"],returnsType:["string"],description:"Formats a number.",docLink:"https://statamic.dev/modifiers/format_number",parameters:[{name:"precision",description:"Number of decimal places before rounding."},{name:"decimal_separator",description:"The decimal separator (defaults to `.`)."},{name:"thousands_separator",description:"The thousands separator (default `,`)."}],canBeParameter:!0,isDeprecated:!1},{name:"mode",acceptsType:["number"],returnsType:["number"],description:"",docLink:"",parameters:[],canBeParameter:!0,isDeprecated:!1},{name:"multiply",acceptsType:["number"],returnsType:["number"],description:"Multiplies two values.",docLink:"https://statamic.dev/modifiers/multiply",parameters:[{name:"value",description:"The value to multiply."}],canBeParameter:!0,isDeprecated:!1},{name:"*",acceptsType:["number"],returnsType:["number"],description:"Multiplies two values.",docLink:"https://statamic.dev/modifiers/multiply",parameters:[{name:"value",description:"The value to multiply."}],canBeParameter:!1,isDeprecated:!1},{name:"round",acceptsType:["number"],returnsType:["number"],description:"Rounds a number to a specified precision.",docLink:"https://statamic.dev/modifiers/round",parameters:[{name:"precision",description:"The number of digits after the decimal point."}],canBeParameter:!0,isDeprecated:!1},{name:"subtract",acceptsType:["number"],returnsType:["number"],description:"Subtracts two values.",docLink:"https://statamic.dev/modifiers/subtract",parameters:[{name:"value",description:"The value to subtract."}],canBeParameter:!0,isDeprecated:!1},{name:"-",acceptsType:["number"],returnsType:["number"],description:"Subtracts two values.",docLink:"https://statamic.dev/modifiers/subtract",parameters:[{name:"value",description:"The value to subtract."}],canBeParameter:!1,isDeprecated:!1}]});var qS,US=C(()=>{qS=[{name:"partial",acceptsType:["*"],returnsType:["*view*"],description:"Injects data into a partial and renders it.",docLink:"https://statamic.dev/modifiers/partial",parameters:[{name:"partial",description:"The name of the partial."}],canBeParameter:!1,isDeprecated:!1},{name:"macro",acceptsType:["*"],returnsType:["*"],description:"Runs a pre-configured macro on the data.",docLink:"https://statamic.dev/modifiers/macro",parameters:[{name:"macro",description:"The macro name."}],canBeParameter:!1,isDeprecated:!1},{name:"url",acceptsType:["string","*"],returnsType:["string"],description:"Locates the URL of an asset, page, entry, or taxonomy term based on the variable contents.",docLink:"https://statamic.dev/modifiers/url",parameters:[],canBeParameter:!1,isDeprecated:!1}]});var jS,GS=C(()=>{jS=[{name:"ascii",acceptsType:["string"],returnsType:["string"],description:"Replaces all non-ASCII characters with their closest ASCII counterparts.",docLink:"https://statamic.dev/modifiers/ascii",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"at",acceptsType:["string"],returnsType:["string"],description:"Returns the character at a given zero-based position.",docLink:"https://statamic.dev/modifiers/at",parameters:[{name:"position",description:"The zero-based position to retrieve a character from."}],canBeParameter:!0,isDeprecated:!1},{name:"backspace",acceptsType:["string"],returnsType:["string"],description:"Removes a specified number of characters from the end of a string.",docLink:"https://statamic.dev/modifiers/backspace",parameters:[{name:"character_count",description:"The number of characters to remove from the end of the string."}],canBeParameter:!0,isDeprecated:!1},{name:"camelize",acceptsType:["string"],returnsType:["string"],description:"Converts the string into camelCase.",docLink:"https://statamic.dev/modifiers/camelize",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"cdata",acceptsType:["string"],returnsType:["string"],description:"Wraps the string in CDATA XML tags.",docLink:"https://statamic.dev/modifiers/cdata",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"collapse_whitespace",acceptsType:["string"],returnsType:["string"],description:"Trims a string and replaces consecutive whitespace characters with a single space.",docLink:"https://statamic.dev/modifiers/collapse_whitespace",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"count_substring",acceptsType:["string"],returnsType:["number"],description:"Counts the number of occurrences of a term within the string.",docLink:"https://statamic.dev/modifiers/count_substring",parameters:[{name:"term",description:"The sub-string to search for"}],canBeParameter:!0,isDeprecated:!1},{name:"dashify",acceptsType:["string"],returnsType:["string"],description:"Returns a lower-cased and trimmed string, separated by dashes.",docLink:"https://statamic.dev/modifiers/dashify",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"deslugify",acceptsType:["string"],returnsType:["string"],description:"Replaces all hyphens and underscores with spaces.",docLink:"https://statamic.dev/modifiers/deslugify",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"embed_url",acceptsType:["string"],returnsType:["string"],description:"Converts a YouTube or Viemo link into their embed URLs.",docLink:"https://statamic.dev/modifiers/embed_url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"trackable_embed_url",acceptsType:["string"],returnsType:["string"],description:"Get the embed URL when given a youtube or vimeo link that's direct to the page.",docLink:null,parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"ensure_left",acceptsType:["string"],returnsType:["string"],description:"Ensures that the string begins with the specified string.",docLink:"https://statamic.dev/modifiers/ensure_left",parameters:[{name:"start_string",description:"The value that should be at the start of the string."}],canBeParameter:!0,isDeprecated:!1},{name:"ensure_right",acceptsType:["string"],returnsType:["string"],description:"Ensures that the string ends with the specified string.",docLink:"https://statamic.dev/modifiers/ensure_right",parameters:[{name:"end_string",description:"The value that should be at the end of the string."}],canBeParameter:!0,isDeprecated:!1},{name:"entities",acceptsType:["string"],returnsType:["string"],description:"Encode a string with HTML entities.",docLink:"https://statamic.dev/modifiers/entities",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"excerpt",acceptsType:["string"],returnsType:["string"],description:"Breaks a string at a given marker.",docLink:"https://statamic.dev/modifiers/excerpt",parameters:[{name:"marker",description:"The string to break by."}],canBeParameter:!1,isDeprecated:!1},{name:"explode",acceptsType:["string"],returnsType:["array"],description:"Breaks a string into an array of strings.",docLink:"https://statamic.dev/modifiers/explode",parameters:[{name:"delimiter",description:"The string to split the larger string by."}],canBeParameter:!0,isDeprecated:!1},{name:"gravatar",acceptsType:["string"],returnsType:["string"],description:"Converts an email string to a Gravatar image URL.",docLink:"https://statamic.dev/modifiers/gravatar",parameters:[{name:"image size",description:"The desired image size."}],canBeParameter:!0,isDeprecated:!1},{name:"insert",acceptsType:["string"],returnsType:["string"],description:"Inserts a string at the position provided.",docLink:"https://statamic.dev/modifiers/insert",parameters:[{name:"value",description:"The value to insert."},{name:"position",description:"The zero based position to insert the text at."}],canBeParameter:!0,isDeprecated:!1},{name:"is_email",acceptsType:["string"],returnsType:["boolean"],description:"Returns true if the string is a valid email address.",docLink:"https://statamic.dev/modifiers/is_email",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_embeddable",acceptsType:["string"],returnsType:["boolean"],description:"Checks to see if a video URL is embeddable.",docLink:"https://statamic.dev/modifiers/is_embeddable",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_lowercase",acceptsType:["string"],returnsType:["boolean"],description:"Returns true if the string contains only lowercase characters.",docLink:"https://statamic.dev/modifiers/is_lowercase",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_url",acceptsType:["string"],returnsType:["boolean"],description:"Returns true if a string is a valid URL.",docLink:"https://statamic.dev/modifiers/is_url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"lcfirst",acceptsType:["string"],returnsType:["string"],description:"Converts the first character of the value to lower case.",docLink:"https://statamic.dev/modifiers/lcfirst",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"length",acceptsType:["string"],returnsType:["number"],description:"Returns the number of items in an array or number of characters in a string.",docLink:"https://statamic.dev/modifiers/length",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"lower",acceptsType:["string"],returnsType:["string"],description:"Converts all characters to lowercase.",docLink:"https://statamic.dev/modifiers/lower",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"md5",acceptsType:["string"],returnsType:["string"],description:"Creates an MD5 hash of the variable.",docLink:"https://statamic.dev/modifiers/md5",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"rawurlencode",acceptsType:["string"],returnsType:["string"],description:"URL-encode a variable according to RFC-3986.",docLink:"https://statamic.dev/modifiers/rawurlencode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"read_time",acceptsType:["string"],returnsType:["string"],description:"Returns an estimated read time, in minutes.",docLink:"https://statamic.dev/modifiers/read_time",parameters:[{name:"words per minute",description:"The words per minute to use as an estimate."}],canBeParameter:!0,isDeprecated:!1},{name:"regex_replace",acceptsType:["string"],returnsType:["string"],description:"Replaces all regex matches with a string.",docLink:"https://statamic.dev/modifiers/regex_replace",parameters:[{name:"pattern",description:"The regex pattern."},{name:"replace",description:"The replacement value."}],canBeParameter:!0,isDeprecated:!1},{name:"remove_left",acceptsType:["string"],returnsType:["string"],description:"Ensures that the string never begins with a specified string.",docLink:"https://statamic.dev/modifiers/remove_left/",parameters:[{name:"value",description:"The value to remove."}],canBeParameter:!0,isDeprecated:!1},{name:"remove_right",acceptsType:["string"],returnsType:["string"],description:"Ensures that a string never ends with a specified string.",docLink:"https://statamic.dev/modifiers/remove_right",parameters:[{name:"value",description:"The value to remove."}],canBeParameter:!0,isDeprecated:!1},{name:"replace",acceptsType:["string"],returnsType:["string"],description:"Replaces all occurrences of a string with a different value.",docLink:"https://statamic.dev/modifiers/replace",parameters:[{name:"needle",description:"The string to search for."},{name:"value",description:"The value to replace all occurrences with."}],canBeParameter:!0,isDeprecated:!1},{name:"reverse",acceptsType:["string","array"],returnsType:["string","array"],description:"Reverses all characters in a string, or all items in an array.",docLink:"https://statamic.dev/modifiers/reverse",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"safe_truncate",acceptsType:["string"],returnsType:["string"],description:"Truncates a string to a given length.",docLink:"https://statamic.dev/modifiers/safe_truncate",parameters:[{name:"length",description:"The desired string length."},{name:"suffix",description:"An optional suffix to append to the string if truncation occurs."}],canBeParameter:!1,isDeprecated:!1},{name:"sanitize",acceptsType:["string"],returnsType:["string"],description:"Converts special characters to HTML entities.",docLink:"https://statamic.dev/modifiers/sanitize",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"segment",acceptsType:["string"],returnsType:["string"],description:"Returns a segment by number from any valid URL or URI.",docLink:"https://statamic.dev/modifiers/segment",parameters:[{name:"segment",description:"The one-based segment to return."}],canBeParameter:!0,isDeprecated:!1},{name:"singular",acceptsType:["string"],returnsType:["string"],description:"Returns the singular form of an English word.",docLink:"https://statamic.dev/modifiers/singular",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"slugify",acceptsType:["string"],returnsType:["string"],description:"Converts the string into an URL slug.",docLink:"https://statamic.dev/modifiers/slugify",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"smartypants",acceptsType:["string"],returnsType:["string"],description:"Translates plain ASCII punctuation characters into typographic punctuation HTML entities.",docLink:"https://statamic.dev/modifiers/smartypants",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"spaceless",acceptsType:["string"],returnsType:["string"],description:"Removes excess whitespace and line breaks from a string.",docLink:"https://statamic.dev/modifiers/spaceless",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"substr",acceptsType:["string"],returnsType:["string"],description:"Returns a portion of a string based on provided a start index, and optional length.",docLink:"https://statamic.dev/modifiers/substr",parameters:[{name:"start",description:"The 0-based index to start searching."},{name:"length",description:"An optional length for the string to find."}],canBeParameter:!1,isDeprecated:!1},{name:"surround",acceptsType:["string"],returnsType:["string"],description:"Surrounds a string with another string.",docLink:"https://statamic.dev/modifiers/surround",parameters:[{name:"value",description:"The value to surround the string with."}],canBeParameter:!1,isDeprecated:!1},{name:"swap_case",acceptsType:["string"],returnsType:["string"],description:"Returns a case swapped version of the string.",docLink:"https://statamic.dev/modifiers/swap_case",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"tidy",acceptsType:["string"],returnsType:["string"],description:"Returns a string with smart quotes, ellipsis characters, and dashes from Windows-1252 replaced by ASCII equivalents.",docLink:"https://statamic.dev/modifiers/tidy",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"title",acceptsType:["string"],returnsType:["string"],description:"Returns a Title Cased version of the string.",docLink:"https://statamic.dev/modifiers/title",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"trim",acceptsType:["string"],returnsType:["string"],description:"Removes whitespace from the start and end of the string.",docLink:"https://statamic.dev/modifiers/trim",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"truncate",acceptsType:["string"],returnsType:["string"],description:"Truncates a string to a given length.",docLink:"https://statamic.dev/modifiers/truncate",parameters:[{name:"length",description:"The maximum string length."},{name:"suffix",description:"An optional suffix to append to the string if truncation occurs."}],canBeParameter:!1,isDeprecated:!1},{name:"ucfirst",acceptsType:["string"],returnsType:["string"],description:"Upper cases the first character in the string.",docLink:"https://statamic.dev/modifiers/ucfirst",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"underscored",acceptsType:["string"],returnsType:["string"],description:"Returns a lower-cased and trimmed version of the string, separated by underscores.",docLink:"https://statamic.dev/modifiers/underscored",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"upper",acceptsType:["string"],returnsType:["string"],description:"Transforms the string to uppercase.",docLink:"https://statamic.dev/modifiers/upper",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"urldecode",acceptsType:["string"],returnsType:["string"],description:"URL-decodes the string.",docLink:"https://statamic.dev/modifiers/urldecode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"urlencode",acceptsType:["string"],returnsType:["string"],description:"URL-encodes the string.",docLink:"https://statamic.dev/modifiers/urlencode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"widont",acceptsType:["string"],returnsType:["string"],description:"Attempts to prevent lines with single words.",docLink:"https://statamic.dev/modifiers/widont",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"word_count",acceptsType:["string"],returnsType:["number"],description:"Returns the number of words in the string.",docLink:"https://statamic.dev/modifiers/word_count",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"add_slashes",acceptsType:["string"],returnsType:["string"],description:"Adds slashes before characters that need to be escaped.",docLink:"https://statamic.dev/modifiers/add_slashes",canBeParameter:!1,parameters:[],isDeprecated:!1}]});var HS,WS=C(()=>{HS=[{name:"console_log",acceptsType:["*"],returnsType:["null"],description:"Displays variable data in the browser's JavaScript console.",docLink:"https://statamic.dev/modifiers/console_log",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"decode",acceptsType:["string"],returnsType:["string"],description:"Converts all HTML entities to their applicable character codes.",docLink:"https://statamic.dev/modifiers/decode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"dump",acceptsType:["*"],returnsType:["null"],description:"Displays variable data in the browser.",docLink:"https://statamic.dev/modifiers/dump",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"full_urls",acceptsType:["string"],returnsType:["string"],description:"Replaces root-relative URLs with absolute URLs.",docLink:"https://statamic.dev/modifiers/full_urls",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"repeat",acceptsType:["string"],returnsType:["string"],description:"Repeats a value a given number of times.",docLink:"https://statamic.dev/modifiers/repeat",parameters:[{name:"repeat_count",description:"The number of times to repeat the value."}],canBeParameter:!0,isDeprecated:!1},{name:"to_spaces",acceptsType:["string"],returnsType:["string"],description:"Converts all tabs to spaces.",docLink:"https://statamic.dev/modifiers/to_spaces",parameters:[{name:"space_count",description:"The number of spaces to replace tabs with."}],canBeParameter:!1,isDeprecated:!1},{name:"to_tabs",acceptsType:["string"],returnsType:["string"],description:"Converts spaces to tabs.",docLink:"https://statamic.dev/modifiers/to_tabs",parameters:[{name:"space_count",description:"The number of spaces to convert to tabs."}],canBeParameter:!1,isDeprecated:!1},{name:"to_json",acceptsType:["*"],returnsType:["string"],description:"Converts the data to JSON.",docLink:"https://statamic.dev/modifiers/to_json",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"to_bool",acceptsType:["*"],returnsType:["boolean"],description:"Converst the data to a boolean",parameters:[],canBeParameter:!1,docLink:null,isDeprecated:!1}]});var Qa,bt,cs=C(()=>{Ig();AS();kS();OS();DS();FS();BS();US();GS();WS();Qa=class{constructor(){this.registeredModifiers=new Map;this.acceptTypedModifierReference=new Map;this.returnTypeModifierReference=new Map;this.macros=new Map;this.modifierNameCache=[]}reset(){this.modifierNameCache=[],this.registeredModifiers.clear(),this.acceptTypedModifierReference.clear(),this.returnTypeModifierReference.clear()}getRegisteredModifiers(){return this.registeredModifiers}resetMacros(){this.macros.clear()}loadCoreModifiers(){this.registerModifiers(CS),this.registerModifiers(RS),this.registerModifiers(wS),this.registerModifiers(LS),this.registerModifiers(MS),this.registerModifiers(VS),this.registerModifiers(HS),this.registerModifiers(jS),this.registerModifiers(qS)}getModifierNames(){return this.modifierNameCache}registerMacro(e){this.macros.set(e.name,e)}registerMacros(e){for(let n=0;n<e.length;n++)this.registerMacro(e[n])}hasMacro(e){if(this.macros.has(e)){let n=this.macros.get(e);return!(typeof n=="undefined"||n===null)}return!1}getMacro(e){if(this.macros.has(e)){let n=this.macros.get(e);return typeof n=="undefined"||n===null?null:n}return null}getMacroManifestingType(e){let n=this.getMacro(e);return n==null?"":n.manifestsType}getRegisteredModifier(e){return this.registeredModifiers.has(e)?this.registeredModifiers.get(e):null}getModifiersForType(e){let n=Op(e);return this.acceptTypedModifierReference.has(n)?this.acceptTypedModifierReference.get(n):[]}getProbableReturnType(e,n){return e==null||e.returnsType.length==0?"":n&&e.returnsType.includes("array")?"array":e.returnsType[0]}registerModifiers(e){var n,r;for(let i=0;i<e.length;i++){let s=e[i];this.modifierNameCache.push(s.name);for(let a=0;a<s.acceptsType.length;a++){let l=s.acceptsType[a];this.acceptTypedModifierReference.has(l)==!1&&this.acceptTypedModifierReference.set(l,[]),(n=this.acceptTypedModifierReference.get(l))==null||n.push(s)}for(let a=0;a<s.returnsType.length;a++){let l=s.returnsType[a];this.returnTypeModifierReference.has(l)==!1&&this.returnTypeModifierReference.set(l,[]),(r=this.returnTypeModifierReference.get(l))==null||r.push(s)}this.registeredModifiers.set(e[i].name,e[i])}}registerModifier(e){let n=[];n.push(e),this.registerModifiers(n)}getModifier(e){if(this.registeredModifiers.has(e)==!1)return null;let n=this.registeredModifiers.get(e);return typeof n=="undefined"||n==null?null:n}hasModifier(e){if(!this.registeredModifiers.has(e))return!1;let n=this.registeredModifiers.get(e);return!(typeof n=="undefined"||n==null)}};Qa.instance=null;(typeof Qa.instance=="undefined"||Qa.instance==null)&&(Qa.instance=new Qa,Qa.instance.loadCoreModifiers());bt=Qa});var Ag,YS=C(()=>{cs();He();Ag=class{constructor(e){this.parameterModifiers=[];this.hasMixedModifierStyles=!1;this.modifierNames=[];this.node=e}isPaired(){return this.node instanceof J?this.node.isPaired():!1}getModifierValue(e){var n;if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0)for(let r=0;r<this.node.modifierChain.modifierChain.length;r++){let i=this.node.modifierChain.modifierChain[r];if(((n=i.nameNode)==null?void 0:n.name)==e)return i.valueNodes.length>0?i.valueNodes[0].content:""}if(this.hasParameterModifiers())for(let r=0;r<this.parameterModifiers.length;r++){let i=this.parameterModifiers[r];if(i.name==e)return i.value}return null}getModifierRange(e){var n;if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0)for(let r=0;r<this.node.modifierChain.modifierChain.length;r++){let i=this.node.modifierChain.modifierChain[r];if(((n=i.nameNode)==null?void 0:n.name)==e)return i.valueNodes.length>0?{start:i.startPosition,end:i.endPosition}:null}if(this.hasParameterModifiers())for(let r=0;r<this.parameterModifiers.length;r++){let i=this.parameterModifiers[r];if(i.name==e&&i.namePosition!=null&&i.valuePosition!=null)return{start:i.namePosition.start,end:i.valuePosition.end}}return null}getLastManifestedModifierRuntimeType(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastManifestedModifier!=null){if(this.node.modifierChain.lastManifestedModifier.parameters.length>0&&this.node.modifierChain.lastManifestedModifier.modifier!=null&&bt.instance!=null){let e=this.node.modifierChain.lastManifestedModifier.modifier;return bt.instance.getProbableReturnType(e,this.isPaired())}return"*"}if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null&&bt.instance!=null){let r=e[n].modifier;return bt.instance.getProbableReturnType(r,this.isPaired())}}return"*"}getLastManifestedModifierValue(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastManifestedModifier!=null)return this.node.modifierChain.lastManifestedModifier.parameters.length>0?this.node.modifierChain.lastManifestedModifier.parameters[0].value:"";if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null)return e[n].value}return""}getLastManifestedModifier(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastModifier!=null)return this.node.modifierChain.lastModifier;if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null)return e[n].modifier}return null}hasModifiers(){return this.node.modifierChain==null||this.node.modifierChain.modifierChain.length==0?this.parameterModifiers.length>0:!0}hasParameterModifiers(){return this.parameterModifiers.length>0}hasShorthandModifiers(){return this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0}hasModifier(e){return this.modifierNames.includes(e)}}});function Rg(t){let e=[];return t.forEach(n=>{n instanceof J?e.push(n):n instanceof Mt&&n.logicBranches.length>0&&n.logicBranches.forEach(r=>{if(r.head!=null){let i=r.head;i.originalNode!=null?e.push(i.originalNode):e.push(i)}})}),e}var KS=C(()=>{He()});function $S(t){return(typeof t=="number"||typeof t=="string"&&ZU.indexOf(t.slice(-1))===-1)&&t!==""&&!isNaN(t)}var ZU,zS=C(()=>{ZU=[" ",`
`,"\r","	","\f","\v","\xA0","\u2000","\u2001","\u2002","\u2003","\u2004","\u2005","\u2006","\u2007","\u2008","\u2009","\u200A","\u200B","\u2028","\u2029","\u3000"].join("")});var re,Tr=C(()=>{zS();re=class{static normalizeLineEndings(e,n=`
`){return e.replace(/\r?\n/g,n)}static breakByNewLine(e){return e.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`)}static split(e){return e.split("")}static substring(e,n,r){return e.substr(n,r)}static ctypeSpace(e){return(e==null?void 0:e.search(/^[\f\n\r\t\v ]+$/g))!==-1}static ctypeAlpha(e){return(e==null?void 0:e.search(/^[A-Za-z]+$/g))!==-1}static ctypeDigit(e){return(e==null?void 0:e.search(/^[\d]+$/g))!==-1}static ctypePunct(e){return(e==null?void 0:e.search(/^[\u0021-\u002F\u003A-\u0040\u005B-\u0060\u007B-\u007E]+$/g))!==-1}static trimLeft(e,n="\\s"){return e.replace(new RegExp("^["+n+"]+"),"")}static trimRight(e,n="\\s"){return e.replace(new RegExp("["+n+"]+$"),"")}static isNumeric(e){return $S(e)}static substringCount(e,n){let r=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return(e.match(new RegExp(r,"gi"))||[]).length}static getLastLine(e){let n=re.breakByNewLine(e);return n.length==0?"":n[n.length-1]}static getFirstLine(e){let n=re.breakByNewLine(e);return n.length==0?"":n[0]}}});var kg,QS=C(()=>{kg=class{constructor(e){this.node=e}findParentWithName(e){let n=this.node.getParser();return n==null?null:n.structure.findParentWithName(e,this.node)}}});var Dp=oe(wg=>{"use strict";Object.defineProperty(wg,"__esModule",{value:!0});var XS=function(){function t(){this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return t.hashStr=function(e,n){return n===void 0&&(n=!1),this.onePassHasher.start().appendStr(e).end(n)},t.hashAsciiStr=function(e,n){return n===void 0&&(n=!1),this.onePassHasher.start().appendAsciiStr(e).end(n)},t._hex=function(e){var n=t.hexChars,r=t.hexOut,i,s,a,l;for(l=0;l<4;l+=1)for(s=l*8,i=e[l],a=0;a<8;a+=2)r[s+1+a]=n.charAt(i&15),i>>>=4,r[s+0+a]=n.charAt(i&15),i>>>=4;return r.join("")},t._md5cycle=function(e,n){var r=e[0],i=e[1],s=e[2],a=e[3];r+=(i&s|~i&a)+n[0]-680876936|0,r=(r<<7|r>>>25)+i|0,a+=(r&i|~r&s)+n[1]-389564586|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&i)+n[2]+606105819|0,s=(s<<17|s>>>15)+a|0,i+=(s&a|~s&r)+n[3]-1044525330|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&a)+n[4]-176418897|0,r=(r<<7|r>>>25)+i|0,a+=(r&i|~r&s)+n[5]+1200080426|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&i)+n[6]-1473231341|0,s=(s<<17|s>>>15)+a|0,i+=(s&a|~s&r)+n[7]-45705983|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&a)+n[8]+1770035416|0,r=(r<<7|r>>>25)+i|0,a+=(r&i|~r&s)+n[9]-1958414417|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&i)+n[10]-42063|0,s=(s<<17|s>>>15)+a|0,i+=(s&a|~s&r)+n[11]-1990404162|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&a)+n[12]+1804603682|0,r=(r<<7|r>>>25)+i|0,a+=(r&i|~r&s)+n[13]-40341101|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&i)+n[14]-1502002290|0,s=(s<<17|s>>>15)+a|0,i+=(s&a|~s&r)+n[15]+1236535329|0,i=(i<<22|i>>>10)+s|0,r+=(i&a|s&~a)+n[1]-165796510|0,r=(r<<5|r>>>27)+i|0,a+=(r&s|i&~s)+n[6]-1069501632|0,a=(a<<9|a>>>23)+r|0,s+=(a&i|r&~i)+n[11]+643717713|0,s=(s<<14|s>>>18)+a|0,i+=(s&r|a&~r)+n[0]-373897302|0,i=(i<<20|i>>>12)+s|0,r+=(i&a|s&~a)+n[5]-701558691|0,r=(r<<5|r>>>27)+i|0,a+=(r&s|i&~s)+n[10]+38016083|0,a=(a<<9|a>>>23)+r|0,s+=(a&i|r&~i)+n[15]-660478335|0,s=(s<<14|s>>>18)+a|0,i+=(s&r|a&~r)+n[4]-405537848|0,i=(i<<20|i>>>12)+s|0,r+=(i&a|s&~a)+n[9]+568446438|0,r=(r<<5|r>>>27)+i|0,a+=(r&s|i&~s)+n[14]-1019803690|0,a=(a<<9|a>>>23)+r|0,s+=(a&i|r&~i)+n[3]-187363961|0,s=(s<<14|s>>>18)+a|0,i+=(s&r|a&~r)+n[8]+1163531501|0,i=(i<<20|i>>>12)+s|0,r+=(i&a|s&~a)+n[13]-1444681467|0,r=(r<<5|r>>>27)+i|0,a+=(r&s|i&~s)+n[2]-51403784|0,a=(a<<9|a>>>23)+r|0,s+=(a&i|r&~i)+n[7]+1735328473|0,s=(s<<14|s>>>18)+a|0,i+=(s&r|a&~r)+n[12]-1926607734|0,i=(i<<20|i>>>12)+s|0,r+=(i^s^a)+n[5]-378558|0,r=(r<<4|r>>>28)+i|0,a+=(r^i^s)+n[8]-2022574463|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^i)+n[11]+1839030562|0,s=(s<<16|s>>>16)+a|0,i+=(s^a^r)+n[14]-35309556|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^a)+n[1]-1530992060|0,r=(r<<4|r>>>28)+i|0,a+=(r^i^s)+n[4]+1272893353|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^i)+n[7]-155497632|0,s=(s<<16|s>>>16)+a|0,i+=(s^a^r)+n[10]-1094730640|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^a)+n[13]+681279174|0,r=(r<<4|r>>>28)+i|0,a+=(r^i^s)+n[0]-358537222|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^i)+n[3]-722521979|0,s=(s<<16|s>>>16)+a|0,i+=(s^a^r)+n[6]+76029189|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^a)+n[9]-640364487|0,r=(r<<4|r>>>28)+i|0,a+=(r^i^s)+n[12]-421815835|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^i)+n[15]+530742520|0,s=(s<<16|s>>>16)+a|0,i+=(s^a^r)+n[2]-995338651|0,i=(i<<23|i>>>9)+s|0,r+=(s^(i|~a))+n[0]-198630844|0,r=(r<<6|r>>>26)+i|0,a+=(i^(r|~s))+n[7]+1126891415|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~i))+n[14]-1416354905|0,s=(s<<15|s>>>17)+a|0,i+=(a^(s|~r))+n[5]-57434055|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~a))+n[12]+1700485571|0,r=(r<<6|r>>>26)+i|0,a+=(i^(r|~s))+n[3]-1894986606|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~i))+n[10]-1051523|0,s=(s<<15|s>>>17)+a|0,i+=(a^(s|~r))+n[1]-2054922799|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~a))+n[8]+1873313359|0,r=(r<<6|r>>>26)+i|0,a+=(i^(r|~s))+n[15]-30611744|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~i))+n[6]-1560198380|0,s=(s<<15|s>>>17)+a|0,i+=(a^(s|~r))+n[13]+1309151649|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~a))+n[4]-145523070|0,r=(r<<6|r>>>26)+i|0,a+=(i^(r|~s))+n[11]-1120210379|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~i))+n[2]+718787259|0,s=(s<<15|s>>>17)+a|0,i+=(a^(s|~r))+n[9]-343485551|0,i=(i<<21|i>>>11)+s|0,e[0]=r+e[0]|0,e[1]=i+e[1]|0,e[2]=s+e[2]|0,e[3]=a+e[3]|0},t.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(t.stateIdentity),this},t.prototype.appendStr=function(e){var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,a;for(a=0;a<e.length;a+=1){if(s=e.charCodeAt(a),s<128)n[i++]=s;else if(s<2048)n[i++]=(s>>>6)+192,n[i++]=s&63|128;else if(s<55296||s>56319)n[i++]=(s>>>12)+224,n[i++]=s>>>6&63|128,n[i++]=s&63|128;else{if(s=(s-55296)*1024+(e.charCodeAt(++a)-56320)+65536,s>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");n[i++]=(s>>>18)+240,n[i++]=s>>>12&63|128,n[i++]=s>>>6&63|128,n[i++]=s&63|128}i>=64&&(this._dataLength+=64,t._md5cycle(this._state,r),i-=64,r[0]=r[16])}return this._bufferLength=i,this},t.prototype.appendAsciiStr=function(e){for(var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,a=0;;){for(s=Math.min(e.length-a,64-i);s--;)n[i++]=e.charCodeAt(a++);if(i<64)break;this._dataLength+=64,t._md5cycle(this._state,r),i=0}return this._bufferLength=i,this},t.prototype.appendByteArray=function(e){for(var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,a=0;;){for(s=Math.min(e.length-a,64-i);s--;)n[i++]=e[a++];if(i<64)break;this._dataLength+=64,t._md5cycle(this._state,r),i=0}return this._bufferLength=i,this},t.prototype.getState=function(){var e=this,n=e._state;return{buffer:String.fromCharCode.apply(null,e._buffer8),buflen:e._bufferLength,length:e._dataLength,state:[n[0],n[1],n[2],n[3]]}},t.prototype.setState=function(e){var n=e.buffer,r=e.state,i=this._state,s;for(this._dataLength=e.length,this._bufferLength=e.buflen,i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],s=0;s<n.length;s+=1)this._buffer8[s]=n.charCodeAt(s)},t.prototype.end=function(e){e===void 0&&(e=!1);var n=this._bufferLength,r=this._buffer8,i=this._buffer32,s=(n>>2)+1,a;if(this._dataLength+=n,r[n]=128,r[n+1]=r[n+2]=r[n+3]=0,i.set(t.buffer32Identity.subarray(s),s),n>55&&(t._md5cycle(this._state,i),i.set(t.buffer32Identity)),a=this._dataLength*8,a<=4294967295)i[14]=a;else{var l=a.toString(16).match(/(.*?)(.{0,8})$/);if(l===null)return;var c=parseInt(l[2],16),f=parseInt(l[1],16)||0;i[14]=c,i[15]=f}return t._md5cycle(this._state,i),e?this._state:t._hex(this._state)},t.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),t.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t.hexChars="0123456789abcdef",t.hexOut=[],t.onePassHasher=new t,t}();wg.Md5=XS;XS.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592"&&console.error("Md5 self test failed.")});var JS,$,Zt=C(()=>{JS=he(Dp()),$=class{constructor(){this.node=null;this.errorCode="";this.message="";this.level=0;this.range=null;this.actions=[];this.lsRange=null;this.data=null}hash(){var n,r,i,s;let e="";return this.node!=null&&(e=((r=(n=this.node.endPosition)==null?void 0:n.offset)!=null?r:0).toString()+"|"+((s=(i=this.node.startPosition)==null?void 0:i.offset)!=null?s:0).toString()+"|"),JS.Md5.hashStr(e+"|"+this.errorCode)}static makeSyntaxError(e,n,r,i){i==null&&(i=0);let s=new $;return s.errorCode=e,s.node=n,s.message=r,s.level=i,s}}});var R,en=C(()=>{R=class{};R.TYPE_EXPECTING_OPERAND="ANTLR_001",R.TYPE_UNEXPECTED_END_OF_INPUT="ANTLR_002",R.TYPE_RUNTIME_TYPE_MISMATCH="ANTLR_003",R.TYPE_RUNTIME_DIVIDE_BY_ZERO="ANTLR_004",R.TYPE_RUNTIME_UNKNOWN_LANG_OPERATOR="ANTLR_005",R.TYPE_RUNTIME_UNEXPECTED_STACK_CONDITION="ANTLR_006",R.TYPE_RUNTIME_PARSE_VALUE_VIOLATION="ANTLR_007",R.TYPE_PARSE_UNCLOSED_CONDITIONAL="ANTLR_008",R.TYPE_PARSE_EMPTY_CONDITIONAL="ANTLR_009",R.TYPE_PARSE_UNPAIRED_CONDITIONAL="ANTLR_008",R.TYPE_ILLEGAL_STRING_ESCAPE_SEQUENCE="ANTLR_009",R.TYPE_INCOMPLETE_ANTLERS_REGION="ANTLR_010",R.TYPE_INCOMPLETE_ANTELRS_COMMENT_REGION="ANTLR_011",R.TYPE_ILLEGAL_VARPATH_RIGHT="ANTLR_012",R.TYPE_ILLEGAL_DOTVARPATH_RIGHT="ANTLR_013",R.TYPE_ILLEGAL_VARPATH_SUBPATH_START="ANTLR_014",R.TYPE_ILLEGAL_VARPATH_SPACE_RIGHT="ANTLR_015",R.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR="ANTLR_016",R.TYPE_ILLEGAL_VARIABLE_NAME="ANTLR_017",R.TYPE_UNSET_MODIFIER_DETAILS="ANTLR_018",R.TYPE_MODIFIER_NAME_NOT_START_OF_DETAILS="ANTLR_019",R.TYPE_MODIFIER_UNEXPECTED_VALUE="ANTLR_020",R.TYPE_MODIFIER_UNEXPECTED_END_OF_VALUE_LIST="ANTLR_021",R.TYPE_TERNARY_EXPECTING_BRANCH_SEPARATOR="ANTLR_022",R.TYPE_TERNARY_UNEXPECTED_EXPRESSION_LENGTH="ANTLR_023",R.TYPE_RECURSIVE_UNPAIRED_NODE="ANTLR_024",R.TYPE_RECURSIVE_NODE_INVALID_POSITION="ANTLR_025",R.TYPE_NO_PARSE_UNASSOCIATED="ANTLR_026",R.TYPE_RECURSIVE_NODE_UNASSOCIATED_PARENT="ANTLR_027",R.TYPE_LOGIC_GROUP_NO_END="ANTLR_028",R.TYPE_LOGIC_GROUP_NO_START="ANTLR_029",R.TYPE_UNEXPECTED_BRANCH_SEPARATOR="ANTLR_030",R.TYPE_UNEXPECTED_BRANCH_SEPARATOR_FOR_VARCOMBINE="ANTLR_031",R.TYPE_UNEXPECTED_MODIFIER_SEPARATOR="ANTLR_032",R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_DETAILS="ANTLR_033",R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_VALUE="ANTLR_034",R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NODE_PARAMETER="ANTLR_035",R.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE="ANTLR_036",R.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS="ANTLR_037",R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SEMANTIC_GROUP="ANTLR_038",R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NULL_COALESCENCE_GROUP="ANTLR_039",R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP="ANTLR_040",R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP_FALSE_BRANCH="ANTLR_041",R.TYPE_UNEXPECTED_EOI_WHILE_EXITING_TERNARY_GROUP="ANTLR_042",R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_NEGATION_OFFSET="ANTLR_043",R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END_DUE_TO_NEGATION="ANTLR_044",R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END="ANTLR_045",R.TYPE_RUNTIME_UNKNOWN_LIBRARY="ANTLR_046",R.TYPE_RUNTIME_LIBRARY_BAD_METHOD_CALL="ANTLR_047",R.TYPE_UNEXPECTED_FACTORIAL_WHILE_CREATING_GROUPS="ANTLR_048",R.TYPE_UNEXPECTED_FACTORIAL_OPERAND="ANTLR_049",R.TYPE_UNEXPECTED_LOGIC_NEGATION_OPERATOR="ANTLR_050",R.TYPE_FACTORIAL_MATERIALIZED_BOOL_DETECTED="ANTLR_051",R.TYPE_ARG_UNEXPECTED_NAMED_ARGUMENT="ANTLR_052",R.TYPE_UNEXPECTED_EOI_PARSING_BRANCH_GROUP="ANTLR_053",R.TYPE_UNEXPECTED_UNNAMED_METHOD_ARGUMENT="ANTLR_054",R.TYPE_LIBRARY_CALL_NO_ARGS_PROVIDED="ANTLR_055",R.TYPE_LIBRARY_CALL_MISSING_REQUIRED_FORMAL_ARG="ANTLR_056",R.TYPE_LIBRARY_CALL_RUNTIME_TYPE_MISMATCH="ANTLR_057",R.TYPE_LIBRARY_CALL_UNEXPECTED_ARG_RESOLVE_FAULT="ANTLR_058",R.TYPE_LIBRARY_CALL_TOO_MANY_ARGUMENTS="ANTLR_059",R.TYPE_UNEXPECTED_TOKEN_WHILE_PARSING_METHOD="ANTLR_060",R.TYPE_INVALID_NAMED_ARG_IDENTIFIER="ANTLR_061",R.TYPE_LIBRARY_CALL_INVALID_ARGUMENT_NAME="ANTLR_062",R.TYPE_RUNTIME_ATTEMPT_TO_OVERWRITE_LOADED_LIBRARY="ANTLR_063",R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_ARG_GROUP="ANTLR_064",R.TYPE_EXPECTING_ARGUMENT_GROUP="ANTLR_065",R.TYPE_RUNTIME_PROTECTED_LIBRARY_ACCESS_VIOLATION="ANTLR_066",R.TYPE_RUNTIME_FATAL_UNPAIRED_LOOP_END="ANTLR_067",R.TYPE_UNEXPECTED_OPERATOR="ANTLR_068",R.TYPE_OPERATOR_INVALID_ON_RIGHT="ANTLR_069",R.TYPE_INVALID_ASSIGNMENT_LOOP_PAIR="ANTLR_070",R.TYPE_UNEXPECTED_EOI_PARSING_ORDER_GROUP="ANTLR_071",R.TYPE_EXPECTING_ORDER_GROUP_FOR_ORDER_BY_OPERAND="ANTLR_072",R.TYPE_QUERY_UNSUPPORTED_VALUE_TYPE="ANTLR_073",R.TYPE_UNEXPECTED_RUNTIME_RESULT_FOR_ORDER_BY_CLAUSE="ANTLR_074",R.TYPE_UNEXPECTED_EMPTY_DIRECTION_GROUP="ANTLR_075",R.TYPE_INVALID_ORDER_BY_NAME_VALUE="ANTLR_076",R.TYPE_INVALID_ORDER_BY_SORT_VALUE="ANTLR_077",R.TYPE_UNEXPECTED_TOKEN_FOR_GROUP_BY="ANTLR_78",R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_GROUP_BY="ANTLR_079",R.TYPE_UNEXPECTED_GROUP_BY_AS_ALIAS_TYPE="ANTLR_080",R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SWITCH_GROUP="ANTLR_081",R.TYPE_UNEXPECTED_TOKEN_FOR_SWITCH_GROUP="ANTLR_082",R.TYPE_UNEXPECTED_SWITCH_START_VALUE="ANTLR_083",R.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE="ANTLR_084",R.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_SEMANTIC_VALUE="ANTLR_085",R.TYPE_SWITCH_DEFAULT_MUST_BE_LAST="ANTLR_086",R.TYPE_PARSER_INVALID_SWITCH_TOKEN="ANTLR_087",R.TYPE_ORDER_BY_INVALID_RETURN_TYPE="ANTLR_088",R.TYPE_GROUP_BY_SCOPED_GROUP_MUST_BE_ENCLOSED="ANTLR_089",R.TYPE_PLUCK_INTO_MISSING_VARIABLE_TARGET="ANTLR_090",R.TYPE_PLUCK_INTO_INVALID_VARIABLE_TARGET="ANTLR_091",R.TYPE_PLUCK_INTO_NO_PREDICATE="ANTLR_092",R.TYPE_PLUCK_INTO_INVALID_PREDICATE_VALUE="ANTLR_093",R.TYPE_PLUCK_INTO_EMPTY_LOGIC_GROUP="ANTLR_094",R.TYPE_PLUCK_INTO_INVALID_NUMBER_OF_TUPLE_VARIABLES="ANTLR_095",R.TYPE_PLUCK_INTO_UNKNOWN_ALIAS_VARNAME="ANTLR_096",R.TYPE_PLUCK_INTO_UNEXPECTED_EMPTY_T_LOGIC_GROUP="ANTLR_097",R.TYPE_PLUCK_INTO_REFERENCE_TYPE_DYNAMIC="ANTLR_098",R.TYPE_PLUCK_INTO_REFERENCE_AMBIGUOUS="ANTLR_099",R.TYPE_RUNTIME_ASSIGNMENT_TO_NON_VAR="ANTLR_100",R.TYPE_ARR_MAKE_MISSING_TARGET="ANTLR_101",R.TYPE_ARR_MAKE_UNEXPECTED_TYPE="ANTLR_102",R.TYPE_ARR_MAKE_MISSING_ARR_KEY_PAIR_VALUE="ANTLR_103",R.TYPE_ARR_KEY_PAIR_INVALID_KEY_TYPE="ANTLR_104",R.TYPE_ARR_UNEXPECT_ARG_SEPARATOR="ANTLR_105",R.TYPE_ARR_KEY_PAIR_MISSING_KEY="ANTLR_106",R.RUNTIME_PROTECTED_VAR_ACCESS="ANTLR_107",R.RUNTIME_PROTECTED_TAG_ACCESS="ANTLR_108",R.RUNTIME_PROTECTED_MODIFIER_ACCESS="ANTLR_109",R.TYPE_INCOMPLETE_PHP_EVALUATION_REGION="ANTLR_110",R.RUNTIME_PHP_NODE_WHEN_PHP_DISABLED="ANTLR_111",R.RUNTIME_PHP_NODE_USER_CONTENT_TAG="ANTLR_112",R.TYPE_UNEXPECTED_TYPE_FOR_TUPLE_LIST="ANTLR_113",R.TYPE_UNEXPECTED_EOI_PARSING_TUPLE_LIST="ANTLR_114",R.TYPE_MISSING_BODY_TUPLE_LIST="ANTLR_115",R.TYPE_MISSING_NAMES_TUPLE_LIST="ANTLR_116",R.TYPE_VALUE_NAME_LENGTH_MISMATCH_TUPLE_LIST="ANTLR_117",R.TYPE_INVALID_TUPLE_LIST_NAME_TYPE="ANTLR_118",R.TYPE_INVALID_MANIFESTED_NAME_GROUP="ANTLR_119",R.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE_GROUP="ANTLR_120",R.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE="ANTLR_121",R.TYPE_RUNTIME_BAD_METHOD_CALL="ANTLR_122",R.TYPE_METHOD_CALL_MISSING_ARG_GROUP="ANTLR_123",R.TYPE_INVALID_METHOD_CALL_ARG_GROUP="ANTLR_124",R.TYPE_METHOD_CALL_MISSING_METHOD="ANTLR_125",R.TYPE_MODIFIER_NOT_FOUND="ANTLR_126",R.TYPE_RUNTIME_GENERAL_FAULT="ANTLR_127",R.TYPE_MODIFIER_INCORRECT_VALUE_POSITION="ANTLR_128",R.TYPE_MODIFIER_UNEXPECTED_TOKEN_METHOD_SYNTAX="ANTLR_129",R.TYPE_RUNTIME_ATTEMPTING_TO_RENDER_OBJECT_AS_STRING="ANTLR_130",R.TYPE_UNPAIRED_CLOSING_TAG="ANTLR_131",R.PARSER_CANNOT_PARSE_PATH_RECURSIVE="ANTLR_200",R.PATH_STRING_NOT_INSIDE_ARRAY_ACCESSOR="ANTLR_201",R.LINT_UNKNOWN_PARAMETER="ANTLR_500",R.LINT_GENERAL_INVALID_PARAMETER_CONTENTS="ANTLR_501",R.LINT_PARAMETER_CONTENT_INVALID_INTEGER="ANTLR_502",R.LINT_PARAMETER_CONTENT_INVALID_BOOLEAN="ANT LR_503",R.LINT_PAGINATE_INVALID_VALUE="ANTLR_504",R.LINT_DEBUG_DATA_EXPOSED="ANTLR_505",R.LINT_DOUBLE_COLON_IN_TAG_IDENTIFIER="ANTLR_506",R.LINT_MIXED_MODIFIERS="ANTLR_507",R.LINT_MODIFIER_UNEXPECTED_TYPE="ANTLR_508",R.LINT_REMOVE_RELATE_TAG="ANTLR_509",R.LINT_SET_PRODUCES_RUNTIME_ERROR="ANTLR_510",R.LINT_FRONT_MATTER_EMPTY_DOCUMENT="ANTLR_511",R.LINT_SHORTHAND_MODIFIER_TAG_MUST_MATCH="ANTLR_512",R.LINT_INVALID_FRONT_MATTER="ANTLR_513",R.LINT_DUPLICATE_CODE="ANTLR_514",R.LINT_VERSION_NOT_COMPATIBLE="ANTLR_515",R.LINT_INTERLEAVED_TAG_PAIRS="ANTLR_516",R.LINT_MISSING_REQUIRED_PARAMETER="ANTLR_517",R.LINT_POSSIBLE_PARTIAL_RECURSION="ANTLR_518",R.LINT_URL_VARIABLE_WITHOUT_SANITIZE="ANTLR_519",R.LINT_DYNAMIC_CLASS_NAMES_POSSIBLE_PURGE="ANTLER_520",R.LINT_DEPRECATED_MODIFIER="ANTLER_521"});var $t,Mp=C(()=>{He();Tr();$t=class{static distance(e,n){return e.endPosition==null||n.startPosition==null?this.DistMax:n.startPosition.index-e.endPosition.index}static getTrueName(e){var n,r,i,s;return e.originalNode!=null?(r=(n=e.originalNode.name)==null?void 0:n.name)!=null?r:"":(s=(i=e.name)==null?void 0:i.name)!=null?s:""}static getSimpleVarName(e){return e.variableReference!=null&&e.variableReference.pathParts.length==1&&e.variableReference.pathParts[0]instanceof yr?e.variableReference.pathParts[0].name:""}static isVariableMatching(e,n){return e instanceof Ae?e.name==n:!1}static mergeVarContentLeft(e,n,r){return r.mergeRefName=r.name,r.endPosition=n.endPosition,r.name=r.name+e,r}static mergeVarContentRight(e,n,r){return r.mergeRefName=r.name,r.startPosition=n.startPosition,r.name=e+r.name,r}static mergeVarRight(e,n){return n.mergeRefName=n.name,n.startPosition=e.startPosition,n.name=e.name+n.name,n}static getUnrefName(e){return re.trimLeft(e,":.")}};$t.DistMax=65e3});var Mi,Xn,Xa=C(()=>{Zt();en();He();Mp();Mi=class{static isConditionalStructure(e){var r,i;if(e.isComment)return!1;let n=(i=(r=e.name)==null?void 0:r.name)!=null?i:"";return n=="if"||n=="elseif"||n=="else"}static requiresClose(e){var r,i;let n=(i=(r=e.name)==null?void 0:r.name)!=null?i:"";return n=="elseif"||n=="else"?e.isClosedBy==null:!(e.isClosingTag||e.isClosedBy!=null)}static getValidClosingPairs(e){return e=="if"||e=="elseif"?Mi.conditionClosingPairs:[]}static findClosestStructurePair(e,n,r){var f,d,m,_,g,T,N,A;let i=[],s=e.length,a=new Map,l=null;i.push({node:n,index:r});for(let b=0;b<s;b+=1){let x=e[b];if(x instanceof J){let v=(d=(f=x.name)==null?void 0:f.name)!=null?d:"";if(x.isClosingTag&&v=="if"){a.set(b,b);continue}else if(v=="elseif"||v=="else"){a.set(b,b);continue}}}let c=a.size;for(;i.length>0;){let b=i.pop();if(b==null)continue;if(b.node._conditionParserAbandonPairing)break;let x=b.node,v=Mi.getValidClosingPairs((_=(m=x.name)==null?void 0:m.name)!=null?_:""),I=b.index,O=!1;if(c>50&&l!=null){for(let[X,Y]of a)if(X>I){I=X;break}}for(let X=I;X<s;X++){let Y=e[X];if(Y instanceof J&&Mi.isConditionalStructure(Y)){if(Mi.requiresClose(Y)){i.push(b),i.push({node:Y,index:X+1}),O=!0;break}if(x.isClosedBy!=null)continue;let te=(T=(g=Y.name)==null?void 0:g.name)!=null?T:"",ue=!1;if(Y.ref==0&&(Y.isClosingTag&&te=="if"||v.includes(te))&&(ue=!0),Y.refId==x.refId&&(ue=!1),ue){l=X,a.delete(X),x.isClosedBy=Y,Y.isOpenedBy=x,Y.ref+=1,O=!0;break}}}if(!O&&x instanceof J){let X=(A=(N=x.name)==null?void 0:N.name)!=null?A:"";if((X=="elseif"||X=="else")&&x.isOpenedBy==null){let Y='Unpaired "'+$t.getTrueName(x)+'" control structure.';x.isInterpolationNode&&(Y+=" Tag pairs are not supported within Antlers tags."),x.pushError($.makeSyntaxError(R.TYPE_PARSE_UNPAIRED_CONDITIONAL,x,Y)),x._conditionParserAbandonPairing=!0}if(x.isClosedBy==null&&Mi.requiresClose(x)){let Y='Unclosed "'+$t.getTrueName(x)+'" control structure.';x.isInterpolationNode&&(Y+=" Tag pairs are not supported within Antlers tags."),x.pushError($.makeSyntaxError(R.TYPE_PARSE_UNCLOSED_CONDITIONAL,x,Y)),x._conditionParserAbandonPairing=!0}}}}static pairConditionals(e){for(let n=0;n<e.length;n+=1){let r=e[n];r instanceof J&&Mi.isConditionalStructure(r)&&Mi.requiresClose(r)&&Mi.findClosestStructurePair(e,r,n+1)}return e.forEach(n=>{var r,i;if(n instanceof J&&Mi.isConditionalStructure(n)){let s=(i=(r=n.name)==null?void 0:r.name)!=null?i:"";if((s=="elseif"||s=="else")&&n.isOpenedBy==null){n.pushError($.makeSyntaxError(R.TYPE_PARSE_UNPAIRED_CONDITIONAL,n,'Unpaired "'+$t.getTrueName(n)+'" control structure.'));return}if(n.isClosedBy==null&&Mi.requiresClose(n)){n.pushError($.makeSyntaxError(R.TYPE_PARSE_UNCLOSED_CONDITIONAL,n,"Unclosed "+$t.getTrueName(n)+" control structure."));return}}}),e}},Xn=Mi;Xn.conditionClosingPairs=["elseif","else"]});function Fi(t,e){return e==null&&(e="s"),t.replace(new RegExp("^["+e+"]+"),"")}function En(t,e,n){return t.replace(new RegExp(e,"g"),n)}function us(t,e){return e==null&&(e="s"),t.replace(new RegExp("["+e+"]+$"),"")}var Rr=C(()=>{});function Wl(){return(Date.now().toString(32)+Math.random().toString(16)).replace(/\./g,"")}var Fp=C(()=>{});function ZS(){return En(Wl(),"-","_")}function e2(t){let e=[],n=[];for(let r=0;r<t.length;r++){let i=t[r],s=i.refId;if(n.includes(s))break;e.push(i),n.push(s)}return e}var Vp,Og,_e,Lg,Mt,J,fi,on,Vi,Wo,ku,Dg,ur,Yo,wu,Yl,Ou,Mg,fs,Bi,ps,pi,di,Ws,Ja,Ys,hi,kr,ds,hs,mi,ms,gs,Ks,wr,qi,ya,_s,Ts,ys,bs,vs,Ns,ba,xs,fr,Ko,Sn,Or,Lu,Lr,Es,Ui,pr,Ss,$s,ji,Dr,zs,Wn,Jn,Kl,_t,$l,$o,Fg,va,Du,An,On,Gi,Na,zl,Ps,Vg,Za,Et,Zn,Yn,Kn,Bp,Mu,Ln,Tn,Ae,Bg,yr,Qs,qg,He=C(()=>{Hl();xS();YS();KS();Tr();QS();Xa();Rr();Fp();Vp=class{constructor(){this.startPosition=null;this.endPosition=null;this.index=0;this.embeddedIndex=0;this.refId=null;this.parameters=[];this.isSelfClosing=!1;this.isClosingFragment=!1;this.name="";this.containsStructures=!1;this.refId=ZS()}},Og=class{constructor(){this.startPosition=null;this.endPosition=null;this.content="";this.name=""}};_e=class{constructor(){this.refId=null;this.index=0;this.parent=null;this.content="";this.rawLexContent="";this.sourceContent="";this.startPosition=null;this.endPosition=null;this.modifierChain=null;this.originalAbstractNode=null;this.positionContexts=[];this.addedContexts=new Map;this.fragment=null;this.fragmentParameter=null;this.fragmentPosition=3;this.containsAnyFragments=!1;this.containsChildStructures=!1;this.isInScriptTag=!1;this.isInStyleTag=!1;this.isVirtual=!0;this.isPartOfMethodChain=!1;this.isVirtualGroupMember=!1;this.isVirtualGroupOperatorResolve=!1;this.isSwitchGroupMember=!1;this.isListGroupMember=!1;this.producesVirtualStatementTerminator=!1;this.convertedToOperator=!1;this.scopeVariable=null;this.currentScope=null;this.manifestType="";this.scopeName=null;this.sourceType="";this.runtimeType=null;this.modifiers=new Ag(this);this.prev=null;this.next=null;this.methodTarget=null;this.libraryTarget=null;this.antlersErrors=[];this.parser=null;this.refId=ZS()}isEmbedded(){return this.isInScriptTag||this.isInStyleTag}getContexts(){return this.positionContexts}addContext(e){this.addedContexts.has(e.refId)==!1&&(this.addedContexts.set(e.refId,!0),this.positionContexts.push(e))}getRange(){if(this.originalAbstractNode!=null)return this.originalAbstractNode.getRange();if(this.startPosition==null||this.endPosition==null)return Ru.Empty;let e=new Ru;return e.start=this.startPosition,e.end=this.endPosition,e}withParser(e){this.parser=e}getParser(){return this.parser}pushError(e){this.parent!=null&&this.parent.pushError(e),this.antlersErrors.push(e),this.parent==null&&this.parser!=null&&this.parser.pushError(e)}mergeErrors(e){e.forEach(n=>{n.node==null&&(n.node=this),this.antlersErrors.push(n)})}getErrors(){return this.antlersErrors}innerContent(){return this.content}rawContent(){return this.content}},Lg=class extends _e{constructor(){super(...arguments);this.head=null;this.tail=null;this.nodes=[];this.documentText="";this.childDocument=null}getImmediateChildren(){return this.head==null?[]:this.head.getImmediateChildren()}},Mt=class extends _e{constructor(){super(...arguments);this.logicBranches=[];this.chain=[];this.nodeContent="";this.fragment=null;this.fragmentParameter=null;this.fragmentPosition=3;this.containsAnyFragments=!1;this.containsChildStructures=!1}},J=class extends _e{constructor(){super(...arguments);this.isNodeAbanonded=!1;this.isComment=!1;this.isTagNode=!1;this.isConditionNode=!1;this.runtimeContent="";this.name=null;this.pathReference=null;this.isClosingTag=!1;this.isInterpolationNode=!1;this.isOpenedBy=null;this.isClosedBy=null;this.isSelfClosing=!1;this.children=[];this.runtimeNodes=[];this.parsedRuntimeNodes=[];this.hasParsedRuntimeNodes=!1;this.parameters=[];this.hasParameters=!1;this.contentOffset=null;this.cachedContent=null;this.cachedInnerContent=null;this.hasRecursiveNode=!1;this.recursiveReference=null;this.rawStart="";this.rawEnd="";this.originalNode=null;this.interpolationRegions=new Map;this.processedInterpolationRegions=new Map;this.hasProcessedInterpolationRegions=!1;this.ref=0;this.contentStartRelativeIndex=null;this.antlersNodeIndex=0;this.nameStartsOn=null;this.nameEndsOn=null;this.nameMethodPartStartsOn=null;this.documentText="";this.nodeContent="";this.childDocument=null;this.structure=new kg(this);this.isInlineAntlers=!1;this.mustClose=!1;this.reference=null;this._conditionParserAbandonPairing=!1;this._isEndVirtual=!1}getOriginalContent(){return this.startPosition==null||this.endPosition==null||this.parser==null?"":this.isClosedBy!=null?this.isClosedBy.startPosition==null||this.isClosedBy.endPosition==null?"":this.parser.getText(this.startPosition.index,this.isClosedBy.endPosition.index+1):this.parser.getText(this.startPosition.index,this.endPosition.index+1)}getNodeDocumentText(){return this.startPosition==null||this.endPosition==null||this.parser==null?"":this.parser.getText(this.startPosition.index,this.endPosition.index+1)}getImmediateChildren(){let e=[];for(let n=0;n<this.children.length;n++){let r=this.children[n];if(r.parent==this){if(r==this.isClosedBy)break;e.push(r)}}return e2(e)}getChildren(){if(this.isClosedBy==null)return[];let e=[];for(let n=0;n<this.children.length;n++){let r=this.children[n];if(r instanceof J&&r.refId==this.isClosedBy.refId)break;e.push(r)}return e}getInnerDocumentText(){if(this.startPosition==null||this.endPosition==null||this.parser==null)return"";if(this.isClosedBy==null)return this.getNodeDocumentText();let e=this.isClosedBy.startPosition;return e==null?"":this.parser.getText(this.endPosition.index+1,e.index)}nodeAtIndex(e){if(this.runtimeNodes.length==0)return null;for(let n=0;n<this.runtimeNodes.length;n++)if(this.runtimeNodes[n].index==e)return this.runtimeNodes[n];return null}getDepthCount(){if(this.parent==null)return 1;let e=this.parent,n=1;for(;e!=null;){if(n+=1,e.parent===e){e=null;break}e=e.parent}return n}isEmpty(){return this.content.trim().length==0}nameMatches(e){return this.name==null?!1:this.name.content==e}copyBasicDetails(){return this.copyBasicDetailsTo(new J)}copyBasicDetailsTo(e){return e.refId=this.refId,e.isComment=this.isComment,e.isTagNode=this.isTagNode,e.children=this.children,e.parent=this.parent,e.parameters=this.parameters,e.isClosingTag=this.isClosingTag,e.rawStart=this.rawStart,e.rawEnd=this.rawEnd,e.startPosition=this.startPosition,e.endPosition=this.endPosition,e.originalAbstractNode=this,e.containsAnyFragments=this.containsAnyFragments,e.containsChildStructures=this.containsChildStructures,e.isInScriptTag=this.isInScriptTag,e.isInStyleTag=this.isInStyleTag,e}id(){return this.refId}innerContent(){return this.cachedInnerContent==null&&(this.cachedInnerContent=this.content.replace('"','\\"')),this.cachedInnerContent}resetContentCache(){this.cachedContent=null,this.cachedInnerContent=null}hasMethodPart(){return this.name==null?!1:this.name.getMethodName()!=null}runtimeName(){return this.name==null?"":this.name.getCompoundTagName()}getTagName(){return this.name==null?"":this.name.name}getNameContent(){return this.name==null?"":this.name.content}getMethodNameValue(){if(this.name==null)return"";let e=this.name.getMethodName();return e!=null?e:""}methodIsEmptyOrMatches(e){return this.getMethodNameValue()==e}hasParameter(e){return this.findParameter(e)!=null}hasParameterWithValue(e,n){let r=this.findParameter(e);return r==null?!1:r.value==n}findParameterValue(e,n){let r=this.findParameter(e);return r==null?n:r.value}findParameterValueOrNull(e){let n=this.findParameter(e);return n==null?null:n.value}findParameter(e){if(this.parameters.length==0)return null;for(let n=0;n<this.parameters.length;n++)if(this.parameters[n].name==e)return this.parameters[n];return null}findAnyParameter(e){for(let n=0;n<e.length;n++){let r=this.findParameter(e[n]);if(r!=null)return r}return null}getContentRelativeStartIndex(){if(this.contentStartRelativeIndex==null){let e=this.content.split("");for(let n=0;n<e.length;n++)if(!re.ctypeSpace(e[n])){this.contentStartRelativeIndex=n;break}this.contentStartRelativeIndex==null&&(this.contentStartRelativeIndex=e.length),this.contentStartRelativeIndex+=this.rawStart.length}return this.contentStartRelativeIndex}getContentAfterName(){let e=0;return this.nameEndsOn!=null&&(e=this.nameEndsOn.char-this.rawStart.length-1),this.content.substring(e)}getContent(){if(this.cachedContent==null)if(this.isComment)this.cachedContent=this.content,this.contentOffset=this.startPosition;else if(this.isTagNode){let e=this.content;e=re.trimLeft(e);let n=0;if(this.name!=null&&(n=this.name.compound.length),this.parameters.length>0){let a=0,l=this.parameters[0];l.startPosition!=null&&(a=l.startPosition.index-1);let c=e,f=c.trimLeft(),d=c.length-f.length,m=n;e=e.substr(0,a)}let r=e.trimLeft(),i=e.length-r.length,s=n+i+2;if(this.parser!=null){let a=0;this.startPosition!=null&&(a=this.startPosition.offset),this.contentOffset==this.parser.positionFromOffset(a+s,0)}this.name!=null?this.name.name=="if"||this.name.name=="elseif"||this.name.name=="unless"||this.name.name=="elseunless"?(e=" "+e.trimLeft(),this.cachedContent=e.substr(this.name.compound.length+1)):this.cachedContent=e:this.cachedContent=e}else if(this.parameters.length>0){let e=this.parameters[0],n=0;e.startPosition!=null&&(n=e.startPosition.index-1),this.contentOffset=this.startPosition,this.cachedContent=this.content.substr(0,n)}else this.contentOffset=this.startPosition,this.cachedContent=this.content;return this.cachedContent}relativePositionFromOffset(e,n){var r,i;return this.parser==null?null:this.parser.positionFromOffset(((i=(r=this.contentOffset)==null?void 0:r.offset)!=null?i:0)+e,n)}getInterpolationNode(e){if(this.processedInterpolationRegions.has(e)){let n=this.processedInterpolationRegions.get(e);if(n.length>0&&n[0]instanceof J)return n[0]}return null}_lexerRelativeOffset(e,n=null){var a,l;let r=e;if(n!=null&&(r=n),this.parser==null){let c=new Hn;return c.index=e,c.offset=e,c}let i=e+this.rawStart.length+((l=(a=this.startPosition)==null?void 0:a.index)!=null?l:0);return this.isTagNode&&this.nameStartsOn!=null&&(i=this.nameStartsOn.index+e,Xn.isConditionalStructure(this)||(i-=this.rawStart.length)),this.parser.positionFromOffset(i,i,!0)}relativeOffset(e,n=null){var a,l;let r=e;if(n!=null&&(r=n),this.parser==null){let c=new Hn;return c.index=e,c.offset=e,c}let i=e+this.rawStart.length+((l=(a=this.startPosition)==null?void 0:a.index)!=null?l:0);return this.parser.positionFromOffset(i,i,!0)}isPaired(){return this.isClosingTag&&this.isSelfClosing==!1&&this.isOpenedBy!=null?!0:!(this.isClosedBy==null||this.isSelfClosing)}getFinalClosingTag(){return this.isClosedBy==null?this:this.isClosedBy.getFinalClosingTag()}rawContent(){return this.rawStart+this.content+this.rawEnd}getTrueRuntimeNodes(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueRuntimeNodes():this.runtimeNodes}getTrueRawContent(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueRawContent():this.rawContent()}getTrueNode(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueNode():this}getStructuralChildren(){return this.isClosedBy!=null?Rg(this.children.slice(0,-1)):Rg(this.children)}findParentOfType(e){return this.parent==null?null:this.parent instanceof J?this.parent.name!=null&&e.includes(this.parent.getTagName())?this.parent:this.parent.findParentOfType(e):null}},fi=class extends J{static makeWithStartPosition(e){let n=new fi;return n.startPosition=e,n.endPosition=e,n}},on=class extends fi{},Vi=class extends J{constructor(){super(...arguments);this.recursiveParent=null;this.isNestedRecursive=!1}},Wo=class extends J{constructor(){super(...arguments);this.isEchoNode=!1}},ku=class extends fi{},Dg=class extends fi{},ur=class extends J{constructor(){super(...arguments);this.isNoParseRegion=!1}},Yo=class extends _e{constructor(){super(...arguments);this.modifier=null;this.isModifierParameter=!1;this.nameDelimiter='"';this.isVariableReference=!1;this.name="";this.value="";this.interpolations=[];this.parent=null;this.blockPosition=null;this.namePosition=null;this.valuePosition=null}containsSimpleValue(){return this.hasInterpolations()==!1&&this.isVariableReference==!1}hasInterpolations(){return this.interpolations.length>0}getArrayValue(){return this.value.split("|")}getValue(){return this.value}},wu=class{constructor(){this.modifierTarget=null;this.modifierChain=[];this.startPosition=null;this.endPosition=null;this.lastManifestedModifier=null;this.lastModifier=null}updateValues(){if(this.modifierChain.length==0)this.startPosition=null,this.endPosition=null;else{let e=this.modifierChain[0],n=this.modifierChain[this.modifierChain.length-1];this.startPosition=e.startPosition,this.endPosition=n.endPosition}}},Yl=class extends _e{constructor(){super(...arguments);this.modifier=null;this.methodStyleArguments=null;this.nameNode=null;this.name="";this.valueNodes=[];this.parameters=[]}getParameterValues(){let e=[];return this.parameters.forEach(n=>{e.push(n.value)}),e}},Ou=class extends _e{constructor(){super(...arguments);this.order=0;this.name=null;this.directionNode=null}},Mg=class extends _e{constructor(){super(...arguments);this.value=""}},fs=class extends _e{},Bi=class extends _e{},ps=class extends _e{},pi=class extends _e{},di=class extends _e{},Ws=class extends _e{},Ja=class extends _e{constructor(){super(...arguments);this.repeat=1}},Ys=class extends _e{},hi=class extends _e{},kr=class extends _e{},ds=class extends _e{},hs=class extends _e{},mi=class extends _e{},ms=class extends _e{},gs=class extends _e{},Ks=class extends _e{},wr=class extends _e{},qi=class extends _e{},ya=class extends _e{},_s=class extends _e{},Ts=class extends _e{},ys=class extends _e{},bs=class extends _e{},vs=class extends _e{},Ns=class extends _e{},ba=class extends _e{},xs=class extends _e{},fr=class extends _e{},Ko=class extends _e{constructor(){super(...arguments);this.orderClauses=[]}},Sn=class extends _e{},Or=class extends _e{},Lu=class extends _e{constructor(){super(...arguments);this.left=null;this.right=null}},Lr=class extends _e{constructor(){super(...arguments);this.isTenaryBranchSeparator=!1}},Es=class extends _e{},Ui=class extends _e{},pr=class extends _e{},Ss=class extends _e{},$s=class extends _e{},ji=class extends _e{},Dr=class extends _e{},zs=class extends _e{},Wn=class extends _e{},Jn=class extends _e{},Kl=class extends _e{constructor(){super(...arguments);this.values=[];this.isNamedNode=!1;this.parsedName=null}},_t=class extends _e{constructor(){super(...arguments);this.start=null;this.end=null;this.nodes=[];this.scopeOperator=null}},$l=class extends _e{constructor(){super(...arguments);this.condition=null;this.expression=null}},$o=class extends _e{constructor(){super(...arguments);this.cases=[]}},Fg=class extends _e{constructor(){super(...arguments);this.left=null;this.right=null}},va=class extends _e{constructor(){super(...arguments);this.nodes=[]}},Du=class extends _e{constructor(){super(...arguments);this.head=null;this.truthBranch=null;this.falseBranch=null}},An=class extends _e{},On=class extends _e{constructor(){super(...arguments);this.nodes=[];this.separatorToken=null}},Gi=class extends _t{constructor(){super(...arguments);this.scope=null}extract(){let e=null;this.scope!=null&&(e=this.scope.name);let n=this.nodes[0];return[e,n.nodes]}},Na=class extends Gi{constructor(){super(...arguments);this.alias=null}},zl=class extends _e{constructor(){super(...arguments);this.args=[];this.hasNamedArguments=!1;this.numberOfNamedArguments=0}},Ps=class extends _e{},Vg=class extends _e{},Za=class extends _e{constructor(){super(...arguments);this.libraryName="";this.methodName="";this.arguments=null}},Et=class extends _e{constructor(){super(...arguments);this.sourceContent=""}},Zn=class extends _e{constructor(){super(...arguments);this.method=null;this.args=null}},Yn=class extends _e{constructor(){super(...arguments);this.name=""}},Kn=class extends _e{constructor(){super(...arguments);this.value="";this.name=""}},Bp=class extends _e{constructor(){super(...arguments);this.name=null;this.value=null}},Mu=class extends _e{constructor(){super(...arguments);this.name=null;this.value=null}},Ln=class extends _e{constructor(){super(...arguments);this.value=null}},Tn=class extends _e{constructor(){super(...arguments);this.value="";this.sourceTerminator="";this.sourceContent=""}},Ae=class extends _e{constructor(){super(...arguments);this.name="";this.mergeRefName="";this.variableReference=null;this.interpolationNodes=[];this.isInterpolationReference=!1}},Bg=class extends _e{constructor(){super(...arguments);this.name=""}},yr=class extends _e{constructor(){super(...arguments);this.delimiter="";this.name="";this.isStringVar=!1;this.isFinal=!1}},Qs=class{constructor(){this.originalContent="";this.normalizedReference="";this.isStrictTagReference=!1;this.isStrictVariableReference=!1;this.isExplicitVariableReference=!1;this.isVariableVariable=!1;this.pathParts=[];this.isFinal=!1;this._isFromEmptyFailState=!1}clone(){let e=new Qs;return e.originalContent=this.originalContent,e.normalizedReference=this.normalizedReference,e.isStrictVariableReference=this.isStrictVariableReference,e.isExplicitVariableReference=this.isExplicitVariableReference,e.pathParts=this.pathParts,e.isFinal=this.isFinal,e}implodePaths(){let e=[];return this.pathParts.forEach(n=>{n instanceof yr?e.push(n.name):n instanceof Qs&&e.push(n.implodePaths())}),e.join(".")}},qg=class{constructor(e,n,r){this.target=e,this.value=n,this.operator=r}}});var qp=oe(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});Dn.thenable=Dn.typedArray=Dn.stringArray=Dn.array=Dn.func=Dn.error=Dn.number=Dn.string=Dn.boolean=void 0;function t2(t){return t===!0||t===!1}Dn.boolean=t2;function eP(t){return typeof t=="string"||t instanceof String}Dn.string=eP;function n2(t){return typeof t=="number"||t instanceof Number}Dn.number=n2;function r2(t){return t instanceof Error}Dn.error=r2;function tP(t){return typeof t=="function"}Dn.func=tP;function nP(t){return Array.isArray(t)}Dn.array=nP;function i2(t){return nP(t)&&t.every(e=>eP(e))}Dn.stringArray=i2;function s2(t,e){return Array.isArray(t)&&t.every(e)}Dn.typedArray=s2;function a2(t){return t&&tP(t.then)}Dn.thenable=a2});var xa=oe(Gg=>{"use strict";Object.defineProperty(Gg,"__esModule",{value:!0});var Ug;function jg(){if(Ug===void 0)throw new Error("No runtime abstraction layer installed");return Ug}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");Ug=n}t.install=e})(jg||(jg={}));Gg.default=jg});var Hg=oe(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.Disposable=void 0;var o2;(function(t){function e(n){return{dispose:n}}t.create=e})(o2=Fu.Disposable||(Fu.Disposable={}))});var iP=oe(Up=>{"use strict";Object.defineProperty(Up,"__esModule",{value:!0});Up.AbstractMessageBuffer=void 0;var l2=13,c2=10,u2=`\r
`,rP=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let e=0,n=0,r=0,i=0;e:for(;n<this._chunks.length;){let c=this._chunks[n];r=0;t:for(;r<c.length;){switch(c[r]){case l2:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case c2:switch(e){case 1:e=2;break;case 3:e=4,r++;break e;default:e=0}break;default:e=0}r++}i+=c.byteLength,n++}if(e!==4)return;let s=this._read(i+r),a=new Map,l=this.toString(s,"ascii").split(u2);if(l.length<2)return a;for(let c=0;c<l.length-2;c++){let f=l[c],d=f.indexOf(":");if(d===-1)throw new Error("Message header must separate key and value using :");let m=f.substr(0,d),_=f.substr(d+1).trim();a.set(m,_)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],a=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,a}let n=this.allocNative(e),r=0,i=0;for(;e>0;){let s=this._chunks[i];if(s.byteLength>e){let a=s.slice(0,e);n.set(a,r),r+=e,this._chunks[i]=s.slice(e),this._totalLength-=e,e-=e}else n.set(s,r),r+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return n}};Up.AbstractMessageBuffer=rP});var cP=oe(Yg=>{"use strict";Object.defineProperty(Yg,"__esModule",{value:!0});var f2=xa(),sP=require("util"),zo=Hg(),p2=iP(),Vu=class extends p2.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return Vu.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new sP.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};Vu.emptyBuffer=Buffer.allocUnsafe(0);var aP=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),zo.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),zo.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),zo.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),zo.Disposable.create(()=>this.stream.off("data",e))}},oP=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),zo.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),zo.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),zo.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((r,i)=>{let s=a=>{a==null?r():i(a)};typeof e=="string"?this.stream.write(e,n,s):this.stream.write(e,s)})}end(){this.stream.end()}},lP=Object.freeze({messageBuffer:Object.freeze({create:t=>new Vu(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new sP.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new aP(t),asWritableStream:t=>new oP(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){return setTimeout(t,e,...n)},clearTimeout(t){clearTimeout(t)},setImmediate(t,...e){return setImmediate(t,...e)},clearImmediate(t){clearImmediate(t)}})});function Wg(){return lP}(function(t){function e(){f2.default.install(lP)}t.install=e})(Wg||(Wg={}));Yg.default=Wg});var Ql=oe(br=>{"use strict";Object.defineProperty(br,"__esModule",{value:!0});br.stringArray=br.array=br.func=br.error=br.number=br.string=br.boolean=void 0;function d2(t){return t===!0||t===!1}br.boolean=d2;function uP(t){return typeof t=="string"||t instanceof String}br.string=uP;function h2(t){return typeof t=="number"||t instanceof Number}br.number=h2;function m2(t){return t instanceof Error}br.error=m2;function g2(t){return typeof t=="function"}br.func=g2;function fP(t){return Array.isArray(t)}br.array=fP;function _2(t){return fP(t)&&t.every(e=>uP(e))}br.stringArray=_2});var Kg=oe(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.isResponseMessage=ke.isNotificationMessage=ke.isRequestMessage=ke.NotificationType9=ke.NotificationType8=ke.NotificationType7=ke.NotificationType6=ke.NotificationType5=ke.NotificationType4=ke.NotificationType3=ke.NotificationType2=ke.NotificationType1=ke.NotificationType0=ke.NotificationType=ke.RequestType9=ke.RequestType8=ke.RequestType7=ke.RequestType6=ke.RequestType5=ke.RequestType4=ke.RequestType3=ke.RequestType2=ke.RequestType1=ke.RequestType=ke.RequestType0=ke.AbstractMessageSignature=ke.ParameterStructures=ke.ResponseError=ke.ErrorCodes=void 0;var Qo=Ql(),pP;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=t.jsonrpcReservedErrorRangeStart,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=t.jsonrpcReservedErrorRangeEnd})(pP=ke.ErrorCodes||(ke.ErrorCodes={}));var jp=class extends Error{constructor(e,n,r){super(n);this.code=Qo.number(e)?e:pP.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,jp.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};ke.ResponseError=jp;var dr=class{constructor(e){this.kind=e}static is(e){return e===dr.auto||e===dr.byName||e===dr.byPosition}toString(){return this.kind}};ke.ParameterStructures=dr;dr.auto=new dr("auto");dr.byPosition=new dr("byPosition");dr.byName=new dr("byName");var dn=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return dr.auto}};ke.AbstractMessageSignature=dn;var dP=class extends dn{constructor(e){super(e,0)}};ke.RequestType0=dP;var hP=class extends dn{constructor(e,n=dr.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ke.RequestType=hP;var mP=class extends dn{constructor(e,n=dr.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ke.RequestType1=mP;var gP=class extends dn{constructor(e){super(e,2)}};ke.RequestType2=gP;var _P=class extends dn{constructor(e){super(e,3)}};ke.RequestType3=_P;var TP=class extends dn{constructor(e){super(e,4)}};ke.RequestType4=TP;var yP=class extends dn{constructor(e){super(e,5)}};ke.RequestType5=yP;var bP=class extends dn{constructor(e){super(e,6)}};ke.RequestType6=bP;var vP=class extends dn{constructor(e){super(e,7)}};ke.RequestType7=vP;var NP=class extends dn{constructor(e){super(e,8)}};ke.RequestType8=NP;var xP=class extends dn{constructor(e){super(e,9)}};ke.RequestType9=xP;var EP=class extends dn{constructor(e,n=dr.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ke.NotificationType=EP;var SP=class extends dn{constructor(e){super(e,0)}};ke.NotificationType0=SP;var PP=class extends dn{constructor(e,n=dr.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ke.NotificationType1=PP;var IP=class extends dn{constructor(e){super(e,2)}};ke.NotificationType2=IP;var CP=class extends dn{constructor(e){super(e,3)}};ke.NotificationType3=CP;var AP=class extends dn{constructor(e){super(e,4)}};ke.NotificationType4=AP;var RP=class extends dn{constructor(e){super(e,5)}};ke.NotificationType5=RP;var kP=class extends dn{constructor(e){super(e,6)}};ke.NotificationType6=kP;var wP=class extends dn{constructor(e){super(e,7)}};ke.NotificationType7=wP;var OP=class extends dn{constructor(e){super(e,8)}};ke.NotificationType8=OP;var LP=class extends dn{constructor(e){super(e,9)}};ke.NotificationType9=LP;function T2(t){let e=t;return e&&Qo.string(e.method)&&(Qo.string(e.id)||Qo.number(e.id))}ke.isRequestMessage=T2;function y2(t){let e=t;return e&&Qo.string(e.method)&&t.id===void 0}ke.isNotificationMessage=y2;function b2(t){let e=t;return e&&(e.result!==void 0||!!e.error)&&(Qo.string(e.id)||Qo.number(e.id)||e.id===null)}ke.isResponseMessage=b2});var Xl=oe(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});Xo.Emitter=Xo.Event=void 0;var v2=xa(),N2;(function(t){let e={dispose(){}};t.None=function(){return e}})(N2=Xo.Event||(Xo.Event={}));var DP=class{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===e)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,a=r.length;s<a;s++)try{n.push(r[s].apply(i[s],e))}catch(l){v2.default().console.error(l)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Bu=class{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new DP),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let i={dispose:()=>{!this._callbacks||(this._callbacks.remove(e,n),i.dispose=Bu._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Xo.Emitter=Bu;Bu._noop=function(){}});var Xg=oe(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});Jo.CancellationTokenSource=Jo.CancellationToken=void 0;var MP=xa(),x2=Ql(),$g=Xl(),zg;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:$g.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:$g.Event.None});function e(n){let r=n;return r&&(r===t.None||r===t.Cancelled||x2.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(zg=Jo.CancellationToken||(Jo.CancellationToken={}));var E2=Object.freeze(function(t,e){let n=MP.default().timer.setTimeout(t.bind(e),0);return{dispose(){MP.default().timer.clearTimeout(n)}}}),Qg=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?E2:(this._emitter||(this._emitter=new $g.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},FP=class{get token(){return this._token||(this._token=new Qg),this._token}cancel(){this._token?this._token.cancel():this._token=zg.Cancelled}dispose(){this._token?this._token instanceof Qg&&this._token.dispose():this._token=zg.None}};Jo.CancellationTokenSource=FP});var BP=oe(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.ReadableStreamMessageReader=Ea.AbstractMessageReader=Ea.MessageReader=void 0;var Gp=xa(),Jl=Ql(),Jg=Xl(),S2;(function(t){function e(n){let r=n;return r&&Jl.func(r.listen)&&Jl.func(r.dispose)&&Jl.func(r.onError)&&Jl.func(r.onClose)&&Jl.func(r.onPartialMessage)}t.is=e})(S2=Ea.MessageReader||(Ea.MessageReader={}));var Zg=class{constructor(){this.errorEmitter=new Jg.Emitter,this.closeEmitter=new Jg.Emitter,this.partialMessageEmitter=new Jg.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${Jl.string(e.message)?e.message:"unknown"}`)}};Ea.AbstractMessageReader=Zg;var e_;(function(t){function e(n){var r;let i,s,a,l=new Map,c,f=new Map;if(n===void 0||typeof n=="string")i=n??"utf-8";else{if(i=(r=n.charset)!==null&&r!==void 0?r:"utf-8",n.contentDecoder!==void 0&&(a=n.contentDecoder,l.set(a.name,a)),n.contentDecoders!==void 0)for(let d of n.contentDecoders)l.set(d.name,d);if(n.contentTypeDecoder!==void 0&&(c=n.contentTypeDecoder,f.set(c.name,c)),n.contentTypeDecoders!==void 0)for(let d of n.contentTypeDecoders)f.set(d.name,d)}return c===void 0&&(c=Gp.default().applicationJson.decoder,f.set(c.name,c)),{charset:i,contentDecoder:a,contentDecoders:l,contentTypeDecoder:c,contentTypeDecoders:f}}t.fromOptions=e})(e_||(e_={}));var VP=class extends Zg{constructor(e,n){super();this.readable=e,this.options=e_.fromOptions(n),this.buffer=Gp.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let s=i.get("Content-Length");if(!s)throw new Error("Header must provide a Content-Length property.");let a=parseInt(s);if(isNaN(a))throw new Error("Content-Length value must be a number.");this.nextMessageLength=a}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let r;this.options.contentDecoder!==void 0?r=this.options.contentDecoder.decode(n):r=Promise.resolve(n),r.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(s=>{this.callback(s)},s=>{this.fireError(s)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(Gp.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=Gp.default().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Ea.ReadableStreamMessageReader=VP});var UP=oe(Hp=>{"use strict";Object.defineProperty(Hp,"__esModule",{value:!0});Hp.Semaphore=void 0;var P2=xa(),qP=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||P2.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};Hp.Semaphore=qP});var YP=oe(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.WriteableStreamMessageWriter=Sa.AbstractMessageWriter=Sa.MessageWriter=void 0;var jP=xa(),qu=Ql(),I2=UP(),GP=Xl(),C2="Content-Length: ",HP=`\r
`,A2;(function(t){function e(n){let r=n;return r&&qu.func(r.dispose)&&qu.func(r.onClose)&&qu.func(r.onError)&&qu.func(r.write)}t.is=e})(A2=Sa.MessageWriter||(Sa.MessageWriter={}));var t_=class{constructor(){this.errorEmitter=new GP.Emitter,this.closeEmitter=new GP.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${qu.string(e.message)?e.message:"unknown"}`)}};Sa.AbstractMessageWriter=t_;var n_;(function(t){function e(n){var r,i;return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:jP.default().applicationJson.encoder}:{charset:(r=n.charset)!==null&&r!==void 0?r:"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:(i=n.contentTypeEncoder)!==null&&i!==void 0?i:jP.default().applicationJson.encoder}}t.fromOptions=e})(n_||(n_={}));var WP=class extends t_{constructor(e,n){super();this.writable=e,this.options=n_.fromOptions(n),this.errorCount=0,this.writeSemaphore=new I2.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(C2,r.byteLength.toString(),HP),i.push(HP),this.doWrite(e,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};Sa.WriteableStreamMessageWriter=WP});var $P=oe(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.LRUCache=Pa.LinkedMap=Pa.Touch=void 0;var Mr;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(Mr=Pa.Touch||(Pa.Touch={}));var r_=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,n=Mr.None){let r=this._map.get(e);if(!!r)return n!==Mr.None&&this.touch(r,n),r.value}set(e,n,r=Mr.None){let i=this._map.get(e);if(i)i.value=n,r!==Mr.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case Mr.None:this.addItemLast(i);break;case Mr.First:this.addItemFirst(i);break;case Mr.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(!!n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let r=this._state,i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.key,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}values(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.value,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}entries(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:[r.key,r.value],done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==Mr.First&&n!==Mr.Last)){if(n===Mr.First){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===Mr.Last){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r)}};Pa.LinkedMap=r_;var KP=class extends r_{constructor(e,n=1){super();this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=Mr.AsNew){return super.get(e,n)}peek(e){return super.get(e,Mr.None)}set(e,n){return super.set(e,n,Mr.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Pa.LRUCache=KP});var eI=oe(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.createMessageConnection=Qe.ConnectionOptions=Qe.CancellationStrategy=Qe.CancellationSenderStrategy=Qe.CancellationReceiverStrategy=Qe.ConnectionStrategy=Qe.ConnectionError=Qe.ConnectionErrors=Qe.LogTraceNotification=Qe.SetTraceNotification=Qe.TraceFormat=Qe.Trace=Qe.NullLogger=Qe.ProgressType=void 0;var zP=xa(),er=Ql(),We=Kg(),QP=$P(),Uu=Xl(),i_=Xg(),ju;(function(t){t.type=new We.NotificationType("$/cancelRequest")})(ju||(ju={}));var Wp;(function(t){t.type=new We.NotificationType("$/progress")})(Wp||(Wp={}));var XP=class{constructor(){}};Qe.ProgressType=XP;var s_;(function(t){function e(n){return er.func(n)}t.is=e})(s_||(s_={}));Qe.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Mn;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Verbose=2]="Verbose"})(Mn=Qe.Trace||(Qe.Trace={}));(function(t){function e(r){if(!er.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(Mn=Qe.Trace||(Qe.Trace={}));var Is;(function(t){t.Text="text",t.JSON="json"})(Is=Qe.TraceFormat||(Qe.TraceFormat={}));(function(t){function e(n){return n=n.toLowerCase(),n==="json"?t.JSON:t.Text}t.fromString=e})(Is=Qe.TraceFormat||(Qe.TraceFormat={}));var JP;(function(t){t.type=new We.NotificationType("$/setTrace")})(JP=Qe.SetTraceNotification||(Qe.SetTraceNotification={}));var a_;(function(t){t.type=new We.NotificationType("$/logTrace")})(a_=Qe.LogTraceNotification||(Qe.LogTraceNotification={}));var Yp;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(Yp=Qe.ConnectionErrors||(Qe.ConnectionErrors={}));var Zo=class extends Error{constructor(e,n){super(n);this.code=e,Object.setPrototypeOf(this,Zo.prototype)}};Qe.ConnectionError=Zo;var ZP;(function(t){function e(n){let r=n;return r&&er.func(r.cancelUndispatched)}t.is=e})(ZP=Qe.ConnectionStrategy||(Qe.ConnectionStrategy={}));var o_;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new i_.CancellationTokenSource}});function e(n){let r=n;return r&&er.func(r.createCancellationTokenSource)}t.is=e})(o_=Qe.CancellationReceiverStrategy||(Qe.CancellationReceiverStrategy={}));var l_;(function(t){t.Message=Object.freeze({sendCancellation(n,r){n.sendNotification(ju.type,{id:r})},cleanup(n){}});function e(n){let r=n;return r&&er.func(r.sendCancellation)&&er.func(r.cleanup)}t.is=e})(l_=Qe.CancellationSenderStrategy||(Qe.CancellationSenderStrategy={}));var c_;(function(t){t.Message=Object.freeze({receiver:o_.Message,sender:l_.Message});function e(n){let r=n;return r&&o_.is(r.receiver)&&l_.is(r.sender)}t.is=e})(c_=Qe.CancellationStrategy||(Qe.CancellationStrategy={}));var R2;(function(t){function e(n){let r=n;return r&&(c_.is(r.cancellationStrategy)||ZP.is(r.connectionStrategy))}t.is=e})(R2=Qe.ConnectionOptions||(Qe.ConnectionOptions={}));var Cs;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(Cs||(Cs={}));function k2(t,e,n,r){let i=n!==void 0?n:Qe.NullLogger,s=0,a=0,l=0,c="2.0",f,d=Object.create(null),m,_=Object.create(null),g=new Map,T,N=new QP.LinkedMap,A=Object.create(null),b=Object.create(null),x=Mn.Off,v=Is.Text,I,O=Cs.New,X=new Uu.Emitter,Y=new Uu.Emitter,te=new Uu.Emitter,ue=new Uu.Emitter,de=new Uu.Emitter,ie=r&&r.cancellationStrategy?r.cancellationStrategy:c_.Message;function pe(w){if(w===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+w.toString()}function rt(w){return w===null?"res-unknown-"+(++l).toString():"res-"+w.toString()}function Te(){return"not-"+(++a).toString()}function le(w,L){We.isRequestMessage(L)?w.set(pe(L.id),L):We.isResponseMessage(L)?w.set(rt(L.id),L):w.set(Te(),L)}function dt(w){}function At(){return O===Cs.Listening}function vn(){return O===Cs.Closed}function ze(){return O===Cs.Disposed}function Ht(){(O===Cs.New||O===Cs.Listening)&&(O=Cs.Closed,Y.fire(void 0))}function wn(w){X.fire([w,void 0,void 0])}function Qn(w){X.fire(w)}t.onClose(Ht),t.onError(wn),e.onClose(Ht),e.onError(Qn);function Se(){T||N.size===0||(T=zP.default().timer.setImmediate(()=>{T=void 0,Pe()}))}function Pe(){if(N.size===0)return;let w=N.shift();try{We.isRequestMessage(w)?xe(w):We.isNotificationMessage(w)?ht(w):We.isResponseMessage(w)?Ve(w):Pr(w)}finally{Se()}}let Ce=w=>{try{if(We.isNotificationMessage(w)&&w.method===ju.type.method){let L=pe(w.params.id),E=N.get(L);if(We.isRequestMessage(E)){let q=r==null?void 0:r.connectionStrategy,H=q&&q.cancelUndispatched?q.cancelUndispatched(E,dt):void 0;if(H&&(H.error!==void 0||H.result!==void 0)){N.delete(L),H.id=E.id,Ci(H,w.method,Date.now()),e.write(H);return}}}le(N,w)}finally{Se()}};function xe(w){if(ze())return;function L(Q,ve,Le){let De={jsonrpc:c,id:w.id};Q instanceof We.ResponseError?De.error=Q.toJson():De.result=Q===void 0?null:Q,Ci(De,ve,Le),e.write(De)}function E(Q,ve,Le){let De={jsonrpc:c,id:w.id,error:Q.toJson()};Ci(De,ve,Le),e.write(De)}function q(Q,ve,Le){Q===void 0&&(Q=null);let De={jsonrpc:c,id:w.id,result:Q};Ci(De,ve,Le),e.write(De)}ri(w);let H=d[w.method],F,S;H&&(F=H.type,S=H.handler);let G=Date.now();if(S||f){let Q=String(w.id),ve=ie.receiver.createCancellationTokenSource(Q);b[Q]=ve;try{let Le;if(S)if(w.params===void 0){if(F!==void 0&&F.numberOfParams!==0){E(new We.ResponseError(We.ErrorCodes.InvalidParams,`Request ${w.method} defines ${F.numberOfParams} params but recevied none.`),w.method,G);return}Le=S(ve.token)}else if(Array.isArray(w.params)){if(F!==void 0&&F.parameterStructures===We.ParameterStructures.byName){E(new We.ResponseError(We.ErrorCodes.InvalidParams,`Request ${w.method} defines parameters by name but received parameters by position`),w.method,G);return}Le=S(...w.params,ve.token)}else{if(F!==void 0&&F.parameterStructures===We.ParameterStructures.byPosition){E(new We.ResponseError(We.ErrorCodes.InvalidParams,`Request ${w.method} defines parameters by position but received parameters by name`),w.method,G);return}Le=S(w.params,ve.token)}else f&&(Le=f(w.method,w.params,ve.token));let De=Le;Le?De.then?De.then(qt=>{delete b[Q],L(qt,w.method,G)},qt=>{delete b[Q],qt instanceof We.ResponseError?E(qt,w.method,G):qt&&er.string(qt.message)?E(new We.ResponseError(We.ErrorCodes.InternalError,`Request ${w.method} failed with message: ${qt.message}`),w.method,G):E(new We.ResponseError(We.ErrorCodes.InternalError,`Request ${w.method} failed unexpectedly without providing any details.`),w.method,G)}):(delete b[Q],L(Le,w.method,G)):(delete b[Q],q(Le,w.method,G))}catch(Le){delete b[Q],Le instanceof We.ResponseError?L(Le,w.method,G):Le&&er.string(Le.message)?E(new We.ResponseError(We.ErrorCodes.InternalError,`Request ${w.method} failed with message: ${Le.message}`),w.method,G):E(new We.ResponseError(We.ErrorCodes.InternalError,`Request ${w.method} failed unexpectedly without providing any details.`),w.method,G)}}else E(new We.ResponseError(We.ErrorCodes.MethodNotFound,`Unhandled method ${w.method}`),w.method,G)}function Ve(w){if(!ze())if(w.id===null)w.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(w.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let L=String(w.id),E=A[L];if(pa(w,E),E){delete A[L];try{if(w.error){let q=w.error;E.reject(new We.ResponseError(q.code,q.message,q.data))}else if(w.result!==void 0)E.resolve(w.result);else throw new Error("Should never happen.")}catch(q){q.message?i.error(`Response handler '${E.method}' failed with message: ${q.message}`):i.error(`Response handler '${E.method}' failed unexpectedly.`)}}}}function ht(w){if(ze())return;let L,E;if(w.method===ju.type.method)E=q=>{let H=q.id,F=b[String(H)];F&&F.cancel()};else{let q=_[w.method];q&&(E=q.handler,L=q.type)}if(E||m)try{ft(w),E?w.params===void 0?(L!==void 0&&L.numberOfParams!==0&&L.parameterStructures!==We.ParameterStructures.byName&&i.error(`Notification ${w.method} defines ${L.numberOfParams} params but recevied none.`),E()):Array.isArray(w.params)?(L!==void 0&&(L.parameterStructures===We.ParameterStructures.byName&&i.error(`Notification ${w.method} defines parameters by name but received parameters by position`),L.numberOfParams!==w.params.length&&i.error(`Notification ${w.method} defines ${L.numberOfParams} params but received ${w.params.length} argumennts`)),E(...w.params)):(L!==void 0&&L.parameterStructures===We.ParameterStructures.byPosition&&i.error(`Notification ${w.method} defines parameters by position but received parameters by name`),E(w.params)):m&&m(w.method,w.params)}catch(q){q.message?i.error(`Notification handler '${w.method}' failed with message: ${q.message}`):i.error(`Notification handler '${w.method}' failed unexpectedly.`)}else te.fire(w)}function Pr(w){if(!w){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(w,null,4)}`);let L=w;if(er.string(L.id)||er.number(L.id)){let E=String(L.id),q=A[E];q&&q.reject(new Error("The received response has neither a result nor an error property."))}}function ua(w){if(!(x===Mn.Off||!I))if(v===Is.Text){let L;x===Mn.Verbose&&w.params&&(L=`Params: ${JSON.stringify(w.params,null,4)}

`),I.log(`Sending request '${w.method} - (${w.id})'.`,L)}else ye("send-request",w)}function fa(w){if(!(x===Mn.Off||!I))if(v===Is.Text){let L;x===Mn.Verbose&&(w.params?L=`Params: ${JSON.stringify(w.params,null,4)}

`:L=`No parameters provided.

`),I.log(`Sending notification '${w.method}'.`,L)}else ye("send-notification",w)}function Ci(w,L,E){if(!(x===Mn.Off||!I))if(v===Is.Text){let q;x===Mn.Verbose&&(w.error&&w.error.data?q=`Error data: ${JSON.stringify(w.error.data,null,4)}

`:w.result?q=`Result: ${JSON.stringify(w.result,null,4)}

`:w.error===void 0&&(q=`No result returned.

`)),I.log(`Sending response '${L} - (${w.id})'. Processing request took ${Date.now()-E}ms`,q)}else ye("send-response",w)}function ri(w){if(!(x===Mn.Off||!I))if(v===Is.Text){let L;x===Mn.Verbose&&w.params&&(L=`Params: ${JSON.stringify(w.params,null,4)}

`),I.log(`Received request '${w.method} - (${w.id})'.`,L)}else ye("receive-request",w)}function ft(w){if(!(x===Mn.Off||!I||w.method===a_.type.method))if(v===Is.Text){let L;x===Mn.Verbose&&(w.params?L=`Params: ${JSON.stringify(w.params,null,4)}

`:L=`No parameters provided.

`),I.log(`Received notification '${w.method}'.`,L)}else ye("receive-notification",w)}function pa(w,L){if(!(x===Mn.Off||!I))if(v===Is.Text){let E;if(x===Mn.Verbose&&(w.error&&w.error.data?E=`Error data: ${JSON.stringify(w.error.data,null,4)}

`:w.result?E=`Result: ${JSON.stringify(w.result,null,4)}

`:w.error===void 0&&(E=`No result returned.

`)),L){let q=w.error?` Request failed: ${w.error.message} (${w.error.code}).`:"";I.log(`Received response '${L.method} - (${w.id})' in ${Date.now()-L.timerStart}ms.${q}`,E)}else I.log(`Received response ${w.id} without active response promise.`,E)}else ye("receive-response",w)}function ye(w,L){if(!I||x===Mn.Off)return;let E={isLSPMessage:!0,type:w,message:L,timestamp:Date.now()};I.log(E)}function un(){if(vn())throw new Zo(Yp.Closed,"Connection is closed.");if(ze())throw new Zo(Yp.Disposed,"Connection is disposed.")}function ts(){if(At())throw new Zo(Yp.AlreadyListening,"Connection is already listening")}function ns(){if(!At())throw new Error("Call listen() first.")}function ii(w){return w===void 0?null:w}function Ai(w){if(w!==null)return w}function rs(w){return w!=null&&!Array.isArray(w)&&typeof w=="object"}function Ri(w,L){switch(w){case We.ParameterStructures.auto:return rs(L)?Ai(L):[ii(L)];case We.ParameterStructures.byName:if(!rs(L))throw new Error("Recevied parameters by name but param is not an object literal.");return Ai(L);case We.ParameterStructures.byPosition:return[ii(L)];default:throw new Error(`Unknown parameter structure ${w.toString()}`)}}function ki(w,L){let E,q=w.numberOfParams;switch(q){case 0:E=void 0;break;case 1:E=Ri(w.parameterStructures,L[0]);break;default:E=[];for(let H=0;H<L.length&&H<q;H++)E.push(ii(L[H]));if(L.length<q)for(let H=L.length;H<q;H++)E.push(null);break}return E}let Ir={sendNotification:(w,...L)=>{un();let E,q;if(er.string(w)){E=w;let F=L[0],S=0,G=We.ParameterStructures.auto;We.ParameterStructures.is(F)&&(S=1,G=F);let Q=L.length,ve=Q-S;switch(ve){case 0:q=void 0;break;case 1:q=Ri(G,L[S]);break;default:if(G===We.ParameterStructures.byName)throw new Error(`Recevied ${ve} parameters for 'by Name' notification parameter structure.`);q=L.slice(S,Q).map(Le=>ii(Le));break}}else{let F=L;E=w.method,q=ki(w,F)}let H={jsonrpc:c,method:E,params:q};fa(H),e.write(H)},onNotification:(w,L)=>{un();let E;return er.func(w)?m=w:L&&(er.string(w)?(E=w,_[w]={type:void 0,handler:L}):(E=w.method,_[w.method]={type:w,handler:L})),{dispose:()=>{E!==void 0?delete _[E]:m=void 0}}},onProgress:(w,L,E)=>{if(g.has(L))throw new Error(`Progress handler for token ${L} already registered`);return g.set(L,E),{dispose:()=>{g.delete(L)}}},sendProgress:(w,L,E)=>{Ir.sendNotification(Wp.type,{token:L,value:E})},onUnhandledProgress:ue.event,sendRequest:(w,...L)=>{un(),ns();let E,q,H;if(er.string(w)){E=w;let Q=L[0],ve=L[L.length-1],Le=0,De=We.ParameterStructures.auto;We.ParameterStructures.is(Q)&&(Le=1,De=Q);let qt=L.length;i_.CancellationToken.is(ve)&&(qt=qt-1,H=ve);let Pn=qt-Le;switch(Pn){case 0:q=void 0;break;case 1:q=Ri(De,L[Le]);break;default:if(De===We.ParameterStructures.byName)throw new Error(`Recevied ${Pn} parameters for 'by Name' request parameter structure.`);q=L.slice(Le,qt).map(In=>ii(In));break}}else{let Q=L;E=w.method,q=ki(w,Q);let ve=w.numberOfParams;H=i_.CancellationToken.is(Q[ve])?Q[ve]:void 0}let F=s++,S;return H&&(S=H.onCancellationRequested(()=>{ie.sender.sendCancellation(Ir,F)})),new Promise((Q,ve)=>{let Le={jsonrpc:c,id:F,method:E,params:q},De=In=>{Q(In),ie.sender.cleanup(F),S==null||S.dispose()},qt=In=>{ve(In),ie.sender.cleanup(F),S==null||S.dispose()},Pn={method:E,timerStart:Date.now(),resolve:De,reject:qt};ua(Le);try{e.write(Le)}catch(In){Pn.reject(new We.ResponseError(We.ErrorCodes.MessageWriteError,In.message?In.message:"Unknown reason")),Pn=null}Pn&&(A[String(F)]=Pn)})},onRequest:(w,L)=>{un();let E=null;return s_.is(w)?(E=void 0,f=w):er.string(w)?(E=null,L!==void 0&&(E=w,d[w]={handler:L,type:void 0})):L!==void 0&&(E=w.method,d[w.method]={type:w,handler:L}),{dispose:()=>{E!==null&&(E!==void 0?delete d[E]:f=void 0)}}},trace:(w,L,E)=>{let q=!1,H=Is.Text;E!==void 0&&(er.boolean(E)?q=E:(q=E.sendNotification||!1,H=E.traceFormat||Is.Text)),x=w,v=H,x===Mn.Off?I=void 0:I=L,q&&!vn()&&!ze()&&Ir.sendNotification(JP.type,{value:Mn.toString(w)})},onError:X.event,onClose:Y.event,onUnhandledNotification:te.event,onDispose:de.event,end:()=>{e.end()},dispose:()=>{if(ze())return;O=Cs.Disposed,de.fire(void 0);let w=new Error("Connection got disposed.");Object.keys(A).forEach(L=>{A[L].reject(w)}),A=Object.create(null),b=Object.create(null),N=new QP.LinkedMap,er.func(e.dispose)&&e.dispose(),er.func(t.dispose)&&t.dispose()},listen:()=>{un(),ts(),O=Cs.Listening,t.listen(Ce)},inspect:()=>{zP.default().console.log("inspect")}};return Ir.onNotification(a_.type,w=>{x===Mn.Off||!I||I.log(w.message,x===Mn.Verbose?w.verbose:void 0)}),Ir.onNotification(Wp.type,w=>{let L=g.get(w.token);L?L(w.value):ue.fire(w)}),Ir}Qe.createMessageConnection=k2});var p_=oe(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.CancellationSenderStrategy=ne.CancellationReceiverStrategy=ne.ConnectionError=ne.ConnectionErrors=ne.LogTraceNotification=ne.SetTraceNotification=ne.TraceFormat=ne.Trace=ne.ProgressType=ne.createMessageConnection=ne.NullLogger=ne.ConnectionOptions=ne.ConnectionStrategy=ne.WriteableStreamMessageWriter=ne.AbstractMessageWriter=ne.MessageWriter=ne.ReadableStreamMessageReader=ne.AbstractMessageReader=ne.MessageReader=ne.CancellationToken=ne.CancellationTokenSource=ne.Emitter=ne.Event=ne.Disposable=ne.ParameterStructures=ne.NotificationType9=ne.NotificationType8=ne.NotificationType7=ne.NotificationType6=ne.NotificationType5=ne.NotificationType4=ne.NotificationType3=ne.NotificationType2=ne.NotificationType1=ne.NotificationType0=ne.NotificationType=ne.ErrorCodes=ne.ResponseError=ne.RequestType9=ne.RequestType8=ne.RequestType7=ne.RequestType6=ne.RequestType5=ne.RequestType4=ne.RequestType3=ne.RequestType2=ne.RequestType1=ne.RequestType0=ne.RequestType=ne.RAL=void 0;ne.CancellationStrategy=void 0;var ln=Kg();Object.defineProperty(ne,"RequestType",{enumerable:!0,get:function(){return ln.RequestType}});Object.defineProperty(ne,"RequestType0",{enumerable:!0,get:function(){return ln.RequestType0}});Object.defineProperty(ne,"RequestType1",{enumerable:!0,get:function(){return ln.RequestType1}});Object.defineProperty(ne,"RequestType2",{enumerable:!0,get:function(){return ln.RequestType2}});Object.defineProperty(ne,"RequestType3",{enumerable:!0,get:function(){return ln.RequestType3}});Object.defineProperty(ne,"RequestType4",{enumerable:!0,get:function(){return ln.RequestType4}});Object.defineProperty(ne,"RequestType5",{enumerable:!0,get:function(){return ln.RequestType5}});Object.defineProperty(ne,"RequestType6",{enumerable:!0,get:function(){return ln.RequestType6}});Object.defineProperty(ne,"RequestType7",{enumerable:!0,get:function(){return ln.RequestType7}});Object.defineProperty(ne,"RequestType8",{enumerable:!0,get:function(){return ln.RequestType8}});Object.defineProperty(ne,"RequestType9",{enumerable:!0,get:function(){return ln.RequestType9}});Object.defineProperty(ne,"ResponseError",{enumerable:!0,get:function(){return ln.ResponseError}});Object.defineProperty(ne,"ErrorCodes",{enumerable:!0,get:function(){return ln.ErrorCodes}});Object.defineProperty(ne,"NotificationType",{enumerable:!0,get:function(){return ln.NotificationType}});Object.defineProperty(ne,"NotificationType0",{enumerable:!0,get:function(){return ln.NotificationType0}});Object.defineProperty(ne,"NotificationType1",{enumerable:!0,get:function(){return ln.NotificationType1}});Object.defineProperty(ne,"NotificationType2",{enumerable:!0,get:function(){return ln.NotificationType2}});Object.defineProperty(ne,"NotificationType3",{enumerable:!0,get:function(){return ln.NotificationType3}});Object.defineProperty(ne,"NotificationType4",{enumerable:!0,get:function(){return ln.NotificationType4}});Object.defineProperty(ne,"NotificationType5",{enumerable:!0,get:function(){return ln.NotificationType5}});Object.defineProperty(ne,"NotificationType6",{enumerable:!0,get:function(){return ln.NotificationType6}});Object.defineProperty(ne,"NotificationType7",{enumerable:!0,get:function(){return ln.NotificationType7}});Object.defineProperty(ne,"NotificationType8",{enumerable:!0,get:function(){return ln.NotificationType8}});Object.defineProperty(ne,"NotificationType9",{enumerable:!0,get:function(){return ln.NotificationType9}});Object.defineProperty(ne,"ParameterStructures",{enumerable:!0,get:function(){return ln.ParameterStructures}});var w2=Hg();Object.defineProperty(ne,"Disposable",{enumerable:!0,get:function(){return w2.Disposable}});var tI=Xl();Object.defineProperty(ne,"Event",{enumerable:!0,get:function(){return tI.Event}});Object.defineProperty(ne,"Emitter",{enumerable:!0,get:function(){return tI.Emitter}});var nI=Xg();Object.defineProperty(ne,"CancellationTokenSource",{enumerable:!0,get:function(){return nI.CancellationTokenSource}});Object.defineProperty(ne,"CancellationToken",{enumerable:!0,get:function(){return nI.CancellationToken}});var u_=BP();Object.defineProperty(ne,"MessageReader",{enumerable:!0,get:function(){return u_.MessageReader}});Object.defineProperty(ne,"AbstractMessageReader",{enumerable:!0,get:function(){return u_.AbstractMessageReader}});Object.defineProperty(ne,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return u_.ReadableStreamMessageReader}});var f_=YP();Object.defineProperty(ne,"MessageWriter",{enumerable:!0,get:function(){return f_.MessageWriter}});Object.defineProperty(ne,"AbstractMessageWriter",{enumerable:!0,get:function(){return f_.AbstractMessageWriter}});Object.defineProperty(ne,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return f_.WriteableStreamMessageWriter}});var Qr=eI();Object.defineProperty(ne,"ConnectionStrategy",{enumerable:!0,get:function(){return Qr.ConnectionStrategy}});Object.defineProperty(ne,"ConnectionOptions",{enumerable:!0,get:function(){return Qr.ConnectionOptions}});Object.defineProperty(ne,"NullLogger",{enumerable:!0,get:function(){return Qr.NullLogger}});Object.defineProperty(ne,"createMessageConnection",{enumerable:!0,get:function(){return Qr.createMessageConnection}});Object.defineProperty(ne,"ProgressType",{enumerable:!0,get:function(){return Qr.ProgressType}});Object.defineProperty(ne,"Trace",{enumerable:!0,get:function(){return Qr.Trace}});Object.defineProperty(ne,"TraceFormat",{enumerable:!0,get:function(){return Qr.TraceFormat}});Object.defineProperty(ne,"SetTraceNotification",{enumerable:!0,get:function(){return Qr.SetTraceNotification}});Object.defineProperty(ne,"LogTraceNotification",{enumerable:!0,get:function(){return Qr.LogTraceNotification}});Object.defineProperty(ne,"ConnectionErrors",{enumerable:!0,get:function(){return Qr.ConnectionErrors}});Object.defineProperty(ne,"ConnectionError",{enumerable:!0,get:function(){return Qr.ConnectionError}});Object.defineProperty(ne,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Qr.CancellationReceiverStrategy}});Object.defineProperty(ne,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Qr.CancellationSenderStrategy}});Object.defineProperty(ne,"CancellationStrategy",{enumerable:!0,get:function(){return Qr.CancellationStrategy}});var O2=xa();ne.RAL=O2.default});var nc=oe(Ft=>{"use strict";var L2=Ft&&Ft.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),D2=Ft&&Ft.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&L2(e,t,n)};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.createMessageConnection=Ft.createServerSocketTransport=Ft.createClientSocketTransport=Ft.createServerPipeTransport=Ft.createClientPipeTransport=Ft.generateRandomPipeName=Ft.StreamMessageWriter=Ft.StreamMessageReader=Ft.SocketMessageWriter=Ft.SocketMessageReader=Ft.IPCMessageWriter=Ft.IPCMessageReader=void 0;var Zl=cP();Zl.default.install();var Xs=p_(),rI=require("path"),M2=require("os"),F2=require("crypto"),Kp=require("net");D2(p_(),Ft);var iI=class extends Xs.AbstractMessageReader{constructor(e){super();this.process=e;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Xs.Disposable.create(()=>this.process.off("message",e))}};Ft.IPCMessageReader=iI;var sI=class extends Xs.AbstractMessageWriter{constructor(e){super();this.process=e,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};Ft.IPCMessageWriter=sI;var ec=class extends Xs.ReadableStreamMessageReader{constructor(e,n="utf-8"){super(Zl.default().stream.asReadableStream(e),n)}};Ft.SocketMessageReader=ec;var tc=class extends Xs.WriteableStreamMessageWriter{constructor(e,n){super(Zl.default().stream.asWritableStream(e),n);this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};Ft.SocketMessageWriter=tc;var d_=class extends Xs.ReadableStreamMessageReader{constructor(e,n){super(Zl.default().stream.asReadableStream(e),n)}};Ft.StreamMessageReader=d_;var h_=class extends Xs.WriteableStreamMessageWriter{constructor(e,n){super(Zl.default().stream.asWritableStream(e),n)}};Ft.StreamMessageWriter=h_;var aI=process.env.XDG_RUNTIME_DIR,V2=new Map([["linux",107],["darwin",103]]);function B2(){let t=F2.randomBytes(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;aI?e=rI.join(aI,`vscode-ipc-${t}.sock`):e=rI.join(M2.tmpdir(),`vscode-${t}.sock`);let n=V2.get(process.platform);return n!==void 0&&e.length>=n&&Zl.default().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}Ft.generateRandomPipeName=B2;function q2(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let a=Kp.createServer(l=>{a.close(),n([new ec(l,e),new tc(l,e)])});a.on("error",s),a.listen(t,()=>{a.removeListener("error",s),i({onConnected:()=>r})})})}Ft.createClientPipeTransport=q2;function U2(t,e="utf-8"){let n=Kp.createConnection(t);return[new ec(n,e),new tc(n,e)]}Ft.createServerPipeTransport=U2;function j2(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let a=Kp.createServer(l=>{a.close(),n([new ec(l,e),new tc(l,e)])});a.on("error",s),a.listen(t,"127.0.0.1",()=>{a.removeListener("error",s),i({onConnected:()=>r})})})}Ft.createClientSocketTransport=j2;function G2(t,e="utf-8"){let n=Kp.createConnection(t,"127.0.0.1");return[new ec(n,e),new tc(n,e)]}Ft.createServerSocketTransport=G2;function H2(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function W2(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function Y2(t,e,n,r){n||(n=Xs.NullLogger);let i=H2(t)?new d_(t):t,s=W2(e)?new h_(e):e;return Xs.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),Xs.createMessageConnection(i,s,n,r)}Ft.createMessageConnection=Y2});var m_=oe((M7,oI)=>{"use strict";oI.exports=nc()});var tn=oe((lI,$p)=>{(function(t){if(typeof $p=="object"&&typeof $p.exports=="object"){var e=t(require,lI);e!==void 0&&($p.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionKind=e.DocumentSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=void 0;var n;(function(E){E.MIN_VALUE=-2147483648,E.MAX_VALUE=2147483647})(n=e.integer||(e.integer={}));var r;(function(E){E.MIN_VALUE=0,E.MAX_VALUE=2147483647})(r=e.uinteger||(e.uinteger={}));var i;(function(E){function q(F,S){return F===Number.MAX_VALUE&&(F=r.MAX_VALUE),S===Number.MAX_VALUE&&(S=r.MAX_VALUE),{line:F,character:S}}E.create=q;function H(F){var S=F;return L.objectLiteral(S)&&L.uinteger(S.line)&&L.uinteger(S.character)}E.is=H})(i=e.Position||(e.Position={}));var s;(function(E){function q(F,S,G,Q){if(L.uinteger(F)&&L.uinteger(S)&&L.uinteger(G)&&L.uinteger(Q))return{start:i.create(F,S),end:i.create(G,Q)};if(i.is(F)&&i.is(S))return{start:F,end:S};throw new Error("Range#create called with invalid arguments["+F+", "+S+", "+G+", "+Q+"]")}E.create=q;function H(F){var S=F;return L.objectLiteral(S)&&i.is(S.start)&&i.is(S.end)}E.is=H})(s=e.Range||(e.Range={}));var a;(function(E){function q(F,S){return{uri:F,range:S}}E.create=q;function H(F){var S=F;return L.defined(S)&&s.is(S.range)&&(L.string(S.uri)||L.undefined(S.uri))}E.is=H})(a=e.Location||(e.Location={}));var l;(function(E){function q(F,S,G,Q){return{targetUri:F,targetRange:S,targetSelectionRange:G,originSelectionRange:Q}}E.create=q;function H(F){var S=F;return L.defined(S)&&s.is(S.targetRange)&&L.string(S.targetUri)&&(s.is(S.targetSelectionRange)||L.undefined(S.targetSelectionRange))&&(s.is(S.originSelectionRange)||L.undefined(S.originSelectionRange))}E.is=H})(l=e.LocationLink||(e.LocationLink={}));var c;(function(E){function q(F,S,G,Q){return{red:F,green:S,blue:G,alpha:Q}}E.create=q;function H(F){var S=F;return L.numberRange(S.red,0,1)&&L.numberRange(S.green,0,1)&&L.numberRange(S.blue,0,1)&&L.numberRange(S.alpha,0,1)}E.is=H})(c=e.Color||(e.Color={}));var f;(function(E){function q(F,S){return{range:F,color:S}}E.create=q;function H(F){var S=F;return s.is(S.range)&&c.is(S.color)}E.is=H})(f=e.ColorInformation||(e.ColorInformation={}));var d;(function(E){function q(F,S,G){return{label:F,textEdit:S,additionalTextEdits:G}}E.create=q;function H(F){var S=F;return L.string(S.label)&&(L.undefined(S.textEdit)||v.is(S))&&(L.undefined(S.additionalTextEdits)||L.typedArray(S.additionalTextEdits,v.is))}E.is=H})(d=e.ColorPresentation||(e.ColorPresentation={}));var m;(function(E){E.Comment="comment",E.Imports="imports",E.Region="region"})(m=e.FoldingRangeKind||(e.FoldingRangeKind={}));var _;(function(E){function q(F,S,G,Q,ve){var Le={startLine:F,endLine:S};return L.defined(G)&&(Le.startCharacter=G),L.defined(Q)&&(Le.endCharacter=Q),L.defined(ve)&&(Le.kind=ve),Le}E.create=q;function H(F){var S=F;return L.uinteger(S.startLine)&&L.uinteger(S.startLine)&&(L.undefined(S.startCharacter)||L.uinteger(S.startCharacter))&&(L.undefined(S.endCharacter)||L.uinteger(S.endCharacter))&&(L.undefined(S.kind)||L.string(S.kind))}E.is=H})(_=e.FoldingRange||(e.FoldingRange={}));var g;(function(E){function q(F,S){return{location:F,message:S}}E.create=q;function H(F){var S=F;return L.defined(S)&&a.is(S.location)&&L.string(S.message)}E.is=H})(g=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var T;(function(E){E.Error=1,E.Warning=2,E.Information=3,E.Hint=4})(T=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var N;(function(E){E.Unnecessary=1,E.Deprecated=2})(N=e.DiagnosticTag||(e.DiagnosticTag={}));var A;(function(E){function q(H){var F=H;return F!=null&&L.string(F.href)}E.is=q})(A=e.CodeDescription||(e.CodeDescription={}));var b;(function(E){function q(F,S,G,Q,ve,Le){var De={range:F,message:S};return L.defined(G)&&(De.severity=G),L.defined(Q)&&(De.code=Q),L.defined(ve)&&(De.source=ve),L.defined(Le)&&(De.relatedInformation=Le),De}E.create=q;function H(F){var S,G=F;return L.defined(G)&&s.is(G.range)&&L.string(G.message)&&(L.number(G.severity)||L.undefined(G.severity))&&(L.integer(G.code)||L.string(G.code)||L.undefined(G.code))&&(L.undefined(G.codeDescription)||L.string((S=G.codeDescription)===null||S===void 0?void 0:S.href))&&(L.string(G.source)||L.undefined(G.source))&&(L.undefined(G.relatedInformation)||L.typedArray(G.relatedInformation,g.is))}E.is=H})(b=e.Diagnostic||(e.Diagnostic={}));var x;(function(E){function q(F,S){for(var G=[],Q=2;Q<arguments.length;Q++)G[Q-2]=arguments[Q];var ve={title:F,command:S};return L.defined(G)&&G.length>0&&(ve.arguments=G),ve}E.create=q;function H(F){var S=F;return L.defined(S)&&L.string(S.title)&&L.string(S.command)}E.is=H})(x=e.Command||(e.Command={}));var v;(function(E){function q(G,Q){return{range:G,newText:Q}}E.replace=q;function H(G,Q){return{range:{start:G,end:G},newText:Q}}E.insert=H;function F(G){return{range:G,newText:""}}E.del=F;function S(G){var Q=G;return L.objectLiteral(Q)&&L.string(Q.newText)&&s.is(Q.range)}E.is=S})(v=e.TextEdit||(e.TextEdit={}));var I;(function(E){function q(F,S,G){var Q={label:F};return S!==void 0&&(Q.needsConfirmation=S),G!==void 0&&(Q.description=G),Q}E.create=q;function H(F){var S=F;return S!==void 0&&L.objectLiteral(S)&&L.string(S.label)&&(L.boolean(S.needsConfirmation)||S.needsConfirmation===void 0)&&(L.string(S.description)||S.description===void 0)}E.is=H})(I=e.ChangeAnnotation||(e.ChangeAnnotation={}));var O;(function(E){function q(H){var F=H;return typeof F=="string"}E.is=q})(O=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var X;(function(E){function q(G,Q,ve){return{range:G,newText:Q,annotationId:ve}}E.replace=q;function H(G,Q,ve){return{range:{start:G,end:G},newText:Q,annotationId:ve}}E.insert=H;function F(G,Q){return{range:G,newText:"",annotationId:Q}}E.del=F;function S(G){var Q=G;return v.is(Q)&&(I.is(Q.annotationId)||O.is(Q.annotationId))}E.is=S})(X=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var Y;(function(E){function q(F,S){return{textDocument:F,edits:S}}E.create=q;function H(F){var S=F;return L.defined(S)&&At.is(S.textDocument)&&Array.isArray(S.edits)}E.is=H})(Y=e.TextDocumentEdit||(e.TextDocumentEdit={}));var te;(function(E){function q(F,S,G){var Q={kind:"create",uri:F};return S!==void 0&&(S.overwrite!==void 0||S.ignoreIfExists!==void 0)&&(Q.options=S),G!==void 0&&(Q.annotationId=G),Q}E.create=q;function H(F){var S=F;return S&&S.kind==="create"&&L.string(S.uri)&&(S.options===void 0||(S.options.overwrite===void 0||L.boolean(S.options.overwrite))&&(S.options.ignoreIfExists===void 0||L.boolean(S.options.ignoreIfExists)))&&(S.annotationId===void 0||O.is(S.annotationId))}E.is=H})(te=e.CreateFile||(e.CreateFile={}));var ue;(function(E){function q(F,S,G,Q){var ve={kind:"rename",oldUri:F,newUri:S};return G!==void 0&&(G.overwrite!==void 0||G.ignoreIfExists!==void 0)&&(ve.options=G),Q!==void 0&&(ve.annotationId=Q),ve}E.create=q;function H(F){var S=F;return S&&S.kind==="rename"&&L.string(S.oldUri)&&L.string(S.newUri)&&(S.options===void 0||(S.options.overwrite===void 0||L.boolean(S.options.overwrite))&&(S.options.ignoreIfExists===void 0||L.boolean(S.options.ignoreIfExists)))&&(S.annotationId===void 0||O.is(S.annotationId))}E.is=H})(ue=e.RenameFile||(e.RenameFile={}));var de;(function(E){function q(F,S,G){var Q={kind:"delete",uri:F};return S!==void 0&&(S.recursive!==void 0||S.ignoreIfNotExists!==void 0)&&(Q.options=S),G!==void 0&&(Q.annotationId=G),Q}E.create=q;function H(F){var S=F;return S&&S.kind==="delete"&&L.string(S.uri)&&(S.options===void 0||(S.options.recursive===void 0||L.boolean(S.options.recursive))&&(S.options.ignoreIfNotExists===void 0||L.boolean(S.options.ignoreIfNotExists)))&&(S.annotationId===void 0||O.is(S.annotationId))}E.is=H})(de=e.DeleteFile||(e.DeleteFile={}));var ie;(function(E){function q(H){var F=H;return F&&(F.changes!==void 0||F.documentChanges!==void 0)&&(F.documentChanges===void 0||F.documentChanges.every(function(S){return L.string(S.kind)?te.is(S)||ue.is(S)||de.is(S):Y.is(S)}))}E.is=q})(ie=e.WorkspaceEdit||(e.WorkspaceEdit={}));var pe=function(){function E(q,H){this.edits=q,this.changeAnnotations=H}return E.prototype.insert=function(q,H,F){var S,G;if(F===void 0?S=v.insert(q,H):O.is(F)?(G=F,S=X.insert(q,H,F)):(this.assertChangeAnnotations(this.changeAnnotations),G=this.changeAnnotations.manage(F),S=X.insert(q,H,G)),this.edits.push(S),G!==void 0)return G},E.prototype.replace=function(q,H,F){var S,G;if(F===void 0?S=v.replace(q,H):O.is(F)?(G=F,S=X.replace(q,H,F)):(this.assertChangeAnnotations(this.changeAnnotations),G=this.changeAnnotations.manage(F),S=X.replace(q,H,G)),this.edits.push(S),G!==void 0)return G},E.prototype.delete=function(q,H){var F,S;if(H===void 0?F=v.del(q):O.is(H)?(S=H,F=X.del(q,H)):(this.assertChangeAnnotations(this.changeAnnotations),S=this.changeAnnotations.manage(H),F=X.del(q,S)),this.edits.push(F),S!==void 0)return S},E.prototype.add=function(q){this.edits.push(q)},E.prototype.all=function(){return this.edits},E.prototype.clear=function(){this.edits.splice(0,this.edits.length)},E.prototype.assertChangeAnnotations=function(q){if(q===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},E}(),rt=function(){function E(q){this._annotations=q===void 0?Object.create(null):q,this._counter=0,this._size=0}return E.prototype.all=function(){return this._annotations},Object.defineProperty(E.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),E.prototype.manage=function(q,H){var F;if(O.is(q)?F=q:(F=this.nextId(),H=q),this._annotations[F]!==void 0)throw new Error("Id "+F+" is already in use.");if(H===void 0)throw new Error("No annotation provided for id "+F);return this._annotations[F]=H,this._size++,F},E.prototype.nextId=function(){return this._counter++,this._counter.toString()},E}(),Te=function(){function E(q){var H=this;this._textEditChanges=Object.create(null),q!==void 0?(this._workspaceEdit=q,q.documentChanges?(this._changeAnnotations=new rt(q.changeAnnotations),q.changeAnnotations=this._changeAnnotations.all(),q.documentChanges.forEach(function(F){if(Y.is(F)){var S=new pe(F.edits,H._changeAnnotations);H._textEditChanges[F.textDocument.uri]=S}})):q.changes&&Object.keys(q.changes).forEach(function(F){var S=new pe(q.changes[F]);H._textEditChanges[F]=S})):this._workspaceEdit={}}return Object.defineProperty(E.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),E.prototype.getTextEditChange=function(q){if(At.is(q)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var H={uri:q.uri,version:q.version},F=this._textEditChanges[H.uri];if(!F){var S=[],G={textDocument:H,edits:S};this._workspaceEdit.documentChanges.push(G),F=new pe(S,this._changeAnnotations),this._textEditChanges[H.uri]=F}return F}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var F=this._textEditChanges[q];if(!F){var S=[];this._workspaceEdit.changes[q]=S,F=new pe(S),this._textEditChanges[q]=F}return F}},E.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new rt,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},E.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},E.prototype.createFile=function(q,H,F){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var S;I.is(H)||O.is(H)?S=H:F=H;var G,Q;if(S===void 0?G=te.create(q,F):(Q=O.is(S)?S:this._changeAnnotations.manage(S),G=te.create(q,F,Q)),this._workspaceEdit.documentChanges.push(G),Q!==void 0)return Q},E.prototype.renameFile=function(q,H,F,S){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var G;I.is(F)||O.is(F)?G=F:S=F;var Q,ve;if(G===void 0?Q=ue.create(q,H,S):(ve=O.is(G)?G:this._changeAnnotations.manage(G),Q=ue.create(q,H,S,ve)),this._workspaceEdit.documentChanges.push(Q),ve!==void 0)return ve},E.prototype.deleteFile=function(q,H,F){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var S;I.is(H)||O.is(H)?S=H:F=H;var G,Q;if(S===void 0?G=de.create(q,F):(Q=O.is(S)?S:this._changeAnnotations.manage(S),G=de.create(q,F,Q)),this._workspaceEdit.documentChanges.push(G),Q!==void 0)return Q},E}();e.WorkspaceChange=Te;var le;(function(E){function q(F){return{uri:F}}E.create=q;function H(F){var S=F;return L.defined(S)&&L.string(S.uri)}E.is=H})(le=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var dt;(function(E){function q(F,S){return{uri:F,version:S}}E.create=q;function H(F){var S=F;return L.defined(S)&&L.string(S.uri)&&L.integer(S.version)}E.is=H})(dt=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var At;(function(E){function q(F,S){return{uri:F,version:S}}E.create=q;function H(F){var S=F;return L.defined(S)&&L.string(S.uri)&&(S.version===null||L.integer(S.version))}E.is=H})(At=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var vn;(function(E){function q(F,S,G,Q){return{uri:F,languageId:S,version:G,text:Q}}E.create=q;function H(F){var S=F;return L.defined(S)&&L.string(S.uri)&&L.string(S.languageId)&&L.integer(S.version)&&L.string(S.text)}E.is=H})(vn=e.TextDocumentItem||(e.TextDocumentItem={}));var ze;(function(E){E.PlainText="plaintext",E.Markdown="markdown"})(ze=e.MarkupKind||(e.MarkupKind={})),function(E){function q(H){var F=H;return F===E.PlainText||F===E.Markdown}E.is=q}(ze=e.MarkupKind||(e.MarkupKind={}));var Ht;(function(E){function q(H){var F=H;return L.objectLiteral(H)&&ze.is(F.kind)&&L.string(F.value)}E.is=q})(Ht=e.MarkupContent||(e.MarkupContent={}));var wn;(function(E){E.Text=1,E.Method=2,E.Function=3,E.Constructor=4,E.Field=5,E.Variable=6,E.Class=7,E.Interface=8,E.Module=9,E.Property=10,E.Unit=11,E.Value=12,E.Enum=13,E.Keyword=14,E.Snippet=15,E.Color=16,E.File=17,E.Reference=18,E.Folder=19,E.EnumMember=20,E.Constant=21,E.Struct=22,E.Event=23,E.Operator=24,E.TypeParameter=25})(wn=e.CompletionItemKind||(e.CompletionItemKind={}));var Qn;(function(E){E.PlainText=1,E.Snippet=2})(Qn=e.InsertTextFormat||(e.InsertTextFormat={}));var Se;(function(E){E.Deprecated=1})(Se=e.CompletionItemTag||(e.CompletionItemTag={}));var Pe;(function(E){function q(F,S,G){return{newText:F,insert:S,replace:G}}E.create=q;function H(F){var S=F;return S&&L.string(S.newText)&&s.is(S.insert)&&s.is(S.replace)}E.is=H})(Pe=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var Ce;(function(E){E.asIs=1,E.adjustIndentation=2})(Ce=e.InsertTextMode||(e.InsertTextMode={}));var xe;(function(E){function q(H){return{label:H}}E.create=q})(xe=e.CompletionItem||(e.CompletionItem={}));var Ve;(function(E){function q(H,F){return{items:H||[],isIncomplete:!!F}}E.create=q})(Ve=e.CompletionList||(e.CompletionList={}));var ht;(function(E){function q(F){return F.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}E.fromPlainText=q;function H(F){var S=F;return L.string(S)||L.objectLiteral(S)&&L.string(S.language)&&L.string(S.value)}E.is=H})(ht=e.MarkedString||(e.MarkedString={}));var Pr;(function(E){function q(H){var F=H;return!!F&&L.objectLiteral(F)&&(Ht.is(F.contents)||ht.is(F.contents)||L.typedArray(F.contents,ht.is))&&(H.range===void 0||s.is(H.range))}E.is=q})(Pr=e.Hover||(e.Hover={}));var ua;(function(E){function q(H,F){return F?{label:H,documentation:F}:{label:H}}E.create=q})(ua=e.ParameterInformation||(e.ParameterInformation={}));var fa;(function(E){function q(H,F){for(var S=[],G=2;G<arguments.length;G++)S[G-2]=arguments[G];var Q={label:H};return L.defined(F)&&(Q.documentation=F),L.defined(S)?Q.parameters=S:Q.parameters=[],Q}E.create=q})(fa=e.SignatureInformation||(e.SignatureInformation={}));var Ci;(function(E){E.Text=1,E.Read=2,E.Write=3})(Ci=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var ri;(function(E){function q(H,F){var S={range:H};return L.number(F)&&(S.kind=F),S}E.create=q})(ri=e.DocumentHighlight||(e.DocumentHighlight={}));var ft;(function(E){E.File=1,E.Module=2,E.Namespace=3,E.Package=4,E.Class=5,E.Method=6,E.Property=7,E.Field=8,E.Constructor=9,E.Enum=10,E.Interface=11,E.Function=12,E.Variable=13,E.Constant=14,E.String=15,E.Number=16,E.Boolean=17,E.Array=18,E.Object=19,E.Key=20,E.Null=21,E.EnumMember=22,E.Struct=23,E.Event=24,E.Operator=25,E.TypeParameter=26})(ft=e.SymbolKind||(e.SymbolKind={}));var pa;(function(E){E.Deprecated=1})(pa=e.SymbolTag||(e.SymbolTag={}));var ye;(function(E){function q(H,F,S,G,Q){var ve={name:H,kind:F,location:{uri:G,range:S}};return Q&&(ve.containerName=Q),ve}E.create=q})(ye=e.SymbolInformation||(e.SymbolInformation={}));var un;(function(E){function q(F,S,G,Q,ve,Le){var De={name:F,detail:S,kind:G,range:Q,selectionRange:ve};return Le!==void 0&&(De.children=Le),De}E.create=q;function H(F){var S=F;return S&&L.string(S.name)&&L.number(S.kind)&&s.is(S.range)&&s.is(S.selectionRange)&&(S.detail===void 0||L.string(S.detail))&&(S.deprecated===void 0||L.boolean(S.deprecated))&&(S.children===void 0||Array.isArray(S.children))&&(S.tags===void 0||Array.isArray(S.tags))}E.is=H})(un=e.DocumentSymbol||(e.DocumentSymbol={}));var ts;(function(E){E.Empty="",E.QuickFix="quickfix",E.Refactor="refactor",E.RefactorExtract="refactor.extract",E.RefactorInline="refactor.inline",E.RefactorRewrite="refactor.rewrite",E.Source="source",E.SourceOrganizeImports="source.organizeImports",E.SourceFixAll="source.fixAll"})(ts=e.CodeActionKind||(e.CodeActionKind={}));var ns;(function(E){function q(F,S){var G={diagnostics:F};return S!=null&&(G.only=S),G}E.create=q;function H(F){var S=F;return L.defined(S)&&L.typedArray(S.diagnostics,b.is)&&(S.only===void 0||L.typedArray(S.only,L.string))}E.is=H})(ns=e.CodeActionContext||(e.CodeActionContext={}));var ii;(function(E){function q(F,S,G){var Q={title:F},ve=!0;return typeof S=="string"?(ve=!1,Q.kind=S):x.is(S)?Q.command=S:Q.edit=S,ve&&G!==void 0&&(Q.kind=G),Q}E.create=q;function H(F){var S=F;return S&&L.string(S.title)&&(S.diagnostics===void 0||L.typedArray(S.diagnostics,b.is))&&(S.kind===void 0||L.string(S.kind))&&(S.edit!==void 0||S.command!==void 0)&&(S.command===void 0||x.is(S.command))&&(S.isPreferred===void 0||L.boolean(S.isPreferred))&&(S.edit===void 0||ie.is(S.edit))}E.is=H})(ii=e.CodeAction||(e.CodeAction={}));var Ai;(function(E){function q(F,S){var G={range:F};return L.defined(S)&&(G.data=S),G}E.create=q;function H(F){var S=F;return L.defined(S)&&s.is(S.range)&&(L.undefined(S.command)||x.is(S.command))}E.is=H})(Ai=e.CodeLens||(e.CodeLens={}));var rs;(function(E){function q(F,S){return{tabSize:F,insertSpaces:S}}E.create=q;function H(F){var S=F;return L.defined(S)&&L.uinteger(S.tabSize)&&L.boolean(S.insertSpaces)}E.is=H})(rs=e.FormattingOptions||(e.FormattingOptions={}));var Ri;(function(E){function q(F,S,G){return{range:F,target:S,data:G}}E.create=q;function H(F){var S=F;return L.defined(S)&&s.is(S.range)&&(L.undefined(S.target)||L.string(S.target))}E.is=H})(Ri=e.DocumentLink||(e.DocumentLink={}));var ki;(function(E){function q(F,S){return{range:F,parent:S}}E.create=q;function H(F){var S=F;return S!==void 0&&s.is(S.range)&&(S.parent===void 0||E.is(S.parent))}E.is=H})(ki=e.SelectionRange||(e.SelectionRange={})),e.EOL=[`
`,`\r
`,"\r"];var Ir;(function(E){function q(G,Q,ve,Le){return new w(G,Q,ve,Le)}E.create=q;function H(G){var Q=G;return!!(L.defined(Q)&&L.string(Q.uri)&&(L.undefined(Q.languageId)||L.string(Q.languageId))&&L.uinteger(Q.lineCount)&&L.func(Q.getText)&&L.func(Q.positionAt)&&L.func(Q.offsetAt))}E.is=H;function F(G,Q){for(var ve=G.getText(),Le=S(Q,function(da,Ll){var _u=da.range.start.line-Ll.range.start.line;return _u===0?da.range.start.character-Ll.range.start.character:_u}),De=ve.length,qt=Le.length-1;qt>=0;qt--){var Pn=Le[qt],In=G.offsetAt(Pn.range.start),Tt=G.offsetAt(Pn.range.end);if(Tt<=De)ve=ve.substring(0,In)+Pn.newText+ve.substring(Tt,ve.length);else throw new Error("Overlapping edit");De=In}return ve}E.applyEdits=F;function S(G,Q){if(G.length<=1)return G;var ve=G.length/2|0,Le=G.slice(0,ve),De=G.slice(ve);S(Le,Q),S(De,Q);for(var qt=0,Pn=0,In=0;qt<Le.length&&Pn<De.length;){var Tt=Q(Le[qt],De[Pn]);Tt<=0?G[In++]=Le[qt++]:G[In++]=De[Pn++]}for(;qt<Le.length;)G[In++]=Le[qt++];for(;Pn<De.length;)G[In++]=De[Pn++];return G}})(Ir=e.TextDocument||(e.TextDocument={}));var w=function(){function E(q,H,F,S){this._uri=q,this._languageId=H,this._version=F,this._content=S,this._lineOffsets=void 0}return Object.defineProperty(E.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),E.prototype.getText=function(q){if(q){var H=this.offsetAt(q.start),F=this.offsetAt(q.end);return this._content.substring(H,F)}return this._content},E.prototype.update=function(q,H){this._content=q.text,this._version=H,this._lineOffsets=void 0},E.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var q=[],H=this._content,F=!0,S=0;S<H.length;S++){F&&(q.push(S),F=!1);var G=H.charAt(S);F=G==="\r"||G===`
`,G==="\r"&&S+1<H.length&&H.charAt(S+1)===`
`&&S++}F&&H.length>0&&q.push(H.length),this._lineOffsets=q}return this._lineOffsets},E.prototype.positionAt=function(q){q=Math.max(Math.min(q,this._content.length),0);var H=this.getLineOffsets(),F=0,S=H.length;if(S===0)return i.create(0,q);for(;F<S;){var G=Math.floor((F+S)/2);H[G]>q?S=G:F=G+1}var Q=F-1;return i.create(Q,q-H[Q])},E.prototype.offsetAt=function(q){var H=this.getLineOffsets();if(q.line>=H.length)return this._content.length;if(q.line<0)return 0;var F=H[q.line],S=q.line+1<H.length?H[q.line+1]:this._content.length;return Math.max(Math.min(F+q.character,S),F)},Object.defineProperty(E.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),E}(),L;(function(E){var q=Object.prototype.toString;function H(Tt){return typeof Tt!="undefined"}E.defined=H;function F(Tt){return typeof Tt=="undefined"}E.undefined=F;function S(Tt){return Tt===!0||Tt===!1}E.boolean=S;function G(Tt){return q.call(Tt)==="[object String]"}E.string=G;function Q(Tt){return q.call(Tt)==="[object Number]"}E.number=Q;function ve(Tt,da,Ll){return q.call(Tt)==="[object Number]"&&da<=Tt&&Tt<=Ll}E.numberRange=ve;function Le(Tt){return q.call(Tt)==="[object Number]"&&-2147483648<=Tt&&Tt<=2147483647}E.integer=Le;function De(Tt){return q.call(Tt)==="[object Number]"&&0<=Tt&&Tt<=2147483647}E.uinteger=De;function qt(Tt){return q.call(Tt)==="[object Function]"}E.func=qt;function Pn(Tt){return Tt!==null&&typeof Tt=="object"}E.objectLiteral=Pn;function In(Tt,da){return Array.isArray(Tt)&&Tt.every(da)}E.typedArray=In})(L||(L={}))})});var tr=oe(Hi=>{"use strict";Object.defineProperty(Hi,"__esModule",{value:!0});Hi.ProtocolNotificationType=Hi.ProtocolNotificationType0=Hi.ProtocolRequestType=Hi.ProtocolRequestType0=Hi.RegistrationType=void 0;var rc=nc(),cI=class{constructor(e){this.method=e}};Hi.RegistrationType=cI;var uI=class extends rc.RequestType0{constructor(e){super(e)}};Hi.ProtocolRequestType0=uI;var fI=class extends rc.RequestType{constructor(e){super(e,rc.ParameterStructures.byName)}};Hi.ProtocolRequestType=fI;var pI=class extends rc.NotificationType0{constructor(e){super(e)}};Hi.ProtocolNotificationType0=pI;var dI=class extends rc.NotificationType{constructor(e){super(e,rc.ParameterStructures.byName)}};Hi.ProtocolNotificationType=dI});var gI=oe(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});Fn.objectLiteral=Fn.typedArray=Fn.stringArray=Fn.array=Fn.func=Fn.error=Fn.number=Fn.string=Fn.boolean=void 0;function K2(t){return t===!0||t===!1}Fn.boolean=K2;function hI(t){return typeof t=="string"||t instanceof String}Fn.string=hI;function $2(t){return typeof t=="number"||t instanceof Number}Fn.number=$2;function z2(t){return t instanceof Error}Fn.error=z2;function Q2(t){return typeof t=="function"}Fn.func=Q2;function mI(t){return Array.isArray(t)}Fn.array=mI;function X2(t){return mI(t)&&t.every(e=>hI(e))}Fn.stringArray=X2;function J2(t,e){return Array.isArray(t)&&t.every(e)}Fn.typedArray=J2;function Z2(t){return t!==null&&typeof t=="object"}Fn.objectLiteral=Z2});var _I=oe(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.ImplementationRequest=void 0;var ej=tr(),tj;(function(t){t.method="textDocument/implementation",t.type=new ej.ProtocolRequestType(t.method)})(tj=Gu.ImplementationRequest||(Gu.ImplementationRequest={}))});var TI=oe(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.TypeDefinitionRequest=void 0;var nj=tr(),rj;(function(t){t.method="textDocument/typeDefinition",t.type=new nj.ProtocolRequestType(t.method)})(rj=Hu.TypeDefinitionRequest||(Hu.TypeDefinitionRequest={}))});var bI=oe(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.DidChangeWorkspaceFoldersNotification=eo.WorkspaceFoldersRequest=void 0;var yI=tr(),ij;(function(t){t.type=new yI.ProtocolRequestType0("workspace/workspaceFolders")})(ij=eo.WorkspaceFoldersRequest||(eo.WorkspaceFoldersRequest={}));var sj;(function(t){t.type=new yI.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(sj=eo.DidChangeWorkspaceFoldersNotification||(eo.DidChangeWorkspaceFoldersNotification={}))});var vI=oe(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.ConfigurationRequest=void 0;var aj=tr(),oj;(function(t){t.type=new aj.ProtocolRequestType("workspace/configuration")})(oj=Wu.ConfigurationRequest||(Wu.ConfigurationRequest={}))});var xI=oe(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});to.ColorPresentationRequest=to.DocumentColorRequest=void 0;var NI=tr(),lj;(function(t){t.method="textDocument/documentColor",t.type=new NI.ProtocolRequestType(t.method)})(lj=to.DocumentColorRequest||(to.DocumentColorRequest={}));var cj;(function(t){t.type=new NI.ProtocolRequestType("textDocument/colorPresentation")})(cj=to.ColorPresentationRequest||(to.ColorPresentationRequest={}))});var g_=oe(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.FoldingRangeRequest=no.FoldingRangeKind=void 0;var uj=tr(),fj;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(fj=no.FoldingRangeKind||(no.FoldingRangeKind={}));var pj;(function(t){t.method="textDocument/foldingRange",t.type=new uj.ProtocolRequestType(t.method)})(pj=no.FoldingRangeRequest||(no.FoldingRangeRequest={}))});var EI=oe(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});Yu.DeclarationRequest=void 0;var dj=tr(),hj;(function(t){t.method="textDocument/declaration",t.type=new dj.ProtocolRequestType(t.method)})(hj=Yu.DeclarationRequest||(Yu.DeclarationRequest={}))});var SI=oe(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.SelectionRangeRequest=void 0;var mj=tr(),gj;(function(t){t.method="textDocument/selectionRange",t.type=new mj.ProtocolRequestType(t.method)})(gj=Ku.SelectionRangeRequest||(Ku.SelectionRangeRequest={}))});var II=oe(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});As.WorkDoneProgressCancelNotification=As.WorkDoneProgressCreateRequest=As.WorkDoneProgress=void 0;var _j=nc(),PI=tr(),Tj;(function(t){t.type=new _j.ProgressType;function e(n){return n===t.type}t.is=e})(Tj=As.WorkDoneProgress||(As.WorkDoneProgress={}));var yj;(function(t){t.type=new PI.ProtocolRequestType("window/workDoneProgress/create")})(yj=As.WorkDoneProgressCreateRequest||(As.WorkDoneProgressCreateRequest={}));var bj;(function(t){t.type=new PI.ProtocolNotificationType("window/workDoneProgress/cancel")})(bj=As.WorkDoneProgressCancelNotification||(As.WorkDoneProgressCancelNotification={}))});var CI=oe(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.CallHierarchyOutgoingCallsRequest=Rs.CallHierarchyIncomingCallsRequest=Rs.CallHierarchyPrepareRequest=void 0;var __=tr(),vj;(function(t){t.method="textDocument/prepareCallHierarchy",t.type=new __.ProtocolRequestType(t.method)})(vj=Rs.CallHierarchyPrepareRequest||(Rs.CallHierarchyPrepareRequest={}));var Nj;(function(t){t.method="callHierarchy/incomingCalls",t.type=new __.ProtocolRequestType(t.method)})(Nj=Rs.CallHierarchyIncomingCallsRequest||(Rs.CallHierarchyIncomingCallsRequest={}));var xj;(function(t){t.method="callHierarchy/outgoingCalls",t.type=new __.ProtocolRequestType(t.method)})(xj=Rs.CallHierarchyOutgoingCallsRequest||(Rs.CallHierarchyOutgoingCallsRequest={}))});var AI=oe(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.SemanticTokensRefreshRequest=jt.SemanticTokensRangeRequest=jt.SemanticTokensDeltaRequest=jt.SemanticTokensRequest=jt.SemanticTokensRegistrationType=jt.TokenFormat=jt.SemanticTokens=jt.SemanticTokenModifiers=jt.SemanticTokenTypes=void 0;var $u=tr(),Ej;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator"})(Ej=jt.SemanticTokenTypes||(jt.SemanticTokenTypes={}));var Sj;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(Sj=jt.SemanticTokenModifiers||(jt.SemanticTokenModifiers={}));var Pj;(function(t){function e(n){let r=n;return r!==void 0&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}t.is=e})(Pj=jt.SemanticTokens||(jt.SemanticTokens={}));var Ij;(function(t){t.Relative="relative"})(Ij=jt.TokenFormat||(jt.TokenFormat={}));var Cj;(function(t){t.method="textDocument/semanticTokens",t.type=new $u.RegistrationType(t.method)})(Cj=jt.SemanticTokensRegistrationType||(jt.SemanticTokensRegistrationType={}));var Aj;(function(t){t.method="textDocument/semanticTokens/full",t.type=new $u.ProtocolRequestType(t.method)})(Aj=jt.SemanticTokensRequest||(jt.SemanticTokensRequest={}));var Rj;(function(t){t.method="textDocument/semanticTokens/full/delta",t.type=new $u.ProtocolRequestType(t.method)})(Rj=jt.SemanticTokensDeltaRequest||(jt.SemanticTokensDeltaRequest={}));var kj;(function(t){t.method="textDocument/semanticTokens/range",t.type=new $u.ProtocolRequestType(t.method)})(kj=jt.SemanticTokensRangeRequest||(jt.SemanticTokensRangeRequest={}));var wj;(function(t){t.method="workspace/semanticTokens/refresh",t.type=new $u.ProtocolRequestType0(t.method)})(wj=jt.SemanticTokensRefreshRequest||(jt.SemanticTokensRefreshRequest={}))});var RI=oe(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.ShowDocumentRequest=void 0;var Oj=tr(),Lj;(function(t){t.method="window/showDocument",t.type=new Oj.ProtocolRequestType(t.method)})(Lj=zu.ShowDocumentRequest||(zu.ShowDocumentRequest={}))});var kI=oe(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.LinkedEditingRangeRequest=void 0;var Dj=tr(),Mj;(function(t){t.method="textDocument/linkedEditingRange",t.type=new Dj.ProtocolRequestType(t.method)})(Mj=Qu.LinkedEditingRangeRequest||(Qu.LinkedEditingRangeRequest={}))});var wI=oe(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.WillDeleteFilesRequest=yn.DidDeleteFilesNotification=yn.DidRenameFilesNotification=yn.WillRenameFilesRequest=yn.DidCreateFilesNotification=yn.WillCreateFilesRequest=yn.FileOperationPatternKind=void 0;var ic=tr(),Fj;(function(t){t.file="file",t.folder="folder"})(Fj=yn.FileOperationPatternKind||(yn.FileOperationPatternKind={}));var Vj;(function(t){t.method="workspace/willCreateFiles",t.type=new ic.ProtocolRequestType(t.method)})(Vj=yn.WillCreateFilesRequest||(yn.WillCreateFilesRequest={}));var Bj;(function(t){t.method="workspace/didCreateFiles",t.type=new ic.ProtocolNotificationType(t.method)})(Bj=yn.DidCreateFilesNotification||(yn.DidCreateFilesNotification={}));var qj;(function(t){t.method="workspace/willRenameFiles",t.type=new ic.ProtocolRequestType(t.method)})(qj=yn.WillRenameFilesRequest||(yn.WillRenameFilesRequest={}));var Uj;(function(t){t.method="workspace/didRenameFiles",t.type=new ic.ProtocolNotificationType(t.method)})(Uj=yn.DidRenameFilesNotification||(yn.DidRenameFilesNotification={}));var jj;(function(t){t.method="workspace/didDeleteFiles",t.type=new ic.ProtocolNotificationType(t.method)})(jj=yn.DidDeleteFilesNotification||(yn.DidDeleteFilesNotification={}));var Gj;(function(t){t.method="workspace/willDeleteFiles",t.type=new ic.ProtocolRequestType(t.method)})(Gj=yn.WillDeleteFilesRequest||(yn.WillDeleteFilesRequest={}))});var OI=oe(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.MonikerRequest=ks.MonikerKind=ks.UniquenessLevel=void 0;var Hj=tr(),Wj;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(Wj=ks.UniquenessLevel||(ks.UniquenessLevel={}));var Yj;(function(t){t.import="import",t.export="export",t.local="local"})(Yj=ks.MonikerKind||(ks.MonikerKind={}));var Kj;(function(t){t.method="textDocument/moniker",t.type=new Hj.ProtocolRequestType(t.method)})(Kj=ks.MonikerRequest||(ks.MonikerRequest={}))});var VI=oe(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.DocumentLinkRequest=V.CodeLensRefreshRequest=V.CodeLensResolveRequest=V.CodeLensRequest=V.WorkspaceSymbolRequest=V.CodeActionResolveRequest=V.CodeActionRequest=V.DocumentSymbolRequest=V.DocumentHighlightRequest=V.ReferencesRequest=V.DefinitionRequest=V.SignatureHelpRequest=V.SignatureHelpTriggerKind=V.HoverRequest=V.CompletionResolveRequest=V.CompletionRequest=V.CompletionTriggerKind=V.PublishDiagnosticsNotification=V.WatchKind=V.FileChangeType=V.DidChangeWatchedFilesNotification=V.WillSaveTextDocumentWaitUntilRequest=V.WillSaveTextDocumentNotification=V.TextDocumentSaveReason=V.DidSaveTextDocumentNotification=V.DidCloseTextDocumentNotification=V.DidChangeTextDocumentNotification=V.TextDocumentContentChangeEvent=V.DidOpenTextDocumentNotification=V.TextDocumentSyncKind=V.TelemetryEventNotification=V.LogMessageNotification=V.ShowMessageRequest=V.ShowMessageNotification=V.MessageType=V.DidChangeConfigurationNotification=V.ExitNotification=V.ShutdownRequest=V.InitializedNotification=V.InitializeError=V.InitializeRequest=V.WorkDoneProgressOptions=V.TextDocumentRegistrationOptions=V.StaticRegistrationOptions=V.FailureHandlingKind=V.ResourceOperationKind=V.UnregistrationRequest=V.RegistrationRequest=V.DocumentSelector=V.DocumentFilter=void 0;V.MonikerRequest=V.MonikerKind=V.UniquenessLevel=V.WillDeleteFilesRequest=V.DidDeleteFilesNotification=V.WillRenameFilesRequest=V.DidRenameFilesNotification=V.WillCreateFilesRequest=V.DidCreateFilesNotification=V.FileOperationPatternKind=V.LinkedEditingRangeRequest=V.ShowDocumentRequest=V.SemanticTokensRegistrationType=V.SemanticTokensRefreshRequest=V.SemanticTokensRangeRequest=V.SemanticTokensDeltaRequest=V.SemanticTokensRequest=V.TokenFormat=V.SemanticTokens=V.SemanticTokenModifiers=V.SemanticTokenTypes=V.CallHierarchyPrepareRequest=V.CallHierarchyOutgoingCallsRequest=V.CallHierarchyIncomingCallsRequest=V.WorkDoneProgressCancelNotification=V.WorkDoneProgressCreateRequest=V.WorkDoneProgress=V.SelectionRangeRequest=V.DeclarationRequest=V.FoldingRangeRequest=V.ColorPresentationRequest=V.DocumentColorRequest=V.ConfigurationRequest=V.DidChangeWorkspaceFoldersNotification=V.WorkspaceFoldersRequest=V.TypeDefinitionRequest=V.ImplementationRequest=V.ApplyWorkspaceEditRequest=V.ExecuteCommandRequest=V.PrepareRenameRequest=V.RenameRequest=V.PrepareSupportDefaultBehavior=V.DocumentOnTypeFormattingRequest=V.DocumentRangeFormattingRequest=V.DocumentFormattingRequest=V.DocumentLinkResolveRequest=void 0;var ro=gI(),at=tr(),$j=_I();Object.defineProperty(V,"ImplementationRequest",{enumerable:!0,get:function(){return $j.ImplementationRequest}});var zj=TI();Object.defineProperty(V,"TypeDefinitionRequest",{enumerable:!0,get:function(){return zj.TypeDefinitionRequest}});var LI=bI();Object.defineProperty(V,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return LI.WorkspaceFoldersRequest}});Object.defineProperty(V,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return LI.DidChangeWorkspaceFoldersNotification}});var Qj=vI();Object.defineProperty(V,"ConfigurationRequest",{enumerable:!0,get:function(){return Qj.ConfigurationRequest}});var DI=xI();Object.defineProperty(V,"DocumentColorRequest",{enumerable:!0,get:function(){return DI.DocumentColorRequest}});Object.defineProperty(V,"ColorPresentationRequest",{enumerable:!0,get:function(){return DI.ColorPresentationRequest}});var Xj=g_();Object.defineProperty(V,"FoldingRangeRequest",{enumerable:!0,get:function(){return Xj.FoldingRangeRequest}});var Jj=EI();Object.defineProperty(V,"DeclarationRequest",{enumerable:!0,get:function(){return Jj.DeclarationRequest}});var Zj=SI();Object.defineProperty(V,"SelectionRangeRequest",{enumerable:!0,get:function(){return Zj.SelectionRangeRequest}});var T_=II();Object.defineProperty(V,"WorkDoneProgress",{enumerable:!0,get:function(){return T_.WorkDoneProgress}});Object.defineProperty(V,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return T_.WorkDoneProgressCreateRequest}});Object.defineProperty(V,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return T_.WorkDoneProgressCancelNotification}});var y_=CI();Object.defineProperty(V,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return y_.CallHierarchyIncomingCallsRequest}});Object.defineProperty(V,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return y_.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(V,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return y_.CallHierarchyPrepareRequest}});var Ia=AI();Object.defineProperty(V,"SemanticTokenTypes",{enumerable:!0,get:function(){return Ia.SemanticTokenTypes}});Object.defineProperty(V,"SemanticTokenModifiers",{enumerable:!0,get:function(){return Ia.SemanticTokenModifiers}});Object.defineProperty(V,"SemanticTokens",{enumerable:!0,get:function(){return Ia.SemanticTokens}});Object.defineProperty(V,"TokenFormat",{enumerable:!0,get:function(){return Ia.TokenFormat}});Object.defineProperty(V,"SemanticTokensRequest",{enumerable:!0,get:function(){return Ia.SemanticTokensRequest}});Object.defineProperty(V,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Ia.SemanticTokensDeltaRequest}});Object.defineProperty(V,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Ia.SemanticTokensRangeRequest}});Object.defineProperty(V,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Ia.SemanticTokensRefreshRequest}});Object.defineProperty(V,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Ia.SemanticTokensRegistrationType}});var eG=RI();Object.defineProperty(V,"ShowDocumentRequest",{enumerable:!0,get:function(){return eG.ShowDocumentRequest}});var tG=kI();Object.defineProperty(V,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return tG.LinkedEditingRangeRequest}});var el=wI();Object.defineProperty(V,"FileOperationPatternKind",{enumerable:!0,get:function(){return el.FileOperationPatternKind}});Object.defineProperty(V,"DidCreateFilesNotification",{enumerable:!0,get:function(){return el.DidCreateFilesNotification}});Object.defineProperty(V,"WillCreateFilesRequest",{enumerable:!0,get:function(){return el.WillCreateFilesRequest}});Object.defineProperty(V,"DidRenameFilesNotification",{enumerable:!0,get:function(){return el.DidRenameFilesNotification}});Object.defineProperty(V,"WillRenameFilesRequest",{enumerable:!0,get:function(){return el.WillRenameFilesRequest}});Object.defineProperty(V,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return el.DidDeleteFilesNotification}});Object.defineProperty(V,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return el.WillDeleteFilesRequest}});var b_=OI();Object.defineProperty(V,"UniquenessLevel",{enumerable:!0,get:function(){return b_.UniquenessLevel}});Object.defineProperty(V,"MonikerKind",{enumerable:!0,get:function(){return b_.MonikerKind}});Object.defineProperty(V,"MonikerRequest",{enumerable:!0,get:function(){return b_.MonikerRequest}});var MI;(function(t){function e(n){let r=n;return ro.string(r.language)||ro.string(r.scheme)||ro.string(r.pattern)}t.is=e})(MI=V.DocumentFilter||(V.DocumentFilter={}));var FI;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let r of n)if(!ro.string(r)&&!MI.is(r))return!1;return!0}t.is=e})(FI=V.DocumentSelector||(V.DocumentSelector={}));var nG;(function(t){t.type=new at.ProtocolRequestType("client/registerCapability")})(nG=V.RegistrationRequest||(V.RegistrationRequest={}));var rG;(function(t){t.type=new at.ProtocolRequestType("client/unregisterCapability")})(rG=V.UnregistrationRequest||(V.UnregistrationRequest={}));var iG;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(iG=V.ResourceOperationKind||(V.ResourceOperationKind={}));var sG;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(sG=V.FailureHandlingKind||(V.FailureHandlingKind={}));var aG;(function(t){function e(n){let r=n;return r&&ro.string(r.id)&&r.id.length>0}t.hasId=e})(aG=V.StaticRegistrationOptions||(V.StaticRegistrationOptions={}));var oG;(function(t){function e(n){let r=n;return r&&(r.documentSelector===null||FI.is(r.documentSelector))}t.is=e})(oG=V.TextDocumentRegistrationOptions||(V.TextDocumentRegistrationOptions={}));var lG;(function(t){function e(r){let i=r;return ro.objectLiteral(i)&&(i.workDoneProgress===void 0||ro.boolean(i.workDoneProgress))}t.is=e;function n(r){let i=r;return i&&ro.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=n})(lG=V.WorkDoneProgressOptions||(V.WorkDoneProgressOptions={}));var cG;(function(t){t.type=new at.ProtocolRequestType("initialize")})(cG=V.InitializeRequest||(V.InitializeRequest={}));var uG;(function(t){t.unknownProtocolVersion=1})(uG=V.InitializeError||(V.InitializeError={}));var fG;(function(t){t.type=new at.ProtocolNotificationType("initialized")})(fG=V.InitializedNotification||(V.InitializedNotification={}));var pG;(function(t){t.type=new at.ProtocolRequestType0("shutdown")})(pG=V.ShutdownRequest||(V.ShutdownRequest={}));var dG;(function(t){t.type=new at.ProtocolNotificationType0("exit")})(dG=V.ExitNotification||(V.ExitNotification={}));var hG;(function(t){t.type=new at.ProtocolNotificationType("workspace/didChangeConfiguration")})(hG=V.DidChangeConfigurationNotification||(V.DidChangeConfigurationNotification={}));var mG;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4})(mG=V.MessageType||(V.MessageType={}));var gG;(function(t){t.type=new at.ProtocolNotificationType("window/showMessage")})(gG=V.ShowMessageNotification||(V.ShowMessageNotification={}));var _G;(function(t){t.type=new at.ProtocolRequestType("window/showMessageRequest")})(_G=V.ShowMessageRequest||(V.ShowMessageRequest={}));var TG;(function(t){t.type=new at.ProtocolNotificationType("window/logMessage")})(TG=V.LogMessageNotification||(V.LogMessageNotification={}));var yG;(function(t){t.type=new at.ProtocolNotificationType("telemetry/event")})(yG=V.TelemetryEventNotification||(V.TelemetryEventNotification={}));var bG;(function(t){t.None=0,t.Full=1,t.Incremental=2})(bG=V.TextDocumentSyncKind||(V.TextDocumentSyncKind={}));var vG;(function(t){t.method="textDocument/didOpen",t.type=new at.ProtocolNotificationType(t.method)})(vG=V.DidOpenTextDocumentNotification||(V.DidOpenTextDocumentNotification={}));var NG;(function(t){function e(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}t.isIncremental=e;function n(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}t.isFull=n})(NG=V.TextDocumentContentChangeEvent||(V.TextDocumentContentChangeEvent={}));var xG;(function(t){t.method="textDocument/didChange",t.type=new at.ProtocolNotificationType(t.method)})(xG=V.DidChangeTextDocumentNotification||(V.DidChangeTextDocumentNotification={}));var EG;(function(t){t.method="textDocument/didClose",t.type=new at.ProtocolNotificationType(t.method)})(EG=V.DidCloseTextDocumentNotification||(V.DidCloseTextDocumentNotification={}));var SG;(function(t){t.method="textDocument/didSave",t.type=new at.ProtocolNotificationType(t.method)})(SG=V.DidSaveTextDocumentNotification||(V.DidSaveTextDocumentNotification={}));var PG;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(PG=V.TextDocumentSaveReason||(V.TextDocumentSaveReason={}));var IG;(function(t){t.method="textDocument/willSave",t.type=new at.ProtocolNotificationType(t.method)})(IG=V.WillSaveTextDocumentNotification||(V.WillSaveTextDocumentNotification={}));var CG;(function(t){t.method="textDocument/willSaveWaitUntil",t.type=new at.ProtocolRequestType(t.method)})(CG=V.WillSaveTextDocumentWaitUntilRequest||(V.WillSaveTextDocumentWaitUntilRequest={}));var AG;(function(t){t.type=new at.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(AG=V.DidChangeWatchedFilesNotification||(V.DidChangeWatchedFilesNotification={}));var RG;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(RG=V.FileChangeType||(V.FileChangeType={}));var kG;(function(t){t.Create=1,t.Change=2,t.Delete=4})(kG=V.WatchKind||(V.WatchKind={}));var wG;(function(t){t.type=new at.ProtocolNotificationType("textDocument/publishDiagnostics")})(wG=V.PublishDiagnosticsNotification||(V.PublishDiagnosticsNotification={}));var OG;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(OG=V.CompletionTriggerKind||(V.CompletionTriggerKind={}));var LG;(function(t){t.method="textDocument/completion",t.type=new at.ProtocolRequestType(t.method)})(LG=V.CompletionRequest||(V.CompletionRequest={}));var DG;(function(t){t.method="completionItem/resolve",t.type=new at.ProtocolRequestType(t.method)})(DG=V.CompletionResolveRequest||(V.CompletionResolveRequest={}));var MG;(function(t){t.method="textDocument/hover",t.type=new at.ProtocolRequestType(t.method)})(MG=V.HoverRequest||(V.HoverRequest={}));var FG;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(FG=V.SignatureHelpTriggerKind||(V.SignatureHelpTriggerKind={}));var VG;(function(t){t.method="textDocument/signatureHelp",t.type=new at.ProtocolRequestType(t.method)})(VG=V.SignatureHelpRequest||(V.SignatureHelpRequest={}));var BG;(function(t){t.method="textDocument/definition",t.type=new at.ProtocolRequestType(t.method)})(BG=V.DefinitionRequest||(V.DefinitionRequest={}));var qG;(function(t){t.method="textDocument/references",t.type=new at.ProtocolRequestType(t.method)})(qG=V.ReferencesRequest||(V.ReferencesRequest={}));var UG;(function(t){t.method="textDocument/documentHighlight",t.type=new at.ProtocolRequestType(t.method)})(UG=V.DocumentHighlightRequest||(V.DocumentHighlightRequest={}));var jG;(function(t){t.method="textDocument/documentSymbol",t.type=new at.ProtocolRequestType(t.method)})(jG=V.DocumentSymbolRequest||(V.DocumentSymbolRequest={}));var GG;(function(t){t.method="textDocument/codeAction",t.type=new at.ProtocolRequestType(t.method)})(GG=V.CodeActionRequest||(V.CodeActionRequest={}));var HG;(function(t){t.method="codeAction/resolve",t.type=new at.ProtocolRequestType(t.method)})(HG=V.CodeActionResolveRequest||(V.CodeActionResolveRequest={}));var WG;(function(t){t.method="workspace/symbol",t.type=new at.ProtocolRequestType(t.method)})(WG=V.WorkspaceSymbolRequest||(V.WorkspaceSymbolRequest={}));var YG;(function(t){t.method="textDocument/codeLens",t.type=new at.ProtocolRequestType(t.method)})(YG=V.CodeLensRequest||(V.CodeLensRequest={}));var KG;(function(t){t.method="codeLens/resolve",t.type=new at.ProtocolRequestType(t.method)})(KG=V.CodeLensResolveRequest||(V.CodeLensResolveRequest={}));var $G;(function(t){t.method="workspace/codeLens/refresh",t.type=new at.ProtocolRequestType0(t.method)})($G=V.CodeLensRefreshRequest||(V.CodeLensRefreshRequest={}));var zG;(function(t){t.method="textDocument/documentLink",t.type=new at.ProtocolRequestType(t.method)})(zG=V.DocumentLinkRequest||(V.DocumentLinkRequest={}));var QG;(function(t){t.method="documentLink/resolve",t.type=new at.ProtocolRequestType(t.method)})(QG=V.DocumentLinkResolveRequest||(V.DocumentLinkResolveRequest={}));var XG;(function(t){t.method="textDocument/formatting",t.type=new at.ProtocolRequestType(t.method)})(XG=V.DocumentFormattingRequest||(V.DocumentFormattingRequest={}));var JG;(function(t){t.method="textDocument/rangeFormatting",t.type=new at.ProtocolRequestType(t.method)})(JG=V.DocumentRangeFormattingRequest||(V.DocumentRangeFormattingRequest={}));var ZG;(function(t){t.method="textDocument/onTypeFormatting",t.type=new at.ProtocolRequestType(t.method)})(ZG=V.DocumentOnTypeFormattingRequest||(V.DocumentOnTypeFormattingRequest={}));var eH;(function(t){t.Identifier=1})(eH=V.PrepareSupportDefaultBehavior||(V.PrepareSupportDefaultBehavior={}));var tH;(function(t){t.method="textDocument/rename",t.type=new at.ProtocolRequestType(t.method)})(tH=V.RenameRequest||(V.RenameRequest={}));var nH;(function(t){t.method="textDocument/prepareRename",t.type=new at.ProtocolRequestType(t.method)})(nH=V.PrepareRenameRequest||(V.PrepareRenameRequest={}));var rH;(function(t){t.type=new at.ProtocolRequestType("workspace/executeCommand")})(rH=V.ExecuteCommandRequest||(V.ExecuteCommandRequest={}));var iH;(function(t){t.type=new at.ProtocolRequestType("workspace/applyEdit")})(iH=V.ApplyWorkspaceEditRequest||(V.ApplyWorkspaceEditRequest={}))});var qI=oe(zp=>{"use strict";Object.defineProperty(zp,"__esModule",{value:!0});zp.createProtocolConnection=void 0;var BI=nc();function sH(t,e,n,r){return BI.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),BI.createMessageConnection(t,e,n,r)}zp.createProtocolConnection=sH});var UI=oe(Fr=>{"use strict";var aH=Fr&&Fr.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Qp=Fr&&Fr.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&aH(e,t,n)};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.LSPErrorCodes=Fr.createProtocolConnection=void 0;Qp(nc(),Fr);Qp(tn(),Fr);Qp(tr(),Fr);Qp(VI(),Fr);var oH=qI();Object.defineProperty(Fr,"createProtocolConnection",{enumerable:!0,get:function(){return oH.createProtocolConnection}});var lH;(function(t){t.lspReservedErrorRangeStart=-32899,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(lH=Fr.LSPErrorCodes||(Fr.LSPErrorCodes={}))});var vr=oe(Js=>{"use strict";var cH=Js&&Js.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),jI=Js&&Js.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&cH(e,t,n)};Object.defineProperty(Js,"__esModule",{value:!0});Js.createProtocolConnection=void 0;var uH=m_();jI(m_(),Js);jI(UI(),Js);function fH(t,e,n,r){return uH.createMessageConnection(t,e,n,r)}Js.createProtocolConnection=fH});var v_=oe(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});Wi.generateUuid=Wi.parse=Wi.isUUID=Wi.v4=Wi.empty=void 0;var Xp=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},gt=class extends Xp{constructor(){super([gt._randomHex(),gt._randomHex(),gt._randomHex(),gt._randomHex(),gt._randomHex(),gt._randomHex(),gt._randomHex(),gt._randomHex(),"-",gt._randomHex(),gt._randomHex(),gt._randomHex(),gt._randomHex(),"-","4",gt._randomHex(),gt._randomHex(),gt._randomHex(),"-",gt._oneOf(gt._timeHighBits),gt._randomHex(),gt._randomHex(),gt._randomHex(),"-",gt._randomHex(),gt._randomHex(),gt._randomHex(),gt._randomHex(),gt._randomHex(),gt._randomHex(),gt._randomHex(),gt._randomHex(),gt._randomHex(),gt._randomHex(),gt._randomHex(),gt._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return gt._oneOf(gt._chars)}};gt._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];gt._timeHighBits=["8","9","a","b"];Wi.empty=new Xp("00000000-0000-0000-0000-000000000000");function GI(){return new gt}Wi.v4=GI;var pH=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function HI(t){return pH.test(t)}Wi.isUUID=HI;function dH(t){if(!HI(t))throw new Error("invalid uuid");return new Xp(t)}Wi.parse=dH;function hH(){return GI().asHex()}Wi.generateUuid=hH});var YI=oe(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.attachPartialResult=so.ProgressFeature=so.attachWorkDone=void 0;var io=vr(),mH=v_(),Ca=class{constructor(e,n){this._connection=e,this._token=n,Ca.Instances.set(this._token,this)}begin(e,n,r,i){let s={kind:"begin",title:e,percentage:n,message:r,cancellable:i};this._connection.sendProgress(io.WorkDoneProgress.type,this._token,s)}report(e,n){let r={kind:"report"};typeof e=="number"?(r.percentage=e,n!==void 0&&(r.message=n)):r.message=e,this._connection.sendProgress(io.WorkDoneProgress.type,this._token,r)}done(){Ca.Instances.delete(this._token),this._connection.sendProgress(io.WorkDoneProgress.type,this._token,{kind:"end"})}};Ca.Instances=new Map;var N_=class extends Ca{constructor(e,n){super(e,n);this._source=new io.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},Jp=class{constructor(){}begin(){}report(){}done(){}},x_=class extends Jp{constructor(){super();this._source=new io.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function gH(t,e){if(e===void 0||e.workDoneToken===void 0)return new Jp;let n=e.workDoneToken;return delete e.workDoneToken,new Ca(t,n)}so.attachWorkDone=gH;var _H=t=>class extends t{constructor(){super();this._progressSupported=!1}initialize(e){var n;((n=e==null?void 0:e.window)===null||n===void 0?void 0:n.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification(io.WorkDoneProgressCancelNotification.type,r=>{let i=Ca.Instances.get(r.token);(i instanceof N_||i instanceof x_)&&i.cancel()}))}attachWorkDoneProgress(e){return e===void 0?new Jp:new Ca(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){let e=mH.generateUuid();return this.connection.sendRequest(io.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new N_(this.connection,e))}else return Promise.resolve(new x_)}};so.ProgressFeature=_H;var E_;(function(t){t.type=new io.ProgressType})(E_||(E_={}));var WI=class{constructor(e,n){this._connection=e,this._token=n}report(e){this._connection.sendProgress(E_.type,this._token,e)}};function TH(t,e){if(e===void 0||e.partialResultToken===void 0)return;let n=e.partialResultToken;return delete e.partialResultToken,new WI(t,n)}so.attachPartialResult=TH});var KI=oe(Zp=>{"use strict";Object.defineProperty(Zp,"__esModule",{value:!0});Zp.ConfigurationFeature=void 0;var yH=vr(),bH=qp(),vH=t=>class extends t{getConfiguration(e){return e?bH.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let n={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(yH.ConfigurationRequest.type,n).then(r=>Array.isArray(e)?r:r[0])}};Zp.ConfigurationFeature=vH});var $I=oe(td=>{"use strict";Object.defineProperty(td,"__esModule",{value:!0});td.WorkspaceFoldersFeature=void 0;var ed=vr(),NH=t=>class extends t{initialize(e){let n=e.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new ed.Emitter,this.connection.onNotification(ed.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(ed.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(ed.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};td.WorkspaceFoldersFeature=NH});var zI=oe(nd=>{"use strict";Object.defineProperty(nd,"__esModule",{value:!0});nd.CallHierarchyFeature=void 0;var S_=vr(),xH=t=>class extends t{get callHierarchy(){return{onPrepare:e=>{this.connection.onRequest(S_.CallHierarchyPrepareRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))},onIncomingCalls:e=>{let n=S_.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:e=>{let n=S_.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};nd.CallHierarchyFeature=xH});var I_=oe(sc=>{"use strict";Object.defineProperty(sc,"__esModule",{value:!0});sc.SemanticTokensBuilder=sc.SemanticTokensFeature=void 0;var P_=vr(),EH=t=>class extends t{get semanticTokens(){return{on:e=>{let n=P_.SemanticTokensRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:e=>{let n=P_.SemanticTokensDeltaRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:e=>{let n=P_.SemanticTokensRangeRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};sc.SemanticTokensFeature=EH;var QI=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,n,r,i,s){let a=e,l=n;this._dataLen>0&&(a-=this._prevLine,a===0&&(l-=this._prevChar)),this._data[this._dataLen++]=a,this._data[this._dataLen++]=l,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=s,this._prevLine=e,this._prevChar=n}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){if(this._prevData!==void 0){let e=this._prevData.length,n=this._data.length,r=0;for(;r<n&&r<e&&this._prevData[r]===this._data[r];)r++;if(r<n&&r<e){let i=0;for(;i<n&&i<e&&this._prevData[e-1-i]===this._data[n-1-i];)i++;let s=this._data.slice(r,n-i);return{resultId:this.id,edits:[{start:r,deleteCount:e-i-r,data:s}]}}else return r<n?{resultId:this.id,edits:[{start:r,deleteCount:0,data:this._data.slice(r)}]}:r<e?{resultId:this.id,edits:[{start:r,deleteCount:e-r}]}:{resultId:this.id,edits:[]}}else return this.build()}};sc.SemanticTokensBuilder=QI});var XI=oe(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});rd.ShowDocumentFeature=void 0;var SH=vr(),PH=t=>class extends t{showDocument(e){return this.connection.sendRequest(SH.ShowDocumentRequest.type,e)}};rd.ShowDocumentFeature=PH});var JI=oe(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});id.FileOperationsFeature=void 0;var ac=vr(),IH=t=>class extends t{onDidCreateFiles(e){this.connection.onNotification(ac.DidCreateFilesNotification.type,n=>{e(n)})}onDidRenameFiles(e){this.connection.onNotification(ac.DidRenameFilesNotification.type,n=>{e(n)})}onDidDeleteFiles(e){this.connection.onNotification(ac.DidDeleteFilesNotification.type,n=>{e(n)})}onWillCreateFiles(e){return this.connection.onRequest(ac.WillCreateFilesRequest.type,(n,r)=>e(n,r))}onWillRenameFiles(e){return this.connection.onRequest(ac.WillRenameFilesRequest.type,(n,r)=>e(n,r))}onWillDeleteFiles(e){return this.connection.onRequest(ac.WillDeleteFilesRequest.type,(n,r)=>e(n,r))}};id.FileOperationsFeature=IH});var ZI=oe(sd=>{"use strict";Object.defineProperty(sd,"__esModule",{value:!0});sd.LinkedEditingRangeFeature=void 0;var CH=vr(),AH=t=>class extends t{onLinkedEditingRange(e){this.connection.onRequest(CH.LinkedEditingRangeRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))}};sd.LinkedEditingRangeFeature=AH});var eC=oe(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});ad.MonikerFeature=void 0;var RH=vr(),kH=t=>class extends t{get moniker(){return{on:e=>{let n=RH.MonikerRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};ad.MonikerFeature=kH});var M_=oe(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.createConnection=Rt.combineFeatures=Rt.combineLanguagesFeatures=Rt.combineWorkspaceFeatures=Rt.combineWindowFeatures=Rt.combineClientFeatures=Rt.combineTracerFeatures=Rt.combineTelemetryFeatures=Rt.combineConsoleFeatures=Rt._LanguagesImpl=Rt.BulkUnregistration=Rt.BulkRegistration=Rt.ErrorMessageTracker=Rt.TextDocuments=void 0;var me=vr(),Yi=qp(),C_=v_(),ot=YI(),wH=KI(),OH=$I(),LH=zI(),DH=I_(),MH=XI(),FH=JI(),VH=ZI(),BH=eC();function A_(t){if(t!==null)return t}var tC=class{constructor(e){this._documents=Object.create(null),this._configuration=e,this._onDidChangeContent=new me.Emitter,this._onDidOpen=new me.Emitter,this._onDidClose=new me.Emitter,this._onDidSave=new me.Emitter,this._onWillSave=new me.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._documents[e]}all(){return Object.keys(this._documents).map(e=>this._documents[e])}keys(){return Object.keys(this._documents)}listen(e){e.__textDocumentSync=me.TextDocumentSyncKind.Full,e.onDidOpenTextDocument(n=>{let r=n.textDocument,i=this._configuration.create(r.uri,r.languageId,r.version,r.text);this._documents[r.uri]=i;let s=Object.freeze({document:i});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)}),e.onDidChangeTextDocument(n=>{let r=n.textDocument,i=n.contentChanges;if(i.length===0)return;let s=this._documents[r.uri],{version:a}=r;if(a==null)throw new Error(`Received document change event for ${r.uri} without valid version identifier`);s=this._configuration.update(s,i,a),this._documents[r.uri]=s,this._onDidChangeContent.fire(Object.freeze({document:s}))}),e.onDidCloseTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&(delete this._documents[n.textDocument.uri],this._onDidClose.fire(Object.freeze({document:r})))}),e.onWillSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onWillSave.fire(Object.freeze({document:r,reason:n.reason}))}),e.onWillSaveTextDocumentWaitUntil((n,r)=>{let i=this._documents[n.textDocument.uri];return i&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:i,reason:n.reason}),r):[]}),e.onDidSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onDidSave.fire(Object.freeze({document:r}))})}};Rt.TextDocuments=tC;var nC=class{constructor(){this._messages=Object.create(null)}add(e){let n=this._messages[e];n||(n=0),n++,this._messages[e]=n}sendErrors(e){Object.keys(this._messages).forEach(n=>{e.window.showErrorMessage(n)})}};Rt.ErrorMessageTracker=nC;var R_=class{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(me.MessageType.Error,e)}warn(e){this.send(me.MessageType.Warning,e)}info(e){this.send(me.MessageType.Info,e)}log(e){this.send(me.MessageType.Log,e)}send(e,n){this._rawConnection&&this._rawConnection.sendNotification(me.LogMessageNotification.type,{type:e,message:n})}},rC=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...n){let r={type:me.MessageType.Error,message:e,actions:n};return this.connection.sendRequest(me.ShowMessageRequest.type,r).then(A_)}showWarningMessage(e,...n){let r={type:me.MessageType.Warning,message:e,actions:n};return this.connection.sendRequest(me.ShowMessageRequest.type,r).then(A_)}showInformationMessage(e,...n){let r={type:me.MessageType.Info,message:e,actions:n};return this.connection.sendRequest(me.ShowMessageRequest.type,r).then(A_)}},iC=MH.ShowDocumentFeature(ot.ProgressFeature(rC)),qH;(function(t){function e(){return new k_}t.create=e})(qH=Rt.BulkRegistration||(Rt.BulkRegistration={}));var k_=class{constructor(){this._registrations=[],this._registered=new Set}add(e,n){let r=Yi.string(e)?e:e.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);let i=C_.generateUuid();this._registrations.push({id:i,method:r,registerOptions:n||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}},UH;(function(t){function e(){return new od(void 0,[])}t.create=e})(UH=Rt.BulkUnregistration||(Rt.BulkUnregistration={}));var od=class{constructor(e,n){this._connection=e,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let r of this._unregistrations.values())e.push(r);let n={unregisterations:e};this._connection.sendRequest(me.UnregistrationRequest.type,n).then(void 0,r=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){let n=Yi.string(e)?e:e.method,r=this._unregistrations.get(n);if(!r)return!1;let i={unregisterations:[r]};return this._connection.sendRequest(me.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(n)},s=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}},w_=class{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,n,r){return e instanceof k_?this.registerMany(e):e instanceof od?this.registerSingle1(e,n,r):this.registerSingle2(e,n)}registerSingle1(e,n,r){let i=Yi.string(n)?n:n.method,s=C_.generateUuid(),a={registrations:[{id:s,method:i,registerOptions:r||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(me.RegistrationRequest.type,a).then(l=>(e.add({id:s,method:i}),e),l=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(l)))}registerSingle2(e,n){let r=Yi.string(e)?e:e.method,i=C_.generateUuid(),s={registrations:[{id:i,method:r,registerOptions:n||{}}]};return this.connection.sendRequest(me.RegistrationRequest.type,s).then(a=>me.Disposable.create(()=>{this.unregisterSingle(i,r)}),a=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(a)))}unregisterSingle(e,n){let r={unregisterations:[{id:e,method:n}]};return this.connection.sendRequest(me.UnregistrationRequest.type,r).then(void 0,i=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)})}registerMany(e){let n=e.asRegistrationParams();return this.connection.sendRequest(me.RegistrationRequest.type,n).then(()=>new od(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}},sC=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function n(i){return i&&!!i.edit}let r=n(e)?e:{edit:e};return this.connection.sendRequest(me.ApplyWorkspaceEditRequest.type,r)}},aC=FH.FileOperationsFeature(OH.WorkspaceFoldersFeature(wH.ConfigurationFeature(sC))),O_=class{constructor(){this._trace=me.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,n){this._trace!==me.Trace.Off&&this.connection.sendNotification(me.LogTraceNotification.type,{message:e,verbose:this._trace===me.Trace.Verbose?n:void 0})}},L_=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(me.TelemetryEventNotification.type,e)}},D_=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return ot.attachWorkDone(this.connection,e)}attachPartialResultProgress(e,n){return ot.attachPartialResult(this.connection,n)}};Rt._LanguagesImpl=D_;var oC=BH.MonikerFeature(VH.LinkedEditingRangeFeature(DH.SemanticTokensFeature(LH.CallHierarchyFeature(D_))));function lC(t,e){return function(n){return e(t(n))}}Rt.combineConsoleFeatures=lC;function cC(t,e){return function(n){return e(t(n))}}Rt.combineTelemetryFeatures=cC;function uC(t,e){return function(n){return e(t(n))}}Rt.combineTracerFeatures=uC;function fC(t,e){return function(n){return e(t(n))}}Rt.combineClientFeatures=fC;function pC(t,e){return function(n){return e(t(n))}}Rt.combineWindowFeatures=pC;function dC(t,e){return function(n){return e(t(n))}}Rt.combineWorkspaceFeatures=dC;function jH(t,e){return function(n){return e(t(n))}}Rt.combineLanguagesFeatures=jH;function GH(t,e){function n(i,s,a){return i&&s?a(i,s):i||s}return{__brand:"features",console:n(t.console,e.console,lC),tracer:n(t.tracer,e.tracer,uC),telemetry:n(t.telemetry,e.telemetry,cC),client:n(t.client,e.client,fC),window:n(t.window,e.window,pC),workspace:n(t.workspace,e.workspace,dC)}}Rt.combineFeatures=GH;function HH(t,e,n){let r=n&&n.console?new(n.console(R_)):new R_,i=t(r);r.rawAttach(i);let s=n&&n.tracer?new(n.tracer(O_)):new O_,a=n&&n.telemetry?new(n.telemetry(L_)):new L_,l=n&&n.client?new(n.client(w_)):new w_,c=n&&n.window?new(n.window(iC)):new iC,f=n&&n.workspace?new(n.workspace(aC)):new aC,d=n&&n.languages?new(n.languages(oC)):new oC,m=[r,s,a,l,c,f,d];function _(b){return b instanceof Promise?b:Yi.thenable(b)?new Promise((x,v)=>{b.then(I=>x(I),I=>v(I))}):Promise.resolve(b)}let g,T,N,A={listen:()=>i.listen(),sendRequest:(b,...x)=>i.sendRequest(Yi.string(b)?b:b.method,...x),onRequest:(b,x)=>i.onRequest(b,x),sendNotification:(b,x)=>{let v=Yi.string(b)?b:b.method;arguments.length===1?i.sendNotification(v):i.sendNotification(v,x)},onNotification:(b,x)=>i.onNotification(b,x),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:b=>T=b,onInitialized:b=>i.onNotification(me.InitializedNotification.type,b),onShutdown:b=>g=b,onExit:b=>N=b,get console(){return r},get telemetry(){return a},get tracer(){return s},get client(){return l},get window(){return c},get workspace(){return f},get languages(){return d},onDidChangeConfiguration:b=>i.onNotification(me.DidChangeConfigurationNotification.type,b),onDidChangeWatchedFiles:b=>i.onNotification(me.DidChangeWatchedFilesNotification.type,b),__textDocumentSync:void 0,onDidOpenTextDocument:b=>i.onNotification(me.DidOpenTextDocumentNotification.type,b),onDidChangeTextDocument:b=>i.onNotification(me.DidChangeTextDocumentNotification.type,b),onDidCloseTextDocument:b=>i.onNotification(me.DidCloseTextDocumentNotification.type,b),onWillSaveTextDocument:b=>i.onNotification(me.WillSaveTextDocumentNotification.type,b),onWillSaveTextDocumentWaitUntil:b=>i.onRequest(me.WillSaveTextDocumentWaitUntilRequest.type,b),onDidSaveTextDocument:b=>i.onNotification(me.DidSaveTextDocumentNotification.type,b),sendDiagnostics:b=>i.sendNotification(me.PublishDiagnosticsNotification.type,b),onHover:b=>i.onRequest(me.HoverRequest.type,(x,v)=>b(x,v,ot.attachWorkDone(i,x),void 0)),onCompletion:b=>i.onRequest(me.CompletionRequest.type,(x,v)=>b(x,v,ot.attachWorkDone(i,x),ot.attachPartialResult(i,x))),onCompletionResolve:b=>i.onRequest(me.CompletionResolveRequest.type,b),onSignatureHelp:b=>i.onRequest(me.SignatureHelpRequest.type,(x,v)=>b(x,v,ot.attachWorkDone(i,x),void 0)),onDeclaration:b=>i.onRequest(me.DeclarationRequest.type,(x,v)=>b(x,v,ot.attachWorkDone(i,x),ot.attachPartialResult(i,x))),onDefinition:b=>i.onRequest(me.DefinitionRequest.type,(x,v)=>b(x,v,ot.attachWorkDone(i,x),ot.attachPartialResult(i,x))),onTypeDefinition:b=>i.onRequest(me.TypeDefinitionRequest.type,(x,v)=>b(x,v,ot.attachWorkDone(i,x),ot.attachPartialResult(i,x))),onImplementation:b=>i.onRequest(me.ImplementationRequest.type,(x,v)=>b(x,v,ot.attachWorkDone(i,x),ot.attachPartialResult(i,x))),onReferences:b=>i.onRequest(me.ReferencesRequest.type,(x,v)=>b(x,v,ot.attachWorkDone(i,x),ot.attachPartialResult(i,x))),onDocumentHighlight:b=>i.onRequest(me.DocumentHighlightRequest.type,(x,v)=>b(x,v,ot.attachWorkDone(i,x),ot.attachPartialResult(i,x))),onDocumentSymbol:b=>i.onRequest(me.DocumentSymbolRequest.type,(x,v)=>b(x,v,ot.attachWorkDone(i,x),ot.attachPartialResult(i,x))),onWorkspaceSymbol:b=>i.onRequest(me.WorkspaceSymbolRequest.type,(x,v)=>b(x,v,ot.attachWorkDone(i,x),ot.attachPartialResult(i,x))),onCodeAction:b=>i.onRequest(me.CodeActionRequest.type,(x,v)=>b(x,v,ot.attachWorkDone(i,x),ot.attachPartialResult(i,x))),onCodeActionResolve:b=>i.onRequest(me.CodeActionResolveRequest.type,(x,v)=>b(x,v)),onCodeLens:b=>i.onRequest(me.CodeLensRequest.type,(x,v)=>b(x,v,ot.attachWorkDone(i,x),ot.attachPartialResult(i,x))),onCodeLensResolve:b=>i.onRequest(me.CodeLensResolveRequest.type,(x,v)=>b(x,v)),onDocumentFormatting:b=>i.onRequest(me.DocumentFormattingRequest.type,(x,v)=>b(x,v,ot.attachWorkDone(i,x),void 0)),onDocumentRangeFormatting:b=>i.onRequest(me.DocumentRangeFormattingRequest.type,(x,v)=>b(x,v,ot.attachWorkDone(i,x),void 0)),onDocumentOnTypeFormatting:b=>i.onRequest(me.DocumentOnTypeFormattingRequest.type,(x,v)=>b(x,v)),onRenameRequest:b=>i.onRequest(me.RenameRequest.type,(x,v)=>b(x,v,ot.attachWorkDone(i,x),void 0)),onPrepareRename:b=>i.onRequest(me.PrepareRenameRequest.type,(x,v)=>b(x,v)),onDocumentLinks:b=>i.onRequest(me.DocumentLinkRequest.type,(x,v)=>b(x,v,ot.attachWorkDone(i,x),ot.attachPartialResult(i,x))),onDocumentLinkResolve:b=>i.onRequest(me.DocumentLinkResolveRequest.type,(x,v)=>b(x,v)),onDocumentColor:b=>i.onRequest(me.DocumentColorRequest.type,(x,v)=>b(x,v,ot.attachWorkDone(i,x),ot.attachPartialResult(i,x))),onColorPresentation:b=>i.onRequest(me.ColorPresentationRequest.type,(x,v)=>b(x,v,ot.attachWorkDone(i,x),ot.attachPartialResult(i,x))),onFoldingRanges:b=>i.onRequest(me.FoldingRangeRequest.type,(x,v)=>b(x,v,ot.attachWorkDone(i,x),ot.attachPartialResult(i,x))),onSelectionRanges:b=>i.onRequest(me.SelectionRangeRequest.type,(x,v)=>b(x,v,ot.attachWorkDone(i,x),ot.attachPartialResult(i,x))),onExecuteCommand:b=>i.onRequest(me.ExecuteCommandRequest.type,(x,v)=>b(x,v,ot.attachWorkDone(i,x),void 0)),dispose:()=>i.dispose()};for(let b of m)b.attach(A);return i.onRequest(me.InitializeRequest.type,b=>{e.initialize(b),Yi.string(b.trace)&&(s.trace=me.Trace.fromString(b.trace));for(let x of m)x.initialize(b.capabilities);if(T){let x=T(b,new me.CancellationTokenSource().token,ot.attachWorkDone(i,b),void 0);return _(x).then(v=>{if(v instanceof me.ResponseError)return v;let I=v;I||(I={capabilities:{}});let O=I.capabilities;O||(O={},I.capabilities=O),O.textDocumentSync===void 0||O.textDocumentSync===null?O.textDocumentSync=Yi.number(A.__textDocumentSync)?A.__textDocumentSync:me.TextDocumentSyncKind.None:!Yi.number(O.textDocumentSync)&&!Yi.number(O.textDocumentSync.change)&&(O.textDocumentSync.change=Yi.number(A.__textDocumentSync)?A.__textDocumentSync:me.TextDocumentSyncKind.None);for(let X of m)X.fillServerCapabilities(O);return I})}else{let x={capabilities:{textDocumentSync:me.TextDocumentSyncKind.None}};for(let v of m)v.fillServerCapabilities(x.capabilities);return x}}),i.onRequest(me.ShutdownRequest.type,()=>{if(e.shutdownReceived=!0,g)return g(new me.CancellationTokenSource().token)}),i.onNotification(me.ExitNotification.type,()=>{try{N&&N()}finally{e.shutdownReceived?e.exit(0):e.exit(1)}}),i.onNotification(me.SetTraceNotification.type,b=>{s.trace=me.Trace.fromString(b.value)}),A}Rt.createConnection=HH});var mC=oe(Vr=>{"use strict";Object.defineProperty(Vr,"__esModule",{value:!0});Vr.resolveModulePath=Vr.FileSystem=Vr.resolveGlobalYarnPath=Vr.resolveGlobalNodePath=Vr.resolve=Vr.uriToFilePath=void 0;var WH=require("url"),ws=require("path"),F_=require("fs"),V_=require("child_process");function YH(t){let e=WH.parse(t);if(e.protocol!=="file:"||!e.path)return;let n=e.path.split("/");for(var r=0,i=n.length;r<i;r++)n[r]=decodeURIComponent(n[r]);if(process.platform==="win32"&&n.length>1){let s=n[0],a=n[1];s.length===0&&a.length>1&&a[1]===":"&&n.shift()}return ws.normalize(n.join("/"))}Vr.uriToFilePath=YH;function B_(){return process.platform==="win32"}function ld(t,e,n,r){let i="NODE_PATH",s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((a,l)=>{let c=process.env,f=Object.create(null);Object.keys(c).forEach(d=>f[d]=c[d]),e&&F_.existsSync(e)&&(f[i]?f[i]=e+ws.delimiter+f[i]:f[i]=e,r&&r(`NODE_PATH value is: ${f[i]}`)),f.ELECTRON_RUN_AS_NODE="1";try{let d=V_.fork("",[],{cwd:n,env:f,execArgv:["-e",s]});if(d.pid===void 0){l(new Error(`Starting process to resolve node module  ${t} failed`));return}d.on("error",_=>{l(_)}),d.on("message",_=>{_.c==="r"&&(d.send({c:"e"}),_.s?a(_.r):l(new Error(`Failed to resolve module: ${t}`)))});let m={c:"rs",a:t};d.send(m)}catch(d){l(d)}})}Vr.resolve=ld;function q_(t){let e="npm",n=Object.create(null);Object.keys(process.env).forEach(s=>n[s]=process.env[s]),n.NO_UPDATE_NOTIFIER="true";let r={encoding:"utf8",env:n};B_()&&(e="npm.cmd",r.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let s=V_.spawnSync(e,["config","get","prefix"],r).stdout;if(!s){t&&t("'npm config get prefix' didn't return a value.");return}let a=s.trim();return t&&t(`'npm config get prefix' value is: ${a}`),a.length>0?B_()?ws.join(a,"node_modules"):ws.join(a,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}Vr.resolveGlobalNodePath=q_;function KH(t){let e="yarn",n={encoding:"utf8"};B_()&&(e="yarn.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let i=V_.spawnSync(e,["global","dir","--json"],n),s=i.stdout;if(!s){t&&(t("'yarn global dir' didn't return a value."),i.stderr&&t(i.stderr));return}let a=s.trim().split(/\r?\n/);for(let l of a)try{let c=JSON.parse(l);if(c.type==="log")return ws.join(c.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",r)}}Vr.resolveGlobalYarnPath=KH;var hC;(function(t){let e;function n(){return e!==void 0||(process.platform==="win32"?e=!1:e=!F_.existsSync(__filename.toUpperCase())||!F_.existsSync(__filename.toLowerCase())),e}t.isCaseSensitive=n;function r(i,s){return n()?ws.normalize(s).indexOf(ws.normalize(i))===0:ws.normalize(s).toLowerCase().indexOf(ws.normalize(i).toLowerCase())===0}t.isParent=r})(hC=Vr.FileSystem||(Vr.FileSystem={}));function $H(t,e,n,r){return n?(ws.isAbsolute(n)||(n=ws.join(t,n)),ld(e,n,n,r).then(i=>hC.isParent(n,i)?i:Promise.reject(new Error(`Failed to load ${e} from node path location.`))).then(void 0,i=>ld(e,q_(r),t,r))):ld(e,q_(r),t,r)}Vr.resolveModulePath=$H});var U_=oe((gz,gC)=>{"use strict";gC.exports=vr()});var TC=oe(gi=>{"use strict";var zH=gi&&gi.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),_C=gi&&gi.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&zH(e,t,n)};Object.defineProperty(gi,"__esModule",{value:!0});gi.ProposedFeatures=gi.SemanticTokensBuilder=void 0;var QH=I_();Object.defineProperty(gi,"SemanticTokensBuilder",{enumerable:!0,get:function(){return QH.SemanticTokensBuilder}});_C(vr(),gi);_C(M_(),gi);var XH;(function(t){t.all={__brand:"features"}})(XH=gi.ProposedFeatures||(gi.ProposedFeatures={}))});var nr=oe(_i=>{"use strict";var JH=_i&&_i.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),yC=_i&&_i.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&JH(e,t,n)};Object.defineProperty(_i,"__esModule",{value:!0});_i.createConnection=_i.Files=void 0;var j_=qp(),ZH=M_(),Xu=mC(),tl=U_();yC(U_(),_i);yC(TC(),_i);var eW;(function(t){t.uriToFilePath=Xu.uriToFilePath,t.resolveGlobalNodePath=Xu.resolveGlobalNodePath,t.resolveGlobalYarnPath=Xu.resolveGlobalYarnPath,t.resolve=Xu.resolve,t.resolveModulePath=Xu.resolveModulePath})(eW=_i.Files||(_i.Files={}));var bC;function cd(){if(bC!==void 0)try{bC.end()}catch{}}var oc=!1,vC;function tW(){let t="--clientProcessId";function e(n){try{let r=parseInt(n);isNaN(r)||(vC=setInterval(()=>{try{process.kill(r,0)}catch{cd(),process.exit(oc?0:1)}},3e3))}catch{}}for(let n=2;n<process.argv.length;n++){let r=process.argv[n];if(r===t&&n+1<process.argv.length){e(process.argv[n+1]);return}else{let i=r.split("=");i[0]===t&&e(i[1])}}}tW();var nW={initialize:t=>{let e=t.processId;j_.number(e)&&vC===void 0&&setInterval(()=>{try{process.kill(e,0)}catch{process.exit(oc?0:1)}},3e3)},get shutdownReceived(){return oc},set shutdownReceived(t){oc=t},exit:t=>{cd(),process.exit(t)}};function rW(t,e,n,r){let i,s,a,l;return t!==void 0&&t.__brand==="features"&&(i=t,t=e,e=n,n=r),tl.ConnectionStrategy.is(t)||tl.ConnectionOptions.is(t)?l=t:(s=t,a=e,l=n),iW(s,a,l,i)}_i.createConnection=rW;function iW(t,e,n,r){if(!t&&!e&&process.argv.length>2){let l,c,f=process.argv.slice(2);for(let d=0;d<f.length;d++){let m=f[d];if(m==="--node-ipc"){t=new tl.IPCMessageReader(process),e=new tl.IPCMessageWriter(process);break}else if(m==="--stdio"){t=process.stdin,e=process.stdout;break}else if(m==="--socket"){l=parseInt(f[d+1]);break}else if(m==="--pipe"){c=f[d+1];break}else{var i=m.split("=");if(i[0]==="--socket"){l=parseInt(i[1]);break}else if(i[0]==="--pipe"){c=i[1];break}}}if(l){let d=tl.createServerSocketTransport(l);t=d[0],e=d[1]}else if(c){let d=tl.createServerPipeTransport(c);t=d[0],e=d[1]}}var s="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!t)throw new Error("Connection input stream is not set. "+s);if(!e)throw new Error("Connection output stream is not set. "+s);if(j_.func(t.read)&&j_.func(t.on)){let l=t;l.on("end",()=>{cd(),process.exit(oc?0:1)}),l.on("close",()=>{cd(),process.exit(oc?0:1)})}let a=l=>tl.createProtocolConnection(t,e,l,n);return ZH.createConnection(a,nW,r)}});function G_(t,e){let n=[];if(t.currentNode==null)return n;let r={start:{line:t.position.line,character:t.position.character-0},end:t.position};for(let i=0;i<e.length;i++){let s=e[i];if(!t.currentNode.hasParameter(s.name)){let a=s.name+'="$1"';n.push({label:s.name,kind:lc.CompletionItemKind.Value,insertTextFormat:lc.InsertTextFormat.Snippet,textEdit:lc.TextEdit.replace(r,a),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}return n}var lc,NC=C(()=>{lc=he(tn())});function ao(t,e,n){return{label:t,insertText:t,kind:cc.CompletionItemKind.Field,detail:n+": "+e}}function sW(t,e){let n="";return e.length>0&&(n=e.join(", ")),"**"+t+"** `"+n+"`  \n"}function ud(t){let e=sW(t.name,t.acceptsType),n="";if(t.parameters.length>0){let s=[];t.parameters.forEach(a=>{s.push("$"+a.name)}),n=s.join(", ")}let r="";if(t.returnsType.length==1)r=t.returnsType[0];else{let s=[];t.returnsType.forEach(a=>{s.push(a)}),r=s.join(", ")}return e+=t.description+`
`,e+="```js\n",e+="function "+t.name+"("+n+"):"+r,e+="\n```",t.docLink!=null&&t.docLink.trim().length>0&&(e+=`  

`,e+="[Documentation Reference]("+t.docLink+")"),{label:t.name,insertText:t.name,documentation:{kind:cc.MarkupKind.Markdown,value:e},kind:cc.CompletionItemKind.Function}}function fd(t){let e=[];for(let n=0;n<t.length;n++)typeof t[n].name!="undefined"&&e.push(H_(t[n]));return e}function H_(t){let e="",n=t.name;return t.instructionText!=null&&(e=t.instructionText),t.displayName!=null&&(n=t.displayName+" ("+t.name+")"),t.blueprintName!=null&&(e.trim().length>0&&(e+=`
`),e+="Blueprint: "+t.blueprintName),t.type!=null&&(n+=": "+t.type),{label:t.name,insertText:t.name,kind:cc.CompletionItemKind.Field,documentation:e,detail:n}}var cc,uc=C(()=>{cc=he(tn())});function nt(t,e,n,r){let i="**"+t+"**  ";return i+=`
`,i+=e+"  ",i+="\n```antlers\n",i+=n,i+="\n```",r!=null&&(i+=`

`,i+="[Documentation Reference]("+r+")"),i}function z(t,e,n){let r="**"+t+"**  ";return r+=`
`,r+=e+"  ",n!=null&&(r+=`

`,r+="[Documentation Reference]("+n+")"),r}var ce=C(()=>{});function fc(t){let e=[];return t=="order"&&e.push("sort"),e}var pd=C(()=>{});function aW(t){return{blueprintName:t.sourceName,displayName:t.name,instructionText:"",maxItems:-1,name:t.name,refFieldSetField:null,type:t.dataType,sets:null,import:null}}function dd(t){let e=[];for(let n=0;n<t.length;n++)e.push(aW(t[n]));return e}function W_(t,e=""){return{blueprintName:"fieldset",displayName:e+t.name,instructionText:t.instructionText,maxItems:t.maxItems,name:e+t.handle,type:t.type,refFieldSetField:t,sets:t.sets,import:t.import}}function EC(t,e,n){return t=="select"&&typeof e.field.multiple!="undefined"&&e.field.multiple===!0&&(t="select_multiple"),(typeof e.field.multiple=="undefined"||n>1)&&(t=="form"?t="form_multiple":t=="sites"?t="sites_multiple":t=="taxonomies"?t="taxonomies_multiple":t=="user_groups"?t="user_groups_multiple":t=="user_roles"?t="user_roles_multiple":t=="terms"?t="terms_multiple":t=="users"?t="users_multiple":t=="structures"&&(t="structures_multiple")),t}function SC(t){let e=[];for(let n=0;n<t.length;n++)e.push(W_(t[n]));return e}var xC,Ju=C(()=>{xC=["replicator","bard"]});function kt(t){return[{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"count",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"index",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"order",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t}]}var hr=C(()=>{});function PC(t,e,n){if(typeof n=="undefined"||n===null)return;let r=t.findParameter("as"),i=t.findParameter("scope");n=n.concat(dd(kt(t))),r!=null&&i!=null?e.introduceScopedAliasScope(t,i.value,r.value,n):r!=null?e.introduceAliasScope(t,r.value,n):i!=null?e.introduceDynamicScopeList(t,i.value,n):e.addBlueprintFields(t,n)}var IC=C(()=>{Ju();hr()});function CC(t){return[{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.collection.context",introducedBy:t},{name:"total_results",dataType:"integer",sourceField:null,sourceName:"*internal.collection.context",introducedBy:t}]}var AC=C(()=>{});var oo,RC,kC,wC,nl=C(()=>{oo=[{isRequired:!1,name:"from",description:"The collection name to retrieve entries from",aliases:["folder","use"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"not_from",aliases:["not_folder","dont_use"],description:"The collections to exclude when retrieving entries",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"show_unpublished",aliases:null,description:"Controls whether unpbulished entries are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"show_published",aliases:null,description:"Controls whether published entries are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"show_past",aliases:null,description:"Controls whether to display entries with a past date",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"since",aliases:null,description:"Sets the minimum date an entry can have to be returned",acceptsVariableInterpolation:!0,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"until",aliases:null,description:"Sets the maximum date an entry can have to be returned",acceptsVariableInterpolation:!0,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies the entry sort order",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"limit",aliases:null,description:"Sets the maximum number of entries to return",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["integer"],isDynamic:!1},{isRequired:!1,name:"filter",aliases:["query_scope"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Specifies a custom query scope",expectsTypes:["string"],isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets the amount that entry results should be offset by",expectsTypes:["integer"],isRequired:!1,name:"offset",isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets whether not to paginate entry results",expectsTypes:["boolean","number"],isRequired:!1,name:"paginate",isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies a name to give to a new entries array variable",expectsTypes:["string"],isRequired:!1,name:"as",isDynamic:!1},{name:"scope",aliases:null,acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Sets a prefix on all entry variables",expectsTypes:["string"],isRequired:!1,isDynamic:!1},{name:"locale",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies the locale in which to retrieve entry content",expectsTypes:["string"],isRequired:!1,isDynamic:!1},{name:"redirects",aliases:["links"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Controls whether entries with redirects are returned",expectsTypes:["boolean"],isRequired:!1,isDynamic:!1}],RC=["from","folder","use"],kC=["not_from","not_folder","dont_use"],wC=["draft","scheduled","expired","published"]});function OC(t){let e=[];if(t.project!=null){let n={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position},r=t.project.getUniqueTaxonomyNames();for(let i=0;i<r.length;i++){let s=r[i],a=t.originalLeftWord+s+'="$1"';e.push({label:t.originalLeftWord+s,insertTextFormat:Os.InsertTextFormat.Snippet,kind:Os.CompletionItemKind.Field,textEdit:Os.TextEdit.replace(n,a),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}return e}function pc(t,e){let n=[];if(t.reference!=null){let r=t.reference,i=e.statamicProject.getBlueprintFields(r.collectionNames);typeof i!="undefined"&&i!=null&&(n=i)}return n}function LC(t){let e=[],n=wC.filter(r=>!t.includes(r));for(let r=0;r<n.length;r++)e.push({label:n[r],kind:Os.CompletionItemKind.Variable});return e}function DC(t,e,n){let r=[],i=n.getTaxonomyTerms(e),s=i.filter(a=>!t.includes(a));for(let a=0;a<s.length;a++)r.push({label:s[a],kind:Os.CompletionItemKind.Variable});return r}function MC(t){let e=[],n=t.getCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:Os.CompletionItemKind.Variable});return e}function dc(t,e){let n=[],r=e.getCollectionNames().filter(i=>!t.includes(i));for(let i=0;i<r.length;i++)n.push({label:r[i],kind:Os.CompletionItemKind.Variable});return n}function hd(t){let e=[],n=t.getCollectionQueryScopes();for(let r=0;r<n.length;r++)e.push({label:n[r].name,detail:n[r].description,kind:Os.CompletionItemKind.Variable});return e}var Os,hc=C(()=>{Os=he(tn());nl()});function mc(t,e){if(t.isClosingTag)return e;if(t.hasMethodPart()&&t.getMethodNameValue()!="count"&&e.addVariables(CC(t)),t.reference!=null){let n=pc(t,e);PC(t,e,n)}return e}var md=C(()=>{IC();AC();hc()});var Y_,FC=C(()=>{Y_=[{name:"is",description:"Tests if a field is equal to a value"},{name:"equals",description:"Tests if a field is equal to a value"},{name:"not",description:"Tests if a field is not equal to a value"},{name:"isnt",description:"Tests if a field is not equal to a value"},{name:"exists",description:"Tests if a field exists"},{name:"isset",description:"Tests if a field exists"},{name:"doesnt_exist",description:"Tests if a field does not exist"},{name:"is_empty",description:"Tests if a field does not exist"},{name:"null",description:"Tests if a field does not exist"},{name:"contains",description:"Tests if a field contains a value"},{name:"doesnt_contain",description:"Tests if a field does not contain a value"},{name:"in",description:"Tests if a value is in an array"},{name:"not_in",description:"Tests if an array does not contain a value"},{name:"starts_with",description:"Tests if a field starts with a value"},{name:"doesnt_start_with",description:"Tests if a field does not start with a value"},{name:"ends_with",description:"Tests if a field ends with a value"},{name:"doesnt_end_with",description:"Tests if a field does not end with a value"},{name:"gt",description:"Tests if a field is greater than a value"},{name:"lt",description:"Tests if a field is less than a value"},{name:"gte",description:"Tests if a field is greater than or equal to a value"},{name:"lte",description:"Tests if a field is less than or equal to a value"},{name:"matches",description:"Tests if a field matches a case insensitive regex"},{name:"regex",description:"Tests if a field matches a case insensitive regex"},{name:"doesnt_match",description:"Tests if a field does not match a case insensitive regex"},{name:"is_alpha",description:"Tests if a field contains only alphabetical characters"},{name:"is_numeric",description:"Tests if a field contains only numeric characters"},{name:"is_alpha_numeric",description:"Tests if a field contains only alpha-numeric characters"},{name:"is_url",description:"Tests if a field is a valid URL"},{name:"is_embeddable",description:"Tests if a field is an embeddable video URL"},{name:"is_email",description:"Tests if a field is a valid email address"},{name:"is_after",description:"Tests if a field is after a given date"},{name:"is_before",description:"Tests if a field is before a given date"}]});function lo(t){let e=[],n={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position};for(let r=0;r<Y_.length;r++){let i=Y_[r],s=t.originalLeftWord+i.name+'="$1"';e.push({label:i.name,insertTextFormat:gd.InsertTextFormat.PlainText,kind:gd.CompletionItemKind.Field})}return e}var gd,Zu=C(()=>{gd=he(tn());FC()});var rl,K_=C(()=>{rl=class{static clear(e){this.unclosedNodes.delete(e)}static registerNodes(e,n){this.unclosedNodes.set(e,n)}static getUnclosedTags(e,n){var a,l,c;let r=[];if(this.unclosedNodes.has(e)==!1)return r;let i=this.unclosedNodes.get(e);if(i.length==0)return r;let s=n.line+1;for(let f=0;f<i.length;f++){let d=i[f];(((a=d.endPosition)==null?void 0:a.line)==s&&n.character>d.endPosition.char||s>((c=(l=d.endPosition)==null?void 0:l.line)!=null?c:0))&&r.push(d)}return r}static hasUnclosedTags(e,n){return this.unclosedNodes.has(e)==!1?!1:this.getUnclosedTags(e,n).length>0}};rl.unclosedNodes=new Map});function co(t){return[{name:"edit_url",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"id",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"last_modified",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"permalink",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"published",dataType:"boolean",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"slug",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"template",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t}]}var VC,ef=C(()=>{VC=["edit_url","id","last_modified","permalink","published","slug","template","url"]});var Ti,BC,qC=C(()=>{Ti=he(nr()),BC=[{label:"name",kind:Ti.CompletionItemKind.Property},{label:"description",kind:Ti.CompletionItemKind.Property},{label:"desc",kind:Ti.CompletionItemKind.Property},{label:"entry",kind:Ti.CompletionItemKind.Property},{label:"collection",kind:Ti.CompletionItemKind.Property},{label:"blueprint",kind:Ti.CompletionItemKind.Property},{label:"var",kind:Ti.CompletionItemKind.Property},{label:"set",kind:Ti.CompletionItemKind.Property},{label:"param",kind:Ti.CompletionItemKind.Property},{label:"param*",kind:Ti.CompletionItemKind.Property},{label:"front",kind:Ti.CompletionItemKind.Property},{label:"format",kind:Ti.CompletionItemKind.Property}]});var _d,oW,UC,jC=C(()=>{_d=he(tn()),oW=[{label:"if",kind:_d.CompletionItemKind.Keyword},{label:"elseif",kind:_d.CompletionItemKind.Keyword},{label:"else",kind:_d.CompletionItemKind.Keyword}],UC=oW});var gc,GC,$_,HC=C(()=>{gc=he(nr()),GC=he(tn());cs();$_=class{static getCompletions(e,n){var a;let r=[],i=0;e.leftWord!=e.leftMeaningfulWord&&(i=e.leftWord.length);let s={start:{line:e.position.line,character:e.position.character-i},end:e.position};return(a=bt.instance)==null||a.getModifiersForType(n.dataType).filter(l=>l.canBeParameter).forEach(l=>{r.push({label:l.name,documentation:{kind:GC.MarkupKind.Markdown,value:l.description},insertTextFormat:gc.InsertTextFormat.Snippet,kind:gc.CompletionItemKind.Value,textEdit:gc.TextEdit.replace(s,l.name+'="$1" '),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}),r}}});var z_,_c,Q_=C(()=>{z_=he(tn()),_c=[];_c.push({label:"true",kind:z_.CompletionItemKind.Keyword});_c.push({label:"false",kind:z_.CompletionItemKind.Keyword})});function WC(t){let e=[];for(let n=0;n<t.expectsTypes.length;n++)t.expectsTypes[n]=="boolean"&&(e=e.concat(_c));return e}var YC=C(()=>{Q_()});function Vt(t){return[{sourceName:"*internal.array",sourceField:null,dataType:"*",name:"value",introducedBy:t},{sourceName:"*internal.array",sourceField:null,dataType:"*",name:"key",introducedBy:t}]}var Br=C(()=>{});var lW,KC,$C=C(()=>{Br();hr();lW={name:"array",augmentScope:(t,e)=>{e.addVariables(Vt(t)),e.addVariables(kt(t))}},KC=lW});var cW,zC,QC=C(()=>{cW={name:"bard",augmentScope:(t,e)=>{e.addVariable({name:"type",dataType:"string",sourceField:null,sourceName:"*internal.bard",introducedBy:t})},injectCompletions:(t,e,n)=>[]},zC=cW});var uW,XC,JC=C(()=>{Br();hr();uW={name:"form_multiple",augmentScope:(t,e)=>{e.addVariables(Vt(t)),e.addVariables(kt(t))}},XC=uW});var fW,ZC,eA=C(()=>{Br();hr();fW={name:"list",augmentScope:(t,e)=>{e.addVariables(Vt(t)),e.addVariables(kt(t))}},ZC=fW});function tA(t){return[{name:"type",dataType:"string",sourceName:"*internal.replicator",sourceField:null,introducedBy:t}]}var nA=C(()=>{});var pW,rA,iA=C(()=>{hr();nA();pW={name:"replicator",augmentScope:(t,e)=>{e.addVariables(tA(t)),e.addVariables(kt(t))},injectCompletions:(t,e,n)=>[]},rA=pW});var dW,sA,aA=C(()=>{Br();hr();dW={name:"select_multiple",augmentScope:(t,e)=>{e.addVariables(Vt(t)),e.addVariables(kt(t))}},sA=dW});var hW,oA,lA=C(()=>{Br();hr();hW={name:"sites_multiple",augmentScope:(t,e)=>{e.addVariables(Vt(t)),e.addVariables(kt(t))}},oA=hW});var mW,cA,uA=C(()=>{Br();hr();mW={name:"structures_multiple",augmentScope:(t,e)=>{e.addVariables(Vt(t)),e.addVariables(kt(t))}},cA=mW});var gW,fA,pA=C(()=>{gW={name:"table",augmentScope:(t,e)=>{e.addVariable({name:"cells",dataType:"array",sourceName:"*internal.fieldtype.table",sourceField:null,introducedBy:t})}},fA=gW});var _W,dA,hA=C(()=>{Br();hr();_W={name:"tags",augmentScope:(t,e)=>{e.addVariables(Vt(t)),e.addVariables(kt(t))}},dA=_W});function Td(t){return co(t).concat([{name:"entries_count",dataType:"number",sourceName:"*internal.term",sourceField:null,introducedBy:t},{name:"is_term",dataType:"boolean",sourceName:"*internal.term",sourceField:null,introducedBy:t},{name:"taxonomy",dataType:"string",sourceName:"*internal.term",sourceField:null,introducedBy:t}])}var X_=C(()=>{ef()});var TW,mA,gA=C(()=>{Br();hr();X_();TW={name:"taxonomies_multiple",augmentScope:(t,e)=>{e.addVariables(Vt(t)),e.addVariables(kt(t)),e.addVariables(Td(t))}},mA=TW});var yW,_A,TA=C(()=>{Br();hr();X_();yW={name:"terms_multiple",augmentScope:(t,e)=>{e.addVariables(Vt(t)),e.addVariables(kt(t)),e.addVariables(Td(t))}},_A=yW});var bW,yA,bA=C(()=>{Br();hr();bW={name:"user_groups_multiple",augmentScope:(t,e)=>{e.addVariables(Vt(t)),e.addVariables(kt(t))}},yA=bW});var vW,vA,NA=C(()=>{Br();hr();vW={name:"user_roles_multiple",augmentScope:(t,e)=>{e.addVariables(Vt(t)),e.addVariables(kt(t))}},vA=vW});var NW,xA,EA=C(()=>{Br();hr();NW={name:"users_multiple",augmentScope:(t,e)=>{e.addVariables(Vt(t)),e.addVariables(kt(t)),e.injectBlueprint(t,"user")}},xA=NW});var xW,SA,PA=C(()=>{Br();hr();xW={name:"yaml",augmentScope:(t,e)=>{e.addVariables(Vt(t)),e.addVariables(kt(t))}},SA=xW});var EW,IA,CA=C(()=>{$C();QC();JC();eA();iA();aA();lA();uA();pA();hA();gA();TA();bA();NA();EA();PA();EW=[KC,zC,XC,ZC,rA,sA,oA,cA,SA,fA,mA,dA,_A,xA,yA,vA],IA=EW});var uo,Tc,J_=C(()=>{CA();uo=class{constructor(){this.fieldTypes=new Map}getFieldTypes(){return this.fieldTypes}getFieldType(e){return this.fieldTypes.get(e)}registerFieldtypes(e){for(let n=0;n<e.length;n++)this.fieldTypes.set(e[n].name,e[n])}loadCoreFieldtypes(){this.registerFieldtypes(IA)}hasFieldtype(e){return this.fieldTypes.has(e)}};uo.instance=null;(typeof uo.instance=="undefined"||uo.instance==null)&&(uo.instance=new uo,uo.instance.loadCoreFieldtypes());Tc=uo});var Z_,AA=C(()=>{J_();Z_=class{static getVariableSuggestions(e,n){var i,s;let r=[];if(n.scopeVariable!=null&&n.scopeVariable.sourceField!=null&&((i=Tc.instance)==null?void 0:i.hasFieldtype(n.scopeVariable.sourceField.type))){let a=(s=Tc.instance)==null?void 0:s.getFieldType(n.scopeVariable.sourceField.type);a.injectCompletions!=null&&(r=a.injectCompletions(e,n.scopeVariable.sourceField,n))}return r}}});function RA(t,e){var c,f,d,m,_,g,T,N;let n=(f=(c=t.startPosition)==null?void 0:c.line)!=null?f:-1,r=(m=(d=t.endPosition)==null?void 0:d.line)!=null?m:1,i=(g=(_=t.startPosition)==null?void 0:_.char)!=null?g:-1,s=(N=(T=t.endPosition)==null?void 0:T.char)!=null?N:-1,a=e.line+1,l=e.character+1;return n==r&&a==n+1&&l>i&&l<=s||a==n&&l>i&&l<=s||a==r&&l<s||a>n&&a<r}function yd(t){let e="";return t.currentNode!=null&&(e=t.currentNode.getMethodNameValue()),e}function Aa(t){if(t.includes(":")==!1)return t;let e=t.split(":");return e.length>1?e[e.length-1]:e[0].trim()}function bd(t){return t.includes(":")==!1?t:t.split(":")[0]}function kA(t){var n;if(t.nodesInScope.length==0)return[];let e=t.nodesInScope[t.nodesInScope.length-1];return((n=t.context)==null?void 0:n.node)!=null&&(e=t.context.node),e.currentScope==null?[]:il(t,e.currentScope)}function il(t,e){let n=[];return e.values.forEach(r=>{var i;if(r.sourceField!=null?n.push({label:r.name,detail:r.sourceField.blueprintName,documentation:(i=r.sourceField.instructionText)!=null?i:"",kind:Vn.CompletionItemKind.Field}):n.push(ao(r.name,"","")),r.dataType.trim().length>0&&r.dataType=="array"){let s=r.name+` }}
    $1
{{ /`+r.name+" ",a={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position};n.push({label:r.name+" loop",insertTextFormat:Vn.InsertTextFormat.Snippet,kind:Vn.CompletionItemKind.Snippet,textEdit:Vn.TextEdit.replace(a,s),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}),e.lists.forEach((r,i)=>{n.push(ao(i,"",""))}),n}function IW(){var e;let t=[];return(e=bt.instance)==null||e.getRegisteredModifiers().forEach(n=>{n.isDeprecated||t.push(ud(n))}),t}var Vn,SW,PW,eT,Zs=C(()=>{Vn=he(vr());cs();Ls();K_();ef();He();Rr();qC();jC();uc();HC();YC();AA();SW=["if","elseif","unless","elseunless"],PW=["else","/if"];eT=class{static getSuggestions(e){var s,a,l,c,f,d,m,_,g,T,N,A,b,x,v,I,O,X,Y,te,ue,de,ie,pe,rt,Te,le,dt,At,vn,ze,Ht,wn,Qn;if(e==null)return[];if(e.context!=null&&e.context.node!=null&&e.context.node.isComment)return e.context.node.antlersNodeIndex==1?BC:[];if(e.nodesInScope.length==0)return[];if(e.leftMeaningfulWord==null&&e.leftChar=="/"){let Se=rl.getUnclosedTags(e.document,e.position);if(Se.length>0){let Pe=[],Ce="";e.rightChar=="}"&&(Ce=" ");for(let xe=0;xe<Se.length;xe++)Pe.push({label:Se[xe].runtimeName()+Ce,kind:Vn.CompletionItemKind.Text});return Pe}}let n=e.nodesInScope[e.nodesInScope.length-1];if(n instanceof Wo)return[];let r=[],i=!0;if(n.currentScope!=null&&((s=e.context)==null?void 0:s.variableContext)!=null&&e.context.variableContext.varPathText.length>0){if(n.currentScope.hasListInHistory(e.context.variableContext.varPathText)){let Se=n.currentScope.getList(e.context.variableContext.varPathText);Se!=null&&il(e,Se).forEach(Pe=>{r.push({...Pe,sortText:"00"})})}else if(n.currentScope.containsPath(e.context.variableContext.varPathText)){let Se=n.currentScope.findNestedScope(e.context.variableContext.varPathText);Se!=null&&il(e,Se).forEach(Pe=>{r.push({...Pe,sortText:"00"})})}}if(((a=e.context)==null?void 0:a.modifierContext)!=null&&(e.context.modifierContext.inModifierName||e.context.modifierContext.inModifierName==!1&&e.context.modifierContext.inModifierParameter==!1||e.context.feature==null||e.leftChar=="|"&&e.context.char==" ")&&(r=r.concat(IW())),e.nodesInScope.length>=2){let Se=e.nodesInScope.length-2,Pe=[];for(let Ce=Se;Ce>=0;Ce--){let xe=e.nodesInScope[Ce];Pe=Pe.concat(Z_.getVariableSuggestions(e,xe))}Pe.length>0&&(r=r.concat(Pe))}if((((l=e.currentNode)==null?void 0:l.isEmpty())||((c=e.context)==null?void 0:c.isCursorInIdentifier)&&e.leftChar!=":"&&e.leftChar!=" ")&&((f=e.context)==null?void 0:f.modifierContext)==null){let Se=(m=(d=Ze.instance)==null?void 0:d.getVisibleTagsWithDocumentation())!=null?m:[],Pe=[],Ce=[];for(let xe=0;xe<Se.length;xe++){let Ve="000";if(e.leftWord!=null&&Se[xe].label.startsWith(e.leftWord)==!1&&(Ve="001"),((_=e.context)==null?void 0:_.node)!=null&&((g=e.context)==null?void 0:g.node.parent)!=null&&(Ve=void 0),Se[xe].label.includes(":")==!1)Pe.includes(Se[xe].label)==!1&&(Ce.push({label:Se[xe].label,kind:Vn.CompletionItemKind.Text,documentation:{kind:"markdown",value:Se[xe].documentation},sortText:Ve}),Pe.push(Se[xe].label));else{let ht=Se[xe].label.split(":")[0];Pe.includes(ht)==!1&&(Ce.push({label:ht,kind:Vn.CompletionItemKind.Text,documentation:{kind:"markdown",value:Se[xe].documentation},sortText:Ve}),Pe.push(ht))}}r=r.concat(Ce)}if(n!=null&&n.currentScope!=null){if(PW.includes(n.getTagName()))return[];if(((T=e.context)==null?void 0:T.node)==null)return[];if(e.antlersDocument!=null){let Se=e.antlersDocument.cursor.getAssignmentsBefore(e.position.line,e.position.character);Se.length>0&&Se.forEach(Pe=>{Pe.target instanceof Ae&&r.push({label:Pe.target.name,kind:Vn.CompletionItemKind.Variable})})}if(SW.includes(n.getTagName())&&e.context.feature!=null&&e.context.feature instanceof Tn&&e.context.feature.prev instanceof wr&&e.context.feature.prev.prev instanceof Ae){let Se=n.getParser();if(Se!=null&&e.project!=null&&Se.getLanguageParser().isMergedVariableComponent(e.context.feature.prev.prev)){let Ce=Se.getLanguageParser().getMergedVariable(e.context.feature.prev.prev),xe=[];return Ce.name=="collection:handle"?xe=e.project.getUniqueCollectionNames():Ce.name=="site:handle"?xe=e.project.getSiteNames():Ce.name=="blueprint:handle"&&(xe=e.project.getBlueprintNames()),xe.forEach(Ve=>{r.push({label:Ve,sortText:Ve,kind:Vn.CompletionItemKind.EnumMember})}),r}if(["collection","current_template","status","blueprint","response_code"].includes(e.context.feature.prev.prev.name)){if(e.project!=null){let Ce=e.context.feature.prev.prev.name,xe=[];return Ce=="collection"?xe=e.project.getUniqueCollectionNames():Ce=="current_template"?xe=e.project.getTemplateNames():Ce=="status"?xe=["draft","scheduled","expired","published"]:Ce=="blueprint"?xe=e.project.getBlueprintNames():Ce=="response_code"&&(xe=["404","200"]),xe.forEach(Ve=>{r.push({label:Ve,sortText:Ve,kind:Vn.CompletionItemKind.EnumMember})}),r}}else if(e.context.feature.prev.prev.scopeVariable!=null){let Ce=e.context.feature.prev.prev.scopeVariable.dataType;if(Ce=="replicator"||Ce=="bard"){let xe=e.context.feature.prev.prev.scopeVariable.sourceField;return(N=xe.sets)==null||N.forEach(Ve=>{let ht="**"+Ve.displayName+"** `"+Ve.handle+"`  ";ht+=`

 Blueprint: \``+xe.blueprintName+"`  \n",Ve.fields.forEach(Pr=>{ht+=`
 * `+Pr.displayName+" `"+Pr.name+":"+Pr.type+"`  "}),Ce=="replicator"?ht+=`

 [Replicator Templating Documentation](https://statamic.dev/fieldtypes/replicator#templating)`:ht+=`

 [Bard Templating Documentation](https://statamic.dev/fieldtypes/bard#with-sets)`,r.push({label:Ve.displayName,insertText:Ve.handle,sortText:"000",documentation:{kind:"markdown",value:ht},kind:Vn.CompletionItemKind.EnumMember})}),r}}}if(n.isTagNode==!1){r=r.concat(UC);let Se={start:{line:e.position.line,character:e.position.character-e.originalLeftWord.length},end:e.position},Pe=`if $1 }}
    $2
{{ else }}

{{ /if `;r.push({label:"ifelse",insertTextFormat:Vn.InsertTextFormat.Snippet,kind:Vn.CompletionItemKind.Snippet,textEdit:Vn.TextEdit.replace(Se,Pe),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}),n.scopeVariable!=null&&(r=r.concat($_.getCompletions(e,n.scopeVariable)))}if(n.currentScope.hasListInHistory(n.runtimeName())==!1&&n.currentScope.hasPristineReference(n.runtimeName())==!1?i=(b=(A=Ze.instance)==null?void 0:A.injectParentScope(n.runtimeName()))!=null?b:!1:i=!1,((x=e.context)==null?void 0:x.parameterContext)!=null&&e.context.parameterContext.parameter!=null&&(e.context.parameterContext.parameter.isVariableReference==!1?i=!1:i=!0),e.currentNode!=null&&(e.currentNode.isEmpty()||e.currentNode.parent!=null)&&(i=!0),n.runtimeName().includes(":")&&n.currentScope.containsPath(us(n.runtimeName(),":"))){let Se=us(n.runtimeName(),":"),Pe=Fi(us(e.leftWord,":"),"{");if(Se==Pe){let Ce=n.currentScope.findNestedScope(Se);if(Ce!=null)return Ce.lists.forEach((xe,Ve)=>{r.push(ao(Ve,"",""))}),Ce.values.forEach(xe=>{var Ve;xe.sourceField!=null?r.push({label:xe.name,detail:xe.sourceField.blueprintName,documentation:(Ve=xe.sourceField.instructionText)!=null?Ve:"",kind:Vn.CompletionItemKind.Field}):r.push(ao(xe.name,"",""))}),r}}if(n.isTagNode){if(e.isInVariableInterpolation&&e.currentNode==null)r=r.concat(il(e,n.currentScope.ancestor()));else if(((v=e.context)==null?void 0:v.parameterContext)!=null&&e.context.parameterContext.parameter!=null){let Se=e.context.parameterContext.parameter;if(Se.isVariableReference&&e.position.character<=((X=(O=(I=Se.valuePosition)==null?void 0:I.end)==null?void 0:O.char)!=null?X:-1)){if(r=r.concat(il(e,n.currentScope.ancestor())),Ze.instance!=null){let Pe=Ze.instance.getCompletionItems(e);r=r.concat(Pe.items)}}else if(e.position.character<=((ue=(te=(Y=Se.valuePosition)==null?void 0:Y.end)==null?void 0:te.char)!=null?ue:-1)){let Pe=null,Ce=!1;if((de=Ze.instance)==null?void 0:de.canResolveDynamicParameter(n.runtimeName())){let xe=Ze.instance.findTag(n.runtimeName());typeof xe!="undefined"&&typeof xe.resolveDynamicParameter!="undefined"&&xe.resolveDynamicParameter!=null&&(Pe=xe.resolveDynamicParameter(n,Se.name),Ce=!0)}else Pe=(pe=(ie=Ze.instance)==null?void 0:ie.getParameter(n.runtimeName(),Se.name))!=null?pe:null;if(Pe==null&&Ce&&(Pe=(Te=(rt=Ze.instance)==null?void 0:rt.getParameter(n.runtimeName(),Se.name))!=null?Te:null),typeof Pe!="undefined"&&Pe!==null){let xe=(dt=(le=Ze.instance)==null?void 0:le.resolveParameterCompletions(n.runtimeName(),Pe,e))!=null?dt:null;xe!==null&&xe.items.length>0?xe.items.forEach(Ve=>{Ve.sortText="000",r.push(Ve)}):WC(Pe).forEach(Ve=>{Ve.sortText="000",r.push(Ve)})}if(Se.hasInterpolations()&&e.isInVariableInterpolation&&n.isTagNode){let xe=(At=Ze.instance)==null?void 0:At.findTag(n.runtimeName());if(xe.resolveCompletionItems!=null){let Ve=xe.resolveCompletionItems(e);Ve.items.length>0&&(r=Ve.items)}}}}else if(e.isInVariableInterpolation==!1||e.currentNode==n){let Se=RA(n,e.position);if(e.isCaretInTag=Se,e.currentNode=n,Ze.instance!=null){let Pe=Ze.instance.getCompletionItems(e);Pe.isExclusive?r=Pe.items:r=r.concat(Pe.items)}}}else e.isInVariableInterpolation&&e.currentNode==null&&(r=r.concat(il(e,n.currentScope.ancestor())));if(i){e.context.node!=null&&e.context.node.currentScope!=null&&(e.context.modifierContext==null||e.context.modifierContext.activeModifier==null)&&(r=r.concat(il(e,e.context.node.currentScope)));let Se=decodeURIComponent(e.document);if(e.project.hasViewCollectionInjections(Se)){let Pe=e.project.getCollectionNamesForView(Se);for(let Ce=0;Ce<Pe.length;Ce++){let xe=e.project.getBlueprintFields(Pe);if(xe.length>0)for(let Ve=0;Ve<xe.length;Ve++){let ht=xe[Ve];r.push({label:ht.name,detail:ht.blueprintName,documentation:(vn=ht.instructionText)!=null?vn:"",kind:Vn.CompletionItemKind.Field})}}VC.forEach(Ce=>{r.push({label:Ce,kind:Vn.CompletionItemKind.Field})})}}return e.context.node!=null&&(e.context.node.manifestType=="array"&&e.context.node.isClosedBy!=null?e.context.modifierContext!=null&&((Ht=(ze=bt.instance)==null?void 0:ze.getModifiersForType("array"))!=null?Ht:[]).forEach(Pe=>{if(Pe.isDeprecated)return;let Ce=ud(Pe);Ce.sortText="000",r.push(Ce)}):e.context.modifierContext!=null&&((Qn=(wn=bt.instance)==null?void 0:wn.getModifiersForType(e.context.node.manifestType))!=null?Qn:[]).forEach(Pe=>{if(Pe.isDeprecated)return;let Ce=ud(Pe);Ce.sortText="000",r.push(Ce)})),r}for(let Se=0;Se<e.nodesInScope.length;Se++){let Pe=e.nodesInScope[Se],Ce=!0;if(e.isInVariableInterpolation&&e.currentNode!==null&&Pe.currentScope!=null&&e.currentNode.currentScope!=null&&Pe.currentScope.generation>e.currentNode.currentScope.generation&&(Ce=!1),Pe.isTagNode&&Ce){let xe=RA(Pe,e.position);if(e.isCaretInTag=xe,e.currentNode=Pe,Ze.instance!=null){let Ve=Ze.instance.getCompletionItems(e);if(Ve.isExclusive){r=Ve.items;break}r=r.concat(Ve.items)}continue}}return r}}});function Ye(t){let e="";typeof t!="undefined"&&typeof t.resolveDocumentation!="undefined"&&t.resolveDocumentation!=null&&(e=t.resolveDocumentation());let n=t.tagName;if(n.includes(":")){let r=n.split(":");n=r[r.length-1]}return{label:n,kind:wA.CompletionItemKind.Text,sortText:"1",documentation:{kind:"markdown",value:e}}}var wA,Ki=C(()=>{wA=he(nr())});function OA(t,e,n){return{name:t,acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:e,expectsTypes:["string"],isDynamic:!0,isRequired:!1,documentationLink:n,docLinkName:"MDN Reference"}}var LA,DA,MA=C(()=>{LA=OA("class","A space-separated list of the classes of the element.","https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/class"),DA=OA("style","Contains CSS styling declarations to be applied to the element. Note that it is recommended for styles to be defined in a separate file or files.","https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/style")});function vd(t){return t=="class"?LA:t=="style"?DA:{name:t,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"",expectsTypes:["string","number","array"],isRequired:!1,isDynamic:!0}}function FA(t){let e=[];for(let n=0;n<t.length;n++)e.push({label:t[n],kind:tT.CompletionItemKind.Field});return be(e)}function cn(t){let e=[];for(let n=0;n<t.length;n++)e.push({label:t[n],kind:tT.CompletionItemKind.Field});return be(e)}function be(t){return{items:t,isExclusiveResult:!0,analyzeDefaults:!1}}function Nr(t){return{items:t,isExclusiveResult:!1,analyzeDefaults:!0}}var tT,Be,Ke=C(()=>{tT=he(tn());MA();Be={items:[],isExclusiveResult:!1,analyzeDefaults:!0}});function Yt(t,e){let n=CW(t);return n.tagName=e,n}function CW(t){return{allowsArbitraryParameters:t.allowsArbitraryParameters,allowsContentClose:t.allowsContentClose,injectParentScope:t.injectParentScope,parameters:t.parameters,requiresClose:t.requiresClose,tagName:t.tagName,introducedIn:t.introducedIn,hideFromCompletions:t.hideFromCompletions,augmentScope:t.augmentScope,requiresCloseResolver:t.requiresCloseResolver,resolveCompletionItems:t.resolveCompletionItems,resolveDynamicParameter:t.resolveDynamicParameter,resolveSpecialType:t.resolveSpecialType,resovleParameterCompletionItems:t.resovleParameterCompletionItems,suggestAlternativeParams:t.suggestAlternativeParams,resolveDocumentation:t.resolveDocumentation}}var ea=C(()=>{});function VA(t){return t.findParameterValueOrNull("scope")}function BA(t){t.getAllNodes().forEach(n=>{n instanceof J&&n.manifestType==="array"&&(n.mustClose=!0)})}var nT=C(()=>{He()});function AW(t){return t.findParameterValueOrNull("as")}function kW(t,e){let n=[];if(t.hasMethodPart()){let l=t.getMethodNameValue();if(RW.includes(l)==!1)return n.push(l),n}let r=t.findAnyParameter(RC),i=t.findAnyParameter(kC),s=[],a=[];return typeof r!="undefined"&&r!==null&&(r.value.trim()==="*"?(s=e.getUniqueCollectionNames(),typeof i!="undefined"&&i!==null&&i.isVariableReference==!1&&i.hasInterpolations()==!1&&(a=i.getArrayValue())):r.isVariableReference==!1&&r.hasInterpolations()==!1&&(s=r.getArrayValue())),a.length>0?n=s.filter(function(l){return a.includes(l)==!1}):n=s,n}function fo(t,e){var f,d,m,_,g,T;let n=kW(t,e),r=!1,i=!1,s=!1,a=null,l="";if(t.isClosingTag==!1){let N=AW(t),A=VA(t);N!=null&&(r=!0,l=N),A!=null&&(s=!0,a=A),i=t.hasParameter("paginate")}return{context:{collectionNames:n!=null?n:[],endPosition:(d=(f=t.endPosition)==null?void 0:f.char)!=null?d:0,aliasName:l,isAliased:r,isScoped:s,scopeName:a,isStartOfScope:!t.isClosingTag,line:(_=(m=t.startPosition)==null?void 0:m.line)!=null?_:0,startPosition:(T=(g=t.startPosition)==null?void 0:g.char)!=null?T:0,isPaginated:i,excludeCollections:[],includeCollections:[]},issues:[]}}var RW,tf=C(()=>{nT();nl();RW=["count","next","previous"]});function yc(t,e){if(t==null)return null;let n=Fi(e,":");return n.includes(":")&&(n=n.split(":")[0]),n=="status"||n=="taxonomy"||t.currentScope!=null&&t.currentScope.containsReference(n)?vd(e):null}var Nd=C(()=>{Rr();Ke()});function po(t,e){var n,r,i,s,a,l,c,f,d,m;if(t.isDynamic){let _=bd(t.name);if(e.nodesInScope.length>0){let g=e.nodesInScope[e.nodesInScope.length-1];if(g!=null&&g.currentScope!=null){let T=pc(g,g.currentScope),N=T.map(b=>b.name),A=Aa(e.leftWord);if(N.includes(A))return be(lo(e))}}if(_=="status"&&((n=e.context)==null?void 0:n.parameterContext)!=null)return be(LC((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[]));if(_=="taxonomy"){let g=Aa(t.name);if(e.project.hasTaxonomy(g)&&((s=e.context)==null?void 0:s.parameterContext)!=null)return be(DC((l=(a=e.context.parameterContext.parameter)==null?void 0:a.getArrayValue())!=null?l:[],g,e.project))}}if(t.name=="filter"||t.name=="query_scope")return be(hd(e.project));if(e.nodesInScope.length>0){let _=e.nodesInScope[e.nodesInScope.length-1];if(_.hasMethodPart()&&OW.includes(_.getMethodNameValue())&&LW.includes(t.name))return be(MC(e.project))}return wW.includes(t.name)&&((c=e.context)==null?void 0:c.parameterContext)!=null?be(dc((m=(d=(f=e.context)==null?void 0:f.parameterContext.parameter)==null?void 0:d.getArrayValue())!=null?m:[],e.project)):null}var wW,OW,LW,nf=C(()=>{Zu();Zs();Ke();hc();wW=["from","folder","use","not_from","not_folder"],OW=["previous","next"],LW=["in","collection"]});var DW,sl,xd=C(()=>{ce();pd();md();nl();Ed();tf();Nd();nf();DW={tagName:"collection:previous",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...oo,{name:"in",aliases:["collection"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The collection to search in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"current",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets the current entry by ID",expectsTypes:["string"],isDynamic:!1,isRequired:!1}],augmentScope:mc,resolveDynamicParameter:yc,resolveSpecialType:fo,suggestAlternativeParams:fc,resovleParameterCompletionItems:po,resolveCompletionItems:bc,resolveDocumentation:t=>nt("collection:previous Tag","The `collection:previous` tag is used to show the entries that appear before the current entry, based on some entry order (publish date, alphabetical, or manual).",`{{# Retrieve the previous two entries, based on dates in ascending order. #}}
{{ collection:previous in="articles" limit="2" sort="date:asc" }}

{{ /collection:previous }}`,"https://statamic.dev/tags/collection-previous")},sl=DW});var Sd,Pd,rT=C(()=>{ea();xd();Sd=Yt(sl,"collection:older"),Pd=Yt(sl,"collection:newer")});var MW,Id,iT=C(()=>{ce();nl();tf();nf();MW={tagName:"collection:count",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...oo,{isRequired:!0,name:"in",aliases:["from"],description:"The collection from which to count entries",acceptsVariableInterpolation:!0,allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1}],resolveSpecialType:fo,resovleParameterCompletionItems:po,resolveDocumentation:t=>nt("collection:count Tag","The `collection:count` tag returns the total number of entries in the specified collection(s). The collection count tag accepts the same parameters as the collection tag, allowing developers to count entries that meet specific conditions.",`Total entry count: {{ collection:count in="collection-name" }}
Draft count: {{ collection:count in="collection-name" status:in="draft" }}`,"https://statamic.dev/tags/collection-count")},Id=MW});var FW,Cd,sT=C(()=>{ce();pd();md();nl();Ed();tf();Nd();nf();FW={tagName:"collection:next",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...oo,{name:"in",aliases:["collection"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The collection to search in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"current",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets the current entry by ID",expectsTypes:["string"],isDynamic:!1,isRequired:!1}],augmentScope:mc,resolveDynamicParameter:yc,resolveSpecialType:fo,suggestAlternativeParams:fc,resovleParameterCompletionItems:po,resolveCompletionItems:bc,resolveDocumentation:t=>nt("collection:next Tag","The `collection:next` tag is used to show the entries that will appear after the current entry, based on some entry order (publish date, alphabetical, or manual).",`{{# Retrieve the next two entries, based on dates in ascending order. #}}
{{ collection:next in="articles" limit="2" sort="date:asc" }}

{{ /collection:next }}`,"https://statamic.dev/tags/collection-next")},Cd=FW});function bc(t){var n,r;let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="collection"||t.leftWord=="/collection")&&t.leftChar==":"){let i=t.project.getCollectionNames();for(let s=0;s<i.length;s++)e.push({label:i[s],kind:rf.CompletionItemKind.Field,sortText:"0"});return e.push(Ye(Id)),e.push(Ye(Cd)),e.push(Ye(sl)),e.push(Ye(Sd)),e.push(Ye(Pd)),{items:e,analyzeDefaults:!1,isExclusiveResult:!1}}if(t.currentNode!=null&&t.currentNode.currentScope!=null){let i=pc(t.currentNode,t.currentNode.currentScope),s=i.map(l=>l.name),a=Aa(t.leftWord);if(a==="taxonomy")return be(OC(t));if(s.includes(a))return e=lo(t),be(e);if(t.isCaretInTag&&!((n=t.context)==null?void 0:n.isInParameter)&&["collection","/collection"].includes(t.leftWord)==!1&&t.leftChar!=" "){let l=[];for(let c=0;c<i.length;c++){let f=i[c];l.includes(f.name)==!1&&(e.push({label:f.name,detail:f.blueprintName,documentation:(r=f.instructionText)!=null?r:"",kind:rf.CompletionItemKind.Field}),l.push(f.name))}if(e.push({label:"taxonomy",insertText:"taxonomy:",kind:rf.CompletionItemKind.Field}),e.push({label:"status",insertText:"status:",kind:rf.CompletionItemKind.Field}),e.length>0)return Nr(e)}}return Be}var rf,Ed=C(()=>{rf=he(nr());Zu();Zs();Ki();Ke();rT();iT();sT();xd();hc()});var VW,qA,UA=C(()=>{ce();pd();md();nl();Ed();tf();Nd();nf();VW={tagName:"collection",hideFromCompletions:!1,introducedIn:null,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:oo,augmentScope:mc,resolveDynamicParameter:yc,resolveSpecialType:fo,suggestAlternativeParams:fc,resovleParameterCompletionItems:po,resolveCompletionItems:bc,resolveDocumentation:t=>nt("collection Tag","The `collection` tag provides access to entry data such as blog posts, products, etc.",`{{ collection:articles as="posts" }}

	{{ posts }}
		{{ title }}
	{{ /posts }}

{{ /collection:articles }}`,"https://statamic.dev/tags/collection")},qA=VW});var BW,jA,GA=C(()=>{ce();Ke();BW={tagName:"cache",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,allowsContentClose:!1,allowsArbitraryParameters:!1,resovleParameterCompletionItems:(t,e)=>t.name=="scope"?cn(["page","site"]):null,parameters:[{isRequired:!1,name:"for",description:"The duration the cache is valid for",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"key",description:"An arbitrary name the cache entry may be referenced by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"scope",description:" The scope of the cached value. Either site or page.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1}],resolveSpecialType:(t,e)=>{let n=t.findParameter("key"),r=null;if(n!=null){let i=n.value;i.trim().length>0&&(r={key:i,reference:t})}return{context:r,issues:[]}},resolveDocumentation:t=>nt("cache Tag","The `cache` tag can be used to save the results of an expensive template operation. The duration of the cache can be configured.",`{{ cache for="10 minutes" }}
    {{# Template code that won't be re-rendered for at least 10 minutes. #}}
{{ /cache }}`,"https://statamic.dev/tags/cache")},jA=BW});var qW,HA,WA=C(()=>{ce();Zs();Ke();qW={tagName:"dump",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.leftWord=="dump"&&t.leftChar==":"?be(kA(t)):Be,resolveDocumentation:t=>nt("dump Tag","The `dump` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered.",`{{ collection:articles }}
	{{# View all data available, for each entry. #}}
    {{ dump }}
{{ /collection:articles }}`,"https://statamic.dev/tags/dump")},HA=qW});var UW,YA,KA=C(()=>{ce();UW={tagName:"404",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>nt("404 (Not Found) Tag","The `404` (Not Found) tag will trigger a 404 status code, and display the 404 template to the site visitor.",`{{ unless logged_in }}
	{{# Display the 404 Not Found page. #}}
	{{ 404 }}
{{ /unless }}`,"https://statamic.dev/tags/404")},YA=UW});var jW,$A,zA=C(()=>{ce();jW={tagName:"link",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"to",description:"The relative path",expectsTypes:["string"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!0,isDynamic:!1},{name:"absolute",description:"Whether to generate absolute URLs. Default false",expectsTypes:["boolean"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1},{name:"id",description:"The ID of the entry to link to",expectsTypes:["string"],allowsVariableReference:!0,acceptsVariableInterpolation:!0,aliases:[],isDynamic:!1,isRequired:!1},{name:"in",description:"The handle of the site to link to.",expectsTypes:["string"],allowsVariableReference:!0,acceptsVariableInterpolation:!0,aliases:[],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>z("link Tag","The `link` tag accepts relative URLs or entry IDs and generates fully-qualified URLs to the desired content.","https://statamic.dev/tags/link")},$A=jW});var QA,XA,JA=C(()=>{ce();QA={tagName:"loop",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,augmentScope:(t,e)=>(e.addVariable({name:"value",dataType:"*",sourceName:"*internal.loop.value",sourceField:null,introducedBy:t}),e),parameters:[{name:"times",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The number of iterations",isRequired:!1,isDynamic:!1},{name:"from",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to start iterating from. Default 1",isRequired:!1,isDynamic:!1},{name:"to",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to stop iterating at",isRequired:!1,isDynamic:!1}],resolveDocumentation:t=>z("loop Tag","The `loop` tag is used to create an array of items between two values, and then iterate the created array. Alternatively, a max value can be set using the `times` parameter to loop that number of times.","https://statamic.dev/tags/loop")},XA={tagName:"range",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,augmentScope:(t,e)=>(e.addVariable({name:"value",dataType:"*",sourceName:"*internal.loop.value",sourceField:null,introducedBy:t}),e),parameters:[{name:"times",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The number of iterations",isRequired:!1,isDynamic:!1},{name:"from",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to start iterating from. Default 1",isRequired:!1,isDynamic:!1},{name:"to",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to stop iterating at",isRequired:!1,isDynamic:!1}],resolveDocumentation:t=>z("range Tag","The `range` tag is used to create an array of items between two values, and then iterate the created array. Alternatively, a max value can be set using the `times` parameter to loop that number of times.","https://statamic.dev/tags/loop")}});var al,ZA,eR=C(()=>{Gn();Ds();al=class{constructor(){this.loadedDocuments=new Map;this.activeProject=null}getDocuments(){let e=[];return this.loadedDocuments.forEach(n=>{e.push(n)}),e}setProject(e){this.activeProject=e,this.loadedDocuments.forEach(n=>{this.activeProject!=null&&n.updateProject(this.activeProject)})}refreshDocumentState(){this.activeProject!=null&&this.setProject(this.activeProject)}hasDocument(e){return this.loadedDocuments.has(e)}createDocument(e){if(!this.loadedDocuments.has(e)){let n=new nn;n.documentUri=e,this.loadedDocuments.set(e,n)}}loadDocument(e,n){this.loadedDocuments.set(e,nn.fromText(n))}getDocument(e){return this.loadedDocuments.get(e)}updateDocument(e,n){var r,i;if(this.loadedDocuments.has(e)){let s=this.loadedDocuments.get(e);s.loadString(n);let a=(i=(r=Oe.instance)==null?void 0:r.getStructure())==null?void 0:i.findView(e);a!=null&&(a.document=s)}}createOrUpdate(e,n){this.createDocument(e),this.updateDocument(e,n)}getDocumentErrors(e){return this.loadedDocuments.has(e)?this.loadedDocuments.get(e).errors.all():[]}};al.instance=null;(typeof al.instance=="undefined"||al.instance==null)&&(al.instance=new al);ZA=al});var Ms,et,qr=C(()=>{eR();Ms=new Map,et=new ZA});function St(t,e){return e.trim().length>0?vd(e):null}var rr=C(()=>{Ke()});var vc,Ad=C(()=>{vc=[{isRequired:!1,name:"src",description:"The name of the partial view",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],isDynamic:!1}]});function Nc(t,e){var n;if(t.isDynamic&&e.currentNode!=null&&e.currentNode.getTagName()=="partial"&&e.currentNode.hasMethodPart()){let r=e.currentNode.getMethodNameValue();if(r.trim().length>0&&((n=Oe.instance)==null?void 0:n.hasStructure())){let i=Oe.instance.getStructure().findRelativeView(r);if(i!=null&&i.varReferenceNames.has(t.name)){let s=i.varReferenceNames.get(t.name);if(i.document!=null&&i.document.hasFrontMatter()){let a=i.document.getFrontMatterScope();if(a!=null){let l=a.getList(s);if(l!=null)return FA(l.getVariableNames())}}}}}if(t.name=="src"){let r=e.project.getViews(),i=[];return r.forEach(s=>{if(Hs.hasDetails(s.documentUri)){let a=Hs.documentDetails.get(s.documentUri);i.push({label:a.documentName+"("+s.relativeDisplayName+")",insertText:s.relativeDisplayName,detail:a.documentName,documentation:{kind:sf.MarkupKind.Markdown,value:a.documentDescription},kind:sf.CompletionItemKind.File})}else i.push({label:s.relativeDisplayName,kind:sf.CompletionItemKind.File})}),be(i)}return null}var sf,Rd=C(()=>{sf=he(nr());wp();Gn();Ke()});var GW,kd,aT=C(()=>{ce();Ad();Rd();GW={tagName:"partial:exists",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,parameters:vc,introducedIn:"3.2.7",resovleParameterCompletionItems:Nc,resolveDocumentation:t=>z("partial:exists Tag","The `partial:exists` can be used within conditional statements to test if a partial exists.","https://statamic.dev/tags/partial-exists")},kd=GW});var HW,wd,oT=C(()=>{ce();Ad();Rd();HW={tagName:"partial:if_exists",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,parameters:vc,introducedIn:"3.2.7",resovleParameterCompletionItems:Nc,resolveDocumentation:t=>z("partial:if_exists Tag","The `partial:if_exists` can be used to output the contents of a partial if it exists.","https://statamic.dev/tags/partial-if-exists")},wd=HW});function xc(t){if(t.getTagName()!="partial")return null;let e="";if(t.hasMethodPart())e=t.getMethodNameValue();else{let n=t.findParameter("src");n!=null&&(e=n.value)}return e}var Od=C(()=>{});function KW(t){let e=[];return t.forEach(n=>{if(n.isTagNode||n.isClosingTag||n.isComment||n.hasMethodPart()&&n.getMethodNameValue().length>0||n.name!=null&&n.name.content.includes("["))return;let r=n.getTagName();!e.includes(r)&&r!="#"&&r!="slot"&&e.push(r)}),e}var yi,WW,YW,tR,nR=C(()=>{yi=he(nr());wp();qr();Ki();Ke();rr();aT();oT();Ad();Od();Rd();WW=[Ye(kd),Ye(wd)],YW={tagName:"partial",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!0,parameters:vc,requiresClose:!1,allowsContentClose:!0,introducedIn:null,resolveDocumentation:t=>`**Partial Tag**  
Includes another view into the current template.  

[Documentation Reference](https://statamic.dev/tags/partial)
`,resolveDynamicParameter:St,resovleParameterCompletionItems:Nc,resolveCompletionItems:t=>{let e=[];if(t.leftChar=='"'&&t.leftWord==':src="')return{items:[],analyzeDefaults:!0,isExclusiveResult:!1};if((t.leftWord=="partial"||t.leftWord=="/partial")&&t.leftChar==":"||t.leftWord=='src="'&&t.leftChar=='"')return t.project.getViews().forEach(r=>{let i=decodeURIComponent(r.documentUri);if(Hs.hasDetails(i)){let s=Hs.documentDetails.get(i);e.push({label:s.documentName+"("+r.relativeDisplayName+")",insertText:r.relativeDisplayName,detail:s.documentName,documentation:{kind:yi.MarkupKind.Markdown,value:s.documentDescription},kind:yi.CompletionItemKind.File})}else e.push({label:r.relativeDisplayName,kind:yi.CompletionItemKind.File})}),t.leftWord!='src="'&&(e=e.concat(WW)),{analyzeDefaults:!1,isExclusiveResult:!0,items:e};if(t.currentNode!=null&&t.project!=null){let n=xc(t.currentNode);if(n!=null&&n.trim().length>0){let r=t.project.findRelativeView(n);if(r!=null&&et.hasDocument(r.documentUri)){let i=et.getDocument(r.documentUri);if(i!=null){let s=i.getAllAntlersNodes(),a=KW(s),l=[];r.varReferenceNames!=null&&r.varReferenceNames.forEach((f,d)=>{a.push(d)});let c=[];if(r.injectsParameters.length>0){let f={start:{line:t.position.line,character:t.position.character-0},end:t.position};r.injectsParameters.forEach(d=>{let m=d.name+'="$1"';l.includes(d.name)||(l.push(d.name),c.push({label:d.name,kind:yi.CompletionItemKind.Value,insertTextFormat:yi.InsertTextFormat.Snippet,textEdit:yi.TextEdit.replace(f,m),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}))})}if(a.length>0){let f={start:{line:t.position.line,character:t.position.character-0},end:t.position};a.forEach(d=>{let m=d+'="$1"';l.includes(d)||(l.push(d),c.push({label:d,kind:yi.CompletionItemKind.Value,insertTextFormat:yi.InsertTextFormat.Snippet,textEdit:yi.TextEdit.replace(f,m),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}))})}return Nr(c)}}}}return{analyzeDefaults:!0,isExclusiveResult:!1,items:[]}}};tR=YW});var $W,Ld,lT=C(()=>{ce();$W={tagName:"increment:reset",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:"3.2.28",parameters:[{isRequired:!0,name:"counter",aliases:[],description:"The incrementing counter to reset",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"to",aliases:[],description:"An optional value to reset the counter to before incrementing starts again",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resolveDocumentation:t=>nt("increment:reset Tag","The `increment:reset` tag can be used to reset the value of an incrementing counter.",`{{ array_variable }}
    {{ increment:counter_name }}
{{ /array_variable }}

{{ increment:reset counter="counter_name" }}
`,null)},Ld=$W});var zW,QW,rR,iR=C(()=>{ce();Ki();Ke();lT();zW=[Ye(Ld)],QW={tagName:"increment",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[{isRequired:!1,name:"from",aliases:[],description:"The number to start incrementing by",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"by",aliases:[],description:"The number to increment by",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resolveCompletionItems:t=>t.leftWord=="increment"||t.leftWord=="/increment"&&t.leftChar==":"?be(zW):Be,resolveDocumentation:t=>z("increment Tag","The `increment` tag can be used to increment a value each time the tag is encountered.","https://statamic.dev/tags/increment")},rR=QW});var af,sR,aR,cT=C(()=>{ce();af=class{constructor(e){this.node=e}},sR={tagName:"yields",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,parameters:[],introducedIn:null,requiresClose:!1,resolveSpecialType:(t,e)=>({context:new af(t),issues:[]})},aR={tagName:"yield",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,parameters:[],introducedIn:null,requiresClose:!1,resolveSpecialType:(t,e)=>({context:new af(t),issues:[]}),resolveDocumentation:t=>z("yield Tag","The `yield` tag may be used to push rendered content to named regions within a template's structure.","https://statamic.dev/tags/yield")}});var oR,lR=C(()=>{oR=[{handle:"access cp"},{handle:"configure collections"},{handle:"[view edit create delete publish reorder] {collection} entries"},{handle:"configure structures"},{handle:"[view edit] {structure} structure"},{handle:"edit {global} globals"},{handle:"[view upload edit move rename delete] {container} assets"},{handle:"[view perform] updates"},{handle:"[view edit create delete] users"},{handle:"change passwords"},{handle:"edit roles"},{handle:"configure forms"},{handle:"[view delete] {form} submissions"}]});var ho,bi,cR=C(()=>{lR();ho=class{constructor(){this.contextItems=new Map;this.triggerNames=[];this.collectionTriggers=[];this.collectionTriggerCaps=[];this.globalTriggers=[];this.globalTriggerCaps=[];this.formTriggers=[];this.formTriggerCaps=[];this.structureTriggers=[];this.structureTriggerCaps=[];this.assetTriggers=[];this.assetTriggerCaps=[]}getCollectionTriggerCaps(){return this.collectionTriggerCaps}getGlobalTriggerCaps(){return this.globalTriggerCaps}getFormTriggerCaps(){return this.formTriggerCaps}getStructureTriggerCaps(){return this.structureTriggerCaps}getAssetTriggerCaps(){return this.assetTriggerCaps}loadCorePermissions(){this.registerPermissions(oR)}getTriggerNames(){return this.triggerNames}isCollectionTrigger(e){return this.collectionTriggers.includes(e)}isGlobalTrigger(e){return this.globalTriggers.includes(e)}isFormTrigger(e){return this.formTriggers.includes(e)}isStructureTrigger(e){return this.structureTriggers.includes(e)}isAssetTrigger(e){return this.assetTriggers.includes(e)}getTriggerContextItems(e){return this.contextItems.has(e)?this.contextItems.get(e):[]}registerSpecialTrigger(e,n,r){n=="{collection}"?(this.collectionTriggerCaps.includes(r)==!1&&this.collectionTriggerCaps.push(r),this.collectionTriggers.includes(e)==!1&&this.collectionTriggers.push(e)):n=="{structure}"?(this.structureTriggerCaps.includes(r)==!1&&this.structureTriggerCaps.push(r),this.structureTriggers.includes(e)==!1&&this.structureTriggers.push(e)):n=="{container}"?(this.assetTriggerCaps.includes(r)==!1&&this.assetTriggerCaps.push(r),this.assetTriggers.includes(e)==!1&&this.assetTriggers.push(e)):n=="{global}"?(this.globalTriggerCaps.includes(r)==!1&&this.globalTriggerCaps.push(r),this.globalTriggers.includes(e)==!1&&this.globalTriggers.push(e)):n=="{form}"&&(this.formTriggerCaps.includes(r)==!1&&this.formTriggerCaps.push(r),this.formTriggers.includes(e)==!1&&this.formTriggers.push(e))}addContextToTrigger(e,n){var r;this.triggerNames.includes(e)==!1&&this.triggerNames.push(e),this.contextItems.has(e)==!1?this.contextItems.set(e,[n]):(r=this.contextItems.get(e))==null||r.push(n)}registerPermissions(e){for(let n=0;n<e.length;n++){let r=e[n],i=[],s="",a="";if(r.handle.includes("[")&&r.handle.includes("]")){let l=r.handle.indexOf("["),c=r.handle.indexOf("]"),f=c-l,d=r.handle.substr(l+1,f-1).split(" ").filter(_=>_.trim().length>0),m=r.handle.substr(c+1).split(" ").filter(_=>_.trim().length>0);i=d,m.length==2?(s=m[0],a=m[1]):m.length==1&&(s="",a=m[0])}else{let l=r.handle.split(" ").filter(c=>c.trim().length>0);l.length==2&&(i=[l[0]],a=l[1])}for(let l=0;l<i.length;l++){let c=i[l];s.trim().length>0?this.registerSpecialTrigger(c,s,a):this.addContextToTrigger(c,a)}}}};ho.instance=null;(typeof ho.instance=="undefined"||ho.instance==null)&&(ho.instance=new ho,ho.instance.loadCorePermissions());bi=ho});function uR(t,e){var r,i,s,a,l,c,f,d,m,_,g,T,N,A,b,x,v,I,O;let n=[];if(t.trim().length==0){let X=(i=(r=bi.instance)==null?void 0:r.getTriggerNames())!=null?i:[];for(let Y=0;Y<X.length;Y++)n.push({label:X[Y],kind:Dd.CompletionItemKind.Value})}else{let X=t.split(" ").filter(le=>le.trim().length>0),Y=X[0],te=(a=(s=bi.instance)==null?void 0:s.getTriggerContextItems(Y))!=null?a:[],ue=(l=bi.instance)==null?void 0:l.isCollectionTrigger(Y),de=(c=bi.instance)==null?void 0:c.isGlobalTrigger(Y),ie=(f=bi.instance)==null?void 0:f.isFormTrigger(Y),pe=(d=bi.instance)==null?void 0:d.isStructureTrigger(Y),rt=(m=bi.instance)==null?void 0:m.isAssetTrigger(Y),Te=[];if(X.length<=2){ue?Te=Te.concat(e.project.getUniqueCollectionNames()):de?Te=Te.concat(e.project.getUniqueGlobalsNames()):ie?Te=Te.concat(e.project.getUniqueFormNames()):pe?Te=Te.concat(e.project.getUniqueNavigationMenuNames()):rt&&(Te=Te.concat(e.project.getUniqueAssetNames())),te.length>0&&(Te=Te.concat(te)),Te=[...new Set(Te)];for(let le=0;le<Te.length;le++)n.push({label:Te[le],kind:Dd.CompletionItemKind.Value})}else{let le=[];ue?le=le.concat((g=(_=bi.instance)==null?void 0:_.getCollectionTriggerCaps())!=null?g:[]):de?le=le.concat((N=(T=bi.instance)==null?void 0:T.getGlobalTriggerCaps())!=null?N:[]):ie?le=le.concat((b=(A=bi.instance)==null?void 0:A.getFormTriggerCaps())!=null?b:[]):pe?le=le.concat((v=(x=bi.instance)==null?void 0:x.getStructureTriggerCaps())!=null?v:[]):rt&&(le=le.concat((O=(I=bi.instance)==null?void 0:I.getAssetTriggerCaps())!=null?O:[])),le=[...new Set(le)];for(let dt=0;dt<le.length;dt++)n.push({label:le[dt],kind:Dd.CompletionItemKind.Value})}}return n}var Dd,fR=C(()=>{Dd=he(tn());cR()});function Md(t,e){var r,i,s,a;let n=bd(t.name);return((r=e.context)==null?void 0:r.parameterContext)!=null&&["do","permission"].includes(n)?be(uR((a=(s=(i=e.context)==null?void 0:i.parameterContext.parameter)==null?void 0:s.value)!=null?a:"",e)):null}var uT=C(()=>{fR();Zs();Ke()});var XW,Ec,Fd=C(()=>{ce();uT();XW={tagName:"user:can",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,resovleParameterCompletionItems:Md,parameters:[{name:"do",acceptsVariableInterpolation:!1,aliases:["permission"],allowsVariableReference:!1,description:"The permissions to check against",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resolveDocumentation:t=>z("user:can Tag","The `user:can` tag is used to check if the currently authenticated user has a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user has the specified permissions.","https://statamic.dev/tags/user-can")},Ec=XW});var JW,Sc,Vd=C(()=>{ce();JW={tagName:"user:logout",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"redirect",description:"An optional URL to redirect the user after being logged out",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>z("user:logout Tag","The `user:logout` tag will sign out the currently authenticated user. An optional `redirect` parameter may be used to redirect the visitor to a different page after being logged out.","https://statamic.dev/tags/user-logout")},Sc=JW});var ZW,Pc,Bd=C(()=>{ce();ZW={tagName:"user:logout_url",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"redirect",description:"An optional URL to redirect the user after being logged out",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>nt("user:logout_url","The `user:logout_url` tag can be used to retrieve the URL that will sign the current user out.",'<a href="{{ user:logout_url }}">Log out</a>',"https://statamic.dev/tags/user-logout_url")},Pc=ZW});var pR,dR,hR=C(()=>{ce();pR={tagName:"switch",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"between",description:"A set of values to iterate over",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string","array"]},{name:"for",description:"A unique name for the switch instance",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>z("switch Tag","The `switch` tag can be used to alternate between a set of values each time the tag is evaluated.","https://statamic.dev/tags/switch")},dR={tagName:"rotate",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,introducedIn:null,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[{name:"between",description:"A set of values to iterate over",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string","array"]},{name:"for",description:"A unique name for the switch instance",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>z("rotate Tag","The `rotate` tag can be used to alternate between a set of values each time the tag is evaluated.","https://statamic.dev/tags/switch")}});var eY,mR,gR=C(()=>{ce();Ke();eY={tagName:"oauth",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"provider",description:"The OAuth provider to be used",aliases:[],isRequired:!0,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]},{name:"redirect",description:"The URL to be taken to after authenticating",aliases:[],isRequired:!0,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resovleParameterCompletionItems:(t,e)=>t.name=="provider"?cn(e.project.getOAuthProviders()):null,resolveDocumentation:t=>nt("oauth Tag","The `oauth` tag can be used to generate login URls for various third-party services.",'<a href="{{ oauth provider="github" }}">Sign In with Github</a>',"https://statamic.dev/tags/oauth")},mR=eY});var tY,qd,fT=C(()=>{ce();tY={tagName:"session:dump",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>z("session:dump Tag","The `session:dump` tag will display the contents of the user's session to the browser. This tag behaves similarly to the `dd` helper functions, but returns just the session data.","https://statamic.dev/tags/session-dump")},qd=tY});var ol,Ud=C(()=>{ol=class{constructor(e){this.node=e}}});var nY,jd,pT=C(()=>{ce();rr();Ud();nY={tagName:"session:set",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!0,parameters:[],introducedIn:null,resolveDynamicParameter:St,resolveSpecialType:(t,e)=>({context:new ol(t),issues:[]}),resolveDocumentation:t=>z("session:set Tag","The `session:set` tag is used to add new data to the user's session.","https://statamic.dev/tags/session-set")},jd=nY});var ll,cl,Gd=C(()=>{ll=class{constructor(){this.knownVariables=new Map}registerDocumentSessionVariables(e,n){this.knownVariables.has(e)||this.knownVariables.set(e,new Map);let r=this.knownVariables.get(e);r.clear();for(let i=0;i<n.length;i++){let s=n[i].node;if(s.hasParameters)for(let a=0;a<s.parameters.length;a++){let l=s.parameters[a];r.set(l.name,n[i])}}}getKnownSessionVariableNames(){let e=[];return this.knownVariables.forEach(n=>{n.forEach((r,i)=>{e.includes(i)==!1&&e.push(i)})}),e}};ll.instance=null;(typeof ll.instance=="undefined"||ll.instance==null)&&(ll.instance=new ll);cl=ll});function TR(t,e){let n=[],r=t.getArrayValue(),i=e.filter(s=>!r.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:_R.CompletionItemKind.Variable});return be(n)}var _R,yR=C(()=>{_R=he(tn());Ke()});var rY,Hd,dT=C(()=>{ce();Gd();yR();rY={tagName:"session:forget",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"keys",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The session keys to clear",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;if(t.name=="keys"&&((n=e.context)==null?void 0:n.parameterContext)!=null){let s=(i=(r=cl.instance)==null?void 0:r.getKnownSessionVariableNames())!=null?i:[];if(e.context.parameterContext.parameter!=null)return TR(e.context.parameterContext.parameter,s)}return null},resolveDocumentation:t=>z("session:forget Tag","The `session:forget` tag is used to remove variables from the user's session.","https://statamic.dev/tags/session-forget")},Hd=rY});var iY,Wd,hT=C(()=>{ce();iY={tagName:"session:flush",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>z("session:flush Tag","The `session:flush` tag will clear all values from the visitor's session. If the visitor is currently signed in they will also be signed out.","https://statamic.dev/tags/session-flush")},Wd=iY});var sY,Yd,mT=C(()=>{ce();rr();Ud();sY={tagName:"session:flash",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDynamicParameter:St,resolveSpecialType:(t,e)=>({context:new ol(t),issues:[]}),resolveDocumentation:t=>z("session:flash Tag","The `session:flash` tag can be used to add a value to the user's session. Flashed values only persist for a single request, and are then removed.","https://statamic.dev/tags/session-flash")},Yd=sY});var aY,Kd,gT=C(()=>{ce();aY={tagName:"markdown:indent",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>z("markdown:indent Tag","The `markdown:indent` tag is similar to the markdown tag, but will ignore leading whitepsace while rendering the tag's content as markdown.","https://statamic.dev/tags/markdown-indent")},Kd=aY});var oY,lY,bR,vR=C(()=>{ce();Ki();Ke();gT();oY=[Ye(Kd)],lY={tagName:"markdown",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="markdown"||t.leftWord=="/markdown")&&t.leftChar==":"?be(oY):Be,resolveDocumentation:t=>z("markdown Tag","The `markdown` tag can be used to render the tags contents as markdown.","https://statamic.dev/tags/markdown")},bR=lY});function $d(t,e){let n=[],r=e;if(t.trim().length>0&&t.includes(".")&&t.endsWith(".")){let i=t.substr(0,t.length-1);r=r.filter(s=>s.startsWith(i))}for(let i=0;i<r.length;i++){let s=r[i],a=!0;t.includes(".")&&(s.startsWith(t)==!1?a=!1:s=s.substr(t.length)),a&&n.push({label:s,insertText:s,kind:NR.CompletionItemKind.Text})}return n}var NR,_T=C(()=>{NR=he(nr())});function xR(t,e){return $d(t,e.getRouteNames())}var ER=C(()=>{_T()});var cY,SR,PR=C(()=>{ce();ER();Zs();Ke();rr();cY={tagName:"route",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDynamicParameter:St,resolveCompletionItems:t=>{if(t.leftMeaningfulWord=="route"){let e=yd(t);return be(xR(e,t.project))}return Be},resolveDocumentation:t=>z("route Tag","The `route` tag can be used to generate a full URL [to a named route](https://laravel.com/docs/8.x/routing#named-routes), including any defined route parameters.","https://statamic.dev/tags/route")},SR=cY});var zd,IR,CR=C(()=>{zd=he(tn()),IR=[{label:"301 Permanent",insertText:"301",kind:zd.CompletionItemKind.EnumMember},{label:"302 Temporary",insertText:"302",kind:zd.CompletionItemKind.EnumMember},{label:"404 Not Found",insertText:"404",kind:zd.CompletionItemKind.EnumMember}]});var uY,AR,RR=C(()=>{ce();CR();Ke();uY={tagName:"redirect",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"to",description:"The destination URL",aliases:["url"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!0},{name:"response",description:"The HTTP response code to use",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1}],resovleParameterCompletionItems:t=>t.name=="response"?be(IR):Be,resolveDocumentation:t=>z("redirect Tag","The `redirect` tag can be used to redirect the site visitor to a URL or named route. An optional HTTP status code can also be specified on the response using the `response` parameter.","https://statamic.dev/tags/redirect")},AR=uY});var ul,Qd,TT=C(()=>{ul=class{constructor(){this.knownSections=new Map}registerDocumentSections(e,n){this.knownSections.has(e)||this.knownSections.set(e,new Map);let r=this.knownSections.get(e);r.clear();for(let i=0;i<n.length;i++){let s=n[i];s.node.hasMethodPart()&&r.set(s.node.getMethodNameValue(),s)}}getKnownSectionNames(){let e=[];return this.knownSections.forEach(n=>{n.forEach((r,i)=>{e.includes(i)==!1&&e.push(i)})}),e}};ul.instance=null;(typeof ul.instance=="undefined"||ul.instance==null)&&(ul.instance=new ul);Qd=ul});var kR,fY,wR,OR=C(()=>{kR=he(tn());ce();TT();Ke();fY={tagName:"section",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>{var e,n;if((t.leftWord=="section"||t.leftWord=="/section")&&t.leftChar==":"){let r=[],i=(n=(e=Qd.instance)==null?void 0:e.getKnownSectionNames())!=null?n:[];for(let s=0;s<i.length;s++)r.push({label:i[s],kind:kR.CompletionItemKind.Field});return Nr(r)}return Be},resolveDocumentation:t=>z("section Tag","The `section` tag is used to push content to a named region defined by the `yield` tag.","https://statamic.dev/tags/section")},wR=fY});var pY,LR,DR=C(()=>{ce();pY={tagName:"obfuscate",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>z("obfuscate Tag","The `obfuscate` tag converts the tags's content into a format that is difficult for bots to read, but can easily be viewed by users within their browser.","https://statamic.dev/tags/obfuscate")},LR=pY});var dY,MR,FR=C(()=>{ce();dY={tagName:"parent",hideFromCompletions:!1,requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!1,injectParentScope:!0,introducedIn:null,parameters:[],resolveDocumentation:t=>z("parent Tag","The `parent` tag provides access to data from the current page's parent (the URL one level above the current page).","https://statamic.dev/tags/parent")},MR=dY});function yT(t,e){return $d(t,e.getTranslationKeys())}var VR=C(()=>{_T()});var hY,Xd,BR,bT,qR=C(()=>{ce();VR();Zs();Ke();ea();rr();hY=["translate","trans","trans_choice"],Xd={tagName:"translate",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,introducedIn:null,allowsArbitraryParameters:!0,parameters:[{isRequired:!1,name:"key",description:"The key of the translation string to find",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"locale",description:"The locale to be used when translating",acceptsVariableInterpolation:!1,aliases:["site"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"count",description:"The number of items to use for pluralization",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n;if(t.name=="key"){let r="";return((n=e.context)==null?void 0:n.parameterContext)!=null&&e.context.parameterContext.parameter!=null&&(r=e.context.parameterContext.parameter.value),be(yT(r,e.project))}return Be},resolveDynamicParameter:St,resolveCompletionItems:t=>{if(t.leftMeaningfulWord!=null&&hY.includes(t.leftMeaningfulWord)){let e=yd(t);return be(yT(e,t.project))}return Be},resolveDocumentation:t=>z("trans Tag","The `trans` tag can be used to retrieve a string for the current locale's language file.","https://statamic.dev/tags/trans")},BR=Yt(Xd,"trans"),bT=Yt(Xd,"trans_choice");bT.resolveDocumentation=t=>z("trans_choice Tag","The `trans_choice` tag can be used to retrieve a pluralized string for the current locale's language file.","https://statamic.dev/tags/trans#pluralization")});var mY,UR,jR=C(()=>{ce();rr();mY={tagName:"svg",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,introducedIn:null,parameters:[{isRequired:!1,name:"src",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The SVG filename relative to the project root",expectsTypes:["string"],isDynamic:!1}],resolveDynamicParameter:St,resolveDocumentation:t=>z("svg Tag","The `svg` tag can be used to render inline SVGs, as well as set attributes on the rendered `<svg>` element.","https://statamic.dev/tags/svg")},UR=mY});function Jd(t){return[{name:"basename",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"extension",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"filename",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"focus",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"focus_css",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"height",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_asset",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_image",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"path",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_bytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_gigabytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_kilobytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_megabytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"width",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t}]}var vT=C(()=>{});var gY,GR,HR=C(()=>{ce();vT();gY={tagName:"asset",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The path to the file",expectsTypes:["string"],isDynamic:!1,name:"url"}],augmentScope:(t,e)=>(e.addVariables(Jd(t)),e),resolveDocumentation:t=>nt("asset Tag","The `asset` tag can be used to retrive Assets by supplying a URL.",`{{ asset url="/url/for/asset.png" }}
    <img src="{{ url }}" alt="{{ alt }}" />
{{ /asset }}`,"https://statamic.dev/tags/asset")},GR=gY});function NT(t){let e=[],n=t.getUniqueAssetNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:WR.CompletionItemKind.Field});return e}var WR,YR=C(()=>{WR=he(tn())});var KR,_Y,$R,zR=C(()=>{ce();YR();Ke();vT();KR=["container","id","handle"],_Y={tagName:"assets",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"container",aliases:["id","handle"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The handle of the asset container",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"folder",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Filters the resulting assets by specific folder",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"recursive",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Returns all assets in all subdirectories",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"limit",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Limits the total results",expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sort entries by any asset variable",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>KR.includes(t.name)?be(NT(e.project)):Be,augmentScope:(t,e)=>{e.addVariables(Jd(t));let n="";if(t.name!=null&&t.name.getMethodName()!=null)n=t.name.getMethodName();else{let r=t.findAnyParameter(KR);r!=null&&r.containsSimpleValue()&&(n=r.value)}return n.length>0&&e.injectAssetContainer(t,n),e},resolveCompletionItems:t=>(t.leftWord=="assets"||t.leftWord=="/assets")&&t.leftChar==":"?be(NT(t.project)):Be,resolveDocumentation:t=>nt("assets Tag","The `assets` tag can be used to retrieve multiple Assets from an Asset container.",`{{ assets container="container-name" }}
    {{# Loop over all assets in the container. #}}
	<img src="{{ url }}" alt="{{ alt }}" />
{{ /assets }}`,"https://statamic.dev/tags/assets")},$R=_Y});var TY,QR,XR=C(()=>{ce();Ke();TY={tagName:"get_content",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,introducedIn:null,allowsArbitraryParameters:!1,parameters:[{isRequired:!1,name:"from",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"The ID to retrieve data for",expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"locale",aliases:["site"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The locale to show the content in",expectsTypes:["string"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>t.name=="locale"||t.name=="site"?cn(e.project.getSiteNames()):null,resolveDocumentation:t=>nt("get_content Tag","The `get_content` tag can be used to retrieve content from other entries. This tag accepts the ID of another entry, and will return access to all data for that entry.",`{{ get_content from="the-entry-id" }}
{{ /get_content }}`,"https://statamic.dev/tags/get_content")},QR=TY});function JR(t){return[{name:"basename",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"extension",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"filename",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"is_image",dataType:"boolean",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"file",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"file",dataType:"last_modified",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_bytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_b",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_gigabytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_gb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_kilobytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_kb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_megabytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_mb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t}]}var ZR=C(()=>{});var yY,e0,t0=C(()=>{ce();ZR();yY={tagName:"get_files",hideFromCompletions:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"in",aliases:["from"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The directory to find files in relative to the public directory",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"depth",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The depth of the subdirectories",expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"not_in",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],description:"The subdirectories or pattern to exclude",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"file_size",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],description:"The file size filter to use",isDynamic:!1},{isRequired:!1,name:"ext",aliases:["extension"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The extension(s) to filter by",expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"include",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:["match"],description:"Filter files by a regular expression",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"exclude",description:"Excludes files by a regular expression",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"file_date",description:"Filters files by last modified date",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"limit",description:"Limits the total number of results",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"offset",description:"The number of entries the results should be offset by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sorts the listing by extension, size, last_modified, or random",expectsTypes:["string"],isDynamic:!1}],augmentScope:(t,e)=>(e.addVariables(JR(t)),e),resolveDocumentation:t=>z("get_files Tag","The `get_files` tag can be used to display information about files on the site's local filesystem.","https://statamic.dev/tags/get_files")},e0=yY});function Zd(t){return[{name:"width",dataType:"number",sourceName:"*internal.glide",sourceField:null,introducedBy:t},{name:"height",dataType:"number",sourceName:"*internal.glide",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.glide",sourceField:null,introducedBy:t}]}var xT=C(()=>{});function Fs(t,e,n){var r,i,s,a,l,c,f,d,m,_,g,T;return{endLine:(s=(i=(r=n.valuePosition)==null?void 0:r.end)==null?void 0:i.line)!=null?s:0,startLine:(c=(l=(a=n.namePosition)==null?void 0:a.start)==null?void 0:l.line)!=null?c:0,endPos:(m=(d=(f=n.valuePosition)==null?void 0:f.end)==null?void 0:d.char)!=null?m:0,startPos:(T=(g=(_=n.namePosition)==null?void 0:_.start)==null?void 0:g.char)!=null?T:0,message:t,severity:n0.DiagnosticSeverity.Error}}var n0,r0=C(()=>{n0=he(tn())});function th(t,e){return t.name=="orient"?cn(i0):t.name=="format"?cn(ST):t.name=="filter"?cn(ET):t.name=="preset"?cn(e.project.getAssetPresets()):Be}var ET,ST,i0,eh,PT=C(()=>{r0();Ke();ET=["greyscale","sepia"],ST=["jpg","pjpg","png","gif","webp","avif","tif","bmp","psd"],i0=["auto","0","90","180","270"],eh=[{isRequired:!1,name:"src",aliases:["path","id"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The URL of the image when not using shorthand syntax",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"tag",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Outputs an image tag when set to true",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"alt",description:"The alt attribute value to use when generating tags",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"absolute",description:"Whether to output full URLs",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{name:"width",expectsTypes:["number"],isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The width of the image, in pixels",isDynamic:!1},{name:"height",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],description:"The height of the image, in pixels",expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"square",expectsTypes:["number"],acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets both then height and width of the iamge",isDynamic:!1,isRequired:!1},{name:"fit",expectsTypes:["string"],acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"How the image is fitted to its target dimensions",isDynamic:!1,isRequired:!1},{name:"crop",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Crops the image to the specific dimensions",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"orient",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Rotates the image",expectsTypes:["*"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!i0.includes(e.value)&&n.push(Fs("Invalid orient value",t,e)),n}},{name:"quality",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Defines the quality of the image",expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"dpr",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],description:"Defines the device pixel ratio",expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<1||n>8)&&r.push(Fs("dpr must be an integer between 1 and 8.",t,e)),r}},{name:"format",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Encodes the image to a specific format",expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!ST.includes(e.value)&&n.push(Fs("Format must be one of: "+ST.join(","),t,e)),n}},{name:"bg",description:"Sets the background color for transparent images",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"blur",description:"Adds a blur effect to the image",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push(Fs("blur must be a value between 0 and 100.",t,e)),r}},{name:"brightness",description:"Adjusts the image brightness",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<-100||n>100)&&r.push(Fs("brightness must be a value between -100 and 100.",t,e)),r}},{name:"contrast",description:"Adjusts the image contrast",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<-100||n>100)&&r.push(Fs("contrast must be a value between -100 and 100.",t,e)),r}},{name:"gamma",description:"Adjusts the image gamma",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseFloat(e.value),r=[];return e.containsSimpleValue()&&(n<.1||n>9.99)&&r.push(Fs("gamma must be a value between 0.1 and 9.99.",t,e)),r}},{name:"sharpen",description:"Sharpens the iamge",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push(Fs("sharpen must be a value between 0 and 100.",t,e)),r}},{name:"pixelate",description:"Applies a pixelation effect to the image",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push(Fs("pixelate must be a value between 0 and 100.",t,e)),r}},{name:"filter",description:"Applies a filter effect to the image",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!ET.includes(e.value)&&n.push(Fs("Filter must be one of: "+ET.join(","),t,e)),n}},{name:"preset",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],description:"A collection of pre-configured image manipulation parameters.",isDynamic:!1,isRequired:!1}]});var bY,nh,IT=C(()=>{ce();xT();PT();bY={tagName:"glide:batch",hideFromCompletions:!1,requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,injectParentScope:!1,parameters:eh,introducedIn:null,augmentScope:(t,e)=>(e.addVariables(Zd(t)),e),resovleParameterCompletionItems:th,resolveDocumentation:t=>z("glide:batch Tag","The `glide:batch` tag is similar to the glide tag, but can be used to apply image manipulations to multiple images within a piece of content.","https://statamic.dev/tags/glide-batch")},nh=bY});var vY,NY,s0,a0=C(()=>{ce();Ki();Ke();xT();IT();PT();vY=[Ye(nh)],NY={tagName:"glide",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!1,parameters:eh,introducedIn:null,augmentScope:(t,e)=>(e.addVariables(Zd(t)),e),resovleParameterCompletionItems:th,resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="glide"||t.leftWord=="/glide")&&t.leftChar==":"?be(vY):Be,resolveDocumentation:t=>z("glide Tag","The `glide` tag is used to manipulate images on the fly. Image manipulations may include resizing, cropping, or adjusting sharpness and constrast, amongst many others.","https://statamic.dev/tags/glide")},s0=NY});var o0,l0,c0=C(()=>{ce();o0={tagName:"iterate",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Optionally rename the key/value variables",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"array",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The array to iterate",expectsTypes:["array"],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>z("iterate Tag","The `iterate` tag can be used to iterate over arbitrary arrays.","https://statamic.dev/tags/foreach")},l0={tagName:"foreach",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Optionally rename the key/value variables",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"array",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The array to iterate",expectsTypes:["array"],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>z("foreach Tag","The `foreach` tag can be used to iterate over arbitrary arrays.","https://statamic.dev/tags/foreach")}});function u0(t){return[{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t},{name:"name",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}]}var f0=C(()=>{});var rh,CT=C(()=>{rh=[{isRequired:!1,name:"id",description:"The ID of the content to localize",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"sort",description:"Sort by a sites key",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"current_first",description:"When true, ensures that the current locale is first",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"all",description:"When true, all locale data will be returned.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!0,name:"self",description:"When true, the current locale will be included.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1}]});var xY,ih,AT=C(()=>{ce();CT();xY={tagName:"locales:count",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,parameters:rh,introducedIn:"3.0.36",resolveDocumentation:t=>z("locales:count Tag","The `locales:count` tag can be used to count the number of locales the current content is available in.","https://statamic.dev/tags/locales-count")},ih=xY});var EY,SY,p0,d0=C(()=>{ce();Ki();Ke();f0();AT();CT();EY=[Ye(ih)],SY={tagName:"locales",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,parameters:rh,introducedIn:null,augmentScope:(t,e)=>(e.addVariableArray("locale",u0(t)),e.addVariable({name:"current",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"is_current",dataType:"boolean",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"exists",dataType:"boolean",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"permalink",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e),resolveDocumentation:t=>z("locales Tag","The `locales` tag can be used to access all the locales the current content is available in.","https://statamic.dev/tags/locales"),resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="locale"||t.leftWord=="/locale")&&t.leftChar==":"?be(EY):Be},p0=SY});var PY,h0,m0=C(()=>{ce();PY={tagName:"mix",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"src",description:"The path to the versioned file, relative to the public directory",acceptsVariableInterpolation:!1,aliases:["path"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"in",description:"The location of the mix manifest file",acceptsVariableInterpolation:!1,aliases:["from"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1}],resolveDocumentation:t=>z("mix Tag","The `mix` tag is used to return the path of CSS and JavaScript files versioned with [Laravel Mix](https://laravel.com/docs/8.x/mix).","https://statamic.dev/tags/mix")},h0=PY});function g0(t){let e=[],n=t.getUniqueUserGroupNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:of.CompletionItemKind.Field});return e}function _0(t){let e=[],n=t.getUniqueUserRoleNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:of.CompletionItemKind.Field});return e}function Ic(t,e){let n=[],r=e.getUniqueUserGroupNames(),i=r.filter(s=>!t.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:of.CompletionItemKind.Field});return n}function Cc(t,e){let n=[],r=e.getUniqueUserRoleNames(),i=r.filter(s=>!t.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:of.CompletionItemKind.Field});return n}var of,fl=C(()=>{of=he(tn())});var IY,sh,RT=C(()=>{ce();Ke();fl();IY={tagName:"user:in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="groups"||t.name=="group")&&((n=e.context)==null?void 0:n.parameterContext)!=null?be(Ic((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>z("user:in Tag","The `user:in` tag can be used to check if the currently authenticated user belongs to one or more user groups. When used as a tag pair, the tag contents will only be rendered if the user belongs to the specified groups.","https://statamic.dev/tags/user-in")},sh=IY});var CY,Ac,ah=C(()=>{ce();Ke();fl();CY={tagName:"user:not_in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="groups"||t.name=="group")&&((n=e.context)==null?void 0:n.parameterContext)!=null?be(Ic((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>z("user:not_in Tag","The `user:not_in` tag can be used to check if the currently authenticated user does not belong to one or more user groups. When used as a tag pair, the tag contents will be rendered if the user does not belong to the specified groups.","https://statamic.dev/tags/user-in#not-in")},Ac=CY});var AY,Rc,oh=C(()=>{ce();Ke();fl();AY={tagName:"user:is",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="roles"||t.name=="role")&&((n=e.context)==null?void 0:n.parameterContext)!=null?be(Cc((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>z("user:is Tag","The `user:is` tag can be used to check whether the currently authenticated user has one or more roles.","https://statamic.dev/tags/user-is")},Rc=AY});var RY,kc,lh=C(()=>{ce();Ke();fl();RY={tagName:"user:isnt",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="roles"||t.name=="role")&&((n=e.context)==null?void 0:n.parameterContext)!=null?be(Cc((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>z("user:isnt Tag","The `user:isnt` tag can be used to check whether the currently authenticated user does not have one or more roles.","https://statamic.dev/tags/user-is#isnt")},kc=RY});var kY,T0,y0=C(()=>{ce();Ke();fl();kY={tagName:"in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="groups"||t.name=="group")&&((n=e.context)==null?void 0:n.parameterContext)!=null?be(Ic((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveCompletionItems:t=>(t.leftWord=="in"||t.leftWord=="/in")&&t.leftChar==":"?be(g0(t.project)):Be,resolveDocumentation:t=>z("in Tag","The `in` tag can be used to check if the authenticated user belongs to one or more groups. This tag operates similarly to the `user:in` tag.","https://statamic.dev/tags/user-in")},T0=kY});var wY,b0,v0=C(()=>{ce();wY={tagName:"not_found",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>nt("404 (Not Found) Tag","The `not_found` tag will trigger a 404 status code, and display the 404 template to the site visitor.",`{{ unless logged_in }}
	{{# Display the 404 Not Found page. #}}
	{{ not_found }}
{{ /unless }}`,"https://statamic.dev/tags/404")},b0=wY});var OY,N0,x0=C(()=>{ce();Ke();fl();OY={tagName:"is",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="roles"||t.name=="role")&&((n=e.context)==null?void 0:n.parameterContext)!=null?be(Cc((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveCompletionItems:t=>(t.leftWord=="is"||t.leftWord=="/is")&&t.leftChar==":"?be(_0(t.project)):Be,resolveDocumentation:t=>z("is Tag","The `is` tag can be used to check whether the currently authenticated user has one or more roles. This tag behaves the same as the `user:is` tag.","https://statamic.dev/tags/user-is")},N0=OY});var LY,E0,S0=C(()=>{ce();LY={tagName:"widont",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>nt("widont Tag","The `widont` tag is similar to the [widont modifier](https://statamic.dev/modifiers/widont), and will attempt to prevent lines with a single word from appearing within the tags rendered output.",`{{ widont }}
    {{ content }}
{{ /widont }}`,null)},E0=LY});var ch,kT=C(()=>{ch=[{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"id",description:"The user ID to fetch",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"email",description:"The email address to find the user by",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"field",description:"The field to fetch the user by",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"value",description:"The value to search for",expectsTypes:["string"],isDynamic:!1}]});var DY,wc,uh=C(()=>{ce();uc();Ke();kT();DY={tagName:"user:profile",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:ch,introducedIn:null,augmentScope:(t,e)=>(e.injectBlueprint(t,"user"),e),resovleParameterCompletionItems:(t,e)=>t.name=="field"?be(fd(e.project.getUserFields())):Be,resolveDocumentation:t=>z("user:profile Tag","The `user:profile` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null)},wc=DY});var P0,I0,C0=C(()=>{ce();P0={tagName:"dd",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>nt("dd Tag","The `dd` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered. This tag will stop the template from rendering after it is encountered.  If Ignition is available, this tag will use the [ddd](https://flareapp.io/blog/1-introducing-ddd-a-new-global-helper-for-laravel) method.",`{{ collection:articles }}
	{{#
		View all data available, for the first
		entry that renders the dd tag.
	#}}
    {{ dd }}
{{ /collection:articles }}`,null)},I0={tagName:"ddd",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>nt("ddd Tag","The `ddd` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered. This tag will stop the template from rendering after it is encountered.  If Ignition is available, this tag will use the [ddd](https://flareapp.io/blog/1-introducing-ddd-a-new-global-helper-for-laravel) method.",`{{ collection:articles }}
	{{#
		View all data available, for the first
		entry that renders the ddd tag.
	#}}
    {{ ddd }}
{{ /collection:articles }}`,null)}});var MY,A0,R0=C(()=>{ce();MY={tagName:"path",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,acceptsVariableInterpolation:!1,aliases:["src"],allowsVariableReference:!0,description:"The path source",name:"to",isDynamic:!1,expectsTypes:["string"]},{isRequired:!1,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],description:"Whether to generate absolute paths",expectsTypes:["boolean"],isDynamic:!1,name:"absolute"}],resolveDocumentation:t=>z("path Tag","The `path` tag can be used to generate URLs from relative URLs, or an entry ID.",null)},A0=MY});var FY,fh,wT=C(()=>{ce();uT();FY={tagName:"user:cant",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,resovleParameterCompletionItems:Md,parameters:[{name:"do",acceptsVariableInterpolation:!1,aliases:["permission"],allowsVariableReference:!1,description:"The permissions to check against",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resolveDocumentation:t=>z("user:cant Tag","The `user:cant` tag is used to check if the currently authenticated user does not have a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user does not have the specified permissions.","https://statamic.dev/tags/user-can#cant")},fh=FY});var VY,k0,w0=C(()=>{VY={tagName:"query",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,parameters:[{name:"builder",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The query to evaluate",expectsTypes:["string"],isRequired:!0,isDynamic:!1}]},k0=VY});var ta,Oc=C(()=>{ta=[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"src",description:"The relative path to the file",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"cache_bust",description:"Whether to output the last modified date",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"version",description:"Whether to check a versioning manifest to produce the final URL",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"absolute",description:"Generate absolute URLs or not",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"locale",description:"The locale the path should be generated in",expectsTypes:["string"],isDynamic:!1}]});var pl,BY,qY,O0,L0=C(()=>{pl=he(tn());Ke();Oc();BY=[{label:"asset",kind:pl.CompletionItemKind.Text},{label:"css",kind:pl.CompletionItemKind.Text},{label:"img",kind:pl.CompletionItemKind.Text},{label:"js",kind:pl.CompletionItemKind.Text},{label:"output",kind:pl.CompletionItemKind.Text},{label:"path",kind:pl.CompletionItemKind.Text}],qY={tagName:"theme",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,introducedIn:null,injectParentScope:!1,parameters:ta,resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="theme"||t.leftWord=="/theme")&&t.leftChar==":"?be(BY):Be},O0=qY});var OT,D0,M0=C(()=>{ce();ea();Oc();OT={tagName:"theme:path",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:ta,resolveDocumentation:t=>z("theme:path Tag","The `theme:path` tag may be used to generate URLs for public assets. This tag may also optionally add the current locale, generate relative URLs, or add cache busting URL parameters to the end of the generated URL.",null)},D0=Yt(OT,"theme:asset")});var UY,F0,V0=C(()=>{ce();Oc();UY={tagName:"theme:css",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...ta,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]}],resolveDocumentation:t=>z("theme:css Tag","The `theme:css` tag may be used to generate a CSS path relative to a public `css/` directory for any arbitrary file path. This tag may also optionally create the HTML `link` tag.",null)},F0=UY});var jY,B0,q0=C(()=>{ce();Oc();jY={tagName:"theme:img",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...ta,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]},{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"alt",description:"The alt text to use when generating the HTML tag",expectsTypes:["string"]}],resolveDocumentation:t=>z("theme:img Tag","The `theme:img` tag may be used to generate an image path relative to a public `img/` directory for any arbitrary file path. This tag may also optionally create the HTML `img` tag.",null)},B0=jY});var GY,U0,j0=C(()=>{ce();Oc();GY={tagName:"theme:js",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...ta,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]}],resolveDocumentation:t=>z("theme:js Tag","The `theme:js` tag may be used to generate a JavaScript path relative to a public `js/` directory for any arbitrary file path. This tag may also optionally create the HTML `script` tag.",null)},U0=GY});var HY,G0,H0=C(()=>{ce();HY={tagName:"theme:output",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],name:"src",description:"The path to the file",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],name:"as",description:"An optional alias for the contents variable",expectsTypes:["string"],isDynamic:!1}],augmentScope:(t,e)=>{if(t.isClosedBy!=null){let n=t.findParameter("as");n!=null?e.addVariable({name:n.value,dataType:"string",sourceField:null,sourceName:"*internal.theme.context",introducedBy:t}):e.addVariable({name:"output_contents",dataType:"string",sourceField:null,sourceName:"*internal.theme.context",introducedBy:t})}return e},resolveDocumentation:t=>z("theme:output Tag","The `theme:output` tag may be used to output the contents of any arbitrary file, relative to the site's `resources/` directory.",null)},G0=HY});var WY,W0,Y0=C(()=>{ce();WY={tagName:"scope",hideFromCompletions:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>nt("scope Tag","The `scope` tag creates a copy of all available variables, and saves them to a new  *array* variable defined by the tag's method part.",`{{ scope:scope_name }}
    {{ scope_name:title }}
{{ /scope:scope_name }}
`,null)},W0=WY});var YY,K0,$0=C(()=>{ce();rr();YY={tagName:"if",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:St,resolveDocumentation:t=>z("if Conditional Control Structure","The contents of the `if` tag will be rendered when it's expression evaluates to `true`.","https://statamic.dev/antlers#conditions")},K0=YY});var KY,z0,Q0=C(()=>{ce();rr();KY={tagName:"elseif",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:St,resolveDocumentation:t=>z("elseif Conditional Control Structure","The contents of the `elseif` tag will be rendered when it's expression evaluates to `true`.","https://statamic.dev/antlers#conditions")},z0=KY});var $Y,X0,J0=C(()=>{ce();$Y={tagName:"else",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDocumentation:t=>z("else Conditional Control Structure","The contents of the `else` control structure will be evaluated when all previous conditional branch conditions were not met.","https://statamic.dev/antlers#conditions")},X0=$Y});var zY,ph,LT=C(()=>{ce();rr();zY={tagName:"session:has",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!0,parameters:[],introducedIn:"3.1.28",resolveDynamicParameter:St,resolveDocumentation:t=>z("session:has Tag","The `session:has` tag can be used to determine of the user's session contains a specific variable.","https://statamic.dev/tags/session-has")},ph=zY});var Z0,QY,XY,ek,tk=C(()=>{Z0=he(tn());Gd();Ki();Ke();fT();mT();hT();dT();LT();pT();QY=[Ye(jd),Ye(Yd),Ye(Hd),Ye(Wd),Ye(ph),Ye(qd)],XY={tagName:"session",requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",description:"An optional alias for the session data",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveCompletionItems:t=>{var e,n;if(t.isPastTagPart==!1&&(t.leftWord=="session"||t.leftWord=="/session")&&t.leftChar==":"){let r=(n=(e=cl.instance)==null?void 0:e.getKnownSessionVariableNames())!=null?n:[],i=[];i=i.concat(QY);for(let s=0;s<r.length;s++)i.push({label:r[s],kind:Z0.CompletionItemKind.Variable});return be(i)}return Be},augmentScope:(t,e)=>{var s,a;let n=t.findParameter("as"),r=(a=(s=cl.instance)==null?void 0:s.getKnownSessionVariableNames())!=null?a:[],i=[];for(let l=0;l<r.length;l++)i.push({dataType:"*",name:r[l],sourceField:null,sourceName:"project.session",introducedBy:t});return n==null?e.addVariables(i):e.addVariableArray(n.value,i),e}},ek=XY});var lf,DT,MT=C(()=>{ce();ea();rr();lf={tagName:"user:forgot_password_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",description:"Where the user should be taken after submitting the form",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:St,augmentScope:(t,e)=>(e.addVariables([{name:"success",dataType:"boolean",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t},{name:"url_invalid",dataType:"boolean",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t},{name:"errors",dataType:"array",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t}]),e),resolveDocumentation:t=>z("user:forgot_password_form Tag",'The `user:forgot_password_form` tag is used to quickly create a "forgot password" form for site users.',"https://statamic.dev/tags/user-forgot_password_form")},DT=Yt(lf,"member:forgot_password_form");DT.resolveDocumentation=t=>z("member:forgot_password_form Tag",'The `member:forgot_password_form` tag is used to quickly create a "forgot password" form for site users.',"https://statamic.dev/tags/user-forgot_password_form")});var cf,FT,VT=C(()=>{ce();ea();rr();cf={tagName:"user:reset_password_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",description:"Where the user should be taken after submitting the form",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:St,augmentScope:(t,e)=>(e.addVariables([{name:"success",dataType:"boolean",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t},{name:"url_invalid",dataType:"boolean",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t},{name:"errors",dataType:"array",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t}]),e),resolveDocumentation:t=>z("user:reset_password_form Tag","The `user:reset_password_form` tag is used to quickly create password reset forms. Forms created with this tag should be displayed after a user has received and clicked a password reset email link.","https://statamic.dev/tags/user-reset_password_form")},FT=Yt(cf,"member:reset_password_form");FT.resolveDocumentation=t=>z("member:reset_password_form Tag","The `member:reset_password_form` tag is used to quickly create password reset forms. Forms created with this tag should be displayed after a user has received and clicked a password reset email link.","https://statamic.dev/tags/user-reset_password_form")});function nk(t,e){return{sourceName:e.blueprintName,dataType:e.type,name:e.name,sourceField:e,introducedBy:t}}function rk(t){let e=new Map;for(let n=0;n<t.length;n++)e.set(t[n].name,t[n]);return e}function Lc(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push({sourceName:i.blueprintName,dataType:i.type,name:i.name,sourceField:i,introducedBy:t})}return n}var uf=C(()=>{});function dh(t){return[{name:"handle",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"display",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"type",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"field",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"error",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"instructions",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"old",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t}]}var BT=C(()=>{});var ff,qT,UT=C(()=>{ce();uf();BT();ea();rr();ff={tagName:"user:register_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after registering",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after failed registration attempts",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override the redirect and error_redirect parameters",acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:St,augmentScope:(t,e)=>{e.addVariableArray("fields",dh(t)),e.addVariable({name:"errors",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"old",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"error",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"success",dataType:"string",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t});let n=e.statamicProject.getUserFields();if(n.length>0){let r=Lc(t,n);e.addVariableArray("old",r),e.addVariableArray("error",r)}return e},resolveDocumentation:t=>z("user:register_form  Form Tag","The `user:register_form` tag can be used to build out public registration forms for new users.","https://statamic.dev/tags/user-register_form")},qT=Yt(ff,"member:register_form");qT.resolveDocumentation=t=>z("member:register_form Tag","The `member:register_form` tag can be used to build out public registration forms for new users.","https://statamic.dev/tags/user-register_form")});var JY,ZY,hh,jT=C(()=>{ce();uc();Ki();Ke();Fd();wT();MT();oh();lh();Vd();Bd();ah();VT();uh();kT();UT();JY=[Ye(Rc),Ye(Ac),Ye(kc),Ye(wc),Ye(Ec),Ye(fh),Ye(lf),Ye(Sc),Ye(Pc),Ye(ff),Ye(cf)],ZY={tagName:"user",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:ch,introducedIn:null,resovleParameterCompletionItems:(t,e)=>e.isPastTagPart==!1&&e.currentNode!=null&&e.currentNode.methodIsEmptyOrMatches("profile")&&t.name=="field"?be(fd(e.project.getUserFields())):Be,augmentScope:(t,e)=>(t.methodIsEmptyOrMatches("profile")&&e.injectUserFields(t),e),resolveCompletionItems:t=>(t.leftWord=="user"||t.leftWord=="/user"||t.leftWord=="member"||t.leftWord=="/member")&&t.leftChar==":"?be(JY):Be,resolveDocumentation:t=>z("user Tag","The `user` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null)},hh=ZY});var mh,GT,HT,WT,YT,KT,$T,zT,QT,ik=C(()=>{ce();ea();jT();Fd();RT();oh();lh();Vd();Bd();ah();uh();mh=Yt(hh,"member"),GT=Yt(Rc,"member:is"),HT=Yt(kc,"member:isnt"),WT=Yt(wc,"member:profile"),YT=Yt(Ec,"member:can"),KT=Yt(Sc,"member:logout"),$T=Yt(Pc,"member:logout_url"),zT=Yt(sh,"member:in"),QT=Yt(Ac,"member:not_in");mh.hideFromCompletions=!0;mh.resolveDocumentation=t=>z("member Tag","The `member` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null);GT.resolveDocumentation=t=>z("member:is Tag","The `member:is` tag can be used to check whether the currently authenticated user has one or more roles.","https://statamic.dev/tags/user-is");HT.resolveDocumentation=t=>z("member:isnt Tag","The `member:isnt` tag can be used to check whether the currently authenticated user does not have one or more roles.","https://statamic.dev/tags/user-is#isnt");WT.resolveDocumentation=t=>z("member:profile Tag","The `member:profile` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null);YT.resolveDocumentation=t=>z("member:can Tag","The `member:can` tag is used to check if the currently authenticated user has a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user has the specified permissions.","https://statamic.dev/tags/user-can");KT.resolveDocumentation=t=>z("member:logout Tag","The `member:logout` tag will sign out the currently authenticated user. An optional `redirect` parameter may be used to redirect the visitor to a different page after being logged out.","https://statamic.dev/tags/user-logout");$T.resolveDocumentation=t=>nt("member:logout_url","The `member:logout_url` tag can be used to retrieve the URL that will sign the current user out.",'<a href="{{ member:logout_url }}">Log out</a>',"https://statamic.dev/tags/user-logout_url");zT.resolveDocumentation=t=>z("member:in Tag","The `member:in` tag can be used to check if the currently authenticated user belongs to one or more user groups. When used as a tag pair, the tag contents will only be rendered if the user belongs to the specified groups.","https://statamic.dev/tags/user-in");QT.resolveDocumentation=t=>z("member:not_in Tag","The `member:not_in` tag can be used to check if the currently authenticated user does not belong to one or more user groups. When used as a tag pair, the tag contents will be rendered if the user does not belong to the specified groups.","https://statamic.dev/tags/user-in#not-in")});function mo(t){return[{name:"title",dataType:"string",sourceField:null,sourceName:"*internal.routeable",introducedBy:t},{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.routeable",introducedBy:t}]}var gh=C(()=>{});function sk(t,e){var n,r,i,s,a,l,c,f;if(e.nodesInScope.length>0){let d=e.nodesInScope[e.nodesInScope.length-1];if(d!=null&&d.currentScope!=null){let m=Dc(d,e.project),_=e.project.getTaxonomyBlueprintFields(m),g=_.map(N=>N.name),T=Aa(e.leftWord);if(g.includes(T))return be(lo(e))}}return t.name=="collection"&&((n=e.context)==null?void 0:n.parameterContext)!=null?be(dc((s=(i=(r=e.context)==null?void 0:r.parameterContext.parameter)==null?void 0:i.getArrayValue())!=null?s:[],e.project)):t.name=="filter"||t.name=="query_scope"?be(hd(e.project)):ZT.includes(t.name)&&((a=e.context)==null?void 0:a.parameterContext)!=null?be(ak((f=(c=(l=e.context)==null?void 0:l.parameterContext.parameter)==null?void 0:c.getArrayValue())!=null?f:[],e.project)):null}var XT,JT,ZT,ey=C(()=>{Zu();Zs();Ke();hc();_h();XT=["from","taxonomy","is","use","folder"],JT=["not_from","not_in","dont_use","not_taxonomy"],ZT=XT;ZT=ZT.concat(JT)});function Dc(t,e){let n=[];if(t.hasMethodPart())return n.push(t.getMethodNameValue()),n;let r=t.findAnyParameter(XT),i=t.findAnyParameter(JT),s=[],a=[];return typeof r!="undefined"&&r!==null&&(r.value.trim()==="*"?(s=e.getUniqueTaxonomyNames(),typeof i!="undefined"&&i!==null&&i.isVariableReference==!1&&i.hasInterpolations()==!1&&(a=i.getArrayValue())):r.isVariableReference==!1&&r.hasInterpolations()==!1&&(s=r.getArrayValue())),a.length>0?n=s.filter(function(l){return a.includes(l)==!1}):n=s,n}function ak(t,e){let n=[],r=e.getUniqueTaxonomyNames().filter(i=>!t.includes(i));for(let i=0;i<r.length;i++)n.push({label:r[i],kind:ok.CompletionItemKind.Variable});return n}var ok,_h=C(()=>{ok=he(tn());ey()});function lk(t,e){let n=Dc(t,e.statamicProject),r=e.statamicProject.getTaxonomyBlueprintFields(n),i=t.findParameter("collection");if(e.addBlueprintFields(t,r),e.addVariables([{name:"first",dataType:"boolean",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"last",dataType:"boolean",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"count",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"index",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"total_results",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"entries_count",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t}]),e.addVariables(mo(t)),typeof i!="undefined"&&i!==null){let s=i.getArrayValue();if(s.length>0){let a=e.statamicProject.getBlueprintFields(s);e.introduceScopedAliasScope(t,"entries","entries",a).addVariables(co(t))}else e.addVariableArray("entries",mo(t).concat(co(t)))}else e.addVariableArray("entries",mo(t).concat(co(t)));return e}var ck=C(()=>{ef();gh();_h()});var e3,uk,fk=C(()=>{e3=[{name:"from",description:"The taxonomy to use",aliases:["taxonomy","is","use","folder"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1,isRequired:!1},{name:"not_from",description:"Taxonomies to exclude",aliases:["not_in","not_folder","dont_use","not_taxonomy"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["string","array"],isRequired:!1,isDynamic:!1},{name:"min_count",description:"The minimum number of entries a taxonomy term must have to be returned",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"collection",description:"Filter the terms to those that appear in the specified collections",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string","array"],isDynamic:!1,isRequired:!1},{name:"sort",description:"The field to sort terms by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{isRequired:!1,name:"filter",aliases:["query_scope"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Specifies a custom query scope",expectsTypes:["string"],isDynamic:!1}],uk=e3});function pk(t){var n,r;let e=[];if(t.currentNode!=null&&t.currentNode.currentScope!=null){let i=Dc(t.currentNode,t.project),s=t.project.getTaxonomyBlueprintFields(i),a=s.map(c=>c.name),l=Aa(t.leftWord);if(a.includes(l))return be(lo(t));if(t.isCaretInTag&&!((n=t.context)==null?void 0:n.interpolatedContext)&&["taxonomy","/taxonomy"].includes(t.leftWord)==!1){let c=[];for(let f=0;f<s.length;f++){let d=s[f];c.includes(d.name)==!1&&(e.push({label:d.name,detail:d.blueprintName,documentation:(r=d.instructionText)!=null?r:"",kind:ty.CompletionItemKind.Field}),c.push(d.name))}if(e.length>0)return Nr(e)}}if((t.leftWord=="taxonomy"||t.leftWord=="/taxonomy")&&t.leftChar==":"){let i=t.project.getUniqueTaxonomyNames();for(let s=0;s<i.length;s++)e.push({label:i[s],kind:ty.CompletionItemKind.Field});return Nr(e)}return Be}var ty,dk=C(()=>{ty=he(tn());Zu();Zs();Ke();_h()});var t3,hk,mk=C(()=>{ce();rr();ck();fk();dk();ey();t3={tagName:"taxonomy",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,introducedIn:null,injectParentScope:!1,parameters:uk,resolveDynamicParameter:St,resolveCompletionItems:pk,resovleParameterCompletionItems:sk,augmentScope:lk,resolveDocumentation:t=>z("taxonomy Tag","The `taxonomy` tag may be used to retrieve taxonomy entries. The taxonomy tag can also be used to access entries associated with any given taxonomy term.","https://statamic.dev/tags/taxonomy")},hk=t3});function gk(t,e){e.addVariables([{name:"is_published",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_page",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_entry",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"has_entries",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_parent",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_current",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_external",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"depth",dataType:"number",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"children",dataType:"array",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"count",dataType:"integer",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"index",dataType:"integer",sourceField:null,sourceName:"*internal.nav",introducedBy:t}]);let n=e.statamicProject.getUniqueCollectionNames(),r=[],i=!1;if(t.hasMethodPart()){let s=t.getMethodNameValue().trim().toLowerCase();if(s.startsWith("collection:")){let a=s.split(":").pop();i=!0,r.push(a)}else s=="pages"?(i=!0,r.push("pages")):(i=!1,r.push(s))}else{let s=t.findParameter("handle");s!=null&&(n.includes(s.value)?i=!0:i=!1,r.push(s.value))}if(i){let s=e.statamicProject.getBlueprintFields(r);e.addBlueprintFields(t,s),e.expandScopedAliasScope(t,"page","page",s)}else{let s=dd(mo(t));e.addBlueprintFields(t,s),e.expandScopedAliasScope(t,"page","page",s)}return e}var _k=C(()=>{Ju();gh()});var n3,Th,ny=C(()=>{ce();gh();n3={tagName:"nav:breadcrumbs",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,introducedIn:null,injectParentScope:!1,parameters:[{name:"include_home",description:"Whether to include the home page in the first level",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1},{name:"reverse",description:"Whether to reverse the order of links",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isRequired:!1,isDynamic:!1},{name:"trim",description:"Whether to trim the whitespace after each iteration of the loop",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],augmentScope:(t,e)=>(e.addVariables([{name:"is_current",dataType:"boolean",sourceName:"*internal.nav.breadcrumbs",sourceField:null,introducedBy:t}]),e.addVariables(mo(t)),e),resolveDocumentation:t=>z("nav:breadcrumbs Tag","The `nav:breadcrumbs` tag can be used to retrieve the URLs of all pages that make up the current URL back to the site's home page.","https://statamic.dev/tags/nav-breadcrumbs")},Th=n3});function Tk(t,e){if(t.name=="handle"){let n=e.project.getUniqueCollectionNames(),r=e.project.getUniqueNavigationMenuNames(),i=[];return i=n,i=i.concat(r),i=[...new Set(i)],cn(i)}return null}var yk=C(()=>{Ke()});var r3,bk,vk=C(()=>{r3=[{isRequired:!1,acceptsVariableInterpolation:!1,aliases:["handle"],allowsVariableReference:!1,name:"for",description:"The navigation or collection to use",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],name:"from",description:"The starting point for the navigation",allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"show_unpublished",description:"Whether to include unpublished content",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"include_home",description:"Whether to include the home page in the tree",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"max_depth",description:"The maximum depth of the navigation or structure",expectsTypes:["number"],isDynamic:!1}],bk=r3});var ry,iy,Nk,xk=C(()=>{ry=he(tn());ce();uc();Ki();Ke();ea();_k();ny();yk();vk();iy={tagName:"structure",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,injectParentScope:!1,parameters:bk,augmentScope:gk,resovleParameterCompletionItems:Tk,resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="nav"||t.leftWord=="/nav"||t.leftWord=="structure"||t.leftWord=="/structure")&&t.leftChar==":"){let n=t.project.getUniqueNavigationMenuNames();for(let r=0;r<n.length;r++)e.push(ao(n[r],"",""));return(t.leftWord=="nav"||t.leftWord=="/nav")&&e.push(Ye(Th)),e.push(ao("collection","","")),e.push({label:"collection",kind:ry.CompletionItemKind.Text}),Nr(e)}if((t.leftWord=="nav:collection"||t.leftWord=="/nav:collection"||t.leftWord=="collection"||t.leftWord=="/collection"||t.leftWord=="structure:collection"||t.leftWord=="/structure:collection")&&t.leftChar==":"){let n=t.project.getUniqueCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:ry.CompletionItemKind.Field});return Nr(e)}return Be},resolveDocumentation:t=>z("nav Tag","The `nav` tag can be used to iterate structured collections or navigation menus.","https://statamic.dev/tags/nav")},Nk=Yt(iy,"nav")});function Ek(t){return[{name:"success",dataType:"string",sourceField:null,sourceName:"*internal.forms",introducedBy:t},{name:"submission_created",dataType:"boolean",sourceField:null,sourceName:"*internal.forms",introducedBy:t}]}var Sk=C(()=>{});var i3,na,Mc=C(()=>{i3={name:"in",description:"The form to use",acceptsVariableInterpolation:!0,aliases:["handle","is","form","formset"],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},na=i3});var sy,s3,Pk,Ik=C(()=>{sy=he(tn()),s3=[{label:"GET",kind:sy.CompletionItemKind.EnumMember},{label:"POST",kind:sy.CompletionItemKind.EnumMember}],Pk=s3});function Fc(t,e){return Vs.includes(t.name)?cn(e.project.getUniqueFormNames()):t.name=="method"?be(Pk):t.name=="files"?be(_c):null}var Vs,Ra=C(()=>{Q_();Ik();Ke();Vs=["in","handle","is","form","formset"]});function ra(t,e){let n=t.structure.findParentWithName("form:set");return n!=null?{context:n,issues:[]}:{context:null,issues:[]}}var Vc=C(()=>{});function dl(t){if(t.reference!=null&&"tagPart"in t.reference){let r=t.reference;if(r.nameMatches("form:set"))return dl(r)}let e=t.findAnyParameter(Vs),n=t.getMethodNameValue();return n!=null&&a3.includes(n)==!1?n:typeof e!="undefined"&&e!==null&&e.containsSimpleValue()?e.value:""}var a3,yh=C(()=>{Ra();a3=["set","create","errors","success","submissions","submission"]});var o3,bh,ay=C(()=>{ce();uf();BT();Sk();rr();Mc();Ra();Vc();yh();o3={tagName:"form:create",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[na,{name:"method",description:"The HTTP method to use",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"files",description:"Indicates if the form sends file data",aliases:[],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1},{name:"redirect",description:"The location to redirect users after a successful form submission",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",description:"The location to redirect users to after a failed form submission",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override redirect or error_redirect",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveSpecialType:ra,resovleParameterCompletionItems:Fc,resolveDynamicParameter:St,augmentScope:(t,e)=>{e.addVariables(Ek(t)),e.addVariable({dataType:"array",name:"errors",sourceField:null,sourceName:"*internal.forms",introducedBy:t}),e.addVariableArray("fields",dh(t));let n=dl(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n),i=Lc(t,r);e.addVariableArray("old",i),e.addVariableArray("error",i)}return e},resolveDocumentation:t=>z("form:create Tag","The `form:create` tag can be used to access form data, generate field HTML markup, and handle form validation errors.","https://statamic.dev/tags/form-create")},bh=o3});var l3,vh,oy=C(()=>{ce();Ke();Mc();Ra();Vc();l3={tagName:"form:errors",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[na],resolveSpecialType:ra,resovleParameterCompletionItems:(t,e)=>Vs.includes(t.name)?cn(e.project.getUniqueFormNames()):null,resolveDocumentation:t=>z("form:errors Tag","The `form:errors` tag can be used to retrieve validation errors after a user has submitted a form.","https://statamic.dev/tags/form-errors")},vh=l3});var c3,Nh,ly=C(()=>{ce();Ra();c3={tagName:"form:set",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"in",description:"The form to use",acceptsVariableInterpolation:!0,aliases:["handle","is","form","formset"],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!0}],resovleParameterCompletionItems:Fc,resolveDocumentation:t=>z("form:set Tag","The `form:set` tag can be used to set the form handle on all nested form tags.","https://statamic.dev/tags/form-set")},Nh=c3});var u3,xh,cy=C(()=>{ce();Ke();Mc();Ra();Vc();yh();u3={tagName:"form:submission",requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[na],resolveSpecialType:ra,resovleParameterCompletionItems:(t,e)=>Vs.includes(t.name)?cn(e.project.getUniqueFormNames()):null,augmentScope:(t,e)=>{let n=dl(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n);e.addBlueprintFields(t,r)}return e},resolveDocumentation:t=>z("form:submission Tag","The `form:submission` tag can be used to access the form submission submitted by the current user.","https://statamic.dev/tags/form-submission")},xh=u3});var f3,Eh,uy=C(()=>{ce();Ke();Mc();Ra();Vc();yh();f3={tagName:"form:submissions",allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,introducedIn:null,parameters:[na],resolveSpecialType:ra,resovleParameterCompletionItems:(t,e)=>Vs.includes(t.name)?cn(e.project.getUniqueFormNames()):null,augmentScope:(t,e)=>{if(t.isClosingTag)return e;let n=dl(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n);e.addBlueprintFields(t,r)}return e.addVariable({name:"date",dataType:"date",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e.addVariable({name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e.addVariable({name:"total_results",dataType:"number",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e},resolveDocumentation:t=>z("form:submissions Tag","The `form:submissions` tag can be used to fetch previously saved submissions for a form.","https://statamic.dev/tags/form-submissions")},Eh=f3});var p3,Sh,fy=C(()=>{ce();Ke();Mc();Ra();Vc();p3={tagName:"form:success",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[na],resolveSpecialType:ra,resovleParameterCompletionItems:(t,e)=>Vs.includes(t.name)?cn(e.project.getUniqueFormNames()):null,resolveDocumentation:t=>z("form:success Tag","The `form:success` tag can be used to check if a form submission was successful or not.","https://statamic.dev/tags/form-success")},Sh=p3});var Ck,d3,h3,Ak,Rk=C(()=>{Ck=he(tn());Ki();Ke();ay();oy();ly();cy();uy();fy();Ra();d3=[Ye(Nh),Ye(bh),Ye(vh),Ye(Sh),Ye(Eh),Ye(xh)],h3={tagName:"form",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[],resovleParameterCompletionItems:Fc,resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="form"||t.leftWord=="/form")&&t.leftChar==":"){let n=t.project.getUniqueFormNames();e=e.concat(d3);for(let r=0;r<n.length;r++)e.push({label:n[r],kind:Ck.CompletionItemKind.Field});return Nr(e)}return Be}},Ak=h3});function kk(t){return[{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"title",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"content",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"is_entry",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"is_term",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"count",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"index",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"search_score",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"_highlightResult",dataType:"array",sourceField:null,sourceName:"*internal.search.results",introducedBy:t}]}var py,m3,wk,Ok=C(()=>{ce();Ki();Ke();py={tagName:"search:results",allowsArbitraryParameters:!1,requiresClose:!0,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"index",description:"The index to search in",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"query",description:"The query string parameter to use",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"limit",description:"The maximum number of search results to return",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1,expectsTypes:["number"]},{name:"offset",description:"The number of results to skip",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1,expectsTypes:["number"]},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets whether not to paginate entry results",expectsTypes:["boolean"],isRequired:!1,name:"paginate",isDynamic:!1},{name:"as",description:"Specifies an alias for search results",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"supplement_data",description:"Controls whether non-indexed fields are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resovleParameterCompletionItems:(t,e)=>t.name=="index"?cn(e.project.getSearchIndexes()):null,augmentScope:(t,e)=>{e.addVariables([{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"total_results",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t}]);let n=t.findParameter("as");return n!=null&&n.value.trim().length>0?e.addVariableArray(n.value,kk(t)):e.addVariables(kk(t)),e},resolveDocumentation:t=>z("search:results Tag","The `search:results` tag provides access to all data that was returned as a result of a user's search.","https://statamic.dev/tags/search")},m3=[Ye(py)];wk={tagName:"search",allowsArbitraryParameters:!1,requiresClose:!0,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="search"||t.leftWord=="/search")&&t.leftChar==":"?Nr(m3):Be}});function dy(t){return[{name:"email",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t},{name:"password",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t}]}var hy,Lk,Dk=C(()=>{ce();ea();rr();hy={tagName:"user:login_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after logging in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after failed login attempts",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override the redirect and error_redirect parameters",acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:St,augmentScope:(t,e)=>(e.addVariables([{name:"errors",dataType:"array",sourceName:"*internal.user.login",sourceField:null,introducedBy:t},{name:"success",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t}]),e.addVariables(dy(t)),e.addVariableArray("old",dy(t)),e.addVariableArray("error",dy(t)),e),resolveDocumentation:t=>z("user:login_form Tag","The `user:login_form` tag can be used to quickly create a form that users can use to authenticate with the site.","https://statamic.dev/tags/user-login_form")},Lk=Yt(hy,"member:login_form")});var g3,Mk,Fk=C(()=>{ce();g3={tagName:"noparse",requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>z("noparse Tag","The `noparse` tag is used prevent blocks of Antlers code from being parsed, removing the need to escape individual Antlers code regions.","https://statamic.dev/antlers#the-noparse-tag")},Mk=g3});var _3,Vk,Bk=C(()=>{ce();rr();_3={tagName:"unless",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:St,resolveDocumentation:t=>z("unless Conditional Control Structure","The `unless` control structure operates the same as an `if` statement, but has it's logic inverted.","https://statamic.dev/antlers#conditions")},Vk=_3});var T3,qk,Uk=C(()=>{ce();rr();T3={tagName:"elseunless",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:St,resolveDocumentation:t=>z("elseunless Conditional Control Structure","The `elseunless` control structure operates the same as an `elseif` statement, but has it's logic inverted.","https://statamic.dev/antlers#conditions")},qk=T3});var jk,Gk,Hk=C(()=>{jk=he(nr());ce();Ke();Gk={tagName:"installed",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!0,introducedIn:"3.1.19",parameters:[],resolveCompletionItems:t=>{if(t.project!=null){let e=t.project.getComposerPackages(),n=[];return e.forEach((r,i)=>{n.push({label:r.name,kind:jk.CompletionItemKind.Text})}),be(n)}return Be},resolveDocumentation:t=>nt("installed Tag","The `installed` tag is used to check if the site has a specific Composer package available.",`{{ if {installed:composer/package-name} }}
    {{# Package is availabl.e #}}
{{ else }}
    {{# Something else. #}}
{{ /if }}`,"https://statamic.dev/tags/installed")}});var y3,Wk,Yk=C(()=>{y3={tagName:"relate",hideFromCompletions:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,introducedIn:null,parameters:[]},Wk=y3});var Bc,Ph=C(()=>{Bc=[{name:"bag",description:"The error message bag to retrieve errors from.",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1}]});var b3,Kk,$k=C(()=>{ce();Ph();b3={tagName:"get_errors",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:Bc,introducedIn:"3.2.23",augmentScope:(t,e)=>{var n;if(t.isClosingTag)return e;if(((n=t.name)==null?void 0:n.methodPart)==null){let r=e.copy();r.addVariable({dataType:"string",introducedBy:t,name:"field",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"field",refFieldSetField:null,sets:null,type:"string"}});let i=r.copy();i.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),r.addScopeList("messages",i),e.addScopeList("fields",r)}else{let r=e.copy();r.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e.addScopeList("messages",r)}return e},resolveDocumentation:t=>z("get_errors Tag","The `get_errors` tag can be used to retrieve form validation errors.","https://statamic.dev/tags/get_errors")},Kk=b3});var v3,zk,Qk=C(()=>{ce();Ph();v3={tagName:"get_errors:all",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:Bc,introducedIn:null,augmentScope:(t,e)=>{if(t.isClosingTag)return e;let n=e.copy();return n.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors.all",sourceField:{blueprintName:"*internal.tag.get_errors.all",displayName:"get_errors:all",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e.addScopeList("messages",n),e},resolveDocumentation:t=>z("get_errors:all Tag","The `get_errors:all` tag can be used to retrieve all form validation errors.","https://statamic.dev/tags/get_errors#list-all-validation-errors")},zk=v3});var N3,Xk,Jk=C(()=>{ce();Ph();N3={tagName:"get_error",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:Bc,introducedIn:null,augmentScope:(t,e)=>(t.isClosingTag||e.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_error",sourceField:{blueprintName:"*internal.tag.get_error",displayName:"get_error",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e),resolveDocumentation:t=>z("get_error Tag","The `get_error` tag can be used to retrieve the first error message for a specific field.","https://statamic.dev/tags/get_errors#get-the-first-error-for-a-specific-field")},Xk=N3});var x3,Zk,ew=C(()=>{x3={tagName:"set",hideFromCompletions:!0,allowsArbitraryParameters:!0,requiresClose:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[]},Zk=x3});var tw,E3,nw,rw=C(()=>{tw=he(nr());ce();Ke();hc();E3={tagName:"mount_url",hideFromCompletions:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:"3.3.15",parameters:[{isRequired:!1,acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The collection handle",name:"handle",isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>z("mount Tag","The `mount` tag can be used to retrieve the mount URL for a given collection.",null),resovleParameterCompletionItems:(t,e)=>{var n,r,i,s;return t.name=="handle"&&((n=e.context)==null?void 0:n.parameterContext)!=null?be(dc((s=(i=(r=e.context)==null?void 0:r.parameterContext.parameter)==null?void 0:i.getArrayValue())!=null?s:[],e.project)):null},resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="mount_url"||t.leftWord=="/mount_url")&&t.leftChar==":"){let n=t.project.getCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:tw.CompletionItemKind.Field,sortText:"0"})}return{items:e,analyzeDefaults:!1,isExclusiveResult:!1}}},nw=E3});var S3,iw,sw=C(()=>{ce();S3={tagName:"vite",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"src",description:"The entry point",expectsTypes:["string"],isDynamic:!1}],resolveDocumentation:t=>nt("vite Tag","Generates Vite tags for an entrypoint.",'{{ vite src="entry/point" }}',null)},iw=S3});var P3,aw,ow=C(()=>{ce();P3={tagName:"nocache",requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>nt("nocache Tag","The `nocache` tag is used to mark regions of a template. These regions will continue to update even when using caching strategies such as the full or half-measure cache.",`{{ nocache }} 
    <!-- This content will remain dynamic. -->
{{ /nocache }}`,"https://statamic.dev/tags/nocache")},aw=P3});var lw,cw=C(()=>{UA();GA();WA();KA();zA();JA();nR();iT();iR();cT();Fd();Vd();Bd();hR();gR();fT();pT();dT();hT();mT();vR();gT();PR();RR();OR();DR();FR();qR();jR();HR();zR();XR();t0();a0();c0();d0();m0();RT();ah();oh();lh();xd();sT();y0();v0();x0();S0();uh();C0();R0();wT();w0();L0();M0();V0();q0();j0();H0();IT();Y0();$0();Q0();J0();tk();rT();ik();mk();xk();ny();Rk();ly();ay();cy();fy();uy();oy();jT();Ok();Dk();VT();UT();Fk();Bk();Uk();Hk();Yk();LT();lT();AT();MT();aT();oT();$k();Qk();Jk();ew();rw();sw();ow();lw=[K0,z0,X0,Vk,qk,GR,$R,qA,Id,sl,Cd,Pd,Sd,Wk,Ak,bh,xh,Eh,Nh,Sh,vh,Zk,Kk,Xk,zk,wk,py,tR,kd,wd,YA,b0,HA,I0,P0,jA,QR,e0,s0,nh,$A,QA,XA,o0,l0,rR,Ld,p0,ih,h0,nw,Nk,iy,Th,aR,sR,sh,T0,Ac,Rc,N0,Gk,hh,kc,Ec,fh,Sc,Pc,wc,hy,cf,lf,ff,mh,GT,HT,WT,YT,KT,$T,zT,QT,Lk,FT,DT,qT,Mk,aw,pR,dR,mR,LR,MR,A0,AR,SR,W0,wR,ek,Yd,Wd,Hd,jd,ph,qd,UR,hk,O0,OT,D0,F0,B0,U0,G0,Xd,BR,bT,k0,bR,Kd,E0,iw]});var uw,go,Ze,Ls=C(()=>{uw=he(nr());Gn();NC();uc();Rr();cw();go=class{constructor(){this.tags=new Map;this.parameters=new Map}reset(){this.tags.clear(),this.parameters.clear(),this.loadCoreTags()}getVisibleTagsWithDocumentation(){let e=[];return this.tags.forEach((n,r)=>{if(n.hideFromCompletions==!1){let i="";n.resolveDocumentation!=null&&(i=n.resolveDocumentation()),e.push({label:r,documentation:i})}}),e}getVisibleTagNames(){let e=[];return this.tags.forEach((n,r)=>{n.hideFromCompletions==!1&&e.push(r)}),[...new Set(e)]}getPossibleTagMethods(e){let n=[],r=e.length+1;return this.tags.forEach((i,s)=>{if(s.startsWith(e)){let a=s.substr(r).trim();a.length>0&&n.push(a)}}),[...new Set(n)]}getTagNames(){let e=[];return this.tags.forEach((n,r)=>{e.push(r)}),[...new Set(e)]}loadCoreTags(){this.registerTags(lw)}cleanTagName(e){return Fi(e,"/")}findTag(e){return this.tags.get(this.resolveTagName(e))}isKnownTag(e){return this.tags.has(this.resolveTagName(e))}isSymbolKnownTag(e){return this.isKnownTag(e.runtimeName())}resolveTagName(e){return e=this.cleanTagName(e.trim()),this.tags.has(e)||e.includes(":")&&(e=e.split(":")[0]),e}canResolveSpecialTypes(e){e=this.resolveTagName(e);let n=this.tags.get(e);return!(typeof n=="undefined"||n==null||n.resolveSpecialType==null)}resolveSpecialType(e,n,r){e=this.resolveTagName(e);let i=this.findTag(e);if(i.resolveSpecialType==null)throw new Error(e+" does not support special types.");return i.resolveSpecialType(n,r)}getCompletionItems(e){var s;let n=null,r=[],i=!0;if(e.nodesInScope.length>0&&(n=e.nodesInScope[e.nodesInScope.length-1]),e.currentNode!=null&&this.isKnownTag(e.currentNode.runtimeName())){let a=this.findTag(e.currentNode.runtimeName());if(typeof a=="undefined")return{isExclusive:!1,items:[]};let l=[];if(a.resolveCompletionItems!=null){let c=a.resolveCompletionItems(e);if(c.isExclusiveResult)return{isExclusive:!0,items:c.items};i=c.analyzeDefaults,r=r.concat(c.items)}if(e.isPastTagPart==!1){let c=this.getPossibleTagMethods(a.tagName);for(let f=0;f<c.length;f++)r.push({label:c[f],kind:uw.CompletionItemKind.Text})}if(i){if(e.isCaretInTag==!0&&a.parameters.length>0&&(r=r.concat(G_(e,a.parameters)),a.tagName=="partial"&&(n==null?void 0:n.hasMethodPart()))){let c=n.getMethodNameValue();if(c.trim().length>0&&((s=Oe.instance)==null?void 0:s.hasStructure())){let f=Oe.instance.getStructure().findPartial(c);f!=null&&f.injectsParameters.length>0&&(r=r.concat(G_(e,f.injectsParameters)))}}for(let c=0;c<e.nodesInScope.length;c++)if(e.nodesInScope[c].runtimeType!==null){let f=e.nodesInScope[c].runtimeType;if(f!=null&&f.assumedType=="structure_ref"&&f.supplementedFields!=null)for(let d=0;d<f.supplementedFields.length;d++)r.push(H_(f.supplementedFields[d]))}}return{items:r,isExclusive:!1}}return{items:r,isExclusive:!1}}injectParentScope(e){let n=this.findTag(e);return typeof n=="undefined"||n==null?!0:n.injectParentScope}resolveParameterCompletions(e,n,r){let i=this.findTag(e);return typeof i!="undefined"&&i!==null&&typeof i.resovleParameterCompletionItems!="undefined"&&i.resovleParameterCompletionItems!==null?i.resovleParameterCompletionItems(n,r):null}canResolveDynamicParameter(e){let n=this.resolveTagName(e);if(this.isKnownTag(n)){let r=this.tags.get(n);if(typeof r=="undefined")return!1;if(typeof r.resolveDynamicParameter!="undefined"&&r.resolveDynamicParameter!=null)return!0}return!1}getParameter(e,n){let r=this.resolveTagName(e);if(this.parameters.has(r)==!1)return null;let i=this.parameters.get(r);if(i==null)return null;if(i.has(n)==!1){let a=this.findTag(e);if(a!=null&&typeof a.resolveDynamicParameter!="undefined"&&a.resolveDynamicParameter!=null){let l=a.resolveDynamicParameter(null,n);if(l!==null)return l}return null}let s=i.get(n);return typeof s=="undefined"||i==null?null:s}registerTags(e){for(let n=0;n<e.length;n++)this.registerTag(e[n])}registerTag(e){if(this.tags.set(e.tagName,e),this.parameters.has(e.tagName)==!1&&this.parameters.set(e.tagName,new Map),e.parameters.length>0){let n=this.parameters.get(e.tagName);for(let r=0;r<e.parameters.length;r++){let i=e.parameters[r];n==null||n.set(i.name,i)}}}requiresClose(e){let n=e.getTagName();if(this.tags.has(n)){let r=this.findTag(n);if(r!=null)return r.requiresCloseResolver!=null?r.requiresCloseResolver(e):r.requiresClose}return!1}};go.instance=null;(typeof go.instance=="undefined"||go.instance==null)&&(go.instance=new go,go.instance.loadCoreTags());Ze=go});var $i,vi,pf=C(()=>{uf();Fp();$i=class{constructor(e){this.generation=0;this.id="";this.name="";this.values=new Map;this.lists=new Map;this.pristine=new Map;this.parentScope=null;this.statamicProject=e,$i.generationCounter+=1,this.generation=$i.generationCounter,this.id=Wl()}makeNew(){return new $i(this.statamicProject)}ancestor(){return this.parentScope!=null?this.parentScope:this}canShiftScope(e){return!!this.pristine.has(e)}shiftScope(e,n,r){if(this.pristine.has(n)){let i=this.pristine.get(n),s=i.parentCopy.copy();return s.introduceAliasScope(e,r,i.introducedFields),s}return this}containsPath(e){if(e.includes(":")){let n=e.split(":"),r=n.shift(),i=n.join(":");if(typeof r=="undefined")return!1;let s=this.lists.get(r);return typeof s=="undefined"?!1:s.containsPath(i)}return!!this.lists.has(e)}findReference(e){if(e.includes(":")){let n=e.split(":"),r=n.pop(),i=n.join(":"),s=this.findNestedScope(i);if(s!=null)return s.findReference(r)}return this.values.has(e)?this.values.get(e):null}findReferenceWithField(e){if(e.includes(":")){let n=e.split(":"),r=n.pop(),i=n.join(":"),s=this.findNestedScope(i);if(s!=null)return s.findReference(r)}if(this.values.has(e)){let n=this.values.get(e);if(n.sourceField==null){if(n.introducedBy!=null&&n.introducedBy.currentScope!=null&&n.introducedBy.currentScope!=this)return n.introducedBy.currentScope.findReferenceWithField(n.introducedBy.getTagName());if(this.parentScope!=null&&this.parentScope!=this)return this.parentScope.findReferenceWithField(e)}return n}return null}containsReference(e){return this.findReference(e)!=null}findNestedScope(e){if(e.includes(":")){let n=e.split(":"),r=n.shift(),i=n.join(":");if(typeof r=="undefined")return null;let s=this.lists.get(r);return typeof s=="undefined"?null:s.findNestedScope(i)}return this.lists.has(e)?this.lists.get(e):this.parentScope!=null&&this.parentScope!=this&&this.parentScope.hasList(e)?this.parentScope.lists.get(e):null}liftList(e){if(this.lists.has(e)){let n=this.lists.get(e);return typeof n=="undefined"||n===null?null:(this.lists.delete(e),n)}return null}hasPristineReference(e){return!!this.pristine.has(e)}hasListInHistory(e){return this.hasList(e)?!0:this.parentScope!=null?this.name=="*root*"?!1:this.parentScope.hasList(e):!1}hasList(e){if(this.lists.has(e)){let n=this.lists.get(e);return!(typeof n=="undefined"||n===null)}return!1}bringListIntoMainScope(e){if(e.includes(":")){let r=e.split(":"),i=r.shift(),s=r.join(":");if(typeof i=="undefined")return this;let a=this.lists.get(i);return typeof a=="undefined"?this:a.bringListIntoMainScope(s)}let n=this.lists.get(e);return this.lists.delete(e),this.mergeScope(n)}getListNames(){let e=[];return this.lists.forEach((n,r)=>{e.push(r)}),e}getVariableNames(){let e=[];return this.values.forEach(n=>{e.push(n.name)}),e}getList(e){return this.lists.has(e)?this.lists.get(e):this.parentScope!=null&&this.parentScope!=this?this.parentScope.getList(e):null}hasValue(e){return this.values.has(e)}findAncestorWithList(e){return this.hasList(e)?this:this.parentScope!=null&&this.parentScope!=this?this.parentScope.findAncestorWithList(e):null}findReferenceNotIntroducedBy(e,n){if(this.hasValue(e)){let r=this.values.get(e);if(r.introducedBy!=null&&r.introducedBy!=n)return r}return this.parentScope!=null&&this.parentScope!=this?this.parentScope.findReferenceNotIntroducedBy(e,n):null}removeThroughIntroduction(e,n){if(this.values.delete(e),this.parentScope!=null){let r=this.findReferenceNotIntroducedBy(e,n);r!=null&&this.addVariable(r)}}wasIntroducedBySymbol(e,n){if(this.values.has(e)==!1)return!1;let r=this.values.get(e);return r.introducedBy!=null?r.introducedBy==n:!1}referencesArray(e){return this.values.has(e)==!1?!1:this.values.get(e).dataType=="array"}addScopeList(e,n){return this.lists.set(e,n),this}mergeAndList(e,n){let r=new $i(this.statamicProject);return r.values=rk(n),this.lists.set(e,r),this.mergeVariableScope(n),this}mergeScope(e){return e==this||e==null?this:(typeof e.values!="undefined"&&e.values!==null&&e.values.forEach((n,r)=>{this.values.set(r,n)}),typeof e.lists!="undefined"&&e.lists!==null&&e.lists.forEach((n,r)=>{this.lists.set(r,n)}),this)}mergeVariableScope(e){for(let n=0;n<e.length;n++)this.values.set(e[n].name,e[n]);return this}addVariable(e){this.values.set(e.name,e)}addVariables(e){for(let n=0;n<e.length;n++)this.addVariable(e[n])}addVariableArray(e,n){this.values.has(e)&&this.values.delete(e);let r=new $i(this.statamicProject);r.addVariables(n),this.addScopeList(e,r)}injectAssetContainer(e,n){this.addBlueprintFields(e,this.statamicProject.getAssetBlueprintFields(n))}injectUserFields(e){this.addBlueprintFields(e,this.statamicProject.getUserFields())}addBlueprintField(e,n){this.addVariable({dataType:n.type,name:n.name,sourceField:n,sourceName:n.blueprintName,introducedBy:e})}introduceScopedAliasScope(e,n,r,i){this.pristine.set(r,{introducedFields:i,introducedScope:r,parentCopy:this.copy()});let s=new $i(this.statamicProject),a=new $i(this.statamicProject);return a.addBlueprintFields(e,i),s.name=r,s.addScopeList(n,a),this.addScopeList(r,s),s}expandScopedAliasScope(e,n,r,i){this.lists.has(r)==!1?this.introduceScopedAliasScope(e,n,r,i):this.lists.get(r).addBlueprintFields(e,i)}introduceAliasScope(e,n,r){this.pristine.set(n,{introducedFields:r,introducedScope:n,parentCopy:this.copy()});let i=new $i(this.statamicProject);i.addBlueprintFields(e,r),i.name=n,this.addScopeList(n,i)}introduceDynamicScopeList(e,n,r){this.pristine.set(n,{introducedFields:r,introducedScope:n,parentCopy:this.copy()});let i=new $i(this.statamicProject);i.name=n,i.addBlueprintFields(e,r),this.addScopeList(n,i)}addBlueprintFields(e,n){for(let r=0;r<n.length;r++)this.addBlueprintField(e,n[r])}injectBlueprint(e,n){let r=this.statamicProject.getBlueprintDetails(n);r.length>0&&this.addBlueprintFields(e,r)}copy(){let e=new $i(this.statamicProject);return e.pristine=new Map(this.pristine),e.values=new Map(this.values),e.lists=new Map(this.lists),e.parentScope=this,e}},vi=$i;vi.generationCounter=0});function my(t){let e=new vi(t);return e.addVariable({dataType:"string",name:"handle",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"name",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"locale",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"short_locale",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e}function fw(){let t=[];return t.push({dataType:"number",name:"response_code",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"csrf_field",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"csrf_token",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"environment",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"template",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"xml_header",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"last_segment",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"homepage",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_uri",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"amp_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"api_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_full_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_template",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"logged_in",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"logged_out",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"is_homepage",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"now",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"today",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"current_date",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"get",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"get_post",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"post",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"old",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t}var pw=C(()=>{pf()});function dw(t,e){let n=t.findParameter("paginate");if(n!=null&&(n.value.toLowerCase()=="true"||parseInt(n.value).toString()==n.value)){let r=e.makeNew(),i=e.makeNew(),s=e.makeNew(),a=e.makeNew();r.addVariable({name:"next_page",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"prev_page",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"total_items",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"total_pages",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"current_page",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"auto_links",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),s.addVariable({name:"url",dataType:"string",sourceField:null,sourceName:"*internal.pagination.all",introducedBy:t}),s.addVariable({name:"page",dataType:"integer",sourceField:null,sourceName:"*internal.pagination.all",introducedBy:t}),a.addVariable({name:"first",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),a.addVariable({name:"last",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),a.addVariable({name:"slider",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),i.addScopeList("all",s),i.addScopeList("segments",a),r.addScopeList("links",i),e.addScopeList("paginate",r)}}var hw=C(()=>{});var hl,ml,gy=C(()=>{Rr();pf();hl=class{constructor(){this.fileInjections=new Map;this.project=null}updateProject(e){this.project=e}registerInjections(e,n){if(n.length==0)return;let r=[];for(let i=0;i<n.length;i++){let s=n[i];s.hasParameters&&r.push(s)}if(r.length>0){let i=r[0].getMethodNameValue();if(i!=null&&this.project!=null){let s=this.project.findPartial(i);s!=null&&(this.fileInjections.has(s.documentUri)||this.fileInjections.set(s.documentUri,new Map),this.fileInjections.get(s.documentUri).set(e,r))}}}hasAvailableInjections(e){return this.fileInjections.has(e)}getScopeInjection(e,n){let r=new vi(n);return r.name="*injection*",this.fileInjections.get(e).forEach((s,a)=>{for(let l=0;l<s.length;l++){let c=s[l];if(c.hasParameters)for(let f=0;f<c.parameters.length;f++){let d=c.parameters[f];if(d.containsSimpleValue())r.addVariable({dataType:"string",name:d.name,sourceField:null,sourceName:"scope.injection",introducedBy:c});else if(d.isVariableReference&&c.currentScope!=null&&c.currentScope.hasListInHistory(d.value)){let m=c.currentScope.findNestedScope(d.value);if(m!=null){let _=Fi(d.name,":"),g=m.copy();g.name=_,r.addScopeList(_,m)}}}}}),r}};hl.instance=null;(typeof hl.instance=="undefined"||hl.instance==null)&&(hl.instance=new hl);ml=hl});var I3,C3,_y,mw=C(()=>{Pg();Ig();Lp();He();Ls();Br();ef();hr();pw();hw();uf();pf();J_();gy();I3=["collection"],C3=["if","elseif","unless","elseunless"],_y=class{constructor(e,n,r){this.pageVars=[];this.viewDataVars=null;this.documentUri="";this.lastSymbolId="";this.ideHelperMap=new Map;this.statamicProject=e,this.documentUri=n,this.document=r,this.makePageScope(),this.makeViewDataScope()}makeViewDataScope(){this.document.hasFrontMatter()&&(this.viewDataVars=this.document.getFrontMatterScope())}makePageScope(){let e=[],n=this.statamicProject.getFields();if(n.has("pages")){let r=n.get("pages");for(let i=0;i<r.length;i++){let s=r[i];e.push({name:s.name,dataType:s.type,sourceField:s,sourceName:s.blueprintName,introducedBy:null})}}this.pageVars=e}analyzeScope(e){var d,m,_,g,T,N,A,b,x;let n=new vi(this.statamicProject);n.name="*root*",n.parentScope=n,n.addScopeList("site",my(this.statamicProject)),n.addScopeList("sites",my(this.statamicProject)),n.addVariables(fw());let r=new vi(this.statamicProject);r.name="*root_user*",r.parentScope=n,this.statamicProject.getUserFields().forEach(v=>{r.addBlueprintField(null,v)}),n.addScopeList("current_user",r),((d=ls.instance)==null?void 0:d.pageScopeDisabled(this.documentUri))?this.viewDataVars!=null&&n.addScopeList("view",this.viewDataVars):this.viewDataVars!=null?n.mergeAndList("page",this.pageVars).addScopeList("view",this.viewDataVars):n.mergeAndList("page",this.pageVars);let i=null;e.length>0&&e[0].isComment&&(i=Au(this.documentUri,e[0]));for(let v=0;v<e.length;v++)if(e[v].isComment){let I=Au(this.documentUri,e[v]);I.variableHelper!=null&&this.ideHelperMap.set(e[v].id(),I.variableHelper)}let s=this.statamicProject.getCollectionNamesForView(this.documentUri);if(i!=null&&(i.collectionInjections.length>0&&(s=s.concat(i.collectionInjections)),i.blueprints.length>0&&(s=s.concat(i.blueprints)),i.variableHelper!=null&&i.variableHelper.variableName=="@page")){let v=this.statamicProject.getBlueprintField(i.variableHelper.collectionName,i.variableHelper.fieldHandle);if(v!=null)if(i.variableHelper.setHandle.length>0){if(v.sets!=null){for(let I=0;I<v.sets.length;I++)if(v.sets[I].handle==i.variableHelper.setHandle){n.addVariables(Lc(e[0],v.sets[I].fields));break}}}else n.addBlueprintField(e[0],v)}if(s.length>0){for(let v=0;v<s.length;v++)n.injectBlueprint(e[0],s[v]);n.addVariables(co(e[0]))}((m=ml.instance)==null?void 0:m.hasAvailableInjections(this.documentUri))&&n.mergeScope((_=ml.instance)==null?void 0:_.getScopeInjection(this.documentUri,this.statamicProject));let a=[],l=[],c=[],f=[];f.push(n);for(let v=0;v<e.length;v++){let I=e[v];this.lastSymbolId.length>0&&l.includes(I.id())&&(a.pop(),f.pop(),f.length==0&&f.push(n));let O=f[f.length-1];if(I.hasParameters){for(let Y=0;Y<I.parameters.length;Y++)if(I.parameters[Y].interpolations.length>0)for(let te=0;te<I.parameters[Y].interpolations.length;te++){let ue=I.parameters[Y].interpolations[te];I.processedInterpolationRegions.has(ue)&&I.processedInterpolationRegions.get(ue).forEach(ie=>{ie instanceof J&&(ie.currentScope=O)})}}if(((g=Ze.instance)==null?void 0:g.isKnownTag(I.getTagName()))==!1){if(I.scopeVariable=O.findReference(I.runtimeName()),v>0){let Y=e[v-1];if(Y.isComment&&this.ideHelperMap.has(Y.id())&&!Y.isClosingTag&&!I.isClosingTag){let te=this.ideHelperMap.get(Y.id());if(te.variableName==I.getTagName()){let ue=this.statamicProject.getBlueprintField(te.collectionName,te.fieldHandle);ue!=null&&(I.scopeVariable=nk(I,ue))}}}if(I.scopeVariable==null){let Y=I.runtimeName().trim();if(O.hasList(Y)||((T=I.currentScope)==null?void 0:T.hasListInHistory(Y))){I.sourceType="array";let te=O.getList(Y);if(te!=null&&te.values.size>0){let ue=te.values.entries().next().value[1];I.scopeVariable={dataType:"array",introducedBy:ue.introducedBy,name:Y,sourceField:null,sourceName:ue.sourceName}}}}else I.sourceType=Op(I.scopeVariable.dataType),I.scopeVariable.sourceField!=null&&((N=Tc.instance)==null?void 0:N.hasFieldtype(I.scopeVariable.sourceField.type))&&((A=Tc.instance)==null?void 0:A.getFieldType(I.scopeVariable.sourceField.type)).augmentScope(I,O)}if(I.hasParameters&&dw(I,O),I.modifiers!=null&&I.modifiers.hasModifiers()?I.manifestType=I.modifiers.getLastManifestedModifierRuntimeType():I.manifestType=I.sourceType,I.isClosedBy!=null&&(a.push(I.id()),l.push(I.isClosedBy.id()),O=O.copy(),f.push(O)),I.getTagName()=="scope"&&I.hasMethodPart()){let Y=f[f.length-2].copy();O.addScopeList(I.getMethodNameValue(),Y)}if(O.containsPath(I.runtimeName())&&(a.push(I.id()),I.isClosedBy!=null&&l.push(I.isClosedBy.id()),O=O.copy().bringListIntoMainScope(I.runtimeName()),f.push(O)),I.currentScope=O,I.getTagName()!="cache"){let Y=I.findParameter("scope");Y!=null&&O.canShiftScope(I.runtimeName())&&(O=O.shiftScope(I,I.runtimeName(),Y.value),I.currentScope=O,f.pop(),f.push(O))}if((b=Ze.instance)==null?void 0:b.isKnownTag(I.runtimeName())){let Y=(x=Ze.instance)==null?void 0:x.findTag(I.runtimeName());typeof Y!="undefined"&&Y.augmentScope!=null&&Y.augmentScope(I,O)}if(I.modifierChain!=null&&I.modifierChain.modifierChain.length>0&&I.modifierChain.modifierChain.forEach(Y=>{Y.modifier!=null&&typeof Y.modifier.augmentScope!="undefined"&&Y.modifier.augmentScope!=null&&Y.modifier.augmentScope(I,O)}),I.modifiers.hasParameterModifiers()&&I.modifiers.parameterModifiers.forEach(Y=>{Y.modifier!=null&&typeof Y.modifier.augmentScope!="undefined"&&Y.modifier.augmentScope!=null&&Y.modifier.augmentScope(I,O)}),I.sourceType=="array"){let Y=I.findParameter("chunk"),te=!0;if(I.parent!=null&&I.parent instanceof J&&I3.includes(I.parent.runtimeName())&&(te=!1),typeof Y!="undefined"&&Y!==null)if(I.currentScope.parentScope!=null&&(I.currentScope.parentScope.hasList(I.runtimeName())||O.referencesArray(I.runtimeName()))){let ue=I.currentScope.parentScope.copy(),de=ue.liftList(I.runtimeName());if(de==null&&O.referencesArray(I.runtimeName())){if(de=new vi(O.statamicProject),te){let ie=Vt(I);for(let pe=0;pe<ie.length;pe++){let rt=ie[pe];ue.wasIntroducedBySymbol(rt.name,I)&&ue.removeThroughIntroduction(rt.name,I)}de.addVariables(ie)}}else te&&ue.addVariables(Vt(I));ue.addScopeList("chunk",de),O=ue,f.pop(),f.push(O),I.currentScope=ue}else{let ue=I.findParameter("scope");if(typeof ue!="undefined"&&ue!==null&&I.currentScope!=null&&I.currentScope.hasList(ue.value)&&I.scopeName!=null){let de=I.currentScope.copy(),ie=de.ancestor().copy(),pe=de.liftList(I.scopeName);te&&de.addVariables(Vt(I)),ie.liftList(I.scopeName),de.addScopeList(I.scopeName,pe),ie.addScopeList("chunk",de),O=ie,f.pop(),f.push(O),I.currentScope=ie}}else I.scopeVariable!=null&&I.scopeVariable.sourceField==null&&te&&(O.addVariables(Vt(I)),O.addVariables(kt(I)))}if(l.includes(I.id())&&I.parent!=null&&I.parent instanceof J){let Y=I.currentScope.findAncestorWithList(I.getTagName());Y!=null?(I.currentScope=Y,O=Y.copy(),f.pop(),f.length==0&&f.push(n),f.push(O)):I.parent.parent!=null?I.currentScope=I.parent.parent.currentScope:I.currentScope=I.parent.currentScope}if(I.currentScope!=null&&I.runtimeNodes.length>0&&I.runtimeNodes.forEach(Y=>{var te;if(Y instanceof Ae&&((te=I.currentScope)==null?void 0:te.hasValue(Y.name))){let ue=I.currentScope.findReferenceWithField(Y.name);Y.currentScope=I.currentScope,Y.scopeName=I.scopeName,Y.scopeVariable=ue}}),C3.includes(I.runtimeName())&&I.runtimeNodes.length==3&&I.runtimeNodes[0]instanceof Ae&&I.runtimeNodes[1]instanceof wr&&I.runtimeNodes[2]instanceof Tn&&I.runtimeNodes[0].scopeVariable!=null&&I.runtimeNodes[0].scopeVariable.sourceField!=null){let Y=I.runtimeNodes[0].scopeVariable,te=I.runtimeNodes[2].value,ue=Y.sourceField;if(ue.sets!=null)for(let de=0;de<ue.sets.length;de++){let ie=ue.sets[de];if(ie.handle==te&&ie.fields!=null){O=O.copy(),O.addBlueprintFields(I,ie.fields),I.isClosedBy!=null&&!I.isSelfClosing&&(a.push(I.id()),l.push(I.isClosedBy.id()),f.push(O));break}}}this.lastSymbolId=I.id();let X=a.join("/");c.push(X)}}}});var _o,gw=C(()=>{_o=class{};_o.globalTagEnterStack=[],_o.interpolatedVariables=[]});var Xr,df=C(()=>{Xr=class{constructor(){this.name="";this.compound="";this.methodPart="";this.content="";this.cachedCompoundTagName=null}tagPartIs(e){return e=e.toLowerCase().trim(),this.name.toLowerCase().trim()==e}isCompound(){return this.methodPart==null?!1:this.methodPart.length>0}getMethodName(){return this.methodPart==""?"index":this.methodPart=="null"?"":this.methodPart}getRuntimeMethodName(){}getCompoundTagName(){if(this.cachedCompoundTagName==null){let e=this.getMethodName();this.cachedCompoundTagName=this.name,e!=null&&e!=""&&(this.cachedCompoundTagName=this.cachedCompoundTagName+":"+e)}return this.cachedCompoundTagName}}});var Ty,qc,_w=C(()=>{cs();Ls();Ty=class{constructor(){this.tagNames=[];this.modifierNames=[]}getModifierNames(){var e,n;return this.modifierNames.concat((n=(e=bt.instance)==null?void 0:e.getModifierNames())!=null?n:[])}getTagNames(){var e,n;return this.tagNames.concat((n=(e=Ze.instance)==null?void 0:e.getTagNames())!=null?n:[])}setTagNames(e){this.tagNames=e}setModifierNames(e){this.modifierNames=e}isTag(e){var n;return Ty.alwaysLikeTag.includes(e)||((n=Ze.instance)==null?void 0:n.isKnownTag(e))?!0:this.tagNames.includes(e)}isModifier(e){var n;return((n=bt.instance)==null?void 0:n.hasModifier(e))?!0:this.modifierNames.includes(e)}},qc=Ty;qc.alwaysLikeTag=["if","endif","elseif","else","unless","elseunless"]});var jc,Uc,yy,Tw=C(()=>{He();_w();jc=class{static analyze(e,n){e.forEach(r=>{if(r instanceof J){if(r.pathReference!=null&&r.pathReference.isStrictVariableReference){r.isTagNode=!1;return}r.name!=null&&(r.isTagNode=n.isTag(r.name.name))}})}static analyzeNode(e){if(e.pathReference!=null&&e.pathReference.isStrictVariableReference){e.isTagNode=!1;return}jc.environmentDetails!=null&&e.name!=null&&(e.isTagNode=jc.environmentDetails.isTag(e.name.name)),e.name!=null&&(e.isConditionNode=qc.alwaysLikeTag.includes(e.name.name))}static analyzeParametersForModifiers(e){e.parameters.forEach(n=>{jc.environmentDetails!=null&&(n.isModifierParameter=jc.environmentDetails.isModifier(n.name))})}},Uc=jc;Uc.environmentDetails=null;(typeof Uc.environmentDetails=="undefined"||Uc.environmentDetails==null)&&(Uc.environmentDetails=new qc);yy=Uc});var by,yw=C(()=>{df();by=class{static getIdentifier(e){var i;let n=new Xr;n.content=e.trim();let r=e.split(":");if(r.length==1)n.name=r[0].trim(),n.methodPart=null,n.compound=n.name;else if(r.length>1){let s=(i=r.shift())!=null?i:"",a=r.join(":");n.name=s.trim(),n.methodPart=a.trim(),n.compound=n.name+":"+n.methodPart}else n.name=e.trim(),n.methodPart="";return n.name.startsWith("/")&&(n.name=n.name.substr(1),n.compound=n.compound.substr(1)),n}}});var Ee,se,vy=C(()=>{He();Ee=class{static getPrettyTypeName(e){return e instanceof xs?Ee.TOKEN_LANG_OPERATOR:e instanceof pi?Ee.TOKEN_OP_A_ADD:e instanceof Ae?Ee.TOKEN_VARIABLE:e instanceof Tn?Ee.TOKEN_STRING:e instanceof Ln?Ee.TOKEN_NUMBER:e instanceof fs?Ee.TOKEN_CONSTANT_FALSE:e instanceof Bi?Ee.TOKEN_CONSTANT_NULL:e instanceof ps?Ee.TOKEN_CONSTANT_TRUE:e instanceof Yl?Ee.TOKEN_MODIFIER_NODE:e instanceof wu?Ee.TOKEN_MODIFIER_CHAIN:e instanceof Mg?Ee.TOKEN_MODIFIER_PARAMETER:e instanceof di?Ee.TOKEN_OP_A_DIVIDE:e instanceof Ws?Ee.TOKEN_OP_A_EXPONENTIATION:e instanceof Ys?Ee.TOKEN_OP_A_MODULUS:e instanceof hi?Ee.TOKEN_OP_A_MULTIPLY:e instanceof kr?Ee.TOKEN_OP_A_SUBTRACT:e instanceof ds?Ee.TOKEN_ASG_ADD:e instanceof hs?Ee.TOKEN_ASG_DIVIDE:e instanceof ms?Ee.TOKEN_ASG_MODULUS:e instanceof gs?Ee.TOKEN_ASG_MULTIPLY:e instanceof mi?Ee.TOKEN_ASG_ASSIGN:e instanceof Ks?Ee.TOKEN_ASG_SUBTRACT:e instanceof wr?Ee.TOKEN_CMP_EQUAL:e instanceof Ns?Ee.TOKEN_CMP_SEQUAL:e instanceof qi?Ee.TOKEN_CMP_GT:e instanceof ya?Ee.TOKEN_CMP_GTE:e instanceof _s?Ee.TOKEN_CMP_LT:e instanceof Ts?Ee.TOKEN_CMP_LTE:e instanceof ys?Ee.TOKEN_CMP_NEQ:e instanceof bs?Ee.TOKEN_CMP_SNEQ:e instanceof vs?Ee.TOKEN_CMP_SPACESHIP:e instanceof ba?Ee.TOKEN_OP_VARIABLE_FALLBACK:e instanceof Fg?Ee.TOKEN_COND_FALLBACK_GROUP:e instanceof Sn?Ee.TOKEN_BRANCH_SEPARATOR:e instanceof Es?Ee.TOKEN_TERNARY_SEPARATOR:e instanceof Jn?Ee.TOKEN_GROUP_BEGIN:e instanceof Wn?Ee.TOKEN_GROUP_END:e instanceof Or?Ee.TOKEN_MODIFIER_SEPARATOR:e instanceof Yn?Ee.TOKEN_MODIFIER_NAME:e instanceof Kn?Ee.TOKEN_MODIFIER_VALUE:e instanceof Lr?Ee.TOKEN_MODIFIER_VALUE_SEPARATOR:e instanceof Lu?Ee.TOKEN_NULL_COALESCE_GROUP:e instanceof On?Ee.TOKEN_SEMANTIC_GROUP:e instanceof fr?Ee.TOKEN_STATEMENT_SEPARATOR:e instanceof Du?Ee.TOKEN_TERNARY_CONDITION:e instanceof Ui?Ee.TOKEN_OP_AND:e instanceof pr?Ee.TOKEN_OP_LOGIC_NEGATION:e instanceof Ss?Ee.TOKEN_OP_OR:e instanceof $s?Ee.TOKEN_OP_XOR:e instanceof ji?Ee.TOKEN_OP_NULL_COALESCE:e instanceof Yo?Ee.TOKEN_PARAM:e instanceof yr?Ee.TOKEN_PATH_ACCESSOR:e instanceof Ja?Ee.TOKEN_OP_A_FACTORIAL:e instanceof Vi?Ee.TOKEN_RECURSIVE:e instanceof zl?Ee.TOKEN_ARG_GROUP:e instanceof An?Ee.TOKEN_ARG_SEPARATOR:e instanceof zs?Ee.TOKEN_OP_STRING_CONCAT:e instanceof Dr?Ee.TOKEN_OP_SCOPE_REASSIGNMENT:e instanceof $l?Ee.TOKEN_STRUCT_SWITCH_CASE:e instanceof $o?Ee.TOKEN_STRUCT_SWITCH_GROUP:e instanceof Ko?Ee.TOKEN_STRUCT_DIRECTION_GROUP:e instanceof Gi?Ee.TOKEN_STRUCT_SCOPED_LOGIC_GROUP:e instanceof _t?Ee.TOKEN_STRUCT_LOGIC_GROUP:e instanceof Ou?Ee.TOKEN_STRUCT_VALUE_DIRECTION:e instanceof va?Ee.TOKEN_STRUCT_ARRAY:e instanceof Ps?Ee.TOKEN_STRUCT_T_LIST_START:e instanceof Vg?Ee.TOKEN_STRUCT_TUPLE_LIST:e instanceof Zn?Ee.TOKEN_STRUCT_METHOD_CALL:typeof e}},se=Ee;se.TOKEN_LANG_OPERATOR="T_LANG_OPERATOR",se.TOKEN_VARIABLE="T_VAR",se.TOKEN_NUMBER="T_NUMERIC",se.TOKEN_STRING="T_STRING",se.TOKEN_RECURSIVE="T_RECURSIVE",se.TOKEN_CONSTANT_FALSE="T_FALSE",se.TOKEN_CONSTANT_NULL="T_NULL",se.TOKEN_CONSTANT_TRUE="T_TRUE",se.TOKEN_MODIFIER_NODE="T_MODIFIER",se.TOKEN_MODIFIER_CHAIN="T_MODIFIER_CHAIN",se.TOKEN_MODIFIER_PARAMETER="T_MODIFIER_PARAM",se.TOKEN_OP_A_ADD="T_AOP_ADD",se.TOKEN_OP_A_DIVIDE="T_AOP_DIVIDE",se.TOKEN_OP_A_EXPONENTIATION="T_AOP_EXP",se.TOKEN_OP_A_MODULUS="T_AOP_MOD",se.TOKEN_OP_A_MULTIPLY="T_AOP_MULTIPLY",se.TOKEN_OP_A_SUBTRACT="T_AOP_SUBTRACT",se.TOKEN_OP_A_FACTORIAL="T_AOP_FACTORIAL",se.TOKEN_ASG_ADD="T_ASG_ADD",se.TOKEN_ASG_DIVIDE="T_ASG_DIVIDE",se.TOKEN_ASG_ASSIGN="T_ASG",se.TOKEN_ASG_MODULUS="T_ASG_MODULUS",se.TOKEN_ASG_MULTIPLY="T_ASG_MULTIPLY",se.TOKEN_ASG_SUBTRACT="T_ASG_SUBTRACT",se.TOKEN_CMP_EQUAL="T_CMP_EQ",se.TOKEN_CMP_SEQUAL="T_CMP_SEQ",se.TOKEN_CMP_GT="T_CMP_GT",se.TOKEN_CMP_GTE="T_CMP_GTE",se.TOKEN_CMP_LT="T_CMP_LT",se.TOKEN_CMP_LTE="T_CMP_LTE",se.TOKEN_CMP_NEQ="T_CMP_NEQ",se.TOKEN_CMP_SNEQ="T_CMP_SNEQ",se.TOKEN_CMP_SPACESHIP="T_CMP_SPSHP",se.TOKEN_OP_VARIABLE_FALLBACK="T_VFBK",se.TOKEN_COND_FALLBACK_GROUP="T_VFBK_GROUP",se.TOKEN_BRANCH_SEPARATOR="T_BRANCH_SEPARATOR",se.TOKEN_TERNARY_SEPARATOR="T_TERNARY_SEPARATOR",se.TOKEN_GROUP_BEGIN="T_LOGIC_BEGIN",se.TOKEN_GROUP_END="T_LOGIC_END",se.TOKEN_MODIFIER_SEPARATOR="T_MODIFIER_SEPARATOR",se.TOKEN_MODIFIER_NAME="T_MODIFIER_NAME",se.TOKEN_MODIFIER_VALUE="T_MODIFIER_VALUE",se.TOKEN_MODIFIER_VALUE_SEPARATOR="T_MODIFIER_VALUE_SEPARATOR",se.TOKEN_NULL_COALESCE_GROUP="T_NULL_COALESCE_GROUP",se.TOKEN_SEMANTIC_GROUP="T_SEMANTIC_GROUP",se.TOKEN_STATEMENT_SEPARATOR="T_STATEMENT_SEPARATOR",se.TOKEN_TERNARY_CONDITION="T_TERNARY_CONDITION",se.TOKEN_OP_AND="T_AND",se.TOKEN_OP_LOGIC_NEGATION="T_LOGIC_INVERSE",se.TOKEN_OP_OR="T_OR",se.TOKEN_OP_XOR="T_XOR",se.TOKEN_OP_NULL_COALESCE="T_NULL_COALESCE",se.TOKEN_PARAM="T_PARAM",se.TOKEN_PATH_ACCESSOR="T_VAR_SEPARATOR",se.TOKEN_ARG_GROUP="T_ARG_GROUP",se.TOKEN_ARG_SEPARATOR="T_ARG_SEPARATOR",se.TOKEN_OP_STRING_CONCAT="T_STR_CONCAT",se.TOKEN_OP_SCOPE_REASSIGNMENT="T_SCOPE_ASSIGNMENT",se.TOKEN_STRUCT_SWITCH_CASE="T_SWITCH_CASE",se.TOKEN_STRUCT_SWITCH_GROUP="T_SWITCH_GROUP",se.TOKEN_STRUCT_DIRECTION_GROUP="T_DIRECTION_GROUP",se.TOKEN_STRUCT_VALUE_DIRECTION="T_ORDER_DIRECTION",se.TOKEN_STRUCT_SCOPED_LOGIC_GROUP="T_SCOPED_LOGIC_GROUP",se.TOKEN_STRUCT_LOGIC_GROUP="T_LOGIC_GROUP",se.TOKEN_STRUCT_ARRAY="T_ARRAY",se.TOKEN_STRUCT_T_LIST_START="T_LIST_START",se.TOKEN_STRUCT_TUPLE_LIST="T_LIST",se.TOKEN_STRUCT_METHOD_CALL="T_METHOD_CALL"});var Bt,Ny=C(()=>{Bt=class{static isLanguageLogicalKeyword(e){return e==this.LogicalAnd||e==this.LogicalNot||e==this.LogicalOr||e==this.LogicalXor}};Bt.LogicalAnd="and",Bt.LogicalNot="not",Bt.LogicalOr="or",Bt.LogicalXor="xor",Bt.ConstTrue="true",Bt.ConstFalse="false",Bt.ConstNull="null",Bt.ArrList="list",Bt.ScopeAs="as"});var xy,bw=C(()=>{Zt();en();vy();He();Bs();Ny();Tr();xy=class{constructor(){this.chars=[];this.inputLen=0;this.currentIndex=0;this.currentContent=[];this.rawContent=[];this.startIndex=0;this.cur=null;this.next=null;this.prev=null;this.isParsingString=!1;this.isParsingModifierName=!1;this.isInModifierParameterValue=!1;this.runtimeNodes=[];this.ignorePrevious=!1;this.lastNode=null;this.referenceParser=null;this.activeNode=null}reset(){this.ignorePrevious=!1,this.runtimeNodes=[],this.chars=[],this.inputLen=0,this.currentIndex=0,this.currentContent=[],this.rawContent=[],this.startIndex=0,this.cur=null,this.next=null,this.prev=null,this.isParsingString=!1,this.isParsingModifierName=!1,this.isInModifierParameterValue=!1,this.referenceParser=null,this.activeNode=null}checkCurrentOffsets(){this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.ignorePrevious?(this.prev="",this.ignorePrevious=!1):this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen&&(this.next=this.chars[this.currentIndex+1])}isValidChar(e){return e==null||e==W.Punctuation_Semicolon?!1:this.isParsingString==!1&&e=="]"?!0:this.isParsingString==!1&&e==")"?!1:(e=="["||e=="]")&&e==this.cur||(e=="_"||e=="."||e=="["||e=="]")&&(!(this.currentContent.length>0)||re.ctypeAlpha(this.cur)||re.ctypeDigit(this.cur))?!0:re.ctypeSpace(e)?!1:this.isParsingModifierName&&(e==W.Punctuation_Minus||e==W.Punctuation_Underscore)?!0:!re.ctypePunct(e)}isRightOfInterpolationRegion(){if(this.activeNode==null||this.referenceParser==null)return!1;let e=this.activeNode._lexerRelativeOffset(this.currentIndex);return this.referenceParser.bordersInterpolationRegion(e)}scanForwardTo(e,n=0){let r=[];for(let i=this.currentIndex+1+n;i<this.inputLen;i++){let s=this.chars[i];if(s==e){r.push(s);break}else r.push(s)}return r}nextNonWhitespace(){for(let e=this.currentIndex+1;e<this.inputLen;e++){let n=this.chars[e];if(!re.ctypeSpace(n))return n}return null}pushError(e){this.referenceParser!=null&&this.referenceParser.addAntlersError(e)}guardAgainstNeighboringTypesInModifier(e){return this.lastNode instanceof Kn&&this.pushError($.makeSyntaxError(R.TYPE_MODIFIER_INCORRECT_VALUE_POSITION,this.lastNode,"Incorrect type ["+se.getPrettyTypeName(e)+"] near ["+se.getPrettyTypeName(this.lastNode)+"]")),!1}appendContent(e){e!=null&&this.currentContent.push(e)}tokenize(e,n){this.reset(),this.referenceParser=e.getParser(),this.activeNode=e,this.chars=n.split(""),this.inputLen=this.chars.length,this.runtimeNodes=[],this.lastNode=null;let r=null;this.isParsingString=!1,this.isParsingModifierName=!1;let i=null;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){this.checkCurrentOffsets();let a=!0;if(this.cur!=null&&this.rawContent.push(this.cur),this.isParsingString==!1&&(this.cur==W.String_Terminator_DoubleQuote||this.cur==W.String_Terminator_SingleQuote)){if(this.prev==W.String_EscapeCharacter){this.pushError($.makeSyntaxError(R.TYPE_ILLEGAL_STRING_ESCAPE_SEQUENCE,e,"Illegal string escape sequence outside string parsing."));continue}this.rawContent=[],this.rawContent.push(this.cur),i=this.cur,this.isParsingString=!0,r=this.currentIndex;continue}if(this.isInModifierParameterValue&&!this.isParsingString){let l=!1;if(!this.isParsingString&&re.ctypeSpace(this.next)){let c=this.scanForwardTo(" ",1).join("").trim().toLowerCase();c.length>0&&Bt.isLanguageLogicalKeyword(c)&&(l=!0)}if(this.next==W.String_Terminator_SingleQuote||this.next==W.String_Terminator_DoubleQuote||this.next==null||l){this.appendContent(this.cur);let c=this.currentContent.join("");if(c.length>0){let f=c;if(this.currentContent=[],this.rawContent=[],f.trimRight().length==0){let m=this.nextNonWhitespace();if(m==W.String_Terminator_SingleQuote||m==W.String_Terminator_DoubleQuote){this.currentContent=[],this.rawContent=[];continue}}let d=new Kn;d.isVirtual=!1,d.name=f,d.value=f.trimRight(),d.startPosition=e._lexerRelativeOffset(this.currentIndex-f.length),d.endPosition=e._lexerRelativeOffset(this.currentIndex),d.parent=this.activeNode,this.guardAgainstNeighboringTypesInModifier(d),this.runtimeNodes.push(d),this.lastNode=d}if(c.length==0)continue;this.currentContent=[],this.rawContent=[],this.isInModifierParameterValue=!1;continue}if(this.next==W.Punctuation_Pipe||this.next==W.Punctuation_Colon||this.next==W.RightParent){this.isInModifierParameterValue=!1,this.appendContent(this.cur);let c=0,f=!1;if(this.currentContent[0]==W.String_Terminator_SingleQuote||this.currentContent[0]==W.String_Terminator_DoubleQuote){let _=this.scanForwardTo(this.currentContent[0]);_.length>0&&(this.currentContent=this.currentContent.concat(_),c=_.length,f=!0)}let d=this.currentContent.join("");f&&(d=d.substr(1),d=d.slice(0,-1)),this.currentContent=[],this.rawContent=[];let m=new Kn;m.isVirtual=!1,m.name=d,m.value=d,m.startPosition=e._lexerRelativeOffset(this.currentIndex-d.length),m.endPosition=e._lexerRelativeOffset(this.currentIndex),m.parent=this.activeNode,this.runtimeNodes.push(m),this.guardAgainstNeighboringTypesInModifier(m),this.lastNode=m,this.currentIndex+=c}else this.appendContent(this.cur);continue}if(this.isParsingString&&this.cur==i){if(this.prev==W.String_EscapeCharacter)this.appendContent(i);else{if(this.isInModifierParameterValue){let c=this.currentContent.join(""),f=new Kn;f.isVirtual=!1,f.name=c,f.value=c,f.startPosition=e._lexerRelativeOffset(r!=null?r:0),f.endPosition=e._lexerRelativeOffset(this.currentIndex),f.parent=this.activeNode,this.runtimeNodes.push(f),this.guardAgainstNeighboringTypesInModifier(f),this.lastNode=f,this.currentContent=[],this.rawContent=[],this.isParsingString=!1,this.isInModifierParameterValue=!1;continue}let l=new Tn;l.isVirtual=!1,l.startPosition=e._lexerRelativeOffset(r!=null?r:0),l.endPosition=e._lexerRelativeOffset(this.currentIndex),this.referenceParser!=null&&(l.sourceContent=this.referenceParser.getText(l.startPosition.index,l.endPosition.index+1)),l.parent=this.activeNode,i!=null&&(l.sourceTerminator=i),i=null,this.isParsingString=!1,l.value=this.currentContent.join(""),l.rawLexContent=this.rawContent.join("").trim(),this.currentContent=[],this.rawContent=[],this.guardAgainstNeighboringTypesInModifier(l),this.runtimeNodes.push(l),this.lastNode=l}continue}if(this.isParsingString&&this.cur==W.String_EscapeCharacter){if(this.next==W.String_EscapeCharacter){this.appendContent(W.String_EscapeCharacter),this.ignorePrevious=!0,this.currentIndex+=1;continue}else if(this.next==W.String_Terminator_SingleQuote){this.appendContent(W.String_Terminator_SingleQuote),this.currentIndex+=1;continue}else if(this.next==W.String_Terminator_DoubleQuote){this.appendContent(W.String_Terminator_DoubleQuote),this.currentIndex+=1;continue}else if(this.next=="n"){this.appendContent(`
`),this.currentIndex+=1;continue}else if(this.next=="t"){this.appendContent("	"),this.currentIndex+=1;continue}else if(this.next=="r"){this.appendContent("\r"),this.currentIndex+=1;continue}}if(this.isParsingString==!1){if(this.isValidChar(this.cur)&&this.isValidChar(this.next)==!1&&this.currentContent.length==0&&(this.appendContent(this.cur),a=!1),(this.next==null||this.isValidChar(this.next)==!1)&&this.currentContent.length>0){a&&this.appendContent(this.cur);let l=this.currentContent.join("").trim(),c=l.length,f=this.currentIndex-c,d=e._lexerRelativeOffset(f),m=e._lexerRelativeOffset(this.currentIndex);if(this.currentContent=[],this.rawContent=[],l==Bt.LogicalAnd){let g=new Ui;g.isVirtual=!1,g.content=Bt.LogicalAnd,g.startPosition=d,g.endPosition=m,g.parent=this.activeNode,this.runtimeNodes.push(g),this.lastNode=g;continue}else if(l==Bt.LogicalOr){let g=new Ss;g.isVirtual=!1,g.content=Bt.LogicalOr,g.startPosition=d,g.endPosition=m,g.parent=this.activeNode,this.runtimeNodes.push(g),this.lastNode=g;continue}else if(l==Bt.LogicalXor){let g=new $s;g.isVirtual=!1,g.content=Bt.LogicalXor,g.startPosition=d,g.endPosition=m,g.parent=this.activeNode,this.runtimeNodes.push(g),this.lastNode=g;continue}else if(l==Bt.ConstNull){let g=new Bi;g.isVirtual=!1,g.content=Bt.ConstNull,g.startPosition=d,g.endPosition=m,g.parent=this.activeNode,this.runtimeNodes.push(g),this.lastNode=g;continue}else if(l==Bt.ConstTrue){let g=new ps;g.isVirtual=!1,g.content=Bt.ConstTrue,g.startPosition=d,g.endPosition=m,g.parent=this.activeNode,this.runtimeNodes.push(g),this.lastNode=g;continue}else if(l==Bt.ConstFalse){let g=new fs;g.isVirtual=!1,g.content=Bt.ConstFalse,g.startPosition=d,g.endPosition=m,g.parent=this.activeNode,this.runtimeNodes.push(g),this.lastNode=g;continue}else if(l==Bt.LogicalNot){let g=new pr;g.isVirtual=!1,g.content=Bt.LogicalNot,g.startPosition=d,g.endPosition=m,g.parent=this.activeNode,this.runtimeNodes.push(g),this.lastNode=g;continue}else if(l==Bt.ArrList&&this.next==W.LeftParen){let g=new Ps;g.isVirtual=!1,g.content=Bt.ArrList,g.startPosition=d,g.endPosition=m,g.parent=this.activeNode,this.runtimeNodes.push(g),this.lastNode=g;continue}if(re.isNumeric(l)){let g=new Ln;g.isVirtual=!1,g.startPosition=d,g.endPosition=m,g.parent=this.activeNode,l.includes(".")?g.value=parseFloat(l):g.value=parseInt(l),g.rawLexContent=l,this.guardAgainstNeighboringTypesInModifier(g),this.runtimeNodes.push(g),this.lastNode=g;continue}if(this.runtimeNodes.length>0){let g=this.runtimeNodes[this.runtimeNodes.length-1];if(g instanceof Or){let T=new Yn;T.isVirtual=!1,T.name=l,T.content=l,T.startPosition=d,T.endPosition=m,T.parent=this.activeNode,this.runtimeNodes.push(T),this.lastNode=T;continue}else if(g instanceof Lr){let T=new Kn;T.isVirtual=!1,T.name=l,T.value=l,T.startPosition=d,T.endPosition=m,T.parent=this.activeNode,this.runtimeNodes.push(T),this.lastNode=T,this.isParsingModifierName=!1;continue}}let _=new Ae;_.isVirtual=!1,_.name=l,_.startPosition=d,_.endPosition=m,_.parent=this.activeNode,this.runtimeNodes.push(_),this.lastNode=_;continue}}else{this.appendContent(this.cur);continue}if(!re.ctypeSpace(this.cur)){if(this.isParsingString==!1){if(this.cur==W.Punctuation_Equals&&this.next==W.Punctuation_GreaterThan){let l=new Dr;l.isVirtual=!1,l.content="=>",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentContent=[],this.rawContent=[],this.currentIndex+=1;continue}if(this.cur==W.Punctuation_Comma){let l=new An;l.isVirtual=!1,l.content=W.Punctuation_Comma,l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==W.Punctuation_Semicolon){let l=new fr;l.isVirtual=!1,l.content=W.Punctuation_Semicolon,l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==W.Punctuation_Plus){if(this.next==W.Punctuation_Equals){let c=new ds;c.isVirtual=!1,c.content="+=",c.startPosition=e._lexerRelativeOffset(this.currentIndex),c.endPosition=e._lexerRelativeOffset(this.currentIndex+2),c.parent=this.activeNode,this.runtimeNodes.push(c),this.lastNode=c,this.currentIndex+=1;continue}let l=new pi;l.isVirtual=!1,l.content="+",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.isParsingModifierName==!1&&this.cur==W.Punctuation_Minus){if(re.ctypeDigit(this.next)&&re.ctypeDigit(this.prev)==!1&&this.prev!=W.RightParent&&this.isRightOfInterpolationRegion()==!1){this.appendContent(this.cur);continue}if(this.next==W.Punctuation_Equals){let c=new Ks;c.isVirtual=!1,c.content="-=",c.startPosition=e._lexerRelativeOffset(this.currentIndex),c.endPosition=e._lexerRelativeOffset(this.currentIndex+2),c.parent=this.activeNode,this.runtimeNodes.push(c),this.lastNode=c,this.currentIndex+=1;continue}else if(this.next==W.Punctuation_GreaterThan){let c=new Zn;c.isVirtual=!1,c.content="->",c.startPosition=e._lexerRelativeOffset(this.currentIndex),c.endPosition=e._lexerRelativeOffset(this.currentIndex+2),c.parent=this.activeNode,this.runtimeNodes.push(c),this.lastNode=c,this.currentIndex+=1;continue}let l=new kr;l.isVirtual=!1,l.content="-",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==W.Punctuation_Asterisk){if(this.next==W.Punctuation_Asterisk){let c=new Ws;c.isVirtual=!1,c.content="**",c.startPosition=e._lexerRelativeOffset(this.currentIndex),c.endPosition=e._lexerRelativeOffset(this.currentIndex+2),c.parent=this.activeNode,this.runtimeNodes.push(c),this.lastNode=c,this.currentIndex+=1;continue}else if(this.next==W.Punctuation_Equals){let c=new gs;c.isVirtual=!1,c.content="*=",c.startPosition=e._lexerRelativeOffset(this.currentIndex),c.endPosition=e._lexerRelativeOffset(this.currentIndex+2),c.parent=this.activeNode,this.runtimeNodes.push(c),this.lastNode=c,this.currentIndex+=1;continue}let l=new hi;l.isVirtual=!1,l.content="*",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==W.Punctuation_ForwardSlash){if(this.next==W.Punctuation_Equals){let c=new hs;c.isVirtual=!1,c.content="/=",c.startPosition=e._lexerRelativeOffset(this.currentIndex),c.endPosition=e._lexerRelativeOffset(this.currentIndex+2),c.parent=this.activeNode,this.runtimeNodes.push(c),this.lastNode=c,this.currentIndex+=1;continue}let l=new di;l.isVirtual=!1,l.content="/",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==W.Punctuation_Percent){if(this.next==W.Punctuation_Equals){let c=new ms;c.isVirtual=!1,c.content="%=",c.startPosition=e._lexerRelativeOffset(this.currentIndex),c.endPosition=e._lexerRelativeOffset(this.currentIndex+2),c.parent=this.activeNode,this.runtimeNodes.push(c),this.lastNode=c,this.currentIndex+=1;continue}let l=new Ys;l.isVirtual=!1,l.content="%",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==W.Punctuation_LessThan){if(this.next==W.Punctuation_Equals){let c=null;if(this.currentIndex+2<this.inputLen&&(c=this.chars[this.currentIndex+2]),c==W.Punctuation_GreaterThan){let d=new vs;d.isVirtual=!1,d.content="<=>",d.startPosition=e._lexerRelativeOffset(this.currentIndex),d.endPosition=e._lexerRelativeOffset(this.currentIndex+3),d.parent=this.activeNode,this.runtimeNodes.push(d),this.lastNode=d,this.currentIndex+=2;continue}let f=new Ts;f.isVirtual=!1,f.content="<=",f.startPosition=e._lexerRelativeOffset(this.currentIndex),f.endPosition=e._lexerRelativeOffset(this.currentIndex+2),f.parent=this.activeNode,this.runtimeNodes.push(f),this.lastNode=f,this.currentIndex+=1;continue}let l=new _s;l.isVirtual=!1,l.content="<",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==W.Punctuation_GreaterThan){if(this.next==W.Punctuation_Equals){let c=new qi;c.isVirtual=!1,c.content=">=",c.startPosition=e._lexerRelativeOffset(this.currentIndex),c.endPosition=e._lexerRelativeOffset(this.currentIndex+2),c.parent=this.activeNode,this.runtimeNodes.push(c),this.lastNode=c,this.currentIndex+=1;continue}let l=new qi;l.isVirtual=!1,l.content=">",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==W.Punctuation_Equals&&this.next!=W.Punctuation_Equals){let l=new mi;l.isVirtual=!1,l.content="=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==W.Punctuation_Equals&&this.next==W.Punctuation_Equals){let l=null;if(this.currentIndex+2<this.inputLen&&(l=this.chars[this.currentIndex+2]),l==W.Punctuation_Equals){let c=new Ns;c.isVirtual=!1,c.content="===",c.startPosition=e._lexerRelativeOffset(this.currentIndex),c.endPosition=e._lexerRelativeOffset(this.currentIndex+3),c.parent=this.activeNode,this.runtimeNodes.push(c),this.lastNode=c,this.currentIndex+=2}else{let c=new wr;c.isVirtual=!1,c.content="==",c.startPosition=e._lexerRelativeOffset(this.currentIndex),c.endPosition=e._lexerRelativeOffset(this.currentIndex+2),c.parent=this.activeNode,this.runtimeNodes.push(c),this.lastNode=c,this.currentIndex+=1}continue}if(this.cur==W.Punctuation_Ampersand){if(this.next==W.Punctuation_Ampersand){let c=new Ui;c.isVirtual=!1,c.content="&&",c.startPosition=e._lexerRelativeOffset(this.currentIndex),c.endPosition=e._lexerRelativeOffset(this.currentIndex+2),c.parent=this.activeNode,this.runtimeNodes.push(c),this.lastNode=c,this.currentIndex+=1;continue}if(this.next==W.Punctuation_Equals){let c=new zs;c.isVirtual=!1,c.content="&=",c.startPosition=e._lexerRelativeOffset(this.currentIndex),c.endPosition=e._lexerRelativeOffset(this.currentIndex+1),c.parent=this.activeNode,this.runtimeNodes.push(c),this.lastNode=c;continue}let l=new Ui;l.isVirtual=!1,l.content="&",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==W.Punctuation_Pipe&&this.next!=W.Punctuation_Pipe){let l=new Or;l.isVirtual=!1,l.content="|",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.isParsingModifierName=!0;continue}if(this.cur==W.Punctuation_Pipe&&this.next==W.Punctuation_Pipe){let l=new Ss;l.isVirtual=!1,l.content="||",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}if(this.cur==W.Punctuation_Exclamation){if(this.next==W.Punctuation_Equals){let c=null;if(this.currentIndex+2<this.inputLen&&(c=this.chars[this.currentIndex+2]),c==W.Punctuation_Equals){let d=new bs;d.isVirtual=!1,d.content="!==",d.startPosition=e._lexerRelativeOffset(this.currentIndex),d.endPosition=e._lexerRelativeOffset(this.currentIndex+3),d.parent=this.activeNode,this.runtimeNodes.push(d),this.lastNode=d,this.currentIndex+=2;continue}let f=new ys;f.isVirtual=!1,f.content="!=",f.startPosition=e._lexerRelativeOffset(this.currentIndex),f.endPosition=e._lexerRelativeOffset(this.currentIndex+2),f.parent=this.activeNode,this.runtimeNodes.push(f),this.lastNode=f,this.currentIndex+=1;continue}let l=new pr;l.isVirtual=!1,l.content="!",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==W.Punctuation_Question&&this.next==W.Punctuation_Equals){let l=new ba;l.isVirtual=!1,l.content="?=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}if(this.cur==W.Punctuation_Question&&this.next==W.Punctuation_Question){let l=new ji;l.isVirtual=!1,l.content="??",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}if(this.cur==W.Punctuation_Question&&this.next==W.Punctuation_Colon){let l=new ji;l.isVirtual=!1,l.content="?:",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}if(this.cur==W.Punctuation_Question){let l=new Es;l.isVirtual=!1,l.content="?",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==W.LeftParen){let l=new Jn;l.isVirtual=!1,l.content="(",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==W.RightParent){let l=new Wn;l.isVirtual=!1,l.content=")",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==W.Punctuation_Colon){if(this.runtimeNodes.length>0&&this.runtimeNodes[this.runtimeNodes.length-1]instanceof Yn){let f=new Lr;f.isVirtual=!1,f.content=":",f.startPosition=e._lexerRelativeOffset(this.currentIndex),f.endPosition=e._lexerRelativeOffset(this.currentIndex+1),f.parent=this.activeNode,this.runtimeNodes.push(f),this.isInModifierParameterValue==!1?this.isInModifierParameterValue=!0:this.isInModifierParameterValue=!1;continue}let l=new Sn;l.isVirtual=!1,l.content=":",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.isParsingModifierName=!1;continue}}a&&this.appendContent(this.cur)}}let s=this.runtimeNodes.length-1;for(let a=0;a<this.runtimeNodes.length;a++){let l=null,c=null;a>0&&(l=this.runtimeNodes[a-1]),a!=s&&(c=this.runtimeNodes[a+1]);let f=this.runtimeNodes[a];f.prev=l,f.next=c}return this.runtimeNodes}}});var Bn,ka,Ey=C(()=>{Zt();en();He();Tr();Bs();Bn=class{constructor(){this.chars=[];this.currentIndex=0;this.lastIndex=0;this.inputLength=0;this.prev=null;this.cur=null;this.next=null;this.isParsingString=!1;this.isStringKeyPath=!1;this.antlersErrors=[];this._recusriveEntryCheck=new Map}isValidChar(e){return!(this.isParsingString==!1&&re.ctypeSpace(e)||this.isParsingString==!1&&e==Bn.LeftBracket||this.isParsingString==!1&&e==Bn.RightBracket)}normalizePath(e){return e=e.replace(":","_"),e=e.replace(".","_"),e=e.replace("[","_"),e=e.replace("]","_"),e.replace("]","_")}getAntlersErrors(){return this.antlersErrors}mergeErrors(e){e.forEach(n=>{this.antlersErrors.push(n)})}parse(e){this.antlersErrors=[],this._recusriveEntryCheck.clear();let n=e,r=!1,i=!1,s=!1,a=!1;e.startsWith(W.AtChar)&&(s=!0,e=e.substr(1)),e.startsWith(W.Punctuation_Caret)?(a=!0,e=e.substr(1)):(e.startsWith(W.Punctuation_Dollar)&&(r=!0,e=e.substr(1)),e.startsWith(W.Punctuation_Dollar)&&(i=!0,e=e.substr(1))),this.chars=[],this.currentIndex=0,this.lastIndex=0,this.inputLength=0,this.cur=null,this.prev=null,this.next=null,this.chars=e.split(""),this.inputLength=this.chars.length,this.lastIndex=this.inputLength-1;let l=[],c=!1,f=[],d=Bn.ColonSeparator,m=!1,_=null,g=!1,T=!0;if(this.isParsingString=!1,this.inputLength==0){let b=new Qs;return b._isFromEmptyFailState=!0,b}for(this.currentIndex;this.currentIndex<this.inputLength;this.currentIndex+=1){if(this.cur=this.chars[this.currentIndex],this.next=null,m?(m=!1,this.prev=""):this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLength&&(this.next=this.chars[this.currentIndex+1]),this.isParsingString==!1&&this.cur==Bn.ColonSeparator&&(d=Bn.ColonSeparator),this.isParsingString==!1&&this.cur==Bn.DotPathSeparator&&(d=Bn.DotPathSeparator),this.isParsingString&&this.cur==W.String_EscapeCharacter&&this.next==_){_!=null&&l.push(_),this.currentIndex+=1;continue}if(this.cur==W.String_Terminator_SingleQuote||this.cur==W.String_Terminator_DoubleQuote)if(this.isParsingString)if(this.cur==_)if(this.prev==W.String_EscapeCharacter){l.push(this.cur);continue}else this.isParsingString=!1,T=!1;else{l.push(this.cur);continue}else{this.prev!=W.LeftBracket&&(re.ctypeAlpha(this.prev)||re.ctypeDigit(this.prev))&&this.antlersErrors.push($.makeSyntaxError(R.PATH_STRING_NOT_INSIDE_ARRAY_ACCESSOR,null,"Unexpected string start while parsing variable path. String literals must be within array accessors.")),this.isParsingString=!0,g=!0,_=this.cur,this.isStringKeyPath=!0;continue}if(this.isParsingString){if(re.ctypeSpace(this.cur)){l.push(this.cur);continue}else if(this.cur==W.String_EscapeCharacter){if(this.next==W.String_EscapeCharacter){l.push(W.String_EscapeCharacter),this.currentIndex+=1,m=!0;continue}else if(this.next=="n"){l.push(`
`),this.currentIndex+=1;continue}else if(this.next=="t"){l.push("	"),this.currentIndex+=1;continue}else if(this.next=="r"){l.push("\r"),this.currentIndex+=1;continue}}}if(this.isParsingString==!1&&this.cur==Bn.LeftBracket){if(l.length>0){let v=new yr;v.name=l.join(""),v.delimiter=d,f.push(v),l=[]}if(this.next==null||re.ctypeSpace(this.next)){this.antlersErrors.push($.makeSyntaxError(R.TYPE_ILLEGAL_VARPATH_SPACE_RIGHT,null,"Unexpected end of input or whitespace while parsing variable accessor path."));continue}let b=this.locateEndOfAccessor();this.currentIndex=b.foundOn;let x=new Bn;if(f.push(x.parse(b.nestedContent)),this.mergeErrors(x.getAntlersErrors()),c=!0,this.currentIndex==-1){this.antlersErrors.push($.makeSyntaxError(R.PARSER_CANNOT_PARSE_PATH_RECURSIVE,null,"Cannot parse variable path.")),c=!1;break}continue}if(this.isParsingString==!1&&this.next==Bn.RightBracket&&c){T?l.push(this.cur):T=!0;let b=new Bg;b.name=l.join(""),f.push(b),l=[],d=Bn.ColonSeparator,this.currentIndex+=1,c=!1;continue}if(this.isParsingString==!1&&(this.cur==Bn.LeftBracket||this.cur==Bn.ColonSeparator||this.cur==Bn.DotPathSeparator||this.currentIndex==this.lastIndex)){if(this.next==null||re.ctypeSpace(this.next)){if(this.cur==Bn.ColonSeparator){if(l.length==0){this.antlersErrors.push($.makeSyntaxError(R.TYPE_UNEXPECTED_BRANCH_SEPARATOR,null,"Unexpected [T_BRANCH_SEPARATOR] while parsing input text."));continue}this.antlersErrors.push($.makeSyntaxError(R.TYPE_ILLEGAL_VARPATH_RIGHT,null,'Variable paths cannot end with the ":" character.'));continue}if(this.cur==Bn.LeftBracket){this.antlersErrors.push($.makeSyntaxError(R.TYPE_ILLEGAL_VARPATH_SUBPATH_START,null,"Illegal variable sub-path start."));continue}}this.currentIndex==this.lastIndex&&this.isValidChar(this.cur)&&(T?l.push(this.cur):T=!0);let b=new yr;b.delimiter=d,b.name=l.join(""),g&&(b.isStringVar=g,b.name=n.substr(1),b.name=b.name.slice(0,-1),g=!1),f.push(b),l=[];continue}else{l.push(this.cur);continue}}let N=f.length;if(N>0){let b=f[N-1];(b instanceof yr||b instanceof Qs)&&(b.isFinal=!0)}let A=new Qs;return A.isStrictTagReference=a,A.isStrictVariableReference=r,A.isExplicitVariableReference=i,A.pathParts=f,A.originalContent=e,A.isVariableVariable=s,A.normalizedReference=e.replace(":","."),A}locateEndOfAccessor(){let e=[],n=1,r=-1,i="",s=!1,a=null;if(this._recusriveEntryCheck.has(this.currentIndex+1)==!1)this._recusriveEntryCheck.set(this.currentIndex+1,!0);else return{foundOn:r,nestedContent:""};for(let l=this.currentIndex+1;l<this.inputLength;l++){let c=this.chars[l],f=null,d=null;if(l>0&&(d=this.chars[l-1]),l+1<this.inputLength&&(f=this.chars[l+1]),s==!1&&(c==W.String_Terminator_SingleQuote||c==W.String_Terminator_DoubleQuote)){s=!0,a=c,e.push(c);continue}if(s==!1&&c==Bn.LeftBracket){n+=1,e.push(c);continue}if(s&&c==a&&d!=W.String_EscapeCharacter){e.push(c),s=!1,a=null;continue}if(s==!1&&c==Bn.RightBracket)if(n-=1,n==0){r=l,i=e.join("");break}else{e.push(c);continue}else e.push(c);s==!1&&re.ctypeSpace(f)&&this.antlersErrors.push($.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR,null,"Unexpected end of input or whitespace while parsing inner variable accessor path.")),f==null&&this.antlersErrors.push($.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR,null,"Unexpected end of input or whitespace while parsing inner variable accessor path."))}return{foundOn:r,nestedContent:i}}},ka=Bn;ka.ColonSeparator=":",ka.LeftBracket="[",ka.RightBracket="]",ka.DotPathSeparator="."});var Sy,vw=C(()=>{Xa();Tw();yw();Zt();en();bw();He();df();Tr();Bs();Ey();Sy=class{constructor(){this.chars=[];this.inputLen=0;this.currentIndex=0;this.cur=null;this.prev=null;this.pathParser=new ka;this.lexer=new xy;this.activeNode=null}reset(){this.chars=[],this.inputLen=0,this.currentIndex=0,this.cur=null,this.prev=null}canBeClosingTag(e){var r;let n=(r=e.name)==null?void 0:r.name;return n=="elseif"||n=="else"?!0:e.name==null?!1:e.name.content.startsWith("/")}parseNode(e){var d,m,_,g;if(this.activeNode=e,this.reset(),e.content.startsWith("*subrecursive")){let T=e.content;T=T.trim(),T=re.trimRight(T,"*"),T=T.substr(13);let N=new Vi;return e.copyBasicDetailsTo(N),N.originalNode=e,N.name=new Xr,N.name.name=T,N.isNestedRecursive=!0,N.pathReference=this.pathParser.parse(T),N.mergeErrors(this.pathParser.getAntlersErrors()),N.content=T,N.runtimeContent=T,N}if(e.content.trim().startsWith("*recursive")){let T=e.content;T=T.trim(),T=re.trimRight(T,"*"),T=T.substr(10).trim();let N=new Vi;return e.copyBasicDetailsTo(N),N.originalNode=e,N.name=new Xr,N.name.name=T,N.pathReference=this.pathParser.parse(T),N.mergeErrors(this.pathParser.getAntlersErrors()),N.content=T,N.runtimeContent=T,N}this.chars=e.content.split(""),this.inputLen=this.chars.length;let n=[],r=!1,i="",s=!1,a=null;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1)if(this.cur=this.chars[this.currentIndex],this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),r==!1){if(s==!1&&(this.cur==W.String_Terminator_DoubleQuote||this.cur==W.String_Terminator_SingleQuote)){a=this.cur,s=!0,n.push(this.cur);continue}if(s&&re.ctypeSpace(this.cur)){n.push(this.cur);continue}if(s&&this.cur==a&&this.prev!=W.String_EscapeCharacter){a=null,s=!1,n.push(this.cur);continue}if(re.ctypeSpace(this.cur)||this.currentIndex==this.inputLen-1||this.cur==W.Punctuation_Pipe){if(n.length==0)continue;re.ctypeSpace(this.cur)||this.cur!=W.Punctuation_Pipe&&n.push(this.cur),i=n.join(""),r=!0;break}n.push(this.cur)}let l=e.getContentRelativeStartIndex();if(e.nameStartsOn=e.relativeOffset(l,l),e.nameStartsOn!=null&&(e.nameEndsOn=e.nameStartsOn.shiftRight(i.length-1),i.includes(W.Punctuation_Colon))){let T=i.indexOf(W.Punctuation_Colon);e.nameMethodPartStartsOn=e.nameStartsOn.shiftRight(T+1)}e.name=by.getIdentifier(i),yy.analyzeNode(e),e.parameters=this.getParameters(e),e.hasParameters=e.parameters.length>0,e.hasParameters&&(yy.analyzeParametersForModifiers(e),e.resetContentCache()),e.pathReference=this.pathParser.parse(i),e.mergeErrors(this.pathParser.getAntlersErrors()),e.pathReference!=null&&e.pathReference.isStrictTagReference&&(e.name.name=e.name.name.substr(1),e.name.content=e.name.content.substr(1)),e.isClosingTag=this.canBeClosingTag(e);let c=[];e.isClosingTag==!1&&(c=this.lexer.tokenize(e,e.getContent())),e.runtimeNodes=c;let f=e.content.trim();if(Xn.isConditionalStructure(e)&&e.name.name!="else"&&c.length==0&&f!="/if"&&f!="/unless"&&f!="/endunless"&&f!="endif"&&f!="endunless"&&f!="/endif"&&e.getContent().trim().length==0&&this.pushConditionWithoutExpression(e),e.name.name=="endif"){let T=e.copyBasicDetails(),N=e.getParser();return N!=null&&T.withParser(N),T.name=new Xr,T.name.name="if",T.name.compound="if",T.isClosingTag=!0,T.content=" /if ",T.originalNode=e,T}if(e.name.name=="unless"){let T=e.copyBasicDetails(),N=e.getParser();if(N!=null&&T.withParser(N),T.name=new Xr,T.name.name="if",T.name.compound="if",e.isClosingTag==!1){let A=(d=e.getContent())!=null?d:"",b=" if !("+A+") ";T.content=b,T.originalNode=e,T.resetContentCache(),T.runtimeNodes=this.lexer.tokenize(T,(m=T.getContent())!=null?m:""),this.testUnlessContent(T)}else T.originalNode=e,T.content=" /if ";return T}else if(e.name.name=="elseunless"){let T=e.copyBasicDetails(),N=e.getParser();N!=null&&T.withParser(N),T.name=new Xr,T.name.name="elseif",T.name.compound="elseif";let A=(_=e.getContent())!=null?_:"",b=" elseif !("+A+") ";return T.content=b,T.originalNode=e,T.resetContentCache(),T.runtimeNodes=this.lexer.tokenize(T,(g=T.getContent())!=null?g:""),this.testUnlessContent(T),T}else if(e.name.name=="endunless"){let T=e.copyBasicDetails(),N=e.getParser();return N!=null&&T.withParser(N),T.name=new Xr,T.name.name="if",T.name.compound="if",T.isClosingTag=!0,T.content=" /if ",T.originalNode=e,T}return e}pushError(e){this.activeNode!=null&&this.activeNode.pushError(e)}testUnlessContent(e){var r;let n=(r=e.getContent())!=null?r:"";if(n=n.replace("!",""),n=n.replace("(",""),n=n.replace(")","").trim(),n.length==0){this.pushConditionWithoutExpression(e);return}}pushConditionWithoutExpression(e){this.pushError($.makeSyntaxError(R.TYPE_PARSE_EMPTY_CONDITIONAL,e,"Condition structure lacks comparison expression."))}getParameters(e){var X,Y,te,ue,de,ie,pe,rt,Te;let n=(X=e.getContent())!=null?X:"",r=n.split(""),i=[],s=[],a=r.length,l=0;if(e.name!=null){let le=re.trimLeft(e.content," "),dt=e.content.length-le.length,At=e.name.content.length;dt>0?l=dt+At:l=At}let c=!1,f=[],d="",m=0,_=0,g=!1,T=null,N=-1,A=-1,b=-1,x=-1,v=-1,I=-1,O='"';for(let le=0;le<a;le++){let dt=r[le],At=null,vn=null;if(le+1<a&&(vn=r[le+1]),g?(At="",g=!1):le>0&&(At=r[le-1]),c==!1&&re.ctypeSpace(dt)){f=[],N=-1,A=-1,b=-1,x=-1,v=-1,I=-1;continue}if(c==!1&&dt==W.Punctuation_Equals){if(f.length>0&&(re.ctypeAlpha(f[0])||re.ctypeDigit(f[0])||f[0]==W.Punctuation_Colon||f[0]==W.AtChar)==!1){f=[];continue}if(le+1>=a){this.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_END_OF_INPUT,e,"Unexpected end of input"));continue}let ze=null;if(le+1<a&&(ze=r[le+1]),At==W.Punctuation_Equals){f=[],N=-1,A=-1,b=-1,x=-1,v=-1,I=-1;continue}if(re.ctypeSpace(ze)||ze==W.Punctuation_Equals){f=[],N=-1,A=-1,b=-1,x=-1,v=-1,I=-1;continue}f.length>0&&(x=le,v=le,d=f.join(""),m=_,c=!0,f=[]),vn==W.String_Terminator_DoubleQuote&&(T=W.String_Terminator_DoubleQuote,O=W.String_Terminator_DoubleQuote,le+=1),vn==W.String_Terminator_SingleQuote&&(T=W.String_Terminator_SingleQuote,O=W.String_Terminator_SingleQuote,le+=1);continue}if(c&&dt==W.String_EscapeCharacter){let ze=null;if(le+1<a&&(ze=r[le+1]),ze==W.String_EscapeCharacter){f.push(W.String_EscapeCharacter),le+=1,g=!0;continue}if(ze==W.String_Terminator_DoubleQuote){f.push(W.String_Terminator_DoubleQuote),le+=1;continue}if(ze==W.String_Terminator_SingleQuote){f.push(W.String_Terminator_SingleQuote),le+=1;continue}if(ze=="n"){f.push(`
`),le+=1;continue}if(ze=="r"){f.push("\r"),le+=1;continue}}if(c==!1&&(T!=null&&dt==T||T==null&&re.ctypeSpace(dt))&&i.push(f.join("")),c&&(T!=null&&dt==T||T==null&&re.ctypeSpace(dt))){let ze=f.join("");I=le,A=le,c=!1,T=null,f=[];let Ht=new Yo;if(d.startsWith(W.Punctuation_Colon)&&(Ht.isVariableReference=!0,d=d.substr(1)),Ht.nameDelimiter=O,Ht.name=d,Ht.value=ze,Ht.startPosition=(Y=e.relativePositionFromOffset(_,m))!=null?Y:null,le+1>a){this.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NODE_PARAMETER,e,"Unexpected end of input while parsing parameter content.")),Ht.parent=e,s.push(Ht),d="";continue}Ht.endPosition=(te=e.relativePositionFromOffset(le+1,le+1))!=null?te:null,Ht.parent=e,Ht.blockPosition={start:(ue=e.relativeOffset(N,N))!=null?ue:null,end:(de=e.relativeOffset(A,A))!=null?de:null},Ht.namePosition={start:(ie=e.relativeOffset(b,b))!=null?ie:null,end:(pe=e.relativeOffset(x,x))!=null?pe:null},Ht.valuePosition={start:(rt=e.relativeOffset(v+2,v+2))!=null?rt:null,end:(Te=e.relativeOffset(I,I))!=null?Te:null},s.push(Ht),d="",N=-1,A=-1,b=-1,x=-1,v=-1,I=-1;continue}if(c==!1&&(dt==W.String_Terminator_DoubleQuote||dt==W.String_Terminator_SingleQuote)&&le>l)break;f.push(dt),N==-1&&(N=le),b==-1&&(b=le),f.length==1&&(_=le+1)}if(T!=null){let le=e;if(i.length>0){let dt=i[i.length-1],At=e.content.indexOf(dt);if(At>=0){let vn=new _e;vn.startPosition=e.relativeOffset(At-2,At-2),vn.endPosition=e.relativeOffset(At+dt.length,At+dt.length),le=vn}}this.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_END_OF_INPUT,le,"Unexpected string literal while parsing parameters."))}return s}}});function hf(t){return t.length==0?null:t[0].startPosition}var Py=C(()=>{});var Nw,Ih,xw=C(()=>{Nw=he(Dp()),Ih=class{static regions(){return this.noParseRegions}static clear(){this.noParseRegions.clear()}static registerNoParseContent(e){let n=Nw.Md5.hashStr(e);return this.noParseRegions.set(n,e),n}};Ih.noParseRegions=new Map});function Iy(t,e){let n=new Set(t),r=new Set(e),i=new Set([...n].filter(s=>r.has(s)));return Array.from(i)}var Ew=C(()=>{});var Cy,Gc,Ay=C(()=>{Ds();Zt();en();He();Py();df();xw();Ew();Xa();Cy=class{constructor(){this.closingTagIndex=new Map;this.closingTagIndexCount=new Map;this.openTagIndexCount=new Map;this.closingTagNames=new Map;this.parentNode=null;this.stackCount=0;this.createdExecutionBranches=[];this.document=null}getClosingCandidates(e){var n,r;if((e instanceof J||e instanceof on)&&e.isClosingTag==!1){let i=(r=(n=e.name)==null?void 0:n.compound)!=null?r:"";return i=="if"?["if","elseif","else"]:i=="elseif"?["elseif","else","if"]:i=="else"?["if"]:[i]}return[]}buildCloseIndex(e){var n,r,i;e.forEach(s=>{var a,l,c,f,d,m,_,g,T,N;if(!(s instanceof Vi)&&!((s instanceof J||s instanceof on)&&s.isSelfClosing)&&(s instanceof J||s instanceof on)&&s.isClosingTag){this.closingTagIndex.has(this.stackCount)==!1&&this.closingTagIndex.set(this.stackCount,new Map),this.closingTagIndexCount.has(this.stackCount)==!1&&this.closingTagIndexCount.set(this.stackCount,new Map);let A=(l=(a=s.name)==null?void 0:a.compound)!=null?l:"";((c=this.closingTagIndex.get(this.stackCount))==null?void 0:c.has(A))==!1&&((f=this.closingTagIndex.get(this.stackCount))==null||f.set(A,[]),(d=this.closingTagIndexCount.get(this.stackCount))==null||d.set(A,0)),(_=(m=this.closingTagIndex.get(this.stackCount))==null?void 0:m.get(A))==null||_.push(s);let b=(T=(g=this.closingTagIndexCount.get(this.stackCount))==null?void 0:g.get(A))!=null?T:0;(N=this.closingTagIndexCount.get(this.stackCount))==null||N.set(A,b+1)}}),this.closingTagNames.has(this.stackCount)==!1&&this.closingTagNames.set(this.stackCount,[]),this.closingTagIndex.has(this.stackCount)&&(this.closingTagNames.set(this.stackCount,Array.from((r=(n=this.closingTagIndex.get(this.stackCount))==null?void 0:n.keys())!=null?r:[])),(i=this.closingTagIndex.get(this.stackCount))==null||i.forEach((s,a)=>{var f,d,m,_,g,T,N;let l=s.length;if(l==0)return;let c=s[l-1];for(let A=0;A<l;A++){let b=e[A];if(b instanceof J||b instanceof on){if(b instanceof Vi)continue;if(b.index>=c.index)break;let x=(d=(f=b.name)==null?void 0:f.compound)!=null?d:"";if(b.isClosingTag==!1&&a==x&&!b.isSelfClosing){this.openTagIndexCount.has(this.stackCount)==!1&&this.openTagIndexCount.set(this.stackCount,new Map),((m=this.openTagIndexCount.get(this.stackCount))==null?void 0:m.has(a))==!1&&((_=this.openTagIndexCount.get(this.stackCount))==null||_.set(a,0));let v=(T=(g=this.openTagIndexCount.get(this.stackCount))==null?void 0:g.get(a))!=null?T:0;(N=this.openTagIndexCount.get(this.stackCount))==null||N.set(a,v+1)}}}}))}getScanForList(e){var n;if(e instanceof J||e instanceof on){let r=(n=e.name)==null?void 0:n.compound;if(r=="else")return["if"];if(r=="elseif")return["elseif","else","if"];if(e.isClosingTag==!1){let i=this.getClosingCandidates(e),s=this.closingTagNames.get(this.stackCount);return Iy(i,s)}}return[]}canPossiblyClose(e){var n,r;if(e instanceof Vi)return!1;if(e instanceof on||e instanceof J){if(e.isComment||e.isSelfClosing)return!1;let i=(r=(n=e.name)==null?void 0:n.compound)!=null?r:"";if(i=="else"||i=="elseif")return!0;if(e.isClosingTag==!1){let s=this.getClosingCandidates(e),a=this.closingTagNames.get(this.stackCount);return Iy(s,a).length>0}}return!1}findClosingPair(e,n,r){var l,c,f,d;let i=n.runtimeNodes.length,s=e.length,a=0;for(let m=0;m<s;m++){let _=e[m];if(_ instanceof J||_ instanceof on)if(n.endPosition!=null&&_.startPosition!=null){if(n.endPosition.isBefore(_.startPosition)){if(_.isClosingTag&&_.isOpenedBy!=null||_.isSelfClosing)continue;let g=(c=(l=_.name)==null?void 0:l.compound)!=null?c:"";if(_.isClosingTag==!1){if(r.includes(g)){let T=(f=this.openTagIndexCount.get(this.stackCount))==null?void 0:f.get(g),N=(d=this.closingTagIndexCount.get(this.stackCount))==null?void 0:d.get(g);T!=N&&_.runtimeNodes.length>=i,a+=1}continue}if(r.includes(g)&&a>0){a-=1;continue}if(a==0&&r.includes(g)){_.isOpenedBy=n,n.isClosedBy=_;break}}}else continue}}associate(e,n){var s,a,l,c,f,d,m;this.document=n;let r=[{documentNodes:e,parent:null}],i=[];for(;r.length>0;){let _=r.pop();if(_==null)continue;let g=_.documentNodes;this.parentNode=_.parent,this.stackCount+=1,this.buildCloseIndex(g),g=Xn.pairConditionals(g),g.forEach(b=>{if((b instanceof J||b instanceof on)&&this.canPossiblyClose(b)){if(Xn.isConditionalStructure(b))return;let x=this.getScanForList(b);this.findClosingPair(g,b,x)}});let T=g.length;for(let b=0;b<T;b++){let x=g[b];if((x instanceof J||x instanceof on)&&x.isClosedBy!=null)for(let v=b+1;v<T;v++){let I=g[v];if(I.index>x.isClosedBy.index)break;if(I.parent=x,x.children.push(I),I instanceof J&&I.index==x.index){I.parent=x;break}}}g.forEach(b=>{if((b instanceof J||b instanceof on)&&b.children.length>0){let x=[];b.children.forEach(v=>{v.parent!=null&&v.parent.index==b.index&&(v.parent=b,x.push(v))}),r.push({documentNodes:x,parent:b})}});let N=[];g.forEach(b=>{this.parentNode==null?b.parent==null&&N.push(b):b.parent==this.parentNode&&N.push(b)}),N=this.reduceConditionals(N,n);let A=new Map;g.forEach(b=>{var x,v,I,O;if((b instanceof J||b instanceof on)&&b.isClosedBy!=null&&this.document!=null){let X=this.document.getText(((v=(x=b.endPosition)==null?void 0:x.index)!=null?v:0)+1,(O=(I=b.isClosedBy.startPosition)==null?void 0:I.index)!=null?O:0);b.runtimeContent=X}});for(let b=0;b<N.length;b++){let x=N[b],v=(s=x.refId)!=null?s:"";if(A.set(v,1),(x instanceof J||x instanceof on)&&x.isComment==!1&&((a=x.name)==null?void 0:a.name)=="noparse"&&!(x instanceof ur)&&x.isClosingTag==!1){if(x.isClosedBy==null){x.pushError($.makeSyntaxError(R.TYPE_NO_PARSE_UNASSOCIATED,x,"Encountered noparse region without a closing tag. All noparse regions must be closed."));continue}let I=x.content;this.document!=null&&(I=this.document.getText(((c=(l=x.endPosition)==null?void 0:l.index)!=null?c:0)+1,(m=(d=(f=x.isClosedBy)==null?void 0:f.startPosition)==null?void 0:d.index)!=null?m:0));let O=new ur,X=x.getParser();X!=null&&O.withParser(X),x.copyBasicDetailsTo(O),O.name=new Xr,O.name.name="noparse",O.name.compound="noparse",O.content=Ih.registerNoParseContent(I),O.originalNode=x,O.isClosedBy=x.isClosedBy,O.parent=x.parent,N[b]=O}}if(this.parentNode!=null&&(this.parentNode instanceof on||this.parentNode instanceof J)&&(this.parentNode.children=this.cleanNodes(N),this.parentNode.parent!=null&&this.parentNode.parent instanceof J)){let b=this.parentNode.parent.children,x=[];b.forEach(v=>{var I;A.has((I=v.refId)!=null?I:"")==!1&&x.push(v)}),this.parentNode.parent.children=this.cleanNodes(x)}this.stackCount<=1&&(i=N)}return this.createdExecutionBranches.length>0&&this.createdExecutionBranches.forEach(_=>{_.head!=null&&(_.nodes=_.head.children)}),i}cleanNodes(e){let n=[],r=[];for(let i=0;i<e.length;i++){let s=e[i],a=s.refId;if(r.includes(a))break;n.push(s),r.push(a)}return n}findEndOfBranch(e,n,r){let i=[],s=r,a=null;for(let l=0;l<e.length;l++){let c=e[l];if((c instanceof J||c instanceof on)&&c.isOpenedBy!=null&&c.isOpenedBy==n){a=c;break}else i.push(c)}return{children:i,tail:a,offset:s}}reduceConditionals(e,n){var i,s,a,l,c,f,d,m,_,g,T,N;let r=[];for(let A=0;A<e.length;A++){let b=e[A];if((b instanceof J||b instanceof on)&&b.isComment==!1&&b.isClosingTag==!1&&b.isClosedBy!=null)if(((s=(i=b.name)==null?void 0:i.compound)!=null?s:"")=="if"){let v=new Mt;v.index=b.index,v.chain.push(b.index),v.fragment=b.fragment,v.fragmentPosition=b.fragmentPosition,v.containsAnyFragments=b.containsAnyFragments,v.containsChildStructures=b.containsChildStructures;let I=(l=(a=b.startPosition)==null?void 0:a.offset)!=null?l:0,O=b.getFinalClosingTag(),X=((f=(c=O.endPosition)==null?void 0:c.offset)!=null?f:0)+1;v.nodeContent=n.getText(I,X),this.parentNode!=null&&(v.parent=this.parentNode);let Y=null,te=!0,ue=0;for(;te;){if(ue+=1,ue>Cy.ForceBreakLimit){te=!1;break}if(b instanceof J||b instanceof on){let de=this.findEndOfBranch(e.slice(A+1),b,A),ie=new Lg,pe=de.tail;ie.head=b,ie.tail=pe,ie.nodes=this.cleanNodes(b.children);let rt=((m=(d=b.endPosition)==null?void 0:d.offset)!=null?m:0)+1,Te=(T=(g=(_=b.isClosedBy)==null?void 0:_.startPosition)==null?void 0:g.offset)!=null?T:0,le=n.getText(rt,Te);if(ie.documentText=le,n.shouldParseChildDocument()&&(ie.childDocument=nn.childFromText(ie.documentText,hf(ie.nodes))),pe==null&&(pe=ie.head.isClosedBy),pe!=null&&pe.startPosition!=null&&(ie.startPosition=pe.startPosition),pe!=null&&(ie.index=pe.index),ie.nodes.length>0){let dt=ie.nodes[ie.nodes.length-1];dt.endPosition!=null&&(ie.endPosition=dt.endPosition)}else pe!=null&&pe.endPosition!=null&&(ie.endPosition=pe.endPosition);if(this.createdExecutionBranches.push(ie),v.logicBranches.push(ie),(pe==null?void 0:pe.isClosingTag)&&((N=pe.name)==null?void 0:N.compound)=="if"){Y=de.offset,te=!1;break}else pe!=null&&v.chain.push(pe.index),A=de.offset,pe instanceof J&&(b=pe)}else te=!1}if(v.logicBranches.length>0){let de=v.logicBranches[0],ie=v.logicBranches[v.logicBranches.length-1];de.startPosition!=null&&(v.startPosition=de.startPosition),ie.endPosition!=null&&(v.endPosition=ie.endPosition)}if(r.push(v),Y!=null&&Y==e.length)break}else r.push(b);else r.push(b)}return r}},Gc=Cy;Gc.ForceBreakLimit=1e5});var Ry,Sw=C(()=>{Zt();en();He();Tr();Ry=class{static associateRecursiveParent(e){var n,r;for(let i=0;i<e.length;i++){let s=e[i];if(s instanceof Vi){let a="*recursive "+((n=s.name)==null?void 0:n.name);if(i-1<0){s.pushError($.makeSyntaxError(R.TYPE_RECURSIVE_NODE_INVALID_POSITION,s,"Unpaired recursive node. All recursive nodes must have a parent node introducing them."));continue}let l=null;for(let c=i-1;c>=0;c-=1){let f=e[c];if(!(f instanceof Et)&&f instanceof J&&f.isClosedBy!=null){if(s.isNestedRecursive){if(f.content.trim()==((r=s.name)==null?void 0:r.name)){l=f;break}}else if(f.runtimeContent.includes(a)&&re.substringCount(s.runtimeContent,"*recursive")==1){l=f;continue}else if(l!=null)break}}if(l==null)continue;s.isNestedRecursive?(l.hasRecursiveNode=!0,s.recursiveParent=l,l.recursiveReference=s):l.parent!=null?l.parent instanceof J&&(l.parent.hasRecursiveNode=!0,l.parent.recursiveReference=s,s.recursiveParent=l.parent):(l.hasRecursiveNode=!0,s.recursiveParent=l,l.recursiveReference=s)}}}}});var Hc,Pw=C(()=>{He();Hc=class{static getNearText(e){var r,i,s,a;if(e instanceof Ae)return e.name;if(e instanceof Ln)return(i=(r=e.value)==null?void 0:r.toString())!=null?i:"";if(e instanceof Tn)return e.value;if(e instanceof Yn)return e.name;if(e instanceof Kn)return e.value;if(e instanceof Ps||e instanceof $s||e instanceof Bi||e instanceof ps||e instanceof fs||e instanceof pr||e instanceof xs||e instanceof An||e instanceof fr||e instanceof ds||e instanceof pi||e instanceof Ks||e instanceof kr||e instanceof Ws||e instanceof gs||e instanceof hi||e instanceof hs||e instanceof di||e instanceof ms||e instanceof Ys||e instanceof vs||e instanceof Ts||e instanceof _s||e instanceof ya||e instanceof qi||e instanceof mi||e instanceof Ns||e instanceof wr||e instanceof Ui||e instanceof Or||e instanceof Ss||e instanceof bs||e instanceof ys||e instanceof ba||e instanceof ji||e instanceof Es||e instanceof Jn||e instanceof Wn||e instanceof Lr||e instanceof Sn||e instanceof Ja||e instanceof Dr||e instanceof zs||e instanceof Zn)return e.content;let n="";return e instanceof J?e.originalNode!=null?n=e.originalNode.getContent():n=(a=(s=e.startPosition)==null?void 0:s.line.toString())!=null?a:"":e.originalAbstractNode!=null?n=e.originalAbstractNode.rawContent():n=e.rawContent(),n.length>15&&(n=n.substr(0,-15)),n}}});var Wc,Iw=C(()=>{Wc=class{};Wc.deferredCoreLibraries=["arr","array","str","string","method","math","sys","convert","scope","stopwatch","file","path","url","request","json","datetime"]});var hn,Cw=C(()=>{hn=class{};hn.ARR_PLUCK="pluck",hn.ARR_TAKE="take",hn.ARR_SKIP="skip",hn.ARR_MAKE="arr",hn.ARR_ORDERBY="orderby",hn.ARR_GROUPBY="groupby",hn.ARR_MERGE="merge",hn.QUERY_WHERE="where",hn.STRUCT_SWITCH="switch",hn.BITWISE_AND="bwa",hn.BITWISE_OR="bwo",hn.BITWISE_XOR="bxor",hn.BITWISE_NOT="bnot",hn.BITWISE_SHIFT_LEFT="bsl",hn.BITWISE_SHIFT_RIGHT="bsr",hn.operators=["pluck","take","arr","skip","orderby","groupby","merge","where","switch","bwa","bwo","bxor","bsl","bsr"]});var Rn,mf=C(()=>{Zt();en();Pw();vy();He();Iw();Cw();Mp();Tr();Bs();Ny();Ey();Rn=class{constructor(){this.pathParser=new ka;this.tokens=[];this.createdVariables=[];this.createdModifierChains=[];this.createdLanguageOperators=[];this.createdArrays=[];this.tracedAssignments=[];this.mergedVariablePaths=[];this.mergedComponents=new Map;this.modifierNameMapping=new Map;this.isRealModifierSeparator=new Map;this.isRoot=!0;this.retriggerNonVirtualGroupMembers=[]}hasModifierConstruct(e){return this.modifierNameMapping.has(e)}getModifierConstruct(e){return this.modifierNameMapping.get(e)}isActualModifierSeparator(e){return this.isRealModifierSeparator.has(e)}isMergedVariableComponent(e){return this.mergedComponents.has(e)}getMergedVariable(e){return this.mergedComponents.get(e)}getMergedVariablePaths(){return this.mergedVariablePaths}getCreatedModifierChains(){return this.createdModifierChains}getCreatedLangaugeOperators(){return this.createdLanguageOperators}getCreatedArrays(){return this.createdArrays}getCreatedVariables(){return this.createdVariables}getRuntimeAssignments(){return this.tracedAssignments}getAssignedVariables(){let e=[],n=[];for(let r=0;r<this.tracedAssignments.length;r++){let i=this.tracedAssignments[r];i.target instanceof Ae&&n.includes(i.target.name)==!1&&(n.push(i.target.name),e.push(i.target))}return e}getAssignedVariableNames(){let e=[];for(let n=0;n<this.tracedAssignments.length;n++){let r=this.tracedAssignments[n];r.target instanceof Ae&&e.includes(r.target.name)==!1&&e.push(r.target.name)}return e}reset(){this.tokens=[],this.createdModifierChains=[],this.createdLanguageOperators=[],this.createdArrays=[],this.createdModifierChains=[],this.createdLanguageOperators=[],this.tracedAssignments=[],this.createdArrays=[],this.mergedVariablePaths=[],this.mergedComponents.clear(),this.modifierNameMapping.clear()}parse(e){return this.tokens=e,this.tokens=this.combineVariablePaths(this.tokens),this.tokens=this.createLanguageOperators(this.tokens),this.tokens=this.createLogicalGroups(this.tokens),this.tokens=this.associateMethodCalls(this.tokens),this.tokens=this.createTupleLists(this.tokens),this.tokens=this.createLibraryInvocations(this.tokens),this.tokens=this.associateModifiers(this.tokens),this.tokens=this.createNullCoalescenceGroups(this.tokens),this.tokens=this.correctTypes(this.tokens),this.tokens=this.createTernaryGroups(this.tokens),this.tokens=this.applyOperationOrder(this.tokens),this.validateNeighboringOperators(this.tokens),this.tokens=this.createLogicGroupsToRemoveMethodInvocationAmbiguity(this.tokens),this.tokens=this.createLogicGroupsToResolveOperatorAmbiguity(this.tokens),this.validateNoDanglingLogicGroupEnds(this.tokens),this.isRoot&&(this.tokens=this.insertAutomaticStatementSeparators(this.tokens),this.retriggerNonVirtualGroupMembers.length>0&&this.retriggerNonVirtualGroupMembers.forEach(n=>{this.markAllNonVirtualAsListGroupMember(n)})),this.createSemanticGroups(this.tokens)}setIsRoot(e){return this.isRoot=e,this}validateNeighboringOperators(e){let n=e.length;for(let r=0;r<n;r++){let i=e[r];if(Rn.isOperatorType(i)){if(r+1>=n){i.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_OPERATOR,i,"Unexpected operator while parsing input text."));return}let s=e[r+1];if(Rn.isOperatorType(s)){s.pushError($.makeSyntaxError(R.TYPE_OPERATOR_INVALID_ON_RIGHT,s,"Unexpected operator while parsing input text."));continue}}}}static isAssignmentOperator(e){return e instanceof ds||e instanceof hs||e instanceof mi||e instanceof ms||e instanceof gs||e instanceof Ks}static isOperatorType(e){return e instanceof ds||e instanceof hs||e instanceof mi||e instanceof ms||e instanceof gs||e instanceof Ks||e instanceof ba||e instanceof xs||e instanceof Ui||e instanceof pr||e instanceof Ss||e instanceof $s||e instanceof ji||e instanceof zs||e instanceof pi||e instanceof di||e instanceof Ws||e instanceof Ys||e instanceof hi||e instanceof kr||e instanceof wr||e instanceof qi||e instanceof ya||e instanceof _s||e instanceof Ts||e instanceof ys||e instanceof bs||e instanceof vs||e instanceof Ns}markAllNonVirtualAsListGroupMember(e){e.forEach(n=>{if(n instanceof _t||n instanceof Gi||n instanceof Na){n.start!=null&&n.start.isVirtual==!1&&(n.start.isListGroupMember=!0),n.end!=null&&n.end.isVirtual==!1&&(n.end.isListGroupMember=!0),n.scopeOperator!=null&&(n.scopeOperator.isListGroupMember=!0),n.nodes.forEach(r=>{this.markAllNonVirtualAsListGroupMember([r])});return}else n instanceof On&&(n.separatorToken!=null&&n.separatorToken.isVirtual==!1&&(n.separatorToken.isListGroupMember=!0),this.markAllNonVirtualAsListGroupMember(n.nodes));n.isVirtual==!1&&(n.isListGroupMember=!0),n.originalAbstractNode!=null&&n.originalAbstractNode!=n&&this.markAllNonVirtualAsListGroupMember([n.originalAbstractNode])})}markAllNonVirtualAsSwitch(e){e.forEach(n=>{if(n instanceof _t||n instanceof Gi||n instanceof Na){n.start!=null&&n.start.isVirtual==!1&&(n.start.isSwitchGroupMember=!0),n.end!=null&&n.end.isVirtual==!1&&(n.end.isSwitchGroupMember=!0),n.scopeOperator!=null&&(n.scopeOperator.isSwitchGroupMember=!0),n.nodes.forEach(r=>{this.markAllNonVirtualAsSwitch([r])});return}else n instanceof On&&(n.separatorToken!=null&&n.separatorToken.isVirtual==!1&&(n.separatorToken.isSwitchGroupMember=!0),this.markAllNonVirtualAsSwitch(n.nodes));n.isVirtual==!1&&(n.isSwitchGroupMember=!0),n.originalAbstractNode!=null&&n.originalAbstractNode!=n&&this.markAllNonVirtualAsSwitch([n.originalAbstractNode])})}validateNoDanglingLogicGroupEnds(e){e.forEach(n=>{n instanceof Wn&&n.pushError($.makeSyntaxError(R.TYPE_LOGIC_GROUP_NO_START,n,"Unexpected [T_LOGIC_END] while parsing input text."))})}isValidModifierValue(e){return e instanceof Kn||e instanceof Ae||e instanceof ps||e instanceof fs||e instanceof Bi||e instanceof Ln||e instanceof Tn}wrapNumberInVariable(e){var r,i,s,a;let n=new Ae;return n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.name=(i=(r=e.value)==null?void 0:r.toString())!=null?i:"",n.content=(a=(s=e.value)==null?void 0:s.toString())!=null?a:"",n.originalAbstractNode=e,n.refId=e.refId,n.modifierChain=e.modifierChain,n.index=e.index,this.createdVariables.push(n),n}wrapArithmeticModifier(e,n){let r=new Yn;return r.startPosition=e.startPosition,r.endPosition=e.endPosition,r.originalAbstractNode=e,r.content=n,r.name=n,r.index=e.index,r}combineVariablePaths(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i],a=n.length;if(s instanceof Sn){if(a==0){s.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_BRANCH_SEPARATOR_FOR_VARCOMBINE,s,"Unexpected [T_BRANCH_SEPARATOR] while parsing input text."));continue}if(i+1>r){let f="";if(i>0){let d=e[i-1];f=Hc.getNearText(d)}s.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_PARSING_BRANCH_GROUP,s,'Unexpected end of input while parsing input text near "'+f+Hc.getNearText(s)+'".'));continue}let l=n[a-1],c=e[i+1];if(c instanceof Ln&&$t.distance(l,c)==1&&(c=this.wrapNumberInVariable(c)),l instanceof Ae&&c instanceof Ae&&$t.distance(l,c)==1){n.pop(),$t.mergeVarContentRight(":",s,c),$t.mergeVarRight(l,c),n.push(c),this.createdVariables.push(c),this.mergedVariablePaths.push(c),this.mergedComponents.set(s,c),this.mergedComponents.set(l,c),this.mergedComponents.set(c,c),i+=1;continue}else{n.push(s);continue}}else if(s instanceof Tn&&a>0){if(i+1>=r){n.push(s);continue}let l=n[a-1],c=e[i+1];if(l instanceof Ae&&c instanceof Ae&&$t.distance(l,s)<=1&&$t.distance(s,c)<=1){n.pop(),$t.mergeVarContentLeft(s.sourceTerminator+s.value+s.sourceTerminator,s,l),$t.mergeVarContentLeft(c.name,c,l),this.createdVariables.push(l),n.push(l),this.mergedVariablePaths.push(l),this.mergedComponents.set(s,l),this.mergedComponents.set(l,l),this.mergedComponents.set(c,l),i+=1;continue}else n.push(s)}else if(s instanceof kr&&a>0){let l=n[a-1],c=e[i+1];if(l instanceof Ae&&c instanceof Ae){let f=$t.distance(l,s),d=$t.distance(s,c);f<=1&&d<=1?(l.endPosition=c.endPosition,this.mergedComponents.set(s,l),this.mergedComponents.set(l,l),this.mergedComponents.set(c,l),i+=1):n.push(s)}else n.push(s)}else n.push(s)}return n.forEach(i=>{i instanceof Ae&&(i.variableReference=this.pathParser.parse(i.name),i.mergeErrors(this.pathParser.getAntlersErrors()))}),n}convertVarNodeToOperator(e){let n=new xs;return n.content=e.name,n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.originalAbstractNode=e,e.convertedToOperator=!0,this.createdLanguageOperators.push(n),n}convertOperatorToVarNode(e){let n=new Ae;return n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.content=e.content,n.name=e.content,n.originalAbstractNode=e,this.createdVariables.push(n),n}createLanguageOperators(e){let n=e.length;for(let r=0;r<n;r++){let i=e[r];if(i instanceof Ae){if(i.name.includes(W.Punctuation_FullStop)){let s=i.name.split(W.Punctuation_FullStop);if(hn.operators.includes(s[0])||Wc.deferredCoreLibraries.includes(s[0])){e[r]=this.convertVarNodeToOperator(i);continue}}if(hn.operators.includes(i.name)){e[r]=this.convertVarNodeToOperator(i);continue}}if(i instanceof xs){if(r+1>=n){e[r]=this.convertOperatorToVarNode(i);continue}if(e[r+1]instanceof fr){e[r]=this.convertOperatorToVarNode(i);continue}}}return e}createLogicalGroups(e){let n=[],r=e.length,i=[];for(let a=0;a<r;a++){let l=e[a];if(l instanceof pr){let c=this.countTypeRight(e,a,pr);if(i.length==0&&e.length==c){l.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_LOGIC_NEGATION_OPERATOR,l,"Unexpected [T_LOGIC_INVERSE] while parsing input text."));continue}if(a>0&&i.length>0){let m=i[i.length-1];if(m instanceof Ln||m instanceof Wn||m instanceof _t){if(m instanceof _t&&m.start instanceof pr){m.start.pushError($.makeSyntaxError(R.TYPE_FACTORIAL_MATERIALIZED_BOOL_DETECTED,m.start,"[T_AOP_FACTORIAL] operand will always materialize boolean type."));continue}let _=new Ja;_.startPosition=l.startPosition,_.endPosition=l.endPosition,_.content="!".repeat(c),_.originalAbstractNode=l,_.repeat=c,i.push(_),c>0&&(a+=c-1);continue}}if(c%2==0){a+=c-1;continue}let f=e[a+c];if(f instanceof Jn){let m=a+c+1;if(m>=r){f.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_NEGATION_OFFSET,f,"Unexpected end of input while parsing input text."));continue}let _=this.findLogicalGroupEnd(e[a+c],e.slice(m));if(_.found){let g=_.logicalGroup,T=new _t;T.start=l,T.end=g,T.nodes.push(l),T.nodes.push(g),T.startPosition=l.startPosition,T.endPosition=g.endPosition,i.push(T),a+=_.skipCount+c}continue}let d=this.resolveValueRight(e,a);d.value!=null&&i.push(d.value),a+=d.negationCount}else i.push(l)}let s=i.length;for(let a=0;a<s;a++){let l=i[a];if(l instanceof Jn){if(a+1>=s){l.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END_DUE_TO_NEGATION,l,"Unexpected end of input while parsing input text."));continue}let c=this.findLogicalGroupEnd(l,i.slice(a+1));c.found&&c.logicalGroup!=null&&n.push(c.logicalGroup),a+=c.skipCount}else if(l instanceof Ja){if(n.length==0){l.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_FACTORIAL_WHILE_CREATING_GROUPS,l,"Unexpected [T_AOP_FACTORIAL] while parsing input text."));continue}let c=n[n.length-1];if(!(c instanceof _t)&&!(c instanceof Ln)){l.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_FACTORIAL_OPERAND,l,"Unexpected left operand encountered for [T_AOP_FACTORIAL] while parsing input text."));continue}c=n.pop();let f=new _t;f.startPosition=c.startPosition,f.endPosition=l.endPosition,f.originalAbstractNode=l,f.nodes.push(c),f.nodes.push(l),n.push(f)}else n.push(l)}return n}makeArgGroup(e){let n=new zl,r=e.length;for(let s=0;s<r;s++){let a=e[s];if(this.isOperand(a)==!1){a.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_TOKEN_WHILE_PARSING_METHOD,a,"Unexpected ["+se.getPrettyTypeName(a)+"] while parsing argument group."));continue}let l=null;if(s+1<r&&(l=e[s+1]),l==null||l instanceof An){n.args.push(e[s]),s+=1;continue}else if(l instanceof Sn){if(s+2>=r){a.pushError($.makeSyntaxError(R.TYPE_ARG_UNEXPECTED_NAMED_ARGUMENT,a,"Unexpected end of input while parsing named argument."));continue}let c=e[s+2],f=new Bp;f.startPosition=a.startPosition,f.endPosition=c.endPosition,f.content=a.content+c.content,f.name=a,f.value=c,a instanceof Ae||a.pushError($.makeSyntaxError(R.TYPE_INVALID_NAMED_ARG_IDENTIFIER,a,"Invalid type ["+se.getPrettyTypeName(a)+"] supplied for named argument name.")),n.hasNamedArguments=!0,n.numberOfNamedArguments+=1,n.args.push(f),s+3<r&&e[s+3]instanceof An?s+=3:s+=2;continue}}let i=!1;return n.args.forEach(s=>{s instanceof Bp?i=!0:i&&s.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_UNNAMED_METHOD_ARGUMENT,s,"Unnamed arguments are not allowed to appear after a named argument."))}),n}cleanVariableForMethodInvocation(e){(e.name.startsWith(":")||e.name.startsWith("."))&&(e.name=e.name.substr(1),e.variableReference!=null&&(e.variableReference.originalContent=e.variableReference.originalContent.substr(1),e.variableReference.normalizedReference=e.variableReference.normalizedReference.substr(1)),e.startPosition!=null&&(e.startPosition.offset+=1,e.startPosition.char+=1))}reduceVariableReferenceForObjectAccessor(e){var s;let n=(s=e.variableReference)==null?void 0:s.pathParts.pop(),r=n.name,i=r.length+1;return e.name=e.name.substr(0,-i),e.variableReference!=null&&(e.variableReference.originalContent=e.variableReference.originalContent.substr(0,-i),e.variableReference.normalizedReference=e.variableReference.normalizedReference.substr(0,-i),e.variableReference.pathParts[e.variableReference.pathParts.length-1].isFinal=!0),e.endPosition!=null&&(e.endPosition.offset-=i,e.endPosition.char-=i),{accessor:r,accessorLen:i}}associateMethodCalls(e){var i,s;let n=[],r=e.length;for(let a=0;a<r;a++){let l=e[a],c=null,f=null;if(n.length>0&&(c=n[n.length-1]),a+1<r&&(f=e[a+1]),l instanceof Ae&&f instanceof _t&&c!=null&&(this.isProperMethodChainTargetStrict(c)||c instanceof Sn)){let d=f,m=[];d.nodes.length>0&&(d.nodes[0]instanceof On?m=d.nodes[0].nodes:m=d.nodes);let _=new Zn;if(_.startPosition=l.startPosition,c instanceof Sn){let g=n.pop();_.startPosition=g.startPosition}this.cleanVariableForMethodInvocation(l),_.endPosition=d.endPosition,_.args=this.makeArgGroup(m),_.method=l,c.methodTarget=_,c instanceof Ae&&c.mergeRefName.length>0&&(c.name=$t.getUnrefName(c.mergeRefName)),n.push(_),a+=1;continue}else if(l instanceof _t&&c instanceof Ae&&c.variableReference!=null&&c.variableReference.pathParts.length>=2){let d=[];if(l.nodes.length>0&&(l.nodes[0]instanceof On?d=l.nodes[0].nodes:d=l.nodes),c.variableReference.pathParts[0]instanceof yr&&Wc.deferredCoreLibraries.includes(c.variableReference.pathParts[0].name)){let N=n.pop(),A=new Za;A.startPosition=N.startPosition,A.endPosition=l.endPosition,A.content=N.content,A.originalAbstractNode=l;let x=((i=N.variableReference)==null?void 0:i.pathParts.shift()).name,v=(s=N.variableReference)==null?void 0:s.implodePaths();A.libraryName=x,A.methodName=v,A.arguments=this.makeArgGroup(d),n.push(A),a+=1;continue}let m=this.reduceVariableReferenceForObjectAccessor(c),_=new Zn;_.startPosition=l.startPosition,_.endPosition=l.endPosition,c.methodTarget=_,c instanceof Ae&&c.mergeRefName.length>0&&(c.name=$t.getUnrefName(c.mergeRefName)),l.start!=null&&(l.start.isPartOfMethodChain=!0),l.end!=null&&(l.end.isPartOfMethodChain=!0);let g=new Ae;g.name=m.accessor,g.isPartOfMethodChain=!0;let T=this.makeArgGroup(d);if(_.startPosition!=null&&(_.startPosition.offset-=m.accessorLen,_.startPosition.char-=m.accessorLen),_.method=g,_.args=T,re.isNumeric(c.name)){let N=n.pop();n.push(this.convertOperatorToVarNode(N))}n.push(_);continue}else if(l instanceof Ae&&c instanceof Zn){if(this.cleanVariableForMethodInvocation(l),a+1>r){l.pushError($.makeSyntaxError(R.TYPE_METHOD_CALL_MISSING_ARG_GROUP,l,"Unexpected end of input while parsing method call."));continue}let d=e[a+1];if(!(d instanceof _t)){l.pushError($.makeSyntaxError(R.TYPE_INVALID_METHOD_CALL_ARG_GROUP,l,"Unexpected ["+se.getPrettyTypeName(d)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let m=d,_=[];m.nodes.length>0&&(m.nodes[0]instanceof On?_=m.nodes[0].nodes:_=m.nodes);let g=new Zn;g.startPosition=l.startPosition,g.endPosition=m.endPosition,g.args=this.makeArgGroup(_),g.method=l,c.methodTarget=g,n.push(g),a+=1;continue}else if(l instanceof Sn&&c instanceof Zn){if(a+1>r){l.pushError($.makeSyntaxError(R.TYPE_METHOD_CALL_MISSING_METHOD,l,"Unexpected end of input while parsing method call."));continue}let d=e[a+1];if(a+2>r){l.pushError($.makeSyntaxError(R.TYPE_METHOD_CALL_MISSING_ARG_GROUP,l,"Unexpected end of input while parsing method call."));continue}let m=e[a+2];if(!(m instanceof _t)){l.pushError($.makeSyntaxError(R.TYPE_INVALID_METHOD_CALL_ARG_GROUP,l,"Unexpected ["+se.getPrettyTypeName(m)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let _=m,g=[];_.nodes.length>0&&(_.nodes[0]instanceof On?g=_.nodes[0].nodes:g=_.nodes);let T=new Zn;T.startPosition=l.startPosition,T.endPosition=m.endPosition,T.args=this.makeArgGroup(g),T.method=d,c.methodTarget=T,n.push(T),a+=2;continue}else if(l instanceof Zn){if(a+1>r){l.pushError($.makeSyntaxError(R.TYPE_METHOD_CALL_MISSING_METHOD,l,"Unexpected end of input while parsing method call."));continue}let d=e[a+1];if(a+2>r){l.pushError($.makeSyntaxError(R.TYPE_INVALID_METHOD_CALL_ARG_GROUP,l,"Unexpected end of input while parsing method call."));continue}let m=e[a+2];if(!(m instanceof _t)){l.pushError($.makeSyntaxError(R.TYPE_INVALID_METHOD_CALL_ARG_GROUP,l,"Unexpected ["+se.getPrettyTypeName(m)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let _=m,g=[];_.nodes.length>0&&(_.nodes[0]instanceof On?g=_.nodes[0].nodes:g=_.nodes);let T=this.makeArgGroup(g);if(c instanceof Ae&&Wc.deferredCoreLibraries.includes(c.name)){let N=n.pop(),A=new Za;A.startPosition=N.startPosition,A.endPosition=_.endPosition,A.libraryName=N.name,A.methodName=d.name,A.content=A.libraryName+"->"+A.methodName,A.arguments=T,c.libraryTarget=A,n.push(A),a+=2;continue}l.method=d,l.args=T,n.length>0&&(n[n.length-1].methodTarget=l),a+=2,n.push(l);continue}else n.push(l)}return n}convertVariableToStringNode(e){let n=new Tn;return n.content=e.name,n.value=e.name,n.originalAbstractNode=e,n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.index=e.index,n}createTupleLists(e){let n=e.length,r=[];for(let i=0;i<n;i++){let s=e[i];if(s instanceof Ps){if(s.isListGroupMember=!0,i+1>=n){s.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_PARSING_TUPLE_LIST,s,"Unexpected end of input while parsing tuple list."));continue}let a=e[i+1];if(!(a instanceof _t)){a.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_TYPE_FOR_TUPLE_LIST,a,"Unexpected ["+se.getPrettyTypeName(a)+"] while parsing tuple list."));continue}let l=a;if(this.markAllNonVirtualAsListGroupMember([l]),this.retriggerNonVirtualGroupMembers.push([l]),l.nodes.length==0){l.pushError($.makeSyntaxError(R.TYPE_MISSING_BODY_TUPLE_LIST,l,"Missing tuple list body while parsing tuple list."));continue}let f=l.nodes.shift(),d=f.nodes.length,m=[];for(let T=0;T<d;T++){let N=f.nodes[T];if(!(N instanceof An)){let A=!1;if(N instanceof Ae&&(N.variableReference==null&&(A=!0),N.variableReference!=null&&N.variableReference.pathParts.length>1&&(A=!0),N.name.trim().length==0&&(A=!0)),A||!(N instanceof Ae)){l.pushError($.makeSyntaxError(R.TYPE_INVALID_TUPLE_LIST_NAME_TYPE,l,"Invalid ["+se.getPrettyTypeName(N)+"] name type found while parsing tuple list."));continue}let b=N;m.push(this.convertVariableToStringNode(b))}}let _=m.length;if(_==0){l.pushError($.makeSyntaxError(R.TYPE_INVALID_MANIFESTED_NAME_GROUP,l,"Invalid Name expression produced an invalid name group while parsing tuple list."));continue}let g=new va;this.createdArrays.push(g),g.startPosition=s.startPosition,g.endPosition=s.endPosition,l.nodes.forEach(T=>{if(!(T instanceof On)){T.pushError($.makeSyntaxError(R.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE_GROUP,T,"Invalid ["+se.getPrettyTypeName(T)+"] name type found while parsing tuple list value expression."));return}let N=T,A=new va;this.createdArrays.push(A),A.startPosition=N.startPosition;let b=[];for(let x=0;x<d;x++){let v=N.nodes[x];if(!(v instanceof An)){if(this.isOperand(v)==!1){v.pushError($.makeSyntaxError(R.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE,v,"Unexpected ["+se.getPrettyTypeName(v)+"]  while parsing tuple list value."));continue}b.push(v)}}for(let x=0;x<_&&!(x>b.length);x++){let v=b[x],I=new Mu;I.startPosition=v.startPosition,I.endPosition=v.endPosition,I.name=m[x],I.value=v,A.nodes.push(I),g.endPosition=v.endPosition,A.endPosition=v.endPosition}g.nodes.push(A)}),r.push(g),i+=1;continue}else r.push(s)}return e}makeOrderGroup(e){let n=[],r=e.length,i=0;for(let s=0;s<r;s++){let a=e[s],l=null;if(s+1<r&&(l=e[s+1]),s>0&&(l==null||l instanceof An)){i+=1;let c=new Ou;c.order=i,c.name=e[s-1],c.directionNode=a,this.isOperand(c.name)==!1&&c.name.pushError($.makeSyntaxError(R.TYPE_INVALID_ORDER_BY_NAME_VALUE,c.name,"Invalid value or expression supplied for order by name.")),this.isOperand(c.directionNode)==!1&&c.directionNode.pushError($.makeSyntaxError(R.TYPE_INVALID_ORDER_BY_SORT_VALUE,c.directionNode,"Invalid value or expression supplied for order by direction.")),c.startPosition=c.name.startPosition,c.endPosition=c.directionNode.endPosition,n.push(c),s+=1;continue}}return n}getValues(e){let n=new Kl,r=e.length,i=[];for(let s=0;s<r;s++){let a=e[s],l=null;if(s+1<r&&(l=e[s+1]),l==null||l instanceof An){i.push(a),s+=1;continue}}return n.values=i,n}createLibraryInvocations(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof xs)if(s.content.includes(".")){let a=s.content.split("."),l=a.shift(),c=a.join("."),f=new Za;if(f.startPosition=s.startPosition,f.endPosition=s.endPosition,f.content=s.content,f.libraryName=l,f.methodName=c,f.originalAbstractNode=s,i+1>=r){s.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_ARG_GROUP,s,"Unexpected end of input while parsing argument group."));continue}if(!(e[i+1]instanceof _t)){s.pushError($.makeSyntaxError(R.TYPE_EXPECTING_ARGUMENT_GROUP,s,"Unexpected token while parsing method call. Expecting [T_ARG_SEPARATOR] got ["+se.getPrettyTypeName(s)+"]."));continue}let d=e[i+1],m=null;if(d.nodes.length>0){let _=d.nodes[0];m=this.makeArgGroup(_.nodes)}m==null&&(m=new zl,m.startPosition=d.startPosition,m.endPosition=d.endPosition,m.originalAbstractNode=d),f.arguments=m,n.push(f),i+=1;continue}else if(s.content==hn.ARR_ORDERBY){if(i+1>=r){s.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_PARSING_ORDER_GROUP,s,"Unexpected end of input while parsing order group."));continue}let a=e[i+1];if(!(a instanceof _t)){a.pushError($.makeSyntaxError(R.TYPE_EXPECTING_ORDER_GROUP_FOR_ORDER_BY_OPERAND,a,"Unexpected ["+se.getPrettyTypeName(a)+"] while parsing order group."));continue}let c=a.nodes;c[0]instanceof On&&(c=c[0].nodes);let f=this.makeOrderGroup(c);f.length==0&&s.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_EMPTY_DIRECTION_GROUP,s,"Unexpected empty [T_DIRECTION_GROUP]. Must have at least one order clause, and each property must have a direction specified."));let d=new Ko;if(d.orderClauses=f,f.length>0){f[0].directionNode!=null&&(d.startPosition=f[0].directionNode.startPosition);let m=f[f.length-1].directionNode;m!=null&&(d.endPosition=m.endPosition)}n.push(s),n.push(d),i+=1;continue}else if(s.content==hn.ARR_GROUPBY){if(i+1>=r){s.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_GROUP_BY,s,"Unexpected end of input while parsing group by clause."));continue}let a=e[i+1];if(a instanceof Na||a instanceof Gi){a.pushError($.makeSyntaxError(R.TYPE_GROUP_BY_SCOPED_GROUP_MUST_BE_ENCLOSED,a,"Type ["+se.getPrettyTypeName(a)+"] must be enclosed with parenthesis to be used with groupby."));continue}if(!(a instanceof _t)){a.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_TOKEN_FOR_GROUP_BY,a,"Unexpected ["+se.getPrettyTypeName(a)+"] while parsing group by."));continue}let c=a.nodes;c[0]instanceof On&&(c=c[0].nodes);let f=this.getValues(c);if(n.push(s),n.push(f),i+2<r&&i+3<r){let d=e[i+2],m=e[i+3];if($t.isVariableMatching(d,Bt.ScopeAs))if(m instanceof Tn){f.isNamedNode=!0,f.parsedName=m,i+=3;continue}else m.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_GROUP_BY_AS_ALIAS_TYPE,m,"Expecting [T_STRING] for group by collection alias; got ["+se.getPrettyTypeName(m)+"]."))}i+=1;continue}else if(s.content==hn.STRUCT_SWITCH){if(i+1>=r){s.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SWITCH_GROUP,s,"Unexpected end of input while parsing [T_SWITCH_GROUP]."));continue}let a=e[i+1];if(!(a instanceof Gi)){a.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_TOKEN_FOR_SWITCH_GROUP,a,"Unexpected ["+se.getPrettyTypeName(a)+"] while parsing [T_SWITCH_GROUP]."));continue}let l=a;if(this.markAllNonVirtualAsSwitch([a]),l.scope==null||!(l.scope instanceof _t)){l.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_SWITCH_START_VALUE,l,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let c=l.scope;if(c.nodes.length==0||!(c.nodes[0]instanceof On)){l.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,l,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let f=c.nodes[0];if(this.markAllNonVirtualAsSwitch([c]),f.nodes.length==0||!(f.nodes[0]instanceof _t)){s.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}this.markAllNonVirtualAsSwitch([s]),this.markAllNonVirtualAsSwitch(f.nodes);let d=f.nodes;if(l.nodes.length==0&&s.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP].")),!(c.nodes[0]instanceof On)){s.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let _=c.nodes[0];this.markAllNonVirtualAsSwitch(_.nodes);let g=_.nodes,T=new $o,N=new _t;N.nodes=d,N.startPosition=N.nodes[0].startPosition,N.endPosition=N.nodes[N.nodes.length-1].endPosition;let A=new $l;A.condition=N;let b=new _t;b.nodes.push(g.shift()),b.startPosition=b.nodes[0].startPosition,b.endPosition=b.nodes[b.nodes.length-1].endPosition,A.expression=b,A.startPosition=A.condition.startPosition,A.endPosition=A.expression.nodes[A.expression.nodes.length-1].endPosition,g.shift(),T.cases.push(A);let x=g.length;if(x>0){if(!(g[0]instanceof _t)){s.pushError($.makeSyntaxError(R.TYPE_PARSER_INVALID_SWITCH_TOKEN,s,"Invalid ["+se.getPrettyTypeName(g[0])+"] while parsing case statement."));continue}for(let v=0;v<x;v++){let I=g[v],O=null;if(I instanceof An){I.isSwitchGroupMember=!0;continue}if(v+1<x&&(O=g[v+1]),O instanceof Dr){O.isSwitchGroupMember=!0;let X=new $l;X.condition=I,this.markAllNonVirtualAsSwitch([X.condition]);let Y=new _t;if(Y.nodes.push(g[v+2]),Y.startPosition=Y.nodes[0].startPosition,Y.endPosition=Y.nodes[Y.nodes.length-1].endPosition,X.expression=Y,this.markAllNonVirtualAsSwitch([Y]),X.startPosition=X.condition.startPosition,X.endPosition=X.expression.nodes[X.expression.nodes.length-1].endPosition,T.cases.push(X),v+3<x&&!(g[v+3]instanceof An)){g[v+3].pushError($.makeSyntaxError(R.TYPE_PARSER_INVALID_SWITCH_TOKEN,g[v+3],"Invalid ["+se.getPrettyTypeName(g[v+3])+"] while parsing case statement; expecting [T_ARG_SEPARATOR]."));continue}g[v+3].isSwitchGroupMember=!0,v+=2;continue}}}n.push(new Bi),n.push(s),n.push(T),i+=1;continue}else if(s.content==hn.ARR_MAKE){if(i+1>=r){s.pushError($.makeSyntaxError(R.TYPE_ARR_MAKE_MISSING_TARGET,s,"Missing target variable for arr operator."));continue}let a=e[i+1];if(!(a instanceof _t)){a.pushError($.makeSyntaxError(R.TYPE_ARR_MAKE_UNEXPECTED_TYPE,a,"Unexpected ["+se.getPrettyTypeName(a)+"] while parsing array."));continue}let l=a instanceof Gi,c=a,f=c.nodes;if(f[0]instanceof On&&(f=f[0].nodes),l){let g=a;f.unshift(new Dr),f.unshift(g.scope)}let d=this.getArrayValues(f),m=new va;m.startPosition=s.startPosition;let _=d.values.length;_>0?m.endPosition=d.values[_-1].endPosition:m.endPosition=s.endPosition,c.end!=null&&(m.endPosition=c.end.endPosition),m.nodes=d.values,this.createdArrays.push(m),n.push(m),i+=1}else n.push(s);else n.push(s)}return n}getArrayValues(e){let n=new Kl,r=e.length,i=[];for(let s=0;s<r;s++){let a=e[s];if(a instanceof An){a.pushError($.makeSyntaxError(R.TYPE_ARR_UNEXPECT_ARG_SEPARATOR,a,"Unexpected [T_ARG_SEPARATOR] while parsing array."));continue}if(a instanceof Dr){if(s==0){a.pushError($.makeSyntaxError(R.TYPE_ARR_KEY_PAIR_MISSING_KEY,a,"Missing key for key/value pair while parsing array."));continue}else if(e[s-1]instanceof An){a.pushError($.makeSyntaxError(R.TYPE_ARR_KEY_PAIR_MISSING_KEY,a,"Missing key for key/value pair while parsing array."));continue}}let l=null;if(s+1<r&&(l=e[s+1]),l instanceof Dr){if(s+2>=r){l.pushError($.makeSyntaxError(R.TYPE_ARR_MAKE_MISSING_ARR_KEY_PAIR_VALUE,l,"Missing key/pair value while parsing array."));continue}let c=e[s+2],f=new Mu;if(this.isValidArrayKeyNode(a)==!1){a.pushError($.makeSyntaxError(R.TYPE_ARR_KEY_PAIR_INVALID_KEY_TYPE,a,"Invalid ["+se.getPrettyTypeName(a)+"] type for key/value key."));continue}f.name=a,f.value=c,f.startPosition=a.startPosition,f.endPosition=c.endPosition,i.push(f),s+=3;continue}if(l==null||l instanceof An){let c=new Mu;c.value=a,c.startPosition=a.startPosition,c.endPosition=a.endPosition,i.push(c),s+=1;continue}}return n.values=i,n}isValidArrayKeyNode(e){return e instanceof Ln||e instanceof Tn}associateModifiers(e){let n=[],r=e.length,i=null;for(let s=0;s<r;s++){let a=e[s];if(a instanceof Or){let l=n.length;if(l==0){a.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_MODIFIER_SEPARATOR,a,"Unexpected [T_MODIFIER_SEPARATOR] while parsing input text."));continue}if(this.isRealModifierSeparator.set(a,!0),i=n[l-1],i.modifierChain==null&&(i.modifierChain=new wu,i.modifierChain.modifierTarget=i,this.createdModifierChains.push(i.modifierChain)),s+1>=r){a.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_DETAILS,a,"Unexpected end of input while preparing to gather modifier details."));continue}let c=this.scanToEndOfModifier(e.slice(s+1)),f=c.length;if(f>1&&c[1]instanceof Sn){this.isRealModifierSeparator.set(c[1],!0);let m=c[0];m instanceof pi?c[0]=this.wrapArithmeticModifier(m,"add"):m instanceof kr?c[0]=this.wrapArithmeticModifier(m,"subtract"):m instanceof di?c[0]=this.wrapArithmeticModifier(m,"divide"):m instanceof hi?c[0]=this.wrapArithmeticModifier(m,"multiply"):m instanceof Ys&&(c[0]=this.wrapArithmeticModifier(m,"mod"))}if(f==0){a.pushError($.makeSyntaxError(R.TYPE_UNSET_MODIFIER_DETAILS,a,"Invalid or missing modifier details."));continue}if(!(c[0]instanceof Yn)){a.pushError($.makeSyntaxError(R.TYPE_MODIFIER_NAME_NOT_START_OF_DETAILS,a,"Invalid ["+se.getPrettyTypeName(c[0])+"]; expecting [T_MODIFIER_NAME]"));continue}let d=this.createModifier(c);d.nameNode!=null&&this.modifierNameMapping.set(d.nameNode,d),s+=f,i.modifierChain.modifierChain.push(d),i.modifierChain.updateValues();continue}else n.push(a)}return n}createNullCoalescenceGroups(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof ji){let a=n.pop();if(i+1>=r){s.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NULL_COALESCENCE_GROUP,s,"Unexpected end of input while parsing input text."));continue}let l=e[i+1],c=new Lu;c.left=a,c.right=l,n.push(c),i+=1;continue}else n.push(s)}return n}isOperand(e){return e instanceof Ae||e instanceof _t||e instanceof Tn||e instanceof Ln||e instanceof fs||e instanceof Bi||e instanceof ps||e instanceof Za||e instanceof Ko||e instanceof Kl||e instanceof $o||e instanceof va}isProperMethodChainTargetStrict(e){return e instanceof _t||e instanceof Tn||e instanceof Ln||e instanceof fs||e instanceof Bi||e instanceof ps||e instanceof Za||e instanceof Ko||e instanceof Kl||e instanceof $o||e instanceof va}assertOperandRight(e,n){if(n+1>e.length-1)return e[n].pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_END_OF_INPUT,e[n],"Unexpected end of input; expecting operand for operator "+se.getPrettyTypeName(e[n])+' near "'+Hc.getNearText(e[n])+'".')),!1;let r=e[n+1];return this.isOperand(r)?!0:(r.pushError($.makeSyntaxError(R.TYPE_EXPECTING_OPERAND,e[n],"Expecting operand, found "+se.getPrettyTypeName(r)+' near "'+Hc.getNearText(e[n])+'".')),!1)}resolveValueRight(e,n){let r=null,i=0,s=null;if(e.length>0){let a=!0;for(;a;){let l=e[n];if(l instanceof pr){s=l,i+=1,n+=1,a=!1;continue}else if(this.isOperand(l)){r=l,a=!1;break}else{a=!1;break}}}if(i%2!=0){let a=new _t;return a.nodes=[],s!=null&&r!=null&&(a.nodes.push(s),a.nodes.push(r)),{value:a,negationCount:i}}return{value:r,negationCount:i}}correctTypes(e){let n=[];return e.forEach(r=>{if(r instanceof Lr){let i=new Sn;i.startPosition=r.startPosition,i.endPosition=r.endPosition,i.originalAbstractNode=r,n.push(i)}else if(r instanceof Kn){let i=new Ae;i.name=r.value,i.startPosition=r.startPosition,i.endPosition=r.endPosition,i.modifierChain=r.modifierChain,i.originalAbstractNode=r,this.createdVariables.push(i),n.push(i)}else n.push(r)}),n}createTernaryGroups(e){var i,s,a,l;let n=[],r=e.length;for(let c=0;c<r;c++){let f=e[c];if(f instanceof Es){let d=this.seek(Sn,c+1);if(((i=d.node)==null?void 0:i.originalAbstractNode)!=null&&d.node.originalAbstractNode instanceof Lr&&(d.node.originalAbstractNode.isTenaryBranchSeparator=!0),d.found==!1){f.pushError($.makeSyntaxError(R.TYPE_TERNARY_EXPECTING_BRANCH_SEPARATOR,f,"Unexpected end of input; expecting [T_BRANCH_SEPARATOR]."));continue}let m=this.collectUntil(n);n=m.tokens;let _=m.collectedTokens[0],g=(s=d.foundAt)!=null?s:0;if(g>=r){f.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP,f,"Unexpected end of input while parsing ternary group."));continue}let T=e.slice(c+1,g);if(T.length>1||T.length==0){f.pushError($.makeSyntaxError(R.TYPE_TERNARY_UNEXPECTED_EXPRESSION_LENGTH,f,"Unexpected number of operations within ternary truth branch."));continue}let N=T[0],A=((a=d.foundAt)!=null?a:0)+1;if(A>=r){f.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP_FALSE_BRANCH,f,"Unexpected end of input while parsing ternary false execution branch."));continue}let b=e[A],x=new Du;x.head=_,x.truthBranch=N,x.falseBranch=b,n.push(x),c=((l=d.foundAt)!=null?l:0)+1;continue}else n.push(f)}return n}groupNodesByType(e,n){let r=[],i=e.length;for(let s=0;s<i;s++){let a=e[s];if(s>0&&a instanceof n){let l=[],c=r.pop();if(l.push(c),!this.assertOperandRight(e,s))continue;if(s+1>=i){a.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS,a,"Unexpected end of input while parsing input text."));continue}let f=e[s+1];typeof f!="undefined"&&(f.isVirtualGroupMember=!0),typeof c!="undefined"&&(c.isVirtualGroupMember=!0),a.isVirtualGroupMember=!0;let d=new _t;d.nodes=l,d.nodes.push(a),d.nodes.push(f),s+=1,r.push(d);continue}else r.push(a)}return r}flagNodeAsOperatorResolve(e){if(e instanceof _t){if(e.nodes.length==0)return;this.flagNodeAsOperatorResolve(e.nodes[e.nodes.length-1])}e.isVirtualGroupOperatorResolve=!0,e.next instanceof fr||(e.producesVirtualStatementTerminator=!0)}groupNodesByOperatorType(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(i>0&&Rn.isOperatorType(s)){let a=[],l=n.pop();if(a.push(l),!this.assertOperandRight(e,i))continue;if(i+1>=r){s.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS,s,"Unexpected end of input while parsing input text."));continue}let c=e[i+1];this.flagNodeAsOperatorResolve(c),Rn.isAssignmentOperator(s)&&this.tracedAssignments.push(new qg(l,c,s)),typeof l!="undefined"&&(l.isVirtualGroupMember=!0),typeof c!="undefined"&&(c.isVirtualGroupMember=!0),s.isVirtualGroupMember=!0;let f=new _t;f.nodes=a,f.nodes.push(s),f.nodes.push(c),i+=1,n.push(f);continue}else n.push(s)}return n}applyOperationOrder(e){return e=this.groupNodesByType(e,Ws),e=this.groupNodesByType(e,hi),e=this.groupNodesByType(e,di),e=this.groupNodesByType(e,pi),e=this.groupNodesByType(e,kr),e}createLogicGroupsToRemoveMethodInvocationAmbiguity(e){let n=[],r=e.length,i=r-1;for(let s=0;s<r;s++){let a=e[s];if(a instanceof Zn){let l=n.pop(),c=new _t;if(c.startPosition=l.startPosition,typeof l!="undefined"&&(l.isVirtualGroupMember=!0),typeof a!="undefined"&&(a.isVirtualGroupMember=!0),c.nodes.push(l),c.nodes.push(a),s!=i)for(let f=s+1;f<r;f++)if(e[f]instanceof Zn){if(typeof e[f]=="undefined")continue;if(e[f].isVirtualGroupMember=!0,c.nodes.push(e[f]),f==i){f+=1;break}}else{if(f==i){f+=1;break}s=f-1;break}c.endPosition=c.nodes[c.nodes.length-1].endPosition,n.push(c)}else n.push(a)}return n}countTypeRight(e,n,r){let i=0;for(let s=n;s<e.length&&e[s]instanceof r;s++)i+=1;return i}createLogicGroupsToResolveOperatorAmbiguity(e){return e=this.groupNodesByType(e,ya),e=this.groupNodesByType(e,qi),e=this.groupNodesByType(e,Ts),e=this.groupNodesByType(e,_s),e=this.groupNodesByType(e,Ns),e=this.groupNodesByType(e,wr),e=this.groupNodesByType(e,bs),e=this.groupNodesByType(e,ys),e=this.groupNodesByType(e,vs),e=this.groupNodesByOperatorType(e),e}createModifier(e){let n=e.shift(),r=[],i=e.length;if(e.length>0&&e[0]instanceof _t){let a=this.unpack(e[0].nodes),l=this.makeArgGroup(a),c=new Yl;if(c.nameNode=n,c.methodStyleArguments=l,e.length>1)for(let f=1;f<i;f++)e[f].pushError($.makeSyntaxError(R.TYPE_MODIFIER_UNEXPECTED_TOKEN_METHOD_SYNTAX,e[f],"Unexpected ["+se.getPrettyTypeName(e[f])+"] while parsing modifier argument group. Expecting [T_MODIFIER_SEPARATOR] or end of current expression."));return c}for(let a=0;a<i;a++)if(e[a]instanceof Lr||e[a]instanceof Sn){if(a+1>=i)return e[a].pushError($.makeSyntaxError(R.TYPE_MODIFIER_UNEXPECTED_END_OF_VALUE_LIST,e[a],"Unexpected end of modifier value list while parsing modifier.")),e;let l=e[a+1];if(this.isValidModifierValue(l)){if(l instanceof Ae)if(l.variableReference!=null&&l.variableReference.pathParts.length>0)l.variableReference.pathParts.forEach(c=>{if(c instanceof yr){let f=new Kn;f.startPosition=c.startPosition,f.endPosition=c.endPosition,f.value=c.name,f.name=c.name,f.originalAbstractNode=c,f.endPosition==null&&f.startPosition==null&&(f.startPosition=l.startPosition,f.endPosition=l.endPosition),r.push(f)}});else{let c=new Kn;c.startPosition=l.startPosition,c.endPosition=l.endPosition,c.value=l.name,c.name=l.name,c.originalAbstractNode=l,r.push(c)}else r.push(l);a+=1;continue}else return l.pushError($.makeSyntaxError(R.TYPE_MODIFIER_UNEXPECTED_VALUE,l,"Unexpected ["+se.getPrettyTypeName(l)+"] while parsing modifier value.")),e}let s=new Yl;return s.nameNode=n,s.valueNodes=r,s.startPosition=s.nameNode.startPosition,s.valueNodes.length>0?s.endPosition=s.valueNodes[s.valueNodes.length-1].endPosition:s.endPosition=s.nameNode.endPosition,s}scanToEndOfModifier(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof Lr){let a=n.length;if(a==0){s.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_VALUE,s,"Unexpected end of input while parsing modifier value."));continue}this.isRealModifierSeparator.set(s,!0);let l=n[a-1];if($t.distance(l,s)>1)break}if(s instanceof Tn||s instanceof Ae||s instanceof Ln){let a=n.length;if(a>0&&n[a-1]instanceof _t)break}if(s instanceof Or||s instanceof Wn||s instanceof Jn||s instanceof wr||s instanceof qi||s instanceof ya||s instanceof _s||s instanceof Ts||s instanceof ys||s instanceof bs||s instanceof vs||s instanceof Ns||s instanceof Ui||s instanceof Ss||s instanceof $s||s instanceof ji||s instanceof zs||s instanceof xs||s instanceof Za||s instanceof Zn||s instanceof pr)break;n.push(s)}return n}static isAssignmentOperatorNode(e){return e instanceof ds||e instanceof hs||e instanceof mi||e instanceof ms||e instanceof gs||e instanceof kr}insertAutomaticStatementSeparators(e){let n=e.length,r=[];for(let i=0;i<n;i++){let s=e[i];if(Rn.isAssignmentOperatorNode(s))if(i+2<n)if(e[i+2]instanceof fr){r.push(s),r.push(e[i+1]),r.push(e[i+2]),i+=2;continue}else{r.push(s),r.push(e[i+1]),r.push(new fr),i+=1;continue}else{r.push(s),r.push(e[i+1]),r.push(new fr);break}else r.push(s)}return e}createSemanticGroups(e){let n=[],r=e.length,i=[];for(let s=0;s<r;s++)if(e[s]instanceof fr){let a=new On;a.nodes=i,a.separatorToken=e[s],n.push(a),i=[];continue}else if(i.push(e[s]),s+1>=r){let a=new On;a.nodes=i,n.push(a);break}return n}findLogicalGroupEnd(e,n){let r=[],i=n.length,s=null,a=0,l=0;for(l;l<i;l++){let d=n[l];if(a+=1,d instanceof Wn){s=d;break}else if(d instanceof Jn){if(l+1>=i)return d.pushError($.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END,d,"Unexpected end of input while parsing input text.")),{found:!1,logicalGroup:null,skipCount:a};let m=this.findLogicalGroupEnd(d,n.slice(l+1));if(m.found){m.logicalGroup!=null&&r.push(m.logicalGroup),a+=m.skipCount,l+=m.skipCount;continue}else continue}else r.push(d)}if(s==null)return e.pushError($.makeSyntaxError(R.TYPE_LOGIC_GROUP_NO_END,e,"Unexpected end of input while parsing logic group.")),{found:!1,logicalGroup:null,skipCount:a};let c=new Rn;c.setIsRoot(!1);let f=new _t;if(r.length>=2&&r[1]instanceof Dr){if(f=new Gi,f.scopeOperator=r[1],l+2<i&&n[l+1]instanceof Ae&&n[l+2]instanceof Tn&&n[l+1].name==Bt.ScopeAs){let _=n[l+2];f=new Na,f instanceof Na&&(f.alias=_),a+=2}let d=r.splice(0,2);(f instanceof Gi||f instanceof Na)&&(f.scope=d[0])}return f.nodes=c.parse(r),f.start=e,f.end=s,f.startPosition=e.startPosition,f.endPosition=s.endPosition,f instanceof Na&&f.alias!=null&&(f.endPosition=f.alias.endPosition),{found:!0,logicalGroup:f,skipCount:a}}unpack(e){if(e.length==0)return[];if(e[0]instanceof On){let n=e[0];return this.unpack(n.nodes)}return e}collectUntil(e){let n=e.length,r=[];for(let i=n-1;i>=0&&!Rn.isAssignmentOperator(e[i]);i--){let s=e.pop();r.push(s)}if(r=r.reverse(),r.length>=3){let i=new Rn;return i.setIsRoot(!1),{collectedTokens:this.unpack(i.parse(r)),tokens:e}}return{collectedTokens:r,tokens:e}}seek(e,n){for(let r=n;r<this.tokens.length;r++)if(this.tokens[r]instanceof e)return{found:!0,foundAt:r,node:this.tokens[r]};return{found:!1,foundAt:null,node:null}}}});var wa,Aw=C(()=>{Bs();Tr();wa=class{static findRightBeighboringNextPunctuation(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e+1;s<n.length;s++){let a=n[s];if(re.ctypeSpace(a)&&(i=!0),i&&(re.ctypeAlpha(a)||re.ctypeDigit(a)))return null;if(re.ctypePunct(a)||a==W.String_Terminator_SingleQuote||a==W.String_Terminator_DoubleQuote)return a}return null}static findRightNeighboringNextAlphaNumeric(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e+1;s<n.length;s++){let a=n[s];if((re.ctypeSpace(a)||re.ctypePunct(a)&&a!=W.Punctuation_Underscore)&&(i=!0),i&&(re.ctypeAlpha(a)||re.ctypeDigit(a)))return s+1}return null}static findLeftNeighboringNextPunctuation(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e-2;s>=0;s--){let a=n[s];if(re.ctypeSpace(a)&&(i=!0),i&&(re.ctypeAlpha(a)||re.ctypeDigit(a)))return null;if(re.ctypePunct(a))return a}return null}static findLeftNeighboringNextAlphaNumeric(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e-1;s>=0;s--){let a=n[s];if((re.ctypeSpace(a)||re.ctypePunct(a)&&a!=W.Punctuation_Underscore)&&(i=!0),i&&(re.ctypeAlpha(a)||re.ctypeDigit(a)))return s+1}return null}static scanWordAt(e,n,r=4){if(n=n.replace("	"," ".repeat(r)),e<0||e>n.length)return null;let i=[],s=[];for(let a=e-1;a>=0;a--){let l=n[a];if(re.ctypePunct(l)&&l!=W.Punctuation_Underscore||re.ctypeSpace(l))break;i.push(l)}for(let a=e;a<n.length;a++){let l=n[a];if(re.ctypePunct(l)&&l!=W.Punctuation_Underscore||re.ctypeSpace(l))break;s.push(l)}return i.reverse().join("")+s.join("")}}});var ky,Rw=C(()=>{He();ky=class{constructor(e){this.parser=e}findParentWithName(e,n){let r=n.parent;for(;r!=null;){if(r instanceof J&&r.nameMatches(e))return r;if(r.parent==r)break;r=r.parent}return null}}});var wy,kw=C(()=>{cs();wy=class{static analyzeModifierNodeParameters(e){var r,i,s,a;if(e.parameters.forEach(l=>{var c,f,d,m;l.isModifierParameter=(f=(c=bt.instance)==null?void 0:c.hasModifier(l.name))!=null?f:!1,l.isModifierParameter&&(e.modifiers.parameterModifiers.push(l),l.modifier=(m=(d=bt.instance)==null?void 0:d.getModifier(l.name))!=null?m:null,e.modifiers.modifierNames.includes(l.name)==!1&&e.modifiers.modifierNames.push(l.name))}),e.modifierChain!=null&&e.modifierChain.modifierChain.length>0){let l=null;e.modifierChain.modifierChain.forEach(c=>{var f,d;c.nameNode!=null&&(c.modifier=(d=(f=bt.instance)==null?void 0:f.getModifier(c.nameNode.content))!=null?d:null,e.modifiers.modifierNames.includes(c.nameNode.content)==!1&&e.modifiers.modifierNames.push(c.nameNode.content),c.modifier!=null&&(l=c.modifier,e.modifierChain!=null&&(e.modifierChain.lastManifestedModifier=c)))}),e.modifierChain.lastModifier=l,e.modifiers.parameterModifiers.length>0&&(e.modifiers.hasMixedModifierStyles=!0)}e.runtimeNodes.length>0&&e.runtimeNodes.forEach(l=>{if(l.modifierChain!=null&&l.modifierChain.modifierChain.length>0){let c=null;l.modifierChain.modifierChain.forEach(f=>{var d,m;f.nameNode!=null&&(f.modifier=(m=(d=bt.instance)==null?void 0:d.getModifier(f.nameNode.content))!=null?m:null,e.modifiers.modifierNames.includes(f.nameNode.content)==!1&&e.modifiers.modifierNames.push(f.nameNode.content),f.modifier!=null&&(c=f.modifier,e.modifierChain!=null&&(e.modifierChain.lastManifestedModifier=f)))}),e.modifierChain!=null&&(e.modifierChain.lastModifier=c),e.modifiers.parameterModifiers.length>0&&(e.modifiers.hasMixedModifierStyles=!0)}});let n=e.modifiers.getLastManifestedModifier();if(n!=null)if(n.name=="macro"){let l=e.modifiers.getLastManifestedModifierValue();e.manifestType=(i=(r=bt.instance)==null?void 0:r.getMacroManifestingType(l))!=null?i:""}else e.manifestType=(a=(s=bt.instance)==null?void 0:s.getProbableReturnType(n,e.isPaired()))!=null?a:""}}});function Oy(t){return t==null?!1:t=='"'||t=="'"}var ww=C(()=>{});function Ow(t,e){for(t.getCurrentIndex();t.getCurrentIndex()<t.inputLength()&&(t.checkCurrentOffsets(),e&&t.pushChar(t.getCurrent()),t.getCurrent()!=W.NewLine);t.incrementIndex());}var Lw=C(()=>{Bs()});function Dw(t,e){for(t.getCurrentIndex();t.getCurrentIndex()<t.inputLength();t.incrementIndex())if(t.checkCurrentOffsets(),e&&t.pushChar(t.getCurrent()),t.getCurrent()==W.Punctuation_Asterisk&&t.getNext()==W.Punctuation_ForwardSlash){e&&t.pushChar(W.Punctuation_ForwardSlash),t.incrementIndex(),t.checkCurrentOffsets();break}}var Mw=C(()=>{Bs()});function Ly(t){let e=t.getCurrent();for(t.incrementIndex(),t.getCurrentIndex();t.getCurrentIndex()<t.inputLength()&&(t.checkCurrentOffsets(),!(t.getCurrent()==e&&t.getPrev()!=W.String_EscapeCharacter));t.incrementIndex());}var Fw=C(()=>{Bs()});var Dy,Vw=C(()=>{He();Hl();Tr();Bs();ww();Lw();Mw();Fw();Dy=class{constructor(){this.content="";this.nodeIndex=[];this.fragmentStartIndex=[];this.charLen=0;this.documentOffsets=new Map;this.inputLen=0;this.seedOffset=0;this.shiftLine=0;this.chars=[];this.currentIndex=0;this.lastDocumentOffsetKey=null;this.cur=null;this.next=null;this.prev=null;this.chunkSize=5;this.currentChunkOffset=0;this.fragments=[];this.isScript=!1;this.fragmentOpeningIndex=new Map;this.indexedFragments=new Map;this.embeddedIndexedFragments=new Map}updateIndex(e){this.currentIndex=e}inputLength(){return this.inputLen}incrementIndex(){this.currentIndex+=1}getCurrentIndex(){return this.currentIndex}getCurrent(){return this.cur}getNext(){return this.next}getPrev(){return this.prev}pushChar(e){}getChar(e){return this.chars[e]}getSeedOffset(){return this.seedOffset}setDocumentOffsets(e,n){return this.documentOffsets=e,this.lastDocumentOffsetKey=n,this}getClosingFragmentAfter(e){if(typeof e=="undefined")return null;let n=e.name.toLowerCase();for(let r=0;r<this.fragments.length;r++){let i=this.fragments[r];if(i.isClosingFragment&&!i.isSelfClosing&&i.name.toLowerCase()==n&&i.index>e.index)return i}return null}getContentSubstring(e,n){return this.content.substr(e,n)}resetState(){return this.fragments=[],this.inputLen=0,this.fragmentStartIndex=[],this.fragmentOpeningIndex.clear(),this}resetIntermediateState(){this.chars=[],this.charLen=0,this.currentIndex=0,this.seedOffset=0,this.cur=null,this.next=null,this.prev=null}positionFromOffset(e,n,r=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let l=this.documentOffsets.get(e);i=l.line,s=l.char}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let l=null,c=null,f=null,d=null;for(let m of this.documentOffsets.keys()){if(m>=e){d!=null&&e>d?(l=f,c=d):(l=this.documentOffsets.get(m),c=m);break}f=this.documentOffsets.get(m),d=m}l==null&&(l=f,c=d),l!=null?(s=e-(c!=null?c:0),i=l.line,e<=(c!=null?c:0)?(i=l.line,s=e+1):i=l.line+1):this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let a=new Hn;return a.index=n,a.offset=e,a.line=i+this.shiftLine,a.char=s,a}getFragments(){return this.fragments}getFragmentsBetween(e,n){let r=[];return this.fragments.forEach(i=>{var l,c,f,d;let s=(c=(l=i.startPosition)==null?void 0:l.index)!=null?c:0,a=(d=(f=i.endPosition)==null?void 0:f.index)!=null?d:0;s>e&&a<n&&r.push(i)}),r}getFragmentContaining(e){var n,r,i,s;for(let a=0;a<this.fragments.length;a++){let l=this.fragments[a];if(((r=(n=l.startPosition)==null?void 0:n.index)!=null?r:0)<e.index&&((s=(i=l.endPosition)==null?void 0:i.index)!=null?s:0)>e.index)return l}return null}checkCurrentOffsets(){if(this.currentIndex>this.chars.length){this.cur=null,this.prev=null,this.next=null;return}if(this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen){let e=!0;if(this.currentIndex==this.charLen-1){let n=re.split(re.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,this.currentChunkOffset==this.inputLen&&(e=!1),n.forEach(r=>{this.chars.push(r),this.charLen+=1})}e&&this.currentIndex+1<this.chars.length&&(this.next=this.chars[this.currentIndex+1])}}processInputText(e){this.content=e,this.inputLen=this.content.length;let n=[...this.content.matchAll(/(<(?!\?[php|?=]))/gm)],r=[];n.forEach(i=>{var a;let s=(a=i.index)!=null?a:0;for(let l=0;l<this.nodeIndex.length;l++){let c=this.nodeIndex[l];if(s>=c.start&&s<=c.end)return}r.push(s)}),this.fragmentStartIndex=r}setIndexRanges(e){return this.nodeIndex=e,this}fetchAt(e,n){return this.content.substr(e,n)}getFragmentsContainingStructures(){let e=[];return this.fragments.forEach(n=>{let r=n.name.toLowerCase();if(!(r!="script"&&r!="style")&&!n.isClosingFragment&&!n.isSelfClosing&&n.containsStructures){let i=this.getClosingFragmentAfter(n);i!=null&&e.push({start:n,end:i})}}),e}parse(e){if(this.resetState().processInputText(e),this.fragmentStartIndex.length==0)return[];for(let s=0;s<this.fragmentStartIndex.length;s++){let a=this.fragmentStartIndex[s];if(this.resetIntermediateState(),this.seedOffset=a,this.currentChunkOffset=a,this.parseIntermediateText(),this.isScript){let l=!1;for(let c=s+1;c<this.fragmentStartIndex.length;c++){let f=this.fragmentStartIndex[c];if(this.fetchAt(f,8).toLowerCase()=="<\/script"){s=c-1,this.isScript=!1,l=!0;break}}if(!l)break}}let r=0,i=0;return this.fragments.forEach(s=>{let a=s.name.toLowerCase();(a=="script"||a=="style")&&(s.embeddedIndex=i,this.embeddedIndexedFragments.set(i,s),i+=1),s.index=r,this.indexedFragments.set(r,s),r+=1}),this.fragments}getFragment(e){return this.indexedFragments.get(e)}getEmbeddedFragment(e){return this.embeddedIndexedFragments.has(e)?this.embeddedIndexedFragments.get(e):null}hasFragments(){return this.fragments.length>0}skipToEndOfPhp(){for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),Oy(this.cur)&&Ly(this),this.cur==W.Punctuation_ForwardSlash&&this.next==W.Punctuation_ForwardSlash){Ow(this,!0);continue}if(this.cur==W.Punctuation_ForwardSlash&&this.next==W.Punctuation_Asterisk){Dw(this,!0);continue}if(this.cur==W.Punctuation_Question&&this.next==W.Punctuation_GreaterThan||this.next==null)break}}parseIntermediateText(){this.chars=this.content.substr(this.currentChunkOffset,this.chunkSize).split(""),this.charLen=this.chars.length;let e=this.currentIndex,n=[],r=[],i=!1,s=!1;for(this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),re.ctypeSpace(this.cur)&&(i=!0),this.next==W.Punctuation_LessThan){let a=1;this.cur==W.Punctuation_ForwardSlash&&(a=2);let l=this.fetchAt(this.currentChunkOffset+a,5);if(l.toLowerCase()=="<?php"||l.startsWith("<?=")){this.skipToEndOfPhp();continue}}if(this.currentIndex>0&&this.cur==W.Punctuation_LessThan||this.next==null&&this.cur!=W.Punctuation_GreaterThan)break;if(!i&&this.cur==W.Punctuation_LessThan&&this.next==W.Punctuation_ForwardSlash&&(s=!0),!i&&this.cur!=W.Punctuation_LessThan&&this.cur!=W.Punctuation_ForwardSlash&&this.cur!=W.Punctuation_GreaterThan&&r.push(this.cur),Oy(this.cur)){let a=this.currentIndex;Ly(this);let l=new Og;l.startPosition=this.positionFromOffset(a+this.seedOffset,a+this.seedOffset),l.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset);let c=a+this.seedOffset,f=this.currentIndex+this.seedOffset+1;l.content=this.content.substr(c,f-c);let d=[];for(let m=a-2;m>=0;m--){let _=this.chars[m];if(re.ctypeSpace(_))break;d.push(_)}l.name=d.reverse().join(""),n.push(l);continue}if(this.cur==W.Punctuation_ForwardSlash&&this.next==W.Punctuation_GreaterThan){let a=new Vp;a.startPosition=this.positionFromOffset(e+this.seedOffset,e+this.seedOffset),a.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset+1,this.currentIndex+this.seedOffset+1),a.parameters=n,a.isSelfClosing=!0,a.name=r.join(""),a.isClosingFragment=s,this.fragments.push(a),s?this.fragmentOpeningIndex.set(a.startPosition.index+1,1):this.fragmentOpeningIndex.set(a.startPosition.index,1);break}if(this.cur==W.Punctuation_GreaterThan){let a=new Vp;a.startPosition=this.positionFromOffset(e+this.seedOffset,e+this.seedOffset),a.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),a.parameters=n,a.name=r.join(""),a.isClosingFragment=s,this.fragments.push(a),s?this.fragmentOpeningIndex.set(a.startPosition.index+1,1):this.fragmentOpeningIndex.set(a.startPosition.index,1),a.name.toLowerCase()=="script"&&a.isClosingFragment==!1&&(this.isScript=!0);break}}}}});var My,qw=C(()=>{He();Xa();My=class{constructor(e,n){this.documentParser=e,this.fragmentsParser=n}doesContainFragments(e){var i,s,a,l,c;let n=(s=(i=e.endPosition)==null?void 0:i.index)!=null?s:0,r=(c=(l=(a=e.isClosedBy)==null?void 0:a.startPosition)==null?void 0:l.index)!=null?c:0;return this.fragmentsParser.getFragmentsBetween(n,r).length>0}analyze(){let e=this.documentParser.getNodes();!this.fragmentsParser.hasFragments()||(this.fragmentsParser.getFragments().forEach(n=>{let r=n.name.toLowerCase();if(n.isClosingFragment==!1&&n.isSelfClosing==!1&&(r=="script"||r=="style")){let i=this.fragmentsParser.getClosingFragmentAfter(n);if(i==null)return;n.endPosition!=null&&i.startPosition!=null&&this.documentParser.getNodesBetween(n.endPosition,i.startPosition).forEach(a=>{(a instanceof Mt||a instanceof J&&a.isClosedBy!=null)&&(n.containsStructures=!0),r=="style"?a.isInStyleTag=!0:a.isInScriptTag=!0})}}),e.forEach(n=>{var a,l,c,f,d,m;if(n instanceof Et||n.startPosition==null)return;n instanceof J&&(Xn.isConditionalStructure(n)||!n.isClosingTag)&&n.isClosedBy!=null&&(n.containsAnyFragments=this.doesContainFragments(n));let r=this.fragmentsParser.getFragmentContaining(n.startPosition);if(r==null)return;if(n.fragment=r,n.startPosition.index-((l=(a=r.startPosition)==null?void 0:a.index)!=null?l:0)<=3){n.fragmentPosition=0;return}if(r.parameters.length==0){n.fragmentPosition=2;return}let s=!1;for(let _=0;_<r.parameters.length;_++){let g=r.parameters[_];if(((f=(c=g.startPosition)==null?void 0:c.index)!=null?f:0)<n.startPosition.index&&((m=(d=g.endPosition)==null?void 0:d.index)!=null?m:0)>n.startPosition.index){n.fragmentPosition=1,n.fragmentParameter=g,s=!0;break}}s||(n.fragmentPosition=2)}))}}});var Fy,Uw=C(()=>{He();Tr();Fy=class{static analyze(e){e.forEach(n=>{var r,i,s,a;if(n instanceof J){if(n.prev instanceof J&&n.isPaired()&&n.prev.isInlineAntlers==!0){n.isInlineAntlers=!1,n.isClosedBy!=null&&(n.isClosedBy.isInlineAntlers=!1);return}let l=!1,c=!1;if(n.next==null)l=!0;else if(n.next instanceof Et){let f=re.getFirstLine(n.next.content);(n.next.next==null&&f.trim().length==0||re.trimLeft(f," 	").startsWith(`
`)==!1&&f.trim().length>0||n.next.next instanceof ur||n.next.next instanceof J&&(n.next.next.isPaired()==!1||((i=(r=n.next.next.startPosition)==null?void 0:r.line)!=null?i:0)!=((a=(s=n.startPosition)==null?void 0:s.line)!=null?a:0)))&&(l=!0)}else n.next instanceof J&&n.next.isPaired()&&(l=!0);if(n.prev==null)c=!0;else if(n.prev instanceof Et){let f=re.getLastLine(n.prev.content);re.trimRight(f," 	").endsWith(`
`)==!1&&f.trim().length>0||n.prev.prev instanceof ur?c=!0:n.prev.prev instanceof J&&(n.prev.prev.isInlineAntlers?c=!0:n.prev.prev.isClosingTag&&n.prev.prev.isOpenedBy!=null&&(n.prev.prev.isOpenedBy instanceof ur||n.prev.prev.runtimeName()=="noparse")&&(n.prev.prev.isInlineAntlers=!0,c=!0))}else n.prev instanceof J&&n.prev.isPaired()&&(c=!0);n.isInlineAntlers=l&&c}})}}});var jw,lt,W,Bs=C(()=>{Zt();en();He();Hl();gw();Tr();jw=he(Dp());df();vw();Ay();Sw();mf();Aw();Rw();Ls();kw();cs();Vw();qw();Ds();Py();Uw();lt=class{constructor(){this.interpolationRegions=new Map;this.nodeParser=new Sy;this.chars=[];this.charLen=0;this.lastAntlersNode=null;this.content="";this.originalContent="";this.currentIndex=0;this.currentContent=[];this.sourceContent=[];this.startIndex=0;this._recoveryStartIndex=0;this.cur=null;this.next=null;this.prev=null;this.nodes=[];this.renderNodes=[];this.isInterpolatedParser=!1;this.inputLen=0;this.documentOffsets=new Map;this.lineIndex=new Map;this.lastDocumentOffsetKey=null;this.isDoubleBrace=!1;this.interpolationEndOffsets=new Map;this.isScanningInterpolations=!1;this.seedStartLine=1;this.seedStartchar=1;this.frontMatterEndLine=-1;this.lastAntlersEndIndex=-1;this.seedOffset=0;this.antlersStartIndex=[];this.antlersStartPositionIndex=new Map;this.chunkSize=5;this.maxLine=1;this.currentChunkOffset=0;this.isNoParse=!1;this.antlersErrors=[];this.structureErrors=[];this.languageParser=new Rn;this.documentPath=null;this.pushedErrors=new Map;this.frontMatter="";this.shiftLine=0;this.doesHaveUncloseIfStructures=!1;this.doesHaveUnclosedStructures=!1;this.parseChildDocuments=!1;this.structuralErrorCodes=[R.TYPE_PARSE_UNCLOSED_CONDITIONAL,R.TYPE_PARSE_UNPAIRED_CONDITIONAL,R.TYPE_RECURSIVE_UNPAIRED_NODE,R.TYPE_RUNTIME_FATAL_UNPAIRED_LOOP_END,R.TYPE_UNPAIRED_CLOSING_TAG];this.structure=new ky(this);this.fragmentsParser=new Dy,this.fragmentsAnalyzer=new My(this,this.fragmentsParser)}withChildDocuments(e){return this.parseChildDocuments=e,this}shouldParseChildDocument(){return this.parseChildDocuments}hasUnclosedIfStructures(){return this.doesHaveUncloseIfStructures}hasUnclosedStructures(){return this.doesHaveUnclosedStructures}getFrontMatter(){return this.frontMatter}setDocumentPath(e){this.documentPath=e}getFrontMatterEndLine(){return this.frontMatterEndLine}pushError(e){(e.errorCode==R.TYPE_PARSE_UNCLOSED_CONDITIONAL||e.errorCode==R.TYPE_PARSE_UNPAIRED_CONDITIONAL)&&(this.doesHaveUncloseIfStructures=!0);let n=e.hash();this.pushedErrors.has(n)||(this.pushedErrors.set(n,e),this.antlersErrors.push(e),this.structuralErrorCodes.includes(e.errorCode)&&this.structureErrors.push(e))}getInterpolationRegions(){return this.interpolationRegions}getDocumentPath(){return this.documentPath}checkCurrentOffsets(){if(this.currentIndex>this.chars.length){this.cur=null,this.prev=null,this.next=null;return}if(this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen){let e=!0;if(this.currentIndex==this.charLen-1){let n=re.split(re.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,this.currentChunkOffset==this.inputLen&&(e=!1),n.forEach(r=>{this.chars.push(r),this.charLen+=1})}e&&this.currentIndex+1<this.chars.length&&(this.next=this.chars[this.currentIndex+1])}}charLeftAt(e){return e==null||e.char<=1?null:this.charAt(this.positionFromCursor(e.line,e.char-1))}charLeftAtCursor(e,n){return this.charLeftAt(this.positionFromCursor(e,n))}charRightAt(e){return e==null?null:this.charAt(this.positionFromCursor(e.line,e.char+1))}charRightAtCursor(e,n){return this.charRightAt(this.positionFromCursor(e,n))}punctuationLeftAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:wa.findLeftNeighboringNextPunctuation(e.char,r,n)}punctuationLeftAtCursor(e,n,r=4){return this.punctuationLeftAt(this.positionFromCursor(e,n),r)}punctuationRightAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:wa.findRightBeighboringNextPunctuation(e.char,r,n)}punctuationRightAtCursor(e,n,r=4){return this.punctuationRightAt(this.positionFromCursor(e,n),r)}wordRightAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);if(r==null)return null;let i=wa.findRightNeighboringNextAlphaNumeric(e.char,r,n);return i==null?null:wa.scanWordAt(i,r,n)}wordRightAtCursor(e,n,r=4){return this.wordRightAt(this.positionFromCursor(e,n),r)}wordLeftAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);if(r==null)return null;let i=wa.findLeftNeighboringNextAlphaNumeric(e.char,r,n);return i==null?null:wa.scanWordAt(i,r,n)}wordLeftAtCursor(e,n,r=4){return this.wordLeftAt(this.positionFromCursor(e,n),r)}wordAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:wa.scanWordAt(e.char,r,n)}getLineText(e){let n=this.getLineIndex(e);return n!=null?re.trimRight(this.getContent().substring(n.start,n.end+1)):null}wordAtCursor(e,n,r=4){return this.wordAt(this.positionFromCursor(e,n),r)}charAt(e){return e==null?null:this.content.substr(e.offset,1)}getLinesAround(e){var s;let n=new Map,r=e-3,i=e+3;r<1&&(r=1),i>this.maxLine&&(i=this.maxLine);for(let a=r;a<=i;a++)n.set(a,(s=this.getLineText(a))!=null?s:"");return n}charAtCursor(e,n){return this.charAt(this.positionFromCursor(e,n))}getLineIndex(e){if(e==this.maxLine){let r=this.lineIndex.get(e-1);if(r!=null){let i=r.endIndex+1;return{end:this.inputLen-1,start:i}}return null}let n=this.lineIndex.get(e);return n!=null?{start:n.startIndex,end:n.endIndex}:null}positionFromCursor(e,n){if(e==this.maxLine){let i=this.lineIndex.get(e-1);if(i!=null){let s=i.endIndex+1,a=s+(n-1),l=new Hn;return l.offset=a,l.line=e,l.char=n,l.index=a,l}return null}let r=this.lineIndex.get(e);if(r!=null){let i=new Hn;return i.offset=r.startIndex+(n-1),i.line=r.line,i.char=n,i.index=r.startIndex+(n-1),i}return null}parse(e){var f,d,m,_,g,T,N,A,b,x;if(this.resetState(),!this.processInputText(e))return[];let n=this.antlersStartIndex.length,r=n-1;if(n==0&&!this.isNoParse){let v=new Et;v.withParser(this),v.content=this.prepareLiteralContent(this.content),v.startPosition=this.positionFromOffset(0,0),v.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1),v.sourceContent=this.content,this.nodes.push(v)}else for(let v=0;v<n;v+=1){let I=this.antlersStartIndex[v];if(this.seedOffset=I,v==0&&I>0&&!this.isNoParse){let X=new Et;if(X.withParser(this),X.content=this.prepareLiteralContent(this.content.substr(0,I)),X.content.length>0){X.startPosition=this.positionFromOffset(0,0),X.endPosition=this.positionFromOffset(I,I-1);let Y=(f=X.startPosition.index)!=null?f:0,te=X.endPosition.index+1;X.sourceContent=this.content.substr(Y,te-Y),this.nodes.push(X)}}if(I<this.lastAntlersEndIndex)continue;if(this.currentChunkOffset=I,this.resetIntermediateState(),this.parseIntermediateText(),this.lastAntlersNode!=null&&!(this.lastAntlersNode instanceof Wo)&&this.lastAntlersNode.isComment&&!(this.lastAntlersNode instanceof ku)&&v+1<n){let X=this.antlersStartPositionIndex.get(v+1);if(this.lastAntlersNode.endPosition!=null&&X<this.lastAntlersNode.endPosition.offset){let Y=null;for(let te=v+1;te<n;te++)if(this.antlersStartIndex[te]>this.lastAntlersNode.endPosition.offset){Y=te;break}if(Y==null){let te=this.prepareLiteralContent(this.content.substr(this.lastAntlersNode.endPosition.offset+1));if(te.length>0&&!this.isNoParse){let ue=new Et;ue.withParser(this),ue.content=te;let de=this.lastAntlersNode.endPosition.offset+1;ue.startPosition=this.positionFromOffset(de,de),ue.endPosition=this.positionFromOffset(this.inputLen,this.inputLen);let ie=(d=ue.startPosition.index)!=null?d:0,pe=ue.endPosition.index+1;ue.sourceContent=this.content.substr(ie,pe-ie),this.nodes.push(ue)}break}else{let te=this.antlersStartIndex[Y],ue=te-this.lastAntlersNode.endPosition.offset-1;if(ue>0){let de=this.lastAntlersNode.endPosition.offset,ie=te-1;de+=1,ie-=1;let pe=this.content.substr(de,ue);if(pe.length>0&&!this.isNoParse){let rt=new Et;rt.withParser(this),rt.content=pe,rt.startPosition=this.positionFromOffset(de,de),rt.endPosition=this.positionFromOffset(ie,ie);let Te=(m=rt.startPosition.index)!=null?m:0,le=rt.endPosition.index+1;rt.sourceContent=this.content.substr(Te,le-Te),this.nodes.push(rt)}continue}v=Y-1;continue}}}let O=!1;if(this.antlersStartPositionIndex.has(this.currentChunkOffset)?this.lastAntlersEndIndex<this.currentChunkOffset&&(O=!0):O=!0,O){if(v+1<n){let X=this.antlersStartIndex[v+1],Y=this.lastAntlersEndIndex+1;if(X<Y)if(this.lastAntlersEndIndex>X)v+2<n&&(X=this.antlersStartIndex[v+2]);else continue;if(v+1==r&&X<=this.lastAntlersEndIndex){if(this.isNoParse)break;let te=this.currentChunkOffset,ue=this.content.substr(Y),de=new Et;if(de.withParser(this),de.content=this.prepareLiteralContent(ue),de.content.length>0){de.startPosition=this.positionFromOffset(te,te),de.endPosition=this.positionFromOffset(X,X-1);let ie=(_=de.startPosition.index)!=null?_:0,pe=de.endPosition.index+1;de.sourceContent=this.content.substr(ie+2,this.inputLen-ie+2),this.nodes.push(de)}break}else{let te=X-this.lastAntlersEndIndex-1;if(te==0||this.isNoParse)continue;let de=this.currentChunkOffset;this.lastAntlersNode instanceof ku&&(Y=((T=(g=this.lastAntlersNode.endPosition)==null?void 0:g.offset)!=null?T:0)+1,te-=((A=(N=this.lastAntlersNode.endPosition)==null?void 0:N.offset)!=null?A:0)+1,de=Y),this.lastAntlersNode instanceof Wo&&(Y-=1,te+=1);let ie=this.content.substr(Y,te),pe=new Et;if(pe.withParser(this),pe.content=this.prepareLiteralContent(ie),pe.content.length>0){pe.startPosition=this.positionFromOffset(Y,Y),pe.endPosition=this.positionFromOffset(X,X-1);let rt=(b=pe.startPosition.index)!=null?b:0,Te=pe.endPosition.index+1;pe.sourceContent=this.content.substr(rt,Te-rt),this.nodes.push(pe)}}continue}if(v!==r&&this.lastAntlersNode!=null&&this.lastAntlersNode.endPosition!=null&&this.positionFromOffset(I,I).isBefore(this.lastAntlersNode.endPosition)){if(v+1<n){if(this.antlersStartIndex[v+1]<this.lastAntlersNode.endPosition.offset)continue}else if(v+1!=r)continue}if(v==r){let X=this.currentIndex+I;if(X<this.inputLen&&!this.isNoParse){let Y=new Et;if(Y.withParser(this),Y.content=this.prepareLiteralContent(this.content.substr(X)),Y.content.length>0){Y.startPosition=this.positionFromOffset(X,X),Y.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1);let te=(x=Y.startPosition.index)!=null?x:0,ue=Y.endPosition.index+1;Y.sourceContent=this.content.substr(te,ue-te),this.nodes.push(Y)}break}}}}let i=0;this.nodes.forEach(v=>{v.index=i,i+=1}),this.nodes.length>500&&(this.parseChildDocuments=!1),this.nodes.forEach(v=>{v instanceof J&&v.isComment||v instanceof J&&v.interpolationRegions.size>0&&(v.interpolationRegions.forEach((I,O)=>{let X=new lt;X.withChildDocuments(this.parseChildDocuments),X.setIsInterpolatedParser(!0);let Y=X.parse(I.parseContent);Y.length>1&&Y[1]instanceof J&&(Y=[Y[1]]),X.hasUnclosedIfStructures()&&(this.doesHaveUncloseIfStructures=!0),X.hasUnclosedStructures()&&(this.doesHaveUnclosedStructures=!0),v.processedInterpolationRegions.set(O,Y),this.mergeErrors(X.getAntlersErrors())}),v.hasProcessedInterpolationRegions=!0)}),this.content.length>0&&this.fragmentsParser.setIndexRanges(this.getNodeIndexRanges()).parse(this.content);let s=new Gc;this.renderNodes=s.associate(this.nodes,this),this.createChildDocuments(this.renderNodes);let a=null,l=null;for(let v=0;v<this.nodes.length;v++){let I=this.nodes[v];v+1<this.nodes.length?l=this.nodes[v+1]:l=null,I.next=l,I.prev=a,a=I}this.fragmentsAnalyzer.analyze(),Fy.analyze(this.nodes),this.nodes.forEach(v=>{if(v instanceof J&&v.isClosedBy!=null){let I=v.getImmediateChildren();for(let O=0;O<I.length;O++){let X=I[O];if(X instanceof J&&X.isClosedBy!=null){v.containsChildStructures=!0;break}else if(X instanceof Mt){v.containsChildStructures=!0;break}}}}),this.nodes.forEach(v=>{if(v instanceof J&&v.isClosingTag&&v.isOpenedBy==null){let I="Unpaired closing tag.";v.isInterpolationNode&&(I+=" Tag pairs are not supported within Antlers tags."),v.pushError($.makeSyntaxError(R.TYPE_UNPAIRED_CLOSING_TAG,v,I))}}),Ry.associateRecursiveParent(this.nodes),this.nodes.forEach(v=>{var I;if(!(v instanceof J&&v.isComment)&&((v instanceof J||v instanceof on)&&(v.isInterpolationNode=this.isInterpolatedParser),(v instanceof J||v instanceof on)&&v.interpolationRegions.size>0&&v.runtimeNodes.forEach(O=>{O instanceof Ae&&v.interpolationRegions.has(O.name)&&(O.isInterpolationReference=!0,O.interpolationNodes=v.processedInterpolationRegions.get(O.name))}),(v instanceof J||v instanceof on)&&v.hasParameters&&v.interpolationRegions.size>0&&v.parameters.forEach(O=>{v.interpolationRegions.forEach((X,Y)=>{O.value.includes(Y)&&O.interpolations.push(Y)})}),v instanceof J&&v.runtimeNodes.length>0&&v.isClosingTag==!1&&!v.isComment&&(v.parsedRuntimeNodes=this.languageParser.parse(v.runtimeNodes),v.hasParsedRuntimeNodes=!0,!v.isTagNode&&v.parsedRuntimeNodes.length>0))){let O=v.nodeAtIndex(0);O!=null&&O instanceof Ae&&O.name==((I=v.name)==null?void 0:I.name)&&(v.modifierChain=O.modifierChain)}}),this.languageParser.getCreatedModifierChains().forEach(v=>{v.modifierChain.length>0&&v.modifierChain.forEach(I=>{var O,X;I.nameNode!=null&&bt.instance!=null&&bt.instance.hasModifier((O=I.nameNode)==null?void 0:O.name)&&(I.modifier=(X=bt.instance)==null?void 0:X.getModifier(I.nameNode.name))})});let c=1;return this.nodes.forEach(v=>{var I,O;if(v instanceof J){if(v.isComment)return;v.isTagNode=(O=(I=Ze.instance)==null?void 0:I.isKnownTag(v.runtimeName()))!=null?O:!1,v.scopeName=v.findParameterValue("scope",""),v.antlersNodeIndex=c,c+=1,wy.analyzeModifierNodeParameters(v)}}),this.nodes.forEach(v=>{var I,O,X,Y,te,ue,de,ie;if(v instanceof J&&v.isClosedBy!=null){let pe=((O=(I=v.endPosition)==null?void 0:I.offset)!=null?O:0)+1,rt=(Y=(X=v.isClosedBy.startPosition)==null?void 0:X.offset)!=null?Y:0,Te=(ue=(te=v.startPosition)==null?void 0:te.offset)!=null?ue:0,le=((ie=(de=v.isClosedBy.endPosition)==null?void 0:de.offset)!=null?ie:0)+1;v.documentText=this.content.substr(pe,rt-pe),v.nodeContent=this.content.substr(Te,le-Te),this.parseChildDocuments&&(v.childDocument=nn.childFromText(v.documentText,hf(v.children)))}}),this.renderNodes}createChildDocuments(e){e.forEach(n=>{var r,i,s,a,l,c,f,d;if(n instanceof J&&n.isClosedBy!=null){let m=n.isClosedBy,_=((i=(r=n.startPosition)==null?void 0:r.index)!=null?i:0)-1,g=((a=(s=m.endPosition)==null?void 0:s.index)!=null?a:0)-_;if(n.documentText=this.content.substr(_,g),this.parseChildDocuments){let T=(c=(l=n.endPosition)==null?void 0:l.index)!=null?c:0,N=((d=(f=m.startPosition)==null?void 0:f.index)!=null?d:0)-1-T,A=this.content.substr(T,N);n.childDocument=nn.childFromText(A,hf(n.getChildren()))}}})}getNodeIndexRanges(){let e=[];return this.nodes.forEach(n=>{var r,i,s,a;n instanceof Et||e.push({start:(i=(r=n.startPosition)==null?void 0:r.index)!=null?i:0,end:(a=(s=n.endPosition)==null?void 0:s.index)!=null?a:0})}),e}positionFromOffset(e,n,r=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let l=this.documentOffsets.get(e);i=l.line,s=l.char}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let l=null,c=null,f=null,d=null;for(let m of this.documentOffsets.keys()){if(m>=e){d!=null&&e>d?(l=f,c=d):(l=this.documentOffsets.get(m),c=m);break}f=this.documentOffsets.get(m),d=m}if(l==null&&(l=f,c=d),l!=null)if(r){let m=this.content.split(""),_=e-(c!=null?c:0),g=l.char-(c!=null?c:0)+e;s=_,i=l.line,e<=(c!=null?c:0)?(i=l.line,s=e+1):i=l.line+1}else{let m=this.content.split(""),_=e-(c!=null?c:0),g=l.char-(c!=null?c:0)+e;s=_,i=l.line,e<=(c!=null?c:0)?(i=l.line,s=e+1):i=l.line+1}else this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let a=new Hn;return a.index=n,a.offset=e,a.line=i+this.shiftLine,a.char=s,a}getLanguageParser(){return this.languageParser}getText(e,n){return this.content.substr(e,n-e)}getOriginalContent(){return this.originalContent}getContent(){return this.content}getFragments(){return this.fragmentsParser.getFragments()}getFragmentsParser(){return this.fragmentsParser}getFragmentsContainingStructures(){return this.fragmentsParser.getFragmentsContainingStructures()}setIsInterpolatedParser(e){return this.isInterpolatedParser=e,this}setStartLineSeed(e){return this.seedStartLine=e,this}setSeedStartChar(e){return this.seedStartchar=e,this}resetIntermediateState(){this.chars=[],this.charLen=0,this.currentIndex=0,this.currentContent=[],this.sourceContent=[],this.cur=null,this.next=null,this.prev=null}setSeedPosition(e){return e==null?this.shiftLine=0:this.shiftLine=e.line,this}resetState(){if(this.languageParser.reset(),this.charLen=0,this.antlersStartIndex=[],this.antlersErrors=[],this.pushedErrors.clear(),this.antlersStartPositionIndex.clear(),this.lastAntlersEndIndex=-1,this.renderNodes=[],this.nodes=[],_o.globalTagEnterStack.length>0){let e=_o.globalTagEnterStack[_o.length-1];e!=null&&e.endPosition!=null&&this.setStartLineSeed(e.endPosition.line)}this.seedOffset=0,this.isScanningInterpolations=!1,this.content="",this.chars=[],this.currentIndex=0,this.startIndex=0,this._recoveryStartIndex=0,this.cur=null,this.next=null,this.prev=null,this.inputLen=0,this.documentOffsets.clear(),this.isDoubleBrace=!1,this.interpolationRegions.clear(),this.interpolationEndOffsets.clear()}fetch(e){let n=this.currentChunkOffset+this.chunkSize-this.chars.length;return re.substring(this.content,n,e)}getParsedContent(){return this.content}peek(e){if(e==this.charLen){let n=re.split(re.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,n.forEach(r=>{this.chars.push(r),this.charLen+=1})}return this.chars[e]}parseIntermediateText(){for(this.currentContent=[],this.sourceContent=[],this.startIndex=0,this.chars=this.content.substr(this.currentChunkOffset,this.chunkSize).split(""),this.charLen=this.chars.length,this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==lt.LeftBrace&&this.next==lt.LeftBrace&&this.prev==lt.AtChar){this.dumpLiteralNode(this.currentIndex);let e=new ur;e.withParser(this),e.name=new Xr,e.name.name="noparse",e.content="{{",e.startPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),e.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),this.nodes.push(e),this.currentContent=[],this.sourceContent=[],this.currentIndex+=1;continue}if((this.prev==null||this.prev!=null&&this.prev!=lt.AtChar)&&this.next!=null&&this.cur==lt.LeftBrace&&this.next==lt.LeftBrace){this.dumpLiteralNode(this.currentIndex);let e=null;if(this.currentIndex+2<this.inputLen&&(e=this.peek(this.currentIndex+2)),e==lt.Punctuation_Question&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfPhpRegion(lt.Punctuation_Question),this.isDoubleBrace=!1;break}if(e==lt.Punctuation_Dollar&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfPhpRegion(lt.Punctuation_Dollar),this.isDoubleBrace=!1;break}if(e==lt.Punctuation_Octothorp&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersCommentRegion(),this.isDoubleBrace=!1;break}if(!this.isNoParse)this.startIndex=this.currentIndex,this._recoveryStartIndex=this.currentIndex,this.isDoubleBrace=!0,this.currentIndex+=2,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersRegion(),this.isDoubleBrace=!1;else if(this.fetch(11).replace(" ","").toLocaleLowerCase().startsWith("{{/noparse")){this.startIndex=this.currentIndex,this._recoveryStartIndex=this.currentIndex,this.isDoubleBrace=!0,this.currentIndex+=2,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersRegion(),this.isDoubleBrace=!1,this.isNoParse=!1;break}else{this.currentContent.push(this.cur);continue}break}if(this.cur==lt.AtChar&&this.next!=null&&this.next==lt.LeftBrace){if(this.currentIndex+2>=this.inputLen){this.appendContent(this.next),this.dumpLiteralNode(this.currentIndex+1);break}let e=0;for(let n=this.currentIndex+1;n<this.inputLen&&this.chars[n]==lt.LeftBrace;n+=1)e+=1;this.currentContent=this.currentContent.concat(lt.LeftBrace.repeat(e).split("")),this.sourceContent=this.currentContent.concat(lt.LeftBrace.repeat(e).split("")),this.currentIndex+=e}this.appendContent(this.cur),this.next==null&&this.currentContent.length>0&&this.dumpLiteralNode(this.currentIndex)}}getRenderNodes(){return this.renderNodes}processInputText(e){var m;if(this.originalContent=e,this.content=re.normalizeLineEndings(e),this.inputLen=this.content.length,this.content.startsWith("---")){let _=this.content.split(`
`),g=[],T=[];T.push("");for(let N=1;N<_.length;N++){let A=_[N];if(A.startsWith("---")){T.push(""),T=T.concat(_.slice(N+1)),this.content=T.join(`
`),this.frontMatter=g.join(`
`),this.frontMatterEndLine=N+1;break}else g.push(A),T.push("")}}let n=[...this.content.matchAll(/(\n)/gm)],r=n.length,i=this.seedStartLine,s=null,a=0,l=0;for(let _=0;_<r;_++){let g=n[_],T=(m=g.index)!=null?m:0,N=T;s!=null?N=T-s:N=N+1,this.documentOffsets.set(T,{char:N,line:i});let A=0,b=0;_==0?(b=N-1,A=0):(A=l+1,b=T),this.lineIndex.set(i,{char:N,line:i,startIndex:A,endIndex:b}),this.lastDocumentOffsetKey=T,this.maxLine=i,i+=1,s=T,l=b,a=A}this.maxLine+=1;let c=[...this.content.matchAll(/@?{{/gm)],f=0,d=!1;return c.forEach(_=>{let g=_[0];if(g.startsWith(lt.AtChar)){f=this.content.indexOf(g,f)+2,d=!0;return}let T=this.content.indexOf(g,f);if(d&&f==T){f=T;return}this.antlersStartIndex.push(T),this.antlersStartPositionIndex.set(T,1),f=T+2,d=!1}),!0}prepareLiteralContent(e){return e.replace("@{{","{{")}scanToEndOfPhpRegion(e){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==e&&this.next!=null&&this.next==lt.RightBrace&&this.peek(this.currentIndex+2)==lt.RightBrace){let r=this.makeAntlersPhpNode(this.currentIndex,e==lt.Punctuation_Dollar);this.currentContent=[],this.sourceContent=[],this.currentIndex+=3,this.startIndex=this.currentIndex,this._recoveryStartIndex=this.startIndex,this.nodes.push(r),this.lastAntlersNode=r;break}if(this.appendContent(this.cur),this.next==null){let n=this.makeAntlersPhpFailedNode(this.currentIndex);this.nodes.push(n),this.lastAntlersNode=n,this.doesHaveUnclosedStructures=!0,this.antlersErrors.push($.makeSyntaxError(R.TYPE_INCOMPLETE_PHP_EVALUATION_REGION,n,"Unexpected end of input while parsing Antlers PHP region."));break}}}appendContent(e){e!=null&&(this.currentContent.push(e),this.sourceContent.push(e))}scanToEndOfAntlersCommentRegion(){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==lt.Punctuation_Octothorp&&this.next!=null&&this.next==lt.RightBrace&&this.peek(this.currentIndex+2)==lt.RightBrace){let n=this.makeAntlersTagNode(this.currentIndex,!0);this.currentContent=[],this.sourceContent=[],this.currentIndex+=3,this.nodes.push(n),this.lastAntlersNode=n;break}if(this.appendContent(this.cur),this.next==null){let e=this.makeAntlersCommentFailedNode(this.currentIndex);this.nodes.push(e),this.lastAntlersNode=e,this.doesHaveUnclosedStructures=!0,this.antlersErrors.push($.makeSyntaxError(R.TYPE_INCOMPLETE_ANTELRS_COMMENT_REGION,e,"Unexpected end of input while parsing Antlers comment region."));break}}}scanToEndOfInterpolatedRegion(){this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0);let e=[];this.isScanningInterpolations=!0;let n=0;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1)if(this.checkCurrentOffsets(),this.cur==lt.LeftBrace){if(this.prev==lt.AtChar){e.push(this.cur);continue}n+=1,e.push(this.cur)}else if(this.cur==lt.RightBrace){if(this.prev==lt.AtChar){e.push(this.cur);continue}if(n-=1,e.push(this.cur),n==0){this.interpolationEndOffsets.set(this.currentIndex,1);break}}else this.cur!=null&&e.push(this.cur);let r=e.join(""),s=("int_"+jw.Md5.hashStr(r)).substr(0,r.length),a=s.length,l=r.length;if(a<l){let c=l-a;s+="x".repeat(c)}return this.isScanningInterpolations=!1,{content:r,varContent:s}}bordersInterpolationRegion(e){if(this.interpolationEndOffsets.size==0)return!1;let n=e.offset-1;return n<=0?!1:this.interpolationEndOffsets.has(n)}getParseableContent(e){let n="";for(let r=0;r<=e;r++)this.content[r]==lt.LeftBrace||this.content[r]==lt.RightBrace?n+="~":n+=this.content[r];return n}scanToEndOfAntlersRegion(){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==lt.LeftBrace&&this.prev==lt.AtChar){this.currentContent.pop(),this.appendContent(this.cur);continue}if(this.isInterpolatedParser&&this.cur==lt.RightBrace&&this.prev==lt.AtChar){this.currentContent.pop(),this.appendContent(this.cur);continue}if(this.cur==lt.LeftBrace){let e=this.scanToEndOfInterpolatedRegion(),n=this.currentIndex+this.seedOffset,r=n-e.content.length,i=this.getParseableContent(r-1);_o.interpolatedVariables.push(e.varContent),this.currentContent=this.currentContent.concat(e.varContent.split("")),this.sourceContent=this.sourceContent.concat(e.content.split(""));let s=i+"{"+e.content+"}";this.interpolationRegions.set(e.varContent,{content:e.content,parseContent:s,varContent:e.varContent,startOffset:r,endOffset:n});continue}if(this.cur==lt.RightBrace&&this.next!=null&&this.next==lt.RightBrace){let e=this.makeAntlersTagNode(this.currentIndex,!1);e.name!=null&&e.name.name=="noparse"&&(this.isNoParse=!0),this.currentIndex+=2,this.nodes.push(e),this.lastAntlersNode=e;break}if(this.appendContent(this.cur),this.next==null){let e=this.makeAntlersFailedNode(this.currentIndex,!1);this.nodes.push(e),this.lastAntlersNode=e,this.doesHaveUnclosedStructures=!0;let n="Unexpected end of input while parsing Antlers region.";this.isScanningInterpolations&&(n="Unexpected end of input wihle parsing interpolated Antlers region."),this.antlersErrors.push($.makeSyntaxError(R.TYPE_INCOMPLETE_ANTLERS_REGION,e,n));break}}}makeAntlersPhpNode(e,n){let r=new Wo;return n?(r.rawStart="{{$",r.rawEnd="$}}"):(r.rawStart="{{?",r.rawEnd="?}}"),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset),e+3>this.inputLen?(r.endPosition=this.positionFromOffset(this.inputLen,this.inputLen-1),this.doesHaveUnclosedStructures=!0,this.antlersErrors.push($.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE,r,"Unexpected end of input while locating end of Antlers region.")),r):(this.lastAntlersEndIndex=e+3+this.seedOffset,r.endPosition=this.positionFromOffset(e+this.seedOffset,e+3+this.seedOffset),r)}makeAntlersPhpFailedNode(e){let n=new Dg;n.rawStart="{{$",n.rawEnd="$}}",n._isEndVirtual=!0,n.content=this.currentContent.join(""),n.sourceContent=this.sourceContent.join(""),n.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let r=this.getLineText(n.startPosition.line),i=this.getLineIndex(n.startPosition.line);if(r!=null){let a=r.substr(this._recoveryStartIndex);n.content=a,n.sourceContent=a}let s=e+this.seedOffset;return i!=null&&(this.currentIndex=i.end,s=i.end),n.endPosition=this.positionFromOffset(s,s),n}makeAntlersCommentFailedNode(e){let n=new ku;this.isDoubleBrace?(n.rawStart="{{",n.rawEnd="}}"):(n.rawStart="{",n.rawEnd="}"),n._isEndVirtual=!0;let r=!1,i=this.currentContent.length;i>0&&this.currentContent[i-1]==lt.Punctuation_ForwardSlash&&(this.currentContent.pop(),r=!0),n.isComment=!0,n.isSelfClosing=r,n.withParser(this),n.content=this.currentContent.join(""),n.sourceContent=this.sourceContent.join(""),n.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let s=this.getLineText(n.startPosition.line),a=this.getLineIndex(n.startPosition.line);if(s!=null){let c=s.substr(this._recoveryStartIndex);n.content=c,n.sourceContent=c}let l=e+this.seedOffset;return a!=null&&(this.currentIndex=a.end,l=a.end),n.endPosition=this.positionFromOffset(l,l),n.interpolationRegions=new Map,this.interpolationRegions.forEach((c,f)=>{n.content.includes(f)&&n.interpolationRegions.set(f,c)}),n}makeAntlersFailedNode(e,n){let r=new on;this.isDoubleBrace?(r.rawStart="{{",r.rawEnd="}}"):(r.rawStart="{",r.rawEnd="}"),r._isEndVirtual=!0;let i=!1,s=this.currentContent.length;s>0&&this.currentContent[s-1]==lt.Punctuation_ForwardSlash&&(this.currentContent.pop(),i=!0),r.isComment=n,r.isSelfClosing=i,r.withParser(this),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let a=this.getLineText(r.startPosition.line),l=this.getLineIndex(r.startPosition.line);if(a!=null){let d=re.trimLeft(this.content.substring(r.startPosition.offset+r.rawStart.length-1,l==null?void 0:l.end),"{");r.content=d,r.sourceContent=d}let c=e+this.seedOffset;l!=null&&(this.currentIndex=l.end,c=l.end),r.endPosition=this.positionFromOffset(c,c),r.interpolationRegions=new Map,this.interpolationRegions.forEach((d,m)=>{r.content.includes(m)&&r.interpolationRegions.set(m,d)});let f=this.nodeParser.parseNode(r);return this.mergeErrors(f.getErrors()),f}makeAntlersTagNode(e,n){let r=new J;this.isDoubleBrace?(r.rawStart="{{",r.rawEnd="}}"):(r.rawStart="{",r.rawEnd="}");let i=!1,s=this.currentContent.length;if(s>0&&this.currentContent[s-1]==lt.Punctuation_ForwardSlash&&(this.currentContent.pop(),i=!0),r.isInterpolationNode=this.isInterpolatedParser,r.isComment=n,r.isSelfClosing=i,r.withParser(this),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset),e+2>this.inputLen)return r.endPosition=this.positionFromOffset(this.inputLen,this.inputLen-1),this.doesHaveUnclosedStructures=!0,this.antlersErrors.push($.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE,r,"Unexpected end of input while locating end of Antlers region.")),r;if(n?this.lastAntlersEndIndex=e+2+this.seedOffset:this.lastAntlersEndIndex=e+1+this.seedOffset,r.endPosition=this.positionFromOffset(this.lastAntlersEndIndex,this.lastAntlersEndIndex),r.interpolationRegions=new Map,this.interpolationRegions.forEach((l,c)=>{r.content.includes(c)&&r.interpolationRegions.set(c,l)}),r.isComment)return r;let a=this.nodeParser.parseNode(r);return this.mergeErrors(a.getErrors()),a}mergeErrors(e){e.forEach(n=>{this.antlersErrors.push(n)})}getNodes(){return this.nodes}getNodesBetween(e,n){let r=[];return this.nodes.forEach(i=>{var s,a,l,c;((a=(s=i.startPosition)==null?void 0:s.offset)!=null?a:0)>e.offset&&((c=(l=i.endPosition)==null?void 0:l.offset)!=null?c:0)<n.offset&&r.push(i)}),r}antlersNodes(){return this.nodes.filter(function(e){return e instanceof J})}dumpLiteralNode(e){this.isNoParse||(this.currentContent.length>0&&this.nodes.push(this.makeLiteralNode(this.currentContent,this.startIndex,e)),this.currentContent=[],this.sourceContent=[])}makeLiteralNode(e,n,r){let i=new Et;return i.content=e.join(""),i.sourceContent=this.sourceContent.join(""),i.startPosition=this.positionFromOffset(n,n),i.endPosition=this.positionFromOffset(r,r),i.sourceContent=this.content.substr(n,r),i.withParser(this),i}addAntlersError(e){this.antlersErrors.push(e)}getAntlersErrors(){return this.antlersErrors}getStructureErrors(){return this.structureErrors}},W=lt;W.K_CHAR="char",W.K_LINE="line",W.NewLine=`
`,W.AtChar="@",W.LeftBrace="{",W.RightBrace="}",W.LeftBracket="[",W.RightBracket="]",W.String_EscapeCharacter="\\",W.String_Terminator_DoubleQuote='"',W.String_Terminator_SingleQuote="'",W.Punctuation_Question="?",W.Punctuation_Equals="=",W.Punctuation_Comma=",",W.Punctuation_Colon=":",W.Punctuation_Semicolon=";",W.Punctuation_Exclamation="!",W.Punctuation_Pipe="|",W.Punctuation_Ampersand="&",W.Punctuation_LessThan="<",W.Punctuation_GreaterThan=">",W.Punctuation_Octothorp="#",W.Punctuation_Tilde="~",W.Punctuation_FullStop=".",W.Punctuation_Dollar="$",W.Punctuation_Asterisk="*",W.Punctuation_Percent="%",W.Punctuation_Plus="+",W.Punctuation_Minus="-",W.Punctuation_Underscore="_",W.Punctuation_ForwardSlash="/",W.Punctuation_Caret="^",W.LeftParen="(",W.RightParent=")"});var mn,Ch=C(()=>{He();mf();mn=class{static findAssignmentNodes(e){let n=[];for(let r=0;r<e.length;r++)Rn.isAssignmentOperatorNode(e[r])&&n.push(e[r]);return n}static findAbstractNodesBefore(e,n){return this.findAbstractNodesBeforePosition(e.startPosition,n)}static findAbstractNodesBeforePosition(e,n){if(e==null)return[];let r=[];for(let i=0;i<n.length;i++){let s=n[i];if(s.startPosition!=null){if(s.startPosition.index>e.index)break;r.push(s)}}return r}static isBefore(e,n){return e.startPosition==null?!1:e.startPosition.index<n.index}static isAfter(e,n){return e.startPosition==null?!1:e.startPosition.index>n.index}static findNodesBeforePosition(e,n){let r=[];if(e==null)return r;for(let i=0;i<n.length;i++){let s=n[i];if(!mn.isLiteralType(s)&&s.startPosition!=null&&s.endPosition!=null){if(s.startPosition.index>e.index)break;r.push(s)}}return r}static findNodesAfterPosition(e,n){let r=[];if(e==null)return r;for(let i=0;i<n.length;i++){let s=n[i];mn.isLiteralType(s)||s.startPosition!=null&&s.startPosition.index>e.index&&r.push(s)}return r}static findNodeBeforePosition(e,n){if(e==null)return null;let r=null;for(let i=0;i<n.length;i++){let s=n[i];if(!mn.isLiteralType(s)&&s.startPosition!=null){if(s.startPosition.index>e.index)break;r=s}}return r}static findNodeAfterPosition(e,n){if(e==null)return null;for(let r=0;r<n.length;r++){let i=n[r];if(!mn.isLiteralType(i)&&i.startPosition!=null&&i.startPosition.index>e.index)return i}return null}static findNodeAtPosition(e,n){if(e==null)return null;for(let r=0;r<n.length;r++){let i=n[r];if(!mn.isLiteralType(i)&&i.startPosition!=null&&i.endPosition!=null&&e.index>=i.startPosition.index&&e.index<=i.endPosition.index)return i}return null}static isLiteralType(e){return e instanceof ur||e instanceof Et}}});var gf,Gw=C(()=>{He();Ch();gf=class{static isModifierLeftOf(e,n){return gf.isModifierLeftOfPosition(e.startPosition,n)}static isModifierLeftOfPosition(e,n){let r=mn.findAbstractNodesBeforePosition(e,n);for(let i=r.length-1;i>=0;i--){let s=r[i];if(s instanceof Jn||s instanceof Wn)return!1;if(s instanceof Or)return!0}return!1}}});var _f,Hw=C(()=>{mf();_f=class{constructor(){this.isRightOfOperator=!1;this.isLeftOfOperator=!1}static resolveContext(e,n,r){let i=new _f;return r!=null&&(r.prev!=null&&Rn.isOperatorType(r.prev)&&(i.isRightOfOperator=!0),r.next!=null&&Rn.isOperatorType(r.next)&&(i.isLeftOfOperator=!0)),i}}});var Vy,Ww=C(()=>{Vy=class{constructor(){this.inTagPart=!1;this.inMethodPart=!1}}});var Tf,Yw=C(()=>{He();Tf=class{constructor(){this.modifierChain=null;this.activeModifier=null;this.name="";this.inModifierName=!1;this.inModifierParameter=!1;this.valueCount=0;this.activeValueIndex=-1;this.activeValue=null}static resolveContext(e,n,r,i){let s=n.getParser(),a=new Tf,l=s.getLanguageParser().getCreatedModifierChains(),c=null;for(let f=0;f<l.length;f++){let d=l[f];if(e.isWithin(d.startPosition,d.endPosition)){for(let m=0;m<d.modifierChain.length;m++){let _=d.modifierChain[m];if(e.isWithin(_.startPosition,_.endPosition)){c=_;break}}if(c!=null)break}}if(c==null&&r instanceof Yn&&i.getDocumentParser().getLanguageParser().hasModifierConstruct(r)&&(c=i.getDocumentParser().getLanguageParser().getModifierConstruct(r)),c!=null)if(a.activeModifier=c,a.valueCount=c.valueNodes.length,c.nameNode!=null&&(a.name=c.nameNode.name),c.nameNode!=null&&e.isWithin(c.nameNode.startPosition,c.nameNode.endPosition,1))a.inModifierName=!0;else for(let f=0;f<c.valueNodes.length;f++){let d=c.valueNodes[f];if(e.isWithin(d.startPosition,d.endPosition,1)){a.activeValueIndex=f,a.inModifierParameter=!0,a.activeValue=d;break}}return a}}});var yf,Kw=C(()=>{yf=class{constructor(){this.parameter=null;this.isInName=!1;this.isInValue=!1}static resolveContext(e,n){let r=new yf;return r.parameter=n,e.isWithinRange(n.namePosition)?r.isInName=!0:e.isWithinRange(n.valuePosition)&&(r.isInValue=!0),r}}});var By,qy,$w=C(()=>{Fp();By=class{constructor(){this.refId="";this.node=null;this.leftPunctuation=null;this.rightPunctuation=null;this.leftChar=null;this.rightChar=null;this.word=null;this.char=null;this.interpolatedContext=!1;this.leftWord=null;this.rightWord=null;this.isCursorInIdentifier=!1;this.root=null;this.identifierContext=null;this.position=null;this.feature=null;this.isInParameter=!1;this.subContext=null;this.parameterContext=null;this.modifierContext=null;this.generalContext=null;this.variableContext=null;this.cursorContext=qy.Unknown;this.refId=Wl()}},qy=(a=>(a[a.Unknown=0]="Unknown",a[a.Variable=1]="Variable",a[a.Modifier=2]="Modifier",a[a.Parameter=3]="Parameter",a[a.General=4]="General",a[a.LanguageOperator=5]="LanguageOperator",a))(qy||{})});var bf,zw=C(()=>{Rr();He();bf=class{constructor(){this.variableNode=null;this.varPathText=""}static resolveContext(e,n,r,i){var m;if(r==null)return null;let s=r,a=i.getDocumentParser().getLanguageParser(),l=new bf,c=(m=i.wordAt(e))!=null?m:"";r instanceof Sn&&a.isMergedVariableComponent(r)==!1&&r.prev instanceof Ae&&(s=r.prev);let f="";if(a.isMergedVariableComponent(s)){let _=a.getMergedVariable(s);_.startPosition!=null&&(f=i.getText(_.startPosition.index,e.index).trim()),l.variableNode=_}else s instanceof Ae&&(l.variableNode=s,f=s.name,s.variableReference!=null&&(f=s.variableReference.normalizedReference));f.length>0&&(f=En(f,"\\.",":"));let d=f.split(":");return c.trim().length>0&&d.pop(),f=d.join(":"),f.endsWith(":")&&(f=us(f,":")),l.varPathText=f,l}}});var Oa,Uy=C(()=>{He();Gw();Hw();Ww();Yw();Kw();$w();zw();Oa=class{static resolveIdentifierContext(e,n){let r=new Vy;return n.nameMethodPartStartsOn!=null?e.char<n.nameMethodPartStartsOn.char?(r.inTagPart=!0,r.inMethodPart=!1):(r.inTagPart=!1,r.inMethodPart=!0):(r.inMethodPart=!1,r.inTagPart=!0),r}static resolveContext(e,n,r,i=!1,s=null){var a,l,c,f,d,m;if(n==null||e==null)return null;if(n instanceof fi||n instanceof J){let _=new By;if(n.nameStartsOn!=null&&e.line==n.nameStartsOn.line){let N=!1;e.char>=n.nameStartsOn.char&&(N=!0),n.nameEndsOn!=null&&e.char>n.nameEndsOn.char&&(N=!1),N&&(_.isCursorInIdentifier=!0,_.identifierContext=Oa.resolveIdentifierContext(e,n))}n.addContext(_),s!=null&&s.addContext(_),_.interpolatedContext=i,_.node=n,_.position=e,_.root=s,_.leftPunctuation=r.punctuationLeftAt(e),_.rightPunctuation=r.punctuationRightAt(e),_.leftChar=r.charLeftAt(e),_.rightChar=r.charRightAt(e),_.word=r.wordAt(e),_.char=r.charAt(e),_.leftWord=r.wordLeftAt(e),_.rightWord=r.wordRightAt(e);let g=!1;if(n.parameters.length>0)for(let N=0;N<n.parameters.length;N++){let A=n.parameters[N];if(A.blockPosition!=null&&A.blockPosition.start!=null&&A.blockPosition.end!=null&&e.char>A.blockPosition.start.char&&e.char<=A.blockPosition.end.char+1&&e.line>=((c=(l=(a=A.namePosition)==null?void 0:a.start)==null?void 0:l.line)!=null?c:A.blockPosition.start.line)&&e.line<=((m=(d=(f=A.valuePosition)==null?void 0:f.end)==null?void 0:d.line)!=null?m:A.blockPosition.end.line)){_.cursorContext=3,_.parameterContext=yf.resolveContext(e,A),_.isInParameter=!0,_.feature=A,g=!0;break}}if(g||n.runtimeNodes.forEach(N=>{N.startPosition!=null&&N.endPosition!=null&&e.isWithin(N.startPosition,N.endPosition,1)&&(_.feature=N)}),g&&n.interpolationRegions.size>0){let N=Array.from(n.interpolationRegions,([A,b])=>b);for(let A=0;A<N.length;A++){let b=N[A];if(e.index>=b.startOffset&&e.index<=b.endOffset){let x=n.getInterpolationNode(b.varContent);return Oa.resolveContext(e,x,r,!0,s)}}}return _.feature instanceof Ae&&_.feature.isInterpolationReference&&_.feature.parent!=null&&_.feature.parent instanceof J&&_.feature.parent.processedInterpolationRegions.has(_.feature.name)?Oa.resolveContext(e,_.feature.parent.getInterpolationNode(_.feature.name),r,!0,s):(gf.isModifierLeftOfPosition(e,n.runtimeNodes)?(_.cursorContext=2,_.modifierContext=Tf.resolveContext(e,n,_.feature,r)):g||(_.cursorContext=4,_.generalContext=_f.resolveContext(e,n,_.feature)),_.variableContext=bf.resolveContext(e,n,_.feature,r),_)}return null}}});var gl,jy=C(()=>{Ls();He();gl=class{static isPairedNode(e){return e instanceof Mt?!0:e instanceof fi||e instanceof J?e.isClosedBy!=null:!1}static findAncestorsBeforePosition(e,n){var l,c,f,d,m,_;let r=[],i=[],s=-1,a=-1;for(let g=0;g<n.length;g++){let T=n[g];if(T.isClosedBy!=null&&((l=T.isClosedBy.endPosition)==null?void 0:l.isBefore(e))&&(i.push(T),i.push(T.isClosedBy),s=T.isClosedBy.endPosition.line,a=T.isClosedBy.endPosition.char),!(s>-1&&T.endPosition!=null&&(T.endPosition.line<s||T.endPosition.line==s&&a>-1&&T.endPosition.char<a))){if(T.startPosition!=null){if(e.isBefore(T.startPosition))break;if(T.startPosition.line==e.line&&e.char<=T.startPosition.char){i.push(T);continue}}if(((c=Ze.instance)==null?void 0:c.requiresClose(T))&&T.isClosedBy!=null){let N=T.isClosedBy;if((f=N.startPosition)==null?void 0:f.isBefore(e)){i.push(T),i.push(N);continue}else((d=N.startPosition)==null?void 0:d.line)==e.line&&((m=N.startPosition)==null?void 0:m.char)<e.char?i.push(T):r.push(T)}else if(T.parent!=null){let N=T.parent;if(i.includes(N)){i.push(T);continue}else((_=T.endPosition)==null?void 0:_.isBefore(e))?r.push(T):i.push(T)}else r.push(T)}}return r}}});var Gy,Qw=C(()=>{Ch();Uy();jy();He();Gy=class{constructor(e){this.doc=e}getAncestorsAt(e,n){let r=this.position(e,n);return r==null?[]:gl.findAncestorsBeforePosition(r,this.doc.getAllAntlersNodes())}getNameAt(e,n){let r=this.getNodeAt(e,n);return r instanceof J?r.name:null}getScopeAt(e,n){let r=this.getNodeAt(e,n);return r instanceof J&&r.currentScope!=null?r.currentScope:null}getFeaturesAt(e,n){let r=this.position(e,n),i=this.getNodeAt(e,n);return Oa.resolveContext(r,i,this.doc,!1,i)}getNodeAt(e,n){return mn.findNodeAtPosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodeBefore(e,n){return mn.findNodeBeforePosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodeAfter(e,n){return mn.findNodeAfterPosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodesBefore(e,n){return mn.findNodesBeforePosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getAssignmentsBefore(e,n){let r=this.doc.getDocumentParser().getLanguageParser().getRuntimeAssignments(),i=[],s=this.position(e,n);return s!=null&&r.forEach(a=>{mn.isBefore(a.target,s)&&i.push(a)}),i}getAssignmentsAfter(e,n){let r=this.doc.getDocumentParser().getLanguageParser().getRuntimeAssignments(),i=[],s=this.position(e,n);return s!=null&&r.forEach(a=>{mn.isAfter(a.target,s)&&i.push(a)}),i}getNodesAfter(e,n){return mn.findNodesAfterPosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getIsWithinPairedNode(e,n){let r=this.getNodeBefore(e,n);return r==null?!1:gl.isPairedNode(r)}position(e,n){return this.doc.getDocumentParser().positionFromCursor(e,n)}charLeftAt(e,n){return this.doc.getDocumentParser().charLeftAtCursor(e,n)}charAt(e,n){return this.doc.getDocumentParser().charAtCursor(e,n)}charRightAt(e,n){return this.doc.getDocumentParser().charRightAtCursor(e,n)}wordLeftAt(e,n,r=4){return this.doc.getDocumentParser().wordLeftAtCursor(e,n,r)}wordRightAt(e,n,r=4){return this.doc.getDocumentParser().wordRightAtCursor(e,n,r)}wordAt(e,n,r=4){return this.doc.getDocumentParser().wordAtCursor(e,n,r)}punctuationLeftAt(e,n,r=4){return this.doc.getDocumentParser().punctuationLeftAtCursor(e,n,r)}punctuationRightAt(e,n,r=4){return this.doc.getDocumentParser().punctuationRightAtCursor(e,n,r)}}});var Hy,Xw=C(()=>{Hy=class{constructor(e){this.doc=e}hasStructureErrors(){return this.doc.getDocumentParser().getStructureErrors().length>0}getFirstStructureError(){return this.doc.getDocumentParser().getStructureErrors()[0]}hasAny(){return this.all().length>0}all(){let e=[],n=[];return this.doc.getAllAntlersNodes().forEach(r=>{r.getErrors().forEach(i=>{e.includes(i.hash())==!1&&(e.push(i.hash()),n.push(i))})}),this.doc.getDocumentParser().getAntlersErrors().forEach(r=>{e.includes(r.hash())==!1&&(e.push(r.hash()),n.push(r))}),n}}});var To=oe(Jr=>{"use strict";var La={ANCHOR:"&",COMMENT:"#",TAG:"!",DIRECTIVES_END:"-",DOCUMENT_END:"."},vf={ALIAS:"ALIAS",BLANK_LINE:"BLANK_LINE",BLOCK_FOLDED:"BLOCK_FOLDED",BLOCK_LITERAL:"BLOCK_LITERAL",COMMENT:"COMMENT",DIRECTIVE:"DIRECTIVE",DOCUMENT:"DOCUMENT",FLOW_MAP:"FLOW_MAP",FLOW_SEQ:"FLOW_SEQ",MAP:"MAP",MAP_KEY:"MAP_KEY",MAP_VALUE:"MAP_VALUE",PLAIN:"PLAIN",QUOTE_DOUBLE:"QUOTE_DOUBLE",QUOTE_SINGLE:"QUOTE_SINGLE",SEQ:"SEQ",SEQ_ITEM:"SEQ_ITEM"},A3="tag:yaml.org,2002:",R3={MAP:"tag:yaml.org,2002:map",SEQ:"tag:yaml.org,2002:seq",STR:"tag:yaml.org,2002:str"};function Jw(t){let e=[0],n=t.indexOf(`
`);for(;n!==-1;)n+=1,e.push(n),n=t.indexOf(`
`,n);return e}function Zw(t){let e,n;return typeof t=="string"?(e=Jw(t),n=t):(Array.isArray(t)&&(t=t[0]),t&&t.context&&(t.lineStarts||(t.lineStarts=Jw(t.context.src)),e=t.lineStarts,n=t.context.src)),{lineStarts:e,src:n}}function Wy(t,e){if(typeof t!="number"||t<0)return null;let{lineStarts:n,src:r}=Zw(e);if(!n||!r||t>r.length)return null;for(let s=0;s<n.length;++s){let a=n[s];if(t<a)return{line:s,col:t-n[s-1]+1};if(t===a)return{line:s+1,col:1}}let i=n.length;return{line:i,col:t-n[i-1]+1}}function k3(t,e){let{lineStarts:n,src:r}=Zw(e);if(!n||!(t>=1)||t>n.length)return null;let i=n[t-1],s=n[t];for(;s&&s>i&&r[s-1]===`
`;)--s;return r.slice(i,s)}function w3({start:t,end:e},n,r=80){let i=k3(t.line,n);if(!i)return null;let{col:s}=t;if(i.length>r)if(s<=r-10)i=i.substr(0,r-1)+"\u2026";else{let d=Math.round(r/2);i.length>s+d&&(i=i.substr(0,s+d-1)+"\u2026"),s-=i.length-r,i="\u2026"+i.substr(1-r)}let a=1,l="";e&&(e.line===t.line&&s+(e.col-t.col)<=r+1?a=e.col-t.col:(a=Math.min(i.length+1,r)-s,l="\u2026"));let c=s>1?" ".repeat(s-1):"",f="^".repeat(a);return`${i}
${c}${f}${l}`}var _l=class{static copy(e){return new _l(e.start,e.end)}constructor(e,n){this.start=e,this.end=n||e}isEmpty(){return typeof this.start!="number"||!this.end||this.end<=this.start}setOrigRange(e,n){let{start:r,end:i}=this;if(e.length===0||i<=e[0])return this.origStart=r,this.origEnd=i,n;let s=n;for(;s<e.length&&!(e[s]>r);)++s;this.origStart=r+s;let a=s;for(;s<e.length&&!(e[s]>=i);)++s;return this.origEnd=i+s,a}},mr=class{static addStringTerminator(e,n,r){if(r[r.length-1]===`
`)return r;let i=mr.endOfWhiteSpace(e,n);return i>=e.length||e[i]===`
`?r+`
`:r}static atDocumentBoundary(e,n,r){let i=e[n];if(!i)return!0;let s=e[n-1];if(s&&s!==`
`)return!1;if(r){if(i!==r)return!1}else if(i!==La.DIRECTIVES_END&&i!==La.DOCUMENT_END)return!1;let a=e[n+1],l=e[n+2];if(a!==i||l!==i)return!1;let c=e[n+3];return!c||c===`
`||c==="	"||c===" "}static endOfIdentifier(e,n){let r=e[n],i=r==="<",s=i?[`
`,"	"," ",">"]:[`
`,"	"," ","[","]","{","}",","];for(;r&&s.indexOf(r)===-1;)r=e[n+=1];return i&&r===">"&&(n+=1),n}static endOfIndent(e,n){let r=e[n];for(;r===" ";)r=e[n+=1];return n}static endOfLine(e,n){let r=e[n];for(;r&&r!==`
`;)r=e[n+=1];return n}static endOfWhiteSpace(e,n){let r=e[n];for(;r==="	"||r===" ";)r=e[n+=1];return n}static startOfLine(e,n){let r=e[n-1];if(r===`
`)return n;for(;r&&r!==`
`;)r=e[n-=1];return n+1}static endOfBlockIndent(e,n,r){let i=mr.endOfIndent(e,r);if(i>r+n)return i;{let s=mr.endOfWhiteSpace(e,i),a=e[s];if(!a||a===`
`)return s}return null}static atBlank(e,n,r){let i=e[n];return i===`
`||i==="	"||i===" "||r&&!i}static nextNodeIsIndented(e,n,r){return!e||n<0?!1:n>0?!0:r&&e==="-"}static normalizeOffset(e,n){let r=e[n];return r?r!==`
`&&e[n-1]===`
`?n-1:mr.endOfWhiteSpace(e,n):n}static foldNewline(e,n,r){let i=0,s=!1,a="",l=e[n+1];for(;l===" "||l==="	"||l===`
`;){switch(l){case`
`:i=0,n+=1,a+=`
`;break;case"	":i<=r&&(s=!0),n=mr.endOfWhiteSpace(e,n+2)-1;break;case" ":i+=1,n+=1;break}l=e[n+1]}return a||(a=" "),l&&i<=r&&(s=!0),{fold:a,offset:n,error:s}}constructor(e,n,r){Object.defineProperty(this,"context",{value:r||null,writable:!0}),this.error=null,this.range=null,this.valueRange=null,this.props=n||[],this.type=e,this.value=null}getPropValue(e,n,r){if(!this.context)return null;let{src:i}=this.context,s=this.props[e];return s&&i[s.start]===n?i.slice(s.start+(r?1:0),s.end):null}get anchor(){for(let e=0;e<this.props.length;++e){let n=this.getPropValue(e,La.ANCHOR,!0);if(n!=null)return n}return null}get comment(){let e=[];for(let n=0;n<this.props.length;++n){let r=this.getPropValue(n,La.COMMENT,!0);r!=null&&e.push(r)}return e.length>0?e.join(`
`):null}commentHasRequiredWhitespace(e){let{src:n}=this.context;if(this.header&&e===this.header.end||!this.valueRange)return!1;let{end:r}=this.valueRange;return e!==r||mr.atBlank(n,r-1)}get hasComment(){if(this.context){let{src:e}=this.context;for(let n=0;n<this.props.length;++n)if(e[this.props[n].start]===La.COMMENT)return!0}return!1}get hasProps(){if(this.context){let{src:e}=this.context;for(let n=0;n<this.props.length;++n)if(e[this.props[n].start]!==La.COMMENT)return!0}return!1}get includesTrailingLines(){return!1}get jsonLike(){return[vf.FLOW_MAP,vf.FLOW_SEQ,vf.QUOTE_DOUBLE,vf.QUOTE_SINGLE].indexOf(this.type)!==-1}get rangeAsLinePos(){if(!this.range||!this.context)return;let e=Wy(this.range.start,this.context.root);if(!e)return;let n=Wy(this.range.end,this.context.root);return{start:e,end:n}}get rawValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange;return this.context.src.slice(e,n)}get tag(){for(let e=0;e<this.props.length;++e){let n=this.getPropValue(e,La.TAG,!1);if(n!=null){if(n[1]==="<")return{verbatim:n.slice(2,-1)};{let[r,i,s]=n.match(/^(.*!)([^!]*)$/);return{handle:i,suffix:s}}}}return null}get valueRangeContainsNewline(){if(!this.valueRange||!this.context)return!1;let{start:e,end:n}=this.valueRange,{src:r}=this.context;for(let i=e;i<n;++i)if(r[i]===`
`)return!0;return!1}parseComment(e){let{src:n}=this.context;if(n[e]===La.COMMENT){let r=mr.endOfLine(n,e+1),i=new _l(e,r);return this.props.push(i),r}return e}setOrigRanges(e,n){return this.range&&(n=this.range.setOrigRange(e,n)),this.valueRange&&this.valueRange.setOrigRange(e,n),this.props.forEach(r=>r.setOrigRange(e,n)),n}toString(){let{context:{src:e},range:n,value:r}=this;if(r!=null)return r;let i=e.slice(n.start,n.end);return mr.addStringTerminator(e,n.end,i)}},Yc=class extends Error{constructor(e,n,r){if(!r||!(n instanceof mr))throw new Error(`Invalid arguments for new ${e}`);super();this.name=e,this.message=r,this.source=n}makePretty(){if(!this.source)return;this.nodeType=this.source.type;let e=this.source.context&&this.source.context.root;if(typeof this.offset=="number"){this.range=new _l(this.offset,this.offset+1);let n=e&&Wy(this.offset,e);if(n){let r={line:n.line,col:n.col+1};this.linePos={start:n,end:r}}delete this.offset}else this.range=this.source.range,this.linePos=this.source.rangeAsLinePos;if(this.linePos){let{line:n,col:r}=this.linePos.start;this.message+=` at line ${n}, column ${r}`;let i=e&&w3(this.linePos,e);i&&(this.message+=`:

${i}
`)}delete this.source}},eO=class extends Yc{constructor(e,n){super("YAMLReferenceError",e,n)}},Ah=class extends Yc{constructor(e,n){super("YAMLSemanticError",e,n)}},tO=class extends Yc{constructor(e,n){super("YAMLSyntaxError",e,n)}},nO=class extends Yc{constructor(e,n){super("YAMLWarning",e,n)}};function O3(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Nf=class extends mr{static endOfLine(e,n,r){let i=e[n],s=n;for(;i&&i!==`
`&&!(r&&(i==="["||i==="]"||i==="{"||i==="}"||i===","));){let a=e[s+1];if(i===":"&&(!a||a===`
`||a==="	"||a===" "||r&&a===",")||(i===" "||i==="	")&&a==="#")break;s+=1,i=a}return s}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange,{src:r}=this.context,i=r[n-1];for(;e<n&&(i===`
`||i==="	"||i===" ");)i=r[--n-1];let s="";for(let l=e;l<n;++l){let c=r[l];if(c===`
`){let{fold:f,offset:d}=mr.foldNewline(r,l,-1);s+=f,l=d}else if(c===" "||c==="	"){let f=l,d=r[l+1];for(;l<n&&(d===" "||d==="	");)l+=1,d=r[l+1];d!==`
`&&(s+=l>f?r.slice(f,l+1):c)}else s+=c}let a=r[e];switch(a){case"	":{let l="Plain value cannot start with a tab character";return{errors:[new Ah(this,l)],str:s}}case"@":case"`":{let l=`Plain value cannot start with reserved character ${a}`;return{errors:[new Ah(this,l)],str:s}}default:return s}}parseBlockValue(e){let{indent:n,inFlow:r,src:i}=this.context,s=e,a=e;for(let l=i[s];l===`
`&&!mr.atDocumentBoundary(i,s+1);l=i[s]){let c=mr.endOfBlockIndent(i,n,s+1);if(c===null||i[c]==="#")break;i[c]===`
`?s=c:(a=Nf.endOfLine(i,c,r),s=a)}return this.valueRange.isEmpty()&&(this.valueRange.start=e),this.valueRange.end=a,a}parse(e,n){this.context=e;let{inFlow:r,src:i}=e,s=n,a=i[s];return a&&a!=="#"&&a!==`
`&&(s=Nf.endOfLine(i,n,r)),this.valueRange=new _l(n,s),s=mr.endOfWhiteSpace(i,s),s=this.parseComment(s),(!this.hasComment||this.valueRange.isEmpty())&&(s=this.parseBlockValue(s)),s}};Jr.Char=La;Jr.Node=mr;Jr.PlainValue=Nf;Jr.Range=_l;Jr.Type=vf;Jr.YAMLError=Yc;Jr.YAMLReferenceError=eO;Jr.YAMLSemanticError=Ah;Jr.YAMLSyntaxError=tO;Jr.YAMLWarning=nO;Jr._defineProperty=O3;Jr.defaultTagPrefix=A3;Jr.defaultTags=R3});var lO=oe(oO=>{"use strict";var K=To(),Kc=class extends K.Node{constructor(){super(K.Type.BLANK_LINE)}get includesTrailingLines(){return!0}parse(e,n){return this.context=e,this.range=new K.Range(n,n+1),n+1}},Rh=class extends K.Node{constructor(e,n){super(e,n);this.node=null}get includesTrailingLines(){return!!this.node&&this.node.includesTrailingLines}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,{atLineStart:s,lineStart:a}=e;!s&&this.type===K.Type.SEQ_ITEM&&(this.error=new K.YAMLSemanticError(this,"Sequence items must not have preceding content on the same line"));let l=s?n-a:e.indent,c=K.Node.endOfWhiteSpace(i,n+1),f=i[c],d=f==="#",m=[],_=null;for(;f===`
`||f==="#";){if(f==="#"){let T=K.Node.endOfLine(i,c+1);m.push(new K.Range(c,T)),c=T}else{s=!0,a=c+1;let T=K.Node.endOfWhiteSpace(i,a);i[T]===`
`&&m.length===0&&(_=new Kc,a=_.parse({src:i},a)),c=K.Node.endOfIndent(i,a)}f=i[c]}if(K.Node.nextNodeIsIndented(f,c-(a+l),this.type!==K.Type.SEQ_ITEM)?this.node=r({atLineStart:s,inCollection:!1,indent:l,lineStart:a,parent:this},c):f&&a>n+1&&(c=a-1),this.node){if(_){let T=e.parent.items||e.parent.contents;T&&T.push(_)}m.length&&Array.prototype.push.apply(this.props,m),c=this.node.range.end}else if(d){let T=m[0];this.props.push(T),c=T.end}else c=K.Node.endOfLine(i,n+1);let g=this.node?this.node.valueRange.end:c;return this.valueRange=new K.Range(n,g),c}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.node?this.node.setOrigRanges(e,n):n}toString(){let{context:{src:e},node:n,range:r,value:i}=this;if(i!=null)return i;let s=n?e.slice(r.start,n.range.start)+String(n):e.slice(r.start,r.end);return K.Node.addStringTerminator(e,r.end,s)}},$c=class extends K.Node{constructor(){super(K.Type.COMMENT)}parse(e,n){this.context=e;let r=this.parseComment(n);return this.range=new K.Range(n,r),r}};function Yy(t){let e=t;for(;e instanceof Rh;)e=e.node;if(!(e instanceof zc))return null;let n=e.items.length,r=-1;for(let a=n-1;a>=0;--a){let l=e.items[a];if(l.type===K.Type.COMMENT){let{indent:c,lineStart:f}=l.context;if(c>0&&l.range.start>=f+c)break;r=a}else if(l.type===K.Type.BLANK_LINE)r=a;else break}if(r===-1)return null;let i=e.items.splice(r,n-r),s=i[0].range.start;for(;e.range.end=s,e.valueRange&&e.valueRange.end>s&&(e.valueRange.end=s),e!==t;)e=e.context.parent;return i}var zc=class extends K.Node{static nextContentHasIndent(e,n,r){let i=K.Node.endOfLine(e,n)+1;n=K.Node.endOfWhiteSpace(e,i);let s=e[n];return s?n>=i+r?!0:s!=="#"&&s!==`
`?!1:zc.nextContentHasIndent(e,n,r):!1}constructor(e){super(e.type===K.Type.SEQ_ITEM?K.Type.SEQ:K.Type.MAP);for(let r=e.props.length-1;r>=0;--r)if(e.props[r].start<e.context.lineStart){this.props=e.props.slice(0,r+1),e.props=e.props.slice(r+1);let i=e.props[0]||e.valueRange;e.range.start=i.start;break}this.items=[e];let n=Yy(e);n&&Array.prototype.push.apply(this.items,n)}get includesTrailingLines(){return this.items.length>0}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,s=K.Node.startOfLine(i,n),a=this.items[0];a.context.parent=this,this.valueRange=K.Range.copy(a.valueRange);let l=a.range.start-a.context.lineStart,c=n;c=K.Node.normalizeOffset(i,c);let f=i[c],d=K.Node.endOfWhiteSpace(i,s)===c,m=!1;for(;f;){for(;f===`
`||f==="#";){if(d&&f===`
`&&!m){let T=new Kc;if(c=T.parse({src:i},c),this.valueRange.end=c,c>=i.length){f=null;break}this.items.push(T),c-=1}else if(f==="#"){if(c<s+l&&!zc.nextContentHasIndent(i,c,l))return c;let T=new $c;if(c=T.parse({indent:l,lineStart:s,src:i},c),this.items.push(T),this.valueRange.end=c,c>=i.length){f=null;break}}if(s=c+1,c=K.Node.endOfIndent(i,s),K.Node.atBlank(i,c)){let T=K.Node.endOfWhiteSpace(i,c),N=i[T];(!N||N===`
`||N==="#")&&(c=T)}f=i[c],d=!0}if(!f)break;if(c!==s+l&&(d||f!==":")){if(c<s+l){s>n&&(c=s);break}else if(!this.error){let T="All collection items must start at the same column";this.error=new K.YAMLSyntaxError(this,T)}}if(a.type===K.Type.SEQ_ITEM){if(f!=="-"){s>n&&(c=s);break}}else if(f==="-"&&!this.error){let T=i[c+1];if(!T||T===`
`||T==="	"||T===" "){let N="A collection cannot be both a mapping and a sequence";this.error=new K.YAMLSyntaxError(this,N)}}let _=r({atLineStart:d,inCollection:!0,indent:l,lineStart:s,parent:this},c);if(!_)return c;if(this.items.push(_),this.valueRange.end=_.valueRange.end,c=K.Node.normalizeOffset(i,_.range.end),f=i[c],d=!1,m=_.includesTrailingLines,f){let T=c-1,N=i[T];for(;N===" "||N==="	";)N=i[--T];N===`
`&&(s=T+1,d=!0)}let g=Yy(_);g&&Array.prototype.push.apply(this.items,g)}return c}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.items.forEach(r=>{n=r.setOrigRanges(e,n)}),n}toString(){let{context:{src:e},items:n,range:r,value:i}=this;if(i!=null)return i;let s=e.slice(r.start,n[0].range.start)+String(n[0]);for(let a=1;a<n.length;++a){let l=n[a],{atLineStart:c,indent:f}=l.context;if(c)for(let d=0;d<f;++d)s+=" ";s+=String(l)}return K.Node.addStringTerminator(e,r.end,s)}},rO=class extends K.Node{constructor(){super(K.Type.DIRECTIVE);this.name=null}get parameters(){let e=this.rawValue;return e?e.trim().split(/[ \t]+/):[]}parseName(e){let{src:n}=this.context,r=e,i=n[r];for(;i&&i!==`
`&&i!=="	"&&i!==" ";)i=n[r+=1];return this.name=n.slice(e,r),r}parseParameters(e){let{src:n}=this.context,r=e,i=n[r];for(;i&&i!==`
`&&i!=="#";)i=n[r+=1];return this.valueRange=new K.Range(e,r),r}parse(e,n){this.context=e;let r=this.parseName(n+1);return r=this.parseParameters(r),r=this.parseComment(r),this.range=new K.Range(n,r),r}},xf=class extends K.Node{static startCommentOrEndBlankLine(e,n){let r=K.Node.endOfWhiteSpace(e,n),i=e[r];return i==="#"||i===`
`?r:n}constructor(){super(K.Type.DOCUMENT);this.directives=null,this.contents=null,this.directivesEndMarker=null,this.documentEndMarker=null}parseDirectives(e){let{src:n}=this.context;this.directives=[];let r=!0,i=!1,s=e;for(;!K.Node.atDocumentBoundary(n,s,K.Char.DIRECTIVES_END);)switch(s=xf.startCommentOrEndBlankLine(n,s),n[s]){case`
`:if(r){let a=new Kc;s=a.parse({src:n},s),s<n.length&&this.directives.push(a)}else s+=1,r=!0;break;case"#":{let a=new $c;s=a.parse({src:n},s),this.directives.push(a),r=!1}break;case"%":{let a=new rO;s=a.parse({parent:this,src:n},s),this.directives.push(a),i=!0,r=!1}break;default:return i?this.error=new K.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s}return n[s]?(this.directivesEndMarker=new K.Range(s,s+3),s+3):(i?this.error=new K.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s)}parseContents(e){let{parseNode:n,src:r}=this.context;this.contents||(this.contents=[]);let i=e;for(;r[i-1]==="-";)i-=1;let s=K.Node.endOfWhiteSpace(r,e),a=i===e;for(this.valueRange=new K.Range(s);!K.Node.atDocumentBoundary(r,s,K.Char.DOCUMENT_END);){switch(r[s]){case`
`:if(a){let l=new Kc;s=l.parse({src:r},s),s<r.length&&this.contents.push(l)}else s+=1,a=!0;i=s;break;case"#":{let l=new $c;s=l.parse({src:r},s),this.contents.push(l),a=!1}break;default:{let l=K.Node.endOfIndent(r,s),f=n({atLineStart:a,indent:-1,inFlow:!1,inCollection:!1,lineStart:i,parent:this},l);if(!f)return this.valueRange.end=l;this.contents.push(f),s=f.range.end,a=!1;let d=Yy(f);d&&Array.prototype.push.apply(this.contents,d)}}s=xf.startCommentOrEndBlankLine(r,s)}if(this.valueRange.end=s,r[s]&&(this.documentEndMarker=new K.Range(s,s+3),s+=3,r[s])){if(s=K.Node.endOfWhiteSpace(r,s),r[s]==="#"){let l=new $c;s=l.parse({src:r},s),this.contents.push(l)}switch(r[s]){case`
`:s+=1;break;case void 0:break;default:this.error=new K.YAMLSyntaxError(this,"Document end marker line cannot have a non-comment suffix")}}return s}parse(e,n){e.root=this,this.context=e;let{src:r}=e,i=r.charCodeAt(n)===65279?n+1:n;return i=this.parseDirectives(i),i=this.parseContents(i),i}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.directives.forEach(r=>{n=r.setOrigRanges(e,n)}),this.directivesEndMarker&&(n=this.directivesEndMarker.setOrigRange(e,n)),this.contents.forEach(r=>{n=r.setOrigRanges(e,n)}),this.documentEndMarker&&(n=this.documentEndMarker.setOrigRange(e,n)),n}toString(){let{contents:e,directives:n,value:r}=this;if(r!=null)return r;let i=n.join("");return e.length>0&&((n.length>0||e[0].type===K.Type.COMMENT)&&(i+=`---
`),i+=e.join("")),i[i.length-1]!==`
`&&(i+=`
`),i}},iO=class extends K.Node{parse(e,n){this.context=e;let{src:r}=e,i=K.Node.endOfIdentifier(r,n+1);return this.valueRange=new K.Range(n+1,i),i=K.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i}},yo={CLIP:"CLIP",KEEP:"KEEP",STRIP:"STRIP"},sO=class extends K.Node{constructor(e,n){super(e,n);this.blockIndent=null,this.chomping=yo.CLIP,this.header=null}get includesTrailingLines(){return this.chomping===yo.KEEP}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange,{indent:r,src:i}=this.context;if(this.valueRange.isEmpty())return"";let s=null,a=i[n-1];for(;a===`
`||a==="	"||a===" ";){if(n-=1,n<=e){if(this.chomping===yo.KEEP)break;return""}a===`
`&&(s=n),a=i[n-1]}let l=n+1;s&&(this.chomping===yo.KEEP?(l=s,n=this.valueRange.end):n=s);let c=r+this.blockIndent,f=this.type===K.Type.BLOCK_FOLDED,d=!0,m="",_="",g=!1;for(let T=e;T<n;++T){for(let A=0;A<c&&i[T]===" ";++A)T+=1;let N=i[T];if(N===`
`)_===`
`?m+=`
`:_=`
`;else{let A=K.Node.endOfLine(i,T),b=i.slice(T,A);T=A,f&&(N===" "||N==="	")&&T<l?(_===" "?_=`
`:!g&&!d&&_===`
`&&(_=`

`),m+=_+b,_=A<n&&i[A]||"",g=!0):(m+=_+b,_=f&&T<l?" ":`
`,g=!1),d&&b!==""&&(d=!1)}}return this.chomping===yo.STRIP?m:m+`
`}parseBlockHeader(e){let{src:n}=this.context,r=e+1,i="";for(;;){let s=n[r];switch(s){case"-":this.chomping=yo.STRIP;break;case"+":this.chomping=yo.KEEP;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":i+=s;break;default:return this.blockIndent=Number(i)||null,this.header=new K.Range(e,r),r}r+=1}}parseBlockValue(e){let{indent:n,src:r}=this.context,i=!!this.blockIndent,s=e,a=e,l=1;for(let c=r[s];c===`
`&&(s+=1,!K.Node.atDocumentBoundary(r,s));c=r[s]){let f=K.Node.endOfBlockIndent(r,n,s);if(f===null)break;let d=r[f],m=f-(s+n);if(this.blockIndent){if(d&&d!==`
`&&m<this.blockIndent){if(r[f]==="#")break;if(!this.error){let g=`Block scalars must not be less indented than their ${i?"explicit indentation indicator":"first line"}`;this.error=new K.YAMLSemanticError(this,g)}}}else if(r[f]!==`
`){if(m<l){let _="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";this.error=new K.YAMLSemanticError(this,_)}this.blockIndent=m}else m>l&&(l=m);r[f]===`
`?s=f:s=a=K.Node.endOfLine(r,f)}return this.chomping!==yo.KEEP&&(s=r[a]?a+1:a),this.valueRange=new K.Range(e+1,s),s}parse(e,n){this.context=e;let{src:r}=e,i=this.parseBlockHeader(n);return i=K.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i=this.parseBlockValue(i),i}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.header?this.header.setOrigRange(e,n):n}},aO=class extends K.Node{constructor(e,n){super(e,n);this.items=null}prevNodeIsJsonLike(e=this.items.length){let n=this.items[e-1];return!!n&&(n.jsonLike||n.type===K.Type.COMMENT&&this.prevNodeIsJsonLike(e-1))}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,{indent:s,lineStart:a}=e,l=i[n];this.items=[{char:l,offset:n}];let c=K.Node.endOfWhiteSpace(i,n+1);for(l=i[c];l&&l!=="]"&&l!=="}";){switch(l){case`
`:{a=c+1;let f=K.Node.endOfWhiteSpace(i,a);if(i[f]===`
`){let d=new Kc;a=d.parse({src:i},a),this.items.push(d)}if(c=K.Node.endOfIndent(i,a),c<=a+s&&(l=i[c],c<a+s||l!=="]"&&l!=="}")){let d="Insufficient indentation in flow collection";this.error=new K.YAMLSemanticError(this,d)}}break;case",":this.items.push({char:l,offset:c}),c+=1;break;case"#":{let f=new $c;c=f.parse({src:i},c),this.items.push(f)}break;case"?":case":":{let f=i[c+1];if(f===`
`||f==="	"||f===" "||f===","||l===":"&&this.prevNodeIsJsonLike()){this.items.push({char:l,offset:c}),c+=1;break}}default:{let f=r({atLineStart:!1,inCollection:!1,inFlow:!0,indent:-1,lineStart:a,parent:this},c);if(!f)return this.valueRange=new K.Range(n,c),c;this.items.push(f),c=K.Node.normalizeOffset(i,f.range.end)}}c=K.Node.endOfWhiteSpace(i,c),l=i[c]}return this.valueRange=new K.Range(n,c+1),l&&(this.items.push({char:l,offset:c}),c=K.Node.endOfWhiteSpace(i,c+1),c=this.parseComment(c)),c}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.items.forEach(r=>{if(r instanceof K.Node)n=r.setOrigRanges(e,n);else if(e.length===0)r.origOffset=r.offset;else{let i=n;for(;i<e.length&&!(e[i]>r.offset);)++i;r.origOffset=r.offset+i,n=i}}),n}toString(){let{context:{src:e},items:n,range:r,value:i}=this;if(i!=null)return i;let s=n.filter(c=>c instanceof K.Node),a="",l=r.start;return s.forEach(c=>{let f=e.slice(l,c.range.start);l=c.range.end,a+=f+String(c),a[a.length-1]===`
`&&e[l-1]!==`
`&&e[l]===`
`&&(l+=1)}),a+=e.slice(l,r.end),K.Node.addStringTerminator(e,r.end,a)}},kh=class extends K.Node{static endOfQuote(e,n){let r=e[n];for(;r&&r!=='"';)n+=r==="\\"?2:1,r=e[n];return n+1}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:n,end:r}=this.valueRange,{indent:i,src:s}=this.context;s[r-1]!=='"'&&e.push(new K.YAMLSyntaxError(this,'Missing closing "quote'));let a="";for(let l=n+1;l<r-1;++l){let c=s[l];if(c===`
`){K.Node.atDocumentBoundary(s,l+1)&&e.push(new K.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:f,offset:d,error:m}=K.Node.foldNewline(s,l,i);a+=f,l=d,m&&e.push(new K.YAMLSemanticError(this,"Multi-line double-quoted string needs to be sufficiently indented"))}else if(c==="\\")switch(l+=1,s[l]){case"0":a+="\0";break;case"a":a+="\x07";break;case"b":a+="\b";break;case"e":a+="\x1B";break;case"f":a+="\f";break;case"n":a+=`
`;break;case"r":a+="\r";break;case"t":a+="	";break;case"v":a+="\v";break;case"N":a+="\x85";break;case"_":a+="\xA0";break;case"L":a+="\u2028";break;case"P":a+="\u2029";break;case" ":a+=" ";break;case'"':a+='"';break;case"/":a+="/";break;case"\\":a+="\\";break;case"	":a+="	";break;case"x":a+=this.parseCharCode(l+1,2,e),l+=2;break;case"u":a+=this.parseCharCode(l+1,4,e),l+=4;break;case"U":a+=this.parseCharCode(l+1,8,e),l+=8;break;case`
`:for(;s[l+1]===" "||s[l+1]==="	";)l+=1;break;default:e.push(new K.YAMLSyntaxError(this,`Invalid escape sequence ${s.substr(l-1,2)}`)),a+="\\"+s[l]}else if(c===" "||c==="	"){let f=l,d=s[l+1];for(;d===" "||d==="	";)l+=1,d=s[l+1];d!==`
`&&(a+=l>f?s.slice(f,l+1):c)}else a+=c}return e.length>0?{errors:e,str:a}:a}parseCharCode(e,n,r){let{src:i}=this.context,s=i.substr(e,n),l=s.length===n&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;return isNaN(l)?(r.push(new K.YAMLSyntaxError(this,`Invalid escape sequence ${i.substr(e-2,n+2)}`)),i.substr(e-2,n+2)):String.fromCodePoint(l)}parse(e,n){this.context=e;let{src:r}=e,i=kh.endOfQuote(r,n+1);return this.valueRange=new K.Range(n,i),i=K.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i}},wh=class extends K.Node{static endOfQuote(e,n){let r=e[n];for(;r;)if(r==="'"){if(e[n+1]!=="'")break;r=e[n+=2]}else r=e[n+=1];return n+1}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:n,end:r}=this.valueRange,{indent:i,src:s}=this.context;s[r-1]!=="'"&&e.push(new K.YAMLSyntaxError(this,"Missing closing 'quote"));let a="";for(let l=n+1;l<r-1;++l){let c=s[l];if(c===`
`){K.Node.atDocumentBoundary(s,l+1)&&e.push(new K.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:f,offset:d,error:m}=K.Node.foldNewline(s,l,i);a+=f,l=d,m&&e.push(new K.YAMLSemanticError(this,"Multi-line single-quoted string needs to be sufficiently indented"))}else if(c==="'")a+=c,l+=1,s[l]!=="'"&&e.push(new K.YAMLSyntaxError(this,"Unescaped single quote? This should not happen."));else if(c===" "||c==="	"){let f=l,d=s[l+1];for(;d===" "||d==="	";)l+=1,d=s[l+1];d!==`
`&&(a+=l>f?s.slice(f,l+1):c)}else a+=c}return e.length>0?{errors:e,str:a}:a}parse(e,n){this.context=e;let{src:r}=e,i=wh.endOfQuote(r,n+1);return this.valueRange=new K.Range(n,i),i=K.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i}};function L3(t,e){switch(t){case K.Type.ALIAS:return new iO(t,e);case K.Type.BLOCK_FOLDED:case K.Type.BLOCK_LITERAL:return new sO(t,e);case K.Type.FLOW_MAP:case K.Type.FLOW_SEQ:return new aO(t,e);case K.Type.MAP_KEY:case K.Type.MAP_VALUE:case K.Type.SEQ_ITEM:return new Rh(t,e);case K.Type.COMMENT:case K.Type.PLAIN:return new K.PlainValue(t,e);case K.Type.QUOTE_DOUBLE:return new kh(t,e);case K.Type.QUOTE_SINGLE:return new wh(t,e);default:return null}}var Qc=class{static parseType(e,n,r){switch(e[n]){case"*":return K.Type.ALIAS;case">":return K.Type.BLOCK_FOLDED;case"|":return K.Type.BLOCK_LITERAL;case"{":return K.Type.FLOW_MAP;case"[":return K.Type.FLOW_SEQ;case"?":return!r&&K.Node.atBlank(e,n+1,!0)?K.Type.MAP_KEY:K.Type.PLAIN;case":":return!r&&K.Node.atBlank(e,n+1,!0)?K.Type.MAP_VALUE:K.Type.PLAIN;case"-":return!r&&K.Node.atBlank(e,n+1,!0)?K.Type.SEQ_ITEM:K.Type.PLAIN;case'"':return K.Type.QUOTE_DOUBLE;case"'":return K.Type.QUOTE_SINGLE;default:return K.Type.PLAIN}}constructor(e={},{atLineStart:n,inCollection:r,inFlow:i,indent:s,lineStart:a,parent:l}={}){K._defineProperty(this,"parseNode",(c,f)=>{if(K.Node.atDocumentBoundary(this.src,f))return null;let d=new Qc(this,c),{props:m,type:_,valueStart:g}=d.parseProps(f),T=L3(_,m),N=T.parse(d,g);if(T.range=new K.Range(f,N),N<=f&&(T.error=new Error("Node#parse consumed no characters"),T.error.parseEnd=N,T.error.source=T,T.range.end=f+1),d.nodeStartsCollection(T)){!T.error&&!d.atLineStart&&d.parent.type===K.Type.DOCUMENT&&(T.error=new K.YAMLSyntaxError(T,"Block collection must not have preceding content here (e.g. directives-end indicator)"));let A=new zc(T);return N=A.parse(new Qc(d),N),A.range=new K.Range(f,N),A}return T}),this.atLineStart=n??(e.atLineStart||!1),this.inCollection=r??(e.inCollection||!1),this.inFlow=i??(e.inFlow||!1),this.indent=s??e.indent,this.lineStart=a??e.lineStart,this.parent=l??(e.parent||{}),this.root=e.root,this.src=e.src}nodeStartsCollection(e){let{inCollection:n,inFlow:r,src:i}=this;if(n||r)return!1;if(e instanceof Rh)return!0;let s=e.range.end;return i[s]===`
`||i[s-1]===`
`?!1:(s=K.Node.endOfWhiteSpace(i,s),i[s]===":")}parseProps(e){let{inFlow:n,parent:r,src:i}=this,s=[],a=!1;e=this.atLineStart?K.Node.endOfIndent(i,e):K.Node.endOfWhiteSpace(i,e);let l=i[e];for(;l===K.Char.ANCHOR||l===K.Char.COMMENT||l===K.Char.TAG||l===`
`;){if(l===`
`){let f=e,d;do d=f+1,f=K.Node.endOfIndent(i,d);while(i[f]===`
`);let m=f-(d+this.indent),_=r.type===K.Type.SEQ_ITEM&&r.context.atLineStart;if(i[f]!=="#"&&!K.Node.nextNodeIsIndented(i[f],m,!_))break;this.atLineStart=!0,this.lineStart=d,a=!1,e=f}else if(l===K.Char.COMMENT){let f=K.Node.endOfLine(i,e+1);s.push(new K.Range(e,f)),e=f}else{let f=K.Node.endOfIdentifier(i,e+1);l===K.Char.TAG&&i[f]===","&&/^[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+,\d\d\d\d(-\d\d){0,2}\/\S/.test(i.slice(e+1,f+13))&&(f=K.Node.endOfIdentifier(i,f+5)),s.push(new K.Range(e,f)),a=!0,e=K.Node.endOfWhiteSpace(i,f)}l=i[e]}a&&l===":"&&K.Node.atBlank(i,e+1,!0)&&(e-=1);let c=Qc.parseType(i,e,n);return{props:s,type:c,valueStart:e}}};function D3(t){let e=[];t.indexOf("\r")!==-1&&(t=t.replace(/\r\n?/g,(i,s)=>(i.length>1&&e.push(s),`
`)));let n=[],r=0;do{let i=new xf,s=new Qc({src:t});r=i.parse(s,r),n.push(i)}while(r<t.length);return n.setOrigRanges=()=>{if(e.length===0)return!1;for(let s=1;s<e.length;++s)e[s]-=s;let i=0;for(let s=0;s<n.length;++s)i=n[s].setOrigRanges(e,i);return e.splice(0,e.length),!0},n.toString=()=>n.join(`...
`),n}oO.parse=D3});var Jc=oe(gn=>{"use strict";var ee=To();function M3(t,e,n){return n?`#${n.replace(/[\s\S]^/gm,`$&${e}#`)}
${e}${t}`:t}function Xc(t,e,n){return n?n.indexOf(`
`)===-1?`${t} #${n}`:`${t}
`+n.replace(/^/gm,`${e||""}#`):t}var zi=class{};function bo(t,e,n){if(Array.isArray(t))return t.map((r,i)=>bo(r,String(i),n));if(t&&typeof t.toJSON=="function"){let r=n&&n.anchors&&n.anchors.get(t);r&&(n.onCreate=s=>{r.res=s,delete n.onCreate});let i=t.toJSON(e,n);return r&&n.onCreate&&n.onCreate(i),i}return(!n||!n.keep)&&typeof t=="bigint"?Number(t):t}var Ur=class extends zi{constructor(e){super();this.value=e}toJSON(e,n){return n&&n.keep?this.value:bo(this.value,e,n)}toString(){return String(this.value)}};function cO(t,e,n){let r=n;for(let i=e.length-1;i>=0;--i){let s=e[i];if(Number.isInteger(s)&&s>=0){let a=[];a[s]=r,r=a}else{let a={};Object.defineProperty(a,s,{value:r,writable:!0,enumerable:!0,configurable:!0}),r=a}}return t.createNode(r,!1)}var uO=t=>t==null||typeof t=="object"&&t[Symbol.iterator]().next().done,$n=class extends zi{constructor(e){super();ee._defineProperty(this,"items",[]),this.schema=e}addIn(e,n){if(uO(e))this.add(n);else{let[r,...i]=e,s=this.get(r,!0);if(s instanceof $n)s.addIn(i,n);else if(s===void 0&&this.schema)this.set(r,cO(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn([e,...n]){if(n.length===0)return this.delete(e);let r=this.get(e,!0);if(r instanceof $n)return r.deleteIn(n);throw new Error(`Expected YAML collection at ${e}. Remaining path: ${n}`)}getIn([e,...n],r){let i=this.get(e,!0);return n.length===0?!r&&i instanceof Ur?i.value:i:i instanceof $n?i.getIn(n,r):void 0}hasAllNullValues(){return this.items.every(e=>{if(!e||e.type!=="PAIR")return!1;let n=e.value;return n==null||n instanceof Ur&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn([e,...n]){if(n.length===0)return this.has(e);let r=this.get(e,!0);return r instanceof $n?r.hasIn(n):!1}setIn([e,...n],r){if(n.length===0)this.set(e,r);else{let i=this.get(e,!0);if(i instanceof $n)i.setIn(n,r);else if(i===void 0&&this.schema)this.set(e,cO(this.schema,n,r));else throw new Error(`Expected YAML collection at ${e}. Remaining path: ${n}`)}}toJSON(){return null}toString(e,{blockItem:n,flowChars:r,isMap:i,itemIndent:s},a,l){let{indent:c,indentStep:f,stringify:d}=e,m=this.type===ee.Type.FLOW_MAP||this.type===ee.Type.FLOW_SEQ||e.inFlow;m&&(s+=f);let _=i&&this.hasAllNullValues();e=Object.assign({},e,{allNullValues:_,indent:s,inFlow:m,type:null});let g=!1,T=!1,N=this.items.reduce((b,x,v)=>{let I;x&&(!g&&x.spaceBefore&&b.push({type:"comment",str:""}),x.commentBefore&&x.commentBefore.match(/^.*$/gm).forEach(X=>{b.push({type:"comment",str:`#${X}`})}),x.comment&&(I=x.comment),m&&(!g&&x.spaceBefore||x.commentBefore||x.comment||x.key&&(x.key.commentBefore||x.key.comment)||x.value&&(x.value.commentBefore||x.value.comment))&&(T=!0)),g=!1;let O=d(x,e,()=>I=null,()=>g=!0);return m&&!T&&O.includes(`
`)&&(T=!0),m&&v<this.items.length-1&&(O+=","),O=Xc(O,s,I),g&&(I||m)&&(g=!1),b.push({type:"item",str:O}),b},[]),A;if(N.length===0)A=r.start+r.end;else if(m){let{start:b,end:x}=r,v=N.map(I=>I.str);if(T||v.reduce((I,O)=>I+O.length+2,2)>$n.maxFlowStringSingleLineLength){A=b;for(let I of v)A+=I?`
${f}${c}${I}`:`
`;A+=`
${c}${x}`}else A=`${b} ${v.join(" ")} ${x}`}else{let b=N.map(n);A=b.shift();for(let x of b)A+=x?`
${c}${x}`:`
`}return this.comment?(A+=`
`+this.comment.replace(/^/gm,`${c}#`),a&&a()):g&&l&&l(),A}};ee._defineProperty($n,"maxFlowStringSingleLineLength",60);function Oh(t){let e=t instanceof Ur?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),Number.isInteger(e)&&e>=0?e:null}var Tl=class extends $n{add(e){this.items.push(e)}delete(e){let n=Oh(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){let r=Oh(e);if(typeof r!="number")return;let i=this.items[r];return!n&&i instanceof Ur?i.value:i}has(e){let n=Oh(e);return typeof n=="number"&&n<this.items.length}set(e,n){let r=Oh(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);this.items[r]=n}toJSON(e,n){let r=[];n&&n.onCreate&&n.onCreate(r);let i=0;for(let s of this.items)r.push(bo(s,String(i++),n));return r}toString(e,n,r){return e?super.toString(e,{blockItem:i=>i.type==="comment"?i.str:`- ${i.str}`,flowChars:{start:"[",end:"]"},isMap:!1,itemIndent:(e.indent||"")+"  "},n,r):JSON.stringify(this)}},F3=(t,e,n)=>e===null?"":typeof e!="object"?String(e):t instanceof zi&&n&&n.doc?t.toString({anchors:Object.create(null),doc:n.doc,indent:"",indentStep:n.indentStep,inFlow:!0,inStringifyKey:!0,stringify:n.stringify}):JSON.stringify(e),zt=class extends zi{constructor(e,n=null){super();this.key=e,this.value=n,this.type=zt.Type.PAIR}get commentBefore(){return this.key instanceof zi?this.key.commentBefore:void 0}set commentBefore(e){if(this.key==null&&(this.key=new Ur(null)),this.key instanceof zi)this.key.commentBefore=e;else{let n="Pair.commentBefore is an alias for Pair.key.commentBefore. To set it, the key must be a Node.";throw new Error(n)}}addToJSMap(e,n){let r=bo(this.key,"",e);if(n instanceof Map){let i=bo(this.value,r,e);n.set(r,i)}else if(n instanceof Set)n.add(r);else{let i=F3(this.key,r,e),s=bo(this.value,i,e);i in n?Object.defineProperty(n,i,{value:s,writable:!0,enumerable:!0,configurable:!0}):n[i]=s}return n}toJSON(e,n){let r=n&&n.mapAsMap?new Map:{};return this.addToJSMap(n,r)}toString(e,n,r){if(!e||!e.doc)return JSON.stringify(this);let{indent:i,indentSeq:s,simpleKeys:a}=e.doc.options,{key:l,value:c}=this,f=l instanceof zi&&l.comment;if(a){if(f)throw new Error("With simple keys, key nodes cannot have comments");if(l instanceof $n){let O="With simple keys, collection cannot be used as a key value";throw new Error(O)}}let d=!a&&(!l||f||(l instanceof zi?l instanceof $n||l.type===ee.Type.BLOCK_FOLDED||l.type===ee.Type.BLOCK_LITERAL:typeof l=="object")),{doc:m,indent:_,indentStep:g,stringify:T}=e;e=Object.assign({},e,{implicitKey:!d,indent:_+g});let N=!1,A=T(l,e,()=>f=null,()=>N=!0);if(A=Xc(A,e.indent,f),!d&&A.length>1024){if(a)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");d=!0}if(e.allNullValues&&!a)return this.comment?(A=Xc(A,e.indent,this.comment),n&&n()):N&&!f&&r&&r(),e.inFlow&&!d?A:`? ${A}`;A=d?`? ${A}
${_}:`:`${A}:`,this.comment&&(A=Xc(A,e.indent,this.comment),n&&n());let b="",x=null;c instanceof zi?(c.spaceBefore&&(b=`
`),c.commentBefore&&(b+=`
${c.commentBefore.replace(/^/gm,`${e.indent}#`)}`),x=c.comment):c&&typeof c=="object"&&(c=m.schema.createNode(c,!0)),e.implicitKey=!1,!d&&!this.comment&&c instanceof Ur&&(e.indentAtStart=A.length+1),N=!1,!s&&i>=2&&!e.inFlow&&!d&&c instanceof Tl&&c.type!==ee.Type.FLOW_SEQ&&!c.tag&&!m.anchors.getName(c)&&(e.indent=e.indent.substr(2));let v=T(c,e,()=>x=null,()=>N=!0),I=" ";return b||this.comment?I=`${b}
${e.indent}`:!d&&c instanceof $n?(!(v[0]==="["||v[0]==="{")||v.includes(`
`))&&(I=`
${e.indent}`):v[0]===`
`&&(I=""),N&&!x&&r&&r(),Xc(A+I+v,e.indent,x)}};ee._defineProperty(zt,"Type",{PAIR:"PAIR",MERGE_PAIR:"MERGE_PAIR"});var Lh=(t,e)=>{if(t instanceof vo){let n=e.get(t.source);return n.count*n.aliasCount}else if(t instanceof $n){let n=0;for(let r of t.items){let i=Lh(r,e);i>n&&(n=i)}return n}else if(t instanceof zt){let n=Lh(t.key,e),r=Lh(t.value,e);return Math.max(n,r)}return 1},vo=class extends zi{static stringify({range:e,source:n},{anchors:r,doc:i,implicitKey:s,inStringifyKey:a}){let l=Object.keys(r).find(f=>r[f]===n);if(!l&&a&&(l=i.anchors.getName(n)||i.anchors.newName()),l)return`*${l}${s?" ":""}`;let c=i.anchors.getName(n)?"Alias node must be after source node":"Source node not found for alias node";throw new Error(`${c} [${e}]`)}constructor(e){super();this.source=e,this.type=ee.Type.ALIAS}set tag(e){throw new Error("Alias nodes cannot have tags")}toJSON(e,n){if(!n)return bo(this.source,e,n);let{anchors:r,maxAliasCount:i}=n,s=r.get(this.source);if(!s||s.res===void 0){let a="This should not happen: Alias anchor was not resolved?";throw this.cstNode?new ee.YAMLReferenceError(this.cstNode,a):new ReferenceError(a)}if(i>=0&&(s.count+=1,s.aliasCount===0&&(s.aliasCount=Lh(this.source,r)),s.count*s.aliasCount>i)){let a="Excessive alias count indicates a resource exhaustion attack";throw this.cstNode?new ee.YAMLReferenceError(this.cstNode,a):new ReferenceError(a)}return s.res}toString(e){return vo.stringify(this,e)}};ee._defineProperty(vo,"default",!0);function Ef(t,e){let n=e instanceof Ur?e.value:e;for(let r of t)if(r instanceof zt&&(r.key===e||r.key===n||r.key&&r.key.value===n))return r}var Dh=class extends $n{add(e,n){e?e instanceof zt||(e=new zt(e.key||e,e.value)):e=new zt(e);let r=Ef(this.items,e.key),i=this.schema&&this.schema.sortMapEntries;if(r)if(n)r.value=e.value;else throw new Error(`Key ${e.key} already set`);else if(i){let s=this.items.findIndex(a=>i(e,a)<0);s===-1?this.items.push(e):this.items.splice(s,0,e)}else this.items.push(e)}delete(e){let n=Ef(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){let r=Ef(this.items,e),i=r&&r.value;return!n&&i instanceof Ur?i.value:i}has(e){return!!Ef(this.items,e)}set(e,n){this.add(new zt(e,n),!0)}toJSON(e,n,r){let i=r?new r:n&&n.mapAsMap?new Map:{};n&&n.onCreate&&n.onCreate(i);for(let s of this.items)s.addToJSMap(n,i);return i}toString(e,n,r){if(!e)return JSON.stringify(this);for(let i of this.items)if(!(i instanceof zt))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return super.toString(e,{blockItem:i=>i.str,flowChars:{start:"{",end:"}"},isMap:!0,itemIndent:e.indent||""},n,r)}},fO="<<",Ky=class extends zt{constructor(e){if(e instanceof zt){let n=e.value;n instanceof Tl||(n=new Tl,n.items.push(e.value),n.range=e.value.range);super(e.key,n);this.range=e.range}else super(new Ur(fO),new Tl);this.type=zt.Type.MERGE_PAIR}addToJSMap(e,n){for(let{source:r}of this.value.items){if(!(r instanceof Dh))throw new Error("Merge sources must be maps");let i=r.toJSON(null,e,Map);for(let[s,a]of i)n instanceof Map?n.has(s)||n.set(s,a):n instanceof Set?n.add(s):Object.prototype.hasOwnProperty.call(n,s)||Object.defineProperty(n,s,{value:a,writable:!0,enumerable:!0,configurable:!0})}return n}toString(e,n){let r=this.value;if(r.items.length>1)return super.toString(e,n);this.value=r.items[0];let i=super.toString(e,n);return this.value=r,i}},V3={defaultType:ee.Type.BLOCK_LITERAL,lineWidth:76},B3={trueStr:"true",falseStr:"false"},q3={asBigInt:!1},U3={nullStr:"null"},yl={defaultType:ee.Type.PLAIN,doubleQuoted:{jsonEncoding:!1,minMultiLineLength:40},fold:{lineWidth:80,minContentWidth:20}};function $y(t,e,n){for(let{format:r,test:i,resolve:s}of e)if(i){let a=t.match(i);if(a){let l=s.apply(null,a);return l instanceof Ur||(l=new Ur(l)),r&&(l.format=r),l}}return n&&(t=n(t)),new Ur(t)}var pO="flow",zy="block",Mh="quoted",dO=(t,e)=>{let n=t[e+1];for(;n===" "||n==="	";){do n=t[e+=1];while(n&&n!==`
`);n=t[e+1]}return e};function Fh(t,e,n,{indentAtStart:r,lineWidth:i=80,minContentWidth:s=20,onFold:a,onOverflow:l}){if(!i||i<0)return t;let c=Math.max(1+s,1+i-e.length);if(t.length<=c)return t;let f=[],d={},m=i-e.length;typeof r=="number"&&(r>i-Math.max(2,s)?f.push(0):m=i-r);let _,g,T=!1,N=-1,A=-1,b=-1;n===zy&&(N=dO(t,N),N!==-1&&(m=N+c));for(let v;v=t[N+=1];){if(n===Mh&&v==="\\"){switch(A=N,t[N+1]){case"x":N+=3;break;case"u":N+=5;break;case"U":N+=9;break;default:N+=1}b=N}if(v===`
`)n===zy&&(N=dO(t,N)),m=N+c,_=void 0;else{if(v===" "&&g&&g!==" "&&g!==`
`&&g!=="	"){let I=t[N+1];I&&I!==" "&&I!==`
`&&I!=="	"&&(_=N)}if(N>=m)if(_)f.push(_),m=_+c,_=void 0;else if(n===Mh){for(;g===" "||g==="	";)g=v,v=t[N+=1],T=!0;let I=N>b+1?N-2:A-1;if(d[I])return t;f.push(I),d[I]=!0,m=I+c,_=void 0}else T=!0}g=v}if(T&&l&&l(),f.length===0)return t;a&&a();let x=t.slice(0,f[0]);for(let v=0;v<f.length;++v){let I=f[v],O=f[v+1]||t.length;I===0?x=`
${e}${t.slice(0,O)}`:(n===Mh&&d[I]&&(x+=`${t[I]}\\`),x+=`
${e}${t.slice(I+1,O)}`)}return x}var Qy=({indentAtStart:t})=>t?Object.assign({indentAtStart:t},yl.fold):yl.fold,Vh=t=>/^(%|---|\.\.\.)/m.test(t);function j3(t,e,n){if(!e||e<0)return!1;let r=e-n,i=t.length;if(i<=r)return!1;for(let s=0,a=0;s<i;++s)if(t[s]===`
`){if(s-a>r)return!0;if(a=s+1,i-a<=r)return!1}return!0}function bl(t,e){let{implicitKey:n}=e,{jsonEncoding:r,minMultiLineLength:i}=yl.doubleQuoted,s=JSON.stringify(t);if(r)return s;let a=e.indent||(Vh(t)?"  ":""),l="",c=0;for(let f=0,d=s[f];d;d=s[++f])if(d===" "&&s[f+1]==="\\"&&s[f+2]==="n"&&(l+=s.slice(c,f)+"\\ ",f+=1,c=f,d="\\"),d==="\\")switch(s[f+1]){case"u":{l+=s.slice(c,f);let m=s.substr(f+2,4);switch(m){case"0000":l+="\\0";break;case"0007":l+="\\a";break;case"000b":l+="\\v";break;case"001b":l+="\\e";break;case"0085":l+="\\N";break;case"00a0":l+="\\_";break;case"2028":l+="\\L";break;case"2029":l+="\\P";break;default:m.substr(0,2)==="00"?l+="\\x"+m.substr(2):l+=s.substr(f,6)}f+=5,c=f+1}break;case"n":if(n||s[f+2]==='"'||s.length<i)f+=1;else{for(l+=s.slice(c,f)+`

`;s[f+2]==="\\"&&s[f+3]==="n"&&s[f+4]!=='"';)l+=`
`,f+=2;l+=a,s[f+2]===" "&&(l+="\\"),f+=1,c=f+1}break;default:f+=1}return l=c?l+s.slice(c):s,n?l:Fh(l,a,Mh,Qy(e))}function hO(t,e){if(e.implicitKey){if(/\n/.test(t))return bl(t,e)}else if(/[ \t]\n|\n[ \t]/.test(t))return bl(t,e);let n=e.indent||(Vh(t)?"  ":""),r="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?r:Fh(r,n,pO,Qy(e))}function Bh({comment:t,type:e,value:n},r,i,s){if(/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return bl(n,r);let a=r.indent||(r.forceBlockIndent||Vh(n)?"  ":""),l=a?"2":"1",c=e===ee.Type.BLOCK_FOLDED?!1:e===ee.Type.BLOCK_LITERAL?!0:!j3(n,yl.fold.lineWidth,a.length),f=c?"|":">";if(!n)return f+`
`;let d="",m="";if(n=n.replace(/[\n\t ]*$/,g=>{let T=g.indexOf(`
`);return T===-1?f+="-":(n===g||T!==g.length-1)&&(f+="+",s&&s()),m=g.replace(/\n$/,""),""}).replace(/^[\n ]*/,g=>{g.indexOf(" ")!==-1&&(f+=l);let T=g.match(/ +$/);return T?(d=g.slice(0,-T[0].length),T[0]):(d=g,"")}),m&&(m=m.replace(/\n+(?!\n|$)/g,`$&${a}`)),d&&(d=d.replace(/\n+/g,`$&${a}`)),t&&(f+=" #"+t.replace(/ ?[\r\n]+/g," "),i&&i()),!n)return`${f}${l}
${a}${m}`;if(c)return n=n.replace(/\n+/g,`$&${a}`),`${f}
${a}${d}${n}${m}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${a}`);let _=Fh(`${d}${n}${m}`,a,zy,yl.fold);return`${f}
${a}${_}`}function G3(t,e,n,r){let{comment:i,type:s,value:a}=t,{actualString:l,implicitKey:c,indent:f,inFlow:d}=e;if(c&&/[\n[\]{},]/.test(a)||d&&/[[\]{},]/.test(a))return bl(a,e);if(!a||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(a))return c||d||a.indexOf(`
`)===-1?a.indexOf('"')!==-1&&a.indexOf("'")===-1?hO(a,e):bl(a,e):Bh(t,e,n,r);if(!c&&!d&&s!==ee.Type.PLAIN&&a.indexOf(`
`)!==-1)return Bh(t,e,n,r);if(f===""&&Vh(a))return e.forceBlockIndent=!0,Bh(t,e,n,r);let m=a.replace(/\n+/g,`$&
${f}`);if(l){let{tags:g}=e.doc.schema;if(typeof $y(m,g,g.scalarFallback).value!="string")return bl(a,e)}let _=c?m:Fh(m,f,pO,Qy(e));return i&&!d&&(_.indexOf(`
`)!==-1||i.indexOf(`
`)!==-1)?(n&&n(),M3(_,f,i)):_}function H3(t,e,n,r){let{defaultType:i}=yl,{implicitKey:s,inFlow:a}=e,{type:l,value:c}=t;typeof c!="string"&&(c=String(c),t=Object.assign({},t,{value:c}));let f=m=>{switch(m){case ee.Type.BLOCK_FOLDED:case ee.Type.BLOCK_LITERAL:return Bh(t,e,n,r);case ee.Type.QUOTE_DOUBLE:return bl(c,e);case ee.Type.QUOTE_SINGLE:return hO(c,e);case ee.Type.PLAIN:return G3(t,e,n,r);default:return null}};(l!==ee.Type.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f]/.test(c)||(s||a)&&(l===ee.Type.BLOCK_FOLDED||l===ee.Type.BLOCK_LITERAL))&&(l=ee.Type.QUOTE_DOUBLE);let d=f(l);if(d===null&&(d=f(i),d===null))throw new Error(`Unsupported default string type ${i}`);return d}function W3({format:t,minFractionDigits:e,tag:n,value:r}){if(typeof r=="bigint")return String(r);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let i=JSON.stringify(r);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let s=i.indexOf(".");s<0&&(s=i.length,i+=".");let a=e-(i.length-s-1);for(;a-- >0;)i+="0"}return i}function mO(t,e){let n,r;switch(e.type){case ee.Type.FLOW_MAP:n="}",r="flow map";break;case ee.Type.FLOW_SEQ:n="]",r="flow sequence";break;default:t.push(new ee.YAMLSemanticError(e,"Not a flow collection!?"));return}let i;for(let s=e.items.length-1;s>=0;--s){let a=e.items[s];if(!a||a.type!==ee.Type.COMMENT){i=a;break}}if(i&&i.char!==n){let s=`Expected ${r} to end with ${n}`,a;typeof i.offset=="number"?(a=new ee.YAMLSemanticError(e,s),a.offset=i.offset+1):(a=new ee.YAMLSemanticError(i,s),i.range&&i.range.end&&(a.offset=i.range.end-i.range.start)),t.push(a)}}function gO(t,e){let n=e.context.src[e.range.start-1];if(n!==`
`&&n!=="	"&&n!==" "){let r="Comments must be separated from other tokens by white space characters";t.push(new ee.YAMLSemanticError(e,r))}}function _O(t,e){let n=String(e),r=n.substr(0,8)+"..."+n.substr(-8);return new ee.YAMLSemanticError(t,`The "${r}" key is too long`)}function TO(t,e){for(let{afterKey:n,before:r,comment:i}of e){let s=t.items[r];s?(n&&s.value&&(s=s.value),i===void 0?(n||!s.commentBefore)&&(s.spaceBefore=!0):s.commentBefore?s.commentBefore+=`
`+i:s.commentBefore=i):i!==void 0&&(t.comment?t.comment+=`
`+i:t.comment=i)}}function Xy(t,e){let n=e.strValue;return n?typeof n=="string"?n:(n.errors.forEach(r=>{r.source||(r.source=e),t.errors.push(r)}),n.str):""}function Y3(t,e){let{handle:n,suffix:r}=e.tag,i=t.tagPrefixes.find(s=>s.handle===n);if(!i){let s=t.getDefaults().tagPrefixes;if(s&&(i=s.find(a=>a.handle===n)),!i)throw new ee.YAMLSemanticError(e,`The ${n} tag handle is non-default and was not declared.`)}if(!r)throw new ee.YAMLSemanticError(e,`The ${n} tag has no suffix.`);if(n==="!"&&(t.version||t.options.version)==="1.0"){if(r[0]==="^")return t.warnings.push(new ee.YAMLWarning(e,"YAML 1.0 ^ tag expansion is not supported")),r;if(/[:/]/.test(r)){let s=r.match(/^([a-z0-9-]+)\/(.*)/i);return s?`tag:${s[1]}.yaml.org,2002:${s[2]}`:`tag:${r}`}}return i.prefix+decodeURIComponent(r)}function K3(t,e){let{tag:n,type:r}=e,i=!1;if(n){let{handle:s,suffix:a,verbatim:l}=n;if(l){if(l!=="!"&&l!=="!!")return l;let c=`Verbatim tags aren't resolved, so ${l} is invalid.`;t.errors.push(new ee.YAMLSemanticError(e,c))}else if(s==="!"&&!a)i=!0;else try{return Y3(t,e)}catch(c){t.errors.push(c)}}switch(r){case ee.Type.BLOCK_FOLDED:case ee.Type.BLOCK_LITERAL:case ee.Type.QUOTE_DOUBLE:case ee.Type.QUOTE_SINGLE:return ee.defaultTags.STR;case ee.Type.FLOW_MAP:case ee.Type.MAP:return ee.defaultTags.MAP;case ee.Type.FLOW_SEQ:case ee.Type.SEQ:return ee.defaultTags.SEQ;case ee.Type.PLAIN:return i?ee.defaultTags.STR:null;default:return null}}function yO(t,e,n){let{tags:r}=t.schema,i=[];for(let a of r)if(a.tag===n)if(a.test)i.push(a);else{let l=a.resolve(t,e);return l instanceof $n?l:new Ur(l)}let s=Xy(t,e);return typeof s=="string"&&i.length>0?$y(s,i,r.scalarFallback):null}function $3({type:t}){switch(t){case ee.Type.FLOW_MAP:case ee.Type.MAP:return ee.defaultTags.MAP;case ee.Type.FLOW_SEQ:case ee.Type.SEQ:return ee.defaultTags.SEQ;default:return ee.defaultTags.STR}}function z3(t,e,n){try{let r=yO(t,e,n);if(r)return n&&e.tag&&(r.tag=n),r}catch(r){return r.source||(r.source=e),t.errors.push(r),null}try{let r=$3(e);if(!r)throw new Error(`The tag ${n} is unavailable`);let i=`The tag ${n} is unavailable, falling back to ${r}`;t.warnings.push(new ee.YAMLWarning(e,i));let s=yO(t,e,r);return s.tag=n,s}catch(r){let i=new ee.YAMLReferenceError(e,r.message);return i.stack=r.stack,t.errors.push(i),null}}var Q3=t=>{if(!t)return!1;let{type:e}=t;return e===ee.Type.MAP_KEY||e===ee.Type.MAP_VALUE||e===ee.Type.SEQ_ITEM};function X3(t,e){let n={before:[],after:[]},r=!1,i=!1,s=Q3(e.context.parent)?e.context.parent.props.concat(e.props):e.props;for(let{start:a,end:l}of s)switch(e.context.src[a]){case ee.Char.COMMENT:{if(!e.commentHasRequiredWhitespace(a)){let m="Comments must be separated from other tokens by white space characters";t.push(new ee.YAMLSemanticError(e,m))}let{header:c,valueRange:f}=e;(f&&(a>f.start||c&&a>c.start)?n.after:n.before).push(e.context.src.slice(a+1,l));break}case ee.Char.ANCHOR:if(r){let c="A node can have at most one anchor";t.push(new ee.YAMLSemanticError(e,c))}r=!0;break;case ee.Char.TAG:if(i){let c="A node can have at most one tag";t.push(new ee.YAMLSemanticError(e,c))}i=!0;break}return{comments:n,hasAnchor:r,hasTag:i}}function J3(t,e){let{anchors:n,errors:r,schema:i}=t;if(e.type===ee.Type.ALIAS){let a=e.rawValue,l=n.getNode(a);if(!l){let f=`Aliased anchor not found: ${a}`;return r.push(new ee.YAMLReferenceError(e,f)),null}let c=new vo(l);return n._cstAliases.push(c),c}let s=K3(t,e);if(s)return z3(t,e,s);if(e.type!==ee.Type.PLAIN){let a=`Failed to resolve ${e.type} node here`;return r.push(new ee.YAMLSyntaxError(e,a)),null}try{let a=Xy(t,e);return $y(a,i.tags,i.tags.scalarFallback)}catch(a){return a.source||(a.source=e),r.push(a),null}}function No(t,e){if(!e)return null;e.error&&t.errors.push(e.error);let{comments:n,hasAnchor:r,hasTag:i}=X3(t.errors,e);if(r){let{anchors:a}=t,l=e.anchor,c=a.getNode(l);c&&(a.map[a.newName(l)]=c),a.map[l]=e}if(e.type===ee.Type.ALIAS&&(r||i)){let a="An alias node must not specify any properties";t.errors.push(new ee.YAMLSemanticError(e,a))}let s=J3(t,e);if(s){s.range=[e.range.start,e.range.end],t.options.keepCstNodes&&(s.cstNode=e),t.options.keepNodeTypes&&(s.type=e.type);let a=n.before.join(`
`);a&&(s.commentBefore=s.commentBefore?`${s.commentBefore}
${a}`:a);let l=n.after.join(`
`);l&&(s.comment=s.comment?`${s.comment}
${l}`:l)}return e.resolved=s}function Z3(t,e){if(e.type!==ee.Type.MAP&&e.type!==ee.Type.FLOW_MAP){let a=`A ${e.type} node cannot be resolved as a mapping`;return t.errors.push(new ee.YAMLSyntaxError(e,a)),null}let{comments:n,items:r}=e.type===ee.Type.FLOW_MAP?r8(t,e):n8(t,e),i=new Dh;i.items=r,TO(i,n);let s=!1;for(let a=0;a<r.length;++a){let{key:l}=r[a];if(l instanceof $n&&(s=!0),t.schema.merge&&l&&l.value===fO){r[a]=new Ky(r[a]);let c=r[a].value.items,f=null;c.some(d=>{if(d instanceof vo){let{type:m}=d.source;return m===ee.Type.MAP||m===ee.Type.FLOW_MAP?!1:f="Merge nodes aliases can only point to maps"}return f="Merge nodes can only have Alias nodes as values"}),f&&t.errors.push(new ee.YAMLSemanticError(e,f))}else for(let c=a+1;c<r.length;++c){let{key:f}=r[c];if(l===f||l&&f&&Object.prototype.hasOwnProperty.call(l,"value")&&l.value===f.value){let d=`Map keys must be unique; "${l}" is repeated`;t.errors.push(new ee.YAMLSemanticError(e,d));break}}}if(s&&!t.options.mapAsMap){let a="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new ee.YAMLWarning(e,a))}return e.resolved=i,i}var e8=({context:{lineStart:t,node:e,src:n},props:r})=>{if(r.length===0)return!1;let{start:i}=r[0];if(e&&i>e.valueRange.start||n[i]!==ee.Char.COMMENT)return!1;for(let s=t;s<i;++s)if(n[s]===`
`)return!1;return!0};function t8(t,e){if(!e8(t))return;let n=t.getPropValue(0,ee.Char.COMMENT,!0),r=!1,i=e.value.commentBefore;if(i&&i.startsWith(n))e.value.commentBefore=i.substr(n.length+1),r=!0;else{let s=e.value.comment;!t.node&&s&&s.startsWith(n)&&(e.value.comment=s.substr(n.length+1),r=!0)}r&&(e.comment=n)}function n8(t,e){let n=[],r=[],i,s=null;for(let a=0;a<e.items.length;++a){let l=e.items[a];switch(l.type){case ee.Type.BLANK_LINE:n.push({afterKey:!!i,before:r.length});break;case ee.Type.COMMENT:n.push({afterKey:!!i,before:r.length,comment:l.comment});break;case ee.Type.MAP_KEY:i!==void 0&&r.push(new zt(i)),l.error&&t.errors.push(l.error),i=No(t,l.node),s=null;break;case ee.Type.MAP_VALUE:{if(i===void 0&&(i=null),l.error&&t.errors.push(l.error),!l.context.atLineStart&&l.node&&l.node.type===ee.Type.MAP&&!l.node.context.atLineStart){let d="Nested mappings are not allowed in compact mappings";t.errors.push(new ee.YAMLSemanticError(l.node,d))}let c=l.node;if(!c&&l.props.length>0){c=new ee.PlainValue(ee.Type.PLAIN,[]),c.context={parent:l,src:l.context.src};let d=l.range.start+1;if(c.range={start:d,end:d},c.valueRange={start:d,end:d},typeof l.range.origStart=="number"){let m=l.range.origStart+1;c.range.origStart=c.range.origEnd=m,c.valueRange.origStart=c.valueRange.origEnd=m}}let f=new zt(i,No(t,c));t8(l,f),r.push(f),i&&typeof s=="number"&&l.range.start>s+1024&&t.errors.push(_O(e,i)),i=void 0,s=null}break;default:i!==void 0&&r.push(new zt(i)),i=No(t,l),s=l.range.start,l.error&&t.errors.push(l.error);e:for(let c=a+1;;++c){let f=e.items[c];switch(f&&f.type){case ee.Type.BLANK_LINE:case ee.Type.COMMENT:continue e;case ee.Type.MAP_VALUE:break e;default:{let d="Implicit map keys need to be followed by map values";t.errors.push(new ee.YAMLSemanticError(l,d));break e}}}if(l.valueRangeContainsNewline){let c="Implicit map keys need to be on a single line";t.errors.push(new ee.YAMLSemanticError(l,c))}}}return i!==void 0&&r.push(new zt(i)),{comments:n,items:r}}function r8(t,e){let n=[],r=[],i,s=!1,a="{";for(let l=0;l<e.items.length;++l){let c=e.items[l];if(typeof c.char=="string"){let{char:f,offset:d}=c;if(f==="?"&&i===void 0&&!s){s=!0,a=":";continue}if(f===":"){if(i===void 0&&(i=null),a===":"){a=",";continue}}else if(s&&(i===void 0&&f!==","&&(i=null),s=!1),i!==void 0&&(r.push(new zt(i)),i=void 0,f===",")){a=":";continue}if(f==="}"){if(l===e.items.length-1)continue}else if(f===a){a=":";continue}let m=`Flow map contains an unexpected ${f}`,_=new ee.YAMLSyntaxError(e,m);_.offset=d,t.errors.push(_)}else c.type===ee.Type.BLANK_LINE?n.push({afterKey:!!i,before:r.length}):c.type===ee.Type.COMMENT?(gO(t.errors,c),n.push({afterKey:!!i,before:r.length,comment:c.comment})):i===void 0?(a===","&&t.errors.push(new ee.YAMLSemanticError(c,"Separator , missing in flow map")),i=No(t,c)):(a!==","&&t.errors.push(new ee.YAMLSemanticError(c,"Indicator : missing in flow map entry")),r.push(new zt(i,No(t,c))),i=void 0,s=!1)}return mO(t.errors,e),i!==void 0&&r.push(new zt(i)),{comments:n,items:r}}function i8(t,e){if(e.type!==ee.Type.SEQ&&e.type!==ee.Type.FLOW_SEQ){let s=`A ${e.type} node cannot be resolved as a sequence`;return t.errors.push(new ee.YAMLSyntaxError(e,s)),null}let{comments:n,items:r}=e.type===ee.Type.FLOW_SEQ?a8(t,e):s8(t,e),i=new Tl;if(i.items=r,TO(i,n),!t.options.mapAsMap&&r.some(s=>s instanceof zt&&s.key instanceof $n)){let s="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new ee.YAMLWarning(e,s))}return e.resolved=i,i}function s8(t,e){let n=[],r=[];for(let i=0;i<e.items.length;++i){let s=e.items[i];switch(s.type){case ee.Type.BLANK_LINE:n.push({before:r.length});break;case ee.Type.COMMENT:n.push({comment:s.comment,before:r.length});break;case ee.Type.SEQ_ITEM:if(s.error&&t.errors.push(s.error),r.push(No(t,s.node)),s.hasProps){let a="Sequence items cannot have tags or anchors before the - indicator";t.errors.push(new ee.YAMLSemanticError(s,a))}break;default:s.error&&t.errors.push(s.error),t.errors.push(new ee.YAMLSyntaxError(s,`Unexpected ${s.type} node in sequence`))}}return{comments:n,items:r}}function a8(t,e){let n=[],r=[],i=!1,s,a=null,l="[",c=null;for(let f=0;f<e.items.length;++f){let d=e.items[f];if(typeof d.char=="string"){let{char:m,offset:_}=d;if(m!==":"&&(i||s!==void 0)&&(i&&s===void 0&&(s=l?r.pop():null),r.push(new zt(s)),i=!1,s=void 0,a=null),m===l)l=null;else if(!l&&m==="?")i=!0;else if(l!=="["&&m===":"&&s===void 0){if(l===","){if(s=r.pop(),s instanceof zt){let g="Chaining flow sequence pairs is invalid",T=new ee.YAMLSemanticError(e,g);T.offset=_,t.errors.push(T)}if(!i&&typeof a=="number"){let g=d.range?d.range.start:d.offset;g>a+1024&&t.errors.push(_O(e,s));let{src:T}=c.context;for(let N=a;N<g;++N)if(T[N]===`
`){let A="Implicit keys of flow sequence pairs need to be on a single line";t.errors.push(new ee.YAMLSemanticError(c,A));break}}}else s=null;a=null,i=!1,l=null}else if(l==="["||m!=="]"||f<e.items.length-1){let g=`Flow sequence contains an unexpected ${m}`,T=new ee.YAMLSyntaxError(e,g);T.offset=_,t.errors.push(T)}}else if(d.type===ee.Type.BLANK_LINE)n.push({before:r.length});else if(d.type===ee.Type.COMMENT)gO(t.errors,d),n.push({comment:d.comment,before:r.length});else{if(l){let _=`Expected a ${l} in flow sequence`;t.errors.push(new ee.YAMLSemanticError(d,_))}let m=No(t,d);s===void 0?(r.push(m),c=d):(r.push(new zt(s,m)),s=void 0),a=d.range.start,l=","}}return mO(t.errors,e),s!==void 0&&r.push(new zt(s)),{comments:n,items:r}}gn.Alias=vo;gn.Collection=$n;gn.Merge=Ky;gn.Node=zi;gn.Pair=zt;gn.Scalar=Ur;gn.YAMLMap=Dh;gn.YAMLSeq=Tl;gn.addComment=Xc;gn.binaryOptions=V3;gn.boolOptions=B3;gn.findPair=Ef;gn.intOptions=q3;gn.isEmptyPath=uO;gn.nullOptions=U3;gn.resolveMap=Z3;gn.resolveNode=No;gn.resolveSeq=i8;gn.resolveString=Xy;gn.strOptions=yl;gn.stringifyNumber=W3;gn.stringifyString=H3;gn.toJSON=bo});var qh=oe(qs=>{"use strict";var Ni=To(),Pt=Jc(),o8={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve:(t,e)=>{let n=Pt.resolveString(t,e);if(typeof Buffer=="function")return Buffer.from(n,"base64");if(typeof atob=="function"){let r=atob(n.replace(/[\n\r]/g,"")),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}else{let r="This environment does not support reading binary tags; either Buffer or atob is required";return t.errors.push(new Ni.YAMLReferenceError(e,r)),null}},options:Pt.binaryOptions,stringify:({comment:t,type:e,value:n},r,i,s)=>{let a;if(typeof Buffer=="function")a=n instanceof Buffer?n.toString("base64"):Buffer.from(n.buffer).toString("base64");else if(typeof btoa=="function"){let l="";for(let c=0;c<n.length;++c)l+=String.fromCharCode(n[c]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=Pt.binaryOptions.defaultType),e===Ni.Type.QUOTE_DOUBLE)n=a;else{let{lineWidth:l}=Pt.binaryOptions,c=Math.ceil(a.length/l),f=new Array(c);for(let d=0,m=0;d<c;++d,m+=l)f[d]=a.substr(m,l);n=f.join(e===Ni.Type.BLOCK_LITERAL?`
`:" ")}return Pt.stringifyString({comment:t,type:e,value:n},r,i,s)}};function bO(t,e){let n=Pt.resolveSeq(t,e);for(let r=0;r<n.items.length;++r){let i=n.items[r];if(!(i instanceof Pt.Pair)){if(i instanceof Pt.YAMLMap){if(i.items.length>1){let a="Each pair must have its own sequence indicator";throw new Ni.YAMLSemanticError(e,a)}let s=i.items[0]||new Pt.Pair;i.commentBefore&&(s.commentBefore=s.commentBefore?`${i.commentBefore}
${s.commentBefore}`:i.commentBefore),i.comment&&(s.comment=s.comment?`${i.comment}
${s.comment}`:i.comment),i=s}n.items[r]=i instanceof Pt.Pair?i:new Pt.Pair(i)}}return n}function vO(t,e,n){let r=new Pt.YAMLSeq(t);r.tag="tag:yaml.org,2002:pairs";for(let i of e){let s,a;if(Array.isArray(i))if(i.length===2)s=i[0],a=i[1];else throw new TypeError(`Expected [key, value] tuple: ${i}`);else if(i&&i instanceof Object){let c=Object.keys(i);if(c.length===1)s=c[0],a=i[s];else throw new TypeError(`Expected { key: value } tuple: ${i}`)}else s=i;let l=t.createPair(s,a,n);r.items.push(l)}return r}var l8={default:!1,tag:"tag:yaml.org,2002:pairs",resolve:bO,createNode:vO},vl=class extends Pt.YAMLSeq{constructor(){super();Ni._defineProperty(this,"add",Pt.YAMLMap.prototype.add.bind(this)),Ni._defineProperty(this,"delete",Pt.YAMLMap.prototype.delete.bind(this)),Ni._defineProperty(this,"get",Pt.YAMLMap.prototype.get.bind(this)),Ni._defineProperty(this,"has",Pt.YAMLMap.prototype.has.bind(this)),Ni._defineProperty(this,"set",Pt.YAMLMap.prototype.set.bind(this)),this.tag=vl.tag}toJSON(e,n){let r=new Map;n&&n.onCreate&&n.onCreate(r);for(let i of this.items){let s,a;if(i instanceof Pt.Pair?(s=Pt.toJSON(i.key,"",n),a=Pt.toJSON(i.value,s,n)):s=Pt.toJSON(i,"",n),r.has(s))throw new Error("Ordered maps must not include duplicate keys");r.set(s,a)}return r}};Ni._defineProperty(vl,"tag","tag:yaml.org,2002:omap");function c8(t,e){let n=bO(t,e),r=[];for(let{key:i}of n.items)if(i instanceof Pt.Scalar)if(r.includes(i.value)){let s="Ordered maps must not include duplicate keys";throw new Ni.YAMLSemanticError(e,s)}else r.push(i.value);return Object.assign(new vl,n)}function u8(t,e,n){let r=vO(t,e,n),i=new vl;return i.items=r.items,i}var f8={identify:t=>t instanceof Map,nodeClass:vl,default:!1,tag:"tag:yaml.org,2002:omap",resolve:c8,createNode:u8},Nl=class extends Pt.YAMLMap{constructor(){super();this.tag=Nl.tag}add(e){let n=e instanceof Pt.Pair?e:new Pt.Pair(e);Pt.findPair(this.items,n.key)||this.items.push(n)}get(e,n){let r=Pt.findPair(this.items,e);return!n&&r instanceof Pt.Pair?r.key instanceof Pt.Scalar?r.key.value:r.key:r}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);let r=Pt.findPair(this.items,e);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Pt.Pair(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues())return super.toString(e,n,r);throw new Error("Set items must all have null values")}};Ni._defineProperty(Nl,"tag","tag:yaml.org,2002:set");function p8(t,e){let n=Pt.resolveMap(t,e);if(!n.hasAllNullValues())throw new Ni.YAMLSemanticError(e,"Set items must all have null values");return Object.assign(new Nl,n)}function d8(t,e,n){let r=new Nl;for(let i of e)r.items.push(t.createPair(i,null,n));return r}var h8={identify:t=>t instanceof Set,nodeClass:Nl,default:!1,tag:"tag:yaml.org,2002:set",resolve:p8,createNode:d8},Jy=(t,e)=>{let n=e.split(":").reduce((r,i)=>r*60+Number(i),0);return t==="-"?-n:n},NO=({value:t})=>{if(isNaN(t)||!isFinite(t))return Pt.stringifyNumber(t);let e="";t<0&&(e="-",t=Math.abs(t));let n=[t%60];return t<60?n.unshift(0):(t=Math.round((t-n[0])/60),n.unshift(t%60),t>=60&&(t=Math.round((t-n[0])/60),n.unshift(t))),e+n.map(r=>r<10?"0"+String(r):String(r)).join(":").replace(/000000\d*$/,"")},m8={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+)$/,resolve:(t,e,n)=>Jy(e,n.replace(/_/g,"")),stringify:NO},g8={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*)$/,resolve:(t,e,n)=>Jy(e,n.replace(/_/g,"")),stringify:NO},_8={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^(?:([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?)$"),resolve:(t,e,n,r,i,s,a,l,c)=>{l&&(l=(l+"00").substr(1,3));let f=Date.UTC(e,n-1,r,i||0,s||0,a||0,l||0);if(c&&c!=="Z"){let d=Jy(c[0],c.slice(1));Math.abs(d)<30&&(d*=60),f-=6e4*d}return new Date(f)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};function Zy(t){let e=typeof process!="undefined"&&process.env||{};return t?typeof YAML_SILENCE_DEPRECATION_WARNINGS!="undefined"?!YAML_SILENCE_DEPRECATION_WARNINGS:!e.YAML_SILENCE_DEPRECATION_WARNINGS:typeof YAML_SILENCE_WARNINGS!="undefined"?!YAML_SILENCE_WARNINGS:!e.YAML_SILENCE_WARNINGS}function eb(t,e){if(Zy(!1)){let n=typeof process!="undefined"&&process.emitWarning;n?n(t,e):console.warn(e?`${e}: ${t}`:t)}}function T8(t){if(Zy(!0)){let e=t.replace(/.*yaml[/\\]/i,"").replace(/\.js$/,"").replace(/\\/g,"/");eb(`The endpoint 'yaml/${e}' will be removed in a future release.`,"DeprecationWarning")}}var xO={};function y8(t,e){if(!xO[t]&&Zy(!0)){xO[t]=!0;let n=`The option '${t}' will be removed in a future release`;n+=e?`, use '${e}' instead.`:".",eb(n,"DeprecationWarning")}}qs.binary=o8;qs.floatTime=g8;qs.intTime=m8;qs.omap=f8;qs.pairs=l8;qs.set=h8;qs.timestamp=_8;qs.warn=eb;qs.warnFileDeprecation=T8;qs.warnOptionDeprecation=y8});var Yh=oe(MO=>{"use strict";var Uh=To(),$e=Jc(),jr=qh();function b8(t,e,n){let r=new $e.YAMLMap(t);if(e instanceof Map)for(let[i,s]of e)r.items.push(t.createPair(i,s,n));else if(e&&typeof e=="object")for(let i of Object.keys(e))r.items.push(t.createPair(i,e[i],n));return typeof t.sortMapEntries=="function"&&r.items.sort(t.sortMapEntries),r}var Sf={createNode:b8,default:!0,nodeClass:$e.YAMLMap,tag:"tag:yaml.org,2002:map",resolve:$e.resolveMap};function v8(t,e,n){let r=new $e.YAMLSeq(t);if(e&&e[Symbol.iterator])for(let i of e){let s=t.createNode(i,n.wrapScalars,null,n);r.items.push(s)}return r}var jh={createNode:v8,default:!0,nodeClass:$e.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve:$e.resolveSeq},N8={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:$e.resolveString,stringify(t,e,n,r){return e=Object.assign({actualString:!0},e),$e.stringifyString(t,e,n,r)},options:$e.strOptions},tb=[Sf,jh,N8],Gh=t=>typeof t=="bigint"||Number.isInteger(t),nb=(t,e,n)=>$e.intOptions.asBigInt?BigInt(t):parseInt(e,n);function EO(t,e,n){let{value:r}=t;return Gh(r)&&r>=0?n+r.toString(e):$e.stringifyNumber(t)}var SO={identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new $e.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:$e.nullOptions,stringify:()=>$e.nullOptions.nullStr},PO={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>t[0]==="t"||t[0]==="T",options:$e.boolOptions,stringify:({value:t})=>t?$e.boolOptions.trueStr:$e.boolOptions.falseStr},IO={identify:t=>Gh(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o([0-7]+)$/,resolve:(t,e)=>nb(t,e,8),options:$e.intOptions,stringify:t=>EO(t,8,"0o")},CO={identify:Gh,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:t=>nb(t,t,10),options:$e.intOptions,stringify:$e.stringifyNumber},AO={identify:t=>Gh(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x([0-9a-fA-F]+)$/,resolve:(t,e)=>nb(t,e,16),options:$e.intOptions,stringify:t=>EO(t,16,"0x")},RO={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:$e.stringifyNumber},kO={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify:({value:t})=>Number(t).toExponential()},wO={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.([0-9]+)|[0-9]+\.([0-9]*))$/,resolve(t,e,n){let r=e||n,i=new $e.Scalar(parseFloat(t));return r&&r[r.length-1]==="0"&&(i.minFractionDigits=r.length),i},stringify:$e.stringifyNumber},x8=tb.concat([SO,PO,IO,CO,AO,RO,kO,wO]),OO=t=>typeof t=="bigint"||Number.isInteger(t),Hh=({value:t})=>JSON.stringify(t),LO=[Sf,jh,{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:$e.resolveString,stringify:Hh},{identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new $e.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Hh},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:Hh},{identify:OO,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:t=>$e.intOptions.asBigInt?BigInt(t):parseInt(t,10),stringify:({value:t})=>OO(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:Hh}];LO.scalarFallback=t=>{throw new SyntaxError(`Unresolved plain scalar ${JSON.stringify(t)}`)};var DO=({value:t})=>t?$e.boolOptions.trueStr:$e.boolOptions.falseStr,Pf=t=>typeof t=="bigint"||Number.isInteger(t);function Wh(t,e,n){let r=e.replace(/_/g,"");if($e.intOptions.asBigInt){switch(n){case 2:r=`0b${r}`;break;case 8:r=`0o${r}`;break;case 16:r=`0x${r}`;break}let s=BigInt(r);return t==="-"?BigInt(-1)*s:s}let i=parseInt(r,n);return t==="-"?-1*i:i}function rb(t,e,n){let{value:r}=t;if(Pf(r)){let i=r.toString(e);return r<0?"-"+n+i.substr(1):n+i}return $e.stringifyNumber(t)}var E8=tb.concat([{identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new $e.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:$e.nullOptions,stringify:()=>$e.nullOptions.nullStr},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>!0,options:$e.boolOptions,stringify:DO},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>!1,options:$e.boolOptions,stringify:DO},{identify:Pf,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^([-+]?)0b([0-1_]+)$/,resolve:(t,e,n)=>Wh(e,n,2),stringify:t=>rb(t,2,"0b")},{identify:Pf,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^([-+]?)0([0-7_]+)$/,resolve:(t,e,n)=>Wh(e,n,8),stringify:t=>rb(t,8,"0")},{identify:Pf,default:!0,tag:"tag:yaml.org,2002:int",test:/^([-+]?)([0-9][0-9_]*)$/,resolve:(t,e,n)=>Wh(e,n,10),stringify:$e.stringifyNumber},{identify:Pf,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^([-+]?)0x([0-9a-fA-F_]+)$/,resolve:(t,e,n)=>Wh(e,n,16),stringify:t=>rb(t,16,"0x")},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:$e.stringifyNumber},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?([0-9][0-9_]*)?(\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify:({value:t})=>Number(t).toExponential()},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.([0-9_]*)$/,resolve(t,e){let n=new $e.Scalar(parseFloat(t.replace(/_/g,"")));if(e){let r=e.replace(/_/g,"");r[r.length-1]==="0"&&(n.minFractionDigits=r.length)}return n},stringify:$e.stringifyNumber}],jr.binary,jr.omap,jr.pairs,jr.set,jr.intTime,jr.floatTime,jr.timestamp),S8={core:x8,failsafe:tb,json:LO,yaml11:E8},P8={binary:jr.binary,bool:PO,float:wO,floatExp:kO,floatNaN:RO,floatTime:jr.floatTime,int:CO,intHex:AO,intOct:IO,intTime:jr.intTime,map:Sf,null:SO,omap:jr.omap,pairs:jr.pairs,seq:jh,set:jr.set,timestamp:jr.timestamp};function I8(t,e,n){if(e){let r=n.filter(s=>s.tag===e),i=r.find(s=>!s.format)||r[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return n.find(r=>(r.identify&&r.identify(t)||r.class&&t instanceof r.class)&&!r.format)}function C8(t,e,n){if(t instanceof $e.Node)return t;let{defaultPrefix:r,onTagObj:i,prevObjects:s,schema:a,wrapScalars:l}=n;e&&e.startsWith("!!")&&(e=r+e.slice(2));let c=I8(t,e,a.tags);if(!c){if(typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object")return l?new $e.Scalar(t):t;c=t instanceof Map?Sf:t[Symbol.iterator]?jh:Sf}i&&(i(c),delete n.onTagObj);let f={value:void 0,node:void 0};if(t&&typeof t=="object"&&s){let d=s.get(t);if(d){let m=new $e.Alias(d);return n.aliasNodes.push(m),m}f.value=t,s.set(t,f)}return f.node=c.createNode?c.createNode(n.schema,t,n):l?new $e.Scalar(t):t,e&&f.node instanceof $e.Node&&(f.node.tag=e),f.node}function A8(t,e,n,r){let i=t[r.replace(/\W/g,"")];if(!i){let s=Object.keys(t).map(a=>JSON.stringify(a)).join(", ");throw new Error(`Unknown schema "${r}"; use one of ${s}`)}if(Array.isArray(n))for(let s of n)i=i.concat(s);else typeof n=="function"&&(i=n(i.slice()));for(let s=0;s<i.length;++s){let a=i[s];if(typeof a=="string"){let l=e[a];if(!l){let c=Object.keys(e).map(f=>JSON.stringify(f)).join(", ");throw new Error(`Unknown custom tag "${a}"; use one of ${c}`)}i[s]=l}}return i}var R8=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0,Zc=class{constructor({customTags:e,merge:n,schema:r,sortMapEntries:i,tags:s}){this.merge=!!n,this.name=r,this.sortMapEntries=i===!0?R8:i||null,!e&&s&&jr.warnOptionDeprecation("tags","customTags"),this.tags=A8(S8,P8,e||s,r)}createNode(e,n,r,i){let s={defaultPrefix:Zc.defaultPrefix,schema:this,wrapScalars:n},a=i?Object.assign(i,s):s;return C8(e,r,a)}createPair(e,n,r){r||(r={wrapScalars:!0});let i=this.createNode(e,r.wrapScalars,null,r),s=this.createNode(n,r.wrapScalars,null,r);return new $e.Pair(i,s)}};Uh._defineProperty(Zc,"defaultPrefix",Uh.defaultTagPrefix);Uh._defineProperty(Zc,"defaultTags",Uh.defaultTags);MO.Schema=Zc});var qO=oe(Qh=>{"use strict";var Gr=To(),Xe=Jc(),FO=Yh(),k8={anchorPrefix:"a",customTags:null,indent:2,indentSeq:!0,keepCstNodes:!1,keepNodeTypes:!0,keepBlobsInJSON:!0,mapAsMap:!1,maxAliasCount:100,prettyErrors:!1,simpleKeys:!1,version:"1.2"},w8={get binary(){return Xe.binaryOptions},set binary(t){Object.assign(Xe.binaryOptions,t)},get bool(){return Xe.boolOptions},set bool(t){Object.assign(Xe.boolOptions,t)},get int(){return Xe.intOptions},set int(t){Object.assign(Xe.intOptions,t)},get null(){return Xe.nullOptions},set null(t){Object.assign(Xe.nullOptions,t)},get str(){return Xe.strOptions},set str(t){Object.assign(Xe.strOptions,t)}},VO={"1.0":{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:Gr.defaultTagPrefix},{handle:"!!",prefix:"tag:private.yaml.org,2002:"}]},1.1:{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:Gr.defaultTagPrefix}]},1.2:{schema:"core",merge:!1,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:Gr.defaultTagPrefix}]}};function BO(t,e){if((t.version||t.options.version)==="1.0"){let i=e.match(/^tag:private\.yaml\.org,2002:([^:/]+)$/);if(i)return"!"+i[1];let s=e.match(/^tag:([a-zA-Z0-9-]+)\.yaml\.org,2002:(.*)/);return s?`!${s[1]}/${s[2]}`:`!${e.replace(/^tag:/,"")}`}let n=t.tagPrefixes.find(i=>e.indexOf(i.prefix)===0);if(!n){let i=t.getDefaults().tagPrefixes;n=i&&i.find(s=>e.indexOf(s.prefix)===0)}if(!n)return e[0]==="!"?e:`!<${e}>`;let r=e.substr(n.prefix.length).replace(/[!,[\]{}]/g,i=>({"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"})[i]);return n.handle+r}function O8(t,e){if(e instanceof Xe.Alias)return Xe.Alias;if(e.tag){let i=t.filter(s=>s.tag===e.tag);if(i.length>0)return i.find(s=>s.format===e.format)||i[0]}let n,r;if(e instanceof Xe.Scalar){r=e.value;let i=t.filter(s=>s.identify&&s.identify(r)||s.class&&r instanceof s.class);n=i.find(s=>s.format===e.format)||i.find(s=>!s.format)}else r=e,n=t.find(i=>i.nodeClass&&r instanceof i.nodeClass);if(!n){let i=r&&r.constructor?r.constructor.name:typeof r;throw new Error(`Tag not resolved for ${i} value`)}return n}function L8(t,e,{anchors:n,doc:r}){let i=[],s=r.anchors.getName(t);return s&&(n[s]=t,i.push(`&${s}`)),t.tag?i.push(BO(r,t.tag)):e.default||i.push(BO(r,e.tag)),i.join(" ")}function Kh(t,e,n,r){let{anchors:i,schema:s}=e.doc,a;if(!(t instanceof Xe.Node)){let f={aliasNodes:[],onTagObj:d=>a=d,prevObjects:new Map};t=s.createNode(t,!0,null,f);for(let d of f.aliasNodes){d.source=d.source.node;let m=i.getName(d.source);m||(m=i.newName(),i.map[m]=d.source)}}if(t instanceof Xe.Pair)return t.toString(e,n,r);a||(a=O8(s.tags,t));let l=L8(t,a,e);l.length>0&&(e.indentAtStart=(e.indentAtStart||0)+l.length+1);let c=typeof a.stringify=="function"?a.stringify(t,e,n,r):t instanceof Xe.Scalar?Xe.stringifyString(t,e,n,r):t.toString(e,n,r);return l?t instanceof Xe.Scalar||c[0]==="{"||c[0]==="["?`${l} ${c}`:`${l}
${e.indent}${c}`:c}var $h=class{static validAnchorNode(e){return e instanceof Xe.Scalar||e instanceof Xe.YAMLSeq||e instanceof Xe.YAMLMap}constructor(e){Gr._defineProperty(this,"map",Object.create(null)),this.prefix=e}createAlias(e,n){return this.setAnchor(e,n),new Xe.Alias(e)}createMergePair(...e){let n=new Xe.Merge;return n.value.items=e.map(r=>{if(r instanceof Xe.Alias){if(r.source instanceof Xe.YAMLMap)return r}else if(r instanceof Xe.YAMLMap)return this.createAlias(r);throw new Error("Merge sources must be Map nodes or their Aliases")}),n}getName(e){let{map:n}=this;return Object.keys(n).find(r=>n[r]===e)}getNames(){return Object.keys(this.map)}getNode(e){return this.map[e]}newName(e){e||(e=this.prefix);let n=Object.keys(this.map);for(let r=1;;++r){let i=`${e}${r}`;if(!n.includes(i))return i}}resolveNodes(){let{map:e,_cstAliases:n}=this;Object.keys(e).forEach(r=>{e[r]=e[r].resolved}),n.forEach(r=>{r.source=r.source.resolved}),delete this._cstAliases}setAnchor(e,n){if(e!=null&&!$h.validAnchorNode(e))throw new Error("Anchors may only be set for Scalar, Seq and Map nodes");if(n&&/[\x00-\x19\s,[\]{}]/.test(n))throw new Error("Anchor names must not contain whitespace or control characters");let{map:r}=this,i=e&&Object.keys(r).find(s=>r[s]===e);if(i)if(n)i!==n&&(delete r[i],r[n]=e);else return i;else{if(!n){if(!e)return null;n=this.newName()}r[n]=e}return n}},zh=(t,e)=>{if(t&&typeof t=="object"){let{tag:n}=t;t instanceof Xe.Collection?(n&&(e[n]=!0),t.items.forEach(r=>zh(r,e))):t instanceof Xe.Pair?(zh(t.key,e),zh(t.value,e)):t instanceof Xe.Scalar&&n&&(e[n]=!0)}return e},D8=t=>Object.keys(zh(t,{}));function M8(t,e){let n={before:[],after:[]},r,i=!1;for(let s of e)if(s.valueRange){if(r!==void 0){let l="Document contains trailing content not separated by a ... or --- line";t.errors.push(new Gr.YAMLSyntaxError(s,l));break}let a=Xe.resolveNode(t,s);i&&(a.spaceBefore=!0,i=!1),r=a}else s.comment!==null?(r===void 0?n.before:n.after).push(s.comment):s.type===Gr.Type.BLANK_LINE&&(i=!0,r===void 0&&n.before.length>0&&!t.commentBefore&&(t.commentBefore=n.before.join(`
`),n.before=[]));if(t.contents=r||null,!r)t.comment=n.before.concat(n.after).join(`
`)||null;else{let s=n.before.join(`
`);if(s){let a=r instanceof Xe.Collection&&r.items[0]?r.items[0]:r;a.commentBefore=a.commentBefore?`${s}
${a.commentBefore}`:s}t.comment=n.after.join(`
`)||null}}function F8({tagPrefixes:t},e){let[n,r]=e.parameters;if(!n||!r){let i="Insufficient parameters given for %TAG directive";throw new Gr.YAMLSemanticError(e,i)}if(t.some(i=>i.handle===n)){let i="The %TAG directive must only be given at most once per handle in the same document.";throw new Gr.YAMLSemanticError(e,i)}return{handle:n,prefix:r}}function V8(t,e){let[n]=e.parameters;if(e.name==="YAML:1.0"&&(n="1.0"),!n){let r="Insufficient parameters given for %YAML directive";throw new Gr.YAMLSemanticError(e,r)}if(!VO[n]){let i=`Document will be parsed as YAML ${t.version||t.options.version} rather than YAML ${n}`;t.warnings.push(new Gr.YAMLWarning(e,i))}return n}function B8(t,e,n){let r=[],i=!1;for(let s of e){let{comment:a,name:l}=s;switch(l){case"TAG":try{t.tagPrefixes.push(F8(t,s))}catch(c){t.errors.push(c)}i=!0;break;case"YAML":case"YAML:1.0":if(t.version){let c="The %YAML directive must only be given at most once per document.";t.errors.push(new Gr.YAMLSemanticError(s,c))}try{t.version=V8(t,s)}catch(c){t.errors.push(c)}i=!0;break;default:if(l){let c=`YAML only supports %TAG and %YAML directives, and not %${l}`;t.warnings.push(new Gr.YAMLWarning(s,c))}}a&&r.push(a)}if(n&&!i&&(t.version||n.version||t.options.version)==="1.1"){let s=({handle:a,prefix:l})=>({handle:a,prefix:l});t.tagPrefixes=n.tagPrefixes.map(s),t.version=n.version}t.commentBefore=r.join(`
`)||null}function eu(t){if(t instanceof Xe.Collection)return!0;throw new Error("Expected a YAML collection as document contents")}var tu=class{constructor(e){this.anchors=new $h(e.anchorPrefix),this.commentBefore=null,this.comment=null,this.contents=null,this.directivesEndMarker=null,this.errors=[],this.options=e,this.schema=null,this.tagPrefixes=[],this.version=null,this.warnings=[]}add(e){return eu(this.contents),this.contents.add(e)}addIn(e,n){eu(this.contents),this.contents.addIn(e,n)}delete(e){return eu(this.contents),this.contents.delete(e)}deleteIn(e){return Xe.isEmptyPath(e)?this.contents==null?!1:(this.contents=null,!0):(eu(this.contents),this.contents.deleteIn(e))}getDefaults(){return tu.defaults[this.version]||tu.defaults[this.options.version]||{}}get(e,n){return this.contents instanceof Xe.Collection?this.contents.get(e,n):void 0}getIn(e,n){return Xe.isEmptyPath(e)?!n&&this.contents instanceof Xe.Scalar?this.contents.value:this.contents:this.contents instanceof Xe.Collection?this.contents.getIn(e,n):void 0}has(e){return this.contents instanceof Xe.Collection?this.contents.has(e):!1}hasIn(e){return Xe.isEmptyPath(e)?this.contents!==void 0:this.contents instanceof Xe.Collection?this.contents.hasIn(e):!1}set(e,n){eu(this.contents),this.contents.set(e,n)}setIn(e,n){Xe.isEmptyPath(e)?this.contents=n:(eu(this.contents),this.contents.setIn(e,n))}setSchema(e,n){if(!e&&!n&&this.schema)return;typeof e=="number"&&(e=e.toFixed(1)),e==="1.0"||e==="1.1"||e==="1.2"?(this.version?this.version=e:this.options.version=e,delete this.options.schema):e&&typeof e=="string"&&(this.options.schema=e),Array.isArray(n)&&(this.options.customTags=n);let r=Object.assign({},this.getDefaults(),this.options);this.schema=new FO.Schema(r)}parse(e,n){this.options.keepCstNodes&&(this.cstNode=e),this.options.keepNodeTypes&&(this.type="DOCUMENT");let{directives:r=[],contents:i=[],directivesEndMarker:s,error:a,valueRange:l}=e;if(a&&(a.source||(a.source=this),this.errors.push(a)),B8(this,r,n),s&&(this.directivesEndMarker=!0),this.range=l?[l.start,l.end]:null,this.setSchema(),this.anchors._cstAliases=[],M8(this,i),this.anchors.resolveNodes(),this.options.prettyErrors){for(let c of this.errors)c instanceof Gr.YAMLError&&c.makePretty();for(let c of this.warnings)c instanceof Gr.YAMLError&&c.makePretty()}return this}listNonDefaultTags(){return D8(this.contents).filter(e=>e.indexOf(FO.Schema.defaultPrefix)!==0)}setTagPrefix(e,n){if(e[0]!=="!"||e[e.length-1]!=="!")throw new Error("Handle must start and end with !");if(n){let r=this.tagPrefixes.find(i=>i.handle===e);r?r.prefix=n:this.tagPrefixes.push({handle:e,prefix:n})}else this.tagPrefixes=this.tagPrefixes.filter(r=>r.handle!==e)}toJSON(e,n){let{keepBlobsInJSON:r,mapAsMap:i,maxAliasCount:s}=this.options,a=r&&(typeof e!="string"||!(this.contents instanceof Xe.Scalar)),l={doc:this,indentStep:"  ",keep:a,mapAsMap:a&&!!i,maxAliasCount:s,stringify:Kh},c=Object.keys(this.anchors.map);c.length>0&&(l.anchors=new Map(c.map(d=>[this.anchors.map[d],{alias:[],aliasCount:0,count:1}])));let f=Xe.toJSON(this.contents,e,l);if(typeof n=="function"&&l.anchors)for(let{count:d,res:m}of l.anchors.values())n(m,d);return f}toString(){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");let e=this.options.indent;if(!Number.isInteger(e)||e<=0){let c=JSON.stringify(e);throw new Error(`"indent" option must be a positive integer, not ${c}`)}this.setSchema();let n=[],r=!1;if(this.version){let c="%YAML 1.2";this.schema.name==="yaml-1.1"&&(this.version==="1.0"?c="%YAML:1.0":this.version==="1.1"&&(c="%YAML 1.1")),n.push(c),r=!0}let i=this.listNonDefaultTags();this.tagPrefixes.forEach(({handle:c,prefix:f})=>{i.some(d=>d.indexOf(f)===0)&&(n.push(`%TAG ${c} ${f}`),r=!0)}),(r||this.directivesEndMarker)&&n.push("---"),this.commentBefore&&((r||!this.directivesEndMarker)&&n.unshift(""),n.unshift(this.commentBefore.replace(/^/gm,"#")));let s={anchors:Object.create(null),doc:this,indent:"",indentStep:" ".repeat(e),stringify:Kh},a=!1,l=null;if(this.contents){this.contents instanceof Xe.Node&&(this.contents.spaceBefore&&(r||this.directivesEndMarker)&&n.push(""),this.contents.commentBefore&&n.push(this.contents.commentBefore.replace(/^/gm,"#")),s.forceBlockIndent=!!this.comment,l=this.contents.comment);let c=l?null:()=>a=!0,f=Kh(this.contents,s,()=>l=null,c);n.push(Xe.addComment(f,"",l))}else this.contents!==void 0&&n.push(Kh(this.contents,s));return this.comment&&((!a||l)&&n[n.length-1]!==""&&n.push(""),n.push(this.comment.replace(/^/gm,"#"))),n.join(`
`)+`
`}};Gr._defineProperty(tu,"defaults",VO);Qh.Document=tu;Qh.defaultOptions=k8;Qh.scalarOptions=w8});var GO=oe(jO=>{"use strict";var ib=lO(),xl=qO(),q8=Yh(),U8=To(),j8=qh();Jc();function G8(t,e=!0,n){n===void 0&&typeof e=="string"&&(n=e,e=!0);let r=Object.assign({},xl.Document.defaults[xl.defaultOptions.version],xl.defaultOptions);return new q8.Schema(r).createNode(t,e,n)}var If=class extends xl.Document{constructor(e){super(Object.assign({},xl.defaultOptions,e))}};function H8(t,e){let n=[],r;for(let i of ib.parse(t)){let s=new If(e);s.parse(i,r),n.push(s),r=s}return n}function UO(t,e){let n=ib.parse(t),r=new If(e).parse(n[0]);if(n.length>1){let i="Source contains multiple documents; please use YAML.parseAllDocuments()";r.errors.unshift(new U8.YAMLSemanticError(n[1],i))}return r}function W8(t,e){let n=UO(t,e);if(n.warnings.forEach(r=>j8.warn(r)),n.errors.length>0)throw n.errors[0];return n.toJSON()}function Y8(t,e){let n=new If(e);return n.contents=t,String(n)}var K8={createNode:G8,defaultOptions:xl.defaultOptions,Document:If,parse:W8,parseAllDocuments:H8,parseCST:ib.parse,parseDocument:UO,scalarOptions:xl.scalarOptions,stringify:Y8};jO.YAML=K8});var ia=oe((yme,HO)=>{HO.exports=GO().YAML});var WO=oe(Hr=>{"use strict";var xi=Jc(),$8=Yh();To();qh();Hr.Alias=xi.Alias;Hr.Collection=xi.Collection;Hr.Merge=xi.Merge;Hr.Node=xi.Node;Hr.Pair=xi.Pair;Hr.Scalar=xi.Scalar;Hr.YAMLMap=xi.YAMLMap;Hr.YAMLSeq=xi.YAMLSeq;Hr.binaryOptions=xi.binaryOptions;Hr.boolOptions=xi.boolOptions;Hr.intOptions=xi.intOptions;Hr.nullOptions=xi.nullOptions;Hr.strOptions=xi.strOptions;Hr.Schema=$8.Schema});var Wr,vme,Nme,xme,Eme,Sme,Pme,Ime,Cme,Ame,Rme,YO,Cf,Af,nu,sb=C(()=>{Wr=he(WO(),1),vme=Wr.default.binaryOptions,Nme=Wr.default.boolOptions,xme=Wr.default.intOptions,Eme=Wr.default.nullOptions,Sme=Wr.default.strOptions,Pme=Wr.default.Schema,Ime=Wr.default.Alias,Cme=Wr.default.Collection,Ame=Wr.default.Merge,Rme=Wr.default.Node,YO=Wr.default.Pair,Cf=Wr.default.Scalar,Af=Wr.default.YAMLMap,nu=Wr.default.YAMLSeq});var KO,ab,$O=C(()=>{KO=he(ia());sb();pf();ab=class{constructor(e){this.documentScope=null;this.project=e}getKeyValue(e){return e instanceof Cf?e.value:""}getNodeValue(e){return e instanceof Cf?e.value:e instanceof Af?this.analyzeDocument(e.items):e instanceof nu?this.analyzeDocument(e.items):""}getScalarRuntimeType(e){return parseFloat(e).toString()==e||parseInt(e).toString()==e?"number":"string"}analyzeDocument(e){let n=new vi(this.project);return e.forEach(r=>{if(r instanceof YO){let i=this.getKeyValue(r.key),s=this.getNodeValue(r.value);if(r.value instanceof Cf)n.addVariable({dataType:this.getScalarRuntimeType(s),introducedBy:null,name:i,sourceField:null,sourceName:"*frontmatter"});else if(r.value instanceof nu&&r.key instanceof Cf){let a=new vi(this.project);r.value.items.forEach(l=>{let c=this.getNodeValue(l);a.addVariable({dataType:this.getScalarRuntimeType(c),introducedBy:null,name:l.value,sourceField:null,sourceName:"*frontmatter"})}),n.addScopeList(r.key.value,a)}else n.addScopeList(i,s)}}),n}parse(e){let n=KO.parseDocument(e);try{n.contents instanceof Af&&(this.documentScope=this.analyzeDocument(n.contents.items))}catch{this.documentScope=null}}hasScope(){return this.documentScope!=null}getScope(){return this.documentScope}}});var ob,zO=C(()=>{He();jy();Ch();ob=class{constructor(e){this.doc=e}getAncestors(e){return gl.findAncestorsBeforePosition(e,this.doc.getAllAntlersNodes())}getNodeAt(e){return mn.findNodeAtPosition(e,this.doc.getDocumentParser().getNodes())}getNodesBefore(e){return mn.findNodesBeforePosition(e,this.doc.getDocumentParser().getNodes())}getNodeBefore(e){return mn.findNodeBeforePosition(e,this.doc.getDocumentParser().getNodes())}getNodeAfter(e){return mn.findNodeAfterPosition(e,this.doc.getDocumentParser().getNodes())}getNodesAfter(e){return mn.findNodesAfterPosition(e,this.doc.getDocumentParser().getNodes())}getIsWithinPairedNode(e){let n=this.getNodeBefore(e);return n==null?!1:gl.isPairedNode(n)}filter(e){return this.doc.getDocumentParser().getNodes().filter(e)}getComments(){let e=[];return this.doc.getAllNodes().forEach(n=>{n instanceof J&&n.isComment&&e.push(n)}),e}getMultilineNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{var r,i;n instanceof J&&!n.isComment&&((r=n.startPosition)==null?void 0:r.line)!=((i=n.endPosition)==null?void 0:i.line)&&e.push(n)}),e}getMultiLineComments(){let e=[];return this.getComments().forEach(n=>{var r,i;((r=n.startPosition)==null?void 0:r.line)!=((i=n.endPosition)==null?void 0:i.line)&&e.push(n)}),e}getAllLiteralNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof Et||n instanceof ur)&&e.push(n)}),e}getStructuralNodes(){let e=[];return this.doc.getDocumentParser().getRenderNodes().forEach(n=>{n instanceof J?e.push(n):n instanceof Mt&&n.logicBranches.length>0&&n.logicBranches.forEach(r=>{if(r.head!=null){let i=r.head;i.originalNode!=null?e.push(i.originalNode):e.push(i)}})}),e}getAllRuntimeNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof fi||n instanceof J)&&n.runtimeNodes.length>0&&n.runtimeNodes.forEach(r=>{e.push(r)})}),e}getAllParameterNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof fi||n instanceof J)&&n.hasParameters&&n.parameters.forEach(r=>{e.push(r)})}),e}getAssignmentNodes(){return mn.findAssignmentNodes(this.getAllRuntimeNodes())}}});var lb,QO=C(()=>{He();lb=class{constructor(e){this.doc=e}getAllSelfClosingNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{n instanceof J&&n.isSelfClosing&&e.push(n)}),e}getAllPairedNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof J||n instanceof on)&&n.isClosedBy!=null&&!n.isSelfClosing&&e.push(n)}),e}}});var Xh,XO=C(()=>{Tr();Xh=class{static printComment(e,n,r){let i=e.getContent(),s=i.trim();if(s.includes(`
`)){let a=re.breakByNewLine(i.trim()),l=[];a.forEach(d=>{l.push(" ".repeat(n+r)+d.trim())});let c=l.join(`
`),f=`{{#
`;return f+=c,f+=`
`+" ".repeat(r)+"#}}",f}return"{{# "+s+" #}}"}}});var ru,JO=C(()=>{Tr();ru=class{static indentRelative(e,n){let r=re.breakByNewLine(e),i=[];for(let l=0;l<r.length;l++)if(r[l].trim().length>0){i=r.slice(l);break}for(let l=i.length-1;l>=0&&i[l].trim().length==0;l--)i.pop();let s=-1,a="";for(let l=0;l<i.length;l++){let c=i[l],f=c.trimLeft(),d=c.length-f.length;(l==0||d<s)&&(s=d,a=c)}if(s>=0){let l=" ".repeat(n);for(let c=0;c<i.length;c++){let f=i[c];if(f.trim().length==0){i[c]="";continue}let d=f.substring(s);if(c==0){i[c]=f.trimLeft();continue}else i[c]=l+d}}return i.join(`
`)}static shiftIndent(e,n,r=!1,i=4,s=!0){n<0&&(n=0);let a=re.breakByNewLine(e.trim()),l=[];for(let f=0;f<a.length;f++){if(f==0&&r){l.push(a[f]);continue}let d=a[f];l.push(" ".repeat(n)+d)}let c=l.join(`
`);if(s&&l.length>0&&n-i>i&&l[l.length-1].trim()==") }}"){a=re.breakByNewLine(c.trim()),l=[];for(let f=0;f<a.length;f++){if(f==0&&r){l.push(a[f]);continue}let d=a[f];if(f==a.length-1){l.push(d);break}l.push(" ".repeat(i)+d)}c=l.join(`
`)}return c}static shiftClean(e,n){let r=re.breakByNewLine(e),i=[],s=" ".repeat(n),a=!1;return r.forEach(l=>{l.trim().length>0&&(a=!0),!!a&&i.push(s+l)}),i.join(`
`)}static inferIndentLevel(e,n,r){let i=0,s=-1;for(let a=0;a<e.length;a++){let l=e[a];if(l.includes(n)){let c=l.trimLeft();i=l.length-c.length,s=a;break}}if(s>0)for(let a=s-1;a>=0;a--){let l=e[a],c=l.trim(),f=l.trimLeft(),d=l.length-c.length;if(f.length!=0&&d!=i&&d<i){let m=i-d;return{targetLevel:i,referenceLevel:d,sourceTabSize:m}}}return{targetLevel:i,referenceLevel:i,sourceTabSize:r}}static indent(e,n,r){let i=ru.inferIndentLevel(e,n,r);return" ".repeat(i.targetLevel)}}});var cb,ZO=C(()=>{Rr();cb=class{constructor(e,n,r){this.buffer="";this.closeString="";this.relativeIndentSize=0;this.indentSeed=0;this.baseIndent=n,e.isInterpolationNode?(this.buffer="{",this.closeString="}"):(this.buffer="{{ ",e.isSelfClosing?this.closeString=" /}}":this.closeString=" }}"),r!=null&&r.trim().length>0&&(this.buffer+=r+" ")}setIndentSeed(e){return this.indentSeed=e,this}close(){return this.closeString==" }}"?this.buffer.endsWith(" ")?this.buffer+="}}":this.buffer+=this.closeString:this.buffer+=this.closeString,this}appendT(e){return this.buffer.endsWith(" ")&&(this.buffer=this.buffer.trimEnd()),this.buffer+=e,this}appendTS(e){return this.buffer.endsWith(" ")&&(this.buffer=this.buffer.trimEnd()),this.buffer.endsWith("{")&&(e=e.trimStart()),this.buffer+=e,this}append(e){return this.buffer+=e,this}appendOS(e){return this.buffer.endsWith(" ")==!1&&this.buffer.endsWith("(")==!1&&this.buffer.endsWith("{")==!1&&this.buffer.endsWith("[")==!1&&this.buffer.endsWith(":")==!1&&(this.buffer+=" "),this.append(e)}appendS(e){let n="";return this.buffer.endsWith(" ")==!1&&(n+=" "),n+=e+" ",this.buffer+=n,this}indent(){let e=this.baseIndent;return e==0?e=1:e+=2,this.relativeIndentSize>0&&(e+=this.relativeIndentSize),this.buffer+=" ".repeat(e),this}addIndent(e){return e<=0?this:(this.buffer+=" ".repeat(e),this)}paramS(e){let n=" ";return e.isVariableReference&&(n+=":"),n+=e.name+"="+e.nameDelimiter+e.value+e.nameDelimiter,this.append(n),this}replace(e,n){return this.buffer=En(this.buffer,e,n),this}relativeIndent(e){let n=this.buffer.split(`
`);if(n.length==0)return this;let r=n[n.length-1].trimEnd();return r.endsWith("(")&&(r=r.slice(0,-1)),r.endsWith(e)==!1?this:(this.relativeIndentSize=r.lastIndexOf(e),this)}newlineIndent(){return this.newLine(),this.indent(),this}newlineNDIndent(){return this.buffer=this.buffer.trimEnd(),this.newLine(),this.indent(),this}newLine(){return this.buffer+=`
`,this}getContent(){return this.buffer}endsWith(e){return this.buffer.endsWith(e)}}});var Rf,eL=C(()=>{Rr();He();mf();Mp();ZO();Rf=class{static prettyPrintNode(e,n,r,i,s,a){var d,m,_,g,T,N,A;let l=e.getTrueRuntimeNodes(),c=0,f=0;if(l.length>0){let b=new cb(e,r,s);a!=null&&b.setIndentSeed(a);let x=null;for(let I=0;I<l.length;I++){let O=l[I];if(x!=null&&((d=O.endPosition)==null?void 0:d.isBefore(x.startPosition)))continue;let X=!1;if(O instanceof Wn?!(O.next instanceof Wn)&&O.next!=null&&(!Rn.isOperatorType(O.next)||!Rn.isAssignmentOperator(O.next))&&!(O.next instanceof fr)&&!(O.next instanceof Sn)&&!O.isSwitchGroupMember&&!Rn.isOperatorType(O.next)&&(X=!0,O.next instanceof Ae&&O.next.name=="as"&&(X=!1)):!((m=O.prev)==null?void 0:m.isVirtual)&&((_=O.prev)==null?void 0:_.isVirtualGroupOperatorResolve)&&O.prev.producesVirtualStatementTerminator&&O.next!=null&&(O.prev instanceof Ae||b.newlineIndent()),O instanceof Ae){if(O.convertedToOperator){if(O.name=="arr")b.appendT(" arr");else if(O.name=="switch"||O.name=="list")if(b.appendTS(" "+O.name),I+1<l.length){if(!(l[I+1]instanceof Jn))break;b.append("("),O.name!="list"&&b.relativeIndent(O.name).newLine().indent(),I+=1,x=l[I+1];continue}else break;else f+=1,f>1?b.newlineNDIndent().indent().addIndent(6).appendS(O.name):b.appendS(O.name);x=O;continue}O.mergeRefName!=null&&O.mergeRefName.trim().length>0&&O.mergeRefName!=O.name?b.append(O.mergeRefName.trim()):O.name=="as"?b.appendOS("as"):b.append(O.name.trim())}else if(O instanceof Ps)if(b.appendTS(" list"),I+1<l.length){if(!(l[I+1]instanceof Jn))break;b.append("("),I+=1,x=l[I+1];continue}else break;else if(O instanceof Or)b.appendS("|");else if(O instanceof Sn){if(x!=null&&((g=O.startPosition)==null?void 0:g.isBefore(x.endPosition))||O.next instanceof Ae&&O.next.mergeRefName.startsWith(":"))continue;if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(O)){b.endsWith(":")||b.append(":");continue}if(O.prev!=null&&O.next!=null&&$t.distance(O.prev,O)<=1&&$t.distance(O.next,O)<=1){b.append(":"),x=O;continue}if(n.getDocumentParser().getLanguageParser().isActualModifierSeparator(O)){b.append(":"),x=O;continue}if(x instanceof Yn||x instanceof Kn){b.append(":"),x=O;continue}b.appendS(":")}else if(O instanceof Yn)b.append(O.name);else if(O instanceof Es)b.appendS("?");else if(O instanceof Lr){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(O))continue;if(O.isTenaryBranchSeparator){b.appendS(":"),x=O;continue}if(n.getDocumentParser().getLanguageParser().isActualModifierSeparator(O)){b.append(":"),x=O;continue}b.append(":")}else if(O instanceof Kn)b.append(O.value.trim());else if(O instanceof Jn)b.append("(");else if(O instanceof Wn)b.append(")");else if(O instanceof Tn){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(O))continue;O.sourceContent!=""?b.appendOS(O.sourceContent):b.appendOS(O.sourceTerminator+O.value+O.sourceTerminator)}else if(O instanceof An)O.isSwitchGroupMember?b.append(",").newlineIndent():b.append(", ");else if(O instanceof Ln){if(x=O,n.getDocumentParser().getLanguageParser().isMergedVariableComponent(O))continue;let Y=(N=(T=O.value)==null?void 0:T.toString())!=null?N:"";O.rawLexContent!=null&&O.rawLexContent.trim().length>0&&(Y=O.rawLexContent.trim()),b.append(Y)}else if(O instanceof mi)b.appendS("=");else if(O instanceof Dr)b.appendS("=>");else if(O instanceof pi)b.appendS("+");else if(O instanceof kr){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(O)){b.append("-");continue}if(O.prev!=null&&O.next!=null&&$t.distance(O.prev,O)<=1&&$t.distance(O.next,O)<=1){O.next instanceof Ln&&O.prev instanceof Ln?b.appendS("-"):b.append("-"),x=O;continue}b.appendS("-")}else if(O instanceof hi)b.appendS("*");else if(O instanceof di){if(x=O,(A=O.startPosition)==null?void 0:A.isBefore(e.nameEndsOn)){b.append("/");continue}if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(O))continue;b.appendS("/");continue}else O instanceof fr?O.isListGroupMember?(b.append(";").newlineIndent().indent().addIndent(7),I+1<l.length&&!(l[I+1]instanceof Wn)&&b.indent()):(c+=1,c<i.maxAntlersStatementsPerLine?b.appendT("; "):(b.appendT(";").newlineIndent(),c=0)):O instanceof pr?O.content=="not"?b.appendS("not"):b.append("!"):b.appendS(O.rawContent());X&&b.newlineIndent(),x=O}e.hasParameters&&e.parameters.forEach(I=>{b.paramS(I)}),b.close();let v=b.getContent();return e.processedInterpolationRegions.size>0&&e.processedInterpolationRegions.forEach((I,O)=>{let X=Rf.prettyPrintNode(I[0],n,r,i,null,null);v=En(v,O,X)}),v}return e.getTrueRawContent()}}});var kf,tL=C(()=>{Rr();Xa();He();Tr();Ds();XO();JO();eL();kf=class{constructor(e){this.htmlFormatter=null;this.yamlFormatter=null;this.phpFormatter=null;this.slugs=[];this.removeLines=[];this.virtualStructureOpens=[];this.virtualStructureClose=[];this.structureLines=[];this.parentTransformer=null;this.tagPairs=new Map;this.conditions=[];this.inlineIfs=new Map;this.createExraStructuralPairs=!1;this.spanNodes=new Map;this.inlineNodes=new Map;this.virtualBlocks=[];this.inlineComments=new Map;this.blockComments=[];this.extractedEmbeddedDocuments=new Map;this.dynamicElementAntlers=new Map;this.dynamicElementAntlersNodes=new Map;this.dynamicElementPairedAntlers=new Map;this.dynamicElementPairedAntlersNodes=new Map;this.dynamicElementConditionAntlers=new Map;this.dynamicElementConditionAntlersNodes=new Map;this.noParses=new Map;this.forceBreaks=[];this.forceCleanLines=["{{ if ","{{ /if","{{ /unless","{{ /noparse","{{ else","{{ unless"];this.doc=e,this.options={tabSize:4,newlinesAfterFrontMatter:1,maxAntlersStatementsPerLine:3,endNewline:!0}}produceExtraStructuralPairs(e){return this.createExraStructuralPairs=e,this}withHtmlFormatter(e){return this.htmlFormatter=e,this}withYamlFormatter(e){return this.yamlFormatter=e,this}withPhpFormatter(e){return this.phpFormatter=e,this}withOptions(e){return this.options=e,this.options.tabSize<=0&&(this.options.tabSize=4),this.options.newlinesAfterFrontMatter<0&&(this.options.newlinesAfterFrontMatter=1),this}setParentTransformer(e){return this.parentTransformer=e,this}close(e){return"</"+e+">"}open(e){return"<"+e+">"}selfClosing(e){return"<"+e+" />"}pair(e,n=""){return"<"+e+">"+n+"</"+e+">"}makeSlug(e){e<=2&&(e=7);let n="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=r.length;for(let a=0;a<e-1;a++)n+=r.charAt(Math.floor(Math.random()*i));let s="A"+n+"A";return this.slugs.includes(s)?this.makeSlug(e+1):(this.slugs.push(s),s)}transformInlineConditions(e){let n=e;return this.inlineIfs.forEach((r,i)=>{n=n.replace(i,r.nodeContent)}),n}registerCondition(e){this.parentTransformer!=null?this.parentTransformer.registerCondition(e):this.conditions.push(e)}registerInlineCondition(e,n){this.parentTransformer!=null?this.parentTransformer.registerInlineCondition(e,n):this.inlineIfs.set(e,n)}registerVirtualBlock(e){this.parentTransformer!=null?this.parentTransformer.registerVirtualBlock(e):this.virtualBlocks.push(e)}registerNoParse(e,n){this.parentTransformer!=null?this.parentTransformer.registerNoParse(e,n):this.noParses.set(e,n)}prepareNoParse(e){let n=this.makeSlug(35);return this.registerNoParse(n,e),n}registerForcedBreak(){if(this.parentTransformer!=null)return this.parentTransformer.registerForcedBreak();{let e=this.makeSlug(15),n=this.makeSlug(10);return this.forceBreaks.push(e),this.forceBreaks.push(n),this.removeLines.push(this.open(e)),this.removeLines.push(this.close(e)),this.removeLines.push(this.selfClosing(n)),this.pair(e,this.selfClosing(n))}}transformVirtualStructures(e){let n=e;return this.virtualBlocks.forEach(r=>{var s;this.removeLines.push(r.pairClose);let i=this.indentLevel(r.pairOpen);if(r.virtualElement.length>0&&(this.removeLines.push(this.open(r.virtualElement)),this.removeLines.push(this.close(r.virtualElement))),r.node instanceof ur){let a="{{ noparse }}"+r.node.getInnerDocumentText();n=n.replace(r.pairOpen,a)}if(r.node instanceof J){let a=r.node;n=n.replace(r.pairClose,(s=a.isClosedBy)==null?void 0:s.getOriginalContent())}else this.removeLines.push(r.pairClose)}),this.noParses.forEach((r,i)=>{n=n.replace(i,`{{ noparse }}${r.getInnerDocumentText()}{{ /noparse }}`)}),n}printNode(e,n=null){let r=e.getTrueNode();if((r.rawStart=="{{?"||r.rawStart=="{{$")&&this.phpFormatter!=null)try{let l=this.phpFormatter(r.content);return`${r.rawStart} ${l} ${r.rawEnd}`}catch{}let i=this.doc;e.childDocument!=null&&(i=e.childDocument.document);let s=null;if(Xn.isConditionalStructure(e)&&(s=r.runtimeName(),e.isClosingTag&&(s=="if"||s=="unless")))return`{{ /${s} }}`;if(e.isClosingTag)return r.runtimeName()=="endunless"?"{{ /unless }}":`{{ ${r.content.trim()} }}`;let a=Rf.prettyPrintNode(r,i,0,this.options,s,null);return n!=null&&a.includes(`
`)&&(a=ru.shiftIndent(a,n-this.options.tabSize*2,!0)),a}transformConditions(e){let n=e;return this.conditions.forEach(r=>{r.structures.forEach(i=>{let s=i.branch.head;if(i.virtualBreakOpen.length>0&&this.removeLines.push(i.virtualBreakOpen),i.virtualBreakClose.length>0&&(n=n.replace(i.virtualBreakClose,i.virtualBreakClose+`
`),this.removeLines.push(i.virtualBreakClose)),this.virtualStructureOpens.push(i.virtualOpen),this.removeLines.push(i.virtualOpen),this.removeLines.push(i.virtualClose),i.isLast){let a=this.selfClosing(i.virtualSlug);n.includes(a)&&(n=n.replace(a,i.doc.trim())),n=n.replace(i.pairOpen,this.printNode(s,this.indentLevel(i.pairOpen))),n=n.replace(i.pairClose,this.printNode(s.isClosedBy))}else{let a=this.selfClosing(i.virtualSlug);n.includes(a)&&(n=n.replace(a,i.doc.trim())),this.removeLines.push(i.pairClose),n=n.replace(i.pairOpen,this.printNode(s,this.indentLevel(i.pairOpen)))}})}),n}transformExtractedDocuments(e){let n=e;return this.extractedEmbeddedDocuments.forEach((r,i)=>{let s="",a=0;r.isScript?s="//"+i:s="/*"+i+"*/",a=this.indentLevel(s),n.includes(s)&&(n=n.replace(s,ru.indentRelative(r.content,a)))}),n}getAntlersChildDoc(e){return e.childDocument!=null?e.childDocument.document.transform().setParentTransformer(this).toStructure():this.clone().toStructure(e.getImmediateChildren())}prepareCondition(e){let n=e.logicBranches[0].head;if(n.fragmentPosition==2||n.fragmentPosition==1){let c=this.makeSlug(e.nodeContent.length);return this.registerInlineCondition(c,e),c}if(n.fragmentPosition==0)return this.prepareDynamicCondition(e);let r=[],i="";n.prev instanceof J&&n.prev.isInlineAntlers&&(i+=this.registerForcedBreak()),e.logicBranches.forEach((c,f)=>{var N,A,b,x;let d=c.head,m=this.getAntlersChildDoc(c),_=this.makeSlug(d.sourceContent.length),g=this.makeSlug(10),T={branch:c,slug:_,doc:m,pairOpen:this.open(_),pairClose:this.close(_),virtualOpen:this.open(g),virtualClose:this.close(g),virtualSlug:g,isFirst:f==0,isLast:f==e.logicBranches.length-1,virtualBreakClose:"",virtualBreakOpen:""};if(((A=(N=c.head)==null?void 0:N.name)==null?void 0:A.getCompoundTagName())=="else"){i+=`
`+T.pairOpen;let v=this.makeSlug(25);this.createExraStructuralPairs&&c.head.containsChildStructures==!1&&c.head.containsAnyFragments==!1?(T.virtualBreakOpen=this.open(v),T.virtualBreakClose=this.close(v),T.virtualSlug=v,i+=`
`+this.selfClosing(v),i+=T.pairClose+`
`):(T.virtualBreakOpen=this.selfClosing(v),i+=T.virtualBreakOpen+`
`,i+=m,i+=`
`+T.pairClose)}else if(this.createExraStructuralPairs&&((b=c.head)==null?void 0:b.containsAnyFragments)==!1&&((x=c.head)==null?void 0:x.containsChildStructures)==!1){let v=this.makeSlug(25);T.virtualBreakOpen=this.open(v),T.virtualBreakClose=this.close(v),T.virtualSlug=v,i+=`
`+T.pairOpen,i+=`
`+this.selfClosing(v),i+=T.pairClose+`
`}else i+=T.pairOpen,i+=`
`,i+=m,i+=`
`,i+=T.pairClose;r.push(T)});let s=r[0].pairOpen,a=r[r.length-1].pairClose,l={pairOpen:s,pairClose:a,structures:r,condition:e};return this.registerCondition(l),i}registerPairedAntlers(e,n){this.parentTransformer!=null?this.parentTransformer.registerPairedAntlers(e,n):this.tagPairs.set(e,n)}preparePairedAntlers(e){let n=this.makeSlug(e.getOriginalContent().length),r=this.getAntlersChildDoc(e);if(e.fragmentPosition!=0){let i="",s="";if(e.prev instanceof J&&e.prev.isPaired()==!1&&(s+=this.registerForcedBreak()),s+=`${this.open(n)}
`,e.containsChildStructures==!1&&e.containsAnyFragments==!1){let a=!1,l=!0,c=!0,f=0;for(let m=0;m<e.children.length;m++){let _=e.children[m];if(_ instanceof Et&&_.sourceContent.trim().length>0){a=!0,l=!1;break}}e.children.length==2&&e.children[0]instanceof J&&(a=!0);let d=0;for(let m=0;m<e.children.length-1;m++){let _=e.children[m];_ instanceof J&&(f+=1,_.isInlineAntlers?d+=1:c=!1)}d==0&&(a=!0),c==!1&&(a=!1),l==!1&&f==0&&(a=!1),a?(i=this.makeSlug(15),s+=this.pair(i,r)):s+=r}else s+=r;return s+=`
${this.close(n)}
`,this.virtualStructureOpens.push(this.open(i)),this.virtualStructureClose.push(this.close(i)),this.virtualStructureClose.push(this.close(n)),this.registerPairedAntlers(n,{innerDoc:r,slug:n,tag:e,virtualElementSlug:i,isInline:!1}),s}return this.prepareConditionalAntlersPair(e)}registerInlineAntlers(e){if(this.parentTransformer!=null)return this.parentTransformer.registerInlineAntlers(e);{let n=this.makeSlug(e.getOriginalContent().length);return e.isInlineAntlers?(this.spanNodes.set(n,e),n):(this.inlineNodes.set(n,e),this.selfClosing(n))}}registerVirtualComment(e){this.parentTransformer!=null?this.parentTransformer.registerVirtualComment(e):this.blockComments.push(e)}registerComment(e,n){this.parentTransformer!=null?this.parentTransformer.registerComment(e,n):this.inlineComments.set(e,n)}prepareComment(e){let n=e.getContent();if(n.trim().includes(`
`)){let s=this.makeSlug(10),a=this.makeSlug(10),l={node:e,pairOpen:this.open(s),pairClose:this.close(s),virtualElement:this.selfClosing(a)};return this.registerVirtualComment(l),l.pairOpen+`
`+l.virtualElement+`
`+l.pairClose}let i=this.makeSlug(n.length);return this.registerComment(i,e),this.selfClosing(i)}registerDynamicAntlersPair(e,n){this.parentTransformer!=null?(this.dynamicElementPairedAntlers.set(n.nodeContent,e),this.parentTransformer.registerDynamicAntlersPair(e,n)):(this.dynamicElementPairedAntlers.set(n.nodeContent,e),this.dynamicElementPairedAntlersNodes.set(e,n))}prepareConditionalAntlersPair(e){if(this.dynamicElementPairedAntlers.has(e.nodeContent))return this.dynamicElementPairedAntlers.get(e.nodeContent);let n=this.makeSlug(e.nodeContent.length);return this.registerDynamicAntlersPair(n,e),n}registerDynamicCondition(e,n){this.parentTransformer!=null?(this.dynamicElementConditionAntlers.set(n.nodeContent,e),this.parentTransformer.registerDynamicCondition(e,n)):(this.dynamicElementConditionAntlers.set(n.nodeContent,e),this.dynamicElementConditionAntlersNodes.set(e,n))}prepareDynamicCondition(e){if(this.dynamicElementConditionAntlers.has(e.nodeContent))return this.dynamicElementConditionAntlers.get(e.nodeContent);let n=this.makeSlug(e.nodeContent.length);return this.registerDynamicCondition(n,e),n}registerDynamicAntlers(e,n){this.parentTransformer!=null?(this.dynamicElementAntlers.set(n.content,e),this.parentTransformer.registerDynamicAntlers(e,n)):(this.dynamicElementAntlers.set(n.content,e),this.dynamicElementAntlersNodes.set(e,n))}prepareConditionalAntlers(e){if(this.dynamicElementAntlers.has(e.content))return this.dynamicElementAntlers.get(e.content);let n=this.makeSlug(e.content.length);return this.registerDynamicAntlers(n,e),n}prepareAntlers(e){return e.isClosedBy!=null?this.preparePairedAntlers(e):e.fragmentPosition==0?this.prepareConditionalAntlers(e):this.registerInlineAntlers(e)}transformDynamicAntlers(e){let n=e;return this.dynamicElementAntlersNodes.forEach((r,i)=>{let s=this.printNode(r);n=En(n,i,s)}),this.dynamicElementPairedAntlersNodes.forEach((r,i)=>{let s=r.nodeContent;n=En(n,i,s)}),this.dynamicElementConditionAntlersNodes.forEach((r,i)=>{let s=r.nodeContent;n=En(n,i,s)}),n}transformPairedAntlers(e){let n=e;return this.tagPairs.forEach((r,i)=>{let s=r.tag;if(r.virtualElementSlug.length>0){let c=this.open(r.virtualElementSlug),f=this.close(r.virtualElementSlug);this.virtualStructureOpens.push(c),this.removeLines.push(c),this.removeLines.push(f)}let a=this.open(i),l=this.close(i);n=n.replace(a,this.printNode(s,this.indentLevel(a))),n=n.replace(l,this.printNode(s.isClosedBy))}),n}transformInlineAntlers(e){let n=e;return this.inlineNodes.forEach((r,i)=>{let s=this.selfClosing(i);n=n.replace(s,this.printNode(r,this.indentLevel(s)))}),this.spanNodes.forEach((r,i)=>{n=n.replace(i,this.printNode(r))}),n}transformComments(e){let n=e;return this.inlineComments.forEach((r,i)=>{let s=this.selfClosing(i);n=n.replace(s,Xh.printComment(r,this.options.tabSize,0))}),this.blockComments.forEach(r=>{let i=r.node;n=n.replace(r.pairOpen,Xh.printComment(i,this.options.tabSize,this.indentLevel(r.pairOpen))),this.removeLines.push(r.pairClose),this.removeLines.push(r.virtualElement)}),n}registerEmbeddedDocument(e,n,r){return this.parentTransformer!=null?this.parentTransformer.registerEmbeddedDocument(e,n,r):(this.extractedEmbeddedDocuments.set(e,{slug:e,content:n,isScript:r}),e)}clone(){let e=new kf(this.doc);return e.withOptions(this.options).setParentTransformer(this),e}toStructure(e=null){let n="";e==null&&(e=this.doc.getDocumentParser().getRenderNodes()),e.forEach(i=>{i instanceof Et?i.sourceContent==""?n+=i.content:n+=i.sourceContent:i instanceof Mt?n+=this.prepareCondition(i):i instanceof ur?n+=this.prepareNoParse(i):i instanceof J&&(i.isComment?n+=this.prepareComment(i):n+=this.prepareAntlers(i))});let r=this.doc.getDocumentParser().getFragmentsContainingStructures();if(r.length>0){let i=new nn;i.loadString(n),r.forEach(s=>{var g,T,N,A,b,x,v,I;let a=this.doc.getDocumentParser().getText(((T=(g=s.start.endPosition)==null?void 0:g.offset)!=null?T:0)+1,(A=(N=s.end.startPosition)==null?void 0:N.offset)!=null?A:0),l=i.getDocumentParser().getFragmentsParser().getEmbeddedFragment(s.start.embeddedIndex);if(l==null)return;let c=i.getDocumentParser().getFragmentsParser().getClosingFragmentAfter(l);if(c==null)return;let f=i.getDocumentParser().getText(((x=(b=l.endPosition)==null?void 0:b.offset)!=null?x:0)+1,(I=(v=c==null?void 0:c.startPosition)==null?void 0:v.offset)!=null?I:0),d=this.makeSlug(16),m=s.start.name.toLowerCase()=="script",_=d;m?_="//"+d:_="/*"+d+"*/",n=n.replace(f,_),this.registerEmbeddedDocument(d,a,m)})}return n}removeVirtualStructures(e){let n=e;return this.removeLines.forEach(r=>{n=n.replace(r,"")}),n}indentLevel(e){for(let n=0;n<this.structureLines.length;n++){let r=this.structureLines[n];if(r.includes(e)){let i=r.trimLeft();return r.length-i.length}}return 0}shouldCleanAfter(e){for(let n=0;n<this.removeLines.length;n++)if(e.startsWith(this.removeLines[n]))return!0;for(let n=0;n<this.forceCleanLines.length;n++)if(e.startsWith(this.forceCleanLines[n]))return!0;return!1}shouldCleanLine(e){for(let n=0;n<this.forceCleanLines.length;n++){let r=e.trim();if(e.startsWith(this.forceCleanLines[n])||r.startsWith("{{ /")&&r.endsWith("}}"))return!0}return!1}cleanVirtualStructures(e){let n=[],r=re.breakByNewLine(e),i=!1;for(let s=0;s<r.length;s++){let a=r[s].trim();if(i){if(a.length==0)continue;i=!1}else i=this.shouldCleanAfter(a);if(this.shouldCleanLine(a))for(let l=n.length-1;l>0&&n[l].trim().length==0;l--)n.pop();if(!this.removeLines.includes(a)){let l=r[s];this.removeLines.forEach(c=>{l.includes(c)&&(l=l.replace(c,""))}),n.push(l)}}return n.join(`
`)}cleanStructuralNewLines(e){let n=re.breakByNewLine(e),r=[],i=!1;return n.forEach(s=>{let a=s.trim();if(a.startsWith("{{")&&a.endsWith("}}")){r.push(s),i=!0;return}i&&a.length>0&&(i=!1),i||r.push(s)}),r.join(`
`)}reflowSlugs(e){let n=e;return this.slugs.forEach(r=>{let i=this.open(r),s=this.close(r),a=this.selfClosing(r),l="/<"+r+"(.*?)>/gms",c="/</"+r+"(.*?)>/gms",f="/<"+r+"(.*?)/>/gms";n=n.replace(l,i),n=n.replace(c,s),n=n.replace(f,a)}),n}cleanLines(e){let n=re.breakByNewLine(e),r=[],i=!1,s=0,a=!1;for(let l=0;l<n.length;l++){let c=n[l].trim(),f=n[l];if(c.startsWith("{{")&&c.endsWith("}}")){i&&(s=0),c.startsWith("{{ /")==!1?a=!0:a=!1,i=!0,r.push(f);continue}if(!i)r.push(f);else if(c.length==0){if(a==!1){s=0,i=!1;continue}s+=1;continue}else a&&s>1&&r.push(""),s=0,r.push(f),i=!1}return r.join(`
`)}fromStructure(e){let n=this.reflowSlugs(e);this.structureLines=re.breakByNewLine(n);let r=this.transformInlineConditions(n);if(r=this.transformConditions(r),r=this.transformInlineAntlers(r),r=this.transformComments(r),r=this.transformVirtualStructures(r),r=this.transformDynamicAntlers(r),r=this.transformPairedAntlers(r),r=this.transformExtractedDocuments(r),r=this.cleanVirtualStructures(r),r=this.cleanLines(r),this.doc.hasFrontMatter()){let i=this.doc.getFrontMatter(),s=this.doc.getFrontMatterDoc();s!=null&&s.isValid&&this.yamlFormatter!=null&&(i=this.yamlFormatter(i)),r=`---
${i}
---
`+`
`.repeat(this.options.newlinesAfterFrontMatter)+r.trimLeft()}return r=r.trimRight(),this.options.endNewline&&(r+=`
`),r}}});var nL,ub,rL=C(()=>{nL=he(ia());sb();Hl();Tr();ub=class{constructor(){this.content="";this.ranges=[];this.lastDocumentOffsetKey=null;this.documentOffsets=new Map;this.lineIndex=new Map;this.keys=[];this.values=[];this.isValid=!1;this.parseError=null}loadString(e){var d;this.content=re.normalizeLineEndings(e);let n=null;try{n=nL.parseDocument(this.content),this.isValid=!0}catch(m){this.isValid=!1,this.parseError=m}if(n==null)return;let r=[...this.content.matchAll(/(\n)/gm)],i=r.length,s=2,a=null,l=0,c=0;for(let m=0;m<i;m++){let _=r[m],g=(d=_.index)!=null?d:0,T=g;a!=null?T=g-a:T=T+1,this.documentOffsets.set(g,{char:T,line:s});let N=0,A=0;m==0?(A=T-1,N=0):(N=c+1,A=g),this.lineIndex.set(s,{char:T,line:s,startIndex:N,endIndex:A}),this.lastDocumentOffsetKey=g,s+=1,a=g,c=A,l=N}let f=n.contents;this.processMap(f)}processMap(e){typeof e.items!="undefined"&&e.items.forEach(n=>{this.processItem(n)})}processItem(e){if(e.type=="PAIR"){if(e.value instanceof Af||e.value instanceof nu){let s=e.key;if(s.range!=null){let a=this.positionFromOffset(s.range[0],s.range[0]),l=this.positionFromOffset(s.range[1],s.range[1]);this.ranges.push({start:a,end:l,length:l.char-a.char+1,content:"property"}),this.keys.push({start:a,end:l,length:l.char-a.char+1,content:s.value}),e.value instanceof nu?this.processMap(e.value.items[0]):this.processMap(e.value);return}}let n=e,r=n.key,i=n.value;if(r.range!=null&&i.range!=null){let s=this.positionFromOffset(r.range[0],r.range[0]),a=this.positionFromOffset(r.range[1],r.range[1]),l=this.positionFromOffset(i.range[0],i.range[0]),c=this.positionFromOffset(i.range[1],i.range[1]),f="string";parseInt(i.value)==i.value&&(f="number"),this.ranges.push({start:s,end:a,length:a.char-s.char+1,content:"property"}),this.keys.push({start:s,end:a,length:a.char-s.char+1,content:r.value}),this.ranges.push({start:l,end:c,length:c.char-l.char+1,content:f}),this.values.push({start:l,end:c,length:c.char-l.char+1,content:i.value})}}}positionFromOffset(e,n,r=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let l=this.documentOffsets.get(e);i=l.line,s=l.char}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let l=null,c=null,f=null,d=null;for(let m of this.documentOffsets.keys()){if(m>=e){d!=null&&e>d?(l=f,c=d):(l=this.documentOffsets.get(m),c=m);break}f=this.documentOffsets.get(m),d=m}if(l==null&&(l=f,c=d),l!=null)if(r){let m=this.content.split(""),_=e-(c!=null?c:0),g=l.char-(c!=null?c:0)+e;s=_,i=l.line,e<=(c!=null?c:0)?(i=l.line,s=e+1):i=l.line+1}else{let m=this.content.split(""),_=e-(c!=null?c:0),g=l.char-(c!=null?c:0)+e;s=_,i=l.line,e<=(c!=null?c:0)?(i=l.line,s=e+1):i=l.line+1}else this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let a=new Hn;return a.index=n,a.offset=e,a.line=i,a.char=s,a}getRanges(){return this.ranges}getKeys(){return this.keys}getValues(){return this.values}}});var nn,Ds=C(()=>{mw();Ls();nT();Pg();He();Bs();Uy();Qw();Xw();$O();zO();QO();tL();rL();nn=class{constructor(){this.documentParser=new W;this.transformer=null;this.ranges=new lb(this);this.nodes=new ob(this);this.cursor=new Gy(this);this.errors=new Hy(this);this.project=null;this.documentUri=""}static fromText(e,n){let r=new nn;return typeof n!="undefined"&&(r.project=n),r.loadString(e)}static childFromText(e,n=null){let r=new nn;return n!=null&&r.getDocumentParser().setSeedPosition(n),r.getDocumentParser().withChildDocuments(!0),r.loadString(e),{renderNodes:r.getDocumentParser().getRenderNodes(),content:e,document:r}}isValid(){return!(this.hasInvalidControlFlowStructures()||this.hasUnclosedStructures())}getDocumentOptions(){let e=this.getAllNodes();if(e.length==0||!(e[0]instanceof J))return null;let n=e[0];return n.isComment==!1?null:Au(this.documentUri,n)}isFormattingEnabled(){let e=this.getDocumentOptions();return e==null?!0:e.formatterEnabled}hasInvalidControlFlowStructures(){return this.documentParser.hasUnclosedIfStructures()}hasUnclosedStructures(){return this.documentParser.hasUnclosedStructures()}getFrontMatterDoc(){if(this.hasFrontMatter()){let e=new ub;return e.loadString(this.getFrontMatter()),e}return null}hasFrontMatter(){return this.documentParser.getFrontMatter().trim().length>0}getFrontMatter(){return this.documentParser.getFrontMatter()}getFrontMatterScope(){if(this.project==null)return null;let e=new ab(this.project);return e.parse(this.getFrontMatter()),e.getScope()}updateProject(e){this.project=e,this.updateProjectDetails()}updateProjectDetails(){try{if(this.project!=null){let e=new _y(this.project,this.documentUri,this),n=this.documentParser.antlersNodes();n.forEach(r=>{var i,s;if(this.project!=null&&((i=Ze.instance)==null?void 0:i.canResolveSpecialTypes(r.getTagName()))){let a=(s=Ze.instance)==null?void 0:s.resolveSpecialType(r.getTagName(),r,this.project);a.context!=null&&(r.reference=a.context)}}),e.analyzeScope(n);for(let r=0;r<n.length;r++){let i=n[r];if(i.hasParameters)for(let s=0;s<i.parameters.length;s++){let a=i.parameters[s];if(a.hasInterpolations())for(let l=0;l<a.interpolations.length;l++){let c=a.interpolations[l];i.processedInterpolationRegions.has(c)&&i.processedInterpolationRegions.get(c).forEach(d=>{d instanceof J&&(d.currentScope=i.currentScope)})}}}BA(this)}}catch(e){console.log(e)}}loadString(e){return this.documentParser.parse(e),this.updateProjectDetails(),this}getDocumentParser(){return this.documentParser}getParsedContent(){return this.documentParser.getParsedContent()}getAllNodes(){return this.documentParser.getNodes()}getAllAntlersNodes(){return this.documentParser.antlersNodes()}extractText(){let e=[];return this.nodes.getAllLiteralNodes().forEach(n=>{e.push(n.content)}),e.join("")}getNameAt(e){let n=this.nodes.getNodeAt(e);return n instanceof J?n.name:null}getLinesAround(e){return this.documentParser.getLinesAround(e)}getContent(){return this.documentParser.getContent()}getOriginalContent(){return this.documentParser.getOriginalContent()}getFeaturesAt(e){let n=this.nodes.getNodeAt(e);return Oa.resolveContext(e,n,this,!1,n)}getText(e,n){return this.documentParser.getText(e,n)}charLeftAt(e){return this.documentParser.charLeftAt(e)}charAt(e){return this.documentParser.charAt(e)}charRightAt(e){return this.documentParser.charRightAt(e)}getLineIndex(e){return this.documentParser.getLineIndex(e)}getLineText(e){return this.documentParser.getLineText(e)}wordAt(e,n=4){return this.documentParser.wordAt(e,n)}wordLeftAt(e,n=4){return this.documentParser.wordLeftAt(e,n)}wordRightAt(e,n=4){return this.documentParser.wordRightAt(e,n)}punctuationLeftAt(e,n=4){return this.documentParser.punctuationLeftAt(e,n)}punctuationRightAt(e,n=4){return this.documentParser.punctuationRightAt(e,n)}getLineChars(e){let n=this.getLineText(e);return n!=null?n.split(""):null}transform(){return this.transformer==null&&(this.transformer=new kf(this)),this.transformer}}});var z8,Jh,fb=C(()=>{Zt();en();He();z8={checkNode(t){var i;let e=[];if(t.isClosedBy==null||t.parent==null||!(t.parent instanceof J))return e;let n=t.parent;if(n.isClosedBy==null)return e;let r=t.runtimeName();return r=="if"||r=="if:index"||r=="else"||r=="else:index"||r=="elseif"||r=="elseif:index"||r=="elseunless"||r=="elseunless:index"||((i=n.isClosedBy.startPosition)==null?void 0:i.isBefore(t.isClosedBy.endPosition))&&(e.push($.makeSyntaxError(R.LINT_INTERLEAVED_TAG_PAIRS,t,"Closing tag cannot appear after parent closing tag.")),e.push($.makeSyntaxError(R.LINT_INTERLEAVED_TAG_PAIRS,t.isClosedBy,"Closing tag cannot appear after parent closing tag."))),e}},Jh=z8});var sL=oe((iL,Zh)=>{(function(t){if(typeof Zh=="object"&&typeof Zh.exports=="object"){var e=t(require,iL);e!==void 0&&(Zh.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function c(f,d,m,_){this._uri=f,this._languageId=d,this._version=m,this._content=_,this._lineOffsets=void 0}return Object.defineProperty(c.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),c.prototype.getText=function(f){if(f){var d=this.offsetAt(f.start),m=this.offsetAt(f.end);return this._content.substring(d,m)}return this._content},c.prototype.update=function(f,d){for(var m=0,_=f;m<_.length;m++){var g=_[m];if(c.isIncremental(g)){var T=a(g.range),N=this.offsetAt(T.start),A=this.offsetAt(T.end);this._content=this._content.substring(0,N)+g.text+this._content.substring(A,this._content.length);var b=Math.max(T.start.line,0),x=Math.max(T.end.line,0),v=this._lineOffsets,I=s(g.text,!1,N);if(x-b===I.length)for(var O=0,X=I.length;O<X;O++)v[O+b+1]=I[O];else I.length<1e4?v.splice.apply(v,[b+1,x-b].concat(I)):this._lineOffsets=v=v.slice(0,b+1).concat(I,v.slice(x+1));var Y=g.text.length-(A-N);if(Y!==0)for(var O=b+1+I.length,X=v.length;O<X;O++)v[O]=v[O]+Y}else if(c.isFull(g))this._content=g.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received")}this._version=d},c.prototype.getLineOffsets=function(){return this._lineOffsets===void 0&&(this._lineOffsets=s(this._content,!0)),this._lineOffsets},c.prototype.positionAt=function(f){f=Math.max(Math.min(f,this._content.length),0);var d=this.getLineOffsets(),m=0,_=d.length;if(_===0)return{line:0,character:f};for(;m<_;){var g=Math.floor((m+_)/2);d[g]>f?_=g:m=g+1}var T=m-1;return{line:T,character:f-d[T]}},c.prototype.offsetAt=function(f){var d=this.getLineOffsets();if(f.line>=d.length)return this._content.length;if(f.line<0)return 0;var m=d[f.line],_=f.line+1<d.length?d[f.line+1]:this._content.length;return Math.max(Math.min(m+f.character,_),m)},Object.defineProperty(c.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),c.isIncremental=function(f){var d=f;return d!=null&&typeof d.text=="string"&&d.range!==void 0&&(d.rangeLength===void 0||typeof d.rangeLength=="number")},c.isFull=function(f){var d=f;return d!=null&&typeof d.text=="string"&&d.range===void 0&&d.rangeLength===void 0},c}(),r;(function(c){function f(_,g,T,N){return new n(_,g,T,N)}c.create=f;function d(_,g,T){if(_ instanceof n)return _.update(g,T),_;throw new Error("TextDocument.update: document must be created by TextDocument.create")}c.update=d;function m(_,g){for(var T=_.getText(),N=i(g.map(l),function(X,Y){var te=X.range.start.line-Y.range.start.line;return te===0?X.range.start.character-Y.range.start.character:te}),A=0,b=[],x=0,v=N;x<v.length;x++){var I=v[x],O=_.offsetAt(I.range.start);if(O<A)throw new Error("Overlapping edit");O>A&&b.push(T.substring(A,O)),I.newText.length&&b.push(I.newText),A=_.offsetAt(I.range.end)}return b.push(T.substr(A)),b.join("")}c.applyEdits=m})(r=e.TextDocument||(e.TextDocument={}));function i(c,f){if(c.length<=1)return c;var d=c.length/2|0,m=c.slice(0,d),_=c.slice(d);i(m,f),i(_,f);for(var g=0,T=0,N=0;g<m.length&&T<_.length;){var A=f(m[g],_[T]);A<=0?c[N++]=m[g++]:c[N++]=_[T++]}for(;g<m.length;)c[N++]=m[g++];for(;T<_.length;)c[N++]=_[T++];return c}function s(c,f,d){d===void 0&&(d=0);for(var m=f?[d]:[],_=0;_<c.length;_++){var g=c.charCodeAt(_);(g===13||g===10)&&(g===13&&_+1<c.length&&c.charCodeAt(_+1)===10&&_++,m.push(d+_+1))}return m}function a(c){var f=c.start,d=c.end;return f.line>d.line||f.line===d.line&&f.character>d.character?{start:d,end:f}:c}function l(c){var f=a(c.range);return f!==c.range?{newText:c.newText,range:f}:c}})});var oL=oe((Gge,aL)=>{"use strict";aL.exports=nr()});function lL(t,e){let n=[];return t.processedInterpolationRegions.size>0&&t.processedInterpolationRegions.forEach((r,i)=>{var s;for(let a=0;a<r.length;a++){let l=r[a];if(l instanceof J&&e.isWithin(l.startPosition,l.endPosition)){l.currentScope==null&&(((s=t.parent)==null?void 0:s.currentScope)!=null?l.currentScope=t.parent.currentScope:l.currentScope=t.currentScope),n.push(l),l.processedInterpolationRegions.size>0&&(n=n.concat(lL(l,e)));break}}}),n}function Zr(t,e,n=!0){var _,g,T,N,A,b,x,v,I,O,X;if(!et.hasDocument(e)||Oe.instance==null||Oe.instance.hasStructure()==!1)return null;let r=et.getDocument(e),i=t.line+1,s=t.character+1,a=r.cursor.getFeaturesAt(i,s),l=r.cursor.position(i,s),c=Oe.instance.getStructure(),f=r.cursor.getAncestorsAt(i,s);if(l!=null&&f.length>0){let Y=f[f.length-1];lL(Y,l).forEach(te=>{f.push(te)})}let d=(a==null?void 0:a.isCursorInIdentifier)==!1;return d==!1&&((_=a==null?void 0:a.leftChar)!=null?_:"")==" "&&(d=!0),{hasFrontMatter:r.hasFrontMatter(),antlersDocument:r,frontMatterEndsOn:r.getDocumentParser().getFrontMatterEndLine(),document:e,leftMeaningfulWord:(g=a==null?void 0:a.leftWord)!=null?g:null,leftChar:(T=a==null?void 0:a.leftChar)!=null?T:"",leftWord:(A=(N=a==null?void 0:a.leftWord)==null?void 0:N.trim())!=null?A:"",originalLeftWord:(b=a==null?void 0:a.leftWord)!=null?b:"",rightWord:(x=a==null?void 0:a.rightWord)!=null?x:"",rightChar:(v=a==null?void 0:a.rightChar)!=null?v:"",context:a,position:t,project:c,nodesInScope:f,isInDoubleBraces:((I=a==null?void 0:a.node)==null?void 0:I.rawStart)=="{{",isInVariableInterpolation:(O=a==null?void 0:a.interpolatedContext)!=null?O:!1,interpolationStartsOn:null,currentNode:(X=a==null?void 0:a.node)!=null?X:null,isCaretInTag:(a==null?void 0:a.node)!=null,isPastTagPart:d,showGeneralSnippets:n}}var xo=C(()=>{qr();Gn();He()});var Q8,cL,uL=C(()=>{Q8=`{{ collection:$1 $2 }}

{{ /collection:$1 }}`,cL=Q8});var X8,fL,pL=C(()=>{X8='&copy; {{ now format="Y"  }}',fL=X8});var J8,dL,hL=C(()=>{J8=`{{ form:set in="$1" }}

{{ if {form:errors} }}
	{{ form:errors }}

	{{ /form:errors }}
{{ /if }}

{{ if {form:success} }}

{{ /if }}

{{ form:create }}
	$2
{{ /form:create }}

{{ /form:set }}`,dL=J8});var mL,gL=C(()=>{mL=`{{# Displays your site's current locale. #}}
<span>{{ site:short_locale }}</span>

{{# Displays all available locales. #}}
<ul>
    {{ locales all="true" self="false" }}
    <li>
        <a href="{{ permalink }}" aria-label="{{ locale:name }}">{{ locale:short }}</a>
    </li>    
    {{ /locales }}
</ul>`});var Z8,_L,TL=C(()=>{Z8=`<ul>
{{ nav }}
	{{ if depth == 1 }}
		$1
		{{ if children }}
			<ul>{{ *recursive children* }}</ul>
		{{ /if }}
	{{ elseif depth == 2 }}
		
	{{ /if }}
{{ /nav }}
</ul>`,_L=Z8});function wf(t,e,n,r){return{label:t,detail:e,insertTextFormat:iu.InsertTextFormat.Snippet,kind:iu.CompletionItemKind.Snippet,textEdit:iu.TextEdit.replace(r,n),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}}function e9(t){var c,f,d,m,_;let e=[];if(t.showGeneralSnippets==!1)return e;let n={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position},r=(c=Ei.instance)==null?void 0:c.getContent("collection"),i=(f=Ei.instance)==null?void 0:f.getContent("formset"),s=(d=Ei.instance)==null?void 0:d.getContent("nav_depth2"),a=(m=Ei.instance)==null?void 0:m.getContent("copyright_year"),l=(_=Ei.instance)==null?void 0:_.getContent("multisite_lang_generic");return r!=null&&e.push(wf("coll","Statamic Collection",r,n)),i!=null&&e.push(wf("formset","Statamic Form Set",i,n)),s!=null&&e.push(wf("nav-depth2","Statamic Nav with Depth Two",s,n)),a!=null&&e.push(wf("copyright_year","Copyright year using Antlers tags.",a,n)),l!=null&&e.push(wf("multisite_locales","Displays the current locale, and a list of all available locales.",l,n)),e}var iu,Ei,yL,bL=C(()=>{iu=he(nr());uL();pL();hL();gL();TL();Ei=class{constructor(){this.registeredSnippets=new Map}loadCoreSnippets(){this.registeredSnippets.set("collection",cL),this.registeredSnippets.set("formset",dL),this.registeredSnippets.set("nav_depth2",_L),this.registeredSnippets.set("copyright_year",fL),this.registeredSnippets.set("multisite_lang_generic",mL)}getContent(e){return this.registeredSnippets.has(e)?this.registeredSnippets.get(e):""}getSnippets(e){let n=[];return e==null||(n=n.concat(e9(e))),n}};Ei.instance=null;(typeof Ei.instance=="undefined"||Ei.instance==null)&&(Ei.instance=new Ei,Ei.instance.loadCoreSnippets());yL=Ei});function NL(t){var a,l,c;if(((a=Oe.instance)==null?void 0:a.hasStructure())==!1)return[];et.refreshDocumentState();let e=decodeURIComponent(t.textDocument.uri);if(et.hasDocument(e)==!1)return[];let n=Zr(t.position,e,Eo.showGeneralSnippetCompletions);if(n==null)return[];if(n.hasFrontMatter&&n.frontMatterEndsOn>-1&&n.position.line<n.frontMatterEndsOn)return[];let r=(c=(l=yL.instance)==null?void 0:l.getSnippets(n))!=null?c:[],i=eT.getSuggestions(n);r.length>0&&(n.isInDoubleBraces==!1||n.nodesInScope.length==0)&&(i=i.concat(r));let s=[];return i.filter(f=>s.includes(f.label)?!1:(s.push(f.label),!0))}function xL(t){if(vL.has(t.data)){let e=vL.get(t.data);e!=null&&(t.detail=e.detail,t.documentation=e.docs)}return t}var vL,EL=C(()=>{qr();Gn();xo();So();bL();Zs();vL=new Map});function em(t){let e=[];return t.forEach(n=>{let r=null;n.lsRange!=null?r=n.lsRange:n.node!=null?r=El(n.node):n.range!=null?r={start:rn(n.range.start),end:rn(n.range.end)}:r={start:{line:1,character:1},end:{line:1,character:1}};let i=1;n.level==1&&(i=2),e.push({severity:i,range:r,message:"["+n.errorCode+"] "+n.message,source:"antlers",code:n.errorCode})}),e}function rn(t){return t==null?{character:0,line:0}:{character:t.char,line:t.line-1}}function El(t){var e,n,r,i,s,a,l,c;if(t instanceof Yo){let f=rn((i=(r=(e=t.valuePosition)==null?void 0:e.end)!=null?r:(n=t.blockPosition)==null?void 0:n.end)!=null?i:t.endPosition);return{start:rn((c=(l=(s=t.namePosition)==null?void 0:s.start)!=null?l:(a=t.blockPosition)==null?void 0:a.start)!=null?c:t.startPosition),end:{character:f.character+1,line:f.line}}}else if(t instanceof Mt&&t.logicBranches.length>0){let f=t.logicBranches[0],d=t.logicBranches[t.logicBranches.length-1];if(f.head!=null&&d.head!=null&&d.head.isClosedBy!=null)return{start:rn(f.head.startPosition),end:rn(d.head.isClosedBy.endPosition)}}return{start:rn(t.startPosition),end:rn(t.endPosition)}}function SL(t){if(t.isClosedBy==null)return null;let e=-1,n=-1,r=-1,i=-1;return t.startPosition!=null&&(e=t.startPosition.line-1,n=t.startPosition.char),t.isClosedBy.endPosition!=null?(r=t.isClosedBy.endPosition.char,i=t.isClosedBy.endPosition.line-1):t.isClosedBy.startPosition!=null&&(r=t.isClosedBy.startPosition.char,i=t.isClosedBy.startPosition.line-1),e==-1||i==-1||n==-1||r==-1?null:{kind:pb.FoldingRangeKind.Region,startLine:e,endLine:i,startCharacter:n,endCharacter:r}}function db(t){let e=-1,n=-1,r=-1,i=-1;return t.startPosition!=null&&(e=t.startPosition.line-1,n=t.startPosition.char),t.endPosition!=null&&(r=t.endPosition.char,i=t.endPosition.line-1),e==-1||n==-1||r==-1||i==-1?null:{kind:pb.FoldingRangeKind.Comment,startLine:e,endLine:i,startCharacter:n,endCharacter:r}}var pb,sa=C(()=>{pb=he(tn());Zt();He()});function PL(t){let e=decodeURIComponent(t.textDocument.uri);if(et.hasDocument(e)){let n=et.getDocument(e),r=n.ranges.getAllPairedNodes(),i=n.nodes.getMultiLineComments(),s=n.nodes.getMultilineNodes(),a=[];if(n.hasFrontMatter()){let l=n.getDocumentParser().getFrontMatterEndLine();a.push({startLine:0,endLine:l-1,kind:Of.FoldingRangeKind.Imports})}return r.length>0&&r.forEach(l=>{var f,d,m;if(((f=l.startPosition)==null?void 0:f.line)==((m=(d=l.isClosedBy)==null?void 0:d.startPosition)==null?void 0:m.line))return;let c=SL(l);c!=null&&(c.kind=Of.FoldingRangeKind.Region,a.push(c))}),i.length>0&&i.forEach(l=>{let c=db(l);c!=null&&(c.kind=Of.FoldingRangeKind.Comment,a.push(c))}),s.length>0&&s.forEach(l=>{if(l.isClosedBy!=null)return;let c=db(l);c!=null&&(c.kind=Of.FoldingRangeKind.Region,a.push(c))}),a}return[]}var Of,IL=C(()=>{Of=he(g_());qr();sa()});function CL(t){return typeof t=="undefined"||t===null}function t9(t){return typeof t=="object"&&t!==null}function n9(t){return Array.isArray(t)?t:CL(t)?[]:[t]}function r9(t,e){var n,r,i,s;if(e)for(s=Object.keys(e),n=0,r=s.length;n<r;n+=1)i=s[n],t[i]=e[i];return t}function i9(t,e){var n="",r;for(r=0;r<e;r+=1)n+=t;return n}function s9(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}function AL(t,e){var n="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),r+" "+n):r}function Lf(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=AL(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}function hb(t,e,n,r,i){var s="",a="",l=Math.floor(i/2)-1;return r-e>l&&(s=" ... ",e=r-l+s.length),n-r>l&&(a=" ...",n=r+l-a.length),{str:s+t.slice(e,n).replace(/\t/g,"\u2192")+a,pos:r-e+s.length}}function mb(t,e){return zn.repeat(" ",e-t.length)+t}function p9(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],s,a=-1;s=n.exec(t.buffer);)i.push(s.index),r.push(s.index+s[0].length),t.position<=s.index&&a<0&&(a=r.length-2);a<0&&(a=r.length-1);var l="",c,f,d=Math.min(t.line+e.linesAfter,i.length).toString().length,m=e.maxLength-(e.indent+d+3);for(c=1;c<=e.linesBefore&&!(a-c<0);c++)f=hb(t.buffer,r[a-c],i[a-c],t.position-(r[a]-r[a-c]),m),l=zn.repeat(" ",e.indent)+mb((t.line-c+1).toString(),d)+" | "+f.str+`
`+l;for(f=hb(t.buffer,r[a],i[a],t.position,m),l+=zn.repeat(" ",e.indent)+mb((t.line+1).toString(),d)+" | "+f.str+`
`,l+=zn.repeat("-",e.indent+d+3+f.pos)+`^
`,c=1;c<=e.linesAfter&&!(a+c>=i.length);c++)f=hb(t.buffer,r[a+c],i[a+c],t.position-(r[a]-r[a+c]),m),l+=zn.repeat(" ",e.indent)+mb((t.line+c+1).toString(),d)+" | "+f.str+`
`;return l.replace(/\n$/,"")}function g9(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(r){e[String(r)]=n})}),e}function _9(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if(h9.indexOf(n)===-1)throw new Yr('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=g9(e.styleAliases||null),m9.indexOf(this.kind)===-1)throw new Yr('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}function RL(t,e){var n=[];return t[e].forEach(function(r){var i=n.length;n.forEach(function(s,a){s.tag===r.tag&&s.kind===r.kind&&s.multi===r.multi&&(i=a)}),n[i]=r}),n}function T9(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function r(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(r);return t}function gb(t){return this.extend(t)}function E9(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function S9(){return null}function P9(t){return t===null}function C9(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function A9(t){return t==="true"||t==="True"||t==="TRUE"}function R9(t){return Object.prototype.toString.call(t)==="[object Boolean]"}function w9(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function O9(t){return 48<=t&&t<=55}function L9(t){return 48<=t&&t<=57}function D9(t){if(t===null)return!1;var e=t.length,n=0,r=!1,i;if(!e)return!1;if(i=t[n],(i==="-"||i==="+")&&(i=t[++n]),i==="0"){if(n+1===e)return!0;if(i=t[++n],i==="b"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!w9(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!O9(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<e;n++)if(i=t[n],i!=="_"){if(!L9(t.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}function M9(t){var e=t,n=1,r;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),r=e[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),e=e.slice(1),r=e[0]),e==="0")return 0;if(r==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}function F9(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!zn.isNegativeZero(t)}function q9(t){return!(t===null||!B9.test(t)||t[t.length-1]==="_")}function U9(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}function G9(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(zn.isNegativeZero(t))return"-0.0";return n=t.toString(10),j9.test(n)?n.replace("e",".e"):n}function H9(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||zn.isNegativeZero(t))}function $9(t){return t===null?!1:kL.exec(t)!==null||wL.exec(t)!==null}function z9(t){var e,n,r,i,s,a,l,c=0,f=null,d,m,_;if(e=kL.exec(t),e===null&&(e=wL.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(n,r,i));if(s=+e[4],a=+e[5],l=+e[6],e[7]){for(c=e[7].slice(0,3);c.length<3;)c+="0";c=+c}return e[9]&&(d=+e[10],m=+(e[11]||0),f=(d*60+m)*6e4,e[9]==="-"&&(f=-f)),_=new Date(Date.UTC(n,r,i,s,a,l,c)),f&&_.setTime(_.getTime()-f),_}function Q9(t){return t.toISOString()}function J9(t){return t==="<<"||t===null}function eK(t){if(t===null)return!1;var e,n,r=0,i=t.length,s=_b;for(n=0;n<i;n++)if(e=s.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;r+=6}return r%8===0}function tK(t){var e,n,r=t.replace(/[\r\n=]/g,""),i=r.length,s=_b,a=0,l=[];for(e=0;e<i;e++)e%4===0&&e&&(l.push(a>>16&255),l.push(a>>8&255),l.push(a&255)),a=a<<6|s.indexOf(r.charAt(e));return n=i%4*6,n===0?(l.push(a>>16&255),l.push(a>>8&255),l.push(a&255)):n===18?(l.push(a>>10&255),l.push(a>>2&255)):n===12&&l.push(a>>4&255),new Uint8Array(l)}function nK(t){var e="",n=0,r,i,s=t.length,a=_b;for(r=0;r<s;r++)r%3===0&&r&&(e+=a[n>>18&63],e+=a[n>>12&63],e+=a[n>>6&63],e+=a[n&63]),n=(n<<8)+t[r];return i=s%3,i===0?(e+=a[n>>18&63],e+=a[n>>12&63],e+=a[n>>6&63],e+=a[n&63]):i===2?(e+=a[n>>10&63],e+=a[n>>4&63],e+=a[n<<2&63],e+=a[64]):i===1&&(e+=a[n>>2&63],e+=a[n<<4&63],e+=a[64],e+=a[64]),e}function rK(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}function oK(t){if(t===null)return!0;var e=[],n,r,i,s,a,l=t;for(n=0,r=l.length;n<r;n+=1){if(i=l[n],a=!1,aK.call(i)!=="[object Object]")return!1;for(s in i)if(sK.call(i,s))if(!a)a=!0;else return!1;if(!a)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}function lK(t){return t!==null?t:[]}function fK(t){if(t===null)return!0;var e,n,r,i,s,a=t;for(s=new Array(a.length),e=0,n=a.length;e<n;e+=1){if(r=a[e],uK.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;s[e]=[i[0],r[i[0]]]}return!0}function pK(t){if(t===null)return[];var e,n,r,i,s,a=t;for(s=new Array(a.length),e=0,n=a.length;e<n;e+=1)r=a[e],i=Object.keys(r),s[e]=[i[0],r[i[0]]];return s}function mK(t){if(t===null)return!0;var e,n=t;for(e in n)if(hK.call(n,e)&&n[e]!==null)return!1;return!0}function gK(t){return t!==null?t:{}}function BL(t){return Object.prototype.toString.call(t)}function aa(t){return t===10||t===13}function Sl(t){return t===9||t===32}function ei(t){return t===9||t===32||t===10||t===13}function su(t){return t===44||t===91||t===93||t===123||t===125}function NK(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function xK(t){return t===120?2:t===117?4:t===85?8:0}function EK(t){return 48<=t&&t<=57?t-48:-1}function qL(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"\x85":t===95?"\xA0":t===76?"\u2028":t===80?"\u2029":""}function SK(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}function PK(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||OL,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function GL(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=d9(n),new Yr(e,n)}function Me(t,e){throw GL(t,e)}function rm(t,e){t.onWarning&&t.onWarning.call(null,GL(t,e))}function Io(t,e,n,r){var i,s,a,l;if(e<n){if(l=t.input.slice(e,n),r)for(i=0,s=l.length;i<s;i+=1)a=l.charCodeAt(i),a===9||32<=a&&a<=1114111||Me(t,"expected valid JSON character");else yK.test(l)&&Me(t,"the stream contains non-printable characters");t.result+=l}}function WL(t,e,n,r){var i,s,a,l;for(zn.isObject(n)||Me(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),a=0,l=i.length;a<l;a+=1)s=i[a],Po.call(e,s)||(e[s]=n[s],r[s]=!0)}function au(t,e,n,r,i,s,a,l,c){var f,d;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),f=0,d=i.length;f<d;f+=1)Array.isArray(i[f])&&Me(t,"nested arrays are not supported inside keys"),typeof i=="object"&&BL(i[f])==="[object Object]"&&(i[f]="[object Object]");if(typeof i=="object"&&BL(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(f=0,d=s.length;f<d;f+=1)WL(t,e,s[f],n);else WL(t,e,s,n);else!t.json&&!Po.call(n,i)&&Po.call(e,i)&&(t.line=a||t.line,t.lineStart=l||t.lineStart,t.position=c||t.position,Me(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[i]=s,delete n[i];return e}function yb(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):Me(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function qn(t,e,n){for(var r=0,i=t.input.charCodeAt(t.position);i!==0;){for(;Sl(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(aa(i))for(yb(t),i=t.input.charCodeAt(t.position),r++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return n!==-1&&r!==0&&t.lineIndent<n&&rm(t,"deficient indentation"),r}function im(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||ei(n)))}function bb(t,e){e===1?t.result+=" ":e>1&&(t.result+=zn.repeat(`
`,e-1))}function IK(t,e,n){var r,i,s,a,l,c,f,d,m=t.kind,_=t.result,g;if(g=t.input.charCodeAt(t.position),ei(g)||su(g)||g===35||g===38||g===42||g===33||g===124||g===62||g===39||g===34||g===37||g===64||g===96||(g===63||g===45)&&(i=t.input.charCodeAt(t.position+1),ei(i)||n&&su(i)))return!1;for(t.kind="scalar",t.result="",s=a=t.position,l=!1;g!==0;){if(g===58){if(i=t.input.charCodeAt(t.position+1),ei(i)||n&&su(i))break}else if(g===35){if(r=t.input.charCodeAt(t.position-1),ei(r))break}else{if(t.position===t.lineStart&&im(t)||n&&su(g))break;if(aa(g))if(c=t.line,f=t.lineStart,d=t.lineIndent,qn(t,!1,-1),t.lineIndent>=e){l=!0,g=t.input.charCodeAt(t.position);continue}else{t.position=a,t.line=c,t.lineStart=f,t.lineIndent=d;break}}l&&(Io(t,s,a,!1),bb(t,t.line-c),s=a=t.position,l=!1),Sl(g)||(a=t.position+1),g=t.input.charCodeAt(++t.position)}return Io(t,s,a,!1),t.result?!0:(t.kind=m,t.result=_,!1)}function CK(t,e){var n,r,i;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(Io(t,r,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)r=t.position,t.position++,i=t.position;else return!0;else aa(n)?(Io(t,r,i,!0),bb(t,qn(t,!1,e)),r=i=t.position):t.position===t.lineStart&&im(t)?Me(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);Me(t,"unexpected end of the stream within a single quoted scalar")}function AK(t,e){var n,r,i,s,a,l;if(l=t.input.charCodeAt(t.position),l!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;(l=t.input.charCodeAt(t.position))!==0;){if(l===34)return Io(t,n,t.position,!0),t.position++,!0;if(l===92){if(Io(t,n,t.position,!0),l=t.input.charCodeAt(++t.position),aa(l))qn(t,!1,e);else if(l<256&&UL[l])t.result+=jL[l],t.position++;else if((a=xK(l))>0){for(i=a,s=0;i>0;i--)l=t.input.charCodeAt(++t.position),(a=NK(l))>=0?s=(s<<4)+a:Me(t,"expected hexadecimal character");t.result+=SK(s),t.position++}else Me(t,"unknown escape sequence");n=r=t.position}else aa(l)?(Io(t,n,r,!0),bb(t,qn(t,!1,e)),n=r=t.position):t.position===t.lineStart&&im(t)?Me(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}Me(t,"unexpected end of the stream within a double quoted scalar")}function RK(t,e){var n=!0,r,i,s,a=t.tag,l,c=t.anchor,f,d,m,_,g,T=Object.create(null),N,A,b,x;if(x=t.input.charCodeAt(t.position),x===91)d=93,g=!1,l=[];else if(x===123)d=125,g=!0,l={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=l),x=t.input.charCodeAt(++t.position);x!==0;){if(qn(t,!0,e),x=t.input.charCodeAt(t.position),x===d)return t.position++,t.tag=a,t.anchor=c,t.kind=g?"mapping":"sequence",t.result=l,!0;n?x===44&&Me(t,"expected the node content, but found ','"):Me(t,"missed comma between flow collection entries"),A=N=b=null,m=_=!1,x===63&&(f=t.input.charCodeAt(t.position+1),ei(f)&&(m=_=!0,t.position++,qn(t,!0,e))),r=t.line,i=t.lineStart,s=t.position,ou(t,e,tm,!1,!0),A=t.tag,N=t.result,qn(t,!0,e),x=t.input.charCodeAt(t.position),(_||t.line===r)&&x===58&&(m=!0,x=t.input.charCodeAt(++t.position),qn(t,!0,e),ou(t,e,tm,!1,!0),b=t.result),g?au(t,l,T,A,N,b,r,i,s):m?l.push(au(t,null,T,A,N,b,r,i,s)):l.push(N),qn(t,!0,e),x=t.input.charCodeAt(t.position),x===44?(n=!0,x=t.input.charCodeAt(++t.position)):n=!1}Me(t,"unexpected end of the stream within a flow collection")}function kK(t,e){var n,r,i=Tb,s=!1,a=!1,l=e,c=0,f=!1,d,m;if(m=t.input.charCodeAt(t.position),m===124)r=!1;else if(m===62)r=!0;else return!1;for(t.kind="scalar",t.result="";m!==0;)if(m=t.input.charCodeAt(++t.position),m===43||m===45)Tb===i?i=m===43?ML:TK:Me(t,"repeat of a chomping mode identifier");else if((d=EK(m))>=0)d===0?Me(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?Me(t,"repeat of an indentation width identifier"):(l=e+d-1,a=!0);else break;if(Sl(m)){do m=t.input.charCodeAt(++t.position);while(Sl(m));if(m===35)do m=t.input.charCodeAt(++t.position);while(!aa(m)&&m!==0)}for(;m!==0;){for(yb(t),t.lineIndent=0,m=t.input.charCodeAt(t.position);(!a||t.lineIndent<l)&&m===32;)t.lineIndent++,m=t.input.charCodeAt(++t.position);if(!a&&t.lineIndent>l&&(l=t.lineIndent),aa(m)){c++;continue}if(t.lineIndent<l){i===ML?t.result+=zn.repeat(`
`,s?1+c:c):i===Tb&&s&&(t.result+=`
`);break}for(r?Sl(m)?(f=!0,t.result+=zn.repeat(`
`,s?1+c:c)):f?(f=!1,t.result+=zn.repeat(`
`,c+1)):c===0?s&&(t.result+=" "):t.result+=zn.repeat(`
`,c):t.result+=zn.repeat(`
`,s?1+c:c),s=!0,a=!0,c=0,n=t.position;!aa(m)&&m!==0;)m=t.input.charCodeAt(++t.position);Io(t,n,t.position,!1)}return!0}function YL(t,e){var n,r=t.tag,i=t.anchor,s=[],a,l=!1,c;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),c=t.input.charCodeAt(t.position);c!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Me(t,"tab characters must not be used in indentation")),!(c!==45||(a=t.input.charCodeAt(t.position+1),!ei(a))));){if(l=!0,t.position++,qn(t,!0,-1)&&t.lineIndent<=e){s.push(null),c=t.input.charCodeAt(t.position);continue}if(n=t.line,ou(t,e,DL,!1,!0),s.push(t.result),qn(t,!0,-1),c=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&c!==0)Me(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return l?(t.tag=r,t.anchor=i,t.kind="sequence",t.result=s,!0):!1}function wK(t,e,n){var r,i,s,a,l,c,f=t.tag,d=t.anchor,m={},_=Object.create(null),g=null,T=null,N=null,A=!1,b=!1,x;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=m),x=t.input.charCodeAt(t.position);x!==0;){if(!A&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Me(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),s=t.line,(x===63||x===58)&&ei(r))x===63?(A&&(au(t,m,_,g,T,null,a,l,c),g=T=N=null),b=!0,A=!0,i=!0):A?(A=!1,i=!0):Me(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,x=r;else{if(a=t.line,l=t.lineStart,c=t.position,!ou(t,n,LL,!1,!0))break;if(t.line===s){for(x=t.input.charCodeAt(t.position);Sl(x);)x=t.input.charCodeAt(++t.position);if(x===58)x=t.input.charCodeAt(++t.position),ei(x)||Me(t,"a whitespace character is expected after the key-value separator within a block mapping"),A&&(au(t,m,_,g,T,null,a,l,c),g=T=N=null),b=!0,A=!1,i=!1,g=t.tag,T=t.result;else if(b)Me(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=f,t.anchor=d,!0}else if(b)Me(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=f,t.anchor=d,!0}if((t.line===s||t.lineIndent>e)&&(A&&(a=t.line,l=t.lineStart,c=t.position),ou(t,e,nm,!0,i)&&(A?T=t.result:N=t.result),A||(au(t,m,_,g,T,N,a,l,c),g=T=N=null),qn(t,!0,-1),x=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&x!==0)Me(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return A&&au(t,m,_,g,T,null,a,l,c),b&&(t.tag=f,t.anchor=d,t.kind="mapping",t.result=m),b}function OK(t){var e,n=!1,r=!1,i,s,a;if(a=t.input.charCodeAt(t.position),a!==33)return!1;if(t.tag!==null&&Me(t,"duplication of a tag property"),a=t.input.charCodeAt(++t.position),a===60?(n=!0,a=t.input.charCodeAt(++t.position)):a===33?(r=!0,i="!!",a=t.input.charCodeAt(++t.position)):i="!",e=t.position,n){do a=t.input.charCodeAt(++t.position);while(a!==0&&a!==62);t.position<t.length?(s=t.input.slice(e,t.position),a=t.input.charCodeAt(++t.position)):Me(t,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!ei(a);)a===33&&(r?Me(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),FL.test(i)||Me(t,"named tag handle cannot contain such characters"),r=!0,e=t.position+1)),a=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),vK.test(s)&&Me(t,"tag suffix cannot contain flow indicator characters")}s&&!VL.test(s)&&Me(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{Me(t,"tag name is malformed: "+s)}return n?t.tag=s:Po.call(t.tagMap,i)?t.tag=t.tagMap[i]+s:i==="!"?t.tag="!"+s:i==="!!"?t.tag="tag:yaml.org,2002:"+s:Me(t,'undeclared tag handle "'+i+'"'),!0}function LK(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&Me(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!ei(n)&&!su(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&Me(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function DK(t){var e,n,r;if(r=t.input.charCodeAt(t.position),r!==42)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!ei(r)&&!su(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&Me(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),Po.call(t.anchorMap,n)||Me(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],qn(t,!0,-1),!0}function ou(t,e,n,r,i){var s,a,l,c=1,f=!1,d=!1,m,_,g,T,N,A;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=a=l=nm===n||DL===n,r&&qn(t,!0,-1)&&(f=!0,t.lineIndent>e?c=1:t.lineIndent===e?c=0:t.lineIndent<e&&(c=-1)),c===1)for(;OK(t)||LK(t);)qn(t,!0,-1)?(f=!0,l=s,t.lineIndent>e?c=1:t.lineIndent===e?c=0:t.lineIndent<e&&(c=-1)):l=!1;if(l&&(l=f||i),(c===1||nm===n)&&(tm===n||LL===n?N=e:N=e+1,A=t.position-t.lineStart,c===1?l&&(YL(t,A)||wK(t,A,N))||RK(t,N)?d=!0:(a&&kK(t,N)||CK(t,N)||AK(t,N)?d=!0:DK(t)?(d=!0,(t.tag!==null||t.anchor!==null)&&Me(t,"alias node should not have any properties")):IK(t,N,tm===n)&&(d=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):c===0&&(d=l&&YL(t,A))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&Me(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),m=0,_=t.implicitTypes.length;m<_;m+=1)if(T=t.implicitTypes[m],T.resolve(t.result)){t.result=T.construct(t.result),t.tag=T.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(Po.call(t.typeMap[t.kind||"fallback"],t.tag))T=t.typeMap[t.kind||"fallback"][t.tag];else for(T=null,g=t.typeMap.multi[t.kind||"fallback"],m=0,_=g.length;m<_;m+=1)if(t.tag.slice(0,g[m].tag.length)===g[m].tag){T=g[m];break}T||Me(t,"unknown tag !<"+t.tag+">"),t.result!==null&&T.kind!==t.kind&&Me(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+T.kind+'", not "'+t.kind+'"'),T.resolve(t.result,t.tag)?(t.result=T.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):Me(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||d}function MK(t){var e=t.position,n,r,i,s=!1,a;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(a=t.input.charCodeAt(t.position))!==0&&(qn(t,!0,-1),a=t.input.charCodeAt(t.position),!(t.lineIndent>0||a!==37));){for(s=!0,a=t.input.charCodeAt(++t.position),n=t.position;a!==0&&!ei(a);)a=t.input.charCodeAt(++t.position);for(r=t.input.slice(n,t.position),i=[],r.length<1&&Me(t,"directive name must not be less than one character in length");a!==0;){for(;Sl(a);)a=t.input.charCodeAt(++t.position);if(a===35){do a=t.input.charCodeAt(++t.position);while(a!==0&&!aa(a));break}if(aa(a))break;for(n=t.position;a!==0&&!ei(a);)a=t.input.charCodeAt(++t.position);i.push(t.input.slice(n,t.position))}a!==0&&yb(t),Po.call(HL,r)?HL[r](t,r,i):rm(t,'unknown document directive "'+r+'"')}if(qn(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,qn(t,!0,-1)):s&&Me(t,"directives end mark is expected"),ou(t,t.lineIndent-1,nm,!1,!0),qn(t,!0,-1),t.checkLineBreaks&&bK.test(t.input.slice(e,t.position))&&rm(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&im(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,qn(t,!0,-1));return}if(t.position<t.length-1)Me(t,"end of the stream or a document separator is expected");else return}function KL(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new PK(t,e),r=t.indexOf("\0");for(r!==-1&&(n.position=r,Me(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)MK(n);return n.documents}function FK(t,e,n){e!==null&&typeof e=="object"&&typeof n=="undefined"&&(n=e,e=null);var r=KL(t,n);if(typeof e!="function")return r;for(var i=0,s=r.length;i<s;i+=1)e(r[i])}function VK(t,e){var n=KL(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new Yr("expected a single document in the stream, but found more")}}function s4(t,e){var n,r,i,s,a,l,c;if(e===null)return{};for(n={},r=Object.keys(e),i=0,s=r.length;i<s;i+=1)a=r[i],l=String(e[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),c=t.compiledTypeMap.fallback[a],c&&QL.call(c.styleAliases,l)&&(l=c.styleAliases[l]),n[a]=l;return n}function a4(t){var e,n,r;if(e=t.toString(16).toUpperCase(),t<=255)n="x",r=2;else if(t<=65535)n="u",r=4;else if(t<=4294967295)n="U",r=8;else throw new Yr("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+zn.repeat("0",r-e.length)+e}function l4(t){this.schema=t.schema||OL,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=zn.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=s4(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?Mf:o4,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function nD(t,e){for(var n=zn.repeat(" ",e),r=0,i=-1,s="",a,l=t.length;r<l;)i=t.indexOf(`
`,r),i===-1?(a=t.slice(r),r=l):(a=t.slice(r,i+1),r=i+1),a.length&&a!==`
`&&(s+=n),s+=a;return s}function xb(t,e){return`
`+zn.repeat(" ",t.indent*e)}function c4(t,e){var n,r,i;for(n=0,r=t.implicitTypes.length;n<r;n+=1)if(i=t.implicitTypes[n],i.resolve(e))return!0;return!1}function am(t){return t===GK||t===UK}function Ff(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==vb||65536<=t&&t<=1114111}function rD(t){return Ff(t)&&t!==vb&&t!==jK&&t!==Df}function iD(t,e,n){var r=rD(t),i=r&&!am(t);return(n?r:r&&t!==XL&&t!==JL&&t!==ZL&&t!==eD&&t!==tD)&&t!==Nb&&!(e===sm&&!i)||rD(e)&&!am(e)&&t===Nb||e===sm&&i}function u4(t){return Ff(t)&&t!==vb&&!am(t)&&t!==QK&&t!==ZK&&t!==sm&&t!==XL&&t!==JL&&t!==ZL&&t!==eD&&t!==tD&&t!==Nb&&t!==KK&&t!==zK&&t!==HK&&t!==n4&&t!==XK&&t!==JK&&t!==$K&&t!==WK&&t!==YK&&t!==e4&&t!==t4}function f4(t){return!am(t)&&t!==sm}function Vf(t,e){var n=t.charCodeAt(e),r;return n>=55296&&n<=56319&&e+1<t.length&&(r=t.charCodeAt(e+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}function sD(t){var e=/^\n* /;return e.test(t)}function p4(t,e,n,r,i,s,a,l){var c,f=0,d=null,m=!1,_=!1,g=r!==-1,T=-1,N=u4(Vf(t,0))&&f4(Vf(t,t.length-1));if(e||a)for(c=0;c<t.length;f>=65536?c+=2:c++){if(f=Vf(t,c),!Ff(f))return lu;N=N&&iD(f,d,l),d=f}else{for(c=0;c<t.length;f>=65536?c+=2:c++){if(f=Vf(t,c),f===Df)m=!0,g&&(_=_||c-T-1>r&&t[T+1]!==" ",T=c);else if(!Ff(f))return lu;N=N&&iD(f,d,l),d=f}_=_||g&&c-T-1>r&&t[T+1]!==" "}return!m&&!_?N&&!a&&!i(t)?aD:s===Mf?lu:Eb:n>9&&sD(t)?lu:a?s===Mf?lu:Eb:_?lD:oD}function d4(t,e,n,r,i){t.dump=function(){if(e.length===0)return t.quotingType===Mf?'""':"''";if(!t.noCompatMode&&(r4.indexOf(e)!==-1||i4.test(e)))return t.quotingType===Mf?'"'+e+'"':"'"+e+"'";var s=t.indent*Math.max(1,n),a=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-s),l=r||t.flowLevel>-1&&n>=t.flowLevel;function c(f){return c4(t,f)}switch(p4(e,l,t.indent,a,c,t.quotingType,t.forceQuotes&&!r,i)){case aD:return e;case Eb:return"'"+e.replace(/'/g,"''")+"'";case oD:return"|"+cD(e,t.indent)+uD(nD(e,s));case lD:return">"+cD(e,t.indent)+uD(nD(h4(e,a),s));case lu:return'"'+m4(e)+'"';default:throw new Yr("impossible error: invalid scalar style")}}()}function cD(t,e){var n=sD(t)?String(e):"",r=t[t.length-1]===`
`,i=r&&(t[t.length-2]===`
`||t===`
`),s=i?"+":r?"":"-";return n+s+`
`}function uD(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function h4(t,e){for(var n=/(\n+)([^\n]*)/g,r=function(){var f=t.indexOf(`
`);return f=f!==-1?f:t.length,n.lastIndex=f,fD(t.slice(0,f),e)}(),i=t[0]===`
`||t[0]===" ",s,a;a=n.exec(t);){var l=a[1],c=a[2];s=c[0]===" ",r+=l+(!i&&!s&&c!==""?`
`:"")+fD(c,e),i=s}return r}function fD(t,e){if(t===""||t[0]===" ")return t;for(var n=/ [^ ]/g,r,i=0,s,a=0,l=0,c="";r=n.exec(t);)l=r.index,l-i>e&&(s=a>i?a:l,c+=`
`+t.slice(i,s),i=s+1),a=l;return c+=`
`,t.length-i>e&&a>i?c+=t.slice(i,a)+`
`+t.slice(a+1):c+=t.slice(i),c.slice(1)}function m4(t){for(var e="",n=0,r,i=0;i<t.length;n>=65536?i+=2:i++)n=Vf(t,i),r=Er[n],!r&&Ff(n)?(e+=t[i],n>=65536&&(e+=t[i+1])):e+=r||a4(n);return e}function g4(t,e,n){var r="",i=t.tag,s,a,l;for(s=0,a=n.length;s<a;s+=1)l=n[s],t.replacer&&(l=t.replacer.call(n,String(s),l)),(Da(t,e,l,!1,!1)||typeof l=="undefined"&&Da(t,e,null,!1,!1))&&(r!==""&&(r+=","+(t.condenseFlow?"":" ")),r+=t.dump);t.tag=i,t.dump="["+r+"]"}function pD(t,e,n,r){var i="",s=t.tag,a,l,c;for(a=0,l=n.length;a<l;a+=1)c=n[a],t.replacer&&(c=t.replacer.call(n,String(a),c)),(Da(t,e+1,c,!0,!0,!1,!0)||typeof c=="undefined"&&Da(t,e+1,null,!0,!0,!1,!0))&&((!r||i!=="")&&(i+=xb(t,e)),t.dump&&Df===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=s,t.dump=i||"[]"}function _4(t,e,n){var r="",i=t.tag,s=Object.keys(n),a,l,c,f,d;for(a=0,l=s.length;a<l;a+=1)d="",r!==""&&(d+=", "),t.condenseFlow&&(d+='"'),c=s[a],f=n[c],t.replacer&&(f=t.replacer.call(n,c,f)),!!Da(t,e,c,!1,!1)&&(t.dump.length>1024&&(d+="? "),d+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),!!Da(t,e,f,!1,!1)&&(d+=t.dump,r+=d));t.tag=i,t.dump="{"+r+"}"}function T4(t,e,n,r){var i="",s=t.tag,a=Object.keys(n),l,c,f,d,m,_;if(t.sortKeys===!0)a.sort();else if(typeof t.sortKeys=="function")a.sort(t.sortKeys);else if(t.sortKeys)throw new Yr("sortKeys must be a boolean or a function");for(l=0,c=a.length;l<c;l+=1)_="",(!r||i!=="")&&(_+=xb(t,e)),f=a[l],d=n[f],t.replacer&&(d=t.replacer.call(n,f,d)),!!Da(t,e+1,f,!0,!0,!0)&&(m=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,m&&(t.dump&&Df===t.dump.charCodeAt(0)?_+="?":_+="? "),_+=t.dump,m&&(_+=xb(t,e)),!!Da(t,e+1,d,!0,m)&&(t.dump&&Df===t.dump.charCodeAt(0)?_+=":":_+=": ",_+=t.dump,i+=_));t.tag=s,t.dump=i||"{}"}function dD(t,e,n){var r,i,s,a,l,c;for(i=n?t.explicitTypes:t.implicitTypes,s=0,a=i.length;s<a;s+=1)if(l=i[s],(l.instanceOf||l.predicate)&&(!l.instanceOf||typeof e=="object"&&e instanceof l.instanceOf)&&(!l.predicate||l.predicate(e))){if(n?l.multi&&l.representName?t.tag=l.representName(e):t.tag=l.tag:t.tag="?",l.represent){if(c=t.styleMap[l.tag]||l.defaultStyle,zL.call(l.represent)==="[object Function]")r=l.represent(e,c);else if(QL.call(l.represent,c))r=l.represent[c](e,c);else throw new Yr("!<"+l.tag+'> tag resolver accepts not "'+c+'" style');t.dump=r}return!0}return!1}function Da(t,e,n,r,i,s,a){t.tag=null,t.dump=n,dD(t,n,!1)||dD(t,n,!0);var l=zL.call(t.dump),c=r,f;r&&(r=t.flowLevel<0||t.flowLevel>e);var d=l==="[object Object]"||l==="[object Array]",m,_;if(d&&(m=t.duplicates.indexOf(n),_=m!==-1),(t.tag!==null&&t.tag!=="?"||_||t.indent!==2&&e>0)&&(i=!1),_&&t.usedDuplicates[m])t.dump="*ref_"+m;else{if(d&&_&&!t.usedDuplicates[m]&&(t.usedDuplicates[m]=!0),l==="[object Object]")r&&Object.keys(t.dump).length!==0?(T4(t,e,t.dump,i),_&&(t.dump="&ref_"+m+t.dump)):(_4(t,e,t.dump),_&&(t.dump="&ref_"+m+" "+t.dump));else if(l==="[object Array]")r&&t.dump.length!==0?(t.noArrayIndent&&!a&&e>0?pD(t,e-1,t.dump,i):pD(t,e,t.dump,i),_&&(t.dump="&ref_"+m+t.dump)):(g4(t,e,t.dump),_&&(t.dump="&ref_"+m+" "+t.dump));else if(l==="[object String]")t.tag!=="?"&&d4(t,t.dump,e,s,c);else{if(l==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new Yr("unacceptable kind of an object to dump "+l)}t.tag!==null&&t.tag!=="?"&&(f=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?f="!"+f:f.slice(0,18)==="tag:yaml.org,2002:"?f="!!"+f.slice(18):f="!<"+f+">",t.dump=f+" "+t.dump)}return!0}function y4(t,e){var n=[],r=[],i,s;for(Sb(t,n,r),i=0,s=r.length;i<s;i+=1)e.duplicates.push(n[r[i]]);e.usedDuplicates=new Array(s)}function Sb(t,e,n){var r,i,s;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)n.indexOf(i)===-1&&n.push(i);else if(e.push(t),Array.isArray(t))for(i=0,s=t.length;i<s;i+=1)Sb(t[i],e,n);else for(r=Object.keys(t),i=0,s=r.length;i<s;i+=1)Sb(t[r[i]],e,n)}function b4(t,e){e=e||{};var n=new l4(e);n.noRefs||y4(t,n);var r=t;return n.replacer&&(r=n.replacer.call({"":r},"",r)),Da(n,0,r,!0,!0)?n.dump+`
`:""}function Pb(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var a9,o9,l9,c9,u9,f9,zn,Yr,d9,h9,m9,xr,y9,b9,v9,N9,x9,I9,k9,V9,B9,j9,W9,Y9,K9,kL,wL,X9,Z9,_b,iK,sK,aK,cK,uK,dK,hK,_K,OL,Po,tm,LL,DL,nm,Tb,TK,ML,yK,bK,vK,FL,VL,UL,jL,Pl,HL,BK,qK,$L,zL,QL,vb,UK,Df,jK,GK,HK,WK,Nb,YK,KK,$K,zK,XL,QK,sm,XK,JK,ZK,e4,JL,ZL,t4,eD,n4,tD,Er,r4,i4,o4,Mf,aD,Eb,oD,lD,lu,v4,N4,cu,N_e,hD,mD,x_e,E_e,S_e,om=C(()=>{a9=CL,o9=t9,l9=n9,c9=i9,u9=s9,f9=r9,zn={isNothing:a9,isObject:o9,toArray:l9,repeat:c9,isNegativeZero:u9,extend:f9};Lf.prototype=Object.create(Error.prototype);Lf.prototype.constructor=Lf;Lf.prototype.toString=function(e){return this.name+": "+AL(this,e)};Yr=Lf;d9=p9,h9=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],m9=["scalar","sequence","mapping"];xr=_9;gb.prototype.extend=function(e){var n=[],r=[];if(e instanceof xr)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new Yr("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(s){if(!(s instanceof xr))throw new Yr("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Yr("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Yr("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(s){if(!(s instanceof xr))throw new Yr("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(gb.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=RL(i,"implicit"),i.compiledExplicit=RL(i,"explicit"),i.compiledTypeMap=T9(i.compiledImplicit,i.compiledExplicit),i};y9=gb,b9=new xr("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),v9=new xr("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),N9=new xr("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),x9=new y9({explicit:[b9,v9,N9]});I9=new xr("tag:yaml.org,2002:null",{kind:"scalar",resolve:E9,construct:S9,predicate:P9,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});k9=new xr("tag:yaml.org,2002:bool",{kind:"scalar",resolve:C9,construct:A9,predicate:R9,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});V9=new xr("tag:yaml.org,2002:int",{kind:"scalar",resolve:D9,construct:M9,predicate:F9,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),B9=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");j9=/^[-+]?[0-9]+e/;W9=new xr("tag:yaml.org,2002:float",{kind:"scalar",resolve:q9,construct:U9,predicate:H9,represent:G9,defaultStyle:"lowercase"}),Y9=x9.extend({implicit:[I9,k9,V9,W9]}),K9=Y9,kL=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),wL=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");X9=new xr("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:$9,construct:z9,instanceOf:Date,represent:Q9});Z9=new xr("tag:yaml.org,2002:merge",{kind:"scalar",resolve:J9}),_b=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;iK=new xr("tag:yaml.org,2002:binary",{kind:"scalar",resolve:eK,construct:tK,predicate:rK,represent:nK}),sK=Object.prototype.hasOwnProperty,aK=Object.prototype.toString;cK=new xr("tag:yaml.org,2002:omap",{kind:"sequence",resolve:oK,construct:lK}),uK=Object.prototype.toString;dK=new xr("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:fK,construct:pK}),hK=Object.prototype.hasOwnProperty;_K=new xr("tag:yaml.org,2002:set",{kind:"mapping",resolve:mK,construct:gK}),OL=K9.extend({implicit:[X9,Z9],explicit:[iK,cK,dK,_K]}),Po=Object.prototype.hasOwnProperty,tm=1,LL=2,DL=3,nm=4,Tb=1,TK=2,ML=3,yK=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,bK=/[\x85\u2028\u2029]/,vK=/[,\[\]\{\}]/,FL=/^(?:!|!!|![a-z\-]+!)$/i,VL=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;UL=new Array(256),jL=new Array(256);for(Pl=0;Pl<256;Pl++)UL[Pl]=qL(Pl)?1:0,jL[Pl]=qL(Pl);HL={YAML:function(e,n,r){var i,s,a;e.version!==null&&Me(e,"duplication of %YAML directive"),r.length!==1&&Me(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&Me(e,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),a=parseInt(i[2],10),s!==1&&Me(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=a<2,a!==1&&a!==2&&rm(e,"unsupported YAML version of the document")},TAG:function(e,n,r){var i,s;r.length!==2&&Me(e,"TAG directive accepts exactly two arguments"),i=r[0],s=r[1],FL.test(i)||Me(e,"ill-formed tag handle (first argument) of the TAG directive"),Po.call(e.tagMap,i)&&Me(e,'there is a previously declared suffix for "'+i+'" tag handle'),VL.test(s)||Me(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{Me(e,"tag prefix is malformed: "+s)}e.tagMap[i]=s}};BK=FK,qK=VK,$L={loadAll:BK,load:qK},zL=Object.prototype.toString,QL=Object.prototype.hasOwnProperty,vb=65279,UK=9,Df=10,jK=13,GK=32,HK=33,WK=34,Nb=35,YK=37,KK=38,$K=39,zK=42,XL=44,QK=45,sm=58,XK=61,JK=62,ZK=63,e4=64,JL=91,ZL=93,t4=96,eD=123,n4=124,tD=125,Er={};Er[0]="\\0";Er[7]="\\a";Er[8]="\\b";Er[9]="\\t";Er[10]="\\n";Er[11]="\\v";Er[12]="\\f";Er[13]="\\r";Er[27]="\\e";Er[34]='\\"';Er[92]="\\\\";Er[133]="\\N";Er[160]="\\_";Er[8232]="\\L";Er[8233]="\\P";r4=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],i4=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;o4=1,Mf=2;aD=1,Eb=2,oD=3,lD=4,lu=5;v4=b4,N4={dump:v4};cu=$L.load,N_e=$L.loadAll,hD=N4.dump,mD=Yr,x_e=Pb("safeLoad","load"),E_e=Pb("safeLoadAll","loadAll"),S_e=Pb("safeDump","dump")});var Cb,gD=C(()=>{He();om();Cb=class{constructor(){this.yamlData=null}isInClassParmaeter(e){let n=null;return e instanceof Mt&&e.logicBranches.length>0&&e.logicBranches[0].head!=null?n=e.logicBranches[0].head:e instanceof J&&(n=e),n!=null&&n.fragmentPosition==1&&n.fragmentParameter!=null&&n.fragmentParameter.name.toLowerCase()=="class"}getPrefix(e){if(e.prev==null||!(e.prev instanceof Et)||e.prev.content.trimRight().length!=e.prev.content.length)return"";let n=e.prev.content.split('"');if(n.length==0)return"";let r=n[n.length-1].split(" ");return r.length==0?"":r[r.length-1].trim()}getSuffix(e){if(e.next==null||!(e.next instanceof Et)||e.next.content.trimLeft().length!=e.next.content.length)return"";let n=e.next.content.split('"');if(n.length==0)return"";let r=n[0].split(" ");return r.length==0?"":r[0].trim()}analyze(e){let n=e.getDocumentParser().getRenderNodes();if(e.hasFrontMatter())try{this.yamlData=cu(e.getFrontMatter())}catch{}return this.analyzeNodes(n)}analyzeNodes(e){let n=[];return e.forEach(r=>{var c;let i=[],s=[],a="",l="";if(this.isInClassParmaeter(r)){let f=[];if(r instanceof Mt){if(r.logicBranches.length==0)return;let d=r.logicBranches[0],m=r.logicBranches[r.logicBranches.length-1];if(d.head==null||m.head==null||m.head.isClosedBy==null)return;let _=m.head.isClosedBy,g=d.head;a=this.getPrefix(g),l=this.getSuffix(_),r.logicBranches.forEach(T=>{if(T.head==null||T.head.children.length!=2||!(T.head.children[0]instanceof Et))return;let N=T.head.children[0].content;N.trim().length==N.length&&(f.includes(N)||f.push(N))})}else if(r instanceof J){if(r.isPaired()){n=n.concat(this.analyzeNodes(r.getStructuralChildren()));return}a=this.getPrefix(r),l=this.getSuffix(r)}if(this.yamlData!=null&&f.length==0&&a.length+l.length>0&&((c=r.getParser())==null?void 0:c.getLanguageParser()).getCreatedVariables().forEach(_=>{if(_.variableReference==null||_.variableReference.pathParts.length!=3||!(_.variableReference.pathParts[0]instanceof yr)||!(_.variableReference.pathParts[1]instanceof yr)||!(_.variableReference.pathParts[2]instanceof Qs))return;let g=_.variableReference.pathParts[0],T=_.variableReference.pathParts[1];if(g.name!="view"||typeof this.yamlData[T.name]=="undefined")return;let N=this.yamlData[T.name],A=[],b=Object.keys(N),x=!0;for(let v=0;v<b.length;v++){let I=N[b[v]];if(typeof I!="string"){x=!1;break}A.push(I)}x&&A.forEach(v=>{f.includes(v)||f.push(v)})}),f.length==0&&a.length+l.length>0){let d="/";a.length>0&&(d+=a),d+="(.*)",l.length>0&&(d+=l),d+="/",s.push(d)}else f.length>0&&f.forEach(d=>{let m=`${a}${d}${l}`;i.push(m)})}else r instanceof J&&r.isPaired()&&(n=n.concat(this.analyzeNodes(r.getImmediateChildren())));(l.length>0||a.length>0)&&(i.length>0||s.length>0)&&n.push({classNames:i,patterns:s,node:r,suffix:l,prefix:a})}),n}}});var lm,x4,_D,TD=C(()=>{Gn();gD();Zt();en();He();sa();lm=he(require("fs")),x4={checkDocument(t,e){var s;if(e.diagnostics.warnOnDynamicCssClassNames==!1)return[];let n=[],r=new Cb().analyze(t);if(r.length==0)return n;let i="";if((s=Oe.instance)==null?void 0:s.hasStructure()){let a=Oe.instance.getStructure().getProjectRoot(),l=[];l.push(a+"tailwind.config.js"),l.push(a+"webpack.mix.js"),l.push(a+"webpack.config.js");for(let c=0;c<l.length;c++)if(lm.existsSync(l[c])){i=lm.readFileSync(l[c],{encoding:"utf8"});break}}return r.forEach(a=>{let l=a.classNames.concat(a.patterns),c=$.makeSyntaxError(R.LINT_DYNAMIC_CLASS_NAMES_POSSIBLE_PURGE,a.node,`Dynamic CSS class name generation detected. Some build tools, like PurgeCSS, may not be able to find these classes. It is recommended to use full class names, or configure a class safelist.
    
Possible Classes: ${l.join(", ")}`,1),f=!0;if(i.trim().length>0){f=!1;for(let _=0;_<l.length;_++)if(i.includes(l[_])==!1){f=!0;break}}if(!f)return;let d=rn(a.node.startPosition),m=rn(a.node.endPosition);if(a.node instanceof Mt){if(a.node.logicBranches.length>0){let _=a.node.logicBranches[0],g=a.node.logicBranches[a.node.logicBranches.length-1];_.head!=null&&g.head!=null&&g.head.isClosedBy!=null&&(d=rn(_.head.startPosition),m=rn(g.head.isClosedBy.endPosition))}}else a.node instanceof J&&(d=rn(a.node.startPosition),m=rn(a.node.endPosition));d.character=d.character-a.prefix.length-1,m.character=m.character+a.suffix.length,c.lsRange={start:d,end:m},c.data=a,n.push(c)}),n}},_D=x4});var E4,yD,bD=C(()=>{Zt();en();E4={checkDocument(t){let e=[];return t.hasFrontMatter()&&t.getContent().trim().length==0&&e.push($.makeSyntaxError(R.LINT_FRONT_MATTER_EMPTY_DOCUMENT,null,'Empty document content with Front Matter will result in "[ErrorException] Undefined index: content".')),e}},yD=E4});function vD(t){let e=t.split(/\r?\n/),n=[];return e.forEach(r=>{let i=r.split("|");if(i.length==1)n.push(r);else if(i.length>1){let s=i[0];if(parseInt(s.trim()).toString()==s.trim()){let a=parseInt(s)+1;i.shift();let l=i.join("|"),c=" ".repeat(s.length-a.toString().length);n.push(c+a.toString()+"|"+l)}else n.push(r)}}),n.join(`
`)}var S4,ND,xD=C(()=>{Zt();en();om();Hl();S4={checkDocument(t){let e=[];if(t.hasFrontMatter()){let n=t.getFrontMatter();try{cu(n,{onWarning:r=>{let i=new Hn,s=new Hn;i.line=r.mark.line+2,i.char=r.mark.column,s.line=r.mark.line+2,s.char=r.mark.snippet.length+r.mark.column;let a={start:i,end:s},l=new $;l.errorCode=R.LINT_INVALID_FRONT_MATTER,l.level=1,l.message=vD(r.message),l.range=a,e.push(l)}})}catch(r){if(r instanceof mD){let i=new Hn,s=new Hn;i.line=r.mark.line+2,i.char=r.mark.column,s.line=r.mark.line+2,s.char=r.mark.snippet.length+r.mark.column;let a={start:i,end:s},l=new $;l.errorCode=R.LINT_INVALID_FRONT_MATTER,l.level=0,l.message=vD(r.message),l.range=a,e.push(l)}}}return e}},ND=S4});var P4,ED,SD=C(()=>{Od();Gn();Zt();en();P4={checkDocument(t){let e=[];return t.getAllAntlersNodes().forEach(n=>{var r,i;if(n.isTagNode&&n.name!=null&&n.getTagName()=="partial"){let s=xc(n);if(s==null)return;let a=(i=(r=Oe.instance)==null?void 0:r.getStructure())==null?void 0:i.findRelativeView(s);if(typeof a=="undefined"||a==null)return;a.documentUri==t.documentUri&&n.findParentOfType(["if","elseif","else"])==null&&e.push($.makeSyntaxError(R.LINT_POSSIBLE_PARTIAL_RECURSION,n,"Possible partial recursion detected",1))}}),e}},ED=P4});var PD,ID=C(()=>{TD();bD();xD();SD();PD=[yD,ND,ED,_D]});var I4,C4,CD,AD=C(()=>{Zt();en();I4=["dump","dd","ddd"],C4={checkNode(t){let e=t.getTagName(),n=[];return I4.includes(e)&&n.push($.makeSyntaxError(R.LINT_DEBUG_DATA_EXPOSED,t,e+" exposes data and should be removed after debugging.",1)),t.modifiers.hasModifier("dump")&&n.push($.makeSyntaxError(R.LINT_DEBUG_DATA_EXPOSED,t,"dump modifier exposes data and should be removed after debugging.",1)),n}},CD=C4});function Ab(t){return t.getDeprecatedMessage!=null?t.getDeprecatedMessage():`${t.name} is deprecated.`}var A4,RD,kD=C(()=>{Zt();en();A4={checkNode(t){let e=[];if(t.modifiers==null)return e;let n=[];if(t.modifiers.hasParameterModifiers())for(let r=0;r<t.modifiers.parameterModifiers.length;r++){let i=t.modifiers.parameterModifiers[r];i.refId!=null&&n.includes(i.refId)==!1&&i.modifier!=null&&i.modifier.isDeprecated&&(e.push($.makeSyntaxError(R.LINT_DEPRECATED_MODIFIER,t.modifiers.parameterModifiers[r],Ab(i.modifier),1)),n.push(i.refId))}if(t.modifiers.hasShorthandModifiers()&&t.modifierChain!=null)for(let r=0;r<t.modifierChain.modifierChain.length;r++){let i=t.modifierChain.modifierChain[r];i.refId!=null&&n.includes(i.refId)==!1&&i.modifier!=null&&i.modifier.isDeprecated&&(e.push($.makeSyntaxError(R.LINT_DEPRECATED_MODIFIER,i,Ab(i.modifier),1)),n.push(i.refId))}if(t.runtimeNodes!=null&&t.runtimeNodes.length>0)for(let r=0;r<t.runtimeNodes.length;r++){let i=t.runtimeNodes[r];if(i.modifierChain!=null)for(let s=0;s<i.modifierChain.modifierChain.length;s++){let a=i.modifierChain.modifierChain[s];a.refId!=null&&n.includes(a.refId)==!1&&a.modifier!=null&&a.modifier.isDeprecated&&(e.push($.makeSyntaxError(R.LINT_DEPRECATED_MODIFIER,a,Ab(a.modifier),1)),n.push(a.refId))}}return e}};RD=A4});var R4,wD,OD=C(()=>{Zt();en();R4={checkNode(t){let e=[];return t.runtimeName().includes("::")&&e.push($.makeSyntaxError(R.LINT_DOUBLE_COLON_IN_TAG_IDENTIFIER,t,":: in tag part leads to ErrorException call_user_func() runtime exception.",1)),e}},wD=R4});var k4,LD,DD=C(()=>{Zt();en();k4={checkNode(t){let e=[];return t.modifiers!=null&&t.modifiers.hasMixedModifierStyles&&e.push($.makeSyntaxError(R.LINT_MIXED_MODIFIERS,t,"Mixed modifier styles is not supported",0)),e}},LD=k4});var w4,MD,FD=C(()=>{Zt();en();w4={checkNode(t){let e=[];if(t.modifiers==null)return e;let n=[];if(t.modifiers.hasParameterModifiers()){let r=null;for(let i=0;i<t.modifiers.parameterModifiers.length;i++){let s=t.modifiers.parameterModifiers[i];if(r==null){r=s;continue}if(r!=null&&r.modifier!=null&&s.modifier!=null){if(r.modifier.returnsType.includes("*")||s.modifier.acceptsType.includes("*"))continue;{let a=r.modifier.returnsType,l="void",c="void",f=s.modifier.acceptsType.some(d=>a.includes(d));if(a.length>0&&(l=a[a.length-1]),s.modifier.acceptsType.length>0&&(c=s.modifier.acceptsType[0]),!f){e.push($.makeSyntaxError(R.LINT_MODIFIER_UNEXPECTED_TYPE,s,"Unexpected type supplied to modifier "+s.name+". Expected "+c+" got "+l+".",1));break}}}}}if(t.modifiers.hasShorthandModifiers()&&t.modifierChain!=null){let r=null;for(let i=0;i<t.modifierChain.modifierChain.length;i++){let s=t.modifierChain.modifierChain[i];if(r==null){r=s;continue}if(r!=null&&r.modifier!=null&&s.modifier!=null){if(r.modifier.returnsType.includes("*")||s.modifier.acceptsType.includes("*"))continue;{let a=r.modifier.returnsType,l="void",c="void",f=s.modifier.acceptsType.some(d=>a.includes(d));if(a.length>0&&(l=a[a.length-1]),s.modifier.acceptsType.length>0&&(c=s.modifier.acceptsType[0]),!f){s.refId!=null&&!n.includes(s.refId)&&(e.push($.makeSyntaxError(R.LINT_MODIFIER_UNEXPECTED_TYPE,s,"Unexpected type supplied to modifier "+s.name+". Expected "+c+" got "+l+".",1)),n.push(s.refId));break}}}}}if(t.runtimeNodes!=null&&t.runtimeNodes.length>0)for(let r=0;r<t.runtimeNodes.length;r++){let i=t.runtimeNodes[r],s=null;if(i.modifierChain!=null)for(let a=0;a<i.modifierChain.modifierChain.length;a++){let l=i.modifierChain.modifierChain[a];if(s==null){s=l;continue}if(s!=null&&s.modifier!=null&&l.modifier!=null){if(s.modifier.returnsType.includes("*")||l.modifier.acceptsType.includes("*"))continue;{let c=s.modifier.returnsType,f="void",d="void",m=l.modifier.acceptsType.some(_=>c.includes(_));if(c.length>0&&(f=c[c.length-1]),l.modifier.acceptsType.length>0&&(d=l.modifier.acceptsType[0]),!m){l.refId!=null&&n.includes(l.refId)==!1&&(e.push($.makeSyntaxError(R.LINT_MODIFIER_UNEXPECTED_TYPE,l,"Unexpected type supplied to modifier "+l.name+". Expected "+d+" got "+f+".",1)),n.push(l.refId));break}}}}}return e}},MD=w4});var VD,BD=C(()=>{VD={warnUnknownParameters:!1}});var Rb,qD=C(()=>{Ls();BD();Rr();Zt();en();Rb=class{static validateInteger(e){return parseInt(e).toString()!==e?{isValid:!1,message:'"'+e+'" is not a valid integer.'}:{isValid:!0,message:""}}static validateBoolean(e){return e=="true"||e=="false"?{isValid:!0,message:""}:{isValid:!1,message:'"'+e+'" is not a valid value. Expecting true/false.'}}static validateParameters(e){var r,i,s,a,l;let n=[];if(e.isTagNode&&((r=Ze.instance)==null?void 0:r.isKnownTag(e.runtimeName()))){let c=(i=Ze.instance)==null?void 0:i.findTag(e.runtimeName());if(e.hasParameters)for(let f=0;f<e.parameters.length;f++){let d=e.parameters[f],m=null,_=!1,g=d.name.trim();if(!d.isVariableReference)if(g=Fi(g,":"),((s=Ze.instance)==null?void 0:s.canResolveDynamicParameter(e.runtimeName()))&&typeof c.resolveDynamicParameter!="undefined"&&c.resolveDynamicParameter!=null?(m=c.resolveDynamicParameter(e,g),_=!0):m=(a=Ze.instance)==null?void 0:a.getParameter(e.runtimeName(),g),_&&m==null&&(m=(l=Ze.instance)==null?void 0:l.getParameter(e.runtimeName(),g)),m==null){if(VD.warnUnknownParameters){let T="";if(c.suggestAlternativeParams!=null){let A=c.suggestAlternativeParams(g);A.length==1?T='. Did you mean "'+A[0]+'"?':A.length>1&&(T=". Try one of the following: "+A.join(", "))}let N='Unknown parameter name: "'+g+'"'+T;n.push($.makeSyntaxError(R.LINT_UNKNOWN_PARAMETER,e,N,1))}}else if(m.validate!=null){let T=m.validate(e,d);T.length>0&&T.forEach(N=>{n.push($.makeSyntaxError(R.LINT_GENERAL_INVALID_PARAMETER_CONTENTS,d,N.message,1))})}else{if(d.hasInterpolations())continue;for(let T=0;T<m.expectsTypes.length;T++){let N=m.expectsTypes[T];if(N=="integer"){let A=this.validateInteger(d.value);A.isValid||n.push($.makeSyntaxError(R.LINT_PARAMETER_CONTENT_INVALID_INTEGER,d,A.message,1))}else if(N=="boolean"){let A=this.validateBoolean(d.value);if(m.name=="paginate"){if(d.value=="true"||d.value=="false")continue;if(parseInt(d.value).toString()!=d.value){let b='Unexpected "'+d.value+'". Expecting a numeric value, or true/false.';n.push($.makeSyntaxError(R.LINT_PAGINATE_INVALID_VALUE,d,b,0))}}else A.isValid||n.push($.makeSyntaxError(R.LINT_PARAMETER_CONTENT_INVALID_BOOLEAN,d,A.message,1))}}}}}return n}}});var O4,UD,jD=C(()=>{qD();O4={checkNode(t,e){return e.diagnostics.validateTagParameters==!1?[]:Rb.validateParameters(t)}},UD=O4});var L4,GD,HD=C(()=>{Od();Gn();Zt();en();L4={checkNode(t){var n,r;let e=[];if(t.isTagNode&&t.name!=null&&t.getTagName()=="partial"){let i=xc(t);if(i==null)return e;let s=(r=(n=Oe.instance)==null?void 0:n.getStructure())==null?void 0:r.findRelativeView(i);if(typeof s=="undefined"||s==null)return e;s.injectsParameters.length>0&&s.injectsParameters.forEach(a=>{a.isRequired&&!t.hasParameter(a.name)&&e.push($.makeSyntaxError(R.LINT_MISSING_REQUIRED_PARAMETER,t,"Missing required parameter: "+a.name,0))})}return e}},GD=L4});var D4,WD,YD=C(()=>{Zt();en();D4={checkNode(t){let e=[];return t.isTagNode&&t.name!=null&&t.getTagName()=="relate"&&e.push($.makeSyntaxError(R.LINT_REMOVE_RELATE_TAG,t,"The `relate` tag is not necessary here, and can be removed.",1)),e}},WD=D4});var M4,KD,$D=C(()=>{Zt();en();So();M4={checkNode(t){let e=[];if(Eo.languageVersion=="runtime")return[];if(t.isClosedBy!=null&&t.modifierChain!=null){let n=t.content.trim(),r=t.isClosedBy.content.trim(),i="/"+n;r!=i&&(e.push($.makeSyntaxError(R.LINT_SHORTHAND_MODIFIER_TAG_MUST_MATCH,t,"Closing tags must match exactly when using shorthand modifiers in tag pairs.",0)),e.push($.makeSyntaxError(R.LINT_SHORTHAND_MODIFIER_TAG_MUST_MATCH,t.isClosedBy,'Closing tags must match exactly when using shorthand modifiers in tag pairs. Expecting: "'+i+'".',0)))}return e}},KD=M4});var $b=oe((tt,u1)=>{tt=u1.exports=xt;var Gt;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?Gt=function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("SEMVER"),console.log.apply(console,t)}:Gt=function(){};tt.SEMVER_SPEC_VERSION="2.0.0";var kb=256,cm=Number.MAX_SAFE_INTEGER||9007199254740991,wb=16,Qt=tt.re=[],ae=tt.src=[],vt=0,uu=vt++;ae[uu]="0|[1-9]\\d*";var fu=vt++;ae[fu]="[0-9]+";var Ob=vt++;ae[Ob]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var zD=vt++;ae[zD]="("+ae[uu]+")\\.("+ae[uu]+")\\.("+ae[uu]+")";var QD=vt++;ae[QD]="("+ae[fu]+")\\.("+ae[fu]+")\\.("+ae[fu]+")";var Lb=vt++;ae[Lb]="(?:"+ae[uu]+"|"+ae[Ob]+")";var Db=vt++;ae[Db]="(?:"+ae[fu]+"|"+ae[Ob]+")";var Mb=vt++;ae[Mb]="(?:-("+ae[Lb]+"(?:\\."+ae[Lb]+")*))";var Fb=vt++;ae[Fb]="(?:-?("+ae[Db]+"(?:\\."+ae[Db]+")*))";var Vb=vt++;ae[Vb]="[0-9A-Za-z-]+";var Bf=vt++;ae[Bf]="(?:\\+("+ae[Vb]+"(?:\\."+ae[Vb]+")*))";var Bb=vt++,XD="v?"+ae[zD]+ae[Mb]+"?"+ae[Bf]+"?";ae[Bb]="^"+XD+"$";var qb="[v=\\s]*"+ae[QD]+ae[Fb]+"?"+ae[Bf]+"?",Ub=vt++;ae[Ub]="^"+qb+"$";var pu=vt++;ae[pu]="((?:<|>)?=?)";var um=vt++;ae[um]=ae[fu]+"|x|X|\\*";var fm=vt++;ae[fm]=ae[uu]+"|x|X|\\*";var Il=vt++;ae[Il]="[v=\\s]*("+ae[fm]+")(?:\\.("+ae[fm]+")(?:\\.("+ae[fm]+")(?:"+ae[Mb]+")?"+ae[Bf]+"?)?)?";var du=vt++;ae[du]="[v=\\s]*("+ae[um]+")(?:\\.("+ae[um]+")(?:\\.("+ae[um]+")(?:"+ae[Fb]+")?"+ae[Bf]+"?)?)?";var JD=vt++;ae[JD]="^"+ae[pu]+"\\s*"+ae[Il]+"$";var ZD=vt++;ae[ZD]="^"+ae[pu]+"\\s*"+ae[du]+"$";var e1=vt++;ae[e1]="(?:^|[^\\d])(\\d{1,"+wb+"})(?:\\.(\\d{1,"+wb+"}))?(?:\\.(\\d{1,"+wb+"}))?(?:$|[^\\d])";var pm=vt++;ae[pm]="(?:~>?)";var dm=vt++;ae[dm]="(\\s*)"+ae[pm]+"\\s+";Qt[dm]=new RegExp(ae[dm],"g");var F4="$1~",t1=vt++;ae[t1]="^"+ae[pm]+ae[Il]+"$";var n1=vt++;ae[n1]="^"+ae[pm]+ae[du]+"$";var hm=vt++;ae[hm]="(?:\\^)";var mm=vt++;ae[mm]="(\\s*)"+ae[hm]+"\\s+";Qt[mm]=new RegExp(ae[mm],"g");var V4="$1^",r1=vt++;ae[r1]="^"+ae[hm]+ae[Il]+"$";var i1=vt++;ae[i1]="^"+ae[hm]+ae[du]+"$";var jb=vt++;ae[jb]="^"+ae[pu]+"\\s*("+qb+")$|^$";var Gb=vt++;ae[Gb]="^"+ae[pu]+"\\s*("+XD+")$|^$";var qf=vt++;ae[qf]="(\\s*)"+ae[pu]+"\\s*("+qb+"|"+ae[Il]+")";Qt[qf]=new RegExp(ae[qf],"g");var B4="$1$2$3",s1=vt++;ae[s1]="^\\s*("+ae[Il]+")\\s+-\\s+("+ae[Il]+")\\s*$";var a1=vt++;ae[a1]="^\\s*("+ae[du]+")\\s+-\\s+("+ae[du]+")\\s*$";var o1=vt++;ae[o1]="(<|>)?=?\\s*\\*";for(Co=0;Co<vt;Co++)Gt(Co,ae[Co]),Qt[Co]||(Qt[Co]=new RegExp(ae[Co]));var Co;tt.parse=Cl;function Cl(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof xt)return t;if(typeof t!="string"||t.length>kb)return null;var n=e.loose?Qt[Ub]:Qt[Bb];if(!n.test(t))return null;try{return new xt(t,e)}catch{return null}}tt.valid=q4;function q4(t,e){var n=Cl(t,e);return n?n.version:null}tt.clean=U4;function U4(t,e){var n=Cl(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null}tt.SemVer=xt;function xt(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof xt){if(t.loose===e.loose)return t;t=t.version}else if(typeof t!="string")throw new TypeError("Invalid Version: "+t);if(t.length>kb)throw new TypeError("version is longer than "+kb+" characters");if(!(this instanceof xt))return new xt(t,e);Gt("SemVer",t,e),this.options=e,this.loose=!!e.loose;var n=t.trim().match(e.loose?Qt[Ub]:Qt[Bb]);if(!n)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>cm||this.major<0)throw new TypeError("Invalid major version");if(this.minor>cm||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>cm||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(function(r){if(/^[0-9]+$/.test(r)){var i=+r;if(i>=0&&i<cm)return i}return r}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}xt.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};xt.prototype.toString=function(){return this.version};xt.prototype.compare=function(t){return Gt("SemVer.compare",this.version,this.options,t),t instanceof xt||(t=new xt(t,this.options)),this.compareMain(t)||this.comparePre(t)};xt.prototype.compareMain=function(t){return t instanceof xt||(t=new xt(t,this.options)),hu(this.major,t.major)||hu(this.minor,t.minor)||hu(this.patch,t.patch)};xt.prototype.comparePre=function(t){if(t instanceof xt||(t=new xt(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var e=0;do{var n=this.prerelease[e],r=t.prerelease[e];if(Gt("prerelease compare",e,n,r),n===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(n===void 0)return-1;if(n===r)continue;return hu(n,r)}while(++e)};xt.prototype.inc=function(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",e),this.inc("pre",e);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+t)}return this.format(),this.raw=this.version,this};tt.inc=j4;function j4(t,e,n,r){typeof n=="string"&&(r=n,n=void 0);try{return new xt(t,n).inc(e,r).version}catch{return null}}tt.diff=G4;function G4(t,e){if(Hb(t,e))return null;var n=Cl(t),r=Cl(e),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var s="prerelease"}for(var a in n)if((a==="major"||a==="minor"||a==="patch")&&n[a]!==r[a])return i+a;return s}tt.compareIdentifiers=hu;var l1=/^[0-9]+$/;function hu(t,e){var n=l1.test(t),r=l1.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1}tt.rcompareIdentifiers=H4;function H4(t,e){return hu(e,t)}tt.major=W4;function W4(t,e){return new xt(t,e).major}tt.minor=Y4;function Y4(t,e){return new xt(t,e).minor}tt.patch=K4;function K4(t,e){return new xt(t,e).patch}tt.compare=Ma;function Ma(t,e,n){return new xt(t,n).compare(new xt(e,n))}tt.compareLoose=$4;function $4(t,e){return Ma(t,e,!0)}tt.rcompare=z4;function z4(t,e,n){return Ma(e,t,n)}tt.sort=Q4;function Q4(t,e){return t.sort(function(n,r){return tt.compare(n,r,e)})}tt.rsort=X4;function X4(t,e){return t.sort(function(n,r){return tt.rcompare(n,r,e)})}tt.gt=Uf;function Uf(t,e,n){return Ma(t,e,n)>0}tt.lt=gm;function gm(t,e,n){return Ma(t,e,n)<0}tt.eq=Hb;function Hb(t,e,n){return Ma(t,e,n)===0}tt.neq=c1;function c1(t,e,n){return Ma(t,e,n)!==0}tt.gte=Wb;function Wb(t,e,n){return Ma(t,e,n)>=0}tt.lte=Yb;function Yb(t,e,n){return Ma(t,e,n)<=0}tt.cmp=_m;function _m(t,e,n,r){switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return Hb(t,n,r);case"!=":return c1(t,n,r);case">":return Uf(t,n,r);case">=":return Wb(t,n,r);case"<":return gm(t,n,r);case"<=":return Yb(t,n,r);default:throw new TypeError("Invalid operator: "+e)}}tt.Comparator=Qi;function Qi(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof Qi){if(t.loose===!!e.loose)return t;t=t.value}if(!(this instanceof Qi))return new Qi(t,e);Gt("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===jf?this.value="":this.value=this.operator+this.semver.version,Gt("comp",this)}var jf={};Qi.prototype.parse=function(t){var e=this.options.loose?Qt[jb]:Qt[Gb],n=t.match(e);if(!n)throw new TypeError("Invalid comparator: "+t);this.operator=n[1],this.operator==="="&&(this.operator=""),n[2]?this.semver=new xt(n[2],this.options.loose):this.semver=jf};Qi.prototype.toString=function(){return this.value};Qi.prototype.test=function(t){return Gt("Comparator.test",t,this.options.loose),this.semver===jf?!0:(typeof t=="string"&&(t=new xt(t,this.options)),_m(t,this.operator,this.semver,this.options))};Qi.prototype.intersects=function(t,e){if(!(t instanceof Qi))throw new TypeError("a Comparator is required");(!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1});var n;if(this.operator==="")return n=new bn(t.value,e),Tm(this.value,n,e);if(t.operator==="")return n=new bn(this.value,e),Tm(t.semver,n,e);var r=(this.operator===">="||this.operator===">")&&(t.operator===">="||t.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(t.operator==="<="||t.operator==="<"),s=this.semver.version===t.semver.version,a=(this.operator===">="||this.operator==="<=")&&(t.operator===">="||t.operator==="<="),l=_m(this.semver,"<",t.semver,e)&&(this.operator===">="||this.operator===">")&&(t.operator==="<="||t.operator==="<"),c=_m(this.semver,">",t.semver,e)&&(this.operator==="<="||this.operator==="<")&&(t.operator===">="||t.operator===">");return r||i||s&&a||l||c};tt.Range=bn;function bn(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof bn)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new bn(t.raw,e);if(t instanceof Qi)return new bn(t.value,e);if(!(this instanceof bn))return new bn(t,e);if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map(function(n){return this.parseRange(n.trim())},this).filter(function(n){return n.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+t);this.format()}bn.prototype.format=function(){return this.range=this.set.map(function(t){return t.join(" ").trim()}).join("||").trim(),this.range};bn.prototype.toString=function(){return this.range};bn.prototype.parseRange=function(t){var e=this.options.loose;t=t.trim();var n=e?Qt[a1]:Qt[s1];t=t.replace(n,o5),Gt("hyphen replace",t),t=t.replace(Qt[qf],B4),Gt("comparator trim",t,Qt[qf]),t=t.replace(Qt[dm],F4),t=t.replace(Qt[mm],V4),t=t.split(/\s+/).join(" ");var r=e?Qt[jb]:Qt[Gb],i=t.split(" ").map(function(s){return Z4(s,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(s){return!!s.match(r)})),i=i.map(function(s){return new Qi(s,this.options)},this),i};bn.prototype.intersects=function(t,e){if(!(t instanceof bn))throw new TypeError("a Range is required");return this.set.some(function(n){return n.every(function(r){return t.set.some(function(i){return i.every(function(s){return r.intersects(s,e)})})})})};tt.toComparators=J4;function J4(t,e){return new bn(t,e).set.map(function(n){return n.map(function(r){return r.value}).join(" ").trim().split(" ")})}function Z4(t,e){return Gt("comp",t,e),t=n5(t,e),Gt("caret",t),t=e5(t,e),Gt("tildes",t),t=i5(t,e),Gt("xrange",t),t=a5(t,e),Gt("stars",t),t}function Kr(t){return!t||t.toLowerCase()==="x"||t==="*"}function e5(t,e){return t.trim().split(/\s+/).map(function(n){return t5(n,e)}).join(" ")}function t5(t,e){var n=e.loose?Qt[n1]:Qt[t1];return t.replace(n,function(r,i,s,a,l){Gt("tilde",t,r,i,s,a,l);var c;return Kr(i)?c="":Kr(s)?c=">="+i+".0.0 <"+(+i+1)+".0.0":Kr(a)?c=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":l?(Gt("replaceTilde pr",l),c=">="+i+"."+s+"."+a+"-"+l+" <"+i+"."+(+s+1)+".0"):c=">="+i+"."+s+"."+a+" <"+i+"."+(+s+1)+".0",Gt("tilde return",c),c})}function n5(t,e){return t.trim().split(/\s+/).map(function(n){return r5(n,e)}).join(" ")}function r5(t,e){Gt("caret",t,e);var n=e.loose?Qt[i1]:Qt[r1];return t.replace(n,function(r,i,s,a,l){Gt("caret",t,r,i,s,a,l);var c;return Kr(i)?c="":Kr(s)?c=">="+i+".0.0 <"+(+i+1)+".0.0":Kr(a)?i==="0"?c=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":c=">="+i+"."+s+".0 <"+(+i+1)+".0.0":l?(Gt("replaceCaret pr",l),i==="0"?s==="0"?c=">="+i+"."+s+"."+a+"-"+l+" <"+i+"."+s+"."+(+a+1):c=">="+i+"."+s+"."+a+"-"+l+" <"+i+"."+(+s+1)+".0":c=">="+i+"."+s+"."+a+"-"+l+" <"+(+i+1)+".0.0"):(Gt("no pr"),i==="0"?s==="0"?c=">="+i+"."+s+"."+a+" <"+i+"."+s+"."+(+a+1):c=">="+i+"."+s+"."+a+" <"+i+"."+(+s+1)+".0":c=">="+i+"."+s+"."+a+" <"+(+i+1)+".0.0"),Gt("caret return",c),c})}function i5(t,e){return Gt("replaceXRanges",t,e),t.split(/\s+/).map(function(n){return s5(n,e)}).join(" ")}function s5(t,e){t=t.trim();var n=e.loose?Qt[ZD]:Qt[JD];return t.replace(n,function(r,i,s,a,l,c){Gt("xRange",t,r,i,s,a,l,c);var f=Kr(s),d=f||Kr(a),m=d||Kr(l),_=m;return i==="="&&_&&(i=""),f?i===">"||i==="<"?r="<0.0.0":r="*":i&&_?(d&&(a=0),l=0,i===">"?(i=">=",d?(s=+s+1,a=0,l=0):(a=+a+1,l=0)):i==="<="&&(i="<",d?s=+s+1:a=+a+1),r=i+s+"."+a+"."+l):d?r=">="+s+".0.0 <"+(+s+1)+".0.0":m&&(r=">="+s+"."+a+".0 <"+s+"."+(+a+1)+".0"),Gt("xRange return",r),r})}function a5(t,e){return Gt("replaceStars",t,e),t.trim().replace(Qt[o1],"")}function o5(t,e,n,r,i,s,a,l,c,f,d,m,_){return Kr(n)?e="":Kr(r)?e=">="+n+".0.0":Kr(i)?e=">="+n+"."+r+".0":e=">="+e,Kr(c)?l="":Kr(f)?l="<"+(+c+1)+".0.0":Kr(d)?l="<"+c+"."+(+f+1)+".0":m?l="<="+c+"."+f+"."+d+"-"+m:l="<="+l,(e+" "+l).trim()}bn.prototype.test=function(t){if(!t)return!1;typeof t=="string"&&(t=new xt(t,this.options));for(var e=0;e<this.set.length;e++)if(l5(this.set[e],t,this.options))return!0;return!1};function l5(t,e,n){for(var r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(r=0;r<t.length;r++)if(Gt(t[r].semver),t[r].semver!==jf&&t[r].semver.prerelease.length>0){var i=t[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}tt.satisfies=Tm;function Tm(t,e,n){try{e=new bn(e,n)}catch{return!1}return e.test(t)}tt.maxSatisfying=c5;function c5(t,e,n){var r=null,i=null;try{var s=new bn(e,n)}catch{return null}return t.forEach(function(a){s.test(a)&&(!r||i.compare(a)===-1)&&(r=a,i=new xt(r,n))}),r}tt.minSatisfying=u5;function u5(t,e,n){var r=null,i=null;try{var s=new bn(e,n)}catch{return null}return t.forEach(function(a){s.test(a)&&(!r||i.compare(a)===1)&&(r=a,i=new xt(r,n))}),r}tt.minVersion=f5;function f5(t,e){t=new bn(t,e);var n=new xt("0.0.0");if(t.test(n)||(n=new xt("0.0.0-0"),t.test(n)))return n;n=null;for(var r=0;r<t.set.length;++r){var i=t.set[r];i.forEach(function(s){var a=new xt(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!n||Uf(n,a))&&(n=a);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+s.operator)}})}return n&&t.test(n)?n:null}tt.validRange=p5;function p5(t,e){try{return new bn(t,e).range||"*"}catch{return null}}tt.ltr=d5;function d5(t,e,n){return Kb(t,e,"<",n)}tt.gtr=h5;function h5(t,e,n){return Kb(t,e,">",n)}tt.outside=Kb;function Kb(t,e,n,r){t=new xt(t,r),e=new bn(e,r);var i,s,a,l,c;switch(n){case">":i=Uf,s=Yb,a=gm,l=">",c=">=";break;case"<":i=gm,s=Wb,a=Uf,l="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Tm(t,e,r))return!1;for(var f=0;f<e.set.length;++f){var d=e.set[f],m=null,_=null;if(d.forEach(function(g){g.semver===jf&&(g=new Qi(">=0.0.0")),m=m||g,_=_||g,i(g.semver,m.semver,r)?m=g:a(g.semver,_.semver,r)&&(_=g)}),m.operator===l||m.operator===c||(!_.operator||_.operator===l)&&s(t,_.semver))return!1;if(_.operator===c&&a(t,_.semver))return!1}return!0}tt.prerelease=m5;function m5(t,e){var n=Cl(t,e);return n&&n.prerelease.length?n.prerelease:null}tt.intersects=g5;function g5(t,e,n){return t=new bn(t,n),e=new bn(e,n),t.intersects(e)}tt.coerce=_5;function _5(t){if(t instanceof xt)return t;if(typeof t!="string")return null;var e=t.match(Qt[e1]);return e==null?null:Cl(e[1]+"."+(e[2]||"0")+"."+(e[3]||"0"))}});var f1,T5,p1,d1=C(()=>{Ls();Gn();Zt();en();f1=he($b()),T5={checkNode(t){var i,s,a;let e=[];if(t.isOpenedBy!=null||!((i=Oe.instance)==null?void 0:i.hasStructure()))return e;let n=Oe.instance.getStructure().getStatamicVersion();if(n==null||n.trim().length==0||!((s=Ze.instance)==null?void 0:s.isKnownTag(t.runtimeName())))return e;let r=(a=Ze.instance)==null?void 0:a.findTag(t.runtimeName());if((r==null?void 0:r.introducedIn)==null)return e;try{f1.lt(n,r.introducedIn)&&e.push($.makeSyntaxError(R.LINT_VERSION_NOT_COMPATIBLE,t,t.runtimeName()+" requires at least Statamic "+r.introducedIn+". Current project version: "+n,1))}catch{}return e}},p1=T5});var y5,h1,m1=C(()=>{Zt();en();y5={checkNode(t){let e=[];return t.isTagNode&&t.getTagName()=="set"&&e.push($.makeSyntaxError(R.LINT_SET_PRODUCES_RUNTIME_ERROR,t,'`set` tag will produce "array_merge(): Expected parameter 1 to be an array, object given" runtime exception.')),e}},h1=y5});var b5,g1,_1=C(()=>{AD();kD();OD();fb();DD();FD();jD();HD();YD();$D();d1();m1();b5=[CD,LD,MD,RD,wD,WD,h1,KD,p1,Jh,GD,UD],g1=b5});var Ao,Pi,ym=C(()=>{So();ID();_1();Ao=class{constructor(){this.fileDiagnostics=new Map;this.handlers=[];this.docHandlers=[]}registerHandler(e){this.handlers.push(e)}registerDocumentHandler(e){this.docHandlers.push(e)}registerDocumentHandlers(e){for(let n=0;n<e.length;n++)this.registerDocumentHandler(e[n])}registerHandlers(e){for(let n=0;n<e.length;n++)this.registerHandler(e[n])}registerCoreHandlers(){this.registerHandlers(g1),this.registerDocumentHandlers(PD)}hasDiagnosticsIssues(e){return this.fileDiagnostics.has(e)==!1?!1:this.fileDiagnostics.get(e).length>0}registerDiagnostics(e,n){this.fileDiagnostics.set(e,n)}clearIssues(e){this.fileDiagnostics.set(e,[])}getDiagnostics(e){return this.hasDiagnosticsIssues(e)?this.fileDiagnostics.get(e):[]}checkDocument(e){let n=[],r=Ro();return this.docHandlers.forEach(i=>{i.checkDocument(e,r).forEach(s=>{n.push(s)})}),n}checkNode(e){let n=[];if(e.isComment)return n;let r=Ro();return this.handlers.forEach(i=>{i.checkNode(e,r).forEach(s=>{n.push(s)})}),n}getAllDiagnostics(){let e=[];return this.fileDiagnostics.forEach((n,r)=>{for(let i=0;i<n.length;i++)e.push(n[i])}),e}};Ao.instance=null;(typeof Ao.instance=="undefined"||Ao.instance==null)&&(Ao.instance=new Ao,Ao.instance.registerCoreHandlers());Pi=Ao});var zb=oe((lye,T1)=>{"use strict";var bm=require("path");function v5(t){if(typeof t!="string"||t.length<=7||t.substring(0,7)!=="file://")throw new TypeError("must pass in a file:// URI to convert to a file path");let e=decodeURI(t.substring(7)),n=e.indexOf("/"),r=e.substring(0,n),i=e.substring(n+1);return r==="localhost"&&(r=""),r&&(r=bm.sep+bm.sep+r),i=i.replace(/^(.+)\|/,"$1:"),bm.sep==="\\"&&(i=i.replace(/\//g,"\\")),/^.+:/.test(i)||(i=bm.sep+i),r+i}T1.exports=v5});function Fa(t){return t.split("\\").join("/")}function y1(t){let e=N5(decodeURIComponent(t));return Fa(e)}var N5,vm=C(()=>{N5=zb()});var mu,b1,v1,Xb,Qb,Gf,Jb=C(()=>{mu=he(nr());Gn();vm();b1=he(require("fs")),v1=he(require("path"));So();Xb=class{constructor(){this.activeRequest=null}getName(e){return"Extract to Partial"}canHandle(e){return e.selectedText.trim().length>0}refactor(e){this.activeRequest=e,Xb.currentAction=this;let n=this.getName(e);return[mu.CodeAction.create(n+"...",mu.Command.create(n,"antlers.extractToPartial",e.documentUri),mu.CodeActionKind.RefactorExtract)]}completeRefactor(e){var r;let n=(r=Oe.instance)==null?void 0:r.getStructure();if(n!=null&&this.activeRequest!=null){let i=Fa(n.getViewPath()),s=Fa(e.fsPath);if(s.startsWith(i)){b1.writeFileSync(e.fsPath,this.activeRequest.selectedText);let a=s.substring(i.length),l=v1.basename(s);l.startsWith("_")&&(l=l.substr(1)),a=a.substr(0,a.length-l.length),l.endsWith(".antlers.html")?l=l.substring(0,l.length-13):l.endsWith(".antlers.xml")||l.endsWith("antlers.php")?l=l.substring(0,l.length-12):l.endsWith(".blade.php")?l=l.substring(0,l.length-10):l.endsWith(".html")&&(l=l.substring(0,l.length-5)),a.length>1&&a.endsWith("/")==!1&&(a=a+"/");let c="{{ partial:"+a+l+" }}",f={range:this.activeRequest.actionParams.range,newText:c},d={changes:{[this.activeRequest.actionParams.textDocument.uri]:[f]}};N1(d)}}}},Qb=Xb;Qb.currentAction=null;Gf=Qb});var Nm,xm,Zb=C(()=>{He();Xa();Nm=class{static isFlatCondition(e){var i;if(e.chain.length>1&&((i=e.logicBranches[1].head)==null?void 0:i.getTagName())!="else")return!1;let n=e.logicBranches[0].nodes,r=!1;for(let s=0;s<n.length;s++)if(n[s]instanceof Mt){r=!0;break}if(r)for(let s=0;s<n.length;s++){let a=n[s];if(a instanceof Et&&a.content.trim().length!=0)return!1}for(let s=0;s<n.length;s++){let a=n[s];if(a instanceof Mt&&!Nm.isFlatCondition(a)||a instanceof J&&!Xn.isConditionalStructure(a)&&a.isClosingTag)return!1}return!0}static getCleanChildren(e){let n=[],r=[];for(let i=0;i<e.nodes.length;i++){let s=e.nodes[i];if(s.startPosition==null)break;if(!r.includes(s.startPosition.index))s instanceof Et?s.content.trim().length>0&&n.push(s):n.push(s),r.push(s.startPosition.index);else break}return n.pop(),n}static unwrapFlattenedConditions(e){let n={body:[],conditions:[]};return e.logicBranches.forEach(r=>{if(r.head==null)return;n.conditions.push(r.head);let i=this.getCleanChildren(r);if(i.length==1&&i[0]instanceof Mt){let s=this.unwrapFlattenedConditions(i[0]);n.conditions=n.conditions.concat(s.conditions),n.body=n.body.concat(s.body)}else i.length==1?n.body.push(i[0]):i.forEach(s=>{if(s instanceof Mt){let a=this.unwrapFlattenedConditions(s);n.conditions=n.conditions.concat(a.conditions),n.body=n.body.concat(a.body)}else{if(s instanceof J&&Xn.isConditionalStructure(s))return;n.body.push(s)}})}),n}},xm=Nm});var Em,x1=C(()=>{Rr();Zb();He();Em=class{constructor(e){this.refactoredStyle=0;this.params=e}isSimpleElse(e){var n;return e.logicBranches.length==2&&((n=e.logicBranches[1].head)==null?void 0:n.getTagName())=="else"}getRefactorMode(){return this.refactoredStyle}refactor(e){let n="";return this.params.refactorNested?(n=this.createdNestedGatekeeper(e),this.refactoredStyle=1):e.logicBranches.length==1?(n=this.createGatekeeper(e),this.refactoredStyle=1):this.isSimpleElse(e)&&(n=this.createTernary(e),this.refactoredStyle=0),this.params.isInInterpolation?"{"+n+"}":"{{ "+n+" }}"}createdNestedGatekeeper(e){let n=xm.unwrapFlattenedConditions(e),r=[],i=[];n.conditions.forEach(l=>{let c=l.getContent().trim();l.runtimeNodes.length>1&&(c.startsWith("(")==!1&&(c="("+c),c.endsWith(")")==!1&&(c=c+")"),this.shouldAddEndingParenthesis(l)&&(c+=")")),r.push(c)}),n.body.forEach(l=>{l instanceof J?i.push(l.getNodeDocumentText()):l instanceof Et&&i.push(l.content)}),i.length>0&&(i[0]=i[0].trimLeft(),i[i.length-1]=i[i.length-1].trimRight());let s=r.join(" && "),a=i.join("");return"("+s+") ?= "+this.convertToString(a)}convertToString(e){let n=e;return n=En(n,"{{","{"),n=En(n,"}}","}"),"'"+En(n,"'","\\'")+"'"}createTernary(e){var c;let n=e.logicBranches[0].head,r=e.logicBranches[1].head,i=this.convertToString((c=n.getInnerDocumentText())!=null?c:""),s=this.convertToString(r.getInnerDocumentText()),l=n.getContent().trim();return l.startsWith("(")==!1&&(l="("+l),l.endsWith(")")==!1&&(l=l+")"),this.shouldAddEndingParenthesis(n)&&(l+=")"),l+" ? "+i+" : "+s}shouldAddEndingParenthesis(e){return e.originalNode==null?!1:e.originalNode.getTagName()=="unless"}createGatekeeper(e){var a;let n=e.logicBranches[0].head,r=(a=n.getInnerDocumentText())!=null?a:"",i=this.convertToString(r),s="";return n.runtimeNodes.length>1?s="("+n.getContent().trim()+")":s=n.getContent(),s.trim()+" ?= "+i}}});var E1,S1,P1,I1=C(()=>{E1=he(nr());Zb();Xa();Ay();He();x1();S1=class{constructor(){this.condition=null;this.isNestedConditions=!1;this.refactorStyle=0}getName(e){return this.refactorStyle==1?"Convert Condition to Gatekeeper operator":"Convert Condition to Ternary"}canHandle(e){if(e.selectedDocument.hasUnclosedStructures()||e.selectedDocument.hasUnclosedStructures()||e.selectedDocument.errors.hasAny())return!1;let n=e.selectedDocument.getAllAntlersNodes(),r=new Gc,i=0,s=0;for(let l=0;l<n.length;l++)if(n[l].isClosingTag){if(Xn.isConditionalStructure(n[l])){s+=1;continue}if(i+=1,i>1)return!1}let a=r.associate(n,e.ownerDocument.getDocumentParser());if(a.length==1&&a[0]instanceof Mt){if(this.condition=a[0],this.isNestedConditions=!1,s>2){if(!xm.isFlatCondition(this.condition))return this.isNestedConditions=!1,!1;this.isNestedConditions=!0}return!0}return!1}refactor(e){if(this.condition==null)return[];let n=[],r=!1;e.params.currentNode!=null&&e.params.currentNode.getTagName()!="if"&&(r=!0);let i=new Em({isInInterpolation:r,refactorNested:this.isNestedConditions}),s=i.refactor(this.condition);this.refactorStyle=i.getRefactorMode();let a={range:e.actionParams.range,newText:s};return n.push({title:this.getName(e),kind:E1.CodeActionKind.RefactorRewrite,edit:{changes:{[e.documentUri]:[a]}}}),n}},P1=S1});var C1,A1,R1=C(()=>{Jb();I1();C1=class{static getRefactors(e){let n=[],r=[];return r.push(new Gf),r.push(new P1),r.forEach(i=>{i.canHandle(e)&&i.refactor(e).forEach(s=>{n.push(s)})}),n}},A1=C1});function w1(t){ev=t}function O1(t){var m,_;if(((m=Oe.instance)==null?void 0:m.hasStructure())==!1)return[];et.refreshDocumentState();let e=decodeURIComponent(t.textDocument.uri);if(et.hasDocument(e)==!1)return[];if(!Ms.has(e))return[];let n=t.range.start,r=Zr(n,e,Eo.showGeneralSnippetCompletions);if(r==null)return[];let i=Ms.get(e),s=i.getText(t.range),a=nn.fromText(s.trim()),l={params:r,selectedText:s,selectedDocument:a,ownerDocument:et.getDocument(e),documentUri:t.textDocument.uri,actionParams:t},c=A1.getRefactors(l),f=(_=Pi.instance)==null?void 0:_.getDiagnostics(e),d=[];return f!=null&&f.length>0&&(f==null||f.forEach(g=>{var T,N,A,b,x,v;if(g.errorCode==R.LINT_DYNAMIC_CLASS_NAMES_POSSIBLE_PURGE){let I=g.data;if(g.node instanceof Mt){let O="";for(let ue=0;ue<g.node.logicBranches.length;ue++){let de=g.node.logicBranches[ue];ue==g.node.logicBranches.length-1?(O+=`{{${(T=de.head)==null?void 0:T.getTrueNode().sourceContent}}}`,O+=`${I.prefix}${(N=de.head)==null?void 0:N.documentText}${I.suffix}`,O+=`{{${(b=(A=de.head)==null?void 0:A.isClosedBy)==null?void 0:b.getTrueNode().sourceContent}}}`):(O+=`{{${(x=de.head)==null?void 0:x.getTrueNode().sourceContent}}}`,O+=`${I.prefix}${(v=de.head)==null?void 0:v.documentText}${I.suffix}`)}let X={range:g.lsRange,newText:O},Y=[];ev.length>0&&ev.forEach(ue=>{ue.range==g.lsRange&&Y.push(ue)});let te="";I.suffix.length>0&&I.prefix.length>0?te=`${I.prefix}...${I.suffix}`:I.suffix.length>0?te=`...${I.suffix}`:I.prefix.length>0&&(te=`${I.prefix}...`),I.classNames.length==1&&I.patterns.length==0&&(te=I.classNames[0]),c.push({title:"Dynamic CSS Class: "+te,kind:k1.CodeActionKind.QuickFix,diagnostics:Y,edit:{changes:{[t.textDocument.uri]:[X]}}})}}})),c}var k1,ev,tv=C(()=>{k1=he(nr());ym();qr();Gn();xo();R1();Ds();en();He();So();ev=[]});function L1(t,e){let n=decodeURIComponent(t);et.createOrUpdate(n,e)}function nv(t){let e=decodeURIComponent(t.uri);et.createOrUpdate(decodeURIComponent(t.uri),t.getText()),Ms.set(e,t)}async function rv(t,e){var i;let n=decodeURIComponent(t.uri);et.createOrUpdate(n,t.getText());let r=[];if(et.hasDocument(n)){let s=et.getDocument(n);if(em(s.errors.all()).forEach(a=>{r.push(a)}),(i=Pi.instance)==null?void 0:i.hasDiagnosticsIssues(n)){let a=Pi.instance.getDiagnostics(n);em(a).forEach(l=>{r.push(l)})}}w1(r),e.sendDiagnostics({uri:t.uri,diagnostics:r}),x5(t.uri,e)}function x5(t,e){var n,r,i;if((n=Oe.instance)==null?void 0:n.hasStructure()){let s=Oe.instance.getStructure().getViews();for(let a=0;a<s.length;a++)if(s[a].documentUri!=t){let l=decodeURIComponent(s[a].documentUri);if((r=Pi.instance)==null?void 0:r.hasDiagnosticsIssues(l)){let c=[],f=(i=Pi.instance)==null?void 0:i.getDiagnostics(l);em(f).forEach(d=>{c.push(d)}),e.sendDiagnostics({uri:s[a].originalDocumentUri,diagnostics:c})}}}}var D1=C(()=>{ym();qr();Gn();sa();tv()});function iv(t){Hf=t}var Hf,sv=C(()=>{Hf=null});var Wf,av=C(()=>{om();Wf=class{static formatFrontMatter(e){try{let n=cu(e,{}),r=hD(n,{indent:2,noArrayIndent:!1,condenseFlow:!1,forceQuotes:!0,noRefs:!0,skipInvalid:!0});return r.endsWith(`
`)&&(r=r.trimEnd()),r}catch{return e}}}});function ti(t,e,n){if(t&&t.hasOwnProperty(e)){let r=t[e];if(r!==null)return r}return n}function M1(t,e,n){let r=ti(t,e,null);return typeof r=="string"?r.length>0?r.split(",").map(i=>i.trim().toLowerCase()):[]:n}var F1=C(()=>{});var Sm=oe((lbe,V1)=>{"use strict";function ir(t){this.__parent=t,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}ir.prototype.clone_empty=function(){var t=new ir(this.__parent);return t.set_indent(this.__indent_count,this.__alignment_count),t};ir.prototype.item=function(t){return t<0?this.__items[this.__items.length+t]:this.__items[t]};ir.prototype.has_match=function(t){for(var e=this.__items.length-1;e>=0;e--)if(this.__items[e].match(t))return!0;return!1};ir.prototype.set_indent=function(t,e){this.is_empty()&&(this.__indent_count=t||0,this.__alignment_count=e||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))};ir.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)};ir.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count};ir.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;return t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),t.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),t.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,t.__items[0]===" "&&(t.__items.splice(0,1),t.__character_count-=1),!0}return!1};ir.prototype.is_empty=function(){return this.__items.length===0};ir.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]};ir.prototype.push=function(t){this.__items.push(t);var e=t.lastIndexOf(`
`);e!==-1?this.__character_count=t.length-e:this.__character_count+=t.length};ir.prototype.pop=function(){var t=null;return this.is_empty()||(t=this.__items.pop(),this.__character_count-=t.length),t};ir.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)};ir.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)};ir.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1};ir.prototype.toString=function(){var t="";return this.is_empty()?this.__parent.indent_empty_lines&&(t=this.__parent.get_indent_string(this.__indent_count)):(t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),t+=this.__items.join("")),t};function Yf(t,e){this.__cache=[""],this.__indent_size=t.indent_size,this.__indent_string=t.indent_char,t.indent_with_tabs||(this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)),e=e||"",t.indent_level>0&&(e=new Array(t.indent_level+1).join(this.__indent_string)),this.__base_string=e,this.__base_string_length=e.length}Yf.prototype.get_indent_size=function(t,e){var n=this.__base_string_length;return e=e||0,t<0&&(n=0),n+=t*this.__indent_size,n+=e,n};Yf.prototype.get_indent_string=function(t,e){var n=this.__base_string;return e=e||0,t<0&&(t=0,n=""),e+=t*this.__indent_size,this.__ensure_cache(e),n+=this.__cache[e],n};Yf.prototype.__ensure_cache=function(t){for(;t>=this.__cache.length;)this.__add_column()};Yf.prototype.__add_column=function(){var t=this.__cache.length,e=0,n="";this.__indent_size&&t>=this.__indent_size&&(e=Math.floor(t/this.__indent_size),t-=e*this.__indent_size,n=new Array(e+1).join(this.__indent_string)),t&&(n+=new Array(t+1).join(" ")),this.__cache.push(n)};function sr(t,e){this.__indent_cache=new Yf(t,e),this.raw=!1,this._end_with_newline=t.end_with_newline,this.indent_size=t.indent_size,this.wrap_line_length=t.wrap_line_length,this.indent_empty_lines=t.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new ir(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}sr.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)};sr.prototype.get_line_number=function(){return this.__lines.length};sr.prototype.get_indent_string=function(t,e){return this.__indent_cache.get_indent_string(t,e)};sr.prototype.get_indent_size=function(t,e){return this.__indent_cache.get_indent_size(t,e)};sr.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()};sr.prototype.add_new_line=function(t){return this.is_empty()||!t&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)};sr.prototype.get_code=function(t){this.trim(!0);var e=this.current_line.pop();e&&(e[e.length-1]===`
`&&(e=e.replace(/\n+$/g,"")),this.current_line.push(e)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join(`
`);return t!==`
`&&(n=n.replace(/[\n]/g,t)),n};sr.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()};sr.prototype.set_indent=function(t,e){return t=t||0,e=e||0,this.next_line.set_indent(t,e),this.__lines.length>1?(this.current_line.set_indent(t,e),!0):(this.current_line.set_indent(),!1)};sr.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1};sr.prototype.add_token=function(t){this.__add_space_before_token(),this.current_line.push(t),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()};sr.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))};sr.prototype.remove_indent=function(t){for(var e=this.__lines.length;t<e;)this.__lines[t]._remove_indent(),t++;this.current_line._remove_wrap_indent()};sr.prototype.trim=function(t){for(t=t===void 0?!1:t,this.current_line.trim();t&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null};sr.prototype.just_added_newline=function(){return this.current_line.is_empty()};sr.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()};sr.prototype.ensure_empty_line_above=function(t,e){for(var n=this.__lines.length-2;n>=0;){var r=this.__lines[n];if(r.is_empty())break;if(r.item(0).indexOf(t)!==0&&r.item(-1)!==e){this.__lines.splice(n+1,0,new ir(this)),this.previous_line=this.__lines[this.__lines.length-2];break}n--}};V1.exports.Output=sr});var ov=oe((cbe,B1)=>{"use strict";function E5(t,e,n,r){this.type=t,this.text=e,this.comments_before=null,this.newlines=n||0,this.whitespace_before=r||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}B1.exports.Token=E5});var cv=oe(Va=>{"use strict";var S5="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",q1="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",lv="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",U1="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",j1="(?:\\\\u[0-9a-fA-F]{4}|["+S5+lv+"])",P5="(?:\\\\u[0-9a-fA-F]{4}|["+q1+lv+U1+"])*";Va.identifier=new RegExp(j1+P5,"g");Va.identifierStart=new RegExp(j1);Va.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+q1+lv+U1+"])+");Va.newline=/[\n\r\u2028\u2029]/;Va.lineBreak=new RegExp(`\r
|`+Va.newline.source);Va.allLineBreaks=new RegExp(Va.lineBreak.source,"g")});var Im=oe((fbe,Pm)=>{"use strict";function ko(t,e){this.raw_options=G1(t,e),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}ko.prototype._get_array=function(t,e){var n=this.raw_options[t],r=e||[];return typeof n=="object"?n!==null&&typeof n.concat=="function"&&(r=n.concat()):typeof n=="string"&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r};ko.prototype._get_boolean=function(t,e){var n=this.raw_options[t],r=n===void 0?!!e:!!n;return r};ko.prototype._get_characters=function(t,e){var n=this.raw_options[t],r=e||"";return typeof n=="string"&&(r=n.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),r};ko.prototype._get_number=function(t,e){var n=this.raw_options[t];e=parseInt(e,10),isNaN(e)&&(e=0);var r=parseInt(n,10);return isNaN(r)&&(r=e),r};ko.prototype._get_selection=function(t,e,n){var r=this._get_selection_list(t,e,n);if(r.length!==1)throw new Error("Invalid Option Value: The option '"+t+`' can only be one of the following values:
`+e+`
You passed in: '`+this.raw_options[t]+"'");return r[0]};ko.prototype._get_selection_list=function(t,e,n){if(!e||e.length===0)throw new Error("Selection list cannot be empty.");if(n=n||[e[0]],!this._is_valid_selection(n,e))throw new Error("Invalid Default Value!");var r=this._get_array(t,n);if(!this._is_valid_selection(r,e))throw new Error("Invalid Option Value: The option '"+t+`' can contain only the following values:
`+e+`
You passed in: '`+this.raw_options[t]+"'");return r};ko.prototype._is_valid_selection=function(t,e){return t.length&&e.length&&!t.some(function(n){return e.indexOf(n)===-1})};function G1(t,e){var n={};t=H1(t);var r;for(r in t)r!==e&&(n[r]=t[r]);if(e&&t[e])for(r in t[e])n[r]=t[e][r];return n}function H1(t){var e={},n;for(n in t){var r=n.replace(/-/g,"_");e[r]=t[n]}return e}Pm.exports.Options=ko;Pm.exports.normalizeOpts=H1;Pm.exports.mergeOpts=G1});var uv=oe((pbe,K1)=>{"use strict";var W1=Im().Options,I5=["before-newline","after-newline","preserve-newline"];function Y1(t){W1.call(this,t,"js");var e=this.raw_options.brace_style||null;e==="expand-strict"?this.raw_options.brace_style="expand":e==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var r=0;r<n.length;r++)n[r]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=n[r];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",I5),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}Y1.prototype=new W1;K1.exports.Options=Y1});var Cm=oe((dbe,z1)=>{"use strict";var $1=RegExp.prototype.hasOwnProperty("sticky");function gr(t){this.__input=t||"",this.__input_length=this.__input.length,this.__position=0}gr.prototype.restart=function(){this.__position=0};gr.prototype.back=function(){this.__position>0&&(this.__position-=1)};gr.prototype.hasNext=function(){return this.__position<this.__input_length};gr.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__input.charAt(this.__position),this.__position+=1),t};gr.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__input_length&&(e=this.__input.charAt(t)),e};gr.prototype.__match=function(t,e){t.lastIndex=e;var n=t.exec(this.__input);return n&&!($1&&t.sticky)&&n.index!==e&&(n=null),n};gr.prototype.test=function(t,e){return e=e||0,e+=this.__position,e>=0&&e<this.__input_length?!!this.__match(t,e):!1};gr.prototype.testChar=function(t,e){var n=this.peek(e);return t.lastIndex=0,n!==null&&t.test(n)};gr.prototype.match=function(t){var e=this.__match(t,this.__position);return e?this.__position+=e[0].length:e=null,e};gr.prototype.read=function(t,e,n){var r="",i;return t&&(i=this.match(t),i&&(r+=i[0])),e&&(i||!t)&&(r+=this.readUntil(e,n)),r};gr.prototype.readUntil=function(t,e){var n="",r=this.__position;t.lastIndex=this.__position;var i=t.exec(this.__input);return i?(r=i.index,e&&(r+=i[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n};gr.prototype.readUntilAfter=function(t){return this.readUntil(t,!0)};gr.prototype.get_regexp=function(t,e){var n=null,r="g";return e&&$1&&(r="y"),typeof t=="string"&&t!==""?n=new RegExp(t,r):t&&(n=new RegExp(t.source,r)),n};gr.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))};gr.prototype.peekUntilAfter=function(t){var e=this.__position,n=this.readUntilAfter(t);return this.__position=e,n};gr.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t};z1.exports.InputScanner=gr});var X1=oe((hbe,Q1)=>{"use strict";function Al(t){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=t}Al.prototype.restart=function(){this.__position=0};Al.prototype.isEmpty=function(){return this.__tokens_length===0};Al.prototype.hasNext=function(){return this.__position<this.__tokens_length};Al.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__tokens[this.__position],this.__position+=1),t};Al.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__tokens_length&&(e=this.__tokens[t]),e};Al.prototype.add=function(t){this.__parent_token&&(t.parent=this.__parent_token),this.__tokens.push(t),this.__tokens_length+=1};Q1.exports.TokenStream=Al});var Kf=oe((mbe,J1)=>{"use strict";function oa(t,e){this._input=t,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,e&&(this._starting_pattern=this._input.get_regexp(e._starting_pattern,!0),this._match_pattern=this._input.get_regexp(e._match_pattern,!0),this._until_pattern=this._input.get_regexp(e._until_pattern),this._until_after=e._until_after)}oa.prototype.read=function(){var t=this._input.read(this._starting_pattern);return(!this._starting_pattern||t)&&(t+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),t};oa.prototype.read_match=function(){return this._input.match(this._match_pattern)};oa.prototype.until_after=function(t){var e=this._create();return e._until_after=!0,e._until_pattern=this._input.get_regexp(t),e._update(),e};oa.prototype.until=function(t){var e=this._create();return e._until_after=!1,e._until_pattern=this._input.get_regexp(t),e._update(),e};oa.prototype.starting_with=function(t){var e=this._create();return e._starting_pattern=this._input.get_regexp(t,!0),e._update(),e};oa.prototype.matching=function(t){var e=this._create();return e._match_pattern=this._input.get_regexp(t,!0),e._update(),e};oa.prototype._create=function(){return new oa(this._input,this)};oa.prototype._update=function(){};J1.exports.Pattern=oa});var tM=oe((gbe,eM)=>{"use strict";var Z1=Kf().Pattern;function wo(t,e){Z1.call(this,t,e),e?this._line_regexp=this._input.get_regexp(e._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}wo.prototype=new Z1;wo.prototype.__set_whitespace_patterns=function(t,e){t+="\\t ",e+="\\n\\r",this._match_pattern=this._input.get_regexp("["+t+e+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+e+"]")};wo.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var t=this._input.read(this._match_pattern);if(t===" ")this.whitespace_before_token=" ";else if(t){var e=this.__split(this._newline_regexp,t);this.newline_count=e.length-1,this.whitespace_before_token=e[this.newline_count]}return t};wo.prototype.matching=function(t,e){var n=this._create();return n.__set_whitespace_patterns(t,e),n._update(),n};wo.prototype._create=function(){return new wo(this._input,this)};wo.prototype.__split=function(t,e){t.lastIndex=0;for(var n=0,r=[],i=t.exec(e);i;)r.push(e.substring(n,i.index)),n=i.index+i[0].length,i=t.exec(e);return n<e.length?r.push(e.substring(n,e.length)):r.push(""),r};eM.exports.WhitespacePattern=wo});var zf=oe((_be,pv)=>{"use strict";var C5=Cm().InputScanner,nM=ov().Token,fv=X1().TokenStream,A5=tM().WhitespacePattern,$f={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},la=function(t,e){this._input=new C5(t),this._options=e||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new A5(this._input)};la.prototype.tokenize=function(){this._input.restart(),this.__tokens=new fv,this._reset();for(var t,e=new nM($f.START,""),n=null,r=[],i=new fv;e.type!==$f.EOF;){for(t=this._get_next_token(e,n);this._is_comment(t);)i.add(t),t=this._get_next_token(e,n);i.isEmpty()||(t.comments_before=i,i=new fv),t.parent=n,this._is_opening(t)?(r.push(n),n=t):n&&this._is_closing(t,n)&&(t.opened=n,n.closed=t,n=r.pop(),t.parent=n),t.previous=e,e.next=t,this.__tokens.add(t),e=t}return this.__tokens};la.prototype._is_first_token=function(){return this.__tokens.isEmpty()};la.prototype._reset=function(){};la.prototype._get_next_token=function(t,e){this._readWhitespace();var n=this._input.read(/.+/g);return n?this._create_token($f.RAW,n):this._create_token($f.EOF,"")};la.prototype._is_comment=function(t){return!1};la.prototype._is_opening=function(t){return!1};la.prototype._is_closing=function(t,e){return!1};la.prototype._create_token=function(t,e){var n=new nM(t,e,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return n};la.prototype._readWhitespace=function(){return this._patterns.whitespace.read()};pv.exports.Tokenizer=la;pv.exports.TOKEN=$f});var Am=oe((Tbe,rM)=>{"use strict";function dv(t,e){t=typeof t=="string"?t:t.source,e=typeof e=="string"?e:e.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+e,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+e,"g")}dv.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var e={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(t);n;)e[n[1]]=n[2],n=this.__directive_pattern.exec(t);return e};dv.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)};rM.exports.Directives=dv});var gv=oe((ybe,iM)=>{"use strict";var hv=Kf().Pattern,mv={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function Us(t,e){hv.call(this,t,e),this.__template_pattern=null,this._disabled=Object.assign({},mv),this._excluded=Object.assign({},mv),e&&(this.__template_pattern=this._input.get_regexp(e.__template_pattern),this._excluded=Object.assign(this._excluded,e._excluded),this._disabled=Object.assign(this._disabled,e._disabled));var n=new hv(t);this.__patterns={handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:n.starting_with(/{{{/).until_after(/}}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),php:n.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:n.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:n.starting_with(/{%/).until_after(/%}/),django_value:n.starting_with(/{{/).until_after(/}}/),django_comment:n.starting_with(/{#/).until_after(/#}/),smarty:n.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:n.starting_with(/{\*/).until_after(/\*}/),smarty_literal:n.starting_with(/{literal}/).until_after(/{\/literal}/)}}Us.prototype=new hv;Us.prototype._create=function(){return new Us(this._input,this)};Us.prototype._update=function(){this.__set_templated_pattern()};Us.prototype.disable=function(t){var e=this._create();return e._disabled[t]=!0,e._update(),e};Us.prototype.read_options=function(t){var e=this._create();for(var n in mv)e._disabled[n]=t.templating.indexOf(n)===-1;return e._update(),e};Us.prototype.exclude=function(t){var e=this._create();return e._excluded[t]=!0,e._update(),e};Us.prototype.read=function(){var t="";this._match_pattern?t=this._input.read(this._starting_pattern):t=this._input.read(this._starting_pattern,this.__template_pattern);for(var e=this._read_template();e;)this._match_pattern?e+=this._input.read(this._match_pattern):e+=this._input.readUntil(this.__template_pattern),t+=e,e=this._read_template();return this._until_after&&(t+=this._input.readUntilAfter(this._until_pattern)),t};Us.prototype.__set_templated_pattern=function(){var t=[];this._disabled.php||t.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||t.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||t.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(t.push(this.__patterns.django._starting_pattern.source),t.push(this.__patterns.django_value._starting_pattern.source),t.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||t.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&t.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+t.join("|")+")")};Us.prototype._read_template=function(){var t="",e=this._input.peek();if(e==="<"){var n=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&n==="?"&&(t=t||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&n==="%"&&(t=t||this.__patterns.erb.read())}else e==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(t=t||this.__patterns.handlebars_comment.read(),t=t||this.__patterns.handlebars_unescaped.read(),t=t||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(t=t||this.__patterns.django_value.read()),this._excluded.django||(t=t||this.__patterns.django_comment.read(),t=t||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(t=t||this.__patterns.smarty_comment.read(),t=t||this.__patterns.smarty_literal.read(),t=t||this.__patterns.smarty.read()));return t};iM.exports.TemplatablePattern=Us});var Xf=oe((bbe,Qf)=>{"use strict";var R5=Cm().InputScanner,sM=zf().Tokenizer,_v=zf().TOKEN,k5=Am().Directives,Xi=cv(),w5=Kf().Pattern,O5=gv().TemplatablePattern;function Tv(t,e){return e.indexOf(t)!==-1}var qe={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:_v.START,RAW:_v.RAW,EOF:_v.EOF},aM=new k5(/\/\*/,/\*\//),L5=/0[xX][0123456789abcdefABCDEF]*|0[oO][01234567]*|0[bB][01]*|\d+n|(?:\.\d+|\d+\.?\d*)(?:[eE][+-]?\d+)?/,D5=/[0-9]/,M5=/[^\d\.]/,F5=">>> === !== << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),Rl=">>>= ... >>= <<= === >>> !== **= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";Rl=Rl.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");Rl="\\?\\.(?!\\d) "+Rl;Rl=Rl.replace(/ /g,"|");var V5=new RegExp(Rl),oM="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),B5=oM.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),q5=new RegExp("^(?:"+B5.join("|")+")$"),Rm,_r=function(t,e){sM.call(this,t,e),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var n=new w5(this._input),r=new O5(this._input).read_options(this._options);this.__patterns={template:r,identifier:r.starting_with(Xi.identifier).matching(Xi.identifierMatch),number:n.matching(L5),punct:n.matching(V5),comment:n.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:n.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:n.matching(/<!--/),html_comment_end:n.matching(/-->/),include:n.starting_with(/#include/).until_after(Xi.lineBreak),shebang:n.starting_with(/#!/).until_after(Xi.lineBreak),xml:n.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\]|)(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/),single_quote:r.until(/['\\\n\r\u2028\u2029]/),double_quote:r.until(/["\\\n\r\u2028\u2029]/),template_text:r.until(/[`\\$]/),template_expression:r.until(/[`}\\]/)}};_r.prototype=new sM;_r.prototype._is_comment=function(t){return t.type===qe.COMMENT||t.type===qe.BLOCK_COMMENT||t.type===qe.UNKNOWN};_r.prototype._is_opening=function(t){return t.type===qe.START_BLOCK||t.type===qe.START_EXPR};_r.prototype._is_closing=function(t,e){return(t.type===qe.END_BLOCK||t.type===qe.END_EXPR)&&e&&(t.text==="]"&&e.text==="["||t.text===")"&&e.text==="("||t.text==="}"&&e.text==="{")};_r.prototype._reset=function(){Rm=!1};_r.prototype._get_next_token=function(t,e){var n=null;this._readWhitespace();var r=this._input.peek();return r===null?this._create_token(qe.EOF,""):(n=n||this._read_non_javascript(r),n=n||this._read_string(r),n=n||this._read_word(t),n=n||this._read_singles(r),n=n||this._read_comment(r),n=n||this._read_regexp(r,t),n=n||this._read_xml(r,t),n=n||this._read_punctuation(),n=n||this._create_token(qe.UNKNOWN,this._input.next()),n)};_r.prototype._read_word=function(t){var e;if(e=this.__patterns.identifier.read(),e!=="")return e=e.replace(Xi.allLineBreaks,`
`),!(t.type===qe.DOT||t.type===qe.RESERVED&&(t.text==="set"||t.text==="get"))&&q5.test(e)?e==="in"||e==="of"?this._create_token(qe.OPERATOR,e):this._create_token(qe.RESERVED,e):this._create_token(qe.WORD,e);if(e=this.__patterns.number.read(),e!=="")return this._create_token(qe.WORD,e)};_r.prototype._read_singles=function(t){var e=null;return t==="("||t==="["?e=this._create_token(qe.START_EXPR,t):t===")"||t==="]"?e=this._create_token(qe.END_EXPR,t):t==="{"?e=this._create_token(qe.START_BLOCK,t):t==="}"?e=this._create_token(qe.END_BLOCK,t):t===";"?e=this._create_token(qe.SEMICOLON,t):t==="."&&M5.test(this._input.peek(1))?e=this._create_token(qe.DOT,t):t===","&&(e=this._create_token(qe.COMMA,t)),e&&this._input.next(),e};_r.prototype._read_punctuation=function(){var t=this.__patterns.punct.read();if(t!=="")return t==="="?this._create_token(qe.EQUALS,t):t==="?."?this._create_token(qe.DOT,t):this._create_token(qe.OPERATOR,t)};_r.prototype._read_non_javascript=function(t){var e="";if(t==="#"){if(this._is_first_token()&&(e=this.__patterns.shebang.read(),e))return this._create_token(qe.UNKNOWN,e.trim()+`
`);if(e=this.__patterns.include.read(),e)return this._create_token(qe.UNKNOWN,e.trim()+`
`);t=this._input.next();var n="#";if(this._input.hasNext()&&this._input.testChar(D5)){do t=this._input.next(),n+=t;while(this._input.hasNext()&&t!=="#"&&t!=="=");return t==="#"||(this._input.peek()==="["&&this._input.peek(1)==="]"?(n+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(n+="{}",this._input.next(),this._input.next())),this._create_token(qe.WORD,n)}this._input.back()}else if(t==="<"&&this._is_first_token()){if(e=this.__patterns.html_comment_start.read(),e){for(;this._input.hasNext()&&!this._input.testChar(Xi.newline);)e+=this._input.next();return Rm=!0,this._create_token(qe.COMMENT,e)}}else if(Rm&&t==="-"&&(e=this.__patterns.html_comment_end.read(),e))return Rm=!1,this._create_token(qe.COMMENT,e);return null};_r.prototype._read_comment=function(t){var e=null;if(t==="/"){var n="";if(this._input.peek(1)==="*"){n=this.__patterns.block_comment.read();var r=aM.get_directives(n);r&&r.ignore==="start"&&(n+=aM.readIgnored(this._input)),n=n.replace(Xi.allLineBreaks,`
`),e=this._create_token(qe.BLOCK_COMMENT,n),e.directives=r}else this._input.peek(1)==="/"&&(n=this.__patterns.comment.read(),e=this._create_token(qe.COMMENT,n))}return e};_r.prototype._read_string=function(t){if(t==="`"||t==="'"||t==='"'){var e=this._input.next();return this.has_char_escapes=!1,t==="`"?e+=this._read_string_recursive("`",!0,"${"):e+=this._read_string_recursive(t),this.has_char_escapes&&this._options.unescape_strings&&(e=U5(e)),this._input.peek()===t&&(e+=this._input.next()),e=e.replace(Xi.allLineBreaks,`
`),this._create_token(qe.STRING,e)}return null};_r.prototype._allow_regexp_or_xml=function(t){return t.type===qe.RESERVED&&Tv(t.text,["return","case","throw","else","do","typeof","yield"])||t.type===qe.END_EXPR&&t.text===")"&&t.opened.previous.type===qe.RESERVED&&Tv(t.opened.previous.text,["if","while","for"])||Tv(t.type,[qe.COMMENT,qe.START_EXPR,qe.START_BLOCK,qe.START,qe.END_BLOCK,qe.OPERATOR,qe.EQUALS,qe.EOF,qe.SEMICOLON,qe.COMMA])};_r.prototype._read_regexp=function(t,e){if(t==="/"&&this._allow_regexp_or_xml(e)){for(var n=this._input.next(),r=!1,i=!1;this._input.hasNext()&&(r||i||this._input.peek()!==t)&&!this._input.testChar(Xi.newline);)n+=this._input.peek(),r?r=!1:(r=this._input.peek()==="\\",this._input.peek()==="["?i=!0:this._input.peek()==="]"&&(i=!1)),this._input.next();return this._input.peek()===t&&(n+=this._input.next(),n+=this._input.read(Xi.identifier)),this._create_token(qe.STRING,n)}return null};_r.prototype._read_xml=function(t,e){if(this._options.e4x&&t==="<"&&this._allow_regexp_or_xml(e)){var n="",r=this.__patterns.xml.read_match();if(r){for(var i=r[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),s=i.indexOf("{")===0,a=0;r;){var l=!!r[1],c=r[2],f=!!r[r.length-1]||c.slice(0,8)==="![CDATA[";if(!f&&(c===i||s&&c.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(l?--a:++a),n+=r[0],a<=0)break;r=this.__patterns.xml.read_match()}return r||(n+=this._input.match(/[\s\S]*/g)[0]),n=n.replace(Xi.allLineBreaks,`
`),this._create_token(qe.STRING,n)}}return null};function U5(t){for(var e="",n=0,r=new R5(t),i=null;r.hasNext();)if(i=r.match(/([\s]|[^\\]|\\\\)+/g),i&&(e+=i[0]),r.peek()==="\\"){if(r.next(),r.peek()==="x")i=r.match(/x([0-9A-Fa-f]{2})/g);else if(r.peek()==="u")i=r.match(/u([0-9A-Fa-f]{4})/g);else{e+="\\",r.hasNext()&&(e+=r.next());continue}if(!i||(n=parseInt(i[1],16),n>126&&n<=255&&i[0].indexOf("x")===0))return t;if(n>=0&&n<32){e+="\\"+i[0];continue}else n===34||n===39||n===92?e+="\\"+String.fromCharCode(n):e+=String.fromCharCode(n)}return e}_r.prototype._read_string_recursive=function(t,e,n){var r,i;t==="'"?i=this.__patterns.single_quote:t==='"'?i=this.__patterns.double_quote:t==="`"?i=this.__patterns.template_text:t==="}"&&(i=this.__patterns.template_expression);for(var s=i.read(),a="";this._input.hasNext();){if(a=this._input.next(),a===t||!e&&Xi.newline.test(a)){this._input.back();break}else a==="\\"&&this._input.hasNext()?(r=this._input.peek(),r==="x"||r==="u"?this.has_char_escapes=!0:r==="\r"&&this._input.peek(1)===`
`&&this._input.next(),a+=this._input.next()):n&&(n==="${"&&a==="$"&&this._input.peek()==="{"&&(a+=this._input.next()),n===a&&(t==="`"?a+=this._read_string_recursive("}",e,"`"):a+=this._read_string_recursive("`",e,"${"),this._input.hasNext()&&(a+=this._input.next())));a+=i.read(),s+=a}return s};Qf.exports.Tokenizer=_r;Qf.exports.TOKEN=qe;Qf.exports.positionable_operators=F5.slice();Qf.exports.line_starters=oM.slice()});var fM=oe((vbe,uM)=>{"use strict";var j5=Sm().Output,G5=ov().Token,km=cv(),H5=uv().Options,W5=Xf().Tokenizer,Jf=Xf().line_starters,Zf=Xf().positionable_operators,Z=Xf().TOKEN;function yt(t,e){return e.indexOf(t)!==-1}function Y5(t){return t.replace(/^\s+/g,"")}function K5(t){for(var e={},n=0;n<t.length;n++)e[t[n].replace(/-/g,"_")]=t[n];return e}function Ji(t,e){return t&&t.type===Z.RESERVED&&t.text===e}function sn(t,e){return t&&t.type===Z.RESERVED&&yt(t.text,e)}var wm=["case","return","do","if","throw","else","await","break","continue","async"],$5=["before-newline","after-newline","preserve-newline"],ep=K5($5),lM=[ep.before_newline,ep.preserve_newline],Ue={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function cM(t,e){e.multiline_frame||e.mode===Ue.ForInitializer||e.mode===Ue.Conditional||t.remove_indent(e.start_line_index)}function z5(t){t=t.replace(km.allLineBreaks,`
`);for(var e=[],n=t.indexOf(`
`);n!==-1;)e.push(t.substring(0,n)),t=t.substring(n+1),n=t.indexOf(`
`);return t.length&&e.push(t),e}function Oo(t){return t===Ue.ArrayLiteral}function tp(t){return yt(t,[Ue.Expression,Ue.ForInitializer,Ue.Conditional])}function Q5(t,e){for(var n=0;n<t.length;n++){var r=t[n].trim();if(r.charAt(0)!==e)return!1}return!0}function X5(t,e){for(var n=0,r=t.length,i;n<r;n++)if(i=t[n],i&&i.indexOf(e)!==0)return!1;return!0}function wt(t,e){e=e||{},this._source_text=t||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new H5(e)}wt.prototype.create_flags=function(t,e){var n=0;t&&(n=t.indentation_level,!this._output.just_added_newline()&&t.line_indent_level>n&&(n=t.line_indent_level));var r={mode:e,parent:t,last_token:t?t.last_token:new G5(Z.START_BLOCK,""),last_word:t?t.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,alignment:0,line_indent_level:t?t.line_indent_level:n,start_line_index:this._output.get_line_number(),ternary_depth:0};return r};wt.prototype._reset=function(t){var e=t.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new j5(this._options,e),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(Ue.BlockStatement);var n=new W5(t,this._options);return this._tokens=n.tokenize(),t};wt.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t,e=this._reset(this._source_text),n=this._options.eol;this._options.eol==="auto"&&(n=`
`,e&&km.lineBreak.test(e||"")&&(n=e.match(km.lineBreak)[0]));for(var r=this._tokens.next();r;)this.handle_token(r),this._last_last_text=this._flags.last_token.text,this._flags.last_token=r,r=this._tokens.next();return t=this._output.get_code(n),t};wt.prototype.handle_token=function(t,e){t.type===Z.START_EXPR?this.handle_start_expr(t):t.type===Z.END_EXPR?this.handle_end_expr(t):t.type===Z.START_BLOCK?this.handle_start_block(t):t.type===Z.END_BLOCK?this.handle_end_block(t):t.type===Z.WORD?this.handle_word(t):t.type===Z.RESERVED?this.handle_word(t):t.type===Z.SEMICOLON?this.handle_semicolon(t):t.type===Z.STRING?this.handle_string(t):t.type===Z.EQUALS?this.handle_equals(t):t.type===Z.OPERATOR?this.handle_operator(t):t.type===Z.COMMA?this.handle_comma(t):t.type===Z.BLOCK_COMMENT?this.handle_block_comment(t,e):t.type===Z.COMMENT?this.handle_comment(t,e):t.type===Z.DOT?this.handle_dot(t):t.type===Z.EOF?this.handle_eof(t):t.type===Z.UNKNOWN?this.handle_unknown(t,e):this.handle_unknown(t,e)};wt.prototype.handle_whitespace_and_comments=function(t,e){var n=t.newlines,r=this._options.keep_array_indentation&&Oo(this._flags.mode);if(t.comments_before)for(var i=t.comments_before.next();i;)this.handle_whitespace_and_comments(i,e),this.handle_token(i,e),i=t.comments_before.next();if(r)for(var s=0;s<n;s+=1)this.print_newline(s>0,e);else if(this._options.max_preserve_newlines&&n>this._options.max_preserve_newlines&&(n=this._options.max_preserve_newlines),this._options.preserve_newlines&&n>1){this.print_newline(!1,e);for(var a=1;a<n;a+=1)this.print_newline(!0,e)}};var yv=["async","break","continue","return","throw","yield"];wt.prototype.allow_wrap_or_preserved_newline=function(t,e){if(e=e===void 0?!1:e,!this._output.just_added_newline()){var n=this._options.preserve_newlines&&t.newlines||e,r=yt(this._flags.last_token.text,Zf)||yt(t.text,Zf);if(r){var i=yt(this._flags.last_token.text,Zf)&&yt(this._options.operator_position,lM)||yt(t.text,Zf);n=n&&i}if(n)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(sn(this._flags.last_token,yv))return;this._output.set_wrap_point()}}};wt.prototype.print_newline=function(t,e){if(!e&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==Z.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var n=this._tokens.peek();this._flags.mode===Ue.Statement&&!(this._flags.if_block&&Ji(n,"else"))&&!this._flags.do_block;)this.restore_mode();this._output.add_new_line(t)&&(this._flags.multiline_frame=!0)};wt.prototype.print_token_line_indentation=function(t){this._output.just_added_newline()&&(this._options.keep_array_indentation&&t.newlines&&(t.text==="["||Oo(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(t.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))};wt.prototype.print_token=function(t){if(this._output.raw){this._output.add_raw_token(t);return}if(this._options.comma_first&&t.previous&&t.previous.type===Z.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","){var e=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(e),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(t),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(t),this._output.non_breaking_space=!0,this._output.add_token(t.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)};wt.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};wt.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};wt.prototype.set_mode=function(t){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,t),this._flags=this.create_flags(this._previous_flags,t),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};wt.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===Ue.Statement&&cM(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};wt.prototype.start_of_object_property=function(){return this._flags.parent.mode===Ue.ObjectLiteral&&this._flags.mode===Ue.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||sn(this._flags.last_token,["get","set"]))};wt.prototype.start_of_statement=function(t){var e=!1;return e=e||sn(this._flags.last_token,["var","let","const"])&&t.type===Z.WORD,e=e||Ji(this._flags.last_token,"do"),e=e||!(this._flags.parent.mode===Ue.ObjectLiteral&&this._flags.mode===Ue.Statement)&&sn(this._flags.last_token,yv)&&!t.newlines,e=e||Ji(this._flags.last_token,"else")&&!(Ji(t,"if")&&!t.comments_before),e=e||this._flags.last_token.type===Z.END_EXPR&&(this._previous_flags.mode===Ue.ForInitializer||this._previous_flags.mode===Ue.Conditional),e=e||this._flags.last_token.type===Z.WORD&&this._flags.mode===Ue.BlockStatement&&!this._flags.in_case&&!(t.text==="--"||t.text==="++")&&this._last_last_text!=="function"&&t.type!==Z.WORD&&t.type!==Z.RESERVED,e=e||this._flags.mode===Ue.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||sn(this._flags.last_token,["get","set"])),e?(this.set_mode(Ue.Statement),this.indent(),this.handle_whitespace_and_comments(t,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t,sn(t,["do","for","if","while"])),!0):!1};wt.prototype.handle_start_expr=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t);var e=Ue.Expression;if(t.text==="["){if(this._flags.last_token.type===Z.WORD||this._flags.last_token.text===")"){sn(this._flags.last_token,Jf)&&(this._output.space_before_token=!0),this.print_token(t),this.set_mode(e),this.indent(),this._options.space_in_paren&&(this._output.space_before_token=!0);return}e=Ue.ArrayLiteral,Oo(this._flags.mode)&&(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}"))&&(this._options.keep_array_indentation||this.print_newline()),yt(this._flags.last_token.type,[Z.START_EXPR,Z.END_EXPR,Z.WORD,Z.OPERATOR,Z.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===Z.RESERVED)this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,e=Ue.ForInitializer):yt(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,e=Ue.Conditional):yt(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&t.whitespace_before===""?this._output.space_before_token=!1:(yt(this._flags.last_token.text,Jf)||this._flags.last_token.text==="catch")&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===Z.EQUALS||this._flags.last_token.type===Z.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t);else if(this._flags.last_token.type===Z.WORD){this._output.space_before_token=!1;var n=this._tokens.peek(-3);if(this._options.space_after_named_function&&n){var r=this._tokens.peek(-4);sn(n,["async","function"])||n.text==="*"&&sn(r,["async","function"])?this._output.space_before_token=!0:this._flags.mode===Ue.ObjectLiteral&&(n.text==="{"||n.text===","||n.text==="*"&&(r.text==="{"||r.text===","))&&(this._output.space_before_token=!0)}}else this.allow_wrap_or_preserved_newline(t);(this._flags.last_token.type===Z.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(yt(this._last_last_text,["function","yield"])||this._flags.mode===Ue.ObjectLiteral&&yt(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}this._flags.last_token.text===";"||this._flags.last_token.type===Z.START_BLOCK?this.print_newline():(this._flags.last_token.type===Z.END_EXPR||this._flags.last_token.type===Z.START_EXPR||this._flags.last_token.type===Z.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===Z.COMMA)&&this.allow_wrap_or_preserved_newline(t,t.newlines),this.print_token(t),this.set_mode(e),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()};wt.prototype.handle_end_expr=function(t){for(;this._flags.mode===Ue.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(t,t.text==="]"&&Oo(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type===Z.START_EXPR&&!this._options.space_in_empty_paren?(this._output.trim(),this._output.space_before_token=!1):this._output.space_before_token=!0),this.deindent(),this.print_token(t),this.restore_mode(),cM(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===Ue.Conditional&&(this._previous_flags.mode=Ue.Expression,this._flags.do_block=!1,this._flags.do_while=!1)};wt.prototype.handle_start_block=function(t){this.handle_whitespace_and_comments(t);var e=this._tokens.peek(),n=this._tokens.peek(1);this._flags.last_word==="switch"&&this._flags.last_token.type===Z.END_EXPR?(this.set_mode(Ue.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(Ue.BlockStatement):n&&(yt(n.text,[":",","])&&yt(e.type,[Z.STRING,Z.WORD,Z.RESERVED])||yt(e.text,["get","set","..."])&&yt(n.type,[Z.WORD,Z.RESERVED]))?yt(this._last_last_text,["class","interface"])?this.set_mode(Ue.BlockStatement):this.set_mode(Ue.ObjectLiteral):this._flags.last_token.type===Z.OPERATOR&&this._flags.last_token.text==="=>"?this.set_mode(Ue.BlockStatement):yt(this._flags.last_token.type,[Z.EQUALS,Z.START_EXPR,Z.COMMA,Z.OPERATOR])||sn(this._flags.last_token,["return","throw","import","default"])?this.set_mode(Ue.ObjectLiteral):this.set_mode(Ue.BlockStatement);var r=!e.comments_before&&e.text==="}",i=r&&this._flags.last_word==="function"&&this._flags.last_token.type===Z.END_EXPR;if(this._options.brace_preserve_inline){var s=0,a=null;this._flags.inline_frame=!0;do if(s+=1,a=this._tokens.peek(s-1),a.newlines){this._flags.inline_frame=!1;break}while(a.type!==Z.EOF&&!(a.type===Z.END_BLOCK&&a.opened===t))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==Z.OPERATOR&&(i||this._flags.last_token.type===Z.EQUALS||sn(this._flags.last_token,wm)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(Oo(this._previous_flags.mode)&&(this._flags.last_token.type===Z.START_EXPR||this._flags.last_token.type===Z.COMMA)&&((this._flags.last_token.type===Z.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===Z.COMMA||this._flags.last_token.type===Z.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(t),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==Z.OPERATOR&&this._flags.last_token.type!==Z.START_EXPR&&(this._flags.last_token.type===Z.START_BLOCK&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(t),this.indent(),!r&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)&&this.print_newline()};wt.prototype.handle_end_block=function(t){for(this.handle_whitespace_and_comments(t);this._flags.mode===Ue.Statement;)this.restore_mode();var e=this._flags.last_token.type===Z.START_BLOCK;this._flags.inline_frame&&!e?this._output.space_before_token=!0:this._options.brace_style==="expand"?e||this.print_newline():e||(Oo(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(t)};wt.prototype.handle_word=function(t){if(t.type===Z.RESERVED){if(yt(t.text,["set","get"])&&this._flags.mode!==Ue.ObjectLiteral)t.type=Z.WORD;else if(t.text==="import"&&this._tokens.peek().text==="(")t.type=Z.WORD;else if(yt(t.text,["as","from"])&&!this._flags.import_block)t.type=Z.WORD;else if(this._flags.mode===Ue.ObjectLiteral){var e=this._tokens.peek();e.text===":"&&(t.type=Z.WORD)}}if(this.start_of_statement(t)?sn(this._flags.last_token,["var","let","const"])&&t.type===Z.WORD&&(this._flags.declaration_statement=!0):t.newlines&&!tp(this._flags.mode)&&(this._flags.last_token.type!==Z.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")&&this._flags.last_token.type!==Z.EQUALS&&(this._options.preserve_newlines||!sn(this._flags.last_token,["var","let","const","set","get"]))?(this.handle_whitespace_and_comments(t),this.print_newline()):this.handle_whitespace_and_comments(t),this._flags.do_block&&!this._flags.do_while)if(Ji(t,"while")){this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0,this._flags.do_while=!0;return}else this.print_newline(),this._flags.do_block=!1;if(this._flags.if_block)if(!this._flags.else_block&&Ji(t,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===Ue.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&sn(t,["case","default"])){this.print_newline(),this._flags.last_token.type!==Z.END_BLOCK&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(t),this._flags.in_case=!0;return}if((this._flags.last_token.type===Z.COMMA||this._flags.last_token.type===Z.START_EXPR||this._flags.last_token.type===Z.EQUALS||this._flags.last_token.type===Z.OPERATOR)&&(this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t)),Ji(t,"function")){(yt(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!(yt(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===Z.OPERATOR))&&!this._output.just_added_blankline()&&!t.comments_before&&(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===Z.RESERVED||this._flags.last_token.type===Z.WORD?sn(this._flags.last_token,["get","set","new","export"])||sn(this._flags.last_token,yv)?this._output.space_before_token=!0:Ji(this._flags.last_token,"default")&&this._last_last_text==="export"?this._output.space_before_token=!0:this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===Z.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(tp(this._flags.mode)||Oo(this._flags.mode))||this.print_newline(),this.print_token(t),this._flags.last_word=t.text;return}var n="NONE";if(this._flags.last_token.type===Z.END_BLOCK?this._previous_flags.inline_frame?n="SPACE":sn(t,["else","catch","finally","from"])?this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines?n="NEWLINE":(n="SPACE",this._output.space_before_token=!0):n="NEWLINE":this._flags.last_token.type===Z.SEMICOLON&&this._flags.mode===Ue.BlockStatement?n="NEWLINE":this._flags.last_token.type===Z.SEMICOLON&&tp(this._flags.mode)?n="SPACE":this._flags.last_token.type===Z.STRING?n="NEWLINE":this._flags.last_token.type===Z.RESERVED||this._flags.last_token.type===Z.WORD||this._flags.last_token.text==="*"&&(yt(this._last_last_text,["function","yield"])||this._flags.mode===Ue.ObjectLiteral&&yt(this._last_last_text,["{",","]))?n="SPACE":this._flags.last_token.type===Z.START_BLOCK?this._flags.inline_frame?n="SPACE":n="NEWLINE":this._flags.last_token.type===Z.END_EXPR&&(this._output.space_before_token=!0,n="NEWLINE"),sn(t,Jf)&&this._flags.last_token.text!==")"&&(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?n="SPACE":n="NEWLINE"),sn(t,["else","catch","finally"]))if((!(this._flags.last_token.type===Z.END_BLOCK&&this._previous_flags.mode===Ue.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var r=this._output.current_line;r.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0}else n==="NEWLINE"?sn(this._flags.last_token,wm)?this._output.space_before_token=!0:this._flags.last_token.text==="declare"&&sn(t,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==Z.END_EXPR?(this._flags.last_token.type!==Z.START_EXPR||!sn(t,["var","let","const"]))&&this._flags.last_token.text!==":"&&(Ji(t,"if")&&Ji(t.previous,"else")?this._output.space_before_token=!0:this.print_newline()):sn(t,Jf)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&Oo(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():n==="SPACE"&&(this._output.space_before_token=!0);t.previous&&(t.previous.type===Z.WORD||t.previous.type===Z.RESERVED)&&(this._output.space_before_token=!0),this.print_token(t),this._flags.last_word=t.text,t.type===Z.RESERVED&&(t.text==="do"?this._flags.do_block=!0:t.text==="if"?this._flags.if_block=!0:t.text==="import"?this._flags.import_block=!0:this._flags.import_block&&Ji(t,"from")&&(this._flags.import_block=!1))};wt.prototype.handle_semicolon=function(t){this.start_of_statement(t)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(t);for(var e=this._tokens.peek();this._flags.mode===Ue.Statement&&!(this._flags.if_block&&Ji(e,"else"))&&!this._flags.do_block;)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(t)};wt.prototype.handle_string=function(t){t.text.startsWith("`")&&t.newlines===0&&t.whitespace_before===""&&(t.previous.text===")"||this._flags.last_token.type===Z.WORD)||(this.start_of_statement(t)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(t),this._flags.last_token.type===Z.RESERVED||this._flags.last_token.type===Z.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===Z.COMMA||this._flags.last_token.type===Z.START_EXPR||this._flags.last_token.type===Z.EQUALS||this._flags.last_token.type===Z.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t):t.text.startsWith("`")&&this._flags.last_token.type===Z.END_EXPR&&(t.previous.text==="]"||t.previous.text===")")&&t.newlines===0?this._output.space_before_token=!0:this.print_newline())),this.print_token(t)};wt.prototype.handle_equals=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0};wt.prototype.handle_comma=function(t){this.handle_whitespace_and_comments(t,!0),this.print_token(t),this._output.space_before_token=!0,this._flags.declaration_statement?(tp(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)):this._flags.mode===Ue.ObjectLiteral||this._flags.mode===Ue.Statement&&this._flags.parent.mode===Ue.ObjectLiteral?(this._flags.mode===Ue.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)};wt.prototype.handle_operator=function(t){var e=t.text==="*"&&(sn(this._flags.last_token,["function","yield"])||yt(this._flags.last_token.type,[Z.START_BLOCK,Z.COMMA,Z.END_BLOCK,Z.SEMICOLON])),n=yt(t.text,["-","+"])&&(yt(this._flags.last_token.type,[Z.START_BLOCK,Z.START_EXPR,Z.EQUALS,Z.OPERATOR])||yt(this._flags.last_token.text,Jf)||this._flags.last_token.text===",");if(!this.start_of_statement(t)){var r=!e;this.handle_whitespace_and_comments(t,r)}if(sn(this._flags.last_token,wm)){this._output.space_before_token=!0,this.print_token(t);return}if(t.text==="*"&&this._flags.last_token.type===Z.DOT){this.print_token(t);return}if(t.text==="::"){this.print_token(t);return}if(this._flags.last_token.type===Z.OPERATOR&&yt(this._options.operator_position,lM)&&this.allow_wrap_or_preserved_newline(t),t.text===":"&&this._flags.in_case){this.print_token(t),this._flags.in_case=!1,this._flags.case_body=!0,this._tokens.peek().type!==Z.START_BLOCK?(this.indent(),this.print_newline()):this._output.space_before_token=!0;return}var i=!0,s=!0,a=!1;if(t.text===":"?this._flags.ternary_depth===0?i=!1:(this._flags.ternary_depth-=1,a=!0):t.text==="?"&&(this._flags.ternary_depth+=1),!n&&!e&&this._options.preserve_newlines&&yt(t.text,Zf)){var l=t.text===":",c=l&&a,f=l&&!a;switch(this._options.operator_position){case ep.before_newline:this._output.space_before_token=!f,this.print_token(t),(!l||c)&&this.allow_wrap_or_preserved_newline(t),this._output.space_before_token=!0;return;case ep.after_newline:this._output.space_before_token=!0,!l||c?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(t):this._output.space_before_token=!1,this.print_token(t),this._output.space_before_token=!0;return;case ep.preserve_newline:f||this.allow_wrap_or_preserved_newline(t),i=!(this._output.just_added_newline()||f),this._output.space_before_token=i,this.print_token(t),this._output.space_before_token=!0;return}}if(e){this.allow_wrap_or_preserved_newline(t),i=!1;var d=this._tokens.peek();s=d&&yt(d.type,[Z.WORD,Z.RESERVED])}else t.text==="..."?(this.allow_wrap_or_preserved_newline(t),i=this._flags.last_token.type===Z.START_BLOCK,s=!1):(yt(t.text,["--","++","!","~"])||n)&&((this._flags.last_token.type===Z.COMMA||this._flags.last_token.type===Z.START_EXPR)&&this.allow_wrap_or_preserved_newline(t),i=!1,s=!1,t.newlines&&(t.text==="--"||t.text==="++")&&this.print_newline(!1,!0),this._flags.last_token.text===";"&&tp(this._flags.mode)&&(i=!0),this._flags.last_token.type===Z.RESERVED?i=!0:this._flags.last_token.type===Z.END_EXPR?i=!(this._flags.last_token.text==="]"&&(t.text==="--"||t.text==="++")):this._flags.last_token.type===Z.OPERATOR&&(i=yt(t.text,["--","-","++","+"])&&yt(this._flags.last_token.text,["--","-","++","+"]),yt(t.text,["+","-"])&&yt(this._flags.last_token.text,["--","++"])&&(s=!0)),(this._flags.mode===Ue.BlockStatement&&!this._flags.inline_frame||this._flags.mode===Ue.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")&&this.print_newline());this._output.space_before_token=this._output.space_before_token||i,this.print_token(t),this._output.space_before_token=s};wt.prototype.handle_block_comment=function(t,e){if(this._output.raw){this._output.add_raw_token(t),t.directives&&t.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw);return}if(t.directives){this.print_newline(!1,e),this.print_token(t),t.directives.preserve==="start"&&(this._output.raw=!0),this.print_newline(!1,!0);return}if(!km.newline.test(t.text)&&!t.newlines){this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0;return}else this.print_block_commment(t,e)};wt.prototype.print_block_commment=function(t,e){var n=z5(t.text),r,i=!1,s=!1,a=t.whitespace_before,l=a.length;if(this.print_newline(!1,e),this.print_token_line_indentation(t),this._output.add_token(n[0]),this.print_newline(!1,e),n.length>1){for(n=n.slice(1),i=Q5(n,"*"),s=X5(n,a),i&&(this._flags.alignment=1),r=0;r<n.length;r++)i?(this.print_token_line_indentation(t),this._output.add_token(Y5(n[r]))):s&&n[r]?(this.print_token_line_indentation(t),this._output.add_token(n[r].substring(l))):(this._output.current_line.set_indent(-1),this._output.add_token(n[r])),this.print_newline(!1,e);this._flags.alignment=0}};wt.prototype.handle_comment=function(t,e){t.newlines?this.print_newline(!1,e):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(t),this.print_newline(!1,e)};wt.prototype.handle_dot=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t,!0),sn(this._flags.last_token,wm)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(t,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(t)};wt.prototype.handle_unknown=function(t,e){this.print_token(t),t.text[t.text.length-1]===`
`&&this.print_newline(!1,e)};wt.prototype.handle_eof=function(t){for(;this._flags.mode===Ue.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t)};uM.exports.Beautifier=wt});var pM=oe((Nbe,bv)=>{"use strict";var J5=fM().Beautifier,Z5=uv().Options;function e6(t,e){var n=new J5(t,e);return n.beautify()}bv.exports=e6;bv.exports.defaultOptions=function(){return new Z5}});var vv=oe((xbe,mM)=>{"use strict";var dM=Im().Options;function hM(t){dM.call(this,t,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var e=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||e;var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var r=0;r<n.length;r++)n[r]!=="expand"?this.brace_style="collapse":this.brace_style=n[r]}hM.prototype=new dM;mM.exports.Options=hM});var yM=oe((Ebe,TM)=>{"use strict";var t6=vv().Options,n6=Sm().Output,r6=Cm().InputScanner,i6=Am().Directives,gM=new i6(/\/\*/,/\*\//),_M=/\r\n|[\r\n]/,s6=/\r\n|[\r\n]/g,Om=/\s/,a6=/(?:\s|\n)+/g,o6=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,l6=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function Ba(t,e){this._source_text=t||"",this._options=new t6(e),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}Ba.prototype.eatString=function(t){var e="";for(this._ch=this._input.next();this._ch;){if(e+=this._ch,this._ch==="\\")e+=this._input.next();else if(t.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return e};Ba.prototype.eatWhitespace=function(t){for(var e=Om.test(this._input.peek()),n=0;Om.test(this._input.peek());)this._ch=this._input.next(),t&&this._ch===`
`&&(n===0||n<this._options.max_preserve_newlines)&&(n++,this._output.add_new_line(!0));return e};Ba.prototype.foundNestedPseudoClass=function(){for(var t=0,e=1,n=this._input.peek(e);n;){if(n==="{")return!0;if(n==="(")t+=1;else if(n===")"){if(t===0)return!1;t-=1}else if(n===";"||n==="}")return!1;e++,n=this._input.peek(e)}return!1};Ba.prototype.print_string=function(t){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(t)};Ba.prototype.preserveSingleSpace=function(t){t&&(this._output.space_before_token=!0)};Ba.prototype.indent=function(){this._indentLevel++};Ba.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--};Ba.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;e==="auto"&&(e=`
`,t&&_M.test(t||"")&&(e=t.match(_M)[0])),t=t.replace(s6,`
`);var n=t.match(/^[\t ]*/)[0];this._output=new n6(this._options,n),this._input=new r6(t),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var r=0,i=!1,s=!1,a=!1,l=!1,c=!1,f=this._ch,d,m,_;d=this._input.read(a6),m=d!=="",_=f,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),f=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var g=this._input.read(o6),T=gM.get_directives(g);T&&T.ignore==="start"&&(g+=gM.readIgnored(this._input)),this.print_string(g),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(l6)),this.eatWhitespace(!0);else if(this._ch==="@")if(this.preserveSingleSpace(m),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var N=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);N.match(/[ :]$/)&&(N=this.eatString(": ").replace(/\s$/,""),this.print_string(N),this._output.space_before_token=!0),N=N.replace(/\s$/,""),N==="extend"?l=!0:N==="import"&&(c=!0),N in this.NESTED_AT_RULE?(this._nestedLevel+=1,N in this.CONDITIONAL_GROUP_RULE&&(a=!0)):!i&&r===0&&N.indexOf(":")!==-1&&(s=!0,this.indent())}else this._ch==="#"&&this._input.peek()==="{"?(this.preserveSingleSpace(m),this.print_string(this._ch+this.eatString("}"))):this._ch==="{"?(s&&(s=!1,this.outdent()),a?(a=!1,i=this._indentLevel>=this._nestedLevel):i=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&i&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line()):this._ch==="}"?(this.outdent(),this._output.add_new_line(),_==="{"&&this._output.trim(!0),c=!1,l=!1,s&&(this.outdent(),s=!1),this.print_string(this._ch),i=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0)):this._ch===":"?(i||a)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!l&&r===0?(this.print_string(":"),s||(s=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):this._ch==='"'||this._ch==="'"?(this.preserveSingleSpace(m),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):this._ch===";"?r===0?(s&&(this.outdent(),s=!1),l=!1,c=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0):this._ch==="("?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),r++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),r&&(r--,this.outdent()))):(this.preserveSingleSpace(m),this.print_string(this._ch),this.eatWhitespace(),r++,this.indent()):this._ch===")"?(r&&(r--,this.outdent()),this.print_string(this._ch)):this._ch===","?(this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&!s&&r===0&&!c?this._output.add_new_line():this._output.space_before_token=!0):(this._ch===">"||this._ch==="+"||this._ch==="~")&&!s&&r===0?this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&Om.test(this._ch)&&(this._ch="")):this._ch==="]"?this.print_string(this._ch):this._ch==="["?(this.preserveSingleSpace(m),this.print_string(this._ch)):this._ch==="="?(this.eatWhitespace(),this.print_string("="),Om.test(this._ch)&&(this._ch="")):this._ch==="!"&&!this._input.lookBack("\\")?(this.print_string(" "),this.print_string(this._ch)):(this.preserveSingleSpace(m),this.print_string(this._ch));var A=this._output.get_code(e);return A};TM.exports.Beautifier=Ba});var bM=oe((Sbe,Nv)=>{"use strict";var c6=yM().Beautifier,u6=vv().Options;function f6(t,e){var n=new c6(t,e);return n.beautify()}Nv.exports=f6;Nv.exports.defaultOptions=function(){return new u6}});var xv=oe((Pbe,xM)=>{"use strict";var vM=Im().Options;function NM(t){vM.call(this,t,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}NM.prototype=new vM;xM.exports.Options=NM});var Pv=oe((Ibe,Sv)=>{"use strict";var EM=zf().Tokenizer,Ev=zf().TOKEN,p6=Am().Directives,d6=gv().TemplatablePattern,h6=Kf().Pattern,kn={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:Ev.START,RAW:Ev.RAW,EOF:Ev.EOF},SM=new p6(/<\!--/,/-->/),Sr=function(t,e){EM.call(this,t,e),this._current_tag_name="";var n=new d6(this._input).read_options(this._options),r=new h6(this._input);if(this.__patterns={word:n.until(/[\n\r\t <]/),single_quote:n.until_after(/'/),double_quote:n.until_after(/"/),attribute:n.until(/[\n\r\t =>]|\/>/),element_name:n.until(/[\n\r\t >\/]/),handlebars_comment:r.starting_with(/{{!--/).until_after(/--}}/),handlebars:r.starting_with(/{{/).until_after(/}}/),handlebars_open:r.until(/[\n\r\t }]/),handlebars_raw_close:r.until(/}}/),comment:r.starting_with(/<!--/).until_after(/-->/),cdata:r.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:r.starting_with(/<!\[/).until_after(/]>/),processing:r.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var i=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=r.matching(i).until_after(i)}};Sr.prototype=new EM;Sr.prototype._is_comment=function(t){return!1};Sr.prototype._is_opening=function(t){return t.type===kn.TAG_OPEN};Sr.prototype._is_closing=function(t,e){return t.type===kn.TAG_CLOSE&&e&&((t.text===">"||t.text==="/>")&&e.text[0]==="<"||t.text==="}}"&&e.text[0]==="{"&&e.text[1]==="{")};Sr.prototype._reset=function(){this._current_tag_name=""};Sr.prototype._get_next_token=function(t,e){var n=null;this._readWhitespace();var r=this._input.peek();return r===null?this._create_token(kn.EOF,""):(n=n||this._read_open_handlebars(r,e),n=n||this._read_attribute(r,t,e),n=n||this._read_close(r,e),n=n||this._read_raw_content(r,t,e),n=n||this._read_content_word(r),n=n||this._read_comment_or_cdata(r),n=n||this._read_processing(r),n=n||this._read_open(r,e),n=n||this._create_token(kn.UNKNOWN,this._input.next()),n)};Sr.prototype._read_comment_or_cdata=function(t){var e=null,n=null,r=null;if(t==="<"){var i=this._input.peek(1);i==="!"&&(n=this.__patterns.comment.read(),n?(r=SM.get_directives(n),r&&r.ignore==="start"&&(n+=SM.readIgnored(this._input))):n=this.__patterns.cdata.read()),n&&(e=this._create_token(kn.COMMENT,n),e.directives=r)}return e};Sr.prototype._read_processing=function(t){var e=null,n=null,r=null;if(t==="<"){var i=this._input.peek(1);(i==="!"||i==="?")&&(n=this.__patterns.conditional_comment.read(),n=n||this.__patterns.processing.read()),n&&(e=this._create_token(kn.COMMENT,n),e.directives=r)}return e};Sr.prototype._read_open=function(t,e){var n=null,r=null;return e||t==="<"&&(n=this._input.next(),this._input.peek()==="/"&&(n+=this._input.next()),n+=this.__patterns.element_name.read(),r=this._create_token(kn.TAG_OPEN,n)),r};Sr.prototype._read_open_handlebars=function(t,e){var n=null,r=null;return e||this._options.indent_handlebars&&t==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(n=this.__patterns.handlebars_comment.read(),n=n||this.__patterns.handlebars.read(),r=this._create_token(kn.COMMENT,n)):(n=this.__patterns.handlebars_open.read(),r=this._create_token(kn.TAG_OPEN,n))),r};Sr.prototype._read_close=function(t,e){var n=null,r=null;return e&&(e.text[0]==="<"&&(t===">"||t==="/"&&this._input.peek(1)===">")?(n=this._input.next(),t==="/"&&(n+=this._input.next()),r=this._create_token(kn.TAG_CLOSE,n)):e.text[0]==="{"&&t==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),r=this._create_token(kn.TAG_CLOSE,"}}"))),r};Sr.prototype._read_attribute=function(t,e,n){var r=null,i="";if(n&&n.text[0]==="<")if(t==="=")r=this._create_token(kn.EQUALS,this._input.next());else if(t==='"'||t==="'"){var s=this._input.next();t==='"'?s+=this.__patterns.double_quote.read():s+=this.__patterns.single_quote.read(),r=this._create_token(kn.VALUE,s)}else i=this.__patterns.attribute.read(),i&&(e.type===kn.EQUALS?r=this._create_token(kn.VALUE,i):r=this._create_token(kn.ATTRIBUTE,i));return r};Sr.prototype._is_content_unformatted=function(t){return this._options.void_elements.indexOf(t)===-1&&(this._options.content_unformatted.indexOf(t)!==-1||this._options.unformatted.indexOf(t)!==-1)};Sr.prototype._read_raw_content=function(t,e,n){var r="";if(n&&n.text[0]==="{")r=this.__patterns.handlebars_raw_close.read();else if(e.type===kn.TAG_CLOSE&&e.opened.text[0]==="<"&&e.text[0]!=="/"){var i=e.opened.text.substr(1).toLowerCase();if(i==="script"||i==="style"){var s=this._read_comment_or_cdata(t);if(s)return s.type=kn.TEXT,s;r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(i)&&(r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig")))}return r?this._create_token(kn.TEXT,r):null};Sr.prototype._read_content_word=function(t){var e="";if(this._options.unformatted_content_delimiter&&t===this._options.unformatted_content_delimiter[0]&&(e=this.__patterns.unformatted_content_delimiter.read()),e||(e=this.__patterns.word.read()),e)return this._create_token(kn.TEXT,e)};Sv.exports.Tokenizer=Sr;Sv.exports.TOKEN=kn});var AM=oe((Cbe,CM)=>{"use strict";var m6=xv().Options,g6=Sm().Output,_6=Pv().Tokenizer,Kt=Pv().TOKEN,PM=/\r\n|[\r\n]/,T6=/\r\n|[\r\n]/g,Zi=function(t,e){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=t.max_preserve_newlines,this.preserve_newlines=t.preserve_newlines,this._output=new g6(t,e)};Zi.prototype.current_line_has_match=function(t){return this._output.current_line.has_match(t)};Zi.prototype.set_space_before_token=function(t,e){this._output.space_before_token=t,this._output.non_breaking_space=e};Zi.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()};Zi.prototype.add_raw_token=function(t){this._output.add_raw_token(t)};Zi.prototype.print_preserved_newlines=function(t){var e=0;t.type!==Kt.TEXT&&t.previous.type!==Kt.TEXT&&(e=t.newlines?1:0),this.preserve_newlines&&(e=t.newlines<this.max_preserve_newlines+1?t.newlines:this.max_preserve_newlines+1);for(var n=0;n<e;n++)this.print_newline(n>0);return e!==0};Zi.prototype.traverse_whitespace=function(t){return t.whitespace_before||t.newlines?(this.print_preserved_newlines(t)||(this._output.space_before_token=!0),!0):!1};Zi.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped};Zi.prototype.print_newline=function(t){this._output.add_new_line(t)};Zi.prototype.print_token=function(t){t.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(t.text))};Zi.prototype.indent=function(){this.indent_level++};Zi.prototype.get_full_indent=function(t){return t=this.indent_level+(t||0),t<1?"":this._output.get_indent_string(t)};var y6=function(t){for(var e=null,n=t.next;n.type!==Kt.EOF&&t.closed!==n;){if(n.type===Kt.ATTRIBUTE&&n.text==="type"){n.next&&n.next.type===Kt.EQUALS&&n.next.next&&n.next.next.type===Kt.VALUE&&(e=n.next.next.text);break}n=n.next}return e},b6=function(t,e){var n=null,r=null;return e.closed?(t==="script"?n="text/javascript":t==="style"&&(n="text/css"),n=y6(e)||n,n.search("text/css")>-1?r="css":n.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?r="javascript":n.search(/(text|application|dojo)\/(x-)?(html)/)>-1?r="html":n.search(/test\/null/)>-1&&(r="null"),r):null};function np(t,e){return e.indexOf(t)!==-1}function v6(t,e,n){this.parent=t||null,this.tag=e?e.tag_name:"",this.indent_level=n||0,this.parser_token=e||null}function kl(t){this._printer=t,this._current_frame=null}kl.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null};kl.prototype.record_tag=function(t){var e=new v6(this._current_frame,t,this._printer.indent_level);this._current_frame=e};kl.prototype._try_pop_frame=function(t){var e=null;return t&&(e=t.parser_token,this._printer.indent_level=t.indent_level,this._current_frame=t.parent),e};kl.prototype._get_frame=function(t,e){for(var n=this._current_frame;n&&t.indexOf(n.tag)===-1;){if(e&&e.indexOf(n.tag)!==-1){n=null;break}n=n.parent}return n};kl.prototype.try_pop=function(t,e){var n=this._get_frame([t],e);return this._try_pop_frame(n)};kl.prototype.indent_to_tag=function(t){var e=this._get_frame(t);e&&(this._printer.indent_level=e.indent_level)};function es(t,e,n,r){this._source_text=t||"",e=e||{},this._js_beautify=n,this._css_beautify=r,this._tag_stack=null;var i=new m6(e,"html");this._options=i,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,"force".length)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,"preserve".length)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}es.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;this._options.eol==="auto"&&(e=`
`,t&&PM.test(t)&&(e=t.match(PM)[0])),t=t.replace(T6,`
`);var n=t.match(/^[\t ]*/)[0],r={text:"",type:""},i=new IM,s=new Zi(this._options,n),a=new _6(t,this._options).tokenize();this._tag_stack=new kl(s);for(var l=null,c=a.next();c.type!==Kt.EOF;)c.type===Kt.TAG_OPEN||c.type===Kt.COMMENT?(l=this._handle_tag_open(s,c,i,r),i=l):c.type===Kt.ATTRIBUTE||c.type===Kt.EQUALS||c.type===Kt.VALUE||c.type===Kt.TEXT&&!i.tag_complete?l=this._handle_inside_tag(s,c,i,a):c.type===Kt.TAG_CLOSE?l=this._handle_tag_close(s,c,i):c.type===Kt.TEXT?l=this._handle_text(s,c,i):s.add_raw_token(c),r=l,c=a.next();var f=s._output.get_code(e);return f};es.prototype._handle_tag_close=function(t,e,n){var r={text:e.text,type:e.type};return t.alignment_size=0,n.tag_complete=!0,t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),n.is_unformatted?t.add_raw_token(e):(n.tag_start_char==="<"&&(t.set_space_before_token(e.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&n.has_wrapped_attrs&&t.print_newline(!1)),t.print_token(e)),n.indent_content&&!(n.is_unformatted||n.is_content_unformatted)&&(t.indent(),n.indent_content=!1),!n.is_inline_element&&!(n.is_unformatted||n.is_content_unformatted)&&t.set_wrap_point(),r};es.prototype._handle_inside_tag=function(t,e,n,r){var i=n.has_wrapped_attrs,s={text:e.text,type:e.type};if(t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),n.is_unformatted)t.add_raw_token(e);else if(n.tag_start_char==="{"&&e.type===Kt.TEXT)t.print_preserved_newlines(e)?(e.newlines=0,t.add_raw_token(e)):t.print_token(e);else{if(e.type===Kt.ATTRIBUTE?(t.set_space_before_token(!0),n.attr_count+=1):(e.type===Kt.EQUALS||e.type===Kt.VALUE&&e.previous.type===Kt.EQUALS)&&t.set_space_before_token(!1),e.type===Kt.ATTRIBUTE&&n.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(t.traverse_whitespace(e),i=i||e.newlines!==0),this._is_wrap_attributes_force)){var a=n.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&n.attr_count===1){var l=!0,c=0,f;do{if(f=r.peek(c),f.type===Kt.ATTRIBUTE){l=!1;break}c+=1}while(c<4&&f.type!==Kt.EOF&&f.type!==Kt.TAG_CLOSE);a=!l}a&&(t.print_newline(!1),i=!0)}t.print_token(e),i=i||t.previous_token_wrapped(),n.has_wrapped_attrs=i}return s};es.prototype._handle_text=function(t,e,n){var r={text:e.text,type:"TK_CONTENT"};return n.custom_beautifier_name?this._print_custom_beatifier_text(t,e,n):n.is_unformatted||n.is_content_unformatted?t.add_raw_token(e):(t.traverse_whitespace(e),t.print_token(e)),r};es.prototype._print_custom_beatifier_text=function(t,e,n){var r=this;if(e.text!==""){var i=e.text,s,a=1,l="",c="";n.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?s=this._js_beautify:n.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?s=this._css_beautify:n.custom_beautifier_name==="html"&&(s=function(T,N){var A=new es(T,N,r._js_beautify,r._css_beautify);return A.beautify()}),this._options.indent_scripts==="keep"?a=0:this._options.indent_scripts==="separate"&&(a=-t.indent_level);var f=t.get_full_indent(a);if(i=i.replace(/\n[ \t]*$/,""),n.custom_beautifier_name!=="html"&&i[0]==="<"&&i.match(/^(<!--|<!\[CDATA\[)/)){var d=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(i);if(!d){t.add_raw_token(e);return}l=f+d[1]+`
`,i=d[4],d[5]&&(c=f+d[5]),i=i.replace(/\n[ \t]*$/,""),(d[2]||d[3].indexOf(`
`)!==-1)&&(d=d[3].match(/[ \t]+$/),d&&(e.whitespace_before=d[0]))}if(i)if(s){var m=function(){this.eol=`
`};m.prototype=this._options.raw_options;var _=new m;i=s(f+i,_)}else{var g=e.whitespace_before;g&&(i=i.replace(new RegExp(`
(`+g+")?","g"),`
`)),i=f+i.replace(/\n/g,`
`+f)}l&&(i?i=l+i+`
`+c:i=l+c),t.print_newline(!1),i&&(e.text=i,e.whitespace_before="",e.newlines=0,t.add_raw_token(e),t.print_newline(!0))}};es.prototype._handle_tag_open=function(t,e,n,r){var i=this._get_tag_open_token(e);return(n.is_unformatted||n.is_content_unformatted)&&!n.is_empty_element&&e.type===Kt.TAG_OPEN&&e.text.indexOf("</")===0?(t.add_raw_token(e),i.start_tag_token=this._tag_stack.try_pop(i.tag_name)):(t.traverse_whitespace(e),this._set_tag_position(t,e,i,n,r),i.is_inline_element||t.set_wrap_point(),t.print_token(e)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(i.alignment_size=e.text.length+1),!i.tag_complete&&!i.is_unformatted&&(t.alignment_size=i.alignment_size),i};var IM=function(t,e){if(this.parent=t||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!e)this.tag_complete=!0;else{var n;this.tag_start_char=e.text[0],this.text=e.text,this.tag_start_char==="<"?(n=e.text.match(/^<([^\s>]*)/),this.tag_check=n?n[1]:""):(n=e.text.match(/^{{(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=n?n[1]:"",e.text==="{{#>"&&this.tag_check===">"&&e.next!==null&&(this.tag_check=e.next.text)),this.tag_check=this.tag_check.toLowerCase(),e.type===Kt.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||e.closed&&e.closed.text==="/>",this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))}};es.prototype._get_tag_open_token=function(t){var e=new IM(this._tag_stack.get_parser_token(),t);return e.alignment_size=this._options.wrap_attributes_indent_size,e.is_end_tag=e.is_end_tag||np(e.tag_check,this._options.void_elements),e.is_empty_element=e.tag_complete||e.is_start_tag&&e.is_end_tag,e.is_unformatted=!e.tag_complete&&np(e.tag_check,this._options.unformatted),e.is_content_unformatted=!e.is_empty_element&&np(e.tag_check,this._options.content_unformatted),e.is_inline_element=np(e.tag_name,this._options.inline)||e.tag_start_char==="{",e};es.prototype._set_tag_position=function(t,e,n,r,i){if(n.is_empty_element||(n.is_end_tag?n.start_tag_token=this._tag_stack.try_pop(n.tag_name):(this._do_optional_end_element(n)&&(n.is_inline_element||t.print_newline(!1)),this._tag_stack.record_tag(n),(n.tag_name==="script"||n.tag_name==="style")&&!(n.is_unformatted||n.is_content_unformatted)&&(n.custom_beautifier_name=b6(n.tag_check,e)))),np(n.tag_check,this._options.extra_liners)&&(t.print_newline(!1),t._output.just_added_blankline()||t.print_newline(!0)),n.is_empty_element){if(n.tag_start_char==="{"&&n.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),n.indent_content=!0;var s=t.current_line_has_match(/{{#if/);s||t.print_newline(!1)}n.tag_name==="!--"&&i.type===Kt.TAG_CLOSE&&r.is_end_tag&&n.text.indexOf(`
`)===-1||(n.is_inline_element||n.is_unformatted||t.print_newline(!1),this._calcluate_parent_multiline(t,n))}else if(n.is_end_tag){var a=!1;a=n.start_tag_token&&n.start_tag_token.multiline_content,a=a||!n.is_inline_element&&!(r.is_inline_element||r.is_unformatted)&&!(i.type===Kt.TAG_CLOSE&&n.start_tag_token===r)&&i.type!=="TK_CONTENT",(n.is_content_unformatted||n.is_unformatted)&&(a=!1),a&&t.print_newline(!1)}else n.indent_content=!n.custom_beautifier_name,n.tag_start_char==="<"&&(n.tag_name==="html"?n.indent_content=this._options.indent_inner_html:n.tag_name==="head"?n.indent_content=this._options.indent_head_inner_html:n.tag_name==="body"&&(n.indent_content=this._options.indent_body_inner_html)),!(n.is_inline_element||n.is_unformatted)&&(i.type!=="TK_CONTENT"||n.is_content_unformatted)&&t.print_newline(!1),this._calcluate_parent_multiline(t,n)};es.prototype._calcluate_parent_multiline=function(t,e){e.parent&&t._output.just_added_newline()&&!((e.is_inline_element||e.is_unformatted)&&e.parent.is_inline_element)&&(e.parent.multiline_content=!0)};var N6=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],x6=["a","audio","del","ins","map","noscript","video"];es.prototype._do_optional_end_element=function(t){var e=null;if(!(t.is_empty_element||!t.is_start_tag||!t.parent)){if(t.tag_name==="body")e=e||this._tag_stack.try_pop("head");else if(t.tag_name==="li")e=e||this._tag_stack.try_pop("li",["ol","ul"]);else if(t.tag_name==="dd"||t.tag_name==="dt")e=e||this._tag_stack.try_pop("dt",["dl"]),e=e||this._tag_stack.try_pop("dd",["dl"]);else if(t.parent.tag_name==="p"&&N6.indexOf(t.tag_name)!==-1){var n=t.parent.parent;(!n||x6.indexOf(n.tag_name)===-1)&&(e=e||this._tag_stack.try_pop("p"))}else t.tag_name==="rp"||t.tag_name==="rt"?(e=e||this._tag_stack.try_pop("rt",["ruby","rtc"]),e=e||this._tag_stack.try_pop("rp",["ruby","rtc"])):t.tag_name==="optgroup"?e=e||this._tag_stack.try_pop("optgroup",["select"]):t.tag_name==="option"?e=e||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):t.tag_name==="colgroup"?e=e||this._tag_stack.try_pop("caption",["table"]):t.tag_name==="thead"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"])):t.tag_name==="tbody"||t.tag_name==="tfoot"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("thead",["table"]),e=e||this._tag_stack.try_pop("tbody",["table"])):t.tag_name==="tr"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(t.tag_name==="th"||t.tag_name==="td")&&(e=e||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),e=e||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return t.parent=this._tag_stack.get_parser_token(),e}};CM.exports.Beautifier=es});var RM=oe((Abe,Iv)=>{"use strict";var E6=AM().Beautifier,S6=xv().Options;function P6(t,e,n,r){var i=new E6(t,e,n,r);return i.beautify()}Iv.exports=P6;Iv.exports.defaultOptions=function(){return new S6}});var DM=oe((Rbe,Lm)=>{"use strict";var kM=pM(),wM=bM(),OM=RM();function LM(t,e,n,r){return n=n||kM,r=r||wM,OM(t,e,n,r)}LM.defaultOptions=OM.defaultOptions;Lm.exports.js=kM;Lm.exports.css=wM;Lm.exports.html=LM});var VM=oe((kbe,FM)=>{"use strict";function MM(t,e,n){var r=function(i,s){return t.js_beautify(i,s)};return r.js=t.js_beautify,r.css=e.css_beautify,r.html=n.html_beautify,r.js_beautify=t.js_beautify,r.css_beautify=e.css_beautify,r.html_beautify=n.html_beautify,r}typeof define=="function"&&define.amd?define(["./lib/beautify","./lib/beautify-css","./lib/beautify-html"],function(t,e,n){return MM(t,e,n)}):function(t){var e=DM();e.js_beautify=e.js,e.css_beautify=e.css,e.html_beautify=e.html,t.exports=MM(e,e,e)}(FM)});var I6,rp,Cv=C(()=>{Av();av();F1();I6=VM().html,rp=class extends ip{constructor(e){super();this.options=e,this.withHtmlFormatter(this.formatHtml).withYamlFormatter(Wf.formatFrontMatter).withTransformOptions({endNewline:ti(e.htmlOptions,"endWithNewline",!1),maxAntlersStatementsPerLine:e.maxStatementsPerLine,newlinesAfterFrontMatter:1,tabSize:e.tabSize})}formatHtml(e){var n;return I6(e,{indent_size:this.options.tabSize,indent_char:this.options.insertSpaces?" ":"	",indent_empty_lines:ti(this.options.htmlOptions,"indentEmptyLines",!1),wrap_line_length:ti(this.options.htmlOptions,"wrapLineLength",120),unformatted:(n=M1(this.options.htmlOptions,"unformatted",[]))!=null?n:[],content_unformatted:[],indent_inner_html:ti(this.options.htmlOptions,"indentInnerHtml",!1),preserve_newlines:ti(this.options.htmlOptions,"preserveNewLines",!0),max_preserve_newlines:ti(this.options.htmlOptions,"maxPreserveNewLines",32786),indent_handlebars:ti(this.options.htmlOptions,"indentHandlebars",!1),end_with_newline:ti(this.options.htmlOptions,"endWithNewline",!1),extra_liners:[],wrap_attributes:ti(this.options.htmlOptions,"wrapAttributes","auto"),wrap_attributes_indent_size:ti(this.options.htmlOptions,"wrapAttributesIndentSize",void 0),eol:`
`,indent_scripts:ti(this.options.htmlOptions,"indentScripts","normal"),unformatted_content_delimiter:ti(this.options.htmlOptions,"unformattedContentDelimiter","")})}}});function qM(t){let e=Ro(),n=decodeURIComponent(t.textDocument.uri),r=Hf.format;if(e.formatterIgnoreExtensions.length>0){for(let i=0;i<e.formatterIgnoreExtensions.length;i++)if(n.toLowerCase().endsWith(e.formatterIgnoreExtensions[i].toLowerCase()))return null}if(et.hasDocument(n)&&Ms.has(n)){let i=Ms.get(n),s=i.getText(),a=nn.fromText(s),l={htmlOptions:r,formatFrontMatter:e.formatFrontMatter,insertSpaces:t.options.insertSpaces,tabSize:t.options.tabSize,maxStatementsPerLine:3,formatExtensions:[]},c=new rp(l),f=c.formatDocument(a),d=i.positionAt(s.length);return[{range:{start:BM.Position.create(0,0),end:d},newText:f}]}return null}var BM,UM=C(()=>{BM=he(vr());qr();sv();Ds();So();Cv()});function GM(t){var r;let e=decodeURIComponent(t.textDocument.uri),n=Zr(t.position,e);if(n!=null&&n.context!=null&&n.context.modifierContext!=null&&((r=bt.instance)==null?void 0:r.hasModifier(n.context.modifierContext.name))){let i=n.context.modifierContext.name,s=bt.instance.getModifier(i),a=[];s!=null&&s.parameters.forEach(c=>{a.push({label:c.name,documentation:c.description})});let l=n.context.modifierContext.activeValueIndex;return l>a.length&&(l=a.length-1),(l<0||a.length==0)&&(l=0),{signatures:[{label:s.name,documentation:{kind:jM.MarkupKind.Markdown,value:s.description},parameters:a,activeParameter:l}],activeParameter:l,activeSignature:0}}return C6}var jM,C6,HM=C(()=>{jM=he(vr());cs();xo();C6={activeSignature:null,activeParameter:null,signatures:[]}});var wl,Rv,WM=C(()=>{wl=he(tn());cs();Ls();sa();Rv=class{static getTypedHeader(e,n){let r="";return n.length>0&&(r=n.join(", ")),"**"+e+"** `"+r+"`  \n"}static formatParameterHover(e){let n=this.getTypedHeader(e.name,e.expectsTypes);if(n+=e.description,e.documentationLink!=null&&e.documentationLink.trim().length>0){n+=`  

`;let r="Documentation Reference]";e.docLinkName!=null&&e.docLinkName.trim().length>0&&(r=e.docLinkName.trim()),n+="["+r+"]("+e.documentationLink+")"}return{contents:{kind:wl.MarkupKind.Markdown,value:n}}}static formatModifierHover(e){let n=this.getTypedHeader(e.name,e.acceptsType),r="";if(e.parameters.length>0){let s=[];e.parameters.forEach(a=>{s.push("$"+a.name)}),r=s.join(", ")}let i="";if(e.returnsType.length==1)i=e.returnsType[0];else{let s=[];e.returnsType.forEach(a=>{s.push(a)}),i=s.join(", ")}return n+=e.description+`
`,n+="```js\n",n+="function "+e.name+"("+r+"):"+i,n+="\n```",e.docLink!=null&&e.docLink.trim().length>0&&(n+=`  

`,n+="[Documentation Reference]("+e.docLink+")"),{contents:{kind:wl.MarkupKind.Markdown,value:n}}}static formatBlueprintHover(e,n){let r="";return e.displayName!=null&&e.displayName.trim().length>0?r="**"+e.displayName+"** ("+e.name+`)

`:r="**"+e.name+`**

`,e.instructionText!=null&&(r+=e.instructionText+`

`),r+="**Blueprint**: "+e.blueprintName+`

`,r+="**Type**: "+e.type,e.maxItems!=null&&(r+=`

**Max Items**: `+e.maxItems),n!=null&&(r+=`

**From**: `+n.runtimeName()),{contents:{kind:wl.MarkupKind.Markdown,value:r}}}static formatScopeVariableHover(e){if(e.sourceField!=null)return this.formatBlueprintHover(e.sourceField,e.introducedBy);let n="**"+e.name+`**

`;return n+="**Type**: "+e.dataType,e.introducedBy!=null&&(n+=`
**From**: `+e.introducedBy.runtimeName()),{contents:{kind:wl.MarkupKind.Markdown,value:n}}}static getHover(e){var r,i,s,a,l,c,f,d,m;if(e==null||e.nodesInScope.length==0)return null;let n=e.nodesInScope[e.nodesInScope.length-1];if(e.context!=null&&e.context.node!=null&&(n=e.context.node),n!=null){if((r=Ze.instance)==null?void 0:r.isKnownTag(n.runtimeName())){let N=(i=Ze.instance)==null?void 0:i.findTag(n.runtimeName());if(e.context!=null&&e.context.isCursorInIdentifier&&typeof(N==null?void 0:N.resolveDocumentation)!="undefined"){let A=N.resolveDocumentation(e);if(A.trim().length>0)return{contents:{kind:wl.MarkupKind.Markdown,value:A},range:{start:rn(n.startPosition),end:rn(n.endPosition)}}}if(N!=null&&((a=(s=e.context)==null?void 0:s.parameterContext)==null?void 0:a.parameter)!=null){let A=e.context.parameterContext.parameter,b=Ze.instance.getParameter(N.tagName,A.name);if(b!=null){if(typeof b.providesDocumentation!="undefined"){let x=b.providesDocumentation(e);if(x.trim().length>0)return{contents:{kind:wl.MarkupKind.Markdown,value:x},range:{start:rn(n.startPosition),end:rn(n.endPosition)}}}return this.formatParameterHover(b)}else if(A.isModifierParameter&&A.modifier!=null)return this.formatModifierHover(A.modifier)}}if(((l=e.context)==null?void 0:l.parameterContext)!=null&&((f=(c=e.context)==null?void 0:c.parameterContext.parameter)==null?void 0:f.modifier)!=null)return this.formatModifierHover(e.context.parameterContext.parameter.modifier);if(((d=e.context)==null?void 0:d.modifierContext)!=null){let N=(m=bt.instance)==null?void 0:m.getModifier(e.context.modifierContext.name);if(N!=null)return this.formatModifierHover(N)}let _=e.position.line+1,g=e.position.character+1,T=e.antlersDocument.cursor.position(_,g);return n.scopeVariable!=null&&T!=null&&T.isWithin(n.startPosition,n.endPosition)?this.formatScopeVariableHover(n.scopeVariable):null}return null}}});function YM(t){var r;if(((r=Oe.instance)==null?void 0:r.hasStructure())==!1)return null;let e=decodeURIComponent(t.textDocument.uri);if(et.hasDocument(e)==!1)return null;let n=Zr(t.position,e);return Rv.getHover(n)}var KM=C(()=>{WM();qr();Gn();xo()});var kv,$M=C(()=>{sa();kv=class{static findLocations(e,n){if(e==null||e.nodesInScope.length==0)return null;let r=e.nodesInScope[e.nodesInScope.length-1];if(e.context!=null&&e.context.node!=null&&(r=e.context.node),r!=null&&r.scopeVariable!=null&&r.scopeVariable.introducedBy!=null){let i=[];return i.push({uri:n.textDocument.uri,range:{start:rn(r.scopeVariable.introducedBy.startPosition),end:rn(r.scopeVariable.introducedBy.endPosition)}}),i}return null}}});function zM(t){var r;if(((r=Oe.instance)==null?void 0:r.hasStructure())==!1)return null;let e=decodeURIComponent(t.textDocument.uri);if(et.hasDocument(e)==!1)return null;let n=Zr(t.position,e);return kv.findLocations(n,t)}var QM=C(()=>{$M();qr();Gn();xo()});function wv(){let t={types:["comment","string","keyword","number","regexp","operator","namespace","type","struct","class","interface","enum","typeParameter","function","method","macro","variable","parameter","property","label","antlersAttribute"],modifiers:["declaration","documentation","readonly","static","abstract","deprecated","modification","async"]};return t.types.forEach((e,n)=>Dm.set(e,n)),t.modifiers.forEach((e,n)=>Mm.set(e,n)),{legend:t,async getSemanticTokens(e,n){let r=decodeURIComponent(e.uri),i=new XM.SemanticTokensBuilder,s=[];if(et.hasDocument(r)){let a=et.getDocument(r);a.nodes.getAllRuntimeNodes().forEach(g=>{g instanceof Yn&&s.push(g)});let c=new Map;s.forEach(g=>{var T;g.startPosition!=null&&(c.has(g.startPosition.line)||c.set(g.startPosition.line,[]),(T=c.get(g.startPosition.line))==null||T.push(g))});let f=[];Array.from(c.keys()).sort((g,T)=>g-T).forEach(g=>{c.get(g).sort((A,b)=>{var x,v,I,O;return((v=(x=A.startPosition)==null?void 0:x.char)!=null?v:0)-((O=(I=b.startPosition)==null?void 0:I.char)!=null?O:0)}).forEach(A=>{f.push(A)})}),f.forEach(g=>{g instanceof Yn&&g.startPosition!=null&&g.endPosition!=null&&i.push(g.startPosition.line-1,g.startPosition.char,g.endPosition.char-g.startPosition.char,ZM("function"),JM([]))}),a.nodes.getAllParameterNodes().forEach(g=>{g.namePosition!=null&&g.namePosition.start!=null&&g.namePosition.end!=null&&i.push(g.namePosition.start.line-1,g.namePosition.start.char-1,g.namePosition.end.char-g.namePosition.start.char,ZM("antlersAttribute"),JM([]))})}return i.build().data}}}function JM(t){let e=0;for(let n=0;n<t.length;n++){let r=t[n];Mm.has(r)?e=e|1<<Mm.get(r):r==="notInLegend"&&(e=e|1<<Mm.size+2)}return e}function ZM(t){return Dm.has(t)?Dm.get(t):t==="notInLegend"?Dm.size+2:0}var XM,Dm,Mm,eF=C(()=>{XM=he(nr());qr();He();Dm=new Map,Mm=new Map});function tF(t){let e=[];return t.forEach(n=>{if(n.isComment||n.isClosingTag&&!n.isConditionNode||n.isConditionNode&&n.name!=null&&n.isClosingTag&&(n.name.name=="if"||n.name.name=="unless"))return;let r=El(n),i=[];if(n.children.length>0){let f=n.getStructuralChildren();f.length>0&&(i=tF(f))}let s=Fm.SymbolKind.Field;n.isTagNode&&(s=Fm.SymbolKind.Class);let a=n.getNameContent().trim(),l=n.getContent().trim(),c=a+" "+l;a==l&&(c=l),c=n.sourceContent,n.name!=null&&n.name.name=="partial"&&(s=Fm.SymbolKind.File),e.push({range:r,kind:s,name:c,selectionRange:r,children:i})}),e}function nF(t){let e=decodeURIComponent(t.textDocument.uri);if(et.hasDocument(e)){let n=et.getDocument(e),r=n.nodes.getStructuralNodes();return tF(r)}return[]}var Fm,rF=C(()=>{Fm=he(nr());qr();sa()});var Ov,iF=C(()=>{Gn();Lp();sa();Ov=class{static getDocumentLinks(e){var r,i,s;let n=[];if((r=Oe.instance)==null?void 0:r.hasStructure()){let a=(s=(i=ls.instance)==null?void 0:i.getPartialReferences(e))!=null?s:[];for(let l=0;l<a.length;l++){let c=a[l];if(c.hasMethodPart()){let f=Oe.instance.getStructure().findRelativeView(c.getMethodNameValue());if(f!=null){let d=rn(c.nameEndsOn);n.push({range:{start:rn(c.startPosition),end:{character:d.character-2,line:d.line}},tooltip:"Partial: "+f.displayName,target:decodeURIComponent(f.documentUri)})}}}}return n}}});function A6(t){let e=JSON.parse(ca.readFileSync(t,{encoding:"utf8"}));return typeof e.extra!="undefined"&&typeof e.extra.statamic!="undefined"}var ca,sF,Lv,aF=C(()=>{ca=he(require("fs")),sF=he($b());Rr();Lv=class{static getInstalledPackages(e,n,r){let i=[];if(ca.existsSync(e)){let s=JSON.parse(ca.readFileSync(e,{encoding:"utf8"}));if(typeof s!="undefined"&&typeof s.packages!="undefined")for(let a=0;a<s.packages.length;a++){let l=s.packages[a];if(typeof l.name!="undefined"&&typeof l.version!="undefined"){let c=r+us(l.name,"/")+"/composer.json",f=r+us(l.name,"/")+"/.antlers-ls/",d=!1;if(typeof l.dist!="undefined"){let T=l.dist;typeof T.type!="undefined"&&typeof T.url!="undefined"&&T.type==="path"&&(c=n+us(l.dist.url,"/")+"/composer.json",f=r+us(l.name,"/")+"/.antlers-ls/")}let m=null;if(ca.existsSync(c)&&(d=A6(c),d&&ca.existsSync(f))){m={fieldtypesFile:null,modifiersFile:null,tagsFile:null};let T=f+"tags.json",N=f+"modifiers.json",A=f+"types.json";ca.existsSync(T)&&(m.tagsFile=T),ca.existsSync(N)&&(m.modifiersFile=N),ca.existsSync(A)&&(m.fieldtypesFile=A)}let _=Fi(l.version,"v"),g=sF.clean(_);g!=null&&(_=g),i.push({name:l.name,version:_,vendorPath:c,isStatamicAddon:d,antlersExtension:m})}}}return i}}});function Dv(t){let e=oF.resolve(t).replace(/\\/g,"/");return e[0]!=="/"&&(e="/"+e),encodeURI("file://"+e)}function Ii(t){return!t.toLowerCase().endsWith(".gitkeep")}var oF,lF=C(()=>{oF=he(require("path"))});function sp(t,e,n,r,i){let s=[],a=[];for(let l of Object.keys(t[n])){let c=t[n][l],f="",d="",m="",_="",g=null,T=null,N=null;if(typeof c.prefix!="undefined"&&c.prefix!==null&&(_=c.prefix),typeof c.import!="undefined"&&i.has(c.import)){let A=i.get(c.import);for(let b=0;b<A.length;b++)a.includes(A[b].handle)==!1&&(s.push(W_(A[b],_)),a.push(A[b].handle));continue}if(typeof c.import!="undefined"&&(N=c.import),typeof c.field!="undefined"&&(typeof c.field.type!="undefined"&&(f=c.field.type),typeof c.field.display!="undefined"&&(d=c.field.display),typeof c.field.instructions!="undefined"&&(m=c.field.instructions),typeof c.field.max_items!="undefined"&&(g=c.field.max_items),f=EC(f,c,g),xC.includes(f)&&typeof c.field.sets!="undefined")){T=[];for(let A of Object.keys(c.field.sets)){let b=c.field.sets[A],x=sp(b,e,"fields","set:"+A,i),v="";typeof b.display!="undefined"&&(v=b.display),T.push({handle:A,displayName:v,fields:x})}}s.push({blueprintName:e,name:c.handle,type:f,displayName:d,instructionText:m,maxItems:g,refFieldSetField:null,sets:T,import:N})}return s}function Ol(t,e,n){let r=uF.readFileSync(t,{encoding:"utf8"}),i=cF.parse(r),s=i.sections,a=[];if(typeof s!="undefined")for(let l of Object.keys(s)){let c=s[l];if(typeof c.fields!="undefined"){let f=sp(c,e,"fields",e,n);f.length>0&&(a=a.concat(f))}}else if(typeof i.fields!="undefined"){let l=sp(i,e,"fields",e,n);l.length>0&&(a=a.concat(l))}return a}var cF,uF,Mv=C(()=>{cF=he(ia()),uF=he(require("fs"));Ju()});function dF(t,e){let n=pF.readFileSync(t,{encoding:"utf8"}),r=fF.parse(n);if(typeof r=="undefined"||r===null)return[];let i=[];if(typeof r.fields!="undefined")for(let s of Object.keys(r.fields)){let a=r.fields[s],l=a.handle,c="",f="",d="",m=null,_=null,g=null;if(typeof a.import!="undefined"&&(g=a.import),typeof a.field!="undefined"&&(typeof a.field.display!="undefined"&&(c=a.field.display),typeof a.field.type!="undefined"&&(d=a.field.type),typeof a.field.instructions!="undefined"&&(f=a.field.instructions),typeof a.field.max_items!="undefined"&&(m=a.field.max_items),typeof a.field.sets!="undefined")){_=[];for(let T of Object.keys(a.field.sets)){let N=a.field.sets[T],A=sp(N,e,"fields","set:"+T,new Map),b="";typeof N.display!="undefined"&&(b=N.display),_.push({handle:T,displayName:b,fields:A})}}i.push({handle:l,instructionText:f,name:c,type:d,maxItems:m,sets:_,import:g})}return i}var fF,pF,hF=C(()=>{fF=he(ia()),pF=he(require("fs"));Mv()});function TF(t){let e=mF.basename(t).split(".").slice(0,-1).join("."),n=e;try{let r=gF.readFileSync(t,{encoding:"utf8"}),i=_F.parse(r);typeof i.title!="undefined"&&i.title!==null&&(n=i.title)}catch(r){console.error(r)}return{handle:e,title:n}}var mF,gF,_F,yF=C(()=>{mF=he(require("path")),gF=he(require("fs")),_F=he(ia())});function xF(t){let e=bF.basename(t).split(".").slice(0,-1).join("."),n=e,r="";try{let i=vF.readFileSync(t,{encoding:"utf8"}),s=NF.parse(i);typeof s!="undefined"&&s!==null&&(typeof s.title!="undefined"&&s.title!==null&&(n=s.title),typeof s.disk!="undefined"&&s.disk!==null&&(r=s.disk))}catch(i){console.error(i)}return{handle:e,title:n,diskName:r}}var bF,vF,NF,EF=C(()=>{bF=he(require("path")),vF=he(require("fs")),NF=he(ia())});function CF(t){let e=SF.basename(t).split(".").slice(0,-1).join("."),n=PF.readFileSync(t,{encoding:"utf8"}),r="",i="",s="",a=!1,l=[],c=null,f=null,d=[];try{let m=IF.parse(n);if(typeof m!="undefined"&&m!==null){if(typeof m.title!="undefined"&&m.title!==null&&(r=m.title),typeof m.inject!="undefined"&&m.inject!==null){let _=Object.keys(m.inject);for(let g=0;g<_.length;g++){let T=_[g];T=="view_model"?f=m.inject.view_model:d.push(T)}}if(typeof m.template!="undefined"&&m.template!==null&&(i=m.template),typeof m.layout!="undefined"&&m.layout!==null&&(s=m.layout),typeof m.taxonomies!="undefined"&&m.taxonomies!==null&&(l=Object.keys(m.taxonomies)),typeof m.structure!="undefined"&&m.structure!==null){a=!0;let _=m.structure,g=-1,T=!1;typeof _.root!="undefined"&&_.root!==null&&(T=_.root),typeof _.max_depth!="undefined"&&_.max_depth!==null&&(g=_.max_depth),c={root:T,maxDepth:g}}}}catch(m){console.error(m)}return{handle:e,title:r,template:i,layout:s,taxonomies:l,isStructure:a,structure:c,viewModel:f,injectFields:d}}var SF,PF,IF,AF=C(()=>{SF=he(require("path")),PF=he(require("fs")),IF=he(ia())});function RF(t){let e=[],n=Fv.readFileSync(t,{encoding:"utf8"});try{let r=Vv.parse(n);if(typeof r=="undefined"||r===null)return[];let i=Object.keys(r);for(let s=0;s<i.length;s++){let a=i[s],l=r[a],c=a;typeof l!="undefined"&&l!==null&&typeof l.title!="undefined"&&l.title!==null&&(c=l.title),e.push({handle:a,title:c})}}catch(r){console.error(r)}return e}function kF(t){let e=[],n=Fv.readFileSync(t,{encoding:"utf8"});try{let r=Vv.parse(n);if(typeof r=="undefined"||r===null)return[];let i=Object.keys(r);for(let s=0;s<i.length;s++){let a=i[s],l=r[a],c=a;typeof l!="undefined"&&l!==null&&typeof l.title!="undefined"&&l.title!==null&&(c=l.title),e.push({handle:a,title:c})}}catch(r){console.error(r)}return e}var Fv,Vv,wF=C(()=>{Fv=he(require("fs")),Vv=he(ia())});function DF(t){var r,i,s,a;let e=OF.readFileSync(t,{encoding:"utf8"}),n=[];try{let l=LF.parse(e);if(typeof l=="undefined"||l===null)return[];let c=Object.keys(l);for(let f=0;f<c.length;f++){let d=c[f],m=l[d],_=[],g="";if(typeof m!="undefined"&&m!==null){let T=Object.keys(m);for(let N=0;N<T.length;N++){let A=T[N],b=(i=(r=bt.instance)==null?void 0:r.getModifier(A))!=null?i:null,x=!1,v="";b!=null?(x=!0,v=(a=(s=bt.instance)==null?void 0:s.getProbableReturnType(b,!1))!=null?a:"",g=v):g="",_.push({hasReference:x,manifestsType:v,name:A,ref:b})}}n.push({name:d,manifestsType:g,modifiers:_})}}catch{}return n}var OF,LF,MF=C(()=>{OF=he(require("fs")),LF=he(ia());cs()});function Bv(t,e,n){return{blueprintName:t,displayName:"",import:null,instructionText:"",maxItems:null,name:e,refFieldSetField:null,sets:null,type:n}}var qv,FF=C(()=>{cs();MF();Rr();vm();Ju();qv=class{constructor(e,n){this.isMocked=!1;this.rootPath="";this.fieldsetsPath="";this.viewsPath="";this.collectionBlueprintsPath="";this.formBlueprintsPath="";this.globalBlueprintsPath="";this.miscBlueprintsPath="";this.taxonomiesBlueprintsPath="";this.globalFiles=[];this.blueprintFiles=[];this.collectionNames=[];this.collections=new Map;this.fieldsets=new Map;this.forms=new Map;this.globals=new Map;this.taxonomies=new Map;this.fields=new Map;this.miscFields=new Map;this.blueprintRef=new Map;this.blueprintCollectionRef=new Map;this.templates=[];this.views=[];this.partialCache=[];this.partialViewNames=[];this.taxonomyNames=[];this.hasMacroFile=!1;this.macroFilePath="";this.collectionQueryScopes=[];this.taxonomyTerms=new Map;this.assets=new Map;this.userGroups=new Map;this.userRoles=new Map;this.navigationMenus=new Map;this.viewMap=new Map;this.routeNames=[];this.translationKeys=[];this.uniqueFormNames=[];this.uniquePartialViewNames=[];this.uniqueCollectionNames=[];this.uniqueTaxonomyNames=[];this.uniqueUserGroups=[];this.uniqueUserRoles=[];this.uniqueGlobalSettingNames=[];this.uniqueNavigationNames=[];this.uniqueAssetNames=[];this.publicAssets=[];this.packageMapping=new Map;this.statamicAddonMapping=new Map;this.blueprintFieldReference=[];this.baseResourcePath=n,this.sourceStructure=e,this.rootPath="",this.isMocked=e.isMocked,this.rootPath=e.rootPath,this.fieldsetsPath=e.fieldsetsPath,this.viewsPath=e.viewsPath,this.collectionBlueprintsPath=e.collectionBlueprintsPath,this.formBlueprintsPath=e.formBlueprintsPath,this.globalBlueprintsPath=e.globalBlueprintsPath,this.miscBlueprintsPath=e.miscBlueprintsPath,this.taxonomiesBlueprintsPath=e.taxonomiesBlueprintsPath,this.globalFiles=e.globalFiles,this.blueprintFiles=e.blueprintFiles,this.collectionNames=e.collectionNames,this.collections=e.collections,this.assets=e.assets,this.fieldsets=e.fieldsets,this.forms=e.forms,this.globals=e.globals,this.taxonomies=e.taxonomies,this.fields=e.fields,this.miscFields=e.miscFields,this.templates=e.templates,this.views=e.views,this.partialCache=e.partialCache,this.partialViewNames=e.partialViewNames,this.taxonomyNames=e.taxonomyNames,this.macroFilePath=e.macroFilePath,this.hasMacroFile=e.hasMacrosFile,this.collectionQueryScopes=e.collectionScopes,this.taxonomyTerms=e.taxonomyTerms,this.navigationMenus=e.navigationMenus,this.rootPath=e.workingDirectory,this.buildDetails(),typeof this.sourceStructure.restoreProperties!="undefined"&&this.sourceStructure.restoreProperties!=null&&(this.assets=this.sourceStructure.restoreProperties.assets,this.blueprintCollectionRef=this.sourceStructure.restoreProperties.blueprintCollectionRef,this.blueprintFieldReference=this.sourceStructure.restoreProperties.blueprintFieldReference,this.blueprintFiles=this.sourceStructure.restoreProperties.blueprintFiles,this.blueprintRef=this.sourceStructure.restoreProperties.blueprintRef,this.collectionNames=this.sourceStructure.restoreProperties.collectionNames,this.collectionQueryScopes=this.sourceStructure.restoreProperties.collectionQueryScopes,this.collections=this.sourceStructure.restoreProperties.collections,this.fields=this.sourceStructure.restoreProperties.fields,this.fieldsets=this.sourceStructure.restoreProperties.fieldsets,this.forms=this.sourceStructure.restoreProperties.forms,this.globalFiles=this.sourceStructure.restoreProperties.globalFiles,this.globals=this.sourceStructure.restoreProperties.globals,this.miscFields=this.sourceStructure.restoreProperties.miscFields,this.navigationMenus=this.sourceStructure.restoreProperties.navigationMenus,this.packageMapping=this.sourceStructure.restoreProperties.packageMapping,this.partialCache=this.sourceStructure.restoreProperties.partialCache,this.partialViewNames=this.sourceStructure.restoreProperties.partialViewNames,this.publicAssets=this.sourceStructure.restoreProperties.publicAssets,this.routeNames=this.sourceStructure.restoreProperties.routeNames,this.statamicAddonMapping=this.sourceStructure.restoreProperties.statamicAddonMapping,this.taxonomies=this.sourceStructure.restoreProperties.taxonomies,this.taxonomyNames=this.sourceStructure.restoreProperties.taxonomyNames,this.taxonomyTerms=this.sourceStructure.restoreProperties.taxonomyTerms,this.templates=this.sourceStructure.restoreProperties.templates,this.translationKeys=this.sourceStructure.restoreProperties.translationKeys,this.uniqueAssetNames=this.sourceStructure.restoreProperties.uniqueAssetNames,this.uniqueCollectionNames=this.sourceStructure.restoreProperties.uniqueCollectionNames,this.uniqueFormNames=this.sourceStructure.restoreProperties.uniqueFormNames,this.uniqueGlobalSettingNames=this.sourceStructure.restoreProperties.uniqueGlobalSettingNames,this.uniqueNavigationNames=this.sourceStructure.restoreProperties.uniqueNavigationNames,this.uniquePartialViewNames=this.sourceStructure.restoreProperties.uniquePartialViewNames,this.uniqueTaxonomyNames=this.sourceStructure.restoreProperties.uniqueTaxonomyNames,this.uniqueUserGroups=this.sourceStructure.restoreProperties.uniqueUserGroups,this.uniqueUserRoles=this.sourceStructure.restoreProperties.uniqueUserRoles,this.userGroups=this.sourceStructure.restoreProperties.userGroups,this.userRoles=this.sourceStructure.restoreProperties.userRoles,this.viewMap=this.sourceStructure.restoreProperties.viewMap,this.views=this.sourceStructure.restoreProperties.views)}getViewPath(){return this.viewsPath}getProjectRoot(){return this.rootPath}export(){let e=this.sourceStructure;return e.restoreProperties=this.getRestoreRecords(),e}getRestoreRecords(){return{assets:this.assets,baseResourcePath:this.baseResourcePath,blueprintCollectionRef:this.blueprintCollectionRef,blueprintFieldReference:this.blueprintFieldReference,blueprintFiles:this.blueprintFiles,blueprintRef:this.blueprintRef,collectionNames:this.collectionNames,collectionQueryScopes:this.collectionQueryScopes,collections:this.collections,fields:this.fields,fieldsets:this.fieldsets,forms:this.forms,globalFiles:this.globalFiles,globals:this.globals,miscFields:this.miscFields,navigationMenus:this.navigationMenus,packageMapping:this.packageMapping,partialCache:this.partialCache,partialViewNames:this.partialViewNames,publicAssets:this.publicAssets,routeNames:this.routeNames,statamicAddonMapping:this.statamicAddonMapping,taxonomies:this.taxonomies,taxonomyNames:this.taxonomyNames,taxonomyTerms:this.taxonomyTerms,templates:this.templates,translationKeys:this.translationKeys,uniqueAssetNames:this.uniqueAssetNames,uniqueCollectionNames:this.uniqueCollectionNames,uniqueFormNames:this.uniqueFormNames,uniqueGlobalSettingNames:this.uniqueGlobalSettingNames,uniqueNavigationNames:this.uniqueNavigationNames,uniquePartialViewNames:this.uniquePartialViewNames,uniqueTaxonomyNames:this.uniqueTaxonomyNames,uniqueUserGroups:this.uniqueUserGroups,uniqueUserRoles:this.uniqueUserRoles,userGroups:this.userGroups,userRoles:this.userRoles,viewMap:this.viewMap,views:this.views}}reloadDetails(){return this}buildImportRefernece(e){if(e.sets!=null)for(let n=0;n<e.sets.length;n++){let r=e.sets[n];for(let i=0;i<r.fields.length;i++){let s=r.fields[i];if(s.import!=null){let a=s.import;if(this.sourceStructure.fieldsets.has(a)){let l=this.sourceStructure.fieldsets.get(a),c=SC(l);for(let f=0;f<c.length;f++)this.buildImportRefernece(c[f]);r.fields.splice(i,1),r.fields=r.fields.concat(c)}}}}}buildDetails(){var s,a;let e=[],n=[],r=[],i=[];if(typeof this.sourceStructure.assets.forEach!="undefined"&&this.sourceStructure.assets.forEach((l,c)=>{i.push(c)}),typeof this.sourceStructure.forms.forEach!="undefined"&&this.sourceStructure.forms.forEach((l,c)=>{l.forEach(f=>{this.blueprintCollectionRef.set(f.blueprintName,c)}),e.push(c),this.blueprintRef.set(c,l)}),typeof this.sourceStructure.globals.forEach!="undefined"&&this.sourceStructure.globals.forEach((l,c)=>{l.forEach(f=>{this.blueprintCollectionRef.set(f.blueprintName,c)}),n.push(c),this.blueprintRef.set(c,l)}),typeof this.sourceStructure.miscFields.forEach!="undefined"&&this.sourceStructure.miscFields.forEach((l,c)=>{l.forEach(f=>{this.blueprintCollectionRef.set(f.blueprintName,c)}),this.blueprintRef.set(c,l)}),typeof this.sourceStructure.taxonomies.forEach!="undefined"&&this.sourceStructure.taxonomies.forEach((l,c)=>{l.forEach(f=>{this.blueprintCollectionRef.set(f.blueprintName,c)}),this.blueprintRef.set(c,l)}),typeof this.sourceStructure.fields.forEach!="undefined"&&this.sourceStructure.fields.forEach((l,c)=>{l.forEach(f=>{this.blueprintCollectionRef.set(f.blueprintName,c)}),this.blueprintRef.set(c,l)}),typeof this.sourceStructure.navigationMenus.forEach!="undefined"&&this.sourceStructure.navigationMenus.forEach((l,c)=>{r.push(c)}),typeof this.sourceStructure.views.forEach!="undefined"&&this.sourceStructure.views.forEach((l,c)=>{this.viewMap.set(l.documentUri,l)}),typeof this.sourceStructure.composerPackages.forEach!="undefined"&&this.sourceStructure.composerPackages.forEach(l=>{l.isStatamicAddon&&this.statamicAddonMapping.set(l.name,l),this.packageMapping.set(l.name,l)}),this.uniqueAssetNames=[...new Set(i)],this.uniqueNavigationNames=[...new Set(r)],this.uniqueGlobalSettingNames=[...new Set(n)],this.uniqueFormNames=[...new Set(e)],this.uniqueCollectionNames=[...new Set(this.collectionNames)],this.uniquePartialViewNames=[...new Set(this.partialViewNames)],this.uniqueTaxonomyNames=[...new Set(this.taxonomyNames)],(s=bt.instance)==null||s.resetMacros(),this.hasMacroFile){let l=DF(this.macroFilePath);l.length>0&&((a=bt.instance)==null||a.registerMacros(l))}this.uniqueUserRoles=[...new Set(this.sourceStructure.userRoleNames)],this.uniqueUserGroups=[...new Set(this.sourceStructure.userGroupNames)],this.sourceStructure.searchIndexes.length==0&&this.sourceStructure.searchIndexes.push("default");for(let l=0;l<this.sourceStructure.internalFieldReference.length;l++)this.buildImportRefernece(this.sourceStructure.internalFieldReference[l])}getWorkingDirectory(){return this.sourceStructure.workingDirectory}getOAuthProviders(){return[]}getSiteNames(){return[]}getSearchIndexes(){return this.sourceStructure.searchIndexes}getStatamicVersion(){return this.sourceStructure.statamicPackage!=null?this.sourceStructure.statamicPackage.version:""}hasComposerPackage(e){return this.packageMapping.has(e)}hasStatamicAddon(e){return this.statamicAddonMapping.has(e)}getAddonDetails(e){return this.hasStatamicAddon(e)?this.statamicAddonMapping.get(e):null}getComposerPackages(){return this.packageMapping}getComposerPackageDetails(e){return this.hasComposerPackage(e)?this.packageMapping.get(e):null}getPartials(){return this.sourceStructure.partialCache}getBlueprintNames(){let e=[];return this.blueprintRef.forEach((n,r)=>{r.startsWith("*")==!1&&e.includes(r)==!1&&e.push(r)}),e}getBlueprintDetails(e){if(this.blueprintRef.has(e)==!1){let n=[];return n.push(Bv(e,"title","text")),n.push(Bv(e,"content","markdown")),n.push(Bv(e,"slug","slug")),n}return this.blueprintRef.get(e)}hasViewCollectionInjections(e){return this.viewMap.has(e)==!1?!1:this.viewMap.get(e).injectsCollections.length>0}getCollectionNames(){return this.collectionNames}getCollectionNamesForView(e){return this.viewMap.has(e)==!1?[]:this.viewMap.get(e).injectsCollections}getPublicAssetPaths(){return this.publicAssets}getTaxonomyTerms(e){return this.hasTaxonomy(e)?this.taxonomyTerms.get(e):[]}hasTaxonomy(e){return this.taxonomyNames.includes(e)}getCollectionQueryScopes(){return this.collectionQueryScopes}getBlueprintFields(e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=this.getCollectionDetails(i);if(s!=null&&s.injectFields!=null)for(let a=0;a<s.injectFields.length;a++)n.push({blueprintName:"*inject",displayName:s.injectFields[a],import:null,instructionText:null,maxItems:null,name:s.injectFields[r],refFieldSetField:null,sets:null,type:"*"});if(this.fields.has(i)){let a=this.fields.get(i);typeof a!="undefined"&&a!==null&&(n=n.concat(a))}}return n}getBlueprintField(e,n){let r=e;if(this.blueprintCollectionRef.has(r)&&(r=this.blueprintCollectionRef.get(r)),this.fields.has(r)){let i=this.fields.get(r);for(let s=0;s<i.length;s++)if(i[s].name==n)return i[s]}return null}getFields(){return this.fields}getTaxonomyBlueprintFields(e){let n=[];for(let r=0;r<e.length;r++){let i=e[r];if(this.taxonomies.has(i)){let s=this.taxonomies.get(i);typeof s!="undefined"&&s!==null&&(n=n.concat(s))}}return n}getUserFields(){return this.miscFields.has("user")?this.miscFields.get("user"):[]}getAssetBlueprintFields(e){return this.sourceStructure.assetFields.has(e)?this.sourceStructure.assetFields.get(e):[]}getUniqueTaxonomyNames(){return this.uniqueTaxonomyNames}getUniqueCollectionNames(){return this.uniqueCollectionNames}getUniquePartialNames(){return this.uniquePartialViewNames}getUniqueUserGroupNames(){return this.uniqueUserGroups}getUniqueUserRoleNames(){return this.uniqueUserRoles}getUniqueFormNames(){return this.uniqueFormNames}getAssetPresets(){return[]}getUniqueGlobalsNames(){return this.uniqueGlobalSettingNames}getUniqueNavigationMenuNames(){return this.uniqueNavigationNames}getUniqueAssetNames(){return this.uniqueAssetNames}getCollectionDetails(e){return this.collections.has(e)?this.collections.get(e):null}getFormBlueprintFields(e){if(this.forms.has(e)){let n=this.forms.get(e);return typeof n=="undefined"||n===null?[]:n}return[]}getRouteNames(){return this.routeNames}getTranslationKeys(){return this.translationKeys}getTemplateNames(){let e=[];return this.views.forEach(n=>{let r=En(n.relativeDisplayName,"/",".");e.includes(r)==!1&&e.push(r)}),e}getViews(){return this.views}findView(e){if(e.trim()=="")return null;let n=y1(e);for(let r=0;r<this.views.length;r++)if(this.views[r].path==n)return this.views[r];return null}findRelativeView(e){e=En(e,"\\.","/");for(let n=0;n<this.views.length;n++)if(this.views[n].relativeDisplayName==e)return this.views[n];return null}findPartial(e){e=En(e,"\\.","/");for(let n=0;n<this.views.length;n++)if(this.views[n].isPartial&&this.views[n].relativeDisplayName==e)return this.views[n];return null}}});function R6(t){let e=Fa(t).split("/"),n=[],r=null;for(let i=0;i<e.length;i++){if(i==0){r=e[i],n.push(e[i]);continue}if(e[i]=="views"&&r=="resources")break;n.push(e[i]),r=e[i]}return n.join("/")}function k6(t){return t.endsWith("/")==!1&&(t=t+"/"),t+"../"}function w6(t){return t+"composer.lock"}function O6(t){return t+"vendor/"}function L6(t){return t+"/blueprints/collections/"}function D6(t){return t+"/blueprints/taxonomies/"}function M6(t){return t+"/blueprints/assets/"}function F6(t){return t+"/blueprints/globals/"}function V6(t){return t+"/blueprints/forms/"}function B6(t){return t+"/blueprints/"}function q6(t){return t+"/macros.yaml"}function U6(t){return t+"/views/"}function j6(t){return t+"/users/"}function G6(t){return t+"/forms/"}function H6(t){return t+"/fieldsets"}function ap(t){return t+"/../content/"}function W6(t){return ap(t)+"assets/"}function Y6(t){return ap(t)+"collections/"}function K6(t){return ap(t)+"taxonomies/"}function $6(t){return ap(t)+"navigation/"}function op(t,e,n){if(!ni.existsSync(t))return[];let r=n||[],i=ni.readdirSync(t);for(let s=0;s<i.length;s++){let a=ar.join(t,i[s]);ni.lstatSync(a).isDirectory()?r=r.concat(op(a,e,n)):a.indexOf(e)>=0&&r.push(a)}return[...new Set(r)]}function qa(t,e){if(!ni.existsSync(t))return[];let n=[],r=ni.readdirSync(t);for(let i=0;i<r.length;i++){let s=ar.join(t,r[i]);ni.lstatSync(s).isDirectory()==!1&&n.push(s)}return[...new Set(n)]}function z6(t){let e=op(t,".html",[]),n=t.length,r=[];for(let i=0;i<e.length;i++){let s=e[i],a=s.substr(n),l=Fa(ar.dirname(a)),c=ar.basename(a),f=c,d=!1,m=!1,_=!1,g="";c.startsWith("_")&&(d=!0,f=f.substr(1)),c.endsWith(".antlers.html")?(m=!0,f=f.substr(0,f.length-13)):c.endsWith(".blade.php")?(m=!1,_=!0):(m=!1,_=!1),l!="."?g=l+"/"+f:g=f,r.push({displayName:f,fileName:c,documentUri:Dv(s),originalDocumentUri:Dv(s),isAntlers:m,isBlade:_,isPartial:d,path:Fa(s),relativeDisplayName:g,relativeFileName:c,relativePath:a,injectsCollections:[],injectsParameters:[],templateName:En(g,"/","."),varReferenceNames:new Map,document:null})}return r}function Uv(t){let e=R6(t),n=L6(e),r=U6(e),i=G6(e),s=V6(e),a=H6(e),l=D6(e),c=F6(e),f=B6(e),d=ap(e),m=$6(e),_=K6(e),g=j6(e),T=Y6(e),N=W6(e),A=M6(e),b=op(n,".yaml",[]),x=z6(r),v=q6(e),I=k6(e),O=w6(I),X=O6(I),Y=!1,te=null,ue=Lv.getInstalledPackages(O,I,X);for(let w=0;w<ue.length;w++)if(ue[w].name=="statamic/cms"){te=ue[w];break}let de=new Map,ie=new Map,pe=new Map,rt=new Map,Te=new Map,le=new Map,dt=[],At=new Map,vn=[],ze=[],Ht=[],wn=[],Qn=[],Se=new Map,Pe=new Map,Ce=[],xe=new Map,Ve=[],ht=new Map,Pr=new Map,ua=new Map,fa=new Map;v.trim().length>0&&(Y=ni.existsSync(v));for(let w=0;w<x.length;w++)x[w].isPartial&&(Ht.push(x[w]),wn.push(x[w].relativeDisplayName));let Ci=qa(N,".yaml");for(let w=0;w<Ci.length;w++)if(Ii(Ci[w])){let L=xF(Ci[w]);ua.set(L.handle,L)}let ri=qa(T,".yaml");for(let w=0;w<ri.length;w++)if(Ii(ri[w])){let L=CF(ri[w]);Pr.set(L.handle,L)}let ft=g+"roles.yaml",pa=g+"groups.yaml";if(ni.existsSync(ft)){let w=RF(ft);for(let L=0;L<w.length;L++)xe.set(w[L].handle,w[L]),Ve.push(w[L].handle)}if(ni.existsSync(pa)){let w=kF(pa);for(let L=0;L<w.length;L++)Pe.set(w[L].handle,w[L]),Ce.push(w[L].handle)}let ye=op(a,".yaml",[]),un=[];for(let w=0;w<ye.length;w++)if(Ii(ye[w])){let L=ar.basename(ye[w]).split(".").slice(0,-1).join(".");if(L!=null&&L.trim().length>0){let E=dF(ye[w],L);de.set(L,E)}}let ts=op(l,".yaml",[]);for(let w=0;w<ts.length;w++)if(Ii(ts[w])){let L=ar.basename(ts[w]).split(".").slice(0,-1).join("."),E=ar.basename(ar.dirname(ts[w]));if(L!=null&&L.trim().length>0){ie.set(L,E);let q=Ol(ts[w],L,de);Te.set(L,q),un=un.concat(q),ze.includes(L)==!1&&ze.push(L)}}if(ze.length>0){for(let w=0;w<ze.length;w++)if(ie.has(ze[w])){let L=ie.get(ze[w]);if(typeof L!="undefined"&&L!==null){let E=_+L+"/";if(ni.existsSync(E)){let q=qa(E,".yaml"),H=[];for(let F=0;F<q.length;F++)if(Ii(q[F])){let S=ar.basename(q[F]).split(".").slice(0,-1).join(".");H.push(S)}Se.set(ze[w],H)}}}}let ns=qa(f,".yaml");for(let w=0;w<ns.length;w++)if(Ii(ns[w])){let L=ar.basename(ns[w]).split(".").slice(0,-1).join(".");if(L!=null&&L.trim().length>0){let E=Ol(ns[w],L,de);le.set(L,E),un=un.concat(E)}}for(let w=0;w<b.length;w++)if(Ii(b[w])){let L=ar.basename(b[w]).split(".").slice(0,-1).join("."),E=Ol(b[w],L,de),q=Fa((0,VF.dirname)(b[w])).split("/").pop();un=un.concat(E),q!=null&&q.trim().length>0&&(L=q,vn.includes(q)==!1&&vn.push(q)),At.set(L,E)}let ii=qa(m,".yaml");for(let w=0;w<ii.length;w++)if(Ii(ii[w])){let L=TF(ii[w]);ht.set(L.handle,L)}let Ai=qa(c,".yaml");for(let w=0;w<Ai.length;w++)if(Ii(Ai[w])){let L=ar.basename(Ai[w]).split(".").slice(0,-1).join("."),E=Ol(Ai[w],L,de);un=un.concat(E),rt.set(L,E)}if(ni.existsSync(A)){let w=qa(A,".yaml");for(let L=0;L<w.length;L++)if(Ii(w[L])){let E=ar.basename(w[L]).split(".").slice(0,-1).join("."),q=Ol(w[L],E,de);un=un.concat(q),fa.set(E,q)}}let rs=qa(s,".yaml"),Ri=qa(i,".yaml"),ki=[];for(let w=0;w<Ri.length;w++)if(Ii(Ri[w])){let L=ar.basename(Ri[w]).split(".").slice(0,-1).join(".");ki.includes(L)||ki.push(L)}for(let w=0;w<rs.length;w++)if(Ii(rs[w])){let L=ar.basename(rs[w]).split(".").slice(0,-1).join("."),E=Ol(rs[w],L,de);un=un.concat(E),pe.set(L,E)}for(let w=0;w<ki.length;w++)pe.has(ki[w])||pe.set(ki[w],[]);let Ir=new Map;for(let w=0;w<x.length;w++)Ir.set(x[w].relativeDisplayName,x[w]);return Pr.forEach((w,L)=>{w.template.trim().length>0&&Ir.has(w.template)&&Ir.get(w.template).injectsCollections.push(w.handle)}),new BF({composerPackages:ue,statamicPackage:te,isMocked:!1,workingDirectory:I,taxonomyPluralizedMapping:ie,collectionScopes:Qn,blueprintFiles:b,collectionBlueprintsPath:n,collections:Pr,rootPath:e,fields:At,fieldsetsPath:a,fieldsets:de,collectionNames:vn,formBlueprintsPath:i,taxonomiesBlueprintsPath:l,globalBlueprintsPath:c,miscBlueprintsPath:f,viewsPath:r,views:x,globalFiles:[],forms:pe,globals:rt,miscFields:le,taxonomies:Te,taxonomyNames:ze,templates:dt,partialCache:Ht,partialViewNames:wn,macroFilePath:v,hasMacrosFile:Y,contentDirectory:d,taxonomyContentDirectory:_,taxonomyTerms:Se,assets:ua,assetFields:fa,oauthProviders:[],navigationMenus:ht,userPermissionsPath:g,userGroupNames:Ce,userGroups:Pe,userRoleNames:Ve,userRoles:xe,searchIndexes:[],internalFieldReference:un,restoreProperties:null},t)}var ar,ni,VF,BF,qF=C(()=>{ar=he(require("path")),ni=he(require("fs")),VF=require("path");aF();lF();Mv();hF();yF();EF();AF();wF();FF();vm();Rr();BF=class extends qv{reloadDetails(){return Uv(this.baseResourcePath)}}});var jv,UF=C(()=>{qr();He();sa();jv=class{static getReferences(e){var n;if(e==null)return null;if(((n=e.context)==null?void 0:n.feature)instanceof Ae){let r=e.context.feature;if(r.scopeVariable==null||r.scopeVariable.sourceField==null)return null;let i=new Map;et.getDocuments().forEach(a=>{let l=a.getAllAntlersNodes(),c=[];l.forEach(f=>{f.runtimeNodes.forEach(d=>{var m;(d.scopeVariable!=null&&d.scopeVariable==r.scopeVariable||d.scopeVariable!=null&&d.scopeVariable.sourceName==((m=r.scopeVariable)==null?void 0:m.sourceName)&&d instanceof Ae&&d.name==r.name)&&c.push(d)})}),i.set(a.documentUri,c)});let s=[];return i.forEach((a,l)=>{a.forEach(c=>{s.push({uri:l,range:El(c)})})}),s}return[]}}});function jF(t){var r;if(((r=Oe.instance)==null?void 0:r.hasStructure())==!1)return null;let e=decodeURIComponent(t.textDocument.uri);if(et.hasDocument(e)==!1)return null;let n=Zr(t.position,e);return jv.getReferences(n)}var GF=C(()=>{qr();Gn();xo();UF()});function HF(t){var r;let e=decodeURIComponent(t.textDocument.uri),n=Zr(t.position,e);if(n==null)return null;if(((r=n.context)==null?void 0:r.feature)instanceof Ae){let i=n.context.feature,s=n.antlersDocument.getAllAntlersNodes();if(i.scopeVariable==null||i.scopeVariable.sourceField==null)return null;let a=[],l=[];return s.forEach(c=>{c.runtimeNodes.forEach(f=>{var d;(f.scopeVariable!=null&&f.scopeVariable==i.scopeVariable||f.scopeVariable!=null&&f.scopeVariable.sourceName==((d=i.scopeVariable)==null?void 0:d.sourceName)&&f instanceof Ae&&f.name==i.name)&&a.push(f)})}),a.length>0&&a.push(i),a.forEach(c=>{l.push({range:El(c)})}),l}return[]}var WF=C(()=>{xo();He();sa()});var YF,KF,$F=C(()=>{Ds();He();YF=class{constructor(){this._nodes=[];this._extractedAntlers=new Map;this._buffer="";this._shouldFormat=!0}load(e){let n=new nn;return n.getDocumentParser().withChildDocuments(!0),n.loadString(e),this._nodes=n.getAllNodes(),this._buffer=n.getParsedContent(),(!n.isValid()||!n.isFormattingEnabled())&&(this._shouldFormat=!1),this._nodes.forEach(r=>{if(r instanceof J){let i=r.getNodeDocumentText(),s="ANTLERS:"+r.refId;this._buffer=this._buffer.replace(i,s),this._extractedAntlers.set(s,i)}}),this}getShouldFormat(){return this._shouldFormat}getBuffer(){return this._buffer}getMapping(){return this._extractedAntlers}transform(e){return this._buffer=e(this._buffer),this}getTemplate(){let e=this._buffer;return this._extractedAntlers.forEach((n,r)=>{e=e.replace(r,n)}),e}},KF=YF});var QF=oe(zF=>{zF.debounce=function(t,e,n){var r,i,s;e===void 0&&(e=50),n===void 0&&(n={});var a=(r=n.isImmediate)!=null&&r,l=(i=n.callback)!=null&&i,c=n.maxWait,f=Date.now(),d=[];function m(){if(c!==void 0){var g=Date.now()-f;if(g+e>=c)return c-g}return e}var _=function(){var g=[].slice.call(arguments),T=this;return new Promise(function(N,A){var b=a&&s===void 0;if(s!==void 0&&clearTimeout(s),s=setTimeout(function(){if(s=void 0,f=Date.now(),!a){var v=t.apply(T,g);l&&l(v),d.forEach(function(I){return(0,I.resolve)(v)}),d=[]}},m()),b){var x=t.apply(T,g);return l&&l(x),N(x)}d.push({resolve:N,reject:A})})};return _.cancel=function(g){s!==void 0&&clearTimeout(s),d.forEach(function(T){return(0,T.reject)(g)}),d=[]},_}});function Vm(t){Eo=t}function Ro(){return Eo}function J6(t){if(Qv){Qv=!1;return}nV(t.document),nv(t.document),Xv(decodeURIComponent(t.document.uri)),rv(t.document,Ct)}async function nV(t){var i,s,a,l,c,f,d,m,_;if((i=Oe.instance)==null?void 0:i.hasStructure()){Oe.instance.reloadDetails(),et.setProject(Oe.instance.getStructure());return}let e=decodeURIComponent(t.uri),n=Q6(e),r=Uv(n);if((s=Oe.instance)==null||s.setActiveProject(r),((a=Oe.instance)==null?void 0:a.hasStructure())&&(et.setProject((l=Oe.instance)==null?void 0:l.getStructure()),(f=ml.instance)==null||f.updateProject((c=Oe.instance)==null?void 0:c.getStructure())),(d=ls.instance)==null||d.clearPartialReferences(e),(m=Pi.instance)==null||m.clearIssues(e),(_=Oe.instance)==null?void 0:_.hasStructure()){let g=Oe.instance.getStructure().getViews();for(let T=0;T<g.length;T++){let N=g[T];L1(N.documentUri,XF.readFileSync(N.path,{encoding:"utf8"})),Xv(N.documentUri)}}}function N1(t){let e={edit:t};Ct.sendRequest("workspace/applyEdit",e)}function Xv(t){var e,n,r,i,s,a,l,c,f,d,m,_,g,T,N,A;if(t=decodeURIComponent(t),et.hasDocument(t)){let b=et.getDocument(t),x=b.getAllAntlersNodes();(e=Pi.instance)==null||e.clearIssues(t),(n=ls.instance)==null||n.clearAllReferences(t),rl.clear(t);let v=[],I=[],O=[],X=[],Y=[],te=[];for(let de=0;de<x.length;de++){let ie=x[de],pe=ie.getTagName();if(pe==="yield"||pe=="yields"){let Te=ie.reference;Te!=null&&Te instanceof af&&v.push(Te)}else if(pe==="partial")O.push(ie);else if(pe==="cache")X.push(ie);else if(ie.runtimeName()=="session:set"||ie.runtimeName()=="session:flash"){let Te=ie.reference;Te!=null&&Te instanceof ol&&I.push(Te)}if(ie.modifiers!=null){let Te=ie.modifiers.getModifierValue("partial");if(Te!=null){let le=(r=Oe.instance)==null?void 0:r.getStructure().findPartial(Te);le!=null&&((i=ls.instance)==null||i.clearRemovesPageScope(le.originalDocumentUri),(s=ls.instance)==null||s.setRemovesPageScope(le.originalDocumentUri,ie))}}if(ie.isTagNode){let Te=(a=Ze.instance)==null?void 0:a.findTag(ie.runtimeName());Te!=null&&Te.requiresClose&&ie.isClosedBy==null&&ie.isClosingTag==!1&&ie.isSelfClosing==!1&&Y.push(ie)}else ie.manifestType==="array"&&ie.isClosedBy==null&&Y.push(ie);let rt=(c=(l=Pi.instance)==null?void 0:l.checkNode(ie))!=null?c:[];rt.length>0&&(te=te.concat(rt))}let ue=(d=(f=Pi.instance)==null?void 0:f.checkDocument(b))!=null?d:[];ue.length>0&&(te=te.concat(ue)),Y.length>0&&rl.registerNodes(t,Y),(m=ml.instance)==null||m.registerInjections(t,O),(_=Qd.instance)==null||_.registerDocumentSections(t,v),(g=ls.instance)==null||g.registerPartialReferences(t,O),(T=ls.instance)==null||T.registerCacheReferences(t,X),(N=Pi.instance)==null||N.registerDiagnostics(t,te),(A=cl.instance)==null||A.registerDocumentSessionVariables(t,I)}}var XF,JF,or,ZF,Q6,Gv,Eo,Ct,gu,eV,tV,X6,Hv,Wv,Yv,Kv,$v,zv,Qv,Z6,So=C(()=>{XF=he(require("fs")),JF=he(sL()),or=he(oL());EL();IL();D1();UM();HM();KM();QM();eF();rF();iF();Gn();gy();qr();qF();Ls();cT();K_();ym();Lp();TT();Gd();sv();Ud();GF();WF();$F();Ds();tv();Jb();Cv();ZF=he(QF()),Q6=zb(),Gv={formatFrontMatter:!1,showGeneralSnippetCompletions:!0,diagnostics:{warnOnDynamicCssClassNames:!0,validateTagParameters:!0},trace:{server:"off"},formatterIgnoreExtensions:["xml"],languageVersion:"runtime"},Eo=Gv;Ct=(0,or.createConnection)(or.ProposedFeatures.all),gu=new or.TextDocuments(JF.TextDocument),eV=!1,tV=!1,X6=!1;(e=>e.type=new or.RequestType("antlers/lockedits"))(Hv||(Hv={}));(e=>e.type=new or.RequestType("antlers/forcedFormat"))(Wv||(Wv={}));(e=>e.type=new or.RequestType("antlers/projectUpdate"))(Yv||(Yv={}));(e=>e.type=new or.RequestType("antlers/transform"))(Kv||(Kv={}));(e=>e.type=new or.RequestType0("antlers/semanticTokenLegend"))($v||($v={}));(e=>e.type=new or.RequestType("antlers/semanticTokens"))(zv||(zv={}));Ct.onInitialize(t=>{let e=t.capabilities;eV=!!(e.workspace&&!!e.workspace.configuration),tV=!!(e.workspace&&!!e.workspace.workspaceFolders),X6=!!(e.textDocument&&e.textDocument.publishDiagnostics&&e.textDocument.publishDiagnostics.relatedInformation);let n={capabilities:{textDocumentSync:or.TextDocumentSyncKind.Full,completionProvider:{resolveProvider:!0,triggerCharacters:[":",'"',"'","{","/","|","@"," "]},documentFormattingProvider:{},foldingRangeProvider:{},signatureHelpProvider:{triggerCharacters:[":",","]},documentLinkProvider:{},hoverProvider:{},definitionProvider:{},documentSymbolProvider:{},referencesProvider:{},documentHighlightProvider:{},codeActionProvider:{},executeCommandProvider:{commands:["antlers.extractToPartial"]}}};return tV&&(n.capabilities.workspace={workspaceFolders:{supported:!0}}),n});Ct.onInitialized(()=>{eV&&Ct.client.register(or.DidChangeConfigurationNotification.type,void 0),Ct.workspace.getConfiguration("html").then(function(t){iv(t)}),Ct.workspace.getConfiguration("antlersLanguageServer").then(function(t){t!=null?Vm(t):Vm(Gv)})});Ct.onExecuteCommand(async t=>{var e;t.command=="antlers.extractToPartial"&&Gf.currentAction!=null&&((e=t.arguments)==null?void 0:e.length)==3&&Gf.currentAction.completeRefactor({path:t.arguments[1],fsPath:t.arguments[2]})});Ct.onDidChangeConfiguration(t=>{Ct.workspace.getConfiguration("html").then(function(e){iv(e)}),Ct.workspace.getConfiguration("antlersLanguageServer").then(function(e){e!=null?Vm(e):Vm(Gv)}),gu.all().forEach(nV),gu.all().forEach(nv),gu.all().forEach(e=>{Xv(encodeURIComponent(e.uri))}),gu.all().forEach(e=>{rv(e,Ct)})});Ct.onDocumentLinks(t=>{let e=decodeURIComponent(t.textDocument.uri);return Ov.getDocumentLinks(e)});Qv=!1;Ct.onRequest(Hv.type,()=>{Qv=!0});Z6=(0,ZF.debounce)(J6,250);gu.onDidChangeContent(Z6);Ct.onDidChangeWatchedFiles(t=>{});Ct.onHover(t=>YM(t));Ct.onDocumentSymbol(t=>nF(t));Ct.onDocumentHighlight(HF);Ct.onReferences(jF);Ct.onDefinition(zM);Ct.onFoldingRanges(PL);Ct.onSignatureHelp(GM);Ct.onDocumentFormatting(qM);Ct.onCompletion(NL);Ct.onCompletionResolve(xL);gu.listen(Ct);Ct.onRequest($v.type,t=>wv().legend);Ct.onRequest(Wv.type,t=>{let e=Ro(),n=Hf.format;return new rp({tabSize:t.tabSize,formatFrontMatter:e.formatFrontMatter,insertSpaces:t.insertSpaces,formatExtensions:[],maxStatementsPerLine:3,htmlOptions:n}).formatDocument(nn.fromText(t.content))});Ct.onRequest(Kv.type,t=>{let e=new KF;e.load(t.content);let n=[];return e.getMapping().forEach((i,s)=>{n.push({find:s,replace:i})}),{shouldParse:e.getShouldFormat(),transformedText:e.getBuffer(),replacements:n}});Ct.onCodeAction(O1);Ct.onRequest(Yv.type,()=>{var t,e,n,r,i;if((t=Oe.instance)==null||t.setDirtyState(!0),(e=Oe.instance)==null||e.reloadDetails(),(n=Oe.instance)==null?void 0:n.hasStructure()){let s=(r=Oe.instance)==null?void 0:r.getStructure();et.setProject(s),(i=ml.instance)==null||i.updateProject(s)}});Ct.onRequest(zv.type,(t,e)=>{let n=decodeURIComponent(t.textDocument.uri);if(Ms.has(n)){let r=Ms.get(n);return wv().getSemanticTokens(r,t.ranges)}return null});Ct.listen()});var ip,Av=C(()=>{fb();Ds();So();ip=class{constructor(){this.htmlFormatter=null;this.yamlFormatter=null;this.phpFormatter=null;this.preFormatter=null;this.transformOptions=null;this.createExtraVirtualStructures=!1}withTransformOptions(e){return this.transformOptions=e,this}withPreFormatter(e){return this.preFormatter=e,this}withHtmlFormatter(e){return this.htmlFormatter=e,this}withYamlFormatter(e){return this.yamlFormatter=e,this}withPhpFormatter(e){return this.phpFormatter=e,this}formatText(e){let n=new nn;return n.getDocumentParser().withChildDocuments(!0),n.loadString(e),this.formatDocument(n)}formatDocument(e){if(!e.isFormattingEnabled())return e.getOriginalContent();if(this.preFormatter!=null){let a=this.preFormatter(e);if(a!=null)return a}let n=e.getAllAntlersNodes(),r=Ro();for(let a=0;a<n.length;a++)if(Jh.checkNode(n[a],r).length>0)return e.getOriginalContent();if(this.htmlFormatter==null||e.isValid()==!1)return e.getOriginalContent();e.transform().produceExtraStructuralPairs(this.createExtraVirtualStructures).withHtmlFormatter(this.htmlFormatter).withPhpFormatter(this.phpFormatter).withYamlFormatter(this.yamlFormatter),this.transformOptions!=null&&e.transform().withOptions(this.transformOptions);let i=e.transform().toStructure(),s=this.htmlFormatter(i);return e.transform().fromStructure(s)}}});var iV=oe((Bm,rV)=>{(function(t,e){typeof Bm=="object"&&typeof rV!="undefined"?e(Bm,require("prettier/standalone")):typeof define=="function"&&define.amd?define(["exports","prettier/standalone"],e):e(((t=typeof globalThis!="undefined"?globalThis:t||self).prettierPlugins=t.prettierPlugins||{},t.prettierPlugins.php={}),t.prettier)})(Bm,function(t,e){"use strict";function n(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=n(e),i={matchST_ATTRIBUTE:function(){var o=0,u=this.input();if(this.is_WHITESPACE()){do u=this.input();while(this.is_WHITESPACE());return this.unput(1),null}switch(u){case"]":return o===0?this.popState():o--,"]";case"(":case")":case":":case"=":return this.consume_TOKEN();case"[":return o++,"[";case",":return",";case'"':return this.ST_DOUBLE_QUOTES();case"'":return this.T_CONSTANT_ENCAPSED_STRING();case"/":if(this._input[this.offset]==="/")return this.T_COMMENT();if(this._input[this.offset]==="*")return this.input(),this.T_DOC_COMMENT()}if(this.is_LABEL_START()||u==="\\"){for(;this.offset<this.size;){var p=this.input();if(!this.is_LABEL()&&p!=="\\"){p&&this.unput(1);break}}return this.tok.T_STRING}if(this.is_NUM())return this.consume_NUM();throw new Error('Bad terminal sequence "'.concat(u,'" at line ').concat(this.yylineno," (offset ").concat(this.offset,")"))}};i.matchST_ATTRIBUTE;var s={T_COMMENT:function(){for(;this.offset<this.size;){var o=this.input();if(o===`
`||o==="\r")return this.tok.T_COMMENT;if(o==="?"&&!this.aspTagMode&&this._input[this.offset]===">")return this.unput(1),this.tok.T_COMMENT;if(o==="%"&&this.aspTagMode&&this._input[this.offset]===">")return this.unput(1),this.tok.T_COMMENT}return this.tok.T_COMMENT},T_DOC_COMMENT:function(){var o=this.input(),u=this.tok.T_COMMENT;if(o==="*"){if(o=this.input(),this.is_WHITESPACE()&&(u=this.tok.T_DOC_COMMENT),o==="/")return u;this.unput(1)}for(;this.offset<this.size;)if((o=this.input())==="*"&&this._input[this.offset]==="/"){this.input();break}return u}};s.T_COMMENT,s.T_DOC_COMMENT;var a={nextINITIAL:function(){return this.conditionStack.length>1&&this.conditionStack[this.conditionStack.length-1]==="INITIAL"?this.popState():this.begin("ST_IN_SCRIPTING"),this},matchINITIAL:function(){for(;this.offset<this.size;){var o=this.input();if(o=="<"){if((o=this.ahead(1))=="?"){if(this.tryMatch("?=")){this.unput(1).appendToken(this.tok.T_OPEN_TAG_WITH_ECHO,3).nextINITIAL();break}if(this.tryMatchCaseless("?php")&&((o=this._input[this.offset+4])===" "||o==="	"||o===`
`||o==="\r")){this.unput(1).appendToken(this.tok.T_OPEN_TAG,6).nextINITIAL();break}if(this.short_tags){this.unput(1).appendToken(this.tok.T_OPEN_TAG,2).nextINITIAL();break}}else if(this.asp_tags&&o=="%"){if(this.tryMatch("%=")){this.aspTagMode=!0,this.unput(1).appendToken(this.tok.T_OPEN_TAG_WITH_ECHO,3).nextINITIAL();break}this.aspTagMode=!0,this.unput(1).appendToken(this.tok.T_OPEN_TAG,2).nextINITIAL();break}}}return this.yytext.length>0&&this.tok.T_INLINE_HTML}};a.nextINITIAL,a.matchINITIAL;var l={consume_NUM:function(){var o=this.yytext[0],u=o===".";if(o==="0")if((o=this.input())==="x"||o==="X"){if((o=this.input())!=="_"&&this.is_HEX())return this.consume_HNUM();this.unput(o?2:1)}else if(o==="b"||o==="B"){if((o=this.input())!=="_"&&o==="0"||o==="1")return this.consume_BNUM();this.unput(o?2:1)}else this.is_NUM()||o&&this.unput(1);for(;this.offset<this.size;){var p=o;if((o=this.input())==="_"){if(p==="_"){this.unput(2);break}if(p==="."){this.unput(1);break}if(p==="e"||p==="E"){this.unput(2);break}}else{if(o==="."){if(u){this.unput(1);break}if(p==="_"){this.unput(2);break}u=!0;continue}if(o==="e"||o==="E"){if(p==="_"){this.unput(1);break}var h=2;if((o=this.input())!=="+"&&o!=="-"||(h=3,o=this.input()),this.is_NUM_START())return this.consume_LNUM(),this.tok.T_DNUMBER;this.unput(o?h:h-1);break}}if(!this.is_NUM()){o&&this.unput(1);break}}return u?this.tok.T_DNUMBER:this.yytext.length<9||this.yytext.length<10||this.yytext.length==10&&this.yytext<"2147483648"?this.tok.T_LNUMBER:this.tok.T_DNUMBER},consume_HNUM:function(){for(;this.offset<this.size;){var o=this.input();if(!this.is_HEX()){o&&this.unput(1);break}}return this.tok.T_LNUMBER},consume_LNUM:function(){for(;this.offset<this.size;){var o=this.input();if(!this.is_NUM()){o&&this.unput(1);break}}return this.tok.T_LNUMBER},consume_BNUM:function(){for(var o;this.offset<this.size;)if((o=this.input())!=="0"&&o!=="1"&&o!=="_"){o&&this.unput(1);break}return this.tok.T_LNUMBER}};l.consume_NUM,l.consume_HNUM,l.consume_LNUM,l.consume_BNUM;var c={matchST_LOOKING_FOR_PROPERTY:function(){var o=this.input();if(o==="-"){if((o=this.input())===">")return this.tok.T_OBJECT_OPERATOR;o&&this.unput(1)}else{if(this.is_WHITESPACE())return this.tok.T_WHITESPACE;if(this.is_LABEL_START())return this.consume_LABEL(),this.popState(),this.tok.T_STRING}return this.popState(),o&&this.unput(1),!1},matchST_LOOKING_FOR_VARNAME:function(){var o=this.input();if(this.popState(),this.begin("ST_IN_SCRIPTING"),this.is_LABEL_START()){if(this.consume_LABEL(),(o=this.input())==="["||o==="}")return this.unput(1),this.tok.T_STRING_VARNAME;this.unput(this.yytext.length)}else o&&this.unput(1);return!1},matchST_VAR_OFFSET:function(){var o=this.input();if(this.is_NUM_START())return this.consume_NUM(),this.tok.T_NUM_STRING;if(o==="]")return this.popState(),"]";if(o==="$"){if(this.input(),this.is_LABEL_START())return this.consume_LABEL(),this.tok.T_VARIABLE;throw new Error("Unexpected terminal")}if(this.is_LABEL_START())return this.consume_LABEL(),this.tok.T_STRING;if(this.is_WHITESPACE()||o==="\\"||o==="'"||o==="#")return this.tok.T_ENCAPSED_AND_WHITESPACE;if(o==="["||o==="{"||o==="}"||o==='"'||o==="`"||this.is_TOKEN())return o;throw new Error("Unexpected terminal")}};c.matchST_LOOKING_FOR_PROPERTY,c.matchST_LOOKING_FOR_VARNAME,c.matchST_VAR_OFFSET;var f={matchST_IN_SCRIPTING:function(){var o=this.input();switch(o){case" ":case"	":case`
`:case"\r":case`\r
`:return this.T_WHITESPACE();case"#":return this._input[this.offset]==="["?(this.input(),this.begin("ST_ATTRIBUTE"),this.tok.T_ATTRIBUTE):this.T_COMMENT();case"/":return this._input[this.offset]==="/"?this.T_COMMENT():this._input[this.offset]==="*"?(this.input(),this.T_DOC_COMMENT()):this.consume_TOKEN();case"'":return this.T_CONSTANT_ENCAPSED_STRING();case'"':return this.ST_DOUBLE_QUOTES();case"`":return this.begin("ST_BACKQUOTE"),"`";case"?":if(!this.aspTagMode&&this.tryMatch(">")){this.input();var u=this._input[this.offset];return u!==`
`&&u!=="\r"||this.input(),this.conditionStack.length>1&&this.begin("INITIAL"),this.tok.T_CLOSE_TAG}return this.consume_TOKEN();case"%":return this.aspTagMode&&this._input[this.offset]===">"?(this.input(),(o=this._input[this.offset])!==`
`&&o!=="\r"||this.input(),this.aspTagMode=!1,this.conditionStack.length>1&&this.begin("INITIAL"),this.tok.T_CLOSE_TAG):this.consume_TOKEN();case"{":return this.begin("ST_IN_SCRIPTING"),"{";case"}":return this.conditionStack.length>2&&this.popState(),"}";default:if(o==="."){if(o=this.input(),this.is_NUM_START())return this.consume_NUM();o&&this.unput(1)}if(this.is_NUM_START())return this.consume_NUM();if(this.is_LABEL_START())return this.consume_LABEL().T_STRING();if(this.is_TOKEN())return this.consume_TOKEN()}throw new Error('Bad terminal sequence "'+o+'" at line '+this.yylineno+" (offset "+this.offset+")")},T_WHITESPACE:function(){for(;this.offset<this.size;){var o=this.input();if(o!==" "&&o!=="	"&&o!==`
`&&o!=="\r"){o&&this.unput(1);break}}return this.tok.T_WHITESPACE}};f.matchST_IN_SCRIPTING,f.T_WHITESPACE;var d=[`
`,"\r"],m=[`
`,"\r",";"],_=m.concat(["	"," ",",","]",")","/","=","!"]),g={T_CONSTANT_ENCAPSED_STRING:function(){for(var o;this.offset<this.size;)if((o=this.input())=="\\")this.input();else if(o=="'")break;return this.tok.T_CONSTANT_ENCAPSED_STRING},is_HEREDOC:function(){var o=this.offset;if(this._input[this.offset-1]==="<"&&this._input[this.offset]==="<"&&this._input[this.offset+1]==="<"){if(this.offset+=3,this.is_TABSPACE())for(;this.offset<this.size&&(this.offset++,this.is_TABSPACE()););var u=this._input[this.offset-1];if(u==="'"||u==='"'?this.offset++:u=null,this.is_LABEL_START()){for(var p=this.offset-1;this.offset<this.size&&(this.offset++,this.is_LABEL()););var h=this._input.substring(p,this.offset-1);if((!u||u===this._input[this.offset-1])&&(u&&this.offset++,d.includes(this._input[this.offset-1])))return this.heredoc_label.label=h,this.heredoc_label.length=h.length,this.heredoc_label.finished=!1,p=this.offset-o,this.offset=o,this.consume(p),u==="'"?this.begin("ST_NOWDOC"):this.begin("ST_HEREDOC"),this.prematch_ENDOFDOC(),this.tok.T_START_HEREDOC}}return this.offset=o,!1},ST_DOUBLE_QUOTES:function(){for(var o;this.offset<this.size;)if((o=this.input())=="\\")this.input();else{if(o=='"')break;if(o=="$"){if((o=this.input())=="{"||this.is_LABEL_START()){this.unput(2);break}o&&this.unput(1)}else if(o=="{"){if((o=this.input())=="$"){this.unput(2);break}o&&this.unput(1)}}if(o=='"')return this.tok.T_CONSTANT_ENCAPSED_STRING;var u=1;return this.yytext[0]!=="b"&&this.yytext[0]!=="B"||(u=2),this.yytext.length>2&&this.appendToken(this.tok.T_ENCAPSED_AND_WHITESPACE,this.yytext.length-u),this.unput(this.yytext.length-u),this.begin("ST_DOUBLE_QUOTES"),this.yytext},isDOC_MATCH:function(o,u){var p=this._input[o-2];if(!d.includes(p))return!1;var h=!1,y=!1,k=0,B=this._input[o-1];if(this.version>=703){for(;B==="	"||B===" ";)B===" "?h=!0:B==="	"&&(y=!0),B=this._input[o+k],k++;if(o+=k,d.includes(this._input[o-1]))return!1}if(this._input.substring(o-1,o-1+this.heredoc_label.length)===this.heredoc_label.label){var P=this._input[o-1+this.heredoc_label.length];if((this.version>=703?_:m).includes(P)){if(u){if(this.consume(k),h&&y)throw new Error("Parse error:  mixing spaces and tabs in ending marker at line "+this.yylineno+" (offset "+this.offset+")")}else this.heredoc_label.indentation=k,this.heredoc_label.indentation_uses_spaces=h,this.heredoc_label.first_encaps_node=!0;return!0}}return!1},prematch_ENDOFDOC:function(){this.heredoc_label.indentation_uses_spaces=!1,this.heredoc_label.indentation=0,this.heredoc_label.first_encaps_node=!0;for(var o=this.offset+1;o<this._input.length;){if(this.isDOC_MATCH(o,!1))return;if(!d.includes(this._input[o-1]))for(;!d.includes(this._input[o++])&&o<this._input.length;);o++}},matchST_NOWDOC:function(){if(this.isDOC_MATCH(this.offset,!0))return this.consume(this.heredoc_label.length),this.popState(),this.tok.T_END_HEREDOC;for(var o=this._input[this.offset-1];this.offset<this.size;)if(d.includes(o)){if(o=this.input(),this.isDOC_MATCH(this.offset,!0))return this.unput(1).popState(),this.appendToken(this.tok.T_END_HEREDOC,this.heredoc_label.length),this.tok.T_ENCAPSED_AND_WHITESPACE}else o=this.input();return this.tok.T_ENCAPSED_AND_WHITESPACE},matchST_HEREDOC:function(){var o=this.input();if(this.isDOC_MATCH(this.offset,!0))return this.consume(this.heredoc_label.length-1),this.popState(),this.tok.T_END_HEREDOC;for(;this.offset<this.size;)if(o==="\\"&&(o=this.input(),d.includes(o)||(o=this.input())),d.includes(o)){if(o=this.input(),this.isDOC_MATCH(this.offset,!0))return this.unput(1).popState(),this.appendToken(this.tok.T_END_HEREDOC,this.heredoc_label.length),this.tok.T_ENCAPSED_AND_WHITESPACE}else if(o==="$"){if((o=this.input())==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){var u=this.offset,p=this.consume_VARIABLE();return this.yytext.length>this.offset-u+2?(this.appendToken(p,this.offset-u+2),this.unput(this.offset-u+2),this.tok.T_ENCAPSED_AND_WHITESPACE):p}}else if(o==="{"){if((o=this.input())==="$")return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN)}else o=this.input();return this.tok.T_ENCAPSED_AND_WHITESPACE},consume_VARIABLE:function(){this.consume_LABEL();var o=this.input();if(o=="[")return this.unput(1),this.begin("ST_VAR_OFFSET"),this.tok.T_VARIABLE;if(o==="-"){if(this.input()===">")return this.input(),this.is_LABEL_START()&&this.begin("ST_LOOKING_FOR_PROPERTY"),this.unput(3),this.tok.T_VARIABLE;this.unput(2)}else o&&this.unput(1);return this.tok.T_VARIABLE},matchST_BACKQUOTE:function(){var o=this.input();if(o==="$"){if((o=this.input())==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START())return this.consume_VARIABLE()}else if(o==="{"){if(this._input[this.offset]==="$")return this.begin("ST_IN_SCRIPTING"),this.tok.T_CURLY_OPEN}else if(o==="`")return this.popState(),"`";for(;this.offset<this.size;){if(o==="\\")this.input();else{if(o==="`"){this.unput(1),this.popState(),this.appendToken("`",1);break}if(o==="$"){if((o=this.input())==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){var u=this.offset,p=this.consume_VARIABLE();return this.yytext.length>this.offset-u+2?(this.appendToken(p,this.offset-u+2),this.unput(this.offset-u+2),this.tok.T_ENCAPSED_AND_WHITESPACE):p}continue}if(o==="{"){if((o=this.input())==="$")return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN);continue}}o=this.input()}return this.tok.T_ENCAPSED_AND_WHITESPACE},matchST_DOUBLE_QUOTES:function(){var o=this.input();if(o==="$"){if((o=this.input())==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START())return this.consume_VARIABLE()}else if(o==="{"){if(this._input[this.offset]==="$")return this.begin("ST_IN_SCRIPTING"),this.tok.T_CURLY_OPEN}else if(o==='"')return this.popState(),'"';for(;this.offset<this.size;){if(o==="\\")this.input();else{if(o==='"'){this.unput(1),this.popState(),this.appendToken('"',1);break}if(o==="$"){if((o=this.input())==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){var u=this.offset,p=this.consume_VARIABLE();return this.yytext.length>this.offset-u+2?(this.appendToken(p,this.offset-u+2),this.unput(this.offset-u+2),this.tok.T_ENCAPSED_AND_WHITESPACE):p}o&&this.unput(1)}else if(o==="{"){if((o=this.input())==="$")return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN);o&&this.unput(1)}}o=this.input()}return this.tok.T_ENCAPSED_AND_WHITESPACE}};g.T_CONSTANT_ENCAPSED_STRING,g.is_HEREDOC,g.ST_DOUBLE_QUOTES,g.isDOC_MATCH,g.prematch_ENDOFDOC,g.matchST_NOWDOC,g.matchST_HEREDOC,g.consume_VARIABLE,g.matchST_BACKQUOTE,g.matchST_DOUBLE_QUOTES;var T={T_STRING:function(){var o=this.yytext.toLowerCase(),u=this.keywords[o];if(typeof u!="number"){if(o==="yield")this.version>=700&&this.tryMatch(" from")?(this.consume(5),u=this.tok.T_YIELD_FROM):u=this.tok.T_YIELD;else if(u=this.tok.T_STRING,o==="b"||o==="B"){var p=this.input(1);if(p==='"')return this.ST_DOUBLE_QUOTES();if(p==="'")return this.T_CONSTANT_ENCAPSED_STRING();p&&this.unput(1)}}return u},consume_TOKEN:function(){var o=this._input[this.offset-1],u=this.tokenTerminals[o];return u?u.apply(this,[]):this.yytext},tokenTerminals:{$:function(){return this.offset++,this.is_LABEL_START()?(this.offset--,this.consume_LABEL(),this.tok.T_VARIABLE):(this.offset--,"$")},"-":function(){var o=this._input[this.offset];return o===">"?(this.begin("ST_LOOKING_FOR_PROPERTY").input(),this.tok.T_OBJECT_OPERATOR):o==="-"?(this.input(),this.tok.T_DEC):o==="="?(this.input(),this.tok.T_MINUS_EQUAL):"-"},"\\":function(){return this.tok.T_NS_SEPARATOR},"/":function(){return this._input[this.offset]==="="?(this.input(),this.tok.T_DIV_EQUAL):"/"},":":function(){return this._input[this.offset]===":"?(this.input(),this.tok.T_DOUBLE_COLON):":"},"(":function(){var o=this.offset;if(this.input(),this.is_TABSPACE()&&this.consume_TABSPACE().input(),this.is_LABEL_START()){var u=this.yytext.length;this.consume_LABEL();var p=this.yytext.substring(u-1).toLowerCase(),h=this.castKeywords[p];if(typeof h=="number"&&(this.input(),this.is_TABSPACE()&&this.consume_TABSPACE().input(),this._input[this.offset-1]===")"))return h}return this.unput(this.offset-o),"("},"=":function(){var o=this._input[this.offset];return o===">"?(this.input(),this.tok.T_DOUBLE_ARROW):o==="="?this._input[this.offset+1]==="="?(this.consume(2),this.tok.T_IS_IDENTICAL):(this.input(),this.tok.T_IS_EQUAL):"="},"+":function(){var o=this._input[this.offset];return o==="+"?(this.input(),this.tok.T_INC):o==="="?(this.input(),this.tok.T_PLUS_EQUAL):"+"},"!":function(){return this._input[this.offset]==="="?this._input[this.offset+1]==="="?(this.consume(2),this.tok.T_IS_NOT_IDENTICAL):(this.input(),this.tok.T_IS_NOT_EQUAL):"!"},"?":function(){return this.version>=700&&this._input[this.offset]==="?"?this.version>=704&&this._input[this.offset+1]==="="?(this.consume(2),this.tok.T_COALESCE_EQUAL):(this.input(),this.tok.T_COALESCE):this.version>=800&&this._input[this.offset]==="-"&&this._input[this.offset+1]===">"?(this.consume(2),this.tok.T_NULLSAFE_OBJECT_OPERATOR):"?"},"<":function(){var o=this._input[this.offset];return o==="<"?(o=this._input[this.offset+1])==="="?(this.consume(2),this.tok.T_SL_EQUAL):o==="<"&&this.is_HEREDOC()?this.tok.T_START_HEREDOC:(this.input(),this.tok.T_SL):o==="="?(this.input(),this.version>=700&&this._input[this.offset]===">"?(this.input(),this.tok.T_SPACESHIP):this.tok.T_IS_SMALLER_OR_EQUAL):o===">"?(this.input(),this.tok.T_IS_NOT_EQUAL):"<"},">":function(){var o=this._input[this.offset];return o==="="?(this.input(),this.tok.T_IS_GREATER_OR_EQUAL):o===">"?(o=this._input[this.offset+1])==="="?(this.consume(2),this.tok.T_SR_EQUAL):(this.input(),this.tok.T_SR):">"},"*":function(){var o=this._input[this.offset];return o==="="?(this.input(),this.tok.T_MUL_EQUAL):o==="*"?(this.input(),this._input[this.offset]==="="?(this.input(),this.tok.T_POW_EQUAL):this.tok.T_POW):"*"},".":function(){var o=this._input[this.offset];return o==="="?(this.input(),this.tok.T_CONCAT_EQUAL):o==="."&&this._input[this.offset+1]==="."?(this.consume(2),this.tok.T_ELLIPSIS):"."},"%":function(){return this._input[this.offset]==="="?(this.input(),this.tok.T_MOD_EQUAL):"%"},"&":function(){var o=this._input[this.offset];return o==="="?(this.input(),this.tok.T_AND_EQUAL):o==="&"?(this.input(),this.tok.T_BOOLEAN_AND):"&"},"|":function(){var o=this._input[this.offset];return o==="="?(this.input(),this.tok.T_OR_EQUAL):o==="|"?(this.input(),this.tok.T_BOOLEAN_OR):"|"},"^":function(){return this._input[this.offset]==="="?(this.input(),this.tok.T_XOR_EQUAL):"^"}}};T.T_STRING,T.consume_TOKEN,T.tokenTerminals;var N={is_NUM:function(){var o=this._input.charCodeAt(this.offset-1);return o>47&&o<58||o===95},is_NUM_START:function(){var o=this._input.charCodeAt(this.offset-1);return o>47&&o<58},is_LABEL:function(){var o=this._input.charCodeAt(this.offset-1);return o>96&&o<123||o>64&&o<91||o===95||o>47&&o<58||o>126},is_LABEL_START:function(){var o=this._input.charCodeAt(this.offset-1);return o>64&&o<91||o>96&&o<123||o===95||o>126},consume_LABEL:function(){for(;this.offset<this.size;){var o=this.input();if(!this.is_LABEL()){o&&this.unput(1);break}}return this},is_TOKEN:function(){var o=this._input[this.offset-1];return";:,.\\[]()|^&+-/*=%!~$<>?@".indexOf(o)!==-1},is_WHITESPACE:function(){var o=this._input[this.offset-1];return o===" "||o==="	"||o===`
`||o==="\r"},is_TABSPACE:function(){var o=this._input[this.offset-1];return o===" "||o==="	"},consume_TABSPACE:function(){for(;this.offset<this.size;){var o=this.input();if(!this.is_TABSPACE()){o&&this.unput(1);break}}return this},is_HEX:function(){var o=this._input.charCodeAt(this.offset-1);return o>47&&o<58||o>64&&o<71||o>96&&o<103||o===95}};N.is_NUM,N.is_NUM_START,N.is_LABEL,N.is_LABEL_START,N.consume_LABEL,N.is_TOKEN,N.is_WHITESPACE,N.is_TABSPACE,N.consume_TABSPACE,N.is_HEX;var A=function(o){this.engine=o,this.tok=this.engine.tokens.names,this.EOF=1,this.debug=!1,this.all_tokens=!0,this.comment_tokens=!1,this.mode_eval=!1,this.asp_tags=!1,this.short_tags=!1,this.version=800,this.yyprevcol=0,this.keywords={__class__:this.tok.T_CLASS_C,__trait__:this.tok.T_TRAIT_C,__function__:this.tok.T_FUNC_C,__method__:this.tok.T_METHOD_C,__line__:this.tok.T_LINE,__file__:this.tok.T_FILE,__dir__:this.tok.T_DIR,__namespace__:this.tok.T_NS_C,exit:this.tok.T_EXIT,die:this.tok.T_EXIT,function:this.tok.T_FUNCTION,const:this.tok.T_CONST,return:this.tok.T_RETURN,try:this.tok.T_TRY,catch:this.tok.T_CATCH,finally:this.tok.T_FINALLY,throw:this.tok.T_THROW,if:this.tok.T_IF,elseif:this.tok.T_ELSEIF,endif:this.tok.T_ENDIF,else:this.tok.T_ELSE,while:this.tok.T_WHILE,endwhile:this.tok.T_ENDWHILE,do:this.tok.T_DO,for:this.tok.T_FOR,endfor:this.tok.T_ENDFOR,foreach:this.tok.T_FOREACH,endforeach:this.tok.T_ENDFOREACH,declare:this.tok.T_DECLARE,enddeclare:this.tok.T_ENDDECLARE,instanceof:this.tok.T_INSTANCEOF,as:this.tok.T_AS,switch:this.tok.T_SWITCH,endswitch:this.tok.T_ENDSWITCH,case:this.tok.T_CASE,default:this.tok.T_DEFAULT,break:this.tok.T_BREAK,continue:this.tok.T_CONTINUE,goto:this.tok.T_GOTO,echo:this.tok.T_ECHO,print:this.tok.T_PRINT,class:this.tok.T_CLASS,interface:this.tok.T_INTERFACE,trait:this.tok.T_TRAIT,extends:this.tok.T_EXTENDS,implements:this.tok.T_IMPLEMENTS,new:this.tok.T_NEW,clone:this.tok.T_CLONE,var:this.tok.T_VAR,eval:this.tok.T_EVAL,include:this.tok.T_INCLUDE,include_once:this.tok.T_INCLUDE_ONCE,require:this.tok.T_REQUIRE,require_once:this.tok.T_REQUIRE_ONCE,namespace:this.tok.T_NAMESPACE,use:this.tok.T_USE,insteadof:this.tok.T_INSTEADOF,global:this.tok.T_GLOBAL,isset:this.tok.T_ISSET,empty:this.tok.T_EMPTY,__halt_compiler:this.tok.T_HALT_COMPILER,static:this.tok.T_STATIC,abstract:this.tok.T_ABSTRACT,final:this.tok.T_FINAL,private:this.tok.T_PRIVATE,protected:this.tok.T_PROTECTED,public:this.tok.T_PUBLIC,unset:this.tok.T_UNSET,list:this.tok.T_LIST,array:this.tok.T_ARRAY,callable:this.tok.T_CALLABLE,or:this.tok.T_LOGICAL_OR,and:this.tok.T_LOGICAL_AND,xor:this.tok.T_LOGICAL_XOR,match:this.tok.T_MATCH},this.castKeywords={int:this.tok.T_INT_CAST,integer:this.tok.T_INT_CAST,real:this.tok.T_DOUBLE_CAST,double:this.tok.T_DOUBLE_CAST,float:this.tok.T_DOUBLE_CAST,string:this.tok.T_STRING_CAST,binary:this.tok.T_STRING_CAST,array:this.tok.T_ARRAY_CAST,object:this.tok.T_OBJECT_CAST,bool:this.tok.T_BOOL_CAST,boolean:this.tok.T_BOOL_CAST,unset:this.tok.T_UNSET_CAST}};A.prototype.setInput=function(o){return this._input=o,this.size=o.length,this.yylineno=1,this.offset=0,this.yyprevcol=0,this.yytext="",this.yylloc={first_offset:0,first_line:1,first_column:0,prev_offset:0,prev_line:1,prev_column:0,last_line:1,last_column:0},this.tokens=[],this.version>703?this.keywords.fn=this.tok.T_FN:delete this.keywords.fn,this.done=this.offset>=this.size,!this.all_tokens&&this.mode_eval?(this.conditionStack=["INITIAL"],this.begin("ST_IN_SCRIPTING")):(this.conditionStack=[],this.begin("INITIAL")),this.heredoc_label={label:"",length:0,indentation:0,indentation_uses_spaces:!1,finished:!1,first_encaps_node:!1,toString:function(){this.label}},this},A.prototype.input=function(){var o=this._input[this.offset];return o?(this.yytext+=o,this.offset++,o==="\r"&&this._input[this.offset]===`
`&&(this.yytext+=`
`,this.offset++),o===`
`||o==="\r"?(this.yylloc.last_line=++this.yylineno,this.yyprevcol=this.yylloc.last_column,this.yylloc.last_column=0):this.yylloc.last_column++,o):""},A.prototype.unput=function(o){if(o===1)this.offset--,this._input[this.offset]===`
`&&this._input[this.offset-1]==="\r"&&(this.offset--,o++),this._input[this.offset]==="\r"||this._input[this.offset]===`
`?(this.yylloc.last_line--,this.yylineno--,this.yylloc.last_column=this.yyprevcol):this.yylloc.last_column--,this.yytext=this.yytext.substring(0,this.yytext.length-o);else if(o>0)if(this.offset-=o,o<this.yytext.length){this.yytext=this.yytext.substring(0,this.yytext.length-o),this.yylloc.last_line=this.yylloc.first_line,this.yylloc.last_column=this.yyprevcol=this.yylloc.first_column;for(var u=0;u<this.yytext.length;u++){var p=this.yytext[u];p==="\r"?(p=this.yytext[++u],this.yyprevcol=this.yylloc.last_column,this.yylloc.last_line++,this.yylloc.last_column=0,p!==`
`&&(p==="\r"?this.yylloc.last_line++:this.yylloc.last_column++)):p===`
`?(this.yyprevcol=this.yylloc.last_column,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++}this.yylineno=this.yylloc.last_line}else this.yytext="",this.yylloc.last_line=this.yylineno=this.yylloc.first_line,this.yylloc.last_column=this.yylloc.first_column;return this},A.prototype.tryMatch=function(o){return o===this.ahead(o.length)},A.prototype.tryMatchCaseless=function(o){return o===this.ahead(o.length).toLowerCase()},A.prototype.ahead=function(o){var u=this._input.substring(this.offset,this.offset+o);return u[u.length-1]==="\r"&&this._input[this.offset+o+1]===`
`&&(u+=`
`),u},A.prototype.consume=function(o){for(var u=0;u<o;u++){var p=this._input[this.offset];if(!p)break;this.yytext+=p,this.offset++,p==="\r"&&this._input[this.offset]===`
`&&(this.yytext+=`
`,this.offset++,u++),p===`
`||p==="\r"?(this.yylloc.last_line=++this.yylineno,this.yyprevcol=this.yylloc.last_column,this.yylloc.last_column=0):this.yylloc.last_column++}return this},A.prototype.getState=function(){return{yytext:this.yytext,offset:this.offset,yylineno:this.yylineno,yyprevcol:this.yyprevcol,yylloc:{first_offset:this.yylloc.first_offset,first_line:this.yylloc.first_line,first_column:this.yylloc.first_column,last_line:this.yylloc.last_line,last_column:this.yylloc.last_column},heredoc_label:this.heredoc_label}},A.prototype.setState=function(o){return this.yytext=o.yytext,this.offset=o.offset,this.yylineno=o.yylineno,this.yyprevcol=o.yyprevcol,this.yylloc=o.yylloc,o.heredoc_label&&(this.heredoc_label=o.heredoc_label),this},A.prototype.appendToken=function(o,u){return this.tokens.push([o,u]),this},A.prototype.lex=function(){this.yylloc.prev_offset=this.offset,this.yylloc.prev_line=this.yylloc.last_line,this.yylloc.prev_column=this.yylloc.last_column;var o=this.next()||this.lex();if(!this.all_tokens){for(;o===this.tok.T_WHITESPACE||!this.comment_tokens&&(o===this.tok.T_COMMENT||o===this.tok.T_DOC_COMMENT)||o===this.tok.T_OPEN_TAG;)o=this.next()||this.lex();if(o==this.tok.T_OPEN_TAG_WITH_ECHO)return this.tok.T_ECHO;if(o===this.tok.T_CLOSE_TAG)return";"}return this.yylloc.prev_offset||(this.yylloc.prev_offset=this.yylloc.first_offset,this.yylloc.prev_line=this.yylloc.first_line,this.yylloc.prev_column=this.yylloc.first_column),o},A.prototype.begin=function(o){if(this.conditionStack.push(o),this.curCondition=o,this.stateCb=this["match"+o],typeof this.stateCb!="function")throw new Error('Undefined condition state "'+o+'"');return this},A.prototype.popState=function(){var o=this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0];if(this.curCondition=this.conditionStack[this.conditionStack.length-1],this.stateCb=this["match"+this.curCondition],typeof this.stateCb!="function")throw new Error('Undefined condition state "'+this.curCondition+'"');return o},A.prototype.next=function(){var o;if(this._input||(this.done=!0),this.yylloc.first_offset=this.offset,this.yylloc.first_line=this.yylloc.last_line,this.yylloc.first_column=this.yylloc.last_column,this.yytext="",this.done)return this.yylloc.prev_offset=this.yylloc.first_offset,this.yylloc.prev_line=this.yylloc.first_line,this.yylloc.prev_column=this.yylloc.first_column,this.EOF;if(this.tokens.length>0?(typeof(o=this.tokens.shift())[1]=="object"?this.setState(o[1]):this.consume(o[1]),o=o[0]):o=this.stateCb.apply(this,[]),this.offset>=this.size&&this.tokens.length===0&&(this.done=!0),this.debug){var u=o;u=typeof u=="number"?this.engine.tokens.values[u]:'"'+u+'"';var p=new Error(u+"	from "+this.yylloc.first_line+","+this.yylloc.first_column+"	 - to "+this.yylloc.last_line+","+this.yylloc.last_column+'	"'+this.yytext+'"');console.error(p.stack)}return o},[i,s,a,l,c,f,g,T,N].forEach(function(o){for(var u in o)A.prototype[u]=o[u]});var b=A,x=function(o,u,p){this.line=o,this.column=u,this.offset=p},v={read_array:function(){var o=null,u=!1,p=this.node("array");this.token===this.tok.T_ARRAY?(this.next().expect("("),o=")"):(u=!0,o="]");var h=[];return this.next().token!==o&&(h=this.read_array_pair_list(u)),this.expect(o),this.next(),p(u,h)},read_array_pair_list:function(o){var u=this;return this.read_list(function(){return u.read_array_pair(o)},",",!0)},read_array_pair:function(o){if(!(!o&&this.token===")"||o&&this.token==="]")){if(this.token===",")return this.node("noop")();var u=this.node("entry"),p=null,h=null,y=!1,k=!1;if(this.token==="&")this.next(),y=!0,h=this.read_variable(!0,!1);else if(this.token===this.tok.T_ELLIPSIS&&this.version>=704)this.next(),this.token==="&"&&this.error(),k=!0,h=this.read_expr();else{var B=this.read_expr();this.token===this.tok.T_DOUBLE_ARROW?(this.next(),p=B,this.token==="&"?(this.next(),y=!0,h=this.read_variable(!0,!1)):h=this.read_expr()):h=B}return u(p,h,y,k)}}};function I(o,u,p){return u in o?Object.defineProperty(o,u,{value:p,enumerable:!0,configurable:!0,writable:!0}):o[u]=p,o}function O(o,u){var p=Object.keys(o);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(o);u&&(h=h.filter(function(y){return Object.getOwnPropertyDescriptor(o,y).enumerable})),p.push.apply(p,h)}return p}function X(o){for(var u=1;u<arguments.length;u++){var p=arguments[u]!=null?arguments[u]:{};u%2?O(Object(p),!0).forEach(function(h){I(o,h,p[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(p)):O(Object(p)).forEach(function(h){Object.defineProperty(o,h,Object.getOwnPropertyDescriptor(p,h))})}return o}function Y(o,u){return function(p){if(Array.isArray(p))return p}(o)||function(p,h){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(p)))){var y=[],k=!0,B=!1,P=void 0;try{for(var U,j=p[Symbol.iterator]();!(k=(U=j.next()).done)&&(y.push(U.value),!h||y.length!==h);k=!0);}catch(D){B=!0,P=D}finally{try{k||j.return==null||j.return()}finally{if(B)throw P}}return y}}(o,u)||ue(o,u)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function te(o){return function(u){if(Array.isArray(u))return de(u)}(o)||function(u){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(u))return Array.from(u)}(o)||ue(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ue(o,u){if(o){if(typeof o=="string")return de(o,u);var p=Object.prototype.toString.call(o).slice(8,-1);return p==="Object"&&o.constructor&&(p=o.constructor.name),p==="Map"||p==="Set"?Array.from(p):p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p)?de(o,u):void 0}}function de(o,u){(u==null||u>o.length)&&(u=o.length);for(var p=0,h=new Array(u);p<u;p++)h[p]=o[p];return h}function ie(o){if(typeof Symbol=="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(o=ue(o))){var u=0,p=function(){};return{s:p,n:function(){return u>=o.length?{done:!0}:{done:!1,value:o[u++]}},e:function(P){throw P},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h,y,k=!0,B=!1;return{s:function(){h=o[Symbol.iterator]()},n:function(){var P=h.next();return k=P.done,P},e:function(P){B=!0,y=P},f:function(){try{k||h.return==null||h.return()}finally{if(B)throw y}}}}v.read_array,v.read_array_pair_list,v.read_array_pair;var pe={read_class_declaration_statement:function(o){var u=this.node("class"),p=this.read_class_modifiers();if(this.token!==this.tok.T_CLASS)return this.error(this.tok.T_CLASS),this.next(),null;this.next().expect(this.tok.T_STRING);var h=this.node("identifier"),y=this.text();this.next(),h=h(y);var k=this.read_extends_from(),B=this.read_implements_list();this.expect("{");var P=u(h,k,B,this.next().read_class_body(),p);return o&&(P.attrGroups=o),P},read_class_modifiers:function(){return[0,0,this.read_class_modifier()]},read_class_modifier:function(){return this.token===this.tok.T_ABSTRACT?(this.next(),1):this.token===this.tok.T_FINAL?(this.next(),2):0},read_class_body:function(){for(var o=[],u=[];this.token!==this.EOF&&this.token!=="}";)if(this.token!==this.tok.T_COMMENT)if(this.token!==this.tok.T_DOC_COMMENT)if(this.token!==this.tok.T_USE){this.token===this.tok.T_ATTRIBUTE&&(u=this.read_attr_list());var p=this.position(),h=this.read_member_flags(!1);if(this.token!==this.tok.T_CONST)if(this.token===this.tok.T_VAR&&(this.next().expect(this.tok.T_VARIABLE),h[0]=null,h[1]=0),this.token===this.tok.T_FUNCTION)o.push(this.read_function(!1,h,u,p)),u=[];else if(this.token===this.tok.T_VARIABLE||this.version>=704&&(this.token==="?"||this.token===this.tok.T_CALLABLE||this.token===this.tok.T_ARRAY||this.token===this.tok.T_NS_SEPARATOR||this.token===this.tok.T_STRING||this.token===this.tok.T_NAMESPACE)){var y=this.read_variable_list(h,u);u=[],this.expect(";"),this.next(),o=o.concat(y)}else this.error([this.tok.T_CONST,this.tok.T_VARIABLE,this.tok.T_FUNCTION]),this.next();else{var k=this.read_constant_list(h,u);this.expect(";")&&this.next(),o=o.concat(k)}}else o=o.concat(this.read_trait_use_statement());else o.push(this.read_doc_comment());else o.push(this.read_comment());return this.expect("}"),this.next(),o},read_variable_list:function(o,u){var p=this.node("propertystatement"),h=this.read_list(function(){var y=this.node("property"),k=Y(this.read_optional_type(),2),B=k[0],P=k[1];this.expect(this.tok.T_VARIABLE);var U=this.node("identifier"),j=this.text().substring(1);return this.next(),U=U(j),this.token===";"||this.token===","?y(U,null,B,P,u||[]):this.token==="="?y(U,this.next().read_expr(),B,P,u||[]):(this.expect([",",";","="]),y(U,null,B,P,u||[]))},",");return p(null,h,o)},read_constant_list:function(o,u){this.expect(this.tok.T_CONST)&&this.next();var p=this.node("classconstant"),h=this.read_list(function(){var y=this.node("constant"),k=null,B=null;if(this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){k=this.node("identifier");var P=this.text();this.next(),k=k(P)}else this.expect("IDENTIFIER");return this.expect("=")&&(B=this.next().read_expr()),y(k,B)},",");return p(null,h,o,u||[])},read_member_flags:function(o){var u=[-1,-1,-1];if(this.is("T_MEMBER_FLAGS")){var p=0,h=0;do{switch(this.token){case this.tok.T_PUBLIC:p=0,h=0;break;case this.tok.T_PROTECTED:p=0,h=1;break;case this.tok.T_PRIVATE:p=0,h=2;break;case this.tok.T_STATIC:p=1,h=1;break;case this.tok.T_ABSTRACT:p=2,h=1;break;case this.tok.T_FINAL:p=2,h=2}o&&(p==0&&h==2?(this.expect([this.tok.T_PUBLIC,this.tok.T_PROTECTED]),h=-1):p==2&&h==1&&(this.error(),h=-1)),u[p]!==-1?this.error():h!==-1&&(u[p]=h)}while(this.next().is("T_MEMBER_FLAGS"))}return u[1]==-1&&(u[1]=0),u[2]==-1&&(u[2]=0),u},read_optional_type:function(){var o=!1;this.token==="?"&&(o=!0,this.next());var u=this.read_types();if(o&&!u&&this.raiseError("Expecting a type definition combined with nullable operator"),!o&&!u)return[!1,null];if(this.token==="|"){u=[u];do{this.next();var p=this.read_type();if(!p){this.raiseError("Expecting a type definition");break}u.push(p)}while(this.token==="|")}return[o,u]},read_interface_declaration_statement:function(o){var u=this.node("interface");if(this.token!==this.tok.T_INTERFACE)return this.error(this.tok.T_INTERFACE),this.next(),null;this.next().expect(this.tok.T_STRING);var p=this.node("identifier"),h=this.text();this.next(),p=p(h);var y=this.read_interface_extends_list();return this.expect("{"),u(p,y,this.next().read_interface_body(),o||[])},read_interface_body:function(){for(var o=[],u=[];this.token!==this.EOF&&this.token!=="}";)if(this.token!==this.tok.T_COMMENT)if(this.token!==this.tok.T_DOC_COMMENT){var p=this.position();u=this.read_attr_list();var h=this.read_member_flags(!0);if(this.token==this.tok.T_CONST){var y=this.read_constant_list(h,u);this.expect(";")&&this.next(),o=o.concat(y),u=[]}else if(this.token===this.tok.T_FUNCTION){var k=this.read_function_declaration(2,h,u,p);k.parseFlags(h),o.push(k),this.expect(";")&&this.next(),u=[]}else this.error([this.tok.T_CONST,this.tok.T_FUNCTION]),this.next()}else o.push(this.read_doc_comment());else o.push(this.read_comment());return this.expect("}")&&this.next(),o},read_trait_declaration_statement:function(){var o=this.node("trait");if(this.token!==this.tok.T_TRAIT)return this.error(this.tok.T_TRAIT),this.next(),null;this.next().expect(this.tok.T_STRING);var u=this.node("identifier"),p=this.text();return this.next(),u=u(p),this.expect("{"),o(u,this.next().read_class_body())},read_trait_use_statement:function(){var o=this.node("traituse");this.expect(this.tok.T_USE)&&this.next();for(var u=[this.read_namespace_name()],p=null;this.token===",";)u.push(this.next().read_namespace_name());if(this.token==="{"){for(p=[];this.next().token!==this.EOF&&this.token!=="}";)p.push(this.read_trait_use_alias()),this.expect(";");this.expect("}")&&this.next()}else this.expect(";")&&this.next();return o(u,p)},read_trait_use_alias:function(){var o,u=this.node(),p=null;if(this.is("IDENTIFIER")){o=this.node("identifier");var h=this.text();this.next(),o=o(h)}else if(o=this.read_namespace_name(),this.token===this.tok.T_DOUBLE_COLON)if(this.next(),this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){p=o,o=this.node("identifier");var y=this.text();this.next(),o=o(y)}else this.expect(this.tok.T_STRING);else o=o.name;if(this.token===this.tok.T_INSTEADOF)return u("traitprecedence",p,o,this.next().read_name_list());if(this.token===this.tok.T_AS){var k=null,B=null;if(this.next().is("T_MEMBER_FLAGS")&&(k=this.read_member_flags()),this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){B=this.node("identifier");var P=this.text();this.next(),B=B(P)}else k===!1&&this.expect(this.tok.T_STRING);return u("traitalias",p,o,B,k)}return this.expect([this.tok.T_AS,this.tok.T_INSTEADOF]),u("traitalias",p,o,null,null)}};pe.read_class_declaration_statement,pe.read_class_modifiers,pe.read_class_modifier,pe.read_class_body,pe.read_variable_list,pe.read_constant_list,pe.read_member_flags,pe.read_optional_type,pe.read_interface_declaration_statement,pe.read_interface_body,pe.read_trait_declaration_statement,pe.read_trait_use_statement,pe.read_trait_use_alias;var rt={read_comment:function(){var o=this.text(),u=this.ast.prepare(o.substring(0,2)==="/*"?"commentblock":"commentline",null,this),p=this.lexer.yylloc.first_offset,h=this.prev;return this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset],this.lex(),(u=u(o)).offset=p,this.prev=h,u},read_doc_comment:function(){var o=this.ast.prepare("commentblock",null,this),u=this.lexer.yylloc.first_offset,p=this.text(),h=this.prev;return this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset],this.lex(),(o=o(p)).offset=u,this.prev=h,o}};rt.read_comment,rt.read_doc_comment;var Te={read_expr:function(o){var u=this.node();if(this.token==="@")return o||(o=this.next().read_expr()),u("silent",o);if(o||(o=this.read_expr_item()),this.token==="|")return u("bin","|",o,this.next().read_expr());if(this.token==="&")return u("bin","&",o,this.next().read_expr());if(this.token==="^")return u("bin","^",o,this.next().read_expr());if(this.token===".")return u("bin",".",o,this.next().read_expr());if(this.token==="+")return u("bin","+",o,this.next().read_expr());if(this.token==="-")return u("bin","-",o,this.next().read_expr());if(this.token==="*")return u("bin","*",o,this.next().read_expr());if(this.token==="/")return u("bin","/",o,this.next().read_expr());if(this.token==="%")return u("bin","%",o,this.next().read_expr());if(this.token===this.tok.T_POW)return u("bin","**",o,this.next().read_expr());if(this.token===this.tok.T_SL)return u("bin","<<",o,this.next().read_expr());if(this.token===this.tok.T_SR)return u("bin",">>",o,this.next().read_expr());if(this.token===this.tok.T_BOOLEAN_OR)return u("bin","||",o,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_OR)return u("bin","or",o,this.next().read_expr());if(this.token===this.tok.T_BOOLEAN_AND)return u("bin","&&",o,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_AND)return u("bin","and",o,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_XOR)return u("bin","xor",o,this.next().read_expr());if(this.token===this.tok.T_IS_IDENTICAL)return u("bin","===",o,this.next().read_expr());if(this.token===this.tok.T_IS_NOT_IDENTICAL)return u("bin","!==",o,this.next().read_expr());if(this.token===this.tok.T_IS_EQUAL)return u("bin","==",o,this.next().read_expr());if(this.token===this.tok.T_IS_NOT_EQUAL)return u("bin","!=",o,this.next().read_expr());if(this.token==="<")return u("bin","<",o,this.next().read_expr());if(this.token===">")return u("bin",">",o,this.next().read_expr());if(this.token===this.tok.T_IS_SMALLER_OR_EQUAL)return u("bin","<=",o,this.next().read_expr());if(this.token===this.tok.T_IS_GREATER_OR_EQUAL)return u("bin",">=",o,this.next().read_expr());if(this.token===this.tok.T_SPACESHIP)return u("bin","<=>",o,this.next().read_expr());if(this.token===this.tok.T_INSTANCEOF&&(o=u("bin","instanceof",o,this.next().read_class_name_reference()),this.token!==";"&&this.token!==this.tok.T_INLINE_HTML&&this.token!==this.EOF&&(o=this.read_expr(o))),this.token===this.tok.T_COALESCE)return u("bin","??",o,this.next().read_expr());if(this.token==="?"){var p=null;return this.next().token!==":"&&(p=this.read_expr()),this.expect(":")&&this.next(),u("retif",o,p,this.read_expr())}return u.destroy(o),o},read_expr_cast:function(o){return this.node("cast")(o,this.text(),this.next().read_expr())},read_isset_variable:function(){return this.read_expr()},read_isset_variables:function(){return this.read_function_list(this.read_isset_variable,",")},read_internal_functions_in_yacc:function(){var o=null;switch(this.token){case this.tok.T_ISSET:o=this.node("isset"),this.next().expect("(")&&this.next();var u=this.read_isset_variables();this.expect(")")&&this.next(),o=o(u);break;case this.tok.T_EMPTY:o=this.node("empty"),this.next().expect("(")&&this.next();var p=this.read_expr();this.expect(")")&&this.next(),o=o(p);break;case this.tok.T_INCLUDE:o=this.node("include")(!1,!1,this.next().read_expr());break;case this.tok.T_INCLUDE_ONCE:o=this.node("include")(!0,!1,this.next().read_expr());break;case this.tok.T_EVAL:o=this.node("eval"),this.next().expect("(")&&this.next();var h=this.read_expr();this.expect(")")&&this.next(),o=o(h);break;case this.tok.T_REQUIRE:o=this.node("include")(!1,!0,this.next().read_expr());break;case this.tok.T_REQUIRE_ONCE:o=this.node("include")(!0,!0,this.next().read_expr())}return o},read_optional_expr:function(o){return this.token!==o?this.read_expr():null},read_exit_expr:function(){var o=null;return this.token==="("&&(this.next(),o=this.read_optional_expr(")"),this.expect(")")&&this.next()),o},read_expr_item:function(){var o,u,p=[];if(this.token==="+")return this.node("unary")("+",this.next().read_expr());if(this.token==="-")return this.node("unary")("-",this.next().read_expr());if(this.token==="!")return this.node("unary")("!",this.next().read_expr());if(this.token==="~")return this.node("unary")("~",this.next().read_expr());if(this.token==="(")return(u=this.next().read_expr()).parenthesizedExpression=!0,this.expect(")")&&this.next(),this.handleDereferencable(u);if(this.token==="`")return this.read_encapsed_string("`");if(this.token===this.tok.T_LIST){var h=null,y=this.innerList;o=this.node("list"),y||(h=this.node("assign")),this.next().expect("(")&&this.next(),this.innerList||(this.innerList=!0);var k=this.read_array_pair_list(!1);this.expect(")")&&this.next();for(var B=!1,P=0;P<k.length;P++)if(k[P]!==null&&k[P].kind!=="noop"){B=!0;break}return B||this.raiseError("Fatal Error :  Cannot use empty list on line "+this.lexer.yylloc.first_line),y?o(k,!1):(this.innerList=!1,this.expect("=")?h(o(k,!1),this.next().read_expr(),"="):o(k,!1))}if(this.token===this.tok.T_ATTRIBUTE&&(p=this.read_attr_list()),this.token===this.tok.T_CLONE)return this.node("clone")(this.next().read_expr());switch(this.token){case this.tok.T_INC:return this.node("pre")("+",this.next().read_variable(!1,!1));case this.tok.T_DEC:return this.node("pre")("-",this.next().read_variable(!1,!1));case this.tok.T_NEW:return this.read_new_expr();case this.tok.T_ISSET:case this.tok.T_EMPTY:case this.tok.T_INCLUDE:case this.tok.T_INCLUDE_ONCE:case this.tok.T_EVAL:case this.tok.T_REQUIRE:case this.tok.T_REQUIRE_ONCE:return this.read_internal_functions_in_yacc();case this.tok.T_MATCH:return this.read_match_expression();case this.tok.T_INT_CAST:return this.read_expr_cast("int");case this.tok.T_DOUBLE_CAST:return this.read_expr_cast("float");case this.tok.T_STRING_CAST:return this.read_expr_cast(this.text().indexOf("binary")!==-1?"binary":"string");case this.tok.T_ARRAY_CAST:return this.read_expr_cast("array");case this.tok.T_OBJECT_CAST:return this.read_expr_cast("object");case this.tok.T_BOOL_CAST:return this.read_expr_cast("bool");case this.tok.T_UNSET_CAST:return this.read_expr_cast("unset");case this.tok.T_THROW:return this.version<800&&this.raiseError("PHP 8+ is required to use throw as an expression"),this.node("throw")(this.next().read_expr());case this.tok.T_EXIT:var U=this.lexer.yytext.toLowerCase()==="die";return o=this.node("exit"),this.next(),o(this.read_exit_expr(),U);case this.tok.T_PRINT:return this.node("print")(this.next().read_expr());case this.tok.T_YIELD:var j=null,D=null;return o=this.node("yield"),this.next().is("EXPR")&&(j=this.read_expr(),this.token===this.tok.T_DOUBLE_ARROW&&(D=j,j=this.next().read_expr())),o(j,D);case this.tok.T_YIELD_FROM:return(o=this.node("yieldfrom"))(u=this.next().read_expr());case this.tok.T_FN:case this.tok.T_FUNCTION:return this.read_inline_function(void 0,p);case this.tok.T_STATIC:var je=[this.token,this.lexer.getState()];if(this.next(),this.token===this.tok.T_FUNCTION||this.version>=704&&this.token===this.tok.T_FN)return this.read_inline_function([0,1,0],p);this.lexer.tokens.push(je),this.next()}if(this.is("VARIABLE")){o=this.node();var Ge=(u=this.read_variable(!1,!1)).kind==="identifier"||u.kind==="staticlookup"&&u.offset.kind==="identifier";switch(this.token){case"=":return Ge&&this.error("VARIABLE"),this.next().token=="&"?this.read_assignref(o,u):o("assign",u,this.read_expr(),"=");case this.tok.T_PLUS_EQUAL:return Ge&&this.error("VARIABLE"),o("assign",u,this.next().read_expr(),"+=");case this.tok.T_MINUS_EQUAL:return Ge&&this.error("VARIABLE"),o("assign",u,this.next().read_expr(),"-=");case this.tok.T_MUL_EQUAL:return Ge&&this.error("VARIABLE"),o("assign",u,this.next().read_expr(),"*=");case this.tok.T_POW_EQUAL:return Ge&&this.error("VARIABLE"),o("assign",u,this.next().read_expr(),"**=");case this.tok.T_DIV_EQUAL:return Ge&&this.error("VARIABLE"),o("assign",u,this.next().read_expr(),"/=");case this.tok.T_CONCAT_EQUAL:return Ge&&this.error("VARIABLE"),o("assign",u,this.next().read_expr(),".=");case this.tok.T_MOD_EQUAL:return Ge&&this.error("VARIABLE"),o("assign",u,this.next().read_expr(),"%=");case this.tok.T_AND_EQUAL:return Ge&&this.error("VARIABLE"),o("assign",u,this.next().read_expr(),"&=");case this.tok.T_OR_EQUAL:return Ge&&this.error("VARIABLE"),o("assign",u,this.next().read_expr(),"|=");case this.tok.T_XOR_EQUAL:return Ge&&this.error("VARIABLE"),o("assign",u,this.next().read_expr(),"^=");case this.tok.T_SL_EQUAL:return Ge&&this.error("VARIABLE"),o("assign",u,this.next().read_expr(),"<<=");case this.tok.T_SR_EQUAL:return Ge&&this.error("VARIABLE"),o("assign",u,this.next().read_expr(),">>=");case this.tok.T_COALESCE_EQUAL:return Ge&&this.error("VARIABLE"),o("assign",u,this.next().read_expr(),"??=");case this.tok.T_INC:return Ge&&this.error("VARIABLE"),this.next(),o("post","+",u);case this.tok.T_DEC:return Ge&&this.error("VARIABLE"),this.next(),o("post","-",u);default:o.destroy(u)}}else{if(this.is("SCALAR")){if(o=this.node(),(u=this.read_scalar()).kind==="array"&&u.shortForm&&this.token==="="){var Nt=this.convertToList(u);return u.loc&&(Nt.loc=u.loc),o("assign",Nt,this.next().read_expr(),"=")}return o.destroy(u),this.handleDereferencable(u)}this.error("EXPR"),this.next()}return u},convertToList:function(o){var u=this,p=o.items.map(function(y){return y.value&&y.value.kind==="array"&&y.value.shortForm&&(y.value=u.convertToList(y.value)),y}),h=this.node("list")(p,!0);return o.loc&&(h.loc=o.loc),o.leadingComments&&(h.leadingComments=o.leadingComments),o.trailingComments&&(h.trailingComments=o.trailingComments),h},read_assignref:function(o,u){var p;return this.next(),this.token===this.tok.T_NEW?(this.version>=700&&this.error(),p=this.read_new_expr()):p=this.read_variable(!1,!1),o("assignref",u,p)},read_inline_function:function(o,u){if(this.token===this.tok.T_FUNCTION){var p=this.read_function(!0,o,u);return p.attrGroups=u,p}!this.version>=704&&this.raiseError("Arrow Functions are not allowed");var h=this.node("arrowfunc");this.expect(this.tok.T_FN)&&this.next();var y=this.is_reference();this.expect("(")&&this.next();var k=this.read_parameter_list();this.expect(")")&&this.next();var B=!1,P=null;this.token===":"&&(this.next().token==="?"&&(B=!0,this.next()),P=this.read_types()),this.expect(this.tok.T_DOUBLE_ARROW)&&this.next();var U=h(k,y,this.read_expr(),P,B,!!o);return U.attrGroups=u,U},read_match_expression:function(){var o=this.node("match");this.expect(this.tok.T_MATCH)&&this.next(),this.version<800&&this.raiseError("Match statements are not allowed before PHP 8");var u,p;return this.expect("(")&&this.next(),u=this.read_expr(),this.expect(")")&&this.next(),this.expect("{")&&this.next(),p=this.read_match_arms(),this.expect("}")&&this.next(),o(u,p)},read_match_arms:function(){var o=this;return this.read_list(function(){return o.read_match_arm()},",",!0)},read_match_arm:function(){if(this.token!=="}")return this.node("matcharm")(this.read_match_arm_conds(),this.read_expr())},read_match_arm_conds:function(){var o=[];if(this.token===this.tok.T_DEFAULT)o=null,this.next();else for(o.push(this.read_expr());this.token===",";){if(this.next(),this.token===this.tok.T_DOUBLE_ARROW)return this.next(),o;o.push(this.read_expr())}return this.expect(this.tok.T_DOUBLE_ARROW)&&this.next(),o},read_attribute(){var o=this.text(),u=[];return this.next(),this.token==="("&&(u=this.read_argument_list()),this.node("attribute")(o,u)},read_attr_list(){var o=[];if(this.token===this.tok.T_ATTRIBUTE)do{var u=this.node("attrgroup")([]);for(this.next(),u.attrs.push(this.read_attribute());this.token===",";)this.next(),this.token!=="]"&&u.attrs.push(this.read_attribute());o.push(u),this.expect("]"),this.next()}while(this.token===this.tok.T_ATTRIBUTE);return o},read_new_expr:function(){var o=this.node("new");this.expect(this.tok.T_NEW)&&this.next();var u=[],p=this.read_attr_list();if(this.token===this.tok.T_CLASS){var h=this.node("class");this.next().token==="("&&(u=this.read_argument_list());var y=this.read_extends_from(),k=this.read_implements_list(),B=null;this.expect("{")&&(B=this.next().read_class_body());var P=h(null,y,k,B,[0,0,0]);return P.attrGroups=p,o(P,u)}var U=this.read_new_class_name();return this.token==="("&&(u=this.read_argument_list()),o(U,u)},read_new_class_name:function(){if(this.token===this.tok.T_NS_SEPARATOR||this.token===this.tok.T_STRING||this.token===this.tok.T_NAMESPACE){var o=this.read_namespace_name(!0);return this.token===this.tok.T_DOUBLE_COLON&&(o=this.read_static_getter(o)),o}if(this.is("VARIABLE"))return this.read_variable(!0,!1);this.expect([this.tok.T_STRING,"VARIABLE"])},handleDereferencable:function(o){for(;this.token!==this.EOF;)if(this.token===this.tok.T_OBJECT_OPERATOR||this.token===this.tok.T_DOUBLE_COLON)o=this.recursive_variable_chain_scan(o,!1,!1,!0);else if(this.token===this.tok.T_CURLY_OPEN||this.token==="[")o=this.read_dereferencable(o);else{if(this.token!=="(")return o;o=this.node("call")(o,this.read_argument_list())}return o}};Te.read_expr,Te.read_expr_cast,Te.read_isset_variable,Te.read_isset_variables,Te.read_internal_functions_in_yacc,Te.read_optional_expr,Te.read_exit_expr,Te.read_expr_item,Te.convertToList,Te.read_assignref,Te.read_inline_function,Te.read_match_expression,Te.read_match_arms,Te.read_match_arm,Te.read_match_arm_conds,Te.read_attribute,Te.read_attr_list,Te.read_new_expr,Te.read_new_class_name,Te.handleDereferencable;var le={is_reference:function(){return this.token=="&"&&(this.next(),!0)},is_variadic:function(){return this.token===this.tok.T_ELLIPSIS&&(this.next(),!0)},read_function:function(o,u,p,h){var y=this.read_function_declaration(o?1:u?2:0,u&&u[1]===1,p||[],h);return u&&u[2]==1?(y.parseFlags(u),this.expect(";")&&this.next()):(this.expect("{")&&(y.body=this.read_code_block(!1),y.loc&&y.body.loc&&(y.loc.end=y.body.loc.end)),!o&&u&&y.parseFlags(u)),y},read_function_declaration:function(o,u,p,h){var y=this,k="function";o===1?k="closure":o===2&&(k="method");var B=this.node(k);this.expect(this.tok.T_FUNCTION)&&this.next();var P=this.is_reference(),U=!1,j=[],D=null,je=!1;if(o!==1){var Ge=this.node("identifier");o===2?this.version>=700?this.token===this.tok.T_STRING||this.is("IDENTIFIER")?(U=this.text(),this.next()):this.version<704&&this.error("IDENTIFIER"):this.token===this.tok.T_STRING?(U=this.text(),this.next()):this.error("IDENTIFIER"):this.version>=700?this.token===this.tok.T_STRING?(U=this.text(),this.next()):this.version>=704?this.expect("(")||this.next():(this.error(this.tok.T_STRING),this.next()):(this.expect(this.tok.T_STRING)&&(U=this.text()),this.next()),U=Ge(U)}this.expect("(")&&this.next();var Nt=this.read_parameter_list();this.expect(")")&&this.next(),o===1&&(j=this.read_lexical_vars()),this.token===":"&&(this.next().token==="?"&&(je=!0,this.next()),D=this.read_types());var Ut=function(Fe){return Fe.attrGroups=p||[],h&&Fe.loc&&(Fe.loc.start=h,Fe.loc.source&&(Fe.loc.source=y.lexer._input.substr(Fe.loc.start.offset,Fe.loc.end.offset-Fe.loc.start.offset))),Fe};return Ut(o===1?B(Nt,P,j,D,je,u):B(U,Nt,P,D,je))},read_lexical_vars:function(){var o=[];return this.token===this.tok.T_USE&&(this.next(),this.expect("(")&&this.next(),o=this.read_lexical_var_list(),this.expect(")")&&this.next()),o},read_list_with_dangling_comma:function(o){for(var u=[];this.token!=this.EOF;){if(u.push(o()),this.token!=","){if(this.token==")")break;this.error([",",")"]);break}if(this.next(),this.version>=800&&this.token===")")return u}return u},read_lexical_var_list:function(){return this.read_list_with_dangling_comma(this.read_lexical_var.bind(this))},read_lexical_var:function(){if(this.token==="&")return this.read_byref(this.read_lexical_var.bind(this));var o=this.node("variable");this.expect(this.tok.T_VARIABLE);var u=this.text().substring(1);return this.next(),o(u,!1)},read_parameter_list:function(){return this.token!=")"?this.read_list_with_dangling_comma(this.read_parameter.bind(this)):[]},read_parameter:function(){var o,u=this.node("parameter"),p=null,h=null,y=!1,k=[];this.token===this.tok.T_ATTRIBUTE&&(k=this.read_attr_list());var B=this.read_promoted();this.token==="?"&&(this.next(),y=!0),o=this.read_types(),y&&!o&&this.raiseError("Expecting a type definition combined with nullable operator");var P=this.is_reference(),U=this.is_variadic();if(this.expect(this.tok.T_VARIABLE)){p=this.node("identifier");var j=this.text().substring(1);this.next(),p=p(j)}this.token=="="&&(h=this.next().read_expr());var D=u(p,o,h,P,U,y,B);return k&&(D.attrGroups=k),D},read_types(){var o=[],u=this.node("uniontype"),p=this.read_type();if(!p)return null;for(o.push(p);this.token==="|";)this.next(),p=this.read_type(),o.push(p);return o.length===1?o[0]:u(o)},read_promoted(){return this.token===this.tok.T_PUBLIC?(this.next(),1):this.token===this.tok.T_PROTECTED?(this.next(),2):this.token===this.tok.T_PRIVATE?(this.next(),4):0},read_argument_list:function(){var o=[];return this.expect("(")&&this.next(),this.token!==")"&&(o=this.read_non_empty_argument_list()),this.expect(")")&&this.next(),o},read_non_empty_argument_list:function(){var o=!1;return this.read_function_list(function(){var u=this.read_argument();return u&&(o&&this.raiseError("Unexpected argument after a variadic argument"),u.kind==="variadic"&&(o=!0)),u}.bind(this),",")},read_argument:function(){if(this.token===this.tok.T_ELLIPSIS)return this.node("variadic")(this.next().read_expr());if(this.token===this.tok.T_STRING||Object.values(this.lexer.keywords).includes(this.token)){var o=this.lexer.getState(),u=this.lexer.lex();if(this.lexer.setState(o),u===":")return this.version<800&&this.raiseError("PHP 8+ is required to use named arguments"),this.node("namedargument")(this.text(),this.next().next().read_expr())}return this.read_expr()},read_type:function(){var o=this.node();if(this.token===this.tok.T_ARRAY||this.token===this.tok.T_CALLABLE){var u=this.text();return this.next(),o("typereference",u.toLowerCase(),u)}if(this.token===this.tok.T_STRING||this.token===this.tok.T_STATIC){var p=this.text(),h=[this.token,this.lexer.getState()];return this.next(),this.token!==this.tok.T_NS_SEPARATOR&&this.ast.typereference.types.indexOf(p.toLowerCase())>-1?o("typereference",p.toLowerCase(),p):(this.lexer.tokens.push(h),this.next(),o.destroy(),this.read_namespace_name())}return this.token===this.tok.T_NAMESPACE||this.token===this.tok.T_NS_SEPARATOR?(o.destroy(),this.read_namespace_name()):(o.destroy(),null)}};le.is_reference,le.is_variadic,le.read_function,le.read_function_declaration,le.read_lexical_vars,le.read_list_with_dangling_comma,le.read_lexical_var_list,le.read_lexical_var,le.read_parameter_list,le.read_parameter,le.read_types,le.read_promoted,le.read_argument_list,le.read_non_empty_argument_list,le.read_argument,le.read_type;var dt={read_if:function(){var o=this.node("if"),u=this.next().read_if_expr(),p=null,h=null,y=!1;if(this.token===":"){y=!0,this.next(),p=this.node("block");for(var k=[];this.token!==this.EOF&&this.token!==this.tok.T_ENDIF;){if(this.token===this.tok.T_ELSEIF){h=this.read_elseif_short();break}if(this.token===this.tok.T_ELSE){h=this.read_else_short();break}k.push(this.read_inner_statement())}p=p(null,k),this.expect(this.tok.T_ENDIF)&&this.next(),this.expectEndOfStatement()}else p=this.read_statement(),this.token===this.tok.T_ELSEIF?h=this.read_if():this.token===this.tok.T_ELSE&&(h=this.next().read_statement());return o(u,p,h,y)},read_if_expr:function(){this.expect("(")&&this.next();var o=this.read_expr();return this.expect(")")&&this.next(),o},read_elseif_short:function(){var o=null,u=this.node("if"),p=this.next().read_if_expr();this.expect(":")&&this.next();for(var h=this.node("block"),y=[];this.token!=this.EOF&&this.token!==this.tok.T_ENDIF;){if(this.token===this.tok.T_ELSEIF){o=this.read_elseif_short();break}if(this.token===this.tok.T_ELSE){o=this.read_else_short();break}y.push(this.read_inner_statement())}return u(p,h(null,y),o,!0)},read_else_short:function(){this.next().expect(":")&&this.next();for(var o=this.node("block"),u=[];this.token!=this.EOF&&this.token!==this.tok.T_ENDIF;)u.push(this.read_inner_statement());return o(null,u)}};dt.read_if,dt.read_if_expr,dt.read_elseif_short,dt.read_else_short;var At={read_while:function(){var o=this.node("while");this.expect(this.tok.T_WHILE)&&this.next();var u,p=null,h=!1;return this.expect("(")&&this.next(),u=this.read_expr(),this.expect(")")&&this.next(),this.token===":"?(h=!0,p=this.read_short_form(this.tok.T_ENDWHILE)):p=this.read_statement(),o(u,p,h)},read_do:function(){var o=this.node("do");this.expect(this.tok.T_DO)&&this.next();var u,p=null;return u=this.read_statement(),this.expect(this.tok.T_WHILE)&&(this.next().expect("(")&&this.next(),p=this.read_expr(),this.expect(")")&&this.next(),this.expect(";")&&this.next()),o(p,u)},read_for:function(){var o=this.node("for");this.expect(this.tok.T_FOR)&&this.next();var u=[],p=[],h=[],y=null,k=!1;return this.expect("(")&&this.next(),this.token!==";"?(u=this.read_list(this.read_expr,","),this.expect(";")&&this.next()):this.next(),this.token!==";"?(p=this.read_list(this.read_expr,","),this.expect(";")&&this.next()):this.next(),this.token!==")"?(h=this.read_list(this.read_expr,","),this.expect(")")&&this.next()):this.next(),this.token===":"?(k=!0,y=this.read_short_form(this.tok.T_ENDFOR)):y=this.read_statement(),o(u,p,h,y,k)},read_foreach:function(){var o=this.node("foreach");this.expect(this.tok.T_FOREACH)&&this.next();var u,p=null,h=null,y=null,k=!1;return this.expect("(")&&this.next(),u=this.read_expr(),this.expect(this.tok.T_AS)&&(this.next(),h=this.read_foreach_variable(),this.token===this.tok.T_DOUBLE_ARROW&&(p=h,h=this.next().read_foreach_variable())),p&&p.kind==="list"&&this.raiseError("Fatal Error : Cannot use list as key element"),this.expect(")")&&this.next(),this.token===":"?(k=!0,y=this.read_short_form(this.tok.T_ENDFOREACH)):y=this.read_statement(),o(u,p,h,y,k)},read_foreach_variable:function(){if(this.token===this.tok.T_LIST||this.token==="["){var o=this.token==="[",u=this.node("list");this.next(),!o&&this.expect("(")&&this.next();var p=this.read_array_pair_list(o);return this.expect(o?"]":")")&&this.next(),u(p,o)}return this.read_variable(!1,!1)}};At.read_while,At.read_do,At.read_for,At.read_foreach,At.read_foreach_variable;var vn={read_start:function(){return this.token==this.tok.T_NAMESPACE?this.read_namespace():this.read_top_statement()}};vn.read_start;var ze={read_namespace:function(){var o,u,p=this.node("namespace");return this.expect(this.tok.T_NAMESPACE)&&this.next(),u=this.token=="{"?{name:[""]}:this.read_namespace_name(),this.currentNamespace=u,this.token==";"?(this.currentNamespace=u,o=this.next().read_top_statements(),this.expect(this.EOF),p(u.name,o,!1)):this.token=="{"?(this.currentNamespace=u,o=this.next().read_top_statements(),this.expect("}")&&this.next(),o.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&o.push(this.node("noop")()),p(u.name,o,!0)):this.token==="("?(u.resolution=this.ast.reference.RELATIVE_NAME,u.name=u.name.substring(1),p.destroy(),this.node("call")(u,this.read_argument_list())):(this.error(["{",";"]),this.currentNamespace=u,o=this.read_top_statements(),this.expect(this.EOF),p(u,o,!1))},read_namespace_name:function(o){var u=this.node(),p=!1;this.token===this.tok.T_NAMESPACE&&(this.next().expect(this.tok.T_NS_SEPARATOR)&&this.next(),p=!0);var h=this.read_list(this.tok.T_STRING,this.tok.T_NS_SEPARATOR,!0);if(!p&&h.length===1&&(o||this.token!=="(")){if(h[0].toLowerCase()==="parent")return u("parentreference",h[0]);if(h[0].toLowerCase()==="self")return u("selfreference",h[0])}return u("name",h,p)},read_use_statement:function(){var o=this.node("usegroup"),u=[],p=null;this.expect(this.tok.T_USE)&&this.next();var h=this.read_use_type();return u.push(this.read_use_declaration(!1)),this.token===","?u=u.concat(this.next().read_use_declarations(!1)):this.token==="{"&&(p=u[0].name,u=this.next().read_use_declarations(h===null),this.expect("}")&&this.next()),o=o(p,h,u),this.expect(";")&&this.next(),o},read_class_name_reference:function(){return this.read_variable(!0,!1)},read_use_declaration:function(o){var u=this.node("useitem"),p=null;o&&(p=this.read_use_type());var h=this.read_namespace_name(),y=this.read_use_alias();return u(h.name,y,p)},read_use_declarations:function(o){for(var u=[this.read_use_declaration(o)];this.token===",";){if(this.next(),o){if(this.token!==this.tok.T_FUNCTION&&this.token!==this.tok.T_CONST&&this.token!==this.tok.T_STRING)break}else if(this.token!==this.tok.T_STRING&&this.token!==this.tok.T_NS_SEPARATOR)break;u.push(this.read_use_declaration(o))}return u},read_use_alias:function(){var o=null;if(this.token===this.tok.T_AS&&this.next().expect(this.tok.T_STRING)){var u=this.node("identifier"),p=this.text();this.next(),o=u(p)}return o},read_use_type:function(){return this.token===this.tok.T_FUNCTION?(this.next(),this.ast.useitem.TYPE_FUNCTION):this.token===this.tok.T_CONST?(this.next(),this.ast.useitem.TYPE_CONST):null}};ze.read_namespace,ze.read_namespace_name,ze.read_use_statement,ze.read_class_name_reference,ze.read_use_declaration,ze.read_use_declarations,ze.read_use_alias,ze.read_use_type;var Ht={"\\":"\\",$:"$",n:`
`,r:"\r",t:"	",f:String.fromCharCode(12),v:String.fromCharCode(11),e:String.fromCharCode(27)},wn={resolve_special_chars:function(o,u){return u?o.replace(/\\"/,'"').replace(/\\([\\$nrtfve]|[xX][0-9a-fA-F]{1,2}|[0-7]{1,3}|u{([0-9a-fA-F]+)})/g,function(p,h,y){return Ht[h]?Ht[h]:h[0]==="x"||h[0]==="X"?String.fromCodePoint(parseInt(h.substr(1),16)):h[0]==="u"?String.fromCodePoint(parseInt(y,16)):String.fromCodePoint(parseInt(h,8))}):o.replace(/\\\\/g,"\\").replace(/\\'/g,"'")},remove_heredoc_leading_whitespace_chars:function(o,u,p,h){if(u===0)return o;this.check_heredoc_indentation_level(o,u,p,h);var y=p?" ":"	",k=new RegExp("\\n".concat(y,"{").concat(u,"}"),"g"),B=new RegExp("^".concat(y,"{").concat(u,"}"));return h&&(o=o.replace(B,"")),o.replace(k,`
`)},check_heredoc_indentation_level:function(o,u,p,h){var y=o.length,k=0,B=0,P=!0,U=p?" ":"	",j=!1;if(!h){if((k=o.indexOf(`
`))===-1)return;k++}for(;k<y;)P?o[k]===U?B++:j=!0:P=!1,o[k]!==`
`&&j&&B<u?this.raiseError("Invalid body indentation level (expecting an indentation at least ".concat(u,")")):j=!1,o[k]===`
`&&(P=!0,B=0),k++},read_dereferencable_scalar:function(){var o=null;switch(this.token){case this.tok.T_CONSTANT_ENCAPSED_STRING:var u=this.node("string"),p=this.text(),h=0;p[0]!=="b"&&p[0]!=="B"||(h=1);var y=p[h]==='"';this.next(),u=u(y,this.resolve_special_chars(p.substring(h+1,p.length-1),y),h===1,p),o=this.token===this.tok.T_DOUBLE_COLON?this.read_static_getter(u):u;break;case this.tok.T_ARRAY:case"[":o=this.read_array()}return o},read_scalar:function(){if(this.is("T_MAGIC_CONST"))return this.get_magic_constant();var o,u;switch(this.token){case this.tok.T_LNUMBER:case this.tok.T_DNUMBER:var p=this.node("number");return o=this.text(),this.next(),p(o,null);case this.tok.T_START_HEREDOC:if(this.lexer.curCondition==="ST_NOWDOC"){var h=this.lexer.yylloc.first_offset;u=this.node("nowdoc"),o=this.next().text(),this.lexer.heredoc_label.indentation>0&&(o=o.substring(0,o.length-this.lexer.heredoc_label.indentation));var y=o[o.length-1];y===`
`?o=o[o.length-2]==="\r"?o.substring(0,o.length-2):o.substring(0,o.length-1):y==="\r"&&(o=o.substring(0,o.length-1)),this.expect(this.tok.T_ENCAPSED_AND_WHITESPACE)&&this.next(),this.expect(this.tok.T_END_HEREDOC)&&this.next();var k=this.lexer._input.substring(h,this.lexer.yylloc.first_offset);return u=u(this.remove_heredoc_leading_whitespace_chars(o,this.lexer.heredoc_label.indentation,this.lexer.heredoc_label.indentation_uses_spaces,this.lexer.heredoc_label.first_encaps_node),k,this.lexer.heredoc_label.label)}return this.read_encapsed_string(this.tok.T_END_HEREDOC);case'"':return this.read_encapsed_string('"');case'b"':case'B"':return this.read_encapsed_string('"',!0);case this.tok.T_CONSTANT_ENCAPSED_STRING:case this.tok.T_ARRAY:case"[":return this.read_dereferencable_scalar();default:var B=this.error("SCALAR");return this.next(),B}},read_dereferencable:function(o){var u,p,h=this.node("offsetlookup");return this.token==="["?(p=this.next().read_expr(),this.expect("]")&&this.next(),u=h(o,p)):this.token===this.tok.T_DOLLAR_OPEN_CURLY_BRACES&&(u=h(o,p=this.read_encapsed_string_item(!1))),u},read_encapsed_string_item:function(o){var u,p,h,y=this.node("encapsedpart"),k=null,B=!1,P=this.node();if(this.token===this.tok.T_ENCAPSED_AND_WHITESPACE){var U=this.text();this.next(),P=P("string",!1,this.version>=703&&!this.lexer.heredoc_label.finished?this.remove_heredoc_leading_whitespace_chars(this.resolve_special_chars(U,o),this.lexer.heredoc_label.indentation,this.lexer.heredoc_label.indentation_uses_spaces,this.lexer.heredoc_label.first_encaps_node):U,!1,U)}else if(this.token===this.tok.T_DOLLAR_OPEN_CURLY_BRACES){if(k="simple",B=!0,h=null,this.next().token===this.tok.T_STRING_VARNAME){h=this.node("variable");var j=this.text();this.next(),this.token==="["?(h=h(j,!1),p=this.node("offsetlookup"),u=this.next().read_expr(),this.expect("]")&&this.next(),P=p(h,u)):P=h(j,!1)}else P=P("variable",this.read_expr(),!1);this.expect("}")&&this.next()}else if(this.token===this.tok.T_CURLY_OPEN)k="complex",P.destroy(),P=this.next().read_variable(!1,!1),this.expect("}")&&this.next();else if(this.token===this.tok.T_VARIABLE){if(k="simple",P.destroy(),P=this.read_simple_variable(),this.token==="["&&(p=this.node("offsetlookup"),u=this.next().read_encaps_var_offset(),this.expect("]")&&this.next(),P=p(P,u)),this.token===this.tok.T_OBJECT_OPERATOR){p=this.node("propertylookup"),this.next().expect(this.tok.T_STRING);var D=this.node("identifier");h=this.text(),this.next(),P=p(P,D(h))}}else{this.expect(this.tok.T_ENCAPSED_AND_WHITESPACE);var je=this.text();this.next(),P.destroy(),P=P("string",!1,je,!1,je)}return this.lexer.heredoc_label.first_encaps_node=!1,y(P,k,B)},read_encapsed_string:function(o){var u=arguments.length>1&&arguments[1]!==void 0&&arguments[1],p=this.lexer.yylloc.first_offset,h=this.node("encapsed");this.next();var y=this.lexer.yylloc.prev_offset-(u?1:0),k=[],B=null;for(B=o==="`"?this.ast.encapsed.TYPE_SHELL:o==='"'?this.ast.encapsed.TYPE_STRING:this.ast.encapsed.TYPE_HEREDOC;this.token!==o&&this.token!==this.EOF;)k.push(this.read_encapsed_string_item(!0));if(k.length>0&&k[k.length-1].kind==="encapsedpart"&&k[k.length-1].expression.kind==="string"){var P=k[k.length-1].expression,U=P.value[P.value.length-1];U===`
`?P.value[P.value.length-2]==="\r"?P.value=P.value.substring(0,P.value.length-2):P.value=P.value.substring(0,P.value.length-1):U==="\r"&&(P.value=P.value.substring(0,P.value.length-1))}this.expect(o)&&this.next();var j=this.lexer._input.substring(B==="heredoc"?p:y-1,this.lexer.yylloc.first_offset);return h=h(k,j,B),o===this.tok.T_END_HEREDOC&&(h.label=this.lexer.heredoc_label.label,this.lexer.heredoc_label.finished=!0),h},get_magic_constant:function(){var o=this.node("magic"),u=this.text();return this.next(),o(u.toUpperCase(),u)}};wn.resolve_special_chars,wn.remove_heredoc_leading_whitespace_chars,wn.check_heredoc_indentation_level,wn.read_dereferencable_scalar,wn.read_scalar,wn.read_dereferencable,wn.read_encapsed_string_item,wn.read_encapsed_string,wn.get_magic_constant;var Qn={read_top_statements:function(){for(var o=[];this.token!==this.EOF&&this.token!=="}";){var u=this.read_top_statement();u&&(Array.isArray(u)?o=o.concat(u):o.push(u))}return o},read_top_statement:function(){var o=[];switch(this.token===this.tok.T_ATTRIBUTE&&(o=this.read_attr_list()),this.token){case this.tok.T_FUNCTION:return this.read_function(!1,!1,o);case this.tok.T_ABSTRACT:case this.tok.T_FINAL:case this.tok.T_CLASS:return this.read_class_declaration_statement(o);case this.tok.T_INTERFACE:return this.read_interface_declaration_statement(o);case this.tok.T_TRAIT:return this.read_trait_declaration_statement();case this.tok.T_USE:return this.read_use_statement();case this.tok.T_CONST:var u=this.node("constantstatement"),p=this.next().read_const_list();return this.expectEndOfStatement(),u(null,p);case this.tok.T_NAMESPACE:return this.read_namespace();case this.tok.T_HALT_COMPILER:var h=this.node("halt");return this.next().expect("(")&&this.next(),this.expect(")")&&this.next(),this.expect(";"),this.lexer.done=!0,h(this.lexer._input.substring(this.lexer.offset));default:return this.read_statement()}},read_inner_statements:function(){for(var o=[];this.token!=this.EOF&&this.token!=="}";){var u=this.read_inner_statement();u&&(Array.isArray(u)?o=o.concat(u):o.push(u))}return o},read_const_list:function(){return this.read_list(function(){this.expect(this.tok.T_STRING);var o=this.node("constant"),u=this.node("identifier"),p=this.text();return this.next(),u=u(p),this.expect("=")?o(u,this.next().read_expr()):o(u,null)},",",!1)},read_declare_list:function(){for(var o=[];this.token!=this.EOF&&this.token!==")";){this.expect(this.tok.T_STRING);var u=this.node("declaredirective"),p=this.node("identifier"),h=this.text();this.next(),p=p(h);var y=null;if(this.expect("=")&&(y=this.next().read_expr()),o.push(u(p,y)),this.token!==",")break;this.next()}return o},read_inner_statement:function(){var o=[];switch(this.token===this.tok.T_ATTRIBUTE&&(o=this.read_attr_list()),this.token){case this.tok.T_FUNCTION:var u=this.read_function(!1,!1);return u.attrGroups=o,u;case this.tok.T_ABSTRACT:case this.tok.T_FINAL:case this.tok.T_CLASS:return this.read_class_declaration_statement();case this.tok.T_INTERFACE:return this.read_interface_declaration_statement();case this.tok.T_TRAIT:return this.read_trait_declaration_statement();case this.tok.T_HALT_COMPILER:this.raiseError("__HALT_COMPILER() can only be used from the outermost scope");var p=this.node("halt");return this.next().expect("(")&&this.next(),this.expect(")")&&this.next(),p=p(this.lexer._input.substring(this.lexer.offset)),this.expect(";")&&this.next(),p;default:return this.read_statement()}},read_statement:function(){switch(this.token){case"{":return this.read_code_block(!1);case this.tok.T_IF:return this.read_if();case this.tok.T_SWITCH:return this.read_switch();case this.tok.T_FOR:return this.read_for();case this.tok.T_FOREACH:return this.read_foreach();case this.tok.T_WHILE:return this.read_while();case this.tok.T_DO:return this.read_do();case this.tok.T_COMMENT:return this.read_comment();case this.tok.T_DOC_COMMENT:return this.read_doc_comment();case this.tok.T_RETURN:var o=this.node("return");this.next();var u=this.read_optional_expr(";");return this.expectEndOfStatement(),o(u);case this.tok.T_BREAK:case this.tok.T_CONTINUE:var p=this.node(this.token===this.tok.T_CONTINUE?"continue":"break");this.next();var h=this.read_optional_expr(";");return this.expectEndOfStatement(),p(h);case this.tok.T_GLOBAL:var y=this.node("global"),k=this.next().read_list(this.read_simple_variable,",");return this.expectEndOfStatement(),y(k);case this.tok.T_STATIC:var B=[this.token,this.lexer.getState()],P=this.node();if(this.next().token===this.tok.T_DOUBLE_COLON){this.lexer.tokens.push(B);var U=this.next().read_expr();return this.expectEndOfStatement(U),P("expressionstatement",U)}if(this.token===this.tok.T_FUNCTION)return this.read_function(!0,[0,1,0]);var j=this.read_variable_declarations();return this.expectEndOfStatement(),P("static",j);case this.tok.T_ECHO:var D=this.node("echo"),je=this.text(),Ge=je==="<?="||je==="<%=",Nt=this.next().read_function_list(this.read_expr,",");return this.expectEndOfStatement(),D(Nt,Ge);case this.tok.T_INLINE_HTML:var Ut=this.text(),Fe=this.lexer.yylloc.first_offset>0?this.lexer._input[this.lexer.yylloc.first_offset-1]:null,Lt=Fe==="\r"||Fe===`
`;Lt&&Fe===`
`&&this.lexer.yylloc.first_offset>1&&this.lexer._input[this.lexer.yylloc.first_offset-2]==="\r"&&(Fe=`\r
`);var pt=this.node("inline");return this.next(),pt(Ut,Lt?Fe+Ut:Ut);case this.tok.T_UNSET:var Nn=this.node("unset");this.next().expect("(")&&this.next();var _n=this.read_function_list(this.read_variable,",");return this.expect(")")&&this.next(),this.expect(";")&&this.next(),Nn(_n);case this.tok.T_DECLARE:var Dt,st=this.node("declare"),Xt=[];this.next().expect("(")&&this.next();var Cn=this.read_declare_list();if(this.expect(")")&&this.next(),this.token===":"){for(this.next();this.token!=this.EOF&&this.token!==this.tok.T_ENDDECLARE;)Xt.push(this.read_top_statement());Xt.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&Xt.push(this.node("noop")()),this.expect(this.tok.T_ENDDECLARE)&&this.next(),this.expectEndOfStatement(),Dt=this.ast.declare.MODE_SHORT}else if(this.token==="{"){for(this.next();this.token!=this.EOF&&this.token!=="}";)Xt.push(this.read_top_statement());Xt.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&Xt.push(this.node("noop")()),this.expect("}")&&this.next(),Dt=this.ast.declare.MODE_BLOCK}else this.expect(";")&&this.next(),Dt=this.ast.declare.MODE_NONE;return st(Cn,Xt,Dt);case this.tok.T_TRY:return this.read_try();case this.tok.T_THROW:var Ka=this.node("throw"),Ar=this.next().read_expr();return this.expectEndOfStatement(),Ka(Ar);case";":return this.next(),null;case this.tok.T_STRING:var li=this.node(),Fo=[this.token,this.lexer.getState()],Vo=this.text(),Oi=this.node("identifier");if(this.next().token===":")return Oi=Oi(Vo),this.next(),li("label",Oi);Oi.destroy(),li.destroy(),this.lexer.tokens.push(Fo);var ga=this.node("expressionstatement"),ci=this.next().read_expr();return this.expectEndOfStatement(ci),ga(ci);case this.tok.T_GOTO:var Bo=this.node("goto"),ui=null;if(this.next().expect(this.tok.T_STRING)){ui=this.node("identifier");var $a=this.text();this.next(),ui=ui($a),this.expectEndOfStatement()}return Bo(ui);default:var Li=this.node("expressionstatement"),_a=this.read_expr();return this.expectEndOfStatement(_a),Li(_a)}},read_code_block:function(o){var u=this.node("block");this.expect("{")&&this.next();var p=o?this.read_top_statements():this.read_inner_statements();return p.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&p.push(this.node("noop")()),this.expect("}")&&this.next(),u(null,p)}};Qn.read_top_statements,Qn.read_top_statement,Qn.read_inner_statements,Qn.read_const_list,Qn.read_declare_list,Qn.read_inner_statement,Qn.read_statement,Qn.read_code_block;var Se={read_switch:function(){var o=this.node("switch");this.expect(this.tok.T_SWITCH)&&this.next(),this.expect("(")&&this.next();var u=this.read_expr();this.expect(")")&&this.next();var p=this.token===":";return o(u,this.read_switch_case_list(),p)},read_switch_case_list:function(){var o=null,u=this.node("block"),p=[];for(this.token==="{"?o="}":this.token===":"?o=this.tok.T_ENDSWITCH:this.expect(["{",":"]),this.next(),this.token===";"&&this.next();this.token!==this.EOF&&this.token!==o;)p.push(this.read_case_list(o));return p.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&p.push(this.node("noop")()),this.expect(o)&&this.next(),o===this.tok.T_ENDSWITCH&&this.expectEndOfStatement(),u(null,p)},read_case_list:function(o){var u=this.node("case"),p=null;this.token===this.tok.T_CASE?p=this.next().read_expr():this.token===this.tok.T_DEFAULT?this.next():this.expect([this.tok.T_CASE,this.tok.T_DEFAULT]),this.expect([":",";"])&&this.next();for(var h=this.node("block"),y=[];this.token!==this.EOF&&this.token!==o&&this.token!==this.tok.T_CASE&&this.token!==this.tok.T_DEFAULT;)y.push(this.read_inner_statement());return u(p,h(null,y))}};Se.read_switch,Se.read_switch_case_list,Se.read_case_list;var Pe={read_try:function(){this.expect(this.tok.T_TRY);for(var o=this.node("try"),u=null,p=[],h=this.next().read_statement();this.token===this.tok.T_CATCH;){var y=this.node("catch");this.next().expect("(")&&this.next();var k=this.read_list(this.read_namespace_name,"|",!1),B=null;this.token===this.tok.T_VARIABLE&&(B=this.read_variable(!0,!1)),this.expect(")"),p.push(y(this.next().read_statement(),k,B))}return this.token===this.tok.T_FINALLY&&(u=this.next().read_statement()),o(h,p,u)}};Pe.read_try;var Ce={read_short_form:function(o){var u=this.node("block"),p=[];for(this.expect(":")&&this.next();this.token!=this.EOF&&this.token!==o;)p.push(this.read_inner_statement());return p.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&p.push(this.node("noop")()),this.expect(o)&&this.next(),this.expectEndOfStatement(),u(null,p)},read_function_list:function(o,u){var p=[];do{if(this.token==u&&this.version>=703&&p.length>0){p.push(this.node("noop")());break}if(p.push(o.apply(this,[])),this.token!=u||this.next().token==")"&&this.version>=703)break}while(this.token!=this.EOF);return p},read_list:function(o,u,p){var h=[];if(this.token==u&&(p&&h.push(typeof o=="function"?this.node("noop")():null),this.next()),typeof o=="function")do{var y=o.apply(this,[]);if(y&&h.push(y),this.token!=u)break}while(this.next().token!=this.EOF);else{if(!this.expect(o))return[];for(h.push(this.text());this.next().token!=this.EOF&&this.token==u&&this.next().token==o;)h.push(this.text())}return h},read_name_list:function(){return this.read_list(this.read_namespace_name,",",!1)},read_byref:function(o){var u=this.node("byref");this.next(),u=u(null);var p=o();return p&&(this.ast.swapLocations(p,u,p,this),p.byref=!0),p},read_variable_declarations:function(){return this.read_list(function(){var o=this.node("staticvariable"),u=this.node("variable");if(this.expect(this.tok.T_VARIABLE)){var p=this.text().substring(1);this.next(),u=u(p,!1)}else u=u("#ERR",!1);return this.token==="="?o(u,this.next().read_expr()):u},",")},read_extends_from:function(){return this.token===this.tok.T_EXTENDS?this.next().read_namespace_name():null},read_interface_extends_list:function(){return this.token===this.tok.T_EXTENDS?this.next().read_name_list():null},read_implements_list:function(){return this.token===this.tok.T_IMPLEMENTS?this.next().read_name_list():null}};Ce.read_short_form,Ce.read_function_list,Ce.read_list,Ce.read_name_list,Ce.read_byref,Ce.read_variable_declarations,Ce.read_extends_from,Ce.read_interface_extends_list,Ce.read_implements_list;var xe={read_variable:function(o,u){var p;if(this.token==="&")return this.read_byref(this.read_variable.bind(this,o,u));if(this.is([this.tok.T_VARIABLE,"$"]))p=this.read_reference_variable(u);else if(this.is([this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_NAMESPACE])){p=this.node();var h=this.read_namespace_name();if(this.token!=this.tok.T_DOUBLE_COLON&&this.token!="("&&["parentreference","selfreference"].indexOf(h.kind)===-1){var y=h.name.toLowerCase();y==="true"?p=h.destroy(p("boolean",!0,h.name)):y==="false"?p=h.destroy(p("boolean",!1,h.name)):y==="null"?p=h.destroy(p("nullkeyword",h.name)):(p.destroy(h),p=h)}else p.destroy(h),p=h}else if(this.token===this.tok.T_STATIC){p=this.node("staticreference");var k=this.text();this.next(),p=p(k)}else this.expect("VARIABLE");return this.token===this.tok.T_DOUBLE_COLON&&(p=this.read_static_getter(p,u)),this.recursive_variable_chain_scan(p,o,u)},read_static_getter:function(o,u){var p,h,y=this.node("staticlookup");return this.next().is([this.tok.T_VARIABLE,"$"])?p=this.read_reference_variable(u):this.token===this.tok.T_STRING||this.token===this.tok.T_CLASS||this.version>=700&&this.is("IDENTIFIER")?(p=this.node("identifier"),h=this.text(),this.next(),p=p(h)):this.token==="{"?(p=this.node("literal"),h=this.next().read_expr(),this.expect("}")&&this.next(),p=p("literal",h,null),this.expect("(")):(this.error([this.tok.T_VARIABLE,this.tok.T_STRING]),p=this.node("identifier"),h=this.text(),this.next(),p=p(h)),y(o,p)},read_what:function(){var o=arguments.length>0&&arguments[0]!==void 0&&arguments[0],u=null,p=null;switch(this.next().token){case this.tok.T_STRING:u=this.node("identifier"),p=this.text(),this.next(),u=u(p),o&&this.token===this.tok.T_OBJECT_OPERATOR&&this.error();break;case this.tok.T_VARIABLE:u=this.node("variable"),p=this.text().substring(1),this.next(),u=u(p,!1);break;case"$":u=this.node(),this.next().expect(["$","{",this.tok.T_VARIABLE]),this.token==="{"?(p=this.next().read_expr(),this.expect("}")&&this.next(),u=u("variable",p,!0)):u=u("variable",p=this.read_expr(),!1);break;case"{":u=this.node("encapsedpart"),p=this.next().read_expr(),this.expect("}")&&this.next(),u=u(p,"complex",!1);break;default:this.error([this.tok.T_STRING,this.tok.T_VARIABLE,"$","{"]),u=this.node("identifier"),p=this.text(),this.next(),u=u(p)}return u},recursive_variable_chain_scan:function(o,u,p){var h,y;e:for(;this.token!=this.EOF;)switch(this.token){case"(":if(u)return o;o=this.node("call")(o,this.read_argument_list());break;case"[":case"{":var k=this.token==="[";h=this.node("offsetlookup"),this.next(),y=!1,p?(y=this.read_encaps_var_offset(),this.expect(k?"]":"}")&&this.next()):(k?this.token!=="]":this.token!=="}")?(y=this.read_expr(),this.expect(k?"]":"}")&&this.next()):this.next(),o=h(o,y);break;case this.tok.T_DOUBLE_COLON:o.kind==="staticlookup"&&o.offset.kind==="identifier"&&this.error(),o=(h=this.node("staticlookup"))(o,this.read_what(!0));break;case this.tok.T_OBJECT_OPERATOR:o=(h=this.node("propertylookup"))(o,this.read_what());break;case this.tok.T_NULLSAFE_OBJECT_OPERATOR:o=(h=this.node("nullsafepropertylookup"))(o,this.read_what());break;default:break e}return o},read_encaps_var_offset:function(){var o=this.node();if(this.token===this.tok.T_STRING){var u=this.text();this.next(),o=o("identifier",u)}else if(this.token===this.tok.T_NUM_STRING){var p=this.text();this.next(),o=o("number",p,null)}else if(this.token==="-"){this.next();var h=-1*this.text();this.expect(this.tok.T_NUM_STRING)&&this.next(),o=o("number",h,null)}else if(this.token===this.tok.T_VARIABLE){var y=this.text().substring(1);this.next(),o=o("variable",y,!1)}else{this.expect([this.tok.T_STRING,this.tok.T_NUM_STRING,"-",this.tok.T_VARIABLE]);var k=this.text();this.next(),o=o("identifier",k)}return o},read_reference_variable:function(o){for(var u,p=this.read_simple_variable();this.token!=this.EOF;){var h=this.node();if(this.token!="{"||o){h.destroy();break}u=this.next().read_expr(),this.expect("}")&&this.next(),p=h("offsetlookup",p,u)}return p},read_simple_variable:function(){var o,u=this.node("variable");if(this.expect([this.tok.T_VARIABLE,"$"])&&this.token===this.tok.T_VARIABLE)o=this.text().substring(1),this.next(),u=u(o,!1);else switch(this.token==="$"&&this.next(),this.token){case"{":var p=this.next().read_expr();this.expect("}")&&this.next(),u=u(p,!0);break;case"$":u=u(this.read_simple_variable(),!1);break;case this.tok.T_VARIABLE:o=this.text().substring(1);var h=this.node("variable");this.next(),u=u(h(o,!1),!1);break;default:this.error(["{","$",this.tok.T_VARIABLE]),o=this.text(),this.next(),u=u(o,!1)}return u}};function Ve(o){return o!="."&&o!=","&&!isNaN(parseFloat(o))&&isFinite(o)}xe.read_variable,xe.read_static_getter,xe.read_what,xe.recursive_variable_chain_scan,xe.read_encaps_var_offset,xe.read_reference_variable,xe.read_simple_variable;var ht=function(o,u){this.lexer=o,this.ast=u,this.tok=o.tok,this.EOF=o.EOF,this.token=null,this.prev=null,this.debug=!1,this.version=800,this.extractDoc=!1,this.extractTokens=!1,this.suppressErrors=!1;var p=function(h){return[h,null]};this.entries={IDENTIFIER:new Map([this.tok.T_ABSTRACT,this.tok.T_ARRAY,this.tok.T_AS,this.tok.T_BREAK,this.tok.T_CALLABLE,this.tok.T_CASE,this.tok.T_CATCH,this.tok.T_CLASS,this.tok.T_CLASS_C,this.tok.T_CLONE,this.tok.T_CONST,this.tok.T_CONTINUE,this.tok.T_DECLARE,this.tok.T_DEFAULT,this.tok.T_DIR,this.tok.T_DO,this.tok.T_ECHO,this.tok.T_ELSE,this.tok.T_ELSEIF,this.tok.T_EMPTY,this.tok.T_ENDDECLARE,this.tok.T_ENDFOR,this.tok.T_ENDFOREACH,this.tok.T_ENDIF,this.tok.T_ENDSWITCH,this.tok.T_ENDWHILE,this.tok.T_EVAL,this.tok.T_EXIT,this.tok.T_EXTENDS,this.tok.T_FILE,this.tok.T_FINAL,this.tok.T_FINALLY,this.tok.T_FN,this.tok.T_FOR,this.tok.T_FOREACH,this.tok.T_FUNC_C,this.tok.T_FUNCTION,this.tok.T_GLOBAL,this.tok.T_GOTO,this.tok.T_IF,this.tok.T_IMPLEMENTS,this.tok.T_INCLUDE,this.tok.T_INCLUDE_ONCE,this.tok.T_INSTANCEOF,this.tok.T_INSTEADOF,this.tok.T_INTERFACE,this.tok.T_ISSET,this.tok.T_LINE,this.tok.T_LIST,this.tok.T_LOGICAL_AND,this.tok.T_LOGICAL_OR,this.tok.T_LOGICAL_XOR,this.tok.T_MATCH,this.tok.T_METHOD_C,this.tok.T_NAMESPACE,this.tok.T_NEW,this.tok.T_NS_C,this.tok.T_PRINT,this.tok.T_PRIVATE,this.tok.T_PROTECTED,this.tok.T_PUBLIC,this.tok.T_REQUIRE,this.tok.T_REQUIRE_ONCE,this.tok.T_RETURN,this.tok.T_STATIC,this.tok.T_SWITCH,this.tok.T_THROW,this.tok.T_TRAIT,this.tok.T_TRY,this.tok.T_UNSET,this.tok.T_USE,this.tok.T_VAR,this.tok.T_WHILE,this.tok.T_YIELD].map(p)),VARIABLE:new Map([this.tok.T_VARIABLE,"$","&",this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_NAMESPACE,this.tok.T_STATIC].map(p)),SCALAR:new Map([this.tok.T_CONSTANT_ENCAPSED_STRING,this.tok.T_START_HEREDOC,this.tok.T_LNUMBER,this.tok.T_DNUMBER,this.tok.T_ARRAY,"[",this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C,'"','b"','B"',"-",this.tok.T_NS_SEPARATOR].map(p)),T_MAGIC_CONST:new Map([this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C].map(p)),T_MEMBER_FLAGS:new Map([this.tok.T_PUBLIC,this.tok.T_PRIVATE,this.tok.T_PROTECTED,this.tok.T_STATIC,this.tok.T_ABSTRACT,this.tok.T_FINAL].map(p)),EOS:new Map([";",this.EOF,this.tok.T_INLINE_HTML].map(p)),EXPR:new Map(["@","-","+","!","~","(","`",this.tok.T_LIST,this.tok.T_CLONE,this.tok.T_INC,this.tok.T_DEC,this.tok.T_NEW,this.tok.T_ISSET,this.tok.T_EMPTY,this.tok.T_MATCH,this.tok.T_INCLUDE,this.tok.T_INCLUDE_ONCE,this.tok.T_REQUIRE,this.tok.T_REQUIRE_ONCE,this.tok.T_EVAL,this.tok.T_INT_CAST,this.tok.T_DOUBLE_CAST,this.tok.T_STRING_CAST,this.tok.T_ARRAY_CAST,this.tok.T_OBJECT_CAST,this.tok.T_BOOL_CAST,this.tok.T_UNSET_CAST,this.tok.T_EXIT,this.tok.T_PRINT,this.tok.T_YIELD,this.tok.T_STATIC,this.tok.T_FUNCTION,this.tok.T_FN,this.tok.T_VARIABLE,"$",this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_STRING,this.tok.T_CONSTANT_ENCAPSED_STRING,this.tok.T_START_HEREDOC,this.tok.T_LNUMBER,this.tok.T_DNUMBER,this.tok.T_ARRAY,"[",this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C,'"','b"','B"',"-",this.tok.T_NS_SEPARATOR].map(p))}};ht.prototype.getTokenName=function(o){return Ve(o)?o==this.EOF?"the end of file (EOF)":this.lexer.engine.tokens.values[o]:"'"+o+"'"},ht.prototype.parse=function(o,u){this._errors=[],this.filename=u||"eval",this.currentNamespace=[""],this.extractDoc?this._docs=[]:this._docs=null,this.extractTokens?this._tokens=[]:this._tokens=null,this._docIndex=0,this._lastNode=null,this.lexer.setInput(o),this.lexer.all_tokens=this.extractTokens,this.lexer.comment_tokens=this.extractDoc,this.length=this.lexer._input.length,this.innerList=!1,this.innerListForm=!1;var p=this.node("program"),h=[];for(this.next();this.token!=this.EOF;)h.push(this.read_start());h.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&h.push(this.node("noop")()),this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset];var y=p(h,this._errors,this._docs,this._tokens);if(this.debug){var k=this.ast.checkNodes();if(k.length>0)throw k.forEach(function(B){B.position&&console.log("Node at line "+B.position.line+", column "+B.position.column),console.log(B.stack.join(`
`))}),new Error("Some nodes are not closed")}return y},ht.prototype.raiseError=function(o,u,p,h){if(o+=" on line "+this.lexer.yylloc.first_line,!this.suppressErrors){var y=new SyntaxError(o,this.filename,this.lexer.yylloc.first_line);throw y.lineNumber=this.lexer.yylloc.first_line,y.fileName=this.filename,y.columnNumber=this.lexer.yylloc.first_column,y}var k=this.ast.prepare("error",null,this)(o,h,this.lexer.yylloc.first_line,p);return this._errors.push(k),k},ht.prototype.error=function(o){var u="Parse Error : syntax error",p=this.getTokenName(this.token),h="";if(this.token!==this.EOF){if(Ve(this.token)){var y=this.text();y.length>10&&(y=y.substring(0,7)+"..."),p="'"+y+"' ("+p+")"}u+=", unexpected "+p}return o&&!Array.isArray(o)&&((Ve(o)||o.length===1)&&(h=", expecting "+this.getTokenName(o)),u+=h),this.raiseError(u,h,o,p)},ht.prototype.position=function(){return new x(this.lexer.yylloc.first_line,this.lexer.yylloc.first_column,this.lexer.yylloc.first_offset)},ht.prototype.node=function(o){if(this.extractDoc){var u=null;this._docIndex<this._docs.length&&(u=this._docs.slice(this._docIndex),this._docIndex=this._docs.length,this.debug&&(console.log(new Error("Append docs on "+o)),console.log(u)));var p=this.ast.prepare(o,u,this);return p.postBuild=function(h){if(this._docIndex<this._docs.length)if(this._lastNode){for(var y=this.prev[2],k=this._docIndex;k<this._docs.length&&!(this._docs[k].offset>y);k++);k>this._docIndex&&(this._lastNode.setTrailingComments(this._docs.slice(this._docIndex,k)),this._docIndex=k)}else this.token===this.EOF&&(h.setTrailingComments(this._docs.slice(this._docIndex)),this._docIndex=this._docs.length);this._lastNode=h}.bind(this),p}return this.ast.prepare(o,null,this)},ht.prototype.expectEndOfStatement=function(o){if(this.token===";")o&&this.lexer.yytext===";"&&o.includeToken(this);else if(this.token!==this.tok.T_INLINE_HTML&&this.token!==this.EOF)return this.error(";"),!1;return this.next(),!0};var Pr=["parser.next","parser.node","parser.showlog"];ht.prototype.showlog=function(){for(var o,u=new Error().stack.split(`
`),p=2;p<u.length;p++){o=u[p].trim();for(var h=!1,y=0;y<Pr.length;y++)if(o.substring(3,3+Pr[y].length)===Pr[y]){h=!0;break}if(!h)break}return console.log("Line "+this.lexer.yylloc.first_line+" : "+this.getTokenName(this.token)+">"+this.lexer.yytext+"< @-->"+o),this},ht.prototype.expect=function(o){if(Array.isArray(o)){if(o.indexOf(this.token)===-1)return this.error(o),!1}else if(this.token!=o)return this.error(o),!1;return!0},ht.prototype.text=function(){return this.lexer.yytext},ht.prototype.next=function(){if(this.token===";"&&this.lexer.yytext!==";"||(this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset]),this.lex(),this.debug&&this.showlog(),this.extractDoc)for(;this.token===this.tok.T_COMMENT||this.token===this.tok.T_DOC_COMMENT;)this.token===this.tok.T_COMMENT?this._docs.push(this.read_comment()):this._docs.push(this.read_doc_comment());return this},ht.prototype.lex=function(){if(this.extractTokens)do{if(this.token=this.lexer.lex()||this.EOF,this.token===this.EOF)return this;var o=this.lexer.yytext;if(o=this.lexer.engine.tokens.values.hasOwnProperty(this.token)?[this.lexer.engine.tokens.values[this.token],o,this.lexer.yylloc.first_line,this.lexer.yylloc.first_offset,this.lexer.offset]:[null,o,this.lexer.yylloc.first_line,this.lexer.yylloc.first_offset,this.lexer.offset],this._tokens.push(o),this.token===this.tok.T_CLOSE_TAG)return this.token=";",this;if(this.token===this.tok.T_OPEN_TAG_WITH_ECHO)return this.token=this.tok.T_ECHO,this}while(this.token===this.tok.T_WHITESPACE||!this.extractDoc&&(this.token===this.tok.T_COMMENT||this.token===this.tok.T_DOC_COMMENT)||this.token===this.tok.T_OPEN_TAG);else this.token=this.lexer.lex()||this.EOF;return this},ht.prototype.is=function(o){return Array.isArray(o)?o.indexOf(this.token)!==-1:this.entries[o].has(this.token)},[v,pe,rt,Te,le,dt,At,vn,ze,wn,Qn,Se,Pe,Ce,xe].forEach(function(o){for(var u in o){if(ht.prototype.hasOwnProperty(u))throw new Error("Function "+u+" is already defined - collision");ht.prototype[u]=o[u]}});var ua=ht,fa={values:{101:"T_HALT_COMPILER",102:"T_USE",103:"T_ENCAPSED_AND_WHITESPACE",104:"T_OBJECT_OPERATOR",105:"T_STRING",106:"T_DOLLAR_OPEN_CURLY_BRACES",107:"T_STRING_VARNAME",108:"T_CURLY_OPEN",109:"T_NUM_STRING",110:"T_ISSET",111:"T_EMPTY",112:"T_INCLUDE",113:"T_INCLUDE_ONCE",114:"T_EVAL",115:"T_REQUIRE",116:"T_REQUIRE_ONCE",117:"T_NAMESPACE",118:"T_NS_SEPARATOR",119:"T_AS",120:"T_IF",121:"T_ENDIF",122:"T_WHILE",123:"T_DO",124:"T_FOR",125:"T_SWITCH",126:"T_BREAK",127:"T_CONTINUE",128:"T_RETURN",129:"T_GLOBAL",130:"T_STATIC",131:"T_ECHO",132:"T_INLINE_HTML",133:"T_UNSET",134:"T_FOREACH",135:"T_DECLARE",136:"T_TRY",137:"T_THROW",138:"T_GOTO",139:"T_FINALLY",140:"T_CATCH",141:"T_ENDDECLARE",142:"T_LIST",143:"T_CLONE",144:"T_PLUS_EQUAL",145:"T_MINUS_EQUAL",146:"T_MUL_EQUAL",147:"T_DIV_EQUAL",148:"T_CONCAT_EQUAL",149:"T_MOD_EQUAL",150:"T_AND_EQUAL",151:"T_OR_EQUAL",152:"T_XOR_EQUAL",153:"T_SL_EQUAL",154:"T_SR_EQUAL",155:"T_INC",156:"T_DEC",157:"T_BOOLEAN_OR",158:"T_BOOLEAN_AND",159:"T_LOGICAL_OR",160:"T_LOGICAL_AND",161:"T_LOGICAL_XOR",162:"T_SL",163:"T_SR",164:"T_IS_IDENTICAL",165:"T_IS_NOT_IDENTICAL",166:"T_IS_EQUAL",167:"T_IS_NOT_EQUAL",168:"T_IS_SMALLER_OR_EQUAL",169:"T_IS_GREATER_OR_EQUAL",170:"T_INSTANCEOF",171:"T_INT_CAST",172:"T_DOUBLE_CAST",173:"T_STRING_CAST",174:"T_ARRAY_CAST",175:"T_OBJECT_CAST",176:"T_BOOL_CAST",177:"T_UNSET_CAST",178:"T_EXIT",179:"T_PRINT",180:"T_YIELD",181:"T_YIELD_FROM",182:"T_FUNCTION",183:"T_DOUBLE_ARROW",184:"T_DOUBLE_COLON",185:"T_ARRAY",186:"T_CALLABLE",187:"T_CLASS",188:"T_ABSTRACT",189:"T_TRAIT",190:"T_FINAL",191:"T_EXTENDS",192:"T_INTERFACE",193:"T_IMPLEMENTS",194:"T_VAR",195:"T_PUBLIC",196:"T_PROTECTED",197:"T_PRIVATE",198:"T_CONST",199:"T_NEW",200:"T_INSTEADOF",201:"T_ELSEIF",202:"T_ELSE",203:"T_ENDSWITCH",204:"T_CASE",205:"T_DEFAULT",206:"T_ENDFOR",207:"T_ENDFOREACH",208:"T_ENDWHILE",209:"T_CONSTANT_ENCAPSED_STRING",210:"T_LNUMBER",211:"T_DNUMBER",212:"T_LINE",213:"T_FILE",214:"T_DIR",215:"T_TRAIT_C",216:"T_METHOD_C",217:"T_FUNC_C",218:"T_NS_C",219:"T_START_HEREDOC",220:"T_END_HEREDOC",221:"T_CLASS_C",222:"T_VARIABLE",223:"T_OPEN_TAG",224:"T_OPEN_TAG_WITH_ECHO",225:"T_CLOSE_TAG",226:"T_WHITESPACE",227:"T_COMMENT",228:"T_DOC_COMMENT",229:"T_ELLIPSIS",230:"T_COALESCE",231:"T_POW",232:"T_POW_EQUAL",233:"T_SPACESHIP",234:"T_COALESCE_EQUAL",235:"T_FN",236:"T_NULLSAFE_OBJECT_OPERATOR",237:"T_MATCH",238:"T_ATTRIBUTE"},names:{T_HALT_COMPILER:101,T_USE:102,T_ENCAPSED_AND_WHITESPACE:103,T_OBJECT_OPERATOR:104,T_STRING:105,T_DOLLAR_OPEN_CURLY_BRACES:106,T_STRING_VARNAME:107,T_CURLY_OPEN:108,T_NUM_STRING:109,T_ISSET:110,T_EMPTY:111,T_INCLUDE:112,T_INCLUDE_ONCE:113,T_EVAL:114,T_REQUIRE:115,T_REQUIRE_ONCE:116,T_NAMESPACE:117,T_NS_SEPARATOR:118,T_AS:119,T_IF:120,T_ENDIF:121,T_WHILE:122,T_DO:123,T_FOR:124,T_SWITCH:125,T_BREAK:126,T_CONTINUE:127,T_RETURN:128,T_GLOBAL:129,T_STATIC:130,T_ECHO:131,T_INLINE_HTML:132,T_UNSET:133,T_FOREACH:134,T_DECLARE:135,T_TRY:136,T_THROW:137,T_GOTO:138,T_FINALLY:139,T_CATCH:140,T_ENDDECLARE:141,T_LIST:142,T_CLONE:143,T_PLUS_EQUAL:144,T_MINUS_EQUAL:145,T_MUL_EQUAL:146,T_DIV_EQUAL:147,T_CONCAT_EQUAL:148,T_MOD_EQUAL:149,T_AND_EQUAL:150,T_OR_EQUAL:151,T_XOR_EQUAL:152,T_SL_EQUAL:153,T_SR_EQUAL:154,T_INC:155,T_DEC:156,T_BOOLEAN_OR:157,T_BOOLEAN_AND:158,T_LOGICAL_OR:159,T_LOGICAL_AND:160,T_LOGICAL_XOR:161,T_SL:162,T_SR:163,T_IS_IDENTICAL:164,T_IS_NOT_IDENTICAL:165,T_IS_EQUAL:166,T_IS_NOT_EQUAL:167,T_IS_SMALLER_OR_EQUAL:168,T_IS_GREATER_OR_EQUAL:169,T_INSTANCEOF:170,T_INT_CAST:171,T_DOUBLE_CAST:172,T_STRING_CAST:173,T_ARRAY_CAST:174,T_OBJECT_CAST:175,T_BOOL_CAST:176,T_UNSET_CAST:177,T_EXIT:178,T_PRINT:179,T_YIELD:180,T_YIELD_FROM:181,T_FUNCTION:182,T_DOUBLE_ARROW:183,T_DOUBLE_COLON:184,T_ARRAY:185,T_CALLABLE:186,T_CLASS:187,T_ABSTRACT:188,T_TRAIT:189,T_FINAL:190,T_EXTENDS:191,T_INTERFACE:192,T_IMPLEMENTS:193,T_VAR:194,T_PUBLIC:195,T_PROTECTED:196,T_PRIVATE:197,T_CONST:198,T_NEW:199,T_INSTEADOF:200,T_ELSEIF:201,T_ELSE:202,T_ENDSWITCH:203,T_CASE:204,T_DEFAULT:205,T_ENDFOR:206,T_ENDFOREACH:207,T_ENDWHILE:208,T_CONSTANT_ENCAPSED_STRING:209,T_LNUMBER:210,T_DNUMBER:211,T_LINE:212,T_FILE:213,T_DIR:214,T_TRAIT_C:215,T_METHOD_C:216,T_FUNC_C:217,T_NS_C:218,T_START_HEREDOC:219,T_END_HEREDOC:220,T_CLASS_C:221,T_VARIABLE:222,T_OPEN_TAG:223,T_OPEN_TAG_WITH_ECHO:224,T_CLOSE_TAG:225,T_WHITESPACE:226,T_COMMENT:227,T_DOC_COMMENT:228,T_ELLIPSIS:229,T_COALESCE:230,T_POW:231,T_POW_EQUAL:232,T_SPACESHIP:233,T_COALESCE_EQUAL:234,T_FN:235,T_NULLSAFE_OBJECT_OPERATOR:236,T_MATCH:237,T_ATTRIBUTE:238}},Ci=function(o,u,p){this.source=o,this.start=u,this.end=p},ri=function(o,u,p){this.kind=o,u&&(this.leadingComments=u),p&&(this.loc=p)};ri.prototype.setTrailingComments=function(o){this.trailingComments=o},ri.prototype.destroy=function(o){if(!o)throw new Error("Node already initialized, you must swap with another node");return this.leadingComments&&(o.leadingComments?o.leadingComments=Array.concat(this.leadingComments,o.leadingComments):o.leadingComments=this.leadingComments),this.trailingComments&&(o.trailingComments?o.trailingComments=Array.concat(this.trailingComments,o.trailingComments):o.trailingComments=this.trailingComments),o},ri.prototype.includeToken=function(o){return this.loc&&(this.loc.end&&(this.loc.end.line=o.lexer.yylloc.last_line,this.loc.end.column=o.lexer.yylloc.last_column,this.loc.end.offset=o.lexer.offset),o.ast.withSource&&(this.loc.source=o.lexer._input.substring(this.loc.start.offset,o.lexer.offset))),this},ri.extends=function(o,u){return u.prototype=Object.create(this.prototype),u.extends=this.extends,u.prototype.constructor=u,u.kind=o,u};var ft=ri,pa="expression",ye=ft.extends(pa,function(o,u,p){ft.apply(this,[o||pa,u,p])}),un="array",ts=ye.extends(un,function(o,u,p,h){ye.apply(this,[un,p,h]),this.items=u,this.shortForm=o}),ns="arrowfunc",ii=ye.extends(ns,function(o,u,p,h,y,k,B,P){ye.apply(this,[ns,B,P]),this.arguments=o,this.byref=u,this.body=p,this.type=h,this.nullable=y,this.isStatic=k||!1}),Ai="assign",rs=ye.extends(Ai,function(o,u,p,h,y){ye.apply(this,[Ai,h,y]),this.left=o,this.right=u,this.operator=p}),Ri="assignref",ki=ye.extends(Ri,function(o,u,p,h){ye.apply(this,[Ri,p,h]),this.left=o,this.right=u}),Ir="attribute",w=ft.extends(Ir,function(o,u,p,h){ft.apply(this,[Ir,p,h]),this.name=o,this.args=u}),L="attrgroup",E=ft.extends(L,function(o,u,p){ft.apply(this,[L,u,p]),this.attrs=o||[]}),q="operation",H=ye.extends(q,function(o,u,p){ye.apply(this,[o||q,u,p])}),F=H.extends("bin",function(o,u,p,h,y){H.apply(this,["bin",h,y]),this.type=o,this.left=u,this.right=p}),S="statement",G=ft.extends(S,function(o,u,p){ft.apply(this,[o||S,u,p])}),Q="block",ve=G.extends(Q,function(o,u,p,h){G.apply(this,[o||Q,p,h]),this.children=u.filter(Boolean)}),Le="literal",De=ye.extends(Le,function(o,u,p,h,y){ye.apply(this,[o||Le,h,y]),this.value=u,p&&(this.raw=p)}),qt="boolean",Pn=De.extends(qt,function(o,u,p,h){De.apply(this,[qt,o,u,p,h])}),In="break",Tt=G.extends(In,function(o,u,p){G.apply(this,[In,u,p]),this.level=o}),da="byref",Ll=ye.extends(da,function(o,u,p){ye.apply(this,[da,u,p]),this.what=o}),_u="call",gV=ye.extends(_u,function(o,u,p,h){ye.apply(this,[_u,p,h]),this.what=o,this.arguments=u}),nN="case",_V=G.extends(nN,function(o,u,p,h){G.apply(this,[nN,p,h]),this.test=o,this.body=u}),rN="cast",TV=H.extends(rN,function(o,u,p,h,y){H.apply(this,[rN,h,y]),this.type=o,this.raw=u,this.expr=p}),iN="catch",yV=G.extends(iN,function(o,u,p,h,y){G.apply(this,[iN,h,y]),this.body=o,this.what=u,this.variable=p}),sN="declaration",aN=G.extends(sN,function(o,u,p,h){G.apply(this,[o||sN,p,h]),this.name=u});aN.prototype.parseFlags=function(o){this.isAbstract=o[2]===1,this.isFinal=o[2]===2,this.kind!=="class"&&(o[0]===-1?this.visibility="":o[0]===null?this.visibility=null:o[0]===0?this.visibility="public":o[0]===1?this.visibility="protected":o[0]===2&&(this.visibility="private"),this.isStatic=o[1]===1)};var si=aN,oN="class",bV=si.extends(oN,function(o,u,p,h,y,k,B){si.apply(this,[oN,o,k,B]),this.isAnonymous=!o,this.extends=u,this.implements=p,this.body=h,this.attrGroups=[],this.parseFlags(y)}),lN="constantstatement",Um=G.extends(lN,function(o,u,p,h){G.apply(this,[o||lN,p,h]),this.constants=u}),cN="classconstant",uN=Um.extends(cN,function(o,u,p,h,y,k){Um.apply(this,[o||cN,u,y,k]),this.parseFlags(p),this.attrGroups=h});uN.prototype.parseFlags=function(o){o[0]===-1?this.visibility="":o[0]===null?this.visibility=null:o[0]===0?this.visibility="public":o[0]===1?this.visibility="protected":o[0]===2&&(this.visibility="private")};var vV=uN,fN="clone",NV=ye.extends(fN,function(o,u,p){ye.apply(this,[fN,u,p]),this.what=o}),pN="closure",xV=ye.extends(pN,function(o,u,p,h,y,k,B,P){ye.apply(this,[pN,B,P]),this.uses=p,this.arguments=o,this.byref=u,this.type=h,this.nullable=y,this.isStatic=k||!1,this.body=null,this.attrGroups=[]}),Tu=ft.extends("comment",function(o,u,p,h){ft.apply(this,[o,p,h]),this.value=u}),dN="commentblock",EV=Tu.extends(dN,function(o,u,p){Tu.apply(this,[dN,o,u,p])}),hN="commentline",SV=Tu.extends(hN,function(o,u,p){Tu.apply(this,[hN,o,u,p])}),mN="constant",PV=ft.extends(mN,function(o,u,p,h){ft.apply(this,[mN,p,h]),this.name=o,this.value=u}),gN="continue",IV=G.extends(gN,function(o,u,p){G.apply(this,[gN,u,p]),this.level=o}),_N="declare",lp=ve.extends(_N,function(o,u,p,h,y){ve.apply(this,[_N,u,h,y]),this.directives=o,this.mode=p});lp.MODE_SHORT="short",lp.MODE_BLOCK="block",lp.MODE_NONE="none";var CV=lp,TN="declaredirective",AV=ft.extends(TN,function(o,u,p,h){ft.apply(this,[TN,p,h]),this.key=o,this.value=u}),RV=G.extends("do",function(o,u,p,h){G.apply(this,["do",p,h]),this.test=o,this.body=u}),yN="echo",kV=G.extends(yN,function(o,u,p,h){G.apply(this,[yN,p,h]),this.shortForm=u,this.expressions=o}),bN="empty",wV=ye.extends(bN,function(o,u,p){ye.apply(this,[bN,u,p]),this.expression=o}),vN="encapsed",yu=De.extends(vN,function(o,u,p,h,y){De.apply(this,[vN,o,u,h,y]),this.type=p});yu.TYPE_STRING="string",yu.TYPE_SHELL="shell",yu.TYPE_HEREDOC="heredoc",yu.TYPE_OFFSET="offset";var OV=yu,NN="encapsedpart",LV=ye.extends(NN,function(o,u,p,h,y){ye.apply(this,[NN,h,y]),this.expression=o,this.syntax=u,this.curly=p}),xN="entry",DV=ye.extends(xN,function(o,u,p,h,y,k){ye.apply(this,[xN,y,k]),this.key=o,this.value=u,this.byRef=p,this.unpack=h}),EN="error",MV=ft.extends(EN,function(o,u,p,h,y,k){ft.apply(this,[EN,y,k]),this.message=o,this.token=u,this.line=p,this.expected=h}),SN="eval",FV=ye.extends(SN,function(o,u,p){ye.apply(this,[SN,u,p]),this.source=o}),PN="exit",VV=ye.extends(PN,function(o,u,p,h){ye.apply(this,[PN,p,h]),this.expression=o,this.useDie=u}),IN="expressionstatement",BV=G.extends(IN,function(o,u,p){G.apply(this,[IN,u,p]),this.expression=o}),qV=G.extends("for",function(o,u,p,h,y,k,B){G.apply(this,["for",k,B]),this.init=o,this.test=u,this.increment=p,this.shortForm=y,this.body=h}),CN="foreach",UV=G.extends(CN,function(o,u,p,h,y,k,B){G.apply(this,[CN,k,B]),this.source=o,this.key=u,this.value=p,this.shortForm=y,this.body=h}),AN="function",jm=si.extends(AN,function(o,u,p,h,y,k,B){si.apply(this,[AN,o,k,B]),this.arguments=u,this.byref=p,this.type=h,this.nullable=y,this.body=null,this.attrGroups=[]}),RN="global",jV=G.extends(RN,function(o,u,p){G.apply(this,[RN,u,p]),this.items=o}),kN="goto",GV=G.extends(kN,function(o,u,p){G.apply(this,[kN,u,p]),this.label=o}),wN="halt",HV=G.extends(wN,function(o,u,p){G.apply(this,[wN,u,p]),this.after=o}),ON="identifier",WV=ft.extends(ON,function(o,u,p){ft.apply(this,[ON,u,p]),this.name=o}),YV=G.extends("if",function(o,u,p,h,y,k){G.apply(this,["if",y,k]),this.test=o,this.body=u,this.alternate=p,this.shortForm=h}),LN="include",KV=ye.extends(LN,function(o,u,p,h,y){ye.apply(this,[LN,h,y]),this.once=o,this.require=u,this.target=p}),DN="inline",$V=De.extends(DN,function(o,u,p,h){De.apply(this,[DN,o,u,p,h])}),MN="interface",zV=si.extends(MN,function(o,u,p,h,y,k){si.apply(this,[MN,o,y,k]),this.extends=u,this.body=p,this.attrGroups=h}),FN="isset",QV=ye.extends(FN,function(o,u,p){ye.apply(this,[FN,u,p]),this.variables=o}),VN="label",XV=G.extends(VN,function(o,u,p){G.apply(this,[VN,u,p]),this.name=o}),BN="list",JV=ye.extends(BN,function(o,u,p,h){ye.apply(this,[BN,p,h]),this.items=o,this.shortForm=u}),qN="lookup",ha=ye.extends(qN,function(o,u,p,h,y){ye.apply(this,[o||qN,h,y]),this.what=u,this.offset=p}),UN="magic",ZV=De.extends(UN,function(o,u,p,h){De.apply(this,[UN,o,u,p,h])}),jN="match",eB=ye.extends(jN,function(o,u,p,h){ye.apply(this,[jN,p,h]),this.cond=o,this.arms=u}),GN="matcharm",tB=ye.extends(GN,function(o,u,p,h){ye.apply(this,[GN,p,h]),this.conds=o,this.body=u}),HN="method",nB=jm.extends(HN,function(){jm.apply(this,arguments),this.kind=HN}),WN="reference",is=ft.extends(WN,function(o,u,p){ft.apply(this,[o||WN,u,p])}),YN="name",bu=is.extends(YN,function o(u,p,h,y){is.apply(this,[YN,h,y]),p?this.resolution=o.RELATIVE_NAME:u.length===1?this.resolution=o.UNQUALIFIED_NAME:u[0]?this.resolution=o.QUALIFIED_NAME:this.resolution=o.FULL_QUALIFIED_NAME,this.name=u.join("\\")});bu.UNQUALIFIED_NAME="uqn",bu.QUALIFIED_NAME="qn",bu.FULL_QUALIFIED_NAME="fqn",bu.RELATIVE_NAME="rn";var rB=bu,KN="namespace",iB=ve.extends(KN,function(o,u,p,h,y){ve.apply(this,[KN,u,h,y]),this.name=o,this.withBrackets=p||!1}),$N="namedargument",sB=ye.extends($N,function(o,u,p,h){ye.apply(this,[$N,p,h]),this.name=o,this.value=u}),aB=ye.extends("new",function(o,u,p,h){ye.apply(this,["new",p,h]),this.what=o,this.arguments=u}),zN="noop",oB=ft.extends(zN,function(o,u){ft.apply(this,[zN,o,u])}),QN="nowdoc",lB=De.extends(QN,function(o,u,p,h,y){De.apply(this,[QN,o,u,h,y]),this.label=p}),XN="nullkeyword",cB=ft.extends(XN,function(o,u,p){ft.apply(this,[XN,u,p]),this.raw=o}),JN="nullsafepropertylookup",uB=ha.extends(JN,function(o,u,p,h){ha.apply(this,[JN,o,u,p,h])}),ZN="number",fB=De.extends(ZN,function(o,u,p,h){De.apply(this,[ZN,o,u,p,h])}),ex="offsetlookup",pB=ha.extends(ex,function(o,u,p,h){ha.apply(this,[ex,o,u,p,h])}),tx="parameter",dB=si.extends(tx,function(o,u,p,h,y,k,B,P,U){si.apply(this,[tx,o,P,U]),this.value=p,this.type=u,this.byref=h,this.variadic=y,this.nullable=k,this.flags=B||0,this.attrGroups=[]}),nx="parentreference",hB=is.extends(nx,function(o,u,p){is.apply(this,[nx,u,p]),this.raw=o}),rx="post",mB=H.extends(rx,function(o,u,p,h){H.apply(this,[rx,p,h]),this.type=o,this.what=u}),gB=H.extends("pre",function(o,u,p,h){H.apply(this,["pre",p,h]),this.type=o,this.what=u}),ix="print",_B=ye.extends(ix,function(o,u,p){ye.apply(this,[ix,u,p]),this.expression=o}),sx="program",TB=ve.extends(sx,function(o,u,p,h,y,k){ve.apply(this,[sx,o,y,k]),this.errors=u,p&&(this.comments=p),h&&(this.tokens=h)}),ax="property",yB=G.extends(ax,function(o,u,p,h,y,k,B){G.apply(this,[ax,k,B]),this.name=o,this.value=u,this.nullable=p,this.type=h,this.attrGroups=y}),ox="propertylookup",bB=ha.extends(ox,function(o,u,p,h){ha.apply(this,[ox,o,u,p,h])}),lx="propertystatement",cx=G.extends(lx,function(o,u,p,h,y){G.apply(this,[lx,h,y]),this.properties=u,this.parseFlags(p)});cx.prototype.parseFlags=function(o){o[0]===-1?this.visibility="":o[0]===null?this.visibility=null:o[0]===0?this.visibility="public":o[0]===1?this.visibility="protected":o[0]===2&&(this.visibility="private"),this.isStatic=o[1]===1};var vB=cx,ux="retif",NB=ye.extends(ux,function(o,u,p,h,y){ye.apply(this,[ux,h,y]),this.test=o,this.trueExpr=u,this.falseExpr=p}),fx="return",xB=G.extends(fx,function(o,u,p){G.apply(this,[fx,u,p]),this.expr=o}),px="selfreference",EB=is.extends(px,function(o,u,p){is.apply(this,[px,u,p]),this.raw=o}),dx="silent",SB=ye.extends(dx,function(o,u,p){ye.apply(this,[dx,u,p]),this.expr=o}),hx="static",PB=G.extends(hx,function(o,u,p){G.apply(this,[hx,u,p]),this.variables=o}),mx="staticvariable",IB=ft.extends(mx,function(o,u,p,h){ft.apply(this,[mx,p,h]),this.variable=o,this.defaultValue=u}),gx="staticlookup",CB=ha.extends(gx,function(o,u,p,h){ha.apply(this,[gx,o,u,p,h])}),_x="staticreference",AB=is.extends(_x,function(o,u,p){is.apply(this,[_x,u,p]),this.raw=o}),Tx="string",RB=De.extends(Tx,function(o,u,p,h,y,k){De.apply(this,[Tx,u,h,y,k]),this.unicode=p,this.isDoubleQuote=o}),yx="switch",kB=G.extends(yx,function(o,u,p,h,y){G.apply(this,[yx,h,y]),this.test=o,this.body=u,this.shortForm=p}),bx="throw",wB=G.extends(bx,function(o,u,p){G.apply(this,[bx,u,p]),this.what=o}),vx="trait",OB=si.extends(vx,function(o,u,p,h){si.apply(this,[vx,o,p,h]),this.body=u}),Nx="traitalias",LB=ft.extends(Nx,function(o,u,p,h,y,k){ft.apply(this,[Nx,y,k]),this.trait=o,this.method=u,this.as=p,this.visibility="",h&&(h[0]===0?this.visibility="public":h[0]===1?this.visibility="protected":h[0]===2&&(this.visibility="private"))}),xx="traitprecedence",DB=ft.extends(xx,function(o,u,p,h,y){ft.apply(this,[xx,h,y]),this.trait=o,this.method=u,this.instead=p}),Ex="traituse",MB=ft.extends(Ex,function(o,u,p,h){ft.apply(this,[Ex,p,h]),this.traits=o,this.adaptations=u}),FB=G.extends("try",function(o,u,p,h,y){G.apply(this,["try",h,y]),this.body=o,this.catches=u,this.always=p}),Sx="typereference",Px=is.extends(Sx,function(o,u,p,h){is.apply(this,[Sx,p,h]),this.name=o,this.raw=u});Px.types=["int","float","string","bool","object","array","callable","iterable","void","static"];var VB=Px,Ix="unary",BB=H.extends(Ix,function(o,u,p,h){H.apply(this,[Ix,p,h]),this.type=o,this.what=u}),Cx="uniontype",qB=si.extends(Cx,function(o,u,p){si.apply(this,[Cx,null,u,p]),this.types=o}),Ax="unset",UB=G.extends(Ax,function(o,u,p){G.apply(this,[Ax,u,p]),this.variables=o}),Rx="usegroup",jB=G.extends(Rx,function(o,u,p,h,y){G.apply(this,[Rx,h,y]),this.name=o,this.type=u,this.items=p}),kx="useitem",Gm=G.extends(kx,function(o,u,p,h,y){G.apply(this,[kx,h,y]),this.name=o,this.alias=u,this.type=p});Gm.TYPE_CONST="const",Gm.TYPE_FUNCTION="function";var GB=Gm,wx="variable",HB=ye.extends(wx,function(o,u,p,h){ye.apply(this,[wx,p,h]),this.name=o,this.curly=u||!1}),Ox="variadic",WB=ye.extends(Ox,function(o,u,p){ye.apply(this,[Ox,u,p]),this.what=o}),Lx="while",YB=G.extends(Lx,function(o,u,p,h,y){G.apply(this,[Lx,h,y]),this.test=o,this.body=u,this.shortForm=p}),Dx="yield",KB=ye.extends(Dx,function(o,u,p,h){ye.apply(this,[Dx,p,h]),this.value=o,this.key=u}),Mx="yieldfrom",$B=ye.extends(Mx,function(o,u,p){ye.apply(this,[Mx,u,p]),this.value=o}),Wt=function(o,u){this.withPositions=o,this.withSource=u};Wt.precedence={},[["or"],["xor"],["and"],["="],["?"],["??"],["||"],["&&"],["|"],["^"],["&"],["==","!=","===","!==","<=>"],["<","<=",">",">="],["<<",">>"],["+","-","."],["*","/","%"],["!"],["instanceof"],["cast","silent"],["**"]].forEach(function(o,u){o.forEach(function(p){Wt.precedence[p]=u+1})}),Wt.prototype.isRightAssociative=function(o){return o==="**"||o==="??"},Wt.prototype.swapLocations=function(o,u,p,h){this.withPositions&&(o.loc.start=u.loc.start,o.loc.end=p.loc.end,this.withSource&&(o.loc.source=h.lexer._input.substring(o.loc.start.offset,o.loc.end.offset)))},Wt.prototype.resolveLocations=function(o,u,p,h){this.withPositions&&(o.loc.start.offset>u.loc.start.offset&&(o.loc.start=u.loc.start),o.loc.end.offset<p.loc.end.offset&&(o.loc.end=p.loc.end),this.withSource&&(o.loc.source=h.lexer._input.substring(o.loc.start.offset,o.loc.end.offset)))},Wt.prototype.resolvePrecedence=function(o,u){var p,h,y;return o.kind==="call"?this.resolveLocations(o,o.what,o,u):o.kind==="propertylookup"||o.kind==="staticlookup"||o.kind==="offsetlookup"&&o.offset?this.resolveLocations(o,o.what,o.offset,u):o.kind==="bin"?o.right&&!o.right.parenthesizedExpression&&(o.right.kind==="bin"?(h=Wt.precedence[o.type],y=Wt.precedence[o.right.type],h&&y&&y<=h&&(o.type!==o.right.type||!this.isRightAssociative(o.type))&&(p=o.right,o.right=o.right.left,this.swapLocations(o,o.left,o.right,u),p.left=this.resolvePrecedence(o,u),this.swapLocations(p,p.left,p.right,u),o=p)):o.right.kind==="retif"&&(h=Wt.precedence[o.type],y=Wt.precedence["?"],h&&y&&y<=h&&(p=o.right,o.right=o.right.test,this.swapLocations(o,o.left,o.right,u),p.test=this.resolvePrecedence(o,u),this.swapLocations(p,p.test,p.falseExpr,u),o=p))):o.kind!=="silent"&&o.kind!=="cast"||!o.expr||o.expr.parenthesizedExpression?o.kind==="unary"?o.what&&!o.what.parenthesizedExpression&&(o.what.kind==="bin"?(p=o.what,o.what=o.what.left,this.swapLocations(o,o,o.what,u),p.left=this.resolvePrecedence(o,u),this.swapLocations(p,p.left,p.right,u),o=p):o.what.kind==="retif"&&(p=o.what,o.what=o.what.test,this.swapLocations(o,o,o.what,u),p.test=this.resolvePrecedence(o,u),this.swapLocations(p,p.test,p.falseExpr,u),o=p)):o.kind==="retif"?o.falseExpr&&o.falseExpr.kind==="retif"&&!o.falseExpr.parenthesizedExpression&&(p=o.falseExpr,o.falseExpr=p.test,this.swapLocations(o,o.test,o.falseExpr,u),p.test=this.resolvePrecedence(o,u),this.swapLocations(p,p.test,p.falseExpr,u),o=p):o.kind==="assign"?o.right&&o.right.kind==="bin"&&!o.right.parenthesizedExpression&&(h=Wt.precedence["="],y=Wt.precedence[o.right.type],h&&y&&y<h&&(p=o.right,o.right=o.right.left,p.left=o,this.swapLocations(p,p.left,o.right,u),o=p)):o.kind==="expressionstatement"&&this.swapLocations(o,o.expression,o,u):o.expr.kind==="bin"?(p=o.expr,o.expr=o.expr.left,this.swapLocations(o,o,o.expr,u),p.left=this.resolvePrecedence(o,u),this.swapLocations(p,p.left,p.right,u),o=p):o.expr.kind==="retif"&&(p=o.expr,o.expr=o.expr.test,this.swapLocations(o,o,o.expr,u),p.test=this.resolvePrecedence(o,u),this.swapLocations(p,p.test,p.falseExpr,u),o=p),o},Wt.prototype.prepare=function(o,u,p){var h=null;(this.withPositions||this.withSource)&&(h=p.position());var y=this,k=function B(){var P=null,U=Array.prototype.slice.call(arguments);if(U.push(u),y.withPositions||y.withSource){var j=null;y.withSource&&(j=p.lexer._input.substring(h.offset,p.prev[2])),P=new Ci(j,h,new x(p.prev[0],p.prev[1],p.prev[2])),U.push(P)}o||(o=U.shift());var D=y[o];if(typeof D!="function")throw new Error('Undefined node "'+o+'"');var je=Object.create(D.prototype);return D.apply(je,U),B.instance=je,B.trailingComments&&(je.trailingComments=B.trailingComments),typeof B.postBuild=="function"&&B.postBuild(je),p.debug&&delete Wt.stack[B.stackUid],y.resolvePrecedence(je,p)};return p.debug&&(Wt.stack||(Wt.stack={},Wt.stackUid=1),Wt.stack[++Wt.stackUid]={position:h,stack:new Error().stack.split(`
`).slice(3,5)},k.stackUid=Wt.stackUid),k.setTrailingComments=function(B){k.instance?k.instance.setTrailingComments(B):k.trailingComments=B},k.destroy=function(B){u&&(B?B.leadingComments?B.leadingComments=u.concat(B.leadingComments):B.leadingComments=u:p._docIndex=p._docs.length-u.length),p.debug&&delete Wt.stack[k.stackUid]},k},Wt.prototype.checkNodes=function(){var o=[];for(var u in Wt.stack)Wt.stack.hasOwnProperty(u)&&o.push(Wt.stack[u]);return Wt.stack={},o},[ts,ii,rs,ki,w,E,F,ve,Pn,Tt,Ll,gV,_V,TV,yV,bV,vV,NV,xV,Tu,EV,SV,PV,Um,IV,si,CV,AV,RV,kV,wV,OV,LV,DV,MV,FV,VV,ye,BV,qV,UV,jm,jV,GV,HV,WV,YV,KV,$V,zV,QV,XV,JV,De,ha,ZV,eB,tB,nB,rB,iB,sB,aB,ft,oB,lB,cB,uB,fB,pB,H,dB,hB,mB,gB,_B,TB,yB,bB,vB,is,NB,xB,EB,SB,G,PB,IB,CB,AB,RB,kB,wB,OB,LB,DB,MB,FB,VB,BB,qB,UB,jB,GB,HB,WB,YB,KB,$B].forEach(function(o){Wt.prototype[o.kind]=o});var Fx=Wt;function Hm(o,u){for(var p=Object.keys(o),h=p.length;h--;){var y=p[h],k=o[y];k===null?delete u[y]:typeof k=="function"?u[y]=k.bind(u):Array.isArray(k)?u[y]=Array.isArray(u[y])?u[y].concat(k):k:u[y]=typeof k=="object"&&typeof u[y]=="object"?Hm(k,u[y]):k}return u}var ai=function(o){if(typeof this=="function")return new this(o);if(this.tokens=fa,this.lexer=new b(this),this.ast=new Fx,this.parser=new ua(this.lexer,this.ast),o&&typeof o=="object"){if(o.parser&&(o.lexer||(o.lexer={}),o.parser.version)){if(typeof o.parser.version=="string"){var u=o.parser.version.split(".");if(u=100*parseInt(u[0])+parseInt(u[1]),isNaN(u))throw new Error("Bad version number : "+o.parser.version);o.parser.version=u}else if(typeof o.parser.version!="number")throw new Error("Expecting a number for version");if(o.parser.version<500||o.parser.version>900)throw new Error("Can only handle versions between 5.x to 8.x")}Hm(o,this),this.lexer.version=this.parser.version}},Wm=function(o){return typeof o.write=="function"?o.toString():o};ai.create=function(o){return new ai(o)},ai.parseEval=function(o,u){return new ai(u).parseEval(o)},ai.prototype.parseEval=function(o){return this.lexer.mode_eval=!0,this.lexer.all_tokens=!1,o=Wm(o),this.parser.parse(o,"eval")},ai.parseCode=function(o,u,p){return typeof u!="object"||p||(p=u,u="unknown"),new ai(p).parseCode(o,u)},ai.prototype.parseCode=function(o,u){return this.lexer.mode_eval=!1,this.lexer.all_tokens=!1,o=Wm(o),this.parser.parse(o,u)},ai.tokenGetAll=function(o,u){return new ai(u).tokenGetAll(o)},ai.prototype.tokenGetAll=function(o){this.lexer.mode_eval=!1,this.lexer.all_tokens=!0,o=Wm(o);var u=this.lexer.EOF,p=this.tokens.values;this.lexer.setInput(o);for(var h=this.lexer.lex()||u,y=[];h!=u;){var k=this.lexer.yytext;p.hasOwnProperty(h)&&(k=[p[h],k,this.lexer.yylloc.first_line]),y.push(k),h=this.lexer.lex()||u}return y};var Lo=ai,zB=fa,QB=b,XB=Fx,JB=ua,ZB=Hm,eq=ai;Lo.tokens=zB,Lo.lexer=QB,Lo.AST=XB,Lo.parser=JB,Lo.combine=ZB,Lo.default=eq;var Vx=function(o,u,p){var h=p&&p.parentParser==="markdown";if(!o&&h)return"";o=o.replace(/\?>\r?\n<\?/g,`?>
___PSEUDO_INLINE_PLACEHOLDER___<?`);var y,k=new Lo({parser:{extractDoc:!0},ast:{withPositions:!0,withSource:!0}}),B=o.indexOf("<?php")!==-1,P=h&&!B;try{y=P?k.parseEval(o):k.parseCode(o)}catch(U){throw U instanceof SyntaxError&&"lineNumber"in U&&(U.loc={start:{line:U.lineNumber,column:U.columnNumber}},delete U.lineNumber,delete U.columnNumber),U}return y.extra={parseAsEval:P},y.comments.forEach(function(U){U.value[U.value.length-1]==="\r"&&(U.value=U.value.slice(0,-1),U.loc.end.offset=U.loc.end.offset-1),U.value[U.value.length-1]===`
`&&(U.value=U.value.slice(0,-1),U.loc.end.offset=U.loc.end.offset-1)}),y},Dl=r.default.util,tq=Dl.hasNewline,nq=Dl.skipEverythingButNewLine,rq=Dl.skipNewline,iq=Dl.isNextLineEmpty,sq=Dl.isPreviousLineEmpty,aq=Dl.getNextNonSpaceNonCommentCharacterIndex,oq=r.default.version;function Ym(o,u){return parseInt(oq[0])>1?o[u]:o}var Bx={};function Km(o){return Bx[o]}[["or"],["xor"],["and"],["=","+=","-=","*=","**=","/=",".=","%=","&=","|=","^=","<<=",">>="],["??"],["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!==","<>","<=>"],["<",">","<=",">="],[">>","<<"],["+","-","."],["*","/","%"],["!"],["instanceof"],["++","--","~"],["**"]].forEach(function(o,u){o.forEach(function(p){Bx[p]=u})});var qx=["==","!=","===","!==","<>","<=>"],cp=["*","/","%"],$m=[">>","<<"];function Ux(o){return["block","program","namespace","class","interface","trait","traituse","declare"].includes(o.kind)}function jx(o){var u=o.body;return u?(u.kind==="block"&&(u=u.children),u[0]):null}function Ua(o){var u=o.children||o.body||o.adaptations;return Array.isArray(u)?u:null}function Gx(o){var u=o.getParentNode();return u?Ua(u):null}function up(o){return o.length>0?o[o.length-1]:null}function zm(o){var u=o.getValue();if(u.kind==="program"){var p=Ua(u);return!(!p||p.length===0)&&p[0].kind==="inline"}if(u.kind==="switch"){if(!u.body)return!1;var h=Ua(u.body);if(h.length===0)return!1;var y=Y(h,1)[0];if(!y.body)return!1;var k=Ua(y.body);return k.length!==0&&k[0].kind==="inline"}var B=jx(u);return!!B&&B.kind==="inline"}var Hx=["__construct","__destruct","__call","__callStatic","__get","__set","__isset","__unset","__sleep","__wakeup","__toString","__invoke","__set_state","__clone","__debugInfo"].reduce(function(o,u){return o[u.toLowerCase()]=u,o},{}),mt={printNumber:function(o){return o.toLowerCase().replace(/^([+-]?[\d.]+e)(?:\+|(-))?0*(\d)/,"$1$2$3").replace(/^([+-]?[\d.]+)e[+-]?0+$/,"$1").replace(/^([+-])?\./,"$10.").replace(/(\.\d+?)0+(?=e|$)/,"$1").replace(/\.(?=e)/,"")},getPrecedence:Km,isBitwiseOperator:function(o){return!!$m[o]||o==="|"||o==="^"||o==="&"},shouldFlatten:function(o,u){return Km(u)===Km(o)&&o!=="**"&&(!qx.includes(o)||!qx.includes(u))&&!(u==="%"&&cp.includes(o)||o==="%"&&cp.includes(u))&&(u===o||!cp.includes(u)||!cp.includes(o))&&(!$m.includes(o)||!$m.includes(u))},nodeHasStatement:Ux,getNodeListProperty:Ua,getParentNodeListProperty:Gx,getLast:up,getPenultimate:function(o){return o.length>1?o[o.length-2]:null},isLastStatement:function(o){var u=Gx(o);if(!u)return!0;var p=o.getValue();return u[u.length-1]===p},getBodyFirstChild:jx,lineShouldEndWithSemicolon:function(o){var u=o.getValue(),p=o.getParentNode();if(!p)return!1;if(["for","foreach","while","do","if","switch"].includes(p.kind)&&u.kind!=="block"&&u.kind!=="if"&&(p.body===u||p.alternate===u))return!0;if(!Ux(p)||u.kind==="echo"&&u.shortForm)return!1;if(u.kind==="traituse")return!u.adaptations;if(u.kind==="method"&&u.isAbstract)return!0;if(u.kind==="method"){var h=o.getParentNode();if(h&&h.kind==="interface")return!0}return["expressionstatement","do","usegroup","classconstant","propertystatement","traitprecedence","traitalias","goto","constantstatement","global","static","echo","unset","return","break","continue","throw"].includes(u.kind)},fileShouldEndWithHardline:function(o){var u=o.getValue(),p=u.kind==="program",h=u.children&&up(u.children);if(!p||h&&["halt","inline"].includes(h.kind))return!1;if(h&&(h.kind==="declare"||h.kind==="namespace")){var y=h.children.length>0&&up(h.children);if(y&&["halt","inline"].includes(y.kind))return!1}return!0},maybeStripLeadingSlashFromUse:function(o){var u=o.replace(/^\\/,"");return u.indexOf("\\")!==-1?u:o},hasDanglingComments:function(o){return o.comments&&o.comments.some(function(u){return!u.leading&&!u.trailing})},hasLeadingComment:function(o){return o.comments&&o.comments.some(function(u){return u.leading})},hasTrailingComment:function(o){return o.comments&&o.comments.some(function(u){return u.trailing})},docShouldHaveTrailingNewline:function o(u){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,h=u.getNode(p),y=u.getNode(p+1),k=u.getNode(p+2);if(!y)return!1;if(k&&["call","new","echo"].includes(k.kind)&&!["call","array"].includes(y.kind)||y.kind==="parameter"){var B=k.arguments.length-1,P=k.arguments.indexOf(y);return P!==B}if(k&&k.kind==="for"){var U=k.init.indexOf(y);if(U!==-1)return U!==k.init.length-1;var j=k.test.indexOf(y);if(j!==-1)return j!==k.test.length-1;var D=k.increment.indexOf(y);if(D!==-1)return D!==k.increment.length-1}if(y.kind==="bin")return y.left===h||o(u,p+1);if(y.kind==="case"&&y.test===h)return!0;if(y.kind==="staticvariable"){var je=k.variables.length-1,Ge=k.variables.indexOf(y);return Ge!==je}if(y.kind==="entry"){if(y.key===h)return!0;var Nt=k.items.length-1,Ut=k.items.indexOf(y);return Ut!==Nt}if(["call","new"].includes(y.kind)){var Fe=y.arguments.length-1,Lt=y.arguments.indexOf(h);return Lt!==Fe}if(y.kind==="echo"){var pt=y.expressions.length-1,Nn=y.expressions.indexOf(h);return Nn!==pt}if(y.kind==="array"){var _n=y.items.length-1,Dt=y.items.indexOf(h);return Dt!==_n}return y.kind==="retif"&&o(u,p+1)},isLookupNode:function(o){return o.kind==="propertylookup"||o.kind==="staticlookup"||o.kind==="offsetlookup"},isFirstChildrenInlineNode:zm,shouldPrintHardLineAfterStartInControlStructure:function(o){var u=o.getValue();return!["try","catch"].includes(u.kind)&&zm(o)},shouldPrintHardLineBeforeEndInControlStructure:function(o){var u=o.getValue();if(["try","catch"].includes(u.kind))return!0;if(u.kind==="switch"){var p=Ua(u.body);if(p.length===0)return!0;var h=up(p);if(!h.body)return!0;var y=Ua(h.body);return y.length===0||y[0].kind!=="inline"}return!zm(o)},getAlignment:function(o){var u=o.split(`
`).pop();return u.length-u.trimLeft().length+1},isProgramLikeNode:function(o){return["program","declare","namespace"].includes(o.kind)},isReferenceLikeNode:function(o){return["name","parentreference","selfreference","staticreference"].includes(o.kind)},getNodeKindIncludingLogical:function(o){return o.kind==="bin"&&["||","&&"].includes(o.type)?"logical":o.kind},useDoubleQuote:function(o,u){if(o.isDoubleQuote===u.singleQuote){var p=o.raw.slice(o.raw[0]==="b"?2:1,-1).match(/\\([$nrtfve]|[xX][0-9a-fA-F]{1,2}|[0-7]{1,3}|u{([0-9a-fA-F]+)})|\r?\n|'|"|\$/);return o.isDoubleQuote?p:!p}return o.isDoubleQuote},hasEmptyBody:function(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"body",p=o.getValue();return p[u]&&p[u].children&&p[u].children.length===0&&(!p[u].comments||p[u].comments.length===0)},isNextLineEmptyAfterNamespace:function(o,u,p){var h=p(u);return h=nq(o,h),h=rq(o,h),tq(o,h)},shouldPrintHardlineBeforeTrailingComma:function(o){return o.kind==="nowdoc"||o.kind==="encapsed"&&o.type==="heredoc"||o.kind==="entry"&&(o.value.kind==="nowdoc"||o.value.kind==="encapsed"&&o.value.type==="heredoc")},isDocNode:function(o){return o.kind==="nowdoc"||o.kind==="encapsed"&&o.type==="heredoc"},getAncestorNode:function(o,u){var p=function(h,y){for(var k,B=[].concat(y),P=-1;k=h.getParentNode(++P);)if(B.indexOf(k.kind)!==-1)return P;return-1}(o,u);return p===-1?null:o.getParentNode(p)},getNextNode:function(o,u){var p=o.getParentNode(),h=Ua(p);if(!h)return null;var y=h.indexOf(u);return y===-1?null:p.children[y+1]},normalizeMagicMethodName:function(o){var u=o.toLowerCase();return Hx[u]?Hx[u]:o},isPreviousLineEmpty:function(o,u,p){return sq(o,u,Ym(p,"locStart"))},isNextLineEmpty:function(o,u,p){return iq(o,u,Ym(p,"locEnd"))},getNextNonSpaceNonCommentCharacterIndex:function(o,u,p){return aq(o,u,Ym(p,"locEnd"))}},Ml=r.default.util,ss=Ml.addLeadingComment,$r=Ml.addDanglingComment,as=Ml.addTrailingComment,lq=Ml.skipNewline,fp=Ml.hasNewline,cq=Ml.hasNewlineInRange,Do=r.default.doc.builders,ja=Do.concat,Wx=Do.join,uq=Do.indent,js=Do.hardline,Yx=Do.cursor,Kx=Do.lineSuffix,fq=Do.breakParent,vu=mt.getNextNonSpaceNonCommentCharacterIndex,pq=mt.isNextLineEmpty,dq=mt.isPreviousLineEmpty,hq=mt.isLookupNode;function pp(o,u){var p=o.children;p.length===0?$r(o,u):ss(p[0],u)}function Qm(o,u){o.kind==="block"?pp(o,u):ss(o,u)}function $x(o,u,p,h,y,k){var B=vu(o,y,k),P=o.charAt(B);return u&&u.kind==="identifier"&&p&&(p.kind==="function"||p.kind==="method")&&P===")"?(as(p,y),!0):!(!p||p.kind!=="function"&&p.kind!=="method"||!h||h.kind!=="block")&&(pp(h,y),!0)}function Xm(o,u,p,h,y,k){if(!p||p.kind!=="if"||!h)return!1;var B=vu(o,y,k);return o.charAt(B)===")"?(as(u,y),!0):u===p.body&&h===p.alternate?($r(p,y),!0):h.kind==="if"?(Qm(h.body,y),!0):p.body===h&&(ss(h,y),!0)}function Jm(o,u,p){if(o&&["class","interface","trait"].includes(o.kind)){if(u&&o.extends){if(Array.isArray(o.extends)){if(o.extends.some(function(h){if(u&&u===h)return $r(u,p),!0}))return!0}else if(u===o.extends)return $r(u,p),!0}if(u&&o.implements&&o.implements.some(function(h){if(u&&u===h)return $r(u,p),!0}))return!0;if(!(o.body&&o.body.length>0))return $r(o,p),!0}return!!(u&&u.kind==="class"&&u.isAnonymous&&u.leadingComments&&p.kind==="commentblock")}function Zm(o,u,p,h,y){if(u&&(u.kind==="function"||u.kind==="method")){for(var k=0,B=0;B<u.arguments.length;B++)k=y.locEnd(u.arguments[B])>k?y.locEnd(u.arguments[B]):k;var P=u.body&&y.locStart(h)>k&&y.locEnd(h)<y.locStart(u.body),U=vu(o,h,y);if(u.type&&P&&o.charAt(U)!==")")return y.locEnd(h)<y.locStart(u.type)?($r(u.type,h),!0):(as(u.type,h),!0)}return!1}function eg(o,u,p,h,y){return!(!p||!["function","method","parameter"].includes(p.kind))&&u.kind==="typereference"&&h.kind==="identifier"&&(as(u,y),!0)}function zx(o,u){return!(!o||!["label","goto"].includes(o.kind))&&(as(o,u),!0)}function tg(o,u,p,h){return p&&p.kind==="inline"?(p.leadingComments||(p.leadingComments=[]),p.leadingComments.includes(h)||p.leadingComments.push(h),!0):!(o||p||!u||u.kind!=="inline")&&($r(u,h),!0)}function Qx(o,u,p){return!(!o||o.kind!=="try"||!u)&&(u.kind==="block"?(pp(u,p),!0):u.kind==="try"?(Qm(u.always,p),!0):u.kind==="catch"&&(Qm(u.body,p),!0))}function Xx(o,u,p,h){return p||u||!o||o.kind!=="namespace"||o.withBrackets?!(u||!o||o.kind!=="namespace"||o.withBrackets)&&($r(o,h),!0):(as(o,h),!0)}function Jx(o,u,p,h){return!(!o||o.kind!=="declare")&&(!u||u.kind!=="noop")&&(p&&o.directives[0]!==p?!(!p||!u)&&(ss(p,h),!0):(o.mode==="none"?as(o,h):$r(o,h),!0))}function ng(o,u,p,h,y,k){if(!p||p.kind!=="while"||!h)return!1;var B=vu(o,y,k);return o.charAt(B)===")"?(as(u,y),!0):h.kind==="block"&&(pp(h,y),!0)}function rg(o,u){return o.getValue().printed=!0,u.printer.printComment(o,u)}function Zx(o,u,p){return o.getNode()===u.cursorNode&&o.getValue()?ja([Yx,p,Yx]):p}var ct={handleOwnLineComment:function(o,u,p){var h=o.precedingNode,y=o.enclosingNode,k=o.followingNode;return $x(u,h,y,k,o,p)||function(B,P,U){return B&&hq(B)&&P&&["identifier","variable","encapsed"].includes(P.kind)?(ss(B,U),!0):!1}(y,k,o)||Xm(u,h,y,k,o,p)||ng(u,h,y,k,o,p)||Qx(y,k,o)||Jm(y,k,o)||eg(u,h,y,k,o)||Zm(u,y,k,o,p)||function(B,P,U,j){return!U&&B&&(B.kind==="for"||B.kind==="foreach")?(B.body&&B.body.kind!=="block"?ss(U,j):ss(B,j),!0):!1}(y,0,k,o)||tg(y,h,k,o)||Jx(y,h,k,o)},handleEndOfLineComment:function(o,u,p){var h=o.precedingNode,y=o.enclosingNode,k=o.followingNode;return function(B,P,U,j,D){return!P&&!j&&U&&U.kind==="array"?(as(U,D),!0):!1}(0,h,y,k,o)||function(B,P,U,j,D){return U&&U.kind==="return"&&!U.expr?(as(U,D),!0):!1}(0,0,y,0,o)||$x(u,h,y,k,o,p)||function(B,P,U,j,D,je){var Ge=P&&!cq(D,je.locEnd(P),je.locStart(j));return(!P||!Ge)&&B&&B.kind==="retif"&&U?(ss(U,j),!0):!1}(y,h,k,o,u,p)||Xm(u,h,y,k,o,p)||ng(u,h,y,k,o,p)||Qx(y,k,o)||Jm(y,k,o)||eg(u,h,y,k,o)||Zm(u,y,k,o,p)||function(B,P){return B&&B.kind==="entry"?(ss(B,P),!0):!1}(y,o)||function(B,P,U){return P&&P.kind==="call"&&B&&P.what===B&&P.arguments.length>0?(ss(P.arguments[0],U),!0):!1}(h,y,o)||function(B,P,U){if(B&&B.kind==="assign"&&P){var j=B.loc.start.offset+B.loc.source.indexOf("=");if(U.loc.start.offset>j)return ss(P,U),!0}return!1}(y,k,o)||tg(y,h,k,o)||Xx(y,h,k,o)||Jx(y,h,k,o)||zx(y,o)},handleRemainingComment:function(o,u,p){var h=o.precedingNode,y=o.enclosingNode,k=o.followingNode;return Xm(u,h,y,k,o,p)||ng(u,h,y,k,o,p)||function(B,P,U,j){var D=vu(B,U,j);return B.charAt(D)!==")"?!1:P&&(P.kind==="function"||P.kind==="closure"||P.kind==="method"||P.kind==="call"||P.kind==="new")&&P.arguments.length===0?($r(P,U),!0):!1}(u,y,o,p)||Jm(y,k,o)||function(B,P,U){return B&&B.kind==="traituse"&&B.adaptations&&!B.adaptations.length?($r(B,U),!0):!1}(y,0,o)||eg(u,h,y,k,o)||Zm(u,y,k,o,p)||zx(y,o)||function(B,P,U,j){return P&&P.kind==="halt"?($r(P,j),!0):B&&B.kind==="halt"?($r(B,j),!0):!1}(h,y,0,o)||function(B,P){return B&&(B.kind==="continue"||B.kind==="break")&&!B.label?(as(B,P),!0):!1}(y,o)||tg(y,h,k,o)||Xx(y,h,k,o)},getCommentChildNodes:function(o){return typeof o!="object"?[]:function(u){return Object.keys(u).filter(function(p){return p!=="kind"&&p!=="loc"&&p!=="errors"&&p!=="extra"&&p!=="comments"&&p!=="leadingComments"&&p!=="enclosingNode"&&p!=="precedingNode"&&p!=="followingNode"}).map(function(p){return u[p]})}(o)},canAttachComment:function(o){return o.kind&&o.kind!=="commentblock"&&o.kind!=="commentline"},isBlockComment:function(o){return o.kind==="commentblock"},printDanglingComments:function(o,u,p,h){var y=[],k=o.getValue();return k&&k.comments?(o.each(function(B){var P=B.getValue();!P||P.leading||P.trailing||h&&!h(P)||y.push(rg(B,u))},"comments"),y.length===0?"":p?Wx(js,y):uq(ja([js,Wx(js,y)]))):""},hasLeadingComment:function(o){return o.comments&&o.comments.some(function(u){return u.leading})},hasTrailingComment:function(o){return o.comments&&o.comments.some(function(u){return u.trailing})},hasLeadingOwnLineComment:function(o,u,p){return u.comments&&u.comments.some(function(h){return h.leading&&fp(o,p.locEnd(h))})},printComments:function(o,u){var p=[];return o.forEach(function(h,y,k){h.printed=!0;var B=k.length===y+1;p.push(h.value),B||p.push(js),pq(u.originalText,h,u)&&!B&&p.push(js)}),ja(p)},printAllComments:function(o,u,p,h){var y=o.getValue(),k=u(o),B=y&&y.comments;if(!B||B.length===0)return Zx(o,p,k);var P=[],U=[h?";":"",k];return o.each(function(j){var D=j.getValue(),je=D.leading,Ge=D.trailing;if(je){var Nt=function(Fe,Lt,pt){var Nn=Fe.getValue(),_n=rg(Fe,pt);if(!_n)return"";var Dt=pt.printer.isBlockComment&&pt.printer.isBlockComment(Nn);return ja(Dt?[_n,fp(pt.originalText,pt.locEnd(Nn))?js:" "]:[_n,js])}(j,0,p);if(!Nt)return;P.push(Nt);var Ut=p.originalText;fp(Ut,lq(Ut,p.locEnd(D)))&&P.push(js)}else Ge&&U.push(function(Fe,Lt,pt){var Nn=Fe.getValue(),_n=rg(Fe,pt);if(!_n)return"";var Dt=pt.printer.isBlockComment&&pt.printer.isBlockComment(Nn);if(fp(pt.originalText,pt.locStart(Nn),{backwards:!0})){var st=dq(pt.originalText,Nn,pt);return Kx(ja([js,st?js:"",_n]))}return ja(Dt?[" ",_n]:[Kx(ja([" ",_n])),Dt?"":fq])}(j,0,p))},"comments"),Zx(o,p,ja(P.concat(U)))}};function eE(){}eE.strictEqual=function(){};var mq=eE,tE=mt.getPrecedence,gq=mt.shouldFlatten,_q=mt.isBitwiseOperator,nE=function(o){var u=o.getParentNode();if(!u)return!1;var p=o.getName(),h=o.getNode();if(["program","expressionstatement","namespace","declare","block","include","print","return","echo"].includes(u.kind))return!1;switch(h.kind){case"pre":case"post":if(u.kind==="unary")return h.kind==="pre"&&(h.type==="+"&&u.type==="+"||h.type==="-"&&u.type==="-");case"unary":switch(u.kind){case"unary":return h.type===u.type&&(h.type==="+"||h.type==="-");case"propertylookup":case"staticlookup":case"offsetlookup":case"call":return p==="what"&&u.what===h;case"bin":return u.type==="**"&&p==="left";default:return!1}case"bin":switch(u.kind){case"assign":case"retif":return["and","xor","or"].includes(h.type);case"silent":case"cast":return h.parenthesizedExpression;case"pre":case"post":case"unary":return!0;case"call":case"propertylookup":case"staticlookup":case"offsetlookup":return p==="what"&&u.what===h;case"bin":var y=u.type,k=tE(y),B=h.type,P=tE(B);return k>P||y==="||"&&B==="&&"||(k===P&&p==="right"?(mq.strictEqual(u.right,h),!0):k===P&&!gq(y,B)||(k<P&&B==="%"?y==="+"||y==="-":!!_q(y)));default:return!1}case"propertylookup":case"staticlookup":switch(u.kind){case"call":return p==="what"&&u.what===h&&h.parenthesizedExpression;default:return!1}case"clone":case"new":switch(u.kind){case"propertylookup":case"staticlookup":case"offsetlookup":case"call":return p==="what"&&u.what===h;default:return!1}case"yield":switch(u.kind){case"propertylookup":case"staticlookup":case"offsetlookup":case"call":return p==="what"&&u.what===h;case"retif":return u.test===h;default:return!(!h.key&&!h.value)}case"assign":return(u.kind!=="for"||!u.init.includes(h)&&!u.increment.includes(h))&&u.kind!=="assign"&&u.kind!=="static"&&!["if","do","while","foreach","switch"].includes(u.kind)&&u.kind!=="silent"&&u.kind!=="call";case"retif":switch(u.kind){case"cast":return!0;case"unary":case"bin":case"retif":return!(p==="test"&&!u.trueExpr);case"propertylookup":case"staticlookup":case"offsetlookup":case"call":return p==="what"&&u.what===h;default:return!1}case"closure":switch(u.kind){case"call":return p==="what"&&u.what===h;case"propertylookup":return!0;default:return!1}case"silence":case"cast":return h.parenthesizedExpression;case"string":case"array":switch(u.kind){case"propertylookup":case"staticlookup":case"offsetlookup":case"call":return(!["string","array"].includes(h.kind)||u.kind!=="offsetlookup")&&p==="what"&&u.what===h;default:return!1}case"print":case"include":return u.kind==="bin"}return!1},Cr=r.default.doc.builders,rE=Cr.breakParent,M=Cr.concat,Un=Cr.join,Ot=Cr.line,Tq=Cr.lineSuffix,Ie=Cr.group,Fl=Cr.conditionalGroup,we=Cr.indent,yq=Cr.dedent,Ga=Cr.ifBreak,Ne=Cr.hardline,it=Cr.softline,Vl=Cr.literalline,bq=Cr.align,vq=Cr.dedentToRoot,Ha=r.default.doc.utils.willBreak,ig=r.default.util,Nq=ig.isNextLineEmptyAfterIndex,xq=ig.hasNewline,iE=ig.hasNewlineInRange,Wa=mt.getLast,Eq=mt.getPenultimate,sE=mt.isLastStatement,Sq=mt.lineShouldEndWithSemicolon,Pq=mt.printNumber,aE=mt.shouldFlatten,oE=mt.maybeStripLeadingSlashFromUse,Iq=mt.fileShouldEndWithHardline,oi=mt.hasDanglingComments,lE=mt.hasLeadingComment,cE=mt.hasTrailingComment,uE=mt.docShouldHaveTrailingNewline,zr=mt.isLookupNode,sg=mt.isFirstChildrenInlineNode,Cq=mt.shouldPrintHardLineAfterStartInControlStructure,Aq=mt.shouldPrintHardLineBeforeEndInControlStructure,Rq=mt.getAlignment,ag=mt.isProgramLikeNode,Bl=mt.getNodeKindIncludingLogical,kq=mt.useDoubleQuote,fE=mt.hasEmptyBody,wq=mt.isNextLineEmptyAfterNamespace,pE=mt.shouldPrintHardlineBeforeTrailingComma,og=mt.isDocNode,lg=mt.getAncestorNode,cg=mt.isReferenceLikeNode,Oq=mt.getNextNode,Lq=mt.normalizeMagicMethodName,Dq=mt.getNextNonSpaceNonCommentCharacterIndex,Mo=mt.isNextLineEmpty;function ql(o,u){return parseFloat(o)>=parseFloat(u)}function dp(o,u){return!!o.trailingCommaPHP&&ql(o.phpVersion,u)}function ug(o){switch(o.braceStyle){case"1tbs":return!1;case"psr-2":default:return!0}}function fg(o,u,p){var h=arguments.length>3&&arguments[3]!==void 0&&arguments[3];return M([h?"?":"","->",o.call(p,"offset")])}function dE(o,u,p){return fg(o,u,p,!0)}function hE(o,u,p){var h=o.getValue(),y=!["variable","identifier"].includes(h.offset.kind);return M(["::",y?"{":"",o.call(p,"offset"),y?"}":""])}function mE(o,u,p){var h=o.getValue(),y=h.offset&&h.offset.kind==="number"||lg(o,"encapsed");return M(["[",h.offset?Ie(M([we(M([y?"":it,o.call(p,"offset")])),y?"":it])):"","]"])}function gE(o){return o.kind==="array"&&(o.items.length>0||o.comments)||o.kind==="function"||o.kind==="method"||o.kind==="closure"}function Mq(o){var u=Wa(o),p=Eq(o);return!lE(u)&&!cE(u)&&gE(u)&&(!p||p.kind!==u.kind)}function Fq(o){if(o.length!==2)return!1;var u=Y(o,2),p=u[0],h=u[1];return!(p.comments&&p.comments.length||p.kind!=="function"&&p.kind!=="method"&&p.kind!=="closure"||h.kind==="retif"||gE(h))}function Gs(o,u,p){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"arguments",y=o.getValue()[h];if(y.length===0)return M(["(",ct.printDanglingComments(o,u,!0),")"]);var k=!1,B=!1,P=y.length-1,U=o.map(function(Dt,st){var Xt=Dt.getNode(),Cn=[p(Dt)];return st===P||(Mo(u.originalText,Xt,u)?(st===0&&(B=!0),k=!0,Cn.push(",",Ne,Ne)):Cn.push(",",Ot)),M(Cn)},h),j=o.getValue(),D=Wa(y),je=dp(u,"7.3")&&["call","new","unset","isset"].includes(j.kind)||dp(u,"8.0")&&["function","closure","method","arrowfunc"].includes(j.kind)?we(M([D&&pE(D)?Ne:"",","])):"";function Ge(){return Ie(M(["(",we(M([Ot,M(U)])),je,Ot,")"]),{shouldBreak:!0})}var Nt=Fq(y),Ut=Mq(y);if(Nt||Ut){var Fe,Lt=(Nt?U.slice(1).some(Ha):U.slice(0,-1).some(Ha))||k,pt=0;o.each(function(Dt){Nt&&pt===0&&(Fe=[M([Dt.call(function(st){return p(st,{expandFirstArg:!0})}),U.length>1?",":"",B?Ne:Ot,B?Ne:""])].concat(U.slice(1))),Ut&&pt===y.length-1&&(Fe=U.slice(0,-1).concat(Dt.call(function(st){return p(st,{expandLastArg:!0})}))),pt++},h);var Nn=U.some(Ha),_n=M(["(",M(Fe),")"]);return M([Nn?rE:"",Fl([Nn?Ga(Ge(),_n):_n,M(Nt?["(",Ie(Fe[0],{shouldBreak:!0}),M(Fe.slice(1)),")"]:["(",M(U.slice(0,-1)),Ie(Wa(Fe),{shouldBreak:!0}),")"]),Ie(M(["(",we(M([Ot,M(U)])),Ga(je),Ot,")"]),{shouldBreak:!0})],{shouldBreak:Lt})])}return Ie(M(["(",we(M([it,M(U)])),Ga(je),it,")"]),{shouldBreak:U.some(Ha)||k})}function _E(o){return o.kind==="array"&&o.items.length!==0}function Nu(o){return o.right.kind==="array"&&o.right.items.length!==0}function TE(o,u,p){var h=o.getValue();switch(h.kind){case"propertylookup":return fg(o,u,p);case"nullsafepropertylookup":return dE(o,u,p);case"staticlookup":return hE(o,0,p);case"offsetlookup":return mE(o,0,p);default:return"Have not implemented lookup kind ".concat(h.kind," yet.")}}function yE(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=u.opening,h=p===void 0||p;if(o.type==="heredoc")return h?"<<<".concat(o.label):o.label;var y={string:'"',shell:"`"};return y[o.type]?y[o.type]:"Unimplemented encapsed type ".concat(o.type)}function Vq(o,u,p){var h=[],y=[];return o.each(function(k){h.push(M(y)),h.push(Ie(p(k))),y=[",",Ot],k.getValue()&&Mo(u.originalText,k.getValue(),u)&&y.push(it)},"items"),M(h)}function Bq(o,u){if(u.length===0)return o;var p=0;return u.reduce(function(h,y){var k=y.start,B=y.end,P=y.alignment,U=y.before,j=y.after,D=M([U||"",M(o.slice(k,B)),j||""]),je=h.concat(o.slice(p,k),P?vq(Ie(M([bq(new Array(P).join(" "),D)]))):Ie(D),B===o.length-1?o.slice(B):"");return p=B,je},[])}function xu(o,u,p){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"children",y=o.getValue(),k=o.getParentNode(),B=-1,P=[],U=[];o.map(function(Dt,st){var Xt=Dt.getValue(),Cn=Xt.kind==="inline",Ka=p(Dt),Ar=y[h],li=Ar[st+1],Fo=!sE(Dt)&&!Cn&&(li&&li.kind==="case"?!sg(o):li&&li.kind!=="inline"),Vo=M([Ka,Fo?Ne:"",Fo&&Mo(u.originalText,Xt,u)?Ne:""]),Oi=st===0,ga=Ar.length-1===st,ci=y.kind==="block"&&k&&["function","closure","method","try","catch"].includes(k.kind),Bo=ci&&Oi?"":" ";if(Cn||!Cn&&ga&&B>=0){var ui=B;if(Cn&&(B=st),Cn&&!Oi||!Cn&&ga){var $a=(Cn?ui:B)+1,Li=ga&&!Cn?st+1:st,_a=Ar[Cn?ui:B],yp=_a?Rq(_a.raw):"",Eu=Li-$a>1,Su=Eu?ci&&!_a||ag(y)&&$a===0?"":Ne:"",za=Eu&&Xt.kind!=="halt"?ci&&ga?"":Ne:"";Eu&&(Bo=""),U.push({start:$a,end:Li,alignment:yp,before:Su,after:za})}}if(Cn){var qo=li&&li.kind==="echo"&&li.shortForm?"<?=":"<?php",bp=Xt.leadingComments&&Xt.leadingComments.length?M([Oi&&y.kind!=="namespace"&&!ci?"<?php":"",y.kind!=="namespace"&&ci?"":Ne,ct.printComments(Xt.leadingComments,u),Ne,"?>"]):ag(y)&&Oi&&y.kind!=="namespace"?"":M([Bo,"?>"]),Ta=o.getNode(st+1),Uo=Ta&&Ta.children&&Ta.children.length,mg=Xt.comments&&Xt.comments.length?M([qo,Ne,Uo?ct.printComments(Xt.comments,u):"",Ne,Uo?"?>":""]):ag(y)&&ga?"":M([qo," "]);Vo=M([bp,Vo,mg])}P.push(Vo)},h);var j=Bq(P,U);if(y.kind==="program"&&!y.extra.parseAsEval){var D=[],je=Y(y.children,1),Ge=je[0],Nt=!Ge||Ge.kind!=="inline";if(Nt){var Ut=u.originalText.trim().match(/^<\?(php|=)(\s+)?\S/),Fe=M([Ut&&Ut[2]&&Ut[2].includes(`
`)?M([Ne,Ut[2].split(`
`).length>2?Ne:""]):" ",y.comments?ct.printComments(y.comments,u):""]),Lt=Ge&&Ge.kind==="echo"&&Ge.shortForm;D.push(M([Lt?"<?=":"<?php",Fe]))}D.push(M(j));var pt=u.originalText.trim().endsWith("?>");if(pt){var Nn=Wa(y.children),_n=Nn?M([iE(u.originalText.trimEnd(),u.locEnd(Nn),u.locEnd(y))?Ne:" ",Mo(u.originalText,Nn,u)?Ne:""]):y.comments?Ne:"";D.push(Tq(M([_n,"?>"])))}return M(D)}return M(j)}function bE(o,u,p,h){return M(o.map(function(y){var k=[];return k.push(p(y)),sE(y)||(k.push(Ne),Mo(u.originalText,y.getValue(),u)&&k.push(Ne)),M(k)},h))}function wi(o,u,p){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"extends",y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:" ",k=arguments.length>5&&arguments[5]!==void 0?arguments[5]:" ",B=o.getValue(),P=oi(B[h])?M([Ne,o.call(function(j){return ct.printDanglingComments(j,u,!0)},h),Ne]):y,U=Array.isArray(B[h])?Ie(M([Un(",",o.map(function(j){var D=p(j);return oi(j.getValue())?M([Ne,ct.printDanglingComments(j,u,!0),Ne,D]):M([k,D])},h))])):M([k,o.call(p,h)]);return we(M([P,h,Ha(P)?we(U):U]))}function Ya(o,u,p){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},y=h.inline,k=y!==void 0&&y,B=[];return o.getValue().attrGroups?(o.each(function(P){var U=["#["];B.length>0&&B.push(k?" ":Ne),U.push(Ga(it)),P.each(function(j){var D=j.getValue();U.length>2&&U.push(",",Ga(it," "));var je=[D.name];D.args.length>0&&je.push(Gs(j,u,p,"args")),U.push(Ie(M(je)))},"attrs"),B.push(Ie(M([we(M(U)),Ga(it),"]",it,k?" ":""])))},"attrGroups"),B.length===0?[]:[M([].concat(B,[k?"":Ne]))]):[]}function ma(o,u,p){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"body",y=o.getValue();if(!y[h])return";";var k=o.call(p,h);return M([y.shortForm?":":" {",we(M([y[h].kind!=="block"||y[h].children&&y[h].children.length>0||y[h].comments&&y[h].comments.length>0?M([Cq(o)?y.kind==="switch"?" ":"":Ne,k]):""])),y.kind==="if"&&h==="body"?"":M([Aq(o)?Ne:"",y.shortForm?M(["end",y.kind,";"]):"}"])])}function hp(o,u,p,h,y,k,B){if(!h)return u;var P=pg(o,h,y,k,B);return Ie(M([u,p,P]))}function pg(o,u,p,h,y){var k=h?"&":"";if(ct.hasLeadingOwnLineComment(y.originalText,u,y))return we(M([Ne,k,p]));var B=u.kind==="cast"?u.expr:u;return B.kind==="bin"&&!Nu(B)||B.kind==="retif"&&(!B.trueExpr&&!_E(B.falseExpr)||B.test.kind==="bin"&&!Nu(B.test))||(o.kind==="variable"||o.kind==="string"||zr(o))&&(B.kind==="string"&&!vE(B)||function P(U){return!!zr(U)&&(!(U.what.kind!=="variable"&&!cg(U.what))||P(U.what))}(B))?Ie(we(M([Ot,k,p]))):M([" ",k,p])}function vE(o){return o.raw.includes(`
`)}function mp(o,u,p){return(o.kind==="string"||o.kind==="encapsed"&&(o.type==="string"||o.type==="shell"))&&vE(o)&&!xq(u,p.locStart(o),{backwards:!0})}var qq=function(o,u,p){var h=o.getValue();if(!h)return"";if(typeof h=="string")return h;var y=function(P,U,j){var D=P.getValue();switch(D.kind){case"program":return Ie(M([xu(P,U,j),ct.printDanglingComments(P,U,!0,function(fe){return!fe.printed})]));case"expressionstatement":return P.call(j,"expression");case"block":return M([xu(P,U,j),ct.printDanglingComments(P,U,!0)]);case"declare":var je=function(fe){return Un(", ",fe.map(function(Re){return M([j(Re)])},"directives"))};if(["block","short"].includes(D.mode))return M(["declare(",je(P),")",D.mode==="block"?" {":":",D.children.length>0?we(M([Ne,xu(P,U,j)])):"",ct.printDanglingComments(P,U),Ne,D.mode==="block"?"}":"enddeclare;"]);var Ge=Oq(P,D);return M(["declare(",je(P),")",Ge&&Ge.kind==="inline"?"":";"]);case"declaredirective":return M([P.call(j,"key"),"=",P.call(j,"value")]);case"namespace":return M(["namespace ",D.name&&typeof D.name=="string"?M([D.name,D.withBrackets?" ":""]):"",D.withBrackets?"{":";",oi(D)?M([" ",ct.printDanglingComments(P,U,!0)]):"",D.children.length>0?D.withBrackets?we(M([Ne,xu(P,U,j)])):M([D.children[0].kind==="inline"?"":M([Ne,wq(U.originalText,D,U.locStart)?Ne:""]),xu(P,U,j)]):"",D.withBrackets?M([Ne,"}"]):""]);case"usegroup":return Ie(M(["use ",D.type?M([D.type," "]):"",we(M([D.name?M([oE(D.name),"\\{",it]):"",Un(M([",",Ot]),P.map(function(fe){return M([j(fe)])},"items"))])),D.name?M([Ga(dp(U,"7.2")?",":""),it,"}"]):""]));case"useitem":return M([D.type?M([D.type," "]):"",oE(D.name),oi(D)?M([" ",ct.printDanglingComments(P,U,!0)]):"",D.alias?M([" as ",P.call(j,"alias")]):""]);case"class":case"interface":case"trait":return function(fe,Re,Je){var ge=fe.getValue(),Jt=ge.kind==="class"&&ge.isAnonymous,lr=Ya(fe,Re,Je,{inline:Jt}),xn=Jt?[]:te(lr);ge.isFinal&&xn.push("final "),ge.isAbstract&&xn.push("abstract "),xn.push(Jt?"":ge.kind),ge.name&&xn.push(" ",fe.call(Je,"name")),ge.extends&&ge.implements?xn.push(Fl([M([wi(fe,Re,Je,"extends"),wi(fe,Re,Je,"implements")]),M([wi(fe,Re,Je,"extends"),wi(fe,Re,Je,"implements"," ",Ne)]),M([wi(fe,Re,Je,"extends",Ne," "),wi(fe,Re,Je,"implements",Ne,ge.implements.length>1?Ne:" ")])],{shouldBreak:oi(ge.extends)})):(ge.extends&&xn.push(Fl([wi(fe,Re,Je,"extends"),wi(fe,Re,Je,"extends"," ",Ne),wi(fe,Re,Je,"extends",Ne,ge.extends.length>1?Ne:" ")])),ge.implements&&xn.push(Fl([wi(fe,Re,Je,"implements"),wi(fe,Re,Je,"implements"," ",Ne),wi(fe,Re,Je,"implements",Ne,ge.implements.length>1?Ne:" ")])));var It=Ie(M([Ie(M(xn)),ug(Re)?Jt?Ot:Ne:" "])),fn=ge.body&&ge.body.length===0&&!oi(ge),cr=M(["{",we(M([fn?"":Ne,bE(fe,Re,Je,"body")])),ct.printDanglingComments(fe,Re,!0),Jt&&fn?it:Ne,"}"]);return M([It,cr])}(P,U,j);case"traitprecedence":return M([P.call(j,"trait"),"::",P.call(j,"method")," insteadof ",Un(", ",P.map(j,"instead"))]);case"traitalias":return M([D.trait?M([P.call(j,"trait"),"::"]):"",D.method?P.call(j,"method"):""," as ",Un(" ",[].concat(te(D.visibility?[D.visibility]:[]),te(D.as?[P.call(j,"as")]:[])))]);case"traituse":return Ie(M(["use ",we(Ie(Un(M([",",Ot]),P.map(j,"traits")))),D.adaptations?M([" {",D.adaptations.length>0?M([we(M([Ne,bE(P,U,j,"adaptations")])),Ne]):oi(D)?M([Ot,ct.printDanglingComments(P,U,!0),Ot]):"","}"]):""]));case"function":case"closure":case"method":return function(fe,Re,Je){var ge=fe.getValue(),Jt=te(Ya(fe,Re,Je,{inline:ge.kind==="closure"}));ge.isFinal&&Jt.push("final "),ge.isAbstract&&Jt.push("abstract "),ge.visibility&&Jt.push(ge.visibility," "),ge.isStatic&&Jt.push("static "),Jt.push("function "),ge.byref&&Jt.push("&"),ge.name&&Jt.push(fe.call(Je,"name")),Jt.push(Gs(fe,Re,Je)),ge.uses&&ge.uses.length>0&&Jt.push(Ie(M([" use ",Gs(fe,Re,Je,"uses")]))),ge.type&&Jt.push(M([": ",oi(ge.type)?M([fe.call(function(fn){return ct.printDanglingComments(fn,Re,!0)},"type")," "]):"",ge.nullable?"?":"",fe.call(Je,"type")]));var lr=M(Jt);if(!ge.body)return lr;var xn=ge.kind==="closure",It=M(["{",we(M([fE(fe)?"":Ne,fe.call(Je,"body")])),xn&&fE(fe)?"":Ne,"}"]);return xn?M([lr," ",It]):ge.arguments.length===0?M([lr,ug(Re)?Ne:" ",It]):Jt.some(Ha)?M([lr," ",It]):Fl([M([lr,ug(Re)?Ne:" ",It]),M([lr," ",It])])}(P,U,j);case"arrowfunc":return M([].concat(te(Ya(P,U,j,{inline:!0})),[D.isStatic?"static ":"","fn",Gs(P,U,j),D.type?M([": ",D.nullable?"?":"",P.call(j,"type")]):""," => ",P.call(j,"body")]));case"parameter":var Nt="";D.flags===1?Nt="public ":D.flags===2?Nt="protected ":D.flags===4&&(Nt="private ");var Ut=M([].concat(te(Ya(P,U,j,{inline:!0})),[Nt,D.nullable?"?":"",D.type?M([P.call(j,"type")," "]):"",D.byref?"&":"",D.variadic?"...":"","$",P.call(j,"name")]));return D.value?Ie(M([Ut,oi(D)?" ":"",ct.printDanglingComments(P,U,!0),M([" =",pg(D.name,D.value,P.call(j,"value"),!1,U)])])):Ut;case"variadic":return M(["...",P.call(j,"what")]);case"property":return Ie(M([D.type?M([D.nullable?"?":"",P.call(j,"type")," "]):"","$",P.call(j,"name"),D.value?M([" =",pg(D.name,D.value,P.call(j,"value"),!1,U)]):""]));case"propertystatement":var Fe=[];P.map(function(fe){return Fe.push.apply(Fe,te(Ya(fe,U,j)))},"properties");var Lt,pt=P.map(function(fe){return j(fe)},"properties"),Nn=D.properties.some(function(fe){return fe.value});pt.length!==1||D.properties[0].comments?pt.length>0&&(Lt=we(pt[0])):Lt=Y(pt,1)[0];var _n=D.visibility||D.visibility===null;return Ie(M([].concat(Fe,[_n?M([D.visibility===null?"var":D.visibility,""]):"",D.isStatic?M([_n?" ":"","static"]):"",Lt?M([" ",Lt]):"",we(M(pt.slice(1).map(function(fe){return M([",",Nn?Ne:Ot,fe])})))])));case"if":var Dt=[],st=ma(P,U,j,"body"),Xt=Ie(M(["if (",Ie(M([we(M([it,P.call(j,"test")])),it])),")",st]));if(Dt.push(Xt,sg(P)||!D.body?"":Ne),D.alternate){Dt.push(D.shortForm?"":"} ");var Cn=cE(D.body)&&D.body.comments.some(function(fe){return fe.trailing&&!ct.isBlockComment(fe)})||function(fe){if(!fe.comments)return!1;var Re=Wa(fe.comments.filter(function(Je){return!Je.leading&&!Je.trailing}));return Re&&!ct.isBlockComment(Re)}(D),Ka=!Cn;Dt.push(Ka?"":Ne),oi(D)&&Dt.push(Mo(U.originalText,D.body,U)?Ne:"",ct.printDanglingComments(P,U,!0),Cn?Ne:" "),Dt.push("else",Ie(D.alternate.kind==="if"?P.call(j,"alternate"):ma(P,U,j,"alternate")))}else Dt.push(D.body?D.shortForm?"endif;":"}":"");return M(Dt);case"do":return M(["do",ma(P,U,j,"body")," while (",Ie(M([we(M([it,P.call(j,"test")])),it])),")"]);case"while":case"switch":return Ie(M([D.kind," (",Ie(M([we(M([it,P.call(j,"test")])),it])),")",ma(P,U,j,"body")]));case"for":var Ar=ma(P,U,j,"body"),li=ct.printDanglingComments(P,U,!0),Fo=li?M([li,it]):"";return D.init.length||D.test.length||D.increment.length?M([Fo,Ie(M(["for (",Ie(M([we(M([it,Ie(M([Un(M([",",Ot]),P.map(j,"init"))])),";",Ot,Ie(M([Un(M([",",Ot]),P.map(j,"test"))])),";",Ot,Ie(Un(M([",",Ot]),P.map(j,"increment")))])),it])),")",Ar]))]):M([Fo,Ie(M(["for (;;)",Ar]))]);case"foreach":var Vo=ma(P,U,j,"body"),Oi=ct.printDanglingComments(P,U,!0),ga=Oi?M([Oi,it]):"";return M([ga,Ie(M(["foreach (",Ie(M([we(M([it,P.call(j,"source"),Ot,"as ",Ie(D.key?we(Un(M([" =>",Ot]),[P.call(j,"key"),P.call(j,"value")])):P.call(j,"value"))])),it])),")",Vo]))]);case"try":var ci=[];return ci.push("try",ma(P,U,j,"body")),D.catches&&ci.push(M(P.map(j,"catches"))),D.always&&ci.push(" finally",ma(P,U,j,"always")),M(ci);case"catch":return M([" catch",D.what?M([" (",Un(" | ",P.map(j,"what")),D.variable?M([" ",P.call(j,"variable")]):"",")"]):"",ma(P,U,j,"body")]);case"case":return M([D.test?M(["case ",D.test.comments?we(P.call(j,"test")):P.call(j,"test"),":"]):"default:",D.body&&D.body.children&&D.body.children.length?we(M([sg(P)?"":Ne,P.call(j,"body")])):""]);case"break":case"continue":return D.level&&D.level.kind==="number"&&D.level.value!=="1"?M(["".concat(D.kind," "),P.call(j,"level")]):D.kind;case"call":return D.arguments.length===1&&mp(D.arguments[0],U.originalText,U)?M([P.call(j,"what"),M(["(",Un(", ",P.map(j,"arguments")),")"])]):zr(D.what)?function(fe,Re,Je){var ge=[];function Jt(ut){var pn=Re.originalText,jn=Dq(pn,ut,Re);return pn.charAt(jn)===")"?Nq(pn,jn+1,Re):Mo(pn,ut,Re)}function lr(ut){var pn=ut.getValue();if(pn.kind!=="call"||!zr(pn.what)&&pn.what.kind!=="call")if(zr(pn)){var jn=null;jn=pn.kind==="propertylookup"?fg(ut,Re,Je):pn.kind==="nullsafepropertylookup"?dE(ut,Re,Je):pn.kind==="staticlookup"?hE(ut,Re,Je):mE(ut,Re,Je),ge.unshift({node:pn,needsParens:nE(ut),printed:ct.printAllComments(ut,function(){return jn},Re)}),ut.call(function(Cu){return lr(Cu)},"what")}else ge.unshift({node:pn,printed:ut.call(Je)});else ge.unshift({node:pn,printed:M([ct.printAllComments(ut,function(){return M([Gs(ut,Re,Je)])},Re),Jt(pn)?Ne:""])}),ut.call(function(Cu){return lr(Cu)},"what")}var xn=fe.getValue();ge.unshift({node:xn,printed:Gs(fe,Re,Je)}),fe.call(function(ut){return lr(ut)},"what");for(var It=0;It<ge.length;++It)ge[It].node.kind==="call"&&ge[It-1]&&["propertylookup","staticlookup"].includes(ge[It-1].node.kind)&&ge[It-1].needsParens&&(ge[0].printed=M(["(",ge[0].printed]),ge[It-1].printed=M([ge[It-1].printed,")"]));for(var fn=[],cr=[ge[0]],an=1;an<ge.length&&(ge[an].node.kind==="call"||zr(ge[an].node)&&ge[an].node.offset&&ge[an].node.offset.kind==="number");++an)cr.push(ge[an]);if(ge[0].node.kind!=="call")for(;an+1<ge.length&&zr(ge[an].node)&&zr(ge[an+1].node);++an)cr.push(ge[an]);fn.push(cr),cr=[];for(var Gl=!1;an<ge.length;++an){if(Gl&&zr(ge[an].node)){if(ge[an].node.kind==="offsetlookup"&&ge[an].node.offset&&ge[an].node.offset.kind==="number"){cr.push(ge[an]);continue}fn.push(cr),cr=[],Gl=!1}ge[an].node.kind==="call"&&(Gl=!0),cr.push(ge[an]),ge[an].node.comments&&ct.hasTrailingComment(ge[an].node)&&(fn.push(cr),cr=[],Gl=!1)}cr.length>0&&fn.push(cr);function vg(ut){var pn=ut[1].length&&ut[1][0].node.kind==="offsetlookup";if(ut[0].length===1){var jn=ut[0][0].node;return jn.kind==="variable"&&(jn.name==="this"||Ng&&Cu(jn.name))||cg(jn)}function Cu(BU){return BU.length<Re.tabWidth}var Eg=Wa(ut[0]).node;return zr(Eg)&&(Eg.offset.kind==="identifier"||Eg.offset.kind==="variable")&&pn}var Ng=fe.getParentNode().kind==="expressionstatement",Ap=fn.length>=2&&!fn[1][0].node.comments&&vg(fn);function Rp(ut){for(var pn=[],jn=0;jn<ut.length;jn++)ut[jn+1]&&ut[jn+1].needsParens?(pn.push("(",ut[jn].printed,ut[jn+1].printed,")"),jn++):pn.push(ut[jn].printed);return M(pn)}function MU(ut){return ut.length===0?"":we(Ie(M([Ne,Un(Ne,ut.map(Rp))])))}var aS=fn.map(Rp),xg=M(aS),kp=Ap?3:2,oS=fn.slice(0,kp).reduce(function(ut,pn){return ut.concat(pn)},[]),lS=oS.slice(1,-1).some(function(ut){return ct.hasLeadingComment(ut.node)})||oS.slice(0,-1).some(function(ut){return ct.hasTrailingComment(ut.node)})||fn[kp]&&ct.hasLeadingComment(fn[kp][0].node),FU=lg(fe,"encapsed");if(fn.length<=kp&&!lS||FU)return Ie(xg);var cS=Wa(Ap?fn.slice(1,2)[0]:fn[0]).node,uS=cS.kind!=="call"&&Jt(cS),fS=M([Rp(fn[0]),Ap?M(fn.slice(1,2).map(Rp)):"",uS?Ne:"",MU(fn.slice(Ap?2:1))]),VU=ge.filter(function(ut){return ut.node.kind==="call"}).length;return lS||VU>=3||aS.slice(0,-1).some(Ha)?Ie(fS):M([Ha(xg)||uS?rE:"",Fl([xg,fS])])}(P,U,j):M([P.call(j,"what"),Gs(P,U,j)]);case"new":var Bo=D.what&&D.what.kind==="class"&&D.what.isAnonymous;if(!Bo&&D.arguments.length===1&&mp(D.arguments[0],U.originalText,U))return M(["new "].concat(te(P.call(Ya,"what")),[P.call(j,"what"),"(",Un(", ",P.map(j,"arguments")),")"]));var ui=[];if(ui.push("new "),Bo)ui.push.apply(ui,[D.what.leadingComments&&D.what.leadingComments[0].kind==="commentblock"?M([ct.printComments(D.what.leadingComments,U)," "]):""].concat(te(P.call(function(fe,Re,Je){return Ya(fe,Re,Je,{inline:!0})},"what")),["class",D.arguments.length>0?M([" ",Gs(P,U,j)]):"",Ie(P.call(j,"what"))]));else{var $a=M([P.call(j,"what"),Gs(P,U,j)]);ui.push(lE(D.what)?we($a):$a)}return M(ui);case"clone":return M(["clone ",D.what.comments?we(P.call(j,"what")):P.call(j,"what")]);case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":var Li,_a=P.getParentNode(),yp=0;do Li=P.getParentNode(yp),yp++;while(Li&&zr(Li));var Eu=lg(P,"encapsed")||Li&&(Li.kind==="new"||Li.kind==="assign"&&Li.left.kind!=="variable")||D.kind==="offsetlookup"||(cg(D.what)||D.what.kind==="variable")&&["identifier","variable","encapsedpart"].includes(D.offset.kind)&&_a&&!zr(_a);return M([P.call(j,"what"),Eu?TE(P,U,j):Ie(we(M([it,TE(P,U,j)])))]);case"exit":return Ie(M([D.useDie?"die":"exit","(",D.expression?mp(D.expression,U.originalText,U)?P.call(j,"expression"):M([we(M([it,P.call(j,"expression")])),it]):ct.printDanglingComments(P,U),")"]));case"global":return Ie(M(["global ",we(M([Un(M([",",Ot]),P.map(j,"items"))]))]));case"include":return M([D.require?"require":"include",D.once?"_once":""," ",D.target.comments?we(P.call(j,"target")):P.call(j,"target")]);case"label":return M([P.call(j,"name"),":"]);case"goto":return M(["goto ",P.call(j,"label")]);case"throw":return M(["throw ",D.what.comments?we(P.call(j,"what")):P.call(j,"what")]);case"silent":return M(["@",P.call(j,"expr")]);case"halt":return M([oi(D)?M([ct.printDanglingComments(P,U,!0),Ne]):"","__halt_compiler();",D.after]);case"eval":return Ie(M(["eval(",mp(D.source,U.originalText,U)?P.call(j,"source"):M([we(M([it,P.call(j,"source")])),it]),")"]));case"echo":var Su,za=P.map(function(fe){return j(fe)},"expressions");return za.length!==1||D.expressions[0].comments?za.length>0&&(Su=og(D.expressions[0])||D.expressions[0].comments?we(za[0]):yq(za[0])):Su=Y(za,1)[0],Ie(M([D.shortForm?"":"echo ",Su||"",we(M(za.slice(1).map(function(fe){return M([",",Ot,fe])})))]));case"print":return M(["print ",D.expression.comments?we(P.call(j,"expression")):P.call(j,"expression")]);case"return":var qo=[];if(qo.push("return"),D.expr){var bp=P.call(j,"expr");qo.push(" ",D.expr.comments?we(bp):bp)}return oi(D)&&qo.push(" ",ct.printDanglingComments(P,U,!0)),M(qo);case"isset":case"unset":return Ie(M([D.kind,Gs(P,U,j,"variables")]));case"empty":return Ie(M(["empty(",we(M([it,P.call(j,"expression")])),it,")"]));case"variable":var Ta=P.getParentNode(),Uo=P.getParentNode(1),mg=Ta.kind==="assign"?"":D.byref?"&":"",TU=Ta.kind==="encapsedpart"&&Ta.syntax==="simple"&&Ta.curly||Uo&&Ta.kind==="offsetlookup"&&Uo.kind==="encapsedpart"&&Uo.syntax==="simple"&&Uo.curly?"":"$",yU=D.curly?"{":"",bU=D.curly?"}":"";return M([mg,TU,yU,P.call(j,"name"),bU]);case"constantstatement":case"classconstant":var vp,vU=Ya(P,U,j),Pu=P.map(function(fe){return j(fe)},"constants");return Pu.length!==1||D.constants[0].comments?Pu.length>0&&(vp=we(Pu[0])):vp=Y(Pu,1)[0],Ie(M([].concat(te(vU),[D.visibility?M([D.visibility," "]):"","const",vp?M([" ",vp]):"",we(M(Pu.slice(1).map(function(fe){return M([",",Ne,fe])})))])));case"constant":return hp(D.name,P.call(j,"name")," =",D.value,P.call(j,"value"),!1,U);case"static":var Np,Iu=P.map(function(fe){return j(fe)},"variables"),NU=D.variables.some(function(fe){return fe.defaultValue});return Iu.length!==1||D.variables[0].comments?Iu.length>0&&(Np=we(Iu[0])):Np=Y(Iu,1)[0],Ie(M(["static",Np?M([" ",Np]):"",we(M(Iu.slice(1).map(function(fe){return M([",",NU?Ne:Ot,fe])})))]));case"staticvariable":return hp(D.variable,P.call(j,"variable")," =",D.defaultValue,P.call(j,"defaultValue"),!1,U);case"list":case"array":var HE=D.kind==="array"&&ql(U.phpVersion,"5.4")||D.kind==="list"&&(D.shortForm||ql(U.phpVersion,"7.1")),gg=HE?"[":M([D.kind,"("]),_g=HE?"]":")";if(D.items.length===0)return oi(D)?Ie(M([gg,ct.printDanglingComments(P,U),it,_g])):M([gg,_g]);var xp=Wa(D.items),WE=xp&&xp.kind==="noop",Ep=Y(D.items.filter(function(fe){return fe.kind!=="noop"}).sort(function(fe,Re){return U.locStart(fe)-U.locStart(Re)}),1)[0],xU=!(!Ep||!Ep.key)&&Ep&&iE(U.originalText,U.locStart(D),U.locStart(Ep));return Ie(M([gg,we(M([it,Vq(P,U,j)])),WE?",":"",Ga(!WE&&dp(U,"5.0")?M([xp&&pE(xp)?Ne:"",","]):""),ct.printDanglingComments(P,U,!0),it,_g]),{shouldBreak:xU});case"entry":var YE=D.byRef?"&":"",EU=D.unpack?"...":"";return D.key?hp(D.key,P.call(j,"key")," =>",D.value,P.call(j,"value"),YE,U):M([YE,EU,P.call(j,"value")]);case"yield":var KE=M([D.key?M([P.call(j,"key")," => "]):"",P.call(j,"value")]);return M(["yield",D.key||D.value?" ":"",D.value&&D.value.comments?we(KE):KE]);case"yieldfrom":return M(["yield from ",D.value.comments?we(P.call(j,"value")):P.call(j,"value")]);case"unary":return M([D.type,P.call(j,"what")]);case"pre":return M([D.type+D.type,P.call(j,"what")]);case"post":return M([P.call(j,"what"),D.type+D.type]);case"cast":return M(["(",D.type,") ",D.expr.comments?we(P.call(j,"expr")):P.call(j,"expr")]);case"assignref":case"assign":var $E=D.kind==="assignref";return hp(D.left,P.call(j,"left"),M([" ",$E?"=":D.operator]),D.right,P.call(j,"right"),$E,U);case"bin":var Di=P.getParentNode(),zE=P.getParentNode(1),QE=D!==Di.body&&(Di.kind==="if"||Di.kind==="while"||Di.kind==="switch"||Di.kind==="do"),jl=function fe(Re,Je,ge,Jt,lr){var xn=[],It=Re.getValue();if(It.kind==="bin"){aE(It.type,It.left.type)?xn=xn.concat(Re.call(function(Ng){return fe(Ng,Je,ge,!0,lr)},"left")):xn.push(Re.call(Je,"left"));var fn=Nu(It),cr=M(fn?[It.type," ",Re.call(Je,"right")]:[It.type,Ot,Re.call(Je,"right")]),an=Re.getParentNode(),Gl=!(lr&&["||","&&"].includes(It.type))&&Bl(an)!==Bl(It)&&Bl(It.left)!==Bl(It)&&Bl(It.right)!==Bl(It),vg=og(It.left)||It.left.kind==="bin"&&og(It.left.right);xn.push(vg?"":" ",Gl?Ie(cr):cr),Jt&&It.comments&&(xn=ct.printAllComments(Re,function(){return M(xn)},ge))}else xn.push(Re.call(Je));return xn}(P,j,U,!1,QE);if(QE)return M(jl);if(Di.kind==="unary"||zr(Di)&&Di.kind!=="offsetlookup")return Ie(M([we(M([it,M(jl)])),it]));var SU=D!==Di.body&&Di.kind==="for"||Di.kind==="retif"&&zE&&zE.kind!=="return",PU=["assign","property","constant","staticvariable","entry"].includes(Di.kind),IU=D.left.kind==="bin"&&aE(D.type,D.left.type);if(SU||Nu(D)&&!IU||!Nu(D)&&PU)return Ie(M(jl));var CU=M(jl.slice(1));return Ie(M([jl.length>0?jl[0]:"",we(CU)]));case"retif":var Sp,Pp=[],Ip=P.getParentNode(),XE=0;do Sp=P.getParentNode(XE),XE++;while(Sp&&Sp.kind==="retif");var JE=Sp||Ip,ZE=D.falseExpr.kind==="bin"?we(P.call(j,"falseExpr")):P.call(j,"falseExpr"),AU=M([D.trueExpr?Ot:" ","?",D.trueExpr?M([" ",D.trueExpr.kind==="bin"?we(P.call(j,"trueExpr")):P.call(j,"trueExpr"),Ot]):"",":",D.trueExpr?M([" ",ZE]):M([_E(D.falseExpr)?" ":Ot,ZE])]);Pp.push(AU);var eS=function(fe){return Ip===JE?Ie(fe):fe},tS=P.getParentNode(1),jo=Ip.kind==="cast"&&tS?tS:Ip,RU=["propertylookup","staticlookup"].includes(jo.kind),Tg=P.call(j,"test");if(!D.trueExpr){var nS=M([Tg,jo.kind==="bin"||["print","echo","return","include"].includes(JE.kind)?we(M(Pp)):M(Pp)]);return jo.kind==="call"&&jo.what===D||jo.kind==="unary"||zr(jo)&&jo.kind!=="offsetlookup"?Ie(M([we(M([it,nS])),it])):eS(nS)}return eS(M([D.test.kind==="retif"?we(Tg):Tg,we(M(Pp)),RU?it:""]));case"boolean":return D.value?"true":"false";case"number":return Pq(D.value);case"string":if(P.getParentNode().kind==="encapsedpart"){var rS=P.getParentNode(1),yg=0,kU=ql(U.phpVersion,"7.3"),iS=Vl;if(rS.type==="heredoc"){iS=kU?Ne:Vl;var Cp=rS.raw.split(/\r?\n/g);(yg=Cp[Cp.length-1].search(/\S/))===-1&&(yg=Cp[Cp.length-2].search(/\S/))}return Un(iS,D.raw.split(/\r?\n/g).map(function(fe,Re){return Re>0||D.loc.start.column===0?fe.substring(yg):fe}))}var sS=kq(D,U)?'"':"'",os=D.raw;return D.raw[0]==="b"&&(os=os.slice(1)),['"',"'"].includes(os[0])&&(os=os.substr(1)),['"',"'"].includes(os[os.length-1])&&(os=os.substr(0,os.length-1)),M([D.raw[0]==="b"?"b":"",sS,Un(Vl,os.split(/\r?\n/g)),sS]);case"uniontype":return Ie(M(P.map(function(fe,Re){return M(Re===0?[P.call(j)]:["|",P.call(j)])},"types")));case"encapsedpart":var wU=D.syntax==="simple"&&D.curly||D.syntax==="complex"?M([D.curly?"$":"","{"]):"",OU=D.syntax==="simple"&&D.curly||D.syntax==="complex"?"}":"";return M([wU,P.call(j,"expression"),OU]);case"encapsed":switch(D.type){case"string":case"shell":case"heredoc":var LU=ql(U.phpVersion,"7.3")?Ne:Vl;return M([yE(D),D.type==="heredoc"?LU:"",M(P.map(j,"value")),yE(D,{opening:!1}),D.type==="heredoc"&&uE(P)?Ne:""]);default:return"Have not implemented kind ".concat(D.type," yet.")}case"inline":return Un(Vl,D.raw.replace("___PSEUDO_INLINE_PLACEHOLDER___","").split(/\r?\n/g));case"magic":return D.value;case"nowdoc":var bg=ql(U.phpVersion,"7.3")?Ne:Vl;return M(["<<<'",D.label,"'",bg,Un(bg,D.value.split(/\r?\n/g)),bg,D.label,uE(P)?Ne:""]);case"name":return M([D.resolution==="rn"?"namespace\\":"",D.name]);case"literal":return P.call(j,"value");case"parentreference":return"parent";case"selfreference":return"self";case"staticreference":return"static";case"typereference":return D.name;case"nullkeyword":return"null";case"identifier":return P.getParentNode().kind==="method"&&(D.name=Lq(D.name)),P.call(j,"name");case"match":var DU=P.map(function(fe,Re){var Je=fe.getValue().conds===null?"default":M(fe.map(function(Jt,lr){return Ie(M(lr>0?[",",Ot,j(Jt)]:[j(Jt)]))},"conds")),ge=fe.call(j,"body");return M(Re>0?[", ",Ot,Je," => ",ge]:[Ot,Je," => ",ge])},"arms");return Ie(M(["match (",Ie(M([it,we(M([P.call(j,"cond")])),it])),") {",we(M(DU))," ",it,"}"]));case"noop":return D.comments?ct.printComments(P.getValue().comments,U):"";case"namedargument":return M([D.name,": ",P.call(j,"value")]);case"error":default:return"Have not implemented kind ".concat(D.kind," yet.")}}(o,u,p),k=[],B=nE(o);return B&&k.unshift("("),k.push(y),B&&k.push(")"),Sq(o)&&k.push(";"),Iq(o)&&k.push(Ne),M(k)},Uq=function(o,u){if(["loc","range","raw","comments","leadingComments","trailingComments","parenthesizedExpression","parent","prev","start","end","tokens","errors","extra"].forEach(function(h){delete u[h]}),o.kind==="string"&&delete u.isDoubleQuote,["array","list"].includes(o.kind)&&delete u.shortForm,o.kind==="inline"){if(o.value.includes("___PSEUDO_INLINE_PLACEHOLDER___"))return null;u.value=u.value.replace(/\r\n?|\n/g,"")}if((o.kind==="continue"||o.kind==="break")&&o.level){var p=u.level;p.kind==="number"&&(u.level=p.value==="1"?null:p)}if(o.kind==="block"&&o.children.length===1&&o.children[0].kind==="block")for(;u.children[0].kind==="block";)u.children=u.children[0].children;if(o.kind==="number"&&(u.value=mt.printNumber(o.value)),["foreach","for","if","while","do"].includes(o.kind)&&(o.body&&o.body.kind!=="block"?u.body={kind:"block",children:[u.body]}:u.body=u.body?u.body:null,o.alternate&&o.alternate.kind!=="block"?u.alternate={kind:"block",children:[u.alternate]}:u.alternate=u.alternate?u.alternate:null),o.kind==="usegroup"&&typeof o.name=="string"&&(u.name=u.name.replace(/^\\/,"")),o.kind==="useitem"&&(u.name=u.name.replace(/^\\/,"")),o.kind==="method"&&o.name.kind==="identifier"&&(u.name.name=mt.normalizeMagicMethodName(u.name.name)),o.kind==="noop")return null},dg="PHP",jq={phpVersion:{since:"0.13.0",category:dg,type:"choice",default:"7.0",description:"Minimum target PHP version.",choices:[{value:"5.0"},{value:"5.1"},{value:"5.2"},{value:"5.3"},{value:"5.4"},{value:"5.5"},{value:"5.6"},{value:"7.0"},{value:"7.1"},{value:"7.2"},{value:"7.3"},{value:"7.4"},{value:"8.0"}]},trailingCommaPHP:{since:"0.0.0",category:dg,type:"boolean",default:!0,description:"Print trailing commas wherever possible when multi-line."},braceStyle:{since:"0.10.0",category:dg,type:"choice",default:"psr-2",description:"Print one space or newline for code blocks (classes and functions).",choices:[{value:"psr-2",description:"Use PSR-2 brace style."},{value:"1tbs",description:"Use 1tbs brace style."}]}},Gq=function(o,u,p,h){if(p!=="length"&&p!=="prototype"&&p!=="arguments"&&p!=="caller"){var y=Object.getOwnPropertyDescriptor(o,p),k=Object.getOwnPropertyDescriptor(u,p);!Hq(y,k)&&h||Object.defineProperty(o,p,k)}},Hq=function(o,u){return o===void 0||o.configurable||o.writable===u.writable&&o.enumerable===u.enumerable&&o.configurable===u.configurable&&(o.writable||o.value===u.value)},Wq=function(o,u){var p=Object.getPrototypeOf(u);p!==Object.getPrototypeOf(o)&&Object.setPrototypeOf(o,p)},Yq=function(o,u){return"/* Wrapped ".concat(o,`*/
`).concat(u)},Kq=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),$q=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),zq=function(o,u,p){var h=p===""?"":"with ".concat(p.trim(),"() "),y=Yq.bind(null,h,u.toString());Object.defineProperty(y,"name",$q),Object.defineProperty(o,"toString",X(X({},Kq),{},{value:y}))},Qq=function(o,u){var p,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},y=h.ignoreNonConfigurable,k=y!==void 0&&y,B=o.name,P=ie(Reflect.ownKeys(u));try{for(P.s();!(p=P.n()).done;){var U=p.value;Gq(o,u,U,k)}}catch(j){P.e(j)}finally{P.f()}return Wq(o,u),zq(o,u,B),o},gp=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function NE(o){return o&&o.default||o}var _p,Xq=function(){var o={};return o.promise=new Promise(function(u,p){o.resolve=u,o.reject=p}),o},xE=function(o,u){return o(u={exports:{}},u.exports),u.exports}(function(o,u){var p=gp&&gp.__awaiter||function(B,P,U,j){return new(U||(U=Promise))(function(D,je){function Ge(Fe){try{Ut(j.next(Fe))}catch(Lt){je(Lt)}}function Nt(Fe){try{Ut(j.throw(Fe))}catch(Lt){je(Lt)}}function Ut(Fe){Fe.done?D(Fe.value):new U(function(Lt){Lt(Fe.value)}).then(Ge,Nt)}Ut((j=j.apply(B,P||[])).next())})},h=gp&&gp.__importDefault||function(B){return B&&B.__esModule?B:{default:B}};Object.defineProperty(u,"__esModule",{value:!0});var y=h(Xq);function k(B){var P,U,j,D=this,je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"maxAge",Ge=function(){return p(D,void 0,void 0,regeneratorRuntime.mark(function Fe(){var Lt,pt,Nn,_n,Dt=this;return regeneratorRuntime.wrap(function(st){for(;;)switch(st.prev=st.next){case 0:if(P===void 0){st.next=2;break}return st.abrupt("return");case 2:Lt=function(Xt){return p(Dt,void 0,void 0,regeneratorRuntime.mark(function Cn(){var Ka;return regeneratorRuntime.wrap(function(Ar){for(;;)switch(Ar.prev=Ar.next){case 0:if(j=y.default(),!((Ka=Xt[1][je]-Date.now())<=0)){Ar.next=6;break}return B.delete(Xt[0]),j.resolve(),Ar.abrupt("return");case 6:return P=Xt[0],typeof(U=setTimeout(function(){B.delete(Xt[0]),j&&j.resolve()},Ka)).unref=="function"&&U.unref(),Ar.abrupt("return",j.promise);case 10:case"end":return Ar.stop()}},Cn)}))},st.prev=3,pt=ie(B),st.prev=5,pt.s();case 7:if((Nn=pt.n()).done){st.next=13;break}return _n=Nn.value,st.next=11,Lt(_n);case 11:st.next=7;break;case 13:st.next=18;break;case 15:st.prev=15,st.t0=st.catch(5),pt.e(st.t0);case 18:return st.prev=18,pt.f(),st.finish(18);case 21:st.next=25;break;case 23:st.prev=23,st.t1=st.catch(3);case 25:P=void 0;case 26:case"end":return st.stop()}},Fe,null,[[3,23],[5,15,18,21]])}))},Nt=function(){P=void 0,U!==void 0&&(clearTimeout(U),U=void 0),j!==void 0&&(j.reject(void 0),j=void 0)},Ut=B.set.bind(B);return B.set=function(Fe,Lt){B.has(Fe)&&B.delete(Fe);var pt=Ut(Fe,Lt);return P&&P===Fe&&Nt(),Ge(),pt},Ge(),B}u.default=k,o.exports=k,o.exports.default=k});(_p=xE)&&_p.__esModule&&Object.prototype.hasOwnProperty.call(_p,"default")&&_p.default;var Jq=xE,hg=new WeakMap,EE=new WeakMap,Tp=function(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=u.cacheKey,h=u.cache,y=h===void 0?new Map:h,k=u.maxAge;typeof k=="number"&&Jq(y);var B=function(){for(var P=arguments.length,U=new Array(P),j=0;j<P;j++)U[j]=arguments[j];var D=p?p(U):U[0],je=y.get(D);if(je)return je.data;var Ge=o.apply(this,U);return y.set(D,{data:Ge,maxAge:k?Date.now()+k:Number.POSITIVE_INFINITY}),Ge};return Qq(B,o,{ignoreNonConfigurable:!0}),EE.set(B,y),B};Tp.decorator=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(u,p,h){var y=u[p];if(typeof y!="function")throw new TypeError("The decorated value must be a function");delete h.value,delete h.writable,h.get=function(){if(!hg.has(this)){var k=Tp(y,o);return hg.set(this,k),k}return hg.get(this)}}},Tp.clear=function(o){var u=EE.get(o);if(!u)throw new TypeError("Can't clear a function that was not memoized!");if(typeof u.clear!="function")throw new TypeError("The cache Map can't be cleared!");u.clear()};var SE=/@prettier|@format/,PE=Tp(function(o){var u=Vx(o),p=Y(u.children,1)[0],h=Y(u.comments.filter(function(y){return y.kind==="commentblock"}),1)[0];if(p&&h&&h.loc.start.line<p.loc.start.line)return h}),Zq=function(o){if(!SE.test(o))return!1;var u=PE(o);if(u){var p=u.value;return SE.test(p)}return!1},eU=function(o){var u=PE(o);if(u){var p=u.loc,h=p.start.offset,y=p.end.offset,k=o.substring(0,h),B=o.substring(y);return"".concat(k).concat(function(je,Ge){var Nt=je.split(/\r?\n/g);if(Nt.length===1){var Ut=Y(/\/*\*\*(.*)\*\//.exec(Nt[0]),2)[1];Nt=["/**"," * ".concat(Ut.trim())," */"]}var Fe=Nt.findIndex(function(Lt){return/@\S/.test(Lt)})||1;return Nt.splice(Fe,0," * @format"),Nt.join(function(Lt){var pt=Lt.indexOf(`
`);return pt>=0&&Lt.charAt(pt-1)==="\r"?`\r
`:`
`}(Ge))}(u.value,o)).concat(B)}var P="<?php";if(!o.startsWith(P))return o;var U=P.length,j=o.substring(0,U),D=o.substring(U);return"".concat(j,`
/** 
 * @format 
 */
`).concat(D)},IE="programming",CE="text.html.php",AE="application/x-httpd-php",RE="#4F5D95",kE=[".php",".aw",".ctp",".fcgi",".inc",".php3",".php4",".php5",".phps",".phpt"],wE=[".php",".php_cs",".php_cs.dist","Phakefile"],OE=["php"],LE=["inc"],tU={name:"PHP",type:IE,tmScope:CE,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:AE,color:RE,extensions:kE,filenames:wE,interpreters:OE,aliases:LE,languageId:272},nU=Object.freeze({__proto__:null,name:"PHP",type:IE,tmScope:CE,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:AE,color:RE,extensions:kE,filenames:wE,interpreters:OE,aliases:LE,languageId:272,default:tU}),DE="HTML+PHP",ME="markup",FE="text.html.php",VE="HTML",BE=[".phtml"],qE="application/x-httpd-php",rU={name:DE,type:ME,tmScope:FE,group:VE,extensions:BE,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:qE,languageId:151},iU=Object.freeze({__proto__:null,name:DE,type:ME,tmScope:FE,group:VE,extensions:BE,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:qE,languageId:151,default:rU}),sU=NE(nU),aU=NE(iU),UE=r.default.doc.builders,oU=UE.join,lU=UE.hardline,cU=Zq,uU=eU;function jE(o,u){var p=u.extend,h=u.override,y={};for(var k in o)y[k==="languageId"?"linguistLanguageId":k]=o[k];if(p)for(var B in p)y[B]=(y[B]||[]).concat(p[B]);for(var P in h)y[P]=h[P];return y}var fU=[jE(sU,{override:{parsers:["php"],vscodeLanguageIds:["php"]}}),jE(aU,{override:{parsers:["php"],vscodeLanguageIds:["php"]}})],GE=function(o){return function(u){return u.loc&&u.loc[o]&&u.loc[o].offset}},pU={php:{parse:Vx,astFormat:"php",locStart:GE("start"),locEnd:GE("end"),hasPragma:cU}},Ul={languages:fU,printers:{php:{print:qq,insertPragma:uU,massageAstNode:Uq,getCommentChildNodes:ct.getCommentChildNodes,canAttachComment:ct.canAttachComment,isBlockComment:ct.isBlockComment,handleComments:{ownLine:ct.handleOwnLineComment,endOfLine:ct.handleEndOfLineComment,remaining:ct.handleRemainingComment},willPrintOwnComments(o){var u=o.getValue();return u&&u.kind==="noop"},printComment(o){var u=o.getValue();switch(u.kind){case"commentblock":if(!u.value.includes(`
`))return u.value;var p=u.value.split(/\r?\n/g);return p.slice(1,p.length-1).every(function(h){return h.trim()[0]==="*"})?oU(lU,p.map(function(h,y){return(y>0?" ":"")+(y<p.length-1?h.trim():h.trimLeft())})):u.value;case"commentline":return u.value.trimRight();default:throw new Error("Not a comment: ".concat(JSON.stringify(u)))}},hasPrettierIgnore(o){var u=function(y){return y.value.includes("prettier-ignore")&&!y.value.includes("prettier-ignore-start")&&!y.value.includes("prettier-ignore-end")},p=o.getParentNode(),h=o.getNode();return h&&h.kind!=="classconstant"&&h.comments&&h.comments.length>0&&h.comments.some(u)||h&&h.kind==="constant"&&p&&p.kind==="classconstant"&&p.comments&&p.comments.length>0&&p.comments.some(u)}}},parsers:pU,options:jq,defaultOptions:{tabWidth:4}},dU=Ul.languages,hU=Ul.printers,mU=Ul.parsers,gU=Ul.options,_U=Ul.defaultOptions;t.default=Ul,t.defaultOptions=_U,t.languages=dU,t.options=gU,t.parsers=mU,t.printers=hU,Object.defineProperty(t,"__esModule",{value:!0})})});function lV(t){return["cursorOffset","rangeEnd","rangeStart","locEnd","locStat","printer","originalText","astFormat"].forEach(e=>{delete t[e]}),t}function qm(t){oV=lV(Object.assign({},t,{htmlWhitespaceSensitivity:"ignore",parser:"html",plugins:t.plugins})),aV=lV(Object.assign({},t,{parser:"php",plugins:[sV.default]}))}function cV(t){let e=Jv.format("<?php "+t,aV).trim();return e=e.substring(5),t.endsWith(";")==!1&&e.endsWith(";")&&(e=e.substring(0,e.length-1)),e.trim()}function uV(t){return Jv.format(t,oV)}var Jv,mxe,sV,aV,oV,Zv=C(()=>{Jv=he(require("prettier")),mxe=he(fV()),sV=he(iV())});var eN,pV=C(()=>{eN=class{static printError(e,n){var l,c;let r=`[${e.errorCode}] ${e.message}

`,i=(c=(l=e.node)==null?void 0:l.startPosition)==null?void 0:c.line,s=i;n.forEach((f,d)=>{s=d});let a=s.toString().length;return n.forEach((f,d)=>{let m=d.toString(),_="",g=0;g=a-m.length,i==d?_=" >"+"0".repeat(g)+m+"| ":_="  "+"0".repeat(g)+m+"| ",r+=_+f+`
`}),r}}});var tN,dV=C(()=>{Av();Zv();av();pV();tN=class extends ip{constructor(e){super();this.createExtraVirtualStructures=!0,qm(e),this.withHtmlFormatter(uV).withYamlFormatter(Wf.formatFrontMatter).withTransformOptions({endNewline:!0,maxAntlersStatementsPerLine:3,newlinesAfterFrontMatter:1,tabSize:e.tabWidth}).withPhpFormatter(cV).withPreFormatter(n=>{var r,i,s;if(n.errors.hasStructureErrors()){let a=n.errors.getFirstStructureError(),l=n.getLinesAround((s=(i=(r=a.node)==null?void 0:r.startPosition)==null?void 0:i.line)!=null?s:1);throw new SyntaxError(eN.printError(a,l))}return null})}}});var fV=oe((Pxe,mV)=>{Ds();dV();Zv();var hV,e$={languages:[{name:"Antlers",parsers:["antlers"],extensions:[".antlers.html",".antlers.php"],vscodeLanguageIds:["html","antlers"]}],parsers:{antlers:{parse:function(t,e,n){return hV=n,qm(n),new nn().loadString(t)},locStart:()=>0,locEnd:()=>0,astFormat:"antlers"}},printers:{antlers:{print(t){let e=t.stack[0];return new tN(hV).formatDocument(e)}}},defaultOptions:{tabWidth:4}};mV.exports=e$});module.exports=fV();
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
