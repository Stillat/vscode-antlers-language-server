var PL=Object.create;var Dp=Object.defineProperty;var AL=Object.getOwnPropertyDescriptor;var CL=Object.getOwnPropertyNames;var EL=Object.getPrototypeOf,SL=Object.prototype.hasOwnProperty;var xL=t=>Dp(t,"__esModule",{value:!0});var x=(t,e)=>()=>(t&&(e=t(t=0)),e);var _e=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var RL=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of CL(e))!SL.call(t,i)&&(n||i!=="default")&&Dp(t,i,{get:()=>e[i],enumerable:!(r=AL(e,i))||r.enumerable});return t},Ge=(t,e)=>RL(xL(Dp(t!=null?PL(EL(t)):{},"default",!e&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var bo,Mr,Wl=x(()=>{bo=class{constructor(){this.currentStructure=null;this.isReloading=!1;this.isDirtyState=!0}setActiveProject(e){this.currentStructure=e}getStructure(){return this.currentStructure}hasStructure(){return this.currentStructure!=null}setDirtyState(e){this.isDirtyState=e}reloadDetails(){this.isReloading||this.isDirtyState!=!1&&this.currentStructure!=null&&(this.isReloading=!0,this.currentStructure=this.currentStructure.reloadDetails(),this.isReloading=!1,this.isDirtyState=!1)}};bo.instance=null;(typeof bo.instance=="undefined"||bo.instance==null)&&(bo.instance=new bo);Mr=bo});var Mi,Au=x(()=>{Mi=class{static registerDetails(e,n){this.documentDetails.set(e,n)}static hasDetails(e){return this.documentDetails.has(e)}};Mi.documentDetails=new Map});function Hl(t,e){if(e==null||e.isComment==!1)return kL;let n=e.content.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`).map(T=>T.trim()),r=[],i=new Map,s="",a="",l=[],u=[],d="",h=null,g=!1,N=!0;for(let T=0;T<n.length;T++){let C=n[T];if(C.startsWith(eb))l=l.concat(C.slice(eb.length).split(",").map(D=>D.trim())),g=!1;else if(C.startsWith(tb))l=l.concat(C.slice(tb.length).split(",").map(D=>D.trim())),g=!1;else if(C.startsWith(nb))u=u.concat(C.slice(nb.length).split(",").map(D=>D.trim())),g=!1;else if(C.startsWith(XN))s=C.slice(XN.length).trim(),g=!1;else if(C.startsWith(JN))a=C.slice(JN.length).trim(),g=!0;else if(C.startsWith(ZN))a=C.slice(ZN.length).trim(),g=!0;else if(C.startsWith(rb))d=C.slice(rb.length).trim(),g=!1;else if(C.startsWith(ib))d="@page "+C.slice(ib.length).trim(),g=!1;else if(C.startsWith(sb)){let D=sb.length,_=!1;C.startsWith(ob)&&(D=ob.length,_=!0);let b=C.slice(D).trim().split(" ");if(b.length>0)if(b[0]==OL&&b.length>=4){b.shift();let S=b.shift(),w=b.shift(),J=b.join(" ");r.push({acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:J,expectsTypes:["*"],isDynamic:!0,isRequired:_,name:w}),i.set(w,S)}else{let S=b.shift(),w=b.join(" ");r.push({acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:w,expectsTypes:["*"],isDynamic:!0,isRequired:_,name:S})}}else C.startsWith(ab)?C.slice(ab.length).trim().toLowerCase()=="true"?N=!0:N=!1:g&&(a+=`
`+C.trim())}if(d.length>0){let T=d.split(" ");if(T.length==2){let C=T[0],D=T[1];if(D.includes(".")){let _=D.split(".");if(_.length==2){let A=_[0],b=_[1];h={variableName:C,collectionName:A,fieldHandle:b,setHandle:""}}else if(_.length==3){let A=_[0],b=_[1],S=_[2];h={variableName:C,collectionName:A,fieldHandle:b,setHandle:S}}}else h={variableName:C,setHandle:"",collectionName:"",fieldHandle:D}}}if(t.trim().length>0&&Mr.instance!=null&&Mr.instance.hasStructure()){let T=Mr.instance.getStructure().findView(t);T!=null&&(T.injectsParameters=r,T.varReferenceNames=i)}let y={documentName:s,documentDescription:a,collectionInjections:l,blueprints:u,variableHelper:h,injectsParameters:r,varReferenceNames:i,formatterEnabled:N};return t.trim().length>0&&e.startPosition!=null&&(e.startPosition.line<=1||e.index<=1)&&Mi.registerDetails(t,y),y}var kL,XN,JN,ZN,eb,tb,nb,rb,ib,sb,ob,OL,ab,Mp=x(()=>{Wl();Au();kL={documentDescription:"",documentName:"",collectionInjections:[],blueprints:[],variableHelper:null,injectsParameters:[],varReferenceNames:new Map,formatterEnabled:!0},XN="@name",JN="@description",ZN="@desc",eb="@entry",tb="@collection",nb="@blueprint",rb="@var",ib="@set",sb="@param",ob="@param*",OL="@front",ab="@format"});function Cu(t){return wL.includes(t)?"string":LL.includes(t)?"array":DL.includes(t)?"number":ML.includes(t)?"boolean":t}var wL,LL,DL,ML,Fp=x(()=>{wL=["markdown","text","textarea","slug","button_group","code","color","date","form","link","structures","select","taxonomies","terms","template","time","video","users","user_groups","user_roles"],LL=["array","assets","bard","blueprints","collections","entries","list","grid","replicator","structures_multiple","sites","select_multiple","form_multiple","table","tags","terms_multiple","taxonomies_multiple","users_multiple","checkboxes","select_multiple","yaml","user_groups_multiple","user_roles_multiple"],DL=["integer","range"],ML=["toggle"]});var vo,lb,cb=x(()=>{vo=class{constructor(){this.partialReferences=new Map;this.cacheReferences=new Map;this.removesPageScope=new Map}clearAllReferences(e){this.clearPartialReferences(e),this.clearCacheReferences(e)}registerPartialReferences(e,n){this.partialReferences.has(e)==!1&&this.partialReferences.set(e,[]),this.partialReferences.set(e,n)}registerCacheReferences(e,n){this.cacheReferences.has(e)==!1&&this.cacheReferences.set(e,[]),this.cacheReferences.set(e,n)}clearPartialReferences(e){this.partialReferences.has(e)&&this.partialReferences.set(e,[])}clearRemovesPageScope(e){this.removesPageScope.has(e)&&this.removesPageScope.delete(e)}pageScopeDisabled(e){return this.removesPageScope.has(e)}clearCacheReferences(e){this.cacheReferences.has(e)&&this.cacheReferences.set(e,[])}setRemovesPageScope(e,n){this.removesPageScope.set(e,n)}getPartialReferences(e){return this.partialReferences.has(e)==!1?[]:this.partialReferences.get(e)}getCacheReferencnes(e){return this.cacheReferences.has(e)==!1?[]:this.cacheReferences.get(e)}hasPartialReferences(e){return this.partialReferences.has(e)}hasCacheReferences(e){return this.cacheReferences.has(e)}};vo.instance=null;(typeof vo.instance=="undefined"||vo.instance==null)&&(vo.instance=new vo);lb=vo});var tr,Yl=x(()=>{tr=class{constructor(){this.index=-1;this.offset=0;this.line=0;this.char=0}shiftRight(e){let n=new tr;return n.offset=this.offset+e,n.index=this.index+e,n.line=this.line,n.char=this.char+e,n}isBefore(e){return e==null?!1:e.line>this.line||e.line==this.line&&this.offset<e.offset}isWithin(e,n,r=0){return e==null||n==null?!1:this.index>=e.index&&this.index<=n.index+r}isWithinRange(e){return e==null?!1:e.start!=null&&e.end!=null?this.isWithin(e.start,e.end):!1}}});var Vp,Kl,ub=x(()=>{Vp=class{constructor(){this.start=null;this.end=null}},Kl=Vp;Kl.Empty=new Vp});function fb(t,e){let n=e.copy(),r=e.copy();return r.addVariable({sourceName:"*internal.group_by",sourceField:null,dataType:"string",name:"group",introducedBy:t}),r.addVariable({sourceName:"*internal.group_by",sourceField:null,dataType:"string",name:"key",introducedBy:t}),r.addScopeList("items",n),e.addScopeList("groups",r),e}var db=x(()=>{});function pb(t,e){let n=e.copy();return e.addScopeList("items",n),e}var hb=x(()=>{});var mb,gb=x(()=>{db();hb();mb=[{name:"as",acceptsType:["array"],returnsType:["array"],description:"Alias the array variable with a key.",docLink:"https://statamic.dev/modifiers/as",parameters:[{name:"alias",description:"The alias name."}],canBeParameter:!0},{name:"ampersand_list",acceptsType:["array"],returnsType:["string"],description:"Converts the array into a comma delimited string, with an ampersand before the last item.",docLink:"https://statamic.dev/modifiers/ampersand_list",parameters:[],canBeParameter:!1},{name:"collapse",acceptsType:["array"],returnsType:["array"],description:"Collapses an array of arrays into a single, flat, array.",docLink:"https://statamic.dev/modifiers/collapse",parameters:[],canBeParameter:!1},{name:"contains",acceptsType:["array","string"],returnsType:["boolean"],description:"Tests if the value contains another value.",docLink:"https://statamic.dev/modifiers/contains",parameters:[{name:"needle",description:"The value to check for."}],canBeParameter:!1},{name:"count",acceptsType:["array"],returnsType:["number"],description:"Returns the number of items in the array.",docLink:"https://statamic.dev/modifiers/count",parameters:[],canBeParameter:!1},{name:"dl",acceptsType:["array"],returnsType:["string"],description:"Turns an associative array into an HTML definition list.",docLink:"https://statamic.dev/modifiers/dl",parameters:[],canBeParameter:!1},{name:"explode",acceptsType:["string"],returnsType:["array"],description:"Breaks a string into an array on a given delimiter.",docLink:"https://statamic.dev/modifiers/explode",parameters:[{name:"delimiter",description:"The delimiter to break the string apart on."}],canBeParameter:!0},{name:"flatten",acceptsType:["array"],returnsType:["array"],description:"Flattens a multi-dimensional array.",docLink:"https://statamic.dev/modifiers/flatten",parameters:[],canBeParameter:!1},{name:"flip",acceptsType:["array"],returnsType:["array"],description:"Swaps the array keys with their values.",docLink:"https://statamic.dev/modifiers/flip",parameters:[],canBeParameter:!1},{name:"group_by",acceptsType:["array"],returnsType:["array"],description:"Groups the array items by the given key.",docLink:"https://statamic.dev/modifiers/group_by",parameters:[{name:"key",description:"The key to group by."}],canBeParameter:!0,augmentScope:fb},{name:"in_array",acceptsType:["array"],returnsType:["boolean"],description:"Tests if an array contains a specific value.",docLink:"https://statamic.dev/modifiers/in_array",parameters:[{name:"needle",description:"The value to check for."}],canBeParameter:!1},{name:"is_empty",acceptsType:["array"],returnsType:["boolean"],description:"Tests if the array is empty.",docLink:"https://statamic.dev/modifiers/is_empty",parameters:[],canBeParameter:!1},{name:"join",acceptsType:["array"],returnsType:["string"],description:"Turn an array into a string by gluing together all the data.",docLink:"https://statamic.dev/modifiers/join",parameters:[{name:"glue",description:"The string to combine the parts by."}],canBeParameter:!0},{name:"joinplode",acceptsType:["array"],returnsType:["string"],description:"Turn an array into a string by gluing together all the data.",docLink:null,parameters:[{name:"glue",description:"The string to combine the parts by."}],canBeParameter:!0},{name:"limit",acceptsType:["array"],returnsType:["array"],description:"Limits the number of items returned in the array",docLink:"https://statamic.dev/modifiers/limit",parameters:[{name:"count",description:"The maximum number of items to return."}],canBeParameter:!0},{name:"list",acceptsType:["array"],returnsType:["string"],description:"Converts the array into a comma-separated string.",docLink:"https://statamic.dev/modifiers/list",parameters:[],canBeParameter:!1},{name:"offset",acceptsType:["array"],returnsType:["array"],description:"Offsets the items returned in the array.",docLink:"https://statamic.dev/modifiers/offset",parameters:[{name:"offset",description:"The one-based index to start retrieving items."}],canBeParameter:!0},{name:"ol",acceptsType:["array"],returnsType:["string"],description:"Turns the array into an HTML ordered list.",docLink:"https://statamic.dev/modifiers/ol",parameters:[],canBeParameter:!1},{name:"option_list",acceptsType:["array"],returnsType:["string"],description:"Turns an array into a pipe-delimited string.",docLink:"https://statamic.dev/modifiers/option_list",parameters:[],canBeParameter:!1},{name:"pluck",acceptsType:["array"],returnsType:["array"],description:"Plucks a value from a collection of items.",parameters:[{name:"value",description:"The value to pluck from the array or collection."}],canBeParameter:!0,docLink:null},{name:"pad",acceptsType:["array"],returnsType:["array"],description:"Pads the array to a specified length with the given value.",docLink:"https://statamic.dev/modifiers/pad",parameters:[{name:"length",description:"The desired length of the array."},{name:"value",description:"The value to pad the array with."}],canBeParameter:!0},{name:"piped",acceptsType:["array"],returnsType:["string"],description:"Turns an array into a pipe-delimited string.",docLink:"https://statamic.dev/modifiers/piped",parameters:[],canBeParameter:!1},{name:"sentence_list",acceptsType:["array"],returnsType:["string"],description:'Turns the array into a comma-delimited list, with the word "and" before the last item.',docLink:"https://statamic.dev/modifiers/sentence_list",parameters:[],canBeParameter:!1},{name:"shuffle",acceptsType:["array"],returnsType:["array"],description:"Randomizes the order of array elements.",docLink:"https://statamic.dev/modifiers/shuffle",parameters:[],canBeParameter:!1},{name:"sort",acceptsType:["array"],returnsType:["array"],description:"Sorts the array by a key in ascending or descending order.",docLink:"https://statamic.dev/modifiers/sort",parameters:[{name:"key",description:"The key to sort by."},{name:"order",description:"The sort direction. `asc` or `desc`."}],canBeParameter:!0},{name:"sum",acceptsType:["array"],returnsType:["number"],description:"Returns the sum of all items in the array.",docLink:"https://statamic.dev/modifiers/sum",parameters:[{name:"key",description:"The value to sum."}],canBeParameter:!1},{name:"ul",acceptsType:["array"],returnsType:["string"],description:"Turns the array into an HTML unordered list.",docLink:"https://statamic.dev/modifiers/ul",parameters:[],canBeParameter:!1},{name:"unique",acceptsType:["array"],returnsType:["array"],description:"Returns all unique items in the array.",docLink:"https://statamic.dev/modifiers/unique",parameters:[],canBeParameter:!1},{name:"where",acceptsType:["array"],returnsType:["array"],description:"Filters the array by a given key and value.",docLink:"https://statamic.dev/modifiers/where",parameters:[{name:"key",description:"The property to filter by."},{name:"value",description:"The value to compare to."}],canBeParameter:!0},{name:"split",acceptsType:["array"],returnsType:["array"],description:"Splits an array into smaller arrays with the provided size.",canBeParameter:!0,docLink:"",parameters:[{name:"size",description:"The size of each new array"}],augmentScope:pb},{name:"compact",acceptsType:["string"],returnsType:["array"],description:"Accepts a comma-delimited list of variable names and return an array with their values.",canBeParameter:!0,docLink:"",parameters:[{name:"variables",description:"A comma-delimited list of variable names."}]}]});var Tb,_b=x(()=>{Tb=[{name:"background_position",acceptsType:["string"],returnsType:["string"],description:"Converts an asset focal point into a background-position CSS property.",docLink:"https://statamic.dev/modifiers/background_position",parameters:[],canBeParameter:!1},{name:"image",acceptsType:["string"],returnsType:["string"],description:"Generates an HTML image element with the variable's value as the src.",docLink:"https://statamic.dev/modifiers/image",parameters:[],canBeParameter:!1},{name:"output",acceptsType:["string"],returnsType:["string"],description:"Returns the string output of an Asset file's contents.",docLink:"https://statamic.dev/modifiers/output",parameters:[],canBeParameter:!1}]});var yb,Nb=x(()=>{yb=[{name:"contains_all",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a string contains all of the provided needles.",docLink:"https://statamic.dev/modifiers/contains_all",parameters:[{name:"needle",description:"The string(s) to search for."}],canBeParameter:!1},{name:"contains_any",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a string contains all of the provided needles.",docLink:"https://statamic.dev/modifiers/contains_any",parameters:[{name:"needle",description:"The string(s) to search for."}],canBeParameter:!1},{name:"ends_with",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a string ends with another string.",docLink:"https://statamic.dev/modifiers/ends_with",parameters:[{name:"value",description:"The value to check against."}],canBeParameter:!1},{name:"has_lower_case",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains any lowercase characters.",docLink:"https://statamic.dev/modifiers/has_lower_case",parameters:[],canBeParameter:!1},{name:"has_upper_case",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains any uppercase characters.",docLink:"https://statamic.dev/modifiers/has_upper_case",parameters:[],canBeParameter:!1},{name:"in_array",acceptsType:["array"],returnsType:["boolean"],description:"Tests if an array contains a specific value.",docLink:"https://statamic.dev/modifiers/in_array",parameters:[{name:"needle",description:"The value(s) to search for."}],canBeParameter:!1},{name:"is_after",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the string contains only alphanumeric characters.",docLink:"https://statamic.dev/modifiers/is_after",parameters:[{name:"date",description:"The date to compare to."}],canBeParameter:!1},{name:"is_alphanumeric",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains only alphanumeric characters.",docLink:"https://statamic.dev/modifiers/is_alphanumeric",parameters:[],canBeParameter:!1},{name:"is_before",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if a date is before another date.",docLink:"https://statamic.dev/modifiers/is_before",parameters:[{name:"date",description:"The date to compare to."}],canBeParameter:!1},{name:"is_between",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if a date is between two other dates.",docLink:"https://statamic.dev/modifiers/is_between",parameters:[{name:"start_date",description:"The start date to compare."},{name:"end_date",description:"The end date to compare."}],canBeParameter:!1},{name:"is_blank",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains only whitespace characters.",docLink:"https://statamic.dev/modifiers/is_blank",parameters:[],canBeParameter:!1},{name:"is_email",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string is a valid email address.",docLink:"https://statamic.dev/modifiers/is_email",parameters:[],canBeParameter:!1},{name:"is_future",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is in the future.",docLink:"https://statamic.dev/modifiers/is_future",parameters:[],canBeParameter:!1},{name:"is_json",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string is valid JSON.",docLink:"https://statamic.dev/modifiers/is_json",parameters:[],canBeParameter:!1},{name:"is_leap_year",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is a leap year.",docLink:"https://statamic.dev/modifiers/is_leap_year",parameters:[],canBeParameter:!1},{name:"is_numeric",acceptsType:["string","number"],returnsType:["boolean"],description:"Tests if the value is a number or numeric string.",docLink:"https://statamic.dev/modifiers/is_numeric",parameters:[],canBeParameter:!1},{name:"is_past",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is in the past.",docLink:"https://statamic.dev/modifiers/is_past",parameters:[],canBeParameter:!1},{name:"is_today",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is today.",docLink:"https://statamic.dev/modifiers/is_today",parameters:[],canBeParameter:!1},{name:"is_uppercase",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains only uppercase characters.",docLink:"https://statamic.dev/modifiers/is_uppercase",parameters:[],canBeParameter:!1},{name:"is_url",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string is a valid URL.",docLink:"https://statamic.dev/modifiers/is_url",parameters:[],canBeParameter:!1},{name:"is_weekday",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is a week day.",docLink:"https://statamic.dev/modifiers/is_weekday",parameters:[],canBeParameter:!1},{name:"is_weekend",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is a weekend day.",docLink:"https://statamic.dev/modifiers/is_weekend",parameters:[],canBeParameter:!1},{name:"is_yesterday",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is yesterday.",docLink:"https://statamic.dev/modifiers/is_yesterday",parameters:[],canBeParameter:!1},{name:"is_tomorrow",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is tomorrow.",docLink:null,parameters:[],canBeParameter:!1},{name:"starts_with",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a value starts with the provided value.",docLink:"https://statamic.dev/modifiers/starts_with",parameters:[{name:"value",description:"The value to test for."}],canBeParameter:!1}]});var bb,vb=x(()=>{bb=[{name:"days_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of days since a given date.",docLink:"https://statamic.dev/modifiers/days_ago",parameters:[],canBeParameter:!1},{name:"format_translated",acceptsType:["string","date"],returnsType:["string","date"],description:"Returns a formatted Carbon datetime/string.",docLink:"https://statamic.dev/modifiers/format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0},{name:"format",acceptsType:["string","date"],returnsType:["string","date"],description:"Formats the date using the provided format using PHP's [date variables](https://www.php.net/date).",docLink:"https://statamic.dev/modifiers/format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0},{name:"format_localized",acceptsType:["string","date"],returnsType:["string","date"],description:"Forms the date using server's locale, using PHP's [strftime format variables](https://www.php.net/strftime).",docLink:"https://statamic.dev/modifiers/format_localized",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0},{name:"hours_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of hours since the date.",docLink:"https://statamic.dev/modifiers/hours_ago",parameters:[],canBeParameter:!1},{name:"iso_format",acceptsType:["string","date"],returnsType:["string","date"],description:"Formats the date using an ISO format.",docLink:"https://statamic.dev/modifiers/iso_format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!1},{name:"minutes_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of minutes since the date.",docLink:"https://statamic.dev/modifiers/minutes_ago",parameters:[],canBeParameter:!1},{name:"modify_date",acceptsType:["string","date"],returnsType:["string","date"],description:"Alters the date by incrementing or decrementing it in a format accepted by PHP's [strtotime](https://www.php.net/strtotime) function.",docLink:"https://statamic.dev/modifiers/modify_date",parameters:[],canBeParameter:!0},{name:"months_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of months since the date.",docLink:"https://statamic.dev/modifiers/months_ago",parameters:[],canBeParameter:!1},{name:"relative",acceptsType:["string","date"],returnsType:["string"],description:"Returns a human readable date difference.",docLink:"https://statamic.dev/modifiers/relative",parameters:[{name:"add_ago",description:"Whether to add the relative suffix words at the end of the string."}],canBeParameter:!1},{name:"seconds_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of seconds since the date.",docLink:"https://statamic.dev/modifiers/seconds_ago",parameters:[],canBeParameter:!1},{name:"timezone",acceptsType:["string","date"],returnsType:["string","date"],description:"Applies a timezone to the date.",docLink:"https://statamic.dev/modifiers/timezone",parameters:[{name:"timezone",description:"The timezone to apply."}],canBeParameter:!1},{name:"weeks_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of weeks since the date.",docLink:"https://statamic.dev/modifiers/weeks_ago",parameters:[],canBeParameter:!1},{name:"years_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of years since the date.",docLink:"https://statamic.dev/modifiers/years_ago",parameters:[],canBeParameter:!1}]});var Ib,Pb=x(()=>{Ib=[{name:"chunk",acceptsType:["array"],returnsType:["array"],description:"Breaks the array or collection into smaller arrays of a given size.",docLink:"https://statamic.dev/modifiers/chunk",parameters:[{name:"chunk_size",description:"The maximum length of each new chunk."}],canBeParameter:!0},{name:"favicon",acceptsType:["string"],returnsType:["string"],description:"Generates a favicon HTML meta tag for the given value.",docLink:"https://statamic.dev/modifiers/favicon",parameters:[],canBeParameter:!1},{name:"first",acceptsType:["string","array"],returnsType:["*"],description:"Returns the specified number of characters from the beginning of the string.",docLink:"https://statamic.dev/modifiers/first",parameters:[{name:"count",description:"The number of characters to return."}],canBeParameter:!0},{name:"last",acceptsType:["string","array"],returnsType:["*"],description:"Returns the specified number of characters from the end of the string.",docLink:"https://statamic.dev/modifiers/last",parameters:[{name:"count",description:"The number of characters to return."}],canBeParameter:!0},{name:"link",acceptsType:["string"],returnsType:["string"],description:"Generates an HTML link for the provided value.",docLink:"https://statamic.dev/modifiers/link",parameters:[],canBeParameter:!1},{name:"mailto",acceptsType:["string"],returnsType:["string"],description:"Generates a mailto HTML link for the provided value.",docLink:"https://statamic.dev/modifiers/mailto",parameters:[],canBeParameter:!1},{name:"markdown",acceptsType:["string"],returnsType:["string"],description:"Parses the value as Markdown and returns the HTML.",docLink:"https://statamic.dev/modifiers/markdown",parameters:[],canBeParameter:!1},{name:"nl2br",acceptsType:["string"],returnsType:["string"],description:"Replaces line breaks with HTML `<br>` tags.",docLink:"https://statamic.dev/modifiers/nl2br",parameters:[],canBeParameter:!1},{name:"obfuscate",acceptsType:["string"],returnsType:["string"],description:"Modifies the input string by replacing it with special characters, making it harder for bots but remains readable to site visitors.",docLink:"https://statamic.dev/modifiers/obfuscate",parameters:[],canBeParameter:!1},{name:"obfuscate_email",acceptsType:["string"],returnsType:["string"],description:"Obfuscates an email address with special HTML characters.",docLink:"https://statamic.dev/modifiers/obfuscate_email",parameters:[],canBeParameter:!1},{name:"strip_tags",acceptsType:["string"],returnsType:["string"],description:"Removes HTML tags from the string.",docLink:"https://statamic.dev/modifiers/strip_tags",parameters:[{name:"tags",description:"The HTML tag(s) to remove from the string."}],canBeParameter:!1},{name:"table",acceptsType:["array"],returnsType:["string"],description:"Turns a [Table FieldType](https://statamic.dev/fieldtypes/table) array into an HTML table.",docLink:"https://statamic.dev/modifiers/table",parameters:[{name:"content_markdown",description:"Whether to parse cell contents as Markdown."}],canBeParameter:!1},{name:"textile",acceptsType:["string"],returnsType:["string"],description:"Parses a string with [Textile](http://demo.textilewiki.com/theme-default/) and returns the HTML.",docLink:"https://statamic.dev/modifiers/textile",parameters:[],canBeParameter:!1},{name:"wrap",acceptsType:["string"],returnsType:["string"],description:"Wraps a string with a given HTML tag.",docLink:"https://statamic.dev/modifiers/wrap",parameters:[{name:"expression",description:"The HTML tag or Emmet-style expression to wrap the value in."}],canBeParameter:!1}]});var Ab,Cb=x(()=>{Ab=[{name:"add",acceptsType:["number"],returnsType:["number"],description:"Adds two values together.",docLink:"https://statamic.dev/modifiers/add",parameters:[{name:"value",description:"The value to add."}],canBeParameter:!0},{name:"+",acceptsType:["number"],returnsType:["number"],description:"Adds two values together.",docLink:"https://statamic.dev/modifiers/add",parameters:[{name:"value",description:"The value to add."}],canBeParameter:!1},{name:"ceil",acceptsType:["number"],returnsType:["number"],description:"Rounds the value to the next whole number.",docLink:"https://statamic.dev/modifiers/ceil",parameters:[],canBeParameter:!1},{name:"divide",acceptsType:["number"],returnsType:["number"],description:"Divides two values.",docLink:"https://statamic.dev/modifiers/divide",parameters:[{name:"value",description:"The value to divide."}],canBeParameter:!0},{name:"floor",acceptsType:["number"],returnsType:["number"],description:"Rounds a number down to the next whole number.",docLink:"https://statamic.dev/modifiers/floor",parameters:[],canBeParameter:!0},{name:"format_number",acceptsType:["number"],returnsType:["string"],description:"Formats a number.",docLink:"https://statamic.dev/modifiers/format_number",parameters:[{name:"precision",description:"Number of decimal places before rounding."},{name:"decimal_separator",description:"The decimal separator (defaults to `.`)."},{name:"thousands_separator",description:"The thousands separator (default `,`)."}],canBeParameter:!0},{name:"mode",acceptsType:["number"],returnsType:["number"],description:"",docLink:"",parameters:[],canBeParameter:!0},{name:"multiply",acceptsType:["number"],returnsType:["number"],description:"Multiplies two values.",docLink:"https://statamic.dev/modifiers/multiply",parameters:[{name:"value",description:"The value to multiply."}],canBeParameter:!0},{name:"*",acceptsType:["number"],returnsType:["number"],description:"Multiplies two values.",docLink:"https://statamic.dev/modifiers/multiply",parameters:[{name:"value",description:"The value to multiply."}],canBeParameter:!1},{name:"round",acceptsType:["number"],returnsType:["number"],description:"Rounds a number to a specified precision.",docLink:"https://statamic.dev/modifiers/round",parameters:[{name:"precision",description:"The number of digits after the decimal point."}],canBeParameter:!0},{name:"subtract",acceptsType:["number"],returnsType:["number"],description:"Subtracts two values.",docLink:"https://statamic.dev/modifiers/subtract",parameters:[{name:"value",description:"The value to subtract."}],canBeParameter:!0},{name:"-",acceptsType:["number"],returnsType:["number"],description:"Subtracts two values.",docLink:"https://statamic.dev/modifiers/subtract",parameters:[{name:"value",description:"The value to subtract."}],canBeParameter:!1}]});var Eb,Sb=x(()=>{Eb=[{name:"partial",acceptsType:["*"],returnsType:["*view*"],description:"Injects data into a partial and renders it.",docLink:"https://statamic.dev/modifiers/partial",parameters:[{name:"partial",description:"The name of the partial."}],canBeParameter:!1},{name:"macro",acceptsType:["*"],returnsType:["*"],description:"Runs a pre-configured macro on the data.",docLink:"https://statamic.dev/modifiers/macro",parameters:[{name:"macro",description:"The macro name."}],canBeParameter:!1},{name:"url",acceptsType:["string","*"],returnsType:["string"],description:"Locates the URL of an asset, page, entry, or taxonomy term based on the variable contents.",docLink:"https://statamic.dev/modifiers/url",parameters:[],canBeParameter:!1}]});var xb,Rb=x(()=>{xb=[{name:"ascii",acceptsType:["string"],returnsType:["string"],description:"Replaces all non-ASCII characters with their closest ASCII counterparts.",docLink:"https://statamic.dev/modifiers/ascii",parameters:[],canBeParameter:!1},{name:"at",acceptsType:["string"],returnsType:["string"],description:"Returns the character at a given zero-based position.",docLink:"https://statamic.dev/modifiers/at",parameters:[{name:"position",description:"The zero-based position to retrieve a character from."}],canBeParameter:!0},{name:"backspace",acceptsType:["string"],returnsType:["string"],description:"Removes a specified number of characters from the end of a string.",docLink:"https://statamic.dev/modifiers/backspace",parameters:[{name:"character_count",description:"The number of characters to remove from the end of the string."}],canBeParameter:!0},{name:"camelize",acceptsType:["string"],returnsType:["string"],description:"Converts the string into camelCase.",docLink:"https://statamic.dev/modifiers/camelize",parameters:[],canBeParameter:!1},{name:"cdata",acceptsType:["string"],returnsType:["string"],description:"Wraps the string in CDATA XML tags.",docLink:"https://statamic.dev/modifiers/cdata",parameters:[],canBeParameter:!1},{name:"collapse_whitespace",acceptsType:["string"],returnsType:["string"],description:"Trims a string and replaces consecutive whitespace characters with a single space.",docLink:"https://statamic.dev/modifiers/collapse_whitespace",parameters:[],canBeParameter:!1},{name:"count_substring",acceptsType:["string"],returnsType:["number"],description:"Counts the number of occurrences of a term within the string.",docLink:"https://statamic.dev/modifiers/count_substring",parameters:[{name:"term",description:"The sub-string to search for"}],canBeParameter:!0},{name:"dashify",acceptsType:["string"],returnsType:["string"],description:"Returns a lower-cased and trimmed string, separated by dashes.",docLink:"https://statamic.dev/modifiers/dashify",parameters:[],canBeParameter:!1},{name:"deslugify",acceptsType:["string"],returnsType:["string"],description:"Replaces all hyphens and underscores with spaces.",docLink:"https://statamic.dev/modifiers/deslugify",parameters:[],canBeParameter:!1},{name:"embed_url",acceptsType:["string"],returnsType:["string"],description:"Converts a YouTube or Viemo link into their embed URLs.",docLink:"https://statamic.dev/modifiers/embed_url",parameters:[],canBeParameter:!1},{name:"trackable_embed_url",acceptsType:["string"],returnsType:["string"],description:"Get the embed URL when given a youtube or vimeo link that's direct to the page.",docLink:null,parameters:[],canBeParameter:!1},{name:"ensure_left",acceptsType:["string"],returnsType:["string"],description:"Ensures that the string begins with the specified string.",docLink:"https://statamic.dev/modifiers/ensure_left",parameters:[{name:"start_string",description:"The value that should be at the start of the string."}],canBeParameter:!0},{name:"ensure_right",acceptsType:["string"],returnsType:["string"],description:"Ensures that the string ends with the specified string.",docLink:"https://statamic.dev/modifiers/ensure_right",parameters:[{name:"end_string",description:"The value that should be at the end of the string."}],canBeParameter:!0},{name:"entities",acceptsType:["string"],returnsType:["string"],description:"Encode a string with HTML entities.",docLink:"https://statamic.dev/modifiers/entities",parameters:[],canBeParameter:!1},{name:"excerpt",acceptsType:["string"],returnsType:["string"],description:"Breaks a string at a given marker.",docLink:"https://statamic.dev/modifiers/excerpt",parameters:[{name:"marker",description:"The string to break by."}],canBeParameter:!1},{name:"explode",acceptsType:["string"],returnsType:["array"],description:"Breaks a string into an array of strings.",docLink:"https://statamic.dev/modifiers/explode",parameters:[{name:"delimiter",description:"The string to split the larger string by."}],canBeParameter:!0},{name:"gravatar",acceptsType:["string"],returnsType:["string"],description:"Converts an email string to a Gravatar image URL.",docLink:"https://statamic.dev/modifiers/gravatar",parameters:[{name:"image size",description:"The desired image size."}],canBeParameter:!0},{name:"insert",acceptsType:["string"],returnsType:["string"],description:"Inserts a string at the position provided.",docLink:"https://statamic.dev/modifiers/insert",parameters:[{name:"value",description:"The value to insert."},{name:"position",description:"The zero based position to insert the text at."}],canBeParameter:!0},{name:"is_email",acceptsType:["string"],returnsType:["boolean"],description:"Returns true if the string is a valid email address.",docLink:"https://statamic.dev/modifiers/is_email",parameters:[],canBeParameter:!1},{name:"is_embeddable",acceptsType:["string"],returnsType:["boolean"],description:"Checks to see if a video URL is embeddable.",docLink:"https://statamic.dev/modifiers/is_embeddable",parameters:[],canBeParameter:!1},{name:"is_lowercase",acceptsType:["string"],returnsType:["boolean"],description:"Returns true if the string contains only lowercase characters.",docLink:"https://statamic.dev/modifiers/is_lowercase",parameters:[],canBeParameter:!1},{name:"is_url",acceptsType:["string"],returnsType:["boolean"],description:"Returns true if a string is a valid URL.",docLink:"https://statamic.dev/modifiers/is_url",parameters:[],canBeParameter:!1},{name:"lcfirst",acceptsType:["string"],returnsType:["string"],description:"Converts the first character of the value to lower case.",docLink:"https://statamic.dev/modifiers/lcfirst",parameters:[],canBeParameter:!1},{name:"length",acceptsType:["string"],returnsType:["number"],description:"Returns the number of items in an array or number of characters in a string.",docLink:"https://statamic.dev/modifiers/length",parameters:[],canBeParameter:!1},{name:"lower",acceptsType:["string"],returnsType:["string"],description:"Converts all characters to lowercase.",docLink:"https://statamic.dev/modifiers/lower",parameters:[],canBeParameter:!1},{name:"md5",acceptsType:["string"],returnsType:["string"],description:"Creates an MD5 hash of the variable.",docLink:"https://statamic.dev/modifiers/md5",parameters:[],canBeParameter:!1},{name:"rawurlencode",acceptsType:["string"],returnsType:["string"],description:"URL-encode a variable according to RFC-3986.",docLink:"https://statamic.dev/modifiers/rawurlencode",parameters:[],canBeParameter:!1},{name:"read_time",acceptsType:["string"],returnsType:["string"],description:"Returns an estimated read time, in minutes.",docLink:"https://statamic.dev/modifiers/read_time",parameters:[{name:"words per minute",description:"The words per minute to use as an estimate."}],canBeParameter:!0},{name:"regex_replace",acceptsType:["string"],returnsType:["string"],description:"Replaces all regex matches with a string.",docLink:"https://statamic.dev/modifiers/regex_replace",parameters:[{name:"pattern",description:"The regex pattern."},{name:"replace",description:"The replacement value."}],canBeParameter:!0},{name:"remove_left",acceptsType:["string"],returnsType:["string"],description:"Ensures that the string never begins with a specified string.",docLink:"https://statamic.dev/modifiers/remove_left/",parameters:[{name:"value",description:"The value to remove."}],canBeParameter:!0},{name:"remove_right",acceptsType:["string"],returnsType:["string"],description:"Ensures that a string never ends with a specified string.",docLink:"https://statamic.dev/modifiers/remove_right",parameters:[{name:"value",description:"The value to remove."}],canBeParameter:!0},{name:"replace",acceptsType:["string"],returnsType:["string"],description:"Replaces all occurrences of a string with a different value.",docLink:"https://statamic.dev/modifiers/replace",parameters:[{name:"needle",description:"The string to search for."},{name:"value",description:"The value to replace all occurrences with."}],canBeParameter:!0},{name:"reverse",acceptsType:["string","array"],returnsType:["string","array"],description:"Reverses all characters in a string, or all items in an array.",docLink:"https://statamic.dev/modifiers/reverse",parameters:[],canBeParameter:!1},{name:"safe_truncate",acceptsType:["string"],returnsType:["string"],description:"Truncates a string to a given length.",docLink:"https://statamic.dev/modifiers/safe_truncate",parameters:[{name:"length",description:"The desired string length."},{name:"suffix",description:"An optional suffix to append to the string if truncation occurs."}],canBeParameter:!1},{name:"sanitize",acceptsType:["string"],returnsType:["string"],description:"Converts special characters to HTML entities.",docLink:"https://statamic.dev/modifiers/sanitize",parameters:[],canBeParameter:!1},{name:"segment",acceptsType:["string"],returnsType:["string"],description:"Returns a segment by number from any valid URL or URI.",docLink:"https://statamic.dev/modifiers/segment",parameters:[{name:"segment",description:"The one-based segment to return."}],canBeParameter:!0},{name:"singular",acceptsType:["string"],returnsType:["string"],description:"Returns the singular form of an English word.",docLink:"https://statamic.dev/modifiers/singular",parameters:[],canBeParameter:!1},{name:"slugify",acceptsType:["string"],returnsType:["string"],description:"Converts the string into an URL slug.",docLink:"https://statamic.dev/modifiers/slugify",parameters:[],canBeParameter:!1},{name:"smartypants",acceptsType:["string"],returnsType:["string"],description:"Translates plain ASCII punctuation characters into typographic punctuation HTML entities.",docLink:"https://statamic.dev/modifiers/smartypants",parameters:[],canBeParameter:!1},{name:"spaceless",acceptsType:["string"],returnsType:["string"],description:"Removes excess whitespace and line breaks from a string.",docLink:"https://statamic.dev/modifiers/spaceless",parameters:[],canBeParameter:!1},{name:"substr",acceptsType:["string"],returnsType:["string"],description:"Returns a portion of a string based on provided a start index, and optional length.",docLink:"https://statamic.dev/modifiers/substr",parameters:[{name:"start",description:"The 0-based index to start searching."},{name:"length",description:"An optional length for the string to find."}],canBeParameter:!1},{name:"surround",acceptsType:["string"],returnsType:["string"],description:"Surrounds a string with another string.",docLink:"https://statamic.dev/modifiers/surround",parameters:[{name:"value",description:"The value to surround the string with."}],canBeParameter:!1},{name:"swap_case",acceptsType:["string"],returnsType:["string"],description:"Returns a case swapped version of the string.",docLink:"https://statamic.dev/modifiers/swap_case",parameters:[],canBeParameter:!1},{name:"tidy",acceptsType:["string"],returnsType:["string"],description:"Returns a string with smart quotes, ellipsis characters, and dashes from Windows-1252 replaced by ASCII equivalents.",docLink:"https://statamic.dev/modifiers/tidy",parameters:[],canBeParameter:!1},{name:"title",acceptsType:["string"],returnsType:["string"],description:"Returns a Title Cased version of the string.",docLink:"https://statamic.dev/modifiers/title",parameters:[],canBeParameter:!1},{name:"trim",acceptsType:["string"],returnsType:["string"],description:"Removes whitespace from the start and end of the string.",docLink:"https://statamic.dev/modifiers/trim",parameters:[],canBeParameter:!1},{name:"truncate",acceptsType:["string"],returnsType:["string"],description:"Truncates a string to a given length.",docLink:"https://statamic.dev/modifiers/truncate",parameters:[{name:"length",description:"The maximum string length."},{name:"suffix",description:"An optional suffix to append to the string if truncation occurs."}],canBeParameter:!1},{name:"ucfirst",acceptsType:["string"],returnsType:["string"],description:"Upper cases the first character in the string.",docLink:"https://statamic.dev/modifiers/ucfirst",parameters:[],canBeParameter:!1},{name:"underscored",acceptsType:["string"],returnsType:["string"],description:"Returns a lower-cased and trimmed version of the string, separated by underscores.",docLink:"https://statamic.dev/modifiers/underscored",parameters:[],canBeParameter:!1},{name:"upper",acceptsType:["string"],returnsType:["string"],description:"Transforms the string to uppercase.",docLink:"https://statamic.dev/modifiers/upper",parameters:[],canBeParameter:!1},{name:"urldecode",acceptsType:["string"],returnsType:["string"],description:"URL-decodes the string.",docLink:"https://statamic.dev/modifiers/urldecode",parameters:[],canBeParameter:!1},{name:"urlencode",acceptsType:["string"],returnsType:["string"],description:"URL-encodes the string.",docLink:"https://statamic.dev/modifiers/urlencode",parameters:[],canBeParameter:!1},{name:"widont",acceptsType:["string"],returnsType:["string"],description:"Attempts to prevent lines with single words.",docLink:"https://statamic.dev/modifiers/widont",parameters:[],canBeParameter:!1},{name:"word_count",acceptsType:["string"],returnsType:["number"],description:"Returns the number of words in the string.",docLink:"https://statamic.dev/modifiers/word_count",parameters:[],canBeParameter:!1},{name:"add_slashes",acceptsType:["string"],returnsType:["string"],description:"Adds slashes before characters that need to be escaped.",docLink:"https://statamic.dev/modifiers/add_slashes",canBeParameter:!1,parameters:[]}]});var kb,Ob=x(()=>{kb=[{name:"console_log",acceptsType:["*"],returnsType:["null"],description:"Displays variable data in the browser's JavaScript console.",docLink:"https://statamic.dev/modifiers/console_log",parameters:[],canBeParameter:!1},{name:"decode",acceptsType:["string"],returnsType:["string"],description:"Converts all HTML entities to their applicable character codes.",docLink:"https://statamic.dev/modifiers/decode",parameters:[],canBeParameter:!1},{name:"dump",acceptsType:["*"],returnsType:["null"],description:"Displays variable data in the browser.",docLink:"https://statamic.dev/modifiers/dump",parameters:[],canBeParameter:!1},{name:"full_urls",acceptsType:["string"],returnsType:["string"],description:"Replaces root-relative URLs with absolute URLs.",docLink:"https://statamic.dev/modifiers/full_urls",parameters:[],canBeParameter:!1},{name:"repeat",acceptsType:["string"],returnsType:["string"],description:"Repeats a value a given number of times.",docLink:"https://statamic.dev/modifiers/repeat",parameters:[{name:"repeat_count",description:"The number of times to repeat the value."}],canBeParameter:!0},{name:"to_spaces",acceptsType:["string"],returnsType:["string"],description:"Converts all tabs to spaces.",docLink:"https://statamic.dev/modifiers/to_spaces",parameters:[{name:"space_count",description:"The number of spaces to replace tabs with."}],canBeParameter:!1},{name:"to_tabs",acceptsType:["string"],returnsType:["string"],description:"Converts spaces to tabs.",docLink:"https://statamic.dev/modifiers/to_tabs",parameters:[{name:"space_count",description:"The number of spaces to convert to tabs."}],canBeParameter:!1},{name:"to_json",acceptsType:["*"],returnsType:["string"],description:"Converts the data to JSON.",docLink:"https://statamic.dev/modifiers/to_json",parameters:[],canBeParameter:!1},{name:"to_bool",acceptsType:["*"],returnsType:["boolean"],description:"Converst the data to a boolean",parameters:[],canBeParameter:!1,docLink:null}]});var Ls,Qt,Io=x(()=>{Fp();gb();_b();Nb();vb();Pb();Cb();Sb();Rb();Ob();Ls=class{constructor(){this.registeredModifiers=new Map;this.acceptTypedModifierReference=new Map;this.returnTypeModifierReference=new Map;this.macros=new Map;this.modifierNameCache=[]}reset(){this.modifierNameCache=[],this.registeredModifiers.clear(),this.acceptTypedModifierReference.clear(),this.returnTypeModifierReference.clear()}getRegisteredModifiers(){return this.registeredModifiers}resetMacros(){this.macros.clear()}loadCoreModifiers(){this.registerModifiers(mb),this.registerModifiers(Tb),this.registerModifiers(yb),this.registerModifiers(bb),this.registerModifiers(Ib),this.registerModifiers(Ab),this.registerModifiers(kb),this.registerModifiers(xb),this.registerModifiers(Eb)}getModifierNames(){return this.modifierNameCache}registerMacro(e){this.macros.set(e.name,e)}registerMacros(e){for(let n=0;n<e.length;n++)this.registerMacro(e[n])}hasMacro(e){if(this.macros.has(e)){let n=this.macros.get(e);return!(typeof n=="undefined"||n===null)}return!1}getMacro(e){if(this.macros.has(e)){let n=this.macros.get(e);return typeof n=="undefined"||n===null?null:n}return null}getMacroManifestingType(e){let n=this.getMacro(e);return n==null?"":n.manifestsType}getRegisteredModifier(e){return this.registeredModifiers.has(e)?this.registeredModifiers.get(e):null}getModifiersForType(e){let n=Cu(e);return this.acceptTypedModifierReference.has(n)?this.acceptTypedModifierReference.get(n):[]}getProbableReturnType(e,n){return e==null||e.returnsType.length==0?"":n&&e.returnsType.includes("array")?"array":e.returnsType[0]}registerModifiers(e){var n,r;for(let i=0;i<e.length;i++){let s=e[i];this.modifierNameCache.push(s.name);for(let a=0;a<s.acceptsType.length;a++){let l=s.acceptsType[a];this.acceptTypedModifierReference.has(l)==!1&&this.acceptTypedModifierReference.set(l,[]),(n=this.acceptTypedModifierReference.get(l))==null||n.push(s)}for(let a=0;a<s.returnsType.length;a++){let l=s.returnsType[a];this.returnTypeModifierReference.has(l)==!1&&this.returnTypeModifierReference.set(l,[]),(r=this.returnTypeModifierReference.get(l))==null||r.push(s)}this.registeredModifiers.set(e[i].name,e[i])}}registerModifier(e){let n=[];n.push(e),this.registerModifiers(n)}getModifier(e){if(this.registeredModifiers.has(e)==!1)return null;let n=this.registeredModifiers.get(e);return typeof n=="undefined"||n==null?null:n}hasModifier(e){if(!this.registeredModifiers.has(e))return!1;let n=this.registeredModifiers.get(e);return!(typeof n=="undefined"||n==null)}};Ls.instance=null;(typeof Ls.instance=="undefined"||Ls.instance==null)&&(Ls.instance=new Ls,Ls.instance.loadCoreModifiers());Qt=Ls});var Bp,wb=x(()=>{Io();nt();Bp=class{constructor(e){this.parameterModifiers=[];this.hasMixedModifierStyles=!1;this.modifierNames=[];this.node=e}isPaired(){return this.node instanceof Z?this.node.isPaired():!1}getModifierValue(e){var n;if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0)for(let r=0;r<this.node.modifierChain.modifierChain.length;r++){let i=this.node.modifierChain.modifierChain[r];if(((n=i.nameNode)==null?void 0:n.name)==e)return i.valueNodes.length>0?i.valueNodes[0].content:""}if(this.hasParameterModifiers())for(let r=0;r<this.parameterModifiers.length;r++){let i=this.parameterModifiers[r];if(i.name==e)return i.value}return null}getModifierRange(e){var n;if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0)for(let r=0;r<this.node.modifierChain.modifierChain.length;r++){let i=this.node.modifierChain.modifierChain[r];if(((n=i.nameNode)==null?void 0:n.name)==e)return i.valueNodes.length>0?{start:i.startPosition,end:i.endPosition}:null}if(this.hasParameterModifiers())for(let r=0;r<this.parameterModifiers.length;r++){let i=this.parameterModifiers[r];if(i.name==e&&i.namePosition!=null&&i.valuePosition!=null)return{start:i.namePosition.start,end:i.valuePosition.end}}return null}getLastManifestedModifierRuntimeType(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastManifestedModifier!=null){if(this.node.modifierChain.lastManifestedModifier.parameters.length>0&&this.node.modifierChain.lastManifestedModifier.modifier!=null&&Qt.instance!=null){let e=this.node.modifierChain.lastManifestedModifier.modifier;return Qt.instance.getProbableReturnType(e,this.isPaired())}return"*"}if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null&&Qt.instance!=null){let r=e[n].modifier;return Qt.instance.getProbableReturnType(r,this.isPaired())}}return"*"}getLastManifestedModifierValue(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastManifestedModifier!=null)return this.node.modifierChain.lastManifestedModifier.parameters.length>0?this.node.modifierChain.lastManifestedModifier.parameters[0].value:"";if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null)return e[n].value}return""}getLastManifestedModifier(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastModifier!=null)return this.node.modifierChain.lastModifier;if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null)return e[n].modifier}return null}hasModifiers(){return this.node.modifierChain==null||this.node.modifierChain.modifierChain.length==0?this.parameterModifiers.length>0:!0}hasParameterModifiers(){return this.parameterModifiers.length>0}hasShorthandModifiers(){return this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0}hasModifier(e){return this.modifierNames.includes(e)}}});function qp(t){let e=[];return t.forEach(n=>{n instanceof Z?e.push(n):n instanceof Fn&&n.logicBranches.length>0&&n.logicBranches.forEach(r=>{if(r.head!=null){let i=r.head;i.originalNode!=null?e.push(i.originalNode):e.push(i)}})}),e}var Lb=x(()=>{nt()});function Db(t){return(typeof t=="number"||typeof t=="string"&&FL.indexOf(t.slice(-1))===-1)&&t!==""&&!isNaN(t)}var FL,Mb=x(()=>{FL=[" ",`
`,"\r","	","\f","\v","\xA0","\u2000","\u2001","\u2002","\u2003","\u2004","\u2005","\u2006","\u2007","\u2008","\u2009","\u200A","\u200B","\u2028","\u2029","\u3000"].join("")});var te,Sn=x(()=>{Mb();te=class{static normalizeLineEndings(e,n=`
`){return e.replace(/\r?\n/g,n)}static breakByNewLine(e){return e.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`)}static split(e){return e.split("")}static substring(e,n,r){return e.substr(n,r)}static ctypeSpace(e){return(e==null?void 0:e.search(/^[\f\n\r\t\v ]+$/g))!==-1}static ctypeAlpha(e){return(e==null?void 0:e.search(/^[A-Za-z]+$/g))!==-1}static ctypeDigit(e){return(e==null?void 0:e.search(/^[\d]+$/g))!==-1}static ctypePunct(e){return(e==null?void 0:e.search(/^[\u0021-\u002F\u003A-\u0040\u005B-\u0060\u007B-\u007E]+$/g))!==-1}static trimLeft(e,n="\\s"){return e.replace(new RegExp("^["+n+"]+"),"")}static trimRight(e,n="\\s"){return e.replace(new RegExp("["+n+"]+$"),"")}static isNumeric(e){return Db(e)}static substringCount(e,n){let r=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return(e.match(new RegExp(r,"gi"))||[]).length}static getLastLine(e){let n=te.breakByNewLine(e);return n.length==0?"":n[n.length-1]}static getFirstLine(e){let n=te.breakByNewLine(e);return n.length==0?"":n[0]}}});var Up,Fb=x(()=>{Up=class{constructor(e){this.node=e}findParentWithName(e){let n=this.node.getParser();return n==null?null:n.structure.findParentWithName(e,this.node)}}});var Eu=_e(jp=>{"use strict";Object.defineProperty(jp,"__esModule",{value:!0});var Vb=function(){function t(){this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return t.hashStr=function(e,n){return n===void 0&&(n=!1),this.onePassHasher.start().appendStr(e).end(n)},t.hashAsciiStr=function(e,n){return n===void 0&&(n=!1),this.onePassHasher.start().appendAsciiStr(e).end(n)},t._hex=function(e){var n=t.hexChars,r=t.hexOut,i,s,a,l;for(l=0;l<4;l+=1)for(s=l*8,i=e[l],a=0;a<8;a+=2)r[s+1+a]=n.charAt(i&15),i>>>=4,r[s+0+a]=n.charAt(i&15),i>>>=4;return r.join("")},t._md5cycle=function(e,n){var r=e[0],i=e[1],s=e[2],a=e[3];r+=(i&s|~i&a)+n[0]-680876936|0,r=(r<<7|r>>>25)+i|0,a+=(r&i|~r&s)+n[1]-389564586|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&i)+n[2]+606105819|0,s=(s<<17|s>>>15)+a|0,i+=(s&a|~s&r)+n[3]-1044525330|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&a)+n[4]-176418897|0,r=(r<<7|r>>>25)+i|0,a+=(r&i|~r&s)+n[5]+1200080426|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&i)+n[6]-1473231341|0,s=(s<<17|s>>>15)+a|0,i+=(s&a|~s&r)+n[7]-45705983|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&a)+n[8]+1770035416|0,r=(r<<7|r>>>25)+i|0,a+=(r&i|~r&s)+n[9]-1958414417|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&i)+n[10]-42063|0,s=(s<<17|s>>>15)+a|0,i+=(s&a|~s&r)+n[11]-1990404162|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&a)+n[12]+1804603682|0,r=(r<<7|r>>>25)+i|0,a+=(r&i|~r&s)+n[13]-40341101|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&i)+n[14]-1502002290|0,s=(s<<17|s>>>15)+a|0,i+=(s&a|~s&r)+n[15]+1236535329|0,i=(i<<22|i>>>10)+s|0,r+=(i&a|s&~a)+n[1]-165796510|0,r=(r<<5|r>>>27)+i|0,a+=(r&s|i&~s)+n[6]-1069501632|0,a=(a<<9|a>>>23)+r|0,s+=(a&i|r&~i)+n[11]+643717713|0,s=(s<<14|s>>>18)+a|0,i+=(s&r|a&~r)+n[0]-373897302|0,i=(i<<20|i>>>12)+s|0,r+=(i&a|s&~a)+n[5]-701558691|0,r=(r<<5|r>>>27)+i|0,a+=(r&s|i&~s)+n[10]+38016083|0,a=(a<<9|a>>>23)+r|0,s+=(a&i|r&~i)+n[15]-660478335|0,s=(s<<14|s>>>18)+a|0,i+=(s&r|a&~r)+n[4]-405537848|0,i=(i<<20|i>>>12)+s|0,r+=(i&a|s&~a)+n[9]+568446438|0,r=(r<<5|r>>>27)+i|0,a+=(r&s|i&~s)+n[14]-1019803690|0,a=(a<<9|a>>>23)+r|0,s+=(a&i|r&~i)+n[3]-187363961|0,s=(s<<14|s>>>18)+a|0,i+=(s&r|a&~r)+n[8]+1163531501|0,i=(i<<20|i>>>12)+s|0,r+=(i&a|s&~a)+n[13]-1444681467|0,r=(r<<5|r>>>27)+i|0,a+=(r&s|i&~s)+n[2]-51403784|0,a=(a<<9|a>>>23)+r|0,s+=(a&i|r&~i)+n[7]+1735328473|0,s=(s<<14|s>>>18)+a|0,i+=(s&r|a&~r)+n[12]-1926607734|0,i=(i<<20|i>>>12)+s|0,r+=(i^s^a)+n[5]-378558|0,r=(r<<4|r>>>28)+i|0,a+=(r^i^s)+n[8]-2022574463|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^i)+n[11]+1839030562|0,s=(s<<16|s>>>16)+a|0,i+=(s^a^r)+n[14]-35309556|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^a)+n[1]-1530992060|0,r=(r<<4|r>>>28)+i|0,a+=(r^i^s)+n[4]+1272893353|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^i)+n[7]-155497632|0,s=(s<<16|s>>>16)+a|0,i+=(s^a^r)+n[10]-1094730640|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^a)+n[13]+681279174|0,r=(r<<4|r>>>28)+i|0,a+=(r^i^s)+n[0]-358537222|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^i)+n[3]-722521979|0,s=(s<<16|s>>>16)+a|0,i+=(s^a^r)+n[6]+76029189|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^a)+n[9]-640364487|0,r=(r<<4|r>>>28)+i|0,a+=(r^i^s)+n[12]-421815835|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^i)+n[15]+530742520|0,s=(s<<16|s>>>16)+a|0,i+=(s^a^r)+n[2]-995338651|0,i=(i<<23|i>>>9)+s|0,r+=(s^(i|~a))+n[0]-198630844|0,r=(r<<6|r>>>26)+i|0,a+=(i^(r|~s))+n[7]+1126891415|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~i))+n[14]-1416354905|0,s=(s<<15|s>>>17)+a|0,i+=(a^(s|~r))+n[5]-57434055|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~a))+n[12]+1700485571|0,r=(r<<6|r>>>26)+i|0,a+=(i^(r|~s))+n[3]-1894986606|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~i))+n[10]-1051523|0,s=(s<<15|s>>>17)+a|0,i+=(a^(s|~r))+n[1]-2054922799|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~a))+n[8]+1873313359|0,r=(r<<6|r>>>26)+i|0,a+=(i^(r|~s))+n[15]-30611744|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~i))+n[6]-1560198380|0,s=(s<<15|s>>>17)+a|0,i+=(a^(s|~r))+n[13]+1309151649|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~a))+n[4]-145523070|0,r=(r<<6|r>>>26)+i|0,a+=(i^(r|~s))+n[11]-1120210379|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~i))+n[2]+718787259|0,s=(s<<15|s>>>17)+a|0,i+=(a^(s|~r))+n[9]-343485551|0,i=(i<<21|i>>>11)+s|0,e[0]=r+e[0]|0,e[1]=i+e[1]|0,e[2]=s+e[2]|0,e[3]=a+e[3]|0},t.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(t.stateIdentity),this},t.prototype.appendStr=function(e){var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,a;for(a=0;a<e.length;a+=1){if(s=e.charCodeAt(a),s<128)n[i++]=s;else if(s<2048)n[i++]=(s>>>6)+192,n[i++]=s&63|128;else if(s<55296||s>56319)n[i++]=(s>>>12)+224,n[i++]=s>>>6&63|128,n[i++]=s&63|128;else{if(s=(s-55296)*1024+(e.charCodeAt(++a)-56320)+65536,s>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");n[i++]=(s>>>18)+240,n[i++]=s>>>12&63|128,n[i++]=s>>>6&63|128,n[i++]=s&63|128}i>=64&&(this._dataLength+=64,t._md5cycle(this._state,r),i-=64,r[0]=r[16])}return this._bufferLength=i,this},t.prototype.appendAsciiStr=function(e){for(var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,a=0;;){for(s=Math.min(e.length-a,64-i);s--;)n[i++]=e.charCodeAt(a++);if(i<64)break;this._dataLength+=64,t._md5cycle(this._state,r),i=0}return this._bufferLength=i,this},t.prototype.appendByteArray=function(e){for(var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,a=0;;){for(s=Math.min(e.length-a,64-i);s--;)n[i++]=e[a++];if(i<64)break;this._dataLength+=64,t._md5cycle(this._state,r),i=0}return this._bufferLength=i,this},t.prototype.getState=function(){var e=this,n=e._state;return{buffer:String.fromCharCode.apply(null,e._buffer8),buflen:e._bufferLength,length:e._dataLength,state:[n[0],n[1],n[2],n[3]]}},t.prototype.setState=function(e){var n=e.buffer,r=e.state,i=this._state,s;for(this._dataLength=e.length,this._bufferLength=e.buflen,i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],s=0;s<n.length;s+=1)this._buffer8[s]=n.charCodeAt(s)},t.prototype.end=function(e){e===void 0&&(e=!1);var n=this._bufferLength,r=this._buffer8,i=this._buffer32,s=(n>>2)+1,a;if(this._dataLength+=n,r[n]=128,r[n+1]=r[n+2]=r[n+3]=0,i.set(t.buffer32Identity.subarray(s),s),n>55&&(t._md5cycle(this._state,i),i.set(t.buffer32Identity)),a=this._dataLength*8,a<=4294967295)i[14]=a;else{var l=a.toString(16).match(/(.*?)(.{0,8})$/);if(l===null)return;var u=parseInt(l[2],16),d=parseInt(l[1],16)||0;i[14]=u,i[15]=d}return t._md5cycle(this._state,i),e?this._state:t._hex(this._state)},t.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),t.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t.hexChars="0123456789abcdef",t.hexOut=[],t.onePassHasher=new t,t}();jp.Md5=Vb;Vb.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592"&&console.error("Md5 self test failed.")});var Bb,Q,ni=x(()=>{Bb=Ge(Eu()),Q=class{constructor(){this.node=null;this.errorCode="";this.message="";this.level=0;this.range=null}hash(){var n,r,i,s;let e="";return this.node!=null&&(e=((r=(n=this.node.endPosition)==null?void 0:n.offset)!=null?r:0).toString()+"|"+((s=(i=this.node.startPosition)==null?void 0:i.offset)!=null?s:0).toString()+"|"),Bb.Md5.hashStr(e+"|"+this.errorCode)}static makeSyntaxError(e,n,r,i){i==null&&(i=0);let s=new Q;return s.errorCode=e,s.node=n,s.message=r,s.level=i,s}}});var k,ri=x(()=>{k=class{};k.TYPE_EXPECTING_OPERAND="ANTLR_001",k.TYPE_UNEXPECTED_END_OF_INPUT="ANTLR_002",k.TYPE_RUNTIME_TYPE_MISMATCH="ANTLR_003",k.TYPE_RUNTIME_DIVIDE_BY_ZERO="ANTLR_004",k.TYPE_RUNTIME_UNKNOWN_LANG_OPERATOR="ANTLR_005",k.TYPE_RUNTIME_UNEXPECTED_STACK_CONDITION="ANTLR_006",k.TYPE_RUNTIME_PARSE_VALUE_VIOLATION="ANTLR_007",k.TYPE_PARSE_UNCLOSED_CONDITIONAL="ANTLR_008",k.TYPE_PARSE_EMPTY_CONDITIONAL="ANTLR_009",k.TYPE_PARSE_UNPAIRED_CONDITIONAL="ANTLR_008",k.TYPE_ILLEGAL_STRING_ESCAPE_SEQUENCE="ANTLR_009",k.TYPE_INCOMPLETE_ANTLERS_REGION="ANTLR_010",k.TYPE_INCOMPLETE_ANTELRS_COMMENT_REGION="ANTLR_011",k.TYPE_ILLEGAL_VARPATH_RIGHT="ANTLR_012",k.TYPE_ILLEGAL_DOTVARPATH_RIGHT="ANTLR_013",k.TYPE_ILLEGAL_VARPATH_SUBPATH_START="ANTLR_014",k.TYPE_ILLEGAL_VARPATH_SPACE_RIGHT="ANTLR_015",k.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR="ANTLR_016",k.TYPE_ILLEGAL_VARIABLE_NAME="ANTLR_017",k.TYPE_UNSET_MODIFIER_DETAILS="ANTLR_018",k.TYPE_MODIFIER_NAME_NOT_START_OF_DETAILS="ANTLR_019",k.TYPE_MODIFIER_UNEXPECTED_VALUE="ANTLR_020",k.TYPE_MODIFIER_UNEXPECTED_END_OF_VALUE_LIST="ANTLR_021",k.TYPE_TERNARY_EXPECTING_BRANCH_SEPARATOR="ANTLR_022",k.TYPE_TERNARY_UNEXPECTED_EXPRESSION_LENGTH="ANTLR_023",k.TYPE_RECURSIVE_UNPAIRED_NODE="ANTLR_024",k.TYPE_RECURSIVE_NODE_INVALID_POSITION="ANTLR_025",k.TYPE_NO_PARSE_UNASSOCIATED="ANTLR_026",k.TYPE_RECURSIVE_NODE_UNASSOCIATED_PARENT="ANTLR_027",k.TYPE_LOGIC_GROUP_NO_END="ANTLR_028",k.TYPE_LOGIC_GROUP_NO_START="ANTLR_029",k.TYPE_UNEXPECTED_BRANCH_SEPARATOR="ANTLR_030",k.TYPE_UNEXPECTED_BRANCH_SEPARATOR_FOR_VARCOMBINE="ANTLR_031",k.TYPE_UNEXPECTED_MODIFIER_SEPARATOR="ANTLR_032",k.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_DETAILS="ANTLR_033",k.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_VALUE="ANTLR_034",k.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NODE_PARAMETER="ANTLR_035",k.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE="ANTLR_036",k.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS="ANTLR_037",k.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SEMANTIC_GROUP="ANTLR_038",k.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NULL_COALESCENCE_GROUP="ANTLR_039",k.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP="ANTLR_040",k.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP_FALSE_BRANCH="ANTLR_041",k.TYPE_UNEXPECTED_EOI_WHILE_EXITING_TERNARY_GROUP="ANTLR_042",k.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_NEGATION_OFFSET="ANTLR_043",k.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END_DUE_TO_NEGATION="ANTLR_044",k.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END="ANTLR_045",k.TYPE_RUNTIME_UNKNOWN_LIBRARY="ANTLR_046",k.TYPE_RUNTIME_LIBRARY_BAD_METHOD_CALL="ANTLR_047",k.TYPE_UNEXPECTED_FACTORIAL_WHILE_CREATING_GROUPS="ANTLR_048",k.TYPE_UNEXPECTED_FACTORIAL_OPERAND="ANTLR_049",k.TYPE_UNEXPECTED_LOGIC_NEGATION_OPERATOR="ANTLR_050",k.TYPE_FACTORIAL_MATERIALIZED_BOOL_DETECTED="ANTLR_051",k.TYPE_ARG_UNEXPECTED_NAMED_ARGUMENT="ANTLR_052",k.TYPE_UNEXPECTED_EOI_PARSING_BRANCH_GROUP="ANTLR_053",k.TYPE_UNEXPECTED_UNNAMED_METHOD_ARGUMENT="ANTLR_054",k.TYPE_LIBRARY_CALL_NO_ARGS_PROVIDED="ANTLR_055",k.TYPE_LIBRARY_CALL_MISSING_REQUIRED_FORMAL_ARG="ANTLR_056",k.TYPE_LIBRARY_CALL_RUNTIME_TYPE_MISMATCH="ANTLR_057",k.TYPE_LIBRARY_CALL_UNEXPECTED_ARG_RESOLVE_FAULT="ANTLR_058",k.TYPE_LIBRARY_CALL_TOO_MANY_ARGUMENTS="ANTLR_059",k.TYPE_UNEXPECTED_TOKEN_WHILE_PARSING_METHOD="ANTLR_060",k.TYPE_INVALID_NAMED_ARG_IDENTIFIER="ANTLR_061",k.TYPE_LIBRARY_CALL_INVALID_ARGUMENT_NAME="ANTLR_062",k.TYPE_RUNTIME_ATTEMPT_TO_OVERWRITE_LOADED_LIBRARY="ANTLR_063",k.TYPE_UNEXPECTED_EOI_WHILE_PARSING_ARG_GROUP="ANTLR_064",k.TYPE_EXPECTING_ARGUMENT_GROUP="ANTLR_065",k.TYPE_RUNTIME_PROTECTED_LIBRARY_ACCESS_VIOLATION="ANTLR_066",k.TYPE_RUNTIME_FATAL_UNPAIRED_LOOP_END="ANTLR_067",k.TYPE_UNEXPECTED_OPERATOR="ANTLR_068",k.TYPE_OPERATOR_INVALID_ON_RIGHT="ANTLR_069",k.TYPE_INVALID_ASSIGNMENT_LOOP_PAIR="ANTLR_070",k.TYPE_UNEXPECTED_EOI_PARSING_ORDER_GROUP="ANTLR_071",k.TYPE_EXPECTING_ORDER_GROUP_FOR_ORDER_BY_OPERAND="ANTLR_072",k.TYPE_QUERY_UNSUPPORTED_VALUE_TYPE="ANTLR_073",k.TYPE_UNEXPECTED_RUNTIME_RESULT_FOR_ORDER_BY_CLAUSE="ANTLR_074",k.TYPE_UNEXPECTED_EMPTY_DIRECTION_GROUP="ANTLR_075",k.TYPE_INVALID_ORDER_BY_NAME_VALUE="ANTLR_076",k.TYPE_INVALID_ORDER_BY_SORT_VALUE="ANTLR_077",k.TYPE_UNEXPECTED_TOKEN_FOR_GROUP_BY="ANTLR_78",k.TYPE_UNEXPECTED_EOI_WHILE_PARSING_GROUP_BY="ANTLR_079",k.TYPE_UNEXPECTED_GROUP_BY_AS_ALIAS_TYPE="ANTLR_080",k.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SWITCH_GROUP="ANTLR_081",k.TYPE_UNEXPECTED_TOKEN_FOR_SWITCH_GROUP="ANTLR_082",k.TYPE_UNEXPECTED_SWITCH_START_VALUE="ANTLR_083",k.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE="ANTLR_084",k.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_SEMANTIC_VALUE="ANTLR_085",k.TYPE_SWITCH_DEFAULT_MUST_BE_LAST="ANTLR_086",k.TYPE_PARSER_INVALID_SWITCH_TOKEN="ANTLR_087",k.TYPE_ORDER_BY_INVALID_RETURN_TYPE="ANTLR_088",k.TYPE_GROUP_BY_SCOPED_GROUP_MUST_BE_ENCLOSED="ANTLR_089",k.TYPE_PLUCK_INTO_MISSING_VARIABLE_TARGET="ANTLR_090",k.TYPE_PLUCK_INTO_INVALID_VARIABLE_TARGET="ANTLR_091",k.TYPE_PLUCK_INTO_NO_PREDICATE="ANTLR_092",k.TYPE_PLUCK_INTO_INVALID_PREDICATE_VALUE="ANTLR_093",k.TYPE_PLUCK_INTO_EMPTY_LOGIC_GROUP="ANTLR_094",k.TYPE_PLUCK_INTO_INVALID_NUMBER_OF_TUPLE_VARIABLES="ANTLR_095",k.TYPE_PLUCK_INTO_UNKNOWN_ALIAS_VARNAME="ANTLR_096",k.TYPE_PLUCK_INTO_UNEXPECTED_EMPTY_T_LOGIC_GROUP="ANTLR_097",k.TYPE_PLUCK_INTO_REFERENCE_TYPE_DYNAMIC="ANTLR_098",k.TYPE_PLUCK_INTO_REFERENCE_AMBIGUOUS="ANTLR_099",k.TYPE_RUNTIME_ASSIGNMENT_TO_NON_VAR="ANTLR_100",k.TYPE_ARR_MAKE_MISSING_TARGET="ANTLR_101",k.TYPE_ARR_MAKE_UNEXPECTED_TYPE="ANTLR_102",k.TYPE_ARR_MAKE_MISSING_ARR_KEY_PAIR_VALUE="ANTLR_103",k.TYPE_ARR_KEY_PAIR_INVALID_KEY_TYPE="ANTLR_104",k.TYPE_ARR_UNEXPECT_ARG_SEPARATOR="ANTLR_105",k.TYPE_ARR_KEY_PAIR_MISSING_KEY="ANTLR_106",k.RUNTIME_PROTECTED_VAR_ACCESS="ANTLR_107",k.RUNTIME_PROTECTED_TAG_ACCESS="ANTLR_108",k.RUNTIME_PROTECTED_MODIFIER_ACCESS="ANTLR_109",k.TYPE_INCOMPLETE_PHP_EVALUATION_REGION="ANTLR_110",k.RUNTIME_PHP_NODE_WHEN_PHP_DISABLED="ANTLR_111",k.RUNTIME_PHP_NODE_USER_CONTENT_TAG="ANTLR_112",k.TYPE_UNEXPECTED_TYPE_FOR_TUPLE_LIST="ANTLR_113",k.TYPE_UNEXPECTED_EOI_PARSING_TUPLE_LIST="ANTLR_114",k.TYPE_MISSING_BODY_TUPLE_LIST="ANTLR_115",k.TYPE_MISSING_NAMES_TUPLE_LIST="ANTLR_116",k.TYPE_VALUE_NAME_LENGTH_MISMATCH_TUPLE_LIST="ANTLR_117",k.TYPE_INVALID_TUPLE_LIST_NAME_TYPE="ANTLR_118",k.TYPE_INVALID_MANIFESTED_NAME_GROUP="ANTLR_119",k.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE_GROUP="ANTLR_120",k.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE="ANTLR_121",k.TYPE_RUNTIME_BAD_METHOD_CALL="ANTLR_122",k.TYPE_METHOD_CALL_MISSING_ARG_GROUP="ANTLR_123",k.TYPE_INVALID_METHOD_CALL_ARG_GROUP="ANTLR_124",k.TYPE_METHOD_CALL_MISSING_METHOD="ANTLR_125",k.TYPE_MODIFIER_NOT_FOUND="ANTLR_126",k.TYPE_RUNTIME_GENERAL_FAULT="ANTLR_127",k.TYPE_MODIFIER_INCORRECT_VALUE_POSITION="ANTLR_128",k.TYPE_MODIFIER_UNEXPECTED_TOKEN_METHOD_SYNTAX="ANTLR_129",k.TYPE_RUNTIME_ATTEMPTING_TO_RENDER_OBJECT_AS_STRING="ANTLR_130",k.TYPE_UNPAIRED_CLOSING_TAG="ANTLR_131",k.PARSER_CANNOT_PARSE_PATH_RECURSIVE="ANTLR_200",k.PATH_STRING_NOT_INSIDE_ARRAY_ACCESSOR="ANTLR_201",k.LINT_UNKNOWN_PARAMETER="ANTLR_500",k.LINT_GENERAL_INVALID_PARAMETER_CONTENTS="ANTLR_501",k.LINT_PARAMETER_CONTENT_INVALID_INTEGER="ANTLR_502",k.LINT_PARAMETER_CONTENT_INVALID_BOOLEAN="ANT LR_503",k.LINT_PAGINATE_INVALID_VALUE="ANTLR_504",k.LINT_DEBUG_DATA_EXPOSED="ANTLR_505",k.LINT_DOUBLE_COLON_IN_TAG_IDENTIFIER="ANTLR_506",k.LINT_MIXED_MODIFIERS="ANTLR_507",k.LINT_MODIFIER_UNEXPECTED_TYPE="ANTLR_508",k.LINT_REMOVE_RELATE_TAG="ANTLR_509",k.LINT_SET_PRODUCES_RUNTIME_ERROR="ANTLR_510",k.LINT_FRONT_MATTER_EMPTY_DOCUMENT="ANTLR_511",k.LINT_SHORTHAND_MODIFIER_TAG_MUST_MATCH="ANTLR_512",k.LINT_INVALID_FRONT_MATTER="ANTLR_513",k.LINT_DUPLICATE_CODE="ANTLR_514",k.LINT_VERSION_NOT_COMPATIBLE="ANTLR_515",k.LINT_INTERLEAVED_TAG_PAIRS="ANTLR_516",k.LINT_MISSING_REQUIRED_PARAMETER="ANTLR_517",k.LINT_POSSIBLE_PARTIAL_RECURSION="ANTLR_518",k.LINT_URL_VARIABLE_WITHOUT_SANITIZE="ANTLR_519"});var vt,Su=x(()=>{nt();Sn();vt=class{static distance(e,n){return e.endPosition==null||n.startPosition==null?this.DistMax:n.startPosition.index-e.endPosition.index}static getTrueName(e){var n,r,i,s;return e.originalNode!=null?(r=(n=e.originalNode.name)==null?void 0:n.name)!=null?r:"":(s=(i=e.name)==null?void 0:i.name)!=null?s:""}static getSimpleVarName(e){return e.variableReference!=null&&e.variableReference.pathParts.length==1&&e.variableReference.pathParts[0]instanceof gr?e.variableReference.pathParts[0].name:""}static isVariableMatching(e,n){return e instanceof Se?e.name==n:!1}static mergeVarContentLeft(e,n,r){return r.mergeRefName=r.name,r.endPosition=n.endPosition,r.name=r.name+e,r}static mergeVarContentRight(e,n,r){return r.mergeRefName=r.name,r.startPosition=n.startPosition,r.name=e+r.name,r}static mergeVarRight(e,n){return n.mergeRefName=n.name,n.startPosition=e.startPosition,n.name=e.name+n.name,n}static getUnrefName(e){return te.trimLeft(e,":.")}};vt.DistMax=65e3});var Fr,Tr,Ta=x(()=>{ni();ri();nt();Su();Fr=class{static isConditionalStructure(e){var r,i;if(e.isComment)return!1;let n=(i=(r=e.name)==null?void 0:r.name)!=null?i:"";return n=="if"||n=="elseif"||n=="else"}static requiresClose(e){var r,i;let n=(i=(r=e.name)==null?void 0:r.name)!=null?i:"";return n=="elseif"||n=="else"?e.isClosedBy==null:!(e.isClosingTag||e.isClosedBy!=null)}static getValidClosingPairs(e){return e=="if"||e=="elseif"?Fr.conditionClosingPairs:[]}static findClosestStructurePair(e,n,r){var d,h,g,N,y,T,C,D;let i=[],s=e.length,a=new Map,l=null;i.push({node:n,index:r});for(let _=0;_<s;_+=1){let A=e[_];if(A instanceof Z){let b=(h=(d=A.name)==null?void 0:d.name)!=null?h:"";if(A.isClosingTag&&b=="if"){a.set(_,_);continue}else if(b=="elseif"||b=="else"){a.set(_,_);continue}}}let u=a.size;for(;i.length>0;){let _=i.pop();if(_==null)continue;if(_.node._conditionParserAbandonPairing)break;let A=_.node,b=Fr.getValidClosingPairs((N=(g=A.name)==null?void 0:g.name)!=null?N:""),S=_.index,w=!1;if(u>50&&l!=null){for(let[J,Y]of a)if(J>S){S=J;break}}for(let J=S;J<s;J++){let Y=e[J];if(Y instanceof Z&&Fr.isConditionalStructure(Y)){if(Fr.requiresClose(Y)){i.push(_),i.push({node:Y,index:J+1}),w=!0;break}if(A.isClosedBy!=null)continue;let oe=(T=(y=Y.name)==null?void 0:y.name)!=null?T:"",he=!1;if(Y.ref==0&&(Y.isClosingTag&&oe=="if"||b.includes(oe))&&(he=!0),Y.refId==A.refId&&(he=!1),he){l=J,a.delete(J),A.isClosedBy=Y,Y.isOpenedBy=A,Y.ref+=1,w=!0;break}}}if(!w&&A instanceof Z){let J=(D=(C=A.name)==null?void 0:C.name)!=null?D:"";if((J=="elseif"||J=="else")&&A.isOpenedBy==null){let Y='Unpaired "'+vt.getTrueName(A)+'" control structure.';A.isInterpolationNode&&(Y+=" Tag pairs are not supported within Antlers tags."),A.pushError(Q.makeSyntaxError(k.TYPE_PARSE_UNPAIRED_CONDITIONAL,A,Y)),A._conditionParserAbandonPairing=!0}if(A.isClosedBy==null&&Fr.requiresClose(A)){let Y='Unclosed "'+vt.getTrueName(A)+'" control structure.';A.isInterpolationNode&&(Y+=" Tag pairs are not supported within Antlers tags."),A.pushError(Q.makeSyntaxError(k.TYPE_PARSE_UNCLOSED_CONDITIONAL,A,Y)),A._conditionParserAbandonPairing=!0}}}}static pairConditionals(e){for(let n=0;n<e.length;n+=1){let r=e[n];r instanceof Z&&Fr.isConditionalStructure(r)&&Fr.requiresClose(r)&&Fr.findClosestStructurePair(e,r,n+1)}return e.forEach(n=>{var r,i;if(n instanceof Z&&Fr.isConditionalStructure(n)){let s=(i=(r=n.name)==null?void 0:r.name)!=null?i:"";if((s=="elseif"||s=="else")&&n.isOpenedBy==null){n.pushError(Q.makeSyntaxError(k.TYPE_PARSE_UNPAIRED_CONDITIONAL,n,'Unpaired "'+vt.getTrueName(n)+'" control structure.'));return}if(n.isClosedBy==null&&Fr.requiresClose(n)){n.pushError(Q.makeSyntaxError(k.TYPE_PARSE_UNCLOSED_CONDITIONAL,n,"Unclosed "+vt.getTrueName(n)+" control structure."));return}}}),e}},Tr=Fr;Tr.conditionClosingPairs=["elseif","else"]});function is(t,e){return e==null&&(e="s"),t.replace(new RegExp("^["+e+"]+"),"")}function Vr(t,e,n){return t.replace(new RegExp(e,"g"),n)}function Gp(t,e){return e==null&&(e="s"),t.replace(new RegExp("["+e+"]+$"),"")}var ii=x(()=>{});function _a(){return(Date.now().toString(32)+Math.random().toString(16)).replace(/\./g,"")}var xu=x(()=>{});function qb(){return Vr(_a(),"-","_")}function VL(t){let e=[],n=[];for(let r=0;r<t.length;r++){let i=t[r],s=i.refId;if(n.includes(s))break;e.push(i),n.push(s)}return e}var Ru,Wp,ce,Hp,Fn,Z,_r,St,Br,ya,$l,Yp,vn,zl,Ql,Na,Xl,Kp,si,qr,oi,yr,Nr,Fi,Ds,Vi,br,Vn,ai,li,vr,ci,ui,Bi,nr,Ur,ss,fi,di,pi,hi,mi,gi,os,Ti,In,Po,Ht,Bn,Jl,qn,_i,jr,Pn,yi,qi,Gr,Un,Ui,un,hn,ba,Je,va,Ao,$p,as,Zl,Xt,en,Wr,ls,Ia,Ni,zp,Ms,xt,mn,xn,fn,ku,ec,tn,Yt,Se,Qp,gr,Fs,Xp,nt=x(()=>{Yl();ub();wb();Lb();Sn();Fb();Ta();ii();xu();Ru=class{constructor(){this.startPosition=null;this.endPosition=null;this.index=0;this.embeddedIndex=0;this.refId=null;this.parameters=[];this.isSelfClosing=!1;this.isClosingFragment=!1;this.name="";this.containsStructures=!1;this.refId=qb()}},Wp=class{constructor(){this.startPosition=null;this.endPosition=null}};ce=class{constructor(){this.refId=null;this.index=0;this.parent=null;this.content="";this.rawLexContent="";this.sourceContent="";this.startPosition=null;this.endPosition=null;this.modifierChain=null;this.originalAbstractNode=null;this.positionContexts=[];this.addedContexts=new Map;this.fragment=null;this.fragmentPosition=3;this.containsAnyFragments=!1;this.containsChildStructures=!1;this.isInScriptTag=!1;this.isInStyleTag=!1;this.isVirtual=!0;this.isPartOfMethodChain=!1;this.isVirtualGroupMember=!1;this.isVirtualGroupOperatorResolve=!1;this.isSwitchGroupMember=!1;this.isListGroupMember=!1;this.producesVirtualStatementTerminator=!1;this.convertedToOperator=!1;this.scopeVariable=null;this.currentScope=null;this.manifestType="";this.scopeName=null;this.sourceType="";this.runtimeType=null;this.modifiers=new Bp(this);this.prev=null;this.next=null;this.methodTarget=null;this.libraryTarget=null;this.antlersErrors=[];this.parser=null;this.refId=qb()}isEmbedded(){return this.isInScriptTag||this.isInStyleTag}getContexts(){return this.positionContexts}addContext(e){this.addedContexts.has(e.refId)==!1&&(this.addedContexts.set(e.refId,!0),this.positionContexts.push(e))}getRange(){if(this.originalAbstractNode!=null)return this.originalAbstractNode.getRange();if(this.startPosition==null||this.endPosition==null)return Kl.Empty;let e=new Kl;return e.start=this.startPosition,e.end=this.endPosition,e}withParser(e){this.parser=e}getParser(){return this.parser}pushError(e){this.parent!=null&&this.parent.pushError(e),this.antlersErrors.push(e),this.parent==null&&this.parser!=null&&this.parser.pushError(e)}mergeErrors(e){e.forEach(n=>{n.node==null&&(n.node=this),this.antlersErrors.push(n)})}getErrors(){return this.antlersErrors}innerContent(){return this.content}rawContent(){return this.content}},Hp=class extends ce{constructor(){super(...arguments);this.head=null;this.tail=null;this.nodes=[];this.documentText="";this.childDocument=null}getImmediateChildren(){return this.head==null?[]:this.head.getImmediateChildren()}},Fn=class extends ce{constructor(){super(...arguments);this.logicBranches=[];this.chain=[];this.nodeContent="";this.fragment=null;this.fragmentPosition=3;this.containsAnyFragments=!1;this.containsChildStructures=!1}},Z=class extends ce{constructor(){super(...arguments);this.isNodeAbanonded=!1;this.isComment=!1;this.isTagNode=!1;this.isConditionNode=!1;this.runtimeContent="";this.name=null;this.pathReference=null;this.isClosingTag=!1;this.isInterpolationNode=!1;this.isOpenedBy=null;this.isClosedBy=null;this.isSelfClosing=!1;this.children=[];this.runtimeNodes=[];this.parsedRuntimeNodes=[];this.hasParsedRuntimeNodes=!1;this.parameters=[];this.hasParameters=!1;this.contentOffset=null;this.cachedContent=null;this.cachedInnerContent=null;this.hasRecursiveNode=!1;this.recursiveReference=null;this.rawStart="";this.rawEnd="";this.originalNode=null;this.interpolationRegions=new Map;this.processedInterpolationRegions=new Map;this.hasProcessedInterpolationRegions=!1;this.ref=0;this.contentStartRelativeIndex=null;this.antlersNodeIndex=0;this.nameStartsOn=null;this.nameEndsOn=null;this.nameMethodPartStartsOn=null;this.documentText="";this.nodeContent="";this.childDocument=null;this.structure=new Up(this);this.isInlineAntlers=!1;this.mustClose=!1;this.reference=null;this._conditionParserAbandonPairing=!1;this._isEndVirtual=!1}getOriginalContent(){return this.startPosition==null||this.endPosition==null||this.parser==null?"":this.isClosedBy!=null?this.isClosedBy.startPosition==null||this.isClosedBy.endPosition==null?"":this.parser.getText(this.startPosition.index,this.isClosedBy.endPosition.index+1):this.parser.getText(this.startPosition.index,this.endPosition.index+1)}getNodeDocumentText(){return this.startPosition==null||this.endPosition==null||this.parser==null?"":this.parser.getText(this.startPosition.index,this.endPosition.index+1)}getImmediateChildren(){let e=[];for(let n=0;n<this.children.length;n++){let r=this.children[n];if(r.parent==this){if(r==this.isClosedBy)break;e.push(r)}}return VL(e)}getChildren(){if(this.isClosedBy==null)return[];let e=[];for(let n=0;n<this.children.length;n++){let r=this.children[n];if(r instanceof Z&&r.refId==this.isClosedBy.refId)break;e.push(r)}return e}getInnerDocumentText(){if(this.startPosition==null||this.endPosition==null||this.parser==null)return"";if(this.isClosedBy==null)return this.getNodeDocumentText();let e=this.isClosedBy.startPosition;return e==null?"":this.parser.getText(this.endPosition.index+1,e.index)}nodeAtIndex(e){if(this.runtimeNodes.length==0)return null;for(let n=0;n<this.runtimeNodes.length;n++)if(this.runtimeNodes[n].index==e)return this.runtimeNodes[n];return null}getDepthCount(){if(this.parent==null)return 1;let e=this.parent,n=1;for(;e!=null;){if(n+=1,e.parent===e){e=null;break}e=e.parent}return n}isEmpty(){return this.content.trim().length==0}nameMatches(e){return this.name==null?!1:this.name.content==e}copyBasicDetails(){return this.copyBasicDetailsTo(new Z)}copyBasicDetailsTo(e){return e.refId=this.refId,e.isComment=this.isComment,e.isTagNode=this.isTagNode,e.children=this.children,e.parent=this.parent,e.parameters=this.parameters,e.isClosingTag=this.isClosingTag,e.rawStart=this.rawStart,e.rawEnd=this.rawEnd,e.startPosition=this.startPosition,e.endPosition=this.endPosition,e.originalAbstractNode=this,e.containsAnyFragments=this.containsAnyFragments,e.containsChildStructures=this.containsChildStructures,e.isInScriptTag=this.isInScriptTag,e.isInStyleTag=this.isInStyleTag,e}id(){return this.refId}innerContent(){return this.cachedInnerContent==null&&(this.cachedInnerContent=this.content.replace('"','\\"')),this.cachedInnerContent}resetContentCache(){this.cachedContent=null,this.cachedInnerContent=null}hasMethodPart(){return this.name==null?!1:this.name.getMethodName()!=null}runtimeName(){return this.name==null?"":this.name.getCompoundTagName()}getTagName(){return this.name==null?"":this.name.name}getNameContent(){return this.name==null?"":this.name.content}getMethodNameValue(){if(this.name==null)return"";let e=this.name.getMethodName();return e!=null?e:""}methodIsEmptyOrMatches(e){return this.getMethodNameValue()==e}hasParameter(e){return this.findParameter(e)!=null}hasParameterWithValue(e,n){let r=this.findParameter(e);return r==null?!1:r.value==n}findParameterValue(e,n){let r=this.findParameter(e);return r==null?n:r.value}findParameterValueOrNull(e){let n=this.findParameter(e);return n==null?null:n.value}findParameter(e){if(this.parameters.length==0)return null;for(let n=0;n<this.parameters.length;n++)if(this.parameters[n].name==e)return this.parameters[n];return null}findAnyParameter(e){for(let n=0;n<e.length;n++){let r=this.findParameter(e[n]);if(r!=null)return r}return null}getContentRelativeStartIndex(){if(this.contentStartRelativeIndex==null){let e=this.content.split("");for(let n=0;n<e.length;n++)if(!te.ctypeSpace(e[n])){this.contentStartRelativeIndex=n;break}this.contentStartRelativeIndex==null&&(this.contentStartRelativeIndex=e.length),this.contentStartRelativeIndex+=this.rawStart.length}return this.contentStartRelativeIndex}getContentAfterName(){let e=0;return this.nameEndsOn!=null&&(e=this.nameEndsOn.char-this.rawStart.length-1),this.content.substring(e)}getContent(){if(this.cachedContent==null)if(this.isComment)this.cachedContent=this.content,this.contentOffset=this.startPosition;else if(this.isTagNode){let e=this.content;e=te.trimLeft(e);let n=0;if(this.name!=null&&(n=this.name.compound.length),this.parameters.length>0){let a=0,l=this.parameters[0];l.startPosition!=null&&(a=l.startPosition.index-1);let u=e,d=u.trimLeft(),h=u.length-d.length,g=n;e=e.substr(0,a)}let r=e.trimLeft(),i=e.length-r.length,s=n+i+2;if(this.parser!=null){let a=0;this.startPosition!=null&&(a=this.startPosition.offset),this.contentOffset==this.parser.positionFromOffset(a+s,0)}this.name!=null?this.name.name=="if"||this.name.name=="elseif"||this.name.name=="unless"||this.name.name=="elseunless"?(e=" "+e.trimLeft(),this.cachedContent=e.substr(this.name.compound.length+1)):this.cachedContent=e:this.cachedContent=e}else if(this.parameters.length>0){let e=this.parameters[0],n=0;e.startPosition!=null&&(n=e.startPosition.index-1),this.contentOffset=this.startPosition,this.cachedContent=this.content.substr(0,n)}else this.contentOffset=this.startPosition,this.cachedContent=this.content;return this.cachedContent}relativePositionFromOffset(e,n){var r,i;return this.parser==null?null:this.parser.positionFromOffset(((i=(r=this.contentOffset)==null?void 0:r.offset)!=null?i:0)+e,n)}getInterpolationNode(e){if(this.processedInterpolationRegions.has(e)){let n=this.processedInterpolationRegions.get(e);if(n.length>0&&n[0]instanceof Z)return n[0]}return null}_lexerRelativeOffset(e,n=null){var a,l;let r=e;if(n!=null&&(r=n),this.parser==null){let u=new tr;return u.index=e,u.offset=e,u}let i=e+this.rawStart.length+((l=(a=this.startPosition)==null?void 0:a.index)!=null?l:0);return this.isTagNode&&this.nameStartsOn!=null&&(i=this.nameStartsOn.index+e,Tr.isConditionalStructure(this)||(i-=this.rawStart.length)),this.parser.positionFromOffset(i,i,!0)}relativeOffset(e,n=null){var a,l;let r=e;if(n!=null&&(r=n),this.parser==null){let u=new tr;return u.index=e,u.offset=e,u}let i=e+this.rawStart.length+((l=(a=this.startPosition)==null?void 0:a.index)!=null?l:0);return this.parser.positionFromOffset(i,i,!0)}isPaired(){return this.isClosingTag&&this.isSelfClosing==!1&&this.isOpenedBy!=null?!0:!(this.isClosedBy==null||this.isSelfClosing)}getFinalClosingTag(){return this.isClosedBy==null?this:this.isClosedBy.getFinalClosingTag()}rawContent(){return this.rawStart+this.content+this.rawEnd}getTrueRuntimeNodes(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueRuntimeNodes():this.runtimeNodes}getTrueRawContent(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueRawContent():this.rawContent()}getTrueNode(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueNode():this}getStructuralChildren(){return this.isClosedBy!=null?qp(this.children.slice(0,-1)):qp(this.children)}findParentOfType(e){return this.parent==null?null:this.parent instanceof Z?this.parent.name!=null&&e.includes(this.parent.getTagName())?this.parent:this.parent.findParentOfType(e):null}},_r=class extends Z{static makeWithStartPosition(e){let n=new _r;return n.startPosition=e,n.endPosition=e,n}},St=class extends _r{},Br=class extends Z{constructor(){super(...arguments);this.recursiveParent=null;this.isNestedRecursive=!1}},ya=class extends Z{constructor(){super(...arguments);this.isEchoNode=!1}},$l=class extends _r{},Yp=class extends _r{},vn=class extends Z{constructor(){super(...arguments);this.isNoParseRegion=!1}},zl=class extends ce{constructor(){super(...arguments);this.modifier=null;this.isModifierParameter=!1;this.nameDelimiter='"';this.isVariableReference=!1;this.name="";this.value="";this.interpolations=[];this.parent=null;this.blockPosition=null;this.namePosition=null;this.valuePosition=null}containsSimpleValue(){return this.hasInterpolations()==!1&&this.isVariableReference==!1}hasInterpolations(){return this.interpolations.length>0}getArrayValue(){return this.value.split("|")}getValue(){return this.value}},Ql=class{constructor(){this.modifierTarget=null;this.modifierChain=[];this.startPosition=null;this.endPosition=null;this.lastManifestedModifier=null;this.lastModifier=null}updateValues(){if(this.modifierChain.length==0)this.startPosition=null,this.endPosition=null;else{let e=this.modifierChain[0],n=this.modifierChain[this.modifierChain.length-1];this.startPosition=e.startPosition,this.endPosition=n.endPosition}}},Na=class extends ce{constructor(){super(...arguments);this.modifier=null;this.methodStyleArguments=null;this.nameNode=null;this.name="";this.valueNodes=[];this.parameters=[]}getParameterValues(){let e=[];return this.parameters.forEach(n=>{e.push(n.value)}),e}},Xl=class extends ce{constructor(){super(...arguments);this.order=0;this.name=null;this.directionNode=null}},Kp=class extends ce{constructor(){super(...arguments);this.value=""}},si=class extends ce{},qr=class extends ce{},oi=class extends ce{},yr=class extends ce{},Nr=class extends ce{},Fi=class extends ce{},Ds=class extends ce{constructor(){super(...arguments);this.repeat=1}},Vi=class extends ce{},br=class extends ce{},Vn=class extends ce{},ai=class extends ce{},li=class extends ce{},vr=class extends ce{},ci=class extends ce{},ui=class extends ce{},Bi=class extends ce{},nr=class extends ce{},Ur=class extends ce{},ss=class extends ce{},fi=class extends ce{},di=class extends ce{},pi=class extends ce{},hi=class extends ce{},mi=class extends ce{},gi=class extends ce{},os=class extends ce{},Ti=class extends ce{},In=class extends ce{},Po=class extends ce{constructor(){super(...arguments);this.orderClauses=[]}},Ht=class extends ce{},Bn=class extends ce{},Jl=class extends ce{constructor(){super(...arguments);this.left=null;this.right=null}},qn=class extends ce{constructor(){super(...arguments);this.isTenaryBranchSeparator=!1}},_i=class extends ce{},jr=class extends ce{},Pn=class extends ce{},yi=class extends ce{},qi=class extends ce{},Gr=class extends ce{},Un=class extends ce{},Ui=class extends ce{},un=class extends ce{},hn=class extends ce{},ba=class extends ce{constructor(){super(...arguments);this.values=[];this.isNamedNode=!1;this.parsedName=null}},Je=class extends ce{constructor(){super(...arguments);this.start=null;this.end=null;this.nodes=[];this.scopeOperator=null}},va=class extends ce{constructor(){super(...arguments);this.condition=null;this.expression=null}},Ao=class extends ce{constructor(){super(...arguments);this.cases=[]}},$p=class extends ce{constructor(){super(...arguments);this.left=null;this.right=null}},as=class extends ce{constructor(){super(...arguments);this.nodes=[]}},Zl=class extends ce{constructor(){super(...arguments);this.head=null;this.truthBranch=null;this.falseBranch=null}},Xt=class extends ce{},en=class extends ce{constructor(){super(...arguments);this.nodes=[];this.separatorToken=null}},Wr=class extends Je{constructor(){super(...arguments);this.scope=null}extract(){let e=null;this.scope!=null&&(e=this.scope.name);let n=this.nodes[0];return[e,n.nodes]}},ls=class extends Wr{constructor(){super(...arguments);this.alias=null}},Ia=class extends ce{constructor(){super(...arguments);this.args=[];this.hasNamedArguments=!1;this.numberOfNamedArguments=0}},Ni=class extends ce{},zp=class extends ce{},Ms=class extends ce{constructor(){super(...arguments);this.libraryName="";this.methodName="";this.arguments=null}},xt=class extends ce{constructor(){super(...arguments);this.sourceContent=""}},mn=class extends ce{constructor(){super(...arguments);this.method=null;this.args=null}},xn=class extends ce{constructor(){super(...arguments);this.name=""}},fn=class extends ce{constructor(){super(...arguments);this.value="";this.name=""}},ku=class extends ce{constructor(){super(...arguments);this.name=null;this.value=null}},ec=class extends ce{constructor(){super(...arguments);this.name=null;this.value=null}},tn=class extends ce{constructor(){super(...arguments);this.value=null}},Yt=class extends ce{constructor(){super(...arguments);this.value="";this.sourceTerminator="";this.sourceContent=""}},Se=class extends ce{constructor(){super(...arguments);this.name="";this.mergeRefName="";this.variableReference=null;this.interpolationNodes=[];this.isInterpolationReference=!1}},Qp=class extends ce{constructor(){super(...arguments);this.name=""}},gr=class extends ce{constructor(){super(...arguments);this.delimiter="";this.name="";this.isStringVar=!1;this.isFinal=!1}},Fs=class{constructor(){this.originalContent="";this.normalizedReference="";this.isStrictTagReference=!1;this.isStrictVariableReference=!1;this.isExplicitVariableReference=!1;this.isVariableVariable=!1;this.pathParts=[];this.isFinal=!1;this._isFromEmptyFailState=!1}clone(){let e=new Fs;return e.originalContent=this.originalContent,e.normalizedReference=this.normalizedReference,e.isStrictVariableReference=this.isStrictVariableReference,e.isExplicitVariableReference=this.isExplicitVariableReference,e.pathParts=this.pathParts,e.isFinal=this.isFinal,e}implodePaths(){let e=[];return this.pathParts.forEach(n=>{n instanceof gr?e.push(n.name):n instanceof Fs&&e.push(n.implodePaths())}),e.join(".")}},Xp=class{constructor(e,n,r){this.target=e,this.value=n,this.operator=r}}});var Ou=_e(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});nn.thenable=nn.typedArray=nn.stringArray=nn.array=nn.func=nn.error=nn.number=nn.string=nn.boolean=void 0;function BL(t){return t===!0||t===!1}nn.boolean=BL;function Ub(t){return typeof t=="string"||t instanceof String}nn.string=Ub;function qL(t){return typeof t=="number"||t instanceof Number}nn.number=qL;function UL(t){return t instanceof Error}nn.error=UL;function jb(t){return typeof t=="function"}nn.func=jb;function Gb(t){return Array.isArray(t)}nn.array=Gb;function jL(t){return Gb(t)&&t.every(e=>Ub(e))}nn.stringArray=jL;function GL(t,e){return Array.isArray(t)&&t.every(e)}nn.typedArray=GL;function WL(t){return t&&jb(t.then)}nn.thenable=WL});var cs=_e(eh=>{"use strict";Object.defineProperty(eh,"__esModule",{value:!0});var Jp;function Zp(){if(Jp===void 0)throw new Error("No runtime abstraction layer installed");return Jp}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");Jp=n}t.install=e})(Zp||(Zp={}));eh.default=Zp});var th=_e(tc=>{"use strict";Object.defineProperty(tc,"__esModule",{value:!0});tc.Disposable=void 0;var HL;(function(t){function e(n){return{dispose:n}}t.create=e})(HL=tc.Disposable||(tc.Disposable={}))});var Hb=_e(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.AbstractMessageBuffer=void 0;var YL=13,KL=10,$L=`\r
`,Wb=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let e=0,n=0,r=0,i=0;e:for(;n<this._chunks.length;){let u=this._chunks[n];r=0;t:for(;r<u.length;){switch(u[r]){case YL:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case KL:switch(e){case 1:e=2;break;case 3:e=4,r++;break e;default:e=0}break;default:e=0}r++}i+=u.byteLength,n++}if(e!==4)return;let s=this._read(i+r),a=new Map,l=this.toString(s,"ascii").split($L);if(l.length<2)return a;for(let u=0;u<l.length-2;u++){let d=l[u],h=d.indexOf(":");if(h===-1)throw new Error("Message header must separate key and value using :");let g=d.substr(0,h),N=d.substr(h+1).trim();a.set(g,N)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],a=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,a}let n=this.allocNative(e),r=0,i=0;for(;e>0;){let s=this._chunks[i];if(s.byteLength>e){let a=s.slice(0,e);n.set(a,r),r+=e,this._chunks[i]=s.slice(e),this._totalLength-=e,e-=e}else n.set(s,r),r+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return n}};wu.AbstractMessageBuffer=Wb});var Qb=_e(rh=>{"use strict";Object.defineProperty(rh,"__esModule",{value:!0});var zL=cs(),Yb=require("util"),Co=th(),QL=Hb(),nc=class extends QL.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return nc.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new Yb.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};nc.emptyBuffer=Buffer.allocUnsafe(0);var Kb=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Co.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Co.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Co.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),Co.Disposable.create(()=>this.stream.off("data",e))}},$b=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Co.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Co.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Co.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((r,i)=>{let s=a=>{a==null?r():i(a)};typeof e=="string"?this.stream.write(e,n,s):this.stream.write(e,s)})}end(){this.stream.end()}},zb=Object.freeze({messageBuffer:Object.freeze({create:t=>new nc(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new Yb.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new Kb(t),asWritableStream:t=>new $b(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){return setTimeout(t,e,...n)},clearTimeout(t){clearTimeout(t)},setImmediate(t,...e){return setImmediate(t,...e)},clearImmediate(t){clearImmediate(t)}})});function nh(){return zb}(function(t){function e(){zL.default.install(zb)}t.install=e})(nh||(nh={}));rh.default=nh});var Pa=_e(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});Rn.stringArray=Rn.array=Rn.func=Rn.error=Rn.number=Rn.string=Rn.boolean=void 0;function XL(t){return t===!0||t===!1}Rn.boolean=XL;function Xb(t){return typeof t=="string"||t instanceof String}Rn.string=Xb;function JL(t){return typeof t=="number"||t instanceof Number}Rn.number=JL;function ZL(t){return t instanceof Error}Rn.error=ZL;function e1(t){return typeof t=="function"}Rn.func=e1;function Jb(t){return Array.isArray(t)}Rn.array=Jb;function t1(t){return Jb(t)&&t.every(e=>Xb(e))}Rn.stringArray=t1});var ih=_e(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.isResponseMessage=ve.isNotificationMessage=ve.isRequestMessage=ve.NotificationType9=ve.NotificationType8=ve.NotificationType7=ve.NotificationType6=ve.NotificationType5=ve.NotificationType4=ve.NotificationType3=ve.NotificationType2=ve.NotificationType1=ve.NotificationType0=ve.NotificationType=ve.RequestType9=ve.RequestType8=ve.RequestType7=ve.RequestType6=ve.RequestType5=ve.RequestType4=ve.RequestType3=ve.RequestType2=ve.RequestType1=ve.RequestType=ve.RequestType0=ve.AbstractMessageSignature=ve.ParameterStructures=ve.ResponseError=ve.ErrorCodes=void 0;var Eo=Pa(),Zb;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=t.jsonrpcReservedErrorRangeStart,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=t.jsonrpcReservedErrorRangeEnd})(Zb=ve.ErrorCodes||(ve.ErrorCodes={}));var Lu=class extends Error{constructor(e,n,r){super(n);this.code=Eo.number(e)?e:Zb.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,Lu.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};ve.ResponseError=Lu;var An=class{constructor(e){this.kind=e}static is(e){return e===An.auto||e===An.byName||e===An.byPosition}toString(){return this.kind}};ve.ParameterStructures=An;An.auto=new An("auto");An.byPosition=new An("byPosition");An.byName=new An("byName");var Lt=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return An.auto}};ve.AbstractMessageSignature=Lt;var ev=class extends Lt{constructor(e){super(e,0)}};ve.RequestType0=ev;var tv=class extends Lt{constructor(e,n=An.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ve.RequestType=tv;var nv=class extends Lt{constructor(e,n=An.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ve.RequestType1=nv;var rv=class extends Lt{constructor(e){super(e,2)}};ve.RequestType2=rv;var iv=class extends Lt{constructor(e){super(e,3)}};ve.RequestType3=iv;var sv=class extends Lt{constructor(e){super(e,4)}};ve.RequestType4=sv;var ov=class extends Lt{constructor(e){super(e,5)}};ve.RequestType5=ov;var av=class extends Lt{constructor(e){super(e,6)}};ve.RequestType6=av;var lv=class extends Lt{constructor(e){super(e,7)}};ve.RequestType7=lv;var cv=class extends Lt{constructor(e){super(e,8)}};ve.RequestType8=cv;var uv=class extends Lt{constructor(e){super(e,9)}};ve.RequestType9=uv;var fv=class extends Lt{constructor(e,n=An.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ve.NotificationType=fv;var dv=class extends Lt{constructor(e){super(e,0)}};ve.NotificationType0=dv;var pv=class extends Lt{constructor(e,n=An.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ve.NotificationType1=pv;var hv=class extends Lt{constructor(e){super(e,2)}};ve.NotificationType2=hv;var mv=class extends Lt{constructor(e){super(e,3)}};ve.NotificationType3=mv;var gv=class extends Lt{constructor(e){super(e,4)}};ve.NotificationType4=gv;var Tv=class extends Lt{constructor(e){super(e,5)}};ve.NotificationType5=Tv;var _v=class extends Lt{constructor(e){super(e,6)}};ve.NotificationType6=_v;var yv=class extends Lt{constructor(e){super(e,7)}};ve.NotificationType7=yv;var Nv=class extends Lt{constructor(e){super(e,8)}};ve.NotificationType8=Nv;var bv=class extends Lt{constructor(e){super(e,9)}};ve.NotificationType9=bv;function n1(t){let e=t;return e&&Eo.string(e.method)&&(Eo.string(e.id)||Eo.number(e.id))}ve.isRequestMessage=n1;function r1(t){let e=t;return e&&Eo.string(e.method)&&t.id===void 0}ve.isNotificationMessage=r1;function i1(t){let e=t;return e&&(e.result!==void 0||!!e.error)&&(Eo.string(e.id)||Eo.number(e.id)||e.id===null)}ve.isResponseMessage=i1});var Aa=_e(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});So.Emitter=So.Event=void 0;var s1=cs(),o1;(function(t){let e={dispose(){}};t.None=function(){return e}})(o1=So.Event||(So.Event={}));var vv=class{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===e)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,a=r.length;s<a;s++)try{n.push(r[s].apply(i[s],e))}catch(l){s1.default().console.error(l)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},rc=class{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new vv),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let i={dispose:()=>{!this._callbacks||(this._callbacks.remove(e,n),i.dispose=rc._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};So.Emitter=rc;rc._noop=function(){}});var lh=_e(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});xo.CancellationTokenSource=xo.CancellationToken=void 0;var Iv=cs(),a1=Pa(),sh=Aa(),oh;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:sh.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:sh.Event.None});function e(n){let r=n;return r&&(r===t.None||r===t.Cancelled||a1.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(oh=xo.CancellationToken||(xo.CancellationToken={}));var l1=Object.freeze(function(t,e){let n=Iv.default().timer.setTimeout(t.bind(e),0);return{dispose(){Iv.default().timer.clearTimeout(n)}}}),ah=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?l1:(this._emitter||(this._emitter=new sh.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},Pv=class{get token(){return this._token||(this._token=new ah),this._token}cancel(){this._token?this._token.cancel():this._token=oh.Cancelled}dispose(){this._token?this._token instanceof ah&&this._token.dispose():this._token=oh.None}};xo.CancellationTokenSource=Pv});var Cv=_e(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});us.ReadableStreamMessageReader=us.AbstractMessageReader=us.MessageReader=void 0;var Du=cs(),Ca=Pa(),ch=Aa(),c1;(function(t){function e(n){let r=n;return r&&Ca.func(r.listen)&&Ca.func(r.dispose)&&Ca.func(r.onError)&&Ca.func(r.onClose)&&Ca.func(r.onPartialMessage)}t.is=e})(c1=us.MessageReader||(us.MessageReader={}));var uh=class{constructor(){this.errorEmitter=new ch.Emitter,this.closeEmitter=new ch.Emitter,this.partialMessageEmitter=new ch.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${Ca.string(e.message)?e.message:"unknown"}`)}};us.AbstractMessageReader=uh;var fh;(function(t){function e(n){var r;let i,s,a,l=new Map,u,d=new Map;if(n===void 0||typeof n=="string")i=n??"utf-8";else{if(i=(r=n.charset)!==null&&r!==void 0?r:"utf-8",n.contentDecoder!==void 0&&(a=n.contentDecoder,l.set(a.name,a)),n.contentDecoders!==void 0)for(let h of n.contentDecoders)l.set(h.name,h);if(n.contentTypeDecoder!==void 0&&(u=n.contentTypeDecoder,d.set(u.name,u)),n.contentTypeDecoders!==void 0)for(let h of n.contentTypeDecoders)d.set(h.name,h)}return u===void 0&&(u=Du.default().applicationJson.decoder,d.set(u.name,u)),{charset:i,contentDecoder:a,contentDecoders:l,contentTypeDecoder:u,contentTypeDecoders:d}}t.fromOptions=e})(fh||(fh={}));var Av=class extends uh{constructor(e,n){super();this.readable=e,this.options=fh.fromOptions(n),this.buffer=Du.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let s=i.get("Content-Length");if(!s)throw new Error("Header must provide a Content-Length property.");let a=parseInt(s);if(isNaN(a))throw new Error("Content-Length value must be a number.");this.nextMessageLength=a}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let r;this.options.contentDecoder!==void 0?r=this.options.contentDecoder.decode(n):r=Promise.resolve(n),r.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(s=>{this.callback(s)},s=>{this.fireError(s)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(Du.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=Du.default().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};us.ReadableStreamMessageReader=Av});var Sv=_e(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.Semaphore=void 0;var u1=cs(),Ev=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||u1.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};Mu.Semaphore=Ev});var wv=_e(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});fs.WriteableStreamMessageWriter=fs.AbstractMessageWriter=fs.MessageWriter=void 0;var xv=cs(),ic=Pa(),f1=Sv(),Rv=Aa(),d1="Content-Length: ",kv=`\r
`,p1;(function(t){function e(n){let r=n;return r&&ic.func(r.dispose)&&ic.func(r.onClose)&&ic.func(r.onError)&&ic.func(r.write)}t.is=e})(p1=fs.MessageWriter||(fs.MessageWriter={}));var dh=class{constructor(){this.errorEmitter=new Rv.Emitter,this.closeEmitter=new Rv.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${ic.string(e.message)?e.message:"unknown"}`)}};fs.AbstractMessageWriter=dh;var ph;(function(t){function e(n){var r,i;return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:xv.default().applicationJson.encoder}:{charset:(r=n.charset)!==null&&r!==void 0?r:"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:(i=n.contentTypeEncoder)!==null&&i!==void 0?i:xv.default().applicationJson.encoder}}t.fromOptions=e})(ph||(ph={}));var Ov=class extends dh{constructor(e,n){super();this.writable=e,this.options=ph.fromOptions(n),this.errorCount=0,this.writeSemaphore=new f1.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(d1,r.byteLength.toString(),kv),i.push(kv),this.doWrite(e,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};fs.WriteableStreamMessageWriter=Ov});var Dv=_e(ds=>{"use strict";Object.defineProperty(ds,"__esModule",{value:!0});ds.LRUCache=ds.LinkedMap=ds.Touch=void 0;var jn;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(jn=ds.Touch||(ds.Touch={}));var hh=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,n=jn.None){let r=this._map.get(e);if(!!r)return n!==jn.None&&this.touch(r,n),r.value}set(e,n,r=jn.None){let i=this._map.get(e);if(i)i.value=n,r!==jn.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case jn.None:this.addItemLast(i);break;case jn.First:this.addItemFirst(i);break;case jn.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(!!n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let r=this._state,i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.key,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}values(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.value,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}entries(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:[r.key,r.value],done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==jn.First&&n!==jn.Last)){if(n===jn.First){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===jn.Last){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r)}};ds.LinkedMap=hh;var Lv=class extends hh{constructor(e,n=1){super();this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=jn.AsNew){return super.get(e,n)}peek(e){return super.get(e,jn.None)}set(e,n){return super.set(e,n,jn.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};ds.LRUCache=Lv});var Uv=_e(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.createMessageConnection=Fe.ConnectionOptions=Fe.CancellationStrategy=Fe.CancellationSenderStrategy=Fe.CancellationReceiverStrategy=Fe.ConnectionStrategy=Fe.ConnectionError=Fe.ConnectionErrors=Fe.LogTraceNotification=Fe.SetTraceNotification=Fe.TraceFormat=Fe.Trace=Fe.NullLogger=Fe.ProgressType=void 0;var Mv=cs(),gn=Pa(),we=ih(),Fv=Dv(),sc=Aa(),mh=lh(),oc;(function(t){t.type=new we.NotificationType("$/cancelRequest")})(oc||(oc={}));var Fu;(function(t){t.type=new we.NotificationType("$/progress")})(Fu||(Fu={}));var Vv=class{constructor(){}};Fe.ProgressType=Vv;var gh;(function(t){function e(n){return gn.func(n)}t.is=e})(gh||(gh={}));Fe.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var rn;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Verbose=2]="Verbose"})(rn=Fe.Trace||(Fe.Trace={}));(function(t){function e(r){if(!gn.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(rn=Fe.Trace||(Fe.Trace={}));var bi;(function(t){t.Text="text",t.JSON="json"})(bi=Fe.TraceFormat||(Fe.TraceFormat={}));(function(t){function e(n){return n=n.toLowerCase(),n==="json"?t.JSON:t.Text}t.fromString=e})(bi=Fe.TraceFormat||(Fe.TraceFormat={}));var Bv;(function(t){t.type=new we.NotificationType("$/setTrace")})(Bv=Fe.SetTraceNotification||(Fe.SetTraceNotification={}));var Th;(function(t){t.type=new we.NotificationType("$/logTrace")})(Th=Fe.LogTraceNotification||(Fe.LogTraceNotification={}));var Vu;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(Vu=Fe.ConnectionErrors||(Fe.ConnectionErrors={}));var Ro=class extends Error{constructor(e,n){super(n);this.code=e,Object.setPrototypeOf(this,Ro.prototype)}};Fe.ConnectionError=Ro;var qv;(function(t){function e(n){let r=n;return r&&gn.func(r.cancelUndispatched)}t.is=e})(qv=Fe.ConnectionStrategy||(Fe.ConnectionStrategy={}));var _h;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new mh.CancellationTokenSource}});function e(n){let r=n;return r&&gn.func(r.createCancellationTokenSource)}t.is=e})(_h=Fe.CancellationReceiverStrategy||(Fe.CancellationReceiverStrategy={}));var yh;(function(t){t.Message=Object.freeze({sendCancellation(n,r){n.sendNotification(oc.type,{id:r})},cleanup(n){}});function e(n){let r=n;return r&&gn.func(r.sendCancellation)&&gn.func(r.cleanup)}t.is=e})(yh=Fe.CancellationSenderStrategy||(Fe.CancellationSenderStrategy={}));var Nh;(function(t){t.Message=Object.freeze({receiver:_h.Message,sender:yh.Message});function e(n){let r=n;return r&&_h.is(r.receiver)&&yh.is(r.sender)}t.is=e})(Nh=Fe.CancellationStrategy||(Fe.CancellationStrategy={}));var h1;(function(t){function e(n){let r=n;return r&&(Nh.is(r.cancellationStrategy)||qv.is(r.connectionStrategy))}t.is=e})(h1=Fe.ConnectionOptions||(Fe.ConnectionOptions={}));var vi;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(vi||(vi={}));function m1(t,e,n,r){let i=n!==void 0?n:Fe.NullLogger,s=0,a=0,l=0,u="2.0",d,h=Object.create(null),g,N=Object.create(null),y=new Map,T,C=new Fv.LinkedMap,D=Object.create(null),_=Object.create(null),A=rn.Off,b=bi.Text,S,w=vi.New,J=new sc.Emitter,Y=new sc.Emitter,oe=new sc.Emitter,he=new sc.Emitter,Ne=new sc.Emitter,Te=r&&r.cancellationStrategy?r.cancellationStrategy:Nh.Message;function pe(G){if(G===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+G.toString()}function ot(G){return G===null?"res-unknown-"+(++l).toString():"res-"+G.toString()}function Ee(){return"not-"+(++a).toString()}function se(G,V){we.isRequestMessage(V)?G.set(pe(V.id),V):we.isResponseMessage(V)?G.set(ot(V.id),V):G.set(Ee(),V)}function rt(G){}function Pt(){return w===vi.Listening}function Ln(){return w===vi.Closed}function at(){return w===vi.Disposed}function Ut(){(w===vi.New||w===vi.Listening)&&(w=vi.Closed,Y.fire(void 0))}function Xn(G){J.fire([G,void 0,void 0])}function cr(G){J.fire(G)}t.onClose(Ut),t.onError(Xn),e.onClose(Ut),e.onError(cr);function zi(){T||C.size===0||(T=Mv.default().timer.setImmediate(()=>{T=void 0,ea()}))}function ea(){if(C.size===0)return;let G=C.shift();try{we.isRequestMessage(G)?kr(G):we.isNotificationMessage(G)?jt(G):we.isResponseMessage(G)?lo(G):co(G)}finally{zi()}}let Jn=G=>{try{if(we.isNotificationMessage(G)&&G.method===oc.type.method){let V=pe(G.params.id),P=C.get(V);if(we.isRequestMessage(P)){let U=r==null?void 0:r.connectionStrategy,W=U&&U.cancelUndispatched?U.cancelUndispatched(P,rt):void 0;if(W&&(W.error!==void 0||W.result!==void 0)){C.delete(V),W.id=P.id,Is(W,G.method,Date.now()),e.write(W);return}}}se(C,G)}finally{zi()}};function kr(G){if(at())return;function V(z,fe,Pe){let Ae={jsonrpc:u,id:G.id};z instanceof we.ResponseError?Ae.error=z.toJson():Ae.result=z===void 0?null:z,Is(Ae,fe,Pe),e.write(Ae)}function P(z,fe,Pe){let Ae={jsonrpc:u,id:G.id,error:z.toJson()};Is(Ae,fe,Pe),e.write(Ae)}function U(z,fe,Pe){z===void 0&&(z=null);let Ae={jsonrpc:u,id:G.id,result:z};Is(Ae,fe,Pe),e.write(Ae)}Qi(G);let W=h[G.method],L,I;W&&(L=W.type,I=W.handler);let j=Date.now();if(I||d){let z=String(G.id),fe=Te.receiver.createCancellationTokenSource(z);_[z]=fe;try{let Pe;if(I)if(G.params===void 0){if(L!==void 0&&L.numberOfParams!==0){P(new we.ResponseError(we.ErrorCodes.InvalidParams,`Request ${G.method} defines ${L.numberOfParams} params but recevied none.`),G.method,j);return}Pe=I(fe.token)}else if(Array.isArray(G.params)){if(L!==void 0&&L.parameterStructures===we.ParameterStructures.byName){P(new we.ResponseError(we.ErrorCodes.InvalidParams,`Request ${G.method} defines parameters by name but received parameters by position`),G.method,j);return}Pe=I(...G.params,fe.token)}else{if(L!==void 0&&L.parameterStructures===we.ParameterStructures.byPosition){P(new we.ResponseError(we.ErrorCodes.InvalidParams,`Request ${G.method} defines parameters by position but received parameters by name`),G.method,j);return}Pe=I(G.params,fe.token)}else d&&(Pe=d(G.method,G.params,fe.token));let Ae=Pe;Pe?Ae.then?Ae.then(Tt=>{delete _[z],V(Tt,G.method,j)},Tt=>{delete _[z],Tt instanceof we.ResponseError?P(Tt,G.method,j):Tt&&gn.string(Tt.message)?P(new we.ResponseError(we.ErrorCodes.InternalError,`Request ${G.method} failed with message: ${Tt.message}`),G.method,j):P(new we.ResponseError(we.ErrorCodes.InternalError,`Request ${G.method} failed unexpectedly without providing any details.`),G.method,j)}):(delete _[z],V(Pe,G.method,j)):(delete _[z],U(Pe,G.method,j))}catch(Pe){delete _[z],Pe instanceof we.ResponseError?V(Pe,G.method,j):Pe&&gn.string(Pe.message)?P(new we.ResponseError(we.ErrorCodes.InternalError,`Request ${G.method} failed with message: ${Pe.message}`),G.method,j):P(new we.ResponseError(we.ErrorCodes.InternalError,`Request ${G.method} failed unexpectedly without providing any details.`),G.method,j)}}else P(new we.ResponseError(we.ErrorCodes.MethodNotFound,`Unhandled method ${G.method}`),G.method,j)}function lo(G){if(!at())if(G.id===null)G.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(G.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let V=String(G.id),P=D[V];if(ra(G,P),P){delete D[V];try{if(G.error){let U=G.error;P.reject(new we.ResponseError(U.code,U.message,U.data))}else if(G.result!==void 0)P.resolve(G.result);else throw new Error("Should never happen.")}catch(U){U.message?i.error(`Response handler '${P.method}' failed with message: ${U.message}`):i.error(`Response handler '${P.method}' failed unexpectedly.`)}}}}function jt(G){if(at())return;let V,P;if(G.method===oc.type.method)P=U=>{let W=U.id,L=_[String(W)];L&&L.cancel()};else{let U=N[G.method];U&&(P=U.handler,V=U.type)}if(P||g)try{Ze(G),P?G.params===void 0?(V!==void 0&&V.numberOfParams!==0&&V.parameterStructures!==we.ParameterStructures.byName&&i.error(`Notification ${G.method} defines ${V.numberOfParams} params but recevied none.`),P()):Array.isArray(G.params)?(V!==void 0&&(V.parameterStructures===we.ParameterStructures.byName&&i.error(`Notification ${G.method} defines parameters by name but received parameters by position`),V.numberOfParams!==G.params.length&&i.error(`Notification ${G.method} defines ${V.numberOfParams} params but received ${G.params.length} argumennts`)),P(...G.params)):(V!==void 0&&V.parameterStructures===we.ParameterStructures.byPosition&&i.error(`Notification ${G.method} defines parameters by position but received parameters by name`),P(G.params)):g&&g(G.method,G.params)}catch(U){U.message?i.error(`Notification handler '${G.method}' failed with message: ${U.message}`):i.error(`Notification handler '${G.method}' failed unexpectedly.`)}else oe.fire(G)}function co(G){if(!G){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(G,null,4)}`);let V=G;if(gn.string(V.id)||gn.number(V.id)){let P=String(V.id),U=D[P];U&&U.reject(new Error("The received response has neither a result nor an error property."))}}function ta(G){if(!(A===rn.Off||!S))if(b===bi.Text){let V;A===rn.Verbose&&G.params&&(V=`Params: ${JSON.stringify(G.params,null,4)}

`),S.log(`Sending request '${G.method} - (${G.id})'.`,V)}else me("send-request",G)}function na(G){if(!(A===rn.Off||!S))if(b===bi.Text){let V;A===rn.Verbose&&(G.params?V=`Params: ${JSON.stringify(G.params,null,4)}

`:V=`No parameters provided.

`),S.log(`Sending notification '${G.method}'.`,V)}else me("send-notification",G)}function Is(G,V,P){if(!(A===rn.Off||!S))if(b===bi.Text){let U;A===rn.Verbose&&(G.error&&G.error.data?U=`Error data: ${JSON.stringify(G.error.data,null,4)}

`:G.result?U=`Result: ${JSON.stringify(G.result,null,4)}

`:G.error===void 0&&(U=`No result returned.

`)),S.log(`Sending response '${V} - (${G.id})'. Processing request took ${Date.now()-P}ms`,U)}else me("send-response",G)}function Qi(G){if(!(A===rn.Off||!S))if(b===bi.Text){let V;A===rn.Verbose&&G.params&&(V=`Params: ${JSON.stringify(G.params,null,4)}

`),S.log(`Received request '${G.method} - (${G.id})'.`,V)}else me("receive-request",G)}function Ze(G){if(!(A===rn.Off||!S||G.method===Th.type.method))if(b===bi.Text){let V;A===rn.Verbose&&(G.params?V=`Params: ${JSON.stringify(G.params,null,4)}

`:V=`No parameters provided.

`),S.log(`Received notification '${G.method}'.`,V)}else me("receive-notification",G)}function ra(G,V){if(!(A===rn.Off||!S))if(b===bi.Text){let P;if(A===rn.Verbose&&(G.error&&G.error.data?P=`Error data: ${JSON.stringify(G.error.data,null,4)}

`:G.result?P=`Result: ${JSON.stringify(G.result,null,4)}

`:G.error===void 0&&(P=`No result returned.

`)),V){let U=G.error?` Request failed: ${G.error.message} (${G.error.code}).`:"";S.log(`Received response '${V.method} - (${G.id})' in ${Date.now()-V.timerStart}ms.${U}`,P)}else S.log(`Received response ${G.id} without active response promise.`,P)}else me("receive-response",G)}function me(G,V){if(!S||A===rn.Off)return;let P={isLSPMessage:!0,type:G,message:V,timestamp:Date.now()};S.log(P)}function wi(){if(Ln())throw new Ro(Vu.Closed,"Connection is closed.");if(at())throw new Ro(Vu.Disposed,"Connection is disposed.")}function kl(){if(Pt())throw new Ro(Vu.AlreadyListening,"Connection is already listening")}function ia(){if(!Pt())throw new Error("Call listen() first.")}function Xi(G){return G===void 0?null:G}function uo(G){if(G!==null)return G}function sa(G){return G!=null&&!Array.isArray(G)&&typeof G=="object"}function Ps(G,V){switch(G){case we.ParameterStructures.auto:return sa(V)?uo(V):[Xi(V)];case we.ParameterStructures.byName:if(!sa(V))throw new Error("Recevied parameters by name but param is not an object literal.");return uo(V);case we.ParameterStructures.byPosition:return[Xi(V)];default:throw new Error(`Unknown parameter structure ${G.toString()}`)}}function oa(G,V){let P,U=G.numberOfParams;switch(U){case 0:P=void 0;break;case 1:P=Ps(G.parameterStructures,V[0]);break;default:P=[];for(let W=0;W<V.length&&W<U;W++)P.push(Xi(V[W]));if(V.length<U)for(let W=V.length;W<U;W++)P.push(null);break}return P}let Xr={sendNotification:(G,...V)=>{wi();let P,U;if(gn.string(G)){P=G;let L=V[0],I=0,j=we.ParameterStructures.auto;we.ParameterStructures.is(L)&&(I=1,j=L);let z=V.length,fe=z-I;switch(fe){case 0:U=void 0;break;case 1:U=Ps(j,V[I]);break;default:if(j===we.ParameterStructures.byName)throw new Error(`Recevied ${fe} parameters for 'by Name' notification parameter structure.`);U=V.slice(I,z).map(Pe=>Xi(Pe));break}}else{let L=V;P=G.method,U=oa(G,L)}let W={jsonrpc:u,method:P,params:U};na(W),e.write(W)},onNotification:(G,V)=>{wi();let P;return gn.func(G)?g=G:V&&(gn.string(G)?(P=G,N[G]={type:void 0,handler:V}):(P=G.method,N[G.method]={type:G,handler:V})),{dispose:()=>{P!==void 0?delete N[P]:g=void 0}}},onProgress:(G,V,P)=>{if(y.has(V))throw new Error(`Progress handler for token ${V} already registered`);return y.set(V,P),{dispose:()=>{y.delete(V)}}},sendProgress:(G,V,P)=>{Xr.sendNotification(Fu.type,{token:V,value:P})},onUnhandledProgress:he.event,sendRequest:(G,...V)=>{wi(),ia();let P,U,W;if(gn.string(G)){P=G;let z=V[0],fe=V[V.length-1],Pe=0,Ae=we.ParameterStructures.auto;we.ParameterStructures.is(z)&&(Pe=1,Ae=z);let Tt=V.length;mh.CancellationToken.is(fe)&&(Tt=Tt-1,W=fe);let Kt=Tt-Pe;switch(Kt){case 0:U=void 0;break;case 1:U=Ps(Ae,V[Pe]);break;default:if(Ae===we.ParameterStructures.byName)throw new Error(`Recevied ${Kt} parameters for 'by Name' request parameter structure.`);U=V.slice(Pe,Tt).map($t=>Xi($t));break}}else{let z=V;P=G.method,U=oa(G,z);let fe=G.numberOfParams;W=mh.CancellationToken.is(z[fe])?z[fe]:void 0}let L=s++,I;return W&&(I=W.onCancellationRequested(()=>{Te.sender.sendCancellation(Xr,L)})),new Promise((z,fe)=>{let Pe={jsonrpc:u,id:L,method:P,params:U},Ae=$t=>{z($t),Te.sender.cleanup(L),I==null||I.dispose()},Tt=$t=>{fe($t),Te.sender.cleanup(L),I==null||I.dispose()},Kt={method:P,timerStart:Date.now(),resolve:Ae,reject:Tt};ta(Pe);try{e.write(Pe)}catch($t){Kt.reject(new we.ResponseError(we.ErrorCodes.MessageWriteError,$t.message?$t.message:"Unknown reason")),Kt=null}Kt&&(D[String(L)]=Kt)})},onRequest:(G,V)=>{wi();let P=null;return gh.is(G)?(P=void 0,d=G):gn.string(G)?(P=null,V!==void 0&&(P=G,h[G]={handler:V,type:void 0})):V!==void 0&&(P=G.method,h[G.method]={type:G,handler:V}),{dispose:()=>{P!==null&&(P!==void 0?delete h[P]:d=void 0)}}},trace:(G,V,P)=>{let U=!1,W=bi.Text;P!==void 0&&(gn.boolean(P)?U=P:(U=P.sendNotification||!1,W=P.traceFormat||bi.Text)),A=G,b=W,A===rn.Off?S=void 0:S=V,U&&!Ln()&&!at()&&Xr.sendNotification(Bv.type,{value:rn.toString(G)})},onError:J.event,onClose:Y.event,onUnhandledNotification:oe.event,onDispose:Ne.event,end:()=>{e.end()},dispose:()=>{if(at())return;w=vi.Disposed,Ne.fire(void 0);let G=new Error("Connection got disposed.");Object.keys(D).forEach(V=>{D[V].reject(G)}),D=Object.create(null),_=Object.create(null),C=new Fv.LinkedMap,gn.func(e.dispose)&&e.dispose(),gn.func(t.dispose)&&t.dispose()},listen:()=>{wi(),kl(),w=vi.Listening,t.listen(Jn)},inspect:()=>{Mv.default().console.log("inspect")}};return Xr.onNotification(Th.type,G=>{A===rn.Off||!S||S.log(G.message,A===rn.Verbose?G.verbose:void 0)}),Xr.onNotification(Fu.type,G=>{let V=y.get(G.token);V?V(G.value):he.fire(G)}),Xr}Fe.createMessageConnection=m1});var Ih=_e(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.CancellationSenderStrategy=ee.CancellationReceiverStrategy=ee.ConnectionError=ee.ConnectionErrors=ee.LogTraceNotification=ee.SetTraceNotification=ee.TraceFormat=ee.Trace=ee.ProgressType=ee.createMessageConnection=ee.NullLogger=ee.ConnectionOptions=ee.ConnectionStrategy=ee.WriteableStreamMessageWriter=ee.AbstractMessageWriter=ee.MessageWriter=ee.ReadableStreamMessageReader=ee.AbstractMessageReader=ee.MessageReader=ee.CancellationToken=ee.CancellationTokenSource=ee.Emitter=ee.Event=ee.Disposable=ee.ParameterStructures=ee.NotificationType9=ee.NotificationType8=ee.NotificationType7=ee.NotificationType6=ee.NotificationType5=ee.NotificationType4=ee.NotificationType3=ee.NotificationType2=ee.NotificationType1=ee.NotificationType0=ee.NotificationType=ee.ErrorCodes=ee.ResponseError=ee.RequestType9=ee.RequestType8=ee.RequestType7=ee.RequestType6=ee.RequestType5=ee.RequestType4=ee.RequestType3=ee.RequestType2=ee.RequestType1=ee.RequestType0=ee.RequestType=ee.RAL=void 0;ee.CancellationStrategy=void 0;var Rt=ih();Object.defineProperty(ee,"RequestType",{enumerable:!0,get:function(){return Rt.RequestType}});Object.defineProperty(ee,"RequestType0",{enumerable:!0,get:function(){return Rt.RequestType0}});Object.defineProperty(ee,"RequestType1",{enumerable:!0,get:function(){return Rt.RequestType1}});Object.defineProperty(ee,"RequestType2",{enumerable:!0,get:function(){return Rt.RequestType2}});Object.defineProperty(ee,"RequestType3",{enumerable:!0,get:function(){return Rt.RequestType3}});Object.defineProperty(ee,"RequestType4",{enumerable:!0,get:function(){return Rt.RequestType4}});Object.defineProperty(ee,"RequestType5",{enumerable:!0,get:function(){return Rt.RequestType5}});Object.defineProperty(ee,"RequestType6",{enumerable:!0,get:function(){return Rt.RequestType6}});Object.defineProperty(ee,"RequestType7",{enumerable:!0,get:function(){return Rt.RequestType7}});Object.defineProperty(ee,"RequestType8",{enumerable:!0,get:function(){return Rt.RequestType8}});Object.defineProperty(ee,"RequestType9",{enumerable:!0,get:function(){return Rt.RequestType9}});Object.defineProperty(ee,"ResponseError",{enumerable:!0,get:function(){return Rt.ResponseError}});Object.defineProperty(ee,"ErrorCodes",{enumerable:!0,get:function(){return Rt.ErrorCodes}});Object.defineProperty(ee,"NotificationType",{enumerable:!0,get:function(){return Rt.NotificationType}});Object.defineProperty(ee,"NotificationType0",{enumerable:!0,get:function(){return Rt.NotificationType0}});Object.defineProperty(ee,"NotificationType1",{enumerable:!0,get:function(){return Rt.NotificationType1}});Object.defineProperty(ee,"NotificationType2",{enumerable:!0,get:function(){return Rt.NotificationType2}});Object.defineProperty(ee,"NotificationType3",{enumerable:!0,get:function(){return Rt.NotificationType3}});Object.defineProperty(ee,"NotificationType4",{enumerable:!0,get:function(){return Rt.NotificationType4}});Object.defineProperty(ee,"NotificationType5",{enumerable:!0,get:function(){return Rt.NotificationType5}});Object.defineProperty(ee,"NotificationType6",{enumerable:!0,get:function(){return Rt.NotificationType6}});Object.defineProperty(ee,"NotificationType7",{enumerable:!0,get:function(){return Rt.NotificationType7}});Object.defineProperty(ee,"NotificationType8",{enumerable:!0,get:function(){return Rt.NotificationType8}});Object.defineProperty(ee,"NotificationType9",{enumerable:!0,get:function(){return Rt.NotificationType9}});Object.defineProperty(ee,"ParameterStructures",{enumerable:!0,get:function(){return Rt.ParameterStructures}});var g1=th();Object.defineProperty(ee,"Disposable",{enumerable:!0,get:function(){return g1.Disposable}});var jv=Aa();Object.defineProperty(ee,"Event",{enumerable:!0,get:function(){return jv.Event}});Object.defineProperty(ee,"Emitter",{enumerable:!0,get:function(){return jv.Emitter}});var Gv=lh();Object.defineProperty(ee,"CancellationTokenSource",{enumerable:!0,get:function(){return Gv.CancellationTokenSource}});Object.defineProperty(ee,"CancellationToken",{enumerable:!0,get:function(){return Gv.CancellationToken}});var bh=Cv();Object.defineProperty(ee,"MessageReader",{enumerable:!0,get:function(){return bh.MessageReader}});Object.defineProperty(ee,"AbstractMessageReader",{enumerable:!0,get:function(){return bh.AbstractMessageReader}});Object.defineProperty(ee,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return bh.ReadableStreamMessageReader}});var vh=wv();Object.defineProperty(ee,"MessageWriter",{enumerable:!0,get:function(){return vh.MessageWriter}});Object.defineProperty(ee,"AbstractMessageWriter",{enumerable:!0,get:function(){return vh.AbstractMessageWriter}});Object.defineProperty(ee,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return vh.WriteableStreamMessageWriter}});var rr=Uv();Object.defineProperty(ee,"ConnectionStrategy",{enumerable:!0,get:function(){return rr.ConnectionStrategy}});Object.defineProperty(ee,"ConnectionOptions",{enumerable:!0,get:function(){return rr.ConnectionOptions}});Object.defineProperty(ee,"NullLogger",{enumerable:!0,get:function(){return rr.NullLogger}});Object.defineProperty(ee,"createMessageConnection",{enumerable:!0,get:function(){return rr.createMessageConnection}});Object.defineProperty(ee,"ProgressType",{enumerable:!0,get:function(){return rr.ProgressType}});Object.defineProperty(ee,"Trace",{enumerable:!0,get:function(){return rr.Trace}});Object.defineProperty(ee,"TraceFormat",{enumerable:!0,get:function(){return rr.TraceFormat}});Object.defineProperty(ee,"SetTraceNotification",{enumerable:!0,get:function(){return rr.SetTraceNotification}});Object.defineProperty(ee,"LogTraceNotification",{enumerable:!0,get:function(){return rr.LogTraceNotification}});Object.defineProperty(ee,"ConnectionErrors",{enumerable:!0,get:function(){return rr.ConnectionErrors}});Object.defineProperty(ee,"ConnectionError",{enumerable:!0,get:function(){return rr.ConnectionError}});Object.defineProperty(ee,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return rr.CancellationReceiverStrategy}});Object.defineProperty(ee,"CancellationSenderStrategy",{enumerable:!0,get:function(){return rr.CancellationSenderStrategy}});Object.defineProperty(ee,"CancellationStrategy",{enumerable:!0,get:function(){return rr.CancellationStrategy}});var T1=cs();ee.RAL=T1.default});var Ra=_e(ht=>{"use strict";var _1=ht&&ht.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),y1=ht&&ht.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&_1(e,t,n)};Object.defineProperty(ht,"__esModule",{value:!0});ht.createMessageConnection=ht.createServerSocketTransport=ht.createClientSocketTransport=ht.createServerPipeTransport=ht.createClientPipeTransport=ht.generateRandomPipeName=ht.StreamMessageWriter=ht.StreamMessageReader=ht.SocketMessageWriter=ht.SocketMessageReader=ht.IPCMessageWriter=ht.IPCMessageReader=void 0;var Ea=Qb();Ea.default.install();var ji=Ih(),Wv=require("path"),N1=require("os"),b1=require("crypto"),Bu=require("net");y1(Ih(),ht);var Hv=class extends ji.AbstractMessageReader{constructor(e){super();this.process=e;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),ji.Disposable.create(()=>this.process.off("message",e))}};ht.IPCMessageReader=Hv;var Yv=class extends ji.AbstractMessageWriter{constructor(e){super();this.process=e,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};ht.IPCMessageWriter=Yv;var Sa=class extends ji.ReadableStreamMessageReader{constructor(e,n="utf-8"){super(Ea.default().stream.asReadableStream(e),n)}};ht.SocketMessageReader=Sa;var xa=class extends ji.WriteableStreamMessageWriter{constructor(e,n){super(Ea.default().stream.asWritableStream(e),n);this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};ht.SocketMessageWriter=xa;var Ph=class extends ji.ReadableStreamMessageReader{constructor(e,n){super(Ea.default().stream.asReadableStream(e),n)}};ht.StreamMessageReader=Ph;var Ah=class extends ji.WriteableStreamMessageWriter{constructor(e,n){super(Ea.default().stream.asWritableStream(e),n)}};ht.StreamMessageWriter=Ah;var Kv=process.env.XDG_RUNTIME_DIR,v1=new Map([["linux",107],["darwin",103]]);function I1(){let t=b1.randomBytes(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;Kv?e=Wv.join(Kv,`vscode-ipc-${t}.sock`):e=Wv.join(N1.tmpdir(),`vscode-${t}.sock`);let n=v1.get(process.platform);return n!==void 0&&e.length>=n&&Ea.default().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}ht.generateRandomPipeName=I1;function P1(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let a=Bu.createServer(l=>{a.close(),n([new Sa(l,e),new xa(l,e)])});a.on("error",s),a.listen(t,()=>{a.removeListener("error",s),i({onConnected:()=>r})})})}ht.createClientPipeTransport=P1;function A1(t,e="utf-8"){let n=Bu.createConnection(t);return[new Sa(n,e),new xa(n,e)]}ht.createServerPipeTransport=A1;function C1(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let a=Bu.createServer(l=>{a.close(),n([new Sa(l,e),new xa(l,e)])});a.on("error",s),a.listen(t,"127.0.0.1",()=>{a.removeListener("error",s),i({onConnected:()=>r})})})}ht.createClientSocketTransport=C1;function E1(t,e="utf-8"){let n=Bu.createConnection(t,"127.0.0.1");return[new Sa(n,e),new xa(n,e)]}ht.createServerSocketTransport=E1;function S1(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function x1(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function R1(t,e,n,r){n||(n=ji.NullLogger);let i=S1(t)?new Ph(t):t,s=x1(e)?new Ah(e):e;return ji.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),ji.createMessageConnection(i,s,n,r)}ht.createMessageConnection=R1});var Ch=_e((VW,$v)=>{"use strict";$v.exports=Ra()});var Dt=_e((zv,qu)=>{(function(t){if(typeof qu=="object"&&typeof qu.exports=="object"){var e=t(require,zv);e!==void 0&&(qu.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionKind=e.DocumentSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=void 0;var n;(function(P){P.MIN_VALUE=-2147483648,P.MAX_VALUE=2147483647})(n=e.integer||(e.integer={}));var r;(function(P){P.MIN_VALUE=0,P.MAX_VALUE=2147483647})(r=e.uinteger||(e.uinteger={}));var i;(function(P){function U(L,I){return L===Number.MAX_VALUE&&(L=r.MAX_VALUE),I===Number.MAX_VALUE&&(I=r.MAX_VALUE),{line:L,character:I}}P.create=U;function W(L){var I=L;return V.objectLiteral(I)&&V.uinteger(I.line)&&V.uinteger(I.character)}P.is=W})(i=e.Position||(e.Position={}));var s;(function(P){function U(L,I,j,z){if(V.uinteger(L)&&V.uinteger(I)&&V.uinteger(j)&&V.uinteger(z))return{start:i.create(L,I),end:i.create(j,z)};if(i.is(L)&&i.is(I))return{start:L,end:I};throw new Error("Range#create called with invalid arguments["+L+", "+I+", "+j+", "+z+"]")}P.create=U;function W(L){var I=L;return V.objectLiteral(I)&&i.is(I.start)&&i.is(I.end)}P.is=W})(s=e.Range||(e.Range={}));var a;(function(P){function U(L,I){return{uri:L,range:I}}P.create=U;function W(L){var I=L;return V.defined(I)&&s.is(I.range)&&(V.string(I.uri)||V.undefined(I.uri))}P.is=W})(a=e.Location||(e.Location={}));var l;(function(P){function U(L,I,j,z){return{targetUri:L,targetRange:I,targetSelectionRange:j,originSelectionRange:z}}P.create=U;function W(L){var I=L;return V.defined(I)&&s.is(I.targetRange)&&V.string(I.targetUri)&&(s.is(I.targetSelectionRange)||V.undefined(I.targetSelectionRange))&&(s.is(I.originSelectionRange)||V.undefined(I.originSelectionRange))}P.is=W})(l=e.LocationLink||(e.LocationLink={}));var u;(function(P){function U(L,I,j,z){return{red:L,green:I,blue:j,alpha:z}}P.create=U;function W(L){var I=L;return V.numberRange(I.red,0,1)&&V.numberRange(I.green,0,1)&&V.numberRange(I.blue,0,1)&&V.numberRange(I.alpha,0,1)}P.is=W})(u=e.Color||(e.Color={}));var d;(function(P){function U(L,I){return{range:L,color:I}}P.create=U;function W(L){var I=L;return s.is(I.range)&&u.is(I.color)}P.is=W})(d=e.ColorInformation||(e.ColorInformation={}));var h;(function(P){function U(L,I,j){return{label:L,textEdit:I,additionalTextEdits:j}}P.create=U;function W(L){var I=L;return V.string(I.label)&&(V.undefined(I.textEdit)||b.is(I))&&(V.undefined(I.additionalTextEdits)||V.typedArray(I.additionalTextEdits,b.is))}P.is=W})(h=e.ColorPresentation||(e.ColorPresentation={}));var g;(function(P){P.Comment="comment",P.Imports="imports",P.Region="region"})(g=e.FoldingRangeKind||(e.FoldingRangeKind={}));var N;(function(P){function U(L,I,j,z,fe){var Pe={startLine:L,endLine:I};return V.defined(j)&&(Pe.startCharacter=j),V.defined(z)&&(Pe.endCharacter=z),V.defined(fe)&&(Pe.kind=fe),Pe}P.create=U;function W(L){var I=L;return V.uinteger(I.startLine)&&V.uinteger(I.startLine)&&(V.undefined(I.startCharacter)||V.uinteger(I.startCharacter))&&(V.undefined(I.endCharacter)||V.uinteger(I.endCharacter))&&(V.undefined(I.kind)||V.string(I.kind))}P.is=W})(N=e.FoldingRange||(e.FoldingRange={}));var y;(function(P){function U(L,I){return{location:L,message:I}}P.create=U;function W(L){var I=L;return V.defined(I)&&a.is(I.location)&&V.string(I.message)}P.is=W})(y=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var T;(function(P){P.Error=1,P.Warning=2,P.Information=3,P.Hint=4})(T=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var C;(function(P){P.Unnecessary=1,P.Deprecated=2})(C=e.DiagnosticTag||(e.DiagnosticTag={}));var D;(function(P){function U(W){var L=W;return L!=null&&V.string(L.href)}P.is=U})(D=e.CodeDescription||(e.CodeDescription={}));var _;(function(P){function U(L,I,j,z,fe,Pe){var Ae={range:L,message:I};return V.defined(j)&&(Ae.severity=j),V.defined(z)&&(Ae.code=z),V.defined(fe)&&(Ae.source=fe),V.defined(Pe)&&(Ae.relatedInformation=Pe),Ae}P.create=U;function W(L){var I,j=L;return V.defined(j)&&s.is(j.range)&&V.string(j.message)&&(V.number(j.severity)||V.undefined(j.severity))&&(V.integer(j.code)||V.string(j.code)||V.undefined(j.code))&&(V.undefined(j.codeDescription)||V.string((I=j.codeDescription)===null||I===void 0?void 0:I.href))&&(V.string(j.source)||V.undefined(j.source))&&(V.undefined(j.relatedInformation)||V.typedArray(j.relatedInformation,y.is))}P.is=W})(_=e.Diagnostic||(e.Diagnostic={}));var A;(function(P){function U(L,I){for(var j=[],z=2;z<arguments.length;z++)j[z-2]=arguments[z];var fe={title:L,command:I};return V.defined(j)&&j.length>0&&(fe.arguments=j),fe}P.create=U;function W(L){var I=L;return V.defined(I)&&V.string(I.title)&&V.string(I.command)}P.is=W})(A=e.Command||(e.Command={}));var b;(function(P){function U(j,z){return{range:j,newText:z}}P.replace=U;function W(j,z){return{range:{start:j,end:j},newText:z}}P.insert=W;function L(j){return{range:j,newText:""}}P.del=L;function I(j){var z=j;return V.objectLiteral(z)&&V.string(z.newText)&&s.is(z.range)}P.is=I})(b=e.TextEdit||(e.TextEdit={}));var S;(function(P){function U(L,I,j){var z={label:L};return I!==void 0&&(z.needsConfirmation=I),j!==void 0&&(z.description=j),z}P.create=U;function W(L){var I=L;return I!==void 0&&V.objectLiteral(I)&&V.string(I.label)&&(V.boolean(I.needsConfirmation)||I.needsConfirmation===void 0)&&(V.string(I.description)||I.description===void 0)}P.is=W})(S=e.ChangeAnnotation||(e.ChangeAnnotation={}));var w;(function(P){function U(W){var L=W;return typeof L=="string"}P.is=U})(w=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var J;(function(P){function U(j,z,fe){return{range:j,newText:z,annotationId:fe}}P.replace=U;function W(j,z,fe){return{range:{start:j,end:j},newText:z,annotationId:fe}}P.insert=W;function L(j,z){return{range:j,newText:"",annotationId:z}}P.del=L;function I(j){var z=j;return b.is(z)&&(S.is(z.annotationId)||w.is(z.annotationId))}P.is=I})(J=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var Y;(function(P){function U(L,I){return{textDocument:L,edits:I}}P.create=U;function W(L){var I=L;return V.defined(I)&&Pt.is(I.textDocument)&&Array.isArray(I.edits)}P.is=W})(Y=e.TextDocumentEdit||(e.TextDocumentEdit={}));var oe;(function(P){function U(L,I,j){var z={kind:"create",uri:L};return I!==void 0&&(I.overwrite!==void 0||I.ignoreIfExists!==void 0)&&(z.options=I),j!==void 0&&(z.annotationId=j),z}P.create=U;function W(L){var I=L;return I&&I.kind==="create"&&V.string(I.uri)&&(I.options===void 0||(I.options.overwrite===void 0||V.boolean(I.options.overwrite))&&(I.options.ignoreIfExists===void 0||V.boolean(I.options.ignoreIfExists)))&&(I.annotationId===void 0||w.is(I.annotationId))}P.is=W})(oe=e.CreateFile||(e.CreateFile={}));var he;(function(P){function U(L,I,j,z){var fe={kind:"rename",oldUri:L,newUri:I};return j!==void 0&&(j.overwrite!==void 0||j.ignoreIfExists!==void 0)&&(fe.options=j),z!==void 0&&(fe.annotationId=z),fe}P.create=U;function W(L){var I=L;return I&&I.kind==="rename"&&V.string(I.oldUri)&&V.string(I.newUri)&&(I.options===void 0||(I.options.overwrite===void 0||V.boolean(I.options.overwrite))&&(I.options.ignoreIfExists===void 0||V.boolean(I.options.ignoreIfExists)))&&(I.annotationId===void 0||w.is(I.annotationId))}P.is=W})(he=e.RenameFile||(e.RenameFile={}));var Ne;(function(P){function U(L,I,j){var z={kind:"delete",uri:L};return I!==void 0&&(I.recursive!==void 0||I.ignoreIfNotExists!==void 0)&&(z.options=I),j!==void 0&&(z.annotationId=j),z}P.create=U;function W(L){var I=L;return I&&I.kind==="delete"&&V.string(I.uri)&&(I.options===void 0||(I.options.recursive===void 0||V.boolean(I.options.recursive))&&(I.options.ignoreIfNotExists===void 0||V.boolean(I.options.ignoreIfNotExists)))&&(I.annotationId===void 0||w.is(I.annotationId))}P.is=W})(Ne=e.DeleteFile||(e.DeleteFile={}));var Te;(function(P){function U(W){var L=W;return L&&(L.changes!==void 0||L.documentChanges!==void 0)&&(L.documentChanges===void 0||L.documentChanges.every(function(I){return V.string(I.kind)?oe.is(I)||he.is(I)||Ne.is(I):Y.is(I)}))}P.is=U})(Te=e.WorkspaceEdit||(e.WorkspaceEdit={}));var pe=function(){function P(U,W){this.edits=U,this.changeAnnotations=W}return P.prototype.insert=function(U,W,L){var I,j;if(L===void 0?I=b.insert(U,W):w.is(L)?(j=L,I=J.insert(U,W,L)):(this.assertChangeAnnotations(this.changeAnnotations),j=this.changeAnnotations.manage(L),I=J.insert(U,W,j)),this.edits.push(I),j!==void 0)return j},P.prototype.replace=function(U,W,L){var I,j;if(L===void 0?I=b.replace(U,W):w.is(L)?(j=L,I=J.replace(U,W,L)):(this.assertChangeAnnotations(this.changeAnnotations),j=this.changeAnnotations.manage(L),I=J.replace(U,W,j)),this.edits.push(I),j!==void 0)return j},P.prototype.delete=function(U,W){var L,I;if(W===void 0?L=b.del(U):w.is(W)?(I=W,L=J.del(U,W)):(this.assertChangeAnnotations(this.changeAnnotations),I=this.changeAnnotations.manage(W),L=J.del(U,I)),this.edits.push(L),I!==void 0)return I},P.prototype.add=function(U){this.edits.push(U)},P.prototype.all=function(){return this.edits},P.prototype.clear=function(){this.edits.splice(0,this.edits.length)},P.prototype.assertChangeAnnotations=function(U){if(U===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},P}(),ot=function(){function P(U){this._annotations=U===void 0?Object.create(null):U,this._counter=0,this._size=0}return P.prototype.all=function(){return this._annotations},Object.defineProperty(P.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),P.prototype.manage=function(U,W){var L;if(w.is(U)?L=U:(L=this.nextId(),W=U),this._annotations[L]!==void 0)throw new Error("Id "+L+" is already in use.");if(W===void 0)throw new Error("No annotation provided for id "+L);return this._annotations[L]=W,this._size++,L},P.prototype.nextId=function(){return this._counter++,this._counter.toString()},P}(),Ee=function(){function P(U){var W=this;this._textEditChanges=Object.create(null),U!==void 0?(this._workspaceEdit=U,U.documentChanges?(this._changeAnnotations=new ot(U.changeAnnotations),U.changeAnnotations=this._changeAnnotations.all(),U.documentChanges.forEach(function(L){if(Y.is(L)){var I=new pe(L.edits,W._changeAnnotations);W._textEditChanges[L.textDocument.uri]=I}})):U.changes&&Object.keys(U.changes).forEach(function(L){var I=new pe(U.changes[L]);W._textEditChanges[L]=I})):this._workspaceEdit={}}return Object.defineProperty(P.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),P.prototype.getTextEditChange=function(U){if(Pt.is(U)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var W={uri:U.uri,version:U.version},L=this._textEditChanges[W.uri];if(!L){var I=[],j={textDocument:W,edits:I};this._workspaceEdit.documentChanges.push(j),L=new pe(I,this._changeAnnotations),this._textEditChanges[W.uri]=L}return L}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var L=this._textEditChanges[U];if(!L){var I=[];this._workspaceEdit.changes[U]=I,L=new pe(I),this._textEditChanges[U]=L}return L}},P.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new ot,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},P.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},P.prototype.createFile=function(U,W,L){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var I;S.is(W)||w.is(W)?I=W:L=W;var j,z;if(I===void 0?j=oe.create(U,L):(z=w.is(I)?I:this._changeAnnotations.manage(I),j=oe.create(U,L,z)),this._workspaceEdit.documentChanges.push(j),z!==void 0)return z},P.prototype.renameFile=function(U,W,L,I){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var j;S.is(L)||w.is(L)?j=L:I=L;var z,fe;if(j===void 0?z=he.create(U,W,I):(fe=w.is(j)?j:this._changeAnnotations.manage(j),z=he.create(U,W,I,fe)),this._workspaceEdit.documentChanges.push(z),fe!==void 0)return fe},P.prototype.deleteFile=function(U,W,L){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var I;S.is(W)||w.is(W)?I=W:L=W;var j,z;if(I===void 0?j=Ne.create(U,L):(z=w.is(I)?I:this._changeAnnotations.manage(I),j=Ne.create(U,L,z)),this._workspaceEdit.documentChanges.push(j),z!==void 0)return z},P}();e.WorkspaceChange=Ee;var se;(function(P){function U(L){return{uri:L}}P.create=U;function W(L){var I=L;return V.defined(I)&&V.string(I.uri)}P.is=W})(se=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var rt;(function(P){function U(L,I){return{uri:L,version:I}}P.create=U;function W(L){var I=L;return V.defined(I)&&V.string(I.uri)&&V.integer(I.version)}P.is=W})(rt=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var Pt;(function(P){function U(L,I){return{uri:L,version:I}}P.create=U;function W(L){var I=L;return V.defined(I)&&V.string(I.uri)&&(I.version===null||V.integer(I.version))}P.is=W})(Pt=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var Ln;(function(P){function U(L,I,j,z){return{uri:L,languageId:I,version:j,text:z}}P.create=U;function W(L){var I=L;return V.defined(I)&&V.string(I.uri)&&V.string(I.languageId)&&V.integer(I.version)&&V.string(I.text)}P.is=W})(Ln=e.TextDocumentItem||(e.TextDocumentItem={}));var at;(function(P){P.PlainText="plaintext",P.Markdown="markdown"})(at=e.MarkupKind||(e.MarkupKind={})),function(P){function U(W){var L=W;return L===P.PlainText||L===P.Markdown}P.is=U}(at=e.MarkupKind||(e.MarkupKind={}));var Ut;(function(P){function U(W){var L=W;return V.objectLiteral(W)&&at.is(L.kind)&&V.string(L.value)}P.is=U})(Ut=e.MarkupContent||(e.MarkupContent={}));var Xn;(function(P){P.Text=1,P.Method=2,P.Function=3,P.Constructor=4,P.Field=5,P.Variable=6,P.Class=7,P.Interface=8,P.Module=9,P.Property=10,P.Unit=11,P.Value=12,P.Enum=13,P.Keyword=14,P.Snippet=15,P.Color=16,P.File=17,P.Reference=18,P.Folder=19,P.EnumMember=20,P.Constant=21,P.Struct=22,P.Event=23,P.Operator=24,P.TypeParameter=25})(Xn=e.CompletionItemKind||(e.CompletionItemKind={}));var cr;(function(P){P.PlainText=1,P.Snippet=2})(cr=e.InsertTextFormat||(e.InsertTextFormat={}));var zi;(function(P){P.Deprecated=1})(zi=e.CompletionItemTag||(e.CompletionItemTag={}));var ea;(function(P){function U(L,I,j){return{newText:L,insert:I,replace:j}}P.create=U;function W(L){var I=L;return I&&V.string(I.newText)&&s.is(I.insert)&&s.is(I.replace)}P.is=W})(ea=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var Jn;(function(P){P.asIs=1,P.adjustIndentation=2})(Jn=e.InsertTextMode||(e.InsertTextMode={}));var kr;(function(P){function U(W){return{label:W}}P.create=U})(kr=e.CompletionItem||(e.CompletionItem={}));var lo;(function(P){function U(W,L){return{items:W||[],isIncomplete:!!L}}P.create=U})(lo=e.CompletionList||(e.CompletionList={}));var jt;(function(P){function U(L){return L.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}P.fromPlainText=U;function W(L){var I=L;return V.string(I)||V.objectLiteral(I)&&V.string(I.language)&&V.string(I.value)}P.is=W})(jt=e.MarkedString||(e.MarkedString={}));var co;(function(P){function U(W){var L=W;return!!L&&V.objectLiteral(L)&&(Ut.is(L.contents)||jt.is(L.contents)||V.typedArray(L.contents,jt.is))&&(W.range===void 0||s.is(W.range))}P.is=U})(co=e.Hover||(e.Hover={}));var ta;(function(P){function U(W,L){return L?{label:W,documentation:L}:{label:W}}P.create=U})(ta=e.ParameterInformation||(e.ParameterInformation={}));var na;(function(P){function U(W,L){for(var I=[],j=2;j<arguments.length;j++)I[j-2]=arguments[j];var z={label:W};return V.defined(L)&&(z.documentation=L),V.defined(I)?z.parameters=I:z.parameters=[],z}P.create=U})(na=e.SignatureInformation||(e.SignatureInformation={}));var Is;(function(P){P.Text=1,P.Read=2,P.Write=3})(Is=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var Qi;(function(P){function U(W,L){var I={range:W};return V.number(L)&&(I.kind=L),I}P.create=U})(Qi=e.DocumentHighlight||(e.DocumentHighlight={}));var Ze;(function(P){P.File=1,P.Module=2,P.Namespace=3,P.Package=4,P.Class=5,P.Method=6,P.Property=7,P.Field=8,P.Constructor=9,P.Enum=10,P.Interface=11,P.Function=12,P.Variable=13,P.Constant=14,P.String=15,P.Number=16,P.Boolean=17,P.Array=18,P.Object=19,P.Key=20,P.Null=21,P.EnumMember=22,P.Struct=23,P.Event=24,P.Operator=25,P.TypeParameter=26})(Ze=e.SymbolKind||(e.SymbolKind={}));var ra;(function(P){P.Deprecated=1})(ra=e.SymbolTag||(e.SymbolTag={}));var me;(function(P){function U(W,L,I,j,z){var fe={name:W,kind:L,location:{uri:j,range:I}};return z&&(fe.containerName=z),fe}P.create=U})(me=e.SymbolInformation||(e.SymbolInformation={}));var wi;(function(P){function U(L,I,j,z,fe,Pe){var Ae={name:L,detail:I,kind:j,range:z,selectionRange:fe};return Pe!==void 0&&(Ae.children=Pe),Ae}P.create=U;function W(L){var I=L;return I&&V.string(I.name)&&V.number(I.kind)&&s.is(I.range)&&s.is(I.selectionRange)&&(I.detail===void 0||V.string(I.detail))&&(I.deprecated===void 0||V.boolean(I.deprecated))&&(I.children===void 0||Array.isArray(I.children))&&(I.tags===void 0||Array.isArray(I.tags))}P.is=W})(wi=e.DocumentSymbol||(e.DocumentSymbol={}));var kl;(function(P){P.Empty="",P.QuickFix="quickfix",P.Refactor="refactor",P.RefactorExtract="refactor.extract",P.RefactorInline="refactor.inline",P.RefactorRewrite="refactor.rewrite",P.Source="source",P.SourceOrganizeImports="source.organizeImports",P.SourceFixAll="source.fixAll"})(kl=e.CodeActionKind||(e.CodeActionKind={}));var ia;(function(P){function U(L,I){var j={diagnostics:L};return I!=null&&(j.only=I),j}P.create=U;function W(L){var I=L;return V.defined(I)&&V.typedArray(I.diagnostics,_.is)&&(I.only===void 0||V.typedArray(I.only,V.string))}P.is=W})(ia=e.CodeActionContext||(e.CodeActionContext={}));var Xi;(function(P){function U(L,I,j){var z={title:L},fe=!0;return typeof I=="string"?(fe=!1,z.kind=I):A.is(I)?z.command=I:z.edit=I,fe&&j!==void 0&&(z.kind=j),z}P.create=U;function W(L){var I=L;return I&&V.string(I.title)&&(I.diagnostics===void 0||V.typedArray(I.diagnostics,_.is))&&(I.kind===void 0||V.string(I.kind))&&(I.edit!==void 0||I.command!==void 0)&&(I.command===void 0||A.is(I.command))&&(I.isPreferred===void 0||V.boolean(I.isPreferred))&&(I.edit===void 0||Te.is(I.edit))}P.is=W})(Xi=e.CodeAction||(e.CodeAction={}));var uo;(function(P){function U(L,I){var j={range:L};return V.defined(I)&&(j.data=I),j}P.create=U;function W(L){var I=L;return V.defined(I)&&s.is(I.range)&&(V.undefined(I.command)||A.is(I.command))}P.is=W})(uo=e.CodeLens||(e.CodeLens={}));var sa;(function(P){function U(L,I){return{tabSize:L,insertSpaces:I}}P.create=U;function W(L){var I=L;return V.defined(I)&&V.uinteger(I.tabSize)&&V.boolean(I.insertSpaces)}P.is=W})(sa=e.FormattingOptions||(e.FormattingOptions={}));var Ps;(function(P){function U(L,I,j){return{range:L,target:I,data:j}}P.create=U;function W(L){var I=L;return V.defined(I)&&s.is(I.range)&&(V.undefined(I.target)||V.string(I.target))}P.is=W})(Ps=e.DocumentLink||(e.DocumentLink={}));var oa;(function(P){function U(L,I){return{range:L,parent:I}}P.create=U;function W(L){var I=L;return I!==void 0&&s.is(I.range)&&(I.parent===void 0||P.is(I.parent))}P.is=W})(oa=e.SelectionRange||(e.SelectionRange={})),e.EOL=[`
`,`\r
`,"\r"];var Xr;(function(P){function U(j,z,fe,Pe){return new G(j,z,fe,Pe)}P.create=U;function W(j){var z=j;return!!(V.defined(z)&&V.string(z.uri)&&(V.undefined(z.languageId)||V.string(z.languageId))&&V.uinteger(z.lineCount)&&V.func(z.getText)&&V.func(z.positionAt)&&V.func(z.offsetAt))}P.is=W;function L(j,z){for(var fe=j.getText(),Pe=I(z,function(Ji,aa){var Ol=Ji.range.start.line-aa.range.start.line;return Ol===0?Ji.range.start.character-aa.range.start.character:Ol}),Ae=fe.length,Tt=Pe.length-1;Tt>=0;Tt--){var Kt=Pe[Tt],$t=j.offsetAt(Kt.range.start),et=j.offsetAt(Kt.range.end);if(et<=Ae)fe=fe.substring(0,$t)+Kt.newText+fe.substring(et,fe.length);else throw new Error("Overlapping edit");Ae=$t}return fe}P.applyEdits=L;function I(j,z){if(j.length<=1)return j;var fe=j.length/2|0,Pe=j.slice(0,fe),Ae=j.slice(fe);I(Pe,z),I(Ae,z);for(var Tt=0,Kt=0,$t=0;Tt<Pe.length&&Kt<Ae.length;){var et=z(Pe[Tt],Ae[Kt]);et<=0?j[$t++]=Pe[Tt++]:j[$t++]=Ae[Kt++]}for(;Tt<Pe.length;)j[$t++]=Pe[Tt++];for(;Kt<Ae.length;)j[$t++]=Ae[Kt++];return j}})(Xr=e.TextDocument||(e.TextDocument={}));var G=function(){function P(U,W,L,I){this._uri=U,this._languageId=W,this._version=L,this._content=I,this._lineOffsets=void 0}return Object.defineProperty(P.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),P.prototype.getText=function(U){if(U){var W=this.offsetAt(U.start),L=this.offsetAt(U.end);return this._content.substring(W,L)}return this._content},P.prototype.update=function(U,W){this._content=U.text,this._version=W,this._lineOffsets=void 0},P.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var U=[],W=this._content,L=!0,I=0;I<W.length;I++){L&&(U.push(I),L=!1);var j=W.charAt(I);L=j==="\r"||j===`
`,j==="\r"&&I+1<W.length&&W.charAt(I+1)===`
`&&I++}L&&W.length>0&&U.push(W.length),this._lineOffsets=U}return this._lineOffsets},P.prototype.positionAt=function(U){U=Math.max(Math.min(U,this._content.length),0);var W=this.getLineOffsets(),L=0,I=W.length;if(I===0)return i.create(0,U);for(;L<I;){var j=Math.floor((L+I)/2);W[j]>U?I=j:L=j+1}var z=L-1;return i.create(z,U-W[z])},P.prototype.offsetAt=function(U){var W=this.getLineOffsets();if(U.line>=W.length)return this._content.length;if(U.line<0)return 0;var L=W[U.line],I=U.line+1<W.length?W[U.line+1]:this._content.length;return Math.max(Math.min(L+U.character,I),L)},Object.defineProperty(P.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),P}(),V;(function(P){var U=Object.prototype.toString;function W(et){return typeof et!="undefined"}P.defined=W;function L(et){return typeof et=="undefined"}P.undefined=L;function I(et){return et===!0||et===!1}P.boolean=I;function j(et){return U.call(et)==="[object String]"}P.string=j;function z(et){return U.call(et)==="[object Number]"}P.number=z;function fe(et,Ji,aa){return U.call(et)==="[object Number]"&&Ji<=et&&et<=aa}P.numberRange=fe;function Pe(et){return U.call(et)==="[object Number]"&&-2147483648<=et&&et<=2147483647}P.integer=Pe;function Ae(et){return U.call(et)==="[object Number]"&&0<=et&&et<=2147483647}P.uinteger=Ae;function Tt(et){return U.call(et)==="[object Function]"}P.func=Tt;function Kt(et){return et!==null&&typeof et=="object"}P.objectLiteral=Kt;function $t(et,Ji){return Array.isArray(et)&&et.every(Ji)}P.typedArray=$t})(V||(V={}))})});var Tn=_e(Hr=>{"use strict";Object.defineProperty(Hr,"__esModule",{value:!0});Hr.ProtocolNotificationType=Hr.ProtocolNotificationType0=Hr.ProtocolRequestType=Hr.ProtocolRequestType0=Hr.RegistrationType=void 0;var ka=Ra(),Qv=class{constructor(e){this.method=e}};Hr.RegistrationType=Qv;var Xv=class extends ka.RequestType0{constructor(e){super(e)}};Hr.ProtocolRequestType0=Xv;var Jv=class extends ka.RequestType{constructor(e){super(e,ka.ParameterStructures.byName)}};Hr.ProtocolRequestType=Jv;var Zv=class extends ka.NotificationType0{constructor(e){super(e)}};Hr.ProtocolNotificationType0=Zv;var eI=class extends ka.NotificationType{constructor(e){super(e,ka.ParameterStructures.byName)}};Hr.ProtocolNotificationType=eI});var rI=_e(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.objectLiteral=sn.typedArray=sn.stringArray=sn.array=sn.func=sn.error=sn.number=sn.string=sn.boolean=void 0;function k1(t){return t===!0||t===!1}sn.boolean=k1;function tI(t){return typeof t=="string"||t instanceof String}sn.string=tI;function O1(t){return typeof t=="number"||t instanceof Number}sn.number=O1;function w1(t){return t instanceof Error}sn.error=w1;function L1(t){return typeof t=="function"}sn.func=L1;function nI(t){return Array.isArray(t)}sn.array=nI;function D1(t){return nI(t)&&t.every(e=>tI(e))}sn.stringArray=D1;function M1(t,e){return Array.isArray(t)&&t.every(e)}sn.typedArray=M1;function F1(t){return t!==null&&typeof t=="object"}sn.objectLiteral=F1});var iI=_e(ac=>{"use strict";Object.defineProperty(ac,"__esModule",{value:!0});ac.ImplementationRequest=void 0;var V1=Tn(),B1;(function(t){t.method="textDocument/implementation",t.type=new V1.ProtocolRequestType(t.method)})(B1=ac.ImplementationRequest||(ac.ImplementationRequest={}))});var sI=_e(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});lc.TypeDefinitionRequest=void 0;var q1=Tn(),U1;(function(t){t.method="textDocument/typeDefinition",t.type=new q1.ProtocolRequestType(t.method)})(U1=lc.TypeDefinitionRequest||(lc.TypeDefinitionRequest={}))});var aI=_e(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.DidChangeWorkspaceFoldersNotification=Vs.WorkspaceFoldersRequest=void 0;var oI=Tn(),j1;(function(t){t.type=new oI.ProtocolRequestType0("workspace/workspaceFolders")})(j1=Vs.WorkspaceFoldersRequest||(Vs.WorkspaceFoldersRequest={}));var G1;(function(t){t.type=new oI.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(G1=Vs.DidChangeWorkspaceFoldersNotification||(Vs.DidChangeWorkspaceFoldersNotification={}))});var lI=_e(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});cc.ConfigurationRequest=void 0;var W1=Tn(),H1;(function(t){t.type=new W1.ProtocolRequestType("workspace/configuration")})(H1=cc.ConfigurationRequest||(cc.ConfigurationRequest={}))});var uI=_e(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.ColorPresentationRequest=Bs.DocumentColorRequest=void 0;var cI=Tn(),Y1;(function(t){t.method="textDocument/documentColor",t.type=new cI.ProtocolRequestType(t.method)})(Y1=Bs.DocumentColorRequest||(Bs.DocumentColorRequest={}));var K1;(function(t){t.type=new cI.ProtocolRequestType("textDocument/colorPresentation")})(K1=Bs.ColorPresentationRequest||(Bs.ColorPresentationRequest={}))});var fI=_e(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.FoldingRangeRequest=qs.FoldingRangeKind=void 0;var $1=Tn(),z1;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(z1=qs.FoldingRangeKind||(qs.FoldingRangeKind={}));var Q1;(function(t){t.method="textDocument/foldingRange",t.type=new $1.ProtocolRequestType(t.method)})(Q1=qs.FoldingRangeRequest||(qs.FoldingRangeRequest={}))});var dI=_e(uc=>{"use strict";Object.defineProperty(uc,"__esModule",{value:!0});uc.DeclarationRequest=void 0;var X1=Tn(),J1;(function(t){t.method="textDocument/declaration",t.type=new X1.ProtocolRequestType(t.method)})(J1=uc.DeclarationRequest||(uc.DeclarationRequest={}))});var pI=_e(fc=>{"use strict";Object.defineProperty(fc,"__esModule",{value:!0});fc.SelectionRangeRequest=void 0;var Z1=Tn(),eD;(function(t){t.method="textDocument/selectionRange",t.type=new Z1.ProtocolRequestType(t.method)})(eD=fc.SelectionRangeRequest||(fc.SelectionRangeRequest={}))});var mI=_e(Ii=>{"use strict";Object.defineProperty(Ii,"__esModule",{value:!0});Ii.WorkDoneProgressCancelNotification=Ii.WorkDoneProgressCreateRequest=Ii.WorkDoneProgress=void 0;var tD=Ra(),hI=Tn(),nD;(function(t){t.type=new tD.ProgressType;function e(n){return n===t.type}t.is=e})(nD=Ii.WorkDoneProgress||(Ii.WorkDoneProgress={}));var rD;(function(t){t.type=new hI.ProtocolRequestType("window/workDoneProgress/create")})(rD=Ii.WorkDoneProgressCreateRequest||(Ii.WorkDoneProgressCreateRequest={}));var iD;(function(t){t.type=new hI.ProtocolNotificationType("window/workDoneProgress/cancel")})(iD=Ii.WorkDoneProgressCancelNotification||(Ii.WorkDoneProgressCancelNotification={}))});var gI=_e(Pi=>{"use strict";Object.defineProperty(Pi,"__esModule",{value:!0});Pi.CallHierarchyOutgoingCallsRequest=Pi.CallHierarchyIncomingCallsRequest=Pi.CallHierarchyPrepareRequest=void 0;var Eh=Tn(),sD;(function(t){t.method="textDocument/prepareCallHierarchy",t.type=new Eh.ProtocolRequestType(t.method)})(sD=Pi.CallHierarchyPrepareRequest||(Pi.CallHierarchyPrepareRequest={}));var oD;(function(t){t.method="callHierarchy/incomingCalls",t.type=new Eh.ProtocolRequestType(t.method)})(oD=Pi.CallHierarchyIncomingCallsRequest||(Pi.CallHierarchyIncomingCallsRequest={}));var aD;(function(t){t.method="callHierarchy/outgoingCalls",t.type=new Eh.ProtocolRequestType(t.method)})(aD=Pi.CallHierarchyOutgoingCallsRequest||(Pi.CallHierarchyOutgoingCallsRequest={}))});var TI=_e(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});yt.SemanticTokensRefreshRequest=yt.SemanticTokensRangeRequest=yt.SemanticTokensDeltaRequest=yt.SemanticTokensRequest=yt.SemanticTokensRegistrationType=yt.TokenFormat=yt.SemanticTokens=yt.SemanticTokenModifiers=yt.SemanticTokenTypes=void 0;var dc=Tn(),lD;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator"})(lD=yt.SemanticTokenTypes||(yt.SemanticTokenTypes={}));var cD;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(cD=yt.SemanticTokenModifiers||(yt.SemanticTokenModifiers={}));var uD;(function(t){function e(n){let r=n;return r!==void 0&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}t.is=e})(uD=yt.SemanticTokens||(yt.SemanticTokens={}));var fD;(function(t){t.Relative="relative"})(fD=yt.TokenFormat||(yt.TokenFormat={}));var dD;(function(t){t.method="textDocument/semanticTokens",t.type=new dc.RegistrationType(t.method)})(dD=yt.SemanticTokensRegistrationType||(yt.SemanticTokensRegistrationType={}));var pD;(function(t){t.method="textDocument/semanticTokens/full",t.type=new dc.ProtocolRequestType(t.method)})(pD=yt.SemanticTokensRequest||(yt.SemanticTokensRequest={}));var hD;(function(t){t.method="textDocument/semanticTokens/full/delta",t.type=new dc.ProtocolRequestType(t.method)})(hD=yt.SemanticTokensDeltaRequest||(yt.SemanticTokensDeltaRequest={}));var mD;(function(t){t.method="textDocument/semanticTokens/range",t.type=new dc.ProtocolRequestType(t.method)})(mD=yt.SemanticTokensRangeRequest||(yt.SemanticTokensRangeRequest={}));var gD;(function(t){t.method="workspace/semanticTokens/refresh",t.type=new dc.ProtocolRequestType0(t.method)})(gD=yt.SemanticTokensRefreshRequest||(yt.SemanticTokensRefreshRequest={}))});var _I=_e(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.ShowDocumentRequest=void 0;var TD=Tn(),_D;(function(t){t.method="window/showDocument",t.type=new TD.ProtocolRequestType(t.method)})(_D=pc.ShowDocumentRequest||(pc.ShowDocumentRequest={}))});var yI=_e(hc=>{"use strict";Object.defineProperty(hc,"__esModule",{value:!0});hc.LinkedEditingRangeRequest=void 0;var yD=Tn(),ND;(function(t){t.method="textDocument/linkedEditingRange",t.type=new yD.ProtocolRequestType(t.method)})(ND=hc.LinkedEditingRangeRequest||(hc.LinkedEditingRangeRequest={}))});var NI=_e(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.WillDeleteFilesRequest=qt.DidDeleteFilesNotification=qt.DidRenameFilesNotification=qt.WillRenameFilesRequest=qt.DidCreateFilesNotification=qt.WillCreateFilesRequest=qt.FileOperationPatternKind=void 0;var Oa=Tn(),bD;(function(t){t.file="file",t.folder="folder"})(bD=qt.FileOperationPatternKind||(qt.FileOperationPatternKind={}));var vD;(function(t){t.method="workspace/willCreateFiles",t.type=new Oa.ProtocolRequestType(t.method)})(vD=qt.WillCreateFilesRequest||(qt.WillCreateFilesRequest={}));var ID;(function(t){t.method="workspace/didCreateFiles",t.type=new Oa.ProtocolNotificationType(t.method)})(ID=qt.DidCreateFilesNotification||(qt.DidCreateFilesNotification={}));var PD;(function(t){t.method="workspace/willRenameFiles",t.type=new Oa.ProtocolRequestType(t.method)})(PD=qt.WillRenameFilesRequest||(qt.WillRenameFilesRequest={}));var AD;(function(t){t.method="workspace/didRenameFiles",t.type=new Oa.ProtocolNotificationType(t.method)})(AD=qt.DidRenameFilesNotification||(qt.DidRenameFilesNotification={}));var CD;(function(t){t.method="workspace/didDeleteFiles",t.type=new Oa.ProtocolNotificationType(t.method)})(CD=qt.DidDeleteFilesNotification||(qt.DidDeleteFilesNotification={}));var ED;(function(t){t.method="workspace/willDeleteFiles",t.type=new Oa.ProtocolRequestType(t.method)})(ED=qt.WillDeleteFilesRequest||(qt.WillDeleteFilesRequest={}))});var bI=_e(Ai=>{"use strict";Object.defineProperty(Ai,"__esModule",{value:!0});Ai.MonikerRequest=Ai.MonikerKind=Ai.UniquenessLevel=void 0;var SD=Tn(),xD;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(xD=Ai.UniquenessLevel||(Ai.UniquenessLevel={}));var RD;(function(t){t.import="import",t.export="export",t.local="local"})(RD=Ai.MonikerKind||(Ai.MonikerKind={}));var kD;(function(t){t.method="textDocument/moniker",t.type=new SD.ProtocolRequestType(t.method)})(kD=Ai.MonikerRequest||(Ai.MonikerRequest={}))});var CI=_e(M=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});M.DocumentLinkRequest=M.CodeLensRefreshRequest=M.CodeLensResolveRequest=M.CodeLensRequest=M.WorkspaceSymbolRequest=M.CodeActionResolveRequest=M.CodeActionRequest=M.DocumentSymbolRequest=M.DocumentHighlightRequest=M.ReferencesRequest=M.DefinitionRequest=M.SignatureHelpRequest=M.SignatureHelpTriggerKind=M.HoverRequest=M.CompletionResolveRequest=M.CompletionRequest=M.CompletionTriggerKind=M.PublishDiagnosticsNotification=M.WatchKind=M.FileChangeType=M.DidChangeWatchedFilesNotification=M.WillSaveTextDocumentWaitUntilRequest=M.WillSaveTextDocumentNotification=M.TextDocumentSaveReason=M.DidSaveTextDocumentNotification=M.DidCloseTextDocumentNotification=M.DidChangeTextDocumentNotification=M.TextDocumentContentChangeEvent=M.DidOpenTextDocumentNotification=M.TextDocumentSyncKind=M.TelemetryEventNotification=M.LogMessageNotification=M.ShowMessageRequest=M.ShowMessageNotification=M.MessageType=M.DidChangeConfigurationNotification=M.ExitNotification=M.ShutdownRequest=M.InitializedNotification=M.InitializeError=M.InitializeRequest=M.WorkDoneProgressOptions=M.TextDocumentRegistrationOptions=M.StaticRegistrationOptions=M.FailureHandlingKind=M.ResourceOperationKind=M.UnregistrationRequest=M.RegistrationRequest=M.DocumentSelector=M.DocumentFilter=void 0;M.MonikerRequest=M.MonikerKind=M.UniquenessLevel=M.WillDeleteFilesRequest=M.DidDeleteFilesNotification=M.WillRenameFilesRequest=M.DidRenameFilesNotification=M.WillCreateFilesRequest=M.DidCreateFilesNotification=M.FileOperationPatternKind=M.LinkedEditingRangeRequest=M.ShowDocumentRequest=M.SemanticTokensRegistrationType=M.SemanticTokensRefreshRequest=M.SemanticTokensRangeRequest=M.SemanticTokensDeltaRequest=M.SemanticTokensRequest=M.TokenFormat=M.SemanticTokens=M.SemanticTokenModifiers=M.SemanticTokenTypes=M.CallHierarchyPrepareRequest=M.CallHierarchyOutgoingCallsRequest=M.CallHierarchyIncomingCallsRequest=M.WorkDoneProgressCancelNotification=M.WorkDoneProgressCreateRequest=M.WorkDoneProgress=M.SelectionRangeRequest=M.DeclarationRequest=M.FoldingRangeRequest=M.ColorPresentationRequest=M.DocumentColorRequest=M.ConfigurationRequest=M.DidChangeWorkspaceFoldersNotification=M.WorkspaceFoldersRequest=M.TypeDefinitionRequest=M.ImplementationRequest=M.ApplyWorkspaceEditRequest=M.ExecuteCommandRequest=M.PrepareRenameRequest=M.RenameRequest=M.PrepareSupportDefaultBehavior=M.DocumentOnTypeFormattingRequest=M.DocumentRangeFormattingRequest=M.DocumentFormattingRequest=M.DocumentLinkResolveRequest=void 0;var Us=rI(),We=Tn(),OD=iI();Object.defineProperty(M,"ImplementationRequest",{enumerable:!0,get:function(){return OD.ImplementationRequest}});var wD=sI();Object.defineProperty(M,"TypeDefinitionRequest",{enumerable:!0,get:function(){return wD.TypeDefinitionRequest}});var vI=aI();Object.defineProperty(M,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return vI.WorkspaceFoldersRequest}});Object.defineProperty(M,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return vI.DidChangeWorkspaceFoldersNotification}});var LD=lI();Object.defineProperty(M,"ConfigurationRequest",{enumerable:!0,get:function(){return LD.ConfigurationRequest}});var II=uI();Object.defineProperty(M,"DocumentColorRequest",{enumerable:!0,get:function(){return II.DocumentColorRequest}});Object.defineProperty(M,"ColorPresentationRequest",{enumerable:!0,get:function(){return II.ColorPresentationRequest}});var DD=fI();Object.defineProperty(M,"FoldingRangeRequest",{enumerable:!0,get:function(){return DD.FoldingRangeRequest}});var MD=dI();Object.defineProperty(M,"DeclarationRequest",{enumerable:!0,get:function(){return MD.DeclarationRequest}});var FD=pI();Object.defineProperty(M,"SelectionRangeRequest",{enumerable:!0,get:function(){return FD.SelectionRangeRequest}});var Sh=mI();Object.defineProperty(M,"WorkDoneProgress",{enumerable:!0,get:function(){return Sh.WorkDoneProgress}});Object.defineProperty(M,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Sh.WorkDoneProgressCreateRequest}});Object.defineProperty(M,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Sh.WorkDoneProgressCancelNotification}});var xh=gI();Object.defineProperty(M,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return xh.CallHierarchyIncomingCallsRequest}});Object.defineProperty(M,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return xh.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(M,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return xh.CallHierarchyPrepareRequest}});var ps=TI();Object.defineProperty(M,"SemanticTokenTypes",{enumerable:!0,get:function(){return ps.SemanticTokenTypes}});Object.defineProperty(M,"SemanticTokenModifiers",{enumerable:!0,get:function(){return ps.SemanticTokenModifiers}});Object.defineProperty(M,"SemanticTokens",{enumerable:!0,get:function(){return ps.SemanticTokens}});Object.defineProperty(M,"TokenFormat",{enumerable:!0,get:function(){return ps.TokenFormat}});Object.defineProperty(M,"SemanticTokensRequest",{enumerable:!0,get:function(){return ps.SemanticTokensRequest}});Object.defineProperty(M,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return ps.SemanticTokensDeltaRequest}});Object.defineProperty(M,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return ps.SemanticTokensRangeRequest}});Object.defineProperty(M,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return ps.SemanticTokensRefreshRequest}});Object.defineProperty(M,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return ps.SemanticTokensRegistrationType}});var VD=_I();Object.defineProperty(M,"ShowDocumentRequest",{enumerable:!0,get:function(){return VD.ShowDocumentRequest}});var BD=yI();Object.defineProperty(M,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return BD.LinkedEditingRangeRequest}});var ko=NI();Object.defineProperty(M,"FileOperationPatternKind",{enumerable:!0,get:function(){return ko.FileOperationPatternKind}});Object.defineProperty(M,"DidCreateFilesNotification",{enumerable:!0,get:function(){return ko.DidCreateFilesNotification}});Object.defineProperty(M,"WillCreateFilesRequest",{enumerable:!0,get:function(){return ko.WillCreateFilesRequest}});Object.defineProperty(M,"DidRenameFilesNotification",{enumerable:!0,get:function(){return ko.DidRenameFilesNotification}});Object.defineProperty(M,"WillRenameFilesRequest",{enumerable:!0,get:function(){return ko.WillRenameFilesRequest}});Object.defineProperty(M,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return ko.DidDeleteFilesNotification}});Object.defineProperty(M,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return ko.WillDeleteFilesRequest}});var Rh=bI();Object.defineProperty(M,"UniquenessLevel",{enumerable:!0,get:function(){return Rh.UniquenessLevel}});Object.defineProperty(M,"MonikerKind",{enumerable:!0,get:function(){return Rh.MonikerKind}});Object.defineProperty(M,"MonikerRequest",{enumerable:!0,get:function(){return Rh.MonikerRequest}});var PI;(function(t){function e(n){let r=n;return Us.string(r.language)||Us.string(r.scheme)||Us.string(r.pattern)}t.is=e})(PI=M.DocumentFilter||(M.DocumentFilter={}));var AI;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let r of n)if(!Us.string(r)&&!PI.is(r))return!1;return!0}t.is=e})(AI=M.DocumentSelector||(M.DocumentSelector={}));var qD;(function(t){t.type=new We.ProtocolRequestType("client/registerCapability")})(qD=M.RegistrationRequest||(M.RegistrationRequest={}));var UD;(function(t){t.type=new We.ProtocolRequestType("client/unregisterCapability")})(UD=M.UnregistrationRequest||(M.UnregistrationRequest={}));var jD;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(jD=M.ResourceOperationKind||(M.ResourceOperationKind={}));var GD;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(GD=M.FailureHandlingKind||(M.FailureHandlingKind={}));var WD;(function(t){function e(n){let r=n;return r&&Us.string(r.id)&&r.id.length>0}t.hasId=e})(WD=M.StaticRegistrationOptions||(M.StaticRegistrationOptions={}));var HD;(function(t){function e(n){let r=n;return r&&(r.documentSelector===null||AI.is(r.documentSelector))}t.is=e})(HD=M.TextDocumentRegistrationOptions||(M.TextDocumentRegistrationOptions={}));var YD;(function(t){function e(r){let i=r;return Us.objectLiteral(i)&&(i.workDoneProgress===void 0||Us.boolean(i.workDoneProgress))}t.is=e;function n(r){let i=r;return i&&Us.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=n})(YD=M.WorkDoneProgressOptions||(M.WorkDoneProgressOptions={}));var KD;(function(t){t.type=new We.ProtocolRequestType("initialize")})(KD=M.InitializeRequest||(M.InitializeRequest={}));var $D;(function(t){t.unknownProtocolVersion=1})($D=M.InitializeError||(M.InitializeError={}));var zD;(function(t){t.type=new We.ProtocolNotificationType("initialized")})(zD=M.InitializedNotification||(M.InitializedNotification={}));var QD;(function(t){t.type=new We.ProtocolRequestType0("shutdown")})(QD=M.ShutdownRequest||(M.ShutdownRequest={}));var XD;(function(t){t.type=new We.ProtocolNotificationType0("exit")})(XD=M.ExitNotification||(M.ExitNotification={}));var JD;(function(t){t.type=new We.ProtocolNotificationType("workspace/didChangeConfiguration")})(JD=M.DidChangeConfigurationNotification||(M.DidChangeConfigurationNotification={}));var ZD;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4})(ZD=M.MessageType||(M.MessageType={}));var eM;(function(t){t.type=new We.ProtocolNotificationType("window/showMessage")})(eM=M.ShowMessageNotification||(M.ShowMessageNotification={}));var tM;(function(t){t.type=new We.ProtocolRequestType("window/showMessageRequest")})(tM=M.ShowMessageRequest||(M.ShowMessageRequest={}));var nM;(function(t){t.type=new We.ProtocolNotificationType("window/logMessage")})(nM=M.LogMessageNotification||(M.LogMessageNotification={}));var rM;(function(t){t.type=new We.ProtocolNotificationType("telemetry/event")})(rM=M.TelemetryEventNotification||(M.TelemetryEventNotification={}));var iM;(function(t){t.None=0,t.Full=1,t.Incremental=2})(iM=M.TextDocumentSyncKind||(M.TextDocumentSyncKind={}));var sM;(function(t){t.method="textDocument/didOpen",t.type=new We.ProtocolNotificationType(t.method)})(sM=M.DidOpenTextDocumentNotification||(M.DidOpenTextDocumentNotification={}));var oM;(function(t){function e(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}t.isIncremental=e;function n(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}t.isFull=n})(oM=M.TextDocumentContentChangeEvent||(M.TextDocumentContentChangeEvent={}));var aM;(function(t){t.method="textDocument/didChange",t.type=new We.ProtocolNotificationType(t.method)})(aM=M.DidChangeTextDocumentNotification||(M.DidChangeTextDocumentNotification={}));var lM;(function(t){t.method="textDocument/didClose",t.type=new We.ProtocolNotificationType(t.method)})(lM=M.DidCloseTextDocumentNotification||(M.DidCloseTextDocumentNotification={}));var cM;(function(t){t.method="textDocument/didSave",t.type=new We.ProtocolNotificationType(t.method)})(cM=M.DidSaveTextDocumentNotification||(M.DidSaveTextDocumentNotification={}));var uM;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(uM=M.TextDocumentSaveReason||(M.TextDocumentSaveReason={}));var fM;(function(t){t.method="textDocument/willSave",t.type=new We.ProtocolNotificationType(t.method)})(fM=M.WillSaveTextDocumentNotification||(M.WillSaveTextDocumentNotification={}));var dM;(function(t){t.method="textDocument/willSaveWaitUntil",t.type=new We.ProtocolRequestType(t.method)})(dM=M.WillSaveTextDocumentWaitUntilRequest||(M.WillSaveTextDocumentWaitUntilRequest={}));var pM;(function(t){t.type=new We.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(pM=M.DidChangeWatchedFilesNotification||(M.DidChangeWatchedFilesNotification={}));var hM;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(hM=M.FileChangeType||(M.FileChangeType={}));var mM;(function(t){t.Create=1,t.Change=2,t.Delete=4})(mM=M.WatchKind||(M.WatchKind={}));var gM;(function(t){t.type=new We.ProtocolNotificationType("textDocument/publishDiagnostics")})(gM=M.PublishDiagnosticsNotification||(M.PublishDiagnosticsNotification={}));var TM;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(TM=M.CompletionTriggerKind||(M.CompletionTriggerKind={}));var _M;(function(t){t.method="textDocument/completion",t.type=new We.ProtocolRequestType(t.method)})(_M=M.CompletionRequest||(M.CompletionRequest={}));var yM;(function(t){t.method="completionItem/resolve",t.type=new We.ProtocolRequestType(t.method)})(yM=M.CompletionResolveRequest||(M.CompletionResolveRequest={}));var NM;(function(t){t.method="textDocument/hover",t.type=new We.ProtocolRequestType(t.method)})(NM=M.HoverRequest||(M.HoverRequest={}));var bM;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(bM=M.SignatureHelpTriggerKind||(M.SignatureHelpTriggerKind={}));var vM;(function(t){t.method="textDocument/signatureHelp",t.type=new We.ProtocolRequestType(t.method)})(vM=M.SignatureHelpRequest||(M.SignatureHelpRequest={}));var IM;(function(t){t.method="textDocument/definition",t.type=new We.ProtocolRequestType(t.method)})(IM=M.DefinitionRequest||(M.DefinitionRequest={}));var PM;(function(t){t.method="textDocument/references",t.type=new We.ProtocolRequestType(t.method)})(PM=M.ReferencesRequest||(M.ReferencesRequest={}));var AM;(function(t){t.method="textDocument/documentHighlight",t.type=new We.ProtocolRequestType(t.method)})(AM=M.DocumentHighlightRequest||(M.DocumentHighlightRequest={}));var CM;(function(t){t.method="textDocument/documentSymbol",t.type=new We.ProtocolRequestType(t.method)})(CM=M.DocumentSymbolRequest||(M.DocumentSymbolRequest={}));var EM;(function(t){t.method="textDocument/codeAction",t.type=new We.ProtocolRequestType(t.method)})(EM=M.CodeActionRequest||(M.CodeActionRequest={}));var SM;(function(t){t.method="codeAction/resolve",t.type=new We.ProtocolRequestType(t.method)})(SM=M.CodeActionResolveRequest||(M.CodeActionResolveRequest={}));var xM;(function(t){t.method="workspace/symbol",t.type=new We.ProtocolRequestType(t.method)})(xM=M.WorkspaceSymbolRequest||(M.WorkspaceSymbolRequest={}));var RM;(function(t){t.method="textDocument/codeLens",t.type=new We.ProtocolRequestType(t.method)})(RM=M.CodeLensRequest||(M.CodeLensRequest={}));var kM;(function(t){t.method="codeLens/resolve",t.type=new We.ProtocolRequestType(t.method)})(kM=M.CodeLensResolveRequest||(M.CodeLensResolveRequest={}));var OM;(function(t){t.method="workspace/codeLens/refresh",t.type=new We.ProtocolRequestType0(t.method)})(OM=M.CodeLensRefreshRequest||(M.CodeLensRefreshRequest={}));var wM;(function(t){t.method="textDocument/documentLink",t.type=new We.ProtocolRequestType(t.method)})(wM=M.DocumentLinkRequest||(M.DocumentLinkRequest={}));var LM;(function(t){t.method="documentLink/resolve",t.type=new We.ProtocolRequestType(t.method)})(LM=M.DocumentLinkResolveRequest||(M.DocumentLinkResolveRequest={}));var DM;(function(t){t.method="textDocument/formatting",t.type=new We.ProtocolRequestType(t.method)})(DM=M.DocumentFormattingRequest||(M.DocumentFormattingRequest={}));var MM;(function(t){t.method="textDocument/rangeFormatting",t.type=new We.ProtocolRequestType(t.method)})(MM=M.DocumentRangeFormattingRequest||(M.DocumentRangeFormattingRequest={}));var FM;(function(t){t.method="textDocument/onTypeFormatting",t.type=new We.ProtocolRequestType(t.method)})(FM=M.DocumentOnTypeFormattingRequest||(M.DocumentOnTypeFormattingRequest={}));var VM;(function(t){t.Identifier=1})(VM=M.PrepareSupportDefaultBehavior||(M.PrepareSupportDefaultBehavior={}));var BM;(function(t){t.method="textDocument/rename",t.type=new We.ProtocolRequestType(t.method)})(BM=M.RenameRequest||(M.RenameRequest={}));var qM;(function(t){t.method="textDocument/prepareRename",t.type=new We.ProtocolRequestType(t.method)})(qM=M.PrepareRenameRequest||(M.PrepareRenameRequest={}));var UM;(function(t){t.type=new We.ProtocolRequestType("workspace/executeCommand")})(UM=M.ExecuteCommandRequest||(M.ExecuteCommandRequest={}));var jM;(function(t){t.type=new We.ProtocolRequestType("workspace/applyEdit")})(jM=M.ApplyWorkspaceEditRequest||(M.ApplyWorkspaceEditRequest={}))});var SI=_e(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.createProtocolConnection=void 0;var EI=Ra();function GM(t,e,n,r){return EI.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),EI.createMessageConnection(t,e,n,r)}Uu.createProtocolConnection=GM});var xI=_e(Gn=>{"use strict";var WM=Gn&&Gn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),ju=Gn&&Gn.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&WM(e,t,n)};Object.defineProperty(Gn,"__esModule",{value:!0});Gn.LSPErrorCodes=Gn.createProtocolConnection=void 0;ju(Ra(),Gn);ju(Dt(),Gn);ju(Tn(),Gn);ju(CI(),Gn);var HM=SI();Object.defineProperty(Gn,"createProtocolConnection",{enumerable:!0,get:function(){return HM.createProtocolConnection}});var YM;(function(t){t.lspReservedErrorRangeStart=-32899,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(YM=Gn.LSPErrorCodes||(Gn.LSPErrorCodes={}))});var ir=_e(Gi=>{"use strict";var KM=Gi&&Gi.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),RI=Gi&&Gi.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&KM(e,t,n)};Object.defineProperty(Gi,"__esModule",{value:!0});Gi.createProtocolConnection=void 0;var $M=Ch();RI(Ch(),Gi);RI(xI(),Gi);function zM(t,e,n,r){return $M.createMessageConnection(t,e,n,r)}Gi.createProtocolConnection=zM});var kh=_e(Yr=>{"use strict";Object.defineProperty(Yr,"__esModule",{value:!0});Yr.generateUuid=Yr.parse=Yr.isUUID=Yr.v4=Yr.empty=void 0;var Gu=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},Xe=class extends Gu{constructor(){super([Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),"-",Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),"-","4",Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),"-",Xe._oneOf(Xe._timeHighBits),Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),"-",Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),Xe._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return Xe._oneOf(Xe._chars)}};Xe._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Xe._timeHighBits=["8","9","a","b"];Yr.empty=new Gu("00000000-0000-0000-0000-000000000000");function kI(){return new Xe}Yr.v4=kI;var QM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function OI(t){return QM.test(t)}Yr.isUUID=OI;function XM(t){if(!OI(t))throw new Error("invalid uuid");return new Gu(t)}Yr.parse=XM;function JM(){return kI().asHex()}Yr.generateUuid=JM});var LI=_e(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.attachPartialResult=Gs.ProgressFeature=Gs.attachWorkDone=void 0;var js=ir(),ZM=kh(),hs=class{constructor(e,n){this._connection=e,this._token=n,hs.Instances.set(this._token,this)}begin(e,n,r,i){let s={kind:"begin",title:e,percentage:n,message:r,cancellable:i};this._connection.sendProgress(js.WorkDoneProgress.type,this._token,s)}report(e,n){let r={kind:"report"};typeof e=="number"?(r.percentage=e,n!==void 0&&(r.message=n)):r.message=e,this._connection.sendProgress(js.WorkDoneProgress.type,this._token,r)}done(){hs.Instances.delete(this._token),this._connection.sendProgress(js.WorkDoneProgress.type,this._token,{kind:"end"})}};hs.Instances=new Map;var Oh=class extends hs{constructor(e,n){super(e,n);this._source=new js.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},Wu=class{constructor(){}begin(){}report(){}done(){}},wh=class extends Wu{constructor(){super();this._source=new js.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function eF(t,e){if(e===void 0||e.workDoneToken===void 0)return new Wu;let n=e.workDoneToken;return delete e.workDoneToken,new hs(t,n)}Gs.attachWorkDone=eF;var tF=t=>class extends t{constructor(){super();this._progressSupported=!1}initialize(e){var n;((n=e==null?void 0:e.window)===null||n===void 0?void 0:n.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification(js.WorkDoneProgressCancelNotification.type,r=>{let i=hs.Instances.get(r.token);(i instanceof Oh||i instanceof wh)&&i.cancel()}))}attachWorkDoneProgress(e){return e===void 0?new Wu:new hs(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){let e=ZM.generateUuid();return this.connection.sendRequest(js.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new Oh(this.connection,e))}else return Promise.resolve(new wh)}};Gs.ProgressFeature=tF;var Lh;(function(t){t.type=new js.ProgressType})(Lh||(Lh={}));var wI=class{constructor(e,n){this._connection=e,this._token=n}report(e){this._connection.sendProgress(Lh.type,this._token,e)}};function nF(t,e){if(e===void 0||e.partialResultToken===void 0)return;let n=e.partialResultToken;return delete e.partialResultToken,new wI(t,n)}Gs.attachPartialResult=nF});var DI=_e(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.ConfigurationFeature=void 0;var rF=ir(),iF=Ou(),sF=t=>class extends t{getConfiguration(e){return e?iF.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let n={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(rF.ConfigurationRequest.type,n).then(r=>Array.isArray(e)?r:r[0])}};Hu.ConfigurationFeature=sF});var MI=_e(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.WorkspaceFoldersFeature=void 0;var Yu=ir(),oF=t=>class extends t{initialize(e){let n=e.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new Yu.Emitter,this.connection.onNotification(Yu.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(Yu.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(Yu.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};Ku.WorkspaceFoldersFeature=oF});var FI=_e($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.CallHierarchyFeature=void 0;var Dh=ir(),aF=t=>class extends t{get callHierarchy(){return{onPrepare:e=>{this.connection.onRequest(Dh.CallHierarchyPrepareRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))},onIncomingCalls:e=>{let n=Dh.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:e=>{let n=Dh.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};$u.CallHierarchyFeature=aF});var Fh=_e(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});wa.SemanticTokensBuilder=wa.SemanticTokensFeature=void 0;var Mh=ir(),lF=t=>class extends t{get semanticTokens(){return{on:e=>{let n=Mh.SemanticTokensRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:e=>{let n=Mh.SemanticTokensDeltaRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:e=>{let n=Mh.SemanticTokensRangeRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};wa.SemanticTokensFeature=lF;var VI=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,n,r,i,s){let a=e,l=n;this._dataLen>0&&(a-=this._prevLine,a===0&&(l-=this._prevChar)),this._data[this._dataLen++]=a,this._data[this._dataLen++]=l,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=s,this._prevLine=e,this._prevChar=n}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){if(this._prevData!==void 0){let e=this._prevData.length,n=this._data.length,r=0;for(;r<n&&r<e&&this._prevData[r]===this._data[r];)r++;if(r<n&&r<e){let i=0;for(;i<n&&i<e&&this._prevData[e-1-i]===this._data[n-1-i];)i++;let s=this._data.slice(r,n-i);return{resultId:this.id,edits:[{start:r,deleteCount:e-i-r,data:s}]}}else return r<n?{resultId:this.id,edits:[{start:r,deleteCount:0,data:this._data.slice(r)}]}:r<e?{resultId:this.id,edits:[{start:r,deleteCount:e-r}]}:{resultId:this.id,edits:[]}}else return this.build()}};wa.SemanticTokensBuilder=VI});var BI=_e(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.ShowDocumentFeature=void 0;var cF=ir(),uF=t=>class extends t{showDocument(e){return this.connection.sendRequest(cF.ShowDocumentRequest.type,e)}};zu.ShowDocumentFeature=uF});var qI=_e(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.FileOperationsFeature=void 0;var La=ir(),fF=t=>class extends t{onDidCreateFiles(e){this.connection.onNotification(La.DidCreateFilesNotification.type,n=>{e(n)})}onDidRenameFiles(e){this.connection.onNotification(La.DidRenameFilesNotification.type,n=>{e(n)})}onDidDeleteFiles(e){this.connection.onNotification(La.DidDeleteFilesNotification.type,n=>{e(n)})}onWillCreateFiles(e){return this.connection.onRequest(La.WillCreateFilesRequest.type,(n,r)=>e(n,r))}onWillRenameFiles(e){return this.connection.onRequest(La.WillRenameFilesRequest.type,(n,r)=>e(n,r))}onWillDeleteFiles(e){return this.connection.onRequest(La.WillDeleteFilesRequest.type,(n,r)=>e(n,r))}};Qu.FileOperationsFeature=fF});var UI=_e(Xu=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});Xu.LinkedEditingRangeFeature=void 0;var dF=ir(),pF=t=>class extends t{onLinkedEditingRange(e){this.connection.onRequest(dF.LinkedEditingRangeRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))}};Xu.LinkedEditingRangeFeature=pF});var jI=_e(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.MonikerFeature=void 0;var hF=ir(),mF=t=>class extends t{get moniker(){return{on:e=>{let n=hF.MonikerRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Ju.MonikerFeature=mF});var Yh=_e(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.createConnection=ct.combineFeatures=ct.combineLanguagesFeatures=ct.combineWorkspaceFeatures=ct.combineWindowFeatures=ct.combineClientFeatures=ct.combineTracerFeatures=ct.combineTelemetryFeatures=ct.combineConsoleFeatures=ct._LanguagesImpl=ct.BulkUnregistration=ct.BulkRegistration=ct.ErrorMessageTracker=ct.TextDocuments=void 0;var ae=ir(),Kr=Ou(),Vh=kh(),He=LI(),gF=DI(),TF=MI(),_F=FI(),yF=Fh(),NF=BI(),bF=qI(),vF=UI(),IF=jI();function Bh(t){if(t!==null)return t}var GI=class{constructor(e){this._documents=Object.create(null),this._configuration=e,this._onDidChangeContent=new ae.Emitter,this._onDidOpen=new ae.Emitter,this._onDidClose=new ae.Emitter,this._onDidSave=new ae.Emitter,this._onWillSave=new ae.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._documents[e]}all(){return Object.keys(this._documents).map(e=>this._documents[e])}keys(){return Object.keys(this._documents)}listen(e){e.__textDocumentSync=ae.TextDocumentSyncKind.Full,e.onDidOpenTextDocument(n=>{let r=n.textDocument,i=this._configuration.create(r.uri,r.languageId,r.version,r.text);this._documents[r.uri]=i;let s=Object.freeze({document:i});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)}),e.onDidChangeTextDocument(n=>{let r=n.textDocument,i=n.contentChanges;if(i.length===0)return;let s=this._documents[r.uri],{version:a}=r;if(a==null)throw new Error(`Received document change event for ${r.uri} without valid version identifier`);s=this._configuration.update(s,i,a),this._documents[r.uri]=s,this._onDidChangeContent.fire(Object.freeze({document:s}))}),e.onDidCloseTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&(delete this._documents[n.textDocument.uri],this._onDidClose.fire(Object.freeze({document:r})))}),e.onWillSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onWillSave.fire(Object.freeze({document:r,reason:n.reason}))}),e.onWillSaveTextDocumentWaitUntil((n,r)=>{let i=this._documents[n.textDocument.uri];return i&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:i,reason:n.reason}),r):[]}),e.onDidSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onDidSave.fire(Object.freeze({document:r}))})}};ct.TextDocuments=GI;var WI=class{constructor(){this._messages=Object.create(null)}add(e){let n=this._messages[e];n||(n=0),n++,this._messages[e]=n}sendErrors(e){Object.keys(this._messages).forEach(n=>{e.window.showErrorMessage(n)})}};ct.ErrorMessageTracker=WI;var qh=class{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(ae.MessageType.Error,e)}warn(e){this.send(ae.MessageType.Warning,e)}info(e){this.send(ae.MessageType.Info,e)}log(e){this.send(ae.MessageType.Log,e)}send(e,n){this._rawConnection&&this._rawConnection.sendNotification(ae.LogMessageNotification.type,{type:e,message:n})}},HI=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...n){let r={type:ae.MessageType.Error,message:e,actions:n};return this.connection.sendRequest(ae.ShowMessageRequest.type,r).then(Bh)}showWarningMessage(e,...n){let r={type:ae.MessageType.Warning,message:e,actions:n};return this.connection.sendRequest(ae.ShowMessageRequest.type,r).then(Bh)}showInformationMessage(e,...n){let r={type:ae.MessageType.Info,message:e,actions:n};return this.connection.sendRequest(ae.ShowMessageRequest.type,r).then(Bh)}},YI=NF.ShowDocumentFeature(He.ProgressFeature(HI)),PF;(function(t){function e(){return new Uh}t.create=e})(PF=ct.BulkRegistration||(ct.BulkRegistration={}));var Uh=class{constructor(){this._registrations=[],this._registered=new Set}add(e,n){let r=Kr.string(e)?e:e.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);let i=Vh.generateUuid();this._registrations.push({id:i,method:r,registerOptions:n||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}},AF;(function(t){function e(){return new Zu(void 0,[])}t.create=e})(AF=ct.BulkUnregistration||(ct.BulkUnregistration={}));var Zu=class{constructor(e,n){this._connection=e,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let r of this._unregistrations.values())e.push(r);let n={unregisterations:e};this._connection.sendRequest(ae.UnregistrationRequest.type,n).then(void 0,r=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){let n=Kr.string(e)?e:e.method,r=this._unregistrations.get(n);if(!r)return!1;let i={unregisterations:[r]};return this._connection.sendRequest(ae.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(n)},s=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}},jh=class{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,n,r){return e instanceof Uh?this.registerMany(e):e instanceof Zu?this.registerSingle1(e,n,r):this.registerSingle2(e,n)}registerSingle1(e,n,r){let i=Kr.string(n)?n:n.method,s=Vh.generateUuid(),a={registrations:[{id:s,method:i,registerOptions:r||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(ae.RegistrationRequest.type,a).then(l=>(e.add({id:s,method:i}),e),l=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(l)))}registerSingle2(e,n){let r=Kr.string(e)?e:e.method,i=Vh.generateUuid(),s={registrations:[{id:i,method:r,registerOptions:n||{}}]};return this.connection.sendRequest(ae.RegistrationRequest.type,s).then(a=>ae.Disposable.create(()=>{this.unregisterSingle(i,r)}),a=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(a)))}unregisterSingle(e,n){let r={unregisterations:[{id:e,method:n}]};return this.connection.sendRequest(ae.UnregistrationRequest.type,r).then(void 0,i=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)})}registerMany(e){let n=e.asRegistrationParams();return this.connection.sendRequest(ae.RegistrationRequest.type,n).then(()=>new Zu(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}},KI=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function n(i){return i&&!!i.edit}let r=n(e)?e:{edit:e};return this.connection.sendRequest(ae.ApplyWorkspaceEditRequest.type,r)}},$I=bF.FileOperationsFeature(TF.WorkspaceFoldersFeature(gF.ConfigurationFeature(KI))),Gh=class{constructor(){this._trace=ae.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,n){this._trace!==ae.Trace.Off&&this.connection.sendNotification(ae.LogTraceNotification.type,{message:e,verbose:this._trace===ae.Trace.Verbose?n:void 0})}},Wh=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(ae.TelemetryEventNotification.type,e)}},Hh=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return He.attachWorkDone(this.connection,e)}attachPartialResultProgress(e,n){return He.attachPartialResult(this.connection,n)}};ct._LanguagesImpl=Hh;var zI=IF.MonikerFeature(vF.LinkedEditingRangeFeature(yF.SemanticTokensFeature(_F.CallHierarchyFeature(Hh))));function QI(t,e){return function(n){return e(t(n))}}ct.combineConsoleFeatures=QI;function XI(t,e){return function(n){return e(t(n))}}ct.combineTelemetryFeatures=XI;function JI(t,e){return function(n){return e(t(n))}}ct.combineTracerFeatures=JI;function ZI(t,e){return function(n){return e(t(n))}}ct.combineClientFeatures=ZI;function eP(t,e){return function(n){return e(t(n))}}ct.combineWindowFeatures=eP;function tP(t,e){return function(n){return e(t(n))}}ct.combineWorkspaceFeatures=tP;function CF(t,e){return function(n){return e(t(n))}}ct.combineLanguagesFeatures=CF;function EF(t,e){function n(i,s,a){return i&&s?a(i,s):i||s}return{__brand:"features",console:n(t.console,e.console,QI),tracer:n(t.tracer,e.tracer,JI),telemetry:n(t.telemetry,e.telemetry,XI),client:n(t.client,e.client,ZI),window:n(t.window,e.window,eP),workspace:n(t.workspace,e.workspace,tP)}}ct.combineFeatures=EF;function SF(t,e,n){let r=n&&n.console?new(n.console(qh)):new qh,i=t(r);r.rawAttach(i);let s=n&&n.tracer?new(n.tracer(Gh)):new Gh,a=n&&n.telemetry?new(n.telemetry(Wh)):new Wh,l=n&&n.client?new(n.client(jh)):new jh,u=n&&n.window?new(n.window(YI)):new YI,d=n&&n.workspace?new(n.workspace($I)):new $I,h=n&&n.languages?new(n.languages(zI)):new zI,g=[r,s,a,l,u,d,h];function N(_){return _ instanceof Promise?_:Kr.thenable(_)?new Promise((A,b)=>{_.then(S=>A(S),S=>b(S))}):Promise.resolve(_)}let y,T,C,D={listen:()=>i.listen(),sendRequest:(_,...A)=>i.sendRequest(Kr.string(_)?_:_.method,...A),onRequest:(_,A)=>i.onRequest(_,A),sendNotification:(_,A)=>{let b=Kr.string(_)?_:_.method;arguments.length===1?i.sendNotification(b):i.sendNotification(b,A)},onNotification:(_,A)=>i.onNotification(_,A),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:_=>T=_,onInitialized:_=>i.onNotification(ae.InitializedNotification.type,_),onShutdown:_=>y=_,onExit:_=>C=_,get console(){return r},get telemetry(){return a},get tracer(){return s},get client(){return l},get window(){return u},get workspace(){return d},get languages(){return h},onDidChangeConfiguration:_=>i.onNotification(ae.DidChangeConfigurationNotification.type,_),onDidChangeWatchedFiles:_=>i.onNotification(ae.DidChangeWatchedFilesNotification.type,_),__textDocumentSync:void 0,onDidOpenTextDocument:_=>i.onNotification(ae.DidOpenTextDocumentNotification.type,_),onDidChangeTextDocument:_=>i.onNotification(ae.DidChangeTextDocumentNotification.type,_),onDidCloseTextDocument:_=>i.onNotification(ae.DidCloseTextDocumentNotification.type,_),onWillSaveTextDocument:_=>i.onNotification(ae.WillSaveTextDocumentNotification.type,_),onWillSaveTextDocumentWaitUntil:_=>i.onRequest(ae.WillSaveTextDocumentWaitUntilRequest.type,_),onDidSaveTextDocument:_=>i.onNotification(ae.DidSaveTextDocumentNotification.type,_),sendDiagnostics:_=>i.sendNotification(ae.PublishDiagnosticsNotification.type,_),onHover:_=>i.onRequest(ae.HoverRequest.type,(A,b)=>_(A,b,He.attachWorkDone(i,A),void 0)),onCompletion:_=>i.onRequest(ae.CompletionRequest.type,(A,b)=>_(A,b,He.attachWorkDone(i,A),He.attachPartialResult(i,A))),onCompletionResolve:_=>i.onRequest(ae.CompletionResolveRequest.type,_),onSignatureHelp:_=>i.onRequest(ae.SignatureHelpRequest.type,(A,b)=>_(A,b,He.attachWorkDone(i,A),void 0)),onDeclaration:_=>i.onRequest(ae.DeclarationRequest.type,(A,b)=>_(A,b,He.attachWorkDone(i,A),He.attachPartialResult(i,A))),onDefinition:_=>i.onRequest(ae.DefinitionRequest.type,(A,b)=>_(A,b,He.attachWorkDone(i,A),He.attachPartialResult(i,A))),onTypeDefinition:_=>i.onRequest(ae.TypeDefinitionRequest.type,(A,b)=>_(A,b,He.attachWorkDone(i,A),He.attachPartialResult(i,A))),onImplementation:_=>i.onRequest(ae.ImplementationRequest.type,(A,b)=>_(A,b,He.attachWorkDone(i,A),He.attachPartialResult(i,A))),onReferences:_=>i.onRequest(ae.ReferencesRequest.type,(A,b)=>_(A,b,He.attachWorkDone(i,A),He.attachPartialResult(i,A))),onDocumentHighlight:_=>i.onRequest(ae.DocumentHighlightRequest.type,(A,b)=>_(A,b,He.attachWorkDone(i,A),He.attachPartialResult(i,A))),onDocumentSymbol:_=>i.onRequest(ae.DocumentSymbolRequest.type,(A,b)=>_(A,b,He.attachWorkDone(i,A),He.attachPartialResult(i,A))),onWorkspaceSymbol:_=>i.onRequest(ae.WorkspaceSymbolRequest.type,(A,b)=>_(A,b,He.attachWorkDone(i,A),He.attachPartialResult(i,A))),onCodeAction:_=>i.onRequest(ae.CodeActionRequest.type,(A,b)=>_(A,b,He.attachWorkDone(i,A),He.attachPartialResult(i,A))),onCodeActionResolve:_=>i.onRequest(ae.CodeActionResolveRequest.type,(A,b)=>_(A,b)),onCodeLens:_=>i.onRequest(ae.CodeLensRequest.type,(A,b)=>_(A,b,He.attachWorkDone(i,A),He.attachPartialResult(i,A))),onCodeLensResolve:_=>i.onRequest(ae.CodeLensResolveRequest.type,(A,b)=>_(A,b)),onDocumentFormatting:_=>i.onRequest(ae.DocumentFormattingRequest.type,(A,b)=>_(A,b,He.attachWorkDone(i,A),void 0)),onDocumentRangeFormatting:_=>i.onRequest(ae.DocumentRangeFormattingRequest.type,(A,b)=>_(A,b,He.attachWorkDone(i,A),void 0)),onDocumentOnTypeFormatting:_=>i.onRequest(ae.DocumentOnTypeFormattingRequest.type,(A,b)=>_(A,b)),onRenameRequest:_=>i.onRequest(ae.RenameRequest.type,(A,b)=>_(A,b,He.attachWorkDone(i,A),void 0)),onPrepareRename:_=>i.onRequest(ae.PrepareRenameRequest.type,(A,b)=>_(A,b)),onDocumentLinks:_=>i.onRequest(ae.DocumentLinkRequest.type,(A,b)=>_(A,b,He.attachWorkDone(i,A),He.attachPartialResult(i,A))),onDocumentLinkResolve:_=>i.onRequest(ae.DocumentLinkResolveRequest.type,(A,b)=>_(A,b)),onDocumentColor:_=>i.onRequest(ae.DocumentColorRequest.type,(A,b)=>_(A,b,He.attachWorkDone(i,A),He.attachPartialResult(i,A))),onColorPresentation:_=>i.onRequest(ae.ColorPresentationRequest.type,(A,b)=>_(A,b,He.attachWorkDone(i,A),He.attachPartialResult(i,A))),onFoldingRanges:_=>i.onRequest(ae.FoldingRangeRequest.type,(A,b)=>_(A,b,He.attachWorkDone(i,A),He.attachPartialResult(i,A))),onSelectionRanges:_=>i.onRequest(ae.SelectionRangeRequest.type,(A,b)=>_(A,b,He.attachWorkDone(i,A),He.attachPartialResult(i,A))),onExecuteCommand:_=>i.onRequest(ae.ExecuteCommandRequest.type,(A,b)=>_(A,b,He.attachWorkDone(i,A),void 0)),dispose:()=>i.dispose()};for(let _ of g)_.attach(D);return i.onRequest(ae.InitializeRequest.type,_=>{e.initialize(_),Kr.string(_.trace)&&(s.trace=ae.Trace.fromString(_.trace));for(let A of g)A.initialize(_.capabilities);if(T){let A=T(_,new ae.CancellationTokenSource().token,He.attachWorkDone(i,_),void 0);return N(A).then(b=>{if(b instanceof ae.ResponseError)return b;let S=b;S||(S={capabilities:{}});let w=S.capabilities;w||(w={},S.capabilities=w),w.textDocumentSync===void 0||w.textDocumentSync===null?w.textDocumentSync=Kr.number(D.__textDocumentSync)?D.__textDocumentSync:ae.TextDocumentSyncKind.None:!Kr.number(w.textDocumentSync)&&!Kr.number(w.textDocumentSync.change)&&(w.textDocumentSync.change=Kr.number(D.__textDocumentSync)?D.__textDocumentSync:ae.TextDocumentSyncKind.None);for(let J of g)J.fillServerCapabilities(w);return S})}else{let A={capabilities:{textDocumentSync:ae.TextDocumentSyncKind.None}};for(let b of g)b.fillServerCapabilities(A.capabilities);return A}}),i.onRequest(ae.ShutdownRequest.type,()=>{if(e.shutdownReceived=!0,y)return y(new ae.CancellationTokenSource().token)}),i.onNotification(ae.ExitNotification.type,()=>{try{C&&C()}finally{e.shutdownReceived?e.exit(0):e.exit(1)}}),i.onNotification(ae.SetTraceNotification.type,_=>{s.trace=ae.Trace.fromString(_.value)}),D}ct.createConnection=SF});var rP=_e(Wn=>{"use strict";Object.defineProperty(Wn,"__esModule",{value:!0});Wn.resolveModulePath=Wn.FileSystem=Wn.resolveGlobalYarnPath=Wn.resolveGlobalNodePath=Wn.resolve=Wn.uriToFilePath=void 0;var xF=require("url"),Ci=require("path"),Kh=require("fs"),$h=require("child_process");function RF(t){let e=xF.parse(t);if(e.protocol!=="file:"||!e.path)return;let n=e.path.split("/");for(var r=0,i=n.length;r<i;r++)n[r]=decodeURIComponent(n[r]);if(process.platform==="win32"&&n.length>1){let s=n[0],a=n[1];s.length===0&&a.length>1&&a[1]===":"&&n.shift()}return Ci.normalize(n.join("/"))}Wn.uriToFilePath=RF;function zh(){return process.platform==="win32"}function ef(t,e,n,r){let i="NODE_PATH",s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((a,l)=>{let u=process.env,d=Object.create(null);Object.keys(u).forEach(h=>d[h]=u[h]),e&&Kh.existsSync(e)&&(d[i]?d[i]=e+Ci.delimiter+d[i]:d[i]=e,r&&r(`NODE_PATH value is: ${d[i]}`)),d.ELECTRON_RUN_AS_NODE="1";try{let h=$h.fork("",[],{cwd:n,env:d,execArgv:["-e",s]});if(h.pid===void 0){l(new Error(`Starting process to resolve node module  ${t} failed`));return}h.on("error",N=>{l(N)}),h.on("message",N=>{N.c==="r"&&(h.send({c:"e"}),N.s?a(N.r):l(new Error(`Failed to resolve module: ${t}`)))});let g={c:"rs",a:t};h.send(g)}catch(h){l(h)}})}Wn.resolve=ef;function Qh(t){let e="npm",n=Object.create(null);Object.keys(process.env).forEach(s=>n[s]=process.env[s]),n.NO_UPDATE_NOTIFIER="true";let r={encoding:"utf8",env:n};zh()&&(e="npm.cmd",r.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let s=$h.spawnSync(e,["config","get","prefix"],r).stdout;if(!s){t&&t("'npm config get prefix' didn't return a value.");return}let a=s.trim();return t&&t(`'npm config get prefix' value is: ${a}`),a.length>0?zh()?Ci.join(a,"node_modules"):Ci.join(a,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}Wn.resolveGlobalNodePath=Qh;function kF(t){let e="yarn",n={encoding:"utf8"};zh()&&(e="yarn.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let i=$h.spawnSync(e,["global","dir","--json"],n),s=i.stdout;if(!s){t&&(t("'yarn global dir' didn't return a value."),i.stderr&&t(i.stderr));return}let a=s.trim().split(/\r?\n/);for(let l of a)try{let u=JSON.parse(l);if(u.type==="log")return Ci.join(u.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",r)}}Wn.resolveGlobalYarnPath=kF;var nP;(function(t){let e;function n(){return e!==void 0||(process.platform==="win32"?e=!1:e=!Kh.existsSync(__filename.toUpperCase())||!Kh.existsSync(__filename.toLowerCase())),e}t.isCaseSensitive=n;function r(i,s){return n()?Ci.normalize(s).indexOf(Ci.normalize(i))===0:Ci.normalize(s).toLowerCase().indexOf(Ci.normalize(i).toLowerCase())===0}t.isParent=r})(nP=Wn.FileSystem||(Wn.FileSystem={}));function OF(t,e,n,r){return n?(Ci.isAbsolute(n)||(n=Ci.join(t,n)),ef(e,n,n,r).then(i=>nP.isParent(n,i)?i:Promise.reject(new Error(`Failed to load ${e} from node path location.`))).then(void 0,i=>ef(e,Qh(r),t,r))):ef(e,Qh(r),t,r)}Wn.resolveModulePath=OF});var Xh=_e((_H,iP)=>{"use strict";iP.exports=ir()});var oP=_e(Ir=>{"use strict";var wF=Ir&&Ir.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),sP=Ir&&Ir.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&wF(e,t,n)};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.ProposedFeatures=Ir.SemanticTokensBuilder=void 0;var LF=Fh();Object.defineProperty(Ir,"SemanticTokensBuilder",{enumerable:!0,get:function(){return LF.SemanticTokensBuilder}});sP(ir(),Ir);sP(Yh(),Ir);var DF;(function(t){t.all={__brand:"features"}})(DF=Ir.ProposedFeatures||(Ir.ProposedFeatures={}))});var Ei=_e(Pr=>{"use strict";var MF=Pr&&Pr.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),aP=Pr&&Pr.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&MF(e,t,n)};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.createConnection=Pr.Files=void 0;var Jh=Ou(),FF=Yh(),mc=rP(),Oo=Xh();aP(Xh(),Pr);aP(oP(),Pr);var VF;(function(t){t.uriToFilePath=mc.uriToFilePath,t.resolveGlobalNodePath=mc.resolveGlobalNodePath,t.resolveGlobalYarnPath=mc.resolveGlobalYarnPath,t.resolve=mc.resolve,t.resolveModulePath=mc.resolveModulePath})(VF=Pr.Files||(Pr.Files={}));var lP;function tf(){if(lP!==void 0)try{lP.end()}catch{}}var Da=!1,cP;function BF(){let t="--clientProcessId";function e(n){try{let r=parseInt(n);isNaN(r)||(cP=setInterval(()=>{try{process.kill(r,0)}catch{tf(),process.exit(Da?0:1)}},3e3))}catch{}}for(let n=2;n<process.argv.length;n++){let r=process.argv[n];if(r===t&&n+1<process.argv.length){e(process.argv[n+1]);return}else{let i=r.split("=");i[0]===t&&e(i[1])}}}BF();var qF={initialize:t=>{let e=t.processId;Jh.number(e)&&cP===void 0&&setInterval(()=>{try{process.kill(e,0)}catch{process.exit(Da?0:1)}},3e3)},get shutdownReceived(){return Da},set shutdownReceived(t){Da=t},exit:t=>{tf(),process.exit(t)}};function UF(t,e,n,r){let i,s,a,l;return t!==void 0&&t.__brand==="features"&&(i=t,t=e,e=n,n=r),Oo.ConnectionStrategy.is(t)||Oo.ConnectionOptions.is(t)?l=t:(s=t,a=e,l=n),jF(s,a,l,i)}Pr.createConnection=UF;function jF(t,e,n,r){if(!t&&!e&&process.argv.length>2){let l,u,d=process.argv.slice(2);for(let h=0;h<d.length;h++){let g=d[h];if(g==="--node-ipc"){t=new Oo.IPCMessageReader(process),e=new Oo.IPCMessageWriter(process);break}else if(g==="--stdio"){t=process.stdin,e=process.stdout;break}else if(g==="--socket"){l=parseInt(d[h+1]);break}else if(g==="--pipe"){u=d[h+1];break}else{var i=g.split("=");if(i[0]==="--socket"){l=parseInt(i[1]);break}else if(i[0]==="--pipe"){u=i[1];break}}}if(l){let h=Oo.createServerSocketTransport(l);t=h[0],e=h[1]}else if(u){let h=Oo.createServerPipeTransport(u);t=h[0],e=h[1]}}var s="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!t)throw new Error("Connection input stream is not set. "+s);if(!e)throw new Error("Connection output stream is not set. "+s);if(Jh.func(t.read)&&Jh.func(t.on)){let l=t;l.on("end",()=>{tf(),process.exit(Da?0:1)}),l.on("close",()=>{tf(),process.exit(Da?0:1)})}let a=l=>Oo.createProtocolConnection(t,e,l,n);return FF.createConnection(a,qF,r)}});function Zh(t,e){let n=[];if(t.currentNode==null)return n;let r={start:{line:t.position.line,character:t.position.character-0},end:t.position};for(let i=0;i<e.length;i++){let s=e[i];if(!t.currentNode.hasParameter(s.name)){let a=s.name+'="$1"';n.push({label:s.name,kind:Ma.CompletionItemKind.Value,insertTextFormat:Ma.InsertTextFormat.Snippet,textEdit:Ma.TextEdit.replace(r,a),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}return n}var Ma,uP=x(()=>{Ma=Ge(Dt())});function Fa(t,e,n){return{label:t,insertText:t,kind:nf.CompletionItemKind.Field,detail:n+": "+e}}function rf(t){let e=[];for(let n=0;n<t.length;n++)typeof t[n].name!="undefined"&&e.push(em(t[n]));return e}function em(t){let e="",n=t.name;return t.instructionText!=null&&(e=t.instructionText),t.displayName!=null&&(n=t.displayName+" ("+t.name+")"),t.blueprintName!=null&&(e.trim().length>0&&(e+=`
`),e+="Blueprint: "+t.blueprintName),t.type!=null&&(n+=": "+t.type),{label:t.name,insertText:t.name,kind:nf.CompletionItemKind.Field,documentation:e,detail:n}}var nf,Va=x(()=>{nf=Ge(Dt())});function qe(t,e,n,r){let i="**"+t+"**  ";return i+=`
`,i+=e+"  ",i+="\n```antlers\n",i+=n,i+="\n```",r!=null&&(i+=`

`,i+="[Documentation Reference]("+r+")"),i}function $(t,e,n){let r="**"+t+"**  ";return r+=`
`,r+=e+"  ",n!=null&&(r+=`

`,r+="[Documentation Reference]("+n+")"),r}var re=x(()=>{});function Ba(t){let e=[];return t=="order"&&e.push("sort"),e}var sf=x(()=>{});function GF(t){return{blueprintName:t.sourceName,displayName:t.name,instructionText:"",maxItems:-1,name:t.name,refFieldSetField:null,type:t.dataType,sets:null,import:null}}function of(t){let e=[];for(let n=0;n<t.length;n++)e.push(GF(t[n]));return e}var tm=x(()=>{});function ut(t){return[{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"count",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"index",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"order",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t}]}var Cn=x(()=>{});function fP(t,e,n){if(typeof n=="undefined"||n===null)return;let r=t.findParameter("as"),i=t.findParameter("scope");n=n.concat(of(ut(t))),r!=null&&i!=null?e.introduceScopedAliasScope(t,i.value,r.value,n):r!=null?e.introduceAliasScope(t,r.value,n):i!=null?e.introduceDynamicScopeList(t,i.value,n):e.addBlueprintFields(t,n)}var dP=x(()=>{tm();Cn()});function pP(t){return[{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.collection.context",introducedBy:t},{name:"total_results",dataType:"integer",sourceField:null,sourceName:"*internal.collection.context",introducedBy:t}]}var hP=x(()=>{});var Ws,mP,gP,TP,wo=x(()=>{Ws=[{isRequired:!1,name:"from",description:"The collection name to retrieve entries from",aliases:["folder","use"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"not_from",aliases:["not_folder","dont_use"],description:"The collections to exclude when retrieving entries",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"show_unpublished",aliases:null,description:"Controls whether unpbulished entries are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"show_published",aliases:null,description:"Controls whether published entries are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"show_past",aliases:null,description:"Controls whether to display entries with a past date",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"since",aliases:null,description:"Sets the minimum date an entry can have to be returned",acceptsVariableInterpolation:!0,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"until",aliases:null,description:"Sets the maximum date an entry can have to be returned",acceptsVariableInterpolation:!0,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies the entry sort order",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"limit",aliases:null,description:"Sets the maximum number of entries to return",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["integer"],isDynamic:!1},{isRequired:!1,name:"filter",aliases:["query_scope"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Specifies a custom query scope",expectsTypes:["string"],isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets the amount that entry results should be offset by",expectsTypes:["integer"],isRequired:!1,name:"offset",isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets whether not to paginate entry results",expectsTypes:["boolean","number"],isRequired:!1,name:"paginate",isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies a name to give to a new entries array variable",expectsTypes:["string"],isRequired:!1,name:"as",isDynamic:!1},{name:"scope",aliases:null,acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Sets a prefix on all entry variables",expectsTypes:["string"],isRequired:!1,isDynamic:!1},{name:"locale",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies the locale in which to retrieve entry content",expectsTypes:["string"],isRequired:!1,isDynamic:!1},{name:"redirects",aliases:["links"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Controls whether entries with redirects are returned",expectsTypes:["boolean"],isRequired:!1,isDynamic:!1}],mP=["from","folder","use"],gP=["not_from","not_folder","dont_use"],TP=["draft","scheduled","expired","published"]});function _P(t){let e=[];if(t.project!=null){let n={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position},r=t.project.getUniqueTaxonomyNames();for(let i=0;i<r.length;i++){let s=r[i],a=t.originalLeftWord+s+'="$1"';e.push({label:t.originalLeftWord+s,insertTextFormat:Si.InsertTextFormat.Snippet,kind:Si.CompletionItemKind.Field,textEdit:Si.TextEdit.replace(n,a),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}return e}function qa(t,e){let n=[];if(t.reference!=null){let r=t.reference,i=e.statamicProject.getBlueprintFields(r.collectionNames);typeof i!="undefined"&&i!=null&&(n=i)}return n}function yP(t){let e=[],n=TP.filter(r=>!t.includes(r));for(let r=0;r<n.length;r++)e.push({label:n[r],kind:Si.CompletionItemKind.Variable});return e}function NP(t,e,n){let r=[],i=n.getTaxonomyTerms(e),s=i.filter(a=>!t.includes(a));for(let a=0;a<s.length;a++)r.push({label:s[a],kind:Si.CompletionItemKind.Variable});return r}function bP(t){let e=[],n=t.getCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:Si.CompletionItemKind.Variable});return e}function Ua(t,e){let n=[],r=e.getCollectionNames().filter(i=>!t.includes(i));for(let i=0;i<r.length;i++)n.push({label:r[i],kind:Si.CompletionItemKind.Variable});return n}function af(t){let e=[],n=t.getCollectionQueryScopes();for(let r=0;r<n.length;r++)e.push({label:n[r].name,detail:n[r].description,kind:Si.CompletionItemKind.Variable});return e}var Si,ja=x(()=>{Si=Ge(Dt());wo()});function Ga(t,e){if(t.isClosingTag)return e;if(t.hasMethodPart()&&t.getMethodNameValue()!="count"&&e.addVariables(pP(t)),t.reference!=null){let n=qa(t,e);fP(t,e,n)}return e}var lf=x(()=>{dP();hP();ja()});var nm,vP=x(()=>{nm=[{name:"is",description:"Tests if a field is equal to a value"},{name:"equals",description:"Tests if a field is equal to a value"},{name:"not",description:"Tests if a field is not equal to a value"},{name:"isnt",description:"Tests if a field is not equal to a value"},{name:"exists",description:"Tests if a field exists"},{name:"isset",description:"Tests if a field exists"},{name:"doesnt_exist",description:"Tests if a field does not exist"},{name:"is_empty",description:"Tests if a field does not exist"},{name:"null",description:"Tests if a field does not exist"},{name:"contains",description:"Tests if a field contains a value"},{name:"doesnt_contain",description:"Tests if a field does not contain a value"},{name:"in",description:"Tests if a value is in an array"},{name:"not_in",description:"Tests if an array does not contain a value"},{name:"starts_with",description:"Tests if a field starts with a value"},{name:"doesnt_start_with",description:"Tests if a field does not start with a value"},{name:"ends_with",description:"Tests if a field ends with a value"},{name:"doesnt_end_with",description:"Tests if a field does not end with a value"},{name:"gt",description:"Tests if a field is greater than a value"},{name:"lt",description:"Tests if a field is less than a value"},{name:"gte",description:"Tests if a field is greater than or equal to a value"},{name:"lte",description:"Tests if a field is less than or equal to a value"},{name:"matches",description:"Tests if a field matches a case insensitive regex"},{name:"regex",description:"Tests if a field matches a case insensitive regex"},{name:"doesnt_match",description:"Tests if a field does not match a case insensitive regex"},{name:"is_alpha",description:"Tests if a field contains only alphabetical characters"},{name:"is_numeric",description:"Tests if a field contains only numeric characters"},{name:"is_alpha_numeric",description:"Tests if a field contains only alpha-numeric characters"},{name:"is_url",description:"Tests if a field is a valid URL"},{name:"is_embeddable",description:"Tests if a field is an embeddable video URL"},{name:"is_email",description:"Tests if a field is a valid email address"},{name:"is_after",description:"Tests if a field is after a given date"},{name:"is_before",description:"Tests if a field is before a given date"}]});function Hs(t){let e=[],n={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position};for(let r=0;r<nm.length;r++){let i=nm[r],s=t.originalLeftWord+i.name+'="$1"';e.push({label:i.name,insertTextFormat:cf.InsertTextFormat.PlainText,kind:cf.CompletionItemKind.Field})}return e}var cf,gc=x(()=>{cf=Ge(Dt());vP()});var rm,IP=x(()=>{rm=class{static clear(e){this.unclosedNodes.delete(e)}static registerNodes(e,n){this.unclosedNodes.set(e,n)}static getUnclosedTags(e,n){var a,l,u;let r=[];if(this.unclosedNodes.has(e)==!1)return r;let i=this.unclosedNodes.get(e);if(i.length==0)return r;let s=n.line+1;for(let d=0;d<i.length;d++){let h=i[d];(((a=h.endPosition)==null?void 0:a.line)==s&&n.character>h.endPosition.char||s>((u=(l=h.endPosition)==null?void 0:l.line)!=null?u:0))&&r.push(h)}return r}static hasUnclosedTags(e,n){return this.unclosedNodes.has(e)==!1?!1:this.getUnclosedTags(e,n).length>0}};rm.unclosedNodes=new Map});function Ys(t){return[{name:"edit_url",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"id",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"last_modified",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"permalink",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"published",dataType:"boolean",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"slug",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"template",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t}]}var Tc=x(()=>{});var Ar,WF,PP=x(()=>{Ar=Ge(Ei()),WF=[{label:"name",kind:Ar.CompletionItemKind.Property},{label:"description",kind:Ar.CompletionItemKind.Property},{label:"desc",kind:Ar.CompletionItemKind.Property},{label:"entry",kind:Ar.CompletionItemKind.Property},{label:"collection",kind:Ar.CompletionItemKind.Property},{label:"blueprint",kind:Ar.CompletionItemKind.Property},{label:"var",kind:Ar.CompletionItemKind.Property},{label:"set",kind:Ar.CompletionItemKind.Property},{label:"param",kind:Ar.CompletionItemKind.Property},{label:"param*",kind:Ar.CompletionItemKind.Property},{label:"front",kind:Ar.CompletionItemKind.Property},{label:"format",kind:Ar.CompletionItemKind.Property}]});var uf,JH,AP=x(()=>{uf=Ge(Dt()),JH=[{label:"if",kind:uf.CompletionItemKind.Keyword},{label:"elseif",kind:uf.CompletionItemKind.Keyword},{label:"else",kind:uf.CompletionItemKind.Keyword}]});var im,HF,CP=x(()=>{im=Ge(Ei()),HF=Ge(Dt());Io()});var sm,_c,om=x(()=>{sm=Ge(Dt()),_c=[];_c.push({label:"true",kind:sm.CompletionItemKind.Keyword});_c.push({label:"false",kind:sm.CompletionItemKind.Keyword})});var EP=x(()=>{om()});function mt(t){return[{sourceName:"*internal.array",sourceField:null,dataType:"*",name:"value",introducedBy:t},{sourceName:"*internal.array",sourceField:null,dataType:"*",name:"key",introducedBy:t}]}var Hn=x(()=>{});var YF,SP,xP=x(()=>{Hn();Cn();YF={name:"array",augmentScope:(t,e)=>{e.addVariables(mt(t)),e.addVariables(ut(t))}},SP=YF});var KF,RP,kP=x(()=>{KF={name:"bard",augmentScope:(t,e)=>{e.addVariable({name:"type",dataType:"string",sourceField:null,sourceName:"*internal.bard",introducedBy:t})},injectCompletions:(t,e,n)=>[]},RP=KF});var $F,OP,wP=x(()=>{Hn();Cn();$F={name:"form_multiple",augmentScope:(t,e)=>{e.addVariables(mt(t)),e.addVariables(ut(t))}},OP=$F});var zF,LP,DP=x(()=>{Hn();Cn();zF={name:"list",augmentScope:(t,e)=>{e.addVariables(mt(t)),e.addVariables(ut(t))}},LP=zF});function MP(t){return[{name:"type",dataType:"string",sourceName:"*internal.replicator",sourceField:null,introducedBy:t}]}var FP=x(()=>{});var QF,VP,BP=x(()=>{Cn();FP();QF={name:"replicator",augmentScope:(t,e)=>{e.addVariables(MP(t)),e.addVariables(ut(t))},injectCompletions:(t,e,n)=>[]},VP=QF});var XF,qP,UP=x(()=>{Hn();Cn();XF={name:"select_multiple",augmentScope:(t,e)=>{e.addVariables(mt(t)),e.addVariables(ut(t))}},qP=XF});var JF,jP,GP=x(()=>{Hn();Cn();JF={name:"sites_multiple",augmentScope:(t,e)=>{e.addVariables(mt(t)),e.addVariables(ut(t))}},jP=JF});var ZF,WP,HP=x(()=>{Hn();Cn();ZF={name:"structures_multiple",augmentScope:(t,e)=>{e.addVariables(mt(t)),e.addVariables(ut(t))}},WP=ZF});var eV,YP,KP=x(()=>{eV={name:"table",augmentScope:(t,e)=>{e.addVariable({name:"cells",dataType:"array",sourceName:"*internal.fieldtype.table",sourceField:null,introducedBy:t})}},YP=eV});var tV,$P,zP=x(()=>{Hn();Cn();tV={name:"tags",augmentScope:(t,e)=>{e.addVariables(mt(t)),e.addVariables(ut(t))}},$P=tV});function ff(t){return Ys(t).concat([{name:"entries_count",dataType:"number",sourceName:"*internal.term",sourceField:null,introducedBy:t},{name:"is_term",dataType:"boolean",sourceName:"*internal.term",sourceField:null,introducedBy:t},{name:"taxonomy",dataType:"string",sourceName:"*internal.term",sourceField:null,introducedBy:t}])}var am=x(()=>{Tc()});var nV,QP,XP=x(()=>{Hn();Cn();am();nV={name:"taxonomies_multiple",augmentScope:(t,e)=>{e.addVariables(mt(t)),e.addVariables(ut(t)),e.addVariables(ff(t))}},QP=nV});var rV,JP,ZP=x(()=>{Hn();Cn();am();rV={name:"terms_multiple",augmentScope:(t,e)=>{e.addVariables(mt(t)),e.addVariables(ut(t)),e.addVariables(ff(t))}},JP=rV});var iV,eA,tA=x(()=>{Hn();Cn();iV={name:"user_groups_multiple",augmentScope:(t,e)=>{e.addVariables(mt(t)),e.addVariables(ut(t))}},eA=iV});var sV,nA,rA=x(()=>{Hn();Cn();sV={name:"user_roles_multiple",augmentScope:(t,e)=>{e.addVariables(mt(t)),e.addVariables(ut(t))}},nA=sV});var oV,iA,sA=x(()=>{Hn();Cn();oV={name:"users_multiple",augmentScope:(t,e)=>{e.addVariables(mt(t)),e.addVariables(ut(t)),e.injectBlueprint(t,"user")}},iA=oV});var aV,oA,aA=x(()=>{Hn();Cn();aV={name:"yaml",augmentScope:(t,e)=>{e.addVariables(mt(t)),e.addVariables(ut(t))}},oA=aV});var lV,lA,cA=x(()=>{xP();kP();wP();DP();BP();UP();GP();HP();KP();zP();XP();ZP();tA();rA();sA();aA();lV=[SP,RP,OP,LP,VP,qP,jP,WP,oA,YP,QP,$P,JP,iA,eA,nA],lA=lV});var Ks,df,lm=x(()=>{cA();Ks=class{constructor(){this.fieldTypes=new Map}getFieldTypes(){return this.fieldTypes}getFieldType(e){return this.fieldTypes.get(e)}registerFieldtypes(e){for(let n=0;n<e.length;n++)this.fieldTypes.set(e[n].name,e[n])}loadCoreFieldtypes(){this.registerFieldtypes(lA)}hasFieldtype(e){return this.fieldTypes.has(e)}};Ks.instance=null;(typeof Ks.instance=="undefined"||Ks.instance==null)&&(Ks.instance=new Ks,Ks.instance.loadCoreFieldtypes());df=Ks});var uA=x(()=>{lm()});function pf(t){let e="";return t.currentNode!=null&&(e=t.currentNode.getMethodNameValue()),e}function ms(t){if(t.includes(":")==!1)return t;let e=t.split(":");return e.length>1?e[e.length-1]:e[0].trim()}function hf(t){return t.includes(":")==!1?t:t.split(":")[0]}function fA(t){var n;if(t.nodesInScope.length==0)return[];let e=t.nodesInScope[t.nodesInScope.length-1];return((n=t.context)==null?void 0:n.node)!=null&&(e=t.context.node),e.currentScope==null?[]:cV(t,e.currentScope)}function cV(t,e){let n=[];return e.values.forEach(r=>{var i;if(r.sourceField!=null?n.push({label:r.name,detail:r.sourceField.blueprintName,documentation:(i=r.sourceField.instructionText)!=null?i:"",kind:Lo.CompletionItemKind.Field}):n.push(Fa(r.name,"","")),r.dataType.trim().length>0&&r.dataType=="array"){let s=r.name+` }}
    $1
{{ /`+r.name+" ",a={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position};n.push({label:r.name+" loop",insertTextFormat:Lo.InsertTextFormat.Snippet,kind:Lo.CompletionItemKind.Snippet,textEdit:Lo.TextEdit.replace(a,s),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}),e.lists.forEach((r,i)=>{n.push(Fa(i,"",""))}),n}var Lo,gs=x(()=>{Lo=Ge(ir());Io();$s();IP();Tc();nt();ii();PP();AP();Va();CP();EP();uA()});function Le(t){let e="";typeof t!="undefined"&&typeof t.resolveDocumentation!="undefined"&&t.resolveDocumentation!=null&&(e=t.resolveDocumentation());let n=t.tagName;if(n.includes(":")){let r=n.split(":");n=r[r.length-1]}return{label:n,kind:dA.CompletionItemKind.Text,sortText:"1",documentation:{kind:"markdown",value:e}}}var dA,$r=x(()=>{dA=Ge(Ei())});function pA(t,e,n){return{name:t,acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:e,expectsTypes:["string"],isDynamic:!0,isRequired:!1,documentationLink:n,docLinkName:"MDN Reference"}}var hA,mA,gA=x(()=>{hA=pA("class","A space-separated list of the classes of the element.","https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/class"),mA=pA("style","Contains CSS styling declarations to be applied to the element. Note that it is recommended for styles to be defined in a separate file or files.","https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/style")});function mf(t){return t=="class"?hA:t=="style"?mA:{name:t,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"",expectsTypes:["string","number","array"],isRequired:!1,isDynamic:!0}}function TA(t){let e=[];for(let n=0;n<t.length;n++)e.push({label:t[n],kind:cm.CompletionItemKind.Field});return ue(e)}function kt(t){let e=[];for(let n=0;n<t.length;n++)e.push({label:t[n],kind:cm.CompletionItemKind.Field});return ue(e)}function ue(t){return{items:t,isExclusiveResult:!0,analyzeDefaults:!1}}function kn(t){return{items:t,isExclusiveResult:!1,analyzeDefaults:!0}}var cm,Re,De=x(()=>{cm=Ge(Dt());gA();Re={items:[],isExclusiveResult:!1,analyzeDefaults:!0}});function bt(t,e){let n=uV(t);return n.tagName=e,n}function uV(t){return{allowsArbitraryParameters:t.allowsArbitraryParameters,allowsContentClose:t.allowsContentClose,injectParentScope:t.injectParentScope,parameters:t.parameters,requiresClose:t.requiresClose,tagName:t.tagName,introducedIn:t.introducedIn,hideFromCompletions:t.hideFromCompletions,augmentScope:t.augmentScope,requiresCloseResolver:t.requiresCloseResolver,resolveCompletionItems:t.resolveCompletionItems,resolveDynamicParameter:t.resolveDynamicParameter,resolveSpecialType:t.resolveSpecialType,resovleParameterCompletionItems:t.resovleParameterCompletionItems,suggestAlternativeParams:t.suggestAlternativeParams,resolveDocumentation:t.resolveDocumentation}}var Wi=x(()=>{});function _A(t){return t.findParameterValueOrNull("scope")}function yA(t){t.getAllNodes().forEach(n=>{n instanceof Z&&n.manifestType==="array"&&(n.mustClose=!0)})}var um=x(()=>{nt()});function fV(t){return t.findParameterValueOrNull("as")}function pV(t,e){let n=[];if(t.hasMethodPart()){let l=t.getMethodNameValue();if(dV.includes(l)==!1)return n.push(l),n}let r=t.findAnyParameter(mP),i=t.findAnyParameter(gP),s=[],a=[];return typeof r!="undefined"&&r!==null&&(r.value.trim()==="*"?(s=e.getUniqueCollectionNames(),typeof i!="undefined"&&i!==null&&i.isVariableReference==!1&&i.hasInterpolations()==!1&&(a=i.getArrayValue())):r.isVariableReference==!1&&r.hasInterpolations()==!1&&(s=r.getArrayValue())),a.length>0?n=s.filter(function(l){return a.includes(l)==!1}):n=s,n}function zs(t,e){var d,h,g,N,y,T;let n=pV(t,e),r=!1,i=!1,s=!1,a=null,l="";if(t.isClosingTag==!1){let C=fV(t),D=_A(t);C!=null&&(r=!0,l=C),D!=null&&(s=!0,a=D),i=t.hasParameter("paginate")}return{context:{collectionNames:n!=null?n:[],endPosition:(h=(d=t.endPosition)==null?void 0:d.char)!=null?h:0,aliasName:l,isAliased:r,isScoped:s,scopeName:a,isStartOfScope:!t.isClosingTag,line:(N=(g=t.startPosition)==null?void 0:g.line)!=null?N:0,startPosition:(T=(y=t.startPosition)==null?void 0:y.char)!=null?T:0,isPaginated:i,excludeCollections:[],includeCollections:[]},issues:[]}}var dV,yc=x(()=>{um();wo();dV=["count","next","previous"]});function Wa(t,e){if(t==null)return null;let n=is(e,":");return n.includes(":")&&(n=n.split(":")[0]),n=="status"||n=="taxonomy"||t.currentScope!=null&&t.currentScope.containsReference(n)?mf(e):null}var gf=x(()=>{ii();De()});function Qs(t,e){var n,r,i,s,a,l,u,d,h,g;if(t.isDynamic){let N=hf(t.name);if(e.nodesInScope.length>0){let y=e.nodesInScope[e.nodesInScope.length-1];if(y!=null&&y.currentScope!=null){let T=qa(y,y.currentScope),C=T.map(_=>_.name),D=ms(e.leftWord);if(C.includes(D))return ue(Hs(e))}}if(N=="status"&&((n=e.context)==null?void 0:n.parameterContext)!=null)return ue(yP((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[]));if(N=="taxonomy"){let y=ms(t.name);if(e.project.hasTaxonomy(y)&&((s=e.context)==null?void 0:s.parameterContext)!=null)return ue(NP((l=(a=e.context.parameterContext.parameter)==null?void 0:a.getArrayValue())!=null?l:[],y,e.project))}}if(t.name=="filter"||t.name=="query_scope")return ue(af(e.project));if(e.nodesInScope.length>0){let N=e.nodesInScope[e.nodesInScope.length-1];if(N.hasMethodPart()&&mV.includes(N.getMethodNameValue())&&gV.includes(t.name))return ue(bP(e.project))}return hV.includes(t.name)&&((u=e.context)==null?void 0:u.parameterContext)!=null?ue(Ua((g=(h=(d=e.context)==null?void 0:d.parameterContext.parameter)==null?void 0:h.getArrayValue())!=null?g:[],e.project)):null}var hV,mV,gV,Nc=x(()=>{gc();gs();De();ja();hV=["from","folder","use","not_from","not_folder"],mV=["previous","next"],gV=["in","collection"]});var TV,Do,Tf=x(()=>{re();sf();lf();wo();_f();yc();gf();Nc();TV={tagName:"collection:previous",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...Ws,{name:"in",aliases:["collection"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The collection to search in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"current",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets the current entry by ID",expectsTypes:["string"],isDynamic:!1,isRequired:!1}],augmentScope:Ga,resolveDynamicParameter:Wa,resolveSpecialType:zs,suggestAlternativeParams:Ba,resovleParameterCompletionItems:Qs,resolveCompletionItems:Ha,resolveDocumentation:t=>qe("collection:previous Tag","The `collection:previous` tag is used to show the entries that appear before the current entry, based on some entry order (publish date, alphabetical, or manual).",`{{# Retrieve the previous two entries, based on dates in ascending order. #}}
{{ collection:previous in="articles" limit="2" sort="date:asc" }}

{{ /collection:previous }}`,"https://statamic.dev/tags/collection-previous")},Do=TV});var yf,Nf,fm=x(()=>{Wi();Tf();yf=bt(Do,"collection:older"),Nf=bt(Do,"collection:newer")});var _V,bf,dm=x(()=>{re();wo();yc();Nc();_V={tagName:"collection:count",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...Ws,{isRequired:!0,name:"in",aliases:["from"],description:"The collection from which to count entries",acceptsVariableInterpolation:!0,allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1}],resolveSpecialType:zs,resovleParameterCompletionItems:Qs,resolveDocumentation:t=>qe("collection:count Tag","The `collection:count` tag returns the total number of entries in the specified collection(s). The collection count tag accepts the same parameters as the collection tag, allowing developers to count entries that meet specific conditions.",`Total entry count: {{ collection:count in="collection-name" }}
Draft count: {{ collection:count in="collection-name" status:in="draft" }}`,"https://statamic.dev/tags/collection-count")},bf=_V});var yV,vf,pm=x(()=>{re();sf();lf();wo();_f();yc();gf();Nc();yV={tagName:"collection:next",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...Ws,{name:"in",aliases:["collection"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The collection to search in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"current",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets the current entry by ID",expectsTypes:["string"],isDynamic:!1,isRequired:!1}],augmentScope:Ga,resolveDynamicParameter:Wa,resolveSpecialType:zs,suggestAlternativeParams:Ba,resovleParameterCompletionItems:Qs,resolveCompletionItems:Ha,resolveDocumentation:t=>qe("collection:next Tag","The `collection:next` tag is used to show the entries that will appear after the current entry, based on some entry order (publish date, alphabetical, or manual).",`{{# Retrieve the next two entries, based on dates in ascending order. #}}
{{ collection:next in="articles" limit="2" sort="date:asc" }}

{{ /collection:next }}`,"https://statamic.dev/tags/collection-next")},vf=yV});function Ha(t){var n,r;let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="collection"||t.leftWord=="/collection")&&t.leftChar==":"){let i=t.project.getCollectionNames();for(let s=0;s<i.length;s++)e.push({label:i[s],kind:bc.CompletionItemKind.Field,sortText:"0"});return e.push(Le(bf)),e.push(Le(vf)),e.push(Le(Do)),e.push(Le(yf)),e.push(Le(Nf)),{items:e,analyzeDefaults:!1,isExclusiveResult:!1}}if(t.currentNode!=null&&t.currentNode.currentScope!=null){let i=qa(t.currentNode,t.currentNode.currentScope),s=i.map(l=>l.name),a=ms(t.leftWord);if(a==="taxonomy")return ue(_P(t));if(s.includes(a))return e=Hs(t),ue(e);if(t.isCaretInTag&&!((n=t.context)==null?void 0:n.isInParameter)&&["collection","/collection"].includes(t.leftWord)==!1&&t.leftChar!=" "){let l=[];for(let u=0;u<i.length;u++){let d=i[u];l.includes(d.name)==!1&&(e.push({label:d.name,detail:d.blueprintName,documentation:(r=d.instructionText)!=null?r:"",kind:bc.CompletionItemKind.Field}),l.push(d.name))}if(e.push({label:"taxonomy",insertText:"taxonomy:",kind:bc.CompletionItemKind.Field}),e.push({label:"status",insertText:"status:",kind:bc.CompletionItemKind.Field}),e.length>0)return kn(e)}}return Re}var bc,_f=x(()=>{bc=Ge(Ei());gc();gs();$r();De();fm();dm();pm();Tf();ja()});var NV,NA,bA=x(()=>{re();sf();lf();wo();_f();yc();gf();Nc();NV={tagName:"collection",hideFromCompletions:!1,introducedIn:null,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:Ws,augmentScope:Ga,resolveDynamicParameter:Wa,resolveSpecialType:zs,suggestAlternativeParams:Ba,resovleParameterCompletionItems:Qs,resolveCompletionItems:Ha,resolveDocumentation:t=>qe("collection Tag","The `collection` tag provides access to entry data such as blog posts, products, etc.",`{{ collection:articles as="posts" }}

	{{ posts }}
		{{ title }}
	{{ /posts }}

{{ /collection:articles }}`,"https://statamic.dev/tags/collection")},NA=NV});var bV,vA,IA=x(()=>{re();De();bV={tagName:"cache",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,allowsContentClose:!1,allowsArbitraryParameters:!1,resovleParameterCompletionItems:(t,e)=>t.name=="scope"?kt(["page","site"]):null,parameters:[{isRequired:!1,name:"for",description:"The duration the cache is valid for",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"key",description:"An arbitrary name the cache entry may be referenced by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"scope",description:" The scope of the cached value. Either site or page.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1}],resolveSpecialType:(t,e)=>{let n=t.findParameter("key"),r=null;if(n!=null){let i=n.value;i.trim().length>0&&(r={key:i,reference:t})}return{context:r,issues:[]}},resolveDocumentation:t=>qe("cache Tag","The `cache` tag can be used to save the results of an expensive template operation. The duration of the cache can be configured.",`{{ cache for="10 minutes" }}
    {{# Template code that won't be re-rendered for at least 10 minutes. #}}
{{ /cache }}`,"https://statamic.dev/tags/cache")},vA=bV});var vV,PA,AA=x(()=>{re();gs();De();vV={tagName:"dump",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.leftWord=="dump"&&t.leftChar==":"?ue(fA(t)):Re,resolveDocumentation:t=>qe("dump Tag","The `dump` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered.",`{{ collection:articles }}
	{{# View all data available, for each entry. #}}
    {{ dump }}
{{ /collection:articles }}`,"https://statamic.dev/tags/dump")},PA=vV});var IV,CA,EA=x(()=>{re();IV={tagName:"404",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>qe("404 (Not Found) Tag","The `404` (Not Found) tag will trigger a 404 status code, and display the 404 template to the site visitor.",`{{ unless logged_in }}
	{{# Display the 404 Not Found page. #}}
	{{ 404 }}
{{ /unless }}`,"https://statamic.dev/tags/404")},CA=IV});var PV,SA,xA=x(()=>{re();PV={tagName:"link",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"to",description:"The relative path",expectsTypes:["string"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!0,isDynamic:!1},{name:"absolute",description:"Whether to generate absolute URLs. Default false",expectsTypes:["boolean"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1},{name:"id",description:"The ID of the entry to link to",expectsTypes:["string"],allowsVariableReference:!0,acceptsVariableInterpolation:!0,aliases:[],isDynamic:!1,isRequired:!1},{name:"in",description:"The handle of the site to link to.",expectsTypes:["string"],allowsVariableReference:!0,acceptsVariableInterpolation:!0,aliases:[],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>$("link Tag","The `link` tag accepts relative URLs or entry IDs and generates fully-qualified URLs to the desired content.","https://statamic.dev/tags/link")},SA=PV});var RA,kA,OA=x(()=>{re();RA={tagName:"loop",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,augmentScope:(t,e)=>(e.addVariable({name:"value",dataType:"*",sourceName:"*internal.loop.value",sourceField:null,introducedBy:t}),e),parameters:[{name:"times",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The number of iterations",isRequired:!1,isDynamic:!1},{name:"from",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to start iterating from. Default 1",isRequired:!1,isDynamic:!1},{name:"to",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to stop iterating at",isRequired:!1,isDynamic:!1}],resolveDocumentation:t=>$("loop Tag","The `loop` tag is used to create an array of items between two values, and then iterate the created array. Alternatively, a max value can be set using the `times` parameter to loop that number of times.","https://statamic.dev/tags/loop")},kA={tagName:"range",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,augmentScope:(t,e)=>(e.addVariable({name:"value",dataType:"*",sourceName:"*internal.loop.value",sourceField:null,introducedBy:t}),e),parameters:[{name:"times",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The number of iterations",isRequired:!1,isDynamic:!1},{name:"from",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to start iterating from. Default 1",isRequired:!1,isDynamic:!1},{name:"to",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to stop iterating at",isRequired:!1,isDynamic:!1}],resolveDocumentation:t=>$("range Tag","The `range` tag is used to create an array of items between two values, and then iterate the created array. Alternatively, a max value can be set using the `times` parameter to loop that number of times.","https://statamic.dev/tags/loop")}});var Mo,wA,LA=x(()=>{Wl();Fo();Mo=class{constructor(){this.loadedDocuments=new Map;this.activeProject=null}getDocuments(){let e=[];return this.loadedDocuments.forEach(n=>{e.push(n)}),e}setProject(e){this.activeProject=e,this.loadedDocuments.forEach(n=>{this.activeProject!=null&&n.updateProject(this.activeProject)})}refreshDocumentState(){this.activeProject!=null&&this.setProject(this.activeProject)}hasDocument(e){return this.loadedDocuments.has(e)}createDocument(e){if(!this.loadedDocuments.has(e)){let n=new _n;n.documentUri=e,this.loadedDocuments.set(e,n)}}loadDocument(e,n){this.loadedDocuments.set(e,_n.fromText(n))}getDocument(e){return this.loadedDocuments.get(e)}updateDocument(e,n){var r,i;if(this.loadedDocuments.has(e)){let s=this.loadedDocuments.get(e);s.loadString(n);let a=(i=(r=Mr.instance)==null?void 0:r.getStructure())==null?void 0:i.findView(e);a!=null&&(a.document=s)}}createOrUpdate(e,n){this.createDocument(e),this.updateDocument(e,n)}getDocumentErrors(e){return this.loadedDocuments.has(e)?this.loadedDocuments.get(e).errors.all():[]}};Mo.instance=null;(typeof Mo.instance=="undefined"||Mo.instance)&&(Mo.instance=new Mo);wA=Mo});var hm,DA=x(()=>{LA();hm=new wA});function it(t,e){return e.trim().length>0?mf(e):null}var yn=x(()=>{De()});var Ya,If=x(()=>{Ya=[{isRequired:!1,name:"src",description:"The name of the partial view",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],isDynamic:!1}]});function Ka(t,e){var n;if(t.isDynamic&&e.currentNode!=null&&e.currentNode.getTagName()=="partial"&&e.currentNode.hasMethodPart()){let r=e.currentNode.getMethodNameValue();if(r.trim().length>0&&((n=Mr.instance)==null?void 0:n.hasStructure())){let i=Mr.instance.getStructure().findRelativeView(r);if(i!=null&&i.varReferenceNames.has(t.name)){let s=i.varReferenceNames.get(t.name);if(i.document!=null&&i.document.hasFrontMatter()){let a=i.document.getFrontMatterScope();if(a!=null){let l=a.getList(s);if(l!=null)return TA(l.getVariableNames())}}}}}if(t.name=="src"){let r=e.project.getViews(),i=[];return r.forEach(s=>{if(Mi.hasDetails(s.documentUri)){let a=Mi.documentDetails.get(s.documentUri);i.push({label:a.documentName+"("+s.relativeDisplayName+")",insertText:s.relativeDisplayName,detail:a.documentName,documentation:{kind:vc.MarkupKind.Markdown,value:a.documentDescription},kind:vc.CompletionItemKind.File})}else i.push({label:s.relativeDisplayName,kind:vc.CompletionItemKind.File})}),ue(i)}return null}var vc,Pf=x(()=>{vc=Ge(Ei());Au();Wl();De()});var AV,Af,mm=x(()=>{re();If();Pf();AV={tagName:"partial:exists",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,parameters:Ya,introducedIn:"3.2.7",resovleParameterCompletionItems:Ka,resolveDocumentation:t=>$("partial:exists Tag","The `partial:exists` can be used within conditional statements to test if a partial exists.","https://statamic.dev/tags/partial-exists")},Af=AV});var CV,Cf,gm=x(()=>{re();If();Pf();CV={tagName:"partial:if_exists",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,parameters:Ya,introducedIn:"3.2.7",resovleParameterCompletionItems:Ka,resolveDocumentation:t=>$("partial:if_exists Tag","The `partial:if_exists` can be used to output the contents of a partial if it exists.","https://statamic.dev/tags/partial-if-exists")},Cf=CV});function MA(t){if(t.getTagName()!="partial")return null;let e="";if(t.hasMethodPart())e=t.getMethodNameValue();else{let n=t.findParameter("src");n!=null&&(e=n.value)}return e}var FA=x(()=>{});function xV(t){let e=[];return t.forEach(n=>{if(n.isTagNode||n.isClosingTag||n.isComment||n.hasMethodPart()&&n.getMethodNameValue().length>0||n.name!=null&&n.name.content.includes("["))return;let r=n.getTagName();!e.includes(r)&&r!="#"&&r!="slot"&&e.push(r)}),e}var Cr,EV,SV,VA,BA=x(()=>{Cr=Ge(Ei());Au();DA();$r();De();yn();mm();gm();If();FA();Pf();EV=[Le(Af),Le(Cf)],SV={tagName:"partial",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!0,parameters:Ya,requiresClose:!1,allowsContentClose:!0,introducedIn:null,resolveDocumentation:t=>`**Partial Tag**  
Includes another view into the current template.  

[Documentation Reference](https://statamic.dev/tags/partial)
`,resolveDynamicParameter:it,resovleParameterCompletionItems:Ka,resolveCompletionItems:t=>{let e=[];if(t.leftChar=='"'&&t.leftWord==':src="')return{items:[],analyzeDefaults:!0,isExclusiveResult:!1};if((t.leftWord=="partial"||t.leftWord=="/partial")&&t.leftChar==":"||t.leftWord=='src="'&&t.leftChar=='"')return t.project.getViews().forEach(r=>{let i=decodeURIComponent(r.documentUri);if(Mi.hasDetails(i)){let s=Mi.documentDetails.get(i);e.push({label:s.documentName+"("+r.relativeDisplayName+")",insertText:r.relativeDisplayName,detail:s.documentName,documentation:{kind:Cr.MarkupKind.Markdown,value:s.documentDescription},kind:Cr.CompletionItemKind.File})}else e.push({label:r.relativeDisplayName,kind:Cr.CompletionItemKind.File})}),t.leftWord!='src="'&&(e=e.concat(EV)),{analyzeDefaults:!1,isExclusiveResult:!0,items:e};if(t.currentNode!=null&&t.project!=null){let n=MA(t.currentNode);if(n!=null&&n.trim().length>0){let r=t.project.findRelativeView(n);if(r!=null&&hm.hasDocument(r.documentUri)){let i=hm.getDocument(r.documentUri);if(i!=null){let s=i.getAllAntlersNodes(),a=xV(s),l=[];r.varReferenceNames!=null&&r.varReferenceNames.forEach((d,h)=>{a.push(h)});let u=[];if(r.injectsParameters.length>0){let d={start:{line:t.position.line,character:t.position.character-0},end:t.position};r.injectsParameters.forEach(h=>{let g=h.name+'="$1"';l.includes(h.name)||(l.push(h.name),u.push({label:h.name,kind:Cr.CompletionItemKind.Value,insertTextFormat:Cr.InsertTextFormat.Snippet,textEdit:Cr.TextEdit.replace(d,g),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}))})}if(a.length>0){let d={start:{line:t.position.line,character:t.position.character-0},end:t.position};a.forEach(h=>{let g=h+'="$1"';l.includes(h)||(l.push(h),u.push({label:h,kind:Cr.CompletionItemKind.Value,insertTextFormat:Cr.InsertTextFormat.Snippet,textEdit:Cr.TextEdit.replace(d,g),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}))})}return kn(u)}}}}return{analyzeDefaults:!0,isExclusiveResult:!1,items:[]}}};VA=SV});var RV,Ef,Tm=x(()=>{re();RV={tagName:"increment:reset",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:"3.2.28",parameters:[{isRequired:!0,name:"counter",aliases:[],description:"The incrementing counter to reset",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"to",aliases:[],description:"An optional value to reset the counter to before incrementing starts again",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resolveDocumentation:t=>qe("increment:reset Tag","The `increment:reset` tag can be used to reset the value of an incrementing counter.",`{{ array_variable }}
    {{ increment:counter_name }}
{{ /array_variable }}

{{ increment:reset counter="counter_name" }}
`,null)},Ef=RV});var kV,OV,qA,UA=x(()=>{re();$r();De();Tm();kV=[Le(Ef)],OV={tagName:"increment",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[{isRequired:!1,name:"from",aliases:[],description:"The number to start incrementing by",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"by",aliases:[],description:"The number to increment by",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resolveCompletionItems:t=>t.leftWord=="increment"||t.leftWord=="/increment"&&t.leftChar==":"?ue(kV):Re,resolveDocumentation:t=>$("increment Tag","The `increment` tag can be used to increment a value each time the tag is encountered.","https://statamic.dev/tags/increment")},qA=OV});var _m,jA,GA,WA=x(()=>{re();_m=class{constructor(e){this.node=e}},jA={tagName:"yields",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,parameters:[],introducedIn:null,requiresClose:!1,resolveSpecialType:(t,e)=>({context:new _m(t),issues:[]})},GA={tagName:"yield",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,parameters:[],introducedIn:null,requiresClose:!1,resolveSpecialType:(t,e)=>({context:new _m(t),issues:[]}),resolveDocumentation:t=>$("yield Tag","The `yield` tag may be used to push rendered content to named regions within a template's structure.","https://statamic.dev/tags/yield")}});var HA,YA=x(()=>{HA=[{handle:"access cp"},{handle:"configure collections"},{handle:"[view edit create delete publish reorder] {collection} entries"},{handle:"configure structures"},{handle:"[view edit] {structure} structure"},{handle:"edit {global} globals"},{handle:"[view upload edit move rename delete] {container} assets"},{handle:"[view perform] updates"},{handle:"[view edit create delete] users"},{handle:"change passwords"},{handle:"edit roles"},{handle:"configure forms"},{handle:"[view delete] {form} submissions"}]});var Xs,Er,KA=x(()=>{YA();Xs=class{constructor(){this.contextItems=new Map;this.triggerNames=[];this.collectionTriggers=[];this.collectionTriggerCaps=[];this.globalTriggers=[];this.globalTriggerCaps=[];this.formTriggers=[];this.formTriggerCaps=[];this.structureTriggers=[];this.structureTriggerCaps=[];this.assetTriggers=[];this.assetTriggerCaps=[]}getCollectionTriggerCaps(){return this.collectionTriggerCaps}getGlobalTriggerCaps(){return this.globalTriggerCaps}getFormTriggerCaps(){return this.formTriggerCaps}getStructureTriggerCaps(){return this.structureTriggerCaps}getAssetTriggerCaps(){return this.assetTriggerCaps}loadCorePermissions(){this.registerPermissions(HA)}getTriggerNames(){return this.triggerNames}isCollectionTrigger(e){return this.collectionTriggers.includes(e)}isGlobalTrigger(e){return this.globalTriggers.includes(e)}isFormTrigger(e){return this.formTriggers.includes(e)}isStructureTrigger(e){return this.structureTriggers.includes(e)}isAssetTrigger(e){return this.assetTriggers.includes(e)}getTriggerContextItems(e){return this.contextItems.has(e)?this.contextItems.get(e):[]}registerSpecialTrigger(e,n,r){n=="{collection}"?(this.collectionTriggerCaps.includes(r)==!1&&this.collectionTriggerCaps.push(r),this.collectionTriggers.includes(e)==!1&&this.collectionTriggers.push(e)):n=="{structure}"?(this.structureTriggerCaps.includes(r)==!1&&this.structureTriggerCaps.push(r),this.structureTriggers.includes(e)==!1&&this.structureTriggers.push(e)):n=="{container}"?(this.assetTriggerCaps.includes(r)==!1&&this.assetTriggerCaps.push(r),this.assetTriggers.includes(e)==!1&&this.assetTriggers.push(e)):n=="{global}"?(this.globalTriggerCaps.includes(r)==!1&&this.globalTriggerCaps.push(r),this.globalTriggers.includes(e)==!1&&this.globalTriggers.push(e)):n=="{form}"&&(this.formTriggerCaps.includes(r)==!1&&this.formTriggerCaps.push(r),this.formTriggers.includes(e)==!1&&this.formTriggers.push(e))}addContextToTrigger(e,n){var r;this.triggerNames.includes(e)==!1&&this.triggerNames.push(e),this.contextItems.has(e)==!1?this.contextItems.set(e,[n]):(r=this.contextItems.get(e))==null||r.push(n)}registerPermissions(e){for(let n=0;n<e.length;n++){let r=e[n],i=[],s="",a="";if(r.handle.includes("[")&&r.handle.includes("]")){let l=r.handle.indexOf("["),u=r.handle.indexOf("]"),d=u-l,h=r.handle.substr(l+1,d-1).split(" ").filter(N=>N.trim().length>0),g=r.handle.substr(u+1).split(" ").filter(N=>N.trim().length>0);i=h,g.length==2?(s=g[0],a=g[1]):g.length==1&&(s="",a=g[0])}else{let l=r.handle.split(" ").filter(u=>u.trim().length>0);l.length==2&&(i=[l[0]],a=l[1])}for(let l=0;l<i.length;l++){let u=i[l];s.trim().length>0?this.registerSpecialTrigger(u,s,a):this.addContextToTrigger(u,a)}}}};Xs.instance=null;(typeof Xs.instance=="undefined"||Xs.instance==null)&&(Xs.instance=new Xs,Xs.instance.loadCorePermissions());Er=Xs});function $A(t,e){var r,i,s,a,l,u,d,h,g,N,y,T,C,D,_,A,b,S,w;let n=[];if(t.trim().length==0){let J=(i=(r=Er.instance)==null?void 0:r.getTriggerNames())!=null?i:[];for(let Y=0;Y<J.length;Y++)n.push({label:J[Y],kind:Sf.CompletionItemKind.Value})}else{let J=t.split(" ").filter(se=>se.trim().length>0),Y=J[0],oe=(a=(s=Er.instance)==null?void 0:s.getTriggerContextItems(Y))!=null?a:[],he=(l=Er.instance)==null?void 0:l.isCollectionTrigger(Y),Ne=(u=Er.instance)==null?void 0:u.isGlobalTrigger(Y),Te=(d=Er.instance)==null?void 0:d.isFormTrigger(Y),pe=(h=Er.instance)==null?void 0:h.isStructureTrigger(Y),ot=(g=Er.instance)==null?void 0:g.isAssetTrigger(Y),Ee=[];if(J.length<=2){he?Ee=Ee.concat(e.project.getUniqueCollectionNames()):Ne?Ee=Ee.concat(e.project.getUniqueGlobalsNames()):Te?Ee=Ee.concat(e.project.getUniqueFormNames()):pe?Ee=Ee.concat(e.project.getUniqueNavigationMenuNames()):ot&&(Ee=Ee.concat(e.project.getUniqueAssetNames())),oe.length>0&&(Ee=Ee.concat(oe)),Ee=[...new Set(Ee)];for(let se=0;se<Ee.length;se++)n.push({label:Ee[se],kind:Sf.CompletionItemKind.Value})}else{let se=[];he?se=se.concat((y=(N=Er.instance)==null?void 0:N.getCollectionTriggerCaps())!=null?y:[]):Ne?se=se.concat((C=(T=Er.instance)==null?void 0:T.getGlobalTriggerCaps())!=null?C:[]):Te?se=se.concat((_=(D=Er.instance)==null?void 0:D.getFormTriggerCaps())!=null?_:[]):pe?se=se.concat((b=(A=Er.instance)==null?void 0:A.getStructureTriggerCaps())!=null?b:[]):ot&&(se=se.concat((w=(S=Er.instance)==null?void 0:S.getAssetTriggerCaps())!=null?w:[])),se=[...new Set(se)];for(let rt=0;rt<se.length;rt++)n.push({label:se[rt],kind:Sf.CompletionItemKind.Value})}}return n}var Sf,zA=x(()=>{Sf=Ge(Dt());KA()});function xf(t,e){var r,i,s,a;let n=hf(t.name);return((r=e.context)==null?void 0:r.parameterContext)!=null&&["do","permission"].includes(n)?ue($A((a=(s=(i=e.context)==null?void 0:i.parameterContext.parameter)==null?void 0:s.value)!=null?a:"",e)):null}var ym=x(()=>{zA();gs();De()});var wV,$a,Rf=x(()=>{re();ym();wV={tagName:"user:can",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,resovleParameterCompletionItems:xf,parameters:[{name:"do",acceptsVariableInterpolation:!1,aliases:["permission"],allowsVariableReference:!1,description:"The permissions to check against",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resolveDocumentation:t=>$("user:can Tag","The `user:can` tag is used to check if the currently authenticated user has a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user has the specified permissions.","https://statamic.dev/tags/user-can")},$a=wV});var LV,za,kf=x(()=>{re();LV={tagName:"user:logout",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"redirect",description:"An optional URL to redirect the user after being logged out",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>$("user:logout Tag","The `user:logout` tag will sign out the currently authenticated user. An optional `redirect` parameter may be used to redirect the visitor to a different page after being logged out.","https://statamic.dev/tags/user-logout")},za=LV});var DV,Qa,Of=x(()=>{re();DV={tagName:"user:logout_url",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"redirect",description:"An optional URL to redirect the user after being logged out",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>qe("user:logout_url","The `user:logout_url` tag can be used to retrieve the URL that will sign the current user out.",'<a href="{{ user:logout_url }}">Log out</a>',"https://statamic.dev/tags/user-logout_url")},Qa=DV});var QA,XA,JA=x(()=>{re();QA={tagName:"switch",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"between",description:"A set of values to iterate over",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string","array"]},{name:"for",description:"A unique name for the switch instance",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>$("switch Tag","The `switch` tag can be used to alternate between a set of values each time the tag is evaluated.","https://statamic.dev/tags/switch")},XA={tagName:"rotate",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,introducedIn:null,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[{name:"between",description:"A set of values to iterate over",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string","array"]},{name:"for",description:"A unique name for the switch instance",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>$("rotate Tag","The `rotate` tag can be used to alternate between a set of values each time the tag is evaluated.","https://statamic.dev/tags/switch")}});var MV,ZA,eC=x(()=>{re();De();MV={tagName:"oauth",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"provider",description:"The OAuth provider to be used",aliases:[],isRequired:!0,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]},{name:"redirect",description:"The URL to be taken to after authenticating",aliases:[],isRequired:!0,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resovleParameterCompletionItems:(t,e)=>t.name=="provider"?kt(e.project.getOAuthProviders()):null,resolveDocumentation:t=>qe("oauth Tag","The `oauth` tag can be used to generate login URls for various third-party services.",'<a href="{{ oauth provider="github" }}">Sign In with Github</a>',"https://statamic.dev/tags/oauth")},ZA=MV});var FV,wf,Nm=x(()=>{re();FV={tagName:"session:dump",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>$("session:dump Tag","The `session:dump` tag will display the contents of the user's session to the browser. This tag behaves similarly to the `dd` helper functions, but returns just the session data.","https://statamic.dev/tags/session-dump")},wf=FV});var Ic,bm=x(()=>{Ic=class{constructor(e){this.node=e}}});var VV,Lf,vm=x(()=>{re();yn();bm();VV={tagName:"session:set",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!0,parameters:[],introducedIn:null,resolveDynamicParameter:it,resolveSpecialType:(t,e)=>({context:new Ic(t),issues:[]}),resolveDocumentation:t=>$("session:set Tag","The `session:set` tag is used to add new data to the user's session.","https://statamic.dev/tags/session-set")},Lf=VV});var Vo,Pc,Im=x(()=>{Vo=class{constructor(){this.knownVariables=new Map}registerDocumentSessionVariables(e,n){this.knownVariables.has(e)||this.knownVariables.set(e,new Map);let r=this.knownVariables.get(e);r.clear();for(let i=0;i<n.length;i++){let s=n[i].node;if(s.hasParameters)for(let a=0;a<s.parameters.length;a++){let l=s.parameters[a];r.set(l.name,n[i])}}}getKnownSessionVariableNames(){let e=[];return this.knownVariables.forEach(n=>{n.forEach((r,i)=>{e.includes(i)==!1&&e.push(i)})}),e}};Vo.instance=null;(typeof Vo.instance=="undefined"||Vo.instance==null)&&(Vo.instance=new Vo);Pc=Vo});function nC(t,e){let n=[],r=t.getArrayValue(),i=e.filter(s=>!r.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:tC.CompletionItemKind.Variable});return ue(n)}var tC,rC=x(()=>{tC=Ge(Dt());De()});var BV,Df,Pm=x(()=>{re();Im();rC();BV={tagName:"session:forget",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"keys",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The session keys to clear",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;if(t.name=="keys"&&((n=e.context)==null?void 0:n.parameterContext)!=null){let s=(i=(r=Pc.instance)==null?void 0:r.getKnownSessionVariableNames())!=null?i:[];if(e.context.parameterContext.parameter!=null)return nC(e.context.parameterContext.parameter,s)}return null},resolveDocumentation:t=>$("session:forget Tag","The `session:forget` tag is used to remove variables from the user's session.","https://statamic.dev/tags/session-forget")},Df=BV});var qV,Mf,Am=x(()=>{re();qV={tagName:"session:flush",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>$("session:flush Tag","The `session:flush` tag will clear all values from the visitor's session. If the visitor is currently signed in they will also be signed out.","https://statamic.dev/tags/session-flush")},Mf=qV});var UV,Ff,Cm=x(()=>{re();yn();bm();UV={tagName:"session:flash",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDynamicParameter:it,resolveSpecialType:(t,e)=>({context:new Ic(t),issues:[]}),resolveDocumentation:t=>$("session:flash Tag","The `session:flash` tag can be used to add a value to the user's session. Flashed values only persist for a single request, and are then removed.","https://statamic.dev/tags/session-flash")},Ff=UV});var jV,Vf,Em=x(()=>{re();jV={tagName:"markdown:indent",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>$("markdown:indent Tag","The `markdown:indent` tag is similar to the markdown tag, but will ignore leading whitepsace while rendering the tag's content as markdown.","https://statamic.dev/tags/markdown-indent")},Vf=jV});var GV,WV,iC,sC=x(()=>{re();$r();De();Em();GV=[Le(Vf)],WV={tagName:"markdown",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="markdown"||t.leftWord=="/markdown")&&t.leftChar==":"?ue(GV):Re,resolveDocumentation:t=>$("markdown Tag","The `markdown` tag can be used to render the tags contents as markdown.","https://statamic.dev/tags/markdown")},iC=WV});function Bf(t,e){let n=[],r=e;if(t.trim().length>0&&t.includes(".")&&t.endsWith(".")){let i=t.substr(0,t.length-1);r=r.filter(s=>s.startsWith(i))}for(let i=0;i<r.length;i++){let s=r[i],a=!0;t.includes(".")&&(s.startsWith(t)==!1?a=!1:s=s.substr(t.length)),a&&n.push({label:s,insertText:s,kind:oC.CompletionItemKind.Text})}return n}var oC,Sm=x(()=>{oC=Ge(Ei())});function aC(t,e){return Bf(t,e.getRouteNames())}var lC=x(()=>{Sm()});var HV,cC,uC=x(()=>{re();lC();gs();De();yn();HV={tagName:"route",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDynamicParameter:it,resolveCompletionItems:t=>{if(t.leftMeaningfulWord=="route"){let e=pf(t);return ue(aC(e,t.project))}return Re},resolveDocumentation:t=>$("route Tag","The `route` tag can be used to generate a full URL [to a named route](https://laravel.com/docs/8.x/routing#named-routes), including any defined route parameters.","https://statamic.dev/tags/route")},cC=HV});var qf,fC,dC=x(()=>{qf=Ge(Dt()),fC=[{label:"301 Permanent",insertText:"301",kind:qf.CompletionItemKind.EnumMember},{label:"302 Temporary",insertText:"302",kind:qf.CompletionItemKind.EnumMember},{label:"404 Not Found",insertText:"404",kind:qf.CompletionItemKind.EnumMember}]});var YV,pC,hC=x(()=>{re();dC();De();YV={tagName:"redirect",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"to",description:"The destination URL",aliases:["url"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!0},{name:"response",description:"The HTTP response code to use",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1}],resovleParameterCompletionItems:t=>t.name=="response"?ue(fC):Re,resolveDocumentation:t=>$("redirect Tag","The `redirect` tag can be used to redirect the site visitor to a URL or named route. An optional HTTP status code can also be specified on the response using the `response` parameter.","https://statamic.dev/tags/redirect")},pC=YV});var Bo,mC,gC=x(()=>{Bo=class{constructor(){this.knownSections=new Map}registerDocumentSections(e,n){this.knownSections.has(e)||this.knownSections.set(e,new Map);let r=this.knownSections.get(e);r.clear();for(let i=0;i<n.length;i++){let s=n[i];s.node.hasMethodPart()&&r.set(s.node.getMethodNameValue(),s)}}getKnownSectionNames(){let e=[];return this.knownSections.forEach(n=>{n.forEach((r,i)=>{e.includes(i)==!1&&e.push(i)})}),e}};Bo.instance=null;(typeof Bo.instance=="undefined"||Bo.instance==null)&&(Bo.instance=new Bo);mC=Bo});var TC,KV,_C,yC=x(()=>{TC=Ge(Dt());re();gC();De();KV={tagName:"section",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>{var e,n;if((t.leftWord=="section"||t.leftWord=="/section")&&t.leftChar==":"){let r=[],i=(n=(e=mC.instance)==null?void 0:e.getKnownSectionNames())!=null?n:[];for(let s=0;s<i.length;s++)r.push({label:i[s],kind:TC.CompletionItemKind.Field});return kn(r)}return Re},resolveDocumentation:t=>$("section Tag","The `section` tag is used to push content to a named region defined by the `yield` tag.","https://statamic.dev/tags/section")},_C=KV});var $V,NC,bC=x(()=>{re();$V={tagName:"obfuscate",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>$("obfuscate Tag","The `obfuscate` tag converts the tags's content into a format that is difficult for bots to read, but can easily be viewed by users within their browser.","https://statamic.dev/tags/obfuscate")},NC=$V});var zV,vC,IC=x(()=>{re();zV={tagName:"parent",hideFromCompletions:!1,requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!1,injectParentScope:!0,introducedIn:null,parameters:[],resolveDocumentation:t=>$("parent Tag","The `parent` tag provides access to data from the current page's parent (the URL one level above the current page).","https://statamic.dev/tags/parent")},vC=zV});function xm(t,e){return Bf(t,e.getTranslationKeys())}var PC=x(()=>{Sm()});var QV,Uf,AC,Rm,CC=x(()=>{re();PC();gs();De();Wi();yn();QV=["translate","trans","trans_choice"],Uf={tagName:"translate",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,introducedIn:null,allowsArbitraryParameters:!0,parameters:[{isRequired:!1,name:"key",description:"The key of the translation string to find",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"locale",description:"The locale to be used when translating",acceptsVariableInterpolation:!1,aliases:["site"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"count",description:"The number of items to use for pluralization",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n;if(t.name=="key"){let r="";return((n=e.context)==null?void 0:n.parameterContext)!=null&&e.context.parameterContext.parameter!=null&&(r=e.context.parameterContext.parameter.value),ue(xm(r,e.project))}return Re},resolveDynamicParameter:it,resolveCompletionItems:t=>{if(t.leftMeaningfulWord!=null&&QV.includes(t.leftMeaningfulWord)){let e=pf(t);return ue(xm(e,t.project))}return Re},resolveDocumentation:t=>$("trans Tag","The `trans` tag can be used to retrieve a string for the current locale's language file.","https://statamic.dev/tags/trans")},AC=bt(Uf,"trans"),Rm=bt(Uf,"trans_choice");Rm.resolveDocumentation=t=>$("trans_choice Tag","The `trans_choice` tag can be used to retrieve a pluralized string for the current locale's language file.","https://statamic.dev/tags/trans#pluralization")});var XV,EC,SC=x(()=>{re();yn();XV={tagName:"svg",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,introducedIn:null,parameters:[{isRequired:!1,name:"src",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The SVG filename relative to the project root",expectsTypes:["string"],isDynamic:!1}],resolveDynamicParameter:it,resolveDocumentation:t=>$("svg Tag","The `svg` tag can be used to render inline SVGs, as well as set attributes on the rendered `<svg>` element.","https://statamic.dev/tags/svg")},EC=XV});function jf(t){return[{name:"basename",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"extension",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"filename",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"focus",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"focus_css",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"height",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_asset",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_image",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"path",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_bytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_gigabytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_kilobytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_megabytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"width",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t}]}var km=x(()=>{});var JV,xC,RC=x(()=>{re();km();JV={tagName:"asset",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The path to the file",expectsTypes:["string"],isDynamic:!1,name:"url"}],augmentScope:(t,e)=>(e.addVariables(jf(t)),e),resolveDocumentation:t=>qe("asset Tag","The `asset` tag can be used to retrive Assets by supplying a URL.",`{{ asset url="/url/for/asset.png" }}
    <img src="{{ url }}" alt="{{ alt }}" />
{{ /asset }}`,"https://statamic.dev/tags/asset")},xC=JV});function Om(t){let e=[],n=t.getUniqueAssetNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:kC.CompletionItemKind.Field});return e}var kC,OC=x(()=>{kC=Ge(Dt())});var wC,ZV,LC,DC=x(()=>{re();OC();De();km();wC=["container","id","handle"],ZV={tagName:"assets",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"container",aliases:["id","handle"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The handle of the asset container",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"folder",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Filters the resulting assets by specific folder",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"recursive",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Returns all assets in all subdirectories",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"limit",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Limits the total results",expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sort entries by any asset variable",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>wC.includes(t.name)?ue(Om(e.project)):Re,augmentScope:(t,e)=>{e.addVariables(jf(t));let n="";if(t.name!=null&&t.name.getMethodName()!=null)n=t.name.getMethodName();else{let r=t.findAnyParameter(wC);r!=null&&r.containsSimpleValue()&&(n=r.value)}return n.length>0&&e.injectAssetContainer(t,n),e},resolveCompletionItems:t=>(t.leftWord=="assets"||t.leftWord=="/assets")&&t.leftChar==":"?ue(Om(t.project)):Re,resolveDocumentation:t=>qe("assets Tag","The `assets` tag can be used to retrieve multiple Assets from an Asset container.",`{{ assets container="container-name" }}
    {{# Loop over all assets in the container. #}}
	<img src="{{ url }}" alt="{{ alt }}" />
{{ /assets }}`,"https://statamic.dev/tags/assets")},LC=ZV});var eB,MC,FC=x(()=>{re();De();eB={tagName:"get_content",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,introducedIn:null,allowsArbitraryParameters:!1,parameters:[{isRequired:!1,name:"from",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"The ID to retrieve data for",expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"locale",aliases:["site"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The locale to show the content in",expectsTypes:["string"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>t.name=="locale"||t.name=="site"?kt(e.project.getSiteNames()):null,resolveDocumentation:t=>qe("get_content Tag","The `get_content` tag can be used to retrieve content from other entries. This tag accepts the ID of another entry, and will return access to all data for that entry.",`{{ get_content from="the-entry-id" }}
{{ /get_content }}`,"https://statamic.dev/tags/get_content")},MC=eB});function VC(t){return[{name:"basename",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"extension",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"filename",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"is_image",dataType:"boolean",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"file",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"file",dataType:"last_modified",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_bytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_b",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_gigabytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_gb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_kilobytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_kb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_megabytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_mb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t}]}var BC=x(()=>{});var tB,qC,UC=x(()=>{re();BC();tB={tagName:"get_files",hideFromCompletions:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"in",aliases:["from"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The directory to find files in relative to the public directory",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"depth",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The depth of the subdirectories",expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"not_in",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],description:"The subdirectories or pattern to exclude",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"file_size",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],description:"The file size filter to use",isDynamic:!1},{isRequired:!1,name:"ext",aliases:["extension"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The extension(s) to filter by",expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"include",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:["match"],description:"Filter files by a regular expression",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"exclude",description:"Excludes files by a regular expression",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"file_date",description:"Filters files by last modified date",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"limit",description:"Limits the total number of results",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"offset",description:"The number of entries the results should be offset by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sorts the listing by extension, size, last_modified, or random",expectsTypes:["string"],isDynamic:!1}],augmentScope:(t,e)=>(e.addVariables(VC(t)),e),resolveDocumentation:t=>$("get_files Tag","The `get_files` tag can be used to display information about files on the site's local filesystem.","https://statamic.dev/tags/get_files")},qC=tB});function Gf(t){return[{name:"width",dataType:"number",sourceName:"*internal.glide",sourceField:null,introducedBy:t},{name:"height",dataType:"number",sourceName:"*internal.glide",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.glide",sourceField:null,introducedBy:t}]}var wm=x(()=>{});function xi(t,e,n){var r,i,s,a,l,u,d,h,g,N,y,T;return{endLine:(s=(i=(r=n.valuePosition)==null?void 0:r.end)==null?void 0:i.line)!=null?s:0,startLine:(u=(l=(a=n.namePosition)==null?void 0:a.start)==null?void 0:l.line)!=null?u:0,endPos:(g=(h=(d=n.valuePosition)==null?void 0:d.end)==null?void 0:h.char)!=null?g:0,startPos:(T=(y=(N=n.namePosition)==null?void 0:N.start)==null?void 0:y.char)!=null?T:0,message:t,severity:jC.DiagnosticSeverity.Error}}var jC,GC=x(()=>{jC=Ge(Dt())});function Hf(t,e){return t.name=="orient"?kt(WC):t.name=="format"?kt(Dm):t.name=="filter"?kt(Lm):t.name=="preset"?kt(e.project.getAssetPresets()):Re}var Lm,Dm,WC,Wf,Mm=x(()=>{GC();De();Lm=["greyscale","sepia"],Dm=["jpg","pjpg","png","gif","webp","avif","tif","bmp","psd"],WC=["auto","0","90","180","270"],Wf=[{isRequired:!1,name:"src",aliases:["path","id"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The URL of the image when not using shorthand syntax",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"tag",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Outputs an image tag when set to true",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"alt",description:"The alt attribute value to use when generating tags",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"absolute",description:"Whether to output full URLs",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{name:"width",expectsTypes:["number"],isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The width of the image, in pixels",isDynamic:!1},{name:"height",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],description:"The height of the image, in pixels",expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"square",expectsTypes:["number"],acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets both then height and width of the iamge",isDynamic:!1,isRequired:!1},{name:"fit",expectsTypes:["string"],acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"How the image is fitted to its target dimensions",isDynamic:!1,isRequired:!1},{name:"crop",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Crops the image to the specific dimensions",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"orient",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Rotates the image",expectsTypes:["*"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!WC.includes(e.value)&&n.push(xi("Invalid orient value",t,e)),n}},{name:"quality",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Defines the quality of the image",expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"dpr",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],description:"Defines the device pixel ratio",expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<1||n>8)&&r.push(xi("dpr must be an integer between 1 and 8.",t,e)),r}},{name:"format",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Encodes the image to a specific format",expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!Dm.includes(e.value)&&n.push(xi("Format must be one of: "+Dm.join(","),t,e)),n}},{name:"bg",description:"Sets the background color for transparent images",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"blur",description:"Adds a blur effect to the image",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push(xi("blur must be a value between 0 and 100.",t,e)),r}},{name:"brightness",description:"Adjusts the image brightness",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<-100||n>100)&&r.push(xi("brightness must be a value between -100 and 100.",t,e)),r}},{name:"contrast",description:"Adjusts the image contrast",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<-100||n>100)&&r.push(xi("contrast must be a value between -100 and 100.",t,e)),r}},{name:"gamma",description:"Adjusts the image gamma",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseFloat(e.value),r=[];return e.containsSimpleValue()&&(n<.1||n>9.99)&&r.push(xi("gamma must be a value between 0.1 and 9.99.",t,e)),r}},{name:"sharpen",description:"Sharpens the iamge",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push(xi("sharpen must be a value between 0 and 100.",t,e)),r}},{name:"pixelate",description:"Applies a pixelation effect to the image",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push(xi("pixelate must be a value between 0 and 100.",t,e)),r}},{name:"filter",description:"Applies a filter effect to the image",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!Lm.includes(e.value)&&n.push(xi("Filter must be one of: "+Lm.join(","),t,e)),n}},{name:"preset",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],description:"A collection of pre-configured image manipulation parameters.",isDynamic:!1,isRequired:!1}]});var nB,Yf,Fm=x(()=>{re();wm();Mm();nB={tagName:"glide:batch",hideFromCompletions:!1,requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,injectParentScope:!1,parameters:Wf,introducedIn:null,augmentScope:(t,e)=>(e.addVariables(Gf(t)),e),resovleParameterCompletionItems:Hf,resolveDocumentation:t=>$("glide:batch Tag","The `glide:batch` tag is similar to the glide tag, but can be used to apply image manipulations to multiple images within a piece of content.","https://statamic.dev/tags/glide-batch")},Yf=nB});var rB,iB,HC,YC=x(()=>{re();$r();De();wm();Fm();Mm();rB=[Le(Yf)],iB={tagName:"glide",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!1,parameters:Wf,introducedIn:null,augmentScope:(t,e)=>(e.addVariables(Gf(t)),e),resovleParameterCompletionItems:Hf,resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="glide"||t.leftWord=="/glide")&&t.leftChar==":"?ue(rB):Re,resolveDocumentation:t=>$("glide Tag","The `glide` tag is used to manipulate images on the fly. Image manipulations may include resizing, cropping, or adjusting sharpness and constrast, amongst many others.","https://statamic.dev/tags/glide")},HC=iB});var KC,$C,zC=x(()=>{re();KC={tagName:"iterate",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Optionally rename the key/value variables",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"array",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The array to iterate",expectsTypes:["array"],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>$("iterate Tag","The `iterate` tag can be used to iterate over arbitrary arrays.","https://statamic.dev/tags/foreach")},$C={tagName:"foreach",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Optionally rename the key/value variables",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"array",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The array to iterate",expectsTypes:["array"],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>$("foreach Tag","The `foreach` tag can be used to iterate over arbitrary arrays.","https://statamic.dev/tags/foreach")}});function QC(t){return[{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t},{name:"name",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}]}var XC=x(()=>{});var Kf,Vm=x(()=>{Kf=[{isRequired:!1,name:"id",description:"The ID of the content to localize",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"sort",description:"Sort by a sites key",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"current_first",description:"When true, ensures that the current locale is first",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"all",description:"When true, all locale data will be returned.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!0,name:"self",description:"When true, the current locale will be included.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1}]});var sB,$f,Bm=x(()=>{re();Vm();sB={tagName:"locales:count",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,parameters:Kf,introducedIn:"3.0.36",resolveDocumentation:t=>$("locales:count Tag","The `locales:count` tag can be used to count the number of locales the current content is available in.","https://statamic.dev/tags/locales-count")},$f=sB});var oB,aB,JC,ZC=x(()=>{re();$r();De();XC();Bm();Vm();oB=[Le($f)],aB={tagName:"locales",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,parameters:Kf,introducedIn:null,augmentScope:(t,e)=>(e.addVariableArray("locale",QC(t)),e.addVariable({name:"current",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"is_current",dataType:"boolean",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"exists",dataType:"boolean",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"permalink",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e),resolveDocumentation:t=>$("locales Tag","The `locales` tag can be used to access all the locales the current content is available in.","https://statamic.dev/tags/locales"),resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="locale"||t.leftWord=="/locale")&&t.leftChar==":"?ue(oB):Re},JC=aB});var lB,eE,tE=x(()=>{re();lB={tagName:"mix",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"src",description:"The path to the versioned file, relative to the public directory",acceptsVariableInterpolation:!1,aliases:["path"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"in",description:"The location of the mix manifest file",acceptsVariableInterpolation:!1,aliases:["from"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1}],resolveDocumentation:t=>$("mix Tag","The `mix` tag is used to return the path of CSS and JavaScript files versioned with [Laravel Mix](https://laravel.com/docs/8.x/mix).","https://statamic.dev/tags/mix")},eE=lB});function nE(t){let e=[],n=t.getUniqueUserGroupNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:Ac.CompletionItemKind.Field});return e}function rE(t){let e=[],n=t.getUniqueUserRoleNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:Ac.CompletionItemKind.Field});return e}function Xa(t,e){let n=[],r=e.getUniqueUserGroupNames(),i=r.filter(s=>!t.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:Ac.CompletionItemKind.Field});return n}function Ja(t,e){let n=[],r=e.getUniqueUserRoleNames(),i=r.filter(s=>!t.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:Ac.CompletionItemKind.Field});return n}var Ac,qo=x(()=>{Ac=Ge(Dt())});var cB,zf,qm=x(()=>{re();De();qo();cB={tagName:"user:in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="groups"||t.name=="group")&&((n=e.context)==null?void 0:n.parameterContext)!=null?ue(Xa((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>$("user:in Tag","The `user:in` tag can be used to check if the currently authenticated user belongs to one or more user groups. When used as a tag pair, the tag contents will only be rendered if the user belongs to the specified groups.","https://statamic.dev/tags/user-in")},zf=cB});var uB,Za,Qf=x(()=>{re();De();qo();uB={tagName:"user:not_in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="groups"||t.name=="group")&&((n=e.context)==null?void 0:n.parameterContext)!=null?ue(Xa((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>$("user:not_in Tag","The `user:not_in` tag can be used to check if the currently authenticated user does not belong to one or more user groups. When used as a tag pair, the tag contents will be rendered if the user does not belong to the specified groups.","https://statamic.dev/tags/user-in#not-in")},Za=uB});var fB,el,Xf=x(()=>{re();De();qo();fB={tagName:"user:is",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="roles"||t.name=="role")&&((n=e.context)==null?void 0:n.parameterContext)!=null?ue(Ja((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>$("user:is Tag","The `user:is` tag can be used to check whether the currently authenticated user has one or more roles.","https://statamic.dev/tags/user-is")},el=fB});var dB,tl,Jf=x(()=>{re();De();qo();dB={tagName:"user:isnt",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="roles"||t.name=="role")&&((n=e.context)==null?void 0:n.parameterContext)!=null?ue(Ja((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>$("user:isnt Tag","The `user:isnt` tag can be used to check whether the currently authenticated user does not have one or more roles.","https://statamic.dev/tags/user-is#isnt")},tl=dB});var pB,iE,sE=x(()=>{re();De();qo();pB={tagName:"in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="groups"||t.name=="group")&&((n=e.context)==null?void 0:n.parameterContext)!=null?ue(Xa((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveCompletionItems:t=>(t.leftWord=="in"||t.leftWord=="/in")&&t.leftChar==":"?ue(nE(t.project)):Re,resolveDocumentation:t=>$("in Tag","The `in` tag can be used to check if the authenticated user belongs to one or more groups. This tag operates similarly to the `user:in` tag.","https://statamic.dev/tags/user-in")},iE=pB});var hB,oE,aE=x(()=>{re();hB={tagName:"not_found",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>qe("404 (Not Found) Tag","The `not_found` tag will trigger a 404 status code, and display the 404 template to the site visitor.",`{{ unless logged_in }}
	{{# Display the 404 Not Found page. #}}
	{{ not_found }}
{{ /unless }}`,"https://statamic.dev/tags/404")},oE=hB});var mB,lE,cE=x(()=>{re();De();qo();mB={tagName:"is",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="roles"||t.name=="role")&&((n=e.context)==null?void 0:n.parameterContext)!=null?ue(Ja((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveCompletionItems:t=>(t.leftWord=="is"||t.leftWord=="/is")&&t.leftChar==":"?ue(rE(t.project)):Re,resolveDocumentation:t=>$("is Tag","The `is` tag can be used to check whether the currently authenticated user has one or more roles. This tag behaves the same as the `user:is` tag.","https://statamic.dev/tags/user-is")},lE=mB});var gB,uE,fE=x(()=>{re();gB={tagName:"widont",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>qe("widont Tag","The `widont` tag is similar to the [widont modifier](https://statamic.dev/modifiers/widont), and will attempt to prevent lines with a single word from appearing within the tags rendered output.",`{{ widont }}
    {{ content }}
{{ /widont }}`,null)},uE=gB});var Zf,Um=x(()=>{Zf=[{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"id",description:"The user ID to fetch",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"email",description:"The email address to find the user by",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"field",description:"The field to fetch the user by",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"value",description:"The value to search for",expectsTypes:["string"],isDynamic:!1}]});var TB,nl,ed=x(()=>{re();Va();De();Um();TB={tagName:"user:profile",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:Zf,introducedIn:null,augmentScope:(t,e)=>(e.injectBlueprint(t,"user"),e),resovleParameterCompletionItems:(t,e)=>t.name=="field"?ue(rf(e.project.getUserFields())):Re,resolveDocumentation:t=>$("user:profile Tag","The `user:profile` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null)},nl=TB});var dE,pE,hE=x(()=>{re();dE={tagName:"dd",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>qe("dd Tag","The `dd` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered. This tag will stop the template from rendering after it is encountered.  If Ignition is available, this tag will use the [ddd](https://flareapp.io/blog/1-introducing-ddd-a-new-global-helper-for-laravel) method.",`{{ collection:articles }}
	{{#
		View all data available, for the first
		entry that renders the dd tag.
	#}}
    {{ dd }}
{{ /collection:articles }}`,null)},pE={tagName:"ddd",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>qe("ddd Tag","The `ddd` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered. This tag will stop the template from rendering after it is encountered.  If Ignition is available, this tag will use the [ddd](https://flareapp.io/blog/1-introducing-ddd-a-new-global-helper-for-laravel) method.",`{{ collection:articles }}
	{{#
		View all data available, for the first
		entry that renders the ddd tag.
	#}}
    {{ ddd }}
{{ /collection:articles }}`,null)}});var _B,mE,gE=x(()=>{re();_B={tagName:"path",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,acceptsVariableInterpolation:!1,aliases:["src"],allowsVariableReference:!0,description:"The path source",name:"to",isDynamic:!1,expectsTypes:["string"]},{isRequired:!1,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],description:"Whether to generate absolute paths",expectsTypes:["boolean"],isDynamic:!1,name:"absolute"}],resolveDocumentation:t=>$("path Tag","The `path` tag can be used to generate URLs from relative URLs, or an entry ID.",null)},mE=_B});var yB,td,jm=x(()=>{re();ym();yB={tagName:"user:cant",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,resovleParameterCompletionItems:xf,parameters:[{name:"do",acceptsVariableInterpolation:!1,aliases:["permission"],allowsVariableReference:!1,description:"The permissions to check against",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resolveDocumentation:t=>$("user:cant Tag","The `user:cant` tag is used to check if the currently authenticated user does not have a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user does not have the specified permissions.","https://statamic.dev/tags/user-can#cant")},td=yB});var NB,TE,_E=x(()=>{NB={tagName:"query",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,parameters:[{name:"builder",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The query to evaluate",expectsTypes:["string"],isRequired:!0,isDynamic:!1}]},TE=NB});var Hi,rl=x(()=>{Hi=[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"src",description:"The relative path to the file",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"cache_bust",description:"Whether to output the last modified date",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"version",description:"Whether to check a versioning manifest to produce the final URL",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"absolute",description:"Generate absolute URLs or not",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"locale",description:"The locale the path should be generated in",expectsTypes:["string"],isDynamic:!1}]});var Uo,bB,vB,yE,NE=x(()=>{Uo=Ge(Dt());De();rl();bB=[{label:"asset",kind:Uo.CompletionItemKind.Text},{label:"css",kind:Uo.CompletionItemKind.Text},{label:"img",kind:Uo.CompletionItemKind.Text},{label:"js",kind:Uo.CompletionItemKind.Text},{label:"output",kind:Uo.CompletionItemKind.Text},{label:"path",kind:Uo.CompletionItemKind.Text}],vB={tagName:"theme",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,introducedIn:null,injectParentScope:!1,parameters:Hi,resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="theme"||t.leftWord=="/theme")&&t.leftChar==":"?ue(bB):Re},yE=vB});var Gm,bE,vE=x(()=>{re();Wi();rl();Gm={tagName:"theme:path",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:Hi,resolveDocumentation:t=>$("theme:path Tag","The `theme:path` tag may be used to generate URLs for public assets. This tag may also optionally add the current locale, generate relative URLs, or add cache busting URL parameters to the end of the generated URL.",null)},bE=bt(Gm,"theme:asset")});var IB,IE,PE=x(()=>{re();rl();IB={tagName:"theme:css",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...Hi,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]}],resolveDocumentation:t=>$("theme:css Tag","The `theme:css` tag may be used to generate a CSS path relative to a public `css/` directory for any arbitrary file path. This tag may also optionally create the HTML `link` tag.",null)},IE=IB});var PB,AE,CE=x(()=>{re();rl();PB={tagName:"theme:img",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...Hi,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]},{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"alt",description:"The alt text to use when generating the HTML tag",expectsTypes:["string"]}],resolveDocumentation:t=>$("theme:img Tag","The `theme:img` tag may be used to generate an image path relative to a public `img/` directory for any arbitrary file path. This tag may also optionally create the HTML `img` tag.",null)},AE=PB});var AB,EE,SE=x(()=>{re();rl();AB={tagName:"theme:js",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...Hi,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]}],resolveDocumentation:t=>$("theme:js Tag","The `theme:js` tag may be used to generate a JavaScript path relative to a public `js/` directory for any arbitrary file path. This tag may also optionally create the HTML `script` tag.",null)},EE=AB});var CB,xE,RE=x(()=>{re();CB={tagName:"theme:output",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],name:"src",description:"The path to the file",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],name:"as",description:"An optional alias for the contents variable",expectsTypes:["string"],isDynamic:!1}],augmentScope:(t,e)=>{if(t.isClosedBy!=null){let n=t.findParameter("as");n!=null?e.addVariable({name:n.value,dataType:"string",sourceField:null,sourceName:"*internal.theme.context",introducedBy:t}):e.addVariable({name:"output_contents",dataType:"string",sourceField:null,sourceName:"*internal.theme.context",introducedBy:t})}return e},resolveDocumentation:t=>$("theme:output Tag","The `theme:output` tag may be used to output the contents of any arbitrary file, relative to the site's `resources/` directory.",null)},xE=CB});var EB,kE,OE=x(()=>{re();EB={tagName:"scope",hideFromCompletions:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>qe("scope Tag","The `scope` tag creates a copy of all available variables, and saves them to a new  *array* variable defined by the tag's method part.",`{{ scope:scope_name }}
    {{ scope_name:title }}
{{ /scope:scope_name }}
`,null)},kE=EB});var SB,wE,LE=x(()=>{re();yn();SB={tagName:"if",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:it,resolveDocumentation:t=>$("if Conditional Control Structure","The contents of the `if` tag will be rendered when it's expression evaluates to `true`.","https://statamic.dev/antlers#conditions")},wE=SB});var xB,DE,ME=x(()=>{re();yn();xB={tagName:"elseif",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:it,resolveDocumentation:t=>$("elseif Conditional Control Structure","The contents of the `elseif` tag will be rendered when it's expression evaluates to `true`.","https://statamic.dev/antlers#conditions")},DE=xB});var RB,FE,VE=x(()=>{re();RB={tagName:"else",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDocumentation:t=>$("else Conditional Control Structure","The contents of the `else` control structure will be evaluated when all previous conditional branch conditions were not met.","https://statamic.dev/antlers#conditions")},FE=RB});var kB,nd,Wm=x(()=>{re();yn();kB={tagName:"session:has",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!0,parameters:[],introducedIn:"3.1.28",resolveDynamicParameter:it,resolveDocumentation:t=>$("session:has Tag","The `session:has` tag can be used to determine of the user's session contains a specific variable.","https://statamic.dev/tags/session-has")},nd=kB});var BE,OB,wB,qE,UE=x(()=>{BE=Ge(Dt());Im();$r();De();Nm();Cm();Am();Pm();Wm();vm();OB=[Le(Lf),Le(Ff),Le(Df),Le(Mf),Le(nd),Le(wf)],wB={tagName:"session",requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",description:"An optional alias for the session data",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveCompletionItems:t=>{var e,n;if(t.isPastTagPart==!1&&(t.leftWord=="session"||t.leftWord=="/session")&&t.leftChar==":"){let r=(n=(e=Pc.instance)==null?void 0:e.getKnownSessionVariableNames())!=null?n:[],i=[];i=i.concat(OB);for(let s=0;s<r.length;s++)i.push({label:r[s],kind:BE.CompletionItemKind.Variable});return ue(i)}return Re},augmentScope:(t,e)=>{var s,a;let n=t.findParameter("as"),r=(a=(s=Pc.instance)==null?void 0:s.getKnownSessionVariableNames())!=null?a:[],i=[];for(let l=0;l<r.length;l++)i.push({dataType:"*",name:r[l],sourceField:null,sourceName:"project.session",introducedBy:t});return n==null?e.addVariables(i):e.addVariableArray(n.value,i),e}},qE=wB});var Cc,Hm,Ym=x(()=>{re();Wi();yn();Cc={tagName:"user:forgot_password_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",description:"Where the user should be taken after submitting the form",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:it,augmentScope:(t,e)=>(e.addVariables([{name:"success",dataType:"boolean",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t},{name:"url_invalid",dataType:"boolean",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t},{name:"errors",dataType:"array",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t}]),e),resolveDocumentation:t=>$("user:forgot_password_form Tag",'The `user:forgot_password_form` tag is used to quickly create a "forgot password" form for site users.',"https://statamic.dev/tags/user-forgot_password_form")},Hm=bt(Cc,"member:forgot_password_form");Hm.resolveDocumentation=t=>$("member:forgot_password_form Tag",'The `member:forgot_password_form` tag is used to quickly create a "forgot password" form for site users.',"https://statamic.dev/tags/user-forgot_password_form")});var Ec,Km,$m=x(()=>{re();Wi();yn();Ec={tagName:"user:reset_password_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",description:"Where the user should be taken after submitting the form",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:it,augmentScope:(t,e)=>(e.addVariables([{name:"success",dataType:"boolean",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t},{name:"url_invalid",dataType:"boolean",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t},{name:"errors",dataType:"array",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t}]),e),resolveDocumentation:t=>$("user:reset_password_form Tag","The `user:reset_password_form` tag is used to quickly create password reset forms. Forms created with this tag should be displayed after a user has received and clicked a password reset email link.","https://statamic.dev/tags/user-reset_password_form")},Km=bt(Ec,"member:reset_password_form");Km.resolveDocumentation=t=>$("member:reset_password_form Tag","The `member:reset_password_form` tag is used to quickly create password reset forms. Forms created with this tag should be displayed after a user has received and clicked a password reset email link.","https://statamic.dev/tags/user-reset_password_form")});function jE(t,e){return{sourceName:e.blueprintName,dataType:e.type,name:e.name,sourceField:e,introducedBy:t}}function GE(t){let e=new Map;for(let n=0;n<t.length;n++)e.set(t[n].name,t[n]);return e}function il(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push({sourceName:i.blueprintName,dataType:i.type,name:i.name,sourceField:i,introducedBy:t})}return n}var Sc=x(()=>{});function rd(t){return[{name:"handle",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"display",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"type",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"field",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"error",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"instructions",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"old",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t}]}var zm=x(()=>{});var xc,Qm,Xm=x(()=>{re();Sc();zm();Wi();yn();xc={tagName:"user:register_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after registering",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after failed registration attempts",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override the redirect and error_redirect parameters",acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:it,augmentScope:(t,e)=>{e.addVariableArray("fields",rd(t)),e.addVariable({name:"errors",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"old",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"error",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"success",dataType:"string",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t});let n=e.statamicProject.getUserFields();if(n.length>0){let r=il(t,n);e.addVariableArray("old",r),e.addVariableArray("error",r)}return e},resolveDocumentation:t=>$("user:register_form  Form Tag","The `user:register_form` tag can be used to build out public registration forms for new users.","https://statamic.dev/tags/user-register_form")},Qm=bt(xc,"member:register_form");Qm.resolveDocumentation=t=>$("member:register_form Tag","The `member:register_form` tag can be used to build out public registration forms for new users.","https://statamic.dev/tags/user-register_form")});var LB,DB,id,Jm=x(()=>{re();Va();$r();De();Rf();jm();Ym();Xf();Jf();kf();Of();Qf();$m();ed();Um();Xm();LB=[Le(el),Le(Za),Le(tl),Le(nl),Le($a),Le(td),Le(Cc),Le(za),Le(Qa),Le(xc),Le(Ec)],DB={tagName:"user",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:Zf,introducedIn:null,resovleParameterCompletionItems:(t,e)=>e.isPastTagPart==!1&&e.currentNode!=null&&e.currentNode.methodIsEmptyOrMatches("profile")&&t.name=="field"?ue(rf(e.project.getUserFields())):Re,augmentScope:(t,e)=>(t.methodIsEmptyOrMatches("profile")&&e.injectUserFields(t),e),resolveCompletionItems:t=>(t.leftWord=="user"||t.leftWord=="/user"||t.leftWord=="member"||t.leftWord=="/member")&&t.leftChar==":"?ue(LB):Re,resolveDocumentation:t=>$("user Tag","The `user` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null)},id=DB});var sd,Zm,eg,tg,ng,rg,ig,sg,og,WE=x(()=>{re();Wi();Jm();Rf();qm();Xf();Jf();kf();Of();Qf();ed();sd=bt(id,"member"),Zm=bt(el,"member:is"),eg=bt(tl,"member:isnt"),tg=bt(nl,"member:profile"),ng=bt($a,"member:can"),rg=bt(za,"member:logout"),ig=bt(Qa,"member:logout_url"),sg=bt(zf,"member:in"),og=bt(Za,"member:not_in");sd.hideFromCompletions=!0;sd.resolveDocumentation=t=>$("member Tag","The `member` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null);Zm.resolveDocumentation=t=>$("member:is Tag","The `member:is` tag can be used to check whether the currently authenticated user has one or more roles.","https://statamic.dev/tags/user-is");eg.resolveDocumentation=t=>$("member:isnt Tag","The `member:isnt` tag can be used to check whether the currently authenticated user does not have one or more roles.","https://statamic.dev/tags/user-is#isnt");tg.resolveDocumentation=t=>$("member:profile Tag","The `member:profile` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null);ng.resolveDocumentation=t=>$("member:can Tag","The `member:can` tag is used to check if the currently authenticated user has a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user has the specified permissions.","https://statamic.dev/tags/user-can");rg.resolveDocumentation=t=>$("member:logout Tag","The `member:logout` tag will sign out the currently authenticated user. An optional `redirect` parameter may be used to redirect the visitor to a different page after being logged out.","https://statamic.dev/tags/user-logout");ig.resolveDocumentation=t=>qe("member:logout_url","The `member:logout_url` tag can be used to retrieve the URL that will sign the current user out.",'<a href="{{ member:logout_url }}">Log out</a>',"https://statamic.dev/tags/user-logout_url");sg.resolveDocumentation=t=>$("member:in Tag","The `member:in` tag can be used to check if the currently authenticated user belongs to one or more user groups. When used as a tag pair, the tag contents will only be rendered if the user belongs to the specified groups.","https://statamic.dev/tags/user-in");og.resolveDocumentation=t=>$("member:not_in Tag","The `member:not_in` tag can be used to check if the currently authenticated user does not belong to one or more user groups. When used as a tag pair, the tag contents will be rendered if the user does not belong to the specified groups.","https://statamic.dev/tags/user-in#not-in")});function Js(t){return[{name:"title",dataType:"string",sourceField:null,sourceName:"*internal.routeable",introducedBy:t},{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.routeable",introducedBy:t}]}var od=x(()=>{});function HE(t,e){var n,r,i,s,a,l,u,d;if(e.nodesInScope.length>0){let h=e.nodesInScope[e.nodesInScope.length-1];if(h!=null&&h.currentScope!=null){let g=sl(h,e.project),N=e.project.getTaxonomyBlueprintFields(g),y=N.map(C=>C.name),T=ms(e.leftWord);if(y.includes(T))return ue(Hs(e))}}return t.name=="collection"&&((n=e.context)==null?void 0:n.parameterContext)!=null?ue(Ua((s=(i=(r=e.context)==null?void 0:r.parameterContext.parameter)==null?void 0:i.getArrayValue())!=null?s:[],e.project)):t.name=="filter"||t.name=="query_scope"?ue(af(e.project)):cg.includes(t.name)&&((a=e.context)==null?void 0:a.parameterContext)!=null?ue(YE((d=(u=(l=e.context)==null?void 0:l.parameterContext.parameter)==null?void 0:u.getArrayValue())!=null?d:[],e.project)):null}var ag,lg,cg,ug=x(()=>{gc();gs();De();ja();ad();ag=["from","taxonomy","is","use","folder"],lg=["not_from","not_in","dont_use","not_taxonomy"],cg=ag;cg=cg.concat(lg)});function sl(t,e){let n=[];if(t.hasMethodPart())return n.push(t.getMethodNameValue()),n;let r=t.findAnyParameter(ag),i=t.findAnyParameter(lg),s=[],a=[];return typeof r!="undefined"&&r!==null&&(r.value.trim()==="*"?(s=e.getUniqueTaxonomyNames(),typeof i!="undefined"&&i!==null&&i.isVariableReference==!1&&i.hasInterpolations()==!1&&(a=i.getArrayValue())):r.isVariableReference==!1&&r.hasInterpolations()==!1&&(s=r.getArrayValue())),a.length>0?n=s.filter(function(l){return a.includes(l)==!1}):n=s,n}function YE(t,e){let n=[],r=e.getUniqueTaxonomyNames().filter(i=>!t.includes(i));for(let i=0;i<r.length;i++)n.push({label:r[i],kind:KE.CompletionItemKind.Variable});return n}var KE,ad=x(()=>{KE=Ge(Dt());ug()});function $E(t,e){let n=sl(t,e.statamicProject),r=e.statamicProject.getTaxonomyBlueprintFields(n),i=t.findParameter("collection");if(e.addBlueprintFields(t,r),e.addVariables([{name:"first",dataType:"boolean",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"last",dataType:"boolean",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"count",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"index",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"total_results",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"entries_count",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t}]),e.addVariables(Js(t)),typeof i!="undefined"&&i!==null){let s=i.getArrayValue();if(s.length>0){let a=e.statamicProject.getBlueprintFields(s);e.introduceScopedAliasScope(t,"entries","entries",a).addVariables(Ys(t))}else e.addVariableArray("entries",Js(t).concat(Ys(t)))}else e.addVariableArray("entries",Js(t).concat(Ys(t)));return e}var zE=x(()=>{Tc();od();ad()});var MB,QE,XE=x(()=>{MB=[{name:"from",description:"The taxonomy to use",aliases:["taxonomy","is","use","folder"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1,isRequired:!1},{name:"not_from",description:"Taxonomies to exclude",aliases:["not_in","not_folder","dont_use","not_taxonomy"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["string","array"],isRequired:!1,isDynamic:!1},{name:"min_count",description:"The minimum number of entries a taxonomy term must have to be returned",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"collection",description:"Filter the terms to those that appear in the specified collections",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string","array"],isDynamic:!1,isRequired:!1},{name:"sort",description:"The field to sort terms by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{isRequired:!1,name:"filter",aliases:["query_scope"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Specifies a custom query scope",expectsTypes:["string"],isDynamic:!1}],QE=MB});function JE(t){var n,r;let e=[];if(t.currentNode!=null&&t.currentNode.currentScope!=null){let i=sl(t.currentNode,t.project),s=t.project.getTaxonomyBlueprintFields(i),a=s.map(u=>u.name),l=ms(t.leftWord);if(a.includes(l))return ue(Hs(t));if(t.isCaretInTag&&!((n=t.context)==null?void 0:n.interpolatedContext)&&["taxonomy","/taxonomy"].includes(t.leftWord)==!1){let u=[];for(let d=0;d<s.length;d++){let h=s[d];u.includes(h.name)==!1&&(e.push({label:h.name,detail:h.blueprintName,documentation:(r=h.instructionText)!=null?r:"",kind:fg.CompletionItemKind.Field}),u.push(h.name))}if(e.length>0)return kn(e)}}if((t.leftWord=="taxonomy"||t.leftWord=="/taxonomy")&&t.leftChar==":"){let i=t.project.getUniqueTaxonomyNames();for(let s=0;s<i.length;s++)e.push({label:i[s],kind:fg.CompletionItemKind.Field});return kn(e)}return Re}var fg,ZE=x(()=>{fg=Ge(Dt());gc();gs();De();ad()});var FB,eS,tS=x(()=>{re();yn();zE();XE();ZE();ug();FB={tagName:"taxonomy",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,introducedIn:null,injectParentScope:!1,parameters:QE,resolveDynamicParameter:it,resolveCompletionItems:JE,resovleParameterCompletionItems:HE,augmentScope:$E,resolveDocumentation:t=>$("taxonomy Tag","The `taxonomy` tag may be used to retrieve taxonomy entries. The taxonomy tag can also be used to access entries associated with any given taxonomy term.","https://statamic.dev/tags/taxonomy")},eS=FB});function nS(t,e){e.addVariables([{name:"is_published",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_page",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_entry",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"has_entries",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_parent",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_current",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_external",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"depth",dataType:"number",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"children",dataType:"array",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"count",dataType:"integer",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"index",dataType:"integer",sourceField:null,sourceName:"*internal.nav",introducedBy:t}]);let n=e.statamicProject.getUniqueCollectionNames(),r=[],i=!1;if(t.hasMethodPart()){let s=t.getMethodNameValue().trim().toLowerCase();if(s.startsWith("collection:")){let a=s.split(":").pop();i=!0,r.push(a)}else s=="pages"?(i=!0,r.push("pages")):(i=!1,r.push(s))}else{let s=t.findParameter("handle");s!=null&&(n.includes(s.value)?i=!0:i=!1,r.push(s.value))}if(i){let s=e.statamicProject.getBlueprintFields(r);e.addBlueprintFields(t,s),e.expandScopedAliasScope(t,"page","page",s)}else{let s=of(Js(t));e.addBlueprintFields(t,s),e.expandScopedAliasScope(t,"page","page",s)}return e}var rS=x(()=>{tm();od()});var VB,ld,dg=x(()=>{re();od();VB={tagName:"nav:breadcrumbs",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,introducedIn:null,injectParentScope:!1,parameters:[{name:"include_home",description:"Whether to include the home page in the first level",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1},{name:"reverse",description:"Whether to reverse the order of links",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isRequired:!1,isDynamic:!1},{name:"trim",description:"Whether to trim the whitespace after each iteration of the loop",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],augmentScope:(t,e)=>(e.addVariables([{name:"is_current",dataType:"boolean",sourceName:"*internal.nav.breadcrumbs",sourceField:null,introducedBy:t}]),e.addVariables(Js(t)),e),resolveDocumentation:t=>$("nav:breadcrumbs Tag","The `nav:breadcrumbs` tag can be used to retrieve the URLs of all pages that make up the current URL back to the site's home page.","https://statamic.dev/tags/nav-breadcrumbs")},ld=VB});function iS(t,e){if(t.name=="handle"){let n=e.project.getUniqueCollectionNames(),r=e.project.getUniqueNavigationMenuNames(),i=[];return i=n,i=i.concat(r),i=[...new Set(i)],kt(i)}return null}var sS=x(()=>{De()});var BB,oS,aS=x(()=>{BB=[{isRequired:!1,acceptsVariableInterpolation:!1,aliases:["handle"],allowsVariableReference:!1,name:"for",description:"The navigation or collection to use",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],name:"from",description:"The starting point for the navigation",allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"show_unpublished",description:"Whether to include unpublished content",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"include_home",description:"Whether to include the home page in the tree",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"max_depth",description:"The maximum depth of the navigation or structure",expectsTypes:["number"],isDynamic:!1}],oS=BB});var pg,hg,lS,cS=x(()=>{pg=Ge(Dt());re();Va();$r();De();Wi();rS();dg();sS();aS();hg={tagName:"structure",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,injectParentScope:!1,parameters:oS,augmentScope:nS,resovleParameterCompletionItems:iS,resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="nav"||t.leftWord=="/nav"||t.leftWord=="structure"||t.leftWord=="/structure")&&t.leftChar==":"){let n=t.project.getUniqueNavigationMenuNames();for(let r=0;r<n.length;r++)e.push(Fa(n[r],"",""));return(t.leftWord=="nav"||t.leftWord=="/nav")&&e.push(Le(ld)),e.push(Fa("collection","","")),e.push({label:"collection",kind:pg.CompletionItemKind.Text}),kn(e)}if((t.leftWord=="nav:collection"||t.leftWord=="/nav:collection"||t.leftWord=="collection"||t.leftWord=="/collection"||t.leftWord=="structure:collection"||t.leftWord=="/structure:collection")&&t.leftChar==":"){let n=t.project.getUniqueCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:pg.CompletionItemKind.Field});return kn(e)}return Re},resolveDocumentation:t=>$("nav Tag","The `nav` tag can be used to iterate structured collections or navigation menus.","https://statamic.dev/tags/nav")},lS=bt(hg,"nav")});function uS(t){return[{name:"success",dataType:"string",sourceField:null,sourceName:"*internal.forms",introducedBy:t},{name:"submission_created",dataType:"boolean",sourceField:null,sourceName:"*internal.forms",introducedBy:t}]}var fS=x(()=>{});var qB,Yi,ol=x(()=>{qB={name:"in",description:"The form to use",acceptsVariableInterpolation:!0,aliases:["handle","is","form","formset"],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},Yi=qB});var mg,UB,dS,pS=x(()=>{mg=Ge(Dt()),UB=[{label:"GET",kind:mg.CompletionItemKind.EnumMember},{label:"POST",kind:mg.CompletionItemKind.EnumMember}],dS=UB});function al(t,e){return Ri.includes(t.name)?kt(e.project.getUniqueFormNames()):t.name=="method"?ue(dS):t.name=="files"?ue(_c):null}var Ri,Ts=x(()=>{om();pS();De();Ri=["in","handle","is","form","formset"]});function Ki(t,e){let n=t.structure.findParentWithName("form:set");return n!=null?{context:n,issues:[]}:{context:null,issues:[]}}var ll=x(()=>{});function jo(t){if(t.reference!=null&&"tagPart"in t.reference){let r=t.reference;if(r.nameMatches("form:set"))return jo(r)}let e=t.findAnyParameter(Ri),n=t.getMethodNameValue();return n!=null&&jB.includes(n)==!1?n:typeof e!="undefined"&&e!==null&&e.containsSimpleValue()?e.value:""}var jB,cd=x(()=>{Ts();jB=["set","create","errors","success","submissions","submission"]});var GB,ud,gg=x(()=>{re();Sc();zm();fS();yn();ol();Ts();ll();cd();GB={tagName:"form:create",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[Yi,{name:"method",description:"The HTTP method to use",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"files",description:"Indicates if the form sends file data",aliases:[],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1},{name:"redirect",description:"The location to redirect users after a successful form submission",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",description:"The location to redirect users to after a failed form submission",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override redirect or error_redirect",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveSpecialType:Ki,resovleParameterCompletionItems:al,resolveDynamicParameter:it,augmentScope:(t,e)=>{e.addVariables(uS(t)),e.addVariable({dataType:"array",name:"errors",sourceField:null,sourceName:"*internal.forms",introducedBy:t}),e.addVariableArray("fields",rd(t));let n=jo(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n),i=il(t,r);e.addVariableArray("old",i),e.addVariableArray("error",i)}return e},resolveDocumentation:t=>$("form:create Tag","The `form:create` tag can be used to access form data, generate field HTML markup, and handle form validation errors.","https://statamic.dev/tags/form-create")},ud=GB});var WB,fd,Tg=x(()=>{re();De();ol();Ts();ll();WB={tagName:"form:errors",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[Yi],resolveSpecialType:Ki,resovleParameterCompletionItems:(t,e)=>Ri.includes(t.name)?kt(e.project.getUniqueFormNames()):null,resolveDocumentation:t=>$("form:errors Tag","The `form:errors` tag can be used to retrieve validation errors after a user has submitted a form.","https://statamic.dev/tags/form-errors")},fd=WB});var HB,dd,_g=x(()=>{re();Ts();HB={tagName:"form:set",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"in",description:"The form to use",acceptsVariableInterpolation:!0,aliases:["handle","is","form","formset"],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!0}],resovleParameterCompletionItems:al,resolveDocumentation:t=>$("form:set Tag","The `form:set` tag can be used to set the form handle on all nested form tags.","https://statamic.dev/tags/form-set")},dd=HB});var YB,pd,yg=x(()=>{re();De();ol();Ts();ll();cd();YB={tagName:"form:submission",requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[Yi],resolveSpecialType:Ki,resovleParameterCompletionItems:(t,e)=>Ri.includes(t.name)?kt(e.project.getUniqueFormNames()):null,augmentScope:(t,e)=>{let n=jo(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n);e.addBlueprintFields(t,r)}return e},resolveDocumentation:t=>$("form:submission Tag","The `form:submission` tag can be used to access the form submission submitted by the current user.","https://statamic.dev/tags/form-submission")},pd=YB});var KB,hd,Ng=x(()=>{re();De();ol();Ts();ll();cd();KB={tagName:"form:submissions",allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,introducedIn:null,parameters:[Yi],resolveSpecialType:Ki,resovleParameterCompletionItems:(t,e)=>Ri.includes(t.name)?kt(e.project.getUniqueFormNames()):null,augmentScope:(t,e)=>{if(t.isClosingTag)return e;let n=jo(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n);e.addBlueprintFields(t,r)}return e.addVariable({name:"date",dataType:"date",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e.addVariable({name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e.addVariable({name:"total_results",dataType:"number",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e},resolveDocumentation:t=>$("form:submissions Tag","The `form:submissions` tag can be used to fetch previously saved submissions for a form.","https://statamic.dev/tags/form-submissions")},hd=KB});var $B,md,bg=x(()=>{re();De();ol();Ts();ll();$B={tagName:"form:success",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[Yi],resolveSpecialType:Ki,resovleParameterCompletionItems:(t,e)=>Ri.includes(t.name)?kt(e.project.getUniqueFormNames()):null,resolveDocumentation:t=>$("form:success Tag","The `form:success` tag can be used to check if a form submission was successful or not.","https://statamic.dev/tags/form-success")},md=$B});var hS,zB,QB,mS,gS=x(()=>{hS=Ge(Dt());$r();De();gg();Tg();_g();yg();Ng();bg();Ts();zB=[Le(dd),Le(ud),Le(fd),Le(md),Le(hd),Le(pd)],QB={tagName:"form",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[],resovleParameterCompletionItems:al,resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="form"||t.leftWord=="/form")&&t.leftChar==":"){let n=t.project.getUniqueFormNames();e=e.concat(zB);for(let r=0;r<n.length;r++)e.push({label:n[r],kind:hS.CompletionItemKind.Field});return kn(e)}return Re}},mS=QB});function TS(t){return[{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"title",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"content",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"is_entry",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"is_term",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"count",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"index",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"search_score",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"_highlightResult",dataType:"array",sourceField:null,sourceName:"*internal.search.results",introducedBy:t}]}var vg,XB,_S,yS=x(()=>{re();$r();De();vg={tagName:"search:results",allowsArbitraryParameters:!1,requiresClose:!0,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"index",description:"The index to search in",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"query",description:"The query string parameter to use",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"limit",description:"The maximum number of search results to return",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1,expectsTypes:["number"]},{name:"offset",description:"The number of results to skip",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1,expectsTypes:["number"]},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets whether not to paginate entry results",expectsTypes:["boolean"],isRequired:!1,name:"paginate",isDynamic:!1},{name:"as",description:"Specifies an alias for search results",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"supplement_data",description:"Controls whether non-indexed fields are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resovleParameterCompletionItems:(t,e)=>t.name=="index"?kt(e.project.getSearchIndexes()):null,augmentScope:(t,e)=>{e.addVariables([{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"total_results",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t}]);let n=t.findParameter("as");return n!=null&&n.value.trim().length>0?e.addVariableArray(n.value,TS(t)):e.addVariables(TS(t)),e},resolveDocumentation:t=>$("search:results Tag","The `search:results` tag provides access to all data that was returned as a result of a user's search.","https://statamic.dev/tags/search")},XB=[Le(vg)];_S={tagName:"search",allowsArbitraryParameters:!1,requiresClose:!0,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="search"||t.leftWord=="/search")&&t.leftChar==":"?kn(XB):Re}});function Ig(t){return[{name:"email",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t},{name:"password",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t}]}var Pg,NS,bS=x(()=>{re();Wi();yn();Pg={tagName:"user:login_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after logging in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after failed login attempts",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override the redirect and error_redirect parameters",acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:it,augmentScope:(t,e)=>(e.addVariables([{name:"errors",dataType:"array",sourceName:"*internal.user.login",sourceField:null,introducedBy:t},{name:"success",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t}]),e.addVariables(Ig(t)),e.addVariableArray("old",Ig(t)),e.addVariableArray("error",Ig(t)),e),resolveDocumentation:t=>$("user:login_form Tag","The `user:login_form` tag can be used to quickly create a form that users can use to authenticate with the site.","https://statamic.dev/tags/user-login_form")},NS=bt(Pg,"member:login_form")});var JB,vS,IS=x(()=>{re();JB={tagName:"noparse",requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>$("noparse Tag","The `noparse` tag is used prevent blocks of Antlers code from being parsed, removing the need to escape individual Antlers code regions.","https://statamic.dev/antlers#the-noparse-tag")},vS=JB});var ZB,PS,AS=x(()=>{re();yn();ZB={tagName:"unless",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:it,resolveDocumentation:t=>$("unless Conditional Control Structure","The `unless` control structure operates the same as an `if` statement, but has it's logic inverted.","https://statamic.dev/antlers#conditions")},PS=ZB});var eq,CS,ES=x(()=>{re();yn();eq={tagName:"elseunless",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:it,resolveDocumentation:t=>$("elseunless Conditional Control Structure","The `elseunless` control structure operates the same as an `elseif` statement, but has it's logic inverted.","https://statamic.dev/antlers#conditions")},CS=eq});var SS,xS,RS=x(()=>{SS=Ge(Ei());re();De();xS={tagName:"installed",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!0,introducedIn:"3.1.19",parameters:[],resolveCompletionItems:t=>{if(t.project!=null){let e=t.project.getComposerPackages(),n=[];return e.forEach((r,i)=>{n.push({label:r.name,kind:SS.CompletionItemKind.Text})}),ue(n)}return Re},resolveDocumentation:t=>qe("installed Tag","The `installed` tag is used to check if the site has a specific Composer package available.",`{{ if {installed:composer/package-name} }}
    {{# Package is availabl.e #}}
{{ else }}
    {{# Something else. #}}
{{ /if }}`,"https://statamic.dev/tags/installed")}});var tq,kS,OS=x(()=>{tq={tagName:"relate",hideFromCompletions:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,introducedIn:null,parameters:[]},kS=tq});var cl,gd=x(()=>{cl=[{name:"bag",description:"The error message bag to retrieve errors from.",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1}]});var nq,wS,LS=x(()=>{re();gd();nq={tagName:"get_errors",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:cl,introducedIn:"3.2.23",augmentScope:(t,e)=>{var n;if(t.isClosingTag)return e;if(((n=t.name)==null?void 0:n.methodPart)==null){let r=e.copy();r.addVariable({dataType:"string",introducedBy:t,name:"field",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"field",refFieldSetField:null,sets:null,type:"string"}});let i=r.copy();i.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),r.addScopeList("messages",i),e.addScopeList("fields",r)}else{let r=e.copy();r.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e.addScopeList("messages",r)}return e},resolveDocumentation:t=>$("get_errors Tag","The `get_errors` tag can be used to retrieve form validation errors.","https://statamic.dev/tags/get_errors")},wS=nq});var rq,DS,MS=x(()=>{re();gd();rq={tagName:"get_errors:all",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:cl,introducedIn:null,augmentScope:(t,e)=>{if(t.isClosingTag)return e;let n=e.copy();return n.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors.all",sourceField:{blueprintName:"*internal.tag.get_errors.all",displayName:"get_errors:all",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e.addScopeList("messages",n),e},resolveDocumentation:t=>$("get_errors:all Tag","The `get_errors:all` tag can be used to retrieve all form validation errors.","https://statamic.dev/tags/get_errors#list-all-validation-errors")},DS=rq});var iq,FS,VS=x(()=>{re();gd();iq={tagName:"get_error",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:cl,introducedIn:null,augmentScope:(t,e)=>(t.isClosingTag||e.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_error",sourceField:{blueprintName:"*internal.tag.get_error",displayName:"get_error",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e),resolveDocumentation:t=>$("get_error Tag","The `get_error` tag can be used to retrieve the first error message for a specific field.","https://statamic.dev/tags/get_errors#get-the-first-error-for-a-specific-field")},FS=iq});var sq,BS,qS=x(()=>{sq={tagName:"set",hideFromCompletions:!0,allowsArbitraryParameters:!0,requiresClose:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[]},BS=sq});var US,oq,jS,GS=x(()=>{US=Ge(Ei());re();De();ja();oq={tagName:"mount_url",hideFromCompletions:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:"3.3.15",parameters:[{isRequired:!1,acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The collection handle",name:"handle",isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>$("mount Tag","The `mount` tag can be used to retrieve the mount URL for a given collection.",null),resovleParameterCompletionItems:(t,e)=>{var n,r,i,s;return t.name=="handle"&&((n=e.context)==null?void 0:n.parameterContext)!=null?ue(Ua((s=(i=(r=e.context)==null?void 0:r.parameterContext.parameter)==null?void 0:i.getArrayValue())!=null?s:[],e.project)):null},resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="mount_url"||t.leftWord=="/mount_url")&&t.leftChar==":"){let n=t.project.getCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:US.CompletionItemKind.Field,sortText:"0"})}return{items:e,analyzeDefaults:!1,isExclusiveResult:!1}}},jS=oq});var aq,WS,HS=x(()=>{re();aq={tagName:"vite",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"src",description:"The entry point",expectsTypes:["string"],isDynamic:!1}],resolveDocumentation:t=>qe("vite Tag","Generates Vite tags for an entrypoint.",'{{ vite src="entry/point" }}',null)},WS=aq});var lq,YS,KS=x(()=>{re();lq={tagName:"nocache",requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>qe("nocache Tag","The `nocache` tag is used to mark regions of a template. These regions will continue to update even when using caching strategies such as the full or half-measure cache.",`{{ nocache }} 
    <!-- This content will remain dynamic. -->
{{ /nocache }}`,"https://statamic.dev/tags/nocache")},YS=lq});var $S,zS=x(()=>{bA();IA();AA();EA();xA();OA();BA();dm();UA();WA();Rf();kf();Of();JA();eC();Nm();vm();Pm();Am();Cm();sC();Em();uC();hC();yC();bC();IC();CC();SC();RC();DC();FC();UC();YC();zC();ZC();tE();qm();Qf();Xf();Jf();Tf();pm();sE();aE();cE();fE();ed();hE();gE();jm();_E();NE();vE();PE();CE();SE();RE();Fm();OE();LE();ME();VE();UE();fm();WE();tS();cS();dg();gS();_g();gg();yg();bg();Ng();Tg();Jm();yS();bS();$m();Xm();IS();AS();ES();RS();OS();Wm();Tm();Bm();Ym();mm();gm();LS();MS();VS();qS();GS();HS();KS();$S=[wE,DE,FE,PS,CS,xC,LC,NA,bf,Do,vf,Nf,yf,kS,mS,ud,pd,hd,dd,md,fd,BS,wS,FS,DS,_S,vg,VA,Af,Cf,CA,oE,PA,pE,dE,vA,MC,qC,HC,Yf,SA,RA,kA,KC,$C,qA,Ef,JC,$f,eE,jS,lS,hg,ld,GA,jA,zf,iE,Za,el,lE,xS,id,tl,$a,td,za,Qa,nl,Pg,Ec,Cc,xc,sd,Zm,eg,tg,ng,rg,ig,sg,og,NS,Km,Hm,Qm,vS,YS,QA,XA,ZA,NC,vC,mE,pC,cC,kE,_C,qE,Ff,Mf,Df,Lf,nd,wf,EC,eS,yE,Gm,bE,IE,AE,EE,xE,Uf,AC,Rm,TE,iC,Vf,uE,WS]});var QS,Zs,Jt,$s=x(()=>{QS=Ge(Ei());Wl();uP();Va();ii();zS();Zs=class{constructor(){this.tags=new Map;this.parameters=new Map}reset(){this.tags.clear(),this.parameters.clear(),this.loadCoreTags()}getVisibleTagsWithDocumentation(){let e=[];return this.tags.forEach((n,r)=>{if(n.hideFromCompletions==!1){let i="";n.resolveDocumentation!=null&&(i=n.resolveDocumentation()),e.push({label:r,documentation:i})}}),e}getVisibleTagNames(){let e=[];return this.tags.forEach((n,r)=>{n.hideFromCompletions==!1&&e.push(r)}),[...new Set(e)]}getPossibleTagMethods(e){let n=[],r=e.length+1;return this.tags.forEach((i,s)=>{if(s.startsWith(e)){let a=s.substr(r).trim();a.length>0&&n.push(a)}}),[...new Set(n)]}getTagNames(){let e=[];return this.tags.forEach((n,r)=>{e.push(r)}),[...new Set(e)]}loadCoreTags(){this.registerTags($S)}cleanTagName(e){return is(e,"/")}findTag(e){return this.tags.get(this.resolveTagName(e))}isKnownTag(e){return this.tags.has(this.resolveTagName(e))}isSymbolKnownTag(e){return this.isKnownTag(e.runtimeName())}resolveTagName(e){return e=this.cleanTagName(e.trim()),this.tags.has(e)||e.includes(":")&&(e=e.split(":")[0]),e}canResolveSpecialTypes(e){e=this.resolveTagName(e);let n=this.tags.get(e);return!(typeof n=="undefined"||n==null||n.resolveSpecialType==null)}resolveSpecialType(e,n,r){e=this.resolveTagName(e);let i=this.findTag(e);if(i.resolveSpecialType==null)throw new Error(e+" does not support special types.");return i.resolveSpecialType(n,r)}getCompletionItems(e){var s;let n=null,r=[],i=!0;if(e.nodesInScope.length>0&&(n=e.nodesInScope[e.nodesInScope.length-1]),e.currentNode!=null&&this.isKnownTag(e.currentNode.runtimeName())){let a=this.findTag(e.currentNode.runtimeName());if(typeof a=="undefined")return{isExclusive:!1,items:[]};let l=[];if(a.resolveCompletionItems!=null){let u=a.resolveCompletionItems(e);if(u.isExclusiveResult)return{isExclusive:!0,items:u.items};i=u.analyzeDefaults,r=r.concat(u.items)}if(e.isPastTagPart==!1){let u=this.getPossibleTagMethods(a.tagName);for(let d=0;d<u.length;d++)r.push({label:u[d],kind:QS.CompletionItemKind.Text})}if(i){if(e.isCaretInTag==!0&&a.parameters.length>0&&(r=r.concat(Zh(e,a.parameters)),a.tagName=="partial"&&(n==null?void 0:n.hasMethodPart()))){let u=n.getMethodNameValue();if(u.trim().length>0&&((s=Mr.instance)==null?void 0:s.hasStructure())){let d=Mr.instance.getStructure().findPartial(u);d!=null&&d.injectsParameters.length>0&&(r=r.concat(Zh(e,d.injectsParameters)))}}for(let u=0;u<e.nodesInScope.length;u++)if(e.nodesInScope[u].runtimeType!==null){let d=e.nodesInScope[u].runtimeType;if(d!=null&&d.assumedType=="structure_ref"&&d.supplementedFields!=null)for(let h=0;h<d.supplementedFields.length;h++)r.push(em(d.supplementedFields[h]))}}return{items:r,isExclusive:!1}}return{items:r,isExclusive:!1}}injectParentScope(e){let n=this.findTag(e);return typeof n=="undefined"||n==null?!0:n.injectParentScope}resolveParameterCompletions(e,n,r){let i=this.findTag(e);return typeof i!="undefined"&&i!==null&&typeof i.resovleParameterCompletionItems!="undefined"&&i.resovleParameterCompletionItems!==null?i.resovleParameterCompletionItems(n,r):null}canResolveDynamicParameter(e){let n=this.resolveTagName(e);if(this.isKnownTag(n)){let r=this.tags.get(n);if(typeof r=="undefined")return!1;if(typeof r.resolveDynamicParameter!="undefined"&&r.resolveDynamicParameter!=null)return!0}return!1}getParameter(e,n){let r=this.resolveTagName(e);if(this.parameters.has(r)==!1)return null;let i=this.parameters.get(r);if(i==null)return null;if(i.has(n)==!1){let a=this.findTag(e);if(a!=null&&typeof a.resolveDynamicParameter!="undefined"&&a.resolveDynamicParameter!=null){let l=a.resolveDynamicParameter(null,n);if(l!==null)return l}return null}let s=i.get(n);return typeof s=="undefined"||i==null?null:s}registerTags(e){for(let n=0;n<e.length;n++)this.registerTag(e[n])}registerTag(e){if(this.tags.set(e.tagName,e),this.parameters.has(e.tagName)==!1&&this.parameters.set(e.tagName,new Map),e.parameters.length>0){let n=this.parameters.get(e.tagName);for(let r=0;r<e.parameters.length;r++){let i=e.parameters[r];n==null||n.set(i.name,i)}}}requiresClose(e){let n=e.getTagName();if(this.tags.has(n)){let r=this.findTag(n);if(r!=null)return r.requiresCloseResolver!=null?r.requiresCloseResolver(e):r.requiresClose}return!1}};Zs.instance=null;(typeof Zs.instance=="undefined"||Zs.instance==null)&&(Zs.instance=new Zs,Zs.instance.loadCoreTags());Jt=Zs});var zr,Sr,Rc=x(()=>{Sc();xu();zr=class{constructor(e){this.generation=0;this.id="";this.name="";this.values=new Map;this.lists=new Map;this.pristine=new Map;this.parentScope=null;this.statamicProject=e,zr.generationCounter+=1,this.generation=zr.generationCounter,this.id=_a()}makeNew(){return new zr(this.statamicProject)}ancestor(){return this.parentScope!=null?this.parentScope:this}canShiftScope(e){return!!this.pristine.has(e)}shiftScope(e,n,r){if(this.pristine.has(n)){let i=this.pristine.get(n),s=i.parentCopy.copy();return s.introduceAliasScope(e,r,i.introducedFields),s}return this}containsPath(e){if(e.includes(":")){let n=e.split(":"),r=n.shift(),i=n.join(":");if(typeof r=="undefined")return!1;let s=this.lists.get(r);return typeof s=="undefined"?!1:s.containsPath(i)}return!!this.lists.has(e)}findReference(e){if(e.includes(":")){let n=e.split(":"),r=n.pop(),i=n.join(":"),s=this.findNestedScope(i);if(s!=null)return s.findReference(r)}return this.values.has(e)?this.values.get(e):null}findReferenceWithField(e){if(e.includes(":")){let n=e.split(":"),r=n.pop(),i=n.join(":"),s=this.findNestedScope(i);if(s!=null)return s.findReference(r)}if(this.values.has(e)){let n=this.values.get(e);if(n.sourceField==null){if(n.introducedBy!=null&&n.introducedBy.currentScope!=null&&n.introducedBy.currentScope!=this)return n.introducedBy.currentScope.findReferenceWithField(n.introducedBy.getTagName());if(this.parentScope!=null&&this.parentScope!=this)return this.parentScope.findReferenceWithField(e)}return n}return null}containsReference(e){return this.findReference(e)!=null}findNestedScope(e){if(e.includes(":")){let n=e.split(":"),r=n.shift(),i=n.join(":");if(typeof r=="undefined")return null;let s=this.lists.get(r);return typeof s=="undefined"?null:s.findNestedScope(i)}return this.lists.has(e)?this.lists.get(e):this.parentScope!=null&&this.parentScope!=this&&this.parentScope.hasList(e)?this.parentScope.lists.get(e):null}liftList(e){if(this.lists.has(e)){let n=this.lists.get(e);return typeof n=="undefined"||n===null?null:(this.lists.delete(e),n)}return null}hasPristineReference(e){return!!this.pristine.has(e)}hasListInHistory(e){return this.hasList(e)?!0:this.parentScope!=null?this.name=="*root*"?!1:this.parentScope.hasList(e):!1}hasList(e){if(this.lists.has(e)){let n=this.lists.get(e);return!(typeof n=="undefined"||n===null)}return!1}bringListIntoMainScope(e){if(e.includes(":")){let r=e.split(":"),i=r.shift(),s=r.join(":");if(typeof i=="undefined")return this;let a=this.lists.get(i);return typeof a=="undefined"?this:a.bringListIntoMainScope(s)}let n=this.lists.get(e);return this.lists.delete(e),this.mergeScope(n)}getListNames(){let e=[];return this.lists.forEach((n,r)=>{e.push(r)}),e}getVariableNames(){let e=[];return this.values.forEach(n=>{e.push(n.name)}),e}getList(e){return this.lists.has(e)?this.lists.get(e):this.parentScope!=null&&this.parentScope!=this?this.parentScope.getList(e):null}hasValue(e){return this.values.has(e)}findAncestorWithList(e){return this.hasList(e)?this:this.parentScope!=null&&this.parentScope!=this?this.parentScope.findAncestorWithList(e):null}findReferenceNotIntroducedBy(e,n){if(this.hasValue(e)){let r=this.values.get(e);if(r.introducedBy!=null&&r.introducedBy!=n)return r}return this.parentScope!=null&&this.parentScope!=this?this.parentScope.findReferenceNotIntroducedBy(e,n):null}removeThroughIntroduction(e,n){if(this.values.delete(e),this.parentScope!=null){let r=this.findReferenceNotIntroducedBy(e,n);r!=null&&this.addVariable(r)}}wasIntroducedBySymbol(e,n){if(this.values.has(e)==!1)return!1;let r=this.values.get(e);return r.introducedBy!=null?r.introducedBy==n:!1}referencesArray(e){return this.values.has(e)==!1?!1:this.values.get(e).dataType=="array"}addScopeList(e,n){return this.lists.set(e,n),this}mergeAndList(e,n){let r=new zr(this.statamicProject);return r.values=GE(n),this.lists.set(e,r),this.mergeVariableScope(n),this}mergeScope(e){return e==this||e==null?this:(typeof e.values!="undefined"&&e.values!==null&&e.values.forEach((n,r)=>{this.values.set(r,n)}),typeof e.lists!="undefined"&&e.lists!==null&&e.lists.forEach((n,r)=>{this.lists.set(r,n)}),this)}mergeVariableScope(e){for(let n=0;n<e.length;n++)this.values.set(e[n].name,e[n]);return this}addVariable(e){this.values.set(e.name,e)}addVariables(e){for(let n=0;n<e.length;n++)this.addVariable(e[n])}addVariableArray(e,n){this.values.has(e)&&this.values.delete(e);let r=new zr(this.statamicProject);r.addVariables(n),this.addScopeList(e,r)}injectAssetContainer(e,n){this.addBlueprintFields(e,this.statamicProject.getAssetBlueprintFields(n))}injectUserFields(e){this.addBlueprintFields(e,this.statamicProject.getUserFields())}addBlueprintField(e,n){this.addVariable({dataType:n.type,name:n.name,sourceField:n,sourceName:n.blueprintName,introducedBy:e})}introduceScopedAliasScope(e,n,r,i){this.pristine.set(r,{introducedFields:i,introducedScope:r,parentCopy:this.copy()});let s=new zr(this.statamicProject),a=new zr(this.statamicProject);return a.addBlueprintFields(e,i),s.name=r,s.addScopeList(n,a),this.addScopeList(r,s),s}expandScopedAliasScope(e,n,r,i){this.lists.has(r)==!1?this.introduceScopedAliasScope(e,n,r,i):this.lists.get(r).addBlueprintFields(e,i)}introduceAliasScope(e,n,r){this.pristine.set(n,{introducedFields:r,introducedScope:n,parentCopy:this.copy()});let i=new zr(this.statamicProject);i.addBlueprintFields(e,r),i.name=n,this.addScopeList(n,i)}introduceDynamicScopeList(e,n,r){this.pristine.set(n,{introducedFields:r,introducedScope:n,parentCopy:this.copy()});let i=new zr(this.statamicProject);i.name=n,i.addBlueprintFields(e,r),this.addScopeList(n,i)}addBlueprintFields(e,n){for(let r=0;r<n.length;r++)this.addBlueprintField(e,n[r])}injectBlueprint(e,n){let r=this.statamicProject.getBlueprintDetails(n);r.length>0&&this.addBlueprintFields(e,r)}copy(){let e=new zr(this.statamicProject);return e.pristine=new Map(this.pristine),e.values=new Map(this.values),e.lists=new Map(this.lists),e.parentScope=this,e}},Sr=zr;Sr.generationCounter=0});function Ag(t){let e=new Sr(t);return e.addVariable({dataType:"string",name:"handle",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"name",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"locale",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"short_locale",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e}function XS(){let t=[];return t.push({dataType:"number",name:"response_code",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"csrf_field",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"csrf_token",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"environment",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"template",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"xml_header",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"last_segment",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"homepage",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_uri",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"amp_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"api_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_full_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_template",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"logged_in",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"logged_out",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"is_homepage",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"now",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"today",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"current_date",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"get",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"get_post",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"post",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"old",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t}var JS=x(()=>{Rc()});function ZS(t,e){let n=t.findParameter("paginate");if(n!=null&&(n.value.toLowerCase()=="true"||parseInt(n.value).toString()==n.value)){let r=e.makeNew(),i=e.makeNew(),s=e.makeNew(),a=e.makeNew();r.addVariable({name:"next_page",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"prev_page",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"total_items",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"total_pages",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"current_page",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"auto_links",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),s.addVariable({name:"url",dataType:"string",sourceField:null,sourceName:"*internal.pagination.all",introducedBy:t}),s.addVariable({name:"page",dataType:"integer",sourceField:null,sourceName:"*internal.pagination.all",introducedBy:t}),a.addVariable({name:"first",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),a.addVariable({name:"last",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),a.addVariable({name:"slider",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),i.addScopeList("all",s),i.addScopeList("segments",a),r.addScopeList("links",i),e.addScopeList("paginate",r)}}var ex=x(()=>{});var Go,Cg,tx=x(()=>{ii();Rc();Go=class{constructor(){this.fileInjections=new Map;this.project=null}updateProject(e){this.project=e}registerInjections(e,n){if(n.length==0)return;let r=[];for(let i=0;i<n.length;i++){let s=n[i];s.hasParameters&&r.push(s)}if(r.length>0){let i=r[0].getMethodNameValue();if(i!=null&&this.project!=null){let s=this.project.findPartial(i);s!=null&&(this.fileInjections.has(s.documentUri)||this.fileInjections.set(s.documentUri,new Map),this.fileInjections.get(s.documentUri).set(e,r))}}}hasAvailableInjections(e){return this.fileInjections.has(e)}getScopeInjection(e,n){let r=new Sr(n);return r.name="*injection*",this.fileInjections.get(e).forEach((s,a)=>{for(let l=0;l<s.length;l++){let u=s[l];if(u.hasParameters)for(let d=0;d<u.parameters.length;d++){let h=u.parameters[d];if(h.containsSimpleValue())r.addVariable({dataType:"string",name:h.name,sourceField:null,sourceName:"scope.injection",introducedBy:u});else if(h.isVariableReference&&u.currentScope!=null&&u.currentScope.hasListInHistory(h.value)){let g=u.currentScope.findNestedScope(h.value);if(g!=null){let N=is(h.name,":"),y=g.copy();y.name=N,r.addScopeList(N,g)}}}}}),r}};Go.instance=null;(typeof Go.instance=="undefined"||Go.instance==null)&&(Go.instance=new Go);Cg=Go});var cq,uq,Eg,nx=x(()=>{Mp();Fp();cb();nt();$s();Hn();Tc();Cn();JS();ex();Sc();Rc();lm();tx();cq=["collection"],uq=["if","elseif","unless","elseunless"],Eg=class{constructor(e,n,r){this.pageVars=[];this.viewDataVars=null;this.documentUri="";this.lastSymbolId="";this.ideHelperMap=new Map;this.statamicProject=e,this.documentUri=n,this.document=r,this.makePageScope(),this.makeViewDataScope()}makeViewDataScope(){this.document.hasFrontMatter()&&(this.viewDataVars=this.document.getFrontMatterScope())}makePageScope(){let e=[],n=this.statamicProject.getFields();if(n.has("pages")){let r=n.get("pages");for(let i=0;i<r.length;i++){let s=r[i];e.push({name:s.name,dataType:s.type,sourceField:s,sourceName:s.blueprintName,introducedBy:null})}}this.pageVars=e}analyzeScope(e){var h,g,N,y,T,C,D,_,A;let n=new Sr(this.statamicProject);n.name="*root*",n.parentScope=n,n.addScopeList("site",Ag(this.statamicProject)),n.addScopeList("sites",Ag(this.statamicProject)),n.addVariables(XS());let r=new Sr(this.statamicProject);r.name="*root_user*",r.parentScope=n,this.statamicProject.getUserFields().forEach(b=>{r.addBlueprintField(null,b)}),n.addScopeList("current_user",r),((h=lb.instance)==null?void 0:h.pageScopeDisabled(this.documentUri))?this.viewDataVars!=null&&n.addScopeList("view",this.viewDataVars):this.viewDataVars!=null?n.mergeAndList("page",this.pageVars).addScopeList("view",this.viewDataVars):n.mergeAndList("page",this.pageVars);let i=null;e.length>0&&e[0].isComment&&(i=Hl(this.documentUri,e[0]));for(let b=0;b<e.length;b++)if(e[b].isComment){let S=Hl(this.documentUri,e[b]);S.variableHelper!=null&&this.ideHelperMap.set(e[b].id(),S.variableHelper)}let s=this.statamicProject.getCollectionNamesForView(this.documentUri);if(i!=null&&(i.collectionInjections.length>0&&(s=s.concat(i.collectionInjections)),i.blueprints.length>0&&(s=s.concat(i.blueprints)),i.variableHelper!=null&&i.variableHelper.variableName=="@page")){let b=this.statamicProject.getBlueprintField(i.variableHelper.collectionName,i.variableHelper.fieldHandle);if(b!=null)if(i.variableHelper.setHandle.length>0){if(b.sets!=null){for(let S=0;S<b.sets.length;S++)if(b.sets[S].handle==i.variableHelper.setHandle){n.addVariables(il(e[0],b.sets[S].fields));break}}}else n.addBlueprintField(e[0],b)}if(s.length>0){for(let b=0;b<s.length;b++)n.injectBlueprint(e[0],s[b]);n.addVariables(Ys(e[0]))}((g=Cg.instance)==null?void 0:g.hasAvailableInjections(this.documentUri))&&n.mergeScope((N=Cg.instance)==null?void 0:N.getScopeInjection(this.documentUri,this.statamicProject));let a=[],l=[],u=[],d=[];d.push(n);for(let b=0;b<e.length;b++){let S=e[b];this.lastSymbolId.length>0&&l.includes(S.id())&&(a.pop(),d.pop(),d.length==0&&d.push(n));let w=d[d.length-1];if(S.hasParameters){for(let Y=0;Y<S.parameters.length;Y++)if(S.parameters[Y].interpolations.length>0)for(let oe=0;oe<S.parameters[Y].interpolations.length;oe++){let he=S.parameters[Y].interpolations[oe];S.processedInterpolationRegions.has(he)&&S.processedInterpolationRegions.get(he).forEach(Te=>{Te instanceof Z&&(Te.currentScope=w)})}}if(((y=Jt.instance)==null?void 0:y.isKnownTag(S.getTagName()))==!1){if(S.scopeVariable=w.findReference(S.runtimeName()),b>0){let Y=e[b-1];if(Y.isComment&&this.ideHelperMap.has(Y.id())&&!Y.isClosingTag&&!S.isClosingTag){let oe=this.ideHelperMap.get(Y.id());if(oe.variableName==S.getTagName()){let he=this.statamicProject.getBlueprintField(oe.collectionName,oe.fieldHandle);he!=null&&(S.scopeVariable=jE(S,he))}}}if(S.scopeVariable==null){let Y=S.runtimeName().trim();if(w.hasList(Y)||((T=S.currentScope)==null?void 0:T.hasListInHistory(Y))){S.sourceType="array";let oe=w.getList(Y);if(oe!=null&&oe.values.size>0){let he=oe.values.entries().next().value[1];S.scopeVariable={dataType:"array",introducedBy:he.introducedBy,name:Y,sourceField:null,sourceName:he.sourceName}}}}else S.sourceType=Cu(S.scopeVariable.dataType),S.scopeVariable.sourceField!=null&&((C=df.instance)==null?void 0:C.hasFieldtype(S.scopeVariable.sourceField.type))&&((D=df.instance)==null?void 0:D.getFieldType(S.scopeVariable.sourceField.type)).augmentScope(S,w)}if(S.hasParameters&&ZS(S,w),S.modifiers!=null&&S.modifiers.hasModifiers()?S.manifestType=S.modifiers.getLastManifestedModifierRuntimeType():S.manifestType=S.sourceType,S.isClosedBy!=null&&(a.push(S.id()),l.push(S.isClosedBy.id()),w=w.copy(),d.push(w)),S.getTagName()=="scope"&&S.hasMethodPart()){let Y=d[d.length-2].copy();w.addScopeList(S.getMethodNameValue(),Y)}if(w.containsPath(S.runtimeName())&&(a.push(S.id()),S.isClosedBy!=null&&l.push(S.isClosedBy.id()),w=w.copy().bringListIntoMainScope(S.runtimeName()),d.push(w)),S.currentScope=w,S.getTagName()!="cache"){let Y=S.findParameter("scope");Y!=null&&w.canShiftScope(S.runtimeName())&&(w=w.shiftScope(S,S.runtimeName(),Y.value),S.currentScope=w,d.pop(),d.push(w))}if((_=Jt.instance)==null?void 0:_.isKnownTag(S.runtimeName())){let Y=(A=Jt.instance)==null?void 0:A.findTag(S.runtimeName());typeof Y!="undefined"&&Y.augmentScope!=null&&Y.augmentScope(S,w)}if(S.modifierChain!=null&&S.modifierChain.modifierChain.length>0&&S.modifierChain.modifierChain.forEach(Y=>{Y.modifier!=null&&typeof Y.modifier.augmentScope!="undefined"&&Y.modifier.augmentScope!=null&&Y.modifier.augmentScope(S,w)}),S.modifiers.hasParameterModifiers()&&S.modifiers.parameterModifiers.forEach(Y=>{Y.modifier!=null&&typeof Y.modifier.augmentScope!="undefined"&&Y.modifier.augmentScope!=null&&Y.modifier.augmentScope(S,w)}),S.sourceType=="array"){let Y=S.findParameter("chunk"),oe=!0;if(S.parent!=null&&S.parent instanceof Z&&cq.includes(S.parent.runtimeName())&&(oe=!1),typeof Y!="undefined"&&Y!==null)if(S.currentScope.parentScope!=null&&(S.currentScope.parentScope.hasList(S.runtimeName())||w.referencesArray(S.runtimeName()))){let he=S.currentScope.parentScope.copy(),Ne=he.liftList(S.runtimeName());if(Ne==null&&w.referencesArray(S.runtimeName())){if(Ne=new Sr(w.statamicProject),oe){let Te=mt(S);for(let pe=0;pe<Te.length;pe++){let ot=Te[pe];he.wasIntroducedBySymbol(ot.name,S)&&he.removeThroughIntroduction(ot.name,S)}Ne.addVariables(Te)}}else oe&&he.addVariables(mt(S));he.addScopeList("chunk",Ne),w=he,d.pop(),d.push(w),S.currentScope=he}else{let he=S.findParameter("scope");if(typeof he!="undefined"&&he!==null&&S.currentScope!=null&&S.currentScope.hasList(he.value)&&S.scopeName!=null){let Ne=S.currentScope.copy(),Te=Ne.ancestor().copy(),pe=Ne.liftList(S.scopeName);oe&&Ne.addVariables(mt(S)),Te.liftList(S.scopeName),Ne.addScopeList(S.scopeName,pe),Te.addScopeList("chunk",Ne),w=Te,d.pop(),d.push(w),S.currentScope=Te}}else S.scopeVariable!=null&&S.scopeVariable.sourceField==null&&oe&&(w.addVariables(mt(S)),w.addVariables(ut(S)))}if(l.includes(S.id())&&S.parent!=null&&S.parent instanceof Z){let Y=S.currentScope.findAncestorWithList(S.getTagName());Y!=null?(S.currentScope=Y,w=Y.copy(),d.pop(),d.length==0&&d.push(n),d.push(w)):S.parent.parent!=null?S.currentScope=S.parent.parent.currentScope:S.currentScope=S.parent.currentScope}if(S.currentScope!=null&&S.runtimeNodes.length>0&&S.runtimeNodes.forEach(Y=>{var oe;if(Y instanceof Se&&((oe=S.currentScope)==null?void 0:oe.hasValue(Y.name))){let he=S.currentScope.findReferenceWithField(Y.name);Y.currentScope=S.currentScope,Y.scopeName=S.scopeName,Y.scopeVariable=he}}),uq.includes(S.runtimeName())&&S.runtimeNodes.length==3&&S.runtimeNodes[0]instanceof Se&&S.runtimeNodes[1]instanceof nr&&S.runtimeNodes[2]instanceof Yt&&S.runtimeNodes[0].scopeVariable!=null&&S.runtimeNodes[0].scopeVariable.sourceField!=null){let Y=S.runtimeNodes[0].scopeVariable,oe=S.runtimeNodes[2].value,he=Y.sourceField;if(he.sets!=null)for(let Ne=0;Ne<he.sets.length;Ne++){let Te=he.sets[Ne];if(Te.handle==oe&&Te.fields!=null){w=w.copy(),w.addBlueprintFields(S,Te.fields),S.isClosedBy!=null&&!S.isSelfClosing&&(a.push(S.id()),l.push(S.isClosedBy.id()),d.push(w));break}}}this.lastSymbolId=S.id();let J=a.join("/");u.push(J)}}}});var eo,rx=x(()=>{eo=class{};eo.globalTagEnterStack=[],eo.interpolatedVariables=[]});var sr,kc=x(()=>{sr=class{constructor(){this.name="";this.compound="";this.methodPart="";this.content="";this.cachedCompoundTagName=null}tagPartIs(e){return e=e.toLowerCase().trim(),this.name.toLowerCase().trim()==e}isCompound(){return this.methodPart==null?!1:this.methodPart.length>0}getMethodName(){return this.methodPart==""?"index":this.methodPart=="null"?"":this.methodPart}getRuntimeMethodName(){}getCompoundTagName(){if(this.cachedCompoundTagName==null){let e=this.getMethodName();this.cachedCompoundTagName=this.name,e!=null&&e!=""&&(this.cachedCompoundTagName=this.cachedCompoundTagName+":"+e)}return this.cachedCompoundTagName}}});var Sg,ul,ix=x(()=>{Io();$s();Sg=class{constructor(){this.tagNames=[];this.modifierNames=[]}getModifierNames(){var e,n;return this.modifierNames.concat((n=(e=Qt.instance)==null?void 0:e.getModifierNames())!=null?n:[])}getTagNames(){var e,n;return this.tagNames.concat((n=(e=Jt.instance)==null?void 0:e.getTagNames())!=null?n:[])}setTagNames(e){this.tagNames=e}setModifierNames(e){this.modifierNames=e}isTag(e){var n;return Sg.alwaysLikeTag.includes(e)||((n=Jt.instance)==null?void 0:n.isKnownTag(e))?!0:this.tagNames.includes(e)}isModifier(e){var n;return((n=Qt.instance)==null?void 0:n.hasModifier(e))?!0:this.modifierNames.includes(e)}},ul=Sg;ul.alwaysLikeTag=["if","endif","elseif","else","unless","elseunless"]});var dl,fl,xg,sx=x(()=>{nt();ix();dl=class{static analyze(e,n){e.forEach(r=>{if(r instanceof Z){if(r.pathReference!=null&&r.pathReference.isStrictVariableReference){r.isTagNode=!1;return}r.name!=null&&(r.isTagNode=n.isTag(r.name.name))}})}static analyzeNode(e){if(e.pathReference!=null&&e.pathReference.isStrictVariableReference){e.isTagNode=!1;return}dl.environmentDetails!=null&&e.name!=null&&(e.isTagNode=dl.environmentDetails.isTag(e.name.name)),e.name!=null&&(e.isConditionNode=ul.alwaysLikeTag.includes(e.name.name))}static analyzeParametersForModifiers(e){e.parameters.forEach(n=>{dl.environmentDetails!=null&&(n.isModifierParameter=dl.environmentDetails.isModifier(n.name))})}},fl=dl;fl.environmentDetails=null;(typeof fl.environmentDetails=="undefined"||fl.environmentDetails==null)&&(fl.environmentDetails=new ul);xg=fl});var Rg,ox=x(()=>{kc();Rg=class{static getIdentifier(e){var i;let n=new sr;n.content=e.trim();let r=e.split(":");if(r.length==1)n.name=r[0].trim(),n.methodPart=null,n.compound=n.name;else if(r.length>1){let s=(i=r.shift())!=null?i:"",a=r.join(":");n.name=s.trim(),n.methodPart=a.trim(),n.compound=n.name+":"+n.methodPart}else n.name=e.trim(),n.methodPart="";return n.name.startsWith("/")&&(n.name=n.name.substr(1),n.compound=n.compound.substr(1)),n}}});var ge,ne,kg=x(()=>{nt();ge=class{static getPrettyTypeName(e){return e instanceof Ti?ge.TOKEN_LANG_OPERATOR:e instanceof yr?ge.TOKEN_OP_A_ADD:e instanceof Se?ge.TOKEN_VARIABLE:e instanceof Yt?ge.TOKEN_STRING:e instanceof tn?ge.TOKEN_NUMBER:e instanceof si?ge.TOKEN_CONSTANT_FALSE:e instanceof qr?ge.TOKEN_CONSTANT_NULL:e instanceof oi?ge.TOKEN_CONSTANT_TRUE:e instanceof Na?ge.TOKEN_MODIFIER_NODE:e instanceof Ql?ge.TOKEN_MODIFIER_CHAIN:e instanceof Kp?ge.TOKEN_MODIFIER_PARAMETER:e instanceof Nr?ge.TOKEN_OP_A_DIVIDE:e instanceof Fi?ge.TOKEN_OP_A_EXPONENTIATION:e instanceof Vi?ge.TOKEN_OP_A_MODULUS:e instanceof br?ge.TOKEN_OP_A_MULTIPLY:e instanceof Vn?ge.TOKEN_OP_A_SUBTRACT:e instanceof ai?ge.TOKEN_ASG_ADD:e instanceof li?ge.TOKEN_ASG_DIVIDE:e instanceof ci?ge.TOKEN_ASG_MODULUS:e instanceof ui?ge.TOKEN_ASG_MULTIPLY:e instanceof vr?ge.TOKEN_ASG_ASSIGN:e instanceof Bi?ge.TOKEN_ASG_SUBTRACT:e instanceof nr?ge.TOKEN_CMP_EQUAL:e instanceof gi?ge.TOKEN_CMP_SEQUAL:e instanceof Ur?ge.TOKEN_CMP_GT:e instanceof ss?ge.TOKEN_CMP_GTE:e instanceof fi?ge.TOKEN_CMP_LT:e instanceof di?ge.TOKEN_CMP_LTE:e instanceof pi?ge.TOKEN_CMP_NEQ:e instanceof hi?ge.TOKEN_CMP_SNEQ:e instanceof mi?ge.TOKEN_CMP_SPACESHIP:e instanceof os?ge.TOKEN_OP_VARIABLE_FALLBACK:e instanceof $p?ge.TOKEN_COND_FALLBACK_GROUP:e instanceof Ht?ge.TOKEN_BRANCH_SEPARATOR:e instanceof _i?ge.TOKEN_TERNARY_SEPARATOR:e instanceof hn?ge.TOKEN_GROUP_BEGIN:e instanceof un?ge.TOKEN_GROUP_END:e instanceof Bn?ge.TOKEN_MODIFIER_SEPARATOR:e instanceof xn?ge.TOKEN_MODIFIER_NAME:e instanceof fn?ge.TOKEN_MODIFIER_VALUE:e instanceof qn?ge.TOKEN_MODIFIER_VALUE_SEPARATOR:e instanceof Jl?ge.TOKEN_NULL_COALESCE_GROUP:e instanceof en?ge.TOKEN_SEMANTIC_GROUP:e instanceof In?ge.TOKEN_STATEMENT_SEPARATOR:e instanceof Zl?ge.TOKEN_TERNARY_CONDITION:e instanceof jr?ge.TOKEN_OP_AND:e instanceof Pn?ge.TOKEN_OP_LOGIC_NEGATION:e instanceof yi?ge.TOKEN_OP_OR:e instanceof qi?ge.TOKEN_OP_XOR:e instanceof Gr?ge.TOKEN_OP_NULL_COALESCE:e instanceof zl?ge.TOKEN_PARAM:e instanceof gr?ge.TOKEN_PATH_ACCESSOR:e instanceof Ds?ge.TOKEN_OP_A_FACTORIAL:e instanceof Br?ge.TOKEN_RECURSIVE:e instanceof Ia?ge.TOKEN_ARG_GROUP:e instanceof Xt?ge.TOKEN_ARG_SEPARATOR:e instanceof Ui?ge.TOKEN_OP_STRING_CONCAT:e instanceof Un?ge.TOKEN_OP_SCOPE_REASSIGNMENT:e instanceof va?ge.TOKEN_STRUCT_SWITCH_CASE:e instanceof Ao?ge.TOKEN_STRUCT_SWITCH_GROUP:e instanceof Po?ge.TOKEN_STRUCT_DIRECTION_GROUP:e instanceof Wr?ge.TOKEN_STRUCT_SCOPED_LOGIC_GROUP:e instanceof Je?ge.TOKEN_STRUCT_LOGIC_GROUP:e instanceof Xl?ge.TOKEN_STRUCT_VALUE_DIRECTION:e instanceof as?ge.TOKEN_STRUCT_ARRAY:e instanceof Ni?ge.TOKEN_STRUCT_T_LIST_START:e instanceof zp?ge.TOKEN_STRUCT_TUPLE_LIST:e instanceof mn?ge.TOKEN_STRUCT_METHOD_CALL:typeof e}},ne=ge;ne.TOKEN_LANG_OPERATOR="T_LANG_OPERATOR",ne.TOKEN_VARIABLE="T_VAR",ne.TOKEN_NUMBER="T_NUMERIC",ne.TOKEN_STRING="T_STRING",ne.TOKEN_RECURSIVE="T_RECURSIVE",ne.TOKEN_CONSTANT_FALSE="T_FALSE",ne.TOKEN_CONSTANT_NULL="T_NULL",ne.TOKEN_CONSTANT_TRUE="T_TRUE",ne.TOKEN_MODIFIER_NODE="T_MODIFIER",ne.TOKEN_MODIFIER_CHAIN="T_MODIFIER_CHAIN",ne.TOKEN_MODIFIER_PARAMETER="T_MODIFIER_PARAM",ne.TOKEN_OP_A_ADD="T_AOP_ADD",ne.TOKEN_OP_A_DIVIDE="T_AOP_DIVIDE",ne.TOKEN_OP_A_EXPONENTIATION="T_AOP_EXP",ne.TOKEN_OP_A_MODULUS="T_AOP_MOD",ne.TOKEN_OP_A_MULTIPLY="T_AOP_MULTIPLY",ne.TOKEN_OP_A_SUBTRACT="T_AOP_SUBTRACT",ne.TOKEN_OP_A_FACTORIAL="T_AOP_FACTORIAL",ne.TOKEN_ASG_ADD="T_ASG_ADD",ne.TOKEN_ASG_DIVIDE="T_ASG_DIVIDE",ne.TOKEN_ASG_ASSIGN="T_ASG",ne.TOKEN_ASG_MODULUS="T_ASG_MODULUS",ne.TOKEN_ASG_MULTIPLY="T_ASG_MULTIPLY",ne.TOKEN_ASG_SUBTRACT="T_ASG_SUBTRACT",ne.TOKEN_CMP_EQUAL="T_CMP_EQ",ne.TOKEN_CMP_SEQUAL="T_CMP_SEQ",ne.TOKEN_CMP_GT="T_CMP_GT",ne.TOKEN_CMP_GTE="T_CMP_GTE",ne.TOKEN_CMP_LT="T_CMP_LT",ne.TOKEN_CMP_LTE="T_CMP_LTE",ne.TOKEN_CMP_NEQ="T_CMP_NEQ",ne.TOKEN_CMP_SNEQ="T_CMP_SNEQ",ne.TOKEN_CMP_SPACESHIP="T_CMP_SPSHP",ne.TOKEN_OP_VARIABLE_FALLBACK="T_VFBK",ne.TOKEN_COND_FALLBACK_GROUP="T_VFBK_GROUP",ne.TOKEN_BRANCH_SEPARATOR="T_BRANCH_SEPARATOR",ne.TOKEN_TERNARY_SEPARATOR="T_TERNARY_SEPARATOR",ne.TOKEN_GROUP_BEGIN="T_LOGIC_BEGIN",ne.TOKEN_GROUP_END="T_LOGIC_END",ne.TOKEN_MODIFIER_SEPARATOR="T_MODIFIER_SEPARATOR",ne.TOKEN_MODIFIER_NAME="T_MODIFIER_NAME",ne.TOKEN_MODIFIER_VALUE="T_MODIFIER_VALUE",ne.TOKEN_MODIFIER_VALUE_SEPARATOR="T_MODIFIER_VALUE_SEPARATOR",ne.TOKEN_NULL_COALESCE_GROUP="T_NULL_COALESCE_GROUP",ne.TOKEN_SEMANTIC_GROUP="T_SEMANTIC_GROUP",ne.TOKEN_STATEMENT_SEPARATOR="T_STATEMENT_SEPARATOR",ne.TOKEN_TERNARY_CONDITION="T_TERNARY_CONDITION",ne.TOKEN_OP_AND="T_AND",ne.TOKEN_OP_LOGIC_NEGATION="T_LOGIC_INVERSE",ne.TOKEN_OP_OR="T_OR",ne.TOKEN_OP_XOR="T_XOR",ne.TOKEN_OP_NULL_COALESCE="T_NULL_COALESCE",ne.TOKEN_PARAM="T_PARAM",ne.TOKEN_PATH_ACCESSOR="T_VAR_SEPARATOR",ne.TOKEN_ARG_GROUP="T_ARG_GROUP",ne.TOKEN_ARG_SEPARATOR="T_ARG_SEPARATOR",ne.TOKEN_OP_STRING_CONCAT="T_STR_CONCAT",ne.TOKEN_OP_SCOPE_REASSIGNMENT="T_SCOPE_ASSIGNMENT",ne.TOKEN_STRUCT_SWITCH_CASE="T_SWITCH_CASE",ne.TOKEN_STRUCT_SWITCH_GROUP="T_SWITCH_GROUP",ne.TOKEN_STRUCT_DIRECTION_GROUP="T_DIRECTION_GROUP",ne.TOKEN_STRUCT_VALUE_DIRECTION="T_ORDER_DIRECTION",ne.TOKEN_STRUCT_SCOPED_LOGIC_GROUP="T_SCOPED_LOGIC_GROUP",ne.TOKEN_STRUCT_LOGIC_GROUP="T_LOGIC_GROUP",ne.TOKEN_STRUCT_ARRAY="T_ARRAY",ne.TOKEN_STRUCT_T_LIST_START="T_LIST_START",ne.TOKEN_STRUCT_TUPLE_LIST="T_LIST",ne.TOKEN_STRUCT_METHOD_CALL="T_METHOD_CALL"});var gt,Og=x(()=>{gt=class{static isLanguageLogicalKeyword(e){return e==this.LogicalAnd||e==this.LogicalNot||e==this.LogicalOr||e==this.LogicalXor}};gt.LogicalAnd="and",gt.LogicalNot="not",gt.LogicalOr="or",gt.LogicalXor="xor",gt.ConstTrue="true",gt.ConstFalse="false",gt.ConstNull="null",gt.ArrList="list",gt.ScopeAs="as"});var wg,ax=x(()=>{ni();ri();kg();nt();ki();Og();Sn();wg=class{constructor(){this.chars=[];this.inputLen=0;this.currentIndex=0;this.currentContent=[];this.rawContent=[];this.startIndex=0;this.cur=null;this.next=null;this.prev=null;this.isParsingString=!1;this.isParsingModifierName=!1;this.isInModifierParameterValue=!1;this.runtimeNodes=[];this.ignorePrevious=!1;this.lastNode=null;this.referenceParser=null;this.activeNode=null}reset(){this.ignorePrevious=!1,this.runtimeNodes=[],this.chars=[],this.inputLen=0,this.currentIndex=0,this.currentContent=[],this.rawContent=[],this.startIndex=0,this.cur=null,this.next=null,this.prev=null,this.isParsingString=!1,this.isParsingModifierName=!1,this.isInModifierParameterValue=!1,this.referenceParser=null,this.activeNode=null}checkCurrentOffsets(){this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.ignorePrevious?(this.prev="",this.ignorePrevious=!1):this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen&&(this.next=this.chars[this.currentIndex+1])}isValidChar(e){return e==null||e==H.Punctuation_Semicolon?!1:this.isParsingString==!1&&e=="]"?!0:this.isParsingString==!1&&e==")"?!1:(e=="["||e=="]")&&e==this.cur||(e=="_"||e=="."||e=="["||e=="]")&&(!(this.currentContent.length>0)||te.ctypeAlpha(this.cur)||te.ctypeDigit(this.cur))?!0:te.ctypeSpace(e)?!1:this.isParsingModifierName&&(e==H.Punctuation_Minus||e==H.Punctuation_Underscore)?!0:!te.ctypePunct(e)}isRightOfInterpolationRegion(){if(this.activeNode==null||this.referenceParser==null)return!1;let e=this.activeNode._lexerRelativeOffset(this.currentIndex);return this.referenceParser.bordersInterpolationRegion(e)}scanForwardTo(e,n=0){let r=[];for(let i=this.currentIndex+1+n;i<this.inputLen;i++){let s=this.chars[i];if(s==e){r.push(s);break}else r.push(s)}return r}nextNonWhitespace(){for(let e=this.currentIndex+1;e<this.inputLen;e++){let n=this.chars[e];if(!te.ctypeSpace(n))return n}return null}pushError(e){this.referenceParser!=null&&this.referenceParser.addAntlersError(e)}guardAgainstNeighboringTypesInModifier(e){return this.lastNode instanceof fn&&this.pushError(Q.makeSyntaxError(k.TYPE_MODIFIER_INCORRECT_VALUE_POSITION,this.lastNode,"Incorrect type ["+ne.getPrettyTypeName(e)+"] near ["+ne.getPrettyTypeName(this.lastNode)+"]")),!1}appendContent(e){e!=null&&this.currentContent.push(e)}tokenize(e,n){this.reset(),this.referenceParser=e.getParser(),this.activeNode=e,this.chars=n.split(""),this.inputLen=this.chars.length,this.runtimeNodes=[],this.lastNode=null;let r=null;this.isParsingString=!1,this.isParsingModifierName=!1;let i=null;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){this.checkCurrentOffsets();let a=!0;if(this.cur!=null&&this.rawContent.push(this.cur),this.isParsingString==!1&&(this.cur==H.String_Terminator_DoubleQuote||this.cur==H.String_Terminator_SingleQuote)){if(this.prev==H.String_EscapeCharacter){this.pushError(Q.makeSyntaxError(k.TYPE_ILLEGAL_STRING_ESCAPE_SEQUENCE,e,"Illegal string escape sequence outside string parsing."));continue}this.rawContent=[],this.rawContent.push(this.cur),i=this.cur,this.isParsingString=!0,r=this.currentIndex;continue}if(this.isInModifierParameterValue&&!this.isParsingString){let l=!1;if(!this.isParsingString&&te.ctypeSpace(this.next)){let u=this.scanForwardTo(" ",1).join("").trim().toLowerCase();u.length>0&&gt.isLanguageLogicalKeyword(u)&&(l=!0)}if(this.next==H.String_Terminator_SingleQuote||this.next==H.String_Terminator_DoubleQuote||this.next==null||l){this.appendContent(this.cur);let u=this.currentContent.join("");if(u.length>0){let d=u;if(this.currentContent=[],this.rawContent=[],d.trimRight().length==0){let g=this.nextNonWhitespace();if(g==H.String_Terminator_SingleQuote||g==H.String_Terminator_DoubleQuote){this.currentContent=[],this.rawContent=[];continue}}let h=new fn;h.isVirtual=!1,h.name=d,h.value=d.trimRight(),h.startPosition=e._lexerRelativeOffset(this.currentIndex-d.length),h.endPosition=e._lexerRelativeOffset(this.currentIndex),h.parent=this.activeNode,this.guardAgainstNeighboringTypesInModifier(h),this.runtimeNodes.push(h),this.lastNode=h}if(u.length==0)continue;this.currentContent=[],this.rawContent=[],this.isInModifierParameterValue=!1;continue}if(this.next==H.Punctuation_Pipe||this.next==H.Punctuation_Colon||this.next==H.RightParent){this.isInModifierParameterValue=!1,this.appendContent(this.cur);let u=0,d=!1;if(this.currentContent[0]==H.String_Terminator_SingleQuote||this.currentContent[0]==H.String_Terminator_DoubleQuote){let N=this.scanForwardTo(this.currentContent[0]);N.length>0&&(this.currentContent=this.currentContent.concat(N),u=N.length,d=!0)}let h=this.currentContent.join("");d&&(h=h.substr(1),h=h.slice(0,-1)),this.currentContent=[],this.rawContent=[];let g=new fn;g.isVirtual=!1,g.name=h,g.value=h,g.startPosition=e._lexerRelativeOffset(this.currentIndex-h.length),g.endPosition=e._lexerRelativeOffset(this.currentIndex),g.parent=this.activeNode,this.runtimeNodes.push(g),this.guardAgainstNeighboringTypesInModifier(g),this.lastNode=g,this.currentIndex+=u}else this.appendContent(this.cur);continue}if(this.isParsingString&&this.cur==i){if(this.prev==H.String_EscapeCharacter)this.appendContent(i);else{if(this.isInModifierParameterValue){let u=this.currentContent.join(""),d=new fn;d.isVirtual=!1,d.name=u,d.value=u,d.startPosition=e._lexerRelativeOffset(r!=null?r:0),d.endPosition=e._lexerRelativeOffset(this.currentIndex),d.parent=this.activeNode,this.runtimeNodes.push(d),this.guardAgainstNeighboringTypesInModifier(d),this.lastNode=d,this.currentContent=[],this.rawContent=[],this.isParsingString=!1,this.isInModifierParameterValue=!1;continue}let l=new Yt;l.isVirtual=!1,l.startPosition=e._lexerRelativeOffset(r!=null?r:0),l.endPosition=e._lexerRelativeOffset(this.currentIndex),this.referenceParser!=null&&(l.sourceContent=this.referenceParser.getText(l.startPosition.index,l.endPosition.index+1)),l.parent=this.activeNode,i!=null&&(l.sourceTerminator=i),i=null,this.isParsingString=!1,l.value=this.currentContent.join(""),l.rawLexContent=this.rawContent.join("").trim(),this.currentContent=[],this.rawContent=[],this.guardAgainstNeighboringTypesInModifier(l),this.runtimeNodes.push(l),this.lastNode=l}continue}if(this.isParsingString&&this.cur==H.String_EscapeCharacter){if(this.next==H.String_EscapeCharacter){this.appendContent(H.String_EscapeCharacter),this.ignorePrevious=!0,this.currentIndex+=1;continue}else if(this.next==H.String_Terminator_SingleQuote){this.appendContent(H.String_Terminator_SingleQuote),this.currentIndex+=1;continue}else if(this.next==H.String_Terminator_DoubleQuote){this.appendContent(H.String_Terminator_DoubleQuote),this.currentIndex+=1;continue}else if(this.next=="n"){this.appendContent(`
`),this.currentIndex+=1;continue}else if(this.next=="t"){this.appendContent("	"),this.currentIndex+=1;continue}else if(this.next=="r"){this.appendContent("\r"),this.currentIndex+=1;continue}}if(this.isParsingString==!1){if(this.isValidChar(this.cur)&&this.isValidChar(this.next)==!1&&this.currentContent.length==0&&(this.appendContent(this.cur),a=!1),(this.next==null||this.isValidChar(this.next)==!1)&&this.currentContent.length>0){a&&this.appendContent(this.cur);let l=this.currentContent.join("").trim(),u=l.length,d=this.currentIndex-u,h=e._lexerRelativeOffset(d),g=e._lexerRelativeOffset(this.currentIndex);if(this.currentContent=[],this.rawContent=[],l==gt.LogicalAnd){let y=new jr;y.isVirtual=!1,y.content=gt.LogicalAnd,y.startPosition=h,y.endPosition=g,y.parent=this.activeNode,this.runtimeNodes.push(y),this.lastNode=y;continue}else if(l==gt.LogicalOr){let y=new yi;y.isVirtual=!1,y.content=gt.LogicalOr,y.startPosition=h,y.endPosition=g,y.parent=this.activeNode,this.runtimeNodes.push(y),this.lastNode=y;continue}else if(l==gt.LogicalXor){let y=new qi;y.isVirtual=!1,y.content=gt.LogicalXor,y.startPosition=h,y.endPosition=g,y.parent=this.activeNode,this.runtimeNodes.push(y),this.lastNode=y;continue}else if(l==gt.ConstNull){let y=new qr;y.isVirtual=!1,y.content=gt.ConstNull,y.startPosition=h,y.endPosition=g,y.parent=this.activeNode,this.runtimeNodes.push(y),this.lastNode=y;continue}else if(l==gt.ConstTrue){let y=new oi;y.isVirtual=!1,y.content=gt.ConstTrue,y.startPosition=h,y.endPosition=g,y.parent=this.activeNode,this.runtimeNodes.push(y),this.lastNode=y;continue}else if(l==gt.ConstFalse){let y=new si;y.isVirtual=!1,y.content=gt.ConstFalse,y.startPosition=h,y.endPosition=g,y.parent=this.activeNode,this.runtimeNodes.push(y),this.lastNode=y;continue}else if(l==gt.LogicalNot){let y=new Pn;y.isVirtual=!1,y.content=gt.LogicalNot,y.startPosition=h,y.endPosition=g,y.parent=this.activeNode,this.runtimeNodes.push(y),this.lastNode=y;continue}else if(l==gt.ArrList&&this.next==H.LeftParen){let y=new Ni;y.isVirtual=!1,y.content=gt.ArrList,y.startPosition=h,y.endPosition=g,y.parent=this.activeNode,this.runtimeNodes.push(y),this.lastNode=y;continue}if(te.isNumeric(l)){let y=new tn;y.isVirtual=!1,y.startPosition=h,y.endPosition=g,y.parent=this.activeNode,l.includes(".")?y.value=parseFloat(l):y.value=parseInt(l),y.rawLexContent=l,this.guardAgainstNeighboringTypesInModifier(y),this.runtimeNodes.push(y),this.lastNode=y;continue}if(this.runtimeNodes.length>0){let y=this.runtimeNodes[this.runtimeNodes.length-1];if(y instanceof Bn){let T=new xn;T.isVirtual=!1,T.name=l,T.content=l,T.startPosition=h,T.endPosition=g,T.parent=this.activeNode,this.runtimeNodes.push(T),this.lastNode=T;continue}else if(y instanceof qn){let T=new fn;T.isVirtual=!1,T.name=l,T.value=l,T.startPosition=h,T.endPosition=g,T.parent=this.activeNode,this.runtimeNodes.push(T),this.lastNode=T,this.isParsingModifierName=!1;continue}}let N=new Se;N.isVirtual=!1,N.name=l,N.startPosition=h,N.endPosition=g,N.parent=this.activeNode,this.runtimeNodes.push(N),this.lastNode=N;continue}}else{this.appendContent(this.cur);continue}if(!te.ctypeSpace(this.cur)){if(this.isParsingString==!1){if(this.cur==H.Punctuation_Equals&&this.next==H.Punctuation_GreaterThan){let l=new Un;l.isVirtual=!1,l.content="=>",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentContent=[],this.rawContent=[],this.currentIndex+=1;continue}if(this.cur==H.Punctuation_Comma){let l=new Xt;l.isVirtual=!1,l.content=H.Punctuation_Comma,l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_Semicolon){let l=new In;l.isVirtual=!1,l.content=H.Punctuation_Semicolon,l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_Plus){if(this.next==H.Punctuation_Equals){let u=new ai;u.isVirtual=!1,u.content="+=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let l=new yr;l.isVirtual=!1,l.content="+",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.isParsingModifierName==!1&&this.cur==H.Punctuation_Minus){if(te.ctypeDigit(this.next)&&te.ctypeDigit(this.prev)==!1&&this.prev!=H.RightParent&&this.isRightOfInterpolationRegion()==!1){this.appendContent(this.cur);continue}if(this.next==H.Punctuation_Equals){let u=new Bi;u.isVirtual=!1,u.content="-=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}else if(this.next==H.Punctuation_GreaterThan){let u=new mn;u.isVirtual=!1,u.content="->",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let l=new Vn;l.isVirtual=!1,l.content="-",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_Asterisk){if(this.next==H.Punctuation_Asterisk){let u=new Fi;u.isVirtual=!1,u.content="**",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}else if(this.next==H.Punctuation_Equals){let u=new ui;u.isVirtual=!1,u.content="*=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let l=new br;l.isVirtual=!1,l.content="*",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_ForwardSlash){if(this.next==H.Punctuation_Equals){let u=new li;u.isVirtual=!1,u.content="/=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let l=new Nr;l.isVirtual=!1,l.content="/",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_Percent){if(this.next==H.Punctuation_Equals){let u=new ci;u.isVirtual=!1,u.content="%=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let l=new Vi;l.isVirtual=!1,l.content="%",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_LessThan){if(this.next==H.Punctuation_Equals){let u=null;if(this.currentIndex+2<this.inputLen&&(u=this.chars[this.currentIndex+2]),u==H.Punctuation_GreaterThan){let h=new mi;h.isVirtual=!1,h.content="<=>",h.startPosition=e._lexerRelativeOffset(this.currentIndex),h.endPosition=e._lexerRelativeOffset(this.currentIndex+3),h.parent=this.activeNode,this.runtimeNodes.push(h),this.lastNode=h,this.currentIndex+=2;continue}let d=new di;d.isVirtual=!1,d.content="<=",d.startPosition=e._lexerRelativeOffset(this.currentIndex),d.endPosition=e._lexerRelativeOffset(this.currentIndex+2),d.parent=this.activeNode,this.runtimeNodes.push(d),this.lastNode=d,this.currentIndex+=1;continue}let l=new fi;l.isVirtual=!1,l.content="<",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_GreaterThan){if(this.next==H.Punctuation_Equals){let u=new Ur;u.isVirtual=!1,u.content=">=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let l=new Ur;l.isVirtual=!1,l.content=">",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_Equals&&this.next!=H.Punctuation_Equals){let l=new vr;l.isVirtual=!1,l.content="=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_Equals&&this.next==H.Punctuation_Equals){let l=null;if(this.currentIndex+2<this.inputLen&&(l=this.chars[this.currentIndex+2]),l==H.Punctuation_Equals){let u=new gi;u.isVirtual=!1,u.content="===",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+3),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=2}else{let u=new nr;u.isVirtual=!1,u.content="==",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1}continue}if(this.cur==H.Punctuation_Ampersand){if(this.next==H.Punctuation_Ampersand){let u=new jr;u.isVirtual=!1,u.content="&&",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}if(this.next==H.Punctuation_Equals){let u=new Ui;u.isVirtual=!1,u.content="&=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+1),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u;continue}let l=new jr;l.isVirtual=!1,l.content="&",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_Pipe&&this.next!=H.Punctuation_Pipe){let l=new Bn;l.isVirtual=!1,l.content="|",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.isParsingModifierName=!0;continue}if(this.cur==H.Punctuation_Pipe&&this.next==H.Punctuation_Pipe){let l=new yi;l.isVirtual=!1,l.content="||",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}if(this.cur==H.Punctuation_Exclamation){if(this.next==H.Punctuation_Equals){let u=null;if(this.currentIndex+2<this.inputLen&&(u=this.chars[this.currentIndex+2]),u==H.Punctuation_Equals){let h=new hi;h.isVirtual=!1,h.content="!==",h.startPosition=e._lexerRelativeOffset(this.currentIndex),h.endPosition=e._lexerRelativeOffset(this.currentIndex+3),h.parent=this.activeNode,this.runtimeNodes.push(h),this.lastNode=h,this.currentIndex+=2;continue}let d=new pi;d.isVirtual=!1,d.content="!=",d.startPosition=e._lexerRelativeOffset(this.currentIndex),d.endPosition=e._lexerRelativeOffset(this.currentIndex+2),d.parent=this.activeNode,this.runtimeNodes.push(d),this.lastNode=d,this.currentIndex+=1;continue}let l=new Pn;l.isVirtual=!1,l.content="!",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_Question&&this.next==H.Punctuation_Equals){let l=new os;l.isVirtual=!1,l.content="?=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}if(this.cur==H.Punctuation_Question&&this.next==H.Punctuation_Question){let l=new Gr;l.isVirtual=!1,l.content="??",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}if(this.cur==H.Punctuation_Question&&this.next==H.Punctuation_Colon){let l=new Gr;l.isVirtual=!1,l.content="?:",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}if(this.cur==H.Punctuation_Question){let l=new _i;l.isVirtual=!1,l.content="?",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.LeftParen){let l=new hn;l.isVirtual=!1,l.content="(",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.RightParent){let l=new un;l.isVirtual=!1,l.content=")",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_Colon){if(this.runtimeNodes.length>0&&this.runtimeNodes[this.runtimeNodes.length-1]instanceof xn){let d=new qn;d.isVirtual=!1,d.content=":",d.startPosition=e._lexerRelativeOffset(this.currentIndex),d.endPosition=e._lexerRelativeOffset(this.currentIndex+1),d.parent=this.activeNode,this.runtimeNodes.push(d),this.isInModifierParameterValue==!1?this.isInModifierParameterValue=!0:this.isInModifierParameterValue=!1;continue}let l=new Ht;l.isVirtual=!1,l.content=":",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.isParsingModifierName=!1;continue}}a&&this.appendContent(this.cur)}}let s=this.runtimeNodes.length-1;for(let a=0;a<this.runtimeNodes.length;a++){let l=null,u=null;a>0&&(l=this.runtimeNodes[a-1]),a!=s&&(u=this.runtimeNodes[a+1]);let d=this.runtimeNodes[a];d.prev=l,d.next=u}return this.runtimeNodes}}});var on,_s,Lg=x(()=>{ni();ri();nt();Sn();ki();on=class{constructor(){this.chars=[];this.currentIndex=0;this.lastIndex=0;this.inputLength=0;this.prev=null;this.cur=null;this.next=null;this.isParsingString=!1;this.isStringKeyPath=!1;this.antlersErrors=[];this._recusriveEntryCheck=new Map}isValidChar(e){return!(this.isParsingString==!1&&te.ctypeSpace(e)||this.isParsingString==!1&&e==on.LeftBracket||this.isParsingString==!1&&e==on.RightBracket)}normalizePath(e){return e=e.replace(":","_"),e=e.replace(".","_"),e=e.replace("[","_"),e=e.replace("]","_"),e.replace("]","_")}getAntlersErrors(){return this.antlersErrors}mergeErrors(e){e.forEach(n=>{this.antlersErrors.push(n)})}parse(e){this.antlersErrors=[],this._recusriveEntryCheck.clear();let n=e,r=!1,i=!1,s=!1,a=!1;e.startsWith(H.AtChar)&&(s=!0,e=e.substr(1)),e.startsWith(H.Punctuation_Caret)?(a=!0,e=e.substr(1)):(e.startsWith(H.Punctuation_Dollar)&&(r=!0,e=e.substr(1)),e.startsWith(H.Punctuation_Dollar)&&(i=!0,e=e.substr(1))),this.chars=[],this.currentIndex=0,this.lastIndex=0,this.inputLength=0,this.cur=null,this.prev=null,this.next=null,this.chars=e.split(""),this.inputLength=this.chars.length,this.lastIndex=this.inputLength-1;let l=[],u=!1,d=[],h=on.ColonSeparator,g=!1,N=null,y=!1,T=!0;if(this.isParsingString=!1,this.inputLength==0){let _=new Fs;return _._isFromEmptyFailState=!0,_}for(this.currentIndex;this.currentIndex<this.inputLength;this.currentIndex+=1){if(this.cur=this.chars[this.currentIndex],this.next=null,g?(g=!1,this.prev=""):this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLength&&(this.next=this.chars[this.currentIndex+1]),this.isParsingString==!1&&this.cur==on.ColonSeparator&&(h=on.ColonSeparator),this.isParsingString==!1&&this.cur==on.DotPathSeparator&&(h=on.DotPathSeparator),this.isParsingString&&this.cur==H.String_EscapeCharacter&&this.next==N){N!=null&&l.push(N),this.currentIndex+=1;continue}if(this.cur==H.String_Terminator_SingleQuote||this.cur==H.String_Terminator_DoubleQuote)if(this.isParsingString)if(this.cur==N)if(this.prev==H.String_EscapeCharacter){l.push(this.cur);continue}else this.isParsingString=!1,T=!1;else{l.push(this.cur);continue}else{this.prev!=H.LeftBracket&&(te.ctypeAlpha(this.prev)||te.ctypeDigit(this.prev))&&this.antlersErrors.push(Q.makeSyntaxError(k.PATH_STRING_NOT_INSIDE_ARRAY_ACCESSOR,null,"Unexpected string start while parsing variable path. String literals must be within array accessors.")),this.isParsingString=!0,y=!0,N=this.cur,this.isStringKeyPath=!0;continue}if(this.isParsingString){if(te.ctypeSpace(this.cur)){l.push(this.cur);continue}else if(this.cur==H.String_EscapeCharacter){if(this.next==H.String_EscapeCharacter){l.push(H.String_EscapeCharacter),this.currentIndex+=1,g=!0;continue}else if(this.next=="n"){l.push(`
`),this.currentIndex+=1;continue}else if(this.next=="t"){l.push("	"),this.currentIndex+=1;continue}else if(this.next=="r"){l.push("\r"),this.currentIndex+=1;continue}}}if(this.isParsingString==!1&&this.cur==on.LeftBracket){if(l.length>0){let b=new gr;b.name=l.join(""),b.delimiter=h,d.push(b),l=[]}if(this.next==null||te.ctypeSpace(this.next)){this.antlersErrors.push(Q.makeSyntaxError(k.TYPE_ILLEGAL_VARPATH_SPACE_RIGHT,null,"Unexpected end of input or whitespace while parsing variable accessor path."));continue}let _=this.locateEndOfAccessor();this.currentIndex=_.foundOn;let A=new on;if(d.push(A.parse(_.nestedContent)),this.mergeErrors(A.getAntlersErrors()),u=!0,this.currentIndex==-1){this.antlersErrors.push(Q.makeSyntaxError(k.PARSER_CANNOT_PARSE_PATH_RECURSIVE,null,"Cannot parse variable path.")),u=!1;break}continue}if(this.isParsingString==!1&&this.next==on.RightBracket&&u){T?l.push(this.cur):T=!0;let _=new Qp;_.name=l.join(""),d.push(_),l=[],h=on.ColonSeparator,this.currentIndex+=1,u=!1;continue}if(this.isParsingString==!1&&(this.cur==on.LeftBracket||this.cur==on.ColonSeparator||this.cur==on.DotPathSeparator||this.currentIndex==this.lastIndex)){if(this.next==null||te.ctypeSpace(this.next)){if(this.cur==on.ColonSeparator){if(l.length==0){this.antlersErrors.push(Q.makeSyntaxError(k.TYPE_UNEXPECTED_BRANCH_SEPARATOR,null,"Unexpected [T_BRANCH_SEPARATOR] while parsing input text."));continue}this.antlersErrors.push(Q.makeSyntaxError(k.TYPE_ILLEGAL_VARPATH_RIGHT,null,'Variable paths cannot end with the ":" character.'));continue}if(this.cur==on.LeftBracket){this.antlersErrors.push(Q.makeSyntaxError(k.TYPE_ILLEGAL_VARPATH_SUBPATH_START,null,"Illegal variable sub-path start."));continue}}this.currentIndex==this.lastIndex&&this.isValidChar(this.cur)&&(T?l.push(this.cur):T=!0);let _=new gr;_.delimiter=h,_.name=l.join(""),y&&(_.isStringVar=y,_.name=n.substr(1),_.name=_.name.slice(0,-1),y=!1),d.push(_),l=[];continue}else{l.push(this.cur);continue}}let C=d.length;if(C>0){let _=d[C-1];(_ instanceof gr||_ instanceof Fs)&&(_.isFinal=!0)}let D=new Fs;return D.isStrictTagReference=a,D.isStrictVariableReference=r,D.isExplicitVariableReference=i,D.pathParts=d,D.originalContent=e,D.isVariableVariable=s,D.normalizedReference=e.replace(":","."),D}locateEndOfAccessor(){let e=[],n=1,r=-1,i="",s=!1,a=null;if(this._recusriveEntryCheck.has(this.currentIndex+1)==!1)this._recusriveEntryCheck.set(this.currentIndex+1,!0);else return{foundOn:r,nestedContent:""};for(let l=this.currentIndex+1;l<this.inputLength;l++){let u=this.chars[l],d=null,h=null;if(l>0&&(h=this.chars[l-1]),l+1<this.inputLength&&(d=this.chars[l+1]),s==!1&&(u==H.String_Terminator_SingleQuote||u==H.String_Terminator_DoubleQuote)){s=!0,a=u,e.push(u);continue}if(s==!1&&u==on.LeftBracket){n+=1,e.push(u);continue}if(s&&u==a&&h!=H.String_EscapeCharacter){e.push(u),s=!1,a=null;continue}if(s==!1&&u==on.RightBracket)if(n-=1,n==0){r=l,i=e.join("");break}else{e.push(u);continue}else e.push(u);s==!1&&te.ctypeSpace(d)&&this.antlersErrors.push(Q.makeSyntaxError(k.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR,null,"Unexpected end of input or whitespace while parsing inner variable accessor path.")),d==null&&this.antlersErrors.push(Q.makeSyntaxError(k.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR,null,"Unexpected end of input or whitespace while parsing inner variable accessor path."))}return{foundOn:r,nestedContent:i}}},_s=on;_s.ColonSeparator=":",_s.LeftBracket="[",_s.RightBracket="]",_s.DotPathSeparator="."});var Dg,lx=x(()=>{Ta();sx();ox();ni();ri();ax();nt();kc();Sn();ki();Lg();Dg=class{constructor(){this.chars=[];this.inputLen=0;this.currentIndex=0;this.cur=null;this.prev=null;this.pathParser=new _s;this.lexer=new wg;this.activeNode=null}reset(){this.chars=[],this.inputLen=0,this.currentIndex=0,this.cur=null,this.prev=null}canBeClosingTag(e){var r;let n=(r=e.name)==null?void 0:r.name;return n=="elseif"||n=="else"?!0:e.name==null?!1:e.name.content.startsWith("/")}parseNode(e){var h,g,N,y;if(this.activeNode=e,this.reset(),e.content.startsWith("*subrecursive")){let T=e.content;T=T.trim(),T=te.trimRight(T,"*"),T=T.substr(13);let C=new Br;return e.copyBasicDetailsTo(C),C.originalNode=e,C.name=new sr,C.name.name=T,C.isNestedRecursive=!0,C.pathReference=this.pathParser.parse(T),C.mergeErrors(this.pathParser.getAntlersErrors()),C.content=T,C.runtimeContent=T,C}if(e.content.trim().startsWith("*recursive")){let T=e.content;T=T.trim(),T=te.trimRight(T,"*"),T=T.substr(10).trim();let C=new Br;return e.copyBasicDetailsTo(C),C.originalNode=e,C.name=new sr,C.name.name=T,C.pathReference=this.pathParser.parse(T),C.mergeErrors(this.pathParser.getAntlersErrors()),C.content=T,C.runtimeContent=T,C}this.chars=e.content.split(""),this.inputLen=this.chars.length;let n=[],r=!1,i="",s=!1,a=null;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1)if(this.cur=this.chars[this.currentIndex],this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),r==!1){if(s==!1&&(this.cur==H.String_Terminator_DoubleQuote||this.cur==H.String_Terminator_SingleQuote)){a=this.cur,s=!0,n.push(this.cur);continue}if(s&&te.ctypeSpace(this.cur)){n.push(this.cur);continue}if(s&&this.cur==a&&this.prev!=H.String_EscapeCharacter){a=null,s=!1,n.push(this.cur);continue}if(te.ctypeSpace(this.cur)||this.currentIndex==this.inputLen-1||this.cur==H.Punctuation_Pipe){if(n.length==0)continue;te.ctypeSpace(this.cur)||this.cur!=H.Punctuation_Pipe&&n.push(this.cur),i=n.join(""),r=!0;break}n.push(this.cur)}let l=e.getContentRelativeStartIndex();if(e.nameStartsOn=e.relativeOffset(l,l),e.nameStartsOn!=null&&(e.nameEndsOn=e.nameStartsOn.shiftRight(i.length-1),i.includes(H.Punctuation_Colon))){let T=i.indexOf(H.Punctuation_Colon);e.nameMethodPartStartsOn=e.nameStartsOn.shiftRight(T+1)}e.name=Rg.getIdentifier(i),xg.analyzeNode(e),e.parameters=this.getParameters(e),e.hasParameters=e.parameters.length>0,e.hasParameters&&(xg.analyzeParametersForModifiers(e),e.resetContentCache()),e.pathReference=this.pathParser.parse(i),e.mergeErrors(this.pathParser.getAntlersErrors()),e.pathReference!=null&&e.pathReference.isStrictTagReference&&(e.name.name=e.name.name.substr(1),e.name.content=e.name.content.substr(1)),e.isClosingTag=this.canBeClosingTag(e);let u=[];e.isClosingTag==!1&&(u=this.lexer.tokenize(e,e.getContent())),e.runtimeNodes=u;let d=e.content.trim();if(Tr.isConditionalStructure(e)&&e.name.name!="else"&&u.length==0&&d!="/if"&&d!="/unless"&&d!="/endunless"&&d!="endif"&&d!="endunless"&&d!="/endif"&&e.getContent().trim().length==0&&this.pushConditionWithoutExpression(e),e.name.name=="endif"){let T=e.copyBasicDetails(),C=e.getParser();return C!=null&&T.withParser(C),T.name=new sr,T.name.name="if",T.name.compound="if",T.isClosingTag=!0,T.content=" /if ",T.originalNode=e,T}if(e.name.name=="unless"){let T=e.copyBasicDetails(),C=e.getParser();if(C!=null&&T.withParser(C),T.name=new sr,T.name.name="if",T.name.compound="if",e.isClosingTag==!1){let D=(h=e.getContent())!=null?h:"",_=" if !("+D+") ";T.content=_,T.originalNode=e,T.resetContentCache(),T.runtimeNodes=this.lexer.tokenize(T,(g=T.getContent())!=null?g:""),this.testUnlessContent(T)}else T.originalNode=e,T.content=" /if ";return T}else if(e.name.name=="elseunless"){let T=e.copyBasicDetails(),C=e.getParser();C!=null&&T.withParser(C),T.name=new sr,T.name.name="elseif",T.name.compound="elseif";let D=(N=e.getContent())!=null?N:"",_=" elseif !("+D+") ";return T.content=_,T.originalNode=e,T.resetContentCache(),T.runtimeNodes=this.lexer.tokenize(T,(y=T.getContent())!=null?y:""),this.testUnlessContent(T),T}else if(e.name.name=="endunless"){let T=e.copyBasicDetails(),C=e.getParser();return C!=null&&T.withParser(C),T.name=new sr,T.name.name="if",T.name.compound="if",T.isClosingTag=!0,T.content=" /if ",T.originalNode=e,T}return e}pushError(e){this.activeNode!=null&&this.activeNode.pushError(e)}testUnlessContent(e){var r;let n=(r=e.getContent())!=null?r:"";if(n=n.replace("!",""),n=n.replace("(",""),n=n.replace(")","").trim(),n.length==0){this.pushConditionWithoutExpression(e);return}}pushConditionWithoutExpression(e){this.pushError(Q.makeSyntaxError(k.TYPE_PARSE_EMPTY_CONDITIONAL,e,"Condition structure lacks comparison expression."))}getParameters(e){var J,Y,oe,he,Ne,Te,pe,ot,Ee;let n=(J=e.getContent())!=null?J:"",r=n.split(""),i=[],s=[],a=r.length,l=0;if(e.name!=null){let se=te.trimLeft(e.content," "),rt=e.content.length-se.length,Pt=e.name.content.length;rt>0?l=rt+Pt:l=Pt}let u=!1,d=[],h="",g=0,N=0,y=!1,T=null,C=-1,D=-1,_=-1,A=-1,b=-1,S=-1,w='"';for(let se=0;se<a;se++){let rt=r[se],Pt=null,Ln=null;if(se+1<a&&(Ln=r[se+1]),y?(Pt="",y=!1):se>0&&(Pt=r[se-1]),u==!1&&te.ctypeSpace(rt)){d=[],C=-1,D=-1,_=-1,A=-1,b=-1,S=-1;continue}if(u==!1&&rt==H.Punctuation_Equals){if(d.length>0&&(te.ctypeAlpha(d[0])||te.ctypeDigit(d[0])||d[0]==H.Punctuation_Colon||d[0]==H.AtChar)==!1){d=[];continue}if(se+1>=a){this.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_END_OF_INPUT,e,"Unexpected end of input"));continue}let at=null;if(se+1<a&&(at=r[se+1]),Pt==H.Punctuation_Equals){d=[],C=-1,D=-1,_=-1,A=-1,b=-1,S=-1;continue}if(te.ctypeSpace(at)||at==H.Punctuation_Equals){d=[],C=-1,D=-1,_=-1,A=-1,b=-1,S=-1;continue}d.length>0&&(A=se,b=se,h=d.join(""),g=N,u=!0,d=[]),Ln==H.String_Terminator_DoubleQuote&&(T=H.String_Terminator_DoubleQuote,w=H.String_Terminator_DoubleQuote,se+=1),Ln==H.String_Terminator_SingleQuote&&(T=H.String_Terminator_SingleQuote,w=H.String_Terminator_SingleQuote,se+=1);continue}if(u&&rt==H.String_EscapeCharacter){let at=null;if(se+1<a&&(at=r[se+1]),at==H.String_EscapeCharacter){d.push(H.String_EscapeCharacter),se+=1,y=!0;continue}if(at==H.String_Terminator_DoubleQuote){d.push(H.String_Terminator_DoubleQuote),se+=1;continue}if(at==H.String_Terminator_SingleQuote){d.push(H.String_Terminator_SingleQuote),se+=1;continue}if(at=="n"){d.push(`
`),se+=1;continue}if(at=="r"){d.push("\r"),se+=1;continue}}if(u==!1&&(T!=null&&rt==T||T==null&&te.ctypeSpace(rt))&&i.push(d.join("")),u&&(T!=null&&rt==T||T==null&&te.ctypeSpace(rt))){let at=d.join("");S=se,D=se,u=!1,T=null,d=[];let Ut=new zl;if(h.startsWith(H.Punctuation_Colon)&&(Ut.isVariableReference=!0,h=h.substr(1)),Ut.nameDelimiter=w,Ut.name=h,Ut.value=at,Ut.startPosition=(Y=e.relativePositionFromOffset(N,g))!=null?Y:null,se+1>a){this.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NODE_PARAMETER,e,"Unexpected end of input while parsing parameter content.")),Ut.parent=e,s.push(Ut),h="";continue}Ut.endPosition=(oe=e.relativePositionFromOffset(se+1,se+1))!=null?oe:null,Ut.parent=e,Ut.blockPosition={start:(he=e.relativeOffset(C,C))!=null?he:null,end:(Ne=e.relativeOffset(D,D))!=null?Ne:null},Ut.namePosition={start:(Te=e.relativeOffset(_,_))!=null?Te:null,end:(pe=e.relativeOffset(A,A))!=null?pe:null},Ut.valuePosition={start:(ot=e.relativeOffset(b+2,b+2))!=null?ot:null,end:(Ee=e.relativeOffset(S,S))!=null?Ee:null},s.push(Ut),h="",C=-1,D=-1,_=-1,A=-1,b=-1,S=-1;continue}if(u==!1&&(rt==H.String_Terminator_DoubleQuote||rt==H.String_Terminator_SingleQuote)&&se>l)break;d.push(rt),C==-1&&(C=se),_==-1&&(_=se),d.length==1&&(N=se+1)}if(T!=null){let se=e;if(i.length>0){let rt=i[i.length-1],Pt=e.content.indexOf(rt);if(Pt>=0){let Ln=new ce;Ln.startPosition=e.relativeOffset(Pt-2,Pt-2),Ln.endPosition=e.relativeOffset(Pt+rt.length,Pt+rt.length),se=Ln}}this.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_END_OF_INPUT,se,"Unexpected string literal while parsing parameters."))}return s}}});function Oc(t){return t.length==0?null:t[0].startPosition}var Mg=x(()=>{});var cx,Td,ux=x(()=>{cx=Ge(Eu()),Td=class{static regions(){return this.noParseRegions}static clear(){this.noParseRegions.clear()}static registerNoParseContent(e){let n=cx.Md5.hashStr(e);return this.noParseRegions.set(n,e),n}};Td.noParseRegions=new Map});function Fg(t,e){let n=new Set(t),r=new Set(e),i=new Set([...n].filter(s=>r.has(s)));return Array.from(i)}var fx=x(()=>{});var Vg,_d,dx=x(()=>{Fo();ni();ri();nt();Mg();kc();ux();fx();Ta();Vg=class{constructor(){this.closingTagIndex=new Map;this.closingTagIndexCount=new Map;this.openTagIndexCount=new Map;this.closingTagNames=new Map;this.parentNode=null;this.stackCount=0;this.createdExecutionBranches=[];this.document=null}getClosingCandidates(e){var n,r;if((e instanceof Z||e instanceof St)&&e.isClosingTag==!1){let i=(r=(n=e.name)==null?void 0:n.compound)!=null?r:"";return i=="if"?["if","elseif","else"]:i=="elseif"?["elseif","else","if"]:i=="else"?["if"]:[i]}return[]}buildCloseIndex(e){var n,r,i;e.forEach(s=>{var a,l,u,d,h,g,N,y,T,C;if(!(s instanceof Br)&&!((s instanceof Z||s instanceof St)&&s.isSelfClosing)&&(s instanceof Z||s instanceof St)&&s.isClosingTag){this.closingTagIndex.has(this.stackCount)==!1&&this.closingTagIndex.set(this.stackCount,new Map),this.closingTagIndexCount.has(this.stackCount)==!1&&this.closingTagIndexCount.set(this.stackCount,new Map);let D=(l=(a=s.name)==null?void 0:a.compound)!=null?l:"";((u=this.closingTagIndex.get(this.stackCount))==null?void 0:u.has(D))==!1&&((d=this.closingTagIndex.get(this.stackCount))==null||d.set(D,[]),(h=this.closingTagIndexCount.get(this.stackCount))==null||h.set(D,0)),(N=(g=this.closingTagIndex.get(this.stackCount))==null?void 0:g.get(D))==null||N.push(s);let _=(T=(y=this.closingTagIndexCount.get(this.stackCount))==null?void 0:y.get(D))!=null?T:0;(C=this.closingTagIndexCount.get(this.stackCount))==null||C.set(D,_+1)}}),this.closingTagNames.has(this.stackCount)==!1&&this.closingTagNames.set(this.stackCount,[]),this.closingTagIndex.has(this.stackCount)&&(this.closingTagNames.set(this.stackCount,Array.from((r=(n=this.closingTagIndex.get(this.stackCount))==null?void 0:n.keys())!=null?r:[])),(i=this.closingTagIndex.get(this.stackCount))==null||i.forEach((s,a)=>{var d,h,g,N,y,T,C;let l=s.length;if(l==0)return;let u=s[l-1];for(let D=0;D<l;D++){let _=e[D];if(_ instanceof Z||_ instanceof St){if(_ instanceof Br)continue;if(_.index>=u.index)break;let A=(h=(d=_.name)==null?void 0:d.compound)!=null?h:"";if(_.isClosingTag==!1&&a==A&&!_.isSelfClosing){this.openTagIndexCount.has(this.stackCount)==!1&&this.openTagIndexCount.set(this.stackCount,new Map),((g=this.openTagIndexCount.get(this.stackCount))==null?void 0:g.has(a))==!1&&((N=this.openTagIndexCount.get(this.stackCount))==null||N.set(a,0));let b=(T=(y=this.openTagIndexCount.get(this.stackCount))==null?void 0:y.get(a))!=null?T:0;(C=this.openTagIndexCount.get(this.stackCount))==null||C.set(a,b+1)}}}}))}getScanForList(e){var n;if(e instanceof Z||e instanceof St){let r=(n=e.name)==null?void 0:n.compound;if(r=="else")return["if"];if(r=="elseif")return["elseif","else","if"];if(e.isClosingTag==!1){let i=this.getClosingCandidates(e),s=this.closingTagNames.get(this.stackCount);return Fg(i,s)}}return[]}canPossiblyClose(e){var n,r;if(e instanceof Br)return!1;if(e instanceof St||e instanceof Z){if(e.isComment||e.isSelfClosing)return!1;let i=(r=(n=e.name)==null?void 0:n.compound)!=null?r:"";if(i=="else"||i=="elseif")return!0;if(e.isClosingTag==!1){let s=this.getClosingCandidates(e),a=this.closingTagNames.get(this.stackCount);return Fg(s,a).length>0}}return!1}findClosingPair(e,n,r){var l,u,d,h;let i=n.runtimeNodes.length,s=e.length,a=0;for(let g=0;g<s;g++){let N=e[g];if(N instanceof Z||N instanceof St)if(n.endPosition!=null&&N.startPosition!=null){if(n.endPosition.isBefore(N.startPosition)){if(N.isClosingTag&&N.isOpenedBy!=null||N.isSelfClosing)continue;let y=(u=(l=N.name)==null?void 0:l.compound)!=null?u:"";if(N.isClosingTag==!1){if(r.includes(y)){let T=(d=this.openTagIndexCount.get(this.stackCount))==null?void 0:d.get(y),C=(h=this.closingTagIndexCount.get(this.stackCount))==null?void 0:h.get(y);T!=C&&N.runtimeNodes.length>=i,a+=1}continue}if(r.includes(y)&&a>0){a-=1;continue}if(a==0&&r.includes(y)){N.isOpenedBy=n,n.isClosedBy=N;break}}}else continue}}associate(e,n){var s,a,l,u,d,h,g;this.document=n;let r=[{documentNodes:e,parent:null}],i=[];for(;r.length>0;){let N=r.pop();if(N==null)continue;let y=N.documentNodes;this.parentNode=N.parent,this.stackCount+=1,this.buildCloseIndex(y),y=Tr.pairConditionals(y),y.forEach(_=>{if((_ instanceof Z||_ instanceof St)&&this.canPossiblyClose(_)){if(Tr.isConditionalStructure(_))return;let A=this.getScanForList(_);this.findClosingPair(y,_,A)}});let T=y.length;for(let _=0;_<T;_++){let A=y[_];if((A instanceof Z||A instanceof St)&&A.isClosedBy!=null)for(let b=_+1;b<T;b++){let S=y[b];if(S.index>A.isClosedBy.index)break;if(S.parent=A,A.children.push(S),S instanceof Z&&S.index==A.index){S.parent=A;break}}}y.forEach(_=>{if((_ instanceof Z||_ instanceof St)&&_.children.length>0){let A=[];_.children.forEach(b=>{b.parent!=null&&b.parent.index==_.index&&(b.parent=_,A.push(b))}),r.push({documentNodes:A,parent:_})}});let C=[];y.forEach(_=>{this.parentNode==null?_.parent==null&&C.push(_):_.parent==this.parentNode&&C.push(_)}),C=this.reduceConditionals(C,n);let D=new Map;y.forEach(_=>{var A,b,S,w;if((_ instanceof Z||_ instanceof St)&&_.isClosedBy!=null&&this.document!=null){let J=this.document.getText(((b=(A=_.endPosition)==null?void 0:A.index)!=null?b:0)+1,(w=(S=_.isClosedBy.startPosition)==null?void 0:S.index)!=null?w:0);_.runtimeContent=J}});for(let _=0;_<C.length;_++){let A=C[_],b=(s=A.refId)!=null?s:"";if(D.set(b,1),(A instanceof Z||A instanceof St)&&A.isComment==!1&&((a=A.name)==null?void 0:a.name)=="noparse"&&!(A instanceof vn)&&A.isClosingTag==!1){if(A.isClosedBy==null){A.pushError(Q.makeSyntaxError(k.TYPE_NO_PARSE_UNASSOCIATED,A,"Encountered noparse region without a closing tag. All noparse regions must be closed."));continue}let S=A.content;this.document!=null&&(S=this.document.getText(((u=(l=A.endPosition)==null?void 0:l.index)!=null?u:0)+1,(g=(h=(d=A.isClosedBy)==null?void 0:d.startPosition)==null?void 0:h.index)!=null?g:0));let w=new vn,J=A.getParser();J!=null&&w.withParser(J),A.copyBasicDetailsTo(w),w.name=new sr,w.name.name="noparse",w.name.compound="noparse",w.content=Td.registerNoParseContent(S),w.originalNode=A,w.isClosedBy=A.isClosedBy,w.parent=A.parent,C[_]=w}}if(this.parentNode!=null&&(this.parentNode instanceof St||this.parentNode instanceof Z)&&(this.parentNode.children=this.cleanNodes(C),this.parentNode.parent!=null&&this.parentNode.parent instanceof Z)){let _=this.parentNode.parent.children,A=[];_.forEach(b=>{var S;D.has((S=b.refId)!=null?S:"")==!1&&A.push(b)}),this.parentNode.parent.children=this.cleanNodes(A)}this.stackCount<=1&&(i=C)}return this.createdExecutionBranches.length>0&&this.createdExecutionBranches.forEach(N=>{N.head!=null&&(N.nodes=N.head.children)}),i}cleanNodes(e){let n=[],r=[];for(let i=0;i<e.length;i++){let s=e[i],a=s.refId;if(r.includes(a))break;n.push(s),r.push(a)}return n}findEndOfBranch(e,n,r){let i=[],s=r,a=null;for(let l=0;l<e.length;l++){let u=e[l];if((u instanceof Z||u instanceof St)&&u.isOpenedBy!=null&&u.isOpenedBy==n){a=u;break}else i.push(u)}return{children:i,tail:a,offset:s}}reduceConditionals(e,n){var i,s,a,l,u,d,h,g,N,y,T,C;let r=[];for(let D=0;D<e.length;D++){let _=e[D];if((_ instanceof Z||_ instanceof St)&&_.isComment==!1&&_.isClosingTag==!1&&_.isClosedBy!=null)if(((s=(i=_.name)==null?void 0:i.compound)!=null?s:"")=="if"){let b=new Fn;b.index=_.index,b.chain.push(_.index),b.fragment=_.fragment,b.fragmentPosition=_.fragmentPosition,b.containsAnyFragments=_.containsAnyFragments,b.containsChildStructures=_.containsChildStructures;let S=(l=(a=_.startPosition)==null?void 0:a.offset)!=null?l:0,w=_.getFinalClosingTag(),J=((d=(u=w.endPosition)==null?void 0:u.offset)!=null?d:0)+1;b.nodeContent=n.getText(S,J),this.parentNode!=null&&(b.parent=this.parentNode);let Y=null,oe=!0,he=0;for(;oe;){if(he+=1,he>Vg.ForceBreakLimit){oe=!1;break}if(_ instanceof Z||_ instanceof St){let Ne=this.findEndOfBranch(e.slice(D+1),_,D),Te=new Hp,pe=Ne.tail;Te.head=_,Te.tail=pe,Te.nodes=this.cleanNodes(_.children);let ot=((g=(h=_.endPosition)==null?void 0:h.offset)!=null?g:0)+1,Ee=(T=(y=(N=_.isClosedBy)==null?void 0:N.startPosition)==null?void 0:y.offset)!=null?T:0,se=n.getText(ot,Ee);if(Te.documentText=se,n.shouldParseChildDocument()&&(Te.childDocument=_n.childFromText(Te.documentText,Oc(Te.nodes))),pe==null&&(pe=Te.head.isClosedBy),pe!=null&&pe.startPosition!=null&&(Te.startPosition=pe.startPosition),pe!=null&&(Te.index=pe.index),Te.nodes.length>0){let rt=Te.nodes[Te.nodes.length-1];rt.endPosition!=null&&(Te.endPosition=rt.endPosition)}else pe!=null&&pe.endPosition!=null&&(Te.endPosition=pe.endPosition);if(this.createdExecutionBranches.push(Te),b.logicBranches.push(Te),(pe==null?void 0:pe.isClosingTag)&&((C=pe.name)==null?void 0:C.compound)=="if"){Y=Ne.offset,oe=!1;break}else pe!=null&&b.chain.push(pe.index),D=Ne.offset,pe instanceof Z&&(_=pe)}else oe=!1}if(b.logicBranches.length>0){let Ne=b.logicBranches[0],Te=b.logicBranches[b.logicBranches.length-1];Ne.startPosition!=null&&(b.startPosition=Ne.startPosition),Te.endPosition!=null&&(b.endPosition=Te.endPosition)}if(r.push(b),Y!=null&&Y==e.length)break}else r.push(_);else r.push(_)}return r}},_d=Vg;_d.ForceBreakLimit=1e5});var Bg,px=x(()=>{ni();ri();nt();Sn();Bg=class{static associateRecursiveParent(e){var n,r;for(let i=0;i<e.length;i++){let s=e[i];if(s instanceof Br){let a="*recursive "+((n=s.name)==null?void 0:n.name);if(i-1<0){s.pushError(Q.makeSyntaxError(k.TYPE_RECURSIVE_NODE_INVALID_POSITION,s,"Unpaired recursive node. All recursive nodes must have a parent node introducing them."));continue}let l=null;for(let u=i-1;u>=0;u-=1){let d=e[u];if(!(d instanceof xt)&&d instanceof Z&&d.isClosedBy!=null){if(s.isNestedRecursive){if(d.content.trim()==((r=s.name)==null?void 0:r.name)){l=d;break}}else if(d.runtimeContent.includes(a)&&te.substringCount(s.runtimeContent,"*recursive")==1){l=d;continue}else if(l!=null)break}}if(l==null)continue;s.isNestedRecursive?(l.hasRecursiveNode=!0,s.recursiveParent=l,l.recursiveReference=s):l.parent!=null?l.parent instanceof Z&&(l.parent.hasRecursiveNode=!0,l.parent.recursiveReference=s,s.recursiveParent=l.parent):(l.hasRecursiveNode=!0,s.recursiveParent=l,l.recursiveReference=s)}}}}});var pl,hx=x(()=>{nt();pl=class{static getNearText(e){var r,i,s,a;if(e instanceof Se)return e.name;if(e instanceof tn)return(i=(r=e.value)==null?void 0:r.toString())!=null?i:"";if(e instanceof Yt)return e.value;if(e instanceof xn)return e.name;if(e instanceof fn)return e.value;if(e instanceof Ni||e instanceof qi||e instanceof qr||e instanceof oi||e instanceof si||e instanceof Pn||e instanceof Ti||e instanceof Xt||e instanceof In||e instanceof ai||e instanceof yr||e instanceof Bi||e instanceof Vn||e instanceof Fi||e instanceof ui||e instanceof br||e instanceof li||e instanceof Nr||e instanceof ci||e instanceof Vi||e instanceof mi||e instanceof di||e instanceof fi||e instanceof ss||e instanceof Ur||e instanceof vr||e instanceof gi||e instanceof nr||e instanceof jr||e instanceof Bn||e instanceof yi||e instanceof hi||e instanceof pi||e instanceof os||e instanceof Gr||e instanceof _i||e instanceof hn||e instanceof un||e instanceof qn||e instanceof Ht||e instanceof Ds||e instanceof Un||e instanceof Ui||e instanceof mn)return e.content;let n="";return e instanceof Z?e.originalNode!=null?n=e.originalNode.getContent():n=(a=(s=e.startPosition)==null?void 0:s.line.toString())!=null?a:"":e.originalAbstractNode!=null?n=e.originalAbstractNode.rawContent():n=e.rawContent(),n.length>15&&(n=n.substr(0,-15)),n}}});var hl,mx=x(()=>{hl=class{};hl.deferredCoreLibraries=["arr","array","str","string","method","math","sys","convert","scope","stopwatch","file","path","url","request","json","datetime"]});var Mt,gx=x(()=>{Mt=class{};Mt.ARR_PLUCK="pluck",Mt.ARR_TAKE="take",Mt.ARR_SKIP="skip",Mt.ARR_MAKE="arr",Mt.ARR_ORDERBY="orderby",Mt.ARR_GROUPBY="groupby",Mt.ARR_MERGE="merge",Mt.QUERY_WHERE="where",Mt.STRUCT_SWITCH="switch",Mt.BITWISE_AND="bwa",Mt.BITWISE_OR="bwo",Mt.BITWISE_XOR="bxor",Mt.BITWISE_NOT="bnot",Mt.BITWISE_SHIFT_LEFT="bsl",Mt.BITWISE_SHIFT_RIGHT="bsr",Mt.operators=["pluck","take","arr","skip","orderby","groupby","merge","where","switch","bwa","bwo","bxor","bsl","bsr"]});var Zt,wc=x(()=>{ni();ri();hx();kg();nt();mx();gx();Su();Sn();ki();Og();Lg();Zt=class{constructor(){this.pathParser=new _s;this.tokens=[];this.createdVariables=[];this.createdModifierChains=[];this.createdLanguageOperators=[];this.createdArrays=[];this.tracedAssignments=[];this.mergedVariablePaths=[];this.mergedComponents=new Map;this.modifierNameMapping=new Map;this.isRealModifierSeparator=new Map;this.isRoot=!0;this.retriggerNonVirtualGroupMembers=[]}hasModifierConstruct(e){return this.modifierNameMapping.has(e)}getModifierConstruct(e){return this.modifierNameMapping.get(e)}isActualModifierSeparator(e){return this.isRealModifierSeparator.has(e)}isMergedVariableComponent(e){return this.mergedComponents.has(e)}getMergedVariable(e){return this.mergedComponents.get(e)}getMergedVariablePaths(){return this.mergedVariablePaths}getCreatedModifierChains(){return this.createdModifierChains}getCreatedLangaugeOperators(){return this.createdLanguageOperators}getCreatedArrays(){return this.createdArrays}getCreatedVariables(){return this.createdVariables}getRuntimeAssignments(){return this.tracedAssignments}getAssignedVariables(){let e=[],n=[];for(let r=0;r<this.tracedAssignments.length;r++){let i=this.tracedAssignments[r];i.target instanceof Se&&n.includes(i.target.name)==!1&&(n.push(i.target.name),e.push(i.target))}return e}getAssignedVariableNames(){let e=[];for(let n=0;n<this.tracedAssignments.length;n++){let r=this.tracedAssignments[n];r.target instanceof Se&&e.includes(r.target.name)==!1&&e.push(r.target.name)}return e}reset(){this.tokens=[],this.createdModifierChains=[],this.createdLanguageOperators=[],this.createdArrays=[],this.createdModifierChains=[],this.createdLanguageOperators=[],this.tracedAssignments=[],this.createdArrays=[],this.mergedVariablePaths=[],this.mergedComponents.clear(),this.modifierNameMapping.clear()}parse(e){return this.tokens=e,this.tokens=this.combineVariablePaths(this.tokens),this.tokens=this.createLanguageOperators(this.tokens),this.tokens=this.createLogicalGroups(this.tokens),this.tokens=this.associateMethodCalls(this.tokens),this.tokens=this.createTupleLists(this.tokens),this.tokens=this.createLibraryInvocations(this.tokens),this.tokens=this.associateModifiers(this.tokens),this.tokens=this.createNullCoalescenceGroups(this.tokens),this.tokens=this.correctTypes(this.tokens),this.tokens=this.createTernaryGroups(this.tokens),this.tokens=this.applyOperationOrder(this.tokens),this.validateNeighboringOperators(this.tokens),this.tokens=this.createLogicGroupsToRemoveMethodInvocationAmbiguity(this.tokens),this.tokens=this.createLogicGroupsToResolveOperatorAmbiguity(this.tokens),this.validateNoDanglingLogicGroupEnds(this.tokens),this.isRoot&&(this.tokens=this.insertAutomaticStatementSeparators(this.tokens),this.retriggerNonVirtualGroupMembers.length>0&&this.retriggerNonVirtualGroupMembers.forEach(n=>{this.markAllNonVirtualAsListGroupMember(n)})),this.createSemanticGroups(this.tokens)}setIsRoot(e){return this.isRoot=e,this}validateNeighboringOperators(e){let n=e.length;for(let r=0;r<n;r++){let i=e[r];if(Zt.isOperatorType(i)){if(r+1>=n){i.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_OPERATOR,i,"Unexpected operator while parsing input text."));return}let s=e[r+1];if(Zt.isOperatorType(s)){s.pushError(Q.makeSyntaxError(k.TYPE_OPERATOR_INVALID_ON_RIGHT,s,"Unexpected operator while parsing input text."));continue}}}}static isAssignmentOperator(e){return e instanceof ai||e instanceof li||e instanceof vr||e instanceof ci||e instanceof ui||e instanceof Bi}static isOperatorType(e){return e instanceof ai||e instanceof li||e instanceof vr||e instanceof ci||e instanceof ui||e instanceof Bi||e instanceof os||e instanceof Ti||e instanceof jr||e instanceof Pn||e instanceof yi||e instanceof qi||e instanceof Gr||e instanceof Ui||e instanceof yr||e instanceof Nr||e instanceof Fi||e instanceof Vi||e instanceof br||e instanceof Vn||e instanceof nr||e instanceof Ur||e instanceof ss||e instanceof fi||e instanceof di||e instanceof pi||e instanceof hi||e instanceof mi||e instanceof gi}markAllNonVirtualAsListGroupMember(e){e.forEach(n=>{if(n instanceof Je||n instanceof Wr||n instanceof ls){n.start!=null&&n.start.isVirtual==!1&&(n.start.isListGroupMember=!0),n.end!=null&&n.end.isVirtual==!1&&(n.end.isListGroupMember=!0),n.scopeOperator!=null&&(n.scopeOperator.isListGroupMember=!0),n.nodes.forEach(r=>{this.markAllNonVirtualAsListGroupMember([r])});return}else n instanceof en&&(n.separatorToken!=null&&n.separatorToken.isVirtual==!1&&(n.separatorToken.isListGroupMember=!0),this.markAllNonVirtualAsListGroupMember(n.nodes));n.isVirtual==!1&&(n.isListGroupMember=!0),n.originalAbstractNode!=null&&n.originalAbstractNode!=n&&this.markAllNonVirtualAsListGroupMember([n.originalAbstractNode])})}markAllNonVirtualAsSwitch(e){e.forEach(n=>{if(n instanceof Je||n instanceof Wr||n instanceof ls){n.start!=null&&n.start.isVirtual==!1&&(n.start.isSwitchGroupMember=!0),n.end!=null&&n.end.isVirtual==!1&&(n.end.isSwitchGroupMember=!0),n.scopeOperator!=null&&(n.scopeOperator.isSwitchGroupMember=!0),n.nodes.forEach(r=>{this.markAllNonVirtualAsSwitch([r])});return}else n instanceof en&&(n.separatorToken!=null&&n.separatorToken.isVirtual==!1&&(n.separatorToken.isSwitchGroupMember=!0),this.markAllNonVirtualAsSwitch(n.nodes));n.isVirtual==!1&&(n.isSwitchGroupMember=!0),n.originalAbstractNode!=null&&n.originalAbstractNode!=n&&this.markAllNonVirtualAsSwitch([n.originalAbstractNode])})}validateNoDanglingLogicGroupEnds(e){e.forEach(n=>{n instanceof un&&n.pushError(Q.makeSyntaxError(k.TYPE_LOGIC_GROUP_NO_START,n,"Unexpected [T_LOGIC_END] while parsing input text."))})}isValidModifierValue(e){return e instanceof fn||e instanceof Se||e instanceof oi||e instanceof si||e instanceof qr||e instanceof tn||e instanceof Yt}wrapNumberInVariable(e){var r,i,s,a;let n=new Se;return n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.name=(i=(r=e.value)==null?void 0:r.toString())!=null?i:"",n.content=(a=(s=e.value)==null?void 0:s.toString())!=null?a:"",n.originalAbstractNode=e,n.refId=e.refId,n.modifierChain=e.modifierChain,n.index=e.index,this.createdVariables.push(n),n}wrapArithmeticModifier(e,n){let r=new xn;return r.startPosition=e.startPosition,r.endPosition=e.endPosition,r.originalAbstractNode=e,r.content=n,r.name=n,r.index=e.index,r}combineVariablePaths(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i],a=n.length;if(s instanceof Ht){if(a==0){s.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_BRANCH_SEPARATOR_FOR_VARCOMBINE,s,"Unexpected [T_BRANCH_SEPARATOR] while parsing input text."));continue}if(i+1>r){let d="";if(i>0){let h=e[i-1];d=pl.getNearText(h)}s.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_EOI_PARSING_BRANCH_GROUP,s,'Unexpected end of input while parsing input text near "'+d+pl.getNearText(s)+'".'));continue}let l=n[a-1],u=e[i+1];if(u instanceof tn&&vt.distance(l,u)==1&&(u=this.wrapNumberInVariable(u)),l instanceof Se&&u instanceof Se&&vt.distance(l,u)==1){n.pop(),vt.mergeVarContentRight(":",s,u),vt.mergeVarRight(l,u),n.push(u),this.createdVariables.push(u),this.mergedVariablePaths.push(u),this.mergedComponents.set(s,u),this.mergedComponents.set(l,u),this.mergedComponents.set(u,u),i+=1;continue}else{n.push(s);continue}}else if(s instanceof Yt&&a>0){if(i+1>=r){n.push(s);continue}let l=n[a-1],u=e[i+1];if(l instanceof Se&&u instanceof Se&&vt.distance(l,s)<=1&&vt.distance(s,u)<=1){n.pop(),vt.mergeVarContentLeft(s.sourceTerminator+s.value+s.sourceTerminator,s,l),vt.mergeVarContentLeft(u.name,u,l),this.createdVariables.push(l),n.push(l),this.mergedVariablePaths.push(l),this.mergedComponents.set(s,l),this.mergedComponents.set(l,l),this.mergedComponents.set(u,l),i+=1;continue}else n.push(s)}else if(s instanceof Vn&&a>0){let l=n[a-1],u=e[i+1];if(l instanceof Se&&u instanceof Se){let d=vt.distance(l,s),h=vt.distance(s,u);d<=1&&h<=1?(l.endPosition=u.endPosition,this.mergedComponents.set(s,l),this.mergedComponents.set(l,l),this.mergedComponents.set(u,l),i+=1):n.push(s)}else n.push(s)}else n.push(s)}return n.forEach(i=>{i instanceof Se&&(i.variableReference=this.pathParser.parse(i.name),i.mergeErrors(this.pathParser.getAntlersErrors()))}),n}convertVarNodeToOperator(e){let n=new Ti;return n.content=e.name,n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.originalAbstractNode=e,e.convertedToOperator=!0,this.createdLanguageOperators.push(n),n}convertOperatorToVarNode(e){let n=new Se;return n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.content=e.content,n.name=e.content,n.originalAbstractNode=e,this.createdVariables.push(n),n}createLanguageOperators(e){let n=e.length;for(let r=0;r<n;r++){let i=e[r];if(i instanceof Se){if(i.name.includes(H.Punctuation_FullStop)){let s=i.name.split(H.Punctuation_FullStop);if(Mt.operators.includes(s[0])||hl.deferredCoreLibraries.includes(s[0])){e[r]=this.convertVarNodeToOperator(i);continue}}if(Mt.operators.includes(i.name)){e[r]=this.convertVarNodeToOperator(i);continue}}if(i instanceof Ti){if(r+1>=n){e[r]=this.convertOperatorToVarNode(i);continue}if(e[r+1]instanceof In){e[r]=this.convertOperatorToVarNode(i);continue}}}return e}createLogicalGroups(e){let n=[],r=e.length,i=[];for(let a=0;a<r;a++){let l=e[a];if(l instanceof Pn){let u=this.countTypeRight(e,a,Pn);if(i.length==0&&e.length==u){l.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_LOGIC_NEGATION_OPERATOR,l,"Unexpected [T_LOGIC_INVERSE] while parsing input text."));continue}if(a>0&&i.length>0){let g=i[i.length-1];if(g instanceof tn||g instanceof un||g instanceof Je){if(g instanceof Je&&g.start instanceof Pn){g.start.pushError(Q.makeSyntaxError(k.TYPE_FACTORIAL_MATERIALIZED_BOOL_DETECTED,g.start,"[T_AOP_FACTORIAL] operand will always materialize boolean type."));continue}let N=new Ds;N.startPosition=l.startPosition,N.endPosition=l.endPosition,N.content="!".repeat(u),N.originalAbstractNode=l,N.repeat=u,i.push(N),u>0&&(a+=u-1);continue}}if(u%2==0){a+=u-1;continue}let d=e[a+u];if(d instanceof hn){let g=a+u+1;if(g>=r){d.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_NEGATION_OFFSET,d,"Unexpected end of input while parsing input text."));continue}let N=this.findLogicalGroupEnd(e[a+u],e.slice(g));if(N.found){let y=N.logicalGroup,T=new Je;T.start=l,T.end=y,T.nodes.push(l),T.nodes.push(y),T.startPosition=l.startPosition,T.endPosition=y.endPosition,i.push(T),a+=N.skipCount+u}continue}let h=this.resolveValueRight(e,a);h.value!=null&&i.push(h.value),a+=h.negationCount}else i.push(l)}let s=i.length;for(let a=0;a<s;a++){let l=i[a];if(l instanceof hn){if(a+1>=s){l.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END_DUE_TO_NEGATION,l,"Unexpected end of input while parsing input text."));continue}let u=this.findLogicalGroupEnd(l,i.slice(a+1));u.found&&u.logicalGroup!=null&&n.push(u.logicalGroup),a+=u.skipCount}else if(l instanceof Ds){if(n.length==0){l.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_FACTORIAL_WHILE_CREATING_GROUPS,l,"Unexpected [T_AOP_FACTORIAL] while parsing input text."));continue}let u=n[n.length-1];if(!(u instanceof Je)&&!(u instanceof tn)){l.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_FACTORIAL_OPERAND,l,"Unexpected left operand encountered for [T_AOP_FACTORIAL] while parsing input text."));continue}u=n.pop();let d=new Je;d.startPosition=u.startPosition,d.endPosition=l.endPosition,d.originalAbstractNode=l,d.nodes.push(u),d.nodes.push(l),n.push(d)}else n.push(l)}return n}makeArgGroup(e){let n=new Ia,r=e.length;for(let s=0;s<r;s++){let a=e[s];if(this.isOperand(a)==!1){a.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_TOKEN_WHILE_PARSING_METHOD,a,"Unexpected ["+ne.getPrettyTypeName(a)+"] while parsing argument group."));continue}let l=null;if(s+1<r&&(l=e[s+1]),l==null||l instanceof Xt){n.args.push(e[s]),s+=1;continue}else if(l instanceof Ht){if(s+2>=r){a.pushError(Q.makeSyntaxError(k.TYPE_ARG_UNEXPECTED_NAMED_ARGUMENT,a,"Unexpected end of input while parsing named argument."));continue}let u=e[s+2],d=new ku;d.startPosition=a.startPosition,d.endPosition=u.endPosition,d.content=a.content+u.content,d.name=a,d.value=u,a instanceof Se||a.pushError(Q.makeSyntaxError(k.TYPE_INVALID_NAMED_ARG_IDENTIFIER,a,"Invalid type ["+ne.getPrettyTypeName(a)+"] supplied for named argument name.")),n.hasNamedArguments=!0,n.numberOfNamedArguments+=1,n.args.push(d),s+3<r&&e[s+3]instanceof Xt?s+=3:s+=2;continue}}let i=!1;return n.args.forEach(s=>{s instanceof ku?i=!0:i&&s.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_UNNAMED_METHOD_ARGUMENT,s,"Unnamed arguments are not allowed to appear after a named argument."))}),n}cleanVariableForMethodInvocation(e){(e.name.startsWith(":")||e.name.startsWith("."))&&(e.name=e.name.substr(1),e.variableReference!=null&&(e.variableReference.originalContent=e.variableReference.originalContent.substr(1),e.variableReference.normalizedReference=e.variableReference.normalizedReference.substr(1)),e.startPosition!=null&&(e.startPosition.offset+=1,e.startPosition.char+=1))}reduceVariableReferenceForObjectAccessor(e){var s;let n=(s=e.variableReference)==null?void 0:s.pathParts.pop(),r=n.name,i=r.length+1;return e.name=e.name.substr(0,-i),e.variableReference!=null&&(e.variableReference.originalContent=e.variableReference.originalContent.substr(0,-i),e.variableReference.normalizedReference=e.variableReference.normalizedReference.substr(0,-i),e.variableReference.pathParts[e.variableReference.pathParts.length-1].isFinal=!0),e.endPosition!=null&&(e.endPosition.offset-=i,e.endPosition.char-=i),{accessor:r,accessorLen:i}}associateMethodCalls(e){var i,s;let n=[],r=e.length;for(let a=0;a<r;a++){let l=e[a],u=null,d=null;if(n.length>0&&(u=n[n.length-1]),a+1<r&&(d=e[a+1]),l instanceof Se&&d instanceof Je&&u!=null&&(this.isProperMethodChainTargetStrict(u)||u instanceof Ht)){let h=d,g=[];h.nodes.length>0&&(h.nodes[0]instanceof en?g=h.nodes[0].nodes:g=h.nodes);let N=new mn;if(N.startPosition=l.startPosition,u instanceof Ht){let y=n.pop();N.startPosition=y.startPosition}this.cleanVariableForMethodInvocation(l),N.endPosition=h.endPosition,N.args=this.makeArgGroup(g),N.method=l,u.methodTarget=N,u instanceof Se&&u.mergeRefName.length>0&&(u.name=vt.getUnrefName(u.mergeRefName)),n.push(N),a+=1;continue}else if(l instanceof Je&&u instanceof Se&&u.variableReference!=null&&u.variableReference.pathParts.length>=2){let h=[];if(l.nodes.length>0&&(l.nodes[0]instanceof en?h=l.nodes[0].nodes:h=l.nodes),u.variableReference.pathParts[0]instanceof gr&&hl.deferredCoreLibraries.includes(u.variableReference.pathParts[0].name)){let C=n.pop(),D=new Ms;D.startPosition=C.startPosition,D.endPosition=l.endPosition,D.content=C.content,D.originalAbstractNode=l;let A=((i=C.variableReference)==null?void 0:i.pathParts.shift()).name,b=(s=C.variableReference)==null?void 0:s.implodePaths();D.libraryName=A,D.methodName=b,D.arguments=this.makeArgGroup(h),n.push(D),a+=1;continue}let g=this.reduceVariableReferenceForObjectAccessor(u),N=new mn;N.startPosition=l.startPosition,N.endPosition=l.endPosition,u.methodTarget=N,u instanceof Se&&u.mergeRefName.length>0&&(u.name=vt.getUnrefName(u.mergeRefName)),l.start!=null&&(l.start.isPartOfMethodChain=!0),l.end!=null&&(l.end.isPartOfMethodChain=!0);let y=new Se;y.name=g.accessor,y.isPartOfMethodChain=!0;let T=this.makeArgGroup(h);if(N.startPosition!=null&&(N.startPosition.offset-=g.accessorLen,N.startPosition.char-=g.accessorLen),N.method=y,N.args=T,te.isNumeric(u.name)){let C=n.pop();n.push(this.convertOperatorToVarNode(C))}n.push(N);continue}else if(l instanceof Se&&u instanceof mn){if(this.cleanVariableForMethodInvocation(l),a+1>r){l.pushError(Q.makeSyntaxError(k.TYPE_METHOD_CALL_MISSING_ARG_GROUP,l,"Unexpected end of input while parsing method call."));continue}let h=e[a+1];if(!(h instanceof Je)){l.pushError(Q.makeSyntaxError(k.TYPE_INVALID_METHOD_CALL_ARG_GROUP,l,"Unexpected ["+ne.getPrettyTypeName(h)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let g=h,N=[];g.nodes.length>0&&(g.nodes[0]instanceof en?N=g.nodes[0].nodes:N=g.nodes);let y=new mn;y.startPosition=l.startPosition,y.endPosition=g.endPosition,y.args=this.makeArgGroup(N),y.method=l,u.methodTarget=y,n.push(y),a+=1;continue}else if(l instanceof Ht&&u instanceof mn){if(a+1>r){l.pushError(Q.makeSyntaxError(k.TYPE_METHOD_CALL_MISSING_METHOD,l,"Unexpected end of input while parsing method call."));continue}let h=e[a+1];if(a+2>r){l.pushError(Q.makeSyntaxError(k.TYPE_METHOD_CALL_MISSING_ARG_GROUP,l,"Unexpected end of input while parsing method call."));continue}let g=e[a+2];if(!(g instanceof Je)){l.pushError(Q.makeSyntaxError(k.TYPE_INVALID_METHOD_CALL_ARG_GROUP,l,"Unexpected ["+ne.getPrettyTypeName(g)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let N=g,y=[];N.nodes.length>0&&(N.nodes[0]instanceof en?y=N.nodes[0].nodes:y=N.nodes);let T=new mn;T.startPosition=l.startPosition,T.endPosition=g.endPosition,T.args=this.makeArgGroup(y),T.method=h,u.methodTarget=T,n.push(T),a+=2;continue}else if(l instanceof mn){if(a+1>r){l.pushError(Q.makeSyntaxError(k.TYPE_METHOD_CALL_MISSING_METHOD,l,"Unexpected end of input while parsing method call."));continue}let h=e[a+1];if(a+2>r){l.pushError(Q.makeSyntaxError(k.TYPE_INVALID_METHOD_CALL_ARG_GROUP,l,"Unexpected end of input while parsing method call."));continue}let g=e[a+2];if(!(g instanceof Je)){l.pushError(Q.makeSyntaxError(k.TYPE_INVALID_METHOD_CALL_ARG_GROUP,l,"Unexpected ["+ne.getPrettyTypeName(g)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let N=g,y=[];N.nodes.length>0&&(N.nodes[0]instanceof en?y=N.nodes[0].nodes:y=N.nodes);let T=this.makeArgGroup(y);if(u instanceof Se&&hl.deferredCoreLibraries.includes(u.name)){let C=n.pop(),D=new Ms;D.startPosition=C.startPosition,D.endPosition=N.endPosition,D.libraryName=C.name,D.methodName=h.name,D.content=D.libraryName+"->"+D.methodName,D.arguments=T,u.libraryTarget=D,n.push(D),a+=2;continue}l.method=h,l.args=T,n.length>0&&(n[n.length-1].methodTarget=l),a+=2,n.push(l);continue}else n.push(l)}return n}convertVariableToStringNode(e){let n=new Yt;return n.content=e.name,n.value=e.name,n.originalAbstractNode=e,n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.index=e.index,n}createTupleLists(e){let n=e.length,r=[];for(let i=0;i<n;i++){let s=e[i];if(s instanceof Ni){if(s.isListGroupMember=!0,i+1>=n){s.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_EOI_PARSING_TUPLE_LIST,s,"Unexpected end of input while parsing tuple list."));continue}let a=e[i+1];if(!(a instanceof Je)){a.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_TYPE_FOR_TUPLE_LIST,a,"Unexpected ["+ne.getPrettyTypeName(a)+"] while parsing tuple list."));continue}let l=a;if(this.markAllNonVirtualAsListGroupMember([l]),this.retriggerNonVirtualGroupMembers.push([l]),l.nodes.length==0){l.pushError(Q.makeSyntaxError(k.TYPE_MISSING_BODY_TUPLE_LIST,l,"Missing tuple list body while parsing tuple list."));continue}let d=l.nodes.shift(),h=d.nodes.length,g=[];for(let T=0;T<h;T++){let C=d.nodes[T];if(!(C instanceof Xt)){let D=!1;if(C instanceof Se&&(C.variableReference==null&&(D=!0),C.variableReference!=null&&C.variableReference.pathParts.length>1&&(D=!0),C.name.trim().length==0&&(D=!0)),D||!(C instanceof Se)){l.pushError(Q.makeSyntaxError(k.TYPE_INVALID_TUPLE_LIST_NAME_TYPE,l,"Invalid ["+ne.getPrettyTypeName(C)+"] name type found while parsing tuple list."));continue}let _=C;g.push(this.convertVariableToStringNode(_))}}let N=g.length;if(N==0){l.pushError(Q.makeSyntaxError(k.TYPE_INVALID_MANIFESTED_NAME_GROUP,l,"Invalid Name expression produced an invalid name group while parsing tuple list."));continue}let y=new as;this.createdArrays.push(y),y.startPosition=s.startPosition,y.endPosition=s.endPosition,l.nodes.forEach(T=>{if(!(T instanceof en)){T.pushError(Q.makeSyntaxError(k.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE_GROUP,T,"Invalid ["+ne.getPrettyTypeName(T)+"] name type found while parsing tuple list value expression."));return}let C=T,D=new as;this.createdArrays.push(D),D.startPosition=C.startPosition;let _=[];for(let A=0;A<h;A++){let b=C.nodes[A];if(!(b instanceof Xt)){if(this.isOperand(b)==!1){b.pushError(Q.makeSyntaxError(k.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE,b,"Unexpected ["+ne.getPrettyTypeName(b)+"]  while parsing tuple list value."));continue}_.push(b)}}for(let A=0;A<N&&!(A>_.length);A++){let b=_[A],S=new ec;S.startPosition=b.startPosition,S.endPosition=b.endPosition,S.name=g[A],S.value=b,D.nodes.push(S),y.endPosition=b.endPosition,D.endPosition=b.endPosition}y.nodes.push(D)}),r.push(y),i+=1;continue}else r.push(s)}return e}makeOrderGroup(e){let n=[],r=e.length,i=0;for(let s=0;s<r;s++){let a=e[s],l=null;if(s+1<r&&(l=e[s+1]),s>0&&(l==null||l instanceof Xt)){i+=1;let u=new Xl;u.order=i,u.name=e[s-1],u.directionNode=a,this.isOperand(u.name)==!1&&u.name.pushError(Q.makeSyntaxError(k.TYPE_INVALID_ORDER_BY_NAME_VALUE,u.name,"Invalid value or expression supplied for order by name.")),this.isOperand(u.directionNode)==!1&&u.directionNode.pushError(Q.makeSyntaxError(k.TYPE_INVALID_ORDER_BY_SORT_VALUE,u.directionNode,"Invalid value or expression supplied for order by direction.")),u.startPosition=u.name.startPosition,u.endPosition=u.directionNode.endPosition,n.push(u),s+=1;continue}}return n}getValues(e){let n=new ba,r=e.length,i=[];for(let s=0;s<r;s++){let a=e[s],l=null;if(s+1<r&&(l=e[s+1]),l==null||l instanceof Xt){i.push(a),s+=1;continue}}return n.values=i,n}createLibraryInvocations(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof Ti)if(s.content.includes(".")){let a=s.content.split("."),l=a.shift(),u=a.join("."),d=new Ms;if(d.startPosition=s.startPosition,d.endPosition=s.endPosition,d.content=s.content,d.libraryName=l,d.methodName=u,d.originalAbstractNode=s,i+1>=r){s.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_EOI_WHILE_PARSING_ARG_GROUP,s,"Unexpected end of input while parsing argument group."));continue}if(!(e[i+1]instanceof Je)){s.pushError(Q.makeSyntaxError(k.TYPE_EXPECTING_ARGUMENT_GROUP,s,"Unexpected token while parsing method call. Expecting [T_ARG_SEPARATOR] got ["+ne.getPrettyTypeName(s)+"]."));continue}let h=e[i+1],g=null;if(h.nodes.length>0){let N=h.nodes[0];g=this.makeArgGroup(N.nodes)}g==null&&(g=new Ia,g.startPosition=h.startPosition,g.endPosition=h.endPosition,g.originalAbstractNode=h),d.arguments=g,n.push(d),i+=1;continue}else if(s.content==Mt.ARR_ORDERBY){if(i+1>=r){s.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_EOI_PARSING_ORDER_GROUP,s,"Unexpected end of input while parsing order group."));continue}let a=e[i+1];if(!(a instanceof Je)){a.pushError(Q.makeSyntaxError(k.TYPE_EXPECTING_ORDER_GROUP_FOR_ORDER_BY_OPERAND,a,"Unexpected ["+ne.getPrettyTypeName(a)+"] while parsing order group."));continue}let u=a.nodes;u[0]instanceof en&&(u=u[0].nodes);let d=this.makeOrderGroup(u);d.length==0&&s.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_EMPTY_DIRECTION_GROUP,s,"Unexpected empty [T_DIRECTION_GROUP]. Must have at least one order clause, and each property must have a direction specified."));let h=new Po;if(h.orderClauses=d,d.length>0){d[0].directionNode!=null&&(h.startPosition=d[0].directionNode.startPosition);let g=d[d.length-1].directionNode;g!=null&&(h.endPosition=g.endPosition)}n.push(s),n.push(h),i+=1;continue}else if(s.content==Mt.ARR_GROUPBY){if(i+1>=r){s.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_EOI_WHILE_PARSING_GROUP_BY,s,"Unexpected end of input while parsing group by clause."));continue}let a=e[i+1];if(a instanceof ls||a instanceof Wr){a.pushError(Q.makeSyntaxError(k.TYPE_GROUP_BY_SCOPED_GROUP_MUST_BE_ENCLOSED,a,"Type ["+ne.getPrettyTypeName(a)+"] must be enclosed with parenthesis to be used with groupby."));continue}if(!(a instanceof Je)){a.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_TOKEN_FOR_GROUP_BY,a,"Unexpected ["+ne.getPrettyTypeName(a)+"] while parsing group by."));continue}let u=a.nodes;u[0]instanceof en&&(u=u[0].nodes);let d=this.getValues(u);if(n.push(s),n.push(d),i+2<r&&i+3<r){let h=e[i+2],g=e[i+3];if(vt.isVariableMatching(h,gt.ScopeAs))if(g instanceof Yt){d.isNamedNode=!0,d.parsedName=g,i+=3;continue}else g.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_GROUP_BY_AS_ALIAS_TYPE,g,"Expecting [T_STRING] for group by collection alias; got ["+ne.getPrettyTypeName(g)+"]."))}i+=1;continue}else if(s.content==Mt.STRUCT_SWITCH){if(i+1>=r){s.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SWITCH_GROUP,s,"Unexpected end of input while parsing [T_SWITCH_GROUP]."));continue}let a=e[i+1];if(!(a instanceof Wr)){a.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_TOKEN_FOR_SWITCH_GROUP,a,"Unexpected ["+ne.getPrettyTypeName(a)+"] while parsing [T_SWITCH_GROUP]."));continue}let l=a;if(this.markAllNonVirtualAsSwitch([a]),l.scope==null||!(l.scope instanceof Je)){l.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_SWITCH_START_VALUE,l,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let u=l.scope;if(u.nodes.length==0||!(u.nodes[0]instanceof en)){l.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,l,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let d=u.nodes[0];if(this.markAllNonVirtualAsSwitch([u]),d.nodes.length==0||!(d.nodes[0]instanceof Je)){s.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}this.markAllNonVirtualAsSwitch([s]),this.markAllNonVirtualAsSwitch(d.nodes);let h=d.nodes;if(l.nodes.length==0&&s.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP].")),!(u.nodes[0]instanceof en)){s.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let N=u.nodes[0];this.markAllNonVirtualAsSwitch(N.nodes);let y=N.nodes,T=new Ao,C=new Je;C.nodes=h,C.startPosition=C.nodes[0].startPosition,C.endPosition=C.nodes[C.nodes.length-1].endPosition;let D=new va;D.condition=C;let _=new Je;_.nodes.push(y.shift()),_.startPosition=_.nodes[0].startPosition,_.endPosition=_.nodes[_.nodes.length-1].endPosition,D.expression=_,D.startPosition=D.condition.startPosition,D.endPosition=D.expression.nodes[D.expression.nodes.length-1].endPosition,y.shift(),T.cases.push(D);let A=y.length;if(A>0){if(!(y[0]instanceof Je)){s.pushError(Q.makeSyntaxError(k.TYPE_PARSER_INVALID_SWITCH_TOKEN,s,"Invalid ["+ne.getPrettyTypeName(y[0])+"] while parsing case statement."));continue}for(let b=0;b<A;b++){let S=y[b],w=null;if(S instanceof Xt){S.isSwitchGroupMember=!0;continue}if(b+1<A&&(w=y[b+1]),w instanceof Un){w.isSwitchGroupMember=!0;let J=new va;J.condition=S,this.markAllNonVirtualAsSwitch([J.condition]);let Y=new Je;if(Y.nodes.push(y[b+2]),Y.startPosition=Y.nodes[0].startPosition,Y.endPosition=Y.nodes[Y.nodes.length-1].endPosition,J.expression=Y,this.markAllNonVirtualAsSwitch([Y]),J.startPosition=J.condition.startPosition,J.endPosition=J.expression.nodes[J.expression.nodes.length-1].endPosition,T.cases.push(J),b+3<A&&!(y[b+3]instanceof Xt)){y[b+3].pushError(Q.makeSyntaxError(k.TYPE_PARSER_INVALID_SWITCH_TOKEN,y[b+3],"Invalid ["+ne.getPrettyTypeName(y[b+3])+"] while parsing case statement; expecting [T_ARG_SEPARATOR]."));continue}y[b+3].isSwitchGroupMember=!0,b+=2;continue}}}n.push(new qr),n.push(s),n.push(T),i+=1;continue}else if(s.content==Mt.ARR_MAKE){if(i+1>=r){s.pushError(Q.makeSyntaxError(k.TYPE_ARR_MAKE_MISSING_TARGET,s,"Missing target variable for arr operator."));continue}let a=e[i+1];if(!(a instanceof Je)){a.pushError(Q.makeSyntaxError(k.TYPE_ARR_MAKE_UNEXPECTED_TYPE,a,"Unexpected ["+ne.getPrettyTypeName(a)+"] while parsing array."));continue}let l=a instanceof Wr,u=a,d=u.nodes;if(d[0]instanceof en&&(d=d[0].nodes),l){let y=a;d.unshift(new Un),d.unshift(y.scope)}let h=this.getArrayValues(d),g=new as;g.startPosition=s.startPosition;let N=h.values.length;N>0?g.endPosition=h.values[N-1].endPosition:g.endPosition=s.endPosition,u.end!=null&&(g.endPosition=u.end.endPosition),g.nodes=h.values,this.createdArrays.push(g),n.push(g),i+=1}else n.push(s);else n.push(s)}return n}getArrayValues(e){let n=new ba,r=e.length,i=[];for(let s=0;s<r;s++){let a=e[s];if(a instanceof Xt){a.pushError(Q.makeSyntaxError(k.TYPE_ARR_UNEXPECT_ARG_SEPARATOR,a,"Unexpected [T_ARG_SEPARATOR] while parsing array."));continue}if(a instanceof Un){if(s==0){a.pushError(Q.makeSyntaxError(k.TYPE_ARR_KEY_PAIR_MISSING_KEY,a,"Missing key for key/value pair while parsing array."));continue}else if(e[s-1]instanceof Xt){a.pushError(Q.makeSyntaxError(k.TYPE_ARR_KEY_PAIR_MISSING_KEY,a,"Missing key for key/value pair while parsing array."));continue}}let l=null;if(s+1<r&&(l=e[s+1]),l instanceof Un){if(s+2>=r){l.pushError(Q.makeSyntaxError(k.TYPE_ARR_MAKE_MISSING_ARR_KEY_PAIR_VALUE,l,"Missing key/pair value while parsing array."));continue}let u=e[s+2],d=new ec;if(this.isValidArrayKeyNode(a)==!1){a.pushError(Q.makeSyntaxError(k.TYPE_ARR_KEY_PAIR_INVALID_KEY_TYPE,a,"Invalid ["+ne.getPrettyTypeName(a)+"] type for key/value key."));continue}d.name=a,d.value=u,d.startPosition=a.startPosition,d.endPosition=u.endPosition,i.push(d),s+=3;continue}if(l==null||l instanceof Xt){let u=new ec;u.value=a,u.startPosition=a.startPosition,u.endPosition=a.endPosition,i.push(u),s+=1;continue}}return n.values=i,n}isValidArrayKeyNode(e){return e instanceof tn||e instanceof Yt}associateModifiers(e){let n=[],r=e.length,i=null;for(let s=0;s<r;s++){let a=e[s];if(a instanceof Bn){let l=n.length;if(l==0){a.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_MODIFIER_SEPARATOR,a,"Unexpected [T_MODIFIER_SEPARATOR] while parsing input text."));continue}if(this.isRealModifierSeparator.set(a,!0),i=n[l-1],i.modifierChain==null&&(i.modifierChain=new Ql,i.modifierChain.modifierTarget=i,this.createdModifierChains.push(i.modifierChain)),s+1>=r){a.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_DETAILS,a,"Unexpected end of input while preparing to gather modifier details."));continue}let u=this.scanToEndOfModifier(e.slice(s+1)),d=u.length;if(d>1&&u[1]instanceof Ht){this.isRealModifierSeparator.set(u[1],!0);let g=u[0];g instanceof yr?u[0]=this.wrapArithmeticModifier(g,"add"):g instanceof Vn?u[0]=this.wrapArithmeticModifier(g,"subtract"):g instanceof Nr?u[0]=this.wrapArithmeticModifier(g,"divide"):g instanceof br?u[0]=this.wrapArithmeticModifier(g,"multiply"):g instanceof Vi&&(u[0]=this.wrapArithmeticModifier(g,"mod"))}if(d==0){a.pushError(Q.makeSyntaxError(k.TYPE_UNSET_MODIFIER_DETAILS,a,"Invalid or missing modifier details."));continue}if(!(u[0]instanceof xn)){a.pushError(Q.makeSyntaxError(k.TYPE_MODIFIER_NAME_NOT_START_OF_DETAILS,a,"Invalid ["+ne.getPrettyTypeName(u[0])+"]; expecting [T_MODIFIER_NAME]"));continue}let h=this.createModifier(u);h.nameNode!=null&&this.modifierNameMapping.set(h.nameNode,h),s+=d,i.modifierChain.modifierChain.push(h),i.modifierChain.updateValues();continue}else n.push(a)}return n}createNullCoalescenceGroups(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof Gr){let a=n.pop();if(i+1>=r){s.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NULL_COALESCENCE_GROUP,s,"Unexpected end of input while parsing input text."));continue}let l=e[i+1],u=new Jl;u.left=a,u.right=l,n.push(u),i+=1;continue}else n.push(s)}return n}isOperand(e){return e instanceof Se||e instanceof Je||e instanceof Yt||e instanceof tn||e instanceof si||e instanceof qr||e instanceof oi||e instanceof Ms||e instanceof Po||e instanceof ba||e instanceof Ao||e instanceof as}isProperMethodChainTargetStrict(e){return e instanceof Je||e instanceof Yt||e instanceof tn||e instanceof si||e instanceof qr||e instanceof oi||e instanceof Ms||e instanceof Po||e instanceof ba||e instanceof Ao||e instanceof as}assertOperandRight(e,n){if(n+1>e.length-1)return e[n].pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_END_OF_INPUT,e[n],"Unexpected end of input; expecting operand for operator "+ne.getPrettyTypeName(e[n])+' near "'+pl.getNearText(e[n])+'".')),!1;let r=e[n+1];return this.isOperand(r)?!0:(r.pushError(Q.makeSyntaxError(k.TYPE_EXPECTING_OPERAND,e[n],"Expecting operand, found "+ne.getPrettyTypeName(r)+' near "'+pl.getNearText(e[n])+'".')),!1)}resolveValueRight(e,n){let r=null,i=0,s=null;if(e.length>0){let a=!0;for(;a;){let l=e[n];if(l instanceof Pn){s=l,i+=1,n+=1,a=!1;continue}else if(this.isOperand(l)){r=l,a=!1;break}else{a=!1;break}}}if(i%2!=0){let a=new Je;return a.nodes=[],s!=null&&r!=null&&(a.nodes.push(s),a.nodes.push(r)),{value:a,negationCount:i}}return{value:r,negationCount:i}}correctTypes(e){let n=[];return e.forEach(r=>{if(r instanceof qn){let i=new Ht;i.startPosition=r.startPosition,i.endPosition=r.endPosition,i.originalAbstractNode=r,n.push(i)}else if(r instanceof fn){let i=new Se;i.name=r.value,i.startPosition=r.startPosition,i.endPosition=r.endPosition,i.modifierChain=r.modifierChain,i.originalAbstractNode=r,this.createdVariables.push(i),n.push(i)}else n.push(r)}),n}createTernaryGroups(e){var i,s,a,l;let n=[],r=e.length;for(let u=0;u<r;u++){let d=e[u];if(d instanceof _i){let h=this.seek(Ht,u+1);if(((i=h.node)==null?void 0:i.originalAbstractNode)!=null&&h.node.originalAbstractNode instanceof qn&&(h.node.originalAbstractNode.isTenaryBranchSeparator=!0),h.found==!1){d.pushError(Q.makeSyntaxError(k.TYPE_TERNARY_EXPECTING_BRANCH_SEPARATOR,d,"Unexpected end of input; expecting [T_BRANCH_SEPARATOR]."));continue}let g=this.collectUntil(n);n=g.tokens;let N=g.collectedTokens[0],y=(s=h.foundAt)!=null?s:0;if(y>=r){d.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP,d,"Unexpected end of input while parsing ternary group."));continue}let T=e.slice(u+1,y);if(T.length>1||T.length==0){d.pushError(Q.makeSyntaxError(k.TYPE_TERNARY_UNEXPECTED_EXPRESSION_LENGTH,d,"Unexpected number of operations within ternary truth branch."));continue}let C=T[0],D=((a=h.foundAt)!=null?a:0)+1;if(D>=r){d.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP_FALSE_BRANCH,d,"Unexpected end of input while parsing ternary false execution branch."));continue}let _=e[D],A=new Zl;A.head=N,A.truthBranch=C,A.falseBranch=_,n.push(A),u=((l=h.foundAt)!=null?l:0)+1;continue}else n.push(d)}return n}groupNodesByType(e,n){let r=[],i=e.length;for(let s=0;s<i;s++){let a=e[s];if(s>0&&a instanceof n){let l=[],u=r.pop();if(l.push(u),!this.assertOperandRight(e,s))continue;if(s+1>=i){a.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS,a,"Unexpected end of input while parsing input text."));continue}let d=e[s+1];typeof d!="undefined"&&(d.isVirtualGroupMember=!0),typeof u!="undefined"&&(u.isVirtualGroupMember=!0),a.isVirtualGroupMember=!0;let h=new Je;h.nodes=l,h.nodes.push(a),h.nodes.push(d),s+=1,r.push(h);continue}else r.push(a)}return r}flagNodeAsOperatorResolve(e){if(e instanceof Je){if(e.nodes.length==0)return;this.flagNodeAsOperatorResolve(e.nodes[e.nodes.length-1])}e.isVirtualGroupOperatorResolve=!0,e.next instanceof In||(e.producesVirtualStatementTerminator=!0)}groupNodesByOperatorType(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(i>0&&Zt.isOperatorType(s)){let a=[],l=n.pop();if(a.push(l),!this.assertOperandRight(e,i))continue;if(i+1>=r){s.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS,s,"Unexpected end of input while parsing input text."));continue}let u=e[i+1];this.flagNodeAsOperatorResolve(u),Zt.isAssignmentOperator(s)&&this.tracedAssignments.push(new Xp(l,u,s)),typeof l!="undefined"&&(l.isVirtualGroupMember=!0),typeof u!="undefined"&&(u.isVirtualGroupMember=!0),s.isVirtualGroupMember=!0;let d=new Je;d.nodes=a,d.nodes.push(s),d.nodes.push(u),i+=1,n.push(d);continue}else n.push(s)}return n}applyOperationOrder(e){return e=this.groupNodesByType(e,Fi),e=this.groupNodesByType(e,br),e=this.groupNodesByType(e,Nr),e=this.groupNodesByType(e,yr),e=this.groupNodesByType(e,Vn),e}createLogicGroupsToRemoveMethodInvocationAmbiguity(e){let n=[],r=e.length,i=r-1;for(let s=0;s<r;s++){let a=e[s];if(a instanceof mn){let l=n.pop(),u=new Je;if(u.startPosition=l.startPosition,typeof l!="undefined"&&(l.isVirtualGroupMember=!0),typeof a!="undefined"&&(a.isVirtualGroupMember=!0),u.nodes.push(l),u.nodes.push(a),s!=i)for(let d=s+1;d<r;d++)if(e[d]instanceof mn){if(typeof e[d]=="undefined")continue;if(e[d].isVirtualGroupMember=!0,u.nodes.push(e[d]),d==i){d+=1;break}}else{if(d==i){d+=1;break}s=d-1;break}u.endPosition=u.nodes[u.nodes.length-1].endPosition,n.push(u)}else n.push(a)}return n}countTypeRight(e,n,r){let i=0;for(let s=n;s<e.length&&e[s]instanceof r;s++)i+=1;return i}createLogicGroupsToResolveOperatorAmbiguity(e){return e=this.groupNodesByType(e,ss),e=this.groupNodesByType(e,Ur),e=this.groupNodesByType(e,di),e=this.groupNodesByType(e,fi),e=this.groupNodesByType(e,gi),e=this.groupNodesByType(e,nr),e=this.groupNodesByType(e,hi),e=this.groupNodesByType(e,pi),e=this.groupNodesByType(e,mi),e=this.groupNodesByOperatorType(e),e}createModifier(e){let n=e.shift(),r=[],i=e.length;if(e.length>0&&e[0]instanceof Je){let a=this.unpack(e[0].nodes),l=this.makeArgGroup(a),u=new Na;if(u.nameNode=n,u.methodStyleArguments=l,e.length>1)for(let d=1;d<i;d++)e[d].pushError(Q.makeSyntaxError(k.TYPE_MODIFIER_UNEXPECTED_TOKEN_METHOD_SYNTAX,e[d],"Unexpected ["+ne.getPrettyTypeName(e[d])+"] while parsing modifier argument group. Expecting [T_MODIFIER_SEPARATOR] or end of current expression."));return u}for(let a=0;a<i;a++)if(e[a]instanceof qn||e[a]instanceof Ht){if(a+1>=i)return e[a].pushError(Q.makeSyntaxError(k.TYPE_MODIFIER_UNEXPECTED_END_OF_VALUE_LIST,e[a],"Unexpected end of modifier value list while parsing modifier.")),e;let l=e[a+1];if(this.isValidModifierValue(l)){if(l instanceof Se)if(l.variableReference!=null&&l.variableReference.pathParts.length>0)l.variableReference.pathParts.forEach(u=>{if(u instanceof gr){let d=new fn;d.startPosition=u.startPosition,d.endPosition=u.endPosition,d.value=u.name,d.name=u.name,d.originalAbstractNode=u,d.endPosition==null&&d.startPosition==null&&(d.startPosition=l.startPosition,d.endPosition=l.endPosition),r.push(d)}});else{let u=new fn;u.startPosition=l.startPosition,u.endPosition=l.endPosition,u.value=l.name,u.name=l.name,u.originalAbstractNode=l,r.push(u)}else r.push(l);a+=1;continue}else return l.pushError(Q.makeSyntaxError(k.TYPE_MODIFIER_UNEXPECTED_VALUE,l,"Unexpected ["+ne.getPrettyTypeName(l)+"] while parsing modifier value.")),e}let s=new Na;return s.nameNode=n,s.valueNodes=r,s.startPosition=s.nameNode.startPosition,s.valueNodes.length>0?s.endPosition=s.valueNodes[s.valueNodes.length-1].endPosition:s.endPosition=s.nameNode.endPosition,s}scanToEndOfModifier(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof qn){let a=n.length;if(a==0){s.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_VALUE,s,"Unexpected end of input while parsing modifier value."));continue}this.isRealModifierSeparator.set(s,!0);let l=n[a-1];if(vt.distance(l,s)>1)break}if(s instanceof Yt||s instanceof Se||s instanceof tn){let a=n.length;if(a>0&&n[a-1]instanceof Je)break}if(s instanceof Bn||s instanceof un||s instanceof hn||s instanceof nr||s instanceof Ur||s instanceof ss||s instanceof fi||s instanceof di||s instanceof pi||s instanceof hi||s instanceof mi||s instanceof gi||s instanceof jr||s instanceof yi||s instanceof qi||s instanceof Gr||s instanceof Ui||s instanceof Ti||s instanceof Ms||s instanceof mn||s instanceof Pn)break;n.push(s)}return n}static isAssignmentOperatorNode(e){return e instanceof ai||e instanceof li||e instanceof vr||e instanceof ci||e instanceof ui||e instanceof Vn}insertAutomaticStatementSeparators(e){let n=e.length,r=[];for(let i=0;i<n;i++){let s=e[i];if(Zt.isAssignmentOperatorNode(s))if(i+2<n)if(e[i+2]instanceof In){r.push(s),r.push(e[i+1]),r.push(e[i+2]),i+=2;continue}else{r.push(s),r.push(e[i+1]),r.push(new In),i+=1;continue}else{r.push(s),r.push(e[i+1]),r.push(new In);break}else r.push(s)}return e}createSemanticGroups(e){let n=[],r=e.length,i=[];for(let s=0;s<r;s++)if(e[s]instanceof In){let a=new en;a.nodes=i,a.separatorToken=e[s],n.push(a),i=[];continue}else if(i.push(e[s]),s+1>=r){let a=new en;a.nodes=i,n.push(a);break}return n}findLogicalGroupEnd(e,n){let r=[],i=n.length,s=null,a=0,l=0;for(l;l<i;l++){let h=n[l];if(a+=1,h instanceof un){s=h;break}else if(h instanceof hn){if(l+1>=i)return h.pushError(Q.makeSyntaxError(k.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END,h,"Unexpected end of input while parsing input text.")),{found:!1,logicalGroup:null,skipCount:a};let g=this.findLogicalGroupEnd(h,n.slice(l+1));if(g.found){g.logicalGroup!=null&&r.push(g.logicalGroup),a+=g.skipCount,l+=g.skipCount;continue}else continue}else r.push(h)}if(s==null)return e.pushError(Q.makeSyntaxError(k.TYPE_LOGIC_GROUP_NO_END,e,"Unexpected end of input while parsing logic group.")),{found:!1,logicalGroup:null,skipCount:a};let u=new Zt;u.setIsRoot(!1);let d=new Je;if(r.length>=2&&r[1]instanceof Un){if(d=new Wr,d.scopeOperator=r[1],l+2<i&&n[l+1]instanceof Se&&n[l+2]instanceof Yt&&n[l+1].name==gt.ScopeAs){let N=n[l+2];d=new ls,d instanceof ls&&(d.alias=N),a+=2}let h=r.splice(0,2);(d instanceof Wr||d instanceof ls)&&(d.scope=h[0])}return d.nodes=u.parse(r),d.start=e,d.end=s,d.startPosition=e.startPosition,d.endPosition=s.endPosition,d instanceof ls&&d.alias!=null&&(d.endPosition=d.alias.endPosition),{found:!0,logicalGroup:d,skipCount:a}}unpack(e){if(e.length==0)return[];if(e[0]instanceof en){let n=e[0];return this.unpack(n.nodes)}return e}collectUntil(e){let n=e.length,r=[];for(let i=n-1;i>=0&&!Zt.isAssignmentOperator(e[i]);i--){let s=e.pop();r.push(s)}if(r=r.reverse(),r.length>=3){let i=new Zt;return i.setIsRoot(!1),{collectedTokens:this.unpack(i.parse(r)),tokens:e}}return{collectedTokens:r,tokens:e}}seek(e,n){for(let r=n;r<this.tokens.length;r++)if(this.tokens[r]instanceof e)return{found:!0,foundAt:r,node:this.tokens[r]};return{found:!1,foundAt:null,node:null}}}});var ys,Tx=x(()=>{ki();Sn();ys=class{static findRightBeighboringNextPunctuation(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e+1;s<n.length;s++){let a=n[s];if(te.ctypeSpace(a)&&(i=!0),i&&(te.ctypeAlpha(a)||te.ctypeDigit(a)))return null;if(te.ctypePunct(a)||a==H.String_Terminator_SingleQuote||a==H.String_Terminator_DoubleQuote)return a}return null}static findRightNeighboringNextAlphaNumeric(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e+1;s<n.length;s++){let a=n[s];if((te.ctypeSpace(a)||te.ctypePunct(a)&&a!=H.Punctuation_Underscore)&&(i=!0),i&&(te.ctypeAlpha(a)||te.ctypeDigit(a)))return s+1}return null}static findLeftNeighboringNextPunctuation(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e-2;s>=0;s--){let a=n[s];if(te.ctypeSpace(a)&&(i=!0),i&&(te.ctypeAlpha(a)||te.ctypeDigit(a)))return null;if(te.ctypePunct(a))return a}return null}static findLeftNeighboringNextAlphaNumeric(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e-1;s>=0;s--){let a=n[s];if((te.ctypeSpace(a)||te.ctypePunct(a)&&a!=H.Punctuation_Underscore)&&(i=!0),i&&(te.ctypeAlpha(a)||te.ctypeDigit(a)))return s+1}return null}static scanWordAt(e,n,r=4){if(n=n.replace("	"," ".repeat(r)),e<0||e>n.length)return null;let i=[],s=[];for(let a=e-1;a>=0;a--){let l=n[a];if(te.ctypePunct(l)&&l!=H.Punctuation_Underscore||te.ctypeSpace(l))break;i.push(l)}for(let a=e;a<n.length;a++){let l=n[a];if(te.ctypePunct(l)&&l!=H.Punctuation_Underscore||te.ctypeSpace(l))break;s.push(l)}return i.reverse().join("")+s.join("")}}});var qg,_x=x(()=>{nt();qg=class{constructor(e){this.parser=e}findParentWithName(e,n){let r=n.parent;for(;r!=null;){if(r instanceof Z&&r.nameMatches(e))return r;if(r.parent==r)break;r=r.parent}return null}}});var Ug,yx=x(()=>{Io();Ug=class{static analyzeModifierNodeParameters(e){var r,i,s,a;if(e.parameters.forEach(l=>{var u,d,h,g;l.isModifierParameter=(d=(u=Qt.instance)==null?void 0:u.hasModifier(l.name))!=null?d:!1,l.isModifierParameter&&(e.modifiers.parameterModifiers.push(l),l.modifier=(g=(h=Qt.instance)==null?void 0:h.getModifier(l.name))!=null?g:null,e.modifiers.modifierNames.includes(l.name)==!1&&e.modifiers.modifierNames.push(l.name))}),e.modifierChain!=null&&e.modifierChain.modifierChain.length>0){let l=null;e.modifierChain.modifierChain.forEach(u=>{var d,h;u.nameNode!=null&&(u.modifier=(h=(d=Qt.instance)==null?void 0:d.getModifier(u.nameNode.content))!=null?h:null,e.modifiers.modifierNames.includes(u.nameNode.content)==!1&&e.modifiers.modifierNames.push(u.nameNode.content),u.modifier!=null&&(l=u.modifier,e.modifierChain!=null&&(e.modifierChain.lastManifestedModifier=u)))}),e.modifierChain.lastModifier=l,e.modifiers.parameterModifiers.length>0&&(e.modifiers.hasMixedModifierStyles=!0)}e.runtimeNodes.length>0&&e.runtimeNodes.forEach(l=>{if(l.modifierChain!=null&&l.modifierChain.modifierChain.length>0){let u=null;l.modifierChain.modifierChain.forEach(d=>{var h,g;d.nameNode!=null&&(d.modifier=(g=(h=Qt.instance)==null?void 0:h.getModifier(d.nameNode.content))!=null?g:null,e.modifiers.modifierNames.includes(d.nameNode.content)==!1&&e.modifiers.modifierNames.push(d.nameNode.content),d.modifier!=null&&(u=d.modifier,e.modifierChain!=null&&(e.modifierChain.lastManifestedModifier=d)))}),e.modifierChain!=null&&(e.modifierChain.lastModifier=u),e.modifiers.parameterModifiers.length>0&&(e.modifiers.hasMixedModifierStyles=!0)}});let n=e.modifiers.getLastManifestedModifier();if(n!=null)if(n.name=="macro"){let l=e.modifiers.getLastManifestedModifierValue();e.manifestType=(i=(r=Qt.instance)==null?void 0:r.getMacroManifestingType(l))!=null?i:""}else e.manifestType=(a=(s=Qt.instance)==null?void 0:s.getProbableReturnType(n,e.isPaired()))!=null?a:""}}});var Nx,bx=x(()=>{Nx={warnUnknownParameters:!1}});var jg,vx=x(()=>{$s();bx();ii();ni();ri();jg=class{static validateInteger(e){return parseInt(e).toString()!==e?{isValid:!1,message:'"'+e+'" is not a valid integer.'}:{isValid:!0,message:""}}static validateBoolean(e){return e=="true"||e=="false"?{isValid:!0,message:""}:{isValid:!1,message:'"'+e+'" is not a valid value. Expecting true/false.'}}static validateParameters(e){var n,r,i,s,a;if(e.isTagNode&&((n=Jt.instance)==null?void 0:n.isKnownTag(e.runtimeName()))){let l=(r=Jt.instance)==null?void 0:r.findTag(e.runtimeName());if(e.hasParameters)for(let u=0;u<e.parameters.length;u++){let d=e.parameters[u],h=null,g=!1,N=d.name.trim();if(!d.isVariableReference)if(N=is(N,":"),((i=Jt.instance)==null?void 0:i.canResolveDynamicParameter(e.runtimeName()))&&typeof l.resolveDynamicParameter!="undefined"&&l.resolveDynamicParameter!=null?(h=l.resolveDynamicParameter(e,N),g=!0):h=(s=Jt.instance)==null?void 0:s.getParameter(e.runtimeName(),N),g&&h==null&&(h=(a=Jt.instance)==null?void 0:a.getParameter(e.runtimeName(),N)),h==null){if(Nx.warnUnknownParameters){let y="";if(l.suggestAlternativeParams!=null){let C=l.suggestAlternativeParams(N);C.length==1?y='. Did you mean "'+C[0]+'"?':C.length>1&&(y=". Try one of the following: "+C.join(", "))}let T='Unknown parameter name: "'+N+'"'+y;e.pushError(Q.makeSyntaxError(k.LINT_UNKNOWN_PARAMETER,e,T,1))}}else if(h.validate!=null){let y=h.validate(e,d);y.length>0&&y.forEach(T=>{e.pushError(Q.makeSyntaxError(k.LINT_GENERAL_INVALID_PARAMETER_CONTENTS,d,T.message,1))})}else{if(d.hasInterpolations())continue;for(let y=0;y<h.expectsTypes.length;y++){let T=h.expectsTypes[y];if(T=="integer"){let C=this.validateInteger(d.value);C.isValid||e.pushError(Q.makeSyntaxError(k.LINT_PARAMETER_CONTENT_INVALID_INTEGER,d,C.message,1))}else if(T=="boolean"){let C=this.validateBoolean(d.value);if(h.name=="paginate"){if(d.value=="true"||d.value=="false")continue;if(parseInt(d.value).toString()!=d.value){let D='Unexpected "'+d.value+'". Expecting a numeric value, or true/false.';e.pushError(Q.makeSyntaxError(k.LINT_PAGINATE_INVALID_VALUE,d,D,0))}}else C.isValid||e.pushError(Q.makeSyntaxError(k.LINT_PARAMETER_CONTENT_INVALID_BOOLEAN,d,C.message,1))}}}}}}}});function Gg(t){return t==null?!1:t=='"'||t=="'"}var Ix=x(()=>{});function Px(t,e){for(t.getCurrentIndex();t.getCurrentIndex()<t.inputLength()&&(t.checkCurrentOffsets(),e&&t.pushChar(t.getCurrent()),t.getCurrent()!=H.NewLine);t.incrementIndex());}var Ax=x(()=>{ki()});function Cx(t,e){for(t.getCurrentIndex();t.getCurrentIndex()<t.inputLength();t.incrementIndex())if(t.checkCurrentOffsets(),e&&t.pushChar(t.getCurrent()),t.getCurrent()==H.Punctuation_Asterisk&&t.getNext()==H.Punctuation_ForwardSlash){e&&t.pushChar(H.Punctuation_ForwardSlash),t.incrementIndex(),t.checkCurrentOffsets();break}}var Ex=x(()=>{ki()});function Wg(t){let e=t.getCurrent();for(t.incrementIndex(),t.getCurrentIndex();t.getCurrentIndex()<t.inputLength()&&(t.checkCurrentOffsets(),!(t.getCurrent()==e&&t.getPrev()!=H.String_EscapeCharacter));t.incrementIndex());}var Sx=x(()=>{ki()});var Hg,xx=x(()=>{nt();Yl();Sn();ki();Ix();Ax();Ex();Sx();Hg=class{constructor(){this.content="";this.nodeIndex=[];this.fragmentStartIndex=[];this.charLen=0;this.documentOffsets=new Map;this.inputLen=0;this.seedOffset=0;this.shiftLine=0;this.chars=[];this.currentIndex=0;this.lastDocumentOffsetKey=null;this.cur=null;this.next=null;this.prev=null;this.chunkSize=5;this.currentChunkOffset=0;this.fragments=[];this.isScript=!1;this.fragmentOpeningIndex=new Map;this.indexedFragments=new Map;this.embeddedIndexedFragments=new Map}updateIndex(e){this.currentIndex=e}inputLength(){return this.inputLen}incrementIndex(){this.currentIndex+=1}getCurrentIndex(){return this.currentIndex}getCurrent(){return this.cur}getNext(){return this.next}getPrev(){return this.prev}pushChar(e){}getChar(e){return this.chars[e]}getSeedOffset(){return this.seedOffset}setDocumentOffsets(e,n){return this.documentOffsets=e,this.lastDocumentOffsetKey=n,this}getClosingFragmentAfter(e){if(typeof e=="undefined")return null;let n=e.name.toLowerCase();for(let r=0;r<this.fragments.length;r++){let i=this.fragments[r];if(i.isClosingFragment&&!i.isSelfClosing&&i.name.toLowerCase()==n&&i.index>e.index)return i}return null}getContentSubstring(e,n){return this.content.substr(e,n)}resetState(){return this.fragments=[],this.inputLen=0,this.fragmentStartIndex=[],this.fragmentOpeningIndex.clear(),this}resetIntermediateState(){this.chars=[],this.charLen=0,this.currentIndex=0,this.seedOffset=0,this.cur=null,this.next=null,this.prev=null}positionFromOffset(e,n,r=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let l=this.documentOffsets.get(e);i=l.line,s=l.char}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let l=null,u=null,d=null,h=null;for(let g of this.documentOffsets.keys()){if(g>=e){h!=null&&e>h?(l=d,u=h):(l=this.documentOffsets.get(g),u=g);break}d=this.documentOffsets.get(g),h=g}l==null&&(l=d,u=h),l!=null?(s=e-(u!=null?u:0),i=l.line,e<=(u!=null?u:0)?(i=l.line,s=e+1):i=l.line+1):this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let a=new tr;return a.index=n,a.offset=e,a.line=i+this.shiftLine,a.char=s,a}getFragments(){return this.fragments}getFragmentsBetween(e,n){let r=[];return this.fragments.forEach(i=>{var l,u,d,h;let s=(u=(l=i.startPosition)==null?void 0:l.index)!=null?u:0,a=(h=(d=i.endPosition)==null?void 0:d.index)!=null?h:0;s>e&&a<n&&r.push(i)}),r}getFragmentContaining(e){var n,r,i,s;for(let a=0;a<this.fragments.length;a++){let l=this.fragments[a];if(((r=(n=l.startPosition)==null?void 0:n.index)!=null?r:0)<e.index&&((s=(i=l.endPosition)==null?void 0:i.index)!=null?s:0)>e.index)return l}return null}checkCurrentOffsets(){if(this.currentIndex>this.chars.length){this.cur=null,this.prev=null,this.next=null;return}if(this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen){let e=!0;if(this.currentIndex==this.charLen-1){let n=te.split(te.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,this.currentChunkOffset==this.inputLen&&(e=!1),n.forEach(r=>{this.chars.push(r),this.charLen+=1})}e&&this.currentIndex+1<this.chars.length&&(this.next=this.chars[this.currentIndex+1])}}processInputText(e){this.content=e,this.inputLen=this.content.length;let n=[...this.content.matchAll(/(<(?!\?[php|?=]))/gm)],r=[];n.forEach(i=>{var a;let s=(a=i.index)!=null?a:0;for(let l=0;l<this.nodeIndex.length;l++){let u=this.nodeIndex[l];if(s>=u.start&&s<=u.end)return}r.push(s)}),this.fragmentStartIndex=r}setIndexRanges(e){return this.nodeIndex=e,this}fetchAt(e,n){return this.content.substr(e,n)}getFragmentsContainingStructures(){let e=[];return this.fragments.forEach(n=>{let r=n.name.toLowerCase();if(!(r!="script"&&r!="style")&&!n.isClosingFragment&&!n.isSelfClosing&&n.containsStructures){let i=this.getClosingFragmentAfter(n);i!=null&&e.push({start:n,end:i})}}),e}parse(e){if(this.resetState().processInputText(e),this.fragmentStartIndex.length==0)return[];for(let s=0;s<this.fragmentStartIndex.length;s++){let a=this.fragmentStartIndex[s];if(this.resetIntermediateState(),this.seedOffset=a,this.currentChunkOffset=a,this.parseIntermediateText(),this.isScript){let l=!1;for(let u=s+1;u<this.fragmentStartIndex.length;u++){let d=this.fragmentStartIndex[u];if(this.fetchAt(d,8).toLowerCase()=="<\/script"){s=u-1,this.isScript=!1,l=!0;break}}if(!l)break}}let r=0,i=0;return this.fragments.forEach(s=>{let a=s.name.toLowerCase();(a=="script"||a=="style")&&(s.embeddedIndex=i,this.embeddedIndexedFragments.set(i,s),i+=1),s.index=r,this.indexedFragments.set(r,s),r+=1}),this.fragments}getFragment(e){return this.indexedFragments.get(e)}getEmbeddedFragment(e){return this.embeddedIndexedFragments.has(e)?this.embeddedIndexedFragments.get(e):null}hasFragments(){return this.fragments.length>0}skipToEndOfPhp(){for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),Gg(this.cur)&&Wg(this),this.cur==H.Punctuation_ForwardSlash&&this.next==H.Punctuation_ForwardSlash){Px(this,!0);continue}if(this.cur==H.Punctuation_ForwardSlash&&this.next==H.Punctuation_Asterisk){Cx(this,!0);continue}if(this.cur==H.Punctuation_Question&&this.next==H.Punctuation_GreaterThan||this.next==null)break}}parseIntermediateText(){this.chars=this.content.substr(this.currentChunkOffset,this.chunkSize).split(""),this.charLen=this.chars.length;let e=this.currentIndex,n=[],r=[],i=!1,s=!1;for(this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),te.ctypeSpace(this.cur)&&(i=!0),this.next==H.Punctuation_LessThan){let a=1;this.cur==H.Punctuation_ForwardSlash&&(a=2);let l=this.fetchAt(this.currentChunkOffset+a,5);if(l.toLowerCase()=="<?php"||l.startsWith("<?=")){this.skipToEndOfPhp();continue}}if(this.currentIndex>0&&this.cur==H.Punctuation_LessThan||this.next==null&&this.cur!=H.Punctuation_GreaterThan)break;if(!i&&this.cur==H.Punctuation_LessThan&&this.next==H.Punctuation_ForwardSlash&&(s=!0),!i&&this.cur!=H.Punctuation_LessThan&&this.cur!=H.Punctuation_ForwardSlash&&this.cur!=H.Punctuation_GreaterThan&&r.push(this.cur),Gg(this.cur)){let a=this.currentIndex;Wg(this);let l=new Wp;l.startPosition=this.positionFromOffset(a+this.seedOffset,a+this.seedOffset),l.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),n.push(l);continue}if(this.cur==H.Punctuation_ForwardSlash&&this.next==H.Punctuation_GreaterThan){let a=new Ru;a.startPosition=this.positionFromOffset(e+this.seedOffset,e+this.seedOffset),a.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset+1,this.currentIndex+this.seedOffset+1),a.parameters=n,a.isSelfClosing=!0,a.name=r.join(""),a.isClosingFragment=s,this.fragments.push(a),s?this.fragmentOpeningIndex.set(a.startPosition.index+1,1):this.fragmentOpeningIndex.set(a.startPosition.index,1);break}if(this.cur==H.Punctuation_GreaterThan){let a=new Ru;a.startPosition=this.positionFromOffset(e+this.seedOffset,e+this.seedOffset),a.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),a.parameters=n,a.name=r.join(""),a.isClosingFragment=s,this.fragments.push(a),s?this.fragmentOpeningIndex.set(a.startPosition.index+1,1):this.fragmentOpeningIndex.set(a.startPosition.index,1),a.name.toLowerCase()=="script"&&a.isClosingFragment==!1&&(this.isScript=!0);break}}}}});var Yg,Rx=x(()=>{nt();Ta();Yg=class{constructor(e,n){this.documentParser=e,this.fragmentsParser=n}doesContainFragments(e){var i,s,a,l,u;let n=(s=(i=e.endPosition)==null?void 0:i.index)!=null?s:0,r=(u=(l=(a=e.isClosedBy)==null?void 0:a.startPosition)==null?void 0:l.index)!=null?u:0;return this.fragmentsParser.getFragmentsBetween(n,r).length>0}analyze(){let e=this.documentParser.getNodes();!this.fragmentsParser.hasFragments()||(this.fragmentsParser.getFragments().forEach(n=>{let r=n.name.toLowerCase();if(n.isClosingFragment==!1&&n.isSelfClosing==!1&&(r=="script"||r=="style")){let i=this.fragmentsParser.getClosingFragmentAfter(n);if(i==null)return;n.endPosition!=null&&i.startPosition!=null&&this.documentParser.getNodesBetween(n.endPosition,i.startPosition).forEach(a=>{(a instanceof Fn||a instanceof Z&&a.isClosedBy!=null)&&(n.containsStructures=!0),r=="style"?a.isInStyleTag=!0:a.isInScriptTag=!0})}}),e.forEach(n=>{var a,l,u,d,h,g;if(n instanceof xt||n.startPosition==null)return;n instanceof Z&&(Tr.isConditionalStructure(n)||!n.isClosingTag)&&n.isClosedBy!=null&&(n.containsAnyFragments=this.doesContainFragments(n));let r=this.fragmentsParser.getFragmentContaining(n.startPosition);if(r==null)return;if(n.fragment=r,n.startPosition.index-((l=(a=r.startPosition)==null?void 0:a.index)!=null?l:0)<=3){n.fragmentPosition=0;return}if(r.parameters.length==0){n.fragmentPosition=2;return}let s=!1;for(let N=0;N<r.parameters.length;N++){let y=r.parameters[N];if(((d=(u=y.startPosition)==null?void 0:u.index)!=null?d:0)<n.startPosition.index&&((g=(h=y.endPosition)==null?void 0:h.index)!=null?g:0)>n.startPosition.index){n.fragmentPosition=1,s=!0;break}}s||(n.fragmentPosition=2)}))}}});var Kg,kx=x(()=>{nt();Sn();Kg=class{static analyze(e){e.forEach(n=>{var r,i,s,a;if(n instanceof Z){if(n.prev instanceof Z&&n.isPaired()&&n.prev.isInlineAntlers==!0){n.isInlineAntlers=!1,n.isClosedBy!=null&&(n.isClosedBy.isInlineAntlers=!1);return}let l=!1,u=!1;if(n.next==null)l=!0;else if(n.next instanceof xt){let d=te.getFirstLine(n.next.content);(n.next.next==null&&d.trim().length==0||te.trimLeft(d," 	").startsWith(`
`)==!1&&d.trim().length>0||n.next.next instanceof vn||n.next.next instanceof Z&&(n.next.next.isPaired()==!1||((i=(r=n.next.next.startPosition)==null?void 0:r.line)!=null?i:0)!=((a=(s=n.startPosition)==null?void 0:s.line)!=null?a:0)))&&(l=!0)}else n.next instanceof Z&&n.next.isPaired()&&(l=!0);if(n.prev==null)u=!0;else if(n.prev instanceof xt){let d=te.getLastLine(n.prev.content);te.trimRight(d," 	").endsWith(`
`)==!1&&d.trim().length>0||n.prev.prev instanceof vn?u=!0:n.prev.prev instanceof Z&&(n.prev.prev.isInlineAntlers?u=!0:n.prev.prev.isClosingTag&&n.prev.prev.isOpenedBy!=null&&(n.prev.prev.isOpenedBy instanceof vn||n.prev.prev.runtimeName()=="noparse")&&(n.prev.prev.isInlineAntlers=!0,u=!0))}else n.prev instanceof Z&&n.prev.isPaired()&&(u=!0);n.isInlineAntlers=l&&u}})}}});var Ox,Ye,H,ki=x(()=>{ni();ri();nt();Yl();rx();Sn();Ox=Ge(Eu());kc();lx();dx();px();wc();Tx();_x();$s();yx();vx();Io();xx();Rx();Fo();Mg();kx();Ye=class{constructor(){this.interpolationRegions=new Map;this.nodeParser=new Dg;this.chars=[];this.charLen=0;this.lastAntlersNode=null;this.content="";this.originalContent="";this.currentIndex=0;this.currentContent=[];this.sourceContent=[];this.startIndex=0;this._recoveryStartIndex=0;this.cur=null;this.next=null;this.prev=null;this.nodes=[];this.renderNodes=[];this.isInterpolatedParser=!1;this.inputLen=0;this.documentOffsets=new Map;this.lineIndex=new Map;this.lastDocumentOffsetKey=null;this.isDoubleBrace=!1;this.interpolationEndOffsets=new Map;this.isScanningInterpolations=!1;this.seedStartLine=1;this.seedStartchar=1;this.frontMatterEndLine=-1;this.lastAntlersEndIndex=-1;this.seedOffset=0;this.antlersStartIndex=[];this.antlersStartPositionIndex=new Map;this.chunkSize=5;this.maxLine=1;this.currentChunkOffset=0;this.isNoParse=!1;this.antlersErrors=[];this.structureErrors=[];this.languageParser=new Zt;this.documentPath=null;this.pushedErrors=new Map;this.frontMatter="";this.shiftLine=0;this.doesHaveUncloseIfStructures=!1;this.doesHaveUnclosedStructures=!1;this.parseChildDocuments=!1;this.structuralErrorCodes=[k.TYPE_PARSE_UNCLOSED_CONDITIONAL,k.TYPE_PARSE_UNPAIRED_CONDITIONAL,k.TYPE_RECURSIVE_UNPAIRED_NODE,k.TYPE_RUNTIME_FATAL_UNPAIRED_LOOP_END,k.TYPE_UNPAIRED_CLOSING_TAG];this.structure=new qg(this);this.fragmentsParser=new Hg,this.fragmentsAnalyzer=new Yg(this,this.fragmentsParser)}withChildDocuments(e){return this.parseChildDocuments=e,this}shouldParseChildDocument(){return this.parseChildDocuments}hasUnclosedIfStructures(){return this.doesHaveUncloseIfStructures}hasUnclosedStructures(){return this.doesHaveUnclosedStructures}getFrontMatter(){return this.frontMatter}setDocumentPath(e){this.documentPath=e}getFrontMatterEndLine(){return this.frontMatterEndLine}pushError(e){(e.errorCode==k.TYPE_PARSE_UNCLOSED_CONDITIONAL||e.errorCode==k.TYPE_PARSE_UNPAIRED_CONDITIONAL)&&(this.doesHaveUncloseIfStructures=!0);let n=e.hash();this.pushedErrors.has(n)||(this.pushedErrors.set(n,e),this.antlersErrors.push(e),this.structuralErrorCodes.includes(e.errorCode)&&this.structureErrors.push(e))}getInterpolationRegions(){return this.interpolationRegions}getDocumentPath(){return this.documentPath}checkCurrentOffsets(){if(this.currentIndex>this.chars.length){this.cur=null,this.prev=null,this.next=null;return}if(this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen){let e=!0;if(this.currentIndex==this.charLen-1){let n=te.split(te.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,this.currentChunkOffset==this.inputLen&&(e=!1),n.forEach(r=>{this.chars.push(r),this.charLen+=1})}e&&this.currentIndex+1<this.chars.length&&(this.next=this.chars[this.currentIndex+1])}}charLeftAt(e){return e==null||e.char<=1?null:this.charAt(this.positionFromCursor(e.line,e.char-1))}charLeftAtCursor(e,n){return this.charLeftAt(this.positionFromCursor(e,n))}charRightAt(e){return e==null?null:this.charAt(this.positionFromCursor(e.line,e.char+1))}charRightAtCursor(e,n){return this.charRightAt(this.positionFromCursor(e,n))}punctuationLeftAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:ys.findLeftNeighboringNextPunctuation(e.char,r,n)}punctuationLeftAtCursor(e,n,r=4){return this.punctuationLeftAt(this.positionFromCursor(e,n),r)}punctuationRightAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:ys.findRightBeighboringNextPunctuation(e.char,r,n)}punctuationRightAtCursor(e,n,r=4){return this.punctuationRightAt(this.positionFromCursor(e,n),r)}wordRightAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);if(r==null)return null;let i=ys.findRightNeighboringNextAlphaNumeric(e.char,r,n);return i==null?null:ys.scanWordAt(i,r,n)}wordRightAtCursor(e,n,r=4){return this.wordRightAt(this.positionFromCursor(e,n),r)}wordLeftAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);if(r==null)return null;let i=ys.findLeftNeighboringNextAlphaNumeric(e.char,r,n);return i==null?null:ys.scanWordAt(i,r,n)}wordLeftAtCursor(e,n,r=4){return this.wordLeftAt(this.positionFromCursor(e,n),r)}wordAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:ys.scanWordAt(e.char,r,n)}getLineText(e){let n=this.getLineIndex(e);return n!=null?te.trimRight(this.getContent().substring(n.start,n.end+1)):null}wordAtCursor(e,n,r=4){return this.wordAt(this.positionFromCursor(e,n),r)}charAt(e){return e==null?null:this.content.substr(e.offset,1)}getLinesAround(e){var s;let n=new Map,r=e-3,i=e+3;r<1&&(r=1),i>this.maxLine&&(i=this.maxLine);for(let a=r;a<=i;a++)n.set(a,(s=this.getLineText(a))!=null?s:"");return n}charAtCursor(e,n){return this.charAt(this.positionFromCursor(e,n))}getLineIndex(e){if(e==this.maxLine){let r=this.lineIndex.get(e-1);if(r!=null){let i=r.endIndex+1;return{end:this.inputLen-1,start:i}}return null}let n=this.lineIndex.get(e);return n!=null?{start:n.startIndex,end:n.endIndex}:null}positionFromCursor(e,n){if(e==this.maxLine){let i=this.lineIndex.get(e-1);if(i!=null){let s=i.endIndex+1,a=s+(n-1),l=new tr;return l.offset=a,l.line=e,l.char=n,l.index=a,l}return null}let r=this.lineIndex.get(e);if(r!=null){let i=new tr;return i.offset=r.startIndex+(n-1),i.line=r.line,i.char=n,i.index=r.startIndex+(n-1),i}return null}parse(e){var d,h,g,N,y,T,C,D,_,A;if(this.resetState(),!this.processInputText(e))return[];let n=this.antlersStartIndex.length,r=n-1;if(n==0&&!this.isNoParse){let b=new xt;b.withParser(this),b.content=this.prepareLiteralContent(this.content),b.startPosition=this.positionFromOffset(0,0),b.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1),b.sourceContent=this.content,this.nodes.push(b)}else for(let b=0;b<n;b+=1){let S=this.antlersStartIndex[b];if(this.seedOffset=S,b==0&&S>0&&!this.isNoParse){let J=new xt;if(J.withParser(this),J.content=this.prepareLiteralContent(this.content.substr(0,S)),J.content.length>0){J.startPosition=this.positionFromOffset(0,0),J.endPosition=this.positionFromOffset(S,S-1);let Y=(d=J.startPosition.index)!=null?d:0,oe=J.endPosition.index+1;J.sourceContent=this.content.substr(Y,oe-Y),this.nodes.push(J)}}if(S<this.lastAntlersEndIndex)continue;if(this.currentChunkOffset=S,this.resetIntermediateState(),this.parseIntermediateText(),this.lastAntlersNode!=null&&!(this.lastAntlersNode instanceof ya)&&this.lastAntlersNode.isComment&&!(this.lastAntlersNode instanceof $l)&&b+1<n){let J=this.antlersStartPositionIndex.get(b+1);if(this.lastAntlersNode.endPosition!=null&&J<this.lastAntlersNode.endPosition.offset){let Y=null;for(let oe=b+1;oe<n;oe++)if(this.antlersStartIndex[oe]>this.lastAntlersNode.endPosition.offset){Y=oe;break}if(Y==null){let oe=this.prepareLiteralContent(this.content.substr(this.lastAntlersNode.endPosition.offset+1));if(oe.length>0&&!this.isNoParse){let he=new xt;he.withParser(this),he.content=oe;let Ne=this.lastAntlersNode.endPosition.offset+1;he.startPosition=this.positionFromOffset(Ne,Ne),he.endPosition=this.positionFromOffset(this.inputLen,this.inputLen);let Te=(h=he.startPosition.index)!=null?h:0,pe=he.endPosition.index+1;he.sourceContent=this.content.substr(Te,pe-Te),this.nodes.push(he)}break}else{let oe=this.antlersStartIndex[Y],he=oe-this.lastAntlersNode.endPosition.offset-1;if(he>0){let Ne=this.lastAntlersNode.endPosition.offset,Te=oe-1;Ne+=1,Te-=1;let pe=this.content.substr(Ne,he);if(pe.length>0&&!this.isNoParse){let ot=new xt;ot.withParser(this),ot.content=pe,ot.startPosition=this.positionFromOffset(Ne,Ne),ot.endPosition=this.positionFromOffset(Te,Te);let Ee=(g=ot.startPosition.index)!=null?g:0,se=ot.endPosition.index+1;ot.sourceContent=this.content.substr(Ee,se-Ee),this.nodes.push(ot)}continue}b=Y-1;continue}}}let w=!1;if(this.antlersStartPositionIndex.has(this.currentChunkOffset)?this.lastAntlersEndIndex<this.currentChunkOffset&&(w=!0):w=!0,w){if(b+1<n){let J=this.antlersStartIndex[b+1],Y=this.lastAntlersEndIndex+1;if(J<Y)if(this.lastAntlersEndIndex>J)b+2<n&&(J=this.antlersStartIndex[b+2]);else continue;if(b+1==r&&J<=this.lastAntlersEndIndex){if(this.isNoParse)break;let oe=this.currentChunkOffset,he=this.content.substr(Y),Ne=new xt;if(Ne.withParser(this),Ne.content=this.prepareLiteralContent(he),Ne.content.length>0){Ne.startPosition=this.positionFromOffset(oe,oe),Ne.endPosition=this.positionFromOffset(J,J-1);let Te=(N=Ne.startPosition.index)!=null?N:0,pe=Ne.endPosition.index+1;Ne.sourceContent=this.content.substr(Te+2,this.inputLen-Te+2),this.nodes.push(Ne)}break}else{let oe=J-this.lastAntlersEndIndex-1;if(oe==0||this.isNoParse)continue;let Ne=this.currentChunkOffset;this.lastAntlersNode instanceof $l&&(Y=((T=(y=this.lastAntlersNode.endPosition)==null?void 0:y.offset)!=null?T:0)+1,oe-=((D=(C=this.lastAntlersNode.endPosition)==null?void 0:C.offset)!=null?D:0)+1,Ne=Y),this.lastAntlersNode instanceof ya&&(Y-=1,oe+=1);let Te=this.content.substr(Y,oe),pe=new xt;if(pe.withParser(this),pe.content=this.prepareLiteralContent(Te),pe.content.length>0){pe.startPosition=this.positionFromOffset(Y,Y),pe.endPosition=this.positionFromOffset(J,J-1);let ot=(_=pe.startPosition.index)!=null?_:0,Ee=pe.endPosition.index+1;pe.sourceContent=this.content.substr(ot,Ee-ot),this.nodes.push(pe)}}continue}if(b!==r&&this.lastAntlersNode!=null&&this.lastAntlersNode.endPosition!=null&&this.positionFromOffset(S,S).isBefore(this.lastAntlersNode.endPosition)){if(b+1<n){if(this.antlersStartIndex[b+1]<this.lastAntlersNode.endPosition.offset)continue}else if(b+1!=r)continue}if(b==r){let J=this.currentIndex+S;if(J<this.inputLen&&!this.isNoParse){let Y=new xt;if(Y.withParser(this),Y.content=this.prepareLiteralContent(this.content.substr(J)),Y.content.length>0){Y.startPosition=this.positionFromOffset(J,J),Y.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1);let oe=(A=Y.startPosition.index)!=null?A:0,he=Y.endPosition.index+1;Y.sourceContent=this.content.substr(oe,he-oe),this.nodes.push(Y)}break}}}}let i=0;this.nodes.forEach(b=>{b.index=i,i+=1}),this.nodes.length>500&&(this.parseChildDocuments=!1),this.nodes.forEach(b=>{b instanceof Z&&b.isComment||b instanceof Z&&b.interpolationRegions.size>0&&(b.interpolationRegions.forEach((S,w)=>{let J=new Ye;J.withChildDocuments(this.parseChildDocuments),J.setIsInterpolatedParser(!0);let Y=J.parse(S.parseContent);Y.length>1&&Y[1]instanceof Z&&(Y=[Y[1]]),J.hasUnclosedIfStructures()&&(this.doesHaveUncloseIfStructures=!0),J.hasUnclosedStructures()&&(this.doesHaveUnclosedStructures=!0),b.processedInterpolationRegions.set(w,Y),this.mergeErrors(J.getAntlersErrors())}),b.hasProcessedInterpolationRegions=!0)}),this.content.length>0&&this.fragmentsParser.setIndexRanges(this.getNodeIndexRanges()).parse(this.content);let s=new _d;this.renderNodes=s.associate(this.nodes,this),this.createChildDocuments(this.renderNodes);let a=null,l=null;for(let b=0;b<this.nodes.length;b++){let S=this.nodes[b];b+1<this.nodes.length?l=this.nodes[b+1]:l=null,S.next=l,S.prev=a,a=S}this.fragmentsAnalyzer.analyze(),Kg.analyze(this.nodes),this.nodes.forEach(b=>{if(b instanceof Z&&b.isClosedBy!=null){let S=b.getImmediateChildren();for(let w=0;w<S.length;w++){let J=S[w];if(J instanceof Z&&J.isClosedBy!=null){b.containsChildStructures=!0;break}else if(J instanceof Fn){b.containsChildStructures=!0;break}}}}),this.nodes.forEach(b=>{if(b instanceof Z&&b.isClosingTag&&b.isOpenedBy==null){let S="Unpaired closing tag.";b.isInterpolationNode&&(S+=" Tag pairs are not supported within Antlers tags."),b.pushError(Q.makeSyntaxError(k.TYPE_UNPAIRED_CLOSING_TAG,b,S))}}),Bg.associateRecursiveParent(this.nodes),this.nodes.forEach(b=>{var S;if(!(b instanceof Z&&b.isComment)&&((b instanceof Z||b instanceof St)&&(b.isInterpolationNode=this.isInterpolatedParser),(b instanceof Z||b instanceof St)&&b.interpolationRegions.size>0&&b.runtimeNodes.forEach(w=>{w instanceof Se&&b.interpolationRegions.has(w.name)&&(w.isInterpolationReference=!0,w.interpolationNodes=b.processedInterpolationRegions.get(w.name))}),(b instanceof Z||b instanceof St)&&b.hasParameters&&b.interpolationRegions.size>0&&b.parameters.forEach(w=>{b.interpolationRegions.forEach((J,Y)=>{w.value.includes(Y)&&w.interpolations.push(Y)})}),b instanceof Z&&b.runtimeNodes.length>0&&b.isClosingTag==!1&&!b.isComment&&(b.parsedRuntimeNodes=this.languageParser.parse(b.runtimeNodes),b.hasParsedRuntimeNodes=!0,!b.isTagNode&&b.parsedRuntimeNodes.length>0))){let w=b.nodeAtIndex(0);w!=null&&w instanceof Se&&w.name==((S=b.name)==null?void 0:S.name)&&(b.modifierChain=w.modifierChain)}}),this.languageParser.getCreatedModifierChains().forEach(b=>{b.modifierChain.length>0&&b.modifierChain.forEach(S=>{var w,J;S.nameNode!=null&&Qt.instance!=null&&Qt.instance.hasModifier((w=S.nameNode)==null?void 0:w.name)&&(S.modifier=(J=Qt.instance)==null?void 0:J.getModifier(S.nameNode.name))})});let u=1;return this.nodes.forEach(b=>{var S,w;if(b instanceof Z){if(b.isComment)return;b.isTagNode=(w=(S=Jt.instance)==null?void 0:S.isKnownTag(b.runtimeName()))!=null?w:!1,b.scopeName=b.findParameterValue("scope",""),b.antlersNodeIndex=u,u+=1,Ug.analyzeModifierNodeParameters(b),jg.validateParameters(b)}}),this.nodes.forEach(b=>{var S,w,J,Y,oe,he,Ne,Te;if(b instanceof Z&&b.isClosedBy!=null){let pe=((w=(S=b.endPosition)==null?void 0:S.offset)!=null?w:0)+1,ot=(Y=(J=b.isClosedBy.startPosition)==null?void 0:J.offset)!=null?Y:0,Ee=(he=(oe=b.startPosition)==null?void 0:oe.offset)!=null?he:0,se=((Te=(Ne=b.isClosedBy.endPosition)==null?void 0:Ne.offset)!=null?Te:0)+1;b.documentText=this.content.substr(pe,ot-pe),b.nodeContent=this.content.substr(Ee,se-Ee),this.parseChildDocuments&&(b.childDocument=_n.childFromText(b.documentText,Oc(b.children)))}}),this.renderNodes}createChildDocuments(e){e.forEach(n=>{var r,i,s,a,l,u,d,h;if(n instanceof Z&&n.isClosedBy!=null){let g=n.isClosedBy,N=((i=(r=n.startPosition)==null?void 0:r.index)!=null?i:0)-1,y=((a=(s=g.endPosition)==null?void 0:s.index)!=null?a:0)-N;if(n.documentText=this.content.substr(N,y),this.parseChildDocuments){let T=(u=(l=n.endPosition)==null?void 0:l.index)!=null?u:0,C=((h=(d=g.startPosition)==null?void 0:d.index)!=null?h:0)-1-T,D=this.content.substr(T,C);n.childDocument=_n.childFromText(D,Oc(n.getChildren()))}}})}getNodeIndexRanges(){let e=[];return this.nodes.forEach(n=>{var r,i,s,a;n instanceof xt||e.push({start:(i=(r=n.startPosition)==null?void 0:r.index)!=null?i:0,end:(a=(s=n.endPosition)==null?void 0:s.index)!=null?a:0})}),e}positionFromOffset(e,n,r=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let l=this.documentOffsets.get(e);i=l.line,s=l.char}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let l=null,u=null,d=null,h=null;for(let g of this.documentOffsets.keys()){if(g>=e){h!=null&&e>h?(l=d,u=h):(l=this.documentOffsets.get(g),u=g);break}d=this.documentOffsets.get(g),h=g}if(l==null&&(l=d,u=h),l!=null)if(r){let g=this.content.split(""),N=e-(u!=null?u:0),y=l.char-(u!=null?u:0)+e;s=N,i=l.line,e<=(u!=null?u:0)?(i=l.line,s=e+1):i=l.line+1}else{let g=this.content.split(""),N=e-(u!=null?u:0),y=l.char-(u!=null?u:0)+e;s=N,i=l.line,e<=(u!=null?u:0)?(i=l.line,s=e+1):i=l.line+1}else this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let a=new tr;return a.index=n,a.offset=e,a.line=i+this.shiftLine,a.char=s,a}getLanguageParser(){return this.languageParser}getText(e,n){return this.content.substr(e,n-e)}getOriginalContent(){return this.originalContent}getContent(){return this.content}getFragments(){return this.fragmentsParser.getFragments()}getFragmentsParser(){return this.fragmentsParser}getFragmentsContainingStructures(){return this.fragmentsParser.getFragmentsContainingStructures()}setIsInterpolatedParser(e){return this.isInterpolatedParser=e,this}setStartLineSeed(e){return this.seedStartLine=e,this}setSeedStartChar(e){return this.seedStartchar=e,this}resetIntermediateState(){this.chars=[],this.charLen=0,this.currentIndex=0,this.currentContent=[],this.sourceContent=[],this.cur=null,this.next=null,this.prev=null}setSeedPosition(e){return e==null?this.shiftLine=0:this.shiftLine=e.line,this}resetState(){if(this.languageParser.reset(),this.charLen=0,this.antlersStartIndex=[],this.antlersErrors=[],this.pushedErrors.clear(),this.antlersStartPositionIndex.clear(),this.lastAntlersEndIndex=-1,this.renderNodes=[],this.nodes=[],eo.globalTagEnterStack.length>0){let e=eo.globalTagEnterStack[eo.length-1];e!=null&&e.endPosition!=null&&this.setStartLineSeed(e.endPosition.line)}this.seedOffset=0,this.isScanningInterpolations=!1,this.content="",this.chars=[],this.currentIndex=0,this.startIndex=0,this._recoveryStartIndex=0,this.cur=null,this.next=null,this.prev=null,this.inputLen=0,this.documentOffsets.clear(),this.isDoubleBrace=!1,this.interpolationRegions.clear(),this.interpolationEndOffsets.clear()}fetch(e){let n=this.currentChunkOffset+this.chunkSize-this.chars.length;return te.substring(this.content,n,e)}getParsedContent(){return this.content}peek(e){if(e==this.charLen){let n=te.split(te.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,n.forEach(r=>{this.chars.push(r),this.charLen+=1})}return this.chars[e]}parseIntermediateText(){for(this.currentContent=[],this.sourceContent=[],this.startIndex=0,this.chars=this.content.substr(this.currentChunkOffset,this.chunkSize).split(""),this.charLen=this.chars.length,this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==Ye.LeftBrace&&this.next==Ye.LeftBrace&&this.prev==Ye.AtChar){this.dumpLiteralNode(this.currentIndex);let e=new vn;e.withParser(this),e.name=new sr,e.name.name="noparse",e.content="{{",e.startPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),e.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),this.nodes.push(e),this.currentContent=[],this.sourceContent=[],this.currentIndex+=1;continue}if((this.prev==null||this.prev!=null&&this.prev!=Ye.AtChar)&&this.next!=null&&this.cur==Ye.LeftBrace&&this.next==Ye.LeftBrace){this.dumpLiteralNode(this.currentIndex);let e=null;if(this.currentIndex+2<this.inputLen&&(e=this.peek(this.currentIndex+2)),e==Ye.Punctuation_Question&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfPhpRegion(Ye.Punctuation_Question),this.isDoubleBrace=!1;break}if(e==Ye.Punctuation_Dollar&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfPhpRegion(Ye.Punctuation_Dollar),this.isDoubleBrace=!1;break}if(e==Ye.Punctuation_Octothorp&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersCommentRegion(),this.isDoubleBrace=!1;break}if(!this.isNoParse)this.startIndex=this.currentIndex,this._recoveryStartIndex=this.currentIndex,this.isDoubleBrace=!0,this.currentIndex+=2,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersRegion(),this.isDoubleBrace=!1;else if(this.fetch(11).replace(" ","").toLocaleLowerCase().startsWith("{{/noparse")){this.startIndex=this.currentIndex,this._recoveryStartIndex=this.currentIndex,this.isDoubleBrace=!0,this.currentIndex+=2,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersRegion(),this.isDoubleBrace=!1,this.isNoParse=!1;break}else{this.currentContent.push(this.cur);continue}break}if(this.cur==Ye.AtChar&&this.next!=null&&this.next==Ye.LeftBrace){if(this.currentIndex+2>=this.inputLen){this.appendContent(this.next),this.dumpLiteralNode(this.currentIndex+1);break}let e=0;for(let n=this.currentIndex+1;n<this.inputLen&&this.chars[n]==Ye.LeftBrace;n+=1)e+=1;this.currentContent=this.currentContent.concat(Ye.LeftBrace.repeat(e).split("")),this.sourceContent=this.currentContent.concat(Ye.LeftBrace.repeat(e).split("")),this.currentIndex+=e}this.appendContent(this.cur),this.next==null&&this.currentContent.length>0&&this.dumpLiteralNode(this.currentIndex)}}getRenderNodes(){return this.renderNodes}processInputText(e){var g;if(this.originalContent=e,this.content=te.normalizeLineEndings(e),this.inputLen=this.content.length,this.content.startsWith("---")){let N=this.content.split(`
`),y=[],T=[];T.push("");for(let C=1;C<N.length;C++){let D=N[C];if(D.startsWith("---")){T.push(""),T=T.concat(N.slice(C+1)),this.content=T.join(`
`),this.frontMatter=y.join(`
`),this.frontMatterEndLine=C+1;break}else y.push(D),T.push("")}}let n=[...this.content.matchAll(/(\n)/gm)],r=n.length,i=this.seedStartLine,s=null,a=0,l=0;for(let N=0;N<r;N++){let y=n[N],T=(g=y.index)!=null?g:0,C=T;s!=null?C=T-s:C=C+1,this.documentOffsets.set(T,{char:C,line:i});let D=0,_=0;N==0?(_=C-1,D=0):(D=l+1,_=T),this.lineIndex.set(i,{char:C,line:i,startIndex:D,endIndex:_}),this.lastDocumentOffsetKey=T,this.maxLine=i,i+=1,s=T,l=_,a=D}this.maxLine+=1;let u=[...this.content.matchAll(/@?{{/gm)],d=0,h=!1;return u.forEach(N=>{let y=N[0];if(y.startsWith(Ye.AtChar)){d=this.content.indexOf(y,d)+2,h=!0;return}let T=this.content.indexOf(y,d);if(h&&d==T){d=T;return}this.antlersStartIndex.push(T),this.antlersStartPositionIndex.set(T,1),d=T+2,h=!1}),!0}prepareLiteralContent(e){return e.replace("@{{","{{")}scanToEndOfPhpRegion(e){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==e&&this.next!=null&&this.next==Ye.RightBrace&&this.peek(this.currentIndex+2)==Ye.RightBrace){let r=this.makeAntlersPhpNode(this.currentIndex,e==Ye.Punctuation_Dollar);this.currentContent=[],this.sourceContent=[],this.currentIndex+=3,this.startIndex=this.currentIndex,this._recoveryStartIndex=this.startIndex,this.nodes.push(r),this.lastAntlersNode=r;break}if(this.appendContent(this.cur),this.next==null){let n=this.makeAntlersPhpFailedNode(this.currentIndex);this.nodes.push(n),this.lastAntlersNode=n,this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(Q.makeSyntaxError(k.TYPE_INCOMPLETE_PHP_EVALUATION_REGION,n,"Unexpected end of input while parsing Antlers PHP region."));break}}}appendContent(e){e!=null&&(this.currentContent.push(e),this.sourceContent.push(e))}scanToEndOfAntlersCommentRegion(){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==Ye.Punctuation_Octothorp&&this.next!=null&&this.next==Ye.RightBrace&&this.peek(this.currentIndex+2)==Ye.RightBrace){let n=this.makeAntlersTagNode(this.currentIndex,!0);this.currentContent=[],this.sourceContent=[],this.currentIndex+=3,this.nodes.push(n),this.lastAntlersNode=n;break}if(this.appendContent(this.cur),this.next==null){let e=this.makeAntlersCommentFailedNode(this.currentIndex);this.nodes.push(e),this.lastAntlersNode=e,this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(Q.makeSyntaxError(k.TYPE_INCOMPLETE_ANTELRS_COMMENT_REGION,e,"Unexpected end of input while parsing Antlers comment region."));break}}}scanToEndOfInterpolatedRegion(){this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0);let e=[];this.isScanningInterpolations=!0;let n=0;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1)if(this.checkCurrentOffsets(),this.cur==Ye.LeftBrace){if(this.prev==Ye.AtChar){e.push(this.cur);continue}n+=1,e.push(this.cur)}else if(this.cur==Ye.RightBrace){if(this.prev==Ye.AtChar){e.push(this.cur);continue}if(n-=1,e.push(this.cur),n==0){this.interpolationEndOffsets.set(this.currentIndex,1);break}}else this.cur!=null&&e.push(this.cur);let r=e.join(""),s=("int_"+Ox.Md5.hashStr(r)).substr(0,r.length),a=s.length,l=r.length;if(a<l){let u=l-a;s+="x".repeat(u)}return this.isScanningInterpolations=!1,{content:r,varContent:s}}bordersInterpolationRegion(e){if(this.interpolationEndOffsets.size==0)return!1;let n=e.offset-1;return n<=0?!1:this.interpolationEndOffsets.has(n)}getParseableContent(e){let n="";for(let r=0;r<=e;r++)this.content[r]==Ye.LeftBrace||this.content[r]==Ye.RightBrace?n+="~":n+=this.content[r];return n}scanToEndOfAntlersRegion(){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==Ye.LeftBrace&&this.prev==Ye.AtChar){this.currentContent.pop(),this.appendContent(this.cur);continue}if(this.isInterpolatedParser&&this.cur==Ye.RightBrace&&this.prev==Ye.AtChar){this.currentContent.pop(),this.appendContent(this.cur);continue}if(this.cur==Ye.LeftBrace){let e=this.scanToEndOfInterpolatedRegion(),n=this.currentIndex+this.seedOffset,r=n-e.content.length,i=this.getParseableContent(r-1);eo.interpolatedVariables.push(e.varContent),this.currentContent=this.currentContent.concat(e.varContent.split("")),this.sourceContent=this.sourceContent.concat(e.content.split(""));let s=i+"{"+e.content+"}";this.interpolationRegions.set(e.varContent,{content:e.content,parseContent:s,varContent:e.varContent,startOffset:r,endOffset:n});continue}if(this.cur==Ye.RightBrace&&this.next!=null&&this.next==Ye.RightBrace){let e=this.makeAntlersTagNode(this.currentIndex,!1);e.name!=null&&e.name.name=="noparse"&&(this.isNoParse=!0),this.currentIndex+=2,this.nodes.push(e),this.lastAntlersNode=e;break}if(this.appendContent(this.cur),this.next==null){let e=this.makeAntlersFailedNode(this.currentIndex,!1);this.nodes.push(e),this.lastAntlersNode=e,this.doesHaveUnclosedStructures=!0;let n="Unexpected end of input while parsing Antlers region.";this.isScanningInterpolations&&(n="Unexpected end of input wihle parsing interpolated Antlers region."),this.antlersErrors.push(Q.makeSyntaxError(k.TYPE_INCOMPLETE_ANTLERS_REGION,e,n));break}}}makeAntlersPhpNode(e,n){let r=new ya;return n?(r.rawStart="{{$",r.rawEnd="$}}"):(r.rawStart="{{?",r.rawEnd="?}}"),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset),e+3>this.inputLen?(r.endPosition=this.positionFromOffset(this.inputLen,this.inputLen-1),this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(Q.makeSyntaxError(k.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE,r,"Unexpected end of input while locating end of Antlers region.")),r):(this.lastAntlersEndIndex=e+3+this.seedOffset,r.endPosition=this.positionFromOffset(e+this.seedOffset,e+3+this.seedOffset),r)}makeAntlersPhpFailedNode(e){let n=new Yp;n.rawStart="{{$",n.rawEnd="$}}",n._isEndVirtual=!0,n.content=this.currentContent.join(""),n.sourceContent=this.sourceContent.join(""),n.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let r=this.getLineText(n.startPosition.line),i=this.getLineIndex(n.startPosition.line);if(r!=null){let a=r.substr(this._recoveryStartIndex);n.content=a,n.sourceContent=a}let s=e+this.seedOffset;return i!=null&&(this.currentIndex=i.end,s=i.end),n.endPosition=this.positionFromOffset(s,s),n}makeAntlersCommentFailedNode(e){let n=new $l;this.isDoubleBrace?(n.rawStart="{{",n.rawEnd="}}"):(n.rawStart="{",n.rawEnd="}"),n._isEndVirtual=!0;let r=!1,i=this.currentContent.length;i>0&&this.currentContent[i-1]==Ye.Punctuation_ForwardSlash&&(this.currentContent.pop(),r=!0),n.isComment=!0,n.isSelfClosing=r,n.withParser(this),n.content=this.currentContent.join(""),n.sourceContent=this.sourceContent.join(""),n.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let s=this.getLineText(n.startPosition.line),a=this.getLineIndex(n.startPosition.line);if(s!=null){let u=s.substr(this._recoveryStartIndex);n.content=u,n.sourceContent=u}let l=e+this.seedOffset;return a!=null&&(this.currentIndex=a.end,l=a.end),n.endPosition=this.positionFromOffset(l,l),n.interpolationRegions=new Map,this.interpolationRegions.forEach((u,d)=>{n.content.includes(d)&&n.interpolationRegions.set(d,u)}),n}makeAntlersFailedNode(e,n){let r=new St;this.isDoubleBrace?(r.rawStart="{{",r.rawEnd="}}"):(r.rawStart="{",r.rawEnd="}"),r._isEndVirtual=!0;let i=!1,s=this.currentContent.length;s>0&&this.currentContent[s-1]==Ye.Punctuation_ForwardSlash&&(this.currentContent.pop(),i=!0),r.isComment=n,r.isSelfClosing=i,r.withParser(this),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let a=this.getLineText(r.startPosition.line),l=this.getLineIndex(r.startPosition.line);if(a!=null){let h=te.trimLeft(this.content.substring(r.startPosition.offset+r.rawStart.length-1,l==null?void 0:l.end),"{");r.content=h,r.sourceContent=h}let u=e+this.seedOffset;l!=null&&(this.currentIndex=l.end,u=l.end),r.endPosition=this.positionFromOffset(u,u),r.interpolationRegions=new Map,this.interpolationRegions.forEach((h,g)=>{r.content.includes(g)&&r.interpolationRegions.set(g,h)});let d=this.nodeParser.parseNode(r);return this.mergeErrors(d.getErrors()),d}makeAntlersTagNode(e,n){let r=new Z;this.isDoubleBrace?(r.rawStart="{{",r.rawEnd="}}"):(r.rawStart="{",r.rawEnd="}");let i=!1,s=this.currentContent.length;if(s>0&&this.currentContent[s-1]==Ye.Punctuation_ForwardSlash&&(this.currentContent.pop(),i=!0),r.isInterpolationNode=this.isInterpolatedParser,r.isComment=n,r.isSelfClosing=i,r.withParser(this),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset),e+2>this.inputLen)return r.endPosition=this.positionFromOffset(this.inputLen,this.inputLen-1),this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(Q.makeSyntaxError(k.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE,r,"Unexpected end of input while locating end of Antlers region.")),r;if(n?this.lastAntlersEndIndex=e+2+this.seedOffset:this.lastAntlersEndIndex=e+1+this.seedOffset,r.endPosition=this.positionFromOffset(this.lastAntlersEndIndex,this.lastAntlersEndIndex),r.interpolationRegions=new Map,this.interpolationRegions.forEach((l,u)=>{r.content.includes(u)&&r.interpolationRegions.set(u,l)}),r.isComment)return r;let a=this.nodeParser.parseNode(r);return this.mergeErrors(a.getErrors()),a}mergeErrors(e){e.forEach(n=>{this.antlersErrors.push(n)})}getNodes(){return this.nodes}getNodesBetween(e,n){let r=[];return this.nodes.forEach(i=>{var s,a,l,u;((a=(s=i.startPosition)==null?void 0:s.offset)!=null?a:0)>e.offset&&((u=(l=i.endPosition)==null?void 0:l.offset)!=null?u:0)<n.offset&&r.push(i)}),r}antlersNodes(){return this.nodes.filter(function(e){return e instanceof Z})}dumpLiteralNode(e){this.isNoParse||(this.currentContent.length>0&&this.nodes.push(this.makeLiteralNode(this.currentContent,this.startIndex,e)),this.currentContent=[],this.sourceContent=[])}makeLiteralNode(e,n,r){let i=new xt;return i.content=e.join(""),i.sourceContent=this.sourceContent.join(""),i.startPosition=this.positionFromOffset(n,n),i.endPosition=this.positionFromOffset(r,r),i.sourceContent=this.content.substr(n,r),i.withParser(this),i}addAntlersError(e){this.antlersErrors.push(e)}getAntlersErrors(){return this.antlersErrors}getStructureErrors(){return this.structureErrors}},H=Ye;H.K_CHAR="char",H.K_LINE="line",H.NewLine=`
`,H.AtChar="@",H.LeftBrace="{",H.RightBrace="}",H.LeftBracket="[",H.RightBracket="]",H.String_EscapeCharacter="\\",H.String_Terminator_DoubleQuote='"',H.String_Terminator_SingleQuote="'",H.Punctuation_Question="?",H.Punctuation_Equals="=",H.Punctuation_Comma=",",H.Punctuation_Colon=":",H.Punctuation_Semicolon=";",H.Punctuation_Exclamation="!",H.Punctuation_Pipe="|",H.Punctuation_Ampersand="&",H.Punctuation_LessThan="<",H.Punctuation_GreaterThan=">",H.Punctuation_Octothorp="#",H.Punctuation_Tilde="~",H.Punctuation_FullStop=".",H.Punctuation_Dollar="$",H.Punctuation_Asterisk="*",H.Punctuation_Percent="%",H.Punctuation_Plus="+",H.Punctuation_Minus="-",H.Punctuation_Underscore="_",H.Punctuation_ForwardSlash="/",H.Punctuation_Caret="^",H.LeftParen="(",H.RightParent=")"});var Ft,yd=x(()=>{nt();wc();Ft=class{static findAssignmentNodes(e){let n=[];for(let r=0;r<e.length;r++)Zt.isAssignmentOperatorNode(e[r])&&n.push(e[r]);return n}static findAbstractNodesBefore(e,n){return this.findAbstractNodesBeforePosition(e.startPosition,n)}static findAbstractNodesBeforePosition(e,n){if(e==null)return[];let r=[];for(let i=0;i<n.length;i++){let s=n[i];if(s.startPosition!=null){if(s.startPosition.index>e.index)break;r.push(s)}}return r}static isBefore(e,n){return e.startPosition==null?!1:e.startPosition.index<n.index}static isAfter(e,n){return e.startPosition==null?!1:e.startPosition.index>n.index}static findNodesBeforePosition(e,n){let r=[];if(e==null)return r;for(let i=0;i<n.length;i++){let s=n[i];if(!Ft.isLiteralType(s)&&s.startPosition!=null&&s.endPosition!=null){if(s.startPosition.index>e.index)break;r.push(s)}}return r}static findNodesAfterPosition(e,n){let r=[];if(e==null)return r;for(let i=0;i<n.length;i++){let s=n[i];Ft.isLiteralType(s)||s.startPosition!=null&&s.startPosition.index>e.index&&r.push(s)}return r}static findNodeBeforePosition(e,n){if(e==null)return null;let r=null;for(let i=0;i<n.length;i++){let s=n[i];if(!Ft.isLiteralType(s)&&s.startPosition!=null){if(s.startPosition.index>e.index)break;r=s}}return r}static findNodeAfterPosition(e,n){if(e==null)return null;for(let r=0;r<n.length;r++){let i=n[r];if(!Ft.isLiteralType(i)&&i.startPosition!=null&&i.startPosition.index>e.index)return i}return null}static findNodeAtPosition(e,n){if(e==null)return null;for(let r=0;r<n.length;r++){let i=n[r];if(!Ft.isLiteralType(i)&&i.startPosition!=null&&i.endPosition!=null&&e.index>=i.startPosition.index&&e.index<=i.endPosition.index)return i}return null}static isLiteralType(e){return e instanceof vn||e instanceof xt}}});var Lc,wx=x(()=>{nt();yd();Lc=class{static isModifierLeftOf(e,n){return Lc.isModifierLeftOfPosition(e.startPosition,n)}static isModifierLeftOfPosition(e,n){let r=Ft.findAbstractNodesBeforePosition(e,n);for(let i=r.length-1;i>=0;i--){let s=r[i];if(s instanceof hn||s instanceof un)return!1;if(s instanceof Bn)return!0}return!1}}});var Dc,Lx=x(()=>{wc();Dc=class{constructor(){this.isRightOfOperator=!1;this.isLeftOfOperator=!1}static resolveContext(e,n,r){let i=new Dc;return r!=null&&(r.prev!=null&&Zt.isOperatorType(r.prev)&&(i.isRightOfOperator=!0),r.next!=null&&Zt.isOperatorType(r.next)&&(i.isLeftOfOperator=!0)),i}}});var $g,Dx=x(()=>{$g=class{constructor(){this.inTagPart=!1;this.inMethodPart=!1}}});var Mc,Mx=x(()=>{nt();Mc=class{constructor(){this.modifierChain=null;this.activeModifier=null;this.name="";this.inModifierName=!1;this.inModifierParameter=!1;this.valueCount=0;this.activeValueIndex=-1;this.activeValue=null}static resolveContext(e,n,r,i){let s=n.getParser(),a=new Mc,l=s.getLanguageParser().getCreatedModifierChains(),u=null;for(let d=0;d<l.length;d++){let h=l[d];if(e.isWithin(h.startPosition,h.endPosition)){for(let g=0;g<h.modifierChain.length;g++){let N=h.modifierChain[g];if(e.isWithin(N.startPosition,N.endPosition)){u=N;break}}if(u!=null)break}}if(u==null&&r instanceof xn&&i.getDocumentParser().getLanguageParser().hasModifierConstruct(r)&&(u=i.getDocumentParser().getLanguageParser().getModifierConstruct(r)),u!=null)if(a.activeModifier=u,a.valueCount=u.valueNodes.length,u.nameNode!=null&&(a.name=u.nameNode.name),u.nameNode!=null&&e.isWithin(u.nameNode.startPosition,u.nameNode.endPosition,1))a.inModifierName=!0;else for(let d=0;d<u.valueNodes.length;d++){let h=u.valueNodes[d];if(e.isWithin(h.startPosition,h.endPosition,1)){a.activeValueIndex=d,a.inModifierParameter=!0,a.activeValue=h;break}}return a}}});var Fc,Fx=x(()=>{Fc=class{constructor(){this.parameter=null;this.isInName=!1;this.isInValue=!1}static resolveContext(e,n){let r=new Fc;return r.parameter=n,e.isWithinRange(n.namePosition)?r.isInName=!0:e.isWithinRange(n.valuePosition)&&(r.isInValue=!0),r}}});var zg,Qg,Vx=x(()=>{xu();zg=class{constructor(){this.refId="";this.node=null;this.leftPunctuation=null;this.rightPunctuation=null;this.leftChar=null;this.rightChar=null;this.word=null;this.char=null;this.interpolatedContext=!1;this.leftWord=null;this.rightWord=null;this.isCursorInIdentifier=!1;this.root=null;this.identifierContext=null;this.position=null;this.feature=null;this.isInParameter=!1;this.subContext=null;this.parameterContext=null;this.modifierContext=null;this.generalContext=null;this.variableContext=null;this.cursorContext=Qg.Unknown;this.refId=_a()}},Qg=(a=>(a[a.Unknown=0]="Unknown",a[a.Variable=1]="Variable",a[a.Modifier=2]="Modifier",a[a.Parameter=3]="Parameter",a[a.General=4]="General",a[a.LanguageOperator=5]="LanguageOperator",a))(Qg||{})});var Vc,Bx=x(()=>{ii();nt();Vc=class{constructor(){this.variableNode=null;this.varPathText=""}static resolveContext(e,n,r,i){var g;if(r==null)return null;let s=r,a=i.getDocumentParser().getLanguageParser(),l=new Vc,u=(g=i.wordAt(e))!=null?g:"";r instanceof Ht&&a.isMergedVariableComponent(r)==!1&&r.prev instanceof Se&&(s=r.prev);let d="";if(a.isMergedVariableComponent(s)){let N=a.getMergedVariable(s);N.startPosition!=null&&(d=i.getText(N.startPosition.index,e.index).trim()),l.variableNode=N}else s instanceof Se&&(l.variableNode=s,d=s.name,s.variableReference!=null&&(d=s.variableReference.normalizedReference));d.length>0&&(d=Vr(d,"\\.",":"));let h=d.split(":");return u.trim().length>0&&h.pop(),d=h.join(":"),d.endsWith(":")&&(d=Gp(d,":")),l.varPathText=d,l}}});var Ns,Xg=x(()=>{nt();wx();Lx();Dx();Mx();Fx();Vx();Bx();Ns=class{static resolveIdentifierContext(e,n){let r=new $g;return n.nameMethodPartStartsOn!=null?e.char<n.nameMethodPartStartsOn.char?(r.inTagPart=!0,r.inMethodPart=!1):(r.inTagPart=!1,r.inMethodPart=!0):(r.inMethodPart=!1,r.inTagPart=!0),r}static resolveContext(e,n,r,i=!1,s=null){var a,l,u,d,h,g;if(n==null||e==null)return null;if(n instanceof _r||n instanceof Z){let N=new zg;if(n.nameStartsOn!=null&&e.line==n.nameStartsOn.line){let C=!1;e.char>=n.nameStartsOn.char&&(C=!0),n.nameEndsOn!=null&&e.char>n.nameEndsOn.char&&(C=!1),C&&(N.isCursorInIdentifier=!0,N.identifierContext=Ns.resolveIdentifierContext(e,n))}n.addContext(N),s!=null&&s.addContext(N),N.interpolatedContext=i,N.node=n,N.position=e,N.root=s,N.leftPunctuation=r.punctuationLeftAt(e),N.rightPunctuation=r.punctuationRightAt(e),N.leftChar=r.charLeftAt(e),N.rightChar=r.charRightAt(e),N.word=r.wordAt(e),N.char=r.charAt(e),N.leftWord=r.wordLeftAt(e),N.rightWord=r.wordRightAt(e);let y=!1;if(n.parameters.length>0)for(let C=0;C<n.parameters.length;C++){let D=n.parameters[C];if(D.blockPosition!=null&&D.blockPosition.start!=null&&D.blockPosition.end!=null&&e.char>D.blockPosition.start.char&&e.char<=D.blockPosition.end.char+1&&e.line>=((u=(l=(a=D.namePosition)==null?void 0:a.start)==null?void 0:l.line)!=null?u:D.blockPosition.start.line)&&e.line<=((g=(h=(d=D.valuePosition)==null?void 0:d.end)==null?void 0:h.line)!=null?g:D.blockPosition.end.line)){N.cursorContext=3,N.parameterContext=Fc.resolveContext(e,D),N.isInParameter=!0,N.feature=D,y=!0;break}}if(y||n.runtimeNodes.forEach(C=>{C.startPosition!=null&&C.endPosition!=null&&e.isWithin(C.startPosition,C.endPosition,1)&&(N.feature=C)}),y&&n.interpolationRegions.size>0){let C=Array.from(n.interpolationRegions,([D,_])=>_);for(let D=0;D<C.length;D++){let _=C[D];if(e.index>=_.startOffset&&e.index<=_.endOffset){let A=n.getInterpolationNode(_.varContent);return Ns.resolveContext(e,A,r,!0,s)}}}return N.feature instanceof Se&&N.feature.isInterpolationReference&&N.feature.parent!=null&&N.feature.parent instanceof Z&&N.feature.parent.processedInterpolationRegions.has(N.feature.name)?Ns.resolveContext(e,N.feature.parent.getInterpolationNode(N.feature.name),r,!0,s):(Lc.isModifierLeftOfPosition(e,n.runtimeNodes)?(N.cursorContext=2,N.modifierContext=Mc.resolveContext(e,n,N.feature,r)):y||(N.cursorContext=4,N.generalContext=Dc.resolveContext(e,n,N.feature)),N.variableContext=Vc.resolveContext(e,n,N.feature,r),N)}return null}}});var Wo,Jg=x(()=>{$s();nt();Wo=class{static isPairedNode(e){return e instanceof Fn?!0:e instanceof _r||e instanceof Z?e.isClosedBy!=null:!1}static findAncestorsBeforePosition(e,n){var l,u,d,h,g,N;let r=[],i=[],s=-1,a=-1;for(let y=0;y<n.length;y++){let T=n[y];if(T.isClosedBy!=null&&((l=T.isClosedBy.endPosition)==null?void 0:l.isBefore(e))&&(i.push(T),i.push(T.isClosedBy),s=T.isClosedBy.endPosition.line,a=T.isClosedBy.endPosition.char),!(s>-1&&T.endPosition!=null&&(T.endPosition.line<s||T.endPosition.line==s&&a>-1&&T.endPosition.char<a))){if(T.startPosition!=null){if(e.isBefore(T.startPosition))break;if(T.startPosition.line==e.line&&e.char<=T.startPosition.char){i.push(T);continue}}if(((u=Jt.instance)==null?void 0:u.requiresClose(T))&&T.isClosedBy!=null){let C=T.isClosedBy;if((d=C.startPosition)==null?void 0:d.isBefore(e)){i.push(T),i.push(C);continue}else((h=C.startPosition)==null?void 0:h.line)==e.line&&((g=C.startPosition)==null?void 0:g.char)<e.char?i.push(T):r.push(T)}else if(T.parent!=null){let C=T.parent;if(i.includes(C)){i.push(T);continue}else((N=T.endPosition)==null?void 0:N.isBefore(e))?r.push(T):i.push(T)}else r.push(T)}}return r}}});var Zg,qx=x(()=>{yd();Xg();Jg();nt();Zg=class{constructor(e){this.doc=e}getAncestorsAt(e,n){let r=this.position(e,n);return r==null?[]:Wo.findAncestorsBeforePosition(r,this.doc.getAllAntlersNodes())}getNameAt(e,n){let r=this.getNodeAt(e,n);return r instanceof Z?r.name:null}getScopeAt(e,n){let r=this.getNodeAt(e,n);return r instanceof Z&&r.currentScope!=null?r.currentScope:null}getFeaturesAt(e,n){let r=this.position(e,n),i=this.getNodeAt(e,n);return Ns.resolveContext(r,i,this.doc,!1,i)}getNodeAt(e,n){return Ft.findNodeAtPosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodeBefore(e,n){return Ft.findNodeBeforePosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodeAfter(e,n){return Ft.findNodeAfterPosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodesBefore(e,n){return Ft.findNodesBeforePosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getAssignmentsBefore(e,n){let r=this.doc.getDocumentParser().getLanguageParser().getRuntimeAssignments(),i=[],s=this.position(e,n);return s!=null&&r.forEach(a=>{Ft.isBefore(a.target,s)&&i.push(a)}),i}getAssignmentsAfter(e,n){let r=this.doc.getDocumentParser().getLanguageParser().getRuntimeAssignments(),i=[],s=this.position(e,n);return s!=null&&r.forEach(a=>{Ft.isAfter(a.target,s)&&i.push(a)}),i}getNodesAfter(e,n){return Ft.findNodesAfterPosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getIsWithinPairedNode(e,n){let r=this.getNodeBefore(e,n);return r==null?!1:Wo.isPairedNode(r)}position(e,n){return this.doc.getDocumentParser().positionFromCursor(e,n)}charLeftAt(e,n){return this.doc.getDocumentParser().charLeftAtCursor(e,n)}charAt(e,n){return this.doc.getDocumentParser().charAtCursor(e,n)}charRightAt(e,n){return this.doc.getDocumentParser().charRightAtCursor(e,n)}wordLeftAt(e,n,r=4){return this.doc.getDocumentParser().wordLeftAtCursor(e,n,r)}wordRightAt(e,n,r=4){return this.doc.getDocumentParser().wordRightAtCursor(e,n,r)}wordAt(e,n,r=4){return this.doc.getDocumentParser().wordAtCursor(e,n,r)}punctuationLeftAt(e,n,r=4){return this.doc.getDocumentParser().punctuationLeftAtCursor(e,n,r)}punctuationRightAt(e,n,r=4){return this.doc.getDocumentParser().punctuationRightAtCursor(e,n,r)}}});var eT,Ux=x(()=>{eT=class{constructor(e){this.doc=e}hasStructureErrors(){return this.doc.getDocumentParser().getStructureErrors().length>0}getFirstStructureError(){return this.doc.getDocumentParser().getStructureErrors()[0]}hasAny(){return this.all().length>0}all(){let e=[],n=[];return this.doc.getAllAntlersNodes().forEach(r=>{r.getErrors().forEach(i=>{e.includes(i.hash())==!1&&(e.push(i.hash()),n.push(i))})}),this.doc.getDocumentParser().getAntlersErrors().forEach(r=>{e.includes(r.hash())==!1&&(e.push(r.hash()),n.push(r))}),n}}});var to=_e(or=>{"use strict";var bs={ANCHOR:"&",COMMENT:"#",TAG:"!",DIRECTIVES_END:"-",DOCUMENT_END:"."},Bc={ALIAS:"ALIAS",BLANK_LINE:"BLANK_LINE",BLOCK_FOLDED:"BLOCK_FOLDED",BLOCK_LITERAL:"BLOCK_LITERAL",COMMENT:"COMMENT",DIRECTIVE:"DIRECTIVE",DOCUMENT:"DOCUMENT",FLOW_MAP:"FLOW_MAP",FLOW_SEQ:"FLOW_SEQ",MAP:"MAP",MAP_KEY:"MAP_KEY",MAP_VALUE:"MAP_VALUE",PLAIN:"PLAIN",QUOTE_DOUBLE:"QUOTE_DOUBLE",QUOTE_SINGLE:"QUOTE_SINGLE",SEQ:"SEQ",SEQ_ITEM:"SEQ_ITEM"},dq="tag:yaml.org,2002:",pq={MAP:"tag:yaml.org,2002:map",SEQ:"tag:yaml.org,2002:seq",STR:"tag:yaml.org,2002:str"};function jx(t){let e=[0],n=t.indexOf(`
`);for(;n!==-1;)n+=1,e.push(n),n=t.indexOf(`
`,n);return e}function Gx(t){let e,n;return typeof t=="string"?(e=jx(t),n=t):(Array.isArray(t)&&(t=t[0]),t&&t.context&&(t.lineStarts||(t.lineStarts=jx(t.context.src)),e=t.lineStarts,n=t.context.src)),{lineStarts:e,src:n}}function tT(t,e){if(typeof t!="number"||t<0)return null;let{lineStarts:n,src:r}=Gx(e);if(!n||!r||t>r.length)return null;for(let s=0;s<n.length;++s){let a=n[s];if(t<a)return{line:s,col:t-n[s-1]+1};if(t===a)return{line:s+1,col:1}}let i=n.length;return{line:i,col:t-n[i-1]+1}}function hq(t,e){let{lineStarts:n,src:r}=Gx(e);if(!n||!(t>=1)||t>n.length)return null;let i=n[t-1],s=n[t];for(;s&&s>i&&r[s-1]===`
`;)--s;return r.slice(i,s)}function mq({start:t,end:e},n,r=80){let i=hq(t.line,n);if(!i)return null;let{col:s}=t;if(i.length>r)if(s<=r-10)i=i.substr(0,r-1)+"\u2026";else{let h=Math.round(r/2);i.length>s+h&&(i=i.substr(0,s+h-1)+"\u2026"),s-=i.length-r,i="\u2026"+i.substr(1-r)}let a=1,l="";e&&(e.line===t.line&&s+(e.col-t.col)<=r+1?a=e.col-t.col:(a=Math.min(i.length+1,r)-s,l="\u2026"));let u=s>1?" ".repeat(s-1):"",d="^".repeat(a);return`${i}
${u}${d}${l}`}var Ho=class{static copy(e){return new Ho(e.start,e.end)}constructor(e,n){this.start=e,this.end=n||e}isEmpty(){return typeof this.start!="number"||!this.end||this.end<=this.start}setOrigRange(e,n){let{start:r,end:i}=this;if(e.length===0||i<=e[0])return this.origStart=r,this.origEnd=i,n;let s=n;for(;s<e.length&&!(e[s]>r);)++s;this.origStart=r+s;let a=s;for(;s<e.length&&!(e[s]>=i);)++s;return this.origEnd=i+s,a}},En=class{static addStringTerminator(e,n,r){if(r[r.length-1]===`
`)return r;let i=En.endOfWhiteSpace(e,n);return i>=e.length||e[i]===`
`?r+`
`:r}static atDocumentBoundary(e,n,r){let i=e[n];if(!i)return!0;let s=e[n-1];if(s&&s!==`
`)return!1;if(r){if(i!==r)return!1}else if(i!==bs.DIRECTIVES_END&&i!==bs.DOCUMENT_END)return!1;let a=e[n+1],l=e[n+2];if(a!==i||l!==i)return!1;let u=e[n+3];return!u||u===`
`||u==="	"||u===" "}static endOfIdentifier(e,n){let r=e[n],i=r==="<",s=i?[`
`,"	"," ",">"]:[`
`,"	"," ","[","]","{","}",","];for(;r&&s.indexOf(r)===-1;)r=e[n+=1];return i&&r===">"&&(n+=1),n}static endOfIndent(e,n){let r=e[n];for(;r===" ";)r=e[n+=1];return n}static endOfLine(e,n){let r=e[n];for(;r&&r!==`
`;)r=e[n+=1];return n}static endOfWhiteSpace(e,n){let r=e[n];for(;r==="	"||r===" ";)r=e[n+=1];return n}static startOfLine(e,n){let r=e[n-1];if(r===`
`)return n;for(;r&&r!==`
`;)r=e[n-=1];return n+1}static endOfBlockIndent(e,n,r){let i=En.endOfIndent(e,r);if(i>r+n)return i;{let s=En.endOfWhiteSpace(e,i),a=e[s];if(!a||a===`
`)return s}return null}static atBlank(e,n,r){let i=e[n];return i===`
`||i==="	"||i===" "||r&&!i}static nextNodeIsIndented(e,n,r){return!e||n<0?!1:n>0?!0:r&&e==="-"}static normalizeOffset(e,n){let r=e[n];return r?r!==`
`&&e[n-1]===`
`?n-1:En.endOfWhiteSpace(e,n):n}static foldNewline(e,n,r){let i=0,s=!1,a="",l=e[n+1];for(;l===" "||l==="	"||l===`
`;){switch(l){case`
`:i=0,n+=1,a+=`
`;break;case"	":i<=r&&(s=!0),n=En.endOfWhiteSpace(e,n+2)-1;break;case" ":i+=1,n+=1;break}l=e[n+1]}return a||(a=" "),l&&i<=r&&(s=!0),{fold:a,offset:n,error:s}}constructor(e,n,r){Object.defineProperty(this,"context",{value:r||null,writable:!0}),this.error=null,this.range=null,this.valueRange=null,this.props=n||[],this.type=e,this.value=null}getPropValue(e,n,r){if(!this.context)return null;let{src:i}=this.context,s=this.props[e];return s&&i[s.start]===n?i.slice(s.start+(r?1:0),s.end):null}get anchor(){for(let e=0;e<this.props.length;++e){let n=this.getPropValue(e,bs.ANCHOR,!0);if(n!=null)return n}return null}get comment(){let e=[];for(let n=0;n<this.props.length;++n){let r=this.getPropValue(n,bs.COMMENT,!0);r!=null&&e.push(r)}return e.length>0?e.join(`
`):null}commentHasRequiredWhitespace(e){let{src:n}=this.context;if(this.header&&e===this.header.end||!this.valueRange)return!1;let{end:r}=this.valueRange;return e!==r||En.atBlank(n,r-1)}get hasComment(){if(this.context){let{src:e}=this.context;for(let n=0;n<this.props.length;++n)if(e[this.props[n].start]===bs.COMMENT)return!0}return!1}get hasProps(){if(this.context){let{src:e}=this.context;for(let n=0;n<this.props.length;++n)if(e[this.props[n].start]!==bs.COMMENT)return!0}return!1}get includesTrailingLines(){return!1}get jsonLike(){return[Bc.FLOW_MAP,Bc.FLOW_SEQ,Bc.QUOTE_DOUBLE,Bc.QUOTE_SINGLE].indexOf(this.type)!==-1}get rangeAsLinePos(){if(!this.range||!this.context)return;let e=tT(this.range.start,this.context.root);if(!e)return;let n=tT(this.range.end,this.context.root);return{start:e,end:n}}get rawValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange;return this.context.src.slice(e,n)}get tag(){for(let e=0;e<this.props.length;++e){let n=this.getPropValue(e,bs.TAG,!1);if(n!=null){if(n[1]==="<")return{verbatim:n.slice(2,-1)};{let[r,i,s]=n.match(/^(.*!)([^!]*)$/);return{handle:i,suffix:s}}}}return null}get valueRangeContainsNewline(){if(!this.valueRange||!this.context)return!1;let{start:e,end:n}=this.valueRange,{src:r}=this.context;for(let i=e;i<n;++i)if(r[i]===`
`)return!0;return!1}parseComment(e){let{src:n}=this.context;if(n[e]===bs.COMMENT){let r=En.endOfLine(n,e+1),i=new Ho(e,r);return this.props.push(i),r}return e}setOrigRanges(e,n){return this.range&&(n=this.range.setOrigRange(e,n)),this.valueRange&&this.valueRange.setOrigRange(e,n),this.props.forEach(r=>r.setOrigRange(e,n)),n}toString(){let{context:{src:e},range:n,value:r}=this;if(r!=null)return r;let i=e.slice(n.start,n.end);return En.addStringTerminator(e,n.end,i)}},ml=class extends Error{constructor(e,n,r){if(!r||!(n instanceof En))throw new Error(`Invalid arguments for new ${e}`);super();this.name=e,this.message=r,this.source=n}makePretty(){if(!this.source)return;this.nodeType=this.source.type;let e=this.source.context&&this.source.context.root;if(typeof this.offset=="number"){this.range=new Ho(this.offset,this.offset+1);let n=e&&tT(this.offset,e);if(n){let r={line:n.line,col:n.col+1};this.linePos={start:n,end:r}}delete this.offset}else this.range=this.source.range,this.linePos=this.source.rangeAsLinePos;if(this.linePos){let{line:n,col:r}=this.linePos.start;this.message+=` at line ${n}, column ${r}`;let i=e&&mq(this.linePos,e);i&&(this.message+=`:

${i}
`)}delete this.source}},Wx=class extends ml{constructor(e,n){super("YAMLReferenceError",e,n)}},Nd=class extends ml{constructor(e,n){super("YAMLSemanticError",e,n)}},Hx=class extends ml{constructor(e,n){super("YAMLSyntaxError",e,n)}},Yx=class extends ml{constructor(e,n){super("YAMLWarning",e,n)}};function gq(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qc=class extends En{static endOfLine(e,n,r){let i=e[n],s=n;for(;i&&i!==`
`&&!(r&&(i==="["||i==="]"||i==="{"||i==="}"||i===","));){let a=e[s+1];if(i===":"&&(!a||a===`
`||a==="	"||a===" "||r&&a===",")||(i===" "||i==="	")&&a==="#")break;s+=1,i=a}return s}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange,{src:r}=this.context,i=r[n-1];for(;e<n&&(i===`
`||i==="	"||i===" ");)i=r[--n-1];let s="";for(let l=e;l<n;++l){let u=r[l];if(u===`
`){let{fold:d,offset:h}=En.foldNewline(r,l,-1);s+=d,l=h}else if(u===" "||u==="	"){let d=l,h=r[l+1];for(;l<n&&(h===" "||h==="	");)l+=1,h=r[l+1];h!==`
`&&(s+=l>d?r.slice(d,l+1):u)}else s+=u}let a=r[e];switch(a){case"	":{let l="Plain value cannot start with a tab character";return{errors:[new Nd(this,l)],str:s}}case"@":case"`":{let l=`Plain value cannot start with reserved character ${a}`;return{errors:[new Nd(this,l)],str:s}}default:return s}}parseBlockValue(e){let{indent:n,inFlow:r,src:i}=this.context,s=e,a=e;for(let l=i[s];l===`
`&&!En.atDocumentBoundary(i,s+1);l=i[s]){let u=En.endOfBlockIndent(i,n,s+1);if(u===null||i[u]==="#")break;i[u]===`
`?s=u:(a=qc.endOfLine(i,u,r),s=a)}return this.valueRange.isEmpty()&&(this.valueRange.start=e),this.valueRange.end=a,a}parse(e,n){this.context=e;let{inFlow:r,src:i}=e,s=n,a=i[s];return a&&a!=="#"&&a!==`
`&&(s=qc.endOfLine(i,n,r)),this.valueRange=new Ho(n,s),s=En.endOfWhiteSpace(i,s),s=this.parseComment(s),(!this.hasComment||this.valueRange.isEmpty())&&(s=this.parseBlockValue(s)),s}};or.Char=bs;or.Node=En;or.PlainValue=qc;or.Range=Ho;or.Type=Bc;or.YAMLError=ml;or.YAMLReferenceError=Wx;or.YAMLSemanticError=Nd;or.YAMLSyntaxError=Hx;or.YAMLWarning=Yx;or._defineProperty=gq;or.defaultTagPrefix=dq;or.defaultTags=pq});var Jx=_e(Xx=>{"use strict";var K=to(),gl=class extends K.Node{constructor(){super(K.Type.BLANK_LINE)}get includesTrailingLines(){return!0}parse(e,n){return this.context=e,this.range=new K.Range(n,n+1),n+1}},bd=class extends K.Node{constructor(e,n){super(e,n);this.node=null}get includesTrailingLines(){return!!this.node&&this.node.includesTrailingLines}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,{atLineStart:s,lineStart:a}=e;!s&&this.type===K.Type.SEQ_ITEM&&(this.error=new K.YAMLSemanticError(this,"Sequence items must not have preceding content on the same line"));let l=s?n-a:e.indent,u=K.Node.endOfWhiteSpace(i,n+1),d=i[u],h=d==="#",g=[],N=null;for(;d===`
`||d==="#";){if(d==="#"){let T=K.Node.endOfLine(i,u+1);g.push(new K.Range(u,T)),u=T}else{s=!0,a=u+1;let T=K.Node.endOfWhiteSpace(i,a);i[T]===`
`&&g.length===0&&(N=new gl,a=N.parse({src:i},a)),u=K.Node.endOfIndent(i,a)}d=i[u]}if(K.Node.nextNodeIsIndented(d,u-(a+l),this.type!==K.Type.SEQ_ITEM)?this.node=r({atLineStart:s,inCollection:!1,indent:l,lineStart:a,parent:this},u):d&&a>n+1&&(u=a-1),this.node){if(N){let T=e.parent.items||e.parent.contents;T&&T.push(N)}g.length&&Array.prototype.push.apply(this.props,g),u=this.node.range.end}else if(h){let T=g[0];this.props.push(T),u=T.end}else u=K.Node.endOfLine(i,n+1);let y=this.node?this.node.valueRange.end:u;return this.valueRange=new K.Range(n,y),u}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.node?this.node.setOrigRanges(e,n):n}toString(){let{context:{src:e},node:n,range:r,value:i}=this;if(i!=null)return i;let s=n?e.slice(r.start,n.range.start)+String(n):e.slice(r.start,r.end);return K.Node.addStringTerminator(e,r.end,s)}},Tl=class extends K.Node{constructor(){super(K.Type.COMMENT)}parse(e,n){this.context=e;let r=this.parseComment(n);return this.range=new K.Range(n,r),r}};function nT(t){let e=t;for(;e instanceof bd;)e=e.node;if(!(e instanceof _l))return null;let n=e.items.length,r=-1;for(let a=n-1;a>=0;--a){let l=e.items[a];if(l.type===K.Type.COMMENT){let{indent:u,lineStart:d}=l.context;if(u>0&&l.range.start>=d+u)break;r=a}else if(l.type===K.Type.BLANK_LINE)r=a;else break}if(r===-1)return null;let i=e.items.splice(r,n-r),s=i[0].range.start;for(;e.range.end=s,e.valueRange&&e.valueRange.end>s&&(e.valueRange.end=s),e!==t;)e=e.context.parent;return i}var _l=class extends K.Node{static nextContentHasIndent(e,n,r){let i=K.Node.endOfLine(e,n)+1;n=K.Node.endOfWhiteSpace(e,i);let s=e[n];return s?n>=i+r?!0:s!=="#"&&s!==`
`?!1:_l.nextContentHasIndent(e,n,r):!1}constructor(e){super(e.type===K.Type.SEQ_ITEM?K.Type.SEQ:K.Type.MAP);for(let r=e.props.length-1;r>=0;--r)if(e.props[r].start<e.context.lineStart){this.props=e.props.slice(0,r+1),e.props=e.props.slice(r+1);let i=e.props[0]||e.valueRange;e.range.start=i.start;break}this.items=[e];let n=nT(e);n&&Array.prototype.push.apply(this.items,n)}get includesTrailingLines(){return this.items.length>0}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,s=K.Node.startOfLine(i,n),a=this.items[0];a.context.parent=this,this.valueRange=K.Range.copy(a.valueRange);let l=a.range.start-a.context.lineStart,u=n;u=K.Node.normalizeOffset(i,u);let d=i[u],h=K.Node.endOfWhiteSpace(i,s)===u,g=!1;for(;d;){for(;d===`
`||d==="#";){if(h&&d===`
`&&!g){let T=new gl;if(u=T.parse({src:i},u),this.valueRange.end=u,u>=i.length){d=null;break}this.items.push(T),u-=1}else if(d==="#"){if(u<s+l&&!_l.nextContentHasIndent(i,u,l))return u;let T=new Tl;if(u=T.parse({indent:l,lineStart:s,src:i},u),this.items.push(T),this.valueRange.end=u,u>=i.length){d=null;break}}if(s=u+1,u=K.Node.endOfIndent(i,s),K.Node.atBlank(i,u)){let T=K.Node.endOfWhiteSpace(i,u),C=i[T];(!C||C===`
`||C==="#")&&(u=T)}d=i[u],h=!0}if(!d)break;if(u!==s+l&&(h||d!==":")){if(u<s+l){s>n&&(u=s);break}else if(!this.error){let T="All collection items must start at the same column";this.error=new K.YAMLSyntaxError(this,T)}}if(a.type===K.Type.SEQ_ITEM){if(d!=="-"){s>n&&(u=s);break}}else if(d==="-"&&!this.error){let T=i[u+1];if(!T||T===`
`||T==="	"||T===" "){let C="A collection cannot be both a mapping and a sequence";this.error=new K.YAMLSyntaxError(this,C)}}let N=r({atLineStart:h,inCollection:!0,indent:l,lineStart:s,parent:this},u);if(!N)return u;if(this.items.push(N),this.valueRange.end=N.valueRange.end,u=K.Node.normalizeOffset(i,N.range.end),d=i[u],h=!1,g=N.includesTrailingLines,d){let T=u-1,C=i[T];for(;C===" "||C==="	";)C=i[--T];C===`
`&&(s=T+1,h=!0)}let y=nT(N);y&&Array.prototype.push.apply(this.items,y)}return u}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.items.forEach(r=>{n=r.setOrigRanges(e,n)}),n}toString(){let{context:{src:e},items:n,range:r,value:i}=this;if(i!=null)return i;let s=e.slice(r.start,n[0].range.start)+String(n[0]);for(let a=1;a<n.length;++a){let l=n[a],{atLineStart:u,indent:d}=l.context;if(u)for(let h=0;h<d;++h)s+=" ";s+=String(l)}return K.Node.addStringTerminator(e,r.end,s)}},Kx=class extends K.Node{constructor(){super(K.Type.DIRECTIVE);this.name=null}get parameters(){let e=this.rawValue;return e?e.trim().split(/[ \t]+/):[]}parseName(e){let{src:n}=this.context,r=e,i=n[r];for(;i&&i!==`
`&&i!=="	"&&i!==" ";)i=n[r+=1];return this.name=n.slice(e,r),r}parseParameters(e){let{src:n}=this.context,r=e,i=n[r];for(;i&&i!==`
`&&i!=="#";)i=n[r+=1];return this.valueRange=new K.Range(e,r),r}parse(e,n){this.context=e;let r=this.parseName(n+1);return r=this.parseParameters(r),r=this.parseComment(r),this.range=new K.Range(n,r),r}},Uc=class extends K.Node{static startCommentOrEndBlankLine(e,n){let r=K.Node.endOfWhiteSpace(e,n),i=e[r];return i==="#"||i===`
`?r:n}constructor(){super(K.Type.DOCUMENT);this.directives=null,this.contents=null,this.directivesEndMarker=null,this.documentEndMarker=null}parseDirectives(e){let{src:n}=this.context;this.directives=[];let r=!0,i=!1,s=e;for(;!K.Node.atDocumentBoundary(n,s,K.Char.DIRECTIVES_END);)switch(s=Uc.startCommentOrEndBlankLine(n,s),n[s]){case`
`:if(r){let a=new gl;s=a.parse({src:n},s),s<n.length&&this.directives.push(a)}else s+=1,r=!0;break;case"#":{let a=new Tl;s=a.parse({src:n},s),this.directives.push(a),r=!1}break;case"%":{let a=new Kx;s=a.parse({parent:this,src:n},s),this.directives.push(a),i=!0,r=!1}break;default:return i?this.error=new K.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s}return n[s]?(this.directivesEndMarker=new K.Range(s,s+3),s+3):(i?this.error=new K.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s)}parseContents(e){let{parseNode:n,src:r}=this.context;this.contents||(this.contents=[]);let i=e;for(;r[i-1]==="-";)i-=1;let s=K.Node.endOfWhiteSpace(r,e),a=i===e;for(this.valueRange=new K.Range(s);!K.Node.atDocumentBoundary(r,s,K.Char.DOCUMENT_END);){switch(r[s]){case`
`:if(a){let l=new gl;s=l.parse({src:r},s),s<r.length&&this.contents.push(l)}else s+=1,a=!0;i=s;break;case"#":{let l=new Tl;s=l.parse({src:r},s),this.contents.push(l),a=!1}break;default:{let l=K.Node.endOfIndent(r,s),d=n({atLineStart:a,indent:-1,inFlow:!1,inCollection:!1,lineStart:i,parent:this},l);if(!d)return this.valueRange.end=l;this.contents.push(d),s=d.range.end,a=!1;let h=nT(d);h&&Array.prototype.push.apply(this.contents,h)}}s=Uc.startCommentOrEndBlankLine(r,s)}if(this.valueRange.end=s,r[s]&&(this.documentEndMarker=new K.Range(s,s+3),s+=3,r[s])){if(s=K.Node.endOfWhiteSpace(r,s),r[s]==="#"){let l=new Tl;s=l.parse({src:r},s),this.contents.push(l)}switch(r[s]){case`
`:s+=1;break;case void 0:break;default:this.error=new K.YAMLSyntaxError(this,"Document end marker line cannot have a non-comment suffix")}}return s}parse(e,n){e.root=this,this.context=e;let{src:r}=e,i=r.charCodeAt(n)===65279?n+1:n;return i=this.parseDirectives(i),i=this.parseContents(i),i}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.directives.forEach(r=>{n=r.setOrigRanges(e,n)}),this.directivesEndMarker&&(n=this.directivesEndMarker.setOrigRange(e,n)),this.contents.forEach(r=>{n=r.setOrigRanges(e,n)}),this.documentEndMarker&&(n=this.documentEndMarker.setOrigRange(e,n)),n}toString(){let{contents:e,directives:n,value:r}=this;if(r!=null)return r;let i=n.join("");return e.length>0&&((n.length>0||e[0].type===K.Type.COMMENT)&&(i+=`---
`),i+=e.join("")),i[i.length-1]!==`
`&&(i+=`
`),i}},$x=class extends K.Node{parse(e,n){this.context=e;let{src:r}=e,i=K.Node.endOfIdentifier(r,n+1);return this.valueRange=new K.Range(n+1,i),i=K.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i}},no={CLIP:"CLIP",KEEP:"KEEP",STRIP:"STRIP"},zx=class extends K.Node{constructor(e,n){super(e,n);this.blockIndent=null,this.chomping=no.CLIP,this.header=null}get includesTrailingLines(){return this.chomping===no.KEEP}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange,{indent:r,src:i}=this.context;if(this.valueRange.isEmpty())return"";let s=null,a=i[n-1];for(;a===`
`||a==="	"||a===" ";){if(n-=1,n<=e){if(this.chomping===no.KEEP)break;return""}a===`
`&&(s=n),a=i[n-1]}let l=n+1;s&&(this.chomping===no.KEEP?(l=s,n=this.valueRange.end):n=s);let u=r+this.blockIndent,d=this.type===K.Type.BLOCK_FOLDED,h=!0,g="",N="",y=!1;for(let T=e;T<n;++T){for(let D=0;D<u&&i[T]===" ";++D)T+=1;let C=i[T];if(C===`
`)N===`
`?g+=`
`:N=`
`;else{let D=K.Node.endOfLine(i,T),_=i.slice(T,D);T=D,d&&(C===" "||C==="	")&&T<l?(N===" "?N=`
`:!y&&!h&&N===`
`&&(N=`

`),g+=N+_,N=D<n&&i[D]||"",y=!0):(g+=N+_,N=d&&T<l?" ":`
`,y=!1),h&&_!==""&&(h=!1)}}return this.chomping===no.STRIP?g:g+`
`}parseBlockHeader(e){let{src:n}=this.context,r=e+1,i="";for(;;){let s=n[r];switch(s){case"-":this.chomping=no.STRIP;break;case"+":this.chomping=no.KEEP;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":i+=s;break;default:return this.blockIndent=Number(i)||null,this.header=new K.Range(e,r),r}r+=1}}parseBlockValue(e){let{indent:n,src:r}=this.context,i=!!this.blockIndent,s=e,a=e,l=1;for(let u=r[s];u===`
`&&(s+=1,!K.Node.atDocumentBoundary(r,s));u=r[s]){let d=K.Node.endOfBlockIndent(r,n,s);if(d===null)break;let h=r[d],g=d-(s+n);if(this.blockIndent){if(h&&h!==`
`&&g<this.blockIndent){if(r[d]==="#")break;if(!this.error){let y=`Block scalars must not be less indented than their ${i?"explicit indentation indicator":"first line"}`;this.error=new K.YAMLSemanticError(this,y)}}}else if(r[d]!==`
`){if(g<l){let N="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";this.error=new K.YAMLSemanticError(this,N)}this.blockIndent=g}else g>l&&(l=g);r[d]===`
`?s=d:s=a=K.Node.endOfLine(r,d)}return this.chomping!==no.KEEP&&(s=r[a]?a+1:a),this.valueRange=new K.Range(e+1,s),s}parse(e,n){this.context=e;let{src:r}=e,i=this.parseBlockHeader(n);return i=K.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i=this.parseBlockValue(i),i}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.header?this.header.setOrigRange(e,n):n}},Qx=class extends K.Node{constructor(e,n){super(e,n);this.items=null}prevNodeIsJsonLike(e=this.items.length){let n=this.items[e-1];return!!n&&(n.jsonLike||n.type===K.Type.COMMENT&&this.prevNodeIsJsonLike(e-1))}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,{indent:s,lineStart:a}=e,l=i[n];this.items=[{char:l,offset:n}];let u=K.Node.endOfWhiteSpace(i,n+1);for(l=i[u];l&&l!=="]"&&l!=="}";){switch(l){case`
`:{a=u+1;let d=K.Node.endOfWhiteSpace(i,a);if(i[d]===`
`){let h=new gl;a=h.parse({src:i},a),this.items.push(h)}if(u=K.Node.endOfIndent(i,a),u<=a+s&&(l=i[u],u<a+s||l!=="]"&&l!=="}")){let h="Insufficient indentation in flow collection";this.error=new K.YAMLSemanticError(this,h)}}break;case",":this.items.push({char:l,offset:u}),u+=1;break;case"#":{let d=new Tl;u=d.parse({src:i},u),this.items.push(d)}break;case"?":case":":{let d=i[u+1];if(d===`
`||d==="	"||d===" "||d===","||l===":"&&this.prevNodeIsJsonLike()){this.items.push({char:l,offset:u}),u+=1;break}}default:{let d=r({atLineStart:!1,inCollection:!1,inFlow:!0,indent:-1,lineStart:a,parent:this},u);if(!d)return this.valueRange=new K.Range(n,u),u;this.items.push(d),u=K.Node.normalizeOffset(i,d.range.end)}}u=K.Node.endOfWhiteSpace(i,u),l=i[u]}return this.valueRange=new K.Range(n,u+1),l&&(this.items.push({char:l,offset:u}),u=K.Node.endOfWhiteSpace(i,u+1),u=this.parseComment(u)),u}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.items.forEach(r=>{if(r instanceof K.Node)n=r.setOrigRanges(e,n);else if(e.length===0)r.origOffset=r.offset;else{let i=n;for(;i<e.length&&!(e[i]>r.offset);)++i;r.origOffset=r.offset+i,n=i}}),n}toString(){let{context:{src:e},items:n,range:r,value:i}=this;if(i!=null)return i;let s=n.filter(u=>u instanceof K.Node),a="",l=r.start;return s.forEach(u=>{let d=e.slice(l,u.range.start);l=u.range.end,a+=d+String(u),a[a.length-1]===`
`&&e[l-1]!==`
`&&e[l]===`
`&&(l+=1)}),a+=e.slice(l,r.end),K.Node.addStringTerminator(e,r.end,a)}},vd=class extends K.Node{static endOfQuote(e,n){let r=e[n];for(;r&&r!=='"';)n+=r==="\\"?2:1,r=e[n];return n+1}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:n,end:r}=this.valueRange,{indent:i,src:s}=this.context;s[r-1]!=='"'&&e.push(new K.YAMLSyntaxError(this,'Missing closing "quote'));let a="";for(let l=n+1;l<r-1;++l){let u=s[l];if(u===`
`){K.Node.atDocumentBoundary(s,l+1)&&e.push(new K.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:d,offset:h,error:g}=K.Node.foldNewline(s,l,i);a+=d,l=h,g&&e.push(new K.YAMLSemanticError(this,"Multi-line double-quoted string needs to be sufficiently indented"))}else if(u==="\\")switch(l+=1,s[l]){case"0":a+="\0";break;case"a":a+="\x07";break;case"b":a+="\b";break;case"e":a+="\x1B";break;case"f":a+="\f";break;case"n":a+=`
`;break;case"r":a+="\r";break;case"t":a+="	";break;case"v":a+="\v";break;case"N":a+="\x85";break;case"_":a+="\xA0";break;case"L":a+="\u2028";break;case"P":a+="\u2029";break;case" ":a+=" ";break;case'"':a+='"';break;case"/":a+="/";break;case"\\":a+="\\";break;case"	":a+="	";break;case"x":a+=this.parseCharCode(l+1,2,e),l+=2;break;case"u":a+=this.parseCharCode(l+1,4,e),l+=4;break;case"U":a+=this.parseCharCode(l+1,8,e),l+=8;break;case`
`:for(;s[l+1]===" "||s[l+1]==="	";)l+=1;break;default:e.push(new K.YAMLSyntaxError(this,`Invalid escape sequence ${s.substr(l-1,2)}`)),a+="\\"+s[l]}else if(u===" "||u==="	"){let d=l,h=s[l+1];for(;h===" "||h==="	";)l+=1,h=s[l+1];h!==`
`&&(a+=l>d?s.slice(d,l+1):u)}else a+=u}return e.length>0?{errors:e,str:a}:a}parseCharCode(e,n,r){let{src:i}=this.context,s=i.substr(e,n),l=s.length===n&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;return isNaN(l)?(r.push(new K.YAMLSyntaxError(this,`Invalid escape sequence ${i.substr(e-2,n+2)}`)),i.substr(e-2,n+2)):String.fromCodePoint(l)}parse(e,n){this.context=e;let{src:r}=e,i=vd.endOfQuote(r,n+1);return this.valueRange=new K.Range(n,i),i=K.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i}},Id=class extends K.Node{static endOfQuote(e,n){let r=e[n];for(;r;)if(r==="'"){if(e[n+1]!=="'")break;r=e[n+=2]}else r=e[n+=1];return n+1}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:n,end:r}=this.valueRange,{indent:i,src:s}=this.context;s[r-1]!=="'"&&e.push(new K.YAMLSyntaxError(this,"Missing closing 'quote"));let a="";for(let l=n+1;l<r-1;++l){let u=s[l];if(u===`
`){K.Node.atDocumentBoundary(s,l+1)&&e.push(new K.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:d,offset:h,error:g}=K.Node.foldNewline(s,l,i);a+=d,l=h,g&&e.push(new K.YAMLSemanticError(this,"Multi-line single-quoted string needs to be sufficiently indented"))}else if(u==="'")a+=u,l+=1,s[l]!=="'"&&e.push(new K.YAMLSyntaxError(this,"Unescaped single quote? This should not happen."));else if(u===" "||u==="	"){let d=l,h=s[l+1];for(;h===" "||h==="	";)l+=1,h=s[l+1];h!==`
`&&(a+=l>d?s.slice(d,l+1):u)}else a+=u}return e.length>0?{errors:e,str:a}:a}parse(e,n){this.context=e;let{src:r}=e,i=Id.endOfQuote(r,n+1);return this.valueRange=new K.Range(n,i),i=K.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i}};function Tq(t,e){switch(t){case K.Type.ALIAS:return new $x(t,e);case K.Type.BLOCK_FOLDED:case K.Type.BLOCK_LITERAL:return new zx(t,e);case K.Type.FLOW_MAP:case K.Type.FLOW_SEQ:return new Qx(t,e);case K.Type.MAP_KEY:case K.Type.MAP_VALUE:case K.Type.SEQ_ITEM:return new bd(t,e);case K.Type.COMMENT:case K.Type.PLAIN:return new K.PlainValue(t,e);case K.Type.QUOTE_DOUBLE:return new vd(t,e);case K.Type.QUOTE_SINGLE:return new Id(t,e);default:return null}}var yl=class{static parseType(e,n,r){switch(e[n]){case"*":return K.Type.ALIAS;case">":return K.Type.BLOCK_FOLDED;case"|":return K.Type.BLOCK_LITERAL;case"{":return K.Type.FLOW_MAP;case"[":return K.Type.FLOW_SEQ;case"?":return!r&&K.Node.atBlank(e,n+1,!0)?K.Type.MAP_KEY:K.Type.PLAIN;case":":return!r&&K.Node.atBlank(e,n+1,!0)?K.Type.MAP_VALUE:K.Type.PLAIN;case"-":return!r&&K.Node.atBlank(e,n+1,!0)?K.Type.SEQ_ITEM:K.Type.PLAIN;case'"':return K.Type.QUOTE_DOUBLE;case"'":return K.Type.QUOTE_SINGLE;default:return K.Type.PLAIN}}constructor(e={},{atLineStart:n,inCollection:r,inFlow:i,indent:s,lineStart:a,parent:l}={}){K._defineProperty(this,"parseNode",(u,d)=>{if(K.Node.atDocumentBoundary(this.src,d))return null;let h=new yl(this,u),{props:g,type:N,valueStart:y}=h.parseProps(d),T=Tq(N,g),C=T.parse(h,y);if(T.range=new K.Range(d,C),C<=d&&(T.error=new Error("Node#parse consumed no characters"),T.error.parseEnd=C,T.error.source=T,T.range.end=d+1),h.nodeStartsCollection(T)){!T.error&&!h.atLineStart&&h.parent.type===K.Type.DOCUMENT&&(T.error=new K.YAMLSyntaxError(T,"Block collection must not have preceding content here (e.g. directives-end indicator)"));let D=new _l(T);return C=D.parse(new yl(h),C),D.range=new K.Range(d,C),D}return T}),this.atLineStart=n??(e.atLineStart||!1),this.inCollection=r??(e.inCollection||!1),this.inFlow=i??(e.inFlow||!1),this.indent=s??e.indent,this.lineStart=a??e.lineStart,this.parent=l??(e.parent||{}),this.root=e.root,this.src=e.src}nodeStartsCollection(e){let{inCollection:n,inFlow:r,src:i}=this;if(n||r)return!1;if(e instanceof bd)return!0;let s=e.range.end;return i[s]===`
`||i[s-1]===`
`?!1:(s=K.Node.endOfWhiteSpace(i,s),i[s]===":")}parseProps(e){let{inFlow:n,parent:r,src:i}=this,s=[],a=!1;e=this.atLineStart?K.Node.endOfIndent(i,e):K.Node.endOfWhiteSpace(i,e);let l=i[e];for(;l===K.Char.ANCHOR||l===K.Char.COMMENT||l===K.Char.TAG||l===`
`;){if(l===`
`){let d=e,h;do h=d+1,d=K.Node.endOfIndent(i,h);while(i[d]===`
`);let g=d-(h+this.indent),N=r.type===K.Type.SEQ_ITEM&&r.context.atLineStart;if(i[d]!=="#"&&!K.Node.nextNodeIsIndented(i[d],g,!N))break;this.atLineStart=!0,this.lineStart=h,a=!1,e=d}else if(l===K.Char.COMMENT){let d=K.Node.endOfLine(i,e+1);s.push(new K.Range(e,d)),e=d}else{let d=K.Node.endOfIdentifier(i,e+1);l===K.Char.TAG&&i[d]===","&&/^[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+,\d\d\d\d(-\d\d){0,2}\/\S/.test(i.slice(e+1,d+13))&&(d=K.Node.endOfIdentifier(i,d+5)),s.push(new K.Range(e,d)),a=!0,e=K.Node.endOfWhiteSpace(i,d)}l=i[e]}a&&l===":"&&K.Node.atBlank(i,e+1,!0)&&(e-=1);let u=yl.parseType(i,e,n);return{props:s,type:u,valueStart:e}}};function _q(t){let e=[];t.indexOf("\r")!==-1&&(t=t.replace(/\r\n?/g,(i,s)=>(i.length>1&&e.push(s),`
`)));let n=[],r=0;do{let i=new Uc,s=new yl({src:t});r=i.parse(s,r),n.push(i)}while(r<t.length);return n.setOrigRanges=()=>{if(e.length===0)return!1;for(let s=1;s<e.length;++s)e[s]-=s;let i=0;for(let s=0;s<n.length;++s)i=n[s].setOrigRanges(e,i);return e.splice(0,e.length),!0},n.toString=()=>n.join(`...
`),n}Xx.parse=_q});var bl=_e(Vt=>{"use strict";var X=to();function yq(t,e,n){return n?`#${n.replace(/[\s\S]^/gm,`$&${e}#`)}
${e}${t}`:t}function Nl(t,e,n){return n?n.indexOf(`
`)===-1?`${t} #${n}`:`${t}
`+n.replace(/^/gm,`${e||""}#`):t}var Qr=class{};function ro(t,e,n){if(Array.isArray(t))return t.map((r,i)=>ro(r,String(i),n));if(t&&typeof t.toJSON=="function"){let r=n&&n.anchors&&n.anchors.get(t);r&&(n.onCreate=s=>{r.res=s,delete n.onCreate});let i=t.toJSON(e,n);return r&&n.onCreate&&n.onCreate(i),i}return(!n||!n.keep)&&typeof t=="bigint"?Number(t):t}var Yn=class extends Qr{constructor(e){super();this.value=e}toJSON(e,n){return n&&n.keep?this.value:ro(this.value,e,n)}toString(){return String(this.value)}};function Zx(t,e,n){let r=n;for(let i=e.length-1;i>=0;--i){let s=e[i];if(Number.isInteger(s)&&s>=0){let a=[];a[s]=r,r=a}else{let a={};Object.defineProperty(a,s,{value:r,writable:!0,enumerable:!0,configurable:!0}),r=a}}return t.createNode(r,!1)}var eR=t=>t==null||typeof t=="object"&&t[Symbol.iterator]().next().done,dn=class extends Qr{constructor(e){super();X._defineProperty(this,"items",[]),this.schema=e}addIn(e,n){if(eR(e))this.add(n);else{let[r,...i]=e,s=this.get(r,!0);if(s instanceof dn)s.addIn(i,n);else if(s===void 0&&this.schema)this.set(r,Zx(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn([e,...n]){if(n.length===0)return this.delete(e);let r=this.get(e,!0);if(r instanceof dn)return r.deleteIn(n);throw new Error(`Expected YAML collection at ${e}. Remaining path: ${n}`)}getIn([e,...n],r){let i=this.get(e,!0);return n.length===0?!r&&i instanceof Yn?i.value:i:i instanceof dn?i.getIn(n,r):void 0}hasAllNullValues(){return this.items.every(e=>{if(!e||e.type!=="PAIR")return!1;let n=e.value;return n==null||n instanceof Yn&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn([e,...n]){if(n.length===0)return this.has(e);let r=this.get(e,!0);return r instanceof dn?r.hasIn(n):!1}setIn([e,...n],r){if(n.length===0)this.set(e,r);else{let i=this.get(e,!0);if(i instanceof dn)i.setIn(n,r);else if(i===void 0&&this.schema)this.set(e,Zx(this.schema,n,r));else throw new Error(`Expected YAML collection at ${e}. Remaining path: ${n}`)}}toJSON(){return null}toString(e,{blockItem:n,flowChars:r,isMap:i,itemIndent:s},a,l){let{indent:u,indentStep:d,stringify:h}=e,g=this.type===X.Type.FLOW_MAP||this.type===X.Type.FLOW_SEQ||e.inFlow;g&&(s+=d);let N=i&&this.hasAllNullValues();e=Object.assign({},e,{allNullValues:N,indent:s,inFlow:g,type:null});let y=!1,T=!1,C=this.items.reduce((_,A,b)=>{let S;A&&(!y&&A.spaceBefore&&_.push({type:"comment",str:""}),A.commentBefore&&A.commentBefore.match(/^.*$/gm).forEach(J=>{_.push({type:"comment",str:`#${J}`})}),A.comment&&(S=A.comment),g&&(!y&&A.spaceBefore||A.commentBefore||A.comment||A.key&&(A.key.commentBefore||A.key.comment)||A.value&&(A.value.commentBefore||A.value.comment))&&(T=!0)),y=!1;let w=h(A,e,()=>S=null,()=>y=!0);return g&&!T&&w.includes(`
`)&&(T=!0),g&&b<this.items.length-1&&(w+=","),w=Nl(w,s,S),y&&(S||g)&&(y=!1),_.push({type:"item",str:w}),_},[]),D;if(C.length===0)D=r.start+r.end;else if(g){let{start:_,end:A}=r,b=C.map(S=>S.str);if(T||b.reduce((S,w)=>S+w.length+2,2)>dn.maxFlowStringSingleLineLength){D=_;for(let S of b)D+=S?`
${d}${u}${S}`:`
`;D+=`
${u}${A}`}else D=`${_} ${b.join(" ")} ${A}`}else{let _=C.map(n);D=_.shift();for(let A of _)D+=A?`
${u}${A}`:`
`}return this.comment?(D+=`
`+this.comment.replace(/^/gm,`${u}#`),a&&a()):y&&l&&l(),D}};X._defineProperty(dn,"maxFlowStringSingleLineLength",60);function Pd(t){let e=t instanceof Yn?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),Number.isInteger(e)&&e>=0?e:null}var Yo=class extends dn{add(e){this.items.push(e)}delete(e){let n=Pd(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){let r=Pd(e);if(typeof r!="number")return;let i=this.items[r];return!n&&i instanceof Yn?i.value:i}has(e){let n=Pd(e);return typeof n=="number"&&n<this.items.length}set(e,n){let r=Pd(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);this.items[r]=n}toJSON(e,n){let r=[];n&&n.onCreate&&n.onCreate(r);let i=0;for(let s of this.items)r.push(ro(s,String(i++),n));return r}toString(e,n,r){return e?super.toString(e,{blockItem:i=>i.type==="comment"?i.str:`- ${i.str}`,flowChars:{start:"[",end:"]"},isMap:!1,itemIndent:(e.indent||"")+"  "},n,r):JSON.stringify(this)}},Nq=(t,e,n)=>e===null?"":typeof e!="object"?String(e):t instanceof Qr&&n&&n.doc?t.toString({anchors:Object.create(null),doc:n.doc,indent:"",indentStep:n.indentStep,inFlow:!0,inStringifyKey:!0,stringify:n.stringify}):JSON.stringify(e),It=class extends Qr{constructor(e,n=null){super();this.key=e,this.value=n,this.type=It.Type.PAIR}get commentBefore(){return this.key instanceof Qr?this.key.commentBefore:void 0}set commentBefore(e){if(this.key==null&&(this.key=new Yn(null)),this.key instanceof Qr)this.key.commentBefore=e;else{let n="Pair.commentBefore is an alias for Pair.key.commentBefore. To set it, the key must be a Node.";throw new Error(n)}}addToJSMap(e,n){let r=ro(this.key,"",e);if(n instanceof Map){let i=ro(this.value,r,e);n.set(r,i)}else if(n instanceof Set)n.add(r);else{let i=Nq(this.key,r,e),s=ro(this.value,i,e);i in n?Object.defineProperty(n,i,{value:s,writable:!0,enumerable:!0,configurable:!0}):n[i]=s}return n}toJSON(e,n){let r=n&&n.mapAsMap?new Map:{};return this.addToJSMap(n,r)}toString(e,n,r){if(!e||!e.doc)return JSON.stringify(this);let{indent:i,indentSeq:s,simpleKeys:a}=e.doc.options,{key:l,value:u}=this,d=l instanceof Qr&&l.comment;if(a){if(d)throw new Error("With simple keys, key nodes cannot have comments");if(l instanceof dn){let w="With simple keys, collection cannot be used as a key value";throw new Error(w)}}let h=!a&&(!l||d||(l instanceof Qr?l instanceof dn||l.type===X.Type.BLOCK_FOLDED||l.type===X.Type.BLOCK_LITERAL:typeof l=="object")),{doc:g,indent:N,indentStep:y,stringify:T}=e;e=Object.assign({},e,{implicitKey:!h,indent:N+y});let C=!1,D=T(l,e,()=>d=null,()=>C=!0);if(D=Nl(D,e.indent,d),!h&&D.length>1024){if(a)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");h=!0}if(e.allNullValues&&!a)return this.comment?(D=Nl(D,e.indent,this.comment),n&&n()):C&&!d&&r&&r(),e.inFlow&&!h?D:`? ${D}`;D=h?`? ${D}
${N}:`:`${D}:`,this.comment&&(D=Nl(D,e.indent,this.comment),n&&n());let _="",A=null;u instanceof Qr?(u.spaceBefore&&(_=`
`),u.commentBefore&&(_+=`
${u.commentBefore.replace(/^/gm,`${e.indent}#`)}`),A=u.comment):u&&typeof u=="object"&&(u=g.schema.createNode(u,!0)),e.implicitKey=!1,!h&&!this.comment&&u instanceof Yn&&(e.indentAtStart=D.length+1),C=!1,!s&&i>=2&&!e.inFlow&&!h&&u instanceof Yo&&u.type!==X.Type.FLOW_SEQ&&!u.tag&&!g.anchors.getName(u)&&(e.indent=e.indent.substr(2));let b=T(u,e,()=>A=null,()=>C=!0),S=" ";return _||this.comment?S=`${_}
${e.indent}`:!h&&u instanceof dn?(!(b[0]==="["||b[0]==="{")||b.includes(`
`))&&(S=`
${e.indent}`):b[0]===`
`&&(S=""),C&&!A&&r&&r(),Nl(D+S+b,e.indent,A)}};X._defineProperty(It,"Type",{PAIR:"PAIR",MERGE_PAIR:"MERGE_PAIR"});var Ad=(t,e)=>{if(t instanceof io){let n=e.get(t.source);return n.count*n.aliasCount}else if(t instanceof dn){let n=0;for(let r of t.items){let i=Ad(r,e);i>n&&(n=i)}return n}else if(t instanceof It){let n=Ad(t.key,e),r=Ad(t.value,e);return Math.max(n,r)}return 1},io=class extends Qr{static stringify({range:e,source:n},{anchors:r,doc:i,implicitKey:s,inStringifyKey:a}){let l=Object.keys(r).find(d=>r[d]===n);if(!l&&a&&(l=i.anchors.getName(n)||i.anchors.newName()),l)return`*${l}${s?" ":""}`;let u=i.anchors.getName(n)?"Alias node must be after source node":"Source node not found for alias node";throw new Error(`${u} [${e}]`)}constructor(e){super();this.source=e,this.type=X.Type.ALIAS}set tag(e){throw new Error("Alias nodes cannot have tags")}toJSON(e,n){if(!n)return ro(this.source,e,n);let{anchors:r,maxAliasCount:i}=n,s=r.get(this.source);if(!s||s.res===void 0){let a="This should not happen: Alias anchor was not resolved?";throw this.cstNode?new X.YAMLReferenceError(this.cstNode,a):new ReferenceError(a)}if(i>=0&&(s.count+=1,s.aliasCount===0&&(s.aliasCount=Ad(this.source,r)),s.count*s.aliasCount>i)){let a="Excessive alias count indicates a resource exhaustion attack";throw this.cstNode?new X.YAMLReferenceError(this.cstNode,a):new ReferenceError(a)}return s.res}toString(e){return io.stringify(this,e)}};X._defineProperty(io,"default",!0);function jc(t,e){let n=e instanceof Yn?e.value:e;for(let r of t)if(r instanceof It&&(r.key===e||r.key===n||r.key&&r.key.value===n))return r}var Cd=class extends dn{add(e,n){e?e instanceof It||(e=new It(e.key||e,e.value)):e=new It(e);let r=jc(this.items,e.key),i=this.schema&&this.schema.sortMapEntries;if(r)if(n)r.value=e.value;else throw new Error(`Key ${e.key} already set`);else if(i){let s=this.items.findIndex(a=>i(e,a)<0);s===-1?this.items.push(e):this.items.splice(s,0,e)}else this.items.push(e)}delete(e){let n=jc(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){let r=jc(this.items,e),i=r&&r.value;return!n&&i instanceof Yn?i.value:i}has(e){return!!jc(this.items,e)}set(e,n){this.add(new It(e,n),!0)}toJSON(e,n,r){let i=r?new r:n&&n.mapAsMap?new Map:{};n&&n.onCreate&&n.onCreate(i);for(let s of this.items)s.addToJSMap(n,i);return i}toString(e,n,r){if(!e)return JSON.stringify(this);for(let i of this.items)if(!(i instanceof It))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return super.toString(e,{blockItem:i=>i.str,flowChars:{start:"{",end:"}"},isMap:!0,itemIndent:e.indent||""},n,r)}},tR="<<",rT=class extends It{constructor(e){if(e instanceof It){let n=e.value;n instanceof Yo||(n=new Yo,n.items.push(e.value),n.range=e.value.range);super(e.key,n);this.range=e.range}else super(new Yn(tR),new Yo);this.type=It.Type.MERGE_PAIR}addToJSMap(e,n){for(let{source:r}of this.value.items){if(!(r instanceof Cd))throw new Error("Merge sources must be maps");let i=r.toJSON(null,e,Map);for(let[s,a]of i)n instanceof Map?n.has(s)||n.set(s,a):n instanceof Set?n.add(s):Object.prototype.hasOwnProperty.call(n,s)||Object.defineProperty(n,s,{value:a,writable:!0,enumerable:!0,configurable:!0})}return n}toString(e,n){let r=this.value;if(r.items.length>1)return super.toString(e,n);this.value=r.items[0];let i=super.toString(e,n);return this.value=r,i}},bq={defaultType:X.Type.BLOCK_LITERAL,lineWidth:76},vq={trueStr:"true",falseStr:"false"},Iq={asBigInt:!1},Pq={nullStr:"null"},Ko={defaultType:X.Type.PLAIN,doubleQuoted:{jsonEncoding:!1,minMultiLineLength:40},fold:{lineWidth:80,minContentWidth:20}};function iT(t,e,n){for(let{format:r,test:i,resolve:s}of e)if(i){let a=t.match(i);if(a){let l=s.apply(null,a);return l instanceof Yn||(l=new Yn(l)),r&&(l.format=r),l}}return n&&(t=n(t)),new Yn(t)}var nR="flow",sT="block",Ed="quoted",rR=(t,e)=>{let n=t[e+1];for(;n===" "||n==="	";){do n=t[e+=1];while(n&&n!==`
`);n=t[e+1]}return e};function Sd(t,e,n,{indentAtStart:r,lineWidth:i=80,minContentWidth:s=20,onFold:a,onOverflow:l}){if(!i||i<0)return t;let u=Math.max(1+s,1+i-e.length);if(t.length<=u)return t;let d=[],h={},g=i-e.length;typeof r=="number"&&(r>i-Math.max(2,s)?d.push(0):g=i-r);let N,y,T=!1,C=-1,D=-1,_=-1;n===sT&&(C=rR(t,C),C!==-1&&(g=C+u));for(let b;b=t[C+=1];){if(n===Ed&&b==="\\"){switch(D=C,t[C+1]){case"x":C+=3;break;case"u":C+=5;break;case"U":C+=9;break;default:C+=1}_=C}if(b===`
`)n===sT&&(C=rR(t,C)),g=C+u,N=void 0;else{if(b===" "&&y&&y!==" "&&y!==`
`&&y!=="	"){let S=t[C+1];S&&S!==" "&&S!==`
`&&S!=="	"&&(N=C)}if(C>=g)if(N)d.push(N),g=N+u,N=void 0;else if(n===Ed){for(;y===" "||y==="	";)y=b,b=t[C+=1],T=!0;let S=C>_+1?C-2:D-1;if(h[S])return t;d.push(S),h[S]=!0,g=S+u,N=void 0}else T=!0}y=b}if(T&&l&&l(),d.length===0)return t;a&&a();let A=t.slice(0,d[0]);for(let b=0;b<d.length;++b){let S=d[b],w=d[b+1]||t.length;S===0?A=`
${e}${t.slice(0,w)}`:(n===Ed&&h[S]&&(A+=`${t[S]}\\`),A+=`
${e}${t.slice(S+1,w)}`)}return A}var oT=({indentAtStart:t})=>t?Object.assign({indentAtStart:t},Ko.fold):Ko.fold,xd=t=>/^(%|---|\.\.\.)/m.test(t);function Aq(t,e,n){if(!e||e<0)return!1;let r=e-n,i=t.length;if(i<=r)return!1;for(let s=0,a=0;s<i;++s)if(t[s]===`
`){if(s-a>r)return!0;if(a=s+1,i-a<=r)return!1}return!0}function $o(t,e){let{implicitKey:n}=e,{jsonEncoding:r,minMultiLineLength:i}=Ko.doubleQuoted,s=JSON.stringify(t);if(r)return s;let a=e.indent||(xd(t)?"  ":""),l="",u=0;for(let d=0,h=s[d];h;h=s[++d])if(h===" "&&s[d+1]==="\\"&&s[d+2]==="n"&&(l+=s.slice(u,d)+"\\ ",d+=1,u=d,h="\\"),h==="\\")switch(s[d+1]){case"u":{l+=s.slice(u,d);let g=s.substr(d+2,4);switch(g){case"0000":l+="\\0";break;case"0007":l+="\\a";break;case"000b":l+="\\v";break;case"001b":l+="\\e";break;case"0085":l+="\\N";break;case"00a0":l+="\\_";break;case"2028":l+="\\L";break;case"2029":l+="\\P";break;default:g.substr(0,2)==="00"?l+="\\x"+g.substr(2):l+=s.substr(d,6)}d+=5,u=d+1}break;case"n":if(n||s[d+2]==='"'||s.length<i)d+=1;else{for(l+=s.slice(u,d)+`

`;s[d+2]==="\\"&&s[d+3]==="n"&&s[d+4]!=='"';)l+=`
`,d+=2;l+=a,s[d+2]===" "&&(l+="\\"),d+=1,u=d+1}break;default:d+=1}return l=u?l+s.slice(u):s,n?l:Sd(l,a,Ed,oT(e))}function iR(t,e){if(e.implicitKey){if(/\n/.test(t))return $o(t,e)}else if(/[ \t]\n|\n[ \t]/.test(t))return $o(t,e);let n=e.indent||(xd(t)?"  ":""),r="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?r:Sd(r,n,nR,oT(e))}function Rd({comment:t,type:e,value:n},r,i,s){if(/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return $o(n,r);let a=r.indent||(r.forceBlockIndent||xd(n)?"  ":""),l=a?"2":"1",u=e===X.Type.BLOCK_FOLDED?!1:e===X.Type.BLOCK_LITERAL?!0:!Aq(n,Ko.fold.lineWidth,a.length),d=u?"|":">";if(!n)return d+`
`;let h="",g="";if(n=n.replace(/[\n\t ]*$/,y=>{let T=y.indexOf(`
`);return T===-1?d+="-":(n===y||T!==y.length-1)&&(d+="+",s&&s()),g=y.replace(/\n$/,""),""}).replace(/^[\n ]*/,y=>{y.indexOf(" ")!==-1&&(d+=l);let T=y.match(/ +$/);return T?(h=y.slice(0,-T[0].length),T[0]):(h=y,"")}),g&&(g=g.replace(/\n+(?!\n|$)/g,`$&${a}`)),h&&(h=h.replace(/\n+/g,`$&${a}`)),t&&(d+=" #"+t.replace(/ ?[\r\n]+/g," "),i&&i()),!n)return`${d}${l}
${a}${g}`;if(u)return n=n.replace(/\n+/g,`$&${a}`),`${d}
${a}${h}${n}${g}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${a}`);let N=Sd(`${h}${n}${g}`,a,sT,Ko.fold);return`${d}
${a}${N}`}function Cq(t,e,n,r){let{comment:i,type:s,value:a}=t,{actualString:l,implicitKey:u,indent:d,inFlow:h}=e;if(u&&/[\n[\]{},]/.test(a)||h&&/[[\]{},]/.test(a))return $o(a,e);if(!a||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(a))return u||h||a.indexOf(`
`)===-1?a.indexOf('"')!==-1&&a.indexOf("'")===-1?iR(a,e):$o(a,e):Rd(t,e,n,r);if(!u&&!h&&s!==X.Type.PLAIN&&a.indexOf(`
`)!==-1)return Rd(t,e,n,r);if(d===""&&xd(a))return e.forceBlockIndent=!0,Rd(t,e,n,r);let g=a.replace(/\n+/g,`$&
${d}`);if(l){let{tags:y}=e.doc.schema;if(typeof iT(g,y,y.scalarFallback).value!="string")return $o(a,e)}let N=u?g:Sd(g,d,nR,oT(e));return i&&!h&&(N.indexOf(`
`)!==-1||i.indexOf(`
`)!==-1)?(n&&n(),yq(N,d,i)):N}function Eq(t,e,n,r){let{defaultType:i}=Ko,{implicitKey:s,inFlow:a}=e,{type:l,value:u}=t;typeof u!="string"&&(u=String(u),t=Object.assign({},t,{value:u}));let d=g=>{switch(g){case X.Type.BLOCK_FOLDED:case X.Type.BLOCK_LITERAL:return Rd(t,e,n,r);case X.Type.QUOTE_DOUBLE:return $o(u,e);case X.Type.QUOTE_SINGLE:return iR(u,e);case X.Type.PLAIN:return Cq(t,e,n,r);default:return null}};(l!==X.Type.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f]/.test(u)||(s||a)&&(l===X.Type.BLOCK_FOLDED||l===X.Type.BLOCK_LITERAL))&&(l=X.Type.QUOTE_DOUBLE);let h=d(l);if(h===null&&(h=d(i),h===null))throw new Error(`Unsupported default string type ${i}`);return h}function Sq({format:t,minFractionDigits:e,tag:n,value:r}){if(typeof r=="bigint")return String(r);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let i=JSON.stringify(r);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let s=i.indexOf(".");s<0&&(s=i.length,i+=".");let a=e-(i.length-s-1);for(;a-- >0;)i+="0"}return i}function sR(t,e){let n,r;switch(e.type){case X.Type.FLOW_MAP:n="}",r="flow map";break;case X.Type.FLOW_SEQ:n="]",r="flow sequence";break;default:t.push(new X.YAMLSemanticError(e,"Not a flow collection!?"));return}let i;for(let s=e.items.length-1;s>=0;--s){let a=e.items[s];if(!a||a.type!==X.Type.COMMENT){i=a;break}}if(i&&i.char!==n){let s=`Expected ${r} to end with ${n}`,a;typeof i.offset=="number"?(a=new X.YAMLSemanticError(e,s),a.offset=i.offset+1):(a=new X.YAMLSemanticError(i,s),i.range&&i.range.end&&(a.offset=i.range.end-i.range.start)),t.push(a)}}function oR(t,e){let n=e.context.src[e.range.start-1];if(n!==`
`&&n!=="	"&&n!==" "){let r="Comments must be separated from other tokens by white space characters";t.push(new X.YAMLSemanticError(e,r))}}function aR(t,e){let n=String(e),r=n.substr(0,8)+"..."+n.substr(-8);return new X.YAMLSemanticError(t,`The "${r}" key is too long`)}function lR(t,e){for(let{afterKey:n,before:r,comment:i}of e){let s=t.items[r];s?(n&&s.value&&(s=s.value),i===void 0?(n||!s.commentBefore)&&(s.spaceBefore=!0):s.commentBefore?s.commentBefore+=`
`+i:s.commentBefore=i):i!==void 0&&(t.comment?t.comment+=`
`+i:t.comment=i)}}function aT(t,e){let n=e.strValue;return n?typeof n=="string"?n:(n.errors.forEach(r=>{r.source||(r.source=e),t.errors.push(r)}),n.str):""}function xq(t,e){let{handle:n,suffix:r}=e.tag,i=t.tagPrefixes.find(s=>s.handle===n);if(!i){let s=t.getDefaults().tagPrefixes;if(s&&(i=s.find(a=>a.handle===n)),!i)throw new X.YAMLSemanticError(e,`The ${n} tag handle is non-default and was not declared.`)}if(!r)throw new X.YAMLSemanticError(e,`The ${n} tag has no suffix.`);if(n==="!"&&(t.version||t.options.version)==="1.0"){if(r[0]==="^")return t.warnings.push(new X.YAMLWarning(e,"YAML 1.0 ^ tag expansion is not supported")),r;if(/[:/]/.test(r)){let s=r.match(/^([a-z0-9-]+)\/(.*)/i);return s?`tag:${s[1]}.yaml.org,2002:${s[2]}`:`tag:${r}`}}return i.prefix+decodeURIComponent(r)}function Rq(t,e){let{tag:n,type:r}=e,i=!1;if(n){let{handle:s,suffix:a,verbatim:l}=n;if(l){if(l!=="!"&&l!=="!!")return l;let u=`Verbatim tags aren't resolved, so ${l} is invalid.`;t.errors.push(new X.YAMLSemanticError(e,u))}else if(s==="!"&&!a)i=!0;else try{return xq(t,e)}catch(u){t.errors.push(u)}}switch(r){case X.Type.BLOCK_FOLDED:case X.Type.BLOCK_LITERAL:case X.Type.QUOTE_DOUBLE:case X.Type.QUOTE_SINGLE:return X.defaultTags.STR;case X.Type.FLOW_MAP:case X.Type.MAP:return X.defaultTags.MAP;case X.Type.FLOW_SEQ:case X.Type.SEQ:return X.defaultTags.SEQ;case X.Type.PLAIN:return i?X.defaultTags.STR:null;default:return null}}function cR(t,e,n){let{tags:r}=t.schema,i=[];for(let a of r)if(a.tag===n)if(a.test)i.push(a);else{let l=a.resolve(t,e);return l instanceof dn?l:new Yn(l)}let s=aT(t,e);return typeof s=="string"&&i.length>0?iT(s,i,r.scalarFallback):null}function kq({type:t}){switch(t){case X.Type.FLOW_MAP:case X.Type.MAP:return X.defaultTags.MAP;case X.Type.FLOW_SEQ:case X.Type.SEQ:return X.defaultTags.SEQ;default:return X.defaultTags.STR}}function Oq(t,e,n){try{let r=cR(t,e,n);if(r)return n&&e.tag&&(r.tag=n),r}catch(r){return r.source||(r.source=e),t.errors.push(r),null}try{let r=kq(e);if(!r)throw new Error(`The tag ${n} is unavailable`);let i=`The tag ${n} is unavailable, falling back to ${r}`;t.warnings.push(new X.YAMLWarning(e,i));let s=cR(t,e,r);return s.tag=n,s}catch(r){let i=new X.YAMLReferenceError(e,r.message);return i.stack=r.stack,t.errors.push(i),null}}var wq=t=>{if(!t)return!1;let{type:e}=t;return e===X.Type.MAP_KEY||e===X.Type.MAP_VALUE||e===X.Type.SEQ_ITEM};function Lq(t,e){let n={before:[],after:[]},r=!1,i=!1,s=wq(e.context.parent)?e.context.parent.props.concat(e.props):e.props;for(let{start:a,end:l}of s)switch(e.context.src[a]){case X.Char.COMMENT:{if(!e.commentHasRequiredWhitespace(a)){let g="Comments must be separated from other tokens by white space characters";t.push(new X.YAMLSemanticError(e,g))}let{header:u,valueRange:d}=e;(d&&(a>d.start||u&&a>u.start)?n.after:n.before).push(e.context.src.slice(a+1,l));break}case X.Char.ANCHOR:if(r){let u="A node can have at most one anchor";t.push(new X.YAMLSemanticError(e,u))}r=!0;break;case X.Char.TAG:if(i){let u="A node can have at most one tag";t.push(new X.YAMLSemanticError(e,u))}i=!0;break}return{comments:n,hasAnchor:r,hasTag:i}}function Dq(t,e){let{anchors:n,errors:r,schema:i}=t;if(e.type===X.Type.ALIAS){let a=e.rawValue,l=n.getNode(a);if(!l){let d=`Aliased anchor not found: ${a}`;return r.push(new X.YAMLReferenceError(e,d)),null}let u=new io(l);return n._cstAliases.push(u),u}let s=Rq(t,e);if(s)return Oq(t,e,s);if(e.type!==X.Type.PLAIN){let a=`Failed to resolve ${e.type} node here`;return r.push(new X.YAMLSyntaxError(e,a)),null}try{let a=aT(t,e);return iT(a,i.tags,i.tags.scalarFallback)}catch(a){return a.source||(a.source=e),r.push(a),null}}function so(t,e){if(!e)return null;e.error&&t.errors.push(e.error);let{comments:n,hasAnchor:r,hasTag:i}=Lq(t.errors,e);if(r){let{anchors:a}=t,l=e.anchor,u=a.getNode(l);u&&(a.map[a.newName(l)]=u),a.map[l]=e}if(e.type===X.Type.ALIAS&&(r||i)){let a="An alias node must not specify any properties";t.errors.push(new X.YAMLSemanticError(e,a))}let s=Dq(t,e);if(s){s.range=[e.range.start,e.range.end],t.options.keepCstNodes&&(s.cstNode=e),t.options.keepNodeTypes&&(s.type=e.type);let a=n.before.join(`
`);a&&(s.commentBefore=s.commentBefore?`${s.commentBefore}
${a}`:a);let l=n.after.join(`
`);l&&(s.comment=s.comment?`${s.comment}
${l}`:l)}return e.resolved=s}function Mq(t,e){if(e.type!==X.Type.MAP&&e.type!==X.Type.FLOW_MAP){let a=`A ${e.type} node cannot be resolved as a mapping`;return t.errors.push(new X.YAMLSyntaxError(e,a)),null}let{comments:n,items:r}=e.type===X.Type.FLOW_MAP?qq(t,e):Bq(t,e),i=new Cd;i.items=r,lR(i,n);let s=!1;for(let a=0;a<r.length;++a){let{key:l}=r[a];if(l instanceof dn&&(s=!0),t.schema.merge&&l&&l.value===tR){r[a]=new rT(r[a]);let u=r[a].value.items,d=null;u.some(h=>{if(h instanceof io){let{type:g}=h.source;return g===X.Type.MAP||g===X.Type.FLOW_MAP?!1:d="Merge nodes aliases can only point to maps"}return d="Merge nodes can only have Alias nodes as values"}),d&&t.errors.push(new X.YAMLSemanticError(e,d))}else for(let u=a+1;u<r.length;++u){let{key:d}=r[u];if(l===d||l&&d&&Object.prototype.hasOwnProperty.call(l,"value")&&l.value===d.value){let h=`Map keys must be unique; "${l}" is repeated`;t.errors.push(new X.YAMLSemanticError(e,h));break}}}if(s&&!t.options.mapAsMap){let a="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new X.YAMLWarning(e,a))}return e.resolved=i,i}var Fq=({context:{lineStart:t,node:e,src:n},props:r})=>{if(r.length===0)return!1;let{start:i}=r[0];if(e&&i>e.valueRange.start||n[i]!==X.Char.COMMENT)return!1;for(let s=t;s<i;++s)if(n[s]===`
`)return!1;return!0};function Vq(t,e){if(!Fq(t))return;let n=t.getPropValue(0,X.Char.COMMENT,!0),r=!1,i=e.value.commentBefore;if(i&&i.startsWith(n))e.value.commentBefore=i.substr(n.length+1),r=!0;else{let s=e.value.comment;!t.node&&s&&s.startsWith(n)&&(e.value.comment=s.substr(n.length+1),r=!0)}r&&(e.comment=n)}function Bq(t,e){let n=[],r=[],i,s=null;for(let a=0;a<e.items.length;++a){let l=e.items[a];switch(l.type){case X.Type.BLANK_LINE:n.push({afterKey:!!i,before:r.length});break;case X.Type.COMMENT:n.push({afterKey:!!i,before:r.length,comment:l.comment});break;case X.Type.MAP_KEY:i!==void 0&&r.push(new It(i)),l.error&&t.errors.push(l.error),i=so(t,l.node),s=null;break;case X.Type.MAP_VALUE:{if(i===void 0&&(i=null),l.error&&t.errors.push(l.error),!l.context.atLineStart&&l.node&&l.node.type===X.Type.MAP&&!l.node.context.atLineStart){let h="Nested mappings are not allowed in compact mappings";t.errors.push(new X.YAMLSemanticError(l.node,h))}let u=l.node;if(!u&&l.props.length>0){u=new X.PlainValue(X.Type.PLAIN,[]),u.context={parent:l,src:l.context.src};let h=l.range.start+1;if(u.range={start:h,end:h},u.valueRange={start:h,end:h},typeof l.range.origStart=="number"){let g=l.range.origStart+1;u.range.origStart=u.range.origEnd=g,u.valueRange.origStart=u.valueRange.origEnd=g}}let d=new It(i,so(t,u));Vq(l,d),r.push(d),i&&typeof s=="number"&&l.range.start>s+1024&&t.errors.push(aR(e,i)),i=void 0,s=null}break;default:i!==void 0&&r.push(new It(i)),i=so(t,l),s=l.range.start,l.error&&t.errors.push(l.error);e:for(let u=a+1;;++u){let d=e.items[u];switch(d&&d.type){case X.Type.BLANK_LINE:case X.Type.COMMENT:continue e;case X.Type.MAP_VALUE:break e;default:{let h="Implicit map keys need to be followed by map values";t.errors.push(new X.YAMLSemanticError(l,h));break e}}}if(l.valueRangeContainsNewline){let u="Implicit map keys need to be on a single line";t.errors.push(new X.YAMLSemanticError(l,u))}}}return i!==void 0&&r.push(new It(i)),{comments:n,items:r}}function qq(t,e){let n=[],r=[],i,s=!1,a="{";for(let l=0;l<e.items.length;++l){let u=e.items[l];if(typeof u.char=="string"){let{char:d,offset:h}=u;if(d==="?"&&i===void 0&&!s){s=!0,a=":";continue}if(d===":"){if(i===void 0&&(i=null),a===":"){a=",";continue}}else if(s&&(i===void 0&&d!==","&&(i=null),s=!1),i!==void 0&&(r.push(new It(i)),i=void 0,d===",")){a=":";continue}if(d==="}"){if(l===e.items.length-1)continue}else if(d===a){a=":";continue}let g=`Flow map contains an unexpected ${d}`,N=new X.YAMLSyntaxError(e,g);N.offset=h,t.errors.push(N)}else u.type===X.Type.BLANK_LINE?n.push({afterKey:!!i,before:r.length}):u.type===X.Type.COMMENT?(oR(t.errors,u),n.push({afterKey:!!i,before:r.length,comment:u.comment})):i===void 0?(a===","&&t.errors.push(new X.YAMLSemanticError(u,"Separator , missing in flow map")),i=so(t,u)):(a!==","&&t.errors.push(new X.YAMLSemanticError(u,"Indicator : missing in flow map entry")),r.push(new It(i,so(t,u))),i=void 0,s=!1)}return sR(t.errors,e),i!==void 0&&r.push(new It(i)),{comments:n,items:r}}function Uq(t,e){if(e.type!==X.Type.SEQ&&e.type!==X.Type.FLOW_SEQ){let s=`A ${e.type} node cannot be resolved as a sequence`;return t.errors.push(new X.YAMLSyntaxError(e,s)),null}let{comments:n,items:r}=e.type===X.Type.FLOW_SEQ?Gq(t,e):jq(t,e),i=new Yo;if(i.items=r,lR(i,n),!t.options.mapAsMap&&r.some(s=>s instanceof It&&s.key instanceof dn)){let s="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new X.YAMLWarning(e,s))}return e.resolved=i,i}function jq(t,e){let n=[],r=[];for(let i=0;i<e.items.length;++i){let s=e.items[i];switch(s.type){case X.Type.BLANK_LINE:n.push({before:r.length});break;case X.Type.COMMENT:n.push({comment:s.comment,before:r.length});break;case X.Type.SEQ_ITEM:if(s.error&&t.errors.push(s.error),r.push(so(t,s.node)),s.hasProps){let a="Sequence items cannot have tags or anchors before the - indicator";t.errors.push(new X.YAMLSemanticError(s,a))}break;default:s.error&&t.errors.push(s.error),t.errors.push(new X.YAMLSyntaxError(s,`Unexpected ${s.type} node in sequence`))}}return{comments:n,items:r}}function Gq(t,e){let n=[],r=[],i=!1,s,a=null,l="[",u=null;for(let d=0;d<e.items.length;++d){let h=e.items[d];if(typeof h.char=="string"){let{char:g,offset:N}=h;if(g!==":"&&(i||s!==void 0)&&(i&&s===void 0&&(s=l?r.pop():null),r.push(new It(s)),i=!1,s=void 0,a=null),g===l)l=null;else if(!l&&g==="?")i=!0;else if(l!=="["&&g===":"&&s===void 0){if(l===","){if(s=r.pop(),s instanceof It){let y="Chaining flow sequence pairs is invalid",T=new X.YAMLSemanticError(e,y);T.offset=N,t.errors.push(T)}if(!i&&typeof a=="number"){let y=h.range?h.range.start:h.offset;y>a+1024&&t.errors.push(aR(e,s));let{src:T}=u.context;for(let C=a;C<y;++C)if(T[C]===`
`){let D="Implicit keys of flow sequence pairs need to be on a single line";t.errors.push(new X.YAMLSemanticError(u,D));break}}}else s=null;a=null,i=!1,l=null}else if(l==="["||g!=="]"||d<e.items.length-1){let y=`Flow sequence contains an unexpected ${g}`,T=new X.YAMLSyntaxError(e,y);T.offset=N,t.errors.push(T)}}else if(h.type===X.Type.BLANK_LINE)n.push({before:r.length});else if(h.type===X.Type.COMMENT)oR(t.errors,h),n.push({comment:h.comment,before:r.length});else{if(l){let N=`Expected a ${l} in flow sequence`;t.errors.push(new X.YAMLSemanticError(h,N))}let g=so(t,h);s===void 0?(r.push(g),u=h):(r.push(new It(s,g)),s=void 0),a=h.range.start,l=","}}return sR(t.errors,e),s!==void 0&&r.push(new It(s)),{comments:n,items:r}}Vt.Alias=io;Vt.Collection=dn;Vt.Merge=rT;Vt.Node=Qr;Vt.Pair=It;Vt.Scalar=Yn;Vt.YAMLMap=Cd;Vt.YAMLSeq=Yo;Vt.addComment=Nl;Vt.binaryOptions=bq;Vt.boolOptions=vq;Vt.findPair=jc;Vt.intOptions=Iq;Vt.isEmptyPath=eR;Vt.nullOptions=Pq;Vt.resolveMap=Mq;Vt.resolveNode=so;Vt.resolveSeq=Uq;Vt.resolveString=aT;Vt.strOptions=Ko;Vt.stringifyNumber=Sq;Vt.stringifyString=Eq;Vt.toJSON=ro});var kd=_e(Oi=>{"use strict";var xr=to(),st=bl(),Wq={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve:(t,e)=>{let n=st.resolveString(t,e);if(typeof Buffer=="function")return Buffer.from(n,"base64");if(typeof atob=="function"){let r=atob(n.replace(/[\n\r]/g,"")),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}else{let r="This environment does not support reading binary tags; either Buffer or atob is required";return t.errors.push(new xr.YAMLReferenceError(e,r)),null}},options:st.binaryOptions,stringify:({comment:t,type:e,value:n},r,i,s)=>{let a;if(typeof Buffer=="function")a=n instanceof Buffer?n.toString("base64"):Buffer.from(n.buffer).toString("base64");else if(typeof btoa=="function"){let l="";for(let u=0;u<n.length;++u)l+=String.fromCharCode(n[u]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=st.binaryOptions.defaultType),e===xr.Type.QUOTE_DOUBLE)n=a;else{let{lineWidth:l}=st.binaryOptions,u=Math.ceil(a.length/l),d=new Array(u);for(let h=0,g=0;h<u;++h,g+=l)d[h]=a.substr(g,l);n=d.join(e===xr.Type.BLOCK_LITERAL?`
`:" ")}return st.stringifyString({comment:t,type:e,value:n},r,i,s)}};function uR(t,e){let n=st.resolveSeq(t,e);for(let r=0;r<n.items.length;++r){let i=n.items[r];if(!(i instanceof st.Pair)){if(i instanceof st.YAMLMap){if(i.items.length>1){let a="Each pair must have its own sequence indicator";throw new xr.YAMLSemanticError(e,a)}let s=i.items[0]||new st.Pair;i.commentBefore&&(s.commentBefore=s.commentBefore?`${i.commentBefore}
${s.commentBefore}`:i.commentBefore),i.comment&&(s.comment=s.comment?`${i.comment}
${s.comment}`:i.comment),i=s}n.items[r]=i instanceof st.Pair?i:new st.Pair(i)}}return n}function fR(t,e,n){let r=new st.YAMLSeq(t);r.tag="tag:yaml.org,2002:pairs";for(let i of e){let s,a;if(Array.isArray(i))if(i.length===2)s=i[0],a=i[1];else throw new TypeError(`Expected [key, value] tuple: ${i}`);else if(i&&i instanceof Object){let u=Object.keys(i);if(u.length===1)s=u[0],a=i[s];else throw new TypeError(`Expected { key: value } tuple: ${i}`)}else s=i;let l=t.createPair(s,a,n);r.items.push(l)}return r}var Hq={default:!1,tag:"tag:yaml.org,2002:pairs",resolve:uR,createNode:fR},zo=class extends st.YAMLSeq{constructor(){super();xr._defineProperty(this,"add",st.YAMLMap.prototype.add.bind(this)),xr._defineProperty(this,"delete",st.YAMLMap.prototype.delete.bind(this)),xr._defineProperty(this,"get",st.YAMLMap.prototype.get.bind(this)),xr._defineProperty(this,"has",st.YAMLMap.prototype.has.bind(this)),xr._defineProperty(this,"set",st.YAMLMap.prototype.set.bind(this)),this.tag=zo.tag}toJSON(e,n){let r=new Map;n&&n.onCreate&&n.onCreate(r);for(let i of this.items){let s,a;if(i instanceof st.Pair?(s=st.toJSON(i.key,"",n),a=st.toJSON(i.value,s,n)):s=st.toJSON(i,"",n),r.has(s))throw new Error("Ordered maps must not include duplicate keys");r.set(s,a)}return r}};xr._defineProperty(zo,"tag","tag:yaml.org,2002:omap");function Yq(t,e){let n=uR(t,e),r=[];for(let{key:i}of n.items)if(i instanceof st.Scalar)if(r.includes(i.value)){let s="Ordered maps must not include duplicate keys";throw new xr.YAMLSemanticError(e,s)}else r.push(i.value);return Object.assign(new zo,n)}function Kq(t,e,n){let r=fR(t,e,n),i=new zo;return i.items=r.items,i}var $q={identify:t=>t instanceof Map,nodeClass:zo,default:!1,tag:"tag:yaml.org,2002:omap",resolve:Yq,createNode:Kq},Qo=class extends st.YAMLMap{constructor(){super();this.tag=Qo.tag}add(e){let n=e instanceof st.Pair?e:new st.Pair(e);st.findPair(this.items,n.key)||this.items.push(n)}get(e,n){let r=st.findPair(this.items,e);return!n&&r instanceof st.Pair?r.key instanceof st.Scalar?r.key.value:r.key:r}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);let r=st.findPair(this.items,e);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new st.Pair(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues())return super.toString(e,n,r);throw new Error("Set items must all have null values")}};xr._defineProperty(Qo,"tag","tag:yaml.org,2002:set");function zq(t,e){let n=st.resolveMap(t,e);if(!n.hasAllNullValues())throw new xr.YAMLSemanticError(e,"Set items must all have null values");return Object.assign(new Qo,n)}function Qq(t,e,n){let r=new Qo;for(let i of e)r.items.push(t.createPair(i,null,n));return r}var Xq={identify:t=>t instanceof Set,nodeClass:Qo,default:!1,tag:"tag:yaml.org,2002:set",resolve:zq,createNode:Qq},lT=(t,e)=>{let n=e.split(":").reduce((r,i)=>r*60+Number(i),0);return t==="-"?-n:n},dR=({value:t})=>{if(isNaN(t)||!isFinite(t))return st.stringifyNumber(t);let e="";t<0&&(e="-",t=Math.abs(t));let n=[t%60];return t<60?n.unshift(0):(t=Math.round((t-n[0])/60),n.unshift(t%60),t>=60&&(t=Math.round((t-n[0])/60),n.unshift(t))),e+n.map(r=>r<10?"0"+String(r):String(r)).join(":").replace(/000000\d*$/,"")},Jq={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+)$/,resolve:(t,e,n)=>lT(e,n.replace(/_/g,"")),stringify:dR},Zq={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*)$/,resolve:(t,e,n)=>lT(e,n.replace(/_/g,"")),stringify:dR},eU={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^(?:([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?)$"),resolve:(t,e,n,r,i,s,a,l,u)=>{l&&(l=(l+"00").substr(1,3));let d=Date.UTC(e,n-1,r,i||0,s||0,a||0,l||0);if(u&&u!=="Z"){let h=lT(u[0],u.slice(1));Math.abs(h)<30&&(h*=60),d-=6e4*h}return new Date(d)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};function cT(t){let e=typeof process!="undefined"&&process.env||{};return t?typeof YAML_SILENCE_DEPRECATION_WARNINGS!="undefined"?!YAML_SILENCE_DEPRECATION_WARNINGS:!e.YAML_SILENCE_DEPRECATION_WARNINGS:typeof YAML_SILENCE_WARNINGS!="undefined"?!YAML_SILENCE_WARNINGS:!e.YAML_SILENCE_WARNINGS}function uT(t,e){if(cT(!1)){let n=typeof process!="undefined"&&process.emitWarning;n?n(t,e):console.warn(e?`${e}: ${t}`:t)}}function tU(t){if(cT(!0)){let e=t.replace(/.*yaml[/\\]/i,"").replace(/\.js$/,"").replace(/\\/g,"/");uT(`The endpoint 'yaml/${e}' will be removed in a future release.`,"DeprecationWarning")}}var pR={};function nU(t,e){if(!pR[t]&&cT(!0)){pR[t]=!0;let n=`The option '${t}' will be removed in a future release`;n+=e?`, use '${e}' instead.`:".",uT(n,"DeprecationWarning")}}Oi.binary=Wq;Oi.floatTime=Zq;Oi.intTime=Jq;Oi.omap=$q;Oi.pairs=Hq;Oi.set=Xq;Oi.timestamp=eU;Oi.warn=uT;Oi.warnFileDeprecation=tU;Oi.warnOptionDeprecation=nU});var Fd=_e(CR=>{"use strict";var Od=to(),Me=bl(),Kn=kd();function rU(t,e,n){let r=new Me.YAMLMap(t);if(e instanceof Map)for(let[i,s]of e)r.items.push(t.createPair(i,s,n));else if(e&&typeof e=="object")for(let i of Object.keys(e))r.items.push(t.createPair(i,e[i],n));return typeof t.sortMapEntries=="function"&&r.items.sort(t.sortMapEntries),r}var Gc={createNode:rU,default:!0,nodeClass:Me.YAMLMap,tag:"tag:yaml.org,2002:map",resolve:Me.resolveMap};function iU(t,e,n){let r=new Me.YAMLSeq(t);if(e&&e[Symbol.iterator])for(let i of e){let s=t.createNode(i,n.wrapScalars,null,n);r.items.push(s)}return r}var wd={createNode:iU,default:!0,nodeClass:Me.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve:Me.resolveSeq},sU={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:Me.resolveString,stringify(t,e,n,r){return e=Object.assign({actualString:!0},e),Me.stringifyString(t,e,n,r)},options:Me.strOptions},fT=[Gc,wd,sU],Ld=t=>typeof t=="bigint"||Number.isInteger(t),dT=(t,e,n)=>Me.intOptions.asBigInt?BigInt(t):parseInt(e,n);function hR(t,e,n){let{value:r}=t;return Ld(r)&&r>=0?n+r.toString(e):Me.stringifyNumber(t)}var mR={identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new Me.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:Me.nullOptions,stringify:()=>Me.nullOptions.nullStr},gR={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>t[0]==="t"||t[0]==="T",options:Me.boolOptions,stringify:({value:t})=>t?Me.boolOptions.trueStr:Me.boolOptions.falseStr},TR={identify:t=>Ld(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o([0-7]+)$/,resolve:(t,e)=>dT(t,e,8),options:Me.intOptions,stringify:t=>hR(t,8,"0o")},_R={identify:Ld,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:t=>dT(t,t,10),options:Me.intOptions,stringify:Me.stringifyNumber},yR={identify:t=>Ld(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x([0-9a-fA-F]+)$/,resolve:(t,e)=>dT(t,e,16),options:Me.intOptions,stringify:t=>hR(t,16,"0x")},NR={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Me.stringifyNumber},bR={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify:({value:t})=>Number(t).toExponential()},vR={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.([0-9]+)|[0-9]+\.([0-9]*))$/,resolve(t,e,n){let r=e||n,i=new Me.Scalar(parseFloat(t));return r&&r[r.length-1]==="0"&&(i.minFractionDigits=r.length),i},stringify:Me.stringifyNumber},oU=fT.concat([mR,gR,TR,_R,yR,NR,bR,vR]),IR=t=>typeof t=="bigint"||Number.isInteger(t),Dd=({value:t})=>JSON.stringify(t),PR=[Gc,wd,{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:Me.resolveString,stringify:Dd},{identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new Me.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Dd},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:Dd},{identify:IR,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:t=>Me.intOptions.asBigInt?BigInt(t):parseInt(t,10),stringify:({value:t})=>IR(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:Dd}];PR.scalarFallback=t=>{throw new SyntaxError(`Unresolved plain scalar ${JSON.stringify(t)}`)};var AR=({value:t})=>t?Me.boolOptions.trueStr:Me.boolOptions.falseStr,Wc=t=>typeof t=="bigint"||Number.isInteger(t);function Md(t,e,n){let r=e.replace(/_/g,"");if(Me.intOptions.asBigInt){switch(n){case 2:r=`0b${r}`;break;case 8:r=`0o${r}`;break;case 16:r=`0x${r}`;break}let s=BigInt(r);return t==="-"?BigInt(-1)*s:s}let i=parseInt(r,n);return t==="-"?-1*i:i}function pT(t,e,n){let{value:r}=t;if(Wc(r)){let i=r.toString(e);return r<0?"-"+n+i.substr(1):n+i}return Me.stringifyNumber(t)}var aU=fT.concat([{identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new Me.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:Me.nullOptions,stringify:()=>Me.nullOptions.nullStr},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>!0,options:Me.boolOptions,stringify:AR},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>!1,options:Me.boolOptions,stringify:AR},{identify:Wc,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^([-+]?)0b([0-1_]+)$/,resolve:(t,e,n)=>Md(e,n,2),stringify:t=>pT(t,2,"0b")},{identify:Wc,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^([-+]?)0([0-7_]+)$/,resolve:(t,e,n)=>Md(e,n,8),stringify:t=>pT(t,8,"0")},{identify:Wc,default:!0,tag:"tag:yaml.org,2002:int",test:/^([-+]?)([0-9][0-9_]*)$/,resolve:(t,e,n)=>Md(e,n,10),stringify:Me.stringifyNumber},{identify:Wc,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^([-+]?)0x([0-9a-fA-F_]+)$/,resolve:(t,e,n)=>Md(e,n,16),stringify:t=>pT(t,16,"0x")},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Me.stringifyNumber},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?([0-9][0-9_]*)?(\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify:({value:t})=>Number(t).toExponential()},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.([0-9_]*)$/,resolve(t,e){let n=new Me.Scalar(parseFloat(t.replace(/_/g,"")));if(e){let r=e.replace(/_/g,"");r[r.length-1]==="0"&&(n.minFractionDigits=r.length)}return n},stringify:Me.stringifyNumber}],Kn.binary,Kn.omap,Kn.pairs,Kn.set,Kn.intTime,Kn.floatTime,Kn.timestamp),lU={core:oU,failsafe:fT,json:PR,yaml11:aU},cU={binary:Kn.binary,bool:gR,float:vR,floatExp:bR,floatNaN:NR,floatTime:Kn.floatTime,int:_R,intHex:yR,intOct:TR,intTime:Kn.intTime,map:Gc,null:mR,omap:Kn.omap,pairs:Kn.pairs,seq:wd,set:Kn.set,timestamp:Kn.timestamp};function uU(t,e,n){if(e){let r=n.filter(s=>s.tag===e),i=r.find(s=>!s.format)||r[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return n.find(r=>(r.identify&&r.identify(t)||r.class&&t instanceof r.class)&&!r.format)}function fU(t,e,n){if(t instanceof Me.Node)return t;let{defaultPrefix:r,onTagObj:i,prevObjects:s,schema:a,wrapScalars:l}=n;e&&e.startsWith("!!")&&(e=r+e.slice(2));let u=uU(t,e,a.tags);if(!u){if(typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object")return l?new Me.Scalar(t):t;u=t instanceof Map?Gc:t[Symbol.iterator]?wd:Gc}i&&(i(u),delete n.onTagObj);let d={value:void 0,node:void 0};if(t&&typeof t=="object"&&s){let h=s.get(t);if(h){let g=new Me.Alias(h);return n.aliasNodes.push(g),g}d.value=t,s.set(t,d)}return d.node=u.createNode?u.createNode(n.schema,t,n):l?new Me.Scalar(t):t,e&&d.node instanceof Me.Node&&(d.node.tag=e),d.node}function dU(t,e,n,r){let i=t[r.replace(/\W/g,"")];if(!i){let s=Object.keys(t).map(a=>JSON.stringify(a)).join(", ");throw new Error(`Unknown schema "${r}"; use one of ${s}`)}if(Array.isArray(n))for(let s of n)i=i.concat(s);else typeof n=="function"&&(i=n(i.slice()));for(let s=0;s<i.length;++s){let a=i[s];if(typeof a=="string"){let l=e[a];if(!l){let u=Object.keys(e).map(d=>JSON.stringify(d)).join(", ");throw new Error(`Unknown custom tag "${a}"; use one of ${u}`)}i[s]=l}}return i}var pU=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0,vl=class{constructor({customTags:e,merge:n,schema:r,sortMapEntries:i,tags:s}){this.merge=!!n,this.name=r,this.sortMapEntries=i===!0?pU:i||null,!e&&s&&Kn.warnOptionDeprecation("tags","customTags"),this.tags=dU(lU,cU,e||s,r)}createNode(e,n,r,i){let s={defaultPrefix:vl.defaultPrefix,schema:this,wrapScalars:n},a=i?Object.assign(i,s):s;return fU(e,r,a)}createPair(e,n,r){r||(r={wrapScalars:!0});let i=this.createNode(e,r.wrapScalars,null,r),s=this.createNode(n,r.wrapScalars,null,r);return new Me.Pair(i,s)}};Od._defineProperty(vl,"defaultPrefix",Od.defaultTagPrefix);Od._defineProperty(vl,"defaultTags",Od.defaultTags);CR.Schema=vl});var RR=_e(Ud=>{"use strict";var $n=to(),Ve=bl(),ER=Fd(),hU={anchorPrefix:"a",customTags:null,indent:2,indentSeq:!0,keepCstNodes:!1,keepNodeTypes:!0,keepBlobsInJSON:!0,mapAsMap:!1,maxAliasCount:100,prettyErrors:!1,simpleKeys:!1,version:"1.2"},mU={get binary(){return Ve.binaryOptions},set binary(t){Object.assign(Ve.binaryOptions,t)},get bool(){return Ve.boolOptions},set bool(t){Object.assign(Ve.boolOptions,t)},get int(){return Ve.intOptions},set int(t){Object.assign(Ve.intOptions,t)},get null(){return Ve.nullOptions},set null(t){Object.assign(Ve.nullOptions,t)},get str(){return Ve.strOptions},set str(t){Object.assign(Ve.strOptions,t)}},SR={"1.0":{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:$n.defaultTagPrefix},{handle:"!!",prefix:"tag:private.yaml.org,2002:"}]},1.1:{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:$n.defaultTagPrefix}]},1.2:{schema:"core",merge:!1,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:$n.defaultTagPrefix}]}};function xR(t,e){if((t.version||t.options.version)==="1.0"){let i=e.match(/^tag:private\.yaml\.org,2002:([^:/]+)$/);if(i)return"!"+i[1];let s=e.match(/^tag:([a-zA-Z0-9-]+)\.yaml\.org,2002:(.*)/);return s?`!${s[1]}/${s[2]}`:`!${e.replace(/^tag:/,"")}`}let n=t.tagPrefixes.find(i=>e.indexOf(i.prefix)===0);if(!n){let i=t.getDefaults().tagPrefixes;n=i&&i.find(s=>e.indexOf(s.prefix)===0)}if(!n)return e[0]==="!"?e:`!<${e}>`;let r=e.substr(n.prefix.length).replace(/[!,[\]{}]/g,i=>({"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"})[i]);return n.handle+r}function gU(t,e){if(e instanceof Ve.Alias)return Ve.Alias;if(e.tag){let i=t.filter(s=>s.tag===e.tag);if(i.length>0)return i.find(s=>s.format===e.format)||i[0]}let n,r;if(e instanceof Ve.Scalar){r=e.value;let i=t.filter(s=>s.identify&&s.identify(r)||s.class&&r instanceof s.class);n=i.find(s=>s.format===e.format)||i.find(s=>!s.format)}else r=e,n=t.find(i=>i.nodeClass&&r instanceof i.nodeClass);if(!n){let i=r&&r.constructor?r.constructor.name:typeof r;throw new Error(`Tag not resolved for ${i} value`)}return n}function TU(t,e,{anchors:n,doc:r}){let i=[],s=r.anchors.getName(t);return s&&(n[s]=t,i.push(`&${s}`)),t.tag?i.push(xR(r,t.tag)):e.default||i.push(xR(r,e.tag)),i.join(" ")}function Vd(t,e,n,r){let{anchors:i,schema:s}=e.doc,a;if(!(t instanceof Ve.Node)){let d={aliasNodes:[],onTagObj:h=>a=h,prevObjects:new Map};t=s.createNode(t,!0,null,d);for(let h of d.aliasNodes){h.source=h.source.node;let g=i.getName(h.source);g||(g=i.newName(),i.map[g]=h.source)}}if(t instanceof Ve.Pair)return t.toString(e,n,r);a||(a=gU(s.tags,t));let l=TU(t,a,e);l.length>0&&(e.indentAtStart=(e.indentAtStart||0)+l.length+1);let u=typeof a.stringify=="function"?a.stringify(t,e,n,r):t instanceof Ve.Scalar?Ve.stringifyString(t,e,n,r):t.toString(e,n,r);return l?t instanceof Ve.Scalar||u[0]==="{"||u[0]==="["?`${l} ${u}`:`${l}
${e.indent}${u}`:u}var Bd=class{static validAnchorNode(e){return e instanceof Ve.Scalar||e instanceof Ve.YAMLSeq||e instanceof Ve.YAMLMap}constructor(e){$n._defineProperty(this,"map",Object.create(null)),this.prefix=e}createAlias(e,n){return this.setAnchor(e,n),new Ve.Alias(e)}createMergePair(...e){let n=new Ve.Merge;return n.value.items=e.map(r=>{if(r instanceof Ve.Alias){if(r.source instanceof Ve.YAMLMap)return r}else if(r instanceof Ve.YAMLMap)return this.createAlias(r);throw new Error("Merge sources must be Map nodes or their Aliases")}),n}getName(e){let{map:n}=this;return Object.keys(n).find(r=>n[r]===e)}getNames(){return Object.keys(this.map)}getNode(e){return this.map[e]}newName(e){e||(e=this.prefix);let n=Object.keys(this.map);for(let r=1;;++r){let i=`${e}${r}`;if(!n.includes(i))return i}}resolveNodes(){let{map:e,_cstAliases:n}=this;Object.keys(e).forEach(r=>{e[r]=e[r].resolved}),n.forEach(r=>{r.source=r.source.resolved}),delete this._cstAliases}setAnchor(e,n){if(e!=null&&!Bd.validAnchorNode(e))throw new Error("Anchors may only be set for Scalar, Seq and Map nodes");if(n&&/[\x00-\x19\s,[\]{}]/.test(n))throw new Error("Anchor names must not contain whitespace or control characters");let{map:r}=this,i=e&&Object.keys(r).find(s=>r[s]===e);if(i)if(n)i!==n&&(delete r[i],r[n]=e);else return i;else{if(!n){if(!e)return null;n=this.newName()}r[n]=e}return n}},qd=(t,e)=>{if(t&&typeof t=="object"){let{tag:n}=t;t instanceof Ve.Collection?(n&&(e[n]=!0),t.items.forEach(r=>qd(r,e))):t instanceof Ve.Pair?(qd(t.key,e),qd(t.value,e)):t instanceof Ve.Scalar&&n&&(e[n]=!0)}return e},_U=t=>Object.keys(qd(t,{}));function yU(t,e){let n={before:[],after:[]},r,i=!1;for(let s of e)if(s.valueRange){if(r!==void 0){let l="Document contains trailing content not separated by a ... or --- line";t.errors.push(new $n.YAMLSyntaxError(s,l));break}let a=Ve.resolveNode(t,s);i&&(a.spaceBefore=!0,i=!1),r=a}else s.comment!==null?(r===void 0?n.before:n.after).push(s.comment):s.type===$n.Type.BLANK_LINE&&(i=!0,r===void 0&&n.before.length>0&&!t.commentBefore&&(t.commentBefore=n.before.join(`
`),n.before=[]));if(t.contents=r||null,!r)t.comment=n.before.concat(n.after).join(`
`)||null;else{let s=n.before.join(`
`);if(s){let a=r instanceof Ve.Collection&&r.items[0]?r.items[0]:r;a.commentBefore=a.commentBefore?`${s}
${a.commentBefore}`:s}t.comment=n.after.join(`
`)||null}}function NU({tagPrefixes:t},e){let[n,r]=e.parameters;if(!n||!r){let i="Insufficient parameters given for %TAG directive";throw new $n.YAMLSemanticError(e,i)}if(t.some(i=>i.handle===n)){let i="The %TAG directive must only be given at most once per handle in the same document.";throw new $n.YAMLSemanticError(e,i)}return{handle:n,prefix:r}}function bU(t,e){let[n]=e.parameters;if(e.name==="YAML:1.0"&&(n="1.0"),!n){let r="Insufficient parameters given for %YAML directive";throw new $n.YAMLSemanticError(e,r)}if(!SR[n]){let i=`Document will be parsed as YAML ${t.version||t.options.version} rather than YAML ${n}`;t.warnings.push(new $n.YAMLWarning(e,i))}return n}function vU(t,e,n){let r=[],i=!1;for(let s of e){let{comment:a,name:l}=s;switch(l){case"TAG":try{t.tagPrefixes.push(NU(t,s))}catch(u){t.errors.push(u)}i=!0;break;case"YAML":case"YAML:1.0":if(t.version){let u="The %YAML directive must only be given at most once per document.";t.errors.push(new $n.YAMLSemanticError(s,u))}try{t.version=bU(t,s)}catch(u){t.errors.push(u)}i=!0;break;default:if(l){let u=`YAML only supports %TAG and %YAML directives, and not %${l}`;t.warnings.push(new $n.YAMLWarning(s,u))}}a&&r.push(a)}if(n&&!i&&(t.version||n.version||t.options.version)==="1.1"){let s=({handle:a,prefix:l})=>({handle:a,prefix:l});t.tagPrefixes=n.tagPrefixes.map(s),t.version=n.version}t.commentBefore=r.join(`
`)||null}function Il(t){if(t instanceof Ve.Collection)return!0;throw new Error("Expected a YAML collection as document contents")}var Pl=class{constructor(e){this.anchors=new Bd(e.anchorPrefix),this.commentBefore=null,this.comment=null,this.contents=null,this.directivesEndMarker=null,this.errors=[],this.options=e,this.schema=null,this.tagPrefixes=[],this.version=null,this.warnings=[]}add(e){return Il(this.contents),this.contents.add(e)}addIn(e,n){Il(this.contents),this.contents.addIn(e,n)}delete(e){return Il(this.contents),this.contents.delete(e)}deleteIn(e){return Ve.isEmptyPath(e)?this.contents==null?!1:(this.contents=null,!0):(Il(this.contents),this.contents.deleteIn(e))}getDefaults(){return Pl.defaults[this.version]||Pl.defaults[this.options.version]||{}}get(e,n){return this.contents instanceof Ve.Collection?this.contents.get(e,n):void 0}getIn(e,n){return Ve.isEmptyPath(e)?!n&&this.contents instanceof Ve.Scalar?this.contents.value:this.contents:this.contents instanceof Ve.Collection?this.contents.getIn(e,n):void 0}has(e){return this.contents instanceof Ve.Collection?this.contents.has(e):!1}hasIn(e){return Ve.isEmptyPath(e)?this.contents!==void 0:this.contents instanceof Ve.Collection?this.contents.hasIn(e):!1}set(e,n){Il(this.contents),this.contents.set(e,n)}setIn(e,n){Ve.isEmptyPath(e)?this.contents=n:(Il(this.contents),this.contents.setIn(e,n))}setSchema(e,n){if(!e&&!n&&this.schema)return;typeof e=="number"&&(e=e.toFixed(1)),e==="1.0"||e==="1.1"||e==="1.2"?(this.version?this.version=e:this.options.version=e,delete this.options.schema):e&&typeof e=="string"&&(this.options.schema=e),Array.isArray(n)&&(this.options.customTags=n);let r=Object.assign({},this.getDefaults(),this.options);this.schema=new ER.Schema(r)}parse(e,n){this.options.keepCstNodes&&(this.cstNode=e),this.options.keepNodeTypes&&(this.type="DOCUMENT");let{directives:r=[],contents:i=[],directivesEndMarker:s,error:a,valueRange:l}=e;if(a&&(a.source||(a.source=this),this.errors.push(a)),vU(this,r,n),s&&(this.directivesEndMarker=!0),this.range=l?[l.start,l.end]:null,this.setSchema(),this.anchors._cstAliases=[],yU(this,i),this.anchors.resolveNodes(),this.options.prettyErrors){for(let u of this.errors)u instanceof $n.YAMLError&&u.makePretty();for(let u of this.warnings)u instanceof $n.YAMLError&&u.makePretty()}return this}listNonDefaultTags(){return _U(this.contents).filter(e=>e.indexOf(ER.Schema.defaultPrefix)!==0)}setTagPrefix(e,n){if(e[0]!=="!"||e[e.length-1]!=="!")throw new Error("Handle must start and end with !");if(n){let r=this.tagPrefixes.find(i=>i.handle===e);r?r.prefix=n:this.tagPrefixes.push({handle:e,prefix:n})}else this.tagPrefixes=this.tagPrefixes.filter(r=>r.handle!==e)}toJSON(e,n){let{keepBlobsInJSON:r,mapAsMap:i,maxAliasCount:s}=this.options,a=r&&(typeof e!="string"||!(this.contents instanceof Ve.Scalar)),l={doc:this,indentStep:"  ",keep:a,mapAsMap:a&&!!i,maxAliasCount:s,stringify:Vd},u=Object.keys(this.anchors.map);u.length>0&&(l.anchors=new Map(u.map(h=>[this.anchors.map[h],{alias:[],aliasCount:0,count:1}])));let d=Ve.toJSON(this.contents,e,l);if(typeof n=="function"&&l.anchors)for(let{count:h,res:g}of l.anchors.values())n(g,h);return d}toString(){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");let e=this.options.indent;if(!Number.isInteger(e)||e<=0){let u=JSON.stringify(e);throw new Error(`"indent" option must be a positive integer, not ${u}`)}this.setSchema();let n=[],r=!1;if(this.version){let u="%YAML 1.2";this.schema.name==="yaml-1.1"&&(this.version==="1.0"?u="%YAML:1.0":this.version==="1.1"&&(u="%YAML 1.1")),n.push(u),r=!0}let i=this.listNonDefaultTags();this.tagPrefixes.forEach(({handle:u,prefix:d})=>{i.some(h=>h.indexOf(d)===0)&&(n.push(`%TAG ${u} ${d}`),r=!0)}),(r||this.directivesEndMarker)&&n.push("---"),this.commentBefore&&((r||!this.directivesEndMarker)&&n.unshift(""),n.unshift(this.commentBefore.replace(/^/gm,"#")));let s={anchors:Object.create(null),doc:this,indent:"",indentStep:" ".repeat(e),stringify:Vd},a=!1,l=null;if(this.contents){this.contents instanceof Ve.Node&&(this.contents.spaceBefore&&(r||this.directivesEndMarker)&&n.push(""),this.contents.commentBefore&&n.push(this.contents.commentBefore.replace(/^/gm,"#")),s.forceBlockIndent=!!this.comment,l=this.contents.comment);let u=l?null:()=>a=!0,d=Vd(this.contents,s,()=>l=null,u);n.push(Ve.addComment(d,"",l))}else this.contents!==void 0&&n.push(Vd(this.contents,s));return this.comment&&((!a||l)&&n[n.length-1]!==""&&n.push(""),n.push(this.comment.replace(/^/gm,"#"))),n.join(`
`)+`
`}};$n._defineProperty(Pl,"defaults",SR);Ud.Document=Pl;Ud.defaultOptions=hU;Ud.scalarOptions=mU});var wR=_e(OR=>{"use strict";var hT=Jx(),Xo=RR(),IU=Fd(),PU=to(),AU=kd();bl();function CU(t,e=!0,n){n===void 0&&typeof e=="string"&&(n=e,e=!0);let r=Object.assign({},Xo.Document.defaults[Xo.defaultOptions.version],Xo.defaultOptions);return new IU.Schema(r).createNode(t,e,n)}var Hc=class extends Xo.Document{constructor(e){super(Object.assign({},Xo.defaultOptions,e))}};function EU(t,e){let n=[],r;for(let i of hT.parse(t)){let s=new Hc(e);s.parse(i,r),n.push(s),r=s}return n}function kR(t,e){let n=hT.parse(t),r=new Hc(e).parse(n[0]);if(n.length>1){let i="Source contains multiple documents; please use YAML.parseAllDocuments()";r.errors.unshift(new PU.YAMLSemanticError(n[1],i))}return r}function SU(t,e){let n=kR(t,e);if(n.warnings.forEach(r=>AU.warn(r)),n.errors.length>0)throw n.errors[0];return n.toJSON()}function xU(t,e){let n=new Hc(e);return n.contents=t,String(n)}var RU={createNode:CU,defaultOptions:Xo.defaultOptions,Document:Hc,parse:SU,parseAllDocuments:EU,parseCST:hT.parse,parseDocument:kR,scalarOptions:Xo.scalarOptions,stringify:xU};OR.YAML=RU});var mT=_e((Fie,LR)=>{LR.exports=wR().YAML});var DR=_e(zn=>{"use strict";var Rr=bl(),kU=Fd();to();kd();zn.Alias=Rr.Alias;zn.Collection=Rr.Collection;zn.Merge=Rr.Merge;zn.Node=Rr.Node;zn.Pair=Rr.Pair;zn.Scalar=Rr.Scalar;zn.YAMLMap=Rr.YAMLMap;zn.YAMLSeq=Rr.YAMLSeq;zn.binaryOptions=Rr.binaryOptions;zn.boolOptions=Rr.boolOptions;zn.intOptions=Rr.intOptions;zn.nullOptions=Rr.nullOptions;zn.strOptions=Rr.strOptions;zn.Schema=kU.Schema});var Qn,Bie,qie,Uie,jie,Gie,Wie,Hie,Yie,Kie,$ie,MR,Yc,Kc,Al,gT=x(()=>{Qn=Ge(DR(),1),Bie=Qn.default.binaryOptions,qie=Qn.default.boolOptions,Uie=Qn.default.intOptions,jie=Qn.default.nullOptions,Gie=Qn.default.strOptions,Wie=Qn.default.Schema,Hie=Qn.default.Alias,Yie=Qn.default.Collection,Kie=Qn.default.Merge,$ie=Qn.default.Node,MR=Qn.default.Pair,Yc=Qn.default.Scalar,Kc=Qn.default.YAMLMap,Al=Qn.default.YAMLSeq});var FR,TT,VR=x(()=>{FR=Ge(mT());gT();Rc();TT=class{constructor(e){this.documentScope=null;this.project=e}getKeyValue(e){return e instanceof Yc?e.value:""}getNodeValue(e){return e instanceof Yc?e.value:e instanceof Kc?this.analyzeDocument(e.items):e instanceof Al?this.analyzeDocument(e.items):""}getScalarRuntimeType(e){return parseFloat(e).toString()==e||parseInt(e).toString()==e?"number":"string"}analyzeDocument(e){let n=new Sr(this.project);return e.forEach(r=>{if(r instanceof MR){let i=this.getKeyValue(r.key),s=this.getNodeValue(r.value);if(r.value instanceof Yc)n.addVariable({dataType:this.getScalarRuntimeType(s),introducedBy:null,name:i,sourceField:null,sourceName:"*frontmatter"});else if(r.value instanceof Al&&r.key instanceof Yc){let a=new Sr(this.project);r.value.items.forEach(l=>{let u=this.getNodeValue(l);a.addVariable({dataType:this.getScalarRuntimeType(u),introducedBy:null,name:l.value,sourceField:null,sourceName:"*frontmatter"})}),n.addScopeList(r.key.value,a)}else n.addScopeList(i,s)}}),n}parse(e){let n=FR.parseDocument(e);try{n.contents instanceof Kc&&(this.documentScope=this.analyzeDocument(n.contents.items))}catch{this.documentScope=null}}hasScope(){return this.documentScope!=null}getScope(){return this.documentScope}}});var _T,BR=x(()=>{nt();Jg();yd();_T=class{constructor(e){this.doc=e}getAncestors(e){return Wo.findAncestorsBeforePosition(e,this.doc.getAllAntlersNodes())}getNodeAt(e){return Ft.findNodeAtPosition(e,this.doc.getDocumentParser().getNodes())}getNodesBefore(e){return Ft.findNodesBeforePosition(e,this.doc.getDocumentParser().getNodes())}getNodeBefore(e){return Ft.findNodeBeforePosition(e,this.doc.getDocumentParser().getNodes())}getNodeAfter(e){return Ft.findNodeAfterPosition(e,this.doc.getDocumentParser().getNodes())}getNodesAfter(e){return Ft.findNodesAfterPosition(e,this.doc.getDocumentParser().getNodes())}getIsWithinPairedNode(e){let n=this.getNodeBefore(e);return n==null?!1:Wo.isPairedNode(n)}filter(e){return this.doc.getDocumentParser().getNodes().filter(e)}getComments(){let e=[];return this.doc.getAllNodes().forEach(n=>{n instanceof Z&&n.isComment&&e.push(n)}),e}getMultilineNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{var r,i;n instanceof Z&&!n.isComment&&((r=n.startPosition)==null?void 0:r.line)!=((i=n.endPosition)==null?void 0:i.line)&&e.push(n)}),e}getMultiLineComments(){let e=[];return this.getComments().forEach(n=>{var r,i;((r=n.startPosition)==null?void 0:r.line)!=((i=n.endPosition)==null?void 0:i.line)&&e.push(n)}),e}getAllLiteralNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof xt||n instanceof vn)&&e.push(n)}),e}getStructuralNodes(){let e=[];return this.doc.getDocumentParser().getRenderNodes().forEach(n=>{n instanceof Z?e.push(n):n instanceof Fn&&n.logicBranches.length>0&&n.logicBranches.forEach(r=>{if(r.head!=null){let i=r.head;i.originalNode!=null?e.push(i.originalNode):e.push(i)}})}),e}getAllRuntimeNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof _r||n instanceof Z)&&n.runtimeNodes.length>0&&n.runtimeNodes.forEach(r=>{e.push(r)})}),e}getAllParameterNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof _r||n instanceof Z)&&n.hasParameters&&n.parameters.forEach(r=>{e.push(r)})}),e}getAssignmentNodes(){return Ft.findAssignmentNodes(this.getAllRuntimeNodes())}}});var yT,qR=x(()=>{nt();yT=class{constructor(e){this.doc=e}getAllSelfClosingNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{n instanceof Z&&n.isSelfClosing&&e.push(n)}),e}getAllPairedNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof Z||n instanceof St)&&n.isClosedBy!=null&&!n.isSelfClosing&&e.push(n)}),e}}});var jd,UR=x(()=>{Sn();jd=class{static printComment(e,n,r){let i=e.getContent(),s=i.trim();if(s.includes(`
`)){let a=te.breakByNewLine(i.trim()),l=[];a.forEach(h=>{l.push(" ".repeat(n+r)+h.trim())});let u=l.join(`
`),d=`{{#
`;return d+=u,d+=`
`+" ".repeat(r)+"#}}",d}return"{{# "+s+" #}}"}}});var Cl,jR=x(()=>{Sn();Cl=class{static indentRelative(e,n){let r=te.breakByNewLine(e),i=[];for(let l=0;l<r.length;l++)if(r[l].trim().length>0){i=r.slice(l);break}for(let l=i.length-1;l>=0&&i[l].trim().length==0;l--)i.pop();let s=-1,a="";for(let l=0;l<i.length;l++){let u=i[l],d=u.trimLeft(),h=u.length-d.length;(l==0||h<s)&&(s=h,a=u)}if(s>=0){let l=" ".repeat(n);for(let u=0;u<i.length;u++){let d=i[u];if(d.trim().length==0){i[u]="";continue}let h=d.substring(s);if(u==0){i[u]=d.trimLeft();continue}else i[u]=l+h}}return i.join(`
`)}static shiftIndent(e,n,r=!1,i=4,s=!0){n<0&&(n=0);let a=te.breakByNewLine(e.trim()),l=[];for(let d=0;d<a.length;d++){if(d==0&&r){l.push(a[d]);continue}let h=a[d];l.push(" ".repeat(n)+h)}let u=l.join(`
`);if(s&&l.length>0&&n-i>i&&l[l.length-1].trim()==") }}"){a=te.breakByNewLine(u.trim()),l=[];for(let d=0;d<a.length;d++){if(d==0&&r){l.push(a[d]);continue}let h=a[d];if(d==a.length-1){l.push(h);break}l.push(" ".repeat(i)+h)}u=l.join(`
`)}return u}static shiftClean(e,n){let r=te.breakByNewLine(e),i=[],s=" ".repeat(n),a=!1;return r.forEach(l=>{l.trim().length>0&&(a=!0),!!a&&i.push(s+l)}),i.join(`
`)}static inferIndentLevel(e,n,r){let i=0,s=-1;for(let a=0;a<e.length;a++){let l=e[a];if(l.includes(n)){let u=l.trimLeft();i=l.length-u.length,s=a;break}}if(s>0)for(let a=s-1;a>=0;a--){let l=e[a],u=l.trim(),d=l.trimLeft(),h=l.length-u.length;if(d.length!=0&&h!=i&&h<i){let g=i-h;return{targetLevel:i,referenceLevel:h,sourceTabSize:g}}}return{targetLevel:i,referenceLevel:i,sourceTabSize:r}}static indent(e,n,r){let i=Cl.inferIndentLevel(e,n,r);return" ".repeat(i.targetLevel)}}});var NT,GR=x(()=>{ii();NT=class{constructor(e,n,r){this.buffer="";this.closeString="";this.relativeIndentSize=0;this.indentSeed=0;this.baseIndent=n,e.isInterpolationNode?(this.buffer="{",this.closeString="}"):(this.buffer="{{ ",e.isSelfClosing?this.closeString=" /}}":this.closeString=" }}"),r!=null&&r.trim().length>0&&(this.buffer+=r+" ")}setIndentSeed(e){return this.indentSeed=e,this}close(){return this.closeString==" }}"?this.buffer.endsWith(" ")?this.buffer+="}}":this.buffer+=this.closeString:this.buffer+=this.closeString,this}appendT(e){return this.buffer.endsWith(" ")&&(this.buffer=this.buffer.trimEnd()),this.buffer+=e,this}appendTS(e){return this.buffer.endsWith(" ")&&(this.buffer=this.buffer.trimEnd()),this.buffer.endsWith("{")&&(e=e.trimStart()),this.buffer+=e,this}append(e){return this.buffer+=e,this}appendOS(e){return this.buffer.endsWith(" ")==!1&&this.buffer.endsWith("(")==!1&&this.buffer.endsWith("{")==!1&&this.buffer.endsWith("[")==!1&&this.buffer.endsWith(":")==!1&&(this.buffer+=" "),this.append(e)}appendS(e){let n="";return this.buffer.endsWith(" ")==!1&&(n+=" "),n+=e+" ",this.buffer+=n,this}indent(){let e=this.baseIndent;return e==0?e=1:e+=2,this.relativeIndentSize>0&&(e+=this.relativeIndentSize),this.buffer+=" ".repeat(e),this}addIndent(e){return e<=0?this:(this.buffer+=" ".repeat(e),this)}paramS(e){let n=" ";return e.isVariableReference&&(n+=":"),n+=e.name+"="+e.nameDelimiter+e.value+e.nameDelimiter,this.append(n),this}replace(e,n){return this.buffer=Vr(this.buffer,e,n),this}relativeIndent(e){let n=this.buffer.split(`
`);if(n.length==0)return this;let r=n[n.length-1].trimEnd();return r.endsWith("(")&&(r=r.slice(0,-1)),r.endsWith(e)==!1?this:(this.relativeIndentSize=r.lastIndexOf(e),this)}newlineIndent(){return this.newLine(),this.indent(),this}newlineNDIndent(){return this.buffer=this.buffer.trimEnd(),this.newLine(),this.indent(),this}newLine(){return this.buffer+=`
`,this}getContent(){return this.buffer}endsWith(e){return this.buffer.endsWith(e)}}});var $c,WR=x(()=>{ii();nt();wc();Su();GR();$c=class{static prettyPrintNode(e,n,r,i,s,a){var h,g,N,y,T,C,D;let l=e.getTrueRuntimeNodes(),u=0,d=0;if(l.length>0){let _=new NT(e,r,s);a!=null&&_.setIndentSeed(a);let A=null;for(let S=0;S<l.length;S++){let w=l[S];if(A!=null&&((h=w.endPosition)==null?void 0:h.isBefore(A.startPosition)))continue;let J=!1;if(w instanceof un?!(w.next instanceof un)&&w.next!=null&&(!Zt.isOperatorType(w.next)||!Zt.isAssignmentOperator(w.next))&&!(w.next instanceof In)&&!(w.next instanceof Ht)&&!w.isSwitchGroupMember&&!Zt.isOperatorType(w.next)&&(J=!0,w.next instanceof Se&&w.next.name=="as"&&(J=!1)):!((g=w.prev)==null?void 0:g.isVirtual)&&((N=w.prev)==null?void 0:N.isVirtualGroupOperatorResolve)&&w.prev.producesVirtualStatementTerminator&&w.next!=null&&(w.prev instanceof Se||_.newlineIndent()),w instanceof Se){if(w.convertedToOperator){if(w.name=="arr")_.appendT(" arr");else if(w.name=="switch"||w.name=="list")if(_.appendTS(" "+w.name),S+1<l.length){if(!(l[S+1]instanceof hn))break;_.append("("),w.name!="list"&&_.relativeIndent(w.name).newLine().indent(),S+=1,A=l[S+1];continue}else break;else d+=1,d>1?_.newlineNDIndent().indent().addIndent(6).appendS(w.name):_.appendS(w.name);A=w;continue}w.mergeRefName!=null&&w.mergeRefName.trim().length>0&&w.mergeRefName!=w.name?_.append(w.mergeRefName.trim()):w.name=="as"?_.appendOS("as"):_.append(w.name.trim())}else if(w instanceof Ni)if(_.appendTS(" list"),S+1<l.length){if(!(l[S+1]instanceof hn))break;_.append("("),S+=1,A=l[S+1];continue}else break;else if(w instanceof Bn)_.appendS("|");else if(w instanceof Ht){if(A!=null&&((y=w.startPosition)==null?void 0:y.isBefore(A.endPosition))||w.next instanceof Se&&w.next.mergeRefName.startsWith(":"))continue;if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(w)){_.endsWith(":")||_.append(":");continue}if(w.prev!=null&&w.next!=null&&vt.distance(w.prev,w)<=1&&vt.distance(w.next,w)<=1){_.append(":"),A=w;continue}if(n.getDocumentParser().getLanguageParser().isActualModifierSeparator(w)){_.append(":"),A=w;continue}if(A instanceof xn||A instanceof fn){_.append(":"),A=w;continue}_.appendS(":")}else if(w instanceof xn)_.append(w.name);else if(w instanceof _i)_.appendS("?");else if(w instanceof qn){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(w))continue;if(w.isTenaryBranchSeparator){_.appendS(":"),A=w;continue}if(n.getDocumentParser().getLanguageParser().isActualModifierSeparator(w)){_.append(":"),A=w;continue}_.append(":")}else if(w instanceof fn)_.append(w.value.trim());else if(w instanceof hn)_.append("(");else if(w instanceof un)_.append(")");else if(w instanceof Yt){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(w))continue;w.sourceContent!=""?_.appendOS(w.sourceContent):_.appendOS(w.sourceTerminator+w.value+w.sourceTerminator)}else if(w instanceof Xt)w.isSwitchGroupMember?_.append(",").newlineIndent():_.append(", ");else if(w instanceof tn){if(A=w,n.getDocumentParser().getLanguageParser().isMergedVariableComponent(w))continue;let Y=(C=(T=w.value)==null?void 0:T.toString())!=null?C:"";w.rawLexContent!=null&&w.rawLexContent.trim().length>0&&(Y=w.rawLexContent.trim()),_.append(Y)}else if(w instanceof vr)_.appendS("=");else if(w instanceof Un)_.appendS("=>");else if(w instanceof yr)_.appendS("+");else if(w instanceof Vn){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(w)){_.append("-");continue}if(w.prev!=null&&w.next!=null&&vt.distance(w.prev,w)<=1&&vt.distance(w.next,w)<=1){w.next instanceof tn&&w.prev instanceof tn?_.appendS("-"):_.append("-"),A=w;continue}_.appendS("-")}else if(w instanceof br)_.appendS("*");else if(w instanceof Nr){if(A=w,(D=w.startPosition)==null?void 0:D.isBefore(e.nameEndsOn)){_.append("/");continue}if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(w))continue;_.appendS("/");continue}else w instanceof In?w.isListGroupMember?(_.append(";").newlineIndent().indent().addIndent(7),S+1<l.length&&!(l[S+1]instanceof un)&&_.indent()):(u+=1,u<i.maxAntlersStatementsPerLine?_.appendT("; "):(_.appendT(";").newlineIndent(),u=0)):w instanceof Pn?w.content=="not"?_.appendS("not"):_.append("!"):_.appendS(w.rawContent());J&&_.newlineIndent(),A=w}e.hasParameters&&e.parameters.forEach(S=>{_.paramS(S)}),_.close();let b=_.getContent();return e.processedInterpolationRegions.size>0&&e.processedInterpolationRegions.forEach((S,w)=>{let J=$c.prettyPrintNode(S[0],n,r,i,null,null);b=Vr(b,w,J)}),b}return e.getTrueRawContent()}}});var zc,HR=x(()=>{ii();Ta();nt();Sn();Fo();UR();jR();WR();zc=class{constructor(e){this.htmlFormatter=null;this.yamlFormatter=null;this.phpFormatter=null;this.slugs=[];this.removeLines=[];this.virtualStructureOpens=[];this.virtualStructureClose=[];this.structureLines=[];this.parentTransformer=null;this.tagPairs=new Map;this.conditions=[];this.inlineIfs=new Map;this.createExraStructuralPairs=!1;this.spanNodes=new Map;this.inlineNodes=new Map;this.virtualBlocks=[];this.inlineComments=new Map;this.blockComments=[];this.extractedEmbeddedDocuments=new Map;this.dynamicElementAntlers=new Map;this.dynamicElementAntlersNodes=new Map;this.dynamicElementPairedAntlers=new Map;this.dynamicElementPairedAntlersNodes=new Map;this.dynamicElementConditionAntlers=new Map;this.dynamicElementConditionAntlersNodes=new Map;this.noParses=new Map;this.forceBreaks=[];this.forceCleanLines=["{{ if ","{{ /if","{{ /unless","{{ /noparse","{{ else","{{ unless"];this.doc=e,this.options={tabSize:4,newlinesAfterFrontMatter:1,maxAntlersStatementsPerLine:3,endNewline:!0}}produceExtraStructuralPairs(e){return this.createExraStructuralPairs=e,this}withHtmlFormatter(e){return this.htmlFormatter=e,this}withYamlFormatter(e){return this.yamlFormatter=e,this}withPhpFormatter(e){return this.phpFormatter=e,this}withOptions(e){return this.options=e,this.options.tabSize<=0&&(this.options.tabSize=4),this.options.newlinesAfterFrontMatter<0&&(this.options.newlinesAfterFrontMatter=1),this}setParentTransformer(e){return this.parentTransformer=e,this}close(e){return"</"+e+">"}open(e){return"<"+e+">"}selfClosing(e){return"<"+e+" />"}pair(e,n=""){return"<"+e+">"+n+"</"+e+">"}makeSlug(e){e<=2&&(e=7);let n="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=r.length;for(let a=0;a<e-1;a++)n+=r.charAt(Math.floor(Math.random()*i));let s="A"+n+"A";return this.slugs.includes(s)?this.makeSlug(e+1):(this.slugs.push(s),s)}transformInlineConditions(e){let n=e;return this.inlineIfs.forEach((r,i)=>{n=n.replace(i,r.nodeContent)}),n}registerCondition(e){this.parentTransformer!=null?this.parentTransformer.registerCondition(e):this.conditions.push(e)}registerInlineCondition(e,n){this.parentTransformer!=null?this.parentTransformer.registerInlineCondition(e,n):this.inlineIfs.set(e,n)}registerVirtualBlock(e){this.parentTransformer!=null?this.parentTransformer.registerVirtualBlock(e):this.virtualBlocks.push(e)}registerNoParse(e,n){this.parentTransformer!=null?this.parentTransformer.registerNoParse(e,n):this.noParses.set(e,n)}prepareNoParse(e){let n=this.makeSlug(35);return this.registerNoParse(n,e),n}registerForcedBreak(){if(this.parentTransformer!=null)return this.parentTransformer.registerForcedBreak();{let e=this.makeSlug(15),n=this.makeSlug(10);return this.forceBreaks.push(e),this.forceBreaks.push(n),this.removeLines.push(this.open(e)),this.removeLines.push(this.close(e)),this.removeLines.push(this.selfClosing(n)),this.pair(e,this.selfClosing(n))}}transformVirtualStructures(e){let n=e;return this.virtualBlocks.forEach(r=>{var s;this.removeLines.push(r.pairClose);let i=this.indentLevel(r.pairOpen);if(r.virtualElement.length>0&&(this.removeLines.push(this.open(r.virtualElement)),this.removeLines.push(this.close(r.virtualElement))),r.node instanceof vn){let a="{{ noparse }}"+r.node.getInnerDocumentText();n=n.replace(r.pairOpen,a)}if(r.node instanceof Z){let a=r.node;n=n.replace(r.pairClose,(s=a.isClosedBy)==null?void 0:s.getOriginalContent())}else this.removeLines.push(r.pairClose)}),this.noParses.forEach((r,i)=>{n=n.replace(i,`{{ noparse }}${r.getInnerDocumentText()}{{ /noparse }}`)}),n}printNode(e,n=null){let r=e.getTrueNode();if((r.rawStart=="{{?"||r.rawStart=="{{$")&&this.phpFormatter!=null)try{let l=this.phpFormatter(r.content);return`${r.rawStart} ${l} ${r.rawEnd}`}catch{}let i=this.doc;e.childDocument!=null&&(i=e.childDocument.document);let s=null;if(Tr.isConditionalStructure(e)&&(s=r.runtimeName(),e.isClosingTag&&(s=="if"||s=="unless")))return`{{ /${s} }}`;if(e.isClosingTag)return r.runtimeName()=="endunless"?"{{ /unless }}":`{{ ${r.content.trim()} }}`;let a=$c.prettyPrintNode(r,i,0,this.options,s,null);return n!=null&&a.includes(`
`)&&(a=Cl.shiftIndent(a,n-this.options.tabSize*2,!0)),a}transformConditions(e){let n=e;return this.conditions.forEach(r=>{r.structures.forEach(i=>{let s=i.branch.head;if(i.virtualBreakOpen.length>0&&this.removeLines.push(i.virtualBreakOpen),i.virtualBreakClose.length>0&&(n=n.replace(i.virtualBreakClose,i.virtualBreakClose+`
`),this.removeLines.push(i.virtualBreakClose)),this.virtualStructureOpens.push(i.virtualOpen),this.removeLines.push(i.virtualOpen),this.removeLines.push(i.virtualClose),i.isLast){let a=this.selfClosing(i.virtualSlug);n.includes(a)&&(n=n.replace(a,i.doc.trim())),n=n.replace(i.pairOpen,this.printNode(s,this.indentLevel(i.pairOpen))),n=n.replace(i.pairClose,this.printNode(s.isClosedBy))}else{let a=this.selfClosing(i.virtualSlug);n.includes(a)&&(n=n.replace(a,i.doc.trim())),this.removeLines.push(i.pairClose),n=n.replace(i.pairOpen,this.printNode(s,this.indentLevel(i.pairOpen)))}})}),n}transformExtractedDocuments(e){let n=e;return this.extractedEmbeddedDocuments.forEach((r,i)=>{let s="",a=0;r.isScript?s="//"+i:s="/*"+i+"*/",a=this.indentLevel(s),n.includes(s)&&(n=n.replace(s,Cl.indentRelative(r.content,a)))}),n}getAntlersChildDoc(e){return e.childDocument!=null?e.childDocument.document.transform().setParentTransformer(this).toStructure():this.clone().toStructure(e.getImmediateChildren())}prepareCondition(e){let n=e.logicBranches[0].head;if(n.fragmentPosition==2||n.fragmentPosition==1){let u=this.makeSlug(e.nodeContent.length);return this.registerInlineCondition(u,e),u}if(n.fragmentPosition==0)return this.prepareDynamicCondition(e);let r=[],i="";n.prev instanceof Z&&n.prev.isInlineAntlers&&(i+=this.registerForcedBreak()),e.logicBranches.forEach((u,d)=>{var C,D,_,A;let h=u.head,g=this.getAntlersChildDoc(u),N=this.makeSlug(h.sourceContent.length),y=this.makeSlug(10),T={branch:u,slug:N,doc:g,pairOpen:this.open(N),pairClose:this.close(N),virtualOpen:this.open(y),virtualClose:this.close(y),virtualSlug:y,isFirst:d==0,isLast:d==e.logicBranches.length-1,virtualBreakClose:"",virtualBreakOpen:""};if(((D=(C=u.head)==null?void 0:C.name)==null?void 0:D.getCompoundTagName())=="else"){i+=`
`+T.pairOpen;let b=this.makeSlug(25);this.createExraStructuralPairs&&u.head.containsChildStructures==!1&&u.head.containsAnyFragments==!1?(T.virtualBreakOpen=this.open(b),T.virtualBreakClose=this.close(b),T.virtualSlug=b,i+=`
`+this.selfClosing(b),i+=T.pairClose+`
`):(T.virtualBreakOpen=this.selfClosing(b),i+=T.virtualBreakOpen+`
`,i+=g,i+=`
`+T.pairClose)}else if(this.createExraStructuralPairs&&((_=u.head)==null?void 0:_.containsAnyFragments)==!1&&((A=u.head)==null?void 0:A.containsChildStructures)==!1){let b=this.makeSlug(25);T.virtualBreakOpen=this.open(b),T.virtualBreakClose=this.close(b),T.virtualSlug=b,i+=`
`+T.pairOpen,i+=`
`+this.selfClosing(b),i+=T.pairClose+`
`}else i+=T.pairOpen,i+=`
`,i+=g,i+=`
`,i+=T.pairClose;r.push(T)});let s=r[0].pairOpen,a=r[r.length-1].pairClose,l={pairOpen:s,pairClose:a,structures:r,condition:e};return this.registerCondition(l),i}registerPairedAntlers(e,n){this.parentTransformer!=null?this.parentTransformer.registerPairedAntlers(e,n):this.tagPairs.set(e,n)}preparePairedAntlers(e){let n=this.makeSlug(e.getOriginalContent().length),r=this.getAntlersChildDoc(e);if(e.fragmentPosition!=0){let i="",s="";if(e.prev instanceof Z&&e.prev.isPaired()==!1&&(s+=this.registerForcedBreak()),s+=`${this.open(n)}
`,e.containsChildStructures==!1&&e.containsAnyFragments==!1){let a=!1,l=!0,u=!0,d=0;for(let g=0;g<e.children.length;g++){let N=e.children[g];if(N instanceof xt&&N.sourceContent.trim().length>0){a=!0,l=!1;break}}e.children.length==2&&e.children[0]instanceof Z&&(a=!0);let h=0;for(let g=0;g<e.children.length-1;g++){let N=e.children[g];N instanceof Z&&(d+=1,N.isInlineAntlers?h+=1:u=!1)}h==0&&(a=!0),u==!1&&(a=!1),l==!1&&d==0&&(a=!1),a?(i=this.makeSlug(15),s+=this.pair(i,r)):s+=r}else s+=r;return s+=`
${this.close(n)}
`,this.virtualStructureOpens.push(this.open(i)),this.virtualStructureClose.push(this.close(i)),this.virtualStructureClose.push(this.close(n)),this.registerPairedAntlers(n,{innerDoc:r,slug:n,tag:e,virtualElementSlug:i,isInline:!1}),s}return this.prepareConditionalAntlersPair(e)}registerInlineAntlers(e){if(this.parentTransformer!=null)return this.parentTransformer.registerInlineAntlers(e);{let n=this.makeSlug(e.getOriginalContent().length);return e.isInlineAntlers?(this.spanNodes.set(n,e),n):(this.inlineNodes.set(n,e),this.selfClosing(n))}}registerVirtualComment(e){this.parentTransformer!=null?this.parentTransformer.registerVirtualComment(e):this.blockComments.push(e)}registerComment(e,n){this.parentTransformer!=null?this.parentTransformer.registerComment(e,n):this.inlineComments.set(e,n)}prepareComment(e){let n=e.getContent();if(n.trim().includes(`
`)){let s=this.makeSlug(10),a=this.makeSlug(10),l={node:e,pairOpen:this.open(s),pairClose:this.close(s),virtualElement:this.selfClosing(a)};return this.registerVirtualComment(l),l.pairOpen+`
`+l.virtualElement+`
`+l.pairClose}let i=this.makeSlug(n.length);return this.registerComment(i,e),this.selfClosing(i)}registerDynamicAntlersPair(e,n){this.parentTransformer!=null?(this.dynamicElementPairedAntlers.set(n.nodeContent,e),this.parentTransformer.registerDynamicAntlersPair(e,n)):(this.dynamicElementPairedAntlers.set(n.nodeContent,e),this.dynamicElementPairedAntlersNodes.set(e,n))}prepareConditionalAntlersPair(e){if(this.dynamicElementPairedAntlers.has(e.nodeContent))return this.dynamicElementPairedAntlers.get(e.nodeContent);let n=this.makeSlug(e.nodeContent.length);return this.registerDynamicAntlersPair(n,e),n}registerDynamicCondition(e,n){this.parentTransformer!=null?(this.dynamicElementConditionAntlers.set(n.nodeContent,e),this.parentTransformer.registerDynamicCondition(e,n)):(this.dynamicElementConditionAntlers.set(n.nodeContent,e),this.dynamicElementConditionAntlersNodes.set(e,n))}prepareDynamicCondition(e){if(this.dynamicElementConditionAntlers.has(e.nodeContent))return this.dynamicElementConditionAntlers.get(e.nodeContent);let n=this.makeSlug(e.nodeContent.length);return this.registerDynamicCondition(n,e),n}registerDynamicAntlers(e,n){this.parentTransformer!=null?(this.dynamicElementAntlers.set(n.content,e),this.parentTransformer.registerDynamicAntlers(e,n)):(this.dynamicElementAntlers.set(n.content,e),this.dynamicElementAntlersNodes.set(e,n))}prepareConditionalAntlers(e){if(this.dynamicElementAntlers.has(e.content))return this.dynamicElementAntlers.get(e.content);let n=this.makeSlug(e.content.length);return this.registerDynamicAntlers(n,e),n}prepareAntlers(e){return e.isClosedBy!=null?this.preparePairedAntlers(e):e.fragmentPosition==0?this.prepareConditionalAntlers(e):this.registerInlineAntlers(e)}transformDynamicAntlers(e){let n=e;return this.dynamicElementAntlersNodes.forEach((r,i)=>{let s=this.printNode(r);n=Vr(n,i,s)}),this.dynamicElementPairedAntlersNodes.forEach((r,i)=>{let s=r.nodeContent;n=Vr(n,i,s)}),this.dynamicElementConditionAntlersNodes.forEach((r,i)=>{let s=r.nodeContent;n=Vr(n,i,s)}),n}transformPairedAntlers(e){let n=e;return this.tagPairs.forEach((r,i)=>{let s=r.tag;if(r.virtualElementSlug.length>0){let u=this.open(r.virtualElementSlug),d=this.close(r.virtualElementSlug);this.virtualStructureOpens.push(u),this.removeLines.push(u),this.removeLines.push(d)}let a=this.open(i),l=this.close(i);n=n.replace(a,this.printNode(s,this.indentLevel(a))),n=n.replace(l,this.printNode(s.isClosedBy))}),n}transformInlineAntlers(e){let n=e;return this.inlineNodes.forEach((r,i)=>{let s=this.selfClosing(i);n=n.replace(s,this.printNode(r,this.indentLevel(s)))}),this.spanNodes.forEach((r,i)=>{n=n.replace(i,this.printNode(r))}),n}transformComments(e){let n=e;return this.inlineComments.forEach((r,i)=>{let s=this.selfClosing(i);n=n.replace(s,jd.printComment(r,this.options.tabSize,0))}),this.blockComments.forEach(r=>{let i=r.node;n=n.replace(r.pairOpen,jd.printComment(i,this.options.tabSize,this.indentLevel(r.pairOpen))),this.removeLines.push(r.pairClose),this.removeLines.push(r.virtualElement)}),n}registerEmbeddedDocument(e,n,r){return this.parentTransformer!=null?this.parentTransformer.registerEmbeddedDocument(e,n,r):(this.extractedEmbeddedDocuments.set(e,{slug:e,content:n,isScript:r}),e)}clone(){let e=new zc(this.doc);return e.withOptions(this.options).setParentTransformer(this),e}toStructure(e=null){let n="";e==null&&(e=this.doc.getDocumentParser().getRenderNodes()),e.forEach(i=>{i instanceof xt?i.sourceContent==""?n+=i.content:n+=i.sourceContent:i instanceof Fn?n+=this.prepareCondition(i):i instanceof vn?n+=this.prepareNoParse(i):i instanceof Z&&(i.isComment?n+=this.prepareComment(i):n+=this.prepareAntlers(i))});let r=this.doc.getDocumentParser().getFragmentsContainingStructures();if(r.length>0){let i=new _n;i.loadString(n),r.forEach(s=>{var y,T,C,D,_,A,b,S;let a=this.doc.getDocumentParser().getText(((T=(y=s.start.endPosition)==null?void 0:y.offset)!=null?T:0)+1,(D=(C=s.end.startPosition)==null?void 0:C.offset)!=null?D:0),l=i.getDocumentParser().getFragmentsParser().getEmbeddedFragment(s.start.embeddedIndex);if(l==null)return;let u=i.getDocumentParser().getFragmentsParser().getClosingFragmentAfter(l);if(u==null)return;let d=i.getDocumentParser().getText(((A=(_=l.endPosition)==null?void 0:_.offset)!=null?A:0)+1,(S=(b=u==null?void 0:u.startPosition)==null?void 0:b.offset)!=null?S:0),h=this.makeSlug(16),g=s.start.name.toLowerCase()=="script",N=h;g?N="//"+h:N="/*"+h+"*/",n=n.replace(d,N),this.registerEmbeddedDocument(h,a,g)})}return n}removeVirtualStructures(e){let n=e;return this.removeLines.forEach(r=>{n=n.replace(r,"")}),n}indentLevel(e){for(let n=0;n<this.structureLines.length;n++){let r=this.structureLines[n];if(r.includes(e)){let i=r.trimLeft();return r.length-i.length}}return 0}shouldCleanAfter(e){for(let n=0;n<this.removeLines.length;n++)if(e.startsWith(this.removeLines[n]))return!0;for(let n=0;n<this.forceCleanLines.length;n++)if(e.startsWith(this.forceCleanLines[n]))return!0;return!1}shouldCleanLine(e){for(let n=0;n<this.forceCleanLines.length;n++){let r=e.trim();if(e.startsWith(this.forceCleanLines[n])||r.startsWith("{{ /")&&r.endsWith("}}"))return!0}return!1}cleanVirtualStructures(e){let n=[],r=te.breakByNewLine(e),i=!1;for(let s=0;s<r.length;s++){let a=r[s].trim();if(i){if(a.length==0)continue;i=!1}else i=this.shouldCleanAfter(a);if(this.shouldCleanLine(a))for(let l=n.length-1;l>0&&n[l].trim().length==0;l--)n.pop();if(!this.removeLines.includes(a)){let l=r[s];this.removeLines.forEach(u=>{l.includes(u)&&(l=l.replace(u,""))}),n.push(l)}}return n.join(`
`)}cleanStructuralNewLines(e){let n=te.breakByNewLine(e),r=[],i=!1;return n.forEach(s=>{let a=s.trim();if(a.startsWith("{{")&&a.endsWith("}}")){r.push(s),i=!0;return}i&&a.length>0&&(i=!1),i||r.push(s)}),r.join(`
`)}reflowSlugs(e){let n=e;return this.slugs.forEach(r=>{let i=this.open(r),s=this.close(r),a=this.selfClosing(r),l="/<"+r+"(.*?)>/gms",u="/</"+r+"(.*?)>/gms",d="/<"+r+"(.*?)/>/gms";n=n.replace(l,i),n=n.replace(u,s),n=n.replace(d,a)}),n}fromStructure(e){let n=this.reflowSlugs(e);this.structureLines=te.breakByNewLine(n);let r=this.transformInlineConditions(n);if(r=this.transformConditions(r),r=this.transformInlineAntlers(r),r=this.transformComments(r),r=this.transformVirtualStructures(r),r=this.transformDynamicAntlers(r),r=this.transformPairedAntlers(r),r=this.transformExtractedDocuments(r),r=this.cleanVirtualStructures(r),r=this.removeVirtualStructures(r),r=this.cleanStructuralNewLines(r),this.doc.hasFrontMatter()){let i=this.doc.getFrontMatter(),s=this.doc.getFrontMatterDoc();s!=null&&s.isValid&&this.yamlFormatter!=null&&(i=this.yamlFormatter(i)),r=`---
${i}
---
`+`
`.repeat(this.options.newlinesAfterFrontMatter)+r.trimLeft()}return r=r.trimRight(),this.options.endNewline&&(r+=`
`),r}}});var YR,bT,KR=x(()=>{YR=Ge(mT());gT();Yl();Sn();bT=class{constructor(){this.content="";this.ranges=[];this.lastDocumentOffsetKey=null;this.documentOffsets=new Map;this.lineIndex=new Map;this.keys=[];this.values=[];this.isValid=!1;this.parseError=null}loadString(e){var h;this.content=te.normalizeLineEndings(e);let n=null;try{n=YR.parseDocument(this.content),this.isValid=!0}catch(g){this.isValid=!1,this.parseError=g}if(n==null)return;let r=[...this.content.matchAll(/(\n)/gm)],i=r.length,s=2,a=null,l=0,u=0;for(let g=0;g<i;g++){let N=r[g],y=(h=N.index)!=null?h:0,T=y;a!=null?T=y-a:T=T+1,this.documentOffsets.set(y,{char:T,line:s});let C=0,D=0;g==0?(D=T-1,C=0):(C=u+1,D=y),this.lineIndex.set(s,{char:T,line:s,startIndex:C,endIndex:D}),this.lastDocumentOffsetKey=y,s+=1,a=y,u=D,l=C}let d=n.contents;this.processMap(d)}processMap(e){e.items.forEach(n=>{this.processItem(n)})}processItem(e){if(e.type=="PAIR"){if(e.value instanceof Kc||e.value instanceof Al){let s=e.key;if(s.range!=null){let a=this.positionFromOffset(s.range[0],s.range[0]),l=this.positionFromOffset(s.range[1],s.range[1]);this.ranges.push({start:a,end:l,length:l.char-a.char+1,content:"property"}),this.keys.push({start:a,end:l,length:l.char-a.char+1,content:s.value}),e.value instanceof Al?this.processMap(e.value.items[0]):this.processMap(e.value);return}}let n=e,r=n.key,i=n.value;if(r.range!=null&&i.range!=null){let s=this.positionFromOffset(r.range[0],r.range[0]),a=this.positionFromOffset(r.range[1],r.range[1]),l=this.positionFromOffset(i.range[0],i.range[0]),u=this.positionFromOffset(i.range[1],i.range[1]),d="string";parseInt(i.value)==i.value&&(d="number"),this.ranges.push({start:s,end:a,length:a.char-s.char+1,content:"property"}),this.keys.push({start:s,end:a,length:a.char-s.char+1,content:r.value}),this.ranges.push({start:l,end:u,length:u.char-l.char+1,content:d}),this.values.push({start:l,end:u,length:u.char-l.char+1,content:i.value})}}}positionFromOffset(e,n,r=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let l=this.documentOffsets.get(e);i=l.line,s=l.char}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let l=null,u=null,d=null,h=null;for(let g of this.documentOffsets.keys()){if(g>=e){h!=null&&e>h?(l=d,u=h):(l=this.documentOffsets.get(g),u=g);break}d=this.documentOffsets.get(g),h=g}if(l==null&&(l=d,u=h),l!=null)if(r){let g=this.content.split(""),N=e-(u!=null?u:0),y=l.char-(u!=null?u:0)+e;s=N,i=l.line,e<=(u!=null?u:0)?(i=l.line,s=e+1):i=l.line+1}else{let g=this.content.split(""),N=e-(u!=null?u:0),y=l.char-(u!=null?u:0)+e;s=N,i=l.line,e<=(u!=null?u:0)?(i=l.line,s=e+1):i=l.line+1}else this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let a=new tr;return a.index=n,a.offset=e,a.line=i,a.char=s,a}getRanges(){return this.ranges}getKeys(){return this.keys}getValues(){return this.values}}});var _n,Fo=x(()=>{nx();$s();um();Mp();nt();ki();Xg();qx();Ux();VR();BR();qR();HR();KR();_n=class{constructor(){this.documentParser=new H;this.transformer=null;this.ranges=new yT(this);this.nodes=new _T(this);this.cursor=new Zg(this);this.errors=new eT(this);this.project=null;this.documentUri=""}static fromText(e,n){let r=new _n;return typeof n!="undefined"&&(r.project=n),r.loadString(e)}static childFromText(e,n=null){let r=new _n;return n!=null&&r.getDocumentParser().setSeedPosition(n),r.getDocumentParser().withChildDocuments(!0),r.loadString(e),{renderNodes:r.getDocumentParser().getRenderNodes(),content:e,document:r}}isValid(){return!(this.hasInvalidControlFlowStructures()||this.hasUnclosedStructures())}getDocumentOptions(){let e=this.getAllNodes();if(e.length==0||!(e[0]instanceof Z))return null;let n=e[0];return n.isComment==!1?null:Hl(this.documentUri,n)}isFormattingEnabled(){let e=this.getDocumentOptions();return e==null?!0:e.formatterEnabled}hasInvalidControlFlowStructures(){return this.documentParser.hasUnclosedIfStructures()}hasUnclosedStructures(){return this.documentParser.hasUnclosedStructures()}getFrontMatterDoc(){if(this.hasFrontMatter()){let e=new bT;return e.loadString(this.getFrontMatter()),e}return null}hasFrontMatter(){return this.documentParser.getFrontMatter().trim().length>0}getFrontMatter(){return this.documentParser.getFrontMatter()}getFrontMatterScope(){if(this.project==null)return null;let e=new TT(this.project);return e.parse(this.getFrontMatter()),e.getScope()}updateProject(e){this.project=e,this.updateProjectDetails()}updateProjectDetails(){try{if(this.project!=null){let e=new Eg(this.project,this.documentUri,this),n=this.documentParser.antlersNodes();n.forEach(r=>{var i,s;if(this.project!=null&&((i=Jt.instance)==null?void 0:i.canResolveSpecialTypes(r.getTagName()))){let a=(s=Jt.instance)==null?void 0:s.resolveSpecialType(r.getTagName(),r,this.project);a.context!=null&&(r.reference=a.context)}}),e.analyzeScope(n);for(let r=0;r<n.length;r++){let i=n[r];if(i.hasParameters)for(let s=0;s<i.parameters.length;s++){let a=i.parameters[s];if(a.hasInterpolations())for(let l=0;l<a.interpolations.length;l++){let u=a.interpolations[l];i.processedInterpolationRegions.has(u)&&i.processedInterpolationRegions.get(u).forEach(h=>{h instanceof Z&&(h.currentScope=i.currentScope)})}}}yA(this)}}catch(e){console.log(e)}}loadString(e){return this.documentParser.parse(e),this.updateProjectDetails(),this}getDocumentParser(){return this.documentParser}getParsedContent(){return this.documentParser.getParsedContent()}getAllNodes(){return this.documentParser.getNodes()}getAllAntlersNodes(){return this.documentParser.antlersNodes()}extractText(){let e=[];return this.nodes.getAllLiteralNodes().forEach(n=>{e.push(n.content)}),e.join("")}getNameAt(e){let n=this.nodes.getNodeAt(e);return n instanceof Z?n.name:null}getLinesAround(e){return this.documentParser.getLinesAround(e)}getContent(){return this.documentParser.getContent()}getOriginalContent(){return this.documentParser.getOriginalContent()}getFeaturesAt(e){let n=this.nodes.getNodeAt(e);return Ns.resolveContext(e,n,this,!1,n)}getText(e,n){return this.documentParser.getText(e,n)}charLeftAt(e){return this.documentParser.charLeftAt(e)}charAt(e){return this.documentParser.charAt(e)}charRightAt(e){return this.documentParser.charRightAt(e)}getLineIndex(e){return this.documentParser.getLineIndex(e)}getLineText(e){return this.documentParser.getLineText(e)}wordAt(e,n=4){return this.documentParser.wordAt(e,n)}wordLeftAt(e,n=4){return this.documentParser.wordLeftAt(e,n)}wordRightAt(e,n=4){return this.documentParser.wordRightAt(e,n)}punctuationLeftAt(e,n=4){return this.documentParser.punctuationLeftAt(e,n)}punctuationRightAt(e,n=4){return this.documentParser.punctuationRightAt(e,n)}getLineChars(e){let n=this.getLineText(e);return n!=null?n.split(""):null}transform(){return this.transformer==null&&(this.transformer=new zc(this)),this.transformer}}});var OU,$R,zR=x(()=>{ni();ri();nt();OU={checkNode(t){var i;let e=[];if(t.isClosedBy==null||t.parent==null||!(t.parent instanceof Z))return e;let n=t.parent;if(n.isClosedBy==null)return e;let r=t.runtimeName();return r=="if"||r=="if:index"||r=="else"||r=="else:index"||r=="elseif"||r=="elseif:index"||r=="elseunless"||r=="elseunless:index"||((i=n.isClosedBy.startPosition)==null?void 0:i.isBefore(t.isClosedBy.endPosition))&&(e.push(Q.makeSyntaxError(k.LINT_INTERLEAVED_TAG_PAIRS,t,"Closing tag cannot appear after parent closing tag.")),e.push(Q.makeSyntaxError(k.LINT_INTERLEAVED_TAG_PAIRS,t.isClosedBy,"Closing tag cannot appear after parent closing tag."))),e}},$R=OU});var vT,QR=x(()=>{zR();Fo();vT=class{constructor(){this.htmlFormatter=null;this.yamlFormatter=null;this.phpFormatter=null;this.preFormatter=null;this.transformOptions=null;this.createExtraVirtualStructures=!1}withTransformOptions(e){return this.transformOptions=e,this}withPreFormatter(e){return this.preFormatter=e,this}withHtmlFormatter(e){return this.htmlFormatter=e,this}withYamlFormatter(e){return this.yamlFormatter=e,this}withPhpFormatter(e){return this.phpFormatter=e,this}formatText(e){let n=new _n;return n.getDocumentParser().withChildDocuments(!0),n.loadString(e),this.formatDocument(n)}formatDocument(e){if(!e.isFormattingEnabled())return e.getOriginalContent();if(this.preFormatter!=null){let s=this.preFormatter(e);if(s!=null)return s}let n=e.getAllAntlersNodes();for(let s=0;s<n.length;s++)if($R.checkNode(n[s]).length>0)return e.getOriginalContent();if(this.htmlFormatter==null||e.isValid()==!1)return e.getOriginalContent();e.transform().produceExtraStructuralPairs(this.createExtraVirtualStructures).withHtmlFormatter(this.htmlFormatter).withPhpFormatter(this.phpFormatter).withYamlFormatter(this.yamlFormatter),this.transformOptions!=null&&e.transform().withOptions(this.transformOptions);let r=e.transform().toStructure(),i=this.htmlFormatter(r);return e.transform().fromStructure(i)}}});var JR=_e((Gd,XR)=>{(function(t,e){typeof Gd=="object"&&typeof XR!="undefined"?e(Gd,require("prettier/standalone")):typeof define=="function"&&define.amd?define(["exports","prettier/standalone"],e):e(((t=typeof globalThis!="undefined"?globalThis:t||self).prettierPlugins=t.prettierPlugins||{},t.prettierPlugins.php={}),t.prettier)})(Gd,function(t,e){"use strict";function n(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=n(e),i={matchST_ATTRIBUTE:function(){var o=0,c=this.input();if(this.is_WHITESPACE()){do c=this.input();while(this.is_WHITESPACE());return this.unput(1),null}switch(c){case"]":return o===0?this.popState():o--,"]";case"(":case")":case":":case"=":return this.consume_TOKEN();case"[":return o++,"[";case",":return",";case'"':return this.ST_DOUBLE_QUOTES();case"'":return this.T_CONSTANT_ENCAPSED_STRING();case"/":if(this._input[this.offset]==="/")return this.T_COMMENT();if(this._input[this.offset]==="*")return this.input(),this.T_DOC_COMMENT()}if(this.is_LABEL_START()||c==="\\"){for(;this.offset<this.size;){var f=this.input();if(!this.is_LABEL()&&f!=="\\"){f&&this.unput(1);break}}return this.tok.T_STRING}if(this.is_NUM())return this.consume_NUM();throw new Error('Bad terminal sequence "'.concat(c,'" at line ').concat(this.yylineno," (offset ").concat(this.offset,")"))}};i.matchST_ATTRIBUTE;var s={T_COMMENT:function(){for(;this.offset<this.size;){var o=this.input();if(o===`
`||o==="\r")return this.tok.T_COMMENT;if(o==="?"&&!this.aspTagMode&&this._input[this.offset]===">")return this.unput(1),this.tok.T_COMMENT;if(o==="%"&&this.aspTagMode&&this._input[this.offset]===">")return this.unput(1),this.tok.T_COMMENT}return this.tok.T_COMMENT},T_DOC_COMMENT:function(){var o=this.input(),c=this.tok.T_COMMENT;if(o==="*"){if(o=this.input(),this.is_WHITESPACE()&&(c=this.tok.T_DOC_COMMENT),o==="/")return c;this.unput(1)}for(;this.offset<this.size;)if((o=this.input())==="*"&&this._input[this.offset]==="/"){this.input();break}return c}};s.T_COMMENT,s.T_DOC_COMMENT;var a={nextINITIAL:function(){return this.conditionStack.length>1&&this.conditionStack[this.conditionStack.length-1]==="INITIAL"?this.popState():this.begin("ST_IN_SCRIPTING"),this},matchINITIAL:function(){for(;this.offset<this.size;){var o=this.input();if(o=="<"){if((o=this.ahead(1))=="?"){if(this.tryMatch("?=")){this.unput(1).appendToken(this.tok.T_OPEN_TAG_WITH_ECHO,3).nextINITIAL();break}if(this.tryMatchCaseless("?php")&&((o=this._input[this.offset+4])===" "||o==="	"||o===`
`||o==="\r")){this.unput(1).appendToken(this.tok.T_OPEN_TAG,6).nextINITIAL();break}if(this.short_tags){this.unput(1).appendToken(this.tok.T_OPEN_TAG,2).nextINITIAL();break}}else if(this.asp_tags&&o=="%"){if(this.tryMatch("%=")){this.aspTagMode=!0,this.unput(1).appendToken(this.tok.T_OPEN_TAG_WITH_ECHO,3).nextINITIAL();break}this.aspTagMode=!0,this.unput(1).appendToken(this.tok.T_OPEN_TAG,2).nextINITIAL();break}}}return this.yytext.length>0&&this.tok.T_INLINE_HTML}};a.nextINITIAL,a.matchINITIAL;var l={consume_NUM:function(){var o=this.yytext[0],c=o===".";if(o==="0")if((o=this.input())==="x"||o==="X"){if((o=this.input())!=="_"&&this.is_HEX())return this.consume_HNUM();this.unput(o?2:1)}else if(o==="b"||o==="B"){if((o=this.input())!=="_"&&o==="0"||o==="1")return this.consume_BNUM();this.unput(o?2:1)}else this.is_NUM()||o&&this.unput(1);for(;this.offset<this.size;){var f=o;if((o=this.input())==="_"){if(f==="_"){this.unput(2);break}if(f==="."){this.unput(1);break}if(f==="e"||f==="E"){this.unput(2);break}}else{if(o==="."){if(c){this.unput(1);break}if(f==="_"){this.unput(2);break}c=!0;continue}if(o==="e"||o==="E"){if(f==="_"){this.unput(1);break}var p=2;if((o=this.input())!=="+"&&o!=="-"||(p=3,o=this.input()),this.is_NUM_START())return this.consume_LNUM(),this.tok.T_DNUMBER;this.unput(o?p:p-1);break}}if(!this.is_NUM()){o&&this.unput(1);break}}return c?this.tok.T_DNUMBER:this.yytext.length<9||this.yytext.length<10||this.yytext.length==10&&this.yytext<"2147483648"?this.tok.T_LNUMBER:this.tok.T_DNUMBER},consume_HNUM:function(){for(;this.offset<this.size;){var o=this.input();if(!this.is_HEX()){o&&this.unput(1);break}}return this.tok.T_LNUMBER},consume_LNUM:function(){for(;this.offset<this.size;){var o=this.input();if(!this.is_NUM()){o&&this.unput(1);break}}return this.tok.T_LNUMBER},consume_BNUM:function(){for(var o;this.offset<this.size;)if((o=this.input())!=="0"&&o!=="1"&&o!=="_"){o&&this.unput(1);break}return this.tok.T_LNUMBER}};l.consume_NUM,l.consume_HNUM,l.consume_LNUM,l.consume_BNUM;var u={matchST_LOOKING_FOR_PROPERTY:function(){var o=this.input();if(o==="-"){if((o=this.input())===">")return this.tok.T_OBJECT_OPERATOR;o&&this.unput(1)}else{if(this.is_WHITESPACE())return this.tok.T_WHITESPACE;if(this.is_LABEL_START())return this.consume_LABEL(),this.popState(),this.tok.T_STRING}return this.popState(),o&&this.unput(1),!1},matchST_LOOKING_FOR_VARNAME:function(){var o=this.input();if(this.popState(),this.begin("ST_IN_SCRIPTING"),this.is_LABEL_START()){if(this.consume_LABEL(),(o=this.input())==="["||o==="}")return this.unput(1),this.tok.T_STRING_VARNAME;this.unput(this.yytext.length)}else o&&this.unput(1);return!1},matchST_VAR_OFFSET:function(){var o=this.input();if(this.is_NUM_START())return this.consume_NUM(),this.tok.T_NUM_STRING;if(o==="]")return this.popState(),"]";if(o==="$"){if(this.input(),this.is_LABEL_START())return this.consume_LABEL(),this.tok.T_VARIABLE;throw new Error("Unexpected terminal")}if(this.is_LABEL_START())return this.consume_LABEL(),this.tok.T_STRING;if(this.is_WHITESPACE()||o==="\\"||o==="'"||o==="#")return this.tok.T_ENCAPSED_AND_WHITESPACE;if(o==="["||o==="{"||o==="}"||o==='"'||o==="`"||this.is_TOKEN())return o;throw new Error("Unexpected terminal")}};u.matchST_LOOKING_FOR_PROPERTY,u.matchST_LOOKING_FOR_VARNAME,u.matchST_VAR_OFFSET;var d={matchST_IN_SCRIPTING:function(){var o=this.input();switch(o){case" ":case"	":case`
`:case"\r":case`\r
`:return this.T_WHITESPACE();case"#":return this._input[this.offset]==="["?(this.input(),this.begin("ST_ATTRIBUTE"),this.tok.T_ATTRIBUTE):this.T_COMMENT();case"/":return this._input[this.offset]==="/"?this.T_COMMENT():this._input[this.offset]==="*"?(this.input(),this.T_DOC_COMMENT()):this.consume_TOKEN();case"'":return this.T_CONSTANT_ENCAPSED_STRING();case'"':return this.ST_DOUBLE_QUOTES();case"`":return this.begin("ST_BACKQUOTE"),"`";case"?":if(!this.aspTagMode&&this.tryMatch(">")){this.input();var c=this._input[this.offset];return c!==`
`&&c!=="\r"||this.input(),this.conditionStack.length>1&&this.begin("INITIAL"),this.tok.T_CLOSE_TAG}return this.consume_TOKEN();case"%":return this.aspTagMode&&this._input[this.offset]===">"?(this.input(),(o=this._input[this.offset])!==`
`&&o!=="\r"||this.input(),this.aspTagMode=!1,this.conditionStack.length>1&&this.begin("INITIAL"),this.tok.T_CLOSE_TAG):this.consume_TOKEN();case"{":return this.begin("ST_IN_SCRIPTING"),"{";case"}":return this.conditionStack.length>2&&this.popState(),"}";default:if(o==="."){if(o=this.input(),this.is_NUM_START())return this.consume_NUM();o&&this.unput(1)}if(this.is_NUM_START())return this.consume_NUM();if(this.is_LABEL_START())return this.consume_LABEL().T_STRING();if(this.is_TOKEN())return this.consume_TOKEN()}throw new Error('Bad terminal sequence "'+o+'" at line '+this.yylineno+" (offset "+this.offset+")")},T_WHITESPACE:function(){for(;this.offset<this.size;){var o=this.input();if(o!==" "&&o!=="	"&&o!==`
`&&o!=="\r"){o&&this.unput(1);break}}return this.tok.T_WHITESPACE}};d.matchST_IN_SCRIPTING,d.T_WHITESPACE;var h=[`
`,"\r"],g=[`
`,"\r",";"],N=g.concat(["	"," ",",","]",")","/","=","!"]),y={T_CONSTANT_ENCAPSED_STRING:function(){for(var o;this.offset<this.size;)if((o=this.input())=="\\")this.input();else if(o=="'")break;return this.tok.T_CONSTANT_ENCAPSED_STRING},is_HEREDOC:function(){var o=this.offset;if(this._input[this.offset-1]==="<"&&this._input[this.offset]==="<"&&this._input[this.offset+1]==="<"){if(this.offset+=3,this.is_TABSPACE())for(;this.offset<this.size&&(this.offset++,this.is_TABSPACE()););var c=this._input[this.offset-1];if(c==="'"||c==='"'?this.offset++:c=null,this.is_LABEL_START()){for(var f=this.offset-1;this.offset<this.size&&(this.offset++,this.is_LABEL()););var p=this._input.substring(f,this.offset-1);if((!c||c===this._input[this.offset-1])&&(c&&this.offset++,h.includes(this._input[this.offset-1])))return this.heredoc_label.label=p,this.heredoc_label.length=p.length,this.heredoc_label.finished=!1,f=this.offset-o,this.offset=o,this.consume(f),c==="'"?this.begin("ST_NOWDOC"):this.begin("ST_HEREDOC"),this.prematch_ENDOFDOC(),this.tok.T_START_HEREDOC}}return this.offset=o,!1},ST_DOUBLE_QUOTES:function(){for(var o;this.offset<this.size;)if((o=this.input())=="\\")this.input();else{if(o=='"')break;if(o=="$"){if((o=this.input())=="{"||this.is_LABEL_START()){this.unput(2);break}o&&this.unput(1)}else if(o=="{"){if((o=this.input())=="$"){this.unput(2);break}o&&this.unput(1)}}if(o=='"')return this.tok.T_CONSTANT_ENCAPSED_STRING;var c=1;return this.yytext[0]!=="b"&&this.yytext[0]!=="B"||(c=2),this.yytext.length>2&&this.appendToken(this.tok.T_ENCAPSED_AND_WHITESPACE,this.yytext.length-c),this.unput(this.yytext.length-c),this.begin("ST_DOUBLE_QUOTES"),this.yytext},isDOC_MATCH:function(o,c){var f=this._input[o-2];if(!h.includes(f))return!1;var p=!1,m=!1,E=0,F=this._input[o-1];if(this.version>=703){for(;F==="	"||F===" ";)F===" "?p=!0:F==="	"&&(m=!0),F=this._input[o+E],E++;if(o+=E,h.includes(this._input[o-1]))return!1}if(this._input.substring(o-1,o-1+this.heredoc_label.length)===this.heredoc_label.label){var v=this._input[o-1+this.heredoc_label.length];if((this.version>=703?N:g).includes(v)){if(c){if(this.consume(E),p&&m)throw new Error("Parse error:  mixing spaces and tabs in ending marker at line "+this.yylineno+" (offset "+this.offset+")")}else this.heredoc_label.indentation=E,this.heredoc_label.indentation_uses_spaces=p,this.heredoc_label.first_encaps_node=!0;return!0}}return!1},prematch_ENDOFDOC:function(){this.heredoc_label.indentation_uses_spaces=!1,this.heredoc_label.indentation=0,this.heredoc_label.first_encaps_node=!0;for(var o=this.offset+1;o<this._input.length;){if(this.isDOC_MATCH(o,!1))return;if(!h.includes(this._input[o-1]))for(;!h.includes(this._input[o++])&&o<this._input.length;);o++}},matchST_NOWDOC:function(){if(this.isDOC_MATCH(this.offset,!0))return this.consume(this.heredoc_label.length),this.popState(),this.tok.T_END_HEREDOC;for(var o=this._input[this.offset-1];this.offset<this.size;)if(h.includes(o)){if(o=this.input(),this.isDOC_MATCH(this.offset,!0))return this.unput(1).popState(),this.appendToken(this.tok.T_END_HEREDOC,this.heredoc_label.length),this.tok.T_ENCAPSED_AND_WHITESPACE}else o=this.input();return this.tok.T_ENCAPSED_AND_WHITESPACE},matchST_HEREDOC:function(){var o=this.input();if(this.isDOC_MATCH(this.offset,!0))return this.consume(this.heredoc_label.length-1),this.popState(),this.tok.T_END_HEREDOC;for(;this.offset<this.size;)if(o==="\\"&&(o=this.input(),h.includes(o)||(o=this.input())),h.includes(o)){if(o=this.input(),this.isDOC_MATCH(this.offset,!0))return this.unput(1).popState(),this.appendToken(this.tok.T_END_HEREDOC,this.heredoc_label.length),this.tok.T_ENCAPSED_AND_WHITESPACE}else if(o==="$"){if((o=this.input())==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){var c=this.offset,f=this.consume_VARIABLE();return this.yytext.length>this.offset-c+2?(this.appendToken(f,this.offset-c+2),this.unput(this.offset-c+2),this.tok.T_ENCAPSED_AND_WHITESPACE):f}}else if(o==="{"){if((o=this.input())==="$")return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN)}else o=this.input();return this.tok.T_ENCAPSED_AND_WHITESPACE},consume_VARIABLE:function(){this.consume_LABEL();var o=this.input();if(o=="[")return this.unput(1),this.begin("ST_VAR_OFFSET"),this.tok.T_VARIABLE;if(o==="-"){if(this.input()===">")return this.input(),this.is_LABEL_START()&&this.begin("ST_LOOKING_FOR_PROPERTY"),this.unput(3),this.tok.T_VARIABLE;this.unput(2)}else o&&this.unput(1);return this.tok.T_VARIABLE},matchST_BACKQUOTE:function(){var o=this.input();if(o==="$"){if((o=this.input())==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START())return this.consume_VARIABLE()}else if(o==="{"){if(this._input[this.offset]==="$")return this.begin("ST_IN_SCRIPTING"),this.tok.T_CURLY_OPEN}else if(o==="`")return this.popState(),"`";for(;this.offset<this.size;){if(o==="\\")this.input();else{if(o==="`"){this.unput(1),this.popState(),this.appendToken("`",1);break}if(o==="$"){if((o=this.input())==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){var c=this.offset,f=this.consume_VARIABLE();return this.yytext.length>this.offset-c+2?(this.appendToken(f,this.offset-c+2),this.unput(this.offset-c+2),this.tok.T_ENCAPSED_AND_WHITESPACE):f}continue}if(o==="{"){if((o=this.input())==="$")return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN);continue}}o=this.input()}return this.tok.T_ENCAPSED_AND_WHITESPACE},matchST_DOUBLE_QUOTES:function(){var o=this.input();if(o==="$"){if((o=this.input())==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START())return this.consume_VARIABLE()}else if(o==="{"){if(this._input[this.offset]==="$")return this.begin("ST_IN_SCRIPTING"),this.tok.T_CURLY_OPEN}else if(o==='"')return this.popState(),'"';for(;this.offset<this.size;){if(o==="\\")this.input();else{if(o==='"'){this.unput(1),this.popState(),this.appendToken('"',1);break}if(o==="$"){if((o=this.input())==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){var c=this.offset,f=this.consume_VARIABLE();return this.yytext.length>this.offset-c+2?(this.appendToken(f,this.offset-c+2),this.unput(this.offset-c+2),this.tok.T_ENCAPSED_AND_WHITESPACE):f}o&&this.unput(1)}else if(o==="{"){if((o=this.input())==="$")return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN);o&&this.unput(1)}}o=this.input()}return this.tok.T_ENCAPSED_AND_WHITESPACE}};y.T_CONSTANT_ENCAPSED_STRING,y.is_HEREDOC,y.ST_DOUBLE_QUOTES,y.isDOC_MATCH,y.prematch_ENDOFDOC,y.matchST_NOWDOC,y.matchST_HEREDOC,y.consume_VARIABLE,y.matchST_BACKQUOTE,y.matchST_DOUBLE_QUOTES;var T={T_STRING:function(){var o=this.yytext.toLowerCase(),c=this.keywords[o];if(typeof c!="number"){if(o==="yield")this.version>=700&&this.tryMatch(" from")?(this.consume(5),c=this.tok.T_YIELD_FROM):c=this.tok.T_YIELD;else if(c=this.tok.T_STRING,o==="b"||o==="B"){var f=this.input(1);if(f==='"')return this.ST_DOUBLE_QUOTES();if(f==="'")return this.T_CONSTANT_ENCAPSED_STRING();f&&this.unput(1)}}return c},consume_TOKEN:function(){var o=this._input[this.offset-1],c=this.tokenTerminals[o];return c?c.apply(this,[]):this.yytext},tokenTerminals:{$:function(){return this.offset++,this.is_LABEL_START()?(this.offset--,this.consume_LABEL(),this.tok.T_VARIABLE):(this.offset--,"$")},"-":function(){var o=this._input[this.offset];return o===">"?(this.begin("ST_LOOKING_FOR_PROPERTY").input(),this.tok.T_OBJECT_OPERATOR):o==="-"?(this.input(),this.tok.T_DEC):o==="="?(this.input(),this.tok.T_MINUS_EQUAL):"-"},"\\":function(){return this.tok.T_NS_SEPARATOR},"/":function(){return this._input[this.offset]==="="?(this.input(),this.tok.T_DIV_EQUAL):"/"},":":function(){return this._input[this.offset]===":"?(this.input(),this.tok.T_DOUBLE_COLON):":"},"(":function(){var o=this.offset;if(this.input(),this.is_TABSPACE()&&this.consume_TABSPACE().input(),this.is_LABEL_START()){var c=this.yytext.length;this.consume_LABEL();var f=this.yytext.substring(c-1).toLowerCase(),p=this.castKeywords[f];if(typeof p=="number"&&(this.input(),this.is_TABSPACE()&&this.consume_TABSPACE().input(),this._input[this.offset-1]===")"))return p}return this.unput(this.offset-o),"("},"=":function(){var o=this._input[this.offset];return o===">"?(this.input(),this.tok.T_DOUBLE_ARROW):o==="="?this._input[this.offset+1]==="="?(this.consume(2),this.tok.T_IS_IDENTICAL):(this.input(),this.tok.T_IS_EQUAL):"="},"+":function(){var o=this._input[this.offset];return o==="+"?(this.input(),this.tok.T_INC):o==="="?(this.input(),this.tok.T_PLUS_EQUAL):"+"},"!":function(){return this._input[this.offset]==="="?this._input[this.offset+1]==="="?(this.consume(2),this.tok.T_IS_NOT_IDENTICAL):(this.input(),this.tok.T_IS_NOT_EQUAL):"!"},"?":function(){return this.version>=700&&this._input[this.offset]==="?"?this.version>=704&&this._input[this.offset+1]==="="?(this.consume(2),this.tok.T_COALESCE_EQUAL):(this.input(),this.tok.T_COALESCE):this.version>=800&&this._input[this.offset]==="-"&&this._input[this.offset+1]===">"?(this.consume(2),this.tok.T_NULLSAFE_OBJECT_OPERATOR):"?"},"<":function(){var o=this._input[this.offset];return o==="<"?(o=this._input[this.offset+1])==="="?(this.consume(2),this.tok.T_SL_EQUAL):o==="<"&&this.is_HEREDOC()?this.tok.T_START_HEREDOC:(this.input(),this.tok.T_SL):o==="="?(this.input(),this.version>=700&&this._input[this.offset]===">"?(this.input(),this.tok.T_SPACESHIP):this.tok.T_IS_SMALLER_OR_EQUAL):o===">"?(this.input(),this.tok.T_IS_NOT_EQUAL):"<"},">":function(){var o=this._input[this.offset];return o==="="?(this.input(),this.tok.T_IS_GREATER_OR_EQUAL):o===">"?(o=this._input[this.offset+1])==="="?(this.consume(2),this.tok.T_SR_EQUAL):(this.input(),this.tok.T_SR):">"},"*":function(){var o=this._input[this.offset];return o==="="?(this.input(),this.tok.T_MUL_EQUAL):o==="*"?(this.input(),this._input[this.offset]==="="?(this.input(),this.tok.T_POW_EQUAL):this.tok.T_POW):"*"},".":function(){var o=this._input[this.offset];return o==="="?(this.input(),this.tok.T_CONCAT_EQUAL):o==="."&&this._input[this.offset+1]==="."?(this.consume(2),this.tok.T_ELLIPSIS):"."},"%":function(){return this._input[this.offset]==="="?(this.input(),this.tok.T_MOD_EQUAL):"%"},"&":function(){var o=this._input[this.offset];return o==="="?(this.input(),this.tok.T_AND_EQUAL):o==="&"?(this.input(),this.tok.T_BOOLEAN_AND):"&"},"|":function(){var o=this._input[this.offset];return o==="="?(this.input(),this.tok.T_OR_EQUAL):o==="|"?(this.input(),this.tok.T_BOOLEAN_OR):"|"},"^":function(){return this._input[this.offset]==="="?(this.input(),this.tok.T_XOR_EQUAL):"^"}}};T.T_STRING,T.consume_TOKEN,T.tokenTerminals;var C={is_NUM:function(){var o=this._input.charCodeAt(this.offset-1);return o>47&&o<58||o===95},is_NUM_START:function(){var o=this._input.charCodeAt(this.offset-1);return o>47&&o<58},is_LABEL:function(){var o=this._input.charCodeAt(this.offset-1);return o>96&&o<123||o>64&&o<91||o===95||o>47&&o<58||o>126},is_LABEL_START:function(){var o=this._input.charCodeAt(this.offset-1);return o>64&&o<91||o>96&&o<123||o===95||o>126},consume_LABEL:function(){for(;this.offset<this.size;){var o=this.input();if(!this.is_LABEL()){o&&this.unput(1);break}}return this},is_TOKEN:function(){var o=this._input[this.offset-1];return";:,.\\[]()|^&+-/*=%!~$<>?@".indexOf(o)!==-1},is_WHITESPACE:function(){var o=this._input[this.offset-1];return o===" "||o==="	"||o===`
`||o==="\r"},is_TABSPACE:function(){var o=this._input[this.offset-1];return o===" "||o==="	"},consume_TABSPACE:function(){for(;this.offset<this.size;){var o=this.input();if(!this.is_TABSPACE()){o&&this.unput(1);break}}return this},is_HEX:function(){var o=this._input.charCodeAt(this.offset-1);return o>47&&o<58||o>64&&o<71||o>96&&o<103||o===95}};C.is_NUM,C.is_NUM_START,C.is_LABEL,C.is_LABEL_START,C.consume_LABEL,C.is_TOKEN,C.is_WHITESPACE,C.is_TABSPACE,C.consume_TABSPACE,C.is_HEX;var D=function(o){this.engine=o,this.tok=this.engine.tokens.names,this.EOF=1,this.debug=!1,this.all_tokens=!0,this.comment_tokens=!1,this.mode_eval=!1,this.asp_tags=!1,this.short_tags=!1,this.version=800,this.yyprevcol=0,this.keywords={__class__:this.tok.T_CLASS_C,__trait__:this.tok.T_TRAIT_C,__function__:this.tok.T_FUNC_C,__method__:this.tok.T_METHOD_C,__line__:this.tok.T_LINE,__file__:this.tok.T_FILE,__dir__:this.tok.T_DIR,__namespace__:this.tok.T_NS_C,exit:this.tok.T_EXIT,die:this.tok.T_EXIT,function:this.tok.T_FUNCTION,const:this.tok.T_CONST,return:this.tok.T_RETURN,try:this.tok.T_TRY,catch:this.tok.T_CATCH,finally:this.tok.T_FINALLY,throw:this.tok.T_THROW,if:this.tok.T_IF,elseif:this.tok.T_ELSEIF,endif:this.tok.T_ENDIF,else:this.tok.T_ELSE,while:this.tok.T_WHILE,endwhile:this.tok.T_ENDWHILE,do:this.tok.T_DO,for:this.tok.T_FOR,endfor:this.tok.T_ENDFOR,foreach:this.tok.T_FOREACH,endforeach:this.tok.T_ENDFOREACH,declare:this.tok.T_DECLARE,enddeclare:this.tok.T_ENDDECLARE,instanceof:this.tok.T_INSTANCEOF,as:this.tok.T_AS,switch:this.tok.T_SWITCH,endswitch:this.tok.T_ENDSWITCH,case:this.tok.T_CASE,default:this.tok.T_DEFAULT,break:this.tok.T_BREAK,continue:this.tok.T_CONTINUE,goto:this.tok.T_GOTO,echo:this.tok.T_ECHO,print:this.tok.T_PRINT,class:this.tok.T_CLASS,interface:this.tok.T_INTERFACE,trait:this.tok.T_TRAIT,extends:this.tok.T_EXTENDS,implements:this.tok.T_IMPLEMENTS,new:this.tok.T_NEW,clone:this.tok.T_CLONE,var:this.tok.T_VAR,eval:this.tok.T_EVAL,include:this.tok.T_INCLUDE,include_once:this.tok.T_INCLUDE_ONCE,require:this.tok.T_REQUIRE,require_once:this.tok.T_REQUIRE_ONCE,namespace:this.tok.T_NAMESPACE,use:this.tok.T_USE,insteadof:this.tok.T_INSTEADOF,global:this.tok.T_GLOBAL,isset:this.tok.T_ISSET,empty:this.tok.T_EMPTY,__halt_compiler:this.tok.T_HALT_COMPILER,static:this.tok.T_STATIC,abstract:this.tok.T_ABSTRACT,final:this.tok.T_FINAL,private:this.tok.T_PRIVATE,protected:this.tok.T_PROTECTED,public:this.tok.T_PUBLIC,unset:this.tok.T_UNSET,list:this.tok.T_LIST,array:this.tok.T_ARRAY,callable:this.tok.T_CALLABLE,or:this.tok.T_LOGICAL_OR,and:this.tok.T_LOGICAL_AND,xor:this.tok.T_LOGICAL_XOR,match:this.tok.T_MATCH},this.castKeywords={int:this.tok.T_INT_CAST,integer:this.tok.T_INT_CAST,real:this.tok.T_DOUBLE_CAST,double:this.tok.T_DOUBLE_CAST,float:this.tok.T_DOUBLE_CAST,string:this.tok.T_STRING_CAST,binary:this.tok.T_STRING_CAST,array:this.tok.T_ARRAY_CAST,object:this.tok.T_OBJECT_CAST,bool:this.tok.T_BOOL_CAST,boolean:this.tok.T_BOOL_CAST,unset:this.tok.T_UNSET_CAST}};D.prototype.setInput=function(o){return this._input=o,this.size=o.length,this.yylineno=1,this.offset=0,this.yyprevcol=0,this.yytext="",this.yylloc={first_offset:0,first_line:1,first_column:0,prev_offset:0,prev_line:1,prev_column:0,last_line:1,last_column:0},this.tokens=[],this.version>703?this.keywords.fn=this.tok.T_FN:delete this.keywords.fn,this.done=this.offset>=this.size,!this.all_tokens&&this.mode_eval?(this.conditionStack=["INITIAL"],this.begin("ST_IN_SCRIPTING")):(this.conditionStack=[],this.begin("INITIAL")),this.heredoc_label={label:"",length:0,indentation:0,indentation_uses_spaces:!1,finished:!1,first_encaps_node:!1,toString:function(){this.label}},this},D.prototype.input=function(){var o=this._input[this.offset];return o?(this.yytext+=o,this.offset++,o==="\r"&&this._input[this.offset]===`
`&&(this.yytext+=`
`,this.offset++),o===`
`||o==="\r"?(this.yylloc.last_line=++this.yylineno,this.yyprevcol=this.yylloc.last_column,this.yylloc.last_column=0):this.yylloc.last_column++,o):""},D.prototype.unput=function(o){if(o===1)this.offset--,this._input[this.offset]===`
`&&this._input[this.offset-1]==="\r"&&(this.offset--,o++),this._input[this.offset]==="\r"||this._input[this.offset]===`
`?(this.yylloc.last_line--,this.yylineno--,this.yylloc.last_column=this.yyprevcol):this.yylloc.last_column--,this.yytext=this.yytext.substring(0,this.yytext.length-o);else if(o>0)if(this.offset-=o,o<this.yytext.length){this.yytext=this.yytext.substring(0,this.yytext.length-o),this.yylloc.last_line=this.yylloc.first_line,this.yylloc.last_column=this.yyprevcol=this.yylloc.first_column;for(var c=0;c<this.yytext.length;c++){var f=this.yytext[c];f==="\r"?(f=this.yytext[++c],this.yyprevcol=this.yylloc.last_column,this.yylloc.last_line++,this.yylloc.last_column=0,f!==`
`&&(f==="\r"?this.yylloc.last_line++:this.yylloc.last_column++)):f===`
`?(this.yyprevcol=this.yylloc.last_column,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++}this.yylineno=this.yylloc.last_line}else this.yytext="",this.yylloc.last_line=this.yylineno=this.yylloc.first_line,this.yylloc.last_column=this.yylloc.first_column;return this},D.prototype.tryMatch=function(o){return o===this.ahead(o.length)},D.prototype.tryMatchCaseless=function(o){return o===this.ahead(o.length).toLowerCase()},D.prototype.ahead=function(o){var c=this._input.substring(this.offset,this.offset+o);return c[c.length-1]==="\r"&&this._input[this.offset+o+1]===`
`&&(c+=`
`),c},D.prototype.consume=function(o){for(var c=0;c<o;c++){var f=this._input[this.offset];if(!f)break;this.yytext+=f,this.offset++,f==="\r"&&this._input[this.offset]===`
`&&(this.yytext+=`
`,this.offset++,c++),f===`
`||f==="\r"?(this.yylloc.last_line=++this.yylineno,this.yyprevcol=this.yylloc.last_column,this.yylloc.last_column=0):this.yylloc.last_column++}return this},D.prototype.getState=function(){return{yytext:this.yytext,offset:this.offset,yylineno:this.yylineno,yyprevcol:this.yyprevcol,yylloc:{first_offset:this.yylloc.first_offset,first_line:this.yylloc.first_line,first_column:this.yylloc.first_column,last_line:this.yylloc.last_line,last_column:this.yylloc.last_column},heredoc_label:this.heredoc_label}},D.prototype.setState=function(o){return this.yytext=o.yytext,this.offset=o.offset,this.yylineno=o.yylineno,this.yyprevcol=o.yyprevcol,this.yylloc=o.yylloc,o.heredoc_label&&(this.heredoc_label=o.heredoc_label),this},D.prototype.appendToken=function(o,c){return this.tokens.push([o,c]),this},D.prototype.lex=function(){this.yylloc.prev_offset=this.offset,this.yylloc.prev_line=this.yylloc.last_line,this.yylloc.prev_column=this.yylloc.last_column;var o=this.next()||this.lex();if(!this.all_tokens){for(;o===this.tok.T_WHITESPACE||!this.comment_tokens&&(o===this.tok.T_COMMENT||o===this.tok.T_DOC_COMMENT)||o===this.tok.T_OPEN_TAG;)o=this.next()||this.lex();if(o==this.tok.T_OPEN_TAG_WITH_ECHO)return this.tok.T_ECHO;if(o===this.tok.T_CLOSE_TAG)return";"}return this.yylloc.prev_offset||(this.yylloc.prev_offset=this.yylloc.first_offset,this.yylloc.prev_line=this.yylloc.first_line,this.yylloc.prev_column=this.yylloc.first_column),o},D.prototype.begin=function(o){if(this.conditionStack.push(o),this.curCondition=o,this.stateCb=this["match"+o],typeof this.stateCb!="function")throw new Error('Undefined condition state "'+o+'"');return this},D.prototype.popState=function(){var o=this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0];if(this.curCondition=this.conditionStack[this.conditionStack.length-1],this.stateCb=this["match"+this.curCondition],typeof this.stateCb!="function")throw new Error('Undefined condition state "'+this.curCondition+'"');return o},D.prototype.next=function(){var o;if(this._input||(this.done=!0),this.yylloc.first_offset=this.offset,this.yylloc.first_line=this.yylloc.last_line,this.yylloc.first_column=this.yylloc.last_column,this.yytext="",this.done)return this.yylloc.prev_offset=this.yylloc.first_offset,this.yylloc.prev_line=this.yylloc.first_line,this.yylloc.prev_column=this.yylloc.first_column,this.EOF;if(this.tokens.length>0?(typeof(o=this.tokens.shift())[1]=="object"?this.setState(o[1]):this.consume(o[1]),o=o[0]):o=this.stateCb.apply(this,[]),this.offset>=this.size&&this.tokens.length===0&&(this.done=!0),this.debug){var c=o;c=typeof c=="number"?this.engine.tokens.values[c]:'"'+c+'"';var f=new Error(c+"	from "+this.yylloc.first_line+","+this.yylloc.first_column+"	 - to "+this.yylloc.last_line+","+this.yylloc.last_column+'	"'+this.yytext+'"');console.error(f.stack)}return o},[i,s,a,l,u,d,y,T,C].forEach(function(o){for(var c in o)D.prototype[c]=o[c]});var _=D,A=function(o,c,f){this.line=o,this.column=c,this.offset=f},b={read_array:function(){var o=null,c=!1,f=this.node("array");this.token===this.tok.T_ARRAY?(this.next().expect("("),o=")"):(c=!0,o="]");var p=[];return this.next().token!==o&&(p=this.read_array_pair_list(c)),this.expect(o),this.next(),f(c,p)},read_array_pair_list:function(o){var c=this;return this.read_list(function(){return c.read_array_pair(o)},",",!0)},read_array_pair:function(o){if(!(!o&&this.token===")"||o&&this.token==="]")){if(this.token===",")return this.node("noop")();var c=this.node("entry"),f=null,p=null,m=!1,E=!1;if(this.token==="&")this.next(),m=!0,p=this.read_variable(!0,!1);else if(this.token===this.tok.T_ELLIPSIS&&this.version>=704)this.next(),this.token==="&"&&this.error(),E=!0,p=this.read_expr();else{var F=this.read_expr();this.token===this.tok.T_DOUBLE_ARROW?(this.next(),f=F,this.token==="&"?(this.next(),m=!0,p=this.read_variable(!0,!1)):p=this.read_expr()):p=F}return c(f,p,m,E)}}};function S(o,c,f){return c in o?Object.defineProperty(o,c,{value:f,enumerable:!0,configurable:!0,writable:!0}):o[c]=f,o}function w(o,c){var f=Object.keys(o);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(o);c&&(p=p.filter(function(m){return Object.getOwnPropertyDescriptor(o,m).enumerable})),f.push.apply(f,p)}return f}function J(o){for(var c=1;c<arguments.length;c++){var f=arguments[c]!=null?arguments[c]:{};c%2?w(Object(f),!0).forEach(function(p){S(o,p,f[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(f)):w(Object(f)).forEach(function(p){Object.defineProperty(o,p,Object.getOwnPropertyDescriptor(f,p))})}return o}function Y(o,c){return function(f){if(Array.isArray(f))return f}(o)||function(f,p){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(f)))){var m=[],E=!0,F=!1,v=void 0;try{for(var B,q=f[Symbol.iterator]();!(E=(B=q.next()).done)&&(m.push(B.value),!p||m.length!==p);E=!0);}catch(R){F=!0,v=R}finally{try{E||q.return==null||q.return()}finally{if(F)throw v}}return m}}(o,c)||he(o,c)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function oe(o){return function(c){if(Array.isArray(c))return Ne(c)}(o)||function(c){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(c))return Array.from(c)}(o)||he(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function he(o,c){if(o){if(typeof o=="string")return Ne(o,c);var f=Object.prototype.toString.call(o).slice(8,-1);return f==="Object"&&o.constructor&&(f=o.constructor.name),f==="Map"||f==="Set"?Array.from(f):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?Ne(o,c):void 0}}function Ne(o,c){(c==null||c>o.length)&&(c=o.length);for(var f=0,p=new Array(c);f<c;f++)p[f]=o[f];return p}function Te(o){if(typeof Symbol=="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(o=he(o))){var c=0,f=function(){};return{s:f,n:function(){return c>=o.length?{done:!0}:{done:!1,value:o[c++]}},e:function(v){throw v},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,m,E=!0,F=!1;return{s:function(){p=o[Symbol.iterator]()},n:function(){var v=p.next();return E=v.done,v},e:function(v){F=!0,m=v},f:function(){try{E||p.return==null||p.return()}finally{if(F)throw m}}}}b.read_array,b.read_array_pair_list,b.read_array_pair;var pe={read_class_declaration_statement:function(o){var c=this.node("class"),f=this.read_class_modifiers();if(this.token!==this.tok.T_CLASS)return this.error(this.tok.T_CLASS),this.next(),null;this.next().expect(this.tok.T_STRING);var p=this.node("identifier"),m=this.text();this.next(),p=p(m);var E=this.read_extends_from(),F=this.read_implements_list();this.expect("{");var v=c(p,E,F,this.next().read_class_body(),f);return o&&(v.attrGroups=o),v},read_class_modifiers:function(){return[0,0,this.read_class_modifier()]},read_class_modifier:function(){return this.token===this.tok.T_ABSTRACT?(this.next(),1):this.token===this.tok.T_FINAL?(this.next(),2):0},read_class_body:function(){for(var o=[],c=[];this.token!==this.EOF&&this.token!=="}";)if(this.token!==this.tok.T_COMMENT)if(this.token!==this.tok.T_DOC_COMMENT)if(this.token!==this.tok.T_USE){this.token===this.tok.T_ATTRIBUTE&&(c=this.read_attr_list());var f=this.position(),p=this.read_member_flags(!1);if(this.token!==this.tok.T_CONST)if(this.token===this.tok.T_VAR&&(this.next().expect(this.tok.T_VARIABLE),p[0]=null,p[1]=0),this.token===this.tok.T_FUNCTION)o.push(this.read_function(!1,p,c,f)),c=[];else if(this.token===this.tok.T_VARIABLE||this.version>=704&&(this.token==="?"||this.token===this.tok.T_CALLABLE||this.token===this.tok.T_ARRAY||this.token===this.tok.T_NS_SEPARATOR||this.token===this.tok.T_STRING||this.token===this.tok.T_NAMESPACE)){var m=this.read_variable_list(p,c);c=[],this.expect(";"),this.next(),o=o.concat(m)}else this.error([this.tok.T_CONST,this.tok.T_VARIABLE,this.tok.T_FUNCTION]),this.next();else{var E=this.read_constant_list(p,c);this.expect(";")&&this.next(),o=o.concat(E)}}else o=o.concat(this.read_trait_use_statement());else o.push(this.read_doc_comment());else o.push(this.read_comment());return this.expect("}"),this.next(),o},read_variable_list:function(o,c){var f=this.node("propertystatement"),p=this.read_list(function(){var m=this.node("property"),E=Y(this.read_optional_type(),2),F=E[0],v=E[1];this.expect(this.tok.T_VARIABLE);var B=this.node("identifier"),q=this.text().substring(1);return this.next(),B=B(q),this.token===";"||this.token===","?m(B,null,F,v,c||[]):this.token==="="?m(B,this.next().read_expr(),F,v,c||[]):(this.expect([",",";","="]),m(B,null,F,v,c||[]))},",");return f(null,p,o)},read_constant_list:function(o,c){this.expect(this.tok.T_CONST)&&this.next();var f=this.node("classconstant"),p=this.read_list(function(){var m=this.node("constant"),E=null,F=null;if(this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){E=this.node("identifier");var v=this.text();this.next(),E=E(v)}else this.expect("IDENTIFIER");return this.expect("=")&&(F=this.next().read_expr()),m(E,F)},",");return f(null,p,o,c||[])},read_member_flags:function(o){var c=[-1,-1,-1];if(this.is("T_MEMBER_FLAGS")){var f=0,p=0;do{switch(this.token){case this.tok.T_PUBLIC:f=0,p=0;break;case this.tok.T_PROTECTED:f=0,p=1;break;case this.tok.T_PRIVATE:f=0,p=2;break;case this.tok.T_STATIC:f=1,p=1;break;case this.tok.T_ABSTRACT:f=2,p=1;break;case this.tok.T_FINAL:f=2,p=2}o&&(f==0&&p==2?(this.expect([this.tok.T_PUBLIC,this.tok.T_PROTECTED]),p=-1):f==2&&p==1&&(this.error(),p=-1)),c[f]!==-1?this.error():p!==-1&&(c[f]=p)}while(this.next().is("T_MEMBER_FLAGS"))}return c[1]==-1&&(c[1]=0),c[2]==-1&&(c[2]=0),c},read_optional_type:function(){var o=!1;this.token==="?"&&(o=!0,this.next());var c=this.read_types();if(o&&!c&&this.raiseError("Expecting a type definition combined with nullable operator"),!o&&!c)return[!1,null];if(this.token==="|"){c=[c];do{this.next();var f=this.read_type();if(!f){this.raiseError("Expecting a type definition");break}c.push(f)}while(this.token==="|")}return[o,c]},read_interface_declaration_statement:function(o){var c=this.node("interface");if(this.token!==this.tok.T_INTERFACE)return this.error(this.tok.T_INTERFACE),this.next(),null;this.next().expect(this.tok.T_STRING);var f=this.node("identifier"),p=this.text();this.next(),f=f(p);var m=this.read_interface_extends_list();return this.expect("{"),c(f,m,this.next().read_interface_body(),o||[])},read_interface_body:function(){for(var o=[],c=[];this.token!==this.EOF&&this.token!=="}";)if(this.token!==this.tok.T_COMMENT)if(this.token!==this.tok.T_DOC_COMMENT){var f=this.position();c=this.read_attr_list();var p=this.read_member_flags(!0);if(this.token==this.tok.T_CONST){var m=this.read_constant_list(p,c);this.expect(";")&&this.next(),o=o.concat(m),c=[]}else if(this.token===this.tok.T_FUNCTION){var E=this.read_function_declaration(2,p,c,f);E.parseFlags(p),o.push(E),this.expect(";")&&this.next(),c=[]}else this.error([this.tok.T_CONST,this.tok.T_FUNCTION]),this.next()}else o.push(this.read_doc_comment());else o.push(this.read_comment());return this.expect("}")&&this.next(),o},read_trait_declaration_statement:function(){var o=this.node("trait");if(this.token!==this.tok.T_TRAIT)return this.error(this.tok.T_TRAIT),this.next(),null;this.next().expect(this.tok.T_STRING);var c=this.node("identifier"),f=this.text();return this.next(),c=c(f),this.expect("{"),o(c,this.next().read_class_body())},read_trait_use_statement:function(){var o=this.node("traituse");this.expect(this.tok.T_USE)&&this.next();for(var c=[this.read_namespace_name()],f=null;this.token===",";)c.push(this.next().read_namespace_name());if(this.token==="{"){for(f=[];this.next().token!==this.EOF&&this.token!=="}";)f.push(this.read_trait_use_alias()),this.expect(";");this.expect("}")&&this.next()}else this.expect(";")&&this.next();return o(c,f)},read_trait_use_alias:function(){var o,c=this.node(),f=null;if(this.is("IDENTIFIER")){o=this.node("identifier");var p=this.text();this.next(),o=o(p)}else if(o=this.read_namespace_name(),this.token===this.tok.T_DOUBLE_COLON)if(this.next(),this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){f=o,o=this.node("identifier");var m=this.text();this.next(),o=o(m)}else this.expect(this.tok.T_STRING);else o=o.name;if(this.token===this.tok.T_INSTEADOF)return c("traitprecedence",f,o,this.next().read_name_list());if(this.token===this.tok.T_AS){var E=null,F=null;if(this.next().is("T_MEMBER_FLAGS")&&(E=this.read_member_flags()),this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){F=this.node("identifier");var v=this.text();this.next(),F=F(v)}else E===!1&&this.expect(this.tok.T_STRING);return c("traitalias",f,o,F,E)}return this.expect([this.tok.T_AS,this.tok.T_INSTEADOF]),c("traitalias",f,o,null,null)}};pe.read_class_declaration_statement,pe.read_class_modifiers,pe.read_class_modifier,pe.read_class_body,pe.read_variable_list,pe.read_constant_list,pe.read_member_flags,pe.read_optional_type,pe.read_interface_declaration_statement,pe.read_interface_body,pe.read_trait_declaration_statement,pe.read_trait_use_statement,pe.read_trait_use_alias;var ot={read_comment:function(){var o=this.text(),c=this.ast.prepare(o.substring(0,2)==="/*"?"commentblock":"commentline",null,this),f=this.lexer.yylloc.first_offset,p=this.prev;return this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset],this.lex(),(c=c(o)).offset=f,this.prev=p,c},read_doc_comment:function(){var o=this.ast.prepare("commentblock",null,this),c=this.lexer.yylloc.first_offset,f=this.text(),p=this.prev;return this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset],this.lex(),(o=o(f)).offset=c,this.prev=p,o}};ot.read_comment,ot.read_doc_comment;var Ee={read_expr:function(o){var c=this.node();if(this.token==="@")return o||(o=this.next().read_expr()),c("silent",o);if(o||(o=this.read_expr_item()),this.token==="|")return c("bin","|",o,this.next().read_expr());if(this.token==="&")return c("bin","&",o,this.next().read_expr());if(this.token==="^")return c("bin","^",o,this.next().read_expr());if(this.token===".")return c("bin",".",o,this.next().read_expr());if(this.token==="+")return c("bin","+",o,this.next().read_expr());if(this.token==="-")return c("bin","-",o,this.next().read_expr());if(this.token==="*")return c("bin","*",o,this.next().read_expr());if(this.token==="/")return c("bin","/",o,this.next().read_expr());if(this.token==="%")return c("bin","%",o,this.next().read_expr());if(this.token===this.tok.T_POW)return c("bin","**",o,this.next().read_expr());if(this.token===this.tok.T_SL)return c("bin","<<",o,this.next().read_expr());if(this.token===this.tok.T_SR)return c("bin",">>",o,this.next().read_expr());if(this.token===this.tok.T_BOOLEAN_OR)return c("bin","||",o,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_OR)return c("bin","or",o,this.next().read_expr());if(this.token===this.tok.T_BOOLEAN_AND)return c("bin","&&",o,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_AND)return c("bin","and",o,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_XOR)return c("bin","xor",o,this.next().read_expr());if(this.token===this.tok.T_IS_IDENTICAL)return c("bin","===",o,this.next().read_expr());if(this.token===this.tok.T_IS_NOT_IDENTICAL)return c("bin","!==",o,this.next().read_expr());if(this.token===this.tok.T_IS_EQUAL)return c("bin","==",o,this.next().read_expr());if(this.token===this.tok.T_IS_NOT_EQUAL)return c("bin","!=",o,this.next().read_expr());if(this.token==="<")return c("bin","<",o,this.next().read_expr());if(this.token===">")return c("bin",">",o,this.next().read_expr());if(this.token===this.tok.T_IS_SMALLER_OR_EQUAL)return c("bin","<=",o,this.next().read_expr());if(this.token===this.tok.T_IS_GREATER_OR_EQUAL)return c("bin",">=",o,this.next().read_expr());if(this.token===this.tok.T_SPACESHIP)return c("bin","<=>",o,this.next().read_expr());if(this.token===this.tok.T_INSTANCEOF&&(o=c("bin","instanceof",o,this.next().read_class_name_reference()),this.token!==";"&&this.token!==this.tok.T_INLINE_HTML&&this.token!==this.EOF&&(o=this.read_expr(o))),this.token===this.tok.T_COALESCE)return c("bin","??",o,this.next().read_expr());if(this.token==="?"){var f=null;return this.next().token!==":"&&(f=this.read_expr()),this.expect(":")&&this.next(),c("retif",o,f,this.read_expr())}return c.destroy(o),o},read_expr_cast:function(o){return this.node("cast")(o,this.text(),this.next().read_expr())},read_isset_variable:function(){return this.read_expr()},read_isset_variables:function(){return this.read_function_list(this.read_isset_variable,",")},read_internal_functions_in_yacc:function(){var o=null;switch(this.token){case this.tok.T_ISSET:o=this.node("isset"),this.next().expect("(")&&this.next();var c=this.read_isset_variables();this.expect(")")&&this.next(),o=o(c);break;case this.tok.T_EMPTY:o=this.node("empty"),this.next().expect("(")&&this.next();var f=this.read_expr();this.expect(")")&&this.next(),o=o(f);break;case this.tok.T_INCLUDE:o=this.node("include")(!1,!1,this.next().read_expr());break;case this.tok.T_INCLUDE_ONCE:o=this.node("include")(!0,!1,this.next().read_expr());break;case this.tok.T_EVAL:o=this.node("eval"),this.next().expect("(")&&this.next();var p=this.read_expr();this.expect(")")&&this.next(),o=o(p);break;case this.tok.T_REQUIRE:o=this.node("include")(!1,!0,this.next().read_expr());break;case this.tok.T_REQUIRE_ONCE:o=this.node("include")(!0,!0,this.next().read_expr())}return o},read_optional_expr:function(o){return this.token!==o?this.read_expr():null},read_exit_expr:function(){var o=null;return this.token==="("&&(this.next(),o=this.read_optional_expr(")"),this.expect(")")&&this.next()),o},read_expr_item:function(){var o,c,f=[];if(this.token==="+")return this.node("unary")("+",this.next().read_expr());if(this.token==="-")return this.node("unary")("-",this.next().read_expr());if(this.token==="!")return this.node("unary")("!",this.next().read_expr());if(this.token==="~")return this.node("unary")("~",this.next().read_expr());if(this.token==="(")return(c=this.next().read_expr()).parenthesizedExpression=!0,this.expect(")")&&this.next(),this.handleDereferencable(c);if(this.token==="`")return this.read_encapsed_string("`");if(this.token===this.tok.T_LIST){var p=null,m=this.innerList;o=this.node("list"),m||(p=this.node("assign")),this.next().expect("(")&&this.next(),this.innerList||(this.innerList=!0);var E=this.read_array_pair_list(!1);this.expect(")")&&this.next();for(var F=!1,v=0;v<E.length;v++)if(E[v]!==null&&E[v].kind!=="noop"){F=!0;break}return F||this.raiseError("Fatal Error :  Cannot use empty list on line "+this.lexer.yylloc.first_line),m?o(E,!1):(this.innerList=!1,this.expect("=")?p(o(E,!1),this.next().read_expr(),"="):o(E,!1))}if(this.token===this.tok.T_ATTRIBUTE&&(f=this.read_attr_list()),this.token===this.tok.T_CLONE)return this.node("clone")(this.next().read_expr());switch(this.token){case this.tok.T_INC:return this.node("pre")("+",this.next().read_variable(!1,!1));case this.tok.T_DEC:return this.node("pre")("-",this.next().read_variable(!1,!1));case this.tok.T_NEW:return this.read_new_expr();case this.tok.T_ISSET:case this.tok.T_EMPTY:case this.tok.T_INCLUDE:case this.tok.T_INCLUDE_ONCE:case this.tok.T_EVAL:case this.tok.T_REQUIRE:case this.tok.T_REQUIRE_ONCE:return this.read_internal_functions_in_yacc();case this.tok.T_MATCH:return this.read_match_expression();case this.tok.T_INT_CAST:return this.read_expr_cast("int");case this.tok.T_DOUBLE_CAST:return this.read_expr_cast("float");case this.tok.T_STRING_CAST:return this.read_expr_cast(this.text().indexOf("binary")!==-1?"binary":"string");case this.tok.T_ARRAY_CAST:return this.read_expr_cast("array");case this.tok.T_OBJECT_CAST:return this.read_expr_cast("object");case this.tok.T_BOOL_CAST:return this.read_expr_cast("bool");case this.tok.T_UNSET_CAST:return this.read_expr_cast("unset");case this.tok.T_THROW:return this.version<800&&this.raiseError("PHP 8+ is required to use throw as an expression"),this.node("throw")(this.next().read_expr());case this.tok.T_EXIT:var B=this.lexer.yytext.toLowerCase()==="die";return o=this.node("exit"),this.next(),o(this.read_exit_expr(),B);case this.tok.T_PRINT:return this.node("print")(this.next().read_expr());case this.tok.T_YIELD:var q=null,R=null;return o=this.node("yield"),this.next().is("EXPR")&&(q=this.read_expr(),this.token===this.tok.T_DOUBLE_ARROW&&(R=q,q=this.next().read_expr())),o(q,R);case this.tok.T_YIELD_FROM:return(o=this.node("yieldfrom"))(c=this.next().read_expr());case this.tok.T_FN:case this.tok.T_FUNCTION:return this.read_inline_function(void 0,f);case this.tok.T_STATIC:var ke=[this.token,this.lexer.getState()];if(this.next(),this.token===this.tok.T_FUNCTION||this.version>=704&&this.token===this.tok.T_FN)return this.read_inline_function([0,1,0],f);this.lexer.tokens.push(ke),this.next()}if(this.is("VARIABLE")){o=this.node();var Oe=(c=this.read_variable(!1,!1)).kind==="identifier"||c.kind==="staticlookup"&&c.offset.kind==="identifier";switch(this.token){case"=":return Oe&&this.error("VARIABLE"),this.next().token=="&"?this.read_assignref(o,c):o("assign",c,this.read_expr(),"=");case this.tok.T_PLUS_EQUAL:return Oe&&this.error("VARIABLE"),o("assign",c,this.next().read_expr(),"+=");case this.tok.T_MINUS_EQUAL:return Oe&&this.error("VARIABLE"),o("assign",c,this.next().read_expr(),"-=");case this.tok.T_MUL_EQUAL:return Oe&&this.error("VARIABLE"),o("assign",c,this.next().read_expr(),"*=");case this.tok.T_POW_EQUAL:return Oe&&this.error("VARIABLE"),o("assign",c,this.next().read_expr(),"**=");case this.tok.T_DIV_EQUAL:return Oe&&this.error("VARIABLE"),o("assign",c,this.next().read_expr(),"/=");case this.tok.T_CONCAT_EQUAL:return Oe&&this.error("VARIABLE"),o("assign",c,this.next().read_expr(),".=");case this.tok.T_MOD_EQUAL:return Oe&&this.error("VARIABLE"),o("assign",c,this.next().read_expr(),"%=");case this.tok.T_AND_EQUAL:return Oe&&this.error("VARIABLE"),o("assign",c,this.next().read_expr(),"&=");case this.tok.T_OR_EQUAL:return Oe&&this.error("VARIABLE"),o("assign",c,this.next().read_expr(),"|=");case this.tok.T_XOR_EQUAL:return Oe&&this.error("VARIABLE"),o("assign",c,this.next().read_expr(),"^=");case this.tok.T_SL_EQUAL:return Oe&&this.error("VARIABLE"),o("assign",c,this.next().read_expr(),"<<=");case this.tok.T_SR_EQUAL:return Oe&&this.error("VARIABLE"),o("assign",c,this.next().read_expr(),">>=");case this.tok.T_COALESCE_EQUAL:return Oe&&this.error("VARIABLE"),o("assign",c,this.next().read_expr(),"??=");case this.tok.T_INC:return Oe&&this.error("VARIABLE"),this.next(),o("post","+",c);case this.tok.T_DEC:return Oe&&this.error("VARIABLE"),this.next(),o("post","-",c);default:o.destroy(c)}}else{if(this.is("SCALAR")){if(o=this.node(),(c=this.read_scalar()).kind==="array"&&c.shortForm&&this.token==="="){var tt=this.convertToList(c);return c.loc&&(tt.loc=c.loc),o("assign",tt,this.next().read_expr(),"=")}return o.destroy(c),this.handleDereferencable(c)}this.error("EXPR"),this.next()}return c},convertToList:function(o){var c=this,f=o.items.map(function(m){return m.value&&m.value.kind==="array"&&m.value.shortForm&&(m.value=c.convertToList(m.value)),m}),p=this.node("list")(f,!0);return o.loc&&(p.loc=o.loc),o.leadingComments&&(p.leadingComments=o.leadingComments),o.trailingComments&&(p.trailingComments=o.trailingComments),p},read_assignref:function(o,c){var f;return this.next(),this.token===this.tok.T_NEW?(this.version>=700&&this.error(),f=this.read_new_expr()):f=this.read_variable(!1,!1),o("assignref",c,f)},read_inline_function:function(o,c){if(this.token===this.tok.T_FUNCTION){var f=this.read_function(!0,o,c);return f.attrGroups=c,f}!this.version>=704&&this.raiseError("Arrow Functions are not allowed");var p=this.node("arrowfunc");this.expect(this.tok.T_FN)&&this.next();var m=this.is_reference();this.expect("(")&&this.next();var E=this.read_parameter_list();this.expect(")")&&this.next();var F=!1,v=null;this.token===":"&&(this.next().token==="?"&&(F=!0,this.next()),v=this.read_types()),this.expect(this.tok.T_DOUBLE_ARROW)&&this.next();var B=p(E,m,this.read_expr(),v,F,!!o);return B.attrGroups=c,B},read_match_expression:function(){var o=this.node("match");this.expect(this.tok.T_MATCH)&&this.next(),this.version<800&&this.raiseError("Match statements are not allowed before PHP 8");var c,f;return this.expect("(")&&this.next(),c=this.read_expr(),this.expect(")")&&this.next(),this.expect("{")&&this.next(),f=this.read_match_arms(),this.expect("}")&&this.next(),o(c,f)},read_match_arms:function(){var o=this;return this.read_list(function(){return o.read_match_arm()},",",!0)},read_match_arm:function(){if(this.token!=="}")return this.node("matcharm")(this.read_match_arm_conds(),this.read_expr())},read_match_arm_conds:function(){var o=[];if(this.token===this.tok.T_DEFAULT)o=null,this.next();else for(o.push(this.read_expr());this.token===",";){if(this.next(),this.token===this.tok.T_DOUBLE_ARROW)return this.next(),o;o.push(this.read_expr())}return this.expect(this.tok.T_DOUBLE_ARROW)&&this.next(),o},read_attribute(){var o=this.text(),c=[];return this.next(),this.token==="("&&(c=this.read_argument_list()),this.node("attribute")(o,c)},read_attr_list(){var o=[];if(this.token===this.tok.T_ATTRIBUTE)do{var c=this.node("attrgroup")([]);for(this.next(),c.attrs.push(this.read_attribute());this.token===",";)this.next(),this.token!=="]"&&c.attrs.push(this.read_attribute());o.push(c),this.expect("]"),this.next()}while(this.token===this.tok.T_ATTRIBUTE);return o},read_new_expr:function(){var o=this.node("new");this.expect(this.tok.T_NEW)&&this.next();var c=[],f=this.read_attr_list();if(this.token===this.tok.T_CLASS){var p=this.node("class");this.next().token==="("&&(c=this.read_argument_list());var m=this.read_extends_from(),E=this.read_implements_list(),F=null;this.expect("{")&&(F=this.next().read_class_body());var v=p(null,m,E,F,[0,0,0]);return v.attrGroups=f,o(v,c)}var B=this.read_new_class_name();return this.token==="("&&(c=this.read_argument_list()),o(B,c)},read_new_class_name:function(){if(this.token===this.tok.T_NS_SEPARATOR||this.token===this.tok.T_STRING||this.token===this.tok.T_NAMESPACE){var o=this.read_namespace_name(!0);return this.token===this.tok.T_DOUBLE_COLON&&(o=this.read_static_getter(o)),o}if(this.is("VARIABLE"))return this.read_variable(!0,!1);this.expect([this.tok.T_STRING,"VARIABLE"])},handleDereferencable:function(o){for(;this.token!==this.EOF;)if(this.token===this.tok.T_OBJECT_OPERATOR||this.token===this.tok.T_DOUBLE_COLON)o=this.recursive_variable_chain_scan(o,!1,!1,!0);else if(this.token===this.tok.T_CURLY_OPEN||this.token==="[")o=this.read_dereferencable(o);else{if(this.token!=="(")return o;o=this.node("call")(o,this.read_argument_list())}return o}};Ee.read_expr,Ee.read_expr_cast,Ee.read_isset_variable,Ee.read_isset_variables,Ee.read_internal_functions_in_yacc,Ee.read_optional_expr,Ee.read_exit_expr,Ee.read_expr_item,Ee.convertToList,Ee.read_assignref,Ee.read_inline_function,Ee.read_match_expression,Ee.read_match_arms,Ee.read_match_arm,Ee.read_match_arm_conds,Ee.read_attribute,Ee.read_attr_list,Ee.read_new_expr,Ee.read_new_class_name,Ee.handleDereferencable;var se={is_reference:function(){return this.token=="&"&&(this.next(),!0)},is_variadic:function(){return this.token===this.tok.T_ELLIPSIS&&(this.next(),!0)},read_function:function(o,c,f,p){var m=this.read_function_declaration(o?1:c?2:0,c&&c[1]===1,f||[],p);return c&&c[2]==1?(m.parseFlags(c),this.expect(";")&&this.next()):(this.expect("{")&&(m.body=this.read_code_block(!1),m.loc&&m.body.loc&&(m.loc.end=m.body.loc.end)),!o&&c&&m.parseFlags(c)),m},read_function_declaration:function(o,c,f,p){var m=this,E="function";o===1?E="closure":o===2&&(E="method");var F=this.node(E);this.expect(this.tok.T_FUNCTION)&&this.next();var v=this.is_reference(),B=!1,q=[],R=null,ke=!1;if(o!==1){var Oe=this.node("identifier");o===2?this.version>=700?this.token===this.tok.T_STRING||this.is("IDENTIFIER")?(B=this.text(),this.next()):this.version<704&&this.error("IDENTIFIER"):this.token===this.tok.T_STRING?(B=this.text(),this.next()):this.error("IDENTIFIER"):this.version>=700?this.token===this.tok.T_STRING?(B=this.text(),this.next()):this.version>=704?this.expect("(")||this.next():(this.error(this.tok.T_STRING),this.next()):(this.expect(this.tok.T_STRING)&&(B=this.text()),this.next()),B=Oe(B)}this.expect("(")&&this.next();var tt=this.read_parameter_list();this.expect(")")&&this.next(),o===1&&(q=this.read_lexical_vars()),this.token===":"&&(this.next().token==="?"&&(ke=!0,this.next()),R=this.read_types());var _t=function(xe){return xe.attrGroups=f||[],p&&xe.loc&&(xe.loc.start=p,xe.loc.source&&(xe.loc.source=m.lexer._input.substr(xe.loc.start.offset,xe.loc.end.offset-xe.loc.start.offset))),xe};return _t(o===1?F(tt,v,q,R,ke,c):F(B,tt,v,R,ke))},read_lexical_vars:function(){var o=[];return this.token===this.tok.T_USE&&(this.next(),this.expect("(")&&this.next(),o=this.read_lexical_var_list(),this.expect(")")&&this.next()),o},read_list_with_dangling_comma:function(o){for(var c=[];this.token!=this.EOF;){if(c.push(o()),this.token!=","){if(this.token==")")break;this.error([",",")"]);break}if(this.next(),this.version>=800&&this.token===")")return c}return c},read_lexical_var_list:function(){return this.read_list_with_dangling_comma(this.read_lexical_var.bind(this))},read_lexical_var:function(){if(this.token==="&")return this.read_byref(this.read_lexical_var.bind(this));var o=this.node("variable");this.expect(this.tok.T_VARIABLE);var c=this.text().substring(1);return this.next(),o(c,!1)},read_parameter_list:function(){return this.token!=")"?this.read_list_with_dangling_comma(this.read_parameter.bind(this)):[]},read_parameter:function(){var o,c=this.node("parameter"),f=null,p=null,m=!1,E=[];this.token===this.tok.T_ATTRIBUTE&&(E=this.read_attr_list());var F=this.read_promoted();this.token==="?"&&(this.next(),m=!0),o=this.read_types(),m&&!o&&this.raiseError("Expecting a type definition combined with nullable operator");var v=this.is_reference(),B=this.is_variadic();if(this.expect(this.tok.T_VARIABLE)){f=this.node("identifier");var q=this.text().substring(1);this.next(),f=f(q)}this.token=="="&&(p=this.next().read_expr());var R=c(f,o,p,v,B,m,F);return E&&(R.attrGroups=E),R},read_types(){var o=[],c=this.node("uniontype"),f=this.read_type();if(!f)return null;for(o.push(f);this.token==="|";)this.next(),f=this.read_type(),o.push(f);return o.length===1?o[0]:c(o)},read_promoted(){return this.token===this.tok.T_PUBLIC?(this.next(),1):this.token===this.tok.T_PROTECTED?(this.next(),2):this.token===this.tok.T_PRIVATE?(this.next(),4):0},read_argument_list:function(){var o=[];return this.expect("(")&&this.next(),this.token!==")"&&(o=this.read_non_empty_argument_list()),this.expect(")")&&this.next(),o},read_non_empty_argument_list:function(){var o=!1;return this.read_function_list(function(){var c=this.read_argument();return c&&(o&&this.raiseError("Unexpected argument after a variadic argument"),c.kind==="variadic"&&(o=!0)),c}.bind(this),",")},read_argument:function(){if(this.token===this.tok.T_ELLIPSIS)return this.node("variadic")(this.next().read_expr());if(this.token===this.tok.T_STRING||Object.values(this.lexer.keywords).includes(this.token)){var o=this.lexer.getState(),c=this.lexer.lex();if(this.lexer.setState(o),c===":")return this.version<800&&this.raiseError("PHP 8+ is required to use named arguments"),this.node("namedargument")(this.text(),this.next().next().read_expr())}return this.read_expr()},read_type:function(){var o=this.node();if(this.token===this.tok.T_ARRAY||this.token===this.tok.T_CALLABLE){var c=this.text();return this.next(),o("typereference",c.toLowerCase(),c)}if(this.token===this.tok.T_STRING||this.token===this.tok.T_STATIC){var f=this.text(),p=[this.token,this.lexer.getState()];return this.next(),this.token!==this.tok.T_NS_SEPARATOR&&this.ast.typereference.types.indexOf(f.toLowerCase())>-1?o("typereference",f.toLowerCase(),f):(this.lexer.tokens.push(p),this.next(),o.destroy(),this.read_namespace_name())}return this.token===this.tok.T_NAMESPACE||this.token===this.tok.T_NS_SEPARATOR?(o.destroy(),this.read_namespace_name()):(o.destroy(),null)}};se.is_reference,se.is_variadic,se.read_function,se.read_function_declaration,se.read_lexical_vars,se.read_list_with_dangling_comma,se.read_lexical_var_list,se.read_lexical_var,se.read_parameter_list,se.read_parameter,se.read_types,se.read_promoted,se.read_argument_list,se.read_non_empty_argument_list,se.read_argument,se.read_type;var rt={read_if:function(){var o=this.node("if"),c=this.next().read_if_expr(),f=null,p=null,m=!1;if(this.token===":"){m=!0,this.next(),f=this.node("block");for(var E=[];this.token!==this.EOF&&this.token!==this.tok.T_ENDIF;){if(this.token===this.tok.T_ELSEIF){p=this.read_elseif_short();break}if(this.token===this.tok.T_ELSE){p=this.read_else_short();break}E.push(this.read_inner_statement())}f=f(null,E),this.expect(this.tok.T_ENDIF)&&this.next(),this.expectEndOfStatement()}else f=this.read_statement(),this.token===this.tok.T_ELSEIF?p=this.read_if():this.token===this.tok.T_ELSE&&(p=this.next().read_statement());return o(c,f,p,m)},read_if_expr:function(){this.expect("(")&&this.next();var o=this.read_expr();return this.expect(")")&&this.next(),o},read_elseif_short:function(){var o=null,c=this.node("if"),f=this.next().read_if_expr();this.expect(":")&&this.next();for(var p=this.node("block"),m=[];this.token!=this.EOF&&this.token!==this.tok.T_ENDIF;){if(this.token===this.tok.T_ELSEIF){o=this.read_elseif_short();break}if(this.token===this.tok.T_ELSE){o=this.read_else_short();break}m.push(this.read_inner_statement())}return c(f,p(null,m),o,!0)},read_else_short:function(){this.next().expect(":")&&this.next();for(var o=this.node("block"),c=[];this.token!=this.EOF&&this.token!==this.tok.T_ENDIF;)c.push(this.read_inner_statement());return o(null,c)}};rt.read_if,rt.read_if_expr,rt.read_elseif_short,rt.read_else_short;var Pt={read_while:function(){var o=this.node("while");this.expect(this.tok.T_WHILE)&&this.next();var c,f=null,p=!1;return this.expect("(")&&this.next(),c=this.read_expr(),this.expect(")")&&this.next(),this.token===":"?(p=!0,f=this.read_short_form(this.tok.T_ENDWHILE)):f=this.read_statement(),o(c,f,p)},read_do:function(){var o=this.node("do");this.expect(this.tok.T_DO)&&this.next();var c,f=null;return c=this.read_statement(),this.expect(this.tok.T_WHILE)&&(this.next().expect("(")&&this.next(),f=this.read_expr(),this.expect(")")&&this.next(),this.expect(";")&&this.next()),o(f,c)},read_for:function(){var o=this.node("for");this.expect(this.tok.T_FOR)&&this.next();var c=[],f=[],p=[],m=null,E=!1;return this.expect("(")&&this.next(),this.token!==";"?(c=this.read_list(this.read_expr,","),this.expect(";")&&this.next()):this.next(),this.token!==";"?(f=this.read_list(this.read_expr,","),this.expect(";")&&this.next()):this.next(),this.token!==")"?(p=this.read_list(this.read_expr,","),this.expect(")")&&this.next()):this.next(),this.token===":"?(E=!0,m=this.read_short_form(this.tok.T_ENDFOR)):m=this.read_statement(),o(c,f,p,m,E)},read_foreach:function(){var o=this.node("foreach");this.expect(this.tok.T_FOREACH)&&this.next();var c,f=null,p=null,m=null,E=!1;return this.expect("(")&&this.next(),c=this.read_expr(),this.expect(this.tok.T_AS)&&(this.next(),p=this.read_foreach_variable(),this.token===this.tok.T_DOUBLE_ARROW&&(f=p,p=this.next().read_foreach_variable())),f&&f.kind==="list"&&this.raiseError("Fatal Error : Cannot use list as key element"),this.expect(")")&&this.next(),this.token===":"?(E=!0,m=this.read_short_form(this.tok.T_ENDFOREACH)):m=this.read_statement(),o(c,f,p,m,E)},read_foreach_variable:function(){if(this.token===this.tok.T_LIST||this.token==="["){var o=this.token==="[",c=this.node("list");this.next(),!o&&this.expect("(")&&this.next();var f=this.read_array_pair_list(o);return this.expect(o?"]":")")&&this.next(),c(f,o)}return this.read_variable(!1,!1)}};Pt.read_while,Pt.read_do,Pt.read_for,Pt.read_foreach,Pt.read_foreach_variable;var Ln={read_start:function(){return this.token==this.tok.T_NAMESPACE?this.read_namespace():this.read_top_statement()}};Ln.read_start;var at={read_namespace:function(){var o,c,f=this.node("namespace");return this.expect(this.tok.T_NAMESPACE)&&this.next(),c=this.token=="{"?{name:[""]}:this.read_namespace_name(),this.currentNamespace=c,this.token==";"?(this.currentNamespace=c,o=this.next().read_top_statements(),this.expect(this.EOF),f(c.name,o,!1)):this.token=="{"?(this.currentNamespace=c,o=this.next().read_top_statements(),this.expect("}")&&this.next(),o.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&o.push(this.node("noop")()),f(c.name,o,!0)):this.token==="("?(c.resolution=this.ast.reference.RELATIVE_NAME,c.name=c.name.substring(1),f.destroy(),this.node("call")(c,this.read_argument_list())):(this.error(["{",";"]),this.currentNamespace=c,o=this.read_top_statements(),this.expect(this.EOF),f(c,o,!1))},read_namespace_name:function(o){var c=this.node(),f=!1;this.token===this.tok.T_NAMESPACE&&(this.next().expect(this.tok.T_NS_SEPARATOR)&&this.next(),f=!0);var p=this.read_list(this.tok.T_STRING,this.tok.T_NS_SEPARATOR,!0);if(!f&&p.length===1&&(o||this.token!=="(")){if(p[0].toLowerCase()==="parent")return c("parentreference",p[0]);if(p[0].toLowerCase()==="self")return c("selfreference",p[0])}return c("name",p,f)},read_use_statement:function(){var o=this.node("usegroup"),c=[],f=null;this.expect(this.tok.T_USE)&&this.next();var p=this.read_use_type();return c.push(this.read_use_declaration(!1)),this.token===","?c=c.concat(this.next().read_use_declarations(!1)):this.token==="{"&&(f=c[0].name,c=this.next().read_use_declarations(p===null),this.expect("}")&&this.next()),o=o(f,p,c),this.expect(";")&&this.next(),o},read_class_name_reference:function(){return this.read_variable(!0,!1)},read_use_declaration:function(o){var c=this.node("useitem"),f=null;o&&(f=this.read_use_type());var p=this.read_namespace_name(),m=this.read_use_alias();return c(p.name,m,f)},read_use_declarations:function(o){for(var c=[this.read_use_declaration(o)];this.token===",";){if(this.next(),o){if(this.token!==this.tok.T_FUNCTION&&this.token!==this.tok.T_CONST&&this.token!==this.tok.T_STRING)break}else if(this.token!==this.tok.T_STRING&&this.token!==this.tok.T_NS_SEPARATOR)break;c.push(this.read_use_declaration(o))}return c},read_use_alias:function(){var o=null;if(this.token===this.tok.T_AS&&this.next().expect(this.tok.T_STRING)){var c=this.node("identifier"),f=this.text();this.next(),o=c(f)}return o},read_use_type:function(){return this.token===this.tok.T_FUNCTION?(this.next(),this.ast.useitem.TYPE_FUNCTION):this.token===this.tok.T_CONST?(this.next(),this.ast.useitem.TYPE_CONST):null}};at.read_namespace,at.read_namespace_name,at.read_use_statement,at.read_class_name_reference,at.read_use_declaration,at.read_use_declarations,at.read_use_alias,at.read_use_type;var Ut={"\\":"\\",$:"$",n:`
`,r:"\r",t:"	",f:String.fromCharCode(12),v:String.fromCharCode(11),e:String.fromCharCode(27)},Xn={resolve_special_chars:function(o,c){return c?o.replace(/\\"/,'"').replace(/\\([\\$nrtfve]|[xX][0-9a-fA-F]{1,2}|[0-7]{1,3}|u{([0-9a-fA-F]+)})/g,function(f,p,m){return Ut[p]?Ut[p]:p[0]==="x"||p[0]==="X"?String.fromCodePoint(parseInt(p.substr(1),16)):p[0]==="u"?String.fromCodePoint(parseInt(m,16)):String.fromCodePoint(parseInt(p,8))}):o.replace(/\\\\/g,"\\").replace(/\\'/g,"'")},remove_heredoc_leading_whitespace_chars:function(o,c,f,p){if(c===0)return o;this.check_heredoc_indentation_level(o,c,f,p);var m=f?" ":"	",E=new RegExp("\\n".concat(m,"{").concat(c,"}"),"g"),F=new RegExp("^".concat(m,"{").concat(c,"}"));return p&&(o=o.replace(F,"")),o.replace(E,`
`)},check_heredoc_indentation_level:function(o,c,f,p){var m=o.length,E=0,F=0,v=!0,B=f?" ":"	",q=!1;if(!p){if((E=o.indexOf(`
`))===-1)return;E++}for(;E<m;)v?o[E]===B?F++:q=!0:v=!1,o[E]!==`
`&&q&&F<c?this.raiseError("Invalid body indentation level (expecting an indentation at least ".concat(c,")")):q=!1,o[E]===`
`&&(v=!0,F=0),E++},read_dereferencable_scalar:function(){var o=null;switch(this.token){case this.tok.T_CONSTANT_ENCAPSED_STRING:var c=this.node("string"),f=this.text(),p=0;f[0]!=="b"&&f[0]!=="B"||(p=1);var m=f[p]==='"';this.next(),c=c(m,this.resolve_special_chars(f.substring(p+1,f.length-1),m),p===1,f),o=this.token===this.tok.T_DOUBLE_COLON?this.read_static_getter(c):c;break;case this.tok.T_ARRAY:case"[":o=this.read_array()}return o},read_scalar:function(){if(this.is("T_MAGIC_CONST"))return this.get_magic_constant();var o,c;switch(this.token){case this.tok.T_LNUMBER:case this.tok.T_DNUMBER:var f=this.node("number");return o=this.text(),this.next(),f(o,null);case this.tok.T_START_HEREDOC:if(this.lexer.curCondition==="ST_NOWDOC"){var p=this.lexer.yylloc.first_offset;c=this.node("nowdoc"),o=this.next().text(),this.lexer.heredoc_label.indentation>0&&(o=o.substring(0,o.length-this.lexer.heredoc_label.indentation));var m=o[o.length-1];m===`
`?o=o[o.length-2]==="\r"?o.substring(0,o.length-2):o.substring(0,o.length-1):m==="\r"&&(o=o.substring(0,o.length-1)),this.expect(this.tok.T_ENCAPSED_AND_WHITESPACE)&&this.next(),this.expect(this.tok.T_END_HEREDOC)&&this.next();var E=this.lexer._input.substring(p,this.lexer.yylloc.first_offset);return c=c(this.remove_heredoc_leading_whitespace_chars(o,this.lexer.heredoc_label.indentation,this.lexer.heredoc_label.indentation_uses_spaces,this.lexer.heredoc_label.first_encaps_node),E,this.lexer.heredoc_label.label)}return this.read_encapsed_string(this.tok.T_END_HEREDOC);case'"':return this.read_encapsed_string('"');case'b"':case'B"':return this.read_encapsed_string('"',!0);case this.tok.T_CONSTANT_ENCAPSED_STRING:case this.tok.T_ARRAY:case"[":return this.read_dereferencable_scalar();default:var F=this.error("SCALAR");return this.next(),F}},read_dereferencable:function(o){var c,f,p=this.node("offsetlookup");return this.token==="["?(f=this.next().read_expr(),this.expect("]")&&this.next(),c=p(o,f)):this.token===this.tok.T_DOLLAR_OPEN_CURLY_BRACES&&(c=p(o,f=this.read_encapsed_string_item(!1))),c},read_encapsed_string_item:function(o){var c,f,p,m=this.node("encapsedpart"),E=null,F=!1,v=this.node();if(this.token===this.tok.T_ENCAPSED_AND_WHITESPACE){var B=this.text();this.next(),v=v("string",!1,this.version>=703&&!this.lexer.heredoc_label.finished?this.remove_heredoc_leading_whitespace_chars(this.resolve_special_chars(B,o),this.lexer.heredoc_label.indentation,this.lexer.heredoc_label.indentation_uses_spaces,this.lexer.heredoc_label.first_encaps_node):B,!1,B)}else if(this.token===this.tok.T_DOLLAR_OPEN_CURLY_BRACES){if(E="simple",F=!0,p=null,this.next().token===this.tok.T_STRING_VARNAME){p=this.node("variable");var q=this.text();this.next(),this.token==="["?(p=p(q,!1),f=this.node("offsetlookup"),c=this.next().read_expr(),this.expect("]")&&this.next(),v=f(p,c)):v=p(q,!1)}else v=v("variable",this.read_expr(),!1);this.expect("}")&&this.next()}else if(this.token===this.tok.T_CURLY_OPEN)E="complex",v.destroy(),v=this.next().read_variable(!1,!1),this.expect("}")&&this.next();else if(this.token===this.tok.T_VARIABLE){if(E="simple",v.destroy(),v=this.read_simple_variable(),this.token==="["&&(f=this.node("offsetlookup"),c=this.next().read_encaps_var_offset(),this.expect("]")&&this.next(),v=f(v,c)),this.token===this.tok.T_OBJECT_OPERATOR){f=this.node("propertylookup"),this.next().expect(this.tok.T_STRING);var R=this.node("identifier");p=this.text(),this.next(),v=f(v,R(p))}}else{this.expect(this.tok.T_ENCAPSED_AND_WHITESPACE);var ke=this.text();this.next(),v.destroy(),v=v("string",!1,ke,!1,ke)}return this.lexer.heredoc_label.first_encaps_node=!1,m(v,E,F)},read_encapsed_string:function(o){var c=arguments.length>1&&arguments[1]!==void 0&&arguments[1],f=this.lexer.yylloc.first_offset,p=this.node("encapsed");this.next();var m=this.lexer.yylloc.prev_offset-(c?1:0),E=[],F=null;for(F=o==="`"?this.ast.encapsed.TYPE_SHELL:o==='"'?this.ast.encapsed.TYPE_STRING:this.ast.encapsed.TYPE_HEREDOC;this.token!==o&&this.token!==this.EOF;)E.push(this.read_encapsed_string_item(!0));if(E.length>0&&E[E.length-1].kind==="encapsedpart"&&E[E.length-1].expression.kind==="string"){var v=E[E.length-1].expression,B=v.value[v.value.length-1];B===`
`?v.value[v.value.length-2]==="\r"?v.value=v.value.substring(0,v.value.length-2):v.value=v.value.substring(0,v.value.length-1):B==="\r"&&(v.value=v.value.substring(0,v.value.length-1))}this.expect(o)&&this.next();var q=this.lexer._input.substring(F==="heredoc"?f:m-1,this.lexer.yylloc.first_offset);return p=p(E,q,F),o===this.tok.T_END_HEREDOC&&(p.label=this.lexer.heredoc_label.label,this.lexer.heredoc_label.finished=!0),p},get_magic_constant:function(){var o=this.node("magic"),c=this.text();return this.next(),o(c.toUpperCase(),c)}};Xn.resolve_special_chars,Xn.remove_heredoc_leading_whitespace_chars,Xn.check_heredoc_indentation_level,Xn.read_dereferencable_scalar,Xn.read_scalar,Xn.read_dereferencable,Xn.read_encapsed_string_item,Xn.read_encapsed_string,Xn.get_magic_constant;var cr={read_top_statements:function(){for(var o=[];this.token!==this.EOF&&this.token!=="}";){var c=this.read_top_statement();c&&(Array.isArray(c)?o=o.concat(c):o.push(c))}return o},read_top_statement:function(){var o=[];switch(this.token===this.tok.T_ATTRIBUTE&&(o=this.read_attr_list()),this.token){case this.tok.T_FUNCTION:return this.read_function(!1,!1,o);case this.tok.T_ABSTRACT:case this.tok.T_FINAL:case this.tok.T_CLASS:return this.read_class_declaration_statement(o);case this.tok.T_INTERFACE:return this.read_interface_declaration_statement(o);case this.tok.T_TRAIT:return this.read_trait_declaration_statement();case this.tok.T_USE:return this.read_use_statement();case this.tok.T_CONST:var c=this.node("constantstatement"),f=this.next().read_const_list();return this.expectEndOfStatement(),c(null,f);case this.tok.T_NAMESPACE:return this.read_namespace();case this.tok.T_HALT_COMPILER:var p=this.node("halt");return this.next().expect("(")&&this.next(),this.expect(")")&&this.next(),this.expect(";"),this.lexer.done=!0,p(this.lexer._input.substring(this.lexer.offset));default:return this.read_statement()}},read_inner_statements:function(){for(var o=[];this.token!=this.EOF&&this.token!=="}";){var c=this.read_inner_statement();c&&(Array.isArray(c)?o=o.concat(c):o.push(c))}return o},read_const_list:function(){return this.read_list(function(){this.expect(this.tok.T_STRING);var o=this.node("constant"),c=this.node("identifier"),f=this.text();return this.next(),c=c(f),this.expect("=")?o(c,this.next().read_expr()):o(c,null)},",",!1)},read_declare_list:function(){for(var o=[];this.token!=this.EOF&&this.token!==")";){this.expect(this.tok.T_STRING);var c=this.node("declaredirective"),f=this.node("identifier"),p=this.text();this.next(),f=f(p);var m=null;if(this.expect("=")&&(m=this.next().read_expr()),o.push(c(f,m)),this.token!==",")break;this.next()}return o},read_inner_statement:function(){var o=[];switch(this.token===this.tok.T_ATTRIBUTE&&(o=this.read_attr_list()),this.token){case this.tok.T_FUNCTION:var c=this.read_function(!1,!1);return c.attrGroups=o,c;case this.tok.T_ABSTRACT:case this.tok.T_FINAL:case this.tok.T_CLASS:return this.read_class_declaration_statement();case this.tok.T_INTERFACE:return this.read_interface_declaration_statement();case this.tok.T_TRAIT:return this.read_trait_declaration_statement();case this.tok.T_HALT_COMPILER:this.raiseError("__HALT_COMPILER() can only be used from the outermost scope");var f=this.node("halt");return this.next().expect("(")&&this.next(),this.expect(")")&&this.next(),f=f(this.lexer._input.substring(this.lexer.offset)),this.expect(";")&&this.next(),f;default:return this.read_statement()}},read_statement:function(){switch(this.token){case"{":return this.read_code_block(!1);case this.tok.T_IF:return this.read_if();case this.tok.T_SWITCH:return this.read_switch();case this.tok.T_FOR:return this.read_for();case this.tok.T_FOREACH:return this.read_foreach();case this.tok.T_WHILE:return this.read_while();case this.tok.T_DO:return this.read_do();case this.tok.T_COMMENT:return this.read_comment();case this.tok.T_DOC_COMMENT:return this.read_doc_comment();case this.tok.T_RETURN:var o=this.node("return");this.next();var c=this.read_optional_expr(";");return this.expectEndOfStatement(),o(c);case this.tok.T_BREAK:case this.tok.T_CONTINUE:var f=this.node(this.token===this.tok.T_CONTINUE?"continue":"break");this.next();var p=this.read_optional_expr(";");return this.expectEndOfStatement(),f(p);case this.tok.T_GLOBAL:var m=this.node("global"),E=this.next().read_list(this.read_simple_variable,",");return this.expectEndOfStatement(),m(E);case this.tok.T_STATIC:var F=[this.token,this.lexer.getState()],v=this.node();if(this.next().token===this.tok.T_DOUBLE_COLON){this.lexer.tokens.push(F);var B=this.next().read_expr();return this.expectEndOfStatement(B),v("expressionstatement",B)}if(this.token===this.tok.T_FUNCTION)return this.read_function(!0,[0,1,0]);var q=this.read_variable_declarations();return this.expectEndOfStatement(),v("static",q);case this.tok.T_ECHO:var R=this.node("echo"),ke=this.text(),Oe=ke==="<?="||ke==="<%=",tt=this.next().read_function_list(this.read_expr,",");return this.expectEndOfStatement(),R(tt,Oe);case this.tok.T_INLINE_HTML:var _t=this.text(),xe=this.lexer.yylloc.first_offset>0?this.lexer._input[this.lexer.yylloc.first_offset-1]:null,dt=xe==="\r"||xe===`
`;dt&&xe===`
`&&this.lexer.yylloc.first_offset>1&&this.lexer._input[this.lexer.yylloc.first_offset-2]==="\r"&&(xe=`\r
`);var ze=this.node("inline");return this.next(),ze(_t,dt?xe+_t:_t);case this.tok.T_UNSET:var Gt=this.node("unset");this.next().expect("(")&&this.next();var Bt=this.read_function_list(this.read_variable,",");return this.expect(")")&&this.next(),this.expect(";")&&this.next(),Gt(Bt);case this.tok.T_DECLARE:var pt,je=this.node("declare"),At=[];this.next().expect("(")&&this.next();var zt=this.read_declare_list();if(this.expect(")")&&this.next(),this.token===":"){for(this.next();this.token!=this.EOF&&this.token!==this.tok.T_ENDDECLARE;)At.push(this.read_top_statement());At.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&At.push(this.node("noop")()),this.expect(this.tok.T_ENDDECLARE)&&this.next(),this.expectEndOfStatement(),pt=this.ast.declare.MODE_SHORT}else if(this.token==="{"){for(this.next();this.token!=this.EOF&&this.token!=="}";)At.push(this.read_top_statement());At.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&At.push(this.node("noop")()),this.expect("}")&&this.next(),pt=this.ast.declare.MODE_BLOCK}else this.expect(";")&&this.next(),pt=this.ast.declare.MODE_NONE;return je(zt,At,pt);case this.tok.T_TRY:return this.read_try();case this.tok.T_THROW:var ks=this.node("throw"),Mn=this.next().read_expr();return this.expectEndOfStatement(),ks(Mn);case";":return this.next(),null;case this.tok.T_STRING:var pr=this.node(),mo=[this.token,this.lexer.getState()],go=this.text(),wr=this.node("identifier");if(this.next().token===":")return wr=wr(go),this.next(),pr("label",wr);wr.destroy(),pr.destroy(),this.lexer.tokens.push(mo);var ts=this.node("expressionstatement"),hr=this.next().read_expr();return this.expectEndOfStatement(hr),ts(hr);case this.tok.T_GOTO:var To=this.node("goto"),mr=null;if(this.next().expect(this.tok.T_STRING)){mr=this.node("identifier");var Os=this.text();this.next(),mr=mr(Os),this.expectEndOfStatement()}return To(mr);default:var Lr=this.node("expressionstatement"),ns=this.read_expr();return this.expectEndOfStatement(ns),Lr(ns)}},read_code_block:function(o){var c=this.node("block");this.expect("{")&&this.next();var f=o?this.read_top_statements():this.read_inner_statements();return f.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&f.push(this.node("noop")()),this.expect("}")&&this.next(),c(null,f)}};cr.read_top_statements,cr.read_top_statement,cr.read_inner_statements,cr.read_const_list,cr.read_declare_list,cr.read_inner_statement,cr.read_statement,cr.read_code_block;var zi={read_switch:function(){var o=this.node("switch");this.expect(this.tok.T_SWITCH)&&this.next(),this.expect("(")&&this.next();var c=this.read_expr();this.expect(")")&&this.next();var f=this.token===":";return o(c,this.read_switch_case_list(),f)},read_switch_case_list:function(){var o=null,c=this.node("block"),f=[];for(this.token==="{"?o="}":this.token===":"?o=this.tok.T_ENDSWITCH:this.expect(["{",":"]),this.next(),this.token===";"&&this.next();this.token!==this.EOF&&this.token!==o;)f.push(this.read_case_list(o));return f.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&f.push(this.node("noop")()),this.expect(o)&&this.next(),o===this.tok.T_ENDSWITCH&&this.expectEndOfStatement(),c(null,f)},read_case_list:function(o){var c=this.node("case"),f=null;this.token===this.tok.T_CASE?f=this.next().read_expr():this.token===this.tok.T_DEFAULT?this.next():this.expect([this.tok.T_CASE,this.tok.T_DEFAULT]),this.expect([":",";"])&&this.next();for(var p=this.node("block"),m=[];this.token!==this.EOF&&this.token!==o&&this.token!==this.tok.T_CASE&&this.token!==this.tok.T_DEFAULT;)m.push(this.read_inner_statement());return c(f,p(null,m))}};zi.read_switch,zi.read_switch_case_list,zi.read_case_list;var ea={read_try:function(){this.expect(this.tok.T_TRY);for(var o=this.node("try"),c=null,f=[],p=this.next().read_statement();this.token===this.tok.T_CATCH;){var m=this.node("catch");this.next().expect("(")&&this.next();var E=this.read_list(this.read_namespace_name,"|",!1),F=null;this.token===this.tok.T_VARIABLE&&(F=this.read_variable(!0,!1)),this.expect(")"),f.push(m(this.next().read_statement(),E,F))}return this.token===this.tok.T_FINALLY&&(c=this.next().read_statement()),o(p,f,c)}};ea.read_try;var Jn={read_short_form:function(o){var c=this.node("block"),f=[];for(this.expect(":")&&this.next();this.token!=this.EOF&&this.token!==o;)f.push(this.read_inner_statement());return f.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&f.push(this.node("noop")()),this.expect(o)&&this.next(),this.expectEndOfStatement(),c(null,f)},read_function_list:function(o,c){var f=[];do{if(this.token==c&&this.version>=703&&f.length>0){f.push(this.node("noop")());break}if(f.push(o.apply(this,[])),this.token!=c||this.next().token==")"&&this.version>=703)break}while(this.token!=this.EOF);return f},read_list:function(o,c,f){var p=[];if(this.token==c&&(f&&p.push(typeof o=="function"?this.node("noop")():null),this.next()),typeof o=="function")do{var m=o.apply(this,[]);if(m&&p.push(m),this.token!=c)break}while(this.next().token!=this.EOF);else{if(!this.expect(o))return[];for(p.push(this.text());this.next().token!=this.EOF&&this.token==c&&this.next().token==o;)p.push(this.text())}return p},read_name_list:function(){return this.read_list(this.read_namespace_name,",",!1)},read_byref:function(o){var c=this.node("byref");this.next(),c=c(null);var f=o();return f&&(this.ast.swapLocations(f,c,f,this),f.byref=!0),f},read_variable_declarations:function(){return this.read_list(function(){var o=this.node("staticvariable"),c=this.node("variable");if(this.expect(this.tok.T_VARIABLE)){var f=this.text().substring(1);this.next(),c=c(f,!1)}else c=c("#ERR",!1);return this.token==="="?o(c,this.next().read_expr()):c},",")},read_extends_from:function(){return this.token===this.tok.T_EXTENDS?this.next().read_namespace_name():null},read_interface_extends_list:function(){return this.token===this.tok.T_EXTENDS?this.next().read_name_list():null},read_implements_list:function(){return this.token===this.tok.T_IMPLEMENTS?this.next().read_name_list():null}};Jn.read_short_form,Jn.read_function_list,Jn.read_list,Jn.read_name_list,Jn.read_byref,Jn.read_variable_declarations,Jn.read_extends_from,Jn.read_interface_extends_list,Jn.read_implements_list;var kr={read_variable:function(o,c){var f;if(this.token==="&")return this.read_byref(this.read_variable.bind(this,o,c));if(this.is([this.tok.T_VARIABLE,"$"]))f=this.read_reference_variable(c);else if(this.is([this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_NAMESPACE])){f=this.node();var p=this.read_namespace_name();if(this.token!=this.tok.T_DOUBLE_COLON&&this.token!="("&&["parentreference","selfreference"].indexOf(p.kind)===-1){var m=p.name.toLowerCase();m==="true"?f=p.destroy(f("boolean",!0,p.name)):m==="false"?f=p.destroy(f("boolean",!1,p.name)):m==="null"?f=p.destroy(f("nullkeyword",p.name)):(f.destroy(p),f=p)}else f.destroy(p),f=p}else if(this.token===this.tok.T_STATIC){f=this.node("staticreference");var E=this.text();this.next(),f=f(E)}else this.expect("VARIABLE");return this.token===this.tok.T_DOUBLE_COLON&&(f=this.read_static_getter(f,c)),this.recursive_variable_chain_scan(f,o,c)},read_static_getter:function(o,c){var f,p,m=this.node("staticlookup");return this.next().is([this.tok.T_VARIABLE,"$"])?f=this.read_reference_variable(c):this.token===this.tok.T_STRING||this.token===this.tok.T_CLASS||this.version>=700&&this.is("IDENTIFIER")?(f=this.node("identifier"),p=this.text(),this.next(),f=f(p)):this.token==="{"?(f=this.node("literal"),p=this.next().read_expr(),this.expect("}")&&this.next(),f=f("literal",p,null),this.expect("(")):(this.error([this.tok.T_VARIABLE,this.tok.T_STRING]),f=this.node("identifier"),p=this.text(),this.next(),f=f(p)),m(o,f)},read_what:function(){var o=arguments.length>0&&arguments[0]!==void 0&&arguments[0],c=null,f=null;switch(this.next().token){case this.tok.T_STRING:c=this.node("identifier"),f=this.text(),this.next(),c=c(f),o&&this.token===this.tok.T_OBJECT_OPERATOR&&this.error();break;case this.tok.T_VARIABLE:c=this.node("variable"),f=this.text().substring(1),this.next(),c=c(f,!1);break;case"$":c=this.node(),this.next().expect(["$","{",this.tok.T_VARIABLE]),this.token==="{"?(f=this.next().read_expr(),this.expect("}")&&this.next(),c=c("variable",f,!0)):c=c("variable",f=this.read_expr(),!1);break;case"{":c=this.node("encapsedpart"),f=this.next().read_expr(),this.expect("}")&&this.next(),c=c(f,"complex",!1);break;default:this.error([this.tok.T_STRING,this.tok.T_VARIABLE,"$","{"]),c=this.node("identifier"),f=this.text(),this.next(),c=c(f)}return c},recursive_variable_chain_scan:function(o,c,f){var p,m;e:for(;this.token!=this.EOF;)switch(this.token){case"(":if(c)return o;o=this.node("call")(o,this.read_argument_list());break;case"[":case"{":var E=this.token==="[";p=this.node("offsetlookup"),this.next(),m=!1,f?(m=this.read_encaps_var_offset(),this.expect(E?"]":"}")&&this.next()):(E?this.token!=="]":this.token!=="}")?(m=this.read_expr(),this.expect(E?"]":"}")&&this.next()):this.next(),o=p(o,m);break;case this.tok.T_DOUBLE_COLON:o.kind==="staticlookup"&&o.offset.kind==="identifier"&&this.error(),o=(p=this.node("staticlookup"))(o,this.read_what(!0));break;case this.tok.T_OBJECT_OPERATOR:o=(p=this.node("propertylookup"))(o,this.read_what());break;case this.tok.T_NULLSAFE_OBJECT_OPERATOR:o=(p=this.node("nullsafepropertylookup"))(o,this.read_what());break;default:break e}return o},read_encaps_var_offset:function(){var o=this.node();if(this.token===this.tok.T_STRING){var c=this.text();this.next(),o=o("identifier",c)}else if(this.token===this.tok.T_NUM_STRING){var f=this.text();this.next(),o=o("number",f,null)}else if(this.token==="-"){this.next();var p=-1*this.text();this.expect(this.tok.T_NUM_STRING)&&this.next(),o=o("number",p,null)}else if(this.token===this.tok.T_VARIABLE){var m=this.text().substring(1);this.next(),o=o("variable",m,!1)}else{this.expect([this.tok.T_STRING,this.tok.T_NUM_STRING,"-",this.tok.T_VARIABLE]);var E=this.text();this.next(),o=o("identifier",E)}return o},read_reference_variable:function(o){for(var c,f=this.read_simple_variable();this.token!=this.EOF;){var p=this.node();if(this.token!="{"||o){p.destroy();break}c=this.next().read_expr(),this.expect("}")&&this.next(),f=p("offsetlookup",f,c)}return f},read_simple_variable:function(){var o,c=this.node("variable");if(this.expect([this.tok.T_VARIABLE,"$"])&&this.token===this.tok.T_VARIABLE)o=this.text().substring(1),this.next(),c=c(o,!1);else switch(this.token==="$"&&this.next(),this.token){case"{":var f=this.next().read_expr();this.expect("}")&&this.next(),c=c(f,!0);break;case"$":c=c(this.read_simple_variable(),!1);break;case this.tok.T_VARIABLE:o=this.text().substring(1);var p=this.node("variable");this.next(),c=c(p(o,!1),!1);break;default:this.error(["{","$",this.tok.T_VARIABLE]),o=this.text(),this.next(),c=c(o,!1)}return c}};function lo(o){return o!="."&&o!=","&&!isNaN(parseFloat(o))&&isFinite(o)}kr.read_variable,kr.read_static_getter,kr.read_what,kr.recursive_variable_chain_scan,kr.read_encaps_var_offset,kr.read_reference_variable,kr.read_simple_variable;var jt=function(o,c){this.lexer=o,this.ast=c,this.tok=o.tok,this.EOF=o.EOF,this.token=null,this.prev=null,this.debug=!1,this.version=800,this.extractDoc=!1,this.extractTokens=!1,this.suppressErrors=!1;var f=function(p){return[p,null]};this.entries={IDENTIFIER:new Map([this.tok.T_ABSTRACT,this.tok.T_ARRAY,this.tok.T_AS,this.tok.T_BREAK,this.tok.T_CALLABLE,this.tok.T_CASE,this.tok.T_CATCH,this.tok.T_CLASS,this.tok.T_CLASS_C,this.tok.T_CLONE,this.tok.T_CONST,this.tok.T_CONTINUE,this.tok.T_DECLARE,this.tok.T_DEFAULT,this.tok.T_DIR,this.tok.T_DO,this.tok.T_ECHO,this.tok.T_ELSE,this.tok.T_ELSEIF,this.tok.T_EMPTY,this.tok.T_ENDDECLARE,this.tok.T_ENDFOR,this.tok.T_ENDFOREACH,this.tok.T_ENDIF,this.tok.T_ENDSWITCH,this.tok.T_ENDWHILE,this.tok.T_EVAL,this.tok.T_EXIT,this.tok.T_EXTENDS,this.tok.T_FILE,this.tok.T_FINAL,this.tok.T_FINALLY,this.tok.T_FN,this.tok.T_FOR,this.tok.T_FOREACH,this.tok.T_FUNC_C,this.tok.T_FUNCTION,this.tok.T_GLOBAL,this.tok.T_GOTO,this.tok.T_IF,this.tok.T_IMPLEMENTS,this.tok.T_INCLUDE,this.tok.T_INCLUDE_ONCE,this.tok.T_INSTANCEOF,this.tok.T_INSTEADOF,this.tok.T_INTERFACE,this.tok.T_ISSET,this.tok.T_LINE,this.tok.T_LIST,this.tok.T_LOGICAL_AND,this.tok.T_LOGICAL_OR,this.tok.T_LOGICAL_XOR,this.tok.T_MATCH,this.tok.T_METHOD_C,this.tok.T_NAMESPACE,this.tok.T_NEW,this.tok.T_NS_C,this.tok.T_PRINT,this.tok.T_PRIVATE,this.tok.T_PROTECTED,this.tok.T_PUBLIC,this.tok.T_REQUIRE,this.tok.T_REQUIRE_ONCE,this.tok.T_RETURN,this.tok.T_STATIC,this.tok.T_SWITCH,this.tok.T_THROW,this.tok.T_TRAIT,this.tok.T_TRY,this.tok.T_UNSET,this.tok.T_USE,this.tok.T_VAR,this.tok.T_WHILE,this.tok.T_YIELD].map(f)),VARIABLE:new Map([this.tok.T_VARIABLE,"$","&",this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_NAMESPACE,this.tok.T_STATIC].map(f)),SCALAR:new Map([this.tok.T_CONSTANT_ENCAPSED_STRING,this.tok.T_START_HEREDOC,this.tok.T_LNUMBER,this.tok.T_DNUMBER,this.tok.T_ARRAY,"[",this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C,'"','b"','B"',"-",this.tok.T_NS_SEPARATOR].map(f)),T_MAGIC_CONST:new Map([this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C].map(f)),T_MEMBER_FLAGS:new Map([this.tok.T_PUBLIC,this.tok.T_PRIVATE,this.tok.T_PROTECTED,this.tok.T_STATIC,this.tok.T_ABSTRACT,this.tok.T_FINAL].map(f)),EOS:new Map([";",this.EOF,this.tok.T_INLINE_HTML].map(f)),EXPR:new Map(["@","-","+","!","~","(","`",this.tok.T_LIST,this.tok.T_CLONE,this.tok.T_INC,this.tok.T_DEC,this.tok.T_NEW,this.tok.T_ISSET,this.tok.T_EMPTY,this.tok.T_MATCH,this.tok.T_INCLUDE,this.tok.T_INCLUDE_ONCE,this.tok.T_REQUIRE,this.tok.T_REQUIRE_ONCE,this.tok.T_EVAL,this.tok.T_INT_CAST,this.tok.T_DOUBLE_CAST,this.tok.T_STRING_CAST,this.tok.T_ARRAY_CAST,this.tok.T_OBJECT_CAST,this.tok.T_BOOL_CAST,this.tok.T_UNSET_CAST,this.tok.T_EXIT,this.tok.T_PRINT,this.tok.T_YIELD,this.tok.T_STATIC,this.tok.T_FUNCTION,this.tok.T_FN,this.tok.T_VARIABLE,"$",this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_STRING,this.tok.T_CONSTANT_ENCAPSED_STRING,this.tok.T_START_HEREDOC,this.tok.T_LNUMBER,this.tok.T_DNUMBER,this.tok.T_ARRAY,"[",this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C,'"','b"','B"',"-",this.tok.T_NS_SEPARATOR].map(f))}};jt.prototype.getTokenName=function(o){return lo(o)?o==this.EOF?"the end of file (EOF)":this.lexer.engine.tokens.values[o]:"'"+o+"'"},jt.prototype.parse=function(o,c){this._errors=[],this.filename=c||"eval",this.currentNamespace=[""],this.extractDoc?this._docs=[]:this._docs=null,this.extractTokens?this._tokens=[]:this._tokens=null,this._docIndex=0,this._lastNode=null,this.lexer.setInput(o),this.lexer.all_tokens=this.extractTokens,this.lexer.comment_tokens=this.extractDoc,this.length=this.lexer._input.length,this.innerList=!1,this.innerListForm=!1;var f=this.node("program"),p=[];for(this.next();this.token!=this.EOF;)p.push(this.read_start());p.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&p.push(this.node("noop")()),this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset];var m=f(p,this._errors,this._docs,this._tokens);if(this.debug){var E=this.ast.checkNodes();if(E.length>0)throw E.forEach(function(F){F.position&&console.log("Node at line "+F.position.line+", column "+F.position.column),console.log(F.stack.join(`
`))}),new Error("Some nodes are not closed")}return m},jt.prototype.raiseError=function(o,c,f,p){if(o+=" on line "+this.lexer.yylloc.first_line,!this.suppressErrors){var m=new SyntaxError(o,this.filename,this.lexer.yylloc.first_line);throw m.lineNumber=this.lexer.yylloc.first_line,m.fileName=this.filename,m.columnNumber=this.lexer.yylloc.first_column,m}var E=this.ast.prepare("error",null,this)(o,p,this.lexer.yylloc.first_line,f);return this._errors.push(E),E},jt.prototype.error=function(o){var c="Parse Error : syntax error",f=this.getTokenName(this.token),p="";if(this.token!==this.EOF){if(lo(this.token)){var m=this.text();m.length>10&&(m=m.substring(0,7)+"..."),f="'"+m+"' ("+f+")"}c+=", unexpected "+f}return o&&!Array.isArray(o)&&((lo(o)||o.length===1)&&(p=", expecting "+this.getTokenName(o)),c+=p),this.raiseError(c,p,o,f)},jt.prototype.position=function(){return new A(this.lexer.yylloc.first_line,this.lexer.yylloc.first_column,this.lexer.yylloc.first_offset)},jt.prototype.node=function(o){if(this.extractDoc){var c=null;this._docIndex<this._docs.length&&(c=this._docs.slice(this._docIndex),this._docIndex=this._docs.length,this.debug&&(console.log(new Error("Append docs on "+o)),console.log(c)));var f=this.ast.prepare(o,c,this);return f.postBuild=function(p){if(this._docIndex<this._docs.length)if(this._lastNode){for(var m=this.prev[2],E=this._docIndex;E<this._docs.length&&!(this._docs[E].offset>m);E++);E>this._docIndex&&(this._lastNode.setTrailingComments(this._docs.slice(this._docIndex,E)),this._docIndex=E)}else this.token===this.EOF&&(p.setTrailingComments(this._docs.slice(this._docIndex)),this._docIndex=this._docs.length);this._lastNode=p}.bind(this),f}return this.ast.prepare(o,null,this)},jt.prototype.expectEndOfStatement=function(o){if(this.token===";")o&&this.lexer.yytext===";"&&o.includeToken(this);else if(this.token!==this.tok.T_INLINE_HTML&&this.token!==this.EOF)return this.error(";"),!1;return this.next(),!0};var co=["parser.next","parser.node","parser.showlog"];jt.prototype.showlog=function(){for(var o,c=new Error().stack.split(`
`),f=2;f<c.length;f++){o=c[f].trim();for(var p=!1,m=0;m<co.length;m++)if(o.substring(3,3+co[m].length)===co[m]){p=!0;break}if(!p)break}return console.log("Line "+this.lexer.yylloc.first_line+" : "+this.getTokenName(this.token)+">"+this.lexer.yytext+"< @-->"+o),this},jt.prototype.expect=function(o){if(Array.isArray(o)){if(o.indexOf(this.token)===-1)return this.error(o),!1}else if(this.token!=o)return this.error(o),!1;return!0},jt.prototype.text=function(){return this.lexer.yytext},jt.prototype.next=function(){if(this.token===";"&&this.lexer.yytext!==";"||(this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset]),this.lex(),this.debug&&this.showlog(),this.extractDoc)for(;this.token===this.tok.T_COMMENT||this.token===this.tok.T_DOC_COMMENT;)this.token===this.tok.T_COMMENT?this._docs.push(this.read_comment()):this._docs.push(this.read_doc_comment());return this},jt.prototype.lex=function(){if(this.extractTokens)do{if(this.token=this.lexer.lex()||this.EOF,this.token===this.EOF)return this;var o=this.lexer.yytext;if(o=this.lexer.engine.tokens.values.hasOwnProperty(this.token)?[this.lexer.engine.tokens.values[this.token],o,this.lexer.yylloc.first_line,this.lexer.yylloc.first_offset,this.lexer.offset]:[null,o,this.lexer.yylloc.first_line,this.lexer.yylloc.first_offset,this.lexer.offset],this._tokens.push(o),this.token===this.tok.T_CLOSE_TAG)return this.token=";",this;if(this.token===this.tok.T_OPEN_TAG_WITH_ECHO)return this.token=this.tok.T_ECHO,this}while(this.token===this.tok.T_WHITESPACE||!this.extractDoc&&(this.token===this.tok.T_COMMENT||this.token===this.tok.T_DOC_COMMENT)||this.token===this.tok.T_OPEN_TAG);else this.token=this.lexer.lex()||this.EOF;return this},jt.prototype.is=function(o){return Array.isArray(o)?o.indexOf(this.token)!==-1:this.entries[o].has(this.token)},[b,pe,ot,Ee,se,rt,Pt,Ln,at,Xn,cr,zi,ea,Jn,kr].forEach(function(o){for(var c in o){if(jt.prototype.hasOwnProperty(c))throw new Error("Function "+c+" is already defined - collision");jt.prototype[c]=o[c]}});var ta=jt,na={values:{101:"T_HALT_COMPILER",102:"T_USE",103:"T_ENCAPSED_AND_WHITESPACE",104:"T_OBJECT_OPERATOR",105:"T_STRING",106:"T_DOLLAR_OPEN_CURLY_BRACES",107:"T_STRING_VARNAME",108:"T_CURLY_OPEN",109:"T_NUM_STRING",110:"T_ISSET",111:"T_EMPTY",112:"T_INCLUDE",113:"T_INCLUDE_ONCE",114:"T_EVAL",115:"T_REQUIRE",116:"T_REQUIRE_ONCE",117:"T_NAMESPACE",118:"T_NS_SEPARATOR",119:"T_AS",120:"T_IF",121:"T_ENDIF",122:"T_WHILE",123:"T_DO",124:"T_FOR",125:"T_SWITCH",126:"T_BREAK",127:"T_CONTINUE",128:"T_RETURN",129:"T_GLOBAL",130:"T_STATIC",131:"T_ECHO",132:"T_INLINE_HTML",133:"T_UNSET",134:"T_FOREACH",135:"T_DECLARE",136:"T_TRY",137:"T_THROW",138:"T_GOTO",139:"T_FINALLY",140:"T_CATCH",141:"T_ENDDECLARE",142:"T_LIST",143:"T_CLONE",144:"T_PLUS_EQUAL",145:"T_MINUS_EQUAL",146:"T_MUL_EQUAL",147:"T_DIV_EQUAL",148:"T_CONCAT_EQUAL",149:"T_MOD_EQUAL",150:"T_AND_EQUAL",151:"T_OR_EQUAL",152:"T_XOR_EQUAL",153:"T_SL_EQUAL",154:"T_SR_EQUAL",155:"T_INC",156:"T_DEC",157:"T_BOOLEAN_OR",158:"T_BOOLEAN_AND",159:"T_LOGICAL_OR",160:"T_LOGICAL_AND",161:"T_LOGICAL_XOR",162:"T_SL",163:"T_SR",164:"T_IS_IDENTICAL",165:"T_IS_NOT_IDENTICAL",166:"T_IS_EQUAL",167:"T_IS_NOT_EQUAL",168:"T_IS_SMALLER_OR_EQUAL",169:"T_IS_GREATER_OR_EQUAL",170:"T_INSTANCEOF",171:"T_INT_CAST",172:"T_DOUBLE_CAST",173:"T_STRING_CAST",174:"T_ARRAY_CAST",175:"T_OBJECT_CAST",176:"T_BOOL_CAST",177:"T_UNSET_CAST",178:"T_EXIT",179:"T_PRINT",180:"T_YIELD",181:"T_YIELD_FROM",182:"T_FUNCTION",183:"T_DOUBLE_ARROW",184:"T_DOUBLE_COLON",185:"T_ARRAY",186:"T_CALLABLE",187:"T_CLASS",188:"T_ABSTRACT",189:"T_TRAIT",190:"T_FINAL",191:"T_EXTENDS",192:"T_INTERFACE",193:"T_IMPLEMENTS",194:"T_VAR",195:"T_PUBLIC",196:"T_PROTECTED",197:"T_PRIVATE",198:"T_CONST",199:"T_NEW",200:"T_INSTEADOF",201:"T_ELSEIF",202:"T_ELSE",203:"T_ENDSWITCH",204:"T_CASE",205:"T_DEFAULT",206:"T_ENDFOR",207:"T_ENDFOREACH",208:"T_ENDWHILE",209:"T_CONSTANT_ENCAPSED_STRING",210:"T_LNUMBER",211:"T_DNUMBER",212:"T_LINE",213:"T_FILE",214:"T_DIR",215:"T_TRAIT_C",216:"T_METHOD_C",217:"T_FUNC_C",218:"T_NS_C",219:"T_START_HEREDOC",220:"T_END_HEREDOC",221:"T_CLASS_C",222:"T_VARIABLE",223:"T_OPEN_TAG",224:"T_OPEN_TAG_WITH_ECHO",225:"T_CLOSE_TAG",226:"T_WHITESPACE",227:"T_COMMENT",228:"T_DOC_COMMENT",229:"T_ELLIPSIS",230:"T_COALESCE",231:"T_POW",232:"T_POW_EQUAL",233:"T_SPACESHIP",234:"T_COALESCE_EQUAL",235:"T_FN",236:"T_NULLSAFE_OBJECT_OPERATOR",237:"T_MATCH",238:"T_ATTRIBUTE"},names:{T_HALT_COMPILER:101,T_USE:102,T_ENCAPSED_AND_WHITESPACE:103,T_OBJECT_OPERATOR:104,T_STRING:105,T_DOLLAR_OPEN_CURLY_BRACES:106,T_STRING_VARNAME:107,T_CURLY_OPEN:108,T_NUM_STRING:109,T_ISSET:110,T_EMPTY:111,T_INCLUDE:112,T_INCLUDE_ONCE:113,T_EVAL:114,T_REQUIRE:115,T_REQUIRE_ONCE:116,T_NAMESPACE:117,T_NS_SEPARATOR:118,T_AS:119,T_IF:120,T_ENDIF:121,T_WHILE:122,T_DO:123,T_FOR:124,T_SWITCH:125,T_BREAK:126,T_CONTINUE:127,T_RETURN:128,T_GLOBAL:129,T_STATIC:130,T_ECHO:131,T_INLINE_HTML:132,T_UNSET:133,T_FOREACH:134,T_DECLARE:135,T_TRY:136,T_THROW:137,T_GOTO:138,T_FINALLY:139,T_CATCH:140,T_ENDDECLARE:141,T_LIST:142,T_CLONE:143,T_PLUS_EQUAL:144,T_MINUS_EQUAL:145,T_MUL_EQUAL:146,T_DIV_EQUAL:147,T_CONCAT_EQUAL:148,T_MOD_EQUAL:149,T_AND_EQUAL:150,T_OR_EQUAL:151,T_XOR_EQUAL:152,T_SL_EQUAL:153,T_SR_EQUAL:154,T_INC:155,T_DEC:156,T_BOOLEAN_OR:157,T_BOOLEAN_AND:158,T_LOGICAL_OR:159,T_LOGICAL_AND:160,T_LOGICAL_XOR:161,T_SL:162,T_SR:163,T_IS_IDENTICAL:164,T_IS_NOT_IDENTICAL:165,T_IS_EQUAL:166,T_IS_NOT_EQUAL:167,T_IS_SMALLER_OR_EQUAL:168,T_IS_GREATER_OR_EQUAL:169,T_INSTANCEOF:170,T_INT_CAST:171,T_DOUBLE_CAST:172,T_STRING_CAST:173,T_ARRAY_CAST:174,T_OBJECT_CAST:175,T_BOOL_CAST:176,T_UNSET_CAST:177,T_EXIT:178,T_PRINT:179,T_YIELD:180,T_YIELD_FROM:181,T_FUNCTION:182,T_DOUBLE_ARROW:183,T_DOUBLE_COLON:184,T_ARRAY:185,T_CALLABLE:186,T_CLASS:187,T_ABSTRACT:188,T_TRAIT:189,T_FINAL:190,T_EXTENDS:191,T_INTERFACE:192,T_IMPLEMENTS:193,T_VAR:194,T_PUBLIC:195,T_PROTECTED:196,T_PRIVATE:197,T_CONST:198,T_NEW:199,T_INSTEADOF:200,T_ELSEIF:201,T_ELSE:202,T_ENDSWITCH:203,T_CASE:204,T_DEFAULT:205,T_ENDFOR:206,T_ENDFOREACH:207,T_ENDWHILE:208,T_CONSTANT_ENCAPSED_STRING:209,T_LNUMBER:210,T_DNUMBER:211,T_LINE:212,T_FILE:213,T_DIR:214,T_TRAIT_C:215,T_METHOD_C:216,T_FUNC_C:217,T_NS_C:218,T_START_HEREDOC:219,T_END_HEREDOC:220,T_CLASS_C:221,T_VARIABLE:222,T_OPEN_TAG:223,T_OPEN_TAG_WITH_ECHO:224,T_CLOSE_TAG:225,T_WHITESPACE:226,T_COMMENT:227,T_DOC_COMMENT:228,T_ELLIPSIS:229,T_COALESCE:230,T_POW:231,T_POW_EQUAL:232,T_SPACESHIP:233,T_COALESCE_EQUAL:234,T_FN:235,T_NULLSAFE_OBJECT_OPERATOR:236,T_MATCH:237,T_ATTRIBUTE:238}},Is=function(o,c,f){this.source=o,this.start=c,this.end=f},Qi=function(o,c,f){this.kind=o,c&&(this.leadingComments=c),f&&(this.loc=f)};Qi.prototype.setTrailingComments=function(o){this.trailingComments=o},Qi.prototype.destroy=function(o){if(!o)throw new Error("Node already initialized, you must swap with another node");return this.leadingComments&&(o.leadingComments?o.leadingComments=Array.concat(this.leadingComments,o.leadingComments):o.leadingComments=this.leadingComments),this.trailingComments&&(o.trailingComments?o.trailingComments=Array.concat(this.trailingComments,o.trailingComments):o.trailingComments=this.trailingComments),o},Qi.prototype.includeToken=function(o){return this.loc&&(this.loc.end&&(this.loc.end.line=o.lexer.yylloc.last_line,this.loc.end.column=o.lexer.yylloc.last_column,this.loc.end.offset=o.lexer.offset),o.ast.withSource&&(this.loc.source=o.lexer._input.substring(this.loc.start.offset,o.lexer.offset))),this},Qi.extends=function(o,c){return c.prototype=Object.create(this.prototype),c.extends=this.extends,c.prototype.constructor=c,c.kind=o,c};var Ze=Qi,ra="expression",me=Ze.extends(ra,function(o,c,f){Ze.apply(this,[o||ra,c,f])}),wi="array",kl=me.extends(wi,function(o,c,f,p){me.apply(this,[wi,f,p]),this.items=c,this.shortForm=o}),ia="arrowfunc",Xi=me.extends(ia,function(o,c,f,p,m,E,F,v){me.apply(this,[ia,F,v]),this.arguments=o,this.byref=c,this.body=f,this.type=p,this.nullable=m,this.isStatic=E||!1}),uo="assign",sa=me.extends(uo,function(o,c,f,p,m){me.apply(this,[uo,p,m]),this.left=o,this.right=c,this.operator=f}),Ps="assignref",oa=me.extends(Ps,function(o,c,f,p){me.apply(this,[Ps,f,p]),this.left=o,this.right=c}),Xr="attribute",G=Ze.extends(Xr,function(o,c,f,p){Ze.apply(this,[Xr,f,p]),this.name=o,this.args=c}),V="attrgroup",P=Ze.extends(V,function(o,c,f){Ze.apply(this,[V,c,f]),this.attrs=o||[]}),U="operation",W=me.extends(U,function(o,c,f){me.apply(this,[o||U,c,f])}),L=W.extends("bin",function(o,c,f,p,m){W.apply(this,["bin",p,m]),this.type=o,this.left=c,this.right=f}),I="statement",j=Ze.extends(I,function(o,c,f){Ze.apply(this,[o||I,c,f])}),z="block",fe=j.extends(z,function(o,c,f,p){j.apply(this,[o||z,f,p]),this.children=c.filter(Boolean)}),Pe="literal",Ae=me.extends(Pe,function(o,c,f,p,m){me.apply(this,[o||Pe,p,m]),this.value=c,f&&(this.raw=f)}),Tt="boolean",Kt=Ae.extends(Tt,function(o,c,f,p){Ae.apply(this,[Tt,o,c,f,p])}),$t="break",et=j.extends($t,function(o,c,f){j.apply(this,[$t,c,f]),this.level=o}),Ji="byref",aa=me.extends(Ji,function(o,c,f){me.apply(this,[Ji,c,f]),this.what=o}),Ol="call",e0=me.extends(Ol,function(o,c,f,p){me.apply(this,[Ol,f,p]),this.what=o,this.arguments=c}),UT="case",t0=j.extends(UT,function(o,c,f,p){j.apply(this,[UT,f,p]),this.test=o,this.body=c}),jT="cast",n0=W.extends(jT,function(o,c,f,p,m){W.apply(this,[jT,p,m]),this.type=o,this.raw=c,this.expr=f}),GT="catch",r0=j.extends(GT,function(o,c,f,p,m){j.apply(this,[GT,p,m]),this.body=o,this.what=c,this.variable=f}),WT="declaration",HT=j.extends(WT,function(o,c,f,p){j.apply(this,[o||WT,f,p]),this.name=c});HT.prototype.parseFlags=function(o){this.isAbstract=o[2]===1,this.isFinal=o[2]===2,this.kind!=="class"&&(o[0]===-1?this.visibility="":o[0]===null?this.visibility=null:o[0]===0?this.visibility="public":o[0]===1?this.visibility="protected":o[0]===2&&(this.visibility="private"),this.isStatic=o[1]===1)};var ur=HT,YT="class",i0=ur.extends(YT,function(o,c,f,p,m,E,F){ur.apply(this,[YT,o,E,F]),this.isAnonymous=!o,this.extends=c,this.implements=f,this.body=p,this.attrGroups=[],this.parseFlags(m)}),KT="constantstatement",Xd=j.extends(KT,function(o,c,f,p){j.apply(this,[o||KT,f,p]),this.constants=c}),$T="classconstant",zT=Xd.extends($T,function(o,c,f,p,m,E){Xd.apply(this,[o||$T,c,m,E]),this.parseFlags(f),this.attrGroups=p});zT.prototype.parseFlags=function(o){o[0]===-1?this.visibility="":o[0]===null?this.visibility=null:o[0]===0?this.visibility="public":o[0]===1?this.visibility="protected":o[0]===2&&(this.visibility="private")};var s0=zT,QT="clone",o0=me.extends(QT,function(o,c,f){me.apply(this,[QT,c,f]),this.what=o}),XT="closure",a0=me.extends(XT,function(o,c,f,p,m,E,F,v){me.apply(this,[XT,F,v]),this.uses=f,this.arguments=o,this.byref=c,this.type=p,this.nullable=m,this.isStatic=E||!1,this.body=null,this.attrGroups=[]}),wl=Ze.extends("comment",function(o,c,f,p){Ze.apply(this,[o,f,p]),this.value=c}),JT="commentblock",l0=wl.extends(JT,function(o,c,f){wl.apply(this,[JT,o,c,f])}),ZT="commentline",c0=wl.extends(ZT,function(o,c,f){wl.apply(this,[ZT,o,c,f])}),e_="constant",u0=Ze.extends(e_,function(o,c,f,p){Ze.apply(this,[e_,f,p]),this.name=o,this.value=c}),t_="continue",f0=j.extends(t_,function(o,c,f){j.apply(this,[t_,c,f]),this.level=o}),n_="declare",tu=fe.extends(n_,function(o,c,f,p,m){fe.apply(this,[n_,c,p,m]),this.directives=o,this.mode=f});tu.MODE_SHORT="short",tu.MODE_BLOCK="block",tu.MODE_NONE="none";var d0=tu,r_="declaredirective",p0=Ze.extends(r_,function(o,c,f,p){Ze.apply(this,[r_,f,p]),this.key=o,this.value=c}),h0=j.extends("do",function(o,c,f,p){j.apply(this,["do",f,p]),this.test=o,this.body=c}),i_="echo",m0=j.extends(i_,function(o,c,f,p){j.apply(this,[i_,f,p]),this.shortForm=c,this.expressions=o}),s_="empty",g0=me.extends(s_,function(o,c,f){me.apply(this,[s_,c,f]),this.expression=o}),o_="encapsed",Ll=Ae.extends(o_,function(o,c,f,p,m){Ae.apply(this,[o_,o,c,p,m]),this.type=f});Ll.TYPE_STRING="string",Ll.TYPE_SHELL="shell",Ll.TYPE_HEREDOC="heredoc",Ll.TYPE_OFFSET="offset";var T0=Ll,a_="encapsedpart",_0=me.extends(a_,function(o,c,f,p,m){me.apply(this,[a_,p,m]),this.expression=o,this.syntax=c,this.curly=f}),l_="entry",y0=me.extends(l_,function(o,c,f,p,m,E){me.apply(this,[l_,m,E]),this.key=o,this.value=c,this.byRef=f,this.unpack=p}),c_="error",N0=Ze.extends(c_,function(o,c,f,p,m,E){Ze.apply(this,[c_,m,E]),this.message=o,this.token=c,this.line=f,this.expected=p}),u_="eval",b0=me.extends(u_,function(o,c,f){me.apply(this,[u_,c,f]),this.source=o}),f_="exit",v0=me.extends(f_,function(o,c,f,p){me.apply(this,[f_,f,p]),this.expression=o,this.useDie=c}),d_="expressionstatement",I0=j.extends(d_,function(o,c,f){j.apply(this,[d_,c,f]),this.expression=o}),P0=j.extends("for",function(o,c,f,p,m,E,F){j.apply(this,["for",E,F]),this.init=o,this.test=c,this.increment=f,this.shortForm=m,this.body=p}),p_="foreach",A0=j.extends(p_,function(o,c,f,p,m,E,F){j.apply(this,[p_,E,F]),this.source=o,this.key=c,this.value=f,this.shortForm=m,this.body=p}),h_="function",Jd=ur.extends(h_,function(o,c,f,p,m,E,F){ur.apply(this,[h_,o,E,F]),this.arguments=c,this.byref=f,this.type=p,this.nullable=m,this.body=null,this.attrGroups=[]}),m_="global",C0=j.extends(m_,function(o,c,f){j.apply(this,[m_,c,f]),this.items=o}),g_="goto",E0=j.extends(g_,function(o,c,f){j.apply(this,[g_,c,f]),this.label=o}),T_="halt",S0=j.extends(T_,function(o,c,f){j.apply(this,[T_,c,f]),this.after=o}),__="identifier",x0=Ze.extends(__,function(o,c,f){Ze.apply(this,[__,c,f]),this.name=o}),R0=j.extends("if",function(o,c,f,p,m,E){j.apply(this,["if",m,E]),this.test=o,this.body=c,this.alternate=f,this.shortForm=p}),y_="include",k0=me.extends(y_,function(o,c,f,p,m){me.apply(this,[y_,p,m]),this.once=o,this.require=c,this.target=f}),N_="inline",O0=Ae.extends(N_,function(o,c,f,p){Ae.apply(this,[N_,o,c,f,p])}),b_="interface",w0=ur.extends(b_,function(o,c,f,p,m,E){ur.apply(this,[b_,o,m,E]),this.extends=c,this.body=f,this.attrGroups=p}),v_="isset",L0=me.extends(v_,function(o,c,f){me.apply(this,[v_,c,f]),this.variables=o}),I_="label",D0=j.extends(I_,function(o,c,f){j.apply(this,[I_,c,f]),this.name=o}),P_="list",M0=me.extends(P_,function(o,c,f,p){me.apply(this,[P_,f,p]),this.items=o,this.shortForm=c}),A_="lookup",Zi=me.extends(A_,function(o,c,f,p,m){me.apply(this,[o||A_,p,m]),this.what=c,this.offset=f}),C_="magic",F0=Ae.extends(C_,function(o,c,f,p){Ae.apply(this,[C_,o,c,f,p])}),E_="match",V0=me.extends(E_,function(o,c,f,p){me.apply(this,[E_,f,p]),this.cond=o,this.arms=c}),S_="matcharm",B0=me.extends(S_,function(o,c,f,p){me.apply(this,[S_,f,p]),this.conds=o,this.body=c}),x_="method",q0=Jd.extends(x_,function(){Jd.apply(this,arguments),this.kind=x_}),R_="reference",Jr=Ze.extends(R_,function(o,c,f){Ze.apply(this,[o||R_,c,f])}),k_="name",Dl=Jr.extends(k_,function o(c,f,p,m){Jr.apply(this,[k_,p,m]),f?this.resolution=o.RELATIVE_NAME:c.length===1?this.resolution=o.UNQUALIFIED_NAME:c[0]?this.resolution=o.QUALIFIED_NAME:this.resolution=o.FULL_QUALIFIED_NAME,this.name=c.join("\\")});Dl.UNQUALIFIED_NAME="uqn",Dl.QUALIFIED_NAME="qn",Dl.FULL_QUALIFIED_NAME="fqn",Dl.RELATIVE_NAME="rn";var U0=Dl,O_="namespace",j0=fe.extends(O_,function(o,c,f,p,m){fe.apply(this,[O_,c,p,m]),this.name=o,this.withBrackets=f||!1}),w_="namedargument",G0=me.extends(w_,function(o,c,f,p){me.apply(this,[w_,f,p]),this.name=o,this.value=c}),W0=me.extends("new",function(o,c,f,p){me.apply(this,["new",f,p]),this.what=o,this.arguments=c}),L_="noop",H0=Ze.extends(L_,function(o,c){Ze.apply(this,[L_,o,c])}),D_="nowdoc",Y0=Ae.extends(D_,function(o,c,f,p,m){Ae.apply(this,[D_,o,c,p,m]),this.label=f}),M_="nullkeyword",K0=Ze.extends(M_,function(o,c,f){Ze.apply(this,[M_,c,f]),this.raw=o}),F_="nullsafepropertylookup",$0=Zi.extends(F_,function(o,c,f,p){Zi.apply(this,[F_,o,c,f,p])}),V_="number",z0=Ae.extends(V_,function(o,c,f,p){Ae.apply(this,[V_,o,c,f,p])}),B_="offsetlookup",Q0=Zi.extends(B_,function(o,c,f,p){Zi.apply(this,[B_,o,c,f,p])}),q_="parameter",X0=ur.extends(q_,function(o,c,f,p,m,E,F,v,B){ur.apply(this,[q_,o,v,B]),this.value=f,this.type=c,this.byref=p,this.variadic=m,this.nullable=E,this.flags=F||0,this.attrGroups=[]}),U_="parentreference",J0=Jr.extends(U_,function(o,c,f){Jr.apply(this,[U_,c,f]),this.raw=o}),j_="post",Z0=W.extends(j_,function(o,c,f,p){W.apply(this,[j_,f,p]),this.type=o,this.what=c}),eO=W.extends("pre",function(o,c,f,p){W.apply(this,["pre",f,p]),this.type=o,this.what=c}),G_="print",tO=me.extends(G_,function(o,c,f){me.apply(this,[G_,c,f]),this.expression=o}),W_="program",nO=fe.extends(W_,function(o,c,f,p,m,E){fe.apply(this,[W_,o,m,E]),this.errors=c,f&&(this.comments=f),p&&(this.tokens=p)}),H_="property",rO=j.extends(H_,function(o,c,f,p,m,E,F){j.apply(this,[H_,E,F]),this.name=o,this.value=c,this.nullable=f,this.type=p,this.attrGroups=m}),Y_="propertylookup",iO=Zi.extends(Y_,function(o,c,f,p){Zi.apply(this,[Y_,o,c,f,p])}),K_="propertystatement",$_=j.extends(K_,function(o,c,f,p,m){j.apply(this,[K_,p,m]),this.properties=c,this.parseFlags(f)});$_.prototype.parseFlags=function(o){o[0]===-1?this.visibility="":o[0]===null?this.visibility=null:o[0]===0?this.visibility="public":o[0]===1?this.visibility="protected":o[0]===2&&(this.visibility="private"),this.isStatic=o[1]===1};var sO=$_,z_="retif",oO=me.extends(z_,function(o,c,f,p,m){me.apply(this,[z_,p,m]),this.test=o,this.trueExpr=c,this.falseExpr=f}),Q_="return",aO=j.extends(Q_,function(o,c,f){j.apply(this,[Q_,c,f]),this.expr=o}),X_="selfreference",lO=Jr.extends(X_,function(o,c,f){Jr.apply(this,[X_,c,f]),this.raw=o}),J_="silent",cO=me.extends(J_,function(o,c,f){me.apply(this,[J_,c,f]),this.expr=o}),Z_="static",uO=j.extends(Z_,function(o,c,f){j.apply(this,[Z_,c,f]),this.variables=o}),ey="staticvariable",fO=Ze.extends(ey,function(o,c,f,p){Ze.apply(this,[ey,f,p]),this.variable=o,this.defaultValue=c}),ty="staticlookup",dO=Zi.extends(ty,function(o,c,f,p){Zi.apply(this,[ty,o,c,f,p])}),ny="staticreference",pO=Jr.extends(ny,function(o,c,f){Jr.apply(this,[ny,c,f]),this.raw=o}),ry="string",hO=Ae.extends(ry,function(o,c,f,p,m,E){Ae.apply(this,[ry,c,p,m,E]),this.unicode=f,this.isDoubleQuote=o}),iy="switch",mO=j.extends(iy,function(o,c,f,p,m){j.apply(this,[iy,p,m]),this.test=o,this.body=c,this.shortForm=f}),sy="throw",gO=j.extends(sy,function(o,c,f){j.apply(this,[sy,c,f]),this.what=o}),oy="trait",TO=ur.extends(oy,function(o,c,f,p){ur.apply(this,[oy,o,f,p]),this.body=c}),ay="traitalias",_O=Ze.extends(ay,function(o,c,f,p,m,E){Ze.apply(this,[ay,m,E]),this.trait=o,this.method=c,this.as=f,this.visibility="",p&&(p[0]===0?this.visibility="public":p[0]===1?this.visibility="protected":p[0]===2&&(this.visibility="private"))}),ly="traitprecedence",yO=Ze.extends(ly,function(o,c,f,p,m){Ze.apply(this,[ly,p,m]),this.trait=o,this.method=c,this.instead=f}),cy="traituse",NO=Ze.extends(cy,function(o,c,f,p){Ze.apply(this,[cy,f,p]),this.traits=o,this.adaptations=c}),bO=j.extends("try",function(o,c,f,p,m){j.apply(this,["try",p,m]),this.body=o,this.catches=c,this.always=f}),uy="typereference",fy=Jr.extends(uy,function(o,c,f,p){Jr.apply(this,[uy,f,p]),this.name=o,this.raw=c});fy.types=["int","float","string","bool","object","array","callable","iterable","void","static"];var vO=fy,dy="unary",IO=W.extends(dy,function(o,c,f,p){W.apply(this,[dy,f,p]),this.type=o,this.what=c}),py="uniontype",PO=ur.extends(py,function(o,c,f){ur.apply(this,[py,null,c,f]),this.types=o}),hy="unset",AO=j.extends(hy,function(o,c,f){j.apply(this,[hy,c,f]),this.variables=o}),my="usegroup",CO=j.extends(my,function(o,c,f,p,m){j.apply(this,[my,p,m]),this.name=o,this.type=c,this.items=f}),gy="useitem",Zd=j.extends(gy,function(o,c,f,p,m){j.apply(this,[gy,p,m]),this.name=o,this.alias=c,this.type=f});Zd.TYPE_CONST="const",Zd.TYPE_FUNCTION="function";var EO=Zd,Ty="variable",SO=me.extends(Ty,function(o,c,f,p){me.apply(this,[Ty,f,p]),this.name=o,this.curly=c||!1}),_y="variadic",xO=me.extends(_y,function(o,c,f){me.apply(this,[_y,c,f]),this.what=o}),yy="while",RO=j.extends(yy,function(o,c,f,p,m){j.apply(this,[yy,p,m]),this.test=o,this.body=c,this.shortForm=f}),Ny="yield",kO=me.extends(Ny,function(o,c,f,p){me.apply(this,[Ny,f,p]),this.value=o,this.key=c}),by="yieldfrom",OO=me.extends(by,function(o,c,f){me.apply(this,[by,c,f]),this.value=o}),Nt=function(o,c){this.withPositions=o,this.withSource=c};Nt.precedence={},[["or"],["xor"],["and"],["="],["?"],["??"],["||"],["&&"],["|"],["^"],["&"],["==","!=","===","!==","<=>"],["<","<=",">",">="],["<<",">>"],["+","-","."],["*","/","%"],["!"],["instanceof"],["cast","silent"],["**"]].forEach(function(o,c){o.forEach(function(f){Nt.precedence[f]=c+1})}),Nt.prototype.isRightAssociative=function(o){return o==="**"||o==="??"},Nt.prototype.swapLocations=function(o,c,f,p){this.withPositions&&(o.loc.start=c.loc.start,o.loc.end=f.loc.end,this.withSource&&(o.loc.source=p.lexer._input.substring(o.loc.start.offset,o.loc.end.offset)))},Nt.prototype.resolveLocations=function(o,c,f,p){this.withPositions&&(o.loc.start.offset>c.loc.start.offset&&(o.loc.start=c.loc.start),o.loc.end.offset<f.loc.end.offset&&(o.loc.end=f.loc.end),this.withSource&&(o.loc.source=p.lexer._input.substring(o.loc.start.offset,o.loc.end.offset)))},Nt.prototype.resolvePrecedence=function(o,c){var f,p,m;return o.kind==="call"?this.resolveLocations(o,o.what,o,c):o.kind==="propertylookup"||o.kind==="staticlookup"||o.kind==="offsetlookup"&&o.offset?this.resolveLocations(o,o.what,o.offset,c):o.kind==="bin"?o.right&&!o.right.parenthesizedExpression&&(o.right.kind==="bin"?(p=Nt.precedence[o.type],m=Nt.precedence[o.right.type],p&&m&&m<=p&&(o.type!==o.right.type||!this.isRightAssociative(o.type))&&(f=o.right,o.right=o.right.left,this.swapLocations(o,o.left,o.right,c),f.left=this.resolvePrecedence(o,c),this.swapLocations(f,f.left,f.right,c),o=f)):o.right.kind==="retif"&&(p=Nt.precedence[o.type],m=Nt.precedence["?"],p&&m&&m<=p&&(f=o.right,o.right=o.right.test,this.swapLocations(o,o.left,o.right,c),f.test=this.resolvePrecedence(o,c),this.swapLocations(f,f.test,f.falseExpr,c),o=f))):o.kind!=="silent"&&o.kind!=="cast"||!o.expr||o.expr.parenthesizedExpression?o.kind==="unary"?o.what&&!o.what.parenthesizedExpression&&(o.what.kind==="bin"?(f=o.what,o.what=o.what.left,this.swapLocations(o,o,o.what,c),f.left=this.resolvePrecedence(o,c),this.swapLocations(f,f.left,f.right,c),o=f):o.what.kind==="retif"&&(f=o.what,o.what=o.what.test,this.swapLocations(o,o,o.what,c),f.test=this.resolvePrecedence(o,c),this.swapLocations(f,f.test,f.falseExpr,c),o=f)):o.kind==="retif"?o.falseExpr&&o.falseExpr.kind==="retif"&&!o.falseExpr.parenthesizedExpression&&(f=o.falseExpr,o.falseExpr=f.test,this.swapLocations(o,o.test,o.falseExpr,c),f.test=this.resolvePrecedence(o,c),this.swapLocations(f,f.test,f.falseExpr,c),o=f):o.kind==="assign"?o.right&&o.right.kind==="bin"&&!o.right.parenthesizedExpression&&(p=Nt.precedence["="],m=Nt.precedence[o.right.type],p&&m&&m<p&&(f=o.right,o.right=o.right.left,f.left=o,this.swapLocations(f,f.left,o.right,c),o=f)):o.kind==="expressionstatement"&&this.swapLocations(o,o.expression,o,c):o.expr.kind==="bin"?(f=o.expr,o.expr=o.expr.left,this.swapLocations(o,o,o.expr,c),f.left=this.resolvePrecedence(o,c),this.swapLocations(f,f.left,f.right,c),o=f):o.expr.kind==="retif"&&(f=o.expr,o.expr=o.expr.test,this.swapLocations(o,o,o.expr,c),f.test=this.resolvePrecedence(o,c),this.swapLocations(f,f.test,f.falseExpr,c),o=f),o},Nt.prototype.prepare=function(o,c,f){var p=null;(this.withPositions||this.withSource)&&(p=f.position());var m=this,E=function F(){var v=null,B=Array.prototype.slice.call(arguments);if(B.push(c),m.withPositions||m.withSource){var q=null;m.withSource&&(q=f.lexer._input.substring(p.offset,f.prev[2])),v=new Is(q,p,new A(f.prev[0],f.prev[1],f.prev[2])),B.push(v)}o||(o=B.shift());var R=m[o];if(typeof R!="function")throw new Error('Undefined node "'+o+'"');var ke=Object.create(R.prototype);return R.apply(ke,B),F.instance=ke,F.trailingComments&&(ke.trailingComments=F.trailingComments),typeof F.postBuild=="function"&&F.postBuild(ke),f.debug&&delete Nt.stack[F.stackUid],m.resolvePrecedence(ke,f)};return f.debug&&(Nt.stack||(Nt.stack={},Nt.stackUid=1),Nt.stack[++Nt.stackUid]={position:p,stack:new Error().stack.split(`
`).slice(3,5)},E.stackUid=Nt.stackUid),E.setTrailingComments=function(F){E.instance?E.instance.setTrailingComments(F):E.trailingComments=F},E.destroy=function(F){c&&(F?F.leadingComments?F.leadingComments=c.concat(F.leadingComments):F.leadingComments=c:f._docIndex=f._docs.length-c.length),f.debug&&delete Nt.stack[E.stackUid]},E},Nt.prototype.checkNodes=function(){var o=[];for(var c in Nt.stack)Nt.stack.hasOwnProperty(c)&&o.push(Nt.stack[c]);return Nt.stack={},o},[kl,Xi,sa,oa,G,P,L,fe,Kt,et,aa,e0,t0,n0,r0,i0,s0,o0,a0,wl,l0,c0,u0,Xd,f0,ur,d0,p0,h0,m0,g0,T0,_0,y0,N0,b0,v0,me,I0,P0,A0,Jd,C0,E0,S0,x0,R0,k0,O0,w0,L0,D0,M0,Ae,Zi,F0,V0,B0,q0,U0,j0,G0,W0,Ze,H0,Y0,K0,$0,z0,Q0,W,X0,J0,Z0,eO,tO,nO,rO,iO,sO,Jr,oO,aO,lO,cO,j,uO,fO,dO,pO,hO,mO,gO,TO,_O,yO,NO,bO,vO,IO,PO,AO,CO,EO,SO,xO,RO,kO,OO].forEach(function(o){Nt.prototype[o.kind]=o});var vy=Nt;function ep(o,c){for(var f=Object.keys(o),p=f.length;p--;){var m=f[p],E=o[m];E===null?delete c[m]:typeof E=="function"?c[m]=E.bind(c):Array.isArray(E)?c[m]=Array.isArray(c[m])?c[m].concat(E):E:c[m]=typeof E=="object"&&typeof c[m]=="object"?ep(E,c[m]):E}return c}var fr=function(o){if(typeof this=="function")return new this(o);if(this.tokens=na,this.lexer=new _(this),this.ast=new vy,this.parser=new ta(this.lexer,this.ast),o&&typeof o=="object"){if(o.parser&&(o.lexer||(o.lexer={}),o.parser.version)){if(typeof o.parser.version=="string"){var c=o.parser.version.split(".");if(c=100*parseInt(c[0])+parseInt(c[1]),isNaN(c))throw new Error("Bad version number : "+o.parser.version);o.parser.version=c}else if(typeof o.parser.version!="number")throw new Error("Expecting a number for version");if(o.parser.version<500||o.parser.version>900)throw new Error("Can only handle versions between 5.x to 8.x")}ep(o,this),this.lexer.version=this.parser.version}},tp=function(o){return typeof o.write=="function"?o.toString():o};fr.create=function(o){return new fr(o)},fr.parseEval=function(o,c){return new fr(c).parseEval(o)},fr.prototype.parseEval=function(o){return this.lexer.mode_eval=!0,this.lexer.all_tokens=!1,o=tp(o),this.parser.parse(o,"eval")},fr.parseCode=function(o,c,f){return typeof c!="object"||f||(f=c,c="unknown"),new fr(f).parseCode(o,c)},fr.prototype.parseCode=function(o,c){return this.lexer.mode_eval=!1,this.lexer.all_tokens=!1,o=tp(o),this.parser.parse(o,c)},fr.tokenGetAll=function(o,c){return new fr(c).tokenGetAll(o)},fr.prototype.tokenGetAll=function(o){this.lexer.mode_eval=!1,this.lexer.all_tokens=!0,o=tp(o);var c=this.lexer.EOF,f=this.tokens.values;this.lexer.setInput(o);for(var p=this.lexer.lex()||c,m=[];p!=c;){var E=this.lexer.yytext;f.hasOwnProperty(p)&&(E=[f[p],E,this.lexer.yylloc.first_line]),m.push(E),p=this.lexer.lex()||c}return m};var fo=fr,wO=na,LO=_,DO=vy,MO=ta,FO=ep,VO=fr;fo.tokens=wO,fo.lexer=LO,fo.AST=DO,fo.parser=MO,fo.combine=FO,fo.default=VO;var Iy=function(o,c,f){var p=f&&f.parentParser==="markdown";if(!o&&p)return"";o=o.replace(/\?>\r?\n<\?/g,`?>
___PSEUDO_INLINE_PLACEHOLDER___<?`);var m,E=new fo({parser:{extractDoc:!0},ast:{withPositions:!0,withSource:!0}}),F=o.indexOf("<?php")!==-1,v=p&&!F;try{m=v?E.parseEval(o):E.parseCode(o)}catch(B){throw B instanceof SyntaxError&&"lineNumber"in B&&(B.loc={start:{line:B.lineNumber,column:B.columnNumber}},delete B.lineNumber,delete B.columnNumber),B}return m.extra={parseAsEval:v},m.comments.forEach(function(B){B.value[B.value.length-1]==="\r"&&(B.value=B.value.slice(0,-1),B.loc.end.offset=B.loc.end.offset-1),B.value[B.value.length-1]===`
`&&(B.value=B.value.slice(0,-1),B.loc.end.offset=B.loc.end.offset-1)}),m},la=r.default.util,BO=la.hasNewline,qO=la.skipEverythingButNewLine,UO=la.skipNewline,jO=la.isNextLineEmpty,GO=la.isPreviousLineEmpty,WO=la.getNextNonSpaceNonCommentCharacterIndex,HO=r.default.version;function np(o,c){return parseInt(HO[0])>1?o[c]:o}var Py={};function rp(o){return Py[o]}[["or"],["xor"],["and"],["=","+=","-=","*=","**=","/=",".=","%=","&=","|=","^=","<<=",">>="],["??"],["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!==","<>","<=>"],["<",">","<=",">="],[">>","<<"],["+","-","."],["*","/","%"],["!"],["instanceof"],["++","--","~"],["**"]].forEach(function(o,c){o.forEach(function(f){Py[f]=c})});var Ay=["==","!=","===","!==","<>","<=>"],nu=["*","/","%"],ip=[">>","<<"];function Cy(o){return["block","program","namespace","class","interface","trait","traituse","declare"].includes(o.kind)}function Ey(o){var c=o.body;return c?(c.kind==="block"&&(c=c.children),c[0]):null}function As(o){var c=o.children||o.body||o.adaptations;return Array.isArray(c)?c:null}function Sy(o){var c=o.getParentNode();return c?As(c):null}function ru(o){return o.length>0?o[o.length-1]:null}function sp(o){var c=o.getValue();if(c.kind==="program"){var f=As(c);return!(!f||f.length===0)&&f[0].kind==="inline"}if(c.kind==="switch"){if(!c.body)return!1;var p=As(c.body);if(p.length===0)return!1;var m=Y(p,1)[0];if(!m.body)return!1;var E=As(m.body);return E.length!==0&&E[0].kind==="inline"}var F=Ey(c);return!!F&&F.kind==="inline"}var xy=["__construct","__destruct","__call","__callStatic","__get","__set","__isset","__unset","__sleep","__wakeup","__toString","__invoke","__set_state","__clone","__debugInfo"].reduce(function(o,c){return o[c.toLowerCase()]=c,o},{}),Qe={printNumber:function(o){return o.toLowerCase().replace(/^([+-]?[\d.]+e)(?:\+|(-))?0*(\d)/,"$1$2$3").replace(/^([+-]?[\d.]+)e[+-]?0+$/,"$1").replace(/^([+-])?\./,"$10.").replace(/(\.\d+?)0+(?=e|$)/,"$1").replace(/\.(?=e)/,"")},getPrecedence:rp,isBitwiseOperator:function(o){return!!ip[o]||o==="|"||o==="^"||o==="&"},shouldFlatten:function(o,c){return rp(c)===rp(o)&&o!=="**"&&(!Ay.includes(o)||!Ay.includes(c))&&!(c==="%"&&nu.includes(o)||o==="%"&&nu.includes(c))&&(c===o||!nu.includes(c)||!nu.includes(o))&&(!ip.includes(o)||!ip.includes(c))},nodeHasStatement:Cy,getNodeListProperty:As,getParentNodeListProperty:Sy,getLast:ru,getPenultimate:function(o){return o.length>1?o[o.length-2]:null},isLastStatement:function(o){var c=Sy(o);if(!c)return!0;var f=o.getValue();return c[c.length-1]===f},getBodyFirstChild:Ey,lineShouldEndWithSemicolon:function(o){var c=o.getValue(),f=o.getParentNode();if(!f)return!1;if(["for","foreach","while","do","if","switch"].includes(f.kind)&&c.kind!=="block"&&c.kind!=="if"&&(f.body===c||f.alternate===c))return!0;if(!Cy(f)||c.kind==="echo"&&c.shortForm)return!1;if(c.kind==="traituse")return!c.adaptations;if(c.kind==="method"&&c.isAbstract)return!0;if(c.kind==="method"){var p=o.getParentNode();if(p&&p.kind==="interface")return!0}return["expressionstatement","do","usegroup","classconstant","propertystatement","traitprecedence","traitalias","goto","constantstatement","global","static","echo","unset","return","break","continue","throw"].includes(c.kind)},fileShouldEndWithHardline:function(o){var c=o.getValue(),f=c.kind==="program",p=c.children&&ru(c.children);if(!f||p&&["halt","inline"].includes(p.kind))return!1;if(p&&(p.kind==="declare"||p.kind==="namespace")){var m=p.children.length>0&&ru(p.children);if(m&&["halt","inline"].includes(m.kind))return!1}return!0},maybeStripLeadingSlashFromUse:function(o){var c=o.replace(/^\\/,"");return c.indexOf("\\")!==-1?c:o},hasDanglingComments:function(o){return o.comments&&o.comments.some(function(c){return!c.leading&&!c.trailing})},hasLeadingComment:function(o){return o.comments&&o.comments.some(function(c){return c.leading})},hasTrailingComment:function(o){return o.comments&&o.comments.some(function(c){return c.trailing})},docShouldHaveTrailingNewline:function o(c){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,p=c.getNode(f),m=c.getNode(f+1),E=c.getNode(f+2);if(!m)return!1;if(E&&["call","new","echo"].includes(E.kind)&&!["call","array"].includes(m.kind)||m.kind==="parameter"){var F=E.arguments.length-1,v=E.arguments.indexOf(m);return v!==F}if(E&&E.kind==="for"){var B=E.init.indexOf(m);if(B!==-1)return B!==E.init.length-1;var q=E.test.indexOf(m);if(q!==-1)return q!==E.test.length-1;var R=E.increment.indexOf(m);if(R!==-1)return R!==E.increment.length-1}if(m.kind==="bin")return m.left===p||o(c,f+1);if(m.kind==="case"&&m.test===p)return!0;if(m.kind==="staticvariable"){var ke=E.variables.length-1,Oe=E.variables.indexOf(m);return Oe!==ke}if(m.kind==="entry"){if(m.key===p)return!0;var tt=E.items.length-1,_t=E.items.indexOf(m);return _t!==tt}if(["call","new"].includes(m.kind)){var xe=m.arguments.length-1,dt=m.arguments.indexOf(p);return dt!==xe}if(m.kind==="echo"){var ze=m.expressions.length-1,Gt=m.expressions.indexOf(p);return Gt!==ze}if(m.kind==="array"){var Bt=m.items.length-1,pt=m.items.indexOf(p);return pt!==Bt}return m.kind==="retif"&&o(c,f+1)},isLookupNode:function(o){return o.kind==="propertylookup"||o.kind==="staticlookup"||o.kind==="offsetlookup"},isFirstChildrenInlineNode:sp,shouldPrintHardLineAfterStartInControlStructure:function(o){var c=o.getValue();return!["try","catch"].includes(c.kind)&&sp(o)},shouldPrintHardLineBeforeEndInControlStructure:function(o){var c=o.getValue();if(["try","catch"].includes(c.kind))return!0;if(c.kind==="switch"){var f=As(c.body);if(f.length===0)return!0;var p=ru(f);if(!p.body)return!0;var m=As(p.body);return m.length===0||m[0].kind!=="inline"}return!sp(o)},getAlignment:function(o){var c=o.split(`
`).pop();return c.length-c.trimLeft().length+1},isProgramLikeNode:function(o){return["program","declare","namespace"].includes(o.kind)},isReferenceLikeNode:function(o){return["name","parentreference","selfreference","staticreference"].includes(o.kind)},getNodeKindIncludingLogical:function(o){return o.kind==="bin"&&["||","&&"].includes(o.type)?"logical":o.kind},useDoubleQuote:function(o,c){if(o.isDoubleQuote===c.singleQuote){var f=o.raw.slice(o.raw[0]==="b"?2:1,-1).match(/\\([$nrtfve]|[xX][0-9a-fA-F]{1,2}|[0-7]{1,3}|u{([0-9a-fA-F]+)})|\r?\n|'|"|\$/);return o.isDoubleQuote?f:!f}return o.isDoubleQuote},hasEmptyBody:function(o){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"body",f=o.getValue();return f[c]&&f[c].children&&f[c].children.length===0&&(!f[c].comments||f[c].comments.length===0)},isNextLineEmptyAfterNamespace:function(o,c,f){var p=f(c);return p=qO(o,p),p=UO(o,p),BO(o,p)},shouldPrintHardlineBeforeTrailingComma:function(o){return o.kind==="nowdoc"||o.kind==="encapsed"&&o.type==="heredoc"||o.kind==="entry"&&(o.value.kind==="nowdoc"||o.value.kind==="encapsed"&&o.value.type==="heredoc")},isDocNode:function(o){return o.kind==="nowdoc"||o.kind==="encapsed"&&o.type==="heredoc"},getAncestorNode:function(o,c){var f=function(p,m){for(var E,F=[].concat(m),v=-1;E=p.getParentNode(++v);)if(F.indexOf(E.kind)!==-1)return v;return-1}(o,c);return f===-1?null:o.getParentNode(f)},getNextNode:function(o,c){var f=o.getParentNode(),p=As(f);if(!p)return null;var m=p.indexOf(c);return m===-1?null:f.children[m+1]},normalizeMagicMethodName:function(o){var c=o.toLowerCase();return xy[c]?xy[c]:o},isPreviousLineEmpty:function(o,c,f){return GO(o,c,np(f,"locStart"))},isNextLineEmpty:function(o,c,f){return jO(o,c,np(f,"locEnd"))},getNextNonSpaceNonCommentCharacterIndex:function(o,c,f){return WO(o,c,np(f,"locEnd"))}},ca=r.default.util,Zr=ca.addLeadingComment,Zn=ca.addDanglingComment,ei=ca.addTrailingComment,YO=ca.skipNewline,iu=ca.hasNewline,KO=ca.hasNewlineInRange,po=r.default.doc.builders,Cs=po.concat,Ry=po.join,$O=po.indent,Li=po.hardline,ky=po.cursor,Oy=po.lineSuffix,zO=po.breakParent,Ml=Qe.getNextNonSpaceNonCommentCharacterIndex,QO=Qe.isNextLineEmpty,XO=Qe.isPreviousLineEmpty,JO=Qe.isLookupNode;function su(o,c){var f=o.children;f.length===0?Zn(o,c):Zr(f[0],c)}function op(o,c){o.kind==="block"?su(o,c):Zr(o,c)}function wy(o,c,f,p,m,E){var F=Ml(o,m,E),v=o.charAt(F);return c&&c.kind==="identifier"&&f&&(f.kind==="function"||f.kind==="method")&&v===")"?(ei(f,m),!0):!(!f||f.kind!=="function"&&f.kind!=="method"||!p||p.kind!=="block")&&(su(p,m),!0)}function ap(o,c,f,p,m,E){if(!f||f.kind!=="if"||!p)return!1;var F=Ml(o,m,E);return o.charAt(F)===")"?(ei(c,m),!0):c===f.body&&p===f.alternate?(Zn(f,m),!0):p.kind==="if"?(op(p.body,m),!0):f.body===p&&(Zr(p,m),!0)}function lp(o,c,f){if(o&&["class","interface","trait"].includes(o.kind)){if(c&&o.extends){if(Array.isArray(o.extends)){if(o.extends.some(function(p){if(c&&c===p)return Zn(c,f),!0}))return!0}else if(c===o.extends)return Zn(c,f),!0}if(c&&o.implements&&o.implements.some(function(p){if(c&&c===p)return Zn(c,f),!0}))return!0;if(!(o.body&&o.body.length>0))return Zn(o,f),!0}return!!(c&&c.kind==="class"&&c.isAnonymous&&c.leadingComments&&f.kind==="commentblock")}function cp(o,c,f,p,m){if(c&&(c.kind==="function"||c.kind==="method")){for(var E=0,F=0;F<c.arguments.length;F++)E=m.locEnd(c.arguments[F])>E?m.locEnd(c.arguments[F]):E;var v=c.body&&m.locStart(p)>E&&m.locEnd(p)<m.locStart(c.body),B=Ml(o,p,m);if(c.type&&v&&o.charAt(B)!==")")return m.locEnd(p)<m.locStart(c.type)?(Zn(c.type,p),!0):(ei(c.type,p),!0)}return!1}function up(o,c,f,p,m){return!(!f||!["function","method","parameter"].includes(f.kind))&&c.kind==="typereference"&&p.kind==="identifier"&&(ei(c,m),!0)}function Ly(o,c){return!(!o||!["label","goto"].includes(o.kind))&&(ei(o,c),!0)}function fp(o,c,f,p){return f&&f.kind==="inline"?(f.leadingComments||(f.leadingComments=[]),f.leadingComments.includes(p)||f.leadingComments.push(p),!0):!(o||f||!c||c.kind!=="inline")&&(Zn(c,p),!0)}function Dy(o,c,f){return!(!o||o.kind!=="try"||!c)&&(c.kind==="block"?(su(c,f),!0):c.kind==="try"?(op(c.always,f),!0):c.kind==="catch"&&(op(c.body,f),!0))}function My(o,c,f,p){return f||c||!o||o.kind!=="namespace"||o.withBrackets?!(c||!o||o.kind!=="namespace"||o.withBrackets)&&(Zn(o,p),!0):(ei(o,p),!0)}function Fy(o,c,f,p){return!(!o||o.kind!=="declare")&&(!c||c.kind!=="noop")&&(f&&o.directives[0]!==f?!(!f||!c)&&(Zr(f,p),!0):(o.mode==="none"?ei(o,p):Zn(o,p),!0))}function dp(o,c,f,p,m,E){if(!f||f.kind!=="while"||!p)return!1;var F=Ml(o,m,E);return o.charAt(F)===")"?(ei(c,m),!0):p.kind==="block"&&(su(p,m),!0)}function pp(o,c){return o.getValue().printed=!0,c.printer.printComment(o,c)}function Vy(o,c,f){return o.getNode()===c.cursorNode&&o.getValue()?Cs([ky,f,ky]):f}var Ke={handleOwnLineComment:function(o,c,f){var p=o.precedingNode,m=o.enclosingNode,E=o.followingNode;return wy(c,p,m,E,o,f)||function(F,v,B){return F&&JO(F)&&v&&["identifier","variable","encapsed"].includes(v.kind)?(Zr(F,B),!0):!1}(m,E,o)||ap(c,p,m,E,o,f)||dp(c,p,m,E,o,f)||Dy(m,E,o)||lp(m,E,o)||up(c,p,m,E,o)||cp(c,m,E,o,f)||function(F,v,B,q){return!B&&F&&(F.kind==="for"||F.kind==="foreach")?(F.body&&F.body.kind!=="block"?Zr(B,q):Zr(F,q),!0):!1}(m,0,E,o)||fp(m,p,E,o)||Fy(m,p,E,o)},handleEndOfLineComment:function(o,c,f){var p=o.precedingNode,m=o.enclosingNode,E=o.followingNode;return function(F,v,B,q,R){return!v&&!q&&B&&B.kind==="array"?(ei(B,R),!0):!1}(0,p,m,E,o)||function(F,v,B,q,R){return B&&B.kind==="return"&&!B.expr?(ei(B,R),!0):!1}(0,0,m,0,o)||wy(c,p,m,E,o,f)||function(F,v,B,q,R,ke){var Oe=v&&!KO(R,ke.locEnd(v),ke.locStart(q));return(!v||!Oe)&&F&&F.kind==="retif"&&B?(Zr(B,q),!0):!1}(m,p,E,o,c,f)||ap(c,p,m,E,o,f)||dp(c,p,m,E,o,f)||Dy(m,E,o)||lp(m,E,o)||up(c,p,m,E,o)||cp(c,m,E,o,f)||function(F,v){return F&&F.kind==="entry"?(Zr(F,v),!0):!1}(m,o)||function(F,v,B){return v&&v.kind==="call"&&F&&v.what===F&&v.arguments.length>0?(Zr(v.arguments[0],B),!0):!1}(p,m,o)||function(F,v,B){if(F&&F.kind==="assign"&&v){var q=F.loc.start.offset+F.loc.source.indexOf("=");if(B.loc.start.offset>q)return Zr(v,B),!0}return!1}(m,E,o)||fp(m,p,E,o)||My(m,p,E,o)||Fy(m,p,E,o)||Ly(m,o)},handleRemainingComment:function(o,c,f){var p=o.precedingNode,m=o.enclosingNode,E=o.followingNode;return ap(c,p,m,E,o,f)||dp(c,p,m,E,o,f)||function(F,v,B,q){var R=Ml(F,B,q);return F.charAt(R)!==")"?!1:v&&(v.kind==="function"||v.kind==="closure"||v.kind==="method"||v.kind==="call"||v.kind==="new")&&v.arguments.length===0?(Zn(v,B),!0):!1}(c,m,o,f)||lp(m,E,o)||function(F,v,B){return F&&F.kind==="traituse"&&F.adaptations&&!F.adaptations.length?(Zn(F,B),!0):!1}(m,0,o)||up(c,p,m,E,o)||cp(c,m,E,o,f)||Ly(m,o)||function(F,v,B,q){return v&&v.kind==="halt"?(Zn(v,q),!0):F&&F.kind==="halt"?(Zn(F,q),!0):!1}(p,m,0,o)||function(F,v){return F&&(F.kind==="continue"||F.kind==="break")&&!F.label?(ei(F,v),!0):!1}(m,o)||fp(m,p,E,o)||My(m,p,E,o)},getCommentChildNodes:function(o){return typeof o!="object"?[]:function(c){return Object.keys(c).filter(function(f){return f!=="kind"&&f!=="loc"&&f!=="errors"&&f!=="extra"&&f!=="comments"&&f!=="leadingComments"&&f!=="enclosingNode"&&f!=="precedingNode"&&f!=="followingNode"}).map(function(f){return c[f]})}(o)},canAttachComment:function(o){return o.kind&&o.kind!=="commentblock"&&o.kind!=="commentline"},isBlockComment:function(o){return o.kind==="commentblock"},printDanglingComments:function(o,c,f,p){var m=[],E=o.getValue();return E&&E.comments?(o.each(function(F){var v=F.getValue();!v||v.leading||v.trailing||p&&!p(v)||m.push(pp(F,c))},"comments"),m.length===0?"":f?Ry(Li,m):$O(Cs([Li,Ry(Li,m)]))):""},hasLeadingComment:function(o){return o.comments&&o.comments.some(function(c){return c.leading})},hasTrailingComment:function(o){return o.comments&&o.comments.some(function(c){return c.trailing})},hasLeadingOwnLineComment:function(o,c,f){return c.comments&&c.comments.some(function(p){return p.leading&&iu(o,f.locEnd(p))})},printComments:function(o,c){var f=[];return o.forEach(function(p,m,E){p.printed=!0;var F=E.length===m+1;f.push(p.value),F||f.push(Li),QO(c.originalText,p,c)&&!F&&f.push(Li)}),Cs(f)},printAllComments:function(o,c,f,p){var m=o.getValue(),E=c(o),F=m&&m.comments;if(!F||F.length===0)return Vy(o,f,E);var v=[],B=[p?";":"",E];return o.each(function(q){var R=q.getValue(),ke=R.leading,Oe=R.trailing;if(ke){var tt=function(xe,dt,ze){var Gt=xe.getValue(),Bt=pp(xe,ze);if(!Bt)return"";var pt=ze.printer.isBlockComment&&ze.printer.isBlockComment(Gt);return Cs(pt?[Bt,iu(ze.originalText,ze.locEnd(Gt))?Li:" "]:[Bt,Li])}(q,0,f);if(!tt)return;v.push(tt);var _t=f.originalText;iu(_t,YO(_t,f.locEnd(R)))&&v.push(Li)}else Oe&&B.push(function(xe,dt,ze){var Gt=xe.getValue(),Bt=pp(xe,ze);if(!Bt)return"";var pt=ze.printer.isBlockComment&&ze.printer.isBlockComment(Gt);if(iu(ze.originalText,ze.locStart(Gt),{backwards:!0})){var je=XO(ze.originalText,Gt,ze);return Oy(Cs([Li,je?Li:"",Bt]))}return Cs(pt?[" ",Bt]:[Oy(Cs([" ",Bt])),pt?"":zO])}(q,0,f))},"comments"),Vy(o,f,Cs(v.concat(B)))}};function By(){}By.strictEqual=function(){};var ZO=By,qy=Qe.getPrecedence,ew=Qe.shouldFlatten,tw=Qe.isBitwiseOperator,Uy=function(o){var c=o.getParentNode();if(!c)return!1;var f=o.getName(),p=o.getNode();if(["program","expressionstatement","namespace","declare","block","include","print","return","echo"].includes(c.kind))return!1;switch(p.kind){case"pre":case"post":if(c.kind==="unary")return p.kind==="pre"&&(p.type==="+"&&c.type==="+"||p.type==="-"&&c.type==="-");case"unary":switch(c.kind){case"unary":return p.type===c.type&&(p.type==="+"||p.type==="-");case"propertylookup":case"staticlookup":case"offsetlookup":case"call":return f==="what"&&c.what===p;case"bin":return c.type==="**"&&f==="left";default:return!1}case"bin":switch(c.kind){case"assign":case"retif":return["and","xor","or"].includes(p.type);case"silent":case"cast":return p.parenthesizedExpression;case"pre":case"post":case"unary":return!0;case"call":case"propertylookup":case"staticlookup":case"offsetlookup":return f==="what"&&c.what===p;case"bin":var m=c.type,E=qy(m),F=p.type,v=qy(F);return E>v||m==="||"&&F==="&&"||(E===v&&f==="right"?(ZO.strictEqual(c.right,p),!0):E===v&&!ew(m,F)||(E<v&&F==="%"?m==="+"||m==="-":!!tw(m)));default:return!1}case"propertylookup":case"staticlookup":switch(c.kind){case"call":return f==="what"&&c.what===p&&p.parenthesizedExpression;default:return!1}case"clone":case"new":switch(c.kind){case"propertylookup":case"staticlookup":case"offsetlookup":case"call":return f==="what"&&c.what===p;default:return!1}case"yield":switch(c.kind){case"propertylookup":case"staticlookup":case"offsetlookup":case"call":return f==="what"&&c.what===p;case"retif":return c.test===p;default:return!(!p.key&&!p.value)}case"assign":return(c.kind!=="for"||!c.init.includes(p)&&!c.increment.includes(p))&&c.kind!=="assign"&&c.kind!=="static"&&!["if","do","while","foreach","switch"].includes(c.kind)&&c.kind!=="silent"&&c.kind!=="call";case"retif":switch(c.kind){case"cast":return!0;case"unary":case"bin":case"retif":return!(f==="test"&&!c.trueExpr);case"propertylookup":case"staticlookup":case"offsetlookup":case"call":return f==="what"&&c.what===p;default:return!1}case"closure":switch(c.kind){case"call":return f==="what"&&c.what===p;case"propertylookup":return!0;default:return!1}case"silence":case"cast":return p.parenthesizedExpression;case"string":case"array":switch(c.kind){case"propertylookup":case"staticlookup":case"offsetlookup":case"call":return(!["string","array"].includes(p.kind)||c.kind!=="offsetlookup")&&f==="what"&&c.what===p;default:return!1}case"print":case"include":return c.kind==="bin"}return!1},Dn=r.default.doc.builders,jy=Dn.breakParent,O=Dn.concat,ln=Dn.join,ft=Dn.line,nw=Dn.lineSuffix,ye=Dn.group,ua=Dn.conditionalGroup,Ie=Dn.indent,rw=Dn.dedent,Es=Dn.ifBreak,de=Dn.hardline,Ue=Dn.softline,fa=Dn.literalline,iw=Dn.align,sw=Dn.dedentToRoot,Ss=r.default.doc.utils.willBreak,hp=r.default.util,ow=hp.isNextLineEmptyAfterIndex,aw=hp.hasNewline,Gy=hp.hasNewlineInRange,xs=Qe.getLast,lw=Qe.getPenultimate,Wy=Qe.isLastStatement,cw=Qe.lineShouldEndWithSemicolon,uw=Qe.printNumber,Hy=Qe.shouldFlatten,Yy=Qe.maybeStripLeadingSlashFromUse,fw=Qe.fileShouldEndWithHardline,dr=Qe.hasDanglingComments,Ky=Qe.hasLeadingComment,$y=Qe.hasTrailingComment,zy=Qe.docShouldHaveTrailingNewline,er=Qe.isLookupNode,mp=Qe.isFirstChildrenInlineNode,dw=Qe.shouldPrintHardLineAfterStartInControlStructure,pw=Qe.shouldPrintHardLineBeforeEndInControlStructure,hw=Qe.getAlignment,gp=Qe.isProgramLikeNode,da=Qe.getNodeKindIncludingLogical,mw=Qe.useDoubleQuote,Qy=Qe.hasEmptyBody,gw=Qe.isNextLineEmptyAfterNamespace,Xy=Qe.shouldPrintHardlineBeforeTrailingComma,Tp=Qe.isDocNode,_p=Qe.getAncestorNode,yp=Qe.isReferenceLikeNode,Tw=Qe.getNextNode,_w=Qe.normalizeMagicMethodName,yw=Qe.getNextNonSpaceNonCommentCharacterIndex,ho=Qe.isNextLineEmpty;function pa(o,c){return parseFloat(o)>=parseFloat(c)}function ou(o,c){return!!o.trailingCommaPHP&&pa(o.phpVersion,c)}function Np(o){switch(o.braceStyle){case"1tbs":return!1;case"psr-2":default:return!0}}function bp(o,c,f){var p=arguments.length>3&&arguments[3]!==void 0&&arguments[3];return O([p?"?":"","->",o.call(f,"offset")])}function Jy(o,c,f){return bp(o,c,f,!0)}function Zy(o,c,f){var p=o.getValue(),m=!["variable","identifier"].includes(p.offset.kind);return O(["::",m?"{":"",o.call(f,"offset"),m?"}":""])}function eN(o,c,f){var p=o.getValue(),m=p.offset&&p.offset.kind==="number"||_p(o,"encapsed");return O(["[",p.offset?ye(O([Ie(O([m?"":Ue,o.call(f,"offset")])),m?"":Ue])):"","]"])}function tN(o){return o.kind==="array"&&(o.items.length>0||o.comments)||o.kind==="function"||o.kind==="method"||o.kind==="closure"}function Nw(o){var c=xs(o),f=lw(o);return!Ky(c)&&!$y(c)&&tN(c)&&(!f||f.kind!==c.kind)}function bw(o){if(o.length!==2)return!1;var c=Y(o,2),f=c[0],p=c[1];return!(f.comments&&f.comments.length||f.kind!=="function"&&f.kind!=="method"&&f.kind!=="closure"||p.kind==="retif"||tN(p))}function Di(o,c,f){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"arguments",m=o.getValue()[p];if(m.length===0)return O(["(",Ke.printDanglingComments(o,c,!0),")"]);var E=!1,F=!1,v=m.length-1,B=o.map(function(pt,je){var At=pt.getNode(),zt=[f(pt)];return je===v||(ho(c.originalText,At,c)?(je===0&&(F=!0),E=!0,zt.push(",",de,de)):zt.push(",",ft)),O(zt)},p),q=o.getValue(),R=xs(m),ke=ou(c,"7.3")&&["call","new","unset","isset"].includes(q.kind)||ou(c,"8.0")&&["function","closure","method","arrowfunc"].includes(q.kind)?Ie(O([R&&Xy(R)?de:"",","])):"";function Oe(){return ye(O(["(",Ie(O([ft,O(B)])),ke,ft,")"]),{shouldBreak:!0})}var tt=bw(m),_t=Nw(m);if(tt||_t){var xe,dt=(tt?B.slice(1).some(Ss):B.slice(0,-1).some(Ss))||E,ze=0;o.each(function(pt){tt&&ze===0&&(xe=[O([pt.call(function(je){return f(je,{expandFirstArg:!0})}),B.length>1?",":"",F?de:ft,F?de:""])].concat(B.slice(1))),_t&&ze===m.length-1&&(xe=B.slice(0,-1).concat(pt.call(function(je){return f(je,{expandLastArg:!0})}))),ze++},p);var Gt=B.some(Ss),Bt=O(["(",O(xe),")"]);return O([Gt?jy:"",ua([Gt?Es(Oe(),Bt):Bt,O(tt?["(",ye(xe[0],{shouldBreak:!0}),O(xe.slice(1)),")"]:["(",O(B.slice(0,-1)),ye(xs(xe),{shouldBreak:!0}),")"]),ye(O(["(",Ie(O([ft,O(B)])),Es(ke),ft,")"]),{shouldBreak:!0})],{shouldBreak:dt})])}return ye(O(["(",Ie(O([Ue,O(B)])),Es(ke),Ue,")"]),{shouldBreak:B.some(Ss)||E})}function nN(o){return o.kind==="array"&&o.items.length!==0}function Fl(o){return o.right.kind==="array"&&o.right.items.length!==0}function rN(o,c,f){var p=o.getValue();switch(p.kind){case"propertylookup":return bp(o,c,f);case"nullsafepropertylookup":return Jy(o,c,f);case"staticlookup":return Zy(o,0,f);case"offsetlookup":return eN(o,0,f);default:return"Have not implemented lookup kind ".concat(p.kind," yet.")}}function iN(o){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=c.opening,p=f===void 0||f;if(o.type==="heredoc")return p?"<<<".concat(o.label):o.label;var m={string:'"',shell:"`"};return m[o.type]?m[o.type]:"Unimplemented encapsed type ".concat(o.type)}function vw(o,c,f){var p=[],m=[];return o.each(function(E){p.push(O(m)),p.push(ye(f(E))),m=[",",ft],E.getValue()&&ho(c.originalText,E.getValue(),c)&&m.push(Ue)},"items"),O(p)}function Iw(o,c){if(c.length===0)return o;var f=0;return c.reduce(function(p,m){var E=m.start,F=m.end,v=m.alignment,B=m.before,q=m.after,R=O([B||"",O(o.slice(E,F)),q||""]),ke=p.concat(o.slice(f,E),v?sw(ye(O([iw(new Array(v).join(" "),R)]))):ye(R),F===o.length-1?o.slice(F):"");return f=F,ke},[])}function Vl(o,c,f){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"children",m=o.getValue(),E=o.getParentNode(),F=-1,v=[],B=[];o.map(function(pt,je){var At=pt.getValue(),zt=At.kind==="inline",ks=f(pt),Mn=m[p],pr=Mn[je+1],mo=!Wy(pt)&&!zt&&(pr&&pr.kind==="case"?!mp(o):pr&&pr.kind!=="inline"),go=O([ks,mo?de:"",mo&&ho(c.originalText,At,c)?de:""]),wr=je===0,ts=Mn.length-1===je,hr=m.kind==="block"&&E&&["function","closure","method","try","catch"].includes(E.kind),To=hr&&wr?"":" ";if(zt||!zt&&ts&&F>=0){var mr=F;if(zt&&(F=je),zt&&!wr||!zt&&ts){var Os=(zt?mr:F)+1,Lr=ts&&!zt?je+1:je,ns=Mn[zt?mr:F],du=ns?hw(ns.raw):"",Bl=Lr-Os>1,ql=Bl?hr&&!ns||gp(m)&&Os===0?"":de:"",ws=Bl&&At.kind!=="halt"?hr&&ts?"":de:"";Bl&&(To=""),B.push({start:Os,end:Lr,alignment:du,before:ql,after:ws})}}if(zt){var _o=pr&&pr.kind==="echo"&&pr.shortForm?"<?=":"<?php",pu=At.leadingComments&&At.leadingComments.length?O([wr&&m.kind!=="namespace"&&!hr?"<?php":"",m.kind!=="namespace"&&hr?"":de,Ke.printComments(At.leadingComments,c),de,"?>"]):gp(m)&&wr&&m.kind!=="namespace"?"":O([To,"?>"]),rs=o.getNode(je+1),yo=rs&&rs.children&&rs.children.length,Ap=At.comments&&At.comments.length?O([_o,de,yo?Ke.printComments(At.comments,c):"",de,yo?"?>":""]):gp(m)&&ts?"":O([_o," "]);go=O([pu,go,Ap])}v.push(go)},p);var q=Iw(v,B);if(m.kind==="program"&&!m.extra.parseAsEval){var R=[],ke=Y(m.children,1),Oe=ke[0],tt=!Oe||Oe.kind!=="inline";if(tt){var _t=c.originalText.trim().match(/^<\?(php|=)(\s+)?\S/),xe=O([_t&&_t[2]&&_t[2].includes(`
`)?O([de,_t[2].split(`
`).length>2?de:""]):" ",m.comments?Ke.printComments(m.comments,c):""]),dt=Oe&&Oe.kind==="echo"&&Oe.shortForm;R.push(O([dt?"<?=":"<?php",xe]))}R.push(O(q));var ze=c.originalText.trim().endsWith("?>");if(ze){var Gt=xs(m.children),Bt=Gt?O([Gy(c.originalText.trimEnd(),c.locEnd(Gt),c.locEnd(m))?de:" ",ho(c.originalText,Gt,c)?de:""]):m.comments?de:"";R.push(nw(O([Bt,"?>"])))}return O(R)}return O(q)}function sN(o,c,f,p){return O(o.map(function(m){var E=[];return E.push(f(m)),Wy(m)||(E.push(de),ho(c.originalText,m.getValue(),c)&&E.push(de)),O(E)},p))}function Or(o,c,f){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"extends",m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:" ",E=arguments.length>5&&arguments[5]!==void 0?arguments[5]:" ",F=o.getValue(),v=dr(F[p])?O([de,o.call(function(q){return Ke.printDanglingComments(q,c,!0)},p),de]):m,B=Array.isArray(F[p])?ye(O([ln(",",o.map(function(q){var R=f(q);return dr(q.getValue())?O([de,Ke.printDanglingComments(q,c,!0),de,R]):O([E,R])},p))])):O([E,o.call(f,p)]);return Ie(O([v,p,Ss(v)?Ie(B):B]))}function Rs(o,c,f){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},m=p.inline,E=m!==void 0&&m,F=[];return o.getValue().attrGroups?(o.each(function(v){var B=["#["];F.length>0&&F.push(E?" ":de),B.push(Es(Ue)),v.each(function(q){var R=q.getValue();B.length>2&&B.push(",",Es(Ue," "));var ke=[R.name];R.args.length>0&&ke.push(Di(q,c,f,"args")),B.push(ye(O(ke)))},"attrs"),F.push(ye(O([Ie(O(B)),Es(Ue),"]",Ue,E?" ":""])))},"attrGroups"),F.length===0?[]:[O([].concat(F,[E?"":de]))]):[]}function es(o,c,f){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"body",m=o.getValue();if(!m[p])return";";var E=o.call(f,p);return O([m.shortForm?":":" {",Ie(O([m[p].kind!=="block"||m[p].children&&m[p].children.length>0||m[p].comments&&m[p].comments.length>0?O([dw(o)?m.kind==="switch"?" ":"":de,E]):""])),m.kind==="if"&&p==="body"?"":O([pw(o)?de:"",m.shortForm?O(["end",m.kind,";"]):"}"])])}function au(o,c,f,p,m,E,F){if(!p)return c;var v=vp(o,p,m,E,F);return ye(O([c,f,v]))}function vp(o,c,f,p,m){var E=p?"&":"";if(Ke.hasLeadingOwnLineComment(m.originalText,c,m))return Ie(O([de,E,f]));var F=c.kind==="cast"?c.expr:c;return F.kind==="bin"&&!Fl(F)||F.kind==="retif"&&(!F.trueExpr&&!nN(F.falseExpr)||F.test.kind==="bin"&&!Fl(F.test))||(o.kind==="variable"||o.kind==="string"||er(o))&&(F.kind==="string"&&!oN(F)||function v(B){return!!er(B)&&(!(B.what.kind!=="variable"&&!yp(B.what))||v(B.what))}(F))?ye(Ie(O([ft,E,f]))):O([" ",E,f])}function oN(o){return o.raw.includes(`
`)}function lu(o,c,f){return(o.kind==="string"||o.kind==="encapsed"&&(o.type==="string"||o.type==="shell"))&&oN(o)&&!aw(c,f.locStart(o),{backwards:!0})}var Pw=function(o,c,f){var p=o.getValue();if(!p)return"";if(typeof p=="string")return p;var m=function(v,B,q){var R=v.getValue();switch(R.kind){case"program":return ye(O([Vl(v,B,q),Ke.printDanglingComments(v,B,!0,function(ie){return!ie.printed})]));case"expressionstatement":return v.call(q,"expression");case"block":return O([Vl(v,B,q),Ke.printDanglingComments(v,B,!0)]);case"declare":var ke=function(ie){return ln(", ",ie.map(function(be){return O([q(be)])},"directives"))};if(["block","short"].includes(R.mode))return O(["declare(",ke(v),")",R.mode==="block"?" {":":",R.children.length>0?Ie(O([de,Vl(v,B,q)])):"",Ke.printDanglingComments(v,B),de,R.mode==="block"?"}":"enddeclare;"]);var Oe=Tw(v,R);return O(["declare(",ke(v),")",Oe&&Oe.kind==="inline"?"":";"]);case"declaredirective":return O([v.call(q,"key"),"=",v.call(q,"value")]);case"namespace":return O(["namespace ",R.name&&typeof R.name=="string"?O([R.name,R.withBrackets?" ":""]):"",R.withBrackets?"{":";",dr(R)?O([" ",Ke.printDanglingComments(v,B,!0)]):"",R.children.length>0?R.withBrackets?Ie(O([de,Vl(v,B,q)])):O([R.children[0].kind==="inline"?"":O([de,gw(B.originalText,R,B.locStart)?de:""]),Vl(v,B,q)]):"",R.withBrackets?O([de,"}"]):""]);case"usegroup":return ye(O(["use ",R.type?O([R.type," "]):"",Ie(O([R.name?O([Yy(R.name),"\\{",Ue]):"",ln(O([",",ft]),v.map(function(ie){return O([q(ie)])},"items"))])),R.name?O([Es(ou(B,"7.2")?",":""),Ue,"}"]):""]));case"useitem":return O([R.type?O([R.type," "]):"",Yy(R.name),dr(R)?O([" ",Ke.printDanglingComments(v,B,!0)]):"",R.alias?O([" as ",v.call(q,"alias")]):""]);case"class":case"interface":case"trait":return function(ie,be,Be){var le=ie.getValue(),Ct=le.kind==="class"&&le.isAnonymous,Nn=Rs(ie,be,Be,{inline:Ct}),Wt=Ct?[]:oe(Nn);le.isFinal&&Wt.push("final "),le.isAbstract&&Wt.push("abstract "),Wt.push(Ct?"":le.kind),le.name&&Wt.push(" ",ie.call(Be,"name")),le.extends&&le.implements?Wt.push(ua([O([Or(ie,be,Be,"extends"),Or(ie,be,Be,"implements")]),O([Or(ie,be,Be,"extends"),Or(ie,be,Be,"implements"," ",de)]),O([Or(ie,be,Be,"extends",de," "),Or(ie,be,Be,"implements",de,le.implements.length>1?de:" ")])],{shouldBreak:dr(le.extends)})):(le.extends&&Wt.push(ua([Or(ie,be,Be,"extends"),Or(ie,be,Be,"extends"," ",de),Or(ie,be,Be,"extends",de,le.extends.length>1?de:" ")])),le.implements&&Wt.push(ua([Or(ie,be,Be,"implements"),Or(ie,be,Be,"implements"," ",de),Or(ie,be,Be,"implements",de,le.implements.length>1?de:" ")])));var lt=ye(O([ye(O(Wt)),Np(be)?Ct?ft:de:" "])),Ot=le.body&&le.body.length===0&&!dr(le),bn=O(["{",Ie(O([Ot?"":de,sN(ie,be,Be,"body")])),Ke.printDanglingComments(ie,be,!0),Ct&&Ot?Ue:de,"}"]);return O([lt,bn])}(v,B,q);case"traitprecedence":return O([v.call(q,"trait"),"::",v.call(q,"method")," insteadof ",ln(", ",v.map(q,"instead"))]);case"traitalias":return O([R.trait?O([v.call(q,"trait"),"::"]):"",R.method?v.call(q,"method"):""," as ",ln(" ",[].concat(oe(R.visibility?[R.visibility]:[]),oe(R.as?[v.call(q,"as")]:[])))]);case"traituse":return ye(O(["use ",Ie(ye(ln(O([",",ft]),v.map(q,"traits")))),R.adaptations?O([" {",R.adaptations.length>0?O([Ie(O([de,sN(v,B,q,"adaptations")])),de]):dr(R)?O([ft,Ke.printDanglingComments(v,B,!0),ft]):"","}"]):""]));case"function":case"closure":case"method":return function(ie,be,Be){var le=ie.getValue(),Ct=oe(Rs(ie,be,Be,{inline:le.kind==="closure"}));le.isFinal&&Ct.push("final "),le.isAbstract&&Ct.push("abstract "),le.visibility&&Ct.push(le.visibility," "),le.isStatic&&Ct.push("static "),Ct.push("function "),le.byref&&Ct.push("&"),le.name&&Ct.push(ie.call(Be,"name")),Ct.push(Di(ie,be,Be)),le.uses&&le.uses.length>0&&Ct.push(ye(O([" use ",Di(ie,be,Be,"uses")]))),le.type&&Ct.push(O([": ",dr(le.type)?O([ie.call(function(Ot){return Ke.printDanglingComments(Ot,be,!0)},"type")," "]):"",le.nullable?"?":"",ie.call(Be,"type")]));var Nn=O(Ct);if(!le.body)return Nn;var Wt=le.kind==="closure",lt=O(["{",Ie(O([Qy(ie)?"":de,ie.call(Be,"body")])),Wt&&Qy(ie)?"":de,"}"]);return Wt?O([Nn," ",lt]):le.arguments.length===0?O([Nn,Np(be)?de:" ",lt]):Ct.some(Ss)?O([Nn," ",lt]):ua([O([Nn,Np(be)?de:" ",lt]),O([Nn," ",lt])])}(v,B,q);case"arrowfunc":return O([].concat(oe(Rs(v,B,q,{inline:!0})),[R.isStatic?"static ":"","fn",Di(v,B,q),R.type?O([": ",R.nullable?"?":"",v.call(q,"type")]):""," => ",v.call(q,"body")]));case"parameter":var tt="";R.flags===1?tt="public ":R.flags===2?tt="protected ":R.flags===4&&(tt="private ");var _t=O([].concat(oe(Rs(v,B,q,{inline:!0})),[tt,R.nullable?"?":"",R.type?O([v.call(q,"type")," "]):"",R.byref?"&":"",R.variadic?"...":"","$",v.call(q,"name")]));return R.value?ye(O([_t,dr(R)?" ":"",Ke.printDanglingComments(v,B,!0),O([" =",vp(R.name,R.value,v.call(q,"value"),!1,B)])])):_t;case"variadic":return O(["...",v.call(q,"what")]);case"property":return ye(O([R.type?O([R.nullable?"?":"",v.call(q,"type")," "]):"","$",v.call(q,"name"),R.value?O([" =",vp(R.name,R.value,v.call(q,"value"),!1,B)]):""]));case"propertystatement":var xe=[];v.map(function(ie){return xe.push.apply(xe,oe(Rs(ie,B,q)))},"properties");var dt,ze=v.map(function(ie){return q(ie)},"properties"),Gt=R.properties.some(function(ie){return ie.value});ze.length!==1||R.properties[0].comments?ze.length>0&&(dt=Ie(ze[0])):dt=Y(ze,1)[0];var Bt=R.visibility||R.visibility===null;return ye(O([].concat(xe,[Bt?O([R.visibility===null?"var":R.visibility,""]):"",R.isStatic?O([Bt?" ":"","static"]):"",dt?O([" ",dt]):"",Ie(O(ze.slice(1).map(function(ie){return O([",",Gt?de:ft,ie])})))])));case"if":var pt=[],je=es(v,B,q,"body"),At=ye(O(["if (",ye(O([Ie(O([Ue,v.call(q,"test")])),Ue])),")",je]));if(pt.push(At,mp(v)||!R.body?"":de),R.alternate){pt.push(R.shortForm?"":"} ");var zt=$y(R.body)&&R.body.comments.some(function(ie){return ie.trailing&&!Ke.isBlockComment(ie)})||function(ie){if(!ie.comments)return!1;var be=xs(ie.comments.filter(function(Be){return!Be.leading&&!Be.trailing}));return be&&!Ke.isBlockComment(be)}(R),ks=!zt;pt.push(ks?"":de),dr(R)&&pt.push(ho(B.originalText,R.body,B)?de:"",Ke.printDanglingComments(v,B,!0),zt?de:" "),pt.push("else",ye(R.alternate.kind==="if"?v.call(q,"alternate"):es(v,B,q,"alternate")))}else pt.push(R.body?R.shortForm?"endif;":"}":"");return O(pt);case"do":return O(["do",es(v,B,q,"body")," while (",ye(O([Ie(O([Ue,v.call(q,"test")])),Ue])),")"]);case"while":case"switch":return ye(O([R.kind," (",ye(O([Ie(O([Ue,v.call(q,"test")])),Ue])),")",es(v,B,q,"body")]));case"for":var Mn=es(v,B,q,"body"),pr=Ke.printDanglingComments(v,B,!0),mo=pr?O([pr,Ue]):"";return R.init.length||R.test.length||R.increment.length?O([mo,ye(O(["for (",ye(O([Ie(O([Ue,ye(O([ln(O([",",ft]),v.map(q,"init"))])),";",ft,ye(O([ln(O([",",ft]),v.map(q,"test"))])),";",ft,ye(ln(O([",",ft]),v.map(q,"increment")))])),Ue])),")",Mn]))]):O([mo,ye(O(["for (;;)",Mn]))]);case"foreach":var go=es(v,B,q,"body"),wr=Ke.printDanglingComments(v,B,!0),ts=wr?O([wr,Ue]):"";return O([ts,ye(O(["foreach (",ye(O([Ie(O([Ue,v.call(q,"source"),ft,"as ",ye(R.key?Ie(ln(O([" =>",ft]),[v.call(q,"key"),v.call(q,"value")])):v.call(q,"value"))])),Ue])),")",go]))]);case"try":var hr=[];return hr.push("try",es(v,B,q,"body")),R.catches&&hr.push(O(v.map(q,"catches"))),R.always&&hr.push(" finally",es(v,B,q,"always")),O(hr);case"catch":return O([" catch",R.what?O([" (",ln(" | ",v.map(q,"what")),R.variable?O([" ",v.call(q,"variable")]):"",")"]):"",es(v,B,q,"body")]);case"case":return O([R.test?O(["case ",R.test.comments?Ie(v.call(q,"test")):v.call(q,"test"),":"]):"default:",R.body&&R.body.children&&R.body.children.length?Ie(O([mp(v)?"":de,v.call(q,"body")])):""]);case"break":case"continue":return R.level&&R.level.kind==="number"&&R.level.value!=="1"?O(["".concat(R.kind," "),v.call(q,"level")]):R.kind;case"call":return R.arguments.length===1&&lu(R.arguments[0],B.originalText,B)?O([v.call(q,"what"),O(["(",ln(", ",v.map(q,"arguments")),")"])]):er(R.what)?function(ie,be,Be){var le=[];function Ct($e){var wt=be.originalText,cn=yw(wt,$e,be);return wt.charAt(cn)===")"?ow(wt,cn+1,be):ho(wt,$e,be)}function Nn($e){var wt=$e.getValue();if(wt.kind!=="call"||!er(wt.what)&&wt.what.kind!=="call")if(er(wt)){var cn=null;cn=wt.kind==="propertylookup"?bp($e,be,Be):wt.kind==="nullsafepropertylookup"?Jy($e,be,Be):wt.kind==="staticlookup"?Zy($e,be,Be):eN($e,be,Be),le.unshift({node:wt,needsParens:Uy($e),printed:Ke.printAllComments($e,function(){return cn},be)}),$e.call(function(Gl){return Nn(Gl)},"what")}else le.unshift({node:wt,printed:$e.call(Be)});else le.unshift({node:wt,printed:O([Ke.printAllComments($e,function(){return O([Di($e,be,Be)])},be),Ct(wt)?de:""])}),$e.call(function(Gl){return Nn(Gl)},"what")}var Wt=ie.getValue();le.unshift({node:Wt,printed:Di(ie,be,Be)}),ie.call(function($e){return Nn($e)},"what");for(var lt=0;lt<le.length;++lt)le[lt].node.kind==="call"&&le[lt-1]&&["propertylookup","staticlookup"].includes(le[lt-1].node.kind)&&le[lt-1].needsParens&&(le[0].printed=O(["(",le[0].printed]),le[lt-1].printed=O([le[lt-1].printed,")"]));for(var Ot=[],bn=[le[0]],Et=1;Et<le.length&&(le[Et].node.kind==="call"||er(le[Et].node)&&le[Et].node.offset&&le[Et].node.offset.kind==="number");++Et)bn.push(le[Et]);if(le[0].node.kind!=="call")for(;Et+1<le.length&&er(le[Et].node)&&er(le[Et+1].node);++Et)bn.push(le[Et]);Ot.push(bn),bn=[];for(var ga=!1;Et<le.length;++Et){if(ga&&er(le[Et].node)){if(le[Et].node.kind==="offsetlookup"&&le[Et].node.offset&&le[Et].node.offset.kind==="number"){bn.push(le[Et]);continue}Ot.push(bn),bn=[],ga=!1}le[Et].node.kind==="call"&&(ga=!0),bn.push(le[Et]),le[Et].node.comments&&Ke.hasTrailingComment(le[Et].node)&&(Ot.push(bn),bn=[],ga=!1)}bn.length>0&&Ot.push(bn);function kp($e){var wt=$e[1].length&&$e[1][0].node.kind==="offsetlookup";if($e[0].length===1){var cn=$e[0][0].node;return cn.kind==="variable"&&(cn.name==="this"||Op&&Gl(cn.name))||yp(cn)}function Gl(IL){return IL.length<be.tabWidth}var Lp=xs($e[0]).node;return er(Lp)&&(Lp.offset.kind==="identifier"||Lp.offset.kind==="variable")&&wt}var Op=ie.getParentNode().kind==="expressionstatement",vu=Ot.length>=2&&!Ot[1][0].node.comments&&kp(Ot);function Iu($e){for(var wt=[],cn=0;cn<$e.length;cn++)$e[cn+1]&&$e[cn+1].needsParens?(wt.push("(",$e[cn].printed,$e[cn+1].printed,")"),cn++):wt.push($e[cn].printed);return O(wt)}function NL($e){return $e.length===0?"":Ie(ye(O([de,ln(de,$e.map(Iu))])))}var HN=Ot.map(Iu),wp=O(HN),Pu=vu?3:2,YN=Ot.slice(0,Pu).reduce(function($e,wt){return $e.concat(wt)},[]),KN=YN.slice(1,-1).some(function($e){return Ke.hasLeadingComment($e.node)})||YN.slice(0,-1).some(function($e){return Ke.hasTrailingComment($e.node)})||Ot[Pu]&&Ke.hasLeadingComment(Ot[Pu][0].node),bL=_p(ie,"encapsed");if(Ot.length<=Pu&&!KN||bL)return ye(wp);var $N=xs(vu?Ot.slice(1,2)[0]:Ot[0]).node,zN=$N.kind!=="call"&&Ct($N),QN=O([Iu(Ot[0]),vu?O(Ot.slice(1,2).map(Iu)):"",zN?de:"",NL(Ot.slice(vu?2:1))]),vL=le.filter(function($e){return $e.node.kind==="call"}).length;return KN||vL>=3||HN.slice(0,-1).some(Ss)?ye(QN):O([Ss(wp)||zN?jy:"",ua([wp,QN])])}(v,B,q):O([v.call(q,"what"),Di(v,B,q)]);case"new":var To=R.what&&R.what.kind==="class"&&R.what.isAnonymous;if(!To&&R.arguments.length===1&&lu(R.arguments[0],B.originalText,B))return O(["new "].concat(oe(v.call(Rs,"what")),[v.call(q,"what"),"(",ln(", ",v.map(q,"arguments")),")"]));var mr=[];if(mr.push("new "),To)mr.push.apply(mr,[R.what.leadingComments&&R.what.leadingComments[0].kind==="commentblock"?O([Ke.printComments(R.what.leadingComments,B)," "]):""].concat(oe(v.call(function(ie,be,Be){return Rs(ie,be,Be,{inline:!0})},"what")),["class",R.arguments.length>0?O([" ",Di(v,B,q)]):"",ye(v.call(q,"what"))]));else{var Os=O([v.call(q,"what"),Di(v,B,q)]);mr.push(Ky(R.what)?Ie(Os):Os)}return O(mr);case"clone":return O(["clone ",R.what.comments?Ie(v.call(q,"what")):v.call(q,"what")]);case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":var Lr,ns=v.getParentNode(),du=0;do Lr=v.getParentNode(du),du++;while(Lr&&er(Lr));var Bl=_p(v,"encapsed")||Lr&&(Lr.kind==="new"||Lr.kind==="assign"&&Lr.left.kind!=="variable")||R.kind==="offsetlookup"||(yp(R.what)||R.what.kind==="variable")&&["identifier","variable","encapsedpart"].includes(R.offset.kind)&&ns&&!er(ns);return O([v.call(q,"what"),Bl?rN(v,B,q):ye(Ie(O([Ue,rN(v,B,q)])))]);case"exit":return ye(O([R.useDie?"die":"exit","(",R.expression?lu(R.expression,B.originalText,B)?v.call(q,"expression"):O([Ie(O([Ue,v.call(q,"expression")])),Ue]):Ke.printDanglingComments(v,B),")"]));case"global":return ye(O(["global ",Ie(O([ln(O([",",ft]),v.map(q,"items"))]))]));case"include":return O([R.require?"require":"include",R.once?"_once":""," ",R.target.comments?Ie(v.call(q,"target")):v.call(q,"target")]);case"label":return O([v.call(q,"name"),":"]);case"goto":return O(["goto ",v.call(q,"label")]);case"throw":return O(["throw ",R.what.comments?Ie(v.call(q,"what")):v.call(q,"what")]);case"silent":return O(["@",v.call(q,"expr")]);case"halt":return O([dr(R)?O([Ke.printDanglingComments(v,B,!0),de]):"","__halt_compiler();",R.after]);case"eval":return ye(O(["eval(",lu(R.source,B.originalText,B)?v.call(q,"source"):O([Ie(O([Ue,v.call(q,"source")])),Ue]),")"]));case"echo":var ql,ws=v.map(function(ie){return q(ie)},"expressions");return ws.length!==1||R.expressions[0].comments?ws.length>0&&(ql=Tp(R.expressions[0])||R.expressions[0].comments?Ie(ws[0]):rw(ws[0])):ql=Y(ws,1)[0],ye(O([R.shortForm?"":"echo ",ql||"",Ie(O(ws.slice(1).map(function(ie){return O([",",ft,ie])})))]));case"print":return O(["print ",R.expression.comments?Ie(v.call(q,"expression")):v.call(q,"expression")]);case"return":var _o=[];if(_o.push("return"),R.expr){var pu=v.call(q,"expr");_o.push(" ",R.expr.comments?Ie(pu):pu)}return dr(R)&&_o.push(" ",Ke.printDanglingComments(v,B,!0)),O(_o);case"isset":case"unset":return ye(O([R.kind,Di(v,B,q,"variables")]));case"empty":return ye(O(["empty(",Ie(O([Ue,v.call(q,"expression")])),Ue,")"]));case"variable":var rs=v.getParentNode(),yo=v.getParentNode(1),Ap=rs.kind==="assign"?"":R.byref?"&":"",nL=rs.kind==="encapsedpart"&&rs.syntax==="simple"&&rs.curly||yo&&rs.kind==="offsetlookup"&&yo.kind==="encapsedpart"&&yo.syntax==="simple"&&yo.curly?"":"$",rL=R.curly?"{":"",iL=R.curly?"}":"";return O([Ap,nL,rL,v.call(q,"name"),iL]);case"constantstatement":case"classconstant":var hu,sL=Rs(v,B,q),Ul=v.map(function(ie){return q(ie)},"constants");return Ul.length!==1||R.constants[0].comments?Ul.length>0&&(hu=Ie(Ul[0])):hu=Y(Ul,1)[0],ye(O([].concat(oe(sL),[R.visibility?O([R.visibility," "]):"","const",hu?O([" ",hu]):"",Ie(O(Ul.slice(1).map(function(ie){return O([",",de,ie])})))])));case"constant":return au(R.name,v.call(q,"name")," =",R.value,v.call(q,"value"),!1,B);case"static":var mu,jl=v.map(function(ie){return q(ie)},"variables"),oL=R.variables.some(function(ie){return ie.defaultValue});return jl.length!==1||R.variables[0].comments?jl.length>0&&(mu=Ie(jl[0])):mu=Y(jl,1)[0],ye(O(["static",mu?O([" ",mu]):"",Ie(O(jl.slice(1).map(function(ie){return O([",",oL?de:ft,ie])})))]));case"staticvariable":return au(R.variable,v.call(q,"variable")," =",R.defaultValue,v.call(q,"defaultValue"),!1,B);case"list":case"array":var xN=R.kind==="array"&&pa(B.phpVersion,"5.4")||R.kind==="list"&&(R.shortForm||pa(B.phpVersion,"7.1")),Cp=xN?"[":O([R.kind,"("]),Ep=xN?"]":")";if(R.items.length===0)return dr(R)?ye(O([Cp,Ke.printDanglingComments(v,B),Ue,Ep])):O([Cp,Ep]);var gu=xs(R.items),RN=gu&&gu.kind==="noop",Tu=Y(R.items.filter(function(ie){return ie.kind!=="noop"}).sort(function(ie,be){return B.locStart(ie)-B.locStart(be)}),1)[0],aL=!(!Tu||!Tu.key)&&Tu&&Gy(B.originalText,B.locStart(R),B.locStart(Tu));return ye(O([Cp,Ie(O([Ue,vw(v,B,q)])),RN?",":"",Es(!RN&&ou(B,"5.0")?O([gu&&Xy(gu)?de:"",","]):""),Ke.printDanglingComments(v,B,!0),Ue,Ep]),{shouldBreak:aL});case"entry":var kN=R.byRef?"&":"",lL=R.unpack?"...":"";return R.key?au(R.key,v.call(q,"key")," =>",R.value,v.call(q,"value"),kN,B):O([kN,lL,v.call(q,"value")]);case"yield":var ON=O([R.key?O([v.call(q,"key")," => "]):"",v.call(q,"value")]);return O(["yield",R.key||R.value?" ":"",R.value&&R.value.comments?Ie(ON):ON]);case"yieldfrom":return O(["yield from ",R.value.comments?Ie(v.call(q,"value")):v.call(q,"value")]);case"unary":return O([R.type,v.call(q,"what")]);case"pre":return O([R.type+R.type,v.call(q,"what")]);case"post":return O([v.call(q,"what"),R.type+R.type]);case"cast":return O(["(",R.type,") ",R.expr.comments?Ie(v.call(q,"expr")):v.call(q,"expr")]);case"assignref":case"assign":var wN=R.kind==="assignref";return au(R.left,v.call(q,"left"),O([" ",wN?"=":R.operator]),R.right,v.call(q,"right"),wN,B);case"bin":var Dr=v.getParentNode(),LN=v.getParentNode(1),DN=R!==Dr.body&&(Dr.kind==="if"||Dr.kind==="while"||Dr.kind==="switch"||Dr.kind==="do"),ma=function ie(be,Be,le,Ct,Nn){var Wt=[],lt=be.getValue();if(lt.kind==="bin"){Hy(lt.type,lt.left.type)?Wt=Wt.concat(be.call(function(Op){return ie(Op,Be,le,!0,Nn)},"left")):Wt.push(be.call(Be,"left"));var Ot=Fl(lt),bn=O(Ot?[lt.type," ",be.call(Be,"right")]:[lt.type,ft,be.call(Be,"right")]),Et=be.getParentNode(),ga=!(Nn&&["||","&&"].includes(lt.type))&&da(Et)!==da(lt)&&da(lt.left)!==da(lt)&&da(lt.right)!==da(lt),kp=Tp(lt.left)||lt.left.kind==="bin"&&Tp(lt.left.right);Wt.push(kp?"":" ",ga?ye(bn):bn),Ct&&lt.comments&&(Wt=Ke.printAllComments(be,function(){return O(Wt)},le))}else Wt.push(be.call(Be));return Wt}(v,q,B,!1,DN);if(DN)return O(ma);if(Dr.kind==="unary"||er(Dr)&&Dr.kind!=="offsetlookup")return ye(O([Ie(O([Ue,O(ma)])),Ue]));var cL=R!==Dr.body&&Dr.kind==="for"||Dr.kind==="retif"&&LN&&LN.kind!=="return",uL=["assign","property","constant","staticvariable","entry"].includes(Dr.kind),fL=R.left.kind==="bin"&&Hy(R.type,R.left.type);if(cL||Fl(R)&&!fL||!Fl(R)&&uL)return ye(O(ma));var dL=O(ma.slice(1));return ye(O([ma.length>0?ma[0]:"",Ie(dL)]));case"retif":var _u,yu=[],Nu=v.getParentNode(),MN=0;do _u=v.getParentNode(MN),MN++;while(_u&&_u.kind==="retif");var FN=_u||Nu,VN=R.falseExpr.kind==="bin"?Ie(v.call(q,"falseExpr")):v.call(q,"falseExpr"),pL=O([R.trueExpr?ft:" ","?",R.trueExpr?O([" ",R.trueExpr.kind==="bin"?Ie(v.call(q,"trueExpr")):v.call(q,"trueExpr"),ft]):"",":",R.trueExpr?O([" ",VN]):O([nN(R.falseExpr)?" ":ft,VN])]);yu.push(pL);var BN=function(ie){return Nu===FN?ye(ie):ie},qN=v.getParentNode(1),No=Nu.kind==="cast"&&qN?qN:Nu,hL=["propertylookup","staticlookup"].includes(No.kind),Sp=v.call(q,"test");if(!R.trueExpr){var UN=O([Sp,No.kind==="bin"||["print","echo","return","include"].includes(FN.kind)?Ie(O(yu)):O(yu)]);return No.kind==="call"&&No.what===R||No.kind==="unary"||er(No)&&No.kind!=="offsetlookup"?ye(O([Ie(O([Ue,UN])),Ue])):BN(UN)}return BN(O([R.test.kind==="retif"?Ie(Sp):Sp,Ie(O(yu)),hL?Ue:""]));case"boolean":return R.value?"true":"false";case"number":return uw(R.value);case"string":if(v.getParentNode().kind==="encapsedpart"){var jN=v.getParentNode(1),xp=0,mL=pa(B.phpVersion,"7.3"),GN=fa;if(jN.type==="heredoc"){GN=mL?de:fa;var bu=jN.raw.split(/\r?\n/g);(xp=bu[bu.length-1].search(/\S/))===-1&&(xp=bu[bu.length-2].search(/\S/))}return ln(GN,R.raw.split(/\r?\n/g).map(function(ie,be){return be>0||R.loc.start.column===0?ie.substring(xp):ie}))}var WN=mw(R,B)?'"':"'",ti=R.raw;return R.raw[0]==="b"&&(ti=ti.slice(1)),['"',"'"].includes(ti[0])&&(ti=ti.substr(1)),['"',"'"].includes(ti[ti.length-1])&&(ti=ti.substr(0,ti.length-1)),O([R.raw[0]==="b"?"b":"",WN,ln(fa,ti.split(/\r?\n/g)),WN]);case"uniontype":return ye(O(v.map(function(ie,be){return O(be===0?[v.call(q)]:["|",v.call(q)])},"types")));case"encapsedpart":var gL=R.syntax==="simple"&&R.curly||R.syntax==="complex"?O([R.curly?"$":"","{"]):"",TL=R.syntax==="simple"&&R.curly||R.syntax==="complex"?"}":"";return O([gL,v.call(q,"expression"),TL]);case"encapsed":switch(R.type){case"string":case"shell":case"heredoc":var _L=pa(B.phpVersion,"7.3")?de:fa;return O([iN(R),R.type==="heredoc"?_L:"",O(v.map(q,"value")),iN(R,{opening:!1}),R.type==="heredoc"&&zy(v)?de:""]);default:return"Have not implemented kind ".concat(R.type," yet.")}case"inline":return ln(fa,R.raw.replace("___PSEUDO_INLINE_PLACEHOLDER___","").split(/\r?\n/g));case"magic":return R.value;case"nowdoc":var Rp=pa(B.phpVersion,"7.3")?de:fa;return O(["<<<'",R.label,"'",Rp,ln(Rp,R.value.split(/\r?\n/g)),Rp,R.label,zy(v)?de:""]);case"name":return O([R.resolution==="rn"?"namespace\\":"",R.name]);case"literal":return v.call(q,"value");case"parentreference":return"parent";case"selfreference":return"self";case"staticreference":return"static";case"typereference":return R.name;case"nullkeyword":return"null";case"identifier":return v.getParentNode().kind==="method"&&(R.name=_w(R.name)),v.call(q,"name");case"match":var yL=v.map(function(ie,be){var Be=ie.getValue().conds===null?"default":O(ie.map(function(Ct,Nn){return ye(O(Nn>0?[",",ft,q(Ct)]:[q(Ct)]))},"conds")),le=ie.call(q,"body");return O(be>0?[", ",ft,Be," => ",le]:[ft,Be," => ",le])},"arms");return ye(O(["match (",ye(O([Ue,Ie(O([v.call(q,"cond")])),Ue])),") {",Ie(O(yL))," ",Ue,"}"]));case"noop":return R.comments?Ke.printComments(v.getValue().comments,B):"";case"namedargument":return O([R.name,": ",v.call(q,"value")]);case"error":default:return"Have not implemented kind ".concat(R.kind," yet.")}}(o,c,f),E=[],F=Uy(o);return F&&E.unshift("("),E.push(m),F&&E.push(")"),cw(o)&&E.push(";"),fw(o)&&E.push(de),O(E)},Aw=function(o,c){if(["loc","range","raw","comments","leadingComments","trailingComments","parenthesizedExpression","parent","prev","start","end","tokens","errors","extra"].forEach(function(p){delete c[p]}),o.kind==="string"&&delete c.isDoubleQuote,["array","list"].includes(o.kind)&&delete c.shortForm,o.kind==="inline"){if(o.value.includes("___PSEUDO_INLINE_PLACEHOLDER___"))return null;c.value=c.value.replace(/\r\n?|\n/g,"")}if((o.kind==="continue"||o.kind==="break")&&o.level){var f=c.level;f.kind==="number"&&(c.level=f.value==="1"?null:f)}if(o.kind==="block"&&o.children.length===1&&o.children[0].kind==="block")for(;c.children[0].kind==="block";)c.children=c.children[0].children;if(o.kind==="number"&&(c.value=Qe.printNumber(o.value)),["foreach","for","if","while","do"].includes(o.kind)&&(o.body&&o.body.kind!=="block"?c.body={kind:"block",children:[c.body]}:c.body=c.body?c.body:null,o.alternate&&o.alternate.kind!=="block"?c.alternate={kind:"block",children:[c.alternate]}:c.alternate=c.alternate?c.alternate:null),o.kind==="usegroup"&&typeof o.name=="string"&&(c.name=c.name.replace(/^\\/,"")),o.kind==="useitem"&&(c.name=c.name.replace(/^\\/,"")),o.kind==="method"&&o.name.kind==="identifier"&&(c.name.name=Qe.normalizeMagicMethodName(c.name.name)),o.kind==="noop")return null},Ip="PHP",Cw={phpVersion:{since:"0.13.0",category:Ip,type:"choice",default:"7.0",description:"Minimum target PHP version.",choices:[{value:"5.0"},{value:"5.1"},{value:"5.2"},{value:"5.3"},{value:"5.4"},{value:"5.5"},{value:"5.6"},{value:"7.0"},{value:"7.1"},{value:"7.2"},{value:"7.3"},{value:"7.4"},{value:"8.0"}]},trailingCommaPHP:{since:"0.0.0",category:Ip,type:"boolean",default:!0,description:"Print trailing commas wherever possible when multi-line."},braceStyle:{since:"0.10.0",category:Ip,type:"choice",default:"psr-2",description:"Print one space or newline for code blocks (classes and functions).",choices:[{value:"psr-2",description:"Use PSR-2 brace style."},{value:"1tbs",description:"Use 1tbs brace style."}]}},Ew=function(o,c,f,p){if(f!=="length"&&f!=="prototype"&&f!=="arguments"&&f!=="caller"){var m=Object.getOwnPropertyDescriptor(o,f),E=Object.getOwnPropertyDescriptor(c,f);!Sw(m,E)&&p||Object.defineProperty(o,f,E)}},Sw=function(o,c){return o===void 0||o.configurable||o.writable===c.writable&&o.enumerable===c.enumerable&&o.configurable===c.configurable&&(o.writable||o.value===c.value)},xw=function(o,c){var f=Object.getPrototypeOf(c);f!==Object.getPrototypeOf(o)&&Object.setPrototypeOf(o,f)},Rw=function(o,c){return"/* Wrapped ".concat(o,`*/
`).concat(c)},kw=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),Ow=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),ww=function(o,c,f){var p=f===""?"":"with ".concat(f.trim(),"() "),m=Rw.bind(null,p,c.toString());Object.defineProperty(m,"name",Ow),Object.defineProperty(o,"toString",J(J({},kw),{},{value:m}))},Lw=function(o,c){var f,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m=p.ignoreNonConfigurable,E=m!==void 0&&m,F=o.name,v=Te(Reflect.ownKeys(c));try{for(v.s();!(f=v.n()).done;){var B=f.value;Ew(o,c,B,E)}}catch(q){v.e(q)}finally{v.f()}return xw(o,c),ww(o,c,F),o},cu=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function aN(o){return o&&o.default||o}var uu,Dw=function(){var o={};return o.promise=new Promise(function(c,f){o.resolve=c,o.reject=f}),o},lN=function(o,c){return o(c={exports:{}},c.exports),c.exports}(function(o,c){var f=cu&&cu.__awaiter||function(F,v,B,q){return new(B||(B=Promise))(function(R,ke){function Oe(xe){try{_t(q.next(xe))}catch(dt){ke(dt)}}function tt(xe){try{_t(q.throw(xe))}catch(dt){ke(dt)}}function _t(xe){xe.done?R(xe.value):new B(function(dt){dt(xe.value)}).then(Oe,tt)}_t((q=q.apply(F,v||[])).next())})},p=cu&&cu.__importDefault||function(F){return F&&F.__esModule?F:{default:F}};Object.defineProperty(c,"__esModule",{value:!0});var m=p(Dw);function E(F){var v,B,q,R=this,ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"maxAge",Oe=function(){return f(R,void 0,void 0,regeneratorRuntime.mark(function xe(){var dt,ze,Gt,Bt,pt=this;return regeneratorRuntime.wrap(function(je){for(;;)switch(je.prev=je.next){case 0:if(v===void 0){je.next=2;break}return je.abrupt("return");case 2:dt=function(At){return f(pt,void 0,void 0,regeneratorRuntime.mark(function zt(){var ks;return regeneratorRuntime.wrap(function(Mn){for(;;)switch(Mn.prev=Mn.next){case 0:if(q=m.default(),!((ks=At[1][ke]-Date.now())<=0)){Mn.next=6;break}return F.delete(At[0]),q.resolve(),Mn.abrupt("return");case 6:return v=At[0],typeof(B=setTimeout(function(){F.delete(At[0]),q&&q.resolve()},ks)).unref=="function"&&B.unref(),Mn.abrupt("return",q.promise);case 10:case"end":return Mn.stop()}},zt)}))},je.prev=3,ze=Te(F),je.prev=5,ze.s();case 7:if((Gt=ze.n()).done){je.next=13;break}return Bt=Gt.value,je.next=11,dt(Bt);case 11:je.next=7;break;case 13:je.next=18;break;case 15:je.prev=15,je.t0=je.catch(5),ze.e(je.t0);case 18:return je.prev=18,ze.f(),je.finish(18);case 21:je.next=25;break;case 23:je.prev=23,je.t1=je.catch(3);case 25:v=void 0;case 26:case"end":return je.stop()}},xe,null,[[3,23],[5,15,18,21]])}))},tt=function(){v=void 0,B!==void 0&&(clearTimeout(B),B=void 0),q!==void 0&&(q.reject(void 0),q=void 0)},_t=F.set.bind(F);return F.set=function(xe,dt){F.has(xe)&&F.delete(xe);var ze=_t(xe,dt);return v&&v===xe&&tt(),Oe(),ze},Oe(),F}c.default=E,o.exports=E,o.exports.default=E});(uu=lN)&&uu.__esModule&&Object.prototype.hasOwnProperty.call(uu,"default")&&uu.default;var Mw=lN,Pp=new WeakMap,cN=new WeakMap,fu=function(o){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=c.cacheKey,p=c.cache,m=p===void 0?new Map:p,E=c.maxAge;typeof E=="number"&&Mw(m);var F=function(){for(var v=arguments.length,B=new Array(v),q=0;q<v;q++)B[q]=arguments[q];var R=f?f(B):B[0],ke=m.get(R);if(ke)return ke.data;var Oe=o.apply(this,B);return m.set(R,{data:Oe,maxAge:E?Date.now()+E:Number.POSITIVE_INFINITY}),Oe};return Lw(F,o,{ignoreNonConfigurable:!0}),cN.set(F,m),F};fu.decorator=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(c,f,p){var m=c[f];if(typeof m!="function")throw new TypeError("The decorated value must be a function");delete p.value,delete p.writable,p.get=function(){if(!Pp.has(this)){var E=fu(m,o);return Pp.set(this,E),E}return Pp.get(this)}}},fu.clear=function(o){var c=cN.get(o);if(!c)throw new TypeError("Can't clear a function that was not memoized!");if(typeof c.clear!="function")throw new TypeError("The cache Map can't be cleared!");c.clear()};var uN=/@prettier|@format/,fN=fu(function(o){var c=Iy(o),f=Y(c.children,1)[0],p=Y(c.comments.filter(function(m){return m.kind==="commentblock"}),1)[0];if(f&&p&&p.loc.start.line<f.loc.start.line)return p}),Fw=function(o){if(!uN.test(o))return!1;var c=fN(o);if(c){var f=c.value;return uN.test(f)}return!1},Vw=function(o){var c=fN(o);if(c){var f=c.loc,p=f.start.offset,m=f.end.offset,E=o.substring(0,p),F=o.substring(m);return"".concat(E).concat(function(ke,Oe){var tt=ke.split(/\r?\n/g);if(tt.length===1){var _t=Y(/\/*\*\*(.*)\*\//.exec(tt[0]),2)[1];tt=["/**"," * ".concat(_t.trim())," */"]}var xe=tt.findIndex(function(dt){return/@\S/.test(dt)})||1;return tt.splice(xe,0," * @format"),tt.join(function(dt){var ze=dt.indexOf(`
`);return ze>=0&&dt.charAt(ze-1)==="\r"?`\r
`:`
`}(Oe))}(c.value,o)).concat(F)}var v="<?php";if(!o.startsWith(v))return o;var B=v.length,q=o.substring(0,B),R=o.substring(B);return"".concat(q,`
/** 
 * @format 
 */
`).concat(R)},dN="programming",pN="text.html.php",hN="application/x-httpd-php",mN="#4F5D95",gN=[".php",".aw",".ctp",".fcgi",".inc",".php3",".php4",".php5",".phps",".phpt"],TN=[".php",".php_cs",".php_cs.dist","Phakefile"],_N=["php"],yN=["inc"],Bw={name:"PHP",type:dN,tmScope:pN,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:hN,color:mN,extensions:gN,filenames:TN,interpreters:_N,aliases:yN,languageId:272},qw=Object.freeze({__proto__:null,name:"PHP",type:dN,tmScope:pN,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:hN,color:mN,extensions:gN,filenames:TN,interpreters:_N,aliases:yN,languageId:272,default:Bw}),NN="HTML+PHP",bN="markup",vN="text.html.php",IN="HTML",PN=[".phtml"],AN="application/x-httpd-php",Uw={name:NN,type:bN,tmScope:vN,group:IN,extensions:PN,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:AN,languageId:151},jw=Object.freeze({__proto__:null,name:NN,type:bN,tmScope:vN,group:IN,extensions:PN,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:AN,languageId:151,default:Uw}),Gw=aN(qw),Ww=aN(jw),CN=r.default.doc.builders,Hw=CN.join,Yw=CN.hardline,Kw=Fw,$w=Vw;function EN(o,c){var f=c.extend,p=c.override,m={};for(var E in o)m[E==="languageId"?"linguistLanguageId":E]=o[E];if(f)for(var F in f)m[F]=(m[F]||[]).concat(f[F]);for(var v in p)m[v]=p[v];return m}var zw=[EN(Gw,{override:{parsers:["php"],vscodeLanguageIds:["php"]}}),EN(Ww,{override:{parsers:["php"],vscodeLanguageIds:["php"]}})],SN=function(o){return function(c){return c.loc&&c.loc[o]&&c.loc[o].offset}},Qw={php:{parse:Iy,astFormat:"php",locStart:SN("start"),locEnd:SN("end"),hasPragma:Kw}},ha={languages:zw,printers:{php:{print:Pw,insertPragma:$w,massageAstNode:Aw,getCommentChildNodes:Ke.getCommentChildNodes,canAttachComment:Ke.canAttachComment,isBlockComment:Ke.isBlockComment,handleComments:{ownLine:Ke.handleOwnLineComment,endOfLine:Ke.handleEndOfLineComment,remaining:Ke.handleRemainingComment},willPrintOwnComments(o){var c=o.getValue();return c&&c.kind==="noop"},printComment(o){var c=o.getValue();switch(c.kind){case"commentblock":if(!c.value.includes(`
`))return c.value;var f=c.value.split(/\r?\n/g);return f.slice(1,f.length-1).every(function(p){return p.trim()[0]==="*"})?Hw(Yw,f.map(function(p,m){return(m>0?" ":"")+(m<f.length-1?p.trim():p.trimLeft())})):c.value;case"commentline":return c.value.trimRight();default:throw new Error("Not a comment: ".concat(JSON.stringify(c)))}},hasPrettierIgnore(o){var c=function(m){return m.value.includes("prettier-ignore")&&!m.value.includes("prettier-ignore-start")&&!m.value.includes("prettier-ignore-end")},f=o.getParentNode(),p=o.getNode();return p&&p.kind!=="classconstant"&&p.comments&&p.comments.length>0&&p.comments.some(c)||p&&p.kind==="constant"&&f&&f.kind==="classconstant"&&f.comments&&f.comments.length>0&&f.comments.some(c)}}},parsers:Qw,options:Cw,defaultOptions:{tabWidth:4}},Xw=ha.languages,Jw=ha.printers,Zw=ha.parsers,eL=ha.options,tL=ha.defaultOptions;t.default=ha,t.defaultOptions=tL,t.languages=Xw,t.options=eL,t.parsers=Zw,t.printers=Jw,Object.defineProperty(t,"__esModule",{value:!0})})});function nk(t){return["cursorOffset","rangeEnd","rangeStart","locEnd","locStat","printer","originalText","astFormat"].forEach(e=>{delete t[e]}),t}function Wd(t){tk=nk(Object.assign({},t,{htmlWhitespaceSensitivity:"ignore",parser:"html",plugins:t.plugins})),ek=nk(Object.assign({},t,{parser:"php",plugins:[ZR.default]}))}function rk(t){let e=IT.format("<?php "+t,ek).trim();return e=e.substring(5),t.endsWith(";")==!1&&e.endsWith(";")&&(e=e.substring(0,e.length-1)),e.trim()}function ik(t){return IT.format(t,tk)}var IT,uoe,ZR,ek,tk,PT=x(()=>{IT=Ge(require("prettier")),uoe=Ge(sk()),ZR=Ge(JR())});function ok(t){return typeof t=="undefined"||t===null}function wU(t){return typeof t=="object"&&t!==null}function LU(t){return Array.isArray(t)?t:ok(t)?[]:[t]}function DU(t,e){var n,r,i,s;if(e)for(s=Object.keys(e),n=0,r=s.length;n<r;n+=1)i=s[n],t[i]=e[i];return t}function MU(t,e){var n="",r;for(r=0;r<e;r+=1)n+=t;return n}function FU(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}function ak(t,e){var n="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),r+" "+n):r}function Qc(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=ak(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}function AT(t,e,n,r,i){var s="",a="",l=Math.floor(i/2)-1;return r-e>l&&(s=" ... ",e=r-l+s.length),n-r>l&&(a=" ...",n=r+l-a.length),{str:s+t.slice(e,n).replace(/\t/g,"\u2192")+a,pos:r-e+s.length}}function CT(t,e){return pn.repeat(" ",e-t.length)+t}function WU(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],s,a=-1;s=n.exec(t.buffer);)i.push(s.index),r.push(s.index+s[0].length),t.position<=s.index&&a<0&&(a=r.length-2);a<0&&(a=r.length-1);var l="",u,d,h=Math.min(t.line+e.linesAfter,i.length).toString().length,g=e.maxLength-(e.indent+h+3);for(u=1;u<=e.linesBefore&&!(a-u<0);u++)d=AT(t.buffer,r[a-u],i[a-u],t.position-(r[a]-r[a-u]),g),l=pn.repeat(" ",e.indent)+CT((t.line-u+1).toString(),h)+" | "+d.str+`
`+l;for(d=AT(t.buffer,r[a],i[a],t.position,g),l+=pn.repeat(" ",e.indent)+CT((t.line+1).toString(),h)+" | "+d.str+`
`,l+=pn.repeat("-",e.indent+h+3+d.pos)+`^
`,u=1;u<=e.linesAfter&&!(a+u>=i.length);u++)d=AT(t.buffer,r[a+u],i[a+u],t.position-(r[a]-r[a+u]),g),l+=pn.repeat(" ",e.indent)+CT((t.line+u+1).toString(),h)+" | "+d.str+`
`;return l.replace(/\n$/,"")}function $U(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(r){e[String(r)]=n})}),e}function zU(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if(YU.indexOf(n)===-1)throw new ar('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=$U(e.styleAliases||null),KU.indexOf(this.kind)===-1)throw new ar('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}function lk(t,e){var n=[];return t[e].forEach(function(r){var i=n.length;n.forEach(function(s,a){s.tag===r.tag&&s.kind===r.kind&&s.multi===r.multi&&(i=a)}),n[i]=r}),n}function QU(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function r(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(r);return t}function ET(t){return this.extend(t)}function nj(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function rj(){return null}function ij(t){return t===null}function oj(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function aj(t){return t==="true"||t==="True"||t==="TRUE"}function lj(t){return Object.prototype.toString.call(t)==="[object Boolean]"}function uj(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function fj(t){return 48<=t&&t<=55}function dj(t){return 48<=t&&t<=57}function pj(t){if(t===null)return!1;var e=t.length,n=0,r=!1,i;if(!e)return!1;if(i=t[n],(i==="-"||i==="+")&&(i=t[++n]),i==="0"){if(n+1===e)return!0;if(i=t[++n],i==="b"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!uj(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!fj(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<e;n++)if(i=t[n],i!=="_"){if(!dj(t.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}function hj(t){var e=t,n=1,r;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),r=e[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),e=e.slice(1),r=e[0]),e==="0")return 0;if(r==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}function mj(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!pn.isNegativeZero(t)}function _j(t){return!(t===null||!Tj.test(t)||t[t.length-1]==="_")}function yj(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}function bj(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(pn.isNegativeZero(t))return"-0.0";return n=t.toString(10),Nj.test(n)?n.replace("e",".e"):n}function vj(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||pn.isNegativeZero(t))}function Cj(t){return t===null?!1:ck.exec(t)!==null||uk.exec(t)!==null}function Ej(t){var e,n,r,i,s,a,l,u=0,d=null,h,g,N;if(e=ck.exec(t),e===null&&(e=uk.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(n,r,i));if(s=+e[4],a=+e[5],l=+e[6],e[7]){for(u=e[7].slice(0,3);u.length<3;)u+="0";u=+u}return e[9]&&(h=+e[10],g=+(e[11]||0),d=(h*60+g)*6e4,e[9]==="-"&&(d=-d)),N=new Date(Date.UTC(n,r,i,s,a,l,u)),d&&N.setTime(N.getTime()-d),N}function Sj(t){return t.toISOString()}function Rj(t){return t==="<<"||t===null}function Oj(t){if(t===null)return!1;var e,n,r=0,i=t.length,s=ST;for(n=0;n<i;n++)if(e=s.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;r+=6}return r%8===0}function wj(t){var e,n,r=t.replace(/[\r\n=]/g,""),i=r.length,s=ST,a=0,l=[];for(e=0;e<i;e++)e%4===0&&e&&(l.push(a>>16&255),l.push(a>>8&255),l.push(a&255)),a=a<<6|s.indexOf(r.charAt(e));return n=i%4*6,n===0?(l.push(a>>16&255),l.push(a>>8&255),l.push(a&255)):n===18?(l.push(a>>10&255),l.push(a>>2&255)):n===12&&l.push(a>>4&255),new Uint8Array(l)}function Lj(t){var e="",n=0,r,i,s=t.length,a=ST;for(r=0;r<s;r++)r%3===0&&r&&(e+=a[n>>18&63],e+=a[n>>12&63],e+=a[n>>6&63],e+=a[n&63]),n=(n<<8)+t[r];return i=s%3,i===0?(e+=a[n>>18&63],e+=a[n>>12&63],e+=a[n>>6&63],e+=a[n&63]):i===2?(e+=a[n>>10&63],e+=a[n>>4&63],e+=a[n<<2&63],e+=a[64]):i===1&&(e+=a[n>>2&63],e+=a[n<<4&63],e+=a[64],e+=a[64]),e}function Dj(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}function Bj(t){if(t===null)return!0;var e=[],n,r,i,s,a,l=t;for(n=0,r=l.length;n<r;n+=1){if(i=l[n],a=!1,Vj.call(i)!=="[object Object]")return!1;for(s in i)if(Fj.call(i,s))if(!a)a=!0;else return!1;if(!a)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}function qj(t){return t!==null?t:[]}function Gj(t){if(t===null)return!0;var e,n,r,i,s,a=t;for(s=new Array(a.length),e=0,n=a.length;e<n;e+=1){if(r=a[e],jj.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;s[e]=[i[0],r[i[0]]]}return!0}function Wj(t){if(t===null)return[];var e,n,r,i,s,a=t;for(s=new Array(a.length),e=0,n=a.length;e<n;e+=1)r=a[e],i=Object.keys(r),s[e]=[i[0],r[i[0]]];return s}function Kj(t){if(t===null)return!0;var e,n=t;for(e in n)if(Yj.call(n,e)&&n[e]!==null)return!1;return!0}function $j(t){return t!==null?t:{}}function Tk(t){return Object.prototype.toString.call(t)}function $i(t){return t===10||t===13}function Jo(t){return t===9||t===32}function lr(t){return t===9||t===32||t===10||t===13}function El(t){return t===44||t===91||t===93||t===123||t===125}function e2(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function t2(t){return t===120?2:t===117?4:t===85?8:0}function n2(t){return 48<=t&&t<=57?t-48:-1}function _k(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"\x85":t===95?"\xA0":t===76?"\u2028":t===80?"\u2029":""}function r2(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}function i2(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||fk,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function bk(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=HU(n),new ar(e,n)}function Ce(t,e){throw bk(t,e)}function Kd(t,e){t.onWarning&&t.onWarning.call(null,bk(t,e))}function ao(t,e,n,r){var i,s,a,l;if(e<n){if(l=t.input.slice(e,n),r)for(i=0,s=l.length;i<s;i+=1)a=l.charCodeAt(i),a===9||32<=a&&a<=1114111||Ce(t,"expected valid JSON character");else Xj.test(l)&&Ce(t,"the stream contains non-printable characters");t.result+=l}}function Ik(t,e,n,r){var i,s,a,l;for(pn.isObject(n)||Ce(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),a=0,l=i.length;a<l;a+=1)s=i[a],oo.call(e,s)||(e[s]=n[s],r[s]=!0)}function Sl(t,e,n,r,i,s,a,l,u){var d,h;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),d=0,h=i.length;d<h;d+=1)Array.isArray(i[d])&&Ce(t,"nested arrays are not supported inside keys"),typeof i=="object"&&Tk(i[d])==="[object Object]"&&(i[d]="[object Object]");if(typeof i=="object"&&Tk(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(d=0,h=s.length;d<h;d+=1)Ik(t,e,s[d],n);else Ik(t,e,s,n);else!t.json&&!oo.call(n,i)&&oo.call(e,i)&&(t.line=a||t.line,t.lineStart=l||t.lineStart,t.position=u||t.position,Ce(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[i]=s,delete n[i];return e}function RT(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):Ce(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function an(t,e,n){for(var r=0,i=t.input.charCodeAt(t.position);i!==0;){for(;Jo(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if($i(i))for(RT(t),i=t.input.charCodeAt(t.position),r++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return n!==-1&&r!==0&&t.lineIndent<n&&Kd(t,"deficient indentation"),r}function $d(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||lr(n)))}function kT(t,e){e===1?t.result+=" ":e>1&&(t.result+=pn.repeat(`
`,e-1))}function s2(t,e,n){var r,i,s,a,l,u,d,h,g=t.kind,N=t.result,y;if(y=t.input.charCodeAt(t.position),lr(y)||El(y)||y===35||y===38||y===42||y===33||y===124||y===62||y===39||y===34||y===37||y===64||y===96||(y===63||y===45)&&(i=t.input.charCodeAt(t.position+1),lr(i)||n&&El(i)))return!1;for(t.kind="scalar",t.result="",s=a=t.position,l=!1;y!==0;){if(y===58){if(i=t.input.charCodeAt(t.position+1),lr(i)||n&&El(i))break}else if(y===35){if(r=t.input.charCodeAt(t.position-1),lr(r))break}else{if(t.position===t.lineStart&&$d(t)||n&&El(y))break;if($i(y))if(u=t.line,d=t.lineStart,h=t.lineIndent,an(t,!1,-1),t.lineIndent>=e){l=!0,y=t.input.charCodeAt(t.position);continue}else{t.position=a,t.line=u,t.lineStart=d,t.lineIndent=h;break}}l&&(ao(t,s,a,!1),kT(t,t.line-u),s=a=t.position,l=!1),Jo(y)||(a=t.position+1),y=t.input.charCodeAt(++t.position)}return ao(t,s,a,!1),t.result?!0:(t.kind=g,t.result=N,!1)}function o2(t,e){var n,r,i;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(ao(t,r,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)r=t.position,t.position++,i=t.position;else return!0;else $i(n)?(ao(t,r,i,!0),kT(t,an(t,!1,e)),r=i=t.position):t.position===t.lineStart&&$d(t)?Ce(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);Ce(t,"unexpected end of the stream within a single quoted scalar")}function a2(t,e){var n,r,i,s,a,l;if(l=t.input.charCodeAt(t.position),l!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;(l=t.input.charCodeAt(t.position))!==0;){if(l===34)return ao(t,n,t.position,!0),t.position++,!0;if(l===92){if(ao(t,n,t.position,!0),l=t.input.charCodeAt(++t.position),$i(l))an(t,!1,e);else if(l<256&&yk[l])t.result+=Nk[l],t.position++;else if((a=t2(l))>0){for(i=a,s=0;i>0;i--)l=t.input.charCodeAt(++t.position),(a=e2(l))>=0?s=(s<<4)+a:Ce(t,"expected hexadecimal character");t.result+=r2(s),t.position++}else Ce(t,"unknown escape sequence");n=r=t.position}else $i(l)?(ao(t,n,r,!0),kT(t,an(t,!1,e)),n=r=t.position):t.position===t.lineStart&&$d(t)?Ce(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}Ce(t,"unexpected end of the stream within a double quoted scalar")}function l2(t,e){var n=!0,r,i,s,a=t.tag,l,u=t.anchor,d,h,g,N,y,T=Object.create(null),C,D,_,A;if(A=t.input.charCodeAt(t.position),A===91)h=93,y=!1,l=[];else if(A===123)h=125,y=!0,l={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=l),A=t.input.charCodeAt(++t.position);A!==0;){if(an(t,!0,e),A=t.input.charCodeAt(t.position),A===h)return t.position++,t.tag=a,t.anchor=u,t.kind=y?"mapping":"sequence",t.result=l,!0;n?A===44&&Ce(t,"expected the node content, but found ','"):Ce(t,"missed comma between flow collection entries"),D=C=_=null,g=N=!1,A===63&&(d=t.input.charCodeAt(t.position+1),lr(d)&&(g=N=!0,t.position++,an(t,!0,e))),r=t.line,i=t.lineStart,s=t.position,xl(t,e,Hd,!1,!0),D=t.tag,C=t.result,an(t,!0,e),A=t.input.charCodeAt(t.position),(N||t.line===r)&&A===58&&(g=!0,A=t.input.charCodeAt(++t.position),an(t,!0,e),xl(t,e,Hd,!1,!0),_=t.result),y?Sl(t,l,T,D,C,_,r,i,s):g?l.push(Sl(t,null,T,D,C,_,r,i,s)):l.push(C),an(t,!0,e),A=t.input.charCodeAt(t.position),A===44?(n=!0,A=t.input.charCodeAt(++t.position)):n=!1}Ce(t,"unexpected end of the stream within a flow collection")}function c2(t,e){var n,r,i=xT,s=!1,a=!1,l=e,u=0,d=!1,h,g;if(g=t.input.charCodeAt(t.position),g===124)r=!1;else if(g===62)r=!0;else return!1;for(t.kind="scalar",t.result="";g!==0;)if(g=t.input.charCodeAt(++t.position),g===43||g===45)xT===i?i=g===43?hk:Qj:Ce(t,"repeat of a chomping mode identifier");else if((h=n2(g))>=0)h===0?Ce(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?Ce(t,"repeat of an indentation width identifier"):(l=e+h-1,a=!0);else break;if(Jo(g)){do g=t.input.charCodeAt(++t.position);while(Jo(g));if(g===35)do g=t.input.charCodeAt(++t.position);while(!$i(g)&&g!==0)}for(;g!==0;){for(RT(t),t.lineIndent=0,g=t.input.charCodeAt(t.position);(!a||t.lineIndent<l)&&g===32;)t.lineIndent++,g=t.input.charCodeAt(++t.position);if(!a&&t.lineIndent>l&&(l=t.lineIndent),$i(g)){u++;continue}if(t.lineIndent<l){i===hk?t.result+=pn.repeat(`
`,s?1+u:u):i===xT&&s&&(t.result+=`
`);break}for(r?Jo(g)?(d=!0,t.result+=pn.repeat(`
`,s?1+u:u)):d?(d=!1,t.result+=pn.repeat(`
`,u+1)):u===0?s&&(t.result+=" "):t.result+=pn.repeat(`
`,u):t.result+=pn.repeat(`
`,s?1+u:u),s=!0,a=!0,u=0,n=t.position;!$i(g)&&g!==0;)g=t.input.charCodeAt(++t.position);ao(t,n,t.position,!1)}return!0}function Pk(t,e){var n,r=t.tag,i=t.anchor,s=[],a,l=!1,u;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),u=t.input.charCodeAt(t.position);u!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Ce(t,"tab characters must not be used in indentation")),!(u!==45||(a=t.input.charCodeAt(t.position+1),!lr(a))));){if(l=!0,t.position++,an(t,!0,-1)&&t.lineIndent<=e){s.push(null),u=t.input.charCodeAt(t.position);continue}if(n=t.line,xl(t,e,pk,!1,!0),s.push(t.result),an(t,!0,-1),u=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&u!==0)Ce(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return l?(t.tag=r,t.anchor=i,t.kind="sequence",t.result=s,!0):!1}function u2(t,e,n){var r,i,s,a,l,u,d=t.tag,h=t.anchor,g={},N=Object.create(null),y=null,T=null,C=null,D=!1,_=!1,A;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=g),A=t.input.charCodeAt(t.position);A!==0;){if(!D&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Ce(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),s=t.line,(A===63||A===58)&&lr(r))A===63?(D&&(Sl(t,g,N,y,T,null,a,l,u),y=T=C=null),_=!0,D=!0,i=!0):D?(D=!1,i=!0):Ce(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,A=r;else{if(a=t.line,l=t.lineStart,u=t.position,!xl(t,n,dk,!1,!0))break;if(t.line===s){for(A=t.input.charCodeAt(t.position);Jo(A);)A=t.input.charCodeAt(++t.position);if(A===58)A=t.input.charCodeAt(++t.position),lr(A)||Ce(t,"a whitespace character is expected after the key-value separator within a block mapping"),D&&(Sl(t,g,N,y,T,null,a,l,u),y=T=C=null),_=!0,D=!1,i=!1,y=t.tag,T=t.result;else if(_)Ce(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=d,t.anchor=h,!0}else if(_)Ce(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=d,t.anchor=h,!0}if((t.line===s||t.lineIndent>e)&&(D&&(a=t.line,l=t.lineStart,u=t.position),xl(t,e,Yd,!0,i)&&(D?T=t.result:C=t.result),D||(Sl(t,g,N,y,T,C,a,l,u),y=T=C=null),an(t,!0,-1),A=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&A!==0)Ce(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return D&&Sl(t,g,N,y,T,null,a,l,u),_&&(t.tag=d,t.anchor=h,t.kind="mapping",t.result=g),_}function f2(t){var e,n=!1,r=!1,i,s,a;if(a=t.input.charCodeAt(t.position),a!==33)return!1;if(t.tag!==null&&Ce(t,"duplication of a tag property"),a=t.input.charCodeAt(++t.position),a===60?(n=!0,a=t.input.charCodeAt(++t.position)):a===33?(r=!0,i="!!",a=t.input.charCodeAt(++t.position)):i="!",e=t.position,n){do a=t.input.charCodeAt(++t.position);while(a!==0&&a!==62);t.position<t.length?(s=t.input.slice(e,t.position),a=t.input.charCodeAt(++t.position)):Ce(t,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!lr(a);)a===33&&(r?Ce(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),mk.test(i)||Ce(t,"named tag handle cannot contain such characters"),r=!0,e=t.position+1)),a=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),Zj.test(s)&&Ce(t,"tag suffix cannot contain flow indicator characters")}s&&!gk.test(s)&&Ce(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{Ce(t,"tag name is malformed: "+s)}return n?t.tag=s:oo.call(t.tagMap,i)?t.tag=t.tagMap[i]+s:i==="!"?t.tag="!"+s:i==="!!"?t.tag="tag:yaml.org,2002:"+s:Ce(t,'undeclared tag handle "'+i+'"'),!0}function d2(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&Ce(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!lr(n)&&!El(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&Ce(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function p2(t){var e,n,r;if(r=t.input.charCodeAt(t.position),r!==42)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!lr(r)&&!El(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&Ce(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),oo.call(t.anchorMap,n)||Ce(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],an(t,!0,-1),!0}function xl(t,e,n,r,i){var s,a,l,u=1,d=!1,h=!1,g,N,y,T,C,D;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=a=l=Yd===n||pk===n,r&&an(t,!0,-1)&&(d=!0,t.lineIndent>e?u=1:t.lineIndent===e?u=0:t.lineIndent<e&&(u=-1)),u===1)for(;f2(t)||d2(t);)an(t,!0,-1)?(d=!0,l=s,t.lineIndent>e?u=1:t.lineIndent===e?u=0:t.lineIndent<e&&(u=-1)):l=!1;if(l&&(l=d||i),(u===1||Yd===n)&&(Hd===n||dk===n?C=e:C=e+1,D=t.position-t.lineStart,u===1?l&&(Pk(t,D)||u2(t,D,C))||l2(t,C)?h=!0:(a&&c2(t,C)||o2(t,C)||a2(t,C)?h=!0:p2(t)?(h=!0,(t.tag!==null||t.anchor!==null)&&Ce(t,"alias node should not have any properties")):s2(t,C,Hd===n)&&(h=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):u===0&&(h=l&&Pk(t,D))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&Ce(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),g=0,N=t.implicitTypes.length;g<N;g+=1)if(T=t.implicitTypes[g],T.resolve(t.result)){t.result=T.construct(t.result),t.tag=T.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(oo.call(t.typeMap[t.kind||"fallback"],t.tag))T=t.typeMap[t.kind||"fallback"][t.tag];else for(T=null,y=t.typeMap.multi[t.kind||"fallback"],g=0,N=y.length;g<N;g+=1)if(t.tag.slice(0,y[g].tag.length)===y[g].tag){T=y[g];break}T||Ce(t,"unknown tag !<"+t.tag+">"),t.result!==null&&T.kind!==t.kind&&Ce(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+T.kind+'", not "'+t.kind+'"'),T.resolve(t.result,t.tag)?(t.result=T.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):Ce(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||h}function h2(t){var e=t.position,n,r,i,s=!1,a;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(a=t.input.charCodeAt(t.position))!==0&&(an(t,!0,-1),a=t.input.charCodeAt(t.position),!(t.lineIndent>0||a!==37));){for(s=!0,a=t.input.charCodeAt(++t.position),n=t.position;a!==0&&!lr(a);)a=t.input.charCodeAt(++t.position);for(r=t.input.slice(n,t.position),i=[],r.length<1&&Ce(t,"directive name must not be less than one character in length");a!==0;){for(;Jo(a);)a=t.input.charCodeAt(++t.position);if(a===35){do a=t.input.charCodeAt(++t.position);while(a!==0&&!$i(a));break}if($i(a))break;for(n=t.position;a!==0&&!lr(a);)a=t.input.charCodeAt(++t.position);i.push(t.input.slice(n,t.position))}a!==0&&RT(t),oo.call(vk,r)?vk[r](t,r,i):Kd(t,'unknown document directive "'+r+'"')}if(an(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,an(t,!0,-1)):s&&Ce(t,"directives end mark is expected"),xl(t,t.lineIndent-1,Yd,!1,!0),an(t,!0,-1),t.checkLineBreaks&&Jj.test(t.input.slice(e,t.position))&&Kd(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&$d(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,an(t,!0,-1));return}if(t.position<t.length-1)Ce(t,"end of the stream or a document separator is expected");else return}function Ak(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new i2(t,e),r=t.indexOf("\0");for(r!==-1&&(n.position=r,Ce(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)h2(n);return n.documents}function m2(t,e,n){e!==null&&typeof e=="object"&&typeof n=="undefined"&&(n=e,e=null);var r=Ak(t,n);if(typeof e!="function")return r;for(var i=0,s=r.length;i<s;i+=1)e(r[i])}function g2(t,e){var n=Ak(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new ar("expected a single document in the stream, but found more")}}function F2(t,e){var n,r,i,s,a,l,u;if(e===null)return{};for(n={},r=Object.keys(e),i=0,s=r.length;i<s;i+=1)a=r[i],l=String(e[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),u=t.compiledTypeMap.fallback[a],u&&Sk.call(u.styleAliases,l)&&(l=u.styleAliases[l]),n[a]=l;return n}function V2(t){var e,n,r;if(e=t.toString(16).toUpperCase(),t<=255)n="x",r=2;else if(t<=65535)n="u",r=4;else if(t<=4294967295)n="U",r=8;else throw new ar("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+pn.repeat("0",r-e.length)+e}function q2(t){this.schema=t.schema||fk,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=pn.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=F2(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?Jc:B2,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Lk(t,e){for(var n=pn.repeat(" ",e),r=0,i=-1,s="",a,l=t.length;r<l;)i=t.indexOf(`
`,r),i===-1?(a=t.slice(r),r=l):(a=t.slice(r,i+1),r=i+1),a.length&&a!==`
`&&(s+=n),s+=a;return s}function LT(t,e){return`
`+pn.repeat(" ",t.indent*e)}function U2(t,e){var n,r,i;for(n=0,r=t.implicitTypes.length;n<r;n+=1)if(i=t.implicitTypes[n],i.resolve(e))return!0;return!1}function Qd(t){return t===b2||t===y2}function Zc(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==OT||65536<=t&&t<=1114111}function Dk(t){return Zc(t)&&t!==OT&&t!==N2&&t!==Xc}function Mk(t,e,n){var r=Dk(t),i=r&&!Qd(t);return(n?r:r&&t!==xk&&t!==Rk&&t!==kk&&t!==Ok&&t!==wk)&&t!==wT&&!(e===zd&&!i)||Dk(e)&&!Qd(e)&&t===wT||e===zd&&i}function j2(t){return Zc(t)&&t!==OT&&!Qd(t)&&t!==S2&&t!==k2&&t!==zd&&t!==xk&&t!==Rk&&t!==kk&&t!==Ok&&t!==wk&&t!==wT&&t!==A2&&t!==E2&&t!==v2&&t!==L2&&t!==x2&&t!==R2&&t!==C2&&t!==I2&&t!==P2&&t!==O2&&t!==w2}function G2(t){return!Qd(t)&&t!==zd}function eu(t,e){var n=t.charCodeAt(e),r;return n>=55296&&n<=56319&&e+1<t.length&&(r=t.charCodeAt(e+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}function Fk(t){var e=/^\n* /;return e.test(t)}function W2(t,e,n,r,i,s,a,l){var u,d=0,h=null,g=!1,N=!1,y=r!==-1,T=-1,C=j2(eu(t,0))&&G2(eu(t,t.length-1));if(e||a)for(u=0;u<t.length;d>=65536?u+=2:u++){if(d=eu(t,u),!Zc(d))return Rl;C=C&&Mk(d,h,l),h=d}else{for(u=0;u<t.length;d>=65536?u+=2:u++){if(d=eu(t,u),d===Xc)g=!0,y&&(N=N||u-T-1>r&&t[T+1]!==" ",T=u);else if(!Zc(d))return Rl;C=C&&Mk(d,h,l),h=d}N=N||y&&u-T-1>r&&t[T+1]!==" "}return!g&&!N?C&&!a&&!i(t)?Vk:s===Jc?Rl:DT:n>9&&Fk(t)?Rl:a?s===Jc?Rl:DT:N?qk:Bk}function H2(t,e,n,r,i){t.dump=function(){if(e.length===0)return t.quotingType===Jc?'""':"''";if(!t.noCompatMode&&(D2.indexOf(e)!==-1||M2.test(e)))return t.quotingType===Jc?'"'+e+'"':"'"+e+"'";var s=t.indent*Math.max(1,n),a=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-s),l=r||t.flowLevel>-1&&n>=t.flowLevel;function u(d){return U2(t,d)}switch(W2(e,l,t.indent,a,u,t.quotingType,t.forceQuotes&&!r,i)){case Vk:return e;case DT:return"'"+e.replace(/'/g,"''")+"'";case Bk:return"|"+Uk(e,t.indent)+jk(Lk(e,s));case qk:return">"+Uk(e,t.indent)+jk(Lk(Y2(e,a),s));case Rl:return'"'+K2(e)+'"';default:throw new ar("impossible error: invalid scalar style")}}()}function Uk(t,e){var n=Fk(t)?String(e):"",r=t[t.length-1]===`
`,i=r&&(t[t.length-2]===`
`||t===`
`),s=i?"+":r?"":"-";return n+s+`
`}function jk(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function Y2(t,e){for(var n=/(\n+)([^\n]*)/g,r=function(){var d=t.indexOf(`
`);return d=d!==-1?d:t.length,n.lastIndex=d,Gk(t.slice(0,d),e)}(),i=t[0]===`
`||t[0]===" ",s,a;a=n.exec(t);){var l=a[1],u=a[2];s=u[0]===" ",r+=l+(!i&&!s&&u!==""?`
`:"")+Gk(u,e),i=s}return r}function Gk(t,e){if(t===""||t[0]===" ")return t;for(var n=/ [^ ]/g,r,i=0,s,a=0,l=0,u="";r=n.exec(t);)l=r.index,l-i>e&&(s=a>i?a:l,u+=`
`+t.slice(i,s),i=s+1),a=l;return u+=`
`,t.length-i>e&&a>i?u+=t.slice(i,a)+`
`+t.slice(a+1):u+=t.slice(i),u.slice(1)}function K2(t){for(var e="",n=0,r,i=0;i<t.length;n>=65536?i+=2:i++)n=eu(t,i),r=wn[n],!r&&Zc(n)?(e+=t[i],n>=65536&&(e+=t[i+1])):e+=r||V2(n);return e}function $2(t,e,n){var r="",i=t.tag,s,a,l;for(s=0,a=n.length;s<a;s+=1)l=n[s],t.replacer&&(l=t.replacer.call(n,String(s),l)),(vs(t,e,l,!1,!1)||typeof l=="undefined"&&vs(t,e,null,!1,!1))&&(r!==""&&(r+=","+(t.condenseFlow?"":" ")),r+=t.dump);t.tag=i,t.dump="["+r+"]"}function Wk(t,e,n,r){var i="",s=t.tag,a,l,u;for(a=0,l=n.length;a<l;a+=1)u=n[a],t.replacer&&(u=t.replacer.call(n,String(a),u)),(vs(t,e+1,u,!0,!0,!1,!0)||typeof u=="undefined"&&vs(t,e+1,null,!0,!0,!1,!0))&&((!r||i!=="")&&(i+=LT(t,e)),t.dump&&Xc===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=s,t.dump=i||"[]"}function z2(t,e,n){var r="",i=t.tag,s=Object.keys(n),a,l,u,d,h;for(a=0,l=s.length;a<l;a+=1)h="",r!==""&&(h+=", "),t.condenseFlow&&(h+='"'),u=s[a],d=n[u],t.replacer&&(d=t.replacer.call(n,u,d)),!!vs(t,e,u,!1,!1)&&(t.dump.length>1024&&(h+="? "),h+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),!!vs(t,e,d,!1,!1)&&(h+=t.dump,r+=h));t.tag=i,t.dump="{"+r+"}"}function Q2(t,e,n,r){var i="",s=t.tag,a=Object.keys(n),l,u,d,h,g,N;if(t.sortKeys===!0)a.sort();else if(typeof t.sortKeys=="function")a.sort(t.sortKeys);else if(t.sortKeys)throw new ar("sortKeys must be a boolean or a function");for(l=0,u=a.length;l<u;l+=1)N="",(!r||i!=="")&&(N+=LT(t,e)),d=a[l],h=n[d],t.replacer&&(h=t.replacer.call(n,d,h)),!!vs(t,e+1,d,!0,!0,!0)&&(g=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,g&&(t.dump&&Xc===t.dump.charCodeAt(0)?N+="?":N+="? "),N+=t.dump,g&&(N+=LT(t,e)),!!vs(t,e+1,h,!0,g)&&(t.dump&&Xc===t.dump.charCodeAt(0)?N+=":":N+=": ",N+=t.dump,i+=N));t.tag=s,t.dump=i||"{}"}function Hk(t,e,n){var r,i,s,a,l,u;for(i=n?t.explicitTypes:t.implicitTypes,s=0,a=i.length;s<a;s+=1)if(l=i[s],(l.instanceOf||l.predicate)&&(!l.instanceOf||typeof e=="object"&&e instanceof l.instanceOf)&&(!l.predicate||l.predicate(e))){if(n?l.multi&&l.representName?t.tag=l.representName(e):t.tag=l.tag:t.tag="?",l.represent){if(u=t.styleMap[l.tag]||l.defaultStyle,Ek.call(l.represent)==="[object Function]")r=l.represent(e,u);else if(Sk.call(l.represent,u))r=l.represent[u](e,u);else throw new ar("!<"+l.tag+'> tag resolver accepts not "'+u+'" style');t.dump=r}return!0}return!1}function vs(t,e,n,r,i,s,a){t.tag=null,t.dump=n,Hk(t,n,!1)||Hk(t,n,!0);var l=Ek.call(t.dump),u=r,d;r&&(r=t.flowLevel<0||t.flowLevel>e);var h=l==="[object Object]"||l==="[object Array]",g,N;if(h&&(g=t.duplicates.indexOf(n),N=g!==-1),(t.tag!==null&&t.tag!=="?"||N||t.indent!==2&&e>0)&&(i=!1),N&&t.usedDuplicates[g])t.dump="*ref_"+g;else{if(h&&N&&!t.usedDuplicates[g]&&(t.usedDuplicates[g]=!0),l==="[object Object]")r&&Object.keys(t.dump).length!==0?(Q2(t,e,t.dump,i),N&&(t.dump="&ref_"+g+t.dump)):(z2(t,e,t.dump),N&&(t.dump="&ref_"+g+" "+t.dump));else if(l==="[object Array]")r&&t.dump.length!==0?(t.noArrayIndent&&!a&&e>0?Wk(t,e-1,t.dump,i):Wk(t,e,t.dump,i),N&&(t.dump="&ref_"+g+t.dump)):($2(t,e,t.dump),N&&(t.dump="&ref_"+g+" "+t.dump));else if(l==="[object String]")t.tag!=="?"&&H2(t,t.dump,e,s,u);else{if(l==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new ar("unacceptable kind of an object to dump "+l)}t.tag!==null&&t.tag!=="?"&&(d=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?d="!"+d:d.slice(0,18)==="tag:yaml.org,2002:"?d="!!"+d.slice(18):d="!<"+d+">",t.dump=d+" "+t.dump)}return!0}function X2(t,e){var n=[],r=[],i,s;for(MT(t,n,r),i=0,s=r.length;i<s;i+=1)e.duplicates.push(n[r[i]]);e.usedDuplicates=new Array(s)}function MT(t,e,n){var r,i,s;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)n.indexOf(i)===-1&&n.push(i);else if(e.push(t),Array.isArray(t))for(i=0,s=t.length;i<s;i+=1)MT(t[i],e,n);else for(r=Object.keys(t),i=0,s=r.length;i<s;i+=1)MT(t[r[i]],e,n)}function J2(t,e){e=e||{};var n=new q2(e);n.noRefs||X2(t,n);var r=t;return n.replacer&&(r=n.replacer.call({"":r},"",r)),vs(n,0,r,!0,!0)?n.dump+`
`:""}function FT(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var VU,BU,qU,UU,jU,GU,pn,ar,HU,YU,KU,On,XU,JU,ZU,ej,tj,sj,cj,gj,Tj,Nj,Ij,Pj,Aj,ck,uk,xj,kj,ST,Mj,Fj,Vj,Uj,jj,Hj,Yj,zj,fk,oo,Hd,dk,pk,Yd,xT,Qj,hk,Xj,Jj,Zj,mk,gk,yk,Nk,Zo,vk,T2,_2,Ck,Ek,Sk,OT,y2,Xc,N2,b2,v2,I2,wT,P2,A2,C2,E2,xk,S2,zd,x2,R2,k2,O2,Rk,kk,w2,Ok,L2,wk,wn,D2,M2,B2,Jc,Vk,DT,Bk,qk,Rl,Z2,eG,Yk,doe,Kk,poe,hoe,moe,$k=x(()=>{VU=ok,BU=wU,qU=LU,UU=MU,jU=FU,GU=DU,pn={isNothing:VU,isObject:BU,toArray:qU,repeat:UU,isNegativeZero:jU,extend:GU};Qc.prototype=Object.create(Error.prototype);Qc.prototype.constructor=Qc;Qc.prototype.toString=function(e){return this.name+": "+ak(this,e)};ar=Qc;HU=WU,YU=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],KU=["scalar","sequence","mapping"];On=zU;ET.prototype.extend=function(e){var n=[],r=[];if(e instanceof On)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new ar("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(s){if(!(s instanceof On))throw new ar("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new ar("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new ar("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(s){if(!(s instanceof On))throw new ar("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(ET.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=lk(i,"implicit"),i.compiledExplicit=lk(i,"explicit"),i.compiledTypeMap=QU(i.compiledImplicit,i.compiledExplicit),i};XU=ET,JU=new On("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),ZU=new On("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),ej=new On("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),tj=new XU({explicit:[JU,ZU,ej]});sj=new On("tag:yaml.org,2002:null",{kind:"scalar",resolve:nj,construct:rj,predicate:ij,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});cj=new On("tag:yaml.org,2002:bool",{kind:"scalar",resolve:oj,construct:aj,predicate:lj,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});gj=new On("tag:yaml.org,2002:int",{kind:"scalar",resolve:pj,construct:hj,predicate:mj,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Tj=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");Nj=/^[-+]?[0-9]+e/;Ij=new On("tag:yaml.org,2002:float",{kind:"scalar",resolve:_j,construct:yj,predicate:vj,represent:bj,defaultStyle:"lowercase"}),Pj=tj.extend({implicit:[sj,cj,gj,Ij]}),Aj=Pj,ck=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),uk=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");xj=new On("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Cj,construct:Ej,instanceOf:Date,represent:Sj});kj=new On("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Rj}),ST=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;Mj=new On("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Oj,construct:wj,predicate:Dj,represent:Lj}),Fj=Object.prototype.hasOwnProperty,Vj=Object.prototype.toString;Uj=new On("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Bj,construct:qj}),jj=Object.prototype.toString;Hj=new On("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Gj,construct:Wj}),Yj=Object.prototype.hasOwnProperty;zj=new On("tag:yaml.org,2002:set",{kind:"mapping",resolve:Kj,construct:$j}),fk=Aj.extend({implicit:[xj,kj],explicit:[Mj,Uj,Hj,zj]}),oo=Object.prototype.hasOwnProperty,Hd=1,dk=2,pk=3,Yd=4,xT=1,Qj=2,hk=3,Xj=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Jj=/[\x85\u2028\u2029]/,Zj=/[,\[\]\{\}]/,mk=/^(?:!|!!|![a-z\-]+!)$/i,gk=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;yk=new Array(256),Nk=new Array(256);for(Zo=0;Zo<256;Zo++)yk[Zo]=_k(Zo)?1:0,Nk[Zo]=_k(Zo);vk={YAML:function(e,n,r){var i,s,a;e.version!==null&&Ce(e,"duplication of %YAML directive"),r.length!==1&&Ce(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&Ce(e,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),a=parseInt(i[2],10),s!==1&&Ce(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=a<2,a!==1&&a!==2&&Kd(e,"unsupported YAML version of the document")},TAG:function(e,n,r){var i,s;r.length!==2&&Ce(e,"TAG directive accepts exactly two arguments"),i=r[0],s=r[1],mk.test(i)||Ce(e,"ill-formed tag handle (first argument) of the TAG directive"),oo.call(e.tagMap,i)&&Ce(e,'there is a previously declared suffix for "'+i+'" tag handle'),gk.test(s)||Ce(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{Ce(e,"tag prefix is malformed: "+s)}e.tagMap[i]=s}};T2=m2,_2=g2,Ck={loadAll:T2,load:_2},Ek=Object.prototype.toString,Sk=Object.prototype.hasOwnProperty,OT=65279,y2=9,Xc=10,N2=13,b2=32,v2=33,I2=34,wT=35,P2=37,A2=38,C2=39,E2=42,xk=44,S2=45,zd=58,x2=61,R2=62,k2=63,O2=64,Rk=91,kk=93,w2=96,Ok=123,L2=124,wk=125,wn={};wn[0]="\\0";wn[7]="\\a";wn[8]="\\b";wn[9]="\\t";wn[10]="\\n";wn[11]="\\v";wn[12]="\\f";wn[13]="\\r";wn[27]="\\e";wn[34]='\\"';wn[92]="\\\\";wn[133]="\\N";wn[160]="\\_";wn[8232]="\\L";wn[8233]="\\P";D2=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],M2=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;B2=1,Jc=2;Vk=1,DT=2,Bk=3,qk=4,Rl=5;Z2=J2,eG={dump:Z2};Yk=Ck.load,doe=Ck.loadAll,Kk=eG.dump,poe=FT("safeLoad","load"),hoe=FT("safeLoadAll","loadAll"),moe=FT("safeDump","dump")});var VT,zk=x(()=>{$k();VT=class{static formatFrontMatter(e){try{let n=Yk(e,{}),r=Kk(n,{indent:2,noArrayIndent:!1,condenseFlow:!1,forceQuotes:!0,noRefs:!0,skipInvalid:!0});return r.endsWith(`
`)&&(r=r.trimEnd()),r}catch{return e}}}});var BT,Qk=x(()=>{BT=class{static printError(e,n){var l,u;let r=`[${e.errorCode}] ${e.message}

`,i=(u=(l=e.node)==null?void 0:l.startPosition)==null?void 0:u.line,s=i;n.forEach((d,h)=>{s=h});let a=s.toString().length;return n.forEach((d,h)=>{let g=h.toString(),N="",y=0;y=a-g.length,i==h?N=" >"+"0".repeat(y)+g+"| ":N="  "+"0".repeat(y)+g+"| ",r+=N+d+`
`}),r}}});var qT,Xk=x(()=>{QR();PT();zk();Qk();qT=class extends vT{constructor(e){super();this.createExtraVirtualStructures=!0,Wd(e),this.withHtmlFormatter(ik).withYamlFormatter(VT.formatFrontMatter).withTransformOptions({endNewline:!0,maxAntlersStatementsPerLine:3,newlinesAfterFrontMatter:1,tabSize:e.tabWidth}).withPhpFormatter(rk).withPreFormatter(n=>{var r,i,s;if(n.errors.hasStructureErrors()){let a=n.errors.getFirstStructureError(),l=n.getLinesAround((s=(i=(r=a.node)==null?void 0:r.startPosition)==null?void 0:i.line)!=null?s:1);throw new SyntaxError(BT.printError(a,l))}return null})}}});var sk=_e((Coe,Zk)=>{Fo();Xk();PT();var Jk,nG={languages:[{name:"Antlers",parsers:["antlers"],extensions:[".antlers.html",".antlers.php"],vscodeLanguageIds:["html","antlers"]}],parsers:{antlers:{parse:function(t,e,n){return Jk=n,Wd(n),new _n().loadString(t)},locStart:()=>0,locEnd:()=>0,astFormat:"antlers"}},printers:{antlers:{print(t){let e=t.stack[0];return new qT(Jk).formatDocument(e)}}},defaultOptions:{tabWidth:4}};Zk.exports=nG});module.exports=sk();
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
