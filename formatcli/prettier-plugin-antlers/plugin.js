var VL=Object.create;var jp=Object.defineProperty;var BL=Object.getOwnPropertyDescriptor;var qL=Object.getOwnPropertyNames;var UL=Object.getPrototypeOf,jL=Object.prototype.hasOwnProperty;var GL=t=>jp(t,"__esModule",{value:!0});var E=(t,e)=>()=>(t&&(e=t(t=0)),e);var _e=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var WL=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of qL(e))!jL.call(t,i)&&(n||i!=="default")&&jp(t,i,{get:()=>e[i],enumerable:!(r=BL(e,i))||r.enumerable});return t},Ge=(t,e)=>WL(GL(jp(t!=null?VL(UL(t)):{},"default",!e&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var _a,Fr,Yl=E(()=>{_a=class{constructor(){this.currentStructure=null;this.isReloading=!1;this.isDirtyState=!0}setActiveProject(e){this.currentStructure=e}getStructure(){return this.currentStructure}hasStructure(){return this.currentStructure!=null}setDirtyState(e){this.isDirtyState=e}reloadDetails(){this.isReloading||this.isDirtyState!=!1&&this.currentStructure!=null&&(this.isReloading=!0,this.currentStructure=this.currentStructure.reloadDetails(),this.isReloading=!1,this.isDirtyState=!1)}};_a.instance=null;(typeof _a.instance=="undefined"||_a.instance==null)&&(_a.instance=new _a);Fr=_a});var wi,Su=E(()=>{wi=class{static registerDetails(e,n){this.documentDetails.set(e,n)}static hasDetails(e){return this.documentDetails.has(e)}};wi.documentDetails=new Map});function Kl(t,e){if(e==null||e.isComment==!1)return HL;let n=e.content.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`).map(T=>T.trim()),r=[],i=new Map,s="",o="",l=[],u=[],d="",h=null,m=!1,y=!0;for(let T=0;T<n.length;T++){let x=n[T];if(x.startsWith(fN))l=l.concat(x.slice(fN.length).split(",").map(D=>D.trim())),m=!1;else if(x.startsWith(dN))l=l.concat(x.slice(dN.length).split(",").map(D=>D.trim())),m=!1;else if(x.startsWith(pN))u=u.concat(x.slice(pN.length).split(",").map(D=>D.trim())),m=!1;else if(x.startsWith(lN))s=x.slice(lN.length).trim(),m=!1;else if(x.startsWith(cN))o=x.slice(cN.length).trim(),m=!0;else if(x.startsWith(uN))o=x.slice(uN.length).trim(),m=!0;else if(x.startsWith(hN))d=x.slice(hN.length).trim(),m=!1;else if(x.startsWith(mN))d="@page "+x.slice(mN.length).trim(),m=!1;else if(x.startsWith(gN)){let D=gN.length,_=!1;x.startsWith(TN)&&(D=TN.length,_=!0);let v=x.slice(D).trim().split(" ");if(v.length>0)if(v[0]==YL&&v.length>=4){v.shift();let S=v.shift(),w=v.shift(),J=v.join(" ");r.push({acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:J,expectsTypes:["*"],isDynamic:!0,isRequired:_,name:w}),i.set(w,S)}else{let S=v.shift(),w=v.join(" ");r.push({acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:w,expectsTypes:["*"],isDynamic:!0,isRequired:_,name:S})}}else x.startsWith(_N)?x.slice(_N.length).trim().toLowerCase()=="true"?y=!0:y=!1:m&&(o+=`
`+x.trim())}if(d.length>0){let T=d.split(" ");if(T.length==2){let x=T[0],D=T[1];if(D.includes(".")){let _=D.split(".");if(_.length==2){let P=_[0],v=_[1];h={variableName:x,collectionName:P,fieldHandle:v,setHandle:""}}else if(_.length==3){let P=_[0],v=_[1],S=_[2];h={variableName:x,collectionName:P,fieldHandle:v,setHandle:S}}}else h={variableName:x,setHandle:"",collectionName:"",fieldHandle:D}}}if(t.trim().length>0&&Fr.instance!=null&&Fr.instance.hasStructure()){let T=Fr.instance.getStructure().findView(t);T!=null&&(T.injectsParameters=r,T.varReferenceNames=i)}let b={documentName:s,documentDescription:o,collectionInjections:l,blueprints:u,variableHelper:h,injectsParameters:r,varReferenceNames:i,formatterEnabled:y};return t.trim().length>0&&e.startPosition!=null&&(e.startPosition.line<=1||e.index<=1)&&wi.registerDetails(t,b),b}var HL,lN,cN,uN,fN,dN,pN,hN,mN,gN,TN,YL,_N,Gp=E(()=>{Yl();Su();HL={documentDescription:"",documentName:"",collectionInjections:[],blueprints:[],variableHelper:null,injectsParameters:[],varReferenceNames:new Map,formatterEnabled:!0},lN="@name",cN="@description",uN="@desc",fN="@entry",dN="@collection",pN="@blueprint",hN="@var",mN="@set",gN="@param",TN="@param*",YL="@front",_N="@format"});function xu(t){return KL.includes(t)?"string":$L.includes(t)?"array":zL.includes(t)?"number":QL.includes(t)?"boolean":t}var KL,$L,zL,QL,Wp=E(()=>{KL=["markdown","text","textarea","slug","button_group","code","color","date","form","link","structures","select","taxonomies","terms","template","time","video","users","user_groups","user_roles"],$L=["array","assets","bard","blueprints","collections","entries","list","grid","replicator","structures_multiple","sites","select_multiple","form_multiple","table","tags","terms_multiple","taxonomies_multiple","users_multiple","checkboxes","select_multiple","yaml","user_groups_multiple","user_roles_multiple"],zL=["integer","range"],QL=["toggle"]});var ya,yN,bN=E(()=>{ya=class{constructor(){this.partialReferences=new Map;this.cacheReferences=new Map;this.removesPageScope=new Map}clearAllReferences(e){this.clearPartialReferences(e),this.clearCacheReferences(e)}registerPartialReferences(e,n){this.partialReferences.has(e)==!1&&this.partialReferences.set(e,[]),this.partialReferences.set(e,n)}registerCacheReferences(e,n){this.cacheReferences.has(e)==!1&&this.cacheReferences.set(e,[]),this.cacheReferences.set(e,n)}clearPartialReferences(e){this.partialReferences.has(e)&&this.partialReferences.set(e,[])}clearRemovesPageScope(e){this.removesPageScope.has(e)&&this.removesPageScope.delete(e)}pageScopeDisabled(e){return this.removesPageScope.has(e)}clearCacheReferences(e){this.cacheReferences.has(e)&&this.cacheReferences.set(e,[])}setRemovesPageScope(e,n){this.removesPageScope.set(e,n)}getPartialReferences(e){return this.partialReferences.has(e)==!1?[]:this.partialReferences.get(e)}getCacheReferencnes(e){return this.cacheReferences.has(e)==!1?[]:this.cacheReferences.get(e)}hasPartialReferences(e){return this.partialReferences.has(e)}hasCacheReferences(e){return this.cacheReferences.has(e)}};ya.instance=null;(typeof ya.instance=="undefined"||ya.instance==null)&&(ya.instance=new ya);yN=ya});var tr,$l=E(()=>{tr=class{constructor(){this.index=-1;this.offset=0;this.line=0;this.char=0}shiftRight(e){let n=new tr;return n.offset=this.offset+e,n.index=this.index+e,n.line=this.line,n.char=this.char+e,n}isBefore(e){return e==null?!1:e.line>this.line||e.line==this.line&&this.offset<e.offset}isWithin(e,n,r=0){return e==null||n==null?!1:this.index>=e.index&&this.index<=n.index+r}isWithinRange(e){return e==null?!1:e.start!=null&&e.end!=null?this.isWithin(e.start,e.end):!1}}});var Hp,zl,NN=E(()=>{Hp=class{constructor(){this.start=null;this.end=null}},zl=Hp;zl.Empty=new Hp});function vN(t,e){let n=e.copy(),r=e.copy();return r.addVariable({sourceName:"*internal.group_by",sourceField:null,dataType:"string",name:"group",introducedBy:t}),r.addVariable({sourceName:"*internal.group_by",sourceField:null,dataType:"string",name:"key",introducedBy:t}),r.addScopeList("items",n),e.addScopeList("groups",r),e}var IN=E(()=>{});function CN(t,e){let n=e.copy();return e.addScopeList("items",n),e}var PN=E(()=>{});var AN,SN=E(()=>{IN();PN();AN=[{name:"key_by",acceptsType:["array"],returnsType:["array"],description:"Re-keys the array or collection using the provided field name.",docLink:null,parameters:[{name:"field",description:"The field to re-key the array or collection by."}],canBeParameter:!0,isDeprecated:!1},{name:"as",acceptsType:["array"],returnsType:["array"],description:"Alias the array variable with a key.",docLink:"https://statamic.dev/modifiers/as",parameters:[{name:"alias",description:"The alias name."}],canBeParameter:!0,isDeprecated:!1},{name:"ampersand_list",acceptsType:["array"],returnsType:["string"],description:"Converts the array into a comma delimited string, with an ampersand before the last item.",docLink:"https://statamic.dev/modifiers/ampersand_list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"collapse",acceptsType:["array"],returnsType:["array"],description:"Collapses an array of arrays into a single, flat, array.",docLink:"https://statamic.dev/modifiers/collapse",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"contains",acceptsType:["array","string"],returnsType:["boolean"],description:"Tests if the value contains another value.",docLink:"https://statamic.dev/modifiers/contains",parameters:[{name:"needle",description:"The value to check for."}],canBeParameter:!1,isDeprecated:!1},{name:"count",acceptsType:["array"],returnsType:["number"],description:"Returns the number of items in the array.",docLink:"https://statamic.dev/modifiers/count",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"dl",acceptsType:["array"],returnsType:["string"],description:"Turns an associative array into an HTML definition list.",docLink:"https://statamic.dev/modifiers/dl",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"explode",acceptsType:["string"],returnsType:["array"],description:"Breaks a string into an array on a given delimiter.",docLink:"https://statamic.dev/modifiers/explode",parameters:[{name:"delimiter",description:"The delimiter to break the string apart on."}],canBeParameter:!0,isDeprecated:!1},{name:"flatten",acceptsType:["array"],returnsType:["array"],description:"Flattens a multi-dimensional array.",docLink:"https://statamic.dev/modifiers/flatten",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"flip",acceptsType:["array"],returnsType:["array"],description:"Swaps the array keys with their values.",docLink:"https://statamic.dev/modifiers/flip",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"group_by",acceptsType:["array"],returnsType:["array"],description:"Groups the array items by the given key.",docLink:"https://statamic.dev/modifiers/group_by",parameters:[{name:"key",description:"The key to group by."}],canBeParameter:!0,augmentScope:vN,isDeprecated:!1},{name:"in_array",acceptsType:["array"],returnsType:["boolean"],description:"Tests if an array contains a specific value.",docLink:"https://statamic.dev/modifiers/in_array",parameters:[{name:"needle",description:"The value to check for."}],canBeParameter:!1,isDeprecated:!1},{name:"is_empty",acceptsType:["array"],returnsType:["boolean"],description:"Tests if the array is empty.",docLink:"https://statamic.dev/modifiers/is_empty",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"join",acceptsType:["array"],returnsType:["string"],description:"Turn an array into a string by gluing together all the data.",docLink:"https://statamic.dev/modifiers/join",parameters:[{name:"glue",description:"The string to combine the parts by."}],canBeParameter:!0,isDeprecated:!1},{name:"joinplode",acceptsType:["array"],returnsType:["string"],description:"Turn an array into a string by gluing together all the data.",docLink:null,parameters:[{name:"glue",description:"The string to combine the parts by."}],canBeParameter:!0,isDeprecated:!1},{name:"limit",acceptsType:["array"],returnsType:["array"],description:"Limits the number of items returned in the array",docLink:"https://statamic.dev/modifiers/limit",parameters:[{name:"count",description:"The maximum number of items to return."}],canBeParameter:!0,isDeprecated:!1},{name:"list",acceptsType:["array"],returnsType:["string"],description:"Converts the array into a comma-separated string.",docLink:"https://statamic.dev/modifiers/list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"offset",acceptsType:["array"],returnsType:["array"],description:"Offsets the items returned in the array.",docLink:"https://statamic.dev/modifiers/offset",parameters:[{name:"offset",description:"The one-based index to start retrieving items."}],canBeParameter:!0,isDeprecated:!1},{name:"ol",acceptsType:["array"],returnsType:["string"],description:"Turns the array into an HTML ordered list.",docLink:"https://statamic.dev/modifiers/ol",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"option_list",acceptsType:["array"],returnsType:["string"],description:"Turns an array into a pipe-delimited string.",docLink:"https://statamic.dev/modifiers/option_list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"pluck",acceptsType:["array"],returnsType:["array"],description:"Plucks a value from a collection of items.",parameters:[{name:"value",description:"The value to pluck from the array or collection."}],canBeParameter:!0,docLink:null,isDeprecated:!1},{name:"pad",acceptsType:["array"],returnsType:["array"],description:"Pads the array to a specified length with the given value.",docLink:"https://statamic.dev/modifiers/pad",parameters:[{name:"length",description:"The desired length of the array."},{name:"value",description:"The value to pad the array with."}],canBeParameter:!0,isDeprecated:!1},{name:"piped",acceptsType:["array"],returnsType:["string"],description:"Turns an array into a pipe-delimited string.",docLink:"https://statamic.dev/modifiers/piped",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"sentence_list",acceptsType:["array"],returnsType:["string"],description:'Turns the array into a comma-delimited list, with the word "and" before the last item.',docLink:"https://statamic.dev/modifiers/sentence_list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"shuffle",acceptsType:["array"],returnsType:["array"],description:"Randomizes the order of array elements.",docLink:"https://statamic.dev/modifiers/shuffle",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"sort",acceptsType:["array"],returnsType:["array"],description:"Sorts the array by a key in ascending or descending order.",docLink:"https://statamic.dev/modifiers/sort",parameters:[{name:"key",description:"The key to sort by."},{name:"order",description:"The sort direction. `asc` or `desc`."}],canBeParameter:!0,isDeprecated:!1},{name:"sum",acceptsType:["array"],returnsType:["number"],description:"Returns the sum of all items in the array.",docLink:"https://statamic.dev/modifiers/sum",parameters:[{name:"key",description:"The value to sum."}],canBeParameter:!1,isDeprecated:!1},{name:"ul",acceptsType:["array"],returnsType:["string"],description:"Turns the array into an HTML unordered list.",docLink:"https://statamic.dev/modifiers/ul",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"unique",acceptsType:["array"],returnsType:["array"],description:"Returns all unique items in the array.",docLink:"https://statamic.dev/modifiers/unique",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"where",acceptsType:["array"],returnsType:["array"],description:"Filters the array by a given key and value.",docLink:"https://statamic.dev/modifiers/where",parameters:[{name:"key",description:"The property to filter by."},{name:"value",description:"The value to compare to."}],canBeParameter:!0,isDeprecated:!1},{name:"split",acceptsType:["array"],returnsType:["array"],description:"Splits an array into smaller arrays with the provided size.",canBeParameter:!0,docLink:"",parameters:[{name:"size",description:"The size of each new array"}],augmentScope:CN,isDeprecated:!1},{name:"compact",acceptsType:["string"],returnsType:["array"],description:"Accepts a comma-delimited list of variable names and return an array with their values.",canBeParameter:!0,docLink:"",parameters:[{name:"variables",description:"A comma-delimited list of variable names."}],isDeprecated:!1}]});var xN,EN=E(()=>{xN=[{name:"background_position",acceptsType:["string"],returnsType:["string"],description:"Converts an asset focal point into a background-position CSS property.",docLink:"https://statamic.dev/modifiers/background_position",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"image",acceptsType:["string"],returnsType:["string"],description:"Generates an HTML image element with the variable's value as the src.",docLink:"https://statamic.dev/modifiers/image",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"output",acceptsType:["string"],returnsType:["string"],description:"Returns the string output of an Asset file's contents.",docLink:"https://statamic.dev/modifiers/output",parameters:[],canBeParameter:!1,isDeprecated:!1}]});var RN,kN=E(()=>{RN=[{name:"contains_all",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a string contains all of the provided needles.",docLink:"https://statamic.dev/modifiers/contains_all",parameters:[{name:"needle",description:"The string(s) to search for."}],canBeParameter:!1,isDeprecated:!1},{name:"contains_any",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a string contains all of the provided needles.",docLink:"https://statamic.dev/modifiers/contains_any",parameters:[{name:"needle",description:"The string(s) to search for."}],canBeParameter:!1,isDeprecated:!1},{name:"ends_with",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a string ends with another string.",docLink:"https://statamic.dev/modifiers/ends_with",parameters:[{name:"value",description:"The value to check against."}],canBeParameter:!1,isDeprecated:!1},{name:"has_lower_case",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains any lowercase characters.",docLink:"https://statamic.dev/modifiers/has_lower_case",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"has_upper_case",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains any uppercase characters.",docLink:"https://statamic.dev/modifiers/has_upper_case",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"in_array",acceptsType:["array"],returnsType:["boolean"],description:"Tests if an array contains a specific value.",docLink:"https://statamic.dev/modifiers/in_array",parameters:[{name:"needle",description:"The value(s) to search for."}],canBeParameter:!1,isDeprecated:!1},{name:"is_after",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the string contains only alphanumeric characters.",docLink:"https://statamic.dev/modifiers/is_after",parameters:[{name:"date",description:"The date to compare to."}],canBeParameter:!1,isDeprecated:!1},{name:"is_alphanumeric",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains only alphanumeric characters.",docLink:"https://statamic.dev/modifiers/is_alphanumeric",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_before",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if a date is before another date.",docLink:"https://statamic.dev/modifiers/is_before",parameters:[{name:"date",description:"The date to compare to."}],canBeParameter:!1,isDeprecated:!1},{name:"is_between",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if a date is between two other dates.",docLink:"https://statamic.dev/modifiers/is_between",parameters:[{name:"start_date",description:"The start date to compare."},{name:"end_date",description:"The end date to compare."}],canBeParameter:!1,isDeprecated:!1},{name:"is_blank",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains only whitespace characters.",docLink:"https://statamic.dev/modifiers/is_blank",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_email",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string is a valid email address.",docLink:"https://statamic.dev/modifiers/is_email",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_future",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is in the future.",docLink:"https://statamic.dev/modifiers/is_future",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_json",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string is valid JSON.",docLink:"https://statamic.dev/modifiers/is_json",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_leap_year",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is a leap year.",docLink:"https://statamic.dev/modifiers/is_leap_year",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_numeric",acceptsType:["string","number"],returnsType:["boolean"],description:"Tests if the value is a number or numeric string.",docLink:"https://statamic.dev/modifiers/is_numeric",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_past",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is in the past.",docLink:"https://statamic.dev/modifiers/is_past",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_today",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is today.",docLink:"https://statamic.dev/modifiers/is_today",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_uppercase",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains only uppercase characters.",docLink:"https://statamic.dev/modifiers/is_uppercase",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_url",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string is a valid URL.",docLink:"https://statamic.dev/modifiers/is_url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_weekday",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is a week day.",docLink:"https://statamic.dev/modifiers/is_weekday",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_weekend",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is a weekend day.",docLink:"https://statamic.dev/modifiers/is_weekend",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_yesterday",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is yesterday.",docLink:"https://statamic.dev/modifiers/is_yesterday",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_tomorrow",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is tomorrow.",docLink:null,parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"starts_with",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a value starts with the provided value.",docLink:"https://statamic.dev/modifiers/starts_with",parameters:[{name:"value",description:"The value to test for."}],canBeParameter:!1,isDeprecated:!1}]});var ON,wN=E(()=>{ON=[{name:"days_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of days since a given date.",docLink:"https://statamic.dev/modifiers/days_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"format_translated",acceptsType:["string","date"],returnsType:["string","date"],description:"Returns a formatted Carbon datetime/string.",docLink:"https://statamic.dev/modifiers/format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0,isDeprecated:!1},{name:"format",acceptsType:["string","date"],returnsType:["string","date"],description:"Formats the date using the provided format using PHP's [date variables](https://www.php.net/date).",docLink:"https://statamic.dev/modifiers/format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0,isDeprecated:!1},{name:"format_localized",acceptsType:["string","date"],returnsType:["string","date"],description:"Formats the date using server's locale, using PHP's [strftime format variables](https://www.php.net/strftime).",docLink:"https://statamic.dev/modifiers/format_localized",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0,isDeprecated:!0,getDeprecatedMessage(){return"The format_localized modifier is deprecated. Alternatives, such as the iso_format modifier, should be used instead."}},{name:"hours_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of hours since the date.",docLink:"https://statamic.dev/modifiers/hours_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"iso_format",acceptsType:["string","date"],returnsType:["string","date"],description:"Formats the date using an ISO format.",docLink:"https://statamic.dev/modifiers/iso_format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!1,isDeprecated:!1},{name:"minutes_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of minutes since the date.",docLink:"https://statamic.dev/modifiers/minutes_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"modify_date",acceptsType:["string","date"],returnsType:["string","date"],description:"Alters the date by incrementing or decrementing it in a format accepted by PHP's [strtotime](https://www.php.net/strtotime) function.",docLink:"https://statamic.dev/modifiers/modify_date",parameters:[],canBeParameter:!0,isDeprecated:!1},{name:"months_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of months since the date.",docLink:"https://statamic.dev/modifiers/months_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"relative",acceptsType:["string","date"],returnsType:["string"],description:"Returns a human readable date difference.",docLink:"https://statamic.dev/modifiers/relative",parameters:[{name:"add_ago",description:"Whether to add the relative suffix words at the end of the string."}],canBeParameter:!1,isDeprecated:!1},{name:"seconds_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of seconds since the date.",docLink:"https://statamic.dev/modifiers/seconds_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"timezone",acceptsType:["string","date"],returnsType:["string","date"],description:"Applies a timezone to the date.",docLink:"https://statamic.dev/modifiers/timezone",parameters:[{name:"timezone",description:"The timezone to apply."}],canBeParameter:!1,isDeprecated:!1},{name:"weeks_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of weeks since the date.",docLink:"https://statamic.dev/modifiers/weeks_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"years_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of years since the date.",docLink:"https://statamic.dev/modifiers/years_ago",parameters:[],canBeParameter:!1,isDeprecated:!1}]});var LN,DN=E(()=>{LN=[{name:"chunk",acceptsType:["array"],returnsType:["array"],description:"Breaks the array or collection into smaller arrays of a given size.",docLink:"https://statamic.dev/modifiers/chunk",parameters:[{name:"chunk_size",description:"The maximum length of each new chunk."}],canBeParameter:!0,isDeprecated:!1},{name:"favicon",acceptsType:["string"],returnsType:["string"],description:"Generates a favicon HTML meta tag for the given value.",docLink:"https://statamic.dev/modifiers/favicon",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"first",acceptsType:["string","array"],returnsType:["*"],description:"Returns the specified number of characters from the beginning of the string.",docLink:"https://statamic.dev/modifiers/first",parameters:[{name:"count",description:"The number of characters to return."}],canBeParameter:!0,isDeprecated:!1},{name:"last",acceptsType:["string","array"],returnsType:["*"],description:"Returns the specified number of characters from the end of the string.",docLink:"https://statamic.dev/modifiers/last",parameters:[{name:"count",description:"The number of characters to return."}],canBeParameter:!0,isDeprecated:!1},{name:"link",acceptsType:["string"],returnsType:["string"],description:"Generates an HTML link for the provided value.",docLink:"https://statamic.dev/modifiers/link",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"mailto",acceptsType:["string"],returnsType:["string"],description:"Generates a mailto HTML link for the provided value.",docLink:"https://statamic.dev/modifiers/mailto",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"markdown",acceptsType:["string"],returnsType:["string"],description:"Parses the value as Markdown and returns the HTML.",docLink:"https://statamic.dev/modifiers/markdown",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"nl2br",acceptsType:["string"],returnsType:["string"],description:"Replaces line breaks with HTML `<br>` tags.",docLink:"https://statamic.dev/modifiers/nl2br",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"obfuscate",acceptsType:["string"],returnsType:["string"],description:"Modifies the input string by replacing it with special characters, making it harder for bots but remains readable to site visitors.",docLink:"https://statamic.dev/modifiers/obfuscate",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"obfuscate_email",acceptsType:["string"],returnsType:["string"],description:"Obfuscates an email address with special HTML characters.",docLink:"https://statamic.dev/modifiers/obfuscate_email",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"strip_tags",acceptsType:["string"],returnsType:["string"],description:"Removes HTML tags from the string.",docLink:"https://statamic.dev/modifiers/strip_tags",parameters:[{name:"tags",description:"The HTML tag(s) to remove from the string."}],canBeParameter:!1,isDeprecated:!1},{name:"table",acceptsType:["array"],returnsType:["string"],description:"Turns a [Table FieldType](https://statamic.dev/fieldtypes/table) array into an HTML table.",docLink:"https://statamic.dev/modifiers/table",parameters:[{name:"content_markdown",description:"Whether to parse cell contents as Markdown."}],canBeParameter:!1,isDeprecated:!1},{name:"textile",acceptsType:["string"],returnsType:["string"],description:"Parses a string with [Textile](http://demo.textilewiki.com/theme-default/) and returns the HTML.",docLink:"https://statamic.dev/modifiers/textile",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"wrap",acceptsType:["string"],returnsType:["string"],description:"Wraps a string with a given HTML tag.",docLink:"https://statamic.dev/modifiers/wrap",parameters:[{name:"expression",description:"The HTML tag or Emmet-style expression to wrap the value in."}],canBeParameter:!1,isDeprecated:!1}]});var MN,FN=E(()=>{MN=[{name:"add",acceptsType:["number"],returnsType:["number"],description:"Adds two values together.",docLink:"https://statamic.dev/modifiers/add",parameters:[{name:"value",description:"The value to add."}],canBeParameter:!0,isDeprecated:!1},{name:"+",acceptsType:["number"],returnsType:["number"],description:"Adds two values together.",docLink:"https://statamic.dev/modifiers/add",parameters:[{name:"value",description:"The value to add."}],canBeParameter:!1,isDeprecated:!1},{name:"ceil",acceptsType:["number"],returnsType:["number"],description:"Rounds the value to the next whole number.",docLink:"https://statamic.dev/modifiers/ceil",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"divide",acceptsType:["number"],returnsType:["number"],description:"Divides two values.",docLink:"https://statamic.dev/modifiers/divide",parameters:[{name:"value",description:"The value to divide."}],canBeParameter:!0,isDeprecated:!1},{name:"floor",acceptsType:["number"],returnsType:["number"],description:"Rounds a number down to the next whole number.",docLink:"https://statamic.dev/modifiers/floor",parameters:[],canBeParameter:!0,isDeprecated:!1},{name:"format_number",acceptsType:["number"],returnsType:["string"],description:"Formats a number.",docLink:"https://statamic.dev/modifiers/format_number",parameters:[{name:"precision",description:"Number of decimal places before rounding."},{name:"decimal_separator",description:"The decimal separator (defaults to `.`)."},{name:"thousands_separator",description:"The thousands separator (default `,`)."}],canBeParameter:!0,isDeprecated:!1},{name:"mode",acceptsType:["number"],returnsType:["number"],description:"",docLink:"",parameters:[],canBeParameter:!0,isDeprecated:!1},{name:"multiply",acceptsType:["number"],returnsType:["number"],description:"Multiplies two values.",docLink:"https://statamic.dev/modifiers/multiply",parameters:[{name:"value",description:"The value to multiply."}],canBeParameter:!0,isDeprecated:!1},{name:"*",acceptsType:["number"],returnsType:["number"],description:"Multiplies two values.",docLink:"https://statamic.dev/modifiers/multiply",parameters:[{name:"value",description:"The value to multiply."}],canBeParameter:!1,isDeprecated:!1},{name:"round",acceptsType:["number"],returnsType:["number"],description:"Rounds a number to a specified precision.",docLink:"https://statamic.dev/modifiers/round",parameters:[{name:"precision",description:"The number of digits after the decimal point."}],canBeParameter:!0,isDeprecated:!1},{name:"subtract",acceptsType:["number"],returnsType:["number"],description:"Subtracts two values.",docLink:"https://statamic.dev/modifiers/subtract",parameters:[{name:"value",description:"The value to subtract."}],canBeParameter:!0,isDeprecated:!1},{name:"-",acceptsType:["number"],returnsType:["number"],description:"Subtracts two values.",docLink:"https://statamic.dev/modifiers/subtract",parameters:[{name:"value",description:"The value to subtract."}],canBeParameter:!1,isDeprecated:!1}]});var VN,BN=E(()=>{VN=[{name:"partial",acceptsType:["*"],returnsType:["*view*"],description:"Injects data into a partial and renders it.",docLink:"https://statamic.dev/modifiers/partial",parameters:[{name:"partial",description:"The name of the partial."}],canBeParameter:!1,isDeprecated:!1},{name:"macro",acceptsType:["*"],returnsType:["*"],description:"Runs a pre-configured macro on the data.",docLink:"https://statamic.dev/modifiers/macro",parameters:[{name:"macro",description:"The macro name."}],canBeParameter:!1,isDeprecated:!1},{name:"url",acceptsType:["string","*"],returnsType:["string"],description:"Locates the URL of an asset, page, entry, or taxonomy term based on the variable contents.",docLink:"https://statamic.dev/modifiers/url",parameters:[],canBeParameter:!1,isDeprecated:!1}]});var qN,UN=E(()=>{qN=[{name:"ascii",acceptsType:["string"],returnsType:["string"],description:"Replaces all non-ASCII characters with their closest ASCII counterparts.",docLink:"https://statamic.dev/modifiers/ascii",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"at",acceptsType:["string"],returnsType:["string"],description:"Returns the character at a given zero-based position.",docLink:"https://statamic.dev/modifiers/at",parameters:[{name:"position",description:"The zero-based position to retrieve a character from."}],canBeParameter:!0,isDeprecated:!1},{name:"backspace",acceptsType:["string"],returnsType:["string"],description:"Removes a specified number of characters from the end of a string.",docLink:"https://statamic.dev/modifiers/backspace",parameters:[{name:"character_count",description:"The number of characters to remove from the end of the string."}],canBeParameter:!0,isDeprecated:!1},{name:"camelize",acceptsType:["string"],returnsType:["string"],description:"Converts the string into camelCase.",docLink:"https://statamic.dev/modifiers/camelize",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"cdata",acceptsType:["string"],returnsType:["string"],description:"Wraps the string in CDATA XML tags.",docLink:"https://statamic.dev/modifiers/cdata",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"collapse_whitespace",acceptsType:["string"],returnsType:["string"],description:"Trims a string and replaces consecutive whitespace characters with a single space.",docLink:"https://statamic.dev/modifiers/collapse_whitespace",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"count_substring",acceptsType:["string"],returnsType:["number"],description:"Counts the number of occurrences of a term within the string.",docLink:"https://statamic.dev/modifiers/count_substring",parameters:[{name:"term",description:"The sub-string to search for"}],canBeParameter:!0,isDeprecated:!1},{name:"dashify",acceptsType:["string"],returnsType:["string"],description:"Returns a lower-cased and trimmed string, separated by dashes.",docLink:"https://statamic.dev/modifiers/dashify",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"deslugify",acceptsType:["string"],returnsType:["string"],description:"Replaces all hyphens and underscores with spaces.",docLink:"https://statamic.dev/modifiers/deslugify",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"embed_url",acceptsType:["string"],returnsType:["string"],description:"Converts a YouTube or Viemo link into their embed URLs.",docLink:"https://statamic.dev/modifiers/embed_url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"trackable_embed_url",acceptsType:["string"],returnsType:["string"],description:"Get the embed URL when given a youtube or vimeo link that's direct to the page.",docLink:null,parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"ensure_left",acceptsType:["string"],returnsType:["string"],description:"Ensures that the string begins with the specified string.",docLink:"https://statamic.dev/modifiers/ensure_left",parameters:[{name:"start_string",description:"The value that should be at the start of the string."}],canBeParameter:!0,isDeprecated:!1},{name:"ensure_right",acceptsType:["string"],returnsType:["string"],description:"Ensures that the string ends with the specified string.",docLink:"https://statamic.dev/modifiers/ensure_right",parameters:[{name:"end_string",description:"The value that should be at the end of the string."}],canBeParameter:!0,isDeprecated:!1},{name:"entities",acceptsType:["string"],returnsType:["string"],description:"Encode a string with HTML entities.",docLink:"https://statamic.dev/modifiers/entities",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"excerpt",acceptsType:["string"],returnsType:["string"],description:"Breaks a string at a given marker.",docLink:"https://statamic.dev/modifiers/excerpt",parameters:[{name:"marker",description:"The string to break by."}],canBeParameter:!1,isDeprecated:!1},{name:"explode",acceptsType:["string"],returnsType:["array"],description:"Breaks a string into an array of strings.",docLink:"https://statamic.dev/modifiers/explode",parameters:[{name:"delimiter",description:"The string to split the larger string by."}],canBeParameter:!0,isDeprecated:!1},{name:"gravatar",acceptsType:["string"],returnsType:["string"],description:"Converts an email string to a Gravatar image URL.",docLink:"https://statamic.dev/modifiers/gravatar",parameters:[{name:"image size",description:"The desired image size."}],canBeParameter:!0,isDeprecated:!1},{name:"insert",acceptsType:["string"],returnsType:["string"],description:"Inserts a string at the position provided.",docLink:"https://statamic.dev/modifiers/insert",parameters:[{name:"value",description:"The value to insert."},{name:"position",description:"The zero based position to insert the text at."}],canBeParameter:!0,isDeprecated:!1},{name:"is_email",acceptsType:["string"],returnsType:["boolean"],description:"Returns true if the string is a valid email address.",docLink:"https://statamic.dev/modifiers/is_email",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_embeddable",acceptsType:["string"],returnsType:["boolean"],description:"Checks to see if a video URL is embeddable.",docLink:"https://statamic.dev/modifiers/is_embeddable",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_lowercase",acceptsType:["string"],returnsType:["boolean"],description:"Returns true if the string contains only lowercase characters.",docLink:"https://statamic.dev/modifiers/is_lowercase",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_url",acceptsType:["string"],returnsType:["boolean"],description:"Returns true if a string is a valid URL.",docLink:"https://statamic.dev/modifiers/is_url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"lcfirst",acceptsType:["string"],returnsType:["string"],description:"Converts the first character of the value to lower case.",docLink:"https://statamic.dev/modifiers/lcfirst",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"length",acceptsType:["string"],returnsType:["number"],description:"Returns the number of items in an array or number of characters in a string.",docLink:"https://statamic.dev/modifiers/length",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"lower",acceptsType:["string"],returnsType:["string"],description:"Converts all characters to lowercase.",docLink:"https://statamic.dev/modifiers/lower",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"md5",acceptsType:["string"],returnsType:["string"],description:"Creates an MD5 hash of the variable.",docLink:"https://statamic.dev/modifiers/md5",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"rawurlencode",acceptsType:["string"],returnsType:["string"],description:"URL-encode a variable according to RFC-3986.",docLink:"https://statamic.dev/modifiers/rawurlencode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"read_time",acceptsType:["string"],returnsType:["string"],description:"Returns an estimated read time, in minutes.",docLink:"https://statamic.dev/modifiers/read_time",parameters:[{name:"words per minute",description:"The words per minute to use as an estimate."}],canBeParameter:!0,isDeprecated:!1},{name:"regex_replace",acceptsType:["string"],returnsType:["string"],description:"Replaces all regex matches with a string.",docLink:"https://statamic.dev/modifiers/regex_replace",parameters:[{name:"pattern",description:"The regex pattern."},{name:"replace",description:"The replacement value."}],canBeParameter:!0,isDeprecated:!1},{name:"remove_left",acceptsType:["string"],returnsType:["string"],description:"Ensures that the string never begins with a specified string.",docLink:"https://statamic.dev/modifiers/remove_left/",parameters:[{name:"value",description:"The value to remove."}],canBeParameter:!0,isDeprecated:!1},{name:"remove_right",acceptsType:["string"],returnsType:["string"],description:"Ensures that a string never ends with a specified string.",docLink:"https://statamic.dev/modifiers/remove_right",parameters:[{name:"value",description:"The value to remove."}],canBeParameter:!0,isDeprecated:!1},{name:"replace",acceptsType:["string"],returnsType:["string"],description:"Replaces all occurrences of a string with a different value.",docLink:"https://statamic.dev/modifiers/replace",parameters:[{name:"needle",description:"The string to search for."},{name:"value",description:"The value to replace all occurrences with."}],canBeParameter:!0,isDeprecated:!1},{name:"reverse",acceptsType:["string","array"],returnsType:["string","array"],description:"Reverses all characters in a string, or all items in an array.",docLink:"https://statamic.dev/modifiers/reverse",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"safe_truncate",acceptsType:["string"],returnsType:["string"],description:"Truncates a string to a given length.",docLink:"https://statamic.dev/modifiers/safe_truncate",parameters:[{name:"length",description:"The desired string length."},{name:"suffix",description:"An optional suffix to append to the string if truncation occurs."}],canBeParameter:!1,isDeprecated:!1},{name:"sanitize",acceptsType:["string"],returnsType:["string"],description:"Converts special characters to HTML entities.",docLink:"https://statamic.dev/modifiers/sanitize",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"segment",acceptsType:["string"],returnsType:["string"],description:"Returns a segment by number from any valid URL or URI.",docLink:"https://statamic.dev/modifiers/segment",parameters:[{name:"segment",description:"The one-based segment to return."}],canBeParameter:!0,isDeprecated:!1},{name:"singular",acceptsType:["string"],returnsType:["string"],description:"Returns the singular form of an English word.",docLink:"https://statamic.dev/modifiers/singular",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"slugify",acceptsType:["string"],returnsType:["string"],description:"Converts the string into an URL slug.",docLink:"https://statamic.dev/modifiers/slugify",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"smartypants",acceptsType:["string"],returnsType:["string"],description:"Translates plain ASCII punctuation characters into typographic punctuation HTML entities.",docLink:"https://statamic.dev/modifiers/smartypants",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"spaceless",acceptsType:["string"],returnsType:["string"],description:"Removes excess whitespace and line breaks from a string.",docLink:"https://statamic.dev/modifiers/spaceless",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"substr",acceptsType:["string"],returnsType:["string"],description:"Returns a portion of a string based on provided a start index, and optional length.",docLink:"https://statamic.dev/modifiers/substr",parameters:[{name:"start",description:"The 0-based index to start searching."},{name:"length",description:"An optional length for the string to find."}],canBeParameter:!1,isDeprecated:!1},{name:"surround",acceptsType:["string"],returnsType:["string"],description:"Surrounds a string with another string.",docLink:"https://statamic.dev/modifiers/surround",parameters:[{name:"value",description:"The value to surround the string with."}],canBeParameter:!1,isDeprecated:!1},{name:"swap_case",acceptsType:["string"],returnsType:["string"],description:"Returns a case swapped version of the string.",docLink:"https://statamic.dev/modifiers/swap_case",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"tidy",acceptsType:["string"],returnsType:["string"],description:"Returns a string with smart quotes, ellipsis characters, and dashes from Windows-1252 replaced by ASCII equivalents.",docLink:"https://statamic.dev/modifiers/tidy",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"title",acceptsType:["string"],returnsType:["string"],description:"Returns a Title Cased version of the string.",docLink:"https://statamic.dev/modifiers/title",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"trim",acceptsType:["string"],returnsType:["string"],description:"Removes whitespace from the start and end of the string.",docLink:"https://statamic.dev/modifiers/trim",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"truncate",acceptsType:["string"],returnsType:["string"],description:"Truncates a string to a given length.",docLink:"https://statamic.dev/modifiers/truncate",parameters:[{name:"length",description:"The maximum string length."},{name:"suffix",description:"An optional suffix to append to the string if truncation occurs."}],canBeParameter:!1,isDeprecated:!1},{name:"ucfirst",acceptsType:["string"],returnsType:["string"],description:"Upper cases the first character in the string.",docLink:"https://statamic.dev/modifiers/ucfirst",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"underscored",acceptsType:["string"],returnsType:["string"],description:"Returns a lower-cased and trimmed version of the string, separated by underscores.",docLink:"https://statamic.dev/modifiers/underscored",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"upper",acceptsType:["string"],returnsType:["string"],description:"Transforms the string to uppercase.",docLink:"https://statamic.dev/modifiers/upper",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"urldecode",acceptsType:["string"],returnsType:["string"],description:"URL-decodes the string.",docLink:"https://statamic.dev/modifiers/urldecode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"urlencode",acceptsType:["string"],returnsType:["string"],description:"URL-encodes the string.",docLink:"https://statamic.dev/modifiers/urlencode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"widont",acceptsType:["string"],returnsType:["string"],description:"Attempts to prevent lines with single words.",docLink:"https://statamic.dev/modifiers/widont",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"word_count",acceptsType:["string"],returnsType:["number"],description:"Returns the number of words in the string.",docLink:"https://statamic.dev/modifiers/word_count",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"add_slashes",acceptsType:["string"],returnsType:["string"],description:"Adds slashes before characters that need to be escaped.",docLink:"https://statamic.dev/modifiers/add_slashes",canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"antlers",acceptsType:["string"],returnsType:["string"],description:"Parses the provided value as Antlers, and returns the result",docLink:null,canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"bard_items",acceptsType:["string"],returnsType:["array"],description:"Converts a Bard value to a flat array of nodes and marks",docLink:null,canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"bard_text",acceptsType:["array","string"],returnsType:["string"],description:"Converts a Bard value to plain text (excluding sets)",docLink:null,canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"bard_html",acceptsType:["array","string"],returnsType:["string"],description:"Converts a Bard value to HTML (excluding sets)",docLink:null,canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"mark",acceptsType:["string"],returnsType:["string"],description:"Wraps matched words and phrases in <mark> tags.",docLink:null,canBeParameter:!1,parameters:[{name:"search",description:"The search word or phrase to wrap in <mark> tags."}],isDeprecated:!1},{name:"regex_mark",acceptsType:["string"],returnsType:["string"],description:"Wraps matched words and phrases in <mark> tags using regular expressions.",docLink:null,canBeParameter:!1,parameters:[{name:"pattern",description:"The search pattern used to wrap content in <mark> tags."}],isDeprecated:!1}]});var jN,GN=E(()=>{jN=[{name:"console_log",acceptsType:["*"],returnsType:["null"],description:"Displays variable data in the browser's JavaScript console.",docLink:"https://statamic.dev/modifiers/console_log",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"decode",acceptsType:["string"],returnsType:["string"],description:"Converts all HTML entities to their applicable character codes.",docLink:"https://statamic.dev/modifiers/decode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"dump",acceptsType:["*"],returnsType:["null"],description:"Displays variable data in the browser.",docLink:"https://statamic.dev/modifiers/dump",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"full_urls",acceptsType:["string"],returnsType:["string"],description:"Replaces root-relative URLs with absolute URLs.",docLink:"https://statamic.dev/modifiers/full_urls",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"repeat",acceptsType:["string"],returnsType:["string"],description:"Repeats a value a given number of times.",docLink:"https://statamic.dev/modifiers/repeat",parameters:[{name:"repeat_count",description:"The number of times to repeat the value."}],canBeParameter:!0,isDeprecated:!1},{name:"to_spaces",acceptsType:["string"],returnsType:["string"],description:"Converts all tabs to spaces.",docLink:"https://statamic.dev/modifiers/to_spaces",parameters:[{name:"space_count",description:"The number of spaces to replace tabs with."}],canBeParameter:!1,isDeprecated:!1},{name:"to_tabs",acceptsType:["string"],returnsType:["string"],description:"Converts spaces to tabs.",docLink:"https://statamic.dev/modifiers/to_tabs",parameters:[{name:"space_count",description:"The number of spaces to convert to tabs."}],canBeParameter:!1,isDeprecated:!1},{name:"to_json",acceptsType:["*"],returnsType:["string"],description:"Converts the data to JSON.",docLink:"https://statamic.dev/modifiers/to_json",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"to_bool",acceptsType:["*"],returnsType:["boolean"],description:"Converst the data to a boolean",parameters:[],canBeParameter:!1,docLink:null,isDeprecated:!1}]});var ws,Qt,ba=E(()=>{Wp();SN();EN();kN();wN();DN();FN();BN();UN();GN();ws=class{constructor(){this.registeredModifiers=new Map;this.acceptTypedModifierReference=new Map;this.returnTypeModifierReference=new Map;this.macros=new Map;this.modifierNameCache=[]}reset(){this.modifierNameCache=[],this.registeredModifiers.clear(),this.acceptTypedModifierReference.clear(),this.returnTypeModifierReference.clear()}getRegisteredModifiers(){return this.registeredModifiers}resetMacros(){this.macros.clear()}loadCoreModifiers(){this.registerModifiers(AN),this.registerModifiers(xN),this.registerModifiers(RN),this.registerModifiers(ON),this.registerModifiers(LN),this.registerModifiers(MN),this.registerModifiers(jN),this.registerModifiers(qN),this.registerModifiers(VN)}getModifierNames(){return this.modifierNameCache}registerMacro(e){this.macros.set(e.name,e)}registerMacros(e){for(let n=0;n<e.length;n++)this.registerMacro(e[n])}hasMacro(e){if(this.macros.has(e)){let n=this.macros.get(e);return!(typeof n=="undefined"||n===null)}return!1}getMacro(e){if(this.macros.has(e)){let n=this.macros.get(e);return typeof n=="undefined"||n===null?null:n}return null}getMacroManifestingType(e){let n=this.getMacro(e);return n==null?"":n.manifestsType}getRegisteredModifier(e){return this.registeredModifiers.has(e)?this.registeredModifiers.get(e):null}getModifiersForType(e){let n=xu(e);return this.acceptTypedModifierReference.has(n)?this.acceptTypedModifierReference.get(n):[]}getProbableReturnType(e,n){return e==null||e.returnsType.length==0?"":n&&e.returnsType.includes("array")?"array":e.returnsType[0]}registerModifiers(e){var n,r;for(let i=0;i<e.length;i++){let s=e[i];this.modifierNameCache.push(s.name);for(let o=0;o<s.acceptsType.length;o++){let l=s.acceptsType[o];this.acceptTypedModifierReference.has(l)==!1&&this.acceptTypedModifierReference.set(l,[]),(n=this.acceptTypedModifierReference.get(l))==null||n.push(s)}for(let o=0;o<s.returnsType.length;o++){let l=s.returnsType[o];this.returnTypeModifierReference.has(l)==!1&&this.returnTypeModifierReference.set(l,[]),(r=this.returnTypeModifierReference.get(l))==null||r.push(s)}this.registeredModifiers.set(e[i].name,e[i])}}registerModifier(e){let n=[];n.push(e),this.registerModifiers(n)}getModifier(e){if(this.registeredModifiers.has(e)==!1)return null;let n=this.registeredModifiers.get(e);return typeof n=="undefined"||n==null?null:n}hasModifier(e){if(!this.registeredModifiers.has(e))return!1;let n=this.registeredModifiers.get(e);return!(typeof n=="undefined"||n==null)}};ws.instance=null;(typeof ws.instance=="undefined"||ws.instance==null)&&(ws.instance=new ws,ws.instance.loadCoreModifiers());Qt=ws});var Yp,WN=E(()=>{ba();nt();Yp=class{constructor(e){this.parameterModifiers=[];this.hasMixedModifierStyles=!1;this.modifierNames=[];this.node=e}isPaired(){return this.node instanceof Z?this.node.isPaired():!1}getModifierValue(e){var n;if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0)for(let r=0;r<this.node.modifierChain.modifierChain.length;r++){let i=this.node.modifierChain.modifierChain[r];if(((n=i.nameNode)==null?void 0:n.name)==e)return i.valueNodes.length>0?i.valueNodes[0].content:""}if(this.hasParameterModifiers())for(let r=0;r<this.parameterModifiers.length;r++){let i=this.parameterModifiers[r];if(i.name==e)return i.value}return null}getModifierRange(e){var n;if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0)for(let r=0;r<this.node.modifierChain.modifierChain.length;r++){let i=this.node.modifierChain.modifierChain[r];if(((n=i.nameNode)==null?void 0:n.name)==e)return i.valueNodes.length>0?{start:i.startPosition,end:i.endPosition}:null}if(this.hasParameterModifiers())for(let r=0;r<this.parameterModifiers.length;r++){let i=this.parameterModifiers[r];if(i.name==e&&i.namePosition!=null&&i.valuePosition!=null)return{start:i.namePosition.start,end:i.valuePosition.end}}return null}getLastManifestedModifierRuntimeType(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastManifestedModifier!=null){if(this.node.modifierChain.lastManifestedModifier.parameters.length>0&&this.node.modifierChain.lastManifestedModifier.modifier!=null&&Qt.instance!=null){let e=this.node.modifierChain.lastManifestedModifier.modifier;return Qt.instance.getProbableReturnType(e,this.isPaired())}return"*"}if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null&&Qt.instance!=null){let r=e[n].modifier;return Qt.instance.getProbableReturnType(r,this.isPaired())}}return"*"}getLastManifestedModifierValue(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastManifestedModifier!=null)return this.node.modifierChain.lastManifestedModifier.parameters.length>0?this.node.modifierChain.lastManifestedModifier.parameters[0].value:"";if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null)return e[n].value}return""}getLastManifestedModifier(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastModifier!=null)return this.node.modifierChain.lastModifier;if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null)return e[n].modifier}return null}hasModifiers(){return this.node.modifierChain==null||this.node.modifierChain.modifierChain.length==0?this.parameterModifiers.length>0:!0}hasParameterModifiers(){return this.parameterModifiers.length>0}hasShorthandModifiers(){return this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0}hasModifier(e){return this.modifierNames.includes(e)}}});function Kp(t){let e=[];return t.forEach(n=>{n instanceof Z?e.push(n):n instanceof Fn&&n.logicBranches.length>0&&n.logicBranches.forEach(r=>{if(r.head!=null){let i=r.head;i.originalNode!=null?e.push(i.originalNode):e.push(i)}})}),e}var HN=E(()=>{nt()});function YN(t){return(typeof t=="number"||typeof t=="string"&&XL.indexOf(t.slice(-1))===-1)&&t!==""&&!isNaN(t)}var XL,KN=E(()=>{XL=[" ",`
`,"\r","	","\f","\v","\xA0","\u2000","\u2001","\u2002","\u2003","\u2004","\u2005","\u2006","\u2007","\u2008","\u2009","\u200A","\u200B","\u2028","\u2029","\u3000"].join("")});var te,Sn=E(()=>{KN();te=class{static normalizeLineEndings(e,n=`
`){return e.replace(/\r?\n/g,n)}static breakByNewLine(e){return e.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`)}static split(e){return e.split("")}static substring(e,n,r){return e.substr(n,r)}static ctypeSpace(e){return(e==null?void 0:e.search(/^[\f\n\r\t\v ]+$/g))!==-1}static ctypeAlpha(e){return(e==null?void 0:e.search(/^[A-Za-z]+$/g))!==-1}static ctypeDigit(e){return(e==null?void 0:e.search(/^[\d]+$/g))!==-1}static ctypePunct(e){return(e==null?void 0:e.search(/^[\u0021-\u002F\u003A-\u0040\u005B-\u0060\u007B-\u007E]+$/g))!==-1}static trimLeft(e,n="\\s"){return e.replace(new RegExp("^["+n+"]+"),"")}static trimRight(e,n="\\s"){return e.replace(new RegExp("["+n+"]+$"),"")}static isNumeric(e){return YN(e)}static substringCount(e,n){let r=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return(e.match(new RegExp(r,"gi"))||[]).length}static getLastLine(e){let n=te.breakByNewLine(e);return n.length==0?"":n[n.length-1]}static getFirstLine(e){let n=te.breakByNewLine(e);return n.length==0?"":n[0]}}});var $p,$N=E(()=>{$p=class{constructor(e){this.node=e}findParentWithName(e){let n=this.node.getParser();return n==null?null:n.structure.findParentWithName(e,this.node)}}});var Eu=_e(zp=>{"use strict";Object.defineProperty(zp,"__esModule",{value:!0});var zN=function(){function t(){this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return t.hashStr=function(e,n){return n===void 0&&(n=!1),this.onePassHasher.start().appendStr(e).end(n)},t.hashAsciiStr=function(e,n){return n===void 0&&(n=!1),this.onePassHasher.start().appendAsciiStr(e).end(n)},t._hex=function(e){var n=t.hexChars,r=t.hexOut,i,s,o,l;for(l=0;l<4;l+=1)for(s=l*8,i=e[l],o=0;o<8;o+=2)r[s+1+o]=n.charAt(i&15),i>>>=4,r[s+0+o]=n.charAt(i&15),i>>>=4;return r.join("")},t._md5cycle=function(e,n){var r=e[0],i=e[1],s=e[2],o=e[3];r+=(i&s|~i&o)+n[0]-680876936|0,r=(r<<7|r>>>25)+i|0,o+=(r&i|~r&s)+n[1]-389564586|0,o=(o<<12|o>>>20)+r|0,s+=(o&r|~o&i)+n[2]+606105819|0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&r)+n[3]-1044525330|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&o)+n[4]-176418897|0,r=(r<<7|r>>>25)+i|0,o+=(r&i|~r&s)+n[5]+1200080426|0,o=(o<<12|o>>>20)+r|0,s+=(o&r|~o&i)+n[6]-1473231341|0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&r)+n[7]-45705983|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&o)+n[8]+1770035416|0,r=(r<<7|r>>>25)+i|0,o+=(r&i|~r&s)+n[9]-1958414417|0,o=(o<<12|o>>>20)+r|0,s+=(o&r|~o&i)+n[10]-42063|0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&r)+n[11]-1990404162|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&o)+n[12]+1804603682|0,r=(r<<7|r>>>25)+i|0,o+=(r&i|~r&s)+n[13]-40341101|0,o=(o<<12|o>>>20)+r|0,s+=(o&r|~o&i)+n[14]-1502002290|0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&r)+n[15]+1236535329|0,i=(i<<22|i>>>10)+s|0,r+=(i&o|s&~o)+n[1]-165796510|0,r=(r<<5|r>>>27)+i|0,o+=(r&s|i&~s)+n[6]-1069501632|0,o=(o<<9|o>>>23)+r|0,s+=(o&i|r&~i)+n[11]+643717713|0,s=(s<<14|s>>>18)+o|0,i+=(s&r|o&~r)+n[0]-373897302|0,i=(i<<20|i>>>12)+s|0,r+=(i&o|s&~o)+n[5]-701558691|0,r=(r<<5|r>>>27)+i|0,o+=(r&s|i&~s)+n[10]+38016083|0,o=(o<<9|o>>>23)+r|0,s+=(o&i|r&~i)+n[15]-660478335|0,s=(s<<14|s>>>18)+o|0,i+=(s&r|o&~r)+n[4]-405537848|0,i=(i<<20|i>>>12)+s|0,r+=(i&o|s&~o)+n[9]+568446438|0,r=(r<<5|r>>>27)+i|0,o+=(r&s|i&~s)+n[14]-1019803690|0,o=(o<<9|o>>>23)+r|0,s+=(o&i|r&~i)+n[3]-187363961|0,s=(s<<14|s>>>18)+o|0,i+=(s&r|o&~r)+n[8]+1163531501|0,i=(i<<20|i>>>12)+s|0,r+=(i&o|s&~o)+n[13]-1444681467|0,r=(r<<5|r>>>27)+i|0,o+=(r&s|i&~s)+n[2]-51403784|0,o=(o<<9|o>>>23)+r|0,s+=(o&i|r&~i)+n[7]+1735328473|0,s=(s<<14|s>>>18)+o|0,i+=(s&r|o&~r)+n[12]-1926607734|0,i=(i<<20|i>>>12)+s|0,r+=(i^s^o)+n[5]-378558|0,r=(r<<4|r>>>28)+i|0,o+=(r^i^s)+n[8]-2022574463|0,o=(o<<11|o>>>21)+r|0,s+=(o^r^i)+n[11]+1839030562|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^r)+n[14]-35309556|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^o)+n[1]-1530992060|0,r=(r<<4|r>>>28)+i|0,o+=(r^i^s)+n[4]+1272893353|0,o=(o<<11|o>>>21)+r|0,s+=(o^r^i)+n[7]-155497632|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^r)+n[10]-1094730640|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^o)+n[13]+681279174|0,r=(r<<4|r>>>28)+i|0,o+=(r^i^s)+n[0]-358537222|0,o=(o<<11|o>>>21)+r|0,s+=(o^r^i)+n[3]-722521979|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^r)+n[6]+76029189|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^o)+n[9]-640364487|0,r=(r<<4|r>>>28)+i|0,o+=(r^i^s)+n[12]-421815835|0,o=(o<<11|o>>>21)+r|0,s+=(o^r^i)+n[15]+530742520|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^r)+n[2]-995338651|0,i=(i<<23|i>>>9)+s|0,r+=(s^(i|~o))+n[0]-198630844|0,r=(r<<6|r>>>26)+i|0,o+=(i^(r|~s))+n[7]+1126891415|0,o=(o<<10|o>>>22)+r|0,s+=(r^(o|~i))+n[14]-1416354905|0,s=(s<<15|s>>>17)+o|0,i+=(o^(s|~r))+n[5]-57434055|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~o))+n[12]+1700485571|0,r=(r<<6|r>>>26)+i|0,o+=(i^(r|~s))+n[3]-1894986606|0,o=(o<<10|o>>>22)+r|0,s+=(r^(o|~i))+n[10]-1051523|0,s=(s<<15|s>>>17)+o|0,i+=(o^(s|~r))+n[1]-2054922799|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~o))+n[8]+1873313359|0,r=(r<<6|r>>>26)+i|0,o+=(i^(r|~s))+n[15]-30611744|0,o=(o<<10|o>>>22)+r|0,s+=(r^(o|~i))+n[6]-1560198380|0,s=(s<<15|s>>>17)+o|0,i+=(o^(s|~r))+n[13]+1309151649|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~o))+n[4]-145523070|0,r=(r<<6|r>>>26)+i|0,o+=(i^(r|~s))+n[11]-1120210379|0,o=(o<<10|o>>>22)+r|0,s+=(r^(o|~i))+n[2]+718787259|0,s=(s<<15|s>>>17)+o|0,i+=(o^(s|~r))+n[9]-343485551|0,i=(i<<21|i>>>11)+s|0,e[0]=r+e[0]|0,e[1]=i+e[1]|0,e[2]=s+e[2]|0,e[3]=o+e[3]|0},t.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(t.stateIdentity),this},t.prototype.appendStr=function(e){var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,o;for(o=0;o<e.length;o+=1){if(s=e.charCodeAt(o),s<128)n[i++]=s;else if(s<2048)n[i++]=(s>>>6)+192,n[i++]=s&63|128;else if(s<55296||s>56319)n[i++]=(s>>>12)+224,n[i++]=s>>>6&63|128,n[i++]=s&63|128;else{if(s=(s-55296)*1024+(e.charCodeAt(++o)-56320)+65536,s>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");n[i++]=(s>>>18)+240,n[i++]=s>>>12&63|128,n[i++]=s>>>6&63|128,n[i++]=s&63|128}i>=64&&(this._dataLength+=64,t._md5cycle(this._state,r),i-=64,r[0]=r[16])}return this._bufferLength=i,this},t.prototype.appendAsciiStr=function(e){for(var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,o=0;;){for(s=Math.min(e.length-o,64-i);s--;)n[i++]=e.charCodeAt(o++);if(i<64)break;this._dataLength+=64,t._md5cycle(this._state,r),i=0}return this._bufferLength=i,this},t.prototype.appendByteArray=function(e){for(var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,o=0;;){for(s=Math.min(e.length-o,64-i);s--;)n[i++]=e[o++];if(i<64)break;this._dataLength+=64,t._md5cycle(this._state,r),i=0}return this._bufferLength=i,this},t.prototype.getState=function(){var e=this,n=e._state;return{buffer:String.fromCharCode.apply(null,e._buffer8),buflen:e._bufferLength,length:e._dataLength,state:[n[0],n[1],n[2],n[3]]}},t.prototype.setState=function(e){var n=e.buffer,r=e.state,i=this._state,s;for(this._dataLength=e.length,this._bufferLength=e.buflen,i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],s=0;s<n.length;s+=1)this._buffer8[s]=n.charCodeAt(s)},t.prototype.end=function(e){e===void 0&&(e=!1);var n=this._bufferLength,r=this._buffer8,i=this._buffer32,s=(n>>2)+1,o;if(this._dataLength+=n,r[n]=128,r[n+1]=r[n+2]=r[n+3]=0,i.set(t.buffer32Identity.subarray(s),s),n>55&&(t._md5cycle(this._state,i),i.set(t.buffer32Identity)),o=this._dataLength*8,o<=4294967295)i[14]=o;else{var l=o.toString(16).match(/(.*?)(.{0,8})$/);if(l===null)return;var u=parseInt(l[2],16),d=parseInt(l[1],16)||0;i[14]=u,i[15]=d}return t._md5cycle(this._state,i),e?this._state:t._hex(this._state)},t.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),t.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t.hexChars="0123456789abcdef",t.hexOut=[],t.onePassHasher=new t,t}();zp.Md5=zN;zN.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592"&&console.error("Md5 self test failed.")});var QN,X,Li=E(()=>{QN=Ge(Eu()),X=class{constructor(){this.node=null;this.errorCode="";this.message="";this.level=0;this.range=null;this.actions=[];this.lsRange=null;this.data=null}hash(){var n,r,i,s;let e="";return this.node!=null&&(e=((r=(n=this.node.endPosition)==null?void 0:n.offset)!=null?r:0).toString()+"|"+((s=(i=this.node.startPosition)==null?void 0:i.offset)!=null?s:0).toString()+"|"),QN.Md5.hashStr(e+"|"+this.errorCode)}static makeSyntaxError(e,n,r,i){i==null&&(i=0);let s=new X;return s.errorCode=e,s.node=n,s.message=r,s.level=i,s}}});var O,Di=E(()=>{O=class{};O.TYPE_EXPECTING_OPERAND="ANTLR_001",O.TYPE_UNEXPECTED_END_OF_INPUT="ANTLR_002",O.TYPE_RUNTIME_TYPE_MISMATCH="ANTLR_003",O.TYPE_RUNTIME_DIVIDE_BY_ZERO="ANTLR_004",O.TYPE_RUNTIME_UNKNOWN_LANG_OPERATOR="ANTLR_005",O.TYPE_RUNTIME_UNEXPECTED_STACK_CONDITION="ANTLR_006",O.TYPE_RUNTIME_PARSE_VALUE_VIOLATION="ANTLR_007",O.TYPE_PARSE_UNCLOSED_CONDITIONAL="ANTLR_008",O.TYPE_PARSE_EMPTY_CONDITIONAL="ANTLR_009",O.TYPE_PARSE_UNPAIRED_CONDITIONAL="ANTLR_008",O.TYPE_ILLEGAL_STRING_ESCAPE_SEQUENCE="ANTLR_009",O.TYPE_INCOMPLETE_ANTLERS_REGION="ANTLR_010",O.TYPE_INCOMPLETE_ANTELRS_COMMENT_REGION="ANTLR_011",O.TYPE_ILLEGAL_VARPATH_RIGHT="ANTLR_012",O.TYPE_ILLEGAL_DOTVARPATH_RIGHT="ANTLR_013",O.TYPE_ILLEGAL_VARPATH_SUBPATH_START="ANTLR_014",O.TYPE_ILLEGAL_VARPATH_SPACE_RIGHT="ANTLR_015",O.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR="ANTLR_016",O.TYPE_ILLEGAL_VARIABLE_NAME="ANTLR_017",O.TYPE_UNSET_MODIFIER_DETAILS="ANTLR_018",O.TYPE_MODIFIER_NAME_NOT_START_OF_DETAILS="ANTLR_019",O.TYPE_MODIFIER_UNEXPECTED_VALUE="ANTLR_020",O.TYPE_MODIFIER_UNEXPECTED_END_OF_VALUE_LIST="ANTLR_021",O.TYPE_TERNARY_EXPECTING_BRANCH_SEPARATOR="ANTLR_022",O.TYPE_TERNARY_UNEXPECTED_EXPRESSION_LENGTH="ANTLR_023",O.TYPE_RECURSIVE_UNPAIRED_NODE="ANTLR_024",O.TYPE_RECURSIVE_NODE_INVALID_POSITION="ANTLR_025",O.TYPE_NO_PARSE_UNASSOCIATED="ANTLR_026",O.TYPE_RECURSIVE_NODE_UNASSOCIATED_PARENT="ANTLR_027",O.TYPE_LOGIC_GROUP_NO_END="ANTLR_028",O.TYPE_LOGIC_GROUP_NO_START="ANTLR_029",O.TYPE_UNEXPECTED_BRANCH_SEPARATOR="ANTLR_030",O.TYPE_UNEXPECTED_BRANCH_SEPARATOR_FOR_VARCOMBINE="ANTLR_031",O.TYPE_UNEXPECTED_MODIFIER_SEPARATOR="ANTLR_032",O.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_DETAILS="ANTLR_033",O.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_VALUE="ANTLR_034",O.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NODE_PARAMETER="ANTLR_035",O.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE="ANTLR_036",O.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS="ANTLR_037",O.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SEMANTIC_GROUP="ANTLR_038",O.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NULL_COALESCENCE_GROUP="ANTLR_039",O.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP="ANTLR_040",O.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP_FALSE_BRANCH="ANTLR_041",O.TYPE_UNEXPECTED_EOI_WHILE_EXITING_TERNARY_GROUP="ANTLR_042",O.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_NEGATION_OFFSET="ANTLR_043",O.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END_DUE_TO_NEGATION="ANTLR_044",O.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END="ANTLR_045",O.TYPE_RUNTIME_UNKNOWN_LIBRARY="ANTLR_046",O.TYPE_RUNTIME_LIBRARY_BAD_METHOD_CALL="ANTLR_047",O.TYPE_UNEXPECTED_FACTORIAL_WHILE_CREATING_GROUPS="ANTLR_048",O.TYPE_UNEXPECTED_FACTORIAL_OPERAND="ANTLR_049",O.TYPE_UNEXPECTED_LOGIC_NEGATION_OPERATOR="ANTLR_050",O.TYPE_FACTORIAL_MATERIALIZED_BOOL_DETECTED="ANTLR_051",O.TYPE_ARG_UNEXPECTED_NAMED_ARGUMENT="ANTLR_052",O.TYPE_UNEXPECTED_EOI_PARSING_BRANCH_GROUP="ANTLR_053",O.TYPE_UNEXPECTED_UNNAMED_METHOD_ARGUMENT="ANTLR_054",O.TYPE_LIBRARY_CALL_NO_ARGS_PROVIDED="ANTLR_055",O.TYPE_LIBRARY_CALL_MISSING_REQUIRED_FORMAL_ARG="ANTLR_056",O.TYPE_LIBRARY_CALL_RUNTIME_TYPE_MISMATCH="ANTLR_057",O.TYPE_LIBRARY_CALL_UNEXPECTED_ARG_RESOLVE_FAULT="ANTLR_058",O.TYPE_LIBRARY_CALL_TOO_MANY_ARGUMENTS="ANTLR_059",O.TYPE_UNEXPECTED_TOKEN_WHILE_PARSING_METHOD="ANTLR_060",O.TYPE_INVALID_NAMED_ARG_IDENTIFIER="ANTLR_061",O.TYPE_LIBRARY_CALL_INVALID_ARGUMENT_NAME="ANTLR_062",O.TYPE_RUNTIME_ATTEMPT_TO_OVERWRITE_LOADED_LIBRARY="ANTLR_063",O.TYPE_UNEXPECTED_EOI_WHILE_PARSING_ARG_GROUP="ANTLR_064",O.TYPE_EXPECTING_ARGUMENT_GROUP="ANTLR_065",O.TYPE_RUNTIME_PROTECTED_LIBRARY_ACCESS_VIOLATION="ANTLR_066",O.TYPE_RUNTIME_FATAL_UNPAIRED_LOOP_END="ANTLR_067",O.TYPE_UNEXPECTED_OPERATOR="ANTLR_068",O.TYPE_OPERATOR_INVALID_ON_RIGHT="ANTLR_069",O.TYPE_INVALID_ASSIGNMENT_LOOP_PAIR="ANTLR_070",O.TYPE_UNEXPECTED_EOI_PARSING_ORDER_GROUP="ANTLR_071",O.TYPE_EXPECTING_ORDER_GROUP_FOR_ORDER_BY_OPERAND="ANTLR_072",O.TYPE_QUERY_UNSUPPORTED_VALUE_TYPE="ANTLR_073",O.TYPE_UNEXPECTED_RUNTIME_RESULT_FOR_ORDER_BY_CLAUSE="ANTLR_074",O.TYPE_UNEXPECTED_EMPTY_DIRECTION_GROUP="ANTLR_075",O.TYPE_INVALID_ORDER_BY_NAME_VALUE="ANTLR_076",O.TYPE_INVALID_ORDER_BY_SORT_VALUE="ANTLR_077",O.TYPE_UNEXPECTED_TOKEN_FOR_GROUP_BY="ANTLR_78",O.TYPE_UNEXPECTED_EOI_WHILE_PARSING_GROUP_BY="ANTLR_079",O.TYPE_UNEXPECTED_GROUP_BY_AS_ALIAS_TYPE="ANTLR_080",O.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SWITCH_GROUP="ANTLR_081",O.TYPE_UNEXPECTED_TOKEN_FOR_SWITCH_GROUP="ANTLR_082",O.TYPE_UNEXPECTED_SWITCH_START_VALUE="ANTLR_083",O.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE="ANTLR_084",O.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_SEMANTIC_VALUE="ANTLR_085",O.TYPE_SWITCH_DEFAULT_MUST_BE_LAST="ANTLR_086",O.TYPE_PARSER_INVALID_SWITCH_TOKEN="ANTLR_087",O.TYPE_ORDER_BY_INVALID_RETURN_TYPE="ANTLR_088",O.TYPE_GROUP_BY_SCOPED_GROUP_MUST_BE_ENCLOSED="ANTLR_089",O.TYPE_PLUCK_INTO_MISSING_VARIABLE_TARGET="ANTLR_090",O.TYPE_PLUCK_INTO_INVALID_VARIABLE_TARGET="ANTLR_091",O.TYPE_PLUCK_INTO_NO_PREDICATE="ANTLR_092",O.TYPE_PLUCK_INTO_INVALID_PREDICATE_VALUE="ANTLR_093",O.TYPE_PLUCK_INTO_EMPTY_LOGIC_GROUP="ANTLR_094",O.TYPE_PLUCK_INTO_INVALID_NUMBER_OF_TUPLE_VARIABLES="ANTLR_095",O.TYPE_PLUCK_INTO_UNKNOWN_ALIAS_VARNAME="ANTLR_096",O.TYPE_PLUCK_INTO_UNEXPECTED_EMPTY_T_LOGIC_GROUP="ANTLR_097",O.TYPE_PLUCK_INTO_REFERENCE_TYPE_DYNAMIC="ANTLR_098",O.TYPE_PLUCK_INTO_REFERENCE_AMBIGUOUS="ANTLR_099",O.TYPE_RUNTIME_ASSIGNMENT_TO_NON_VAR="ANTLR_100",O.TYPE_ARR_MAKE_MISSING_TARGET="ANTLR_101",O.TYPE_ARR_MAKE_UNEXPECTED_TYPE="ANTLR_102",O.TYPE_ARR_MAKE_MISSING_ARR_KEY_PAIR_VALUE="ANTLR_103",O.TYPE_ARR_KEY_PAIR_INVALID_KEY_TYPE="ANTLR_104",O.TYPE_ARR_UNEXPECT_ARG_SEPARATOR="ANTLR_105",O.TYPE_ARR_KEY_PAIR_MISSING_KEY="ANTLR_106",O.RUNTIME_PROTECTED_VAR_ACCESS="ANTLR_107",O.RUNTIME_PROTECTED_TAG_ACCESS="ANTLR_108",O.RUNTIME_PROTECTED_MODIFIER_ACCESS="ANTLR_109",O.TYPE_INCOMPLETE_PHP_EVALUATION_REGION="ANTLR_110",O.RUNTIME_PHP_NODE_WHEN_PHP_DISABLED="ANTLR_111",O.RUNTIME_PHP_NODE_USER_CONTENT_TAG="ANTLR_112",O.TYPE_UNEXPECTED_TYPE_FOR_TUPLE_LIST="ANTLR_113",O.TYPE_UNEXPECTED_EOI_PARSING_TUPLE_LIST="ANTLR_114",O.TYPE_MISSING_BODY_TUPLE_LIST="ANTLR_115",O.TYPE_MISSING_NAMES_TUPLE_LIST="ANTLR_116",O.TYPE_VALUE_NAME_LENGTH_MISMATCH_TUPLE_LIST="ANTLR_117",O.TYPE_INVALID_TUPLE_LIST_NAME_TYPE="ANTLR_118",O.TYPE_INVALID_MANIFESTED_NAME_GROUP="ANTLR_119",O.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE_GROUP="ANTLR_120",O.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE="ANTLR_121",O.TYPE_RUNTIME_BAD_METHOD_CALL="ANTLR_122",O.TYPE_METHOD_CALL_MISSING_ARG_GROUP="ANTLR_123",O.TYPE_INVALID_METHOD_CALL_ARG_GROUP="ANTLR_124",O.TYPE_METHOD_CALL_MISSING_METHOD="ANTLR_125",O.TYPE_MODIFIER_NOT_FOUND="ANTLR_126",O.TYPE_RUNTIME_GENERAL_FAULT="ANTLR_127",O.TYPE_MODIFIER_INCORRECT_VALUE_POSITION="ANTLR_128",O.TYPE_MODIFIER_UNEXPECTED_TOKEN_METHOD_SYNTAX="ANTLR_129",O.TYPE_RUNTIME_ATTEMPTING_TO_RENDER_OBJECT_AS_STRING="ANTLR_130",O.TYPE_UNPAIRED_CLOSING_TAG="ANTLR_131",O.PARSER_CANNOT_PARSE_PATH_RECURSIVE="ANTLR_200",O.PATH_STRING_NOT_INSIDE_ARRAY_ACCESSOR="ANTLR_201",O.LINT_UNKNOWN_PARAMETER="ANTLR_500",O.LINT_GENERAL_INVALID_PARAMETER_CONTENTS="ANTLR_501",O.LINT_PARAMETER_CONTENT_INVALID_INTEGER="ANTLR_502",O.LINT_PARAMETER_CONTENT_INVALID_BOOLEAN="ANT LR_503",O.LINT_PAGINATE_INVALID_VALUE="ANTLR_504",O.LINT_DEBUG_DATA_EXPOSED="ANTLR_505",O.LINT_DOUBLE_COLON_IN_TAG_IDENTIFIER="ANTLR_506",O.LINT_MIXED_MODIFIERS="ANTLR_507",O.LINT_MODIFIER_UNEXPECTED_TYPE="ANTLR_508",O.LINT_REMOVE_RELATE_TAG="ANTLR_509",O.LINT_SET_PRODUCES_RUNTIME_ERROR="ANTLR_510",O.LINT_FRONT_MATTER_EMPTY_DOCUMENT="ANTLR_511",O.LINT_SHORTHAND_MODIFIER_TAG_MUST_MATCH="ANTLR_512",O.LINT_INVALID_FRONT_MATTER="ANTLR_513",O.LINT_DUPLICATE_CODE="ANTLR_514",O.LINT_VERSION_NOT_COMPATIBLE="ANTLR_515",O.LINT_INTERLEAVED_TAG_PAIRS="ANTLR_516",O.LINT_MISSING_REQUIRED_PARAMETER="ANTLR_517",O.LINT_POSSIBLE_PARTIAL_RECURSION="ANTLR_518",O.LINT_URL_VARIABLE_WITHOUT_SANITIZE="ANTLR_519",O.LINT_DYNAMIC_CLASS_NAMES_POSSIBLE_PURGE="ANTLER_520",O.LINT_DEPRECATED_MODIFIER="ANTLER_521"});var vt,Ru=E(()=>{nt();Sn();vt=class{static distance(e,n){return e.endPosition==null||n.startPosition==null?this.DistMax:n.startPosition.index-e.endPosition.index}static getTrueName(e){var n,r,i,s;return e.originalNode!=null?(r=(n=e.originalNode.name)==null?void 0:n.name)!=null?r:"":(s=(i=e.name)==null?void 0:i.name)!=null?s:""}static getSimpleVarName(e){return e.variableReference!=null&&e.variableReference.pathParts.length==1&&e.variableReference.pathParts[0]instanceof gr?e.variableReference.pathParts[0].name:""}static isVariableMatching(e,n){return e instanceof xe?e.name==n:!1}static mergeVarContentLeft(e,n,r){return r.mergeRefName=r.name,r.endPosition=n.endPosition,r.name=r.name+e,r}static mergeVarContentRight(e,n,r){return r.mergeRefName=r.name,r.startPosition=n.startPosition,r.name=e+r.name,r}static mergeVarRight(e,n){return n.mergeRefName=n.name,n.startPosition=e.startPosition,n.name=e.name+n.name,n}static getUnrefName(e){return te.trimLeft(e,":.")}};vt.DistMax=65e3});var Vr,Tr,_o=E(()=>{Li();Di();nt();Ru();Vr=class{static isConditionalStructure(e){var r,i;if(e.isComment)return!1;let n=(i=(r=e.name)==null?void 0:r.name)!=null?i:"";return n=="if"||n=="elseif"||n=="else"}static requiresClose(e){var r,i;let n=(i=(r=e.name)==null?void 0:r.name)!=null?i:"";return n=="elseif"||n=="else"?e.isClosedBy==null:!(e.isClosingTag||e.isClosedBy!=null)}static getValidClosingPairs(e){return e=="if"||e=="elseif"?Vr.conditionClosingPairs:[]}static findClosestStructurePair(e,n,r){var d,h,m,y,b,T,x,D;let i=[],s=e.length,o=new Map,l=null;i.push({node:n,index:r});for(let _=0;_<s;_+=1){let P=e[_];if(P instanceof Z){let v=(h=(d=P.name)==null?void 0:d.name)!=null?h:"";if(P.isClosingTag&&v=="if"){o.set(_,_);continue}else if(v=="elseif"||v=="else"){o.set(_,_);continue}}}let u=o.size;for(;i.length>0;){let _=i.pop();if(_==null)continue;if(_.node._conditionParserAbandonPairing)break;let P=_.node,v=Vr.getValidClosingPairs((y=(m=P.name)==null?void 0:m.name)!=null?y:""),S=_.index,w=!1;if(u>50&&l!=null){for(let[J,Y]of o)if(J>S){S=J;break}}for(let J=S;J<s;J++){let Y=e[J];if(Y instanceof Z&&Vr.isConditionalStructure(Y)){if(Vr.requiresClose(Y)){i.push(_),i.push({node:Y,index:J+1}),w=!0;break}if(P.isClosedBy!=null)continue;let ae=(T=(b=Y.name)==null?void 0:b.name)!=null?T:"",he=!1;if(Y.ref==0&&(Y.isClosingTag&&ae=="if"||v.includes(ae))&&(he=!0),Y.refId==P.refId&&(he=!1),he){l=J,o.delete(J),P.isClosedBy=Y,Y.isOpenedBy=P,Y.ref+=1,w=!0;break}}}if(!w&&P instanceof Z){let J=(D=(x=P.name)==null?void 0:x.name)!=null?D:"";if((J=="elseif"||J=="else")&&P.isOpenedBy==null){let Y='Unpaired "'+vt.getTrueName(P)+'" control structure.';P.isInterpolationNode&&(Y+=" Tag pairs are not supported within Antlers tags."),P.pushError(X.makeSyntaxError(O.TYPE_PARSE_UNPAIRED_CONDITIONAL,P,Y)),P._conditionParserAbandonPairing=!0}if(P.isClosedBy==null&&Vr.requiresClose(P)){let Y='Unclosed "'+vt.getTrueName(P)+'" control structure.';P.isInterpolationNode&&(Y+=" Tag pairs are not supported within Antlers tags."),P.pushError(X.makeSyntaxError(O.TYPE_PARSE_UNCLOSED_CONDITIONAL,P,Y)),P._conditionParserAbandonPairing=!0}}}}static pairConditionals(e){for(let n=0;n<e.length;n+=1){let r=e[n];r instanceof Z&&Vr.isConditionalStructure(r)&&Vr.requiresClose(r)&&Vr.findClosestStructurePair(e,r,n+1)}return e.forEach(n=>{var r,i;if(n instanceof Z&&Vr.isConditionalStructure(n)){let s=(i=(r=n.name)==null?void 0:r.name)!=null?i:"";if((s=="elseif"||s=="else")&&n.isOpenedBy==null){n.pushError(X.makeSyntaxError(O.TYPE_PARSE_UNPAIRED_CONDITIONAL,n,'Unpaired "'+vt.getTrueName(n)+'" control structure.'));return}if(n.isClosedBy==null&&Vr.requiresClose(n)){n.pushError(X.makeSyntaxError(O.TYPE_PARSE_UNCLOSED_CONDITIONAL,n,"Unclosed "+vt.getTrueName(n)+" control structure."));return}}}),e}},Tr=Vr;Tr.conditionClosingPairs=["elseif","else"]});function Na(t,e){return e==null&&(e="s"),t.replace(new RegExp("^["+e+"]+"),"")}function Br(t,e,n){return t.replace(new RegExp(e,"g"),n)}function Qp(t,e){return e==null&&(e="s"),t.replace(new RegExp("["+e+"]+$"),"")}var Mi=E(()=>{});function yo(){return(Date.now().toString(32)+Math.random().toString(16)).replace(/\./g,"")}var ku=E(()=>{});function XN(){return Br(yo(),"-","_")}function JL(t){let e=[],n=[];for(let r=0;r<t.length;r++){let i=t[r],s=i.refId;if(n.includes(s))break;e.push(i),n.push(s)}return e}var Ou,Xp,ce,Jp,Fn,Z,_r,xt,qr,bo,Ql,Zp,Nn,Xl,Jl,No,Zl,eh,ri,Ur,ii,yr,br,Fi,Ls,Vi,Nr,Vn,si,ai,vr,oi,li,Bi,nr,jr,is,ci,ui,fi,di,pi,hi,ss,mi,vn,va,Ht,xn,ec,Bn,gi,Gr,In,Wr,qi,Hr,qn,Ui,cn,pn,vo,Je,Io,Ia,th,as,tc,Xt,Zt,Yr,os,Co,Ti,nh,Ds,Et,hn,En,un,wu,nc,en,Yt,xe,rh,gr,Ms,ih,nt=E(()=>{$l();NN();WN();HN();Sn();$N();_o();Mi();ku();Ou=class{constructor(){this.startPosition=null;this.endPosition=null;this.index=0;this.embeddedIndex=0;this.refId=null;this.parameters=[];this.isSelfClosing=!1;this.isClosingFragment=!1;this.name="";this.containsStructures=!1;this.refId=XN()}},Xp=class{constructor(){this.startPosition=null;this.endPosition=null;this.content="";this.name=""}};ce=class{constructor(){this.refId=null;this.index=0;this.parent=null;this.content="";this.rawLexContent="";this.sourceContent="";this.startPosition=null;this.endPosition=null;this.modifierChain=null;this.originalAbstractNode=null;this.positionContexts=[];this.addedContexts=new Map;this.fragment=null;this.fragmentParameter=null;this.fragmentPosition=3;this.containsAnyFragments=!1;this.containsChildStructures=!1;this.isInScriptTag=!1;this.isInStyleTag=!1;this.isVirtual=!0;this.isPartOfMethodChain=!1;this.isVirtualGroupMember=!1;this.isVirtualGroupOperatorResolve=!1;this.isSwitchGroupMember=!1;this.isListGroupMember=!1;this.producesVirtualStatementTerminator=!1;this.convertedToOperator=!1;this.scopeVariable=null;this.currentScope=null;this.manifestType="";this.scopeName=null;this.sourceType="";this.runtimeType=null;this.modifiers=new Yp(this);this.prev=null;this.next=null;this.methodTarget=null;this.libraryTarget=null;this.antlersErrors=[];this.parser=null;this.refId=XN()}isEmbedded(){return this.isInScriptTag||this.isInStyleTag}getContexts(){return this.positionContexts}addContext(e){this.addedContexts.has(e.refId)==!1&&(this.addedContexts.set(e.refId,!0),this.positionContexts.push(e))}getRange(){if(this.originalAbstractNode!=null)return this.originalAbstractNode.getRange();if(this.startPosition==null||this.endPosition==null)return zl.Empty;let e=new zl;return e.start=this.startPosition,e.end=this.endPosition,e}withParser(e){this.parser=e}getParser(){return this.parser}pushError(e){this.parent!=null&&this.parent.pushError(e),this.antlersErrors.push(e),this.parent==null&&this.parser!=null&&this.parser.pushError(e)}mergeErrors(e){e.forEach(n=>{n.node==null&&(n.node=this),this.antlersErrors.push(n)})}getErrors(){return this.antlersErrors}innerContent(){return this.content}rawContent(){return this.content}},Jp=class extends ce{constructor(){super(...arguments);this.head=null;this.tail=null;this.nodes=[];this.documentText="";this.childDocument=null}getImmediateChildren(){return this.head==null?[]:this.head.getImmediateChildren()}},Fn=class extends ce{constructor(){super(...arguments);this.logicBranches=[];this.chain=[];this.nodeContent="";this.fragment=null;this.fragmentParameter=null;this.fragmentPosition=3;this.containsAnyFragments=!1;this.containsChildStructures=!1}},Z=class extends ce{constructor(){super(...arguments);this.isNodeAbanonded=!1;this.isComment=!1;this.isTagNode=!1;this.isConditionNode=!1;this.runtimeContent="";this.name=null;this.pathReference=null;this.isClosingTag=!1;this.isInterpolationNode=!1;this.isOpenedBy=null;this.isClosedBy=null;this.isSelfClosing=!1;this.children=[];this.runtimeNodes=[];this.parsedRuntimeNodes=[];this.hasParsedRuntimeNodes=!1;this.parameters=[];this.hasParameters=!1;this.contentOffset=null;this.cachedContent=null;this.cachedInnerContent=null;this.hasRecursiveNode=!1;this.recursiveReference=null;this.rawStart="";this.rawEnd="";this.originalNode=null;this.interpolationRegions=new Map;this.processedInterpolationRegions=new Map;this.hasProcessedInterpolationRegions=!1;this.ref=0;this.contentStartRelativeIndex=null;this.antlersNodeIndex=0;this.nameStartsOn=null;this.nameEndsOn=null;this.nameMethodPartStartsOn=null;this.documentText="";this.nodeContent="";this.childDocument=null;this.structure=new $p(this);this.isInlineAntlers=!1;this.mustClose=!1;this.reference=null;this._conditionParserAbandonPairing=!1;this._isEndVirtual=!1}getOriginalContent(){return this.startPosition==null||this.endPosition==null||this.parser==null?"":this.isClosedBy!=null?this.isClosedBy.startPosition==null||this.isClosedBy.endPosition==null?"":this.parser.getText(this.startPosition.index,this.isClosedBy.endPosition.index+1):this.parser.getText(this.startPosition.index,this.endPosition.index+1)}getNodeDocumentText(){return this.startPosition==null||this.endPosition==null||this.parser==null?"":this.parser.getText(this.startPosition.index,this.endPosition.index+1)}getImmediateChildren(){let e=[];for(let n=0;n<this.children.length;n++){let r=this.children[n];if(r.parent==this){if(r==this.isClosedBy)break;e.push(r)}}return JL(e)}getChildren(){if(this.isClosedBy==null)return[];let e=[];for(let n=0;n<this.children.length;n++){let r=this.children[n];if(r instanceof Z&&r.refId==this.isClosedBy.refId)break;e.push(r)}return e}getInnerDocumentText(){if(this.startPosition==null||this.endPosition==null||this.parser==null)return"";if(this.isClosedBy==null)return this.getNodeDocumentText();let e=this.isClosedBy.startPosition;return e==null?"":this.parser.getText(this.endPosition.index+1,e.index)}nodeAtIndex(e){if(this.runtimeNodes.length==0)return null;for(let n=0;n<this.runtimeNodes.length;n++)if(this.runtimeNodes[n].index==e)return this.runtimeNodes[n];return null}getDepthCount(){if(this.parent==null)return 1;let e=this.parent,n=1;for(;e!=null;){if(n+=1,e.parent===e){e=null;break}e=e.parent}return n}isEmpty(){return this.content.trim().length==0}nameMatches(e){return this.name==null?!1:this.name.content==e}copyBasicDetails(){return this.copyBasicDetailsTo(new Z)}copyBasicDetailsTo(e){return e.refId=this.refId,e.isComment=this.isComment,e.isTagNode=this.isTagNode,e.children=this.children,e.parent=this.parent,e.parameters=this.parameters,e.isClosingTag=this.isClosingTag,e.rawStart=this.rawStart,e.rawEnd=this.rawEnd,e.startPosition=this.startPosition,e.endPosition=this.endPosition,e.originalAbstractNode=this,e.containsAnyFragments=this.containsAnyFragments,e.containsChildStructures=this.containsChildStructures,e.isInScriptTag=this.isInScriptTag,e.isInStyleTag=this.isInStyleTag,e}id(){return this.refId}innerContent(){return this.cachedInnerContent==null&&(this.cachedInnerContent=this.content.replace('"','\\"')),this.cachedInnerContent}resetContentCache(){this.cachedContent=null,this.cachedInnerContent=null}hasMethodPart(){return this.name==null?!1:this.name.getMethodName()!=null}runtimeName(){return this.name==null?"":this.name.getCompoundTagName()}getTagName(){return this.name==null?"":this.name.name}getNameContent(){return this.name==null?"":this.name.content}getMethodNameValue(){if(this.name==null)return"";let e=this.name.getMethodName();return e!=null?e:""}methodIsEmptyOrMatches(e){return this.getMethodNameValue()==e}hasParameter(e){return this.findParameter(e)!=null}hasParameterWithValue(e,n){let r=this.findParameter(e);return r==null?!1:r.value==n}findParameterValue(e,n){let r=this.findParameter(e);return r==null?n:r.value}findParameterValueOrNull(e){let n=this.findParameter(e);return n==null?null:n.value}findParameter(e){if(this.parameters.length==0)return null;for(let n=0;n<this.parameters.length;n++)if(this.parameters[n].name==e)return this.parameters[n];return null}findAnyParameter(e){for(let n=0;n<e.length;n++){let r=this.findParameter(e[n]);if(r!=null)return r}return null}getContentRelativeStartIndex(){if(this.contentStartRelativeIndex==null){let e=this.content.split("");for(let n=0;n<e.length;n++)if(!te.ctypeSpace(e[n])){this.contentStartRelativeIndex=n;break}this.contentStartRelativeIndex==null&&(this.contentStartRelativeIndex=e.length),this.contentStartRelativeIndex+=this.rawStart.length}return this.contentStartRelativeIndex}getContentAfterName(){let e=0;return this.nameEndsOn!=null&&(e=this.nameEndsOn.char-this.rawStart.length-1),this.content.substring(e)}getContent(){if(this.cachedContent==null)if(this.isComment)this.cachedContent=this.content,this.contentOffset=this.startPosition;else if(this.isTagNode){let e=this.content;e=te.trimLeft(e);let n=0;if(this.name!=null&&(n=this.name.compound.length),this.parameters.length>0){let o=0,l=this.parameters[0];l.startPosition!=null&&(o=l.startPosition.index-1);let u=e,d=u.trimLeft(),h=u.length-d.length,m=n;e=e.substr(0,o)}let r=e.trimLeft(),i=e.length-r.length,s=n+i+2;if(this.parser!=null){let o=0;this.startPosition!=null&&(o=this.startPosition.offset),this.contentOffset==this.parser.positionFromOffset(o+s,0)}this.name!=null?this.name.name=="if"||this.name.name=="elseif"||this.name.name=="unless"||this.name.name=="elseunless"?(e=" "+e.trimLeft(),this.cachedContent=e.substr(this.name.compound.length+1)):this.cachedContent=e:this.cachedContent=e}else if(this.parameters.length>0){let e=this.parameters[0],n=0;e.startPosition!=null&&(n=e.startPosition.index-1),this.contentOffset=this.startPosition,this.cachedContent=this.content.substr(0,n)}else this.contentOffset=this.startPosition,this.cachedContent=this.content;return this.cachedContent}relativePositionFromOffset(e,n){var r,i;return this.parser==null?null:this.parser.positionFromOffset(((i=(r=this.contentOffset)==null?void 0:r.offset)!=null?i:0)+e,n)}getInterpolationNode(e){if(this.processedInterpolationRegions.has(e)){let n=this.processedInterpolationRegions.get(e);if(n.length>0&&n[0]instanceof Z)return n[0]}return null}_lexerRelativeOffset(e,n=null){var o,l;let r=e;if(n!=null&&(r=n),this.parser==null){let u=new tr;return u.index=e,u.offset=e,u}let i=e+this.rawStart.length+((l=(o=this.startPosition)==null?void 0:o.index)!=null?l:0);return this.isTagNode&&this.nameStartsOn!=null&&(i=this.nameStartsOn.index+e,Tr.isConditionalStructure(this)||(i-=this.rawStart.length)),this.parser.positionFromOffset(i,i,!0)}relativeOffset(e,n=null){var o,l;let r=e;if(n!=null&&(r=n),this.parser==null){let u=new tr;return u.index=e,u.offset=e,u}let i=e+this.rawStart.length+((l=(o=this.startPosition)==null?void 0:o.index)!=null?l:0);return this.parser.positionFromOffset(i,i,!0)}isPaired(){return this.isClosingTag&&this.isSelfClosing==!1&&this.isOpenedBy!=null?!0:!(this.isClosedBy==null||this.isSelfClosing)}getFinalClosingTag(){return this.isClosedBy==null?this:this.isClosedBy.getFinalClosingTag()}rawContent(){return this.rawStart+this.content+this.rawEnd}getTrueRuntimeNodes(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueRuntimeNodes():this.runtimeNodes}getTrueRawContent(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueRawContent():this.rawContent()}getTrueNode(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueNode():this}getStructuralChildren(){return this.isClosedBy!=null?Kp(this.children.slice(0,-1)):Kp(this.children)}findParentOfType(e){return this.parent==null?null:this.parent instanceof Z?this.parent.name!=null&&e.includes(this.parent.getTagName())?this.parent:this.parent.findParentOfType(e):null}},_r=class extends Z{static makeWithStartPosition(e){let n=new _r;return n.startPosition=e,n.endPosition=e,n}},xt=class extends _r{},qr=class extends Z{constructor(){super(...arguments);this.recursiveParent=null;this.isNestedRecursive=!1}},bo=class extends Z{constructor(){super(...arguments);this.isEchoNode=!1}},Ql=class extends _r{},Zp=class extends _r{},Nn=class extends Z{constructor(){super(...arguments);this.isNoParseRegion=!1}},Xl=class extends ce{constructor(){super(...arguments);this.modifier=null;this.isModifierParameter=!1;this.nameDelimiter='"';this.isVariableReference=!1;this.name="";this.value="";this.interpolations=[];this.parent=null;this.blockPosition=null;this.namePosition=null;this.valuePosition=null}containsSimpleValue(){return this.hasInterpolations()==!1&&this.isVariableReference==!1}hasInterpolations(){return this.interpolations.length>0}getArrayValue(){return this.value.split("|")}getValue(){return this.value}},Jl=class{constructor(){this.modifierTarget=null;this.modifierChain=[];this.startPosition=null;this.endPosition=null;this.lastManifestedModifier=null;this.lastModifier=null}updateValues(){if(this.modifierChain.length==0)this.startPosition=null,this.endPosition=null;else{let e=this.modifierChain[0],n=this.modifierChain[this.modifierChain.length-1];this.startPosition=e.startPosition,this.endPosition=n.endPosition}}},No=class extends ce{constructor(){super(...arguments);this.modifier=null;this.methodStyleArguments=null;this.nameNode=null;this.name="";this.valueNodes=[];this.parameters=[]}getParameterValues(){let e=[];return this.parameters.forEach(n=>{e.push(n.value)}),e}},Zl=class extends ce{constructor(){super(...arguments);this.order=0;this.name=null;this.directionNode=null}},eh=class extends ce{constructor(){super(...arguments);this.value=""}},ri=class extends ce{},Ur=class extends ce{},ii=class extends ce{},yr=class extends ce{},br=class extends ce{},Fi=class extends ce{},Ls=class extends ce{constructor(){super(...arguments);this.repeat=1}},Vi=class extends ce{},Nr=class extends ce{},Vn=class extends ce{},si=class extends ce{},ai=class extends ce{},vr=class extends ce{},oi=class extends ce{},li=class extends ce{},Bi=class extends ce{},nr=class extends ce{},jr=class extends ce{},is=class extends ce{},ci=class extends ce{},ui=class extends ce{},fi=class extends ce{},di=class extends ce{},pi=class extends ce{},hi=class extends ce{},ss=class extends ce{},mi=class extends ce{},vn=class extends ce{},va=class extends ce{constructor(){super(...arguments);this.orderClauses=[]}},Ht=class extends ce{},xn=class extends ce{},ec=class extends ce{constructor(){super(...arguments);this.left=null;this.right=null}},Bn=class extends ce{constructor(){super(...arguments);this.isTenaryBranchSeparator=!1}},gi=class extends ce{},Gr=class extends ce{},In=class extends ce{},Wr=class extends ce{},qi=class extends ce{},Hr=class extends ce{},qn=class extends ce{},Ui=class extends ce{},cn=class extends ce{},pn=class extends ce{},vo=class extends ce{constructor(){super(...arguments);this.values=[];this.isNamedNode=!1;this.parsedName=null}},Je=class extends ce{constructor(){super(...arguments);this.start=null;this.end=null;this.nodes=[];this.scopeOperator=null}},Io=class extends ce{constructor(){super(...arguments);this.condition=null;this.expression=null}},Ia=class extends ce{constructor(){super(...arguments);this.cases=[]}},th=class extends ce{constructor(){super(...arguments);this.left=null;this.right=null}},as=class extends ce{constructor(){super(...arguments);this.nodes=[]}},tc=class extends ce{constructor(){super(...arguments);this.head=null;this.truthBranch=null;this.falseBranch=null}},Xt=class extends ce{},Zt=class extends ce{constructor(){super(...arguments);this.nodes=[];this.separatorToken=null}},Yr=class extends Je{constructor(){super(...arguments);this.scope=null}extract(){let e=null;this.scope!=null&&(e=this.scope.name);let n=this.nodes[0];return[e,n.nodes]}},os=class extends Yr{constructor(){super(...arguments);this.alias=null}},Co=class extends ce{constructor(){super(...arguments);this.args=[];this.hasNamedArguments=!1;this.numberOfNamedArguments=0}},Ti=class extends ce{},nh=class extends ce{},Ds=class extends ce{constructor(){super(...arguments);this.libraryName="";this.methodName="";this.arguments=null}},Et=class extends ce{constructor(){super(...arguments);this.sourceContent=""}},hn=class extends ce{constructor(){super(...arguments);this.method=null;this.args=null}},En=class extends ce{constructor(){super(...arguments);this.name=""}},un=class extends ce{constructor(){super(...arguments);this.value="";this.name=""}},wu=class extends ce{constructor(){super(...arguments);this.name=null;this.value=null}},nc=class extends ce{constructor(){super(...arguments);this.name=null;this.value=null}},en=class extends ce{constructor(){super(...arguments);this.value=null}},Yt=class extends ce{constructor(){super(...arguments);this.value="";this.sourceTerminator="";this.sourceContent=""}},xe=class extends ce{constructor(){super(...arguments);this.name="";this.mergeRefName="";this.variableReference=null;this.interpolationNodes=[];this.isInterpolationReference=!1}},rh=class extends ce{constructor(){super(...arguments);this.name=""}},gr=class extends ce{constructor(){super(...arguments);this.delimiter="";this.name="";this.isStringVar=!1;this.isFinal=!1}},Ms=class{constructor(){this.originalContent="";this.normalizedReference="";this.isStrictTagReference=!1;this.isStrictVariableReference=!1;this.isExplicitVariableReference=!1;this.isVariableVariable=!1;this.pathParts=[];this.isFinal=!1;this._isFromEmptyFailState=!1}clone(){let e=new Ms;return e.originalContent=this.originalContent,e.normalizedReference=this.normalizedReference,e.isStrictVariableReference=this.isStrictVariableReference,e.isExplicitVariableReference=this.isExplicitVariableReference,e.pathParts=this.pathParts,e.isFinal=this.isFinal,e}implodePaths(){let e=[];return this.pathParts.forEach(n=>{n instanceof gr?e.push(n.name):n instanceof Ms&&e.push(n.implodePaths())}),e.join(".")}},ih=class{constructor(e,n,r){this.target=e,this.value=n,this.operator=r}}});var Lu=_e(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.thenable=tn.typedArray=tn.stringArray=tn.array=tn.func=tn.error=tn.number=tn.string=tn.boolean=void 0;function ZL(t){return t===!0||t===!1}tn.boolean=ZL;function JN(t){return typeof t=="string"||t instanceof String}tn.string=JN;function eD(t){return typeof t=="number"||t instanceof Number}tn.number=eD;function tD(t){return t instanceof Error}tn.error=tD;function ZN(t){return typeof t=="function"}tn.func=ZN;function ev(t){return Array.isArray(t)}tn.array=ev;function nD(t){return ev(t)&&t.every(e=>JN(e))}tn.stringArray=nD;function rD(t,e){return Array.isArray(t)&&t.every(e)}tn.typedArray=rD;function iD(t){return t&&ZN(t.then)}tn.thenable=iD});var ls=_e(oh=>{"use strict";Object.defineProperty(oh,"__esModule",{value:!0});var sh;function ah(){if(sh===void 0)throw new Error("No runtime abstraction layer installed");return sh}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");sh=n}t.install=e})(ah||(ah={}));oh.default=ah});var lh=_e(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});rc.Disposable=void 0;var sD;(function(t){function e(n){return{dispose:n}}t.create=e})(sD=rc.Disposable||(rc.Disposable={}))});var nv=_e(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});Du.AbstractMessageBuffer=void 0;var aD=13,oD=10,lD=`\r
`,tv=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let e=0,n=0,r=0,i=0;e:for(;n<this._chunks.length;){let u=this._chunks[n];r=0;t:for(;r<u.length;){switch(u[r]){case aD:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case oD:switch(e){case 1:e=2;break;case 3:e=4,r++;break e;default:e=0}break;default:e=0}r++}i+=u.byteLength,n++}if(e!==4)return;let s=this._read(i+r),o=new Map,l=this.toString(s,"ascii").split(lD);if(l.length<2)return o;for(let u=0;u<l.length-2;u++){let d=l[u],h=d.indexOf(":");if(h===-1)throw new Error("Message header must separate key and value using :");let m=d.substr(0,h),y=d.substr(h+1).trim();o.set(m,y)}return o}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],o=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,o}let n=this.allocNative(e),r=0,i=0;for(;e>0;){let s=this._chunks[i];if(s.byteLength>e){let o=s.slice(0,e);n.set(o,r),r+=e,this._chunks[i]=s.slice(e),this._totalLength-=e,e-=e}else n.set(s,r),r+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return n}};Du.AbstractMessageBuffer=tv});var ov=_e(uh=>{"use strict";Object.defineProperty(uh,"__esModule",{value:!0});var cD=ls(),rv=require("util"),Ca=lh(),uD=nv(),ic=class extends uD.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return ic.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new rv.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};ic.emptyBuffer=Buffer.allocUnsafe(0);var iv=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Ca.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Ca.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Ca.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),Ca.Disposable.create(()=>this.stream.off("data",e))}},sv=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Ca.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Ca.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Ca.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((r,i)=>{let s=o=>{o==null?r():i(o)};typeof e=="string"?this.stream.write(e,n,s):this.stream.write(e,s)})}end(){this.stream.end()}},av=Object.freeze({messageBuffer:Object.freeze({create:t=>new ic(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new rv.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new iv(t),asWritableStream:t=>new sv(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){return setTimeout(t,e,...n)},clearTimeout(t){clearTimeout(t)},setImmediate(t,...e){return setImmediate(t,...e)},clearImmediate(t){clearImmediate(t)}})});function ch(){return av}(function(t){function e(){cD.default.install(av)}t.install=e})(ch||(ch={}));uh.default=ch});var Po=_e(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});Rn.stringArray=Rn.array=Rn.func=Rn.error=Rn.number=Rn.string=Rn.boolean=void 0;function fD(t){return t===!0||t===!1}Rn.boolean=fD;function lv(t){return typeof t=="string"||t instanceof String}Rn.string=lv;function dD(t){return typeof t=="number"||t instanceof Number}Rn.number=dD;function pD(t){return t instanceof Error}Rn.error=pD;function hD(t){return typeof t=="function"}Rn.func=hD;function cv(t){return Array.isArray(t)}Rn.array=cv;function mD(t){return cv(t)&&t.every(e=>lv(e))}Rn.stringArray=mD});var fh=_e(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.isResponseMessage=ve.isNotificationMessage=ve.isRequestMessage=ve.NotificationType9=ve.NotificationType8=ve.NotificationType7=ve.NotificationType6=ve.NotificationType5=ve.NotificationType4=ve.NotificationType3=ve.NotificationType2=ve.NotificationType1=ve.NotificationType0=ve.NotificationType=ve.RequestType9=ve.RequestType8=ve.RequestType7=ve.RequestType6=ve.RequestType5=ve.RequestType4=ve.RequestType3=ve.RequestType2=ve.RequestType1=ve.RequestType=ve.RequestType0=ve.AbstractMessageSignature=ve.ParameterStructures=ve.ResponseError=ve.ErrorCodes=void 0;var Pa=Po(),uv;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=t.jsonrpcReservedErrorRangeStart,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=t.jsonrpcReservedErrorRangeEnd})(uv=ve.ErrorCodes||(ve.ErrorCodes={}));var Mu=class extends Error{constructor(e,n,r){super(n);this.code=Pa.number(e)?e:uv.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,Mu.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};ve.ResponseError=Mu;var Cn=class{constructor(e){this.kind=e}static is(e){return e===Cn.auto||e===Cn.byName||e===Cn.byPosition}toString(){return this.kind}};ve.ParameterStructures=Cn;Cn.auto=new Cn("auto");Cn.byPosition=new Cn("byPosition");Cn.byName=new Cn("byName");var Lt=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return Cn.auto}};ve.AbstractMessageSignature=Lt;var fv=class extends Lt{constructor(e){super(e,0)}};ve.RequestType0=fv;var dv=class extends Lt{constructor(e,n=Cn.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ve.RequestType=dv;var pv=class extends Lt{constructor(e,n=Cn.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ve.RequestType1=pv;var hv=class extends Lt{constructor(e){super(e,2)}};ve.RequestType2=hv;var mv=class extends Lt{constructor(e){super(e,3)}};ve.RequestType3=mv;var gv=class extends Lt{constructor(e){super(e,4)}};ve.RequestType4=gv;var Tv=class extends Lt{constructor(e){super(e,5)}};ve.RequestType5=Tv;var _v=class extends Lt{constructor(e){super(e,6)}};ve.RequestType6=_v;var yv=class extends Lt{constructor(e){super(e,7)}};ve.RequestType7=yv;var bv=class extends Lt{constructor(e){super(e,8)}};ve.RequestType8=bv;var Nv=class extends Lt{constructor(e){super(e,9)}};ve.RequestType9=Nv;var vv=class extends Lt{constructor(e,n=Cn.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ve.NotificationType=vv;var Iv=class extends Lt{constructor(e){super(e,0)}};ve.NotificationType0=Iv;var Cv=class extends Lt{constructor(e,n=Cn.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ve.NotificationType1=Cv;var Pv=class extends Lt{constructor(e){super(e,2)}};ve.NotificationType2=Pv;var Av=class extends Lt{constructor(e){super(e,3)}};ve.NotificationType3=Av;var Sv=class extends Lt{constructor(e){super(e,4)}};ve.NotificationType4=Sv;var xv=class extends Lt{constructor(e){super(e,5)}};ve.NotificationType5=xv;var Ev=class extends Lt{constructor(e){super(e,6)}};ve.NotificationType6=Ev;var Rv=class extends Lt{constructor(e){super(e,7)}};ve.NotificationType7=Rv;var kv=class extends Lt{constructor(e){super(e,8)}};ve.NotificationType8=kv;var Ov=class extends Lt{constructor(e){super(e,9)}};ve.NotificationType9=Ov;function gD(t){let e=t;return e&&Pa.string(e.method)&&(Pa.string(e.id)||Pa.number(e.id))}ve.isRequestMessage=gD;function TD(t){let e=t;return e&&Pa.string(e.method)&&t.id===void 0}ve.isNotificationMessage=TD;function _D(t){let e=t;return e&&(e.result!==void 0||!!e.error)&&(Pa.string(e.id)||Pa.number(e.id)||e.id===null)}ve.isResponseMessage=_D});var Ao=_e(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});Aa.Emitter=Aa.Event=void 0;var yD=ls(),bD;(function(t){let e={dispose(){}};t.None=function(){return e}})(bD=Aa.Event||(Aa.Event={}));var wv=class{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===e)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,o=r.length;s<o;s++)try{n.push(r[s].apply(i[s],e))}catch(l){yD.default().console.error(l)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},sc=class{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new wv),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let i={dispose:()=>{!this._callbacks||(this._callbacks.remove(e,n),i.dispose=sc._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Aa.Emitter=sc;sc._noop=function(){}});var mh=_e(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.CancellationTokenSource=Sa.CancellationToken=void 0;var Lv=ls(),ND=Po(),dh=Ao(),ph;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:dh.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:dh.Event.None});function e(n){let r=n;return r&&(r===t.None||r===t.Cancelled||ND.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(ph=Sa.CancellationToken||(Sa.CancellationToken={}));var vD=Object.freeze(function(t,e){let n=Lv.default().timer.setTimeout(t.bind(e),0);return{dispose(){Lv.default().timer.clearTimeout(n)}}}),hh=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?vD:(this._emitter||(this._emitter=new dh.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},Dv=class{get token(){return this._token||(this._token=new hh),this._token}cancel(){this._token?this._token.cancel():this._token=ph.Cancelled}dispose(){this._token?this._token instanceof hh&&this._token.dispose():this._token=ph.None}};Sa.CancellationTokenSource=Dv});var Fv=_e(cs=>{"use strict";Object.defineProperty(cs,"__esModule",{value:!0});cs.ReadableStreamMessageReader=cs.AbstractMessageReader=cs.MessageReader=void 0;var Fu=ls(),So=Po(),gh=Ao(),ID;(function(t){function e(n){let r=n;return r&&So.func(r.listen)&&So.func(r.dispose)&&So.func(r.onError)&&So.func(r.onClose)&&So.func(r.onPartialMessage)}t.is=e})(ID=cs.MessageReader||(cs.MessageReader={}));var Th=class{constructor(){this.errorEmitter=new gh.Emitter,this.closeEmitter=new gh.Emitter,this.partialMessageEmitter=new gh.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${So.string(e.message)?e.message:"unknown"}`)}};cs.AbstractMessageReader=Th;var _h;(function(t){function e(n){var r;let i,s,o,l=new Map,u,d=new Map;if(n===void 0||typeof n=="string")i=n??"utf-8";else{if(i=(r=n.charset)!==null&&r!==void 0?r:"utf-8",n.contentDecoder!==void 0&&(o=n.contentDecoder,l.set(o.name,o)),n.contentDecoders!==void 0)for(let h of n.contentDecoders)l.set(h.name,h);if(n.contentTypeDecoder!==void 0&&(u=n.contentTypeDecoder,d.set(u.name,u)),n.contentTypeDecoders!==void 0)for(let h of n.contentTypeDecoders)d.set(h.name,h)}return u===void 0&&(u=Fu.default().applicationJson.decoder,d.set(u.name,u)),{charset:i,contentDecoder:o,contentDecoders:l,contentTypeDecoder:u,contentTypeDecoders:d}}t.fromOptions=e})(_h||(_h={}));var Mv=class extends Th{constructor(e,n){super();this.readable=e,this.options=_h.fromOptions(n),this.buffer=Fu.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let s=i.get("Content-Length");if(!s)throw new Error("Header must provide a Content-Length property.");let o=parseInt(s);if(isNaN(o))throw new Error("Content-Length value must be a number.");this.nextMessageLength=o}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let r;this.options.contentDecoder!==void 0?r=this.options.contentDecoder.decode(n):r=Promise.resolve(n),r.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(s=>{this.callback(s)},s=>{this.fireError(s)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(Fu.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=Fu.default().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};cs.ReadableStreamMessageReader=Mv});var Bv=_e(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.Semaphore=void 0;var CD=ls(),Vv=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||CD.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};Vu.Semaphore=Vv});var Wv=_e(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});us.WriteableStreamMessageWriter=us.AbstractMessageWriter=us.MessageWriter=void 0;var qv=ls(),ac=Po(),PD=Bv(),Uv=Ao(),AD="Content-Length: ",jv=`\r
`,SD;(function(t){function e(n){let r=n;return r&&ac.func(r.dispose)&&ac.func(r.onClose)&&ac.func(r.onError)&&ac.func(r.write)}t.is=e})(SD=us.MessageWriter||(us.MessageWriter={}));var yh=class{constructor(){this.errorEmitter=new Uv.Emitter,this.closeEmitter=new Uv.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${ac.string(e.message)?e.message:"unknown"}`)}};us.AbstractMessageWriter=yh;var bh;(function(t){function e(n){var r,i;return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:qv.default().applicationJson.encoder}:{charset:(r=n.charset)!==null&&r!==void 0?r:"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:(i=n.contentTypeEncoder)!==null&&i!==void 0?i:qv.default().applicationJson.encoder}}t.fromOptions=e})(bh||(bh={}));var Gv=class extends yh{constructor(e,n){super();this.writable=e,this.options=bh.fromOptions(n),this.errorCount=0,this.writeSemaphore=new PD.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(AD,r.byteLength.toString(),jv),i.push(jv),this.doWrite(e,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};us.WriteableStreamMessageWriter=Gv});var Yv=_e(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});fs.LRUCache=fs.LinkedMap=fs.Touch=void 0;var Un;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(Un=fs.Touch||(fs.Touch={}));var Nh=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,n=Un.None){let r=this._map.get(e);if(!!r)return n!==Un.None&&this.touch(r,n),r.value}set(e,n,r=Un.None){let i=this._map.get(e);if(i)i.value=n,r!==Un.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case Un.None:this.addItemLast(i);break;case Un.First:this.addItemFirst(i);break;case Un.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(!!n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let r=this._state,i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.key,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}values(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.value,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}entries(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:[r.key,r.value],done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==Un.First&&n!==Un.Last)){if(n===Un.First){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===Un.Last){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r)}};fs.LinkedMap=Nh;var Hv=class extends Nh{constructor(e,n=1){super();this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=Un.AsNew){return super.get(e,n)}peek(e){return super.get(e,Un.None)}set(e,n){return super.set(e,n,Un.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};fs.LRUCache=Hv});var Jv=_e(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.createMessageConnection=Fe.ConnectionOptions=Fe.CancellationStrategy=Fe.CancellationSenderStrategy=Fe.CancellationReceiverStrategy=Fe.ConnectionStrategy=Fe.ConnectionError=Fe.ConnectionErrors=Fe.LogTraceNotification=Fe.SetTraceNotification=Fe.TraceFormat=Fe.Trace=Fe.NullLogger=Fe.ProgressType=void 0;var Kv=ls(),mn=Po(),Le=fh(),$v=Yv(),oc=Ao(),vh=mh(),lc;(function(t){t.type=new Le.NotificationType("$/cancelRequest")})(lc||(lc={}));var Bu;(function(t){t.type=new Le.NotificationType("$/progress")})(Bu||(Bu={}));var zv=class{constructor(){}};Fe.ProgressType=zv;var Ih;(function(t){function e(n){return mn.func(n)}t.is=e})(Ih||(Ih={}));Fe.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var nn;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Verbose=2]="Verbose"})(nn=Fe.Trace||(Fe.Trace={}));(function(t){function e(r){if(!mn.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(nn=Fe.Trace||(Fe.Trace={}));var _i;(function(t){t.Text="text",t.JSON="json"})(_i=Fe.TraceFormat||(Fe.TraceFormat={}));(function(t){function e(n){return n=n.toLowerCase(),n==="json"?t.JSON:t.Text}t.fromString=e})(_i=Fe.TraceFormat||(Fe.TraceFormat={}));var Qv;(function(t){t.type=new Le.NotificationType("$/setTrace")})(Qv=Fe.SetTraceNotification||(Fe.SetTraceNotification={}));var Ch;(function(t){t.type=new Le.NotificationType("$/logTrace")})(Ch=Fe.LogTraceNotification||(Fe.LogTraceNotification={}));var qu;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(qu=Fe.ConnectionErrors||(Fe.ConnectionErrors={}));var xa=class extends Error{constructor(e,n){super(n);this.code=e,Object.setPrototypeOf(this,xa.prototype)}};Fe.ConnectionError=xa;var Xv;(function(t){function e(n){let r=n;return r&&mn.func(r.cancelUndispatched)}t.is=e})(Xv=Fe.ConnectionStrategy||(Fe.ConnectionStrategy={}));var Ph;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new vh.CancellationTokenSource}});function e(n){let r=n;return r&&mn.func(r.createCancellationTokenSource)}t.is=e})(Ph=Fe.CancellationReceiverStrategy||(Fe.CancellationReceiverStrategy={}));var Ah;(function(t){t.Message=Object.freeze({sendCancellation(n,r){n.sendNotification(lc.type,{id:r})},cleanup(n){}});function e(n){let r=n;return r&&mn.func(r.sendCancellation)&&mn.func(r.cleanup)}t.is=e})(Ah=Fe.CancellationSenderStrategy||(Fe.CancellationSenderStrategy={}));var Sh;(function(t){t.Message=Object.freeze({receiver:Ph.Message,sender:Ah.Message});function e(n){let r=n;return r&&Ph.is(r.receiver)&&Ah.is(r.sender)}t.is=e})(Sh=Fe.CancellationStrategy||(Fe.CancellationStrategy={}));var xD;(function(t){function e(n){let r=n;return r&&(Sh.is(r.cancellationStrategy)||Xv.is(r.connectionStrategy))}t.is=e})(xD=Fe.ConnectionOptions||(Fe.ConnectionOptions={}));var yi;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(yi||(yi={}));function ED(t,e,n,r){let i=n!==void 0?n:Fe.NullLogger,s=0,o=0,l=0,u="2.0",d,h=Object.create(null),m,y=Object.create(null),b=new Map,T,x=new $v.LinkedMap,D=Object.create(null),_=Object.create(null),P=nn.Off,v=_i.Text,S,w=yi.New,J=new oc.Emitter,Y=new oc.Emitter,ae=new oc.Emitter,he=new oc.Emitter,be=new oc.Emitter,Te=r&&r.cancellationStrategy?r.cancellationStrategy:Sh.Message;function pe(G){if(G===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+G.toString()}function at(G){return G===null?"res-unknown-"+(++l).toString():"res-"+G.toString()}function Se(){return"not-"+(++o).toString()}function se(G,V){Le.isRequestMessage(V)?G.set(pe(V.id),V):Le.isResponseMessage(V)?G.set(at(V.id),V):G.set(Se(),V)}function rt(G){}function Ct(){return w===yi.Listening}function Ln(){return w===yi.Closed}function ot(){return w===yi.Disposed}function Ut(){(w===yi.New||w===yi.Listening)&&(w=yi.Closed,Y.fire(void 0))}function Xn(G){J.fire([G,void 0,void 0])}function cr(G){J.fire(G)}t.onClose(Ut),t.onError(Xn),e.onClose(Ut),e.onError(cr);function zi(){T||x.size===0||(T=Kv.default().timer.setImmediate(()=>{T=void 0,eo()}))}function eo(){if(x.size===0)return;let G=x.shift();try{Le.isRequestMessage(G)?Or(G):Le.isNotificationMessage(G)?jt(G):Le.isResponseMessage(G)?aa(G):oa(G)}finally{zi()}}let Jn=G=>{try{if(Le.isNotificationMessage(G)&&G.method===lc.type.method){let V=pe(G.params.id),C=x.get(V);if(Le.isRequestMessage(C)){let U=r==null?void 0:r.connectionStrategy,W=U&&U.cancelUndispatched?U.cancelUndispatched(C,rt):void 0;if(W&&(W.error!==void 0||W.result!==void 0)){x.delete(V),W.id=C.id,vs(W,G.method,Date.now()),e.write(W);return}}}se(x,G)}finally{zi()}};function Or(G){if(ot())return;function V(z,fe,Ce){let Pe={jsonrpc:u,id:G.id};z instanceof Le.ResponseError?Pe.error=z.toJson():Pe.result=z===void 0?null:z,vs(Pe,fe,Ce),e.write(Pe)}function C(z,fe,Ce){let Pe={jsonrpc:u,id:G.id,error:z.toJson()};vs(Pe,fe,Ce),e.write(Pe)}function U(z,fe,Ce){z===void 0&&(z=null);let Pe={jsonrpc:u,id:G.id,result:z};vs(Pe,fe,Ce),e.write(Pe)}Qi(G);let W=h[G.method],L,I;W&&(L=W.type,I=W.handler);let j=Date.now();if(I||d){let z=String(G.id),fe=Te.receiver.createCancellationTokenSource(z);_[z]=fe;try{let Ce;if(I)if(G.params===void 0){if(L!==void 0&&L.numberOfParams!==0){C(new Le.ResponseError(Le.ErrorCodes.InvalidParams,`Request ${G.method} defines ${L.numberOfParams} params but recevied none.`),G.method,j);return}Ce=I(fe.token)}else if(Array.isArray(G.params)){if(L!==void 0&&L.parameterStructures===Le.ParameterStructures.byName){C(new Le.ResponseError(Le.ErrorCodes.InvalidParams,`Request ${G.method} defines parameters by name but received parameters by position`),G.method,j);return}Ce=I(...G.params,fe.token)}else{if(L!==void 0&&L.parameterStructures===Le.ParameterStructures.byPosition){C(new Le.ResponseError(Le.ErrorCodes.InvalidParams,`Request ${G.method} defines parameters by position but received parameters by name`),G.method,j);return}Ce=I(G.params,fe.token)}else d&&(Ce=d(G.method,G.params,fe.token));let Pe=Ce;Ce?Pe.then?Pe.then(Tt=>{delete _[z],V(Tt,G.method,j)},Tt=>{delete _[z],Tt instanceof Le.ResponseError?C(Tt,G.method,j):Tt&&mn.string(Tt.message)?C(new Le.ResponseError(Le.ErrorCodes.InternalError,`Request ${G.method} failed with message: ${Tt.message}`),G.method,j):C(new Le.ResponseError(Le.ErrorCodes.InternalError,`Request ${G.method} failed unexpectedly without providing any details.`),G.method,j)}):(delete _[z],V(Ce,G.method,j)):(delete _[z],U(Ce,G.method,j))}catch(Ce){delete _[z],Ce instanceof Le.ResponseError?V(Ce,G.method,j):Ce&&mn.string(Ce.message)?C(new Le.ResponseError(Le.ErrorCodes.InternalError,`Request ${G.method} failed with message: ${Ce.message}`),G.method,j):C(new Le.ResponseError(Le.ErrorCodes.InternalError,`Request ${G.method} failed unexpectedly without providing any details.`),G.method,j)}}else C(new Le.ResponseError(Le.ErrorCodes.MethodNotFound,`Unhandled method ${G.method}`),G.method,j)}function aa(G){if(!ot())if(G.id===null)G.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(G.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let V=String(G.id),C=D[V];if(ro(G,C),C){delete D[V];try{if(G.error){let U=G.error;C.reject(new Le.ResponseError(U.code,U.message,U.data))}else if(G.result!==void 0)C.resolve(G.result);else throw new Error("Should never happen.")}catch(U){U.message?i.error(`Response handler '${C.method}' failed with message: ${U.message}`):i.error(`Response handler '${C.method}' failed unexpectedly.`)}}}}function jt(G){if(ot())return;let V,C;if(G.method===lc.type.method)C=U=>{let W=U.id,L=_[String(W)];L&&L.cancel()};else{let U=y[G.method];U&&(C=U.handler,V=U.type)}if(C||m)try{Ze(G),C?G.params===void 0?(V!==void 0&&V.numberOfParams!==0&&V.parameterStructures!==Le.ParameterStructures.byName&&i.error(`Notification ${G.method} defines ${V.numberOfParams} params but recevied none.`),C()):Array.isArray(G.params)?(V!==void 0&&(V.parameterStructures===Le.ParameterStructures.byName&&i.error(`Notification ${G.method} defines parameters by name but received parameters by position`),V.numberOfParams!==G.params.length&&i.error(`Notification ${G.method} defines ${V.numberOfParams} params but received ${G.params.length} argumennts`)),C(...G.params)):(V!==void 0&&V.parameterStructures===Le.ParameterStructures.byPosition&&i.error(`Notification ${G.method} defines parameters by position but received parameters by name`),C(G.params)):m&&m(G.method,G.params)}catch(U){U.message?i.error(`Notification handler '${G.method}' failed with message: ${U.message}`):i.error(`Notification handler '${G.method}' failed unexpectedly.`)}else ae.fire(G)}function oa(G){if(!G){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(G,null,4)}`);let V=G;if(mn.string(V.id)||mn.number(V.id)){let C=String(V.id),U=D[C];U&&U.reject(new Error("The received response has neither a result nor an error property."))}}function to(G){if(!(P===nn.Off||!S))if(v===_i.Text){let V;P===nn.Verbose&&G.params&&(V=`Params: ${JSON.stringify(G.params,null,4)}

`),S.log(`Sending request '${G.method} - (${G.id})'.`,V)}else me("send-request",G)}function no(G){if(!(P===nn.Off||!S))if(v===_i.Text){let V;P===nn.Verbose&&(G.params?V=`Params: ${JSON.stringify(G.params,null,4)}

`:V=`No parameters provided.

`),S.log(`Sending notification '${G.method}'.`,V)}else me("send-notification",G)}function vs(G,V,C){if(!(P===nn.Off||!S))if(v===_i.Text){let U;P===nn.Verbose&&(G.error&&G.error.data?U=`Error data: ${JSON.stringify(G.error.data,null,4)}

`:G.result?U=`Result: ${JSON.stringify(G.result,null,4)}

`:G.error===void 0&&(U=`No result returned.

`)),S.log(`Sending response '${V} - (${G.id})'. Processing request took ${Date.now()-C}ms`,U)}else me("send-response",G)}function Qi(G){if(!(P===nn.Off||!S))if(v===_i.Text){let V;P===nn.Verbose&&G.params&&(V=`Params: ${JSON.stringify(G.params,null,4)}

`),S.log(`Received request '${G.method} - (${G.id})'.`,V)}else me("receive-request",G)}function Ze(G){if(!(P===nn.Off||!S||G.method===Ch.type.method))if(v===_i.Text){let V;P===nn.Verbose&&(G.params?V=`Params: ${JSON.stringify(G.params,null,4)}

`:V=`No parameters provided.

`),S.log(`Received notification '${G.method}'.`,V)}else me("receive-notification",G)}function ro(G,V){if(!(P===nn.Off||!S))if(v===_i.Text){let C;if(P===nn.Verbose&&(G.error&&G.error.data?C=`Error data: ${JSON.stringify(G.error.data,null,4)}

`:G.result?C=`Result: ${JSON.stringify(G.result,null,4)}

`:G.error===void 0&&(C=`No result returned.

`)),V){let U=G.error?` Request failed: ${G.error.message} (${G.error.code}).`:"";S.log(`Received response '${V.method} - (${G.id})' in ${Date.now()-V.timerStart}ms.${U}`,C)}else S.log(`Received response ${G.id} without active response promise.`,C)}else me("receive-response",G)}function me(G,V){if(!S||P===nn.Off)return;let C={isLSPMessage:!0,type:G,message:V,timestamp:Date.now()};S.log(C)}function Ri(){if(Ln())throw new xa(qu.Closed,"Connection is closed.");if(ot())throw new xa(qu.Disposed,"Connection is disposed.")}function wl(){if(Ct())throw new xa(qu.AlreadyListening,"Connection is already listening")}function io(){if(!Ct())throw new Error("Call listen() first.")}function Xi(G){return G===void 0?null:G}function la(G){if(G!==null)return G}function so(G){return G!=null&&!Array.isArray(G)&&typeof G=="object"}function Is(G,V){switch(G){case Le.ParameterStructures.auto:return so(V)?la(V):[Xi(V)];case Le.ParameterStructures.byName:if(!so(V))throw new Error("Recevied parameters by name but param is not an object literal.");return la(V);case Le.ParameterStructures.byPosition:return[Xi(V)];default:throw new Error(`Unknown parameter structure ${G.toString()}`)}}function ao(G,V){let C,U=G.numberOfParams;switch(U){case 0:C=void 0;break;case 1:C=Is(G.parameterStructures,V[0]);break;default:C=[];for(let W=0;W<V.length&&W<U;W++)C.push(Xi(V[W]));if(V.length<U)for(let W=V.length;W<U;W++)C.push(null);break}return C}let Jr={sendNotification:(G,...V)=>{Ri();let C,U;if(mn.string(G)){C=G;let L=V[0],I=0,j=Le.ParameterStructures.auto;Le.ParameterStructures.is(L)&&(I=1,j=L);let z=V.length,fe=z-I;switch(fe){case 0:U=void 0;break;case 1:U=Is(j,V[I]);break;default:if(j===Le.ParameterStructures.byName)throw new Error(`Recevied ${fe} parameters for 'by Name' notification parameter structure.`);U=V.slice(I,z).map(Ce=>Xi(Ce));break}}else{let L=V;C=G.method,U=ao(G,L)}let W={jsonrpc:u,method:C,params:U};no(W),e.write(W)},onNotification:(G,V)=>{Ri();let C;return mn.func(G)?m=G:V&&(mn.string(G)?(C=G,y[G]={type:void 0,handler:V}):(C=G.method,y[G.method]={type:G,handler:V})),{dispose:()=>{C!==void 0?delete y[C]:m=void 0}}},onProgress:(G,V,C)=>{if(b.has(V))throw new Error(`Progress handler for token ${V} already registered`);return b.set(V,C),{dispose:()=>{b.delete(V)}}},sendProgress:(G,V,C)=>{Jr.sendNotification(Bu.type,{token:V,value:C})},onUnhandledProgress:he.event,sendRequest:(G,...V)=>{Ri(),io();let C,U,W;if(mn.string(G)){C=G;let z=V[0],fe=V[V.length-1],Ce=0,Pe=Le.ParameterStructures.auto;Le.ParameterStructures.is(z)&&(Ce=1,Pe=z);let Tt=V.length;vh.CancellationToken.is(fe)&&(Tt=Tt-1,W=fe);let Kt=Tt-Ce;switch(Kt){case 0:U=void 0;break;case 1:U=Is(Pe,V[Ce]);break;default:if(Pe===Le.ParameterStructures.byName)throw new Error(`Recevied ${Kt} parameters for 'by Name' request parameter structure.`);U=V.slice(Ce,Tt).map($t=>Xi($t));break}}else{let z=V;C=G.method,U=ao(G,z);let fe=G.numberOfParams;W=vh.CancellationToken.is(z[fe])?z[fe]:void 0}let L=s++,I;return W&&(I=W.onCancellationRequested(()=>{Te.sender.sendCancellation(Jr,L)})),new Promise((z,fe)=>{let Ce={jsonrpc:u,id:L,method:C,params:U},Pe=$t=>{z($t),Te.sender.cleanup(L),I==null||I.dispose()},Tt=$t=>{fe($t),Te.sender.cleanup(L),I==null||I.dispose()},Kt={method:C,timerStart:Date.now(),resolve:Pe,reject:Tt};to(Ce);try{e.write(Ce)}catch($t){Kt.reject(new Le.ResponseError(Le.ErrorCodes.MessageWriteError,$t.message?$t.message:"Unknown reason")),Kt=null}Kt&&(D[String(L)]=Kt)})},onRequest:(G,V)=>{Ri();let C=null;return Ih.is(G)?(C=void 0,d=G):mn.string(G)?(C=null,V!==void 0&&(C=G,h[G]={handler:V,type:void 0})):V!==void 0&&(C=G.method,h[G.method]={type:G,handler:V}),{dispose:()=>{C!==null&&(C!==void 0?delete h[C]:d=void 0)}}},trace:(G,V,C)=>{let U=!1,W=_i.Text;C!==void 0&&(mn.boolean(C)?U=C:(U=C.sendNotification||!1,W=C.traceFormat||_i.Text)),P=G,v=W,P===nn.Off?S=void 0:S=V,U&&!Ln()&&!ot()&&Jr.sendNotification(Qv.type,{value:nn.toString(G)})},onError:J.event,onClose:Y.event,onUnhandledNotification:ae.event,onDispose:be.event,end:()=>{e.end()},dispose:()=>{if(ot())return;w=yi.Disposed,be.fire(void 0);let G=new Error("Connection got disposed.");Object.keys(D).forEach(V=>{D[V].reject(G)}),D=Object.create(null),_=Object.create(null),x=new $v.LinkedMap,mn.func(e.dispose)&&e.dispose(),mn.func(t.dispose)&&t.dispose()},listen:()=>{Ri(),wl(),w=yi.Listening,t.listen(Jn)},inspect:()=>{Kv.default().console.log("inspect")}};return Jr.onNotification(Ch.type,G=>{P===nn.Off||!S||S.log(G.message,P===nn.Verbose?G.verbose:void 0)}),Jr.onNotification(Bu.type,G=>{let V=b.get(G.token);V?V(G.value):he.fire(G)}),Jr}Fe.createMessageConnection=ED});var Rh=_e(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.CancellationSenderStrategy=ee.CancellationReceiverStrategy=ee.ConnectionError=ee.ConnectionErrors=ee.LogTraceNotification=ee.SetTraceNotification=ee.TraceFormat=ee.Trace=ee.ProgressType=ee.createMessageConnection=ee.NullLogger=ee.ConnectionOptions=ee.ConnectionStrategy=ee.WriteableStreamMessageWriter=ee.AbstractMessageWriter=ee.MessageWriter=ee.ReadableStreamMessageReader=ee.AbstractMessageReader=ee.MessageReader=ee.CancellationToken=ee.CancellationTokenSource=ee.Emitter=ee.Event=ee.Disposable=ee.ParameterStructures=ee.NotificationType9=ee.NotificationType8=ee.NotificationType7=ee.NotificationType6=ee.NotificationType5=ee.NotificationType4=ee.NotificationType3=ee.NotificationType2=ee.NotificationType1=ee.NotificationType0=ee.NotificationType=ee.ErrorCodes=ee.ResponseError=ee.RequestType9=ee.RequestType8=ee.RequestType7=ee.RequestType6=ee.RequestType5=ee.RequestType4=ee.RequestType3=ee.RequestType2=ee.RequestType1=ee.RequestType0=ee.RequestType=ee.RAL=void 0;ee.CancellationStrategy=void 0;var Rt=fh();Object.defineProperty(ee,"RequestType",{enumerable:!0,get:function(){return Rt.RequestType}});Object.defineProperty(ee,"RequestType0",{enumerable:!0,get:function(){return Rt.RequestType0}});Object.defineProperty(ee,"RequestType1",{enumerable:!0,get:function(){return Rt.RequestType1}});Object.defineProperty(ee,"RequestType2",{enumerable:!0,get:function(){return Rt.RequestType2}});Object.defineProperty(ee,"RequestType3",{enumerable:!0,get:function(){return Rt.RequestType3}});Object.defineProperty(ee,"RequestType4",{enumerable:!0,get:function(){return Rt.RequestType4}});Object.defineProperty(ee,"RequestType5",{enumerable:!0,get:function(){return Rt.RequestType5}});Object.defineProperty(ee,"RequestType6",{enumerable:!0,get:function(){return Rt.RequestType6}});Object.defineProperty(ee,"RequestType7",{enumerable:!0,get:function(){return Rt.RequestType7}});Object.defineProperty(ee,"RequestType8",{enumerable:!0,get:function(){return Rt.RequestType8}});Object.defineProperty(ee,"RequestType9",{enumerable:!0,get:function(){return Rt.RequestType9}});Object.defineProperty(ee,"ResponseError",{enumerable:!0,get:function(){return Rt.ResponseError}});Object.defineProperty(ee,"ErrorCodes",{enumerable:!0,get:function(){return Rt.ErrorCodes}});Object.defineProperty(ee,"NotificationType",{enumerable:!0,get:function(){return Rt.NotificationType}});Object.defineProperty(ee,"NotificationType0",{enumerable:!0,get:function(){return Rt.NotificationType0}});Object.defineProperty(ee,"NotificationType1",{enumerable:!0,get:function(){return Rt.NotificationType1}});Object.defineProperty(ee,"NotificationType2",{enumerable:!0,get:function(){return Rt.NotificationType2}});Object.defineProperty(ee,"NotificationType3",{enumerable:!0,get:function(){return Rt.NotificationType3}});Object.defineProperty(ee,"NotificationType4",{enumerable:!0,get:function(){return Rt.NotificationType4}});Object.defineProperty(ee,"NotificationType5",{enumerable:!0,get:function(){return Rt.NotificationType5}});Object.defineProperty(ee,"NotificationType6",{enumerable:!0,get:function(){return Rt.NotificationType6}});Object.defineProperty(ee,"NotificationType7",{enumerable:!0,get:function(){return Rt.NotificationType7}});Object.defineProperty(ee,"NotificationType8",{enumerable:!0,get:function(){return Rt.NotificationType8}});Object.defineProperty(ee,"NotificationType9",{enumerable:!0,get:function(){return Rt.NotificationType9}});Object.defineProperty(ee,"ParameterStructures",{enumerable:!0,get:function(){return Rt.ParameterStructures}});var RD=lh();Object.defineProperty(ee,"Disposable",{enumerable:!0,get:function(){return RD.Disposable}});var Zv=Ao();Object.defineProperty(ee,"Event",{enumerable:!0,get:function(){return Zv.Event}});Object.defineProperty(ee,"Emitter",{enumerable:!0,get:function(){return Zv.Emitter}});var eI=mh();Object.defineProperty(ee,"CancellationTokenSource",{enumerable:!0,get:function(){return eI.CancellationTokenSource}});Object.defineProperty(ee,"CancellationToken",{enumerable:!0,get:function(){return eI.CancellationToken}});var xh=Fv();Object.defineProperty(ee,"MessageReader",{enumerable:!0,get:function(){return xh.MessageReader}});Object.defineProperty(ee,"AbstractMessageReader",{enumerable:!0,get:function(){return xh.AbstractMessageReader}});Object.defineProperty(ee,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return xh.ReadableStreamMessageReader}});var Eh=Wv();Object.defineProperty(ee,"MessageWriter",{enumerable:!0,get:function(){return Eh.MessageWriter}});Object.defineProperty(ee,"AbstractMessageWriter",{enumerable:!0,get:function(){return Eh.AbstractMessageWriter}});Object.defineProperty(ee,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return Eh.WriteableStreamMessageWriter}});var rr=Jv();Object.defineProperty(ee,"ConnectionStrategy",{enumerable:!0,get:function(){return rr.ConnectionStrategy}});Object.defineProperty(ee,"ConnectionOptions",{enumerable:!0,get:function(){return rr.ConnectionOptions}});Object.defineProperty(ee,"NullLogger",{enumerable:!0,get:function(){return rr.NullLogger}});Object.defineProperty(ee,"createMessageConnection",{enumerable:!0,get:function(){return rr.createMessageConnection}});Object.defineProperty(ee,"ProgressType",{enumerable:!0,get:function(){return rr.ProgressType}});Object.defineProperty(ee,"Trace",{enumerable:!0,get:function(){return rr.Trace}});Object.defineProperty(ee,"TraceFormat",{enumerable:!0,get:function(){return rr.TraceFormat}});Object.defineProperty(ee,"SetTraceNotification",{enumerable:!0,get:function(){return rr.SetTraceNotification}});Object.defineProperty(ee,"LogTraceNotification",{enumerable:!0,get:function(){return rr.LogTraceNotification}});Object.defineProperty(ee,"ConnectionErrors",{enumerable:!0,get:function(){return rr.ConnectionErrors}});Object.defineProperty(ee,"ConnectionError",{enumerable:!0,get:function(){return rr.ConnectionError}});Object.defineProperty(ee,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return rr.CancellationReceiverStrategy}});Object.defineProperty(ee,"CancellationSenderStrategy",{enumerable:!0,get:function(){return rr.CancellationSenderStrategy}});Object.defineProperty(ee,"CancellationStrategy",{enumerable:!0,get:function(){return rr.CancellationStrategy}});var kD=ls();ee.RAL=kD.default});var ko=_e(ht=>{"use strict";var OD=ht&&ht.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),wD=ht&&ht.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&OD(e,t,n)};Object.defineProperty(ht,"__esModule",{value:!0});ht.createMessageConnection=ht.createServerSocketTransport=ht.createClientSocketTransport=ht.createServerPipeTransport=ht.createClientPipeTransport=ht.generateRandomPipeName=ht.StreamMessageWriter=ht.StreamMessageReader=ht.SocketMessageWriter=ht.SocketMessageReader=ht.IPCMessageWriter=ht.IPCMessageReader=void 0;var xo=ov();xo.default.install();var ji=Rh(),tI=require("path"),LD=require("os"),DD=require("crypto"),Uu=require("net");wD(Rh(),ht);var nI=class extends ji.AbstractMessageReader{constructor(e){super();this.process=e;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),ji.Disposable.create(()=>this.process.off("message",e))}};ht.IPCMessageReader=nI;var rI=class extends ji.AbstractMessageWriter{constructor(e){super();this.process=e,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};ht.IPCMessageWriter=rI;var Eo=class extends ji.ReadableStreamMessageReader{constructor(e,n="utf-8"){super(xo.default().stream.asReadableStream(e),n)}};ht.SocketMessageReader=Eo;var Ro=class extends ji.WriteableStreamMessageWriter{constructor(e,n){super(xo.default().stream.asWritableStream(e),n);this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};ht.SocketMessageWriter=Ro;var kh=class extends ji.ReadableStreamMessageReader{constructor(e,n){super(xo.default().stream.asReadableStream(e),n)}};ht.StreamMessageReader=kh;var Oh=class extends ji.WriteableStreamMessageWriter{constructor(e,n){super(xo.default().stream.asWritableStream(e),n)}};ht.StreamMessageWriter=Oh;var iI=process.env.XDG_RUNTIME_DIR,MD=new Map([["linux",107],["darwin",103]]);function FD(){let t=DD.randomBytes(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;iI?e=tI.join(iI,`vscode-ipc-${t}.sock`):e=tI.join(LD.tmpdir(),`vscode-${t}.sock`);let n=MD.get(process.platform);return n!==void 0&&e.length>=n&&xo.default().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}ht.generateRandomPipeName=FD;function VD(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let o=Uu.createServer(l=>{o.close(),n([new Eo(l,e),new Ro(l,e)])});o.on("error",s),o.listen(t,()=>{o.removeListener("error",s),i({onConnected:()=>r})})})}ht.createClientPipeTransport=VD;function BD(t,e="utf-8"){let n=Uu.createConnection(t);return[new Eo(n,e),new Ro(n,e)]}ht.createServerPipeTransport=BD;function qD(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let o=Uu.createServer(l=>{o.close(),n([new Eo(l,e),new Ro(l,e)])});o.on("error",s),o.listen(t,"127.0.0.1",()=>{o.removeListener("error",s),i({onConnected:()=>r})})})}ht.createClientSocketTransport=qD;function UD(t,e="utf-8"){let n=Uu.createConnection(t,"127.0.0.1");return[new Eo(n,e),new Ro(n,e)]}ht.createServerSocketTransport=UD;function jD(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function GD(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function WD(t,e,n,r){n||(n=ji.NullLogger);let i=jD(t)?new kh(t):t,s=GD(e)?new Oh(e):e;return ji.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),ji.createMessageConnection(i,s,n,r)}ht.createMessageConnection=WD});var wh=_e((lH,sI)=>{"use strict";sI.exports=ko()});var Dt=_e((aI,ju)=>{(function(t){if(typeof ju=="object"&&typeof ju.exports=="object"){var e=t(require,aI);e!==void 0&&(ju.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionKind=e.DocumentSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=void 0;var n;(function(C){C.MIN_VALUE=-2147483648,C.MAX_VALUE=2147483647})(n=e.integer||(e.integer={}));var r;(function(C){C.MIN_VALUE=0,C.MAX_VALUE=2147483647})(r=e.uinteger||(e.uinteger={}));var i;(function(C){function U(L,I){return L===Number.MAX_VALUE&&(L=r.MAX_VALUE),I===Number.MAX_VALUE&&(I=r.MAX_VALUE),{line:L,character:I}}C.create=U;function W(L){var I=L;return V.objectLiteral(I)&&V.uinteger(I.line)&&V.uinteger(I.character)}C.is=W})(i=e.Position||(e.Position={}));var s;(function(C){function U(L,I,j,z){if(V.uinteger(L)&&V.uinteger(I)&&V.uinteger(j)&&V.uinteger(z))return{start:i.create(L,I),end:i.create(j,z)};if(i.is(L)&&i.is(I))return{start:L,end:I};throw new Error("Range#create called with invalid arguments["+L+", "+I+", "+j+", "+z+"]")}C.create=U;function W(L){var I=L;return V.objectLiteral(I)&&i.is(I.start)&&i.is(I.end)}C.is=W})(s=e.Range||(e.Range={}));var o;(function(C){function U(L,I){return{uri:L,range:I}}C.create=U;function W(L){var I=L;return V.defined(I)&&s.is(I.range)&&(V.string(I.uri)||V.undefined(I.uri))}C.is=W})(o=e.Location||(e.Location={}));var l;(function(C){function U(L,I,j,z){return{targetUri:L,targetRange:I,targetSelectionRange:j,originSelectionRange:z}}C.create=U;function W(L){var I=L;return V.defined(I)&&s.is(I.targetRange)&&V.string(I.targetUri)&&(s.is(I.targetSelectionRange)||V.undefined(I.targetSelectionRange))&&(s.is(I.originSelectionRange)||V.undefined(I.originSelectionRange))}C.is=W})(l=e.LocationLink||(e.LocationLink={}));var u;(function(C){function U(L,I,j,z){return{red:L,green:I,blue:j,alpha:z}}C.create=U;function W(L){var I=L;return V.numberRange(I.red,0,1)&&V.numberRange(I.green,0,1)&&V.numberRange(I.blue,0,1)&&V.numberRange(I.alpha,0,1)}C.is=W})(u=e.Color||(e.Color={}));var d;(function(C){function U(L,I){return{range:L,color:I}}C.create=U;function W(L){var I=L;return s.is(I.range)&&u.is(I.color)}C.is=W})(d=e.ColorInformation||(e.ColorInformation={}));var h;(function(C){function U(L,I,j){return{label:L,textEdit:I,additionalTextEdits:j}}C.create=U;function W(L){var I=L;return V.string(I.label)&&(V.undefined(I.textEdit)||v.is(I))&&(V.undefined(I.additionalTextEdits)||V.typedArray(I.additionalTextEdits,v.is))}C.is=W})(h=e.ColorPresentation||(e.ColorPresentation={}));var m;(function(C){C.Comment="comment",C.Imports="imports",C.Region="region"})(m=e.FoldingRangeKind||(e.FoldingRangeKind={}));var y;(function(C){function U(L,I,j,z,fe){var Ce={startLine:L,endLine:I};return V.defined(j)&&(Ce.startCharacter=j),V.defined(z)&&(Ce.endCharacter=z),V.defined(fe)&&(Ce.kind=fe),Ce}C.create=U;function W(L){var I=L;return V.uinteger(I.startLine)&&V.uinteger(I.startLine)&&(V.undefined(I.startCharacter)||V.uinteger(I.startCharacter))&&(V.undefined(I.endCharacter)||V.uinteger(I.endCharacter))&&(V.undefined(I.kind)||V.string(I.kind))}C.is=W})(y=e.FoldingRange||(e.FoldingRange={}));var b;(function(C){function U(L,I){return{location:L,message:I}}C.create=U;function W(L){var I=L;return V.defined(I)&&o.is(I.location)&&V.string(I.message)}C.is=W})(b=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var T;(function(C){C.Error=1,C.Warning=2,C.Information=3,C.Hint=4})(T=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var x;(function(C){C.Unnecessary=1,C.Deprecated=2})(x=e.DiagnosticTag||(e.DiagnosticTag={}));var D;(function(C){function U(W){var L=W;return L!=null&&V.string(L.href)}C.is=U})(D=e.CodeDescription||(e.CodeDescription={}));var _;(function(C){function U(L,I,j,z,fe,Ce){var Pe={range:L,message:I};return V.defined(j)&&(Pe.severity=j),V.defined(z)&&(Pe.code=z),V.defined(fe)&&(Pe.source=fe),V.defined(Ce)&&(Pe.relatedInformation=Ce),Pe}C.create=U;function W(L){var I,j=L;return V.defined(j)&&s.is(j.range)&&V.string(j.message)&&(V.number(j.severity)||V.undefined(j.severity))&&(V.integer(j.code)||V.string(j.code)||V.undefined(j.code))&&(V.undefined(j.codeDescription)||V.string((I=j.codeDescription)===null||I===void 0?void 0:I.href))&&(V.string(j.source)||V.undefined(j.source))&&(V.undefined(j.relatedInformation)||V.typedArray(j.relatedInformation,b.is))}C.is=W})(_=e.Diagnostic||(e.Diagnostic={}));var P;(function(C){function U(L,I){for(var j=[],z=2;z<arguments.length;z++)j[z-2]=arguments[z];var fe={title:L,command:I};return V.defined(j)&&j.length>0&&(fe.arguments=j),fe}C.create=U;function W(L){var I=L;return V.defined(I)&&V.string(I.title)&&V.string(I.command)}C.is=W})(P=e.Command||(e.Command={}));var v;(function(C){function U(j,z){return{range:j,newText:z}}C.replace=U;function W(j,z){return{range:{start:j,end:j},newText:z}}C.insert=W;function L(j){return{range:j,newText:""}}C.del=L;function I(j){var z=j;return V.objectLiteral(z)&&V.string(z.newText)&&s.is(z.range)}C.is=I})(v=e.TextEdit||(e.TextEdit={}));var S;(function(C){function U(L,I,j){var z={label:L};return I!==void 0&&(z.needsConfirmation=I),j!==void 0&&(z.description=j),z}C.create=U;function W(L){var I=L;return I!==void 0&&V.objectLiteral(I)&&V.string(I.label)&&(V.boolean(I.needsConfirmation)||I.needsConfirmation===void 0)&&(V.string(I.description)||I.description===void 0)}C.is=W})(S=e.ChangeAnnotation||(e.ChangeAnnotation={}));var w;(function(C){function U(W){var L=W;return typeof L=="string"}C.is=U})(w=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var J;(function(C){function U(j,z,fe){return{range:j,newText:z,annotationId:fe}}C.replace=U;function W(j,z,fe){return{range:{start:j,end:j},newText:z,annotationId:fe}}C.insert=W;function L(j,z){return{range:j,newText:"",annotationId:z}}C.del=L;function I(j){var z=j;return v.is(z)&&(S.is(z.annotationId)||w.is(z.annotationId))}C.is=I})(J=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var Y;(function(C){function U(L,I){return{textDocument:L,edits:I}}C.create=U;function W(L){var I=L;return V.defined(I)&&Ct.is(I.textDocument)&&Array.isArray(I.edits)}C.is=W})(Y=e.TextDocumentEdit||(e.TextDocumentEdit={}));var ae;(function(C){function U(L,I,j){var z={kind:"create",uri:L};return I!==void 0&&(I.overwrite!==void 0||I.ignoreIfExists!==void 0)&&(z.options=I),j!==void 0&&(z.annotationId=j),z}C.create=U;function W(L){var I=L;return I&&I.kind==="create"&&V.string(I.uri)&&(I.options===void 0||(I.options.overwrite===void 0||V.boolean(I.options.overwrite))&&(I.options.ignoreIfExists===void 0||V.boolean(I.options.ignoreIfExists)))&&(I.annotationId===void 0||w.is(I.annotationId))}C.is=W})(ae=e.CreateFile||(e.CreateFile={}));var he;(function(C){function U(L,I,j,z){var fe={kind:"rename",oldUri:L,newUri:I};return j!==void 0&&(j.overwrite!==void 0||j.ignoreIfExists!==void 0)&&(fe.options=j),z!==void 0&&(fe.annotationId=z),fe}C.create=U;function W(L){var I=L;return I&&I.kind==="rename"&&V.string(I.oldUri)&&V.string(I.newUri)&&(I.options===void 0||(I.options.overwrite===void 0||V.boolean(I.options.overwrite))&&(I.options.ignoreIfExists===void 0||V.boolean(I.options.ignoreIfExists)))&&(I.annotationId===void 0||w.is(I.annotationId))}C.is=W})(he=e.RenameFile||(e.RenameFile={}));var be;(function(C){function U(L,I,j){var z={kind:"delete",uri:L};return I!==void 0&&(I.recursive!==void 0||I.ignoreIfNotExists!==void 0)&&(z.options=I),j!==void 0&&(z.annotationId=j),z}C.create=U;function W(L){var I=L;return I&&I.kind==="delete"&&V.string(I.uri)&&(I.options===void 0||(I.options.recursive===void 0||V.boolean(I.options.recursive))&&(I.options.ignoreIfNotExists===void 0||V.boolean(I.options.ignoreIfNotExists)))&&(I.annotationId===void 0||w.is(I.annotationId))}C.is=W})(be=e.DeleteFile||(e.DeleteFile={}));var Te;(function(C){function U(W){var L=W;return L&&(L.changes!==void 0||L.documentChanges!==void 0)&&(L.documentChanges===void 0||L.documentChanges.every(function(I){return V.string(I.kind)?ae.is(I)||he.is(I)||be.is(I):Y.is(I)}))}C.is=U})(Te=e.WorkspaceEdit||(e.WorkspaceEdit={}));var pe=function(){function C(U,W){this.edits=U,this.changeAnnotations=W}return C.prototype.insert=function(U,W,L){var I,j;if(L===void 0?I=v.insert(U,W):w.is(L)?(j=L,I=J.insert(U,W,L)):(this.assertChangeAnnotations(this.changeAnnotations),j=this.changeAnnotations.manage(L),I=J.insert(U,W,j)),this.edits.push(I),j!==void 0)return j},C.prototype.replace=function(U,W,L){var I,j;if(L===void 0?I=v.replace(U,W):w.is(L)?(j=L,I=J.replace(U,W,L)):(this.assertChangeAnnotations(this.changeAnnotations),j=this.changeAnnotations.manage(L),I=J.replace(U,W,j)),this.edits.push(I),j!==void 0)return j},C.prototype.delete=function(U,W){var L,I;if(W===void 0?L=v.del(U):w.is(W)?(I=W,L=J.del(U,W)):(this.assertChangeAnnotations(this.changeAnnotations),I=this.changeAnnotations.manage(W),L=J.del(U,I)),this.edits.push(L),I!==void 0)return I},C.prototype.add=function(U){this.edits.push(U)},C.prototype.all=function(){return this.edits},C.prototype.clear=function(){this.edits.splice(0,this.edits.length)},C.prototype.assertChangeAnnotations=function(U){if(U===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},C}(),at=function(){function C(U){this._annotations=U===void 0?Object.create(null):U,this._counter=0,this._size=0}return C.prototype.all=function(){return this._annotations},Object.defineProperty(C.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),C.prototype.manage=function(U,W){var L;if(w.is(U)?L=U:(L=this.nextId(),W=U),this._annotations[L]!==void 0)throw new Error("Id "+L+" is already in use.");if(W===void 0)throw new Error("No annotation provided for id "+L);return this._annotations[L]=W,this._size++,L},C.prototype.nextId=function(){return this._counter++,this._counter.toString()},C}(),Se=function(){function C(U){var W=this;this._textEditChanges=Object.create(null),U!==void 0?(this._workspaceEdit=U,U.documentChanges?(this._changeAnnotations=new at(U.changeAnnotations),U.changeAnnotations=this._changeAnnotations.all(),U.documentChanges.forEach(function(L){if(Y.is(L)){var I=new pe(L.edits,W._changeAnnotations);W._textEditChanges[L.textDocument.uri]=I}})):U.changes&&Object.keys(U.changes).forEach(function(L){var I=new pe(U.changes[L]);W._textEditChanges[L]=I})):this._workspaceEdit={}}return Object.defineProperty(C.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),C.prototype.getTextEditChange=function(U){if(Ct.is(U)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var W={uri:U.uri,version:U.version},L=this._textEditChanges[W.uri];if(!L){var I=[],j={textDocument:W,edits:I};this._workspaceEdit.documentChanges.push(j),L=new pe(I,this._changeAnnotations),this._textEditChanges[W.uri]=L}return L}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var L=this._textEditChanges[U];if(!L){var I=[];this._workspaceEdit.changes[U]=I,L=new pe(I),this._textEditChanges[U]=L}return L}},C.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new at,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},C.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},C.prototype.createFile=function(U,W,L){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var I;S.is(W)||w.is(W)?I=W:L=W;var j,z;if(I===void 0?j=ae.create(U,L):(z=w.is(I)?I:this._changeAnnotations.manage(I),j=ae.create(U,L,z)),this._workspaceEdit.documentChanges.push(j),z!==void 0)return z},C.prototype.renameFile=function(U,W,L,I){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var j;S.is(L)||w.is(L)?j=L:I=L;var z,fe;if(j===void 0?z=he.create(U,W,I):(fe=w.is(j)?j:this._changeAnnotations.manage(j),z=he.create(U,W,I,fe)),this._workspaceEdit.documentChanges.push(z),fe!==void 0)return fe},C.prototype.deleteFile=function(U,W,L){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var I;S.is(W)||w.is(W)?I=W:L=W;var j,z;if(I===void 0?j=be.create(U,L):(z=w.is(I)?I:this._changeAnnotations.manage(I),j=be.create(U,L,z)),this._workspaceEdit.documentChanges.push(j),z!==void 0)return z},C}();e.WorkspaceChange=Se;var se;(function(C){function U(L){return{uri:L}}C.create=U;function W(L){var I=L;return V.defined(I)&&V.string(I.uri)}C.is=W})(se=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var rt;(function(C){function U(L,I){return{uri:L,version:I}}C.create=U;function W(L){var I=L;return V.defined(I)&&V.string(I.uri)&&V.integer(I.version)}C.is=W})(rt=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var Ct;(function(C){function U(L,I){return{uri:L,version:I}}C.create=U;function W(L){var I=L;return V.defined(I)&&V.string(I.uri)&&(I.version===null||V.integer(I.version))}C.is=W})(Ct=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var Ln;(function(C){function U(L,I,j,z){return{uri:L,languageId:I,version:j,text:z}}C.create=U;function W(L){var I=L;return V.defined(I)&&V.string(I.uri)&&V.string(I.languageId)&&V.integer(I.version)&&V.string(I.text)}C.is=W})(Ln=e.TextDocumentItem||(e.TextDocumentItem={}));var ot;(function(C){C.PlainText="plaintext",C.Markdown="markdown"})(ot=e.MarkupKind||(e.MarkupKind={})),function(C){function U(W){var L=W;return L===C.PlainText||L===C.Markdown}C.is=U}(ot=e.MarkupKind||(e.MarkupKind={}));var Ut;(function(C){function U(W){var L=W;return V.objectLiteral(W)&&ot.is(L.kind)&&V.string(L.value)}C.is=U})(Ut=e.MarkupContent||(e.MarkupContent={}));var Xn;(function(C){C.Text=1,C.Method=2,C.Function=3,C.Constructor=4,C.Field=5,C.Variable=6,C.Class=7,C.Interface=8,C.Module=9,C.Property=10,C.Unit=11,C.Value=12,C.Enum=13,C.Keyword=14,C.Snippet=15,C.Color=16,C.File=17,C.Reference=18,C.Folder=19,C.EnumMember=20,C.Constant=21,C.Struct=22,C.Event=23,C.Operator=24,C.TypeParameter=25})(Xn=e.CompletionItemKind||(e.CompletionItemKind={}));var cr;(function(C){C.PlainText=1,C.Snippet=2})(cr=e.InsertTextFormat||(e.InsertTextFormat={}));var zi;(function(C){C.Deprecated=1})(zi=e.CompletionItemTag||(e.CompletionItemTag={}));var eo;(function(C){function U(L,I,j){return{newText:L,insert:I,replace:j}}C.create=U;function W(L){var I=L;return I&&V.string(I.newText)&&s.is(I.insert)&&s.is(I.replace)}C.is=W})(eo=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var Jn;(function(C){C.asIs=1,C.adjustIndentation=2})(Jn=e.InsertTextMode||(e.InsertTextMode={}));var Or;(function(C){function U(W){return{label:W}}C.create=U})(Or=e.CompletionItem||(e.CompletionItem={}));var aa;(function(C){function U(W,L){return{items:W||[],isIncomplete:!!L}}C.create=U})(aa=e.CompletionList||(e.CompletionList={}));var jt;(function(C){function U(L){return L.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}C.fromPlainText=U;function W(L){var I=L;return V.string(I)||V.objectLiteral(I)&&V.string(I.language)&&V.string(I.value)}C.is=W})(jt=e.MarkedString||(e.MarkedString={}));var oa;(function(C){function U(W){var L=W;return!!L&&V.objectLiteral(L)&&(Ut.is(L.contents)||jt.is(L.contents)||V.typedArray(L.contents,jt.is))&&(W.range===void 0||s.is(W.range))}C.is=U})(oa=e.Hover||(e.Hover={}));var to;(function(C){function U(W,L){return L?{label:W,documentation:L}:{label:W}}C.create=U})(to=e.ParameterInformation||(e.ParameterInformation={}));var no;(function(C){function U(W,L){for(var I=[],j=2;j<arguments.length;j++)I[j-2]=arguments[j];var z={label:W};return V.defined(L)&&(z.documentation=L),V.defined(I)?z.parameters=I:z.parameters=[],z}C.create=U})(no=e.SignatureInformation||(e.SignatureInformation={}));var vs;(function(C){C.Text=1,C.Read=2,C.Write=3})(vs=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var Qi;(function(C){function U(W,L){var I={range:W};return V.number(L)&&(I.kind=L),I}C.create=U})(Qi=e.DocumentHighlight||(e.DocumentHighlight={}));var Ze;(function(C){C.File=1,C.Module=2,C.Namespace=3,C.Package=4,C.Class=5,C.Method=6,C.Property=7,C.Field=8,C.Constructor=9,C.Enum=10,C.Interface=11,C.Function=12,C.Variable=13,C.Constant=14,C.String=15,C.Number=16,C.Boolean=17,C.Array=18,C.Object=19,C.Key=20,C.Null=21,C.EnumMember=22,C.Struct=23,C.Event=24,C.Operator=25,C.TypeParameter=26})(Ze=e.SymbolKind||(e.SymbolKind={}));var ro;(function(C){C.Deprecated=1})(ro=e.SymbolTag||(e.SymbolTag={}));var me;(function(C){function U(W,L,I,j,z){var fe={name:W,kind:L,location:{uri:j,range:I}};return z&&(fe.containerName=z),fe}C.create=U})(me=e.SymbolInformation||(e.SymbolInformation={}));var Ri;(function(C){function U(L,I,j,z,fe,Ce){var Pe={name:L,detail:I,kind:j,range:z,selectionRange:fe};return Ce!==void 0&&(Pe.children=Ce),Pe}C.create=U;function W(L){var I=L;return I&&V.string(I.name)&&V.number(I.kind)&&s.is(I.range)&&s.is(I.selectionRange)&&(I.detail===void 0||V.string(I.detail))&&(I.deprecated===void 0||V.boolean(I.deprecated))&&(I.children===void 0||Array.isArray(I.children))&&(I.tags===void 0||Array.isArray(I.tags))}C.is=W})(Ri=e.DocumentSymbol||(e.DocumentSymbol={}));var wl;(function(C){C.Empty="",C.QuickFix="quickfix",C.Refactor="refactor",C.RefactorExtract="refactor.extract",C.RefactorInline="refactor.inline",C.RefactorRewrite="refactor.rewrite",C.Source="source",C.SourceOrganizeImports="source.organizeImports",C.SourceFixAll="source.fixAll"})(wl=e.CodeActionKind||(e.CodeActionKind={}));var io;(function(C){function U(L,I){var j={diagnostics:L};return I!=null&&(j.only=I),j}C.create=U;function W(L){var I=L;return V.defined(I)&&V.typedArray(I.diagnostics,_.is)&&(I.only===void 0||V.typedArray(I.only,V.string))}C.is=W})(io=e.CodeActionContext||(e.CodeActionContext={}));var Xi;(function(C){function U(L,I,j){var z={title:L},fe=!0;return typeof I=="string"?(fe=!1,z.kind=I):P.is(I)?z.command=I:z.edit=I,fe&&j!==void 0&&(z.kind=j),z}C.create=U;function W(L){var I=L;return I&&V.string(I.title)&&(I.diagnostics===void 0||V.typedArray(I.diagnostics,_.is))&&(I.kind===void 0||V.string(I.kind))&&(I.edit!==void 0||I.command!==void 0)&&(I.command===void 0||P.is(I.command))&&(I.isPreferred===void 0||V.boolean(I.isPreferred))&&(I.edit===void 0||Te.is(I.edit))}C.is=W})(Xi=e.CodeAction||(e.CodeAction={}));var la;(function(C){function U(L,I){var j={range:L};return V.defined(I)&&(j.data=I),j}C.create=U;function W(L){var I=L;return V.defined(I)&&s.is(I.range)&&(V.undefined(I.command)||P.is(I.command))}C.is=W})(la=e.CodeLens||(e.CodeLens={}));var so;(function(C){function U(L,I){return{tabSize:L,insertSpaces:I}}C.create=U;function W(L){var I=L;return V.defined(I)&&V.uinteger(I.tabSize)&&V.boolean(I.insertSpaces)}C.is=W})(so=e.FormattingOptions||(e.FormattingOptions={}));var Is;(function(C){function U(L,I,j){return{range:L,target:I,data:j}}C.create=U;function W(L){var I=L;return V.defined(I)&&s.is(I.range)&&(V.undefined(I.target)||V.string(I.target))}C.is=W})(Is=e.DocumentLink||(e.DocumentLink={}));var ao;(function(C){function U(L,I){return{range:L,parent:I}}C.create=U;function W(L){var I=L;return I!==void 0&&s.is(I.range)&&(I.parent===void 0||C.is(I.parent))}C.is=W})(ao=e.SelectionRange||(e.SelectionRange={})),e.EOL=[`
`,`\r
`,"\r"];var Jr;(function(C){function U(j,z,fe,Ce){return new G(j,z,fe,Ce)}C.create=U;function W(j){var z=j;return!!(V.defined(z)&&V.string(z.uri)&&(V.undefined(z.languageId)||V.string(z.languageId))&&V.uinteger(z.lineCount)&&V.func(z.getText)&&V.func(z.positionAt)&&V.func(z.offsetAt))}C.is=W;function L(j,z){for(var fe=j.getText(),Ce=I(z,function(Ji,oo){var Ll=Ji.range.start.line-oo.range.start.line;return Ll===0?Ji.range.start.character-oo.range.start.character:Ll}),Pe=fe.length,Tt=Ce.length-1;Tt>=0;Tt--){var Kt=Ce[Tt],$t=j.offsetAt(Kt.range.start),et=j.offsetAt(Kt.range.end);if(et<=Pe)fe=fe.substring(0,$t)+Kt.newText+fe.substring(et,fe.length);else throw new Error("Overlapping edit");Pe=$t}return fe}C.applyEdits=L;function I(j,z){if(j.length<=1)return j;var fe=j.length/2|0,Ce=j.slice(0,fe),Pe=j.slice(fe);I(Ce,z),I(Pe,z);for(var Tt=0,Kt=0,$t=0;Tt<Ce.length&&Kt<Pe.length;){var et=z(Ce[Tt],Pe[Kt]);et<=0?j[$t++]=Ce[Tt++]:j[$t++]=Pe[Kt++]}for(;Tt<Ce.length;)j[$t++]=Ce[Tt++];for(;Kt<Pe.length;)j[$t++]=Pe[Kt++];return j}})(Jr=e.TextDocument||(e.TextDocument={}));var G=function(){function C(U,W,L,I){this._uri=U,this._languageId=W,this._version=L,this._content=I,this._lineOffsets=void 0}return Object.defineProperty(C.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),C.prototype.getText=function(U){if(U){var W=this.offsetAt(U.start),L=this.offsetAt(U.end);return this._content.substring(W,L)}return this._content},C.prototype.update=function(U,W){this._content=U.text,this._version=W,this._lineOffsets=void 0},C.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var U=[],W=this._content,L=!0,I=0;I<W.length;I++){L&&(U.push(I),L=!1);var j=W.charAt(I);L=j==="\r"||j===`
`,j==="\r"&&I+1<W.length&&W.charAt(I+1)===`
`&&I++}L&&W.length>0&&U.push(W.length),this._lineOffsets=U}return this._lineOffsets},C.prototype.positionAt=function(U){U=Math.max(Math.min(U,this._content.length),0);var W=this.getLineOffsets(),L=0,I=W.length;if(I===0)return i.create(0,U);for(;L<I;){var j=Math.floor((L+I)/2);W[j]>U?I=j:L=j+1}var z=L-1;return i.create(z,U-W[z])},C.prototype.offsetAt=function(U){var W=this.getLineOffsets();if(U.line>=W.length)return this._content.length;if(U.line<0)return 0;var L=W[U.line],I=U.line+1<W.length?W[U.line+1]:this._content.length;return Math.max(Math.min(L+U.character,I),L)},Object.defineProperty(C.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),C}(),V;(function(C){var U=Object.prototype.toString;function W(et){return typeof et!="undefined"}C.defined=W;function L(et){return typeof et=="undefined"}C.undefined=L;function I(et){return et===!0||et===!1}C.boolean=I;function j(et){return U.call(et)==="[object String]"}C.string=j;function z(et){return U.call(et)==="[object Number]"}C.number=z;function fe(et,Ji,oo){return U.call(et)==="[object Number]"&&Ji<=et&&et<=oo}C.numberRange=fe;function Ce(et){return U.call(et)==="[object Number]"&&-2147483648<=et&&et<=2147483647}C.integer=Ce;function Pe(et){return U.call(et)==="[object Number]"&&0<=et&&et<=2147483647}C.uinteger=Pe;function Tt(et){return U.call(et)==="[object Function]"}C.func=Tt;function Kt(et){return et!==null&&typeof et=="object"}C.objectLiteral=Kt;function $t(et,Ji){return Array.isArray(et)&&et.every(Ji)}C.typedArray=$t})(V||(V={}))})});var gn=_e(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});Kr.ProtocolNotificationType=Kr.ProtocolNotificationType0=Kr.ProtocolRequestType=Kr.ProtocolRequestType0=Kr.RegistrationType=void 0;var Oo=ko(),oI=class{constructor(e){this.method=e}};Kr.RegistrationType=oI;var lI=class extends Oo.RequestType0{constructor(e){super(e)}};Kr.ProtocolRequestType0=lI;var cI=class extends Oo.RequestType{constructor(e){super(e,Oo.ParameterStructures.byName)}};Kr.ProtocolRequestType=cI;var uI=class extends Oo.NotificationType0{constructor(e){super(e)}};Kr.ProtocolNotificationType0=uI;var fI=class extends Oo.NotificationType{constructor(e){super(e,Oo.ParameterStructures.byName)}};Kr.ProtocolNotificationType=fI});var hI=_e(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});rn.objectLiteral=rn.typedArray=rn.stringArray=rn.array=rn.func=rn.error=rn.number=rn.string=rn.boolean=void 0;function HD(t){return t===!0||t===!1}rn.boolean=HD;function dI(t){return typeof t=="string"||t instanceof String}rn.string=dI;function YD(t){return typeof t=="number"||t instanceof Number}rn.number=YD;function KD(t){return t instanceof Error}rn.error=KD;function $D(t){return typeof t=="function"}rn.func=$D;function pI(t){return Array.isArray(t)}rn.array=pI;function zD(t){return pI(t)&&t.every(e=>dI(e))}rn.stringArray=zD;function QD(t,e){return Array.isArray(t)&&t.every(e)}rn.typedArray=QD;function XD(t){return t!==null&&typeof t=="object"}rn.objectLiteral=XD});var mI=_e(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});cc.ImplementationRequest=void 0;var JD=gn(),ZD;(function(t){t.method="textDocument/implementation",t.type=new JD.ProtocolRequestType(t.method)})(ZD=cc.ImplementationRequest||(cc.ImplementationRequest={}))});var gI=_e(uc=>{"use strict";Object.defineProperty(uc,"__esModule",{value:!0});uc.TypeDefinitionRequest=void 0;var e1=gn(),t1;(function(t){t.method="textDocument/typeDefinition",t.type=new e1.ProtocolRequestType(t.method)})(t1=uc.TypeDefinitionRequest||(uc.TypeDefinitionRequest={}))});var _I=_e(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.DidChangeWorkspaceFoldersNotification=Fs.WorkspaceFoldersRequest=void 0;var TI=gn(),n1;(function(t){t.type=new TI.ProtocolRequestType0("workspace/workspaceFolders")})(n1=Fs.WorkspaceFoldersRequest||(Fs.WorkspaceFoldersRequest={}));var r1;(function(t){t.type=new TI.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(r1=Fs.DidChangeWorkspaceFoldersNotification||(Fs.DidChangeWorkspaceFoldersNotification={}))});var yI=_e(fc=>{"use strict";Object.defineProperty(fc,"__esModule",{value:!0});fc.ConfigurationRequest=void 0;var i1=gn(),s1;(function(t){t.type=new i1.ProtocolRequestType("workspace/configuration")})(s1=fc.ConfigurationRequest||(fc.ConfigurationRequest={}))});var NI=_e(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.ColorPresentationRequest=Vs.DocumentColorRequest=void 0;var bI=gn(),a1;(function(t){t.method="textDocument/documentColor",t.type=new bI.ProtocolRequestType(t.method)})(a1=Vs.DocumentColorRequest||(Vs.DocumentColorRequest={}));var o1;(function(t){t.type=new bI.ProtocolRequestType("textDocument/colorPresentation")})(o1=Vs.ColorPresentationRequest||(Vs.ColorPresentationRequest={}))});var vI=_e(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.FoldingRangeRequest=Bs.FoldingRangeKind=void 0;var l1=gn(),c1;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(c1=Bs.FoldingRangeKind||(Bs.FoldingRangeKind={}));var u1;(function(t){t.method="textDocument/foldingRange",t.type=new l1.ProtocolRequestType(t.method)})(u1=Bs.FoldingRangeRequest||(Bs.FoldingRangeRequest={}))});var II=_e(dc=>{"use strict";Object.defineProperty(dc,"__esModule",{value:!0});dc.DeclarationRequest=void 0;var f1=gn(),d1;(function(t){t.method="textDocument/declaration",t.type=new f1.ProtocolRequestType(t.method)})(d1=dc.DeclarationRequest||(dc.DeclarationRequest={}))});var CI=_e(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.SelectionRangeRequest=void 0;var p1=gn(),h1;(function(t){t.method="textDocument/selectionRange",t.type=new p1.ProtocolRequestType(t.method)})(h1=pc.SelectionRangeRequest||(pc.SelectionRangeRequest={}))});var AI=_e(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});bi.WorkDoneProgressCancelNotification=bi.WorkDoneProgressCreateRequest=bi.WorkDoneProgress=void 0;var m1=ko(),PI=gn(),g1;(function(t){t.type=new m1.ProgressType;function e(n){return n===t.type}t.is=e})(g1=bi.WorkDoneProgress||(bi.WorkDoneProgress={}));var T1;(function(t){t.type=new PI.ProtocolRequestType("window/workDoneProgress/create")})(T1=bi.WorkDoneProgressCreateRequest||(bi.WorkDoneProgressCreateRequest={}));var _1;(function(t){t.type=new PI.ProtocolNotificationType("window/workDoneProgress/cancel")})(_1=bi.WorkDoneProgressCancelNotification||(bi.WorkDoneProgressCancelNotification={}))});var SI=_e(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.CallHierarchyOutgoingCallsRequest=Ni.CallHierarchyIncomingCallsRequest=Ni.CallHierarchyPrepareRequest=void 0;var Lh=gn(),y1;(function(t){t.method="textDocument/prepareCallHierarchy",t.type=new Lh.ProtocolRequestType(t.method)})(y1=Ni.CallHierarchyPrepareRequest||(Ni.CallHierarchyPrepareRequest={}));var b1;(function(t){t.method="callHierarchy/incomingCalls",t.type=new Lh.ProtocolRequestType(t.method)})(b1=Ni.CallHierarchyIncomingCallsRequest||(Ni.CallHierarchyIncomingCallsRequest={}));var N1;(function(t){t.method="callHierarchy/outgoingCalls",t.type=new Lh.ProtocolRequestType(t.method)})(N1=Ni.CallHierarchyOutgoingCallsRequest||(Ni.CallHierarchyOutgoingCallsRequest={}))});var xI=_e(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});yt.SemanticTokensRefreshRequest=yt.SemanticTokensRangeRequest=yt.SemanticTokensDeltaRequest=yt.SemanticTokensRequest=yt.SemanticTokensRegistrationType=yt.TokenFormat=yt.SemanticTokens=yt.SemanticTokenModifiers=yt.SemanticTokenTypes=void 0;var hc=gn(),v1;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator"})(v1=yt.SemanticTokenTypes||(yt.SemanticTokenTypes={}));var I1;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(I1=yt.SemanticTokenModifiers||(yt.SemanticTokenModifiers={}));var C1;(function(t){function e(n){let r=n;return r!==void 0&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}t.is=e})(C1=yt.SemanticTokens||(yt.SemanticTokens={}));var P1;(function(t){t.Relative="relative"})(P1=yt.TokenFormat||(yt.TokenFormat={}));var A1;(function(t){t.method="textDocument/semanticTokens",t.type=new hc.RegistrationType(t.method)})(A1=yt.SemanticTokensRegistrationType||(yt.SemanticTokensRegistrationType={}));var S1;(function(t){t.method="textDocument/semanticTokens/full",t.type=new hc.ProtocolRequestType(t.method)})(S1=yt.SemanticTokensRequest||(yt.SemanticTokensRequest={}));var x1;(function(t){t.method="textDocument/semanticTokens/full/delta",t.type=new hc.ProtocolRequestType(t.method)})(x1=yt.SemanticTokensDeltaRequest||(yt.SemanticTokensDeltaRequest={}));var E1;(function(t){t.method="textDocument/semanticTokens/range",t.type=new hc.ProtocolRequestType(t.method)})(E1=yt.SemanticTokensRangeRequest||(yt.SemanticTokensRangeRequest={}));var R1;(function(t){t.method="workspace/semanticTokens/refresh",t.type=new hc.ProtocolRequestType0(t.method)})(R1=yt.SemanticTokensRefreshRequest||(yt.SemanticTokensRefreshRequest={}))});var EI=_e(mc=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});mc.ShowDocumentRequest=void 0;var k1=gn(),O1;(function(t){t.method="window/showDocument",t.type=new k1.ProtocolRequestType(t.method)})(O1=mc.ShowDocumentRequest||(mc.ShowDocumentRequest={}))});var RI=_e(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});gc.LinkedEditingRangeRequest=void 0;var w1=gn(),L1;(function(t){t.method="textDocument/linkedEditingRange",t.type=new w1.ProtocolRequestType(t.method)})(L1=gc.LinkedEditingRangeRequest||(gc.LinkedEditingRangeRequest={}))});var kI=_e(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.WillDeleteFilesRequest=qt.DidDeleteFilesNotification=qt.DidRenameFilesNotification=qt.WillRenameFilesRequest=qt.DidCreateFilesNotification=qt.WillCreateFilesRequest=qt.FileOperationPatternKind=void 0;var wo=gn(),D1;(function(t){t.file="file",t.folder="folder"})(D1=qt.FileOperationPatternKind||(qt.FileOperationPatternKind={}));var M1;(function(t){t.method="workspace/willCreateFiles",t.type=new wo.ProtocolRequestType(t.method)})(M1=qt.WillCreateFilesRequest||(qt.WillCreateFilesRequest={}));var F1;(function(t){t.method="workspace/didCreateFiles",t.type=new wo.ProtocolNotificationType(t.method)})(F1=qt.DidCreateFilesNotification||(qt.DidCreateFilesNotification={}));var V1;(function(t){t.method="workspace/willRenameFiles",t.type=new wo.ProtocolRequestType(t.method)})(V1=qt.WillRenameFilesRequest||(qt.WillRenameFilesRequest={}));var B1;(function(t){t.method="workspace/didRenameFiles",t.type=new wo.ProtocolNotificationType(t.method)})(B1=qt.DidRenameFilesNotification||(qt.DidRenameFilesNotification={}));var q1;(function(t){t.method="workspace/didDeleteFiles",t.type=new wo.ProtocolNotificationType(t.method)})(q1=qt.DidDeleteFilesNotification||(qt.DidDeleteFilesNotification={}));var U1;(function(t){t.method="workspace/willDeleteFiles",t.type=new wo.ProtocolRequestType(t.method)})(U1=qt.WillDeleteFilesRequest||(qt.WillDeleteFilesRequest={}))});var OI=_e(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});vi.MonikerRequest=vi.MonikerKind=vi.UniquenessLevel=void 0;var j1=gn(),G1;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(G1=vi.UniquenessLevel||(vi.UniquenessLevel={}));var W1;(function(t){t.import="import",t.export="export",t.local="local"})(W1=vi.MonikerKind||(vi.MonikerKind={}));var H1;(function(t){t.method="textDocument/moniker",t.type=new j1.ProtocolRequestType(t.method)})(H1=vi.MonikerRequest||(vi.MonikerRequest={}))});var FI=_e(M=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});M.DocumentLinkRequest=M.CodeLensRefreshRequest=M.CodeLensResolveRequest=M.CodeLensRequest=M.WorkspaceSymbolRequest=M.CodeActionResolveRequest=M.CodeActionRequest=M.DocumentSymbolRequest=M.DocumentHighlightRequest=M.ReferencesRequest=M.DefinitionRequest=M.SignatureHelpRequest=M.SignatureHelpTriggerKind=M.HoverRequest=M.CompletionResolveRequest=M.CompletionRequest=M.CompletionTriggerKind=M.PublishDiagnosticsNotification=M.WatchKind=M.FileChangeType=M.DidChangeWatchedFilesNotification=M.WillSaveTextDocumentWaitUntilRequest=M.WillSaveTextDocumentNotification=M.TextDocumentSaveReason=M.DidSaveTextDocumentNotification=M.DidCloseTextDocumentNotification=M.DidChangeTextDocumentNotification=M.TextDocumentContentChangeEvent=M.DidOpenTextDocumentNotification=M.TextDocumentSyncKind=M.TelemetryEventNotification=M.LogMessageNotification=M.ShowMessageRequest=M.ShowMessageNotification=M.MessageType=M.DidChangeConfigurationNotification=M.ExitNotification=M.ShutdownRequest=M.InitializedNotification=M.InitializeError=M.InitializeRequest=M.WorkDoneProgressOptions=M.TextDocumentRegistrationOptions=M.StaticRegistrationOptions=M.FailureHandlingKind=M.ResourceOperationKind=M.UnregistrationRequest=M.RegistrationRequest=M.DocumentSelector=M.DocumentFilter=void 0;M.MonikerRequest=M.MonikerKind=M.UniquenessLevel=M.WillDeleteFilesRequest=M.DidDeleteFilesNotification=M.WillRenameFilesRequest=M.DidRenameFilesNotification=M.WillCreateFilesRequest=M.DidCreateFilesNotification=M.FileOperationPatternKind=M.LinkedEditingRangeRequest=M.ShowDocumentRequest=M.SemanticTokensRegistrationType=M.SemanticTokensRefreshRequest=M.SemanticTokensRangeRequest=M.SemanticTokensDeltaRequest=M.SemanticTokensRequest=M.TokenFormat=M.SemanticTokens=M.SemanticTokenModifiers=M.SemanticTokenTypes=M.CallHierarchyPrepareRequest=M.CallHierarchyOutgoingCallsRequest=M.CallHierarchyIncomingCallsRequest=M.WorkDoneProgressCancelNotification=M.WorkDoneProgressCreateRequest=M.WorkDoneProgress=M.SelectionRangeRequest=M.DeclarationRequest=M.FoldingRangeRequest=M.ColorPresentationRequest=M.DocumentColorRequest=M.ConfigurationRequest=M.DidChangeWorkspaceFoldersNotification=M.WorkspaceFoldersRequest=M.TypeDefinitionRequest=M.ImplementationRequest=M.ApplyWorkspaceEditRequest=M.ExecuteCommandRequest=M.PrepareRenameRequest=M.RenameRequest=M.PrepareSupportDefaultBehavior=M.DocumentOnTypeFormattingRequest=M.DocumentRangeFormattingRequest=M.DocumentFormattingRequest=M.DocumentLinkResolveRequest=void 0;var qs=hI(),We=gn(),Y1=mI();Object.defineProperty(M,"ImplementationRequest",{enumerable:!0,get:function(){return Y1.ImplementationRequest}});var K1=gI();Object.defineProperty(M,"TypeDefinitionRequest",{enumerable:!0,get:function(){return K1.TypeDefinitionRequest}});var wI=_I();Object.defineProperty(M,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return wI.WorkspaceFoldersRequest}});Object.defineProperty(M,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return wI.DidChangeWorkspaceFoldersNotification}});var $1=yI();Object.defineProperty(M,"ConfigurationRequest",{enumerable:!0,get:function(){return $1.ConfigurationRequest}});var LI=NI();Object.defineProperty(M,"DocumentColorRequest",{enumerable:!0,get:function(){return LI.DocumentColorRequest}});Object.defineProperty(M,"ColorPresentationRequest",{enumerable:!0,get:function(){return LI.ColorPresentationRequest}});var z1=vI();Object.defineProperty(M,"FoldingRangeRequest",{enumerable:!0,get:function(){return z1.FoldingRangeRequest}});var Q1=II();Object.defineProperty(M,"DeclarationRequest",{enumerable:!0,get:function(){return Q1.DeclarationRequest}});var X1=CI();Object.defineProperty(M,"SelectionRangeRequest",{enumerable:!0,get:function(){return X1.SelectionRangeRequest}});var Dh=AI();Object.defineProperty(M,"WorkDoneProgress",{enumerable:!0,get:function(){return Dh.WorkDoneProgress}});Object.defineProperty(M,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Dh.WorkDoneProgressCreateRequest}});Object.defineProperty(M,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Dh.WorkDoneProgressCancelNotification}});var Mh=SI();Object.defineProperty(M,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return Mh.CallHierarchyIncomingCallsRequest}});Object.defineProperty(M,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return Mh.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(M,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return Mh.CallHierarchyPrepareRequest}});var ds=xI();Object.defineProperty(M,"SemanticTokenTypes",{enumerable:!0,get:function(){return ds.SemanticTokenTypes}});Object.defineProperty(M,"SemanticTokenModifiers",{enumerable:!0,get:function(){return ds.SemanticTokenModifiers}});Object.defineProperty(M,"SemanticTokens",{enumerable:!0,get:function(){return ds.SemanticTokens}});Object.defineProperty(M,"TokenFormat",{enumerable:!0,get:function(){return ds.TokenFormat}});Object.defineProperty(M,"SemanticTokensRequest",{enumerable:!0,get:function(){return ds.SemanticTokensRequest}});Object.defineProperty(M,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return ds.SemanticTokensDeltaRequest}});Object.defineProperty(M,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return ds.SemanticTokensRangeRequest}});Object.defineProperty(M,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return ds.SemanticTokensRefreshRequest}});Object.defineProperty(M,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return ds.SemanticTokensRegistrationType}});var J1=EI();Object.defineProperty(M,"ShowDocumentRequest",{enumerable:!0,get:function(){return J1.ShowDocumentRequest}});var Z1=RI();Object.defineProperty(M,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return Z1.LinkedEditingRangeRequest}});var Ea=kI();Object.defineProperty(M,"FileOperationPatternKind",{enumerable:!0,get:function(){return Ea.FileOperationPatternKind}});Object.defineProperty(M,"DidCreateFilesNotification",{enumerable:!0,get:function(){return Ea.DidCreateFilesNotification}});Object.defineProperty(M,"WillCreateFilesRequest",{enumerable:!0,get:function(){return Ea.WillCreateFilesRequest}});Object.defineProperty(M,"DidRenameFilesNotification",{enumerable:!0,get:function(){return Ea.DidRenameFilesNotification}});Object.defineProperty(M,"WillRenameFilesRequest",{enumerable:!0,get:function(){return Ea.WillRenameFilesRequest}});Object.defineProperty(M,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return Ea.DidDeleteFilesNotification}});Object.defineProperty(M,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return Ea.WillDeleteFilesRequest}});var Fh=OI();Object.defineProperty(M,"UniquenessLevel",{enumerable:!0,get:function(){return Fh.UniquenessLevel}});Object.defineProperty(M,"MonikerKind",{enumerable:!0,get:function(){return Fh.MonikerKind}});Object.defineProperty(M,"MonikerRequest",{enumerable:!0,get:function(){return Fh.MonikerRequest}});var DI;(function(t){function e(n){let r=n;return qs.string(r.language)||qs.string(r.scheme)||qs.string(r.pattern)}t.is=e})(DI=M.DocumentFilter||(M.DocumentFilter={}));var MI;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let r of n)if(!qs.string(r)&&!DI.is(r))return!1;return!0}t.is=e})(MI=M.DocumentSelector||(M.DocumentSelector={}));var eM;(function(t){t.type=new We.ProtocolRequestType("client/registerCapability")})(eM=M.RegistrationRequest||(M.RegistrationRequest={}));var tM;(function(t){t.type=new We.ProtocolRequestType("client/unregisterCapability")})(tM=M.UnregistrationRequest||(M.UnregistrationRequest={}));var nM;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(nM=M.ResourceOperationKind||(M.ResourceOperationKind={}));var rM;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(rM=M.FailureHandlingKind||(M.FailureHandlingKind={}));var iM;(function(t){function e(n){let r=n;return r&&qs.string(r.id)&&r.id.length>0}t.hasId=e})(iM=M.StaticRegistrationOptions||(M.StaticRegistrationOptions={}));var sM;(function(t){function e(n){let r=n;return r&&(r.documentSelector===null||MI.is(r.documentSelector))}t.is=e})(sM=M.TextDocumentRegistrationOptions||(M.TextDocumentRegistrationOptions={}));var aM;(function(t){function e(r){let i=r;return qs.objectLiteral(i)&&(i.workDoneProgress===void 0||qs.boolean(i.workDoneProgress))}t.is=e;function n(r){let i=r;return i&&qs.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=n})(aM=M.WorkDoneProgressOptions||(M.WorkDoneProgressOptions={}));var oM;(function(t){t.type=new We.ProtocolRequestType("initialize")})(oM=M.InitializeRequest||(M.InitializeRequest={}));var lM;(function(t){t.unknownProtocolVersion=1})(lM=M.InitializeError||(M.InitializeError={}));var cM;(function(t){t.type=new We.ProtocolNotificationType("initialized")})(cM=M.InitializedNotification||(M.InitializedNotification={}));var uM;(function(t){t.type=new We.ProtocolRequestType0("shutdown")})(uM=M.ShutdownRequest||(M.ShutdownRequest={}));var fM;(function(t){t.type=new We.ProtocolNotificationType0("exit")})(fM=M.ExitNotification||(M.ExitNotification={}));var dM;(function(t){t.type=new We.ProtocolNotificationType("workspace/didChangeConfiguration")})(dM=M.DidChangeConfigurationNotification||(M.DidChangeConfigurationNotification={}));var pM;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4})(pM=M.MessageType||(M.MessageType={}));var hM;(function(t){t.type=new We.ProtocolNotificationType("window/showMessage")})(hM=M.ShowMessageNotification||(M.ShowMessageNotification={}));var mM;(function(t){t.type=new We.ProtocolRequestType("window/showMessageRequest")})(mM=M.ShowMessageRequest||(M.ShowMessageRequest={}));var gM;(function(t){t.type=new We.ProtocolNotificationType("window/logMessage")})(gM=M.LogMessageNotification||(M.LogMessageNotification={}));var TM;(function(t){t.type=new We.ProtocolNotificationType("telemetry/event")})(TM=M.TelemetryEventNotification||(M.TelemetryEventNotification={}));var _M;(function(t){t.None=0,t.Full=1,t.Incremental=2})(_M=M.TextDocumentSyncKind||(M.TextDocumentSyncKind={}));var yM;(function(t){t.method="textDocument/didOpen",t.type=new We.ProtocolNotificationType(t.method)})(yM=M.DidOpenTextDocumentNotification||(M.DidOpenTextDocumentNotification={}));var bM;(function(t){function e(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}t.isIncremental=e;function n(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}t.isFull=n})(bM=M.TextDocumentContentChangeEvent||(M.TextDocumentContentChangeEvent={}));var NM;(function(t){t.method="textDocument/didChange",t.type=new We.ProtocolNotificationType(t.method)})(NM=M.DidChangeTextDocumentNotification||(M.DidChangeTextDocumentNotification={}));var vM;(function(t){t.method="textDocument/didClose",t.type=new We.ProtocolNotificationType(t.method)})(vM=M.DidCloseTextDocumentNotification||(M.DidCloseTextDocumentNotification={}));var IM;(function(t){t.method="textDocument/didSave",t.type=new We.ProtocolNotificationType(t.method)})(IM=M.DidSaveTextDocumentNotification||(M.DidSaveTextDocumentNotification={}));var CM;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(CM=M.TextDocumentSaveReason||(M.TextDocumentSaveReason={}));var PM;(function(t){t.method="textDocument/willSave",t.type=new We.ProtocolNotificationType(t.method)})(PM=M.WillSaveTextDocumentNotification||(M.WillSaveTextDocumentNotification={}));var AM;(function(t){t.method="textDocument/willSaveWaitUntil",t.type=new We.ProtocolRequestType(t.method)})(AM=M.WillSaveTextDocumentWaitUntilRequest||(M.WillSaveTextDocumentWaitUntilRequest={}));var SM;(function(t){t.type=new We.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(SM=M.DidChangeWatchedFilesNotification||(M.DidChangeWatchedFilesNotification={}));var xM;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(xM=M.FileChangeType||(M.FileChangeType={}));var EM;(function(t){t.Create=1,t.Change=2,t.Delete=4})(EM=M.WatchKind||(M.WatchKind={}));var RM;(function(t){t.type=new We.ProtocolNotificationType("textDocument/publishDiagnostics")})(RM=M.PublishDiagnosticsNotification||(M.PublishDiagnosticsNotification={}));var kM;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(kM=M.CompletionTriggerKind||(M.CompletionTriggerKind={}));var OM;(function(t){t.method="textDocument/completion",t.type=new We.ProtocolRequestType(t.method)})(OM=M.CompletionRequest||(M.CompletionRequest={}));var wM;(function(t){t.method="completionItem/resolve",t.type=new We.ProtocolRequestType(t.method)})(wM=M.CompletionResolveRequest||(M.CompletionResolveRequest={}));var LM;(function(t){t.method="textDocument/hover",t.type=new We.ProtocolRequestType(t.method)})(LM=M.HoverRequest||(M.HoverRequest={}));var DM;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(DM=M.SignatureHelpTriggerKind||(M.SignatureHelpTriggerKind={}));var MM;(function(t){t.method="textDocument/signatureHelp",t.type=new We.ProtocolRequestType(t.method)})(MM=M.SignatureHelpRequest||(M.SignatureHelpRequest={}));var FM;(function(t){t.method="textDocument/definition",t.type=new We.ProtocolRequestType(t.method)})(FM=M.DefinitionRequest||(M.DefinitionRequest={}));var VM;(function(t){t.method="textDocument/references",t.type=new We.ProtocolRequestType(t.method)})(VM=M.ReferencesRequest||(M.ReferencesRequest={}));var BM;(function(t){t.method="textDocument/documentHighlight",t.type=new We.ProtocolRequestType(t.method)})(BM=M.DocumentHighlightRequest||(M.DocumentHighlightRequest={}));var qM;(function(t){t.method="textDocument/documentSymbol",t.type=new We.ProtocolRequestType(t.method)})(qM=M.DocumentSymbolRequest||(M.DocumentSymbolRequest={}));var UM;(function(t){t.method="textDocument/codeAction",t.type=new We.ProtocolRequestType(t.method)})(UM=M.CodeActionRequest||(M.CodeActionRequest={}));var jM;(function(t){t.method="codeAction/resolve",t.type=new We.ProtocolRequestType(t.method)})(jM=M.CodeActionResolveRequest||(M.CodeActionResolveRequest={}));var GM;(function(t){t.method="workspace/symbol",t.type=new We.ProtocolRequestType(t.method)})(GM=M.WorkspaceSymbolRequest||(M.WorkspaceSymbolRequest={}));var WM;(function(t){t.method="textDocument/codeLens",t.type=new We.ProtocolRequestType(t.method)})(WM=M.CodeLensRequest||(M.CodeLensRequest={}));var HM;(function(t){t.method="codeLens/resolve",t.type=new We.ProtocolRequestType(t.method)})(HM=M.CodeLensResolveRequest||(M.CodeLensResolveRequest={}));var YM;(function(t){t.method="workspace/codeLens/refresh",t.type=new We.ProtocolRequestType0(t.method)})(YM=M.CodeLensRefreshRequest||(M.CodeLensRefreshRequest={}));var KM;(function(t){t.method="textDocument/documentLink",t.type=new We.ProtocolRequestType(t.method)})(KM=M.DocumentLinkRequest||(M.DocumentLinkRequest={}));var $M;(function(t){t.method="documentLink/resolve",t.type=new We.ProtocolRequestType(t.method)})($M=M.DocumentLinkResolveRequest||(M.DocumentLinkResolveRequest={}));var zM;(function(t){t.method="textDocument/formatting",t.type=new We.ProtocolRequestType(t.method)})(zM=M.DocumentFormattingRequest||(M.DocumentFormattingRequest={}));var QM;(function(t){t.method="textDocument/rangeFormatting",t.type=new We.ProtocolRequestType(t.method)})(QM=M.DocumentRangeFormattingRequest||(M.DocumentRangeFormattingRequest={}));var XM;(function(t){t.method="textDocument/onTypeFormatting",t.type=new We.ProtocolRequestType(t.method)})(XM=M.DocumentOnTypeFormattingRequest||(M.DocumentOnTypeFormattingRequest={}));var JM;(function(t){t.Identifier=1})(JM=M.PrepareSupportDefaultBehavior||(M.PrepareSupportDefaultBehavior={}));var ZM;(function(t){t.method="textDocument/rename",t.type=new We.ProtocolRequestType(t.method)})(ZM=M.RenameRequest||(M.RenameRequest={}));var eF;(function(t){t.method="textDocument/prepareRename",t.type=new We.ProtocolRequestType(t.method)})(eF=M.PrepareRenameRequest||(M.PrepareRenameRequest={}));var tF;(function(t){t.type=new We.ProtocolRequestType("workspace/executeCommand")})(tF=M.ExecuteCommandRequest||(M.ExecuteCommandRequest={}));var nF;(function(t){t.type=new We.ProtocolRequestType("workspace/applyEdit")})(nF=M.ApplyWorkspaceEditRequest||(M.ApplyWorkspaceEditRequest={}))});var BI=_e(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.createProtocolConnection=void 0;var VI=ko();function rF(t,e,n,r){return VI.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),VI.createMessageConnection(t,e,n,r)}Gu.createProtocolConnection=rF});var qI=_e(jn=>{"use strict";var iF=jn&&jn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Wu=jn&&jn.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&iF(e,t,n)};Object.defineProperty(jn,"__esModule",{value:!0});jn.LSPErrorCodes=jn.createProtocolConnection=void 0;Wu(ko(),jn);Wu(Dt(),jn);Wu(gn(),jn);Wu(FI(),jn);var sF=BI();Object.defineProperty(jn,"createProtocolConnection",{enumerable:!0,get:function(){return sF.createProtocolConnection}});var aF;(function(t){t.lspReservedErrorRangeStart=-32899,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(aF=jn.LSPErrorCodes||(jn.LSPErrorCodes={}))});var ir=_e(Gi=>{"use strict";var oF=Gi&&Gi.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),UI=Gi&&Gi.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&oF(e,t,n)};Object.defineProperty(Gi,"__esModule",{value:!0});Gi.createProtocolConnection=void 0;var lF=wh();UI(wh(),Gi);UI(qI(),Gi);function cF(t,e,n,r){return lF.createMessageConnection(t,e,n,r)}Gi.createProtocolConnection=cF});var Vh=_e($r=>{"use strict";Object.defineProperty($r,"__esModule",{value:!0});$r.generateUuid=$r.parse=$r.isUUID=$r.v4=$r.empty=void 0;var Hu=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},Xe=class extends Hu{constructor(){super([Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),"-",Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),"-","4",Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),"-",Xe._oneOf(Xe._timeHighBits),Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),"-",Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),Xe._randomHex(),Xe._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return Xe._oneOf(Xe._chars)}};Xe._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Xe._timeHighBits=["8","9","a","b"];$r.empty=new Hu("00000000-0000-0000-0000-000000000000");function jI(){return new Xe}$r.v4=jI;var uF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function GI(t){return uF.test(t)}$r.isUUID=GI;function fF(t){if(!GI(t))throw new Error("invalid uuid");return new Hu(t)}$r.parse=fF;function dF(){return jI().asHex()}$r.generateUuid=dF});var HI=_e(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});js.attachPartialResult=js.ProgressFeature=js.attachWorkDone=void 0;var Us=ir(),pF=Vh(),ps=class{constructor(e,n){this._connection=e,this._token=n,ps.Instances.set(this._token,this)}begin(e,n,r,i){let s={kind:"begin",title:e,percentage:n,message:r,cancellable:i};this._connection.sendProgress(Us.WorkDoneProgress.type,this._token,s)}report(e,n){let r={kind:"report"};typeof e=="number"?(r.percentage=e,n!==void 0&&(r.message=n)):r.message=e,this._connection.sendProgress(Us.WorkDoneProgress.type,this._token,r)}done(){ps.Instances.delete(this._token),this._connection.sendProgress(Us.WorkDoneProgress.type,this._token,{kind:"end"})}};ps.Instances=new Map;var Bh=class extends ps{constructor(e,n){super(e,n);this._source=new Us.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},Yu=class{constructor(){}begin(){}report(){}done(){}},qh=class extends Yu{constructor(){super();this._source=new Us.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function hF(t,e){if(e===void 0||e.workDoneToken===void 0)return new Yu;let n=e.workDoneToken;return delete e.workDoneToken,new ps(t,n)}js.attachWorkDone=hF;var mF=t=>class extends t{constructor(){super();this._progressSupported=!1}initialize(e){var n;((n=e==null?void 0:e.window)===null||n===void 0?void 0:n.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification(Us.WorkDoneProgressCancelNotification.type,r=>{let i=ps.Instances.get(r.token);(i instanceof Bh||i instanceof qh)&&i.cancel()}))}attachWorkDoneProgress(e){return e===void 0?new Yu:new ps(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){let e=pF.generateUuid();return this.connection.sendRequest(Us.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new Bh(this.connection,e))}else return Promise.resolve(new qh)}};js.ProgressFeature=mF;var Uh;(function(t){t.type=new Us.ProgressType})(Uh||(Uh={}));var WI=class{constructor(e,n){this._connection=e,this._token=n}report(e){this._connection.sendProgress(Uh.type,this._token,e)}};function gF(t,e){if(e===void 0||e.partialResultToken===void 0)return;let n=e.partialResultToken;return delete e.partialResultToken,new WI(t,n)}js.attachPartialResult=gF});var YI=_e(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.ConfigurationFeature=void 0;var TF=ir(),_F=Lu(),yF=t=>class extends t{getConfiguration(e){return e?_F.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let n={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(TF.ConfigurationRequest.type,n).then(r=>Array.isArray(e)?r:r[0])}};Ku.ConfigurationFeature=yF});var KI=_e(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.WorkspaceFoldersFeature=void 0;var $u=ir(),bF=t=>class extends t{initialize(e){let n=e.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new $u.Emitter,this.connection.onNotification($u.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}getWorkspaceFolders(){return this.connection.sendRequest($u.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register($u.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};zu.WorkspaceFoldersFeature=bF});var $I=_e(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.CallHierarchyFeature=void 0;var jh=ir(),NF=t=>class extends t{get callHierarchy(){return{onPrepare:e=>{this.connection.onRequest(jh.CallHierarchyPrepareRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))},onIncomingCalls:e=>{let n=jh.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:e=>{let n=jh.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Qu.CallHierarchyFeature=NF});var Wh=_e(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});Lo.SemanticTokensBuilder=Lo.SemanticTokensFeature=void 0;var Gh=ir(),vF=t=>class extends t{get semanticTokens(){return{on:e=>{let n=Gh.SemanticTokensRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:e=>{let n=Gh.SemanticTokensDeltaRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:e=>{let n=Gh.SemanticTokensRangeRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Lo.SemanticTokensFeature=vF;var zI=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,n,r,i,s){let o=e,l=n;this._dataLen>0&&(o-=this._prevLine,o===0&&(l-=this._prevChar)),this._data[this._dataLen++]=o,this._data[this._dataLen++]=l,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=s,this._prevLine=e,this._prevChar=n}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){if(this._prevData!==void 0){let e=this._prevData.length,n=this._data.length,r=0;for(;r<n&&r<e&&this._prevData[r]===this._data[r];)r++;if(r<n&&r<e){let i=0;for(;i<n&&i<e&&this._prevData[e-1-i]===this._data[n-1-i];)i++;let s=this._data.slice(r,n-i);return{resultId:this.id,edits:[{start:r,deleteCount:e-i-r,data:s}]}}else return r<n?{resultId:this.id,edits:[{start:r,deleteCount:0,data:this._data.slice(r)}]}:r<e?{resultId:this.id,edits:[{start:r,deleteCount:e-r}]}:{resultId:this.id,edits:[]}}else return this.build()}};Lo.SemanticTokensBuilder=zI});var QI=_e(Xu=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});Xu.ShowDocumentFeature=void 0;var IF=ir(),CF=t=>class extends t{showDocument(e){return this.connection.sendRequest(IF.ShowDocumentRequest.type,e)}};Xu.ShowDocumentFeature=CF});var XI=_e(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.FileOperationsFeature=void 0;var Do=ir(),PF=t=>class extends t{onDidCreateFiles(e){this.connection.onNotification(Do.DidCreateFilesNotification.type,n=>{e(n)})}onDidRenameFiles(e){this.connection.onNotification(Do.DidRenameFilesNotification.type,n=>{e(n)})}onDidDeleteFiles(e){this.connection.onNotification(Do.DidDeleteFilesNotification.type,n=>{e(n)})}onWillCreateFiles(e){return this.connection.onRequest(Do.WillCreateFilesRequest.type,(n,r)=>e(n,r))}onWillRenameFiles(e){return this.connection.onRequest(Do.WillRenameFilesRequest.type,(n,r)=>e(n,r))}onWillDeleteFiles(e){return this.connection.onRequest(Do.WillDeleteFilesRequest.type,(n,r)=>e(n,r))}};Ju.FileOperationsFeature=PF});var JI=_e(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});Zu.LinkedEditingRangeFeature=void 0;var AF=ir(),SF=t=>class extends t{onLinkedEditingRange(e){this.connection.onRequest(AF.LinkedEditingRangeRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))}};Zu.LinkedEditingRangeFeature=SF});var ZI=_e(ef=>{"use strict";Object.defineProperty(ef,"__esModule",{value:!0});ef.MonikerFeature=void 0;var xF=ir(),EF=t=>class extends t{get moniker(){return{on:e=>{let n=xF.MonikerRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};ef.MonikerFeature=EF});var Zh=_e(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.createConnection=ct.combineFeatures=ct.combineLanguagesFeatures=ct.combineWorkspaceFeatures=ct.combineWindowFeatures=ct.combineClientFeatures=ct.combineTracerFeatures=ct.combineTelemetryFeatures=ct.combineConsoleFeatures=ct._LanguagesImpl=ct.BulkUnregistration=ct.BulkRegistration=ct.ErrorMessageTracker=ct.TextDocuments=void 0;var oe=ir(),zr=Lu(),Hh=Vh(),He=HI(),RF=YI(),kF=KI(),OF=$I(),wF=Wh(),LF=QI(),DF=XI(),MF=JI(),FF=ZI();function Yh(t){if(t!==null)return t}var eC=class{constructor(e){this._documents=Object.create(null),this._configuration=e,this._onDidChangeContent=new oe.Emitter,this._onDidOpen=new oe.Emitter,this._onDidClose=new oe.Emitter,this._onDidSave=new oe.Emitter,this._onWillSave=new oe.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._documents[e]}all(){return Object.keys(this._documents).map(e=>this._documents[e])}keys(){return Object.keys(this._documents)}listen(e){e.__textDocumentSync=oe.TextDocumentSyncKind.Full,e.onDidOpenTextDocument(n=>{let r=n.textDocument,i=this._configuration.create(r.uri,r.languageId,r.version,r.text);this._documents[r.uri]=i;let s=Object.freeze({document:i});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)}),e.onDidChangeTextDocument(n=>{let r=n.textDocument,i=n.contentChanges;if(i.length===0)return;let s=this._documents[r.uri],{version:o}=r;if(o==null)throw new Error(`Received document change event for ${r.uri} without valid version identifier`);s=this._configuration.update(s,i,o),this._documents[r.uri]=s,this._onDidChangeContent.fire(Object.freeze({document:s}))}),e.onDidCloseTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&(delete this._documents[n.textDocument.uri],this._onDidClose.fire(Object.freeze({document:r})))}),e.onWillSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onWillSave.fire(Object.freeze({document:r,reason:n.reason}))}),e.onWillSaveTextDocumentWaitUntil((n,r)=>{let i=this._documents[n.textDocument.uri];return i&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:i,reason:n.reason}),r):[]}),e.onDidSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onDidSave.fire(Object.freeze({document:r}))})}};ct.TextDocuments=eC;var tC=class{constructor(){this._messages=Object.create(null)}add(e){let n=this._messages[e];n||(n=0),n++,this._messages[e]=n}sendErrors(e){Object.keys(this._messages).forEach(n=>{e.window.showErrorMessage(n)})}};ct.ErrorMessageTracker=tC;var Kh=class{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(oe.MessageType.Error,e)}warn(e){this.send(oe.MessageType.Warning,e)}info(e){this.send(oe.MessageType.Info,e)}log(e){this.send(oe.MessageType.Log,e)}send(e,n){this._rawConnection&&this._rawConnection.sendNotification(oe.LogMessageNotification.type,{type:e,message:n})}},nC=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...n){let r={type:oe.MessageType.Error,message:e,actions:n};return this.connection.sendRequest(oe.ShowMessageRequest.type,r).then(Yh)}showWarningMessage(e,...n){let r={type:oe.MessageType.Warning,message:e,actions:n};return this.connection.sendRequest(oe.ShowMessageRequest.type,r).then(Yh)}showInformationMessage(e,...n){let r={type:oe.MessageType.Info,message:e,actions:n};return this.connection.sendRequest(oe.ShowMessageRequest.type,r).then(Yh)}},rC=LF.ShowDocumentFeature(He.ProgressFeature(nC)),VF;(function(t){function e(){return new $h}t.create=e})(VF=ct.BulkRegistration||(ct.BulkRegistration={}));var $h=class{constructor(){this._registrations=[],this._registered=new Set}add(e,n){let r=zr.string(e)?e:e.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);let i=Hh.generateUuid();this._registrations.push({id:i,method:r,registerOptions:n||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}},BF;(function(t){function e(){return new tf(void 0,[])}t.create=e})(BF=ct.BulkUnregistration||(ct.BulkUnregistration={}));var tf=class{constructor(e,n){this._connection=e,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let r of this._unregistrations.values())e.push(r);let n={unregisterations:e};this._connection.sendRequest(oe.UnregistrationRequest.type,n).then(void 0,r=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){let n=zr.string(e)?e:e.method,r=this._unregistrations.get(n);if(!r)return!1;let i={unregisterations:[r]};return this._connection.sendRequest(oe.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(n)},s=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}},zh=class{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,n,r){return e instanceof $h?this.registerMany(e):e instanceof tf?this.registerSingle1(e,n,r):this.registerSingle2(e,n)}registerSingle1(e,n,r){let i=zr.string(n)?n:n.method,s=Hh.generateUuid(),o={registrations:[{id:s,method:i,registerOptions:r||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(oe.RegistrationRequest.type,o).then(l=>(e.add({id:s,method:i}),e),l=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(l)))}registerSingle2(e,n){let r=zr.string(e)?e:e.method,i=Hh.generateUuid(),s={registrations:[{id:i,method:r,registerOptions:n||{}}]};return this.connection.sendRequest(oe.RegistrationRequest.type,s).then(o=>oe.Disposable.create(()=>{this.unregisterSingle(i,r)}),o=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(o)))}unregisterSingle(e,n){let r={unregisterations:[{id:e,method:n}]};return this.connection.sendRequest(oe.UnregistrationRequest.type,r).then(void 0,i=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)})}registerMany(e){let n=e.asRegistrationParams();return this.connection.sendRequest(oe.RegistrationRequest.type,n).then(()=>new tf(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}},iC=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function n(i){return i&&!!i.edit}let r=n(e)?e:{edit:e};return this.connection.sendRequest(oe.ApplyWorkspaceEditRequest.type,r)}},sC=DF.FileOperationsFeature(kF.WorkspaceFoldersFeature(RF.ConfigurationFeature(iC))),Qh=class{constructor(){this._trace=oe.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,n){this._trace!==oe.Trace.Off&&this.connection.sendNotification(oe.LogTraceNotification.type,{message:e,verbose:this._trace===oe.Trace.Verbose?n:void 0})}},Xh=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(oe.TelemetryEventNotification.type,e)}},Jh=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return He.attachWorkDone(this.connection,e)}attachPartialResultProgress(e,n){return He.attachPartialResult(this.connection,n)}};ct._LanguagesImpl=Jh;var aC=FF.MonikerFeature(MF.LinkedEditingRangeFeature(wF.SemanticTokensFeature(OF.CallHierarchyFeature(Jh))));function oC(t,e){return function(n){return e(t(n))}}ct.combineConsoleFeatures=oC;function lC(t,e){return function(n){return e(t(n))}}ct.combineTelemetryFeatures=lC;function cC(t,e){return function(n){return e(t(n))}}ct.combineTracerFeatures=cC;function uC(t,e){return function(n){return e(t(n))}}ct.combineClientFeatures=uC;function fC(t,e){return function(n){return e(t(n))}}ct.combineWindowFeatures=fC;function dC(t,e){return function(n){return e(t(n))}}ct.combineWorkspaceFeatures=dC;function qF(t,e){return function(n){return e(t(n))}}ct.combineLanguagesFeatures=qF;function UF(t,e){function n(i,s,o){return i&&s?o(i,s):i||s}return{__brand:"features",console:n(t.console,e.console,oC),tracer:n(t.tracer,e.tracer,cC),telemetry:n(t.telemetry,e.telemetry,lC),client:n(t.client,e.client,uC),window:n(t.window,e.window,fC),workspace:n(t.workspace,e.workspace,dC)}}ct.combineFeatures=UF;function jF(t,e,n){let r=n&&n.console?new(n.console(Kh)):new Kh,i=t(r);r.rawAttach(i);let s=n&&n.tracer?new(n.tracer(Qh)):new Qh,o=n&&n.telemetry?new(n.telemetry(Xh)):new Xh,l=n&&n.client?new(n.client(zh)):new zh,u=n&&n.window?new(n.window(rC)):new rC,d=n&&n.workspace?new(n.workspace(sC)):new sC,h=n&&n.languages?new(n.languages(aC)):new aC,m=[r,s,o,l,u,d,h];function y(_){return _ instanceof Promise?_:zr.thenable(_)?new Promise((P,v)=>{_.then(S=>P(S),S=>v(S))}):Promise.resolve(_)}let b,T,x,D={listen:()=>i.listen(),sendRequest:(_,...P)=>i.sendRequest(zr.string(_)?_:_.method,...P),onRequest:(_,P)=>i.onRequest(_,P),sendNotification:(_,P)=>{let v=zr.string(_)?_:_.method;arguments.length===1?i.sendNotification(v):i.sendNotification(v,P)},onNotification:(_,P)=>i.onNotification(_,P),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:_=>T=_,onInitialized:_=>i.onNotification(oe.InitializedNotification.type,_),onShutdown:_=>b=_,onExit:_=>x=_,get console(){return r},get telemetry(){return o},get tracer(){return s},get client(){return l},get window(){return u},get workspace(){return d},get languages(){return h},onDidChangeConfiguration:_=>i.onNotification(oe.DidChangeConfigurationNotification.type,_),onDidChangeWatchedFiles:_=>i.onNotification(oe.DidChangeWatchedFilesNotification.type,_),__textDocumentSync:void 0,onDidOpenTextDocument:_=>i.onNotification(oe.DidOpenTextDocumentNotification.type,_),onDidChangeTextDocument:_=>i.onNotification(oe.DidChangeTextDocumentNotification.type,_),onDidCloseTextDocument:_=>i.onNotification(oe.DidCloseTextDocumentNotification.type,_),onWillSaveTextDocument:_=>i.onNotification(oe.WillSaveTextDocumentNotification.type,_),onWillSaveTextDocumentWaitUntil:_=>i.onRequest(oe.WillSaveTextDocumentWaitUntilRequest.type,_),onDidSaveTextDocument:_=>i.onNotification(oe.DidSaveTextDocumentNotification.type,_),sendDiagnostics:_=>i.sendNotification(oe.PublishDiagnosticsNotification.type,_),onHover:_=>i.onRequest(oe.HoverRequest.type,(P,v)=>_(P,v,He.attachWorkDone(i,P),void 0)),onCompletion:_=>i.onRequest(oe.CompletionRequest.type,(P,v)=>_(P,v,He.attachWorkDone(i,P),He.attachPartialResult(i,P))),onCompletionResolve:_=>i.onRequest(oe.CompletionResolveRequest.type,_),onSignatureHelp:_=>i.onRequest(oe.SignatureHelpRequest.type,(P,v)=>_(P,v,He.attachWorkDone(i,P),void 0)),onDeclaration:_=>i.onRequest(oe.DeclarationRequest.type,(P,v)=>_(P,v,He.attachWorkDone(i,P),He.attachPartialResult(i,P))),onDefinition:_=>i.onRequest(oe.DefinitionRequest.type,(P,v)=>_(P,v,He.attachWorkDone(i,P),He.attachPartialResult(i,P))),onTypeDefinition:_=>i.onRequest(oe.TypeDefinitionRequest.type,(P,v)=>_(P,v,He.attachWorkDone(i,P),He.attachPartialResult(i,P))),onImplementation:_=>i.onRequest(oe.ImplementationRequest.type,(P,v)=>_(P,v,He.attachWorkDone(i,P),He.attachPartialResult(i,P))),onReferences:_=>i.onRequest(oe.ReferencesRequest.type,(P,v)=>_(P,v,He.attachWorkDone(i,P),He.attachPartialResult(i,P))),onDocumentHighlight:_=>i.onRequest(oe.DocumentHighlightRequest.type,(P,v)=>_(P,v,He.attachWorkDone(i,P),He.attachPartialResult(i,P))),onDocumentSymbol:_=>i.onRequest(oe.DocumentSymbolRequest.type,(P,v)=>_(P,v,He.attachWorkDone(i,P),He.attachPartialResult(i,P))),onWorkspaceSymbol:_=>i.onRequest(oe.WorkspaceSymbolRequest.type,(P,v)=>_(P,v,He.attachWorkDone(i,P),He.attachPartialResult(i,P))),onCodeAction:_=>i.onRequest(oe.CodeActionRequest.type,(P,v)=>_(P,v,He.attachWorkDone(i,P),He.attachPartialResult(i,P))),onCodeActionResolve:_=>i.onRequest(oe.CodeActionResolveRequest.type,(P,v)=>_(P,v)),onCodeLens:_=>i.onRequest(oe.CodeLensRequest.type,(P,v)=>_(P,v,He.attachWorkDone(i,P),He.attachPartialResult(i,P))),onCodeLensResolve:_=>i.onRequest(oe.CodeLensResolveRequest.type,(P,v)=>_(P,v)),onDocumentFormatting:_=>i.onRequest(oe.DocumentFormattingRequest.type,(P,v)=>_(P,v,He.attachWorkDone(i,P),void 0)),onDocumentRangeFormatting:_=>i.onRequest(oe.DocumentRangeFormattingRequest.type,(P,v)=>_(P,v,He.attachWorkDone(i,P),void 0)),onDocumentOnTypeFormatting:_=>i.onRequest(oe.DocumentOnTypeFormattingRequest.type,(P,v)=>_(P,v)),onRenameRequest:_=>i.onRequest(oe.RenameRequest.type,(P,v)=>_(P,v,He.attachWorkDone(i,P),void 0)),onPrepareRename:_=>i.onRequest(oe.PrepareRenameRequest.type,(P,v)=>_(P,v)),onDocumentLinks:_=>i.onRequest(oe.DocumentLinkRequest.type,(P,v)=>_(P,v,He.attachWorkDone(i,P),He.attachPartialResult(i,P))),onDocumentLinkResolve:_=>i.onRequest(oe.DocumentLinkResolveRequest.type,(P,v)=>_(P,v)),onDocumentColor:_=>i.onRequest(oe.DocumentColorRequest.type,(P,v)=>_(P,v,He.attachWorkDone(i,P),He.attachPartialResult(i,P))),onColorPresentation:_=>i.onRequest(oe.ColorPresentationRequest.type,(P,v)=>_(P,v,He.attachWorkDone(i,P),He.attachPartialResult(i,P))),onFoldingRanges:_=>i.onRequest(oe.FoldingRangeRequest.type,(P,v)=>_(P,v,He.attachWorkDone(i,P),He.attachPartialResult(i,P))),onSelectionRanges:_=>i.onRequest(oe.SelectionRangeRequest.type,(P,v)=>_(P,v,He.attachWorkDone(i,P),He.attachPartialResult(i,P))),onExecuteCommand:_=>i.onRequest(oe.ExecuteCommandRequest.type,(P,v)=>_(P,v,He.attachWorkDone(i,P),void 0)),dispose:()=>i.dispose()};for(let _ of m)_.attach(D);return i.onRequest(oe.InitializeRequest.type,_=>{e.initialize(_),zr.string(_.trace)&&(s.trace=oe.Trace.fromString(_.trace));for(let P of m)P.initialize(_.capabilities);if(T){let P=T(_,new oe.CancellationTokenSource().token,He.attachWorkDone(i,_),void 0);return y(P).then(v=>{if(v instanceof oe.ResponseError)return v;let S=v;S||(S={capabilities:{}});let w=S.capabilities;w||(w={},S.capabilities=w),w.textDocumentSync===void 0||w.textDocumentSync===null?w.textDocumentSync=zr.number(D.__textDocumentSync)?D.__textDocumentSync:oe.TextDocumentSyncKind.None:!zr.number(w.textDocumentSync)&&!zr.number(w.textDocumentSync.change)&&(w.textDocumentSync.change=zr.number(D.__textDocumentSync)?D.__textDocumentSync:oe.TextDocumentSyncKind.None);for(let J of m)J.fillServerCapabilities(w);return S})}else{let P={capabilities:{textDocumentSync:oe.TextDocumentSyncKind.None}};for(let v of m)v.fillServerCapabilities(P.capabilities);return P}}),i.onRequest(oe.ShutdownRequest.type,()=>{if(e.shutdownReceived=!0,b)return b(new oe.CancellationTokenSource().token)}),i.onNotification(oe.ExitNotification.type,()=>{try{x&&x()}finally{e.shutdownReceived?e.exit(0):e.exit(1)}}),i.onNotification(oe.SetTraceNotification.type,_=>{s.trace=oe.Trace.fromString(_.value)}),D}ct.createConnection=jF});var hC=_e(Gn=>{"use strict";Object.defineProperty(Gn,"__esModule",{value:!0});Gn.resolveModulePath=Gn.FileSystem=Gn.resolveGlobalYarnPath=Gn.resolveGlobalNodePath=Gn.resolve=Gn.uriToFilePath=void 0;var GF=require("url"),Ii=require("path"),em=require("fs"),tm=require("child_process");function WF(t){let e=GF.parse(t);if(e.protocol!=="file:"||!e.path)return;let n=e.path.split("/");for(var r=0,i=n.length;r<i;r++)n[r]=decodeURIComponent(n[r]);if(process.platform==="win32"&&n.length>1){let s=n[0],o=n[1];s.length===0&&o.length>1&&o[1]===":"&&n.shift()}return Ii.normalize(n.join("/"))}Gn.uriToFilePath=WF;function nm(){return process.platform==="win32"}function nf(t,e,n,r){let i="NODE_PATH",s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((o,l)=>{let u=process.env,d=Object.create(null);Object.keys(u).forEach(h=>d[h]=u[h]),e&&em.existsSync(e)&&(d[i]?d[i]=e+Ii.delimiter+d[i]:d[i]=e,r&&r(`NODE_PATH value is: ${d[i]}`)),d.ELECTRON_RUN_AS_NODE="1";try{let h=tm.fork("",[],{cwd:n,env:d,execArgv:["-e",s]});if(h.pid===void 0){l(new Error(`Starting process to resolve node module  ${t} failed`));return}h.on("error",y=>{l(y)}),h.on("message",y=>{y.c==="r"&&(h.send({c:"e"}),y.s?o(y.r):l(new Error(`Failed to resolve module: ${t}`)))});let m={c:"rs",a:t};h.send(m)}catch(h){l(h)}})}Gn.resolve=nf;function rm(t){let e="npm",n=Object.create(null);Object.keys(process.env).forEach(s=>n[s]=process.env[s]),n.NO_UPDATE_NOTIFIER="true";let r={encoding:"utf8",env:n};nm()&&(e="npm.cmd",r.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let s=tm.spawnSync(e,["config","get","prefix"],r).stdout;if(!s){t&&t("'npm config get prefix' didn't return a value.");return}let o=s.trim();return t&&t(`'npm config get prefix' value is: ${o}`),o.length>0?nm()?Ii.join(o,"node_modules"):Ii.join(o,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}Gn.resolveGlobalNodePath=rm;function HF(t){let e="yarn",n={encoding:"utf8"};nm()&&(e="yarn.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let i=tm.spawnSync(e,["global","dir","--json"],n),s=i.stdout;if(!s){t&&(t("'yarn global dir' didn't return a value."),i.stderr&&t(i.stderr));return}let o=s.trim().split(/\r?\n/);for(let l of o)try{let u=JSON.parse(l);if(u.type==="log")return Ii.join(u.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",r)}}Gn.resolveGlobalYarnPath=HF;var pC;(function(t){let e;function n(){return e!==void 0||(process.platform==="win32"?e=!1:e=!em.existsSync(__filename.toUpperCase())||!em.existsSync(__filename.toLowerCase())),e}t.isCaseSensitive=n;function r(i,s){return n()?Ii.normalize(s).indexOf(Ii.normalize(i))===0:Ii.normalize(s).toLowerCase().indexOf(Ii.normalize(i).toLowerCase())===0}t.isParent=r})(pC=Gn.FileSystem||(Gn.FileSystem={}));function YF(t,e,n,r){return n?(Ii.isAbsolute(n)||(n=Ii.join(t,n)),nf(e,n,n,r).then(i=>pC.isParent(n,i)?i:Promise.reject(new Error(`Failed to load ${e} from node path location.`))).then(void 0,i=>nf(e,rm(r),t,r))):nf(e,rm(r),t,r)}Gn.resolveModulePath=YF});var im=_e((jH,mC)=>{"use strict";mC.exports=ir()});var TC=_e(Ir=>{"use strict";var KF=Ir&&Ir.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),gC=Ir&&Ir.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&KF(e,t,n)};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.ProposedFeatures=Ir.SemanticTokensBuilder=void 0;var $F=Wh();Object.defineProperty(Ir,"SemanticTokensBuilder",{enumerable:!0,get:function(){return $F.SemanticTokensBuilder}});gC(ir(),Ir);gC(Zh(),Ir);var zF;(function(t){t.all={__brand:"features"}})(zF=Ir.ProposedFeatures||(Ir.ProposedFeatures={}))});var Ci=_e(Cr=>{"use strict";var QF=Cr&&Cr.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),_C=Cr&&Cr.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&QF(e,t,n)};Object.defineProperty(Cr,"__esModule",{value:!0});Cr.createConnection=Cr.Files=void 0;var sm=Lu(),XF=Zh(),Tc=hC(),Ra=im();_C(im(),Cr);_C(TC(),Cr);var JF;(function(t){t.uriToFilePath=Tc.uriToFilePath,t.resolveGlobalNodePath=Tc.resolveGlobalNodePath,t.resolveGlobalYarnPath=Tc.resolveGlobalYarnPath,t.resolve=Tc.resolve,t.resolveModulePath=Tc.resolveModulePath})(JF=Cr.Files||(Cr.Files={}));var yC;function rf(){if(yC!==void 0)try{yC.end()}catch{}}var Mo=!1,bC;function ZF(){let t="--clientProcessId";function e(n){try{let r=parseInt(n);isNaN(r)||(bC=setInterval(()=>{try{process.kill(r,0)}catch{rf(),process.exit(Mo?0:1)}},3e3))}catch{}}for(let n=2;n<process.argv.length;n++){let r=process.argv[n];if(r===t&&n+1<process.argv.length){e(process.argv[n+1]);return}else{let i=r.split("=");i[0]===t&&e(i[1])}}}ZF();var eV={initialize:t=>{let e=t.processId;sm.number(e)&&bC===void 0&&setInterval(()=>{try{process.kill(e,0)}catch{process.exit(Mo?0:1)}},3e3)},get shutdownReceived(){return Mo},set shutdownReceived(t){Mo=t},exit:t=>{rf(),process.exit(t)}};function tV(t,e,n,r){let i,s,o,l;return t!==void 0&&t.__brand==="features"&&(i=t,t=e,e=n,n=r),Ra.ConnectionStrategy.is(t)||Ra.ConnectionOptions.is(t)?l=t:(s=t,o=e,l=n),nV(s,o,l,i)}Cr.createConnection=tV;function nV(t,e,n,r){if(!t&&!e&&process.argv.length>2){let l,u,d=process.argv.slice(2);for(let h=0;h<d.length;h++){let m=d[h];if(m==="--node-ipc"){t=new Ra.IPCMessageReader(process),e=new Ra.IPCMessageWriter(process);break}else if(m==="--stdio"){t=process.stdin,e=process.stdout;break}else if(m==="--socket"){l=parseInt(d[h+1]);break}else if(m==="--pipe"){u=d[h+1];break}else{var i=m.split("=");if(i[0]==="--socket"){l=parseInt(i[1]);break}else if(i[0]==="--pipe"){u=i[1];break}}}if(l){let h=Ra.createServerSocketTransport(l);t=h[0],e=h[1]}else if(u){let h=Ra.createServerPipeTransport(u);t=h[0],e=h[1]}}var s="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!t)throw new Error("Connection input stream is not set. "+s);if(!e)throw new Error("Connection output stream is not set. "+s);if(sm.func(t.read)&&sm.func(t.on)){let l=t;l.on("end",()=>{rf(),process.exit(Mo?0:1)}),l.on("close",()=>{rf(),process.exit(Mo?0:1)})}let o=l=>Ra.createProtocolConnection(t,e,l,n);return XF.createConnection(o,eV,r)}});function am(t,e){let n=[];if(t.currentNode==null)return n;let r={start:{line:t.position.line,character:t.position.character-0},end:t.position};for(let i=0;i<e.length;i++){let s=e[i];if(!t.currentNode.hasParameter(s.name)){let o=s.name+'="$1"';n.push({label:s.name,kind:Fo.CompletionItemKind.Value,insertTextFormat:Fo.InsertTextFormat.Snippet,textEdit:Fo.TextEdit.replace(r,o),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}return n}var Fo,NC=E(()=>{Fo=Ge(Dt())});function Vo(t,e,n){return{label:t,insertText:t,kind:sf.CompletionItemKind.Field,detail:n+": "+e}}function af(t){let e=[];for(let n=0;n<t.length;n++)typeof t[n].name!="undefined"&&e.push(om(t[n]));return e}function om(t){let e="",n=t.name;return t.instructionText!=null&&(e=t.instructionText),t.displayName!=null&&(n=t.displayName+" ("+t.name+")"),t.blueprintName!=null&&(e.trim().length>0&&(e+=`
`),e+="Blueprint: "+t.blueprintName),t.type!=null&&(n+=": "+t.type),{label:t.name,insertText:t.name,kind:sf.CompletionItemKind.Field,documentation:e,detail:n}}var sf,Bo=E(()=>{sf=Ge(Dt())});function qe(t,e,n,r){let i="**"+t+"**  ";return i+=`
`,i+=e+"  ",i+="\n```antlers\n",i+=n,i+="\n```",r!=null&&(i+=`

`,i+="[Documentation Reference]("+r+")"),i}function K(t,e,n){let r="**"+t+"**  ";return r+=`
`,r+=e+"  ",n!=null&&(r+=`

`,r+="[Documentation Reference]("+n+")"),r}var re=E(()=>{});function qo(t){let e=[];return t=="order"&&e.push("sort"),e}var of=E(()=>{});function rV(t){return{blueprintName:t.sourceName,displayName:t.name,instructionText:"",maxItems:-1,name:t.name,refFieldSetField:null,type:t.dataType,sets:null,import:null}}function lf(t){let e=[];for(let n=0;n<t.length;n++)e.push(rV(t[n]));return e}var lm=E(()=>{});function ut(t){return[{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"count",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"index",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"order",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t}]}var Pn=E(()=>{});function vC(t,e,n){if(typeof n=="undefined"||n===null)return;let r=t.findParameter("as"),i=t.findParameter("scope");n=n.concat(lf(ut(t))),r!=null&&i!=null?e.introduceScopedAliasScope(t,i.value,r.value,n):r!=null?e.introduceAliasScope(t,r.value,n):i!=null?e.introduceDynamicScopeList(t,i.value,n):e.addBlueprintFields(t,n)}var IC=E(()=>{lm();Pn()});function CC(t){return[{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.collection.context",introducedBy:t},{name:"total_results",dataType:"integer",sourceField:null,sourceName:"*internal.collection.context",introducedBy:t}]}var PC=E(()=>{});var Gs,AC,SC,xC,ka=E(()=>{Gs=[{isRequired:!1,name:"from",description:"The collection name to retrieve entries from",aliases:["folder","use"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"not_from",aliases:["not_folder","dont_use"],description:"The collections to exclude when retrieving entries",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"show_unpublished",aliases:null,description:"Controls whether unpbulished entries are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"show_published",aliases:null,description:"Controls whether published entries are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"show_past",aliases:null,description:"Controls whether to display entries with a past date",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"since",aliases:null,description:"Sets the minimum date an entry can have to be returned",acceptsVariableInterpolation:!0,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"until",aliases:null,description:"Sets the maximum date an entry can have to be returned",acceptsVariableInterpolation:!0,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies the entry sort order",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"limit",aliases:null,description:"Sets the maximum number of entries to return",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["integer"],isDynamic:!1},{isRequired:!1,name:"filter",aliases:["query_scope"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Specifies a custom query scope",expectsTypes:["string"],isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets the amount that entry results should be offset by",expectsTypes:["integer"],isRequired:!1,name:"offset",isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets whether not to paginate entry results",expectsTypes:["boolean","number"],isRequired:!1,name:"paginate",isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies a name to give to a new entries array variable",expectsTypes:["string"],isRequired:!1,name:"as",isDynamic:!1},{name:"scope",aliases:null,acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Sets a prefix on all entry variables",expectsTypes:["string"],isRequired:!1,isDynamic:!1},{name:"locale",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies the locale in which to retrieve entry content",expectsTypes:["string"],isRequired:!1,isDynamic:!1},{name:"redirects",aliases:["links"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Controls whether entries with redirects are returned",expectsTypes:["boolean"],isRequired:!1,isDynamic:!1},{name:"page_name",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"Allows you to customise the name of the URL query parameter used for pagination.",expectsTypes:["string"],isRequired:!1,isDynamic:!1}],AC=["from","folder","use"],SC=["not_from","not_folder","dont_use"],xC=["draft","scheduled","expired","published"]});function EC(t){let e=[];if(t.project!=null){let n={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position},r=t.project.getUniqueTaxonomyNames();for(let i=0;i<r.length;i++){let s=r[i],o=t.originalLeftWord+s+'="$1"';e.push({label:t.originalLeftWord+s,insertTextFormat:Pi.InsertTextFormat.Snippet,kind:Pi.CompletionItemKind.Field,textEdit:Pi.TextEdit.replace(n,o),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}return e}function Uo(t,e){let n=[];if(t.reference!=null){let r=t.reference,i=e.statamicProject.getBlueprintFields(r.collectionNames);typeof i!="undefined"&&i!=null&&(n=i)}return n}function RC(t){let e=[],n=xC.filter(r=>!t.includes(r));for(let r=0;r<n.length;r++)e.push({label:n[r],kind:Pi.CompletionItemKind.Variable});return e}function kC(t,e,n){let r=[],i=n.getTaxonomyTerms(e),s=i.filter(o=>!t.includes(o));for(let o=0;o<s.length;o++)r.push({label:s[o],kind:Pi.CompletionItemKind.Variable});return r}function OC(t){let e=[],n=t.getCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:Pi.CompletionItemKind.Variable});return e}function jo(t,e){let n=[],r=e.getCollectionNames().filter(i=>!t.includes(i));for(let i=0;i<r.length;i++)n.push({label:r[i],kind:Pi.CompletionItemKind.Variable});return n}function cf(t){let e=[],n=t.getCollectionQueryScopes();for(let r=0;r<n.length;r++)e.push({label:n[r].name,detail:n[r].description,kind:Pi.CompletionItemKind.Variable});return e}var Pi,Go=E(()=>{Pi=Ge(Dt());ka()});function Wo(t,e){if(t.isClosingTag)return e;if(t.hasMethodPart()&&t.getMethodNameValue()!="count"&&e.addVariables(CC(t)),t.reference!=null){let n=Uo(t,e);vC(t,e,n)}return e}var uf=E(()=>{IC();PC();Go()});var cm,wC=E(()=>{cm=[{name:"is",description:"Tests if a field is equal to a value"},{name:"equals",description:"Tests if a field is equal to a value"},{name:"not",description:"Tests if a field is not equal to a value"},{name:"isnt",description:"Tests if a field is not equal to a value"},{name:"exists",description:"Tests if a field exists"},{name:"isset",description:"Tests if a field exists"},{name:"doesnt_exist",description:"Tests if a field does not exist"},{name:"is_empty",description:"Tests if a field does not exist"},{name:"null",description:"Tests if a field does not exist"},{name:"contains",description:"Tests if a field contains a value"},{name:"doesnt_contain",description:"Tests if a field does not contain a value"},{name:"in",description:"Tests if a value is in an array"},{name:"not_in",description:"Tests if an array does not contain a value"},{name:"starts_with",description:"Tests if a field starts with a value"},{name:"doesnt_start_with",description:"Tests if a field does not start with a value"},{name:"ends_with",description:"Tests if a field ends with a value"},{name:"doesnt_end_with",description:"Tests if a field does not end with a value"},{name:"gt",description:"Tests if a field is greater than a value"},{name:"lt",description:"Tests if a field is less than a value"},{name:"gte",description:"Tests if a field is greater than or equal to a value"},{name:"lte",description:"Tests if a field is less than or equal to a value"},{name:"matches",description:"Tests if a field matches a case insensitive regex"},{name:"regex",description:"Tests if a field matches a case insensitive regex"},{name:"doesnt_match",description:"Tests if a field does not match a case insensitive regex"},{name:"is_alpha",description:"Tests if a field contains only alphabetical characters"},{name:"is_numeric",description:"Tests if a field contains only numeric characters"},{name:"is_alpha_numeric",description:"Tests if a field contains only alpha-numeric characters"},{name:"is_url",description:"Tests if a field is a valid URL"},{name:"is_embeddable",description:"Tests if a field is an embeddable video URL"},{name:"is_email",description:"Tests if a field is a valid email address"},{name:"is_after",description:"Tests if a field is after a given date"},{name:"is_before",description:"Tests if a field is before a given date"}]});function Ws(t){let e=[],n={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position};for(let r=0;r<cm.length;r++){let i=cm[r],s=t.originalLeftWord+i.name+'="$1"';e.push({label:i.name,insertTextFormat:ff.InsertTextFormat.PlainText,kind:ff.CompletionItemKind.Field})}return e}var ff,_c=E(()=>{ff=Ge(Dt());wC()});var um,LC=E(()=>{um=class{static clear(e){this.unclosedNodes.delete(e)}static registerNodes(e,n){this.unclosedNodes.set(e,n)}static getUnclosedTags(e,n){var o,l,u;let r=[];if(this.unclosedNodes.has(e)==!1)return r;let i=this.unclosedNodes.get(e);if(i.length==0)return r;let s=n.line+1;for(let d=0;d<i.length;d++){let h=i[d];(((o=h.endPosition)==null?void 0:o.line)==s&&n.character>h.endPosition.char||s>((u=(l=h.endPosition)==null?void 0:l.line)!=null?u:0))&&r.push(h)}return r}static hasUnclosedTags(e,n){return this.unclosedNodes.has(e)==!1?!1:this.getUnclosedTags(e,n).length>0}};um.unclosedNodes=new Map});function Hs(t){return[{name:"edit_url",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"id",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"last_modified",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"permalink",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"published",dataType:"boolean",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"slug",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"template",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t}]}var yc=E(()=>{});var Pr,iV,DC=E(()=>{Pr=Ge(Ci()),iV=[{label:"name",kind:Pr.CompletionItemKind.Property},{label:"description",kind:Pr.CompletionItemKind.Property},{label:"desc",kind:Pr.CompletionItemKind.Property},{label:"entry",kind:Pr.CompletionItemKind.Property},{label:"collection",kind:Pr.CompletionItemKind.Property},{label:"blueprint",kind:Pr.CompletionItemKind.Property},{label:"var",kind:Pr.CompletionItemKind.Property},{label:"set",kind:Pr.CompletionItemKind.Property},{label:"param",kind:Pr.CompletionItemKind.Property},{label:"param*",kind:Pr.CompletionItemKind.Property},{label:"front",kind:Pr.CompletionItemKind.Property},{label:"format",kind:Pr.CompletionItemKind.Property}]});var df,vY,MC=E(()=>{df=Ge(Dt()),vY=[{label:"if",kind:df.CompletionItemKind.Keyword},{label:"elseif",kind:df.CompletionItemKind.Keyword},{label:"else",kind:df.CompletionItemKind.Keyword}]});var fm,sV,FC=E(()=>{fm=Ge(Ci()),sV=Ge(Dt());ba()});var dm,bc,pm=E(()=>{dm=Ge(Dt()),bc=[];bc.push({label:"true",kind:dm.CompletionItemKind.Keyword});bc.push({label:"false",kind:dm.CompletionItemKind.Keyword})});var VC=E(()=>{pm()});function mt(t){return[{sourceName:"*internal.array",sourceField:null,dataType:"*",name:"value",introducedBy:t},{sourceName:"*internal.array",sourceField:null,dataType:"*",name:"key",introducedBy:t}]}var Wn=E(()=>{});var aV,BC,qC=E(()=>{Wn();Pn();aV={name:"array",augmentScope:(t,e)=>{e.addVariables(mt(t)),e.addVariables(ut(t))}},BC=aV});var oV,UC,jC=E(()=>{oV={name:"bard",augmentScope:(t,e)=>{e.addVariable({name:"type",dataType:"string",sourceField:null,sourceName:"*internal.bard",introducedBy:t})},injectCompletions:(t,e,n)=>[]},UC=oV});var lV,GC,WC=E(()=>{Wn();Pn();lV={name:"form_multiple",augmentScope:(t,e)=>{e.addVariables(mt(t)),e.addVariables(ut(t))}},GC=lV});var cV,HC,YC=E(()=>{Wn();Pn();cV={name:"list",augmentScope:(t,e)=>{e.addVariables(mt(t)),e.addVariables(ut(t))}},HC=cV});function KC(t){return[{name:"type",dataType:"string",sourceName:"*internal.replicator",sourceField:null,introducedBy:t}]}var $C=E(()=>{});var uV,zC,QC=E(()=>{Pn();$C();uV={name:"replicator",augmentScope:(t,e)=>{e.addVariables(KC(t)),e.addVariables(ut(t))},injectCompletions:(t,e,n)=>[]},zC=uV});var fV,XC,JC=E(()=>{Wn();Pn();fV={name:"select_multiple",augmentScope:(t,e)=>{e.addVariables(mt(t)),e.addVariables(ut(t))}},XC=fV});var dV,ZC,eP=E(()=>{Wn();Pn();dV={name:"sites_multiple",augmentScope:(t,e)=>{e.addVariables(mt(t)),e.addVariables(ut(t))}},ZC=dV});var pV,tP,nP=E(()=>{Wn();Pn();pV={name:"structures_multiple",augmentScope:(t,e)=>{e.addVariables(mt(t)),e.addVariables(ut(t))}},tP=pV});var hV,rP,iP=E(()=>{hV={name:"table",augmentScope:(t,e)=>{e.addVariable({name:"cells",dataType:"array",sourceName:"*internal.fieldtype.table",sourceField:null,introducedBy:t})}},rP=hV});var mV,sP,aP=E(()=>{Wn();Pn();mV={name:"tags",augmentScope:(t,e)=>{e.addVariables(mt(t)),e.addVariables(ut(t))}},sP=mV});function pf(t){return Hs(t).concat([{name:"entries_count",dataType:"number",sourceName:"*internal.term",sourceField:null,introducedBy:t},{name:"is_term",dataType:"boolean",sourceName:"*internal.term",sourceField:null,introducedBy:t},{name:"taxonomy",dataType:"string",sourceName:"*internal.term",sourceField:null,introducedBy:t}])}var hm=E(()=>{yc()});var gV,oP,lP=E(()=>{Wn();Pn();hm();gV={name:"taxonomies_multiple",augmentScope:(t,e)=>{e.addVariables(mt(t)),e.addVariables(ut(t)),e.addVariables(pf(t))}},oP=gV});var TV,cP,uP=E(()=>{Wn();Pn();hm();TV={name:"terms_multiple",augmentScope:(t,e)=>{e.addVariables(mt(t)),e.addVariables(ut(t)),e.addVariables(pf(t))}},cP=TV});var _V,fP,dP=E(()=>{Wn();Pn();_V={name:"user_groups_multiple",augmentScope:(t,e)=>{e.addVariables(mt(t)),e.addVariables(ut(t))}},fP=_V});var yV,pP,hP=E(()=>{Wn();Pn();yV={name:"user_roles_multiple",augmentScope:(t,e)=>{e.addVariables(mt(t)),e.addVariables(ut(t))}},pP=yV});var bV,mP,gP=E(()=>{Wn();Pn();bV={name:"users_multiple",augmentScope:(t,e)=>{e.addVariables(mt(t)),e.addVariables(ut(t)),e.injectBlueprint(t,"user")}},mP=bV});var NV,TP,_P=E(()=>{Wn();Pn();NV={name:"yaml",augmentScope:(t,e)=>{e.addVariables(mt(t)),e.addVariables(ut(t))}},TP=NV});var vV,yP,bP=E(()=>{qC();jC();WC();YC();QC();JC();eP();nP();iP();aP();lP();uP();dP();hP();gP();_P();vV=[BC,UC,GC,HC,zC,XC,ZC,tP,TP,rP,oP,sP,cP,mP,fP,pP],yP=vV});var Ys,hf,mm=E(()=>{bP();Ys=class{constructor(){this.fieldTypes=new Map}getFieldTypes(){return this.fieldTypes}getFieldType(e){return this.fieldTypes.get(e)}registerFieldtypes(e){for(let n=0;n<e.length;n++)this.fieldTypes.set(e[n].name,e[n])}loadCoreFieldtypes(){this.registerFieldtypes(yP)}hasFieldtype(e){return this.fieldTypes.has(e)}};Ys.instance=null;(typeof Ys.instance=="undefined"||Ys.instance==null)&&(Ys.instance=new Ys,Ys.instance.loadCoreFieldtypes());hf=Ys});var NP=E(()=>{mm()});function mf(t){let e="";return t.currentNode!=null&&(e=t.currentNode.getMethodNameValue()),e}function hs(t){if(t.includes(":")==!1)return t;let e=t.split(":");return e.length>1?e[e.length-1]:e[0].trim()}function gf(t){return t.includes(":")==!1?t:t.split(":")[0]}function vP(t){var n;if(t.nodesInScope.length==0)return[];let e=t.nodesInScope[t.nodesInScope.length-1];return((n=t.context)==null?void 0:n.node)!=null&&(e=t.context.node),e.currentScope==null?[]:IV(t,e.currentScope)}function IV(t,e){let n=[];return e.values.forEach(r=>{var i;if(r.sourceField!=null?n.push({label:r.name,detail:r.sourceField.blueprintName,documentation:(i=r.sourceField.instructionText)!=null?i:"",kind:Oa.CompletionItemKind.Field}):n.push(Vo(r.name,"","")),r.dataType.trim().length>0&&r.dataType=="array"){let s=r.name+` }}
    $1
{{ /`+r.name+" ",o={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position};n.push({label:r.name+" loop",insertTextFormat:Oa.InsertTextFormat.Snippet,kind:Oa.CompletionItemKind.Snippet,textEdit:Oa.TextEdit.replace(o,s),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}),e.lists.forEach((r,i)=>{n.push(Vo(i,"",""))}),n}var Oa,ms=E(()=>{Oa=Ge(ir());ba();wa();LC();yc();nt();Mi();DC();MC();Bo();FC();VC();NP()});function Re(t){let e="";typeof t!="undefined"&&typeof t.resolveDocumentation!="undefined"&&t.resolveDocumentation!=null&&(e=t.resolveDocumentation());let n=t.tagName;if(n.includes(":")){let r=n.split(":");n=r[r.length-1]}return{label:n,kind:IP.CompletionItemKind.Text,sortText:"1",documentation:{kind:"markdown",value:e}}}var IP,Ar=E(()=>{IP=Ge(Ci())});function CP(t,e,n){return{name:t,acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:e,expectsTypes:["string"],isDynamic:!0,isRequired:!1,documentationLink:n,docLinkName:"MDN Reference"}}var PP,AP,SP=E(()=>{PP=CP("class","A space-separated list of the classes of the element.","https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/class"),AP=CP("style","Contains CSS styling declarations to be applied to the element. Note that it is recommended for styles to be defined in a separate file or files.","https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/style")});function Tf(t){return t=="class"?PP:t=="style"?AP:{name:t,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"",expectsTypes:["string","number","array"],isRequired:!1,isDynamic:!0}}function xP(t){let e=[];for(let n=0;n<t.length;n++)e.push({label:t[n],kind:gm.CompletionItemKind.Field});return ue(e)}function kt(t){let e=[];for(let n=0;n<t.length;n++)e.push({label:t[n],kind:gm.CompletionItemKind.Field});return ue(e)}function ue(t){return{items:t,isExclusiveResult:!0,analyzeDefaults:!1}}function kn(t){return{items:t,isExclusiveResult:!1,analyzeDefaults:!0}}var gm,ke,De=E(()=>{gm=Ge(Dt());SP();ke={items:[],isExclusiveResult:!1,analyzeDefaults:!0}});function Nt(t,e){let n=CV(t);return n.tagName=e,n}function CV(t){return{allowsArbitraryParameters:t.allowsArbitraryParameters,allowsContentClose:t.allowsContentClose,injectParentScope:t.injectParentScope,parameters:t.parameters,requiresClose:t.requiresClose,tagName:t.tagName,introducedIn:t.introducedIn,hideFromCompletions:t.hideFromCompletions,augmentScope:t.augmentScope,requiresCloseResolver:t.requiresCloseResolver,resolveCompletionItems:t.resolveCompletionItems,resolveDynamicParameter:t.resolveDynamicParameter,resolveSpecialType:t.resolveSpecialType,resovleParameterCompletionItems:t.resovleParameterCompletionItems,suggestAlternativeParams:t.suggestAlternativeParams,resolveDocumentation:t.resolveDocumentation}}var Wi=E(()=>{});function EP(t){return t.findParameterValueOrNull("scope")}function RP(t){t.getAllNodes().forEach(n=>{n instanceof Z&&n.manifestType==="array"&&(n.mustClose=!0)})}var Tm=E(()=>{nt()});function PV(t){return t.findParameterValueOrNull("as")}function SV(t,e){let n=[];if(t.hasMethodPart()){let l=t.getMethodNameValue();if(AV.includes(l)==!1)return n.push(l),n}let r=t.findAnyParameter(AC),i=t.findAnyParameter(SC),s=[],o=[];return typeof r!="undefined"&&r!==null&&(r.value.trim()==="*"?(s=e.getUniqueCollectionNames(),typeof i!="undefined"&&i!==null&&i.isVariableReference==!1&&i.hasInterpolations()==!1&&(o=i.getArrayValue())):r.isVariableReference==!1&&r.hasInterpolations()==!1&&(s=r.getArrayValue())),o.length>0?n=s.filter(function(l){return o.includes(l)==!1}):n=s,n}function Ks(t,e){var d,h,m,y,b,T;let n=SV(t,e),r=!1,i=!1,s=!1,o=null,l="";if(t.isClosingTag==!1){let x=PV(t),D=EP(t);x!=null&&(r=!0,l=x),D!=null&&(s=!0,o=D),i=t.hasParameter("paginate")}return{context:{collectionNames:n!=null?n:[],endPosition:(h=(d=t.endPosition)==null?void 0:d.char)!=null?h:0,aliasName:l,isAliased:r,isScoped:s,scopeName:o,isStartOfScope:!t.isClosingTag,line:(y=(m=t.startPosition)==null?void 0:m.line)!=null?y:0,startPosition:(T=(b=t.startPosition)==null?void 0:b.char)!=null?T:0,isPaginated:i,excludeCollections:[],includeCollections:[]},issues:[]}}var AV,Nc=E(()=>{Tm();ka();AV=["count","next","previous"]});function Ho(t,e){if(t==null)return null;let n=Na(e,":");return n.includes(":")&&(n=n.split(":")[0]),n=="status"||n=="taxonomy"||t.currentScope!=null&&t.currentScope.containsReference(n)?Tf(e):null}var _f=E(()=>{Mi();De()});function $s(t,e){var n,r,i,s,o,l,u,d,h,m;if(t.isDynamic){let y=gf(t.name);if(e.nodesInScope.length>0){let b=e.nodesInScope[e.nodesInScope.length-1];if(b!=null&&b.currentScope!=null){let T=Uo(b,b.currentScope),x=T.map(_=>_.name),D=hs(e.leftWord);if(x.includes(D))return ue(Ws(e))}}if(y=="status"&&((n=e.context)==null?void 0:n.parameterContext)!=null)return ue(RC((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[]));if(y=="taxonomy"){let b=hs(t.name);if(e.project.hasTaxonomy(b)&&((s=e.context)==null?void 0:s.parameterContext)!=null)return ue(kC((l=(o=e.context.parameterContext.parameter)==null?void 0:o.getArrayValue())!=null?l:[],b,e.project))}}if(t.name=="filter"||t.name=="query_scope")return ue(cf(e.project));if(e.nodesInScope.length>0){let y=e.nodesInScope[e.nodesInScope.length-1];if(y.hasMethodPart()&&EV.includes(y.getMethodNameValue())&&RV.includes(t.name))return ue(OC(e.project))}return xV.includes(t.name)&&((u=e.context)==null?void 0:u.parameterContext)!=null?ue(jo((m=(h=(d=e.context)==null?void 0:d.parameterContext.parameter)==null?void 0:h.getArrayValue())!=null?m:[],e.project)):null}var xV,EV,RV,vc=E(()=>{_c();ms();De();Go();xV=["from","folder","use","not_from","not_folder"],EV=["previous","next"],RV=["in","collection"]});var kV,La,yf=E(()=>{re();of();uf();ka();bf();Nc();_f();vc();kV={tagName:"collection:previous",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...Gs,{name:"in",aliases:["collection"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The collection to search in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"current",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets the current entry by ID",expectsTypes:["string"],isDynamic:!1,isRequired:!1}],augmentScope:Wo,resolveDynamicParameter:Ho,resolveSpecialType:Ks,suggestAlternativeParams:qo,resovleParameterCompletionItems:$s,resolveCompletionItems:Yo,resolveDocumentation:t=>qe("collection:previous Tag","The `collection:previous` tag is used to show the entries that appear before the current entry, based on some entry order (publish date, alphabetical, or manual).",`{{# Retrieve the previous two entries, based on dates in ascending order. #}}
{{ collection:previous in="articles" limit="2" sort="date:asc" }}

{{ /collection:previous }}`,"https://statamic.dev/tags/collection-previous")},La=kV});var Nf,vf,_m=E(()=>{Wi();yf();Nf=Nt(La,"collection:older"),vf=Nt(La,"collection:newer")});var OV,If,ym=E(()=>{re();ka();Nc();vc();OV={tagName:"collection:count",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...Gs,{isRequired:!0,name:"in",aliases:["from"],description:"The collection from which to count entries",acceptsVariableInterpolation:!0,allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1}],resolveSpecialType:Ks,resovleParameterCompletionItems:$s,resolveDocumentation:t=>qe("collection:count Tag","The `collection:count` tag returns the total number of entries in the specified collection(s). The collection count tag accepts the same parameters as the collection tag, allowing developers to count entries that meet specific conditions.",`Total entry count: {{ collection:count in="collection-name" }}
Draft count: {{ collection:count in="collection-name" status:in="draft" }}`,"https://statamic.dev/tags/collection-count")},If=OV});var wV,Cf,bm=E(()=>{re();of();uf();ka();bf();Nc();_f();vc();wV={tagName:"collection:next",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...Gs,{name:"in",aliases:["collection"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The collection to search in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"current",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets the current entry by ID",expectsTypes:["string"],isDynamic:!1,isRequired:!1}],augmentScope:Wo,resolveDynamicParameter:Ho,resolveSpecialType:Ks,suggestAlternativeParams:qo,resovleParameterCompletionItems:$s,resolveCompletionItems:Yo,resolveDocumentation:t=>qe("collection:next Tag","The `collection:next` tag is used to show the entries that will appear after the current entry, based on some entry order (publish date, alphabetical, or manual).",`{{# Retrieve the next two entries, based on dates in ascending order. #}}
{{ collection:next in="articles" limit="2" sort="date:asc" }}

{{ /collection:next }}`,"https://statamic.dev/tags/collection-next")},Cf=wV});function Yo(t){var n,r;let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="collection"||t.leftWord=="/collection")&&t.leftChar==":"){let i=t.project.getCollectionNames();for(let s=0;s<i.length;s++)e.push({label:i[s],kind:Ic.CompletionItemKind.Field,sortText:"0"});return e.push(Re(If)),e.push(Re(Cf)),e.push(Re(La)),e.push(Re(Nf)),e.push(Re(vf)),{items:e,analyzeDefaults:!1,isExclusiveResult:!1}}if(t.currentNode!=null&&t.currentNode.currentScope!=null){let i=Uo(t.currentNode,t.currentNode.currentScope),s=i.map(l=>l.name),o=hs(t.leftWord);if(o==="taxonomy")return ue(EC(t));if(s.includes(o))return e=Ws(t),ue(e);if(t.isCaretInTag&&!((n=t.context)==null?void 0:n.isInParameter)&&["collection","/collection"].includes(t.leftWord)==!1&&t.leftChar!=" "){let l=[];for(let u=0;u<i.length;u++){let d=i[u];l.includes(d.name)==!1&&(e.push({label:d.name,detail:d.blueprintName,documentation:(r=d.instructionText)!=null?r:"",kind:Ic.CompletionItemKind.Field}),l.push(d.name))}if(e.push({label:"taxonomy",insertText:"taxonomy:",kind:Ic.CompletionItemKind.Field}),e.push({label:"status",insertText:"status:",kind:Ic.CompletionItemKind.Field}),e.length>0)return kn(e)}}return ke}var Ic,bf=E(()=>{Ic=Ge(Ci());_c();ms();Ar();De();_m();ym();bm();yf();Go()});var LV,kP,OP=E(()=>{re();of();uf();ka();bf();Nc();_f();vc();LV={tagName:"collection",hideFromCompletions:!1,introducedIn:null,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:Gs,augmentScope:Wo,resolveDynamicParameter:Ho,resolveSpecialType:Ks,suggestAlternativeParams:qo,resovleParameterCompletionItems:$s,resolveCompletionItems:Yo,resolveDocumentation:t=>qe("collection Tag","The `collection` tag provides access to entry data such as blog posts, products, etc.",`{{ collection:articles as="posts" }}

	{{ posts }}
		{{ title }}
	{{ /posts }}

{{ /collection:articles }}`,"https://statamic.dev/tags/collection")},kP=LV});var DV,wP,LP=E(()=>{re();De();DV={tagName:"cache",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,allowsContentClose:!1,allowsArbitraryParameters:!1,resovleParameterCompletionItems:(t,e)=>t.name=="scope"?kt(["page","site","user"]):null,parameters:[{isRequired:!1,name:"for",description:"The duration the cache is valid for",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"key",description:"An arbitrary name the cache entry may be referenced by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"scope",description:" The scope of the cached value. Either site or page.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1}],resolveSpecialType:(t,e)=>{let n=t.findParameter("key"),r=null;if(n!=null){let i=n.value;i.trim().length>0&&(r={key:i,reference:t})}return{context:r,issues:[]}},resolveDocumentation:t=>qe("cache Tag","The `cache` tag can be used to save the results of an expensive template operation. The duration of the cache can be configured.",`{{ cache for="10 minutes" }}
    {{# Template code that won't be re-rendered for at least 10 minutes. #}}
{{ /cache }}`,"https://statamic.dev/tags/cache")},wP=DV});var MV,DP,MP=E(()=>{re();ms();De();MV={tagName:"dump",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.leftWord=="dump"&&t.leftChar==":"?ue(vP(t)):ke,resolveDocumentation:t=>qe("dump Tag","The `dump` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered.",`{{ collection:articles }}
	{{# View all data available, for each entry. #}}
    {{ dump }}
{{ /collection:articles }}`,"https://statamic.dev/tags/dump")},DP=MV});var FV,FP,VP=E(()=>{re();FV={tagName:"404",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>qe("404 (Not Found) Tag","The `404` (Not Found) tag will trigger a 404 status code, and display the 404 template to the site visitor.",`{{ unless logged_in }}
	{{# Display the 404 Not Found page. #}}
	{{ 404 }}
{{ /unless }}`,"https://statamic.dev/tags/404")},FP=FV});var VV,BP,qP=E(()=>{re();VV={tagName:"link",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"to",description:"The relative path",expectsTypes:["string"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!0,isDynamic:!1},{name:"absolute",description:"Whether to generate absolute URLs. Default false",expectsTypes:["boolean"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1},{name:"id",description:"The ID of the entry to link to",expectsTypes:["string"],allowsVariableReference:!0,acceptsVariableInterpolation:!0,aliases:[],isDynamic:!1,isRequired:!1},{name:"in",description:"The handle of the site to link to.",expectsTypes:["string"],allowsVariableReference:!0,acceptsVariableInterpolation:!0,aliases:[],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>K("link Tag","The `link` tag accepts relative URLs or entry IDs and generates fully-qualified URLs to the desired content.","https://statamic.dev/tags/link")},BP=VV});var UP,jP,GP=E(()=>{re();UP={tagName:"loop",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,augmentScope:(t,e)=>(e.addVariable({name:"value",dataType:"*",sourceName:"*internal.loop.value",sourceField:null,introducedBy:t}),e),parameters:[{name:"times",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The number of iterations",isRequired:!1,isDynamic:!1},{name:"from",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to start iterating from. Default 1",isRequired:!1,isDynamic:!1},{name:"to",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to stop iterating at",isRequired:!1,isDynamic:!1}],resolveDocumentation:t=>K("loop Tag","The `loop` tag is used to create an array of items between two values, and then iterate the created array. Alternatively, a max value can be set using the `times` parameter to loop that number of times.","https://statamic.dev/tags/loop")},jP={tagName:"range",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,augmentScope:(t,e)=>(e.addVariable({name:"value",dataType:"*",sourceName:"*internal.loop.value",sourceField:null,introducedBy:t}),e),parameters:[{name:"times",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The number of iterations",isRequired:!1,isDynamic:!1},{name:"from",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to start iterating from. Default 1",isRequired:!1,isDynamic:!1},{name:"to",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to stop iterating at",isRequired:!1,isDynamic:!1}],resolveDocumentation:t=>K("range Tag","The `range` tag is used to create an array of items between two values, and then iterate the created array. Alternatively, a max value can be set using the `times` parameter to loop that number of times.","https://statamic.dev/tags/loop")}});var Da,WP,HP=E(()=>{Yl();Ma();Da=class{constructor(){this.loadedDocuments=new Map;this.activeProject=null}getDocuments(){let e=[];return this.loadedDocuments.forEach(n=>{e.push(n)}),e}setProject(e){this.activeProject=e,this.loadedDocuments.forEach(n=>{this.activeProject!=null&&n.updateProject(this.activeProject)})}refreshDocumentState(){this.activeProject!=null&&this.setProject(this.activeProject)}hasDocument(e){return this.loadedDocuments.has(e)}createDocument(e){if(!this.loadedDocuments.has(e)){let n=new Tn;n.documentUri=e,this.loadedDocuments.set(e,n)}}loadDocument(e,n){this.loadedDocuments.set(e,Tn.fromText(n))}getDocument(e){return this.loadedDocuments.get(e)}updateDocument(e,n){var r,i;if(this.loadedDocuments.has(e)){let s=this.loadedDocuments.get(e);s.loadString(n);let o=(i=(r=Fr.instance)==null?void 0:r.getStructure())==null?void 0:i.findView(e);o!=null&&(o.document=s)}}createOrUpdate(e,n){this.createDocument(e),this.updateDocument(e,n)}getDocumentErrors(e){return this.loadedDocuments.has(e)?this.loadedDocuments.get(e).errors.all():[]}};Da.instance=null;(typeof Da.instance=="undefined"||Da.instance==null)&&(Da.instance=new Da);WP=Da});var Nm,YP=E(()=>{HP();Nm=new WP});function it(t,e){return e.trim().length>0?Tf(e):null}var _n=E(()=>{De()});var Ko,Pf=E(()=>{Ko=[{isRequired:!1,name:"src",description:"The name of the partial view",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],isDynamic:!1}]});function $o(t,e){var n;if(t.isDynamic&&e.currentNode!=null&&e.currentNode.getTagName()=="partial"&&e.currentNode.hasMethodPart()){let r=e.currentNode.getMethodNameValue();if(r.trim().length>0&&((n=Fr.instance)==null?void 0:n.hasStructure())){let i=Fr.instance.getStructure().findRelativeView(r);if(i!=null&&i.varReferenceNames.has(t.name)){let s=i.varReferenceNames.get(t.name);if(i.document!=null&&i.document.hasFrontMatter()){let o=i.document.getFrontMatterScope();if(o!=null){let l=o.getList(s);if(l!=null)return xP(l.getVariableNames())}}}}}if(t.name=="src"){let r=e.project.getViews(),i=[];return r.forEach(s=>{if(wi.hasDetails(s.documentUri)){let o=wi.documentDetails.get(s.documentUri);i.push({label:o.documentName+"("+s.relativeDisplayName+")",insertText:s.relativeDisplayName,detail:o.documentName,documentation:{kind:Cc.MarkupKind.Markdown,value:o.documentDescription},kind:Cc.CompletionItemKind.File})}else i.push({label:s.relativeDisplayName,kind:Cc.CompletionItemKind.File})}),ue(i)}return null}var Cc,Af=E(()=>{Cc=Ge(Ci());Su();Yl();De()});var BV,Sf,vm=E(()=>{re();Pf();Af();BV={tagName:"partial:exists",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,parameters:Ko,introducedIn:"3.2.7",resovleParameterCompletionItems:$o,resolveDocumentation:t=>K("partial:exists Tag","The `partial:exists` can be used within conditional statements to test if a partial exists.","https://statamic.dev/tags/partial-exists")},Sf=BV});var qV,xf,Im=E(()=>{re();Pf();Af();qV={tagName:"partial:if_exists",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,parameters:Ko,introducedIn:"3.2.7",resovleParameterCompletionItems:$o,resolveDocumentation:t=>K("partial:if_exists Tag","The `partial:if_exists` can be used to output the contents of a partial if it exists.","https://statamic.dev/tags/partial-if-exists")},xf=qV});function KP(t){if(t.getTagName()!="partial")return null;let e="";if(t.hasMethodPart())e=t.getMethodNameValue();else{let n=t.findParameter("src");n!=null&&(e=n.value)}return e}var $P=E(()=>{});function GV(t){let e=[];return t.forEach(n=>{if(n.isTagNode||n.isClosingTag||n.isComment||n.hasMethodPart()&&n.getMethodNameValue().length>0||n.name!=null&&n.name.content.includes("["))return;let r=n.getTagName();!e.includes(r)&&r!="#"&&r!="slot"&&e.push(r)}),e}var Sr,UV,jV,zP,QP=E(()=>{Sr=Ge(Ci());Su();YP();Ar();De();_n();vm();Im();Pf();$P();Af();UV=[Re(Sf),Re(xf)],jV={tagName:"partial",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!0,parameters:Ko,requiresClose:!1,allowsContentClose:!0,introducedIn:null,resolveDocumentation:t=>`**Partial Tag**  
Includes another view into the current template.  

[Documentation Reference](https://statamic.dev/tags/partial)
`,resolveDynamicParameter:it,resovleParameterCompletionItems:$o,resolveCompletionItems:t=>{let e=[];if(t.leftChar=='"'&&t.leftWord==':src="')return{items:[],analyzeDefaults:!0,isExclusiveResult:!1};if((t.leftWord=="partial"||t.leftWord=="/partial")&&t.leftChar==":"||t.leftWord=='src="'&&t.leftChar=='"')return t.project.getViews().forEach(r=>{let i=decodeURIComponent(r.documentUri);if(wi.hasDetails(i)){let s=wi.documentDetails.get(i);e.push({label:s.documentName+"("+r.relativeDisplayName+")",insertText:r.relativeDisplayName,detail:s.documentName,documentation:{kind:Sr.MarkupKind.Markdown,value:s.documentDescription},kind:Sr.CompletionItemKind.File})}else e.push({label:r.relativeDisplayName,kind:Sr.CompletionItemKind.File})}),t.leftWord!='src="'&&(e=e.concat(UV)),{analyzeDefaults:!1,isExclusiveResult:!0,items:e};if(t.currentNode!=null&&t.project!=null){let n=KP(t.currentNode);if(n!=null&&n.trim().length>0){let r=t.project.findRelativeView(n);if(r!=null&&Nm.hasDocument(r.documentUri)){let i=Nm.getDocument(r.documentUri);if(i!=null){let s=i.getAllAntlersNodes(),o=GV(s),l=[];r.varReferenceNames!=null&&r.varReferenceNames.forEach((d,h)=>{o.push(h)});let u=[];if(r.injectsParameters.length>0){let d={start:{line:t.position.line,character:t.position.character-0},end:t.position};r.injectsParameters.forEach(h=>{let m=h.name+'="$1"';l.includes(h.name)||(l.push(h.name),u.push({label:h.name,kind:Sr.CompletionItemKind.Value,insertTextFormat:Sr.InsertTextFormat.Snippet,textEdit:Sr.TextEdit.replace(d,m),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}))})}if(o.length>0){let d={start:{line:t.position.line,character:t.position.character-0},end:t.position};o.forEach(h=>{let m=h+'="$1"';l.includes(h)||(l.push(h),u.push({label:h,kind:Sr.CompletionItemKind.Value,insertTextFormat:Sr.InsertTextFormat.Snippet,textEdit:Sr.TextEdit.replace(d,m),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}))})}return kn(u)}}}}return{analyzeDefaults:!0,isExclusiveResult:!1,items:[]}}};zP=jV});var WV,Ef,Cm=E(()=>{re();WV={tagName:"increment:reset",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:"3.2.28",parameters:[{isRequired:!0,name:"counter",aliases:[],description:"The incrementing counter to reset",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"to",aliases:[],description:"An optional value to reset the counter to before incrementing starts again",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resolveDocumentation:t=>qe("increment:reset Tag","The `increment:reset` tag can be used to reset the value of an incrementing counter.",`{{ array_variable }}
    {{ increment:counter_name }}
{{ /array_variable }}

{{ increment:reset counter="counter_name" }}
`,null)},Ef=WV});var HV,YV,XP,JP=E(()=>{re();Ar();De();Cm();HV=[Re(Ef)],YV={tagName:"increment",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[{isRequired:!1,name:"from",aliases:[],description:"The number to start incrementing by",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"by",aliases:[],description:"The number to increment by",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resolveCompletionItems:t=>t.leftWord=="increment"||t.leftWord=="/increment"&&t.leftChar==":"?ue(HV):ke,resolveDocumentation:t=>K("increment Tag","The `increment` tag can be used to increment a value each time the tag is encountered.","https://statamic.dev/tags/increment")},XP=YV});var Pm,ZP,eA,tA=E(()=>{re();Pm=class{constructor(e){this.node=e}},ZP={tagName:"yields",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,parameters:[],introducedIn:null,requiresClose:!1,resolveSpecialType:(t,e)=>({context:new Pm(t),issues:[]})},eA={tagName:"yield",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,parameters:[],introducedIn:null,requiresClose:!1,resolveSpecialType:(t,e)=>({context:new Pm(t),issues:[]}),resolveDocumentation:t=>K("yield Tag","The `yield` tag may be used to push rendered content to named regions within a template's structure.","https://statamic.dev/tags/yield")}});var nA,rA=E(()=>{nA=[{handle:"access cp"},{handle:"configure collections"},{handle:"[view edit create delete publish reorder] {collection} entries"},{handle:"configure structures"},{handle:"[view edit] {structure} structure"},{handle:"edit {global} globals"},{handle:"[view upload edit move rename delete] {container} assets"},{handle:"[view perform] updates"},{handle:"[view edit create delete] users"},{handle:"change passwords"},{handle:"edit roles"},{handle:"configure forms"},{handle:"[view delete] {form} submissions"}]});var zs,xr,iA=E(()=>{rA();zs=class{constructor(){this.contextItems=new Map;this.triggerNames=[];this.collectionTriggers=[];this.collectionTriggerCaps=[];this.globalTriggers=[];this.globalTriggerCaps=[];this.formTriggers=[];this.formTriggerCaps=[];this.structureTriggers=[];this.structureTriggerCaps=[];this.assetTriggers=[];this.assetTriggerCaps=[]}getCollectionTriggerCaps(){return this.collectionTriggerCaps}getGlobalTriggerCaps(){return this.globalTriggerCaps}getFormTriggerCaps(){return this.formTriggerCaps}getStructureTriggerCaps(){return this.structureTriggerCaps}getAssetTriggerCaps(){return this.assetTriggerCaps}loadCorePermissions(){this.registerPermissions(nA)}getTriggerNames(){return this.triggerNames}isCollectionTrigger(e){return this.collectionTriggers.includes(e)}isGlobalTrigger(e){return this.globalTriggers.includes(e)}isFormTrigger(e){return this.formTriggers.includes(e)}isStructureTrigger(e){return this.structureTriggers.includes(e)}isAssetTrigger(e){return this.assetTriggers.includes(e)}getTriggerContextItems(e){return this.contextItems.has(e)?this.contextItems.get(e):[]}registerSpecialTrigger(e,n,r){n=="{collection}"?(this.collectionTriggerCaps.includes(r)==!1&&this.collectionTriggerCaps.push(r),this.collectionTriggers.includes(e)==!1&&this.collectionTriggers.push(e)):n=="{structure}"?(this.structureTriggerCaps.includes(r)==!1&&this.structureTriggerCaps.push(r),this.structureTriggers.includes(e)==!1&&this.structureTriggers.push(e)):n=="{container}"?(this.assetTriggerCaps.includes(r)==!1&&this.assetTriggerCaps.push(r),this.assetTriggers.includes(e)==!1&&this.assetTriggers.push(e)):n=="{global}"?(this.globalTriggerCaps.includes(r)==!1&&this.globalTriggerCaps.push(r),this.globalTriggers.includes(e)==!1&&this.globalTriggers.push(e)):n=="{form}"&&(this.formTriggerCaps.includes(r)==!1&&this.formTriggerCaps.push(r),this.formTriggers.includes(e)==!1&&this.formTriggers.push(e))}addContextToTrigger(e,n){var r;this.triggerNames.includes(e)==!1&&this.triggerNames.push(e),this.contextItems.has(e)==!1?this.contextItems.set(e,[n]):(r=this.contextItems.get(e))==null||r.push(n)}registerPermissions(e){for(let n=0;n<e.length;n++){let r=e[n],i=[],s="",o="";if(r.handle.includes("[")&&r.handle.includes("]")){let l=r.handle.indexOf("["),u=r.handle.indexOf("]"),d=u-l,h=r.handle.substr(l+1,d-1).split(" ").filter(y=>y.trim().length>0),m=r.handle.substr(u+1).split(" ").filter(y=>y.trim().length>0);i=h,m.length==2?(s=m[0],o=m[1]):m.length==1&&(s="",o=m[0])}else{let l=r.handle.split(" ").filter(u=>u.trim().length>0);l.length==2&&(i=[l[0]],o=l[1])}for(let l=0;l<i.length;l++){let u=i[l];s.trim().length>0?this.registerSpecialTrigger(u,s,o):this.addContextToTrigger(u,o)}}}};zs.instance=null;(typeof zs.instance=="undefined"||zs.instance==null)&&(zs.instance=new zs,zs.instance.loadCorePermissions());xr=zs});function sA(t,e){var r,i,s,o,l,u,d,h,m,y,b,T,x,D,_,P,v,S,w;let n=[];if(t.trim().length==0){let J=(i=(r=xr.instance)==null?void 0:r.getTriggerNames())!=null?i:[];for(let Y=0;Y<J.length;Y++)n.push({label:J[Y],kind:Rf.CompletionItemKind.Value})}else{let J=t.split(" ").filter(se=>se.trim().length>0),Y=J[0],ae=(o=(s=xr.instance)==null?void 0:s.getTriggerContextItems(Y))!=null?o:[],he=(l=xr.instance)==null?void 0:l.isCollectionTrigger(Y),be=(u=xr.instance)==null?void 0:u.isGlobalTrigger(Y),Te=(d=xr.instance)==null?void 0:d.isFormTrigger(Y),pe=(h=xr.instance)==null?void 0:h.isStructureTrigger(Y),at=(m=xr.instance)==null?void 0:m.isAssetTrigger(Y),Se=[];if(J.length<=2){he?Se=Se.concat(e.project.getUniqueCollectionNames()):be?Se=Se.concat(e.project.getUniqueGlobalsNames()):Te?Se=Se.concat(e.project.getUniqueFormNames()):pe?Se=Se.concat(e.project.getUniqueNavigationMenuNames()):at&&(Se=Se.concat(e.project.getUniqueAssetNames())),ae.length>0&&(Se=Se.concat(ae)),Se=[...new Set(Se)];for(let se=0;se<Se.length;se++)n.push({label:Se[se],kind:Rf.CompletionItemKind.Value})}else{let se=[];he?se=se.concat((b=(y=xr.instance)==null?void 0:y.getCollectionTriggerCaps())!=null?b:[]):be?se=se.concat((x=(T=xr.instance)==null?void 0:T.getGlobalTriggerCaps())!=null?x:[]):Te?se=se.concat((_=(D=xr.instance)==null?void 0:D.getFormTriggerCaps())!=null?_:[]):pe?se=se.concat((v=(P=xr.instance)==null?void 0:P.getStructureTriggerCaps())!=null?v:[]):at&&(se=se.concat((w=(S=xr.instance)==null?void 0:S.getAssetTriggerCaps())!=null?w:[])),se=[...new Set(se)];for(let rt=0;rt<se.length;rt++)n.push({label:se[rt],kind:Rf.CompletionItemKind.Value})}}return n}var Rf,aA=E(()=>{Rf=Ge(Dt());iA()});function kf(t,e){var r,i,s,o;let n=gf(t.name);return((r=e.context)==null?void 0:r.parameterContext)!=null&&["do","permission"].includes(n)?ue(sA((o=(s=(i=e.context)==null?void 0:i.parameterContext.parameter)==null?void 0:s.value)!=null?o:"",e)):null}var Am=E(()=>{aA();ms();De()});var KV,zo,Of=E(()=>{re();Am();KV={tagName:"user:can",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,resovleParameterCompletionItems:kf,parameters:[{name:"do",acceptsVariableInterpolation:!1,aliases:["permission"],allowsVariableReference:!1,description:"The permissions to check against",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resolveDocumentation:t=>K("user:can Tag","The `user:can` tag is used to check if the currently authenticated user has a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user has the specified permissions.","https://statamic.dev/tags/user-can")},zo=KV});var $V,Qo,wf=E(()=>{re();$V={tagName:"user:logout",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"redirect",description:"An optional URL to redirect the user after being logged out",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>K("user:logout Tag","The `user:logout` tag will sign out the currently authenticated user. An optional `redirect` parameter may be used to redirect the visitor to a different page after being logged out.","https://statamic.dev/tags/user-logout")},Qo=$V});var zV,Xo,Lf=E(()=>{re();zV={tagName:"user:logout_url",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"redirect",description:"An optional URL to redirect the user after being logged out",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>qe("user:logout_url","The `user:logout_url` tag can be used to retrieve the URL that will sign the current user out.",'<a href="{{ user:logout_url }}">Log out</a>',"https://statamic.dev/tags/user-logout_url")},Xo=zV});var oA,lA,cA=E(()=>{re();oA={tagName:"switch",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"between",description:"A set of values to iterate over",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string","array"]},{name:"for",description:"A unique name for the switch instance",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>K("switch Tag","The `switch` tag can be used to alternate between a set of values each time the tag is evaluated.","https://statamic.dev/tags/switch")},lA={tagName:"rotate",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,introducedIn:null,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[{name:"between",description:"A set of values to iterate over",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string","array"]},{name:"for",description:"A unique name for the switch instance",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>K("rotate Tag","The `rotate` tag can be used to alternate between a set of values each time the tag is evaluated.","https://statamic.dev/tags/switch")}});var QV,uA,fA=E(()=>{re();De();QV={tagName:"oauth",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"provider",description:"The OAuth provider to be used",aliases:[],isRequired:!0,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]},{name:"redirect",description:"The URL to be taken to after authenticating",aliases:[],isRequired:!0,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resovleParameterCompletionItems:(t,e)=>t.name=="provider"?kt(e.project.getOAuthProviders()):null,resolveDocumentation:t=>qe("oauth Tag","The `oauth` tag can be used to generate login URls for various third-party services.",'<a href="{{ oauth provider="github" }}">Sign In with Github</a>',"https://statamic.dev/tags/oauth")},uA=QV});var XV,Df,Sm=E(()=>{re();XV={tagName:"session:dump",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>K("session:dump Tag","The `session:dump` tag will display the contents of the user's session to the browser. This tag behaves similarly to the `dd` helper functions, but returns just the session data.","https://statamic.dev/tags/session-dump")},Df=XV});var Pc,xm=E(()=>{Pc=class{constructor(e){this.node=e}}});var JV,Mf,Em=E(()=>{re();_n();xm();JV={tagName:"session:set",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!0,parameters:[],introducedIn:null,resolveDynamicParameter:it,resolveSpecialType:(t,e)=>({context:new Pc(t),issues:[]}),resolveDocumentation:t=>K("session:set Tag","The `session:set` tag is used to add new data to the user's session.","https://statamic.dev/tags/session-set")},Mf=JV});var Fa,Ac,Rm=E(()=>{Fa=class{constructor(){this.knownVariables=new Map}registerDocumentSessionVariables(e,n){this.knownVariables.has(e)||this.knownVariables.set(e,new Map);let r=this.knownVariables.get(e);r.clear();for(let i=0;i<n.length;i++){let s=n[i].node;if(s.hasParameters)for(let o=0;o<s.parameters.length;o++){let l=s.parameters[o];r.set(l.name,n[i])}}}getKnownSessionVariableNames(){let e=[];return this.knownVariables.forEach(n=>{n.forEach((r,i)=>{e.includes(i)==!1&&e.push(i)})}),e}};Fa.instance=null;(typeof Fa.instance=="undefined"||Fa.instance==null)&&(Fa.instance=new Fa);Ac=Fa});function pA(t,e){let n=[],r=t.getArrayValue(),i=e.filter(s=>!r.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:dA.CompletionItemKind.Variable});return ue(n)}var dA,hA=E(()=>{dA=Ge(Dt());De()});var ZV,Ff,km=E(()=>{re();Rm();hA();ZV={tagName:"session:forget",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"keys",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The session keys to clear",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;if(t.name=="keys"&&((n=e.context)==null?void 0:n.parameterContext)!=null){let s=(i=(r=Ac.instance)==null?void 0:r.getKnownSessionVariableNames())!=null?i:[];if(e.context.parameterContext.parameter!=null)return pA(e.context.parameterContext.parameter,s)}return null},resolveDocumentation:t=>K("session:forget Tag","The `session:forget` tag is used to remove variables from the user's session.","https://statamic.dev/tags/session-forget")},Ff=ZV});var eB,Vf,Om=E(()=>{re();eB={tagName:"session:flush",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>K("session:flush Tag","The `session:flush` tag will clear all values from the visitor's session. If the visitor is currently signed in they will also be signed out.","https://statamic.dev/tags/session-flush")},Vf=eB});var tB,Bf,wm=E(()=>{re();_n();xm();tB={tagName:"session:flash",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDynamicParameter:it,resolveSpecialType:(t,e)=>({context:new Pc(t),issues:[]}),resolveDocumentation:t=>K("session:flash Tag","The `session:flash` tag can be used to add a value to the user's session. Flashed values only persist for a single request, and are then removed.","https://statamic.dev/tags/session-flash")},Bf=tB});var nB,qf,Lm=E(()=>{re();nB={tagName:"markdown:indent",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>K("markdown:indent Tag","The `markdown:indent` tag is similar to the markdown tag, but will ignore leading whitepsace while rendering the tag's content as markdown.","https://statamic.dev/tags/markdown-indent")},qf=nB});var rB,iB,mA,gA=E(()=>{re();Ar();De();Lm();rB=[Re(qf)],iB={tagName:"markdown",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="markdown"||t.leftWord=="/markdown")&&t.leftChar==":"?ue(rB):ke,resolveDocumentation:t=>K("markdown Tag","The `markdown` tag can be used to render the tags contents as markdown.","https://statamic.dev/tags/markdown")},mA=iB});function Uf(t,e){let n=[],r=e;if(t.trim().length>0&&t.includes(".")&&t.endsWith(".")){let i=t.substr(0,t.length-1);r=r.filter(s=>s.startsWith(i))}for(let i=0;i<r.length;i++){let s=r[i],o=!0;t.includes(".")&&(s.startsWith(t)==!1?o=!1:s=s.substr(t.length)),o&&n.push({label:s,insertText:s,kind:TA.CompletionItemKind.Text})}return n}var TA,Dm=E(()=>{TA=Ge(Ci())});function _A(t,e){return Uf(t,e.getRouteNames())}var yA=E(()=>{Dm()});var sB,bA,NA=E(()=>{re();yA();ms();De();_n();sB={tagName:"route",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDynamicParameter:it,resolveCompletionItems:t=>{if(t.leftMeaningfulWord=="route"){let e=mf(t);return ue(_A(e,t.project))}return ke},resolveDocumentation:t=>K("route Tag","The `route` tag can be used to generate a full URL [to a named route](https://laravel.com/docs/8.x/routing#named-routes), including any defined route parameters.","https://statamic.dev/tags/route")},bA=sB});var jf,vA,IA=E(()=>{jf=Ge(Dt()),vA=[{label:"301 Permanent",insertText:"301",kind:jf.CompletionItemKind.EnumMember},{label:"302 Temporary",insertText:"302",kind:jf.CompletionItemKind.EnumMember},{label:"404 Not Found",insertText:"404",kind:jf.CompletionItemKind.EnumMember}]});var aB,CA,PA=E(()=>{re();IA();De();aB={tagName:"redirect",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"to",description:"The destination URL",aliases:["url"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!0},{name:"response",description:"The HTTP response code to use",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1}],resovleParameterCompletionItems:t=>t.name=="response"?ue(vA):ke,resolveDocumentation:t=>K("redirect Tag","The `redirect` tag can be used to redirect the site visitor to a URL or named route. An optional HTTP status code can also be specified on the response using the `response` parameter.","https://statamic.dev/tags/redirect")},CA=aB});var Va,AA,SA=E(()=>{Va=class{constructor(){this.knownSections=new Map}registerDocumentSections(e,n){this.knownSections.has(e)||this.knownSections.set(e,new Map);let r=this.knownSections.get(e);r.clear();for(let i=0;i<n.length;i++){let s=n[i];s.node.hasMethodPart()&&r.set(s.node.getMethodNameValue(),s)}}getKnownSectionNames(){let e=[];return this.knownSections.forEach(n=>{n.forEach((r,i)=>{e.includes(i)==!1&&e.push(i)})}),e}};Va.instance=null;(typeof Va.instance=="undefined"||Va.instance==null)&&(Va.instance=new Va);AA=Va});var xA,oB,EA,RA=E(()=>{xA=Ge(Dt());re();SA();De();oB={tagName:"section",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>{var e,n;if((t.leftWord=="section"||t.leftWord=="/section")&&t.leftChar==":"){let r=[],i=(n=(e=AA.instance)==null?void 0:e.getKnownSectionNames())!=null?n:[];for(let s=0;s<i.length;s++)r.push({label:i[s],kind:xA.CompletionItemKind.Field});return kn(r)}return ke},resolveDocumentation:t=>K("section Tag","The `section` tag is used to push content to a named region defined by the `yield` tag.","https://statamic.dev/tags/section")},EA=oB});var lB,kA,OA=E(()=>{re();lB={tagName:"obfuscate",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>K("obfuscate Tag","The `obfuscate` tag converts the tags's content into a format that is difficult for bots to read, but can easily be viewed by users within their browser.","https://statamic.dev/tags/obfuscate")},kA=lB});var cB,wA,LA=E(()=>{re();cB={tagName:"parent",hideFromCompletions:!1,requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!1,injectParentScope:!0,introducedIn:null,parameters:[],resolveDocumentation:t=>K("parent Tag","The `parent` tag provides access to data from the current page's parent (the URL one level above the current page).","https://statamic.dev/tags/parent")},wA=cB});function Mm(t,e){return Uf(t,e.getTranslationKeys())}var DA=E(()=>{Dm()});var uB,Gf,MA,Fm,FA=E(()=>{re();DA();ms();De();Wi();_n();uB=["translate","trans","trans_choice"],Gf={tagName:"translate",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,introducedIn:null,allowsArbitraryParameters:!0,parameters:[{isRequired:!1,name:"key",description:"The key of the translation string to find",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"locale",description:"The locale to be used when translating",acceptsVariableInterpolation:!1,aliases:["site"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"count",description:"The number of items to use for pluralization",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n;if(t.name=="key"){let r="";return((n=e.context)==null?void 0:n.parameterContext)!=null&&e.context.parameterContext.parameter!=null&&(r=e.context.parameterContext.parameter.value),ue(Mm(r,e.project))}return ke},resolveDynamicParameter:it,resolveCompletionItems:t=>{if(t.leftMeaningfulWord!=null&&uB.includes(t.leftMeaningfulWord)){let e=mf(t);return ue(Mm(e,t.project))}return ke},resolveDocumentation:t=>K("trans Tag","The `trans` tag can be used to retrieve a string for the current locale's language file.","https://statamic.dev/tags/trans")},MA=Nt(Gf,"trans"),Fm=Nt(Gf,"trans_choice");Fm.resolveDocumentation=t=>K("trans_choice Tag","The `trans_choice` tag can be used to retrieve a pluralized string for the current locale's language file.","https://statamic.dev/tags/trans#pluralization")});var fB,VA,BA=E(()=>{re();_n();fB={tagName:"svg",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,introducedIn:null,parameters:[{isRequired:!1,name:"src",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The SVG filename relative to the project root",expectsTypes:["string"],isDynamic:!1}],resolveDynamicParameter:it,resolveDocumentation:t=>K("svg Tag","The `svg` tag can be used to render inline SVGs, as well as set attributes on the rendered `<svg>` element.","https://statamic.dev/tags/svg")},VA=fB});function Wf(t){return[{name:"basename",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"extension",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"filename",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"focus",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"focus_css",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"height",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_asset",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_image",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"path",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_bytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_gigabytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_kilobytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_megabytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"width",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t}]}var Vm=E(()=>{});var dB,qA,UA=E(()=>{re();Vm();dB={tagName:"asset",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The path to the file",expectsTypes:["string"],isDynamic:!1,name:"url"}],augmentScope:(t,e)=>(e.addVariables(Wf(t)),e),resolveDocumentation:t=>qe("asset Tag","The `asset` tag can be used to retrive Assets by supplying a URL.",`{{ asset url="/url/for/asset.png" }}
    <img src="{{ url }}" alt="{{ alt }}" />
{{ /asset }}`,"https://statamic.dev/tags/asset")},qA=dB});function Bm(t){let e=[],n=t.getUniqueAssetNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:jA.CompletionItemKind.Field});return e}var jA,GA=E(()=>{jA=Ge(Dt())});var WA,pB,HA,YA=E(()=>{re();GA();De();Vm();WA=["container","id","handle"],pB={tagName:"assets",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"container",aliases:["id","handle"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The handle of the asset container",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"folder",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Filters the resulting assets by specific folder",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"recursive",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Returns all assets in all subdirectories",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"limit",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Limits the total results",expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sort entries by any asset variable",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>WA.includes(t.name)?ue(Bm(e.project)):ke,augmentScope:(t,e)=>{e.addVariables(Wf(t));let n="";if(t.name!=null&&t.name.getMethodName()!=null)n=t.name.getMethodName();else{let r=t.findAnyParameter(WA);r!=null&&r.containsSimpleValue()&&(n=r.value)}return n.length>0&&e.injectAssetContainer(t,n),e},resolveCompletionItems:t=>(t.leftWord=="assets"||t.leftWord=="/assets")&&t.leftChar==":"?ue(Bm(t.project)):ke,resolveDocumentation:t=>qe("assets Tag","The `assets` tag can be used to retrieve multiple Assets from an Asset container.",`{{ assets container="container-name" }}
    {{# Loop over all assets in the container. #}}
	<img src="{{ url }}" alt="{{ alt }}" />
{{ /assets }}`,"https://statamic.dev/tags/assets")},HA=pB});var hB,KA,$A=E(()=>{re();De();hB={tagName:"get_content",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,introducedIn:null,allowsArbitraryParameters:!1,parameters:[{isRequired:!1,name:"from",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"The ID to retrieve data for",expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"locale",aliases:["site"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The locale to show the content in",expectsTypes:["string"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>t.name=="locale"||t.name=="site"?kt(e.project.getSiteNames()):null,resolveDocumentation:t=>qe("get_content Tag","The `get_content` tag can be used to retrieve content from other entries. This tag accepts the ID of another entry, and will return access to all data for that entry.",`{{ get_content from="the-entry-id" }}
{{ /get_content }}`,"https://statamic.dev/tags/get_content")},KA=hB});function zA(t){return[{name:"basename",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"extension",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"filename",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"is_image",dataType:"boolean",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"file",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"file",dataType:"last_modified",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_bytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_b",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_gigabytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_gb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_kilobytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_kb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_megabytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_mb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t}]}var QA=E(()=>{});var mB,XA,JA=E(()=>{re();QA();mB={tagName:"get_files",hideFromCompletions:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"in",aliases:["from"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The directory to find files in relative to the public directory",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"depth",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The depth of the subdirectories",expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"not_in",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],description:"The subdirectories or pattern to exclude",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"file_size",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],description:"The file size filter to use",isDynamic:!1},{isRequired:!1,name:"ext",aliases:["extension"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The extension(s) to filter by",expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"include",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:["match"],description:"Filter files by a regular expression",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"exclude",description:"Excludes files by a regular expression",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"file_date",description:"Filters files by last modified date",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"limit",description:"Limits the total number of results",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"offset",description:"The number of entries the results should be offset by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sorts the listing by extension, size, last_modified, or random",expectsTypes:["string"],isDynamic:!1}],augmentScope:(t,e)=>(e.addVariables(zA(t)),e),resolveDocumentation:t=>K("get_files Tag","The `get_files` tag can be used to display information about files on the site's local filesystem.","https://statamic.dev/tags/get_files")},XA=mB});function Hf(t){return[{name:"width",dataType:"number",sourceName:"*internal.glide",sourceField:null,introducedBy:t},{name:"height",dataType:"number",sourceName:"*internal.glide",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.glide",sourceField:null,introducedBy:t}]}var qm=E(()=>{});function Ai(t,e,n){var r,i,s,o,l,u,d,h,m,y,b,T;return{endLine:(s=(i=(r=n.valuePosition)==null?void 0:r.end)==null?void 0:i.line)!=null?s:0,startLine:(u=(l=(o=n.namePosition)==null?void 0:o.start)==null?void 0:l.line)!=null?u:0,endPos:(m=(h=(d=n.valuePosition)==null?void 0:d.end)==null?void 0:h.char)!=null?m:0,startPos:(T=(b=(y=n.namePosition)==null?void 0:y.start)==null?void 0:b.char)!=null?T:0,message:t,severity:ZA.DiagnosticSeverity.Error}}var ZA,eS=E(()=>{ZA=Ge(Dt())});function Zo(t,e){return t.name=="orient"?kt(tS):t.name=="format"?kt(jm):t.name=="filter"?kt(Um):t.name=="preset"?kt(e.project.getAssetPresets()):ke}var Um,jm,tS,Jo,Yf=E(()=>{eS();De();Um=["greyscale","sepia"],jm=["jpg","pjpg","png","gif","webp","avif","tif","bmp","psd"],tS=["auto","0","90","180","270"],Jo=[{isRequired:!1,name:"src",aliases:["path","id"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The URL of the image when not using shorthand syntax",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"tag",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Outputs an image tag when set to true",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"alt",description:"The alt attribute value to use when generating tags",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"absolute",description:"Whether to output full URLs",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{name:"width",expectsTypes:["number"],isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The width of the image, in pixels",isDynamic:!1},{name:"height",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],description:"The height of the image, in pixels",expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"square",expectsTypes:["number"],acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets both then height and width of the iamge",isDynamic:!1,isRequired:!1},{name:"fit",expectsTypes:["string"],acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"How the image is fitted to its target dimensions",isDynamic:!1,isRequired:!1},{name:"crop",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Crops the image to the specific dimensions",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"orient",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Rotates the image",expectsTypes:["*"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!tS.includes(e.value)&&n.push(Ai("Invalid orient value",t,e)),n}},{name:"quality",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Defines the quality of the image",expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"dpr",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],description:"Defines the device pixel ratio",expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<1||n>8)&&r.push(Ai("dpr must be an integer between 1 and 8.",t,e)),r}},{name:"format",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Encodes the image to a specific format",expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!jm.includes(e.value)&&n.push(Ai("Format must be one of: "+jm.join(","),t,e)),n}},{name:"bg",description:"Sets the background color for transparent images",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"blur",description:"Adds a blur effect to the image",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push(Ai("blur must be a value between 0 and 100.",t,e)),r}},{name:"brightness",description:"Adjusts the image brightness",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<-100||n>100)&&r.push(Ai("brightness must be a value between -100 and 100.",t,e)),r}},{name:"contrast",description:"Adjusts the image contrast",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<-100||n>100)&&r.push(Ai("contrast must be a value between -100 and 100.",t,e)),r}},{name:"gamma",description:"Adjusts the image gamma",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseFloat(e.value),r=[];return e.containsSimpleValue()&&(n<.1||n>9.99)&&r.push(Ai("gamma must be a value between 0.1 and 9.99.",t,e)),r}},{name:"sharpen",description:"Sharpens the iamge",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push(Ai("sharpen must be a value between 0 and 100.",t,e)),r}},{name:"pixelate",description:"Applies a pixelation effect to the image",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push(Ai("pixelate must be a value between 0 and 100.",t,e)),r}},{name:"filter",description:"Applies a filter effect to the image",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!Um.includes(e.value)&&n.push(Ai("Filter must be one of: "+Um.join(","),t,e)),n}},{name:"preset",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],description:"A collection of pre-configured image manipulation parameters.",isDynamic:!1,isRequired:!1}]});var gB,Kf,Gm=E(()=>{re();qm();Yf();gB={tagName:"glide:batch",hideFromCompletions:!1,requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,injectParentScope:!1,parameters:Jo,introducedIn:null,augmentScope:(t,e)=>(e.addVariables(Hf(t)),e),resovleParameterCompletionItems:Zo,resolveDocumentation:t=>K("glide:batch Tag","The `glide:batch` tag is similar to the glide tag, but can be used to apply image manipulations to multiple images within a piece of content.","https://statamic.dev/tags/glide-batch")},Kf=gB});var TB,$f,Wm=E(()=>{re();Yf();TB={tagName:"glide:data_url",hideFromCompletions:!1,requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,injectParentScope:!1,parameters:Jo,introducedIn:null,resovleParameterCompletionItems:Zo,resolveDocumentation:t=>K("glide:data_url Tag","The `glide:data_url` tag returns manipulated image datas as a data URI.",null)},$f=TB});var _B,yB,nS,rS=E(()=>{re();Ar();De();qm();Gm();Wm();Yf();_B=[Re(Kf),Re($f)],yB={tagName:"glide",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!1,parameters:Jo,introducedIn:null,augmentScope:(t,e)=>(e.addVariables(Hf(t)),e),resovleParameterCompletionItems:Zo,resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="glide"||t.leftWord=="/glide")&&t.leftChar==":"?ue(_B):ke,resolveDocumentation:t=>K("glide Tag","The `glide` tag is used to manipulate images on the fly. Image manipulations may include resizing, cropping, or adjusting sharpness and constrast, amongst many others.","https://statamic.dev/tags/glide")},nS=yB});var iS,sS,aS=E(()=>{re();iS={tagName:"iterate",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Optionally rename the key/value variables",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"array",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The array to iterate",expectsTypes:["array"],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>K("iterate Tag","The `iterate` tag can be used to iterate over arbitrary arrays.","https://statamic.dev/tags/foreach")},sS={tagName:"foreach",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Optionally rename the key/value variables",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"array",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The array to iterate",expectsTypes:["array"],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>K("foreach Tag","The `foreach` tag can be used to iterate over arbitrary arrays.","https://statamic.dev/tags/foreach")}});function oS(t){return[{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t},{name:"name",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}]}var lS=E(()=>{});var zf,Hm=E(()=>{zf=[{isRequired:!1,name:"id",description:"The ID of the content to localize",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"sort",description:"Sort by a sites key",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"current_first",description:"When true, ensures that the current locale is first",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"all",description:"When true, all locale data will be returned.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!0,name:"self",description:"When true, the current locale will be included.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"collection_term_workaround",description:"Disables the behavior introduced in https://github.com/statamic/cms/pull/6466",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1}]});var bB,Qf,Ym=E(()=>{re();Hm();bB={tagName:"locales:count",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,parameters:zf,introducedIn:"3.0.36",resolveDocumentation:t=>K("locales:count Tag","The `locales:count` tag can be used to count the number of locales the current content is available in.","https://statamic.dev/tags/locales-count")},Qf=bB});var NB,vB,cS,uS=E(()=>{re();Ar();De();lS();Ym();Hm();NB=[Re(Qf)],vB={tagName:"locales",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,parameters:zf,introducedIn:null,augmentScope:(t,e)=>(e.addVariableArray("locale",oS(t)),e.addVariable({name:"current",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"is_current",dataType:"boolean",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"exists",dataType:"boolean",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"permalink",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e),resolveDocumentation:t=>K("locales Tag","The `locales` tag can be used to access all the locales the current content is available in.","https://statamic.dev/tags/locales"),resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="locale"||t.leftWord=="/locale")&&t.leftChar==":"?ue(NB):ke},cS=vB});var IB,fS,dS=E(()=>{re();IB={tagName:"mix",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"src",description:"The path to the versioned file, relative to the public directory",acceptsVariableInterpolation:!1,aliases:["path"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"in",description:"The location of the mix manifest file",acceptsVariableInterpolation:!1,aliases:["from"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1}],resolveDocumentation:t=>K("mix Tag","The `mix` tag is used to return the path of CSS and JavaScript files versioned with [Laravel Mix](https://laravel.com/docs/8.x/mix).","https://statamic.dev/tags/mix")},fS=IB});function pS(t){let e=[],n=t.getUniqueUserGroupNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:Sc.CompletionItemKind.Field});return e}function hS(t){let e=[],n=t.getUniqueUserRoleNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:Sc.CompletionItemKind.Field});return e}function el(t,e){let n=[],r=e.getUniqueUserGroupNames(),i=r.filter(s=>!t.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:Sc.CompletionItemKind.Field});return n}function tl(t,e){let n=[],r=e.getUniqueUserRoleNames(),i=r.filter(s=>!t.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:Sc.CompletionItemKind.Field});return n}var Sc,Ba=E(()=>{Sc=Ge(Dt())});var CB,Xf,Km=E(()=>{re();De();Ba();CB={tagName:"user:in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="groups"||t.name=="group")&&((n=e.context)==null?void 0:n.parameterContext)!=null?ue(el((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>K("user:in Tag","The `user:in` tag can be used to check if the currently authenticated user belongs to one or more user groups. When used as a tag pair, the tag contents will only be rendered if the user belongs to the specified groups.","https://statamic.dev/tags/user-in")},Xf=CB});var PB,nl,Jf=E(()=>{re();De();Ba();PB={tagName:"user:not_in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="groups"||t.name=="group")&&((n=e.context)==null?void 0:n.parameterContext)!=null?ue(el((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>K("user:not_in Tag","The `user:not_in` tag can be used to check if the currently authenticated user does not belong to one or more user groups. When used as a tag pair, the tag contents will be rendered if the user does not belong to the specified groups.","https://statamic.dev/tags/user-in#not-in")},nl=PB});var AB,rl,Zf=E(()=>{re();De();Ba();AB={tagName:"user:is",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="roles"||t.name=="role")&&((n=e.context)==null?void 0:n.parameterContext)!=null?ue(tl((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>K("user:is Tag","The `user:is` tag can be used to check whether the currently authenticated user has one or more roles.","https://statamic.dev/tags/user-is")},rl=AB});var SB,il,ed=E(()=>{re();De();Ba();SB={tagName:"user:isnt",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="roles"||t.name=="role")&&((n=e.context)==null?void 0:n.parameterContext)!=null?ue(tl((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>K("user:isnt Tag","The `user:isnt` tag can be used to check whether the currently authenticated user does not have one or more roles.","https://statamic.dev/tags/user-is#isnt")},il=SB});var xB,mS,gS=E(()=>{re();De();Ba();xB={tagName:"in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="groups"||t.name=="group")&&((n=e.context)==null?void 0:n.parameterContext)!=null?ue(el((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveCompletionItems:t=>(t.leftWord=="in"||t.leftWord=="/in")&&t.leftChar==":"?ue(pS(t.project)):ke,resolveDocumentation:t=>K("in Tag","The `in` tag can be used to check if the authenticated user belongs to one or more groups. This tag operates similarly to the `user:in` tag.","https://statamic.dev/tags/user-in")},mS=xB});var EB,TS,_S=E(()=>{re();EB={tagName:"not_found",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>qe("404 (Not Found) Tag","The `not_found` tag will trigger a 404 status code, and display the 404 template to the site visitor.",`{{ unless logged_in }}
	{{# Display the 404 Not Found page. #}}
	{{ not_found }}
{{ /unless }}`,"https://statamic.dev/tags/404")},TS=EB});var RB,yS,bS=E(()=>{re();De();Ba();RB={tagName:"is",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="roles"||t.name=="role")&&((n=e.context)==null?void 0:n.parameterContext)!=null?ue(tl((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveCompletionItems:t=>(t.leftWord=="is"||t.leftWord=="/is")&&t.leftChar==":"?ue(hS(t.project)):ke,resolveDocumentation:t=>K("is Tag","The `is` tag can be used to check whether the currently authenticated user has one or more roles. This tag behaves the same as the `user:is` tag.","https://statamic.dev/tags/user-is")},yS=RB});var kB,NS,vS=E(()=>{re();kB={tagName:"widont",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>qe("widont Tag","The `widont` tag is similar to the [widont modifier](https://statamic.dev/modifiers/widont), and will attempt to prevent lines with a single word from appearing within the tags rendered output.",`{{ widont }}
    {{ content }}
{{ /widont }}`,null)},NS=kB});var td,$m=E(()=>{td=[{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"id",description:"The user ID to fetch",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"email",description:"The email address to find the user by",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"field",description:"The field to fetch the user by",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"value",description:"The value to search for",expectsTypes:["string"],isDynamic:!1}]});var OB,sl,nd=E(()=>{re();Bo();De();$m();OB={tagName:"user:profile",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:td,introducedIn:null,augmentScope:(t,e)=>(e.injectBlueprint(t,"user"),e),resovleParameterCompletionItems:(t,e)=>t.name=="field"?ue(af(e.project.getUserFields())):ke,resolveDocumentation:t=>K("user:profile Tag","The `user:profile` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null)},sl=OB});var IS,CS,PS=E(()=>{re();IS={tagName:"dd",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>qe("dd Tag","The `dd` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered. This tag will stop the template from rendering after it is encountered.  If Ignition is available, this tag will use the [ddd](https://flareapp.io/blog/1-introducing-ddd-a-new-global-helper-for-laravel) method.",`{{ collection:articles }}
	{{#
		View all data available, for the first
		entry that renders the dd tag.
	#}}
    {{ dd }}
{{ /collection:articles }}`,null)},CS={tagName:"ddd",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>qe("ddd Tag","The `ddd` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered. This tag will stop the template from rendering after it is encountered.  If Ignition is available, this tag will use the [ddd](https://flareapp.io/blog/1-introducing-ddd-a-new-global-helper-for-laravel) method.",`{{ collection:articles }}
	{{#
		View all data available, for the first
		entry that renders the ddd tag.
	#}}
    {{ ddd }}
{{ /collection:articles }}`,null)}});var wB,AS,SS=E(()=>{re();wB={tagName:"path",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,acceptsVariableInterpolation:!1,aliases:["src"],allowsVariableReference:!0,description:"The path source",name:"to",isDynamic:!1,expectsTypes:["string"]},{isRequired:!1,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],description:"Whether to generate absolute paths",expectsTypes:["boolean"],isDynamic:!1,name:"absolute"}],resolveDocumentation:t=>K("path Tag","The `path` tag can be used to generate URLs from relative URLs, or an entry ID.",null)},AS=wB});var LB,rd,zm=E(()=>{re();Am();LB={tagName:"user:cant",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,resovleParameterCompletionItems:kf,parameters:[{name:"do",acceptsVariableInterpolation:!1,aliases:["permission"],allowsVariableReference:!1,description:"The permissions to check against",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resolveDocumentation:t=>K("user:cant Tag","The `user:cant` tag is used to check if the currently authenticated user does not have a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user does not have the specified permissions.","https://statamic.dev/tags/user-can#cant")},rd=LB});var DB,xS,ES=E(()=>{DB={tagName:"query",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,parameters:[{name:"builder",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The query to evaluate",expectsTypes:["string"],isRequired:!0,isDynamic:!1}]},xS=DB});var Hi,al=E(()=>{Hi=[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"src",description:"The relative path to the file",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"cache_bust",description:"Whether to output the last modified date",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"version",description:"Whether to check a versioning manifest to produce the final URL",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"absolute",description:"Generate absolute URLs or not",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"locale",description:"The locale the path should be generated in",expectsTypes:["string"],isDynamic:!1}]});var qa,MB,FB,RS,kS=E(()=>{qa=Ge(Dt());De();al();MB=[{label:"asset",kind:qa.CompletionItemKind.Text},{label:"css",kind:qa.CompletionItemKind.Text},{label:"img",kind:qa.CompletionItemKind.Text},{label:"js",kind:qa.CompletionItemKind.Text},{label:"output",kind:qa.CompletionItemKind.Text},{label:"path",kind:qa.CompletionItemKind.Text}],FB={tagName:"theme",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,introducedIn:null,injectParentScope:!1,parameters:Hi,resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="theme"||t.leftWord=="/theme")&&t.leftChar==":"?ue(MB):ke},RS=FB});var Qm,OS,wS=E(()=>{re();Wi();al();Qm={tagName:"theme:path",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:Hi,resolveDocumentation:t=>K("theme:path Tag","The `theme:path` tag may be used to generate URLs for public assets. This tag may also optionally add the current locale, generate relative URLs, or add cache busting URL parameters to the end of the generated URL.",null)},OS=Nt(Qm,"theme:asset")});var VB,LS,DS=E(()=>{re();al();VB={tagName:"theme:css",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...Hi,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]}],resolveDocumentation:t=>K("theme:css Tag","The `theme:css` tag may be used to generate a CSS path relative to a public `css/` directory for any arbitrary file path. This tag may also optionally create the HTML `link` tag.",null)},LS=VB});var BB,MS,FS=E(()=>{re();al();BB={tagName:"theme:img",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...Hi,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]},{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"alt",description:"The alt text to use when generating the HTML tag",expectsTypes:["string"]}],resolveDocumentation:t=>K("theme:img Tag","The `theme:img` tag may be used to generate an image path relative to a public `img/` directory for any arbitrary file path. This tag may also optionally create the HTML `img` tag.",null)},MS=BB});var qB,VS,BS=E(()=>{re();al();qB={tagName:"theme:js",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...Hi,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]}],resolveDocumentation:t=>K("theme:js Tag","The `theme:js` tag may be used to generate a JavaScript path relative to a public `js/` directory for any arbitrary file path. This tag may also optionally create the HTML `script` tag.",null)},VS=qB});var UB,qS,US=E(()=>{re();UB={tagName:"theme:output",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],name:"src",description:"The path to the file",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],name:"as",description:"An optional alias for the contents variable",expectsTypes:["string"],isDynamic:!1}],augmentScope:(t,e)=>{if(t.isClosedBy!=null){let n=t.findParameter("as");n!=null?e.addVariable({name:n.value,dataType:"string",sourceField:null,sourceName:"*internal.theme.context",introducedBy:t}):e.addVariable({name:"output_contents",dataType:"string",sourceField:null,sourceName:"*internal.theme.context",introducedBy:t})}return e},resolveDocumentation:t=>K("theme:output Tag","The `theme:output` tag may be used to output the contents of any arbitrary file, relative to the site's `resources/` directory.",null)},qS=UB});var jB,jS,GS=E(()=>{re();jB={tagName:"scope",hideFromCompletions:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>qe("scope Tag","The `scope` tag creates a copy of all available variables, and saves them to a new  *array* variable defined by the tag's method part.",`{{ scope:scope_name }}
    {{ scope_name:title }}
{{ /scope:scope_name }}
`,null)},jS=jB});var GB,WS,HS=E(()=>{re();_n();GB={tagName:"if",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:it,resolveDocumentation:t=>K("if Conditional Control Structure","The contents of the `if` tag will be rendered when it's expression evaluates to `true`.","https://statamic.dev/antlers#conditions")},WS=GB});var WB,YS,KS=E(()=>{re();_n();WB={tagName:"elseif",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:it,resolveDocumentation:t=>K("elseif Conditional Control Structure","The contents of the `elseif` tag will be rendered when it's expression evaluates to `true`.","https://statamic.dev/antlers#conditions")},YS=WB});var HB,$S,zS=E(()=>{re();HB={tagName:"else",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDocumentation:t=>K("else Conditional Control Structure","The contents of the `else` control structure will be evaluated when all previous conditional branch conditions were not met.","https://statamic.dev/antlers#conditions")},$S=HB});var YB,id,Xm=E(()=>{re();_n();YB={tagName:"session:has",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!0,parameters:[],introducedIn:"3.1.28",resolveDynamicParameter:it,resolveDocumentation:t=>K("session:has Tag","The `session:has` tag can be used to determine of the user's session contains a specific variable.","https://statamic.dev/tags/session-has")},id=YB});var QS,KB,$B,XS,JS=E(()=>{QS=Ge(Dt());Rm();Ar();De();Sm();wm();Om();km();Xm();Em();KB=[Re(Mf),Re(Bf),Re(Ff),Re(Vf),Re(id),Re(Df)],$B={tagName:"session",requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",description:"An optional alias for the session data",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveCompletionItems:t=>{var e,n;if(t.isPastTagPart==!1&&(t.leftWord=="session"||t.leftWord=="/session")&&t.leftChar==":"){let r=(n=(e=Ac.instance)==null?void 0:e.getKnownSessionVariableNames())!=null?n:[],i=[];i=i.concat(KB);for(let s=0;s<r.length;s++)i.push({label:r[s],kind:QS.CompletionItemKind.Variable});return ue(i)}return ke},augmentScope:(t,e)=>{var s,o;let n=t.findParameter("as"),r=(o=(s=Ac.instance)==null?void 0:s.getKnownSessionVariableNames())!=null?o:[],i=[];for(let l=0;l<r.length;l++)i.push({dataType:"*",name:r[l],sourceField:null,sourceName:"project.session",introducedBy:t});return n==null?e.addVariables(i):e.addVariableArray(n.value,i),e}},XS=$B});var xc,Jm,Zm=E(()=>{re();Wi();_n();xc={tagName:"user:forgot_password_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",description:"Where the user should be taken after submitting the form",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:it,augmentScope:(t,e)=>(e.addVariables([{name:"success",dataType:"boolean",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t},{name:"url_invalid",dataType:"boolean",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t},{name:"errors",dataType:"array",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t}]),e),resolveDocumentation:t=>K("user:forgot_password_form Tag",'The `user:forgot_password_form` tag is used to quickly create a "forgot password" form for site users.',"https://statamic.dev/tags/user-forgot_password_form")},Jm=Nt(xc,"member:forgot_password_form");Jm.resolveDocumentation=t=>K("member:forgot_password_form Tag",'The `member:forgot_password_form` tag is used to quickly create a "forgot password" form for site users.',"https://statamic.dev/tags/user-forgot_password_form")});var Ec,eg,tg=E(()=>{re();Wi();_n();Ec={tagName:"user:reset_password_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",description:"Where the user should be taken after submitting the form",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:it,augmentScope:(t,e)=>(e.addVariables([{name:"success",dataType:"boolean",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t},{name:"url_invalid",dataType:"boolean",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t},{name:"errors",dataType:"array",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t}]),e),resolveDocumentation:t=>K("user:reset_password_form Tag","The `user:reset_password_form` tag is used to quickly create password reset forms. Forms created with this tag should be displayed after a user has received and clicked a password reset email link.","https://statamic.dev/tags/user-reset_password_form")},eg=Nt(Ec,"member:reset_password_form");eg.resolveDocumentation=t=>K("member:reset_password_form Tag","The `member:reset_password_form` tag is used to quickly create password reset forms. Forms created with this tag should be displayed after a user has received and clicked a password reset email link.","https://statamic.dev/tags/user-reset_password_form")});function ZS(t,e){return{sourceName:e.blueprintName,dataType:e.type,name:e.name,sourceField:e,introducedBy:t}}function ex(t){let e=new Map;for(let n=0;n<t.length;n++)e.set(t[n].name,t[n]);return e}function ol(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push({sourceName:i.blueprintName,dataType:i.type,name:i.name,sourceField:i,introducedBy:t})}return n}var Rc=E(()=>{});function sd(t){return[{name:"handle",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"display",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"type",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"field",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"error",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"instructions",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"old",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t}]}var ng=E(()=>{});var kc,rg,ig=E(()=>{re();Rc();ng();Wi();_n();kc={tagName:"user:register_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after registering",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after failed registration attempts",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override the redirect and error_redirect parameters",acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:it,augmentScope:(t,e)=>{e.addVariableArray("fields",sd(t)),e.addVariable({name:"errors",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"old",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"error",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"success",dataType:"string",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t});let n=e.statamicProject.getUserFields();if(n.length>0){let r=ol(t,n);e.addVariableArray("old",r),e.addVariableArray("error",r)}return e},resolveDocumentation:t=>K("user:register_form  Form Tag","The `user:register_form` tag can be used to build out public registration forms for new users.","https://statamic.dev/tags/user-register_form")},rg=Nt(kc,"member:register_form");rg.resolveDocumentation=t=>K("member:register_form Tag","The `member:register_form` tag can be used to build out public registration forms for new users.","https://statamic.dev/tags/user-register_form")});var zB,QB,ad,sg=E(()=>{re();Bo();Ar();De();Of();zm();Zm();Zf();ed();wf();Lf();Jf();tg();nd();$m();ig();zB=[Re(rl),Re(nl),Re(il),Re(sl),Re(zo),Re(rd),Re(xc),Re(Qo),Re(Xo),Re(kc),Re(Ec)],QB={tagName:"user",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:td,introducedIn:null,resovleParameterCompletionItems:(t,e)=>e.isPastTagPart==!1&&e.currentNode!=null&&e.currentNode.methodIsEmptyOrMatches("profile")&&t.name=="field"?ue(af(e.project.getUserFields())):ke,augmentScope:(t,e)=>(t.methodIsEmptyOrMatches("profile")&&e.injectUserFields(t),e),resolveCompletionItems:t=>(t.leftWord=="user"||t.leftWord=="/user"||t.leftWord=="member"||t.leftWord=="/member")&&t.leftChar==":"?ue(zB):ke,resolveDocumentation:t=>K("user Tag","The `user` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null)},ad=QB});var od,ag,og,lg,cg,ug,fg,dg,pg,tx=E(()=>{re();Wi();sg();Of();Km();Zf();ed();wf();Lf();Jf();nd();od=Nt(ad,"member"),ag=Nt(rl,"member:is"),og=Nt(il,"member:isnt"),lg=Nt(sl,"member:profile"),cg=Nt(zo,"member:can"),ug=Nt(Qo,"member:logout"),fg=Nt(Xo,"member:logout_url"),dg=Nt(Xf,"member:in"),pg=Nt(nl,"member:not_in");od.hideFromCompletions=!0;od.resolveDocumentation=t=>K("member Tag","The `member` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null);ag.resolveDocumentation=t=>K("member:is Tag","The `member:is` tag can be used to check whether the currently authenticated user has one or more roles.","https://statamic.dev/tags/user-is");og.resolveDocumentation=t=>K("member:isnt Tag","The `member:isnt` tag can be used to check whether the currently authenticated user does not have one or more roles.","https://statamic.dev/tags/user-is#isnt");lg.resolveDocumentation=t=>K("member:profile Tag","The `member:profile` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null);cg.resolveDocumentation=t=>K("member:can Tag","The `member:can` tag is used to check if the currently authenticated user has a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user has the specified permissions.","https://statamic.dev/tags/user-can");ug.resolveDocumentation=t=>K("member:logout Tag","The `member:logout` tag will sign out the currently authenticated user. An optional `redirect` parameter may be used to redirect the visitor to a different page after being logged out.","https://statamic.dev/tags/user-logout");fg.resolveDocumentation=t=>qe("member:logout_url","The `member:logout_url` tag can be used to retrieve the URL that will sign the current user out.",'<a href="{{ member:logout_url }}">Log out</a>',"https://statamic.dev/tags/user-logout_url");dg.resolveDocumentation=t=>K("member:in Tag","The `member:in` tag can be used to check if the currently authenticated user belongs to one or more user groups. When used as a tag pair, the tag contents will only be rendered if the user belongs to the specified groups.","https://statamic.dev/tags/user-in");pg.resolveDocumentation=t=>K("member:not_in Tag","The `member:not_in` tag can be used to check if the currently authenticated user does not belong to one or more user groups. When used as a tag pair, the tag contents will be rendered if the user does not belong to the specified groups.","https://statamic.dev/tags/user-in#not-in")});function Qs(t){return[{name:"title",dataType:"string",sourceField:null,sourceName:"*internal.routeable",introducedBy:t},{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.routeable",introducedBy:t}]}var ld=E(()=>{});function nx(t,e){var n,r,i,s,o,l,u,d;if(e.nodesInScope.length>0){let h=e.nodesInScope[e.nodesInScope.length-1];if(h!=null&&h.currentScope!=null){let m=ll(h,e.project),y=e.project.getTaxonomyBlueprintFields(m),b=y.map(x=>x.name),T=hs(e.leftWord);if(b.includes(T))return ue(Ws(e))}}return t.name=="collection"&&((n=e.context)==null?void 0:n.parameterContext)!=null?ue(jo((s=(i=(r=e.context)==null?void 0:r.parameterContext.parameter)==null?void 0:i.getArrayValue())!=null?s:[],e.project)):t.name=="filter"||t.name=="query_scope"?ue(cf(e.project)):gg.includes(t.name)&&((o=e.context)==null?void 0:o.parameterContext)!=null?ue(rx((d=(u=(l=e.context)==null?void 0:l.parameterContext.parameter)==null?void 0:u.getArrayValue())!=null?d:[],e.project)):null}var hg,mg,gg,Tg=E(()=>{_c();ms();De();Go();cd();hg=["from","taxonomy","is","use","folder"],mg=["not_from","not_in","dont_use","not_taxonomy"],gg=hg;gg=gg.concat(mg)});function ll(t,e){let n=[];if(t.hasMethodPart())return n.push(t.getMethodNameValue()),n;let r=t.findAnyParameter(hg),i=t.findAnyParameter(mg),s=[],o=[];return typeof r!="undefined"&&r!==null&&(r.value.trim()==="*"?(s=e.getUniqueTaxonomyNames(),typeof i!="undefined"&&i!==null&&i.isVariableReference==!1&&i.hasInterpolations()==!1&&(o=i.getArrayValue())):r.isVariableReference==!1&&r.hasInterpolations()==!1&&(s=r.getArrayValue())),o.length>0?n=s.filter(function(l){return o.includes(l)==!1}):n=s,n}function rx(t,e){let n=[],r=e.getUniqueTaxonomyNames().filter(i=>!t.includes(i));for(let i=0;i<r.length;i++)n.push({label:r[i],kind:ix.CompletionItemKind.Variable});return n}var ix,cd=E(()=>{ix=Ge(Dt());Tg()});function sx(t,e){let n=ll(t,e.statamicProject),r=e.statamicProject.getTaxonomyBlueprintFields(n),i=t.findParameter("collection");if(e.addBlueprintFields(t,r),e.addVariables([{name:"first",dataType:"boolean",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"last",dataType:"boolean",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"count",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"index",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"total_results",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"entries_count",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t}]),e.addVariables(Qs(t)),typeof i!="undefined"&&i!==null){let s=i.getArrayValue();if(s.length>0){let o=e.statamicProject.getBlueprintFields(s);e.introduceScopedAliasScope(t,"entries","entries",o).addVariables(Hs(t))}else e.addVariableArray("entries",Qs(t).concat(Hs(t)))}else e.addVariableArray("entries",Qs(t).concat(Hs(t)));return e}var ax=E(()=>{yc();ld();cd()});var XB,ox,lx=E(()=>{XB=[{name:"from",description:"The taxonomy to use",aliases:["taxonomy","is","use","folder"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1,isRequired:!1},{name:"not_from",description:"Taxonomies to exclude",aliases:["not_in","not_folder","dont_use","not_taxonomy"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["string","array"],isRequired:!1,isDynamic:!1},{name:"min_count",description:"The minimum number of entries a taxonomy term must have to be returned",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"collection",description:"Filter the terms to those that appear in the specified collections",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string","array"],isDynamic:!1,isRequired:!1},{name:"sort",description:"The field to sort terms by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{isRequired:!1,name:"filter",aliases:["query_scope"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Specifies a custom query scope",expectsTypes:["string"],isDynamic:!1}],ox=XB});function cx(t){var n,r;let e=[];if(t.currentNode!=null&&t.currentNode.currentScope!=null){let i=ll(t.currentNode,t.project),s=t.project.getTaxonomyBlueprintFields(i),o=s.map(u=>u.name),l=hs(t.leftWord);if(o.includes(l))return ue(Ws(t));if(t.isCaretInTag&&!((n=t.context)==null?void 0:n.interpolatedContext)&&["taxonomy","/taxonomy"].includes(t.leftWord)==!1){let u=[];for(let d=0;d<s.length;d++){let h=s[d];u.includes(h.name)==!1&&(e.push({label:h.name,detail:h.blueprintName,documentation:(r=h.instructionText)!=null?r:"",kind:_g.CompletionItemKind.Field}),u.push(h.name))}if(e.length>0)return kn(e)}}if((t.leftWord=="taxonomy"||t.leftWord=="/taxonomy")&&t.leftChar==":"){let i=t.project.getUniqueTaxonomyNames();for(let s=0;s<i.length;s++)e.push({label:i[s],kind:_g.CompletionItemKind.Field});return kn(e)}return ke}var _g,ux=E(()=>{_g=Ge(Dt());_c();ms();De();cd()});var JB,fx,dx=E(()=>{re();_n();ax();lx();ux();Tg();JB={tagName:"taxonomy",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,introducedIn:null,injectParentScope:!1,parameters:ox,resolveDynamicParameter:it,resolveCompletionItems:cx,resovleParameterCompletionItems:nx,augmentScope:sx,resolveDocumentation:t=>K("taxonomy Tag","The `taxonomy` tag may be used to retrieve taxonomy entries. The taxonomy tag can also be used to access entries associated with any given taxonomy term.","https://statamic.dev/tags/taxonomy")},fx=JB});function px(t,e){e.addVariables([{name:"is_published",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_page",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_entry",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"has_entries",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_parent",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_current",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_external",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"depth",dataType:"number",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"children",dataType:"array",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"count",dataType:"integer",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"index",dataType:"integer",sourceField:null,sourceName:"*internal.nav",introducedBy:t}]);let n=e.statamicProject.getUniqueCollectionNames(),r=[],i=!1;if(t.hasMethodPart()){let s=t.getMethodNameValue().trim().toLowerCase();if(s.startsWith("collection:")){let o=s.split(":").pop();i=!0,r.push(o)}else s=="pages"?(i=!0,r.push("pages")):(i=!1,r.push(s))}else{let s=t.findParameter("handle");s!=null&&(n.includes(s.value)?i=!0:i=!1,r.push(s.value))}if(i){let s=e.statamicProject.getBlueprintFields(r);e.addBlueprintFields(t,s),e.expandScopedAliasScope(t,"page","page",s)}else{let s=lf(Qs(t));e.addBlueprintFields(t,s),e.expandScopedAliasScope(t,"page","page",s)}return e}var hx=E(()=>{lm();ld()});var ZB,ud,yg=E(()=>{re();ld();ZB={tagName:"nav:breadcrumbs",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,introducedIn:null,injectParentScope:!1,parameters:[{name:"include_home",description:"Whether to include the home page in the first level",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1},{name:"reverse",description:"Whether to reverse the order of links",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isRequired:!1,isDynamic:!1},{name:"trim",description:"Whether to trim the whitespace after each iteration of the loop",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],augmentScope:(t,e)=>(e.addVariables([{name:"is_current",dataType:"boolean",sourceName:"*internal.nav.breadcrumbs",sourceField:null,introducedBy:t}]),e.addVariables(Qs(t)),e),resolveDocumentation:t=>K("nav:breadcrumbs Tag","The `nav:breadcrumbs` tag can be used to retrieve the URLs of all pages that make up the current URL back to the site's home page.","https://statamic.dev/tags/nav-breadcrumbs")},ud=ZB});function mx(t,e){if(t.name=="handle"){let n=e.project.getUniqueCollectionNames(),r=e.project.getUniqueNavigationMenuNames(),i=[];return i=n,i=i.concat(r),i=[...new Set(i)],kt(i)}return null}var gx=E(()=>{De()});var eq,Tx,_x=E(()=>{eq=[{isRequired:!1,acceptsVariableInterpolation:!1,aliases:["handle"],allowsVariableReference:!1,name:"for",description:"The navigation or collection to use",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],name:"from",description:"The starting point for the navigation",allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"show_unpublished",description:"Whether to include unpublished content",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"include_home",description:"Whether to include the home page in the tree",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"max_depth",description:"The maximum depth of the navigation or structure",expectsTypes:["number"],isDynamic:!1}],Tx=eq});var bg,Ng,yx,bx=E(()=>{bg=Ge(Dt());re();Bo();Ar();De();Wi();hx();yg();gx();_x();Ng={tagName:"structure",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,injectParentScope:!1,parameters:Tx,augmentScope:px,resovleParameterCompletionItems:mx,resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="nav"||t.leftWord=="/nav"||t.leftWord=="structure"||t.leftWord=="/structure")&&t.leftChar==":"){let n=t.project.getUniqueNavigationMenuNames();for(let r=0;r<n.length;r++)e.push(Vo(n[r],"",""));return(t.leftWord=="nav"||t.leftWord=="/nav")&&e.push(Re(ud)),e.push(Vo("collection","","")),e.push({label:"collection",kind:bg.CompletionItemKind.Text}),kn(e)}if((t.leftWord=="nav:collection"||t.leftWord=="/nav:collection"||t.leftWord=="collection"||t.leftWord=="/collection"||t.leftWord=="structure:collection"||t.leftWord=="/structure:collection")&&t.leftChar==":"){let n=t.project.getUniqueCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:bg.CompletionItemKind.Field});return kn(e)}return ke},resolveDocumentation:t=>K("nav Tag","The `nav` tag can be used to iterate structured collections or navigation menus.","https://statamic.dev/tags/nav")},yx=Nt(Ng,"nav")});function Nx(t){return[{name:"success",dataType:"string",sourceField:null,sourceName:"*internal.forms",introducedBy:t},{name:"submission_created",dataType:"boolean",sourceField:null,sourceName:"*internal.forms",introducedBy:t}]}var vx=E(()=>{});var tq,Yi,cl=E(()=>{tq={name:"in",description:"The form to use",acceptsVariableInterpolation:!0,aliases:["handle","is","form","formset"],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},Yi=tq});var vg,nq,Ix,Cx=E(()=>{vg=Ge(Dt()),nq=[{label:"GET",kind:vg.CompletionItemKind.EnumMember},{label:"POST",kind:vg.CompletionItemKind.EnumMember}],Ix=nq});function ul(t,e){return Si.includes(t.name)?kt(e.project.getUniqueFormNames()):t.name=="method"?ue(Ix):t.name=="files"?ue(bc):null}var Si,gs=E(()=>{pm();Cx();De();Si=["in","handle","is","form","formset"]});function Ki(t,e){let n=t.structure.findParentWithName("form:set");return n!=null?{context:n,issues:[]}:{context:null,issues:[]}}var fl=E(()=>{});function Ua(t){if(t.reference!=null&&"tagPart"in t.reference){let r=t.reference;if(r.nameMatches("form:set"))return Ua(r)}let e=t.findAnyParameter(Si),n=t.getMethodNameValue();return n!=null&&rq.includes(n)==!1?n:typeof e!="undefined"&&e!==null&&e.containsSimpleValue()?e.value:""}var rq,fd=E(()=>{gs();rq=["set","create","errors","success","submissions","submission"]});var iq,dd,Ig=E(()=>{re();Rc();ng();vx();_n();cl();gs();fl();fd();iq={tagName:"form:create",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[Yi,{name:"method",description:"The HTTP method to use",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"files",description:"Indicates if the form sends file data",aliases:[],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1},{name:"redirect",description:"The location to redirect users after a successful form submission",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",description:"The location to redirect users to after a failed form submission",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override redirect or error_redirect",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveSpecialType:Ki,resovleParameterCompletionItems:ul,resolveDynamicParameter:it,augmentScope:(t,e)=>{e.addVariables(Nx(t)),e.addVariable({dataType:"array",name:"errors",sourceField:null,sourceName:"*internal.forms",introducedBy:t}),e.addVariableArray("fields",sd(t));let n=Ua(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n),i=ol(t,r);e.addVariableArray("old",i),e.addVariableArray("error",i)}return e},resolveDocumentation:t=>K("form:create Tag","The `form:create` tag can be used to access form data, generate field HTML markup, and handle form validation errors.","https://statamic.dev/tags/form-create")},dd=iq});var sq,pd,Cg=E(()=>{re();De();cl();gs();fl();sq={tagName:"form:errors",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[Yi],resolveSpecialType:Ki,resovleParameterCompletionItems:(t,e)=>Si.includes(t.name)?kt(e.project.getUniqueFormNames()):null,resolveDocumentation:t=>K("form:errors Tag","The `form:errors` tag can be used to retrieve validation errors after a user has submitted a form.","https://statamic.dev/tags/form-errors")},pd=sq});var aq,hd,Pg=E(()=>{re();gs();aq={tagName:"form:set",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"in",description:"The form to use",acceptsVariableInterpolation:!0,aliases:["handle","is","form","formset"],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!0}],resovleParameterCompletionItems:ul,resolveDocumentation:t=>K("form:set Tag","The `form:set` tag can be used to set the form handle on all nested form tags.","https://statamic.dev/tags/form-set")},hd=aq});var oq,md,Ag=E(()=>{re();De();cl();gs();fl();fd();oq={tagName:"form:submission",requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[Yi],resolveSpecialType:Ki,resovleParameterCompletionItems:(t,e)=>Si.includes(t.name)?kt(e.project.getUniqueFormNames()):null,augmentScope:(t,e)=>{let n=Ua(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n);e.addBlueprintFields(t,r)}return e},resolveDocumentation:t=>K("form:submission Tag","The `form:submission` tag can be used to access the form submission submitted by the current user.","https://statamic.dev/tags/form-submission")},md=oq});var lq,gd,Sg=E(()=>{re();De();cl();gs();fl();fd();lq={tagName:"form:submissions",allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,introducedIn:null,parameters:[Yi],resolveSpecialType:Ki,resovleParameterCompletionItems:(t,e)=>Si.includes(t.name)?kt(e.project.getUniqueFormNames()):null,augmentScope:(t,e)=>{if(t.isClosingTag)return e;let n=Ua(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n);e.addBlueprintFields(t,r)}return e.addVariable({name:"date",dataType:"date",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e.addVariable({name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e.addVariable({name:"total_results",dataType:"number",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e},resolveDocumentation:t=>K("form:submissions Tag","The `form:submissions` tag can be used to fetch previously saved submissions for a form.","https://statamic.dev/tags/form-submissions")},gd=lq});var cq,Td,xg=E(()=>{re();De();cl();gs();fl();cq={tagName:"form:success",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[Yi],resolveSpecialType:Ki,resovleParameterCompletionItems:(t,e)=>Si.includes(t.name)?kt(e.project.getUniqueFormNames()):null,resolveDocumentation:t=>K("form:success Tag","The `form:success` tag can be used to check if a form submission was successful or not.","https://statamic.dev/tags/form-success")},Td=cq});var Px,uq,fq,Ax,Sx=E(()=>{Px=Ge(Dt());Ar();De();Ig();Cg();Pg();Ag();Sg();xg();gs();uq=[Re(hd),Re(dd),Re(pd),Re(Td),Re(gd),Re(md)],fq={tagName:"form",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[],resovleParameterCompletionItems:ul,resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="form"||t.leftWord=="/form")&&t.leftChar==":"){let n=t.project.getUniqueFormNames();e=e.concat(uq);for(let r=0;r<n.length;r++)e.push({label:n[r],kind:Px.CompletionItemKind.Field});return kn(e)}return ke}},Ax=fq});function xx(t){return[{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"title",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"content",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"is_entry",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"is_term",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"count",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"index",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"search_score",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"_highlightResult",dataType:"array",sourceField:null,sourceName:"*internal.search.results",introducedBy:t}]}var Eg,dq,Ex,Rx=E(()=>{re();Ar();De();Eg={tagName:"search:results",allowsArbitraryParameters:!1,requiresClose:!0,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"index",description:"The index to search in",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"query",description:"The query string parameter to use",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"limit",description:"The maximum number of search results to return",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1,expectsTypes:["number"]},{name:"offset",description:"The number of results to skip",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1,expectsTypes:["number"]},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets whether not to paginate entry results",expectsTypes:["boolean"],isRequired:!1,name:"paginate",isDynamic:!1},{name:"as",description:"Specifies an alias for search results",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"supplement_data",description:"Controls whether non-indexed fields are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resovleParameterCompletionItems:(t,e)=>t.name=="index"?kt(e.project.getSearchIndexes()):null,augmentScope:(t,e)=>{e.addVariables([{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"total_results",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t}]);let n=t.findParameter("as");return n!=null&&n.value.trim().length>0?e.addVariableArray(n.value,xx(t)):e.addVariables(xx(t)),e},resolveDocumentation:t=>K("search:results Tag","The `search:results` tag provides access to all data that was returned as a result of a user's search.","https://statamic.dev/tags/search")},dq=[Re(Eg)];Ex={tagName:"search",allowsArbitraryParameters:!1,requiresClose:!0,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="search"||t.leftWord=="/search")&&t.leftChar==":"?kn(dq):ke}});function Rg(t){return[{name:"email",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t},{name:"password",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t}]}var kg,kx,Ox=E(()=>{re();Wi();_n();kg={tagName:"user:login_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after logging in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after failed login attempts",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override the redirect and error_redirect parameters",acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:it,augmentScope:(t,e)=>(e.addVariables([{name:"errors",dataType:"array",sourceName:"*internal.user.login",sourceField:null,introducedBy:t},{name:"success",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t}]),e.addVariables(Rg(t)),e.addVariableArray("old",Rg(t)),e.addVariableArray("error",Rg(t)),e),resolveDocumentation:t=>K("user:login_form Tag","The `user:login_form` tag can be used to quickly create a form that users can use to authenticate with the site.","https://statamic.dev/tags/user-login_form")},kx=Nt(kg,"member:login_form")});var pq,wx,Lx=E(()=>{re();pq={tagName:"noparse",requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>K("noparse Tag","The `noparse` tag is used prevent blocks of Antlers code from being parsed, removing the need to escape individual Antlers code regions.","https://statamic.dev/antlers#the-noparse-tag")},wx=pq});var hq,Dx,Mx=E(()=>{re();_n();hq={tagName:"unless",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:it,resolveDocumentation:t=>K("unless Conditional Control Structure","The `unless` control structure operates the same as an `if` statement, but has it's logic inverted.","https://statamic.dev/antlers#conditions")},Dx=hq});var mq,Fx,Vx=E(()=>{re();_n();mq={tagName:"elseunless",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:it,resolveDocumentation:t=>K("elseunless Conditional Control Structure","The `elseunless` control structure operates the same as an `elseif` statement, but has it's logic inverted.","https://statamic.dev/antlers#conditions")},Fx=mq});var Bx,qx,Ux=E(()=>{Bx=Ge(Ci());re();De();qx={tagName:"installed",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!0,introducedIn:"3.1.19",parameters:[],resolveCompletionItems:t=>{if(t.project!=null){let e=t.project.getComposerPackages(),n=[];return e.forEach((r,i)=>{n.push({label:r.name,kind:Bx.CompletionItemKind.Text})}),ue(n)}return ke},resolveDocumentation:t=>qe("installed Tag","The `installed` tag is used to check if the site has a specific Composer package available.",`{{ if {installed:composer/package-name} }}
    {{# Package is availabl.e #}}
{{ else }}
    {{# Something else. #}}
{{ /if }}`,"https://statamic.dev/tags/installed")}});var gq,jx,Gx=E(()=>{gq={tagName:"relate",hideFromCompletions:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,introducedIn:null,parameters:[]},jx=gq});var dl,_d=E(()=>{dl=[{name:"bag",description:"The error message bag to retrieve errors from.",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1}]});var Tq,Wx,Hx=E(()=>{re();_d();Tq={tagName:"get_errors",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:dl,introducedIn:"3.2.23",augmentScope:(t,e)=>{var n;if(t.isClosingTag)return e;if(((n=t.name)==null?void 0:n.methodPart)==null){let r=e.copy();r.addVariable({dataType:"string",introducedBy:t,name:"field",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"field",refFieldSetField:null,sets:null,type:"string"}});let i=r.copy();i.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),r.addScopeList("messages",i),e.addScopeList("fields",r)}else{let r=e.copy();r.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e.addScopeList("messages",r)}return e},resolveDocumentation:t=>K("get_errors Tag","The `get_errors` tag can be used to retrieve form validation errors.","https://statamic.dev/tags/get_errors")},Wx=Tq});var _q,Yx,Kx=E(()=>{re();_d();_q={tagName:"get_errors:all",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:dl,introducedIn:null,augmentScope:(t,e)=>{if(t.isClosingTag)return e;let n=e.copy();return n.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors.all",sourceField:{blueprintName:"*internal.tag.get_errors.all",displayName:"get_errors:all",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e.addScopeList("messages",n),e},resolveDocumentation:t=>K("get_errors:all Tag","The `get_errors:all` tag can be used to retrieve all form validation errors.","https://statamic.dev/tags/get_errors#list-all-validation-errors")},Yx=_q});var yq,$x,zx=E(()=>{re();_d();yq={tagName:"get_error",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:dl,introducedIn:null,augmentScope:(t,e)=>(t.isClosingTag||e.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_error",sourceField:{blueprintName:"*internal.tag.get_error",displayName:"get_error",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e),resolveDocumentation:t=>K("get_error Tag","The `get_error` tag can be used to retrieve the first error message for a specific field.","https://statamic.dev/tags/get_errors#get-the-first-error-for-a-specific-field")},$x=yq});var bq,Qx,Xx=E(()=>{bq={tagName:"set",hideFromCompletions:!0,allowsArbitraryParameters:!0,requiresClose:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[]},Qx=bq});var Jx,Nq,Zx,eE=E(()=>{Jx=Ge(Ci());re();De();Go();Nq={tagName:"mount_url",hideFromCompletions:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:"3.3.15",parameters:[{isRequired:!1,acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The collection handle",name:"handle",isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>K("mount Tag","The `mount` tag can be used to retrieve the mount URL for a given collection.",null),resovleParameterCompletionItems:(t,e)=>{var n,r,i,s;return t.name=="handle"&&((n=e.context)==null?void 0:n.parameterContext)!=null?ue(jo((s=(i=(r=e.context)==null?void 0:r.parameterContext.parameter)==null?void 0:i.getArrayValue())!=null?s:[],e.project)):null},resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="mount_url"||t.leftWord=="/mount_url")&&t.leftChar==":"){let n=t.project.getCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:Jx.CompletionItemKind.Field,sortText:"0"})}return{items:e,analyzeDefaults:!1,isExclusiveResult:!1}}},Zx=Nq});var vq,tE,nE=E(()=>{re();vq={tagName:"vite",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"src",description:"The entry point",expectsTypes:["string"],isDynamic:!1}],resolveDocumentation:t=>qe("vite Tag","Generates Vite tags for an entrypoint.",'{{ vite src="entry/point" }}',null)},tE=vq});var Iq,rE,iE=E(()=>{re();Iq={tagName:"nocache",requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>qe("nocache Tag","The `nocache` tag is used to mark regions of a template. These regions will continue to update even when using caching strategies such as the full or half-measure cache.",`{{ nocache }} 
    <!-- This content will remain dynamic. -->
{{ /nocache }}`,"https://statamic.dev/tags/nocache")},rE=Iq});function yd(t){return[{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.user.permissions",introducedBy:t},{name:"total_results",dataType:"integer",sourceField:null,sourceName:"*internal.user.permissions",introducedBy:t},{name:"handle",dataType:"string",sourceField:null,sourceName:"*internal.user.permissions",introducedBy:t}]}var Og=E(()=>{});var Cq,sE,aE=E(()=>{re();Og();Cq={tagName:"user_roles",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,injectParentScope:!1,introducedIn:"3.3.31",requiresClose:!1,parameters:[{name:"handle",description:"A list of role handles to include",aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1,acceptsVariableInterpolation:!0}],augmentScope:(t,e)=>(t.isClosingTag||e.addVariables(yd(t)),e),resolveDocumentation:t=>K("user_roles Tag","The `user_roles` tag can be used to return information about a site's user roles.",null)},sE=Cq});var Pq,oE,lE=E(()=>{re();Og();Pq={tagName:"user_groups",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,injectParentScope:!1,introducedIn:"3.3.31",requiresClose:!1,parameters:[{name:"handle",description:"A list of group handles to include",aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1,acceptsVariableInterpolation:!0}],augmentScope:(t,e)=>(t.isClosingTag||e.addVariables(yd(t)),e),resolveDocumentation:t=>K("user_groups Tag","The `user_groups` tag can be used to return information about a site's user groups.",null)},oE=Pq});var Aq,bd,wg=E(()=>{Aq={tagName:"cookie:forget",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[{name:"keys",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"The keys to forget",expectsTypes:["string"],isDynamic:!1,isRequired:!0}]},bd=Aq});var Sq,Nd,Lg=E(()=>{Sq={tagName:"cookie:has",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[{name:"key",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"The cookie name to check for existence",expectsTypes:["string"],isDynamic:!1,isRequired:!0}]},Nd=Sq});var xq,vd,Dg=E(()=>{xq={tagName:"cookie:set",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[{name:"minutes",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"The lifetime of the cookie, in minutes",expectsTypes:["string"],isDynamic:!1,isRequired:!0}]},vd=xq});var Eq,Id,Mg=E(()=>{Eq={tagName:"cookie:value",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[{name:"key",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"The cookie name to retrieve the value for",expectsTypes:["string"],isDynamic:!1,isRequired:!0}]},Id=Eq});var Rq,kq,cE,uE=E(()=>{Ar();De();wg();Lg();Dg();Mg();Rq=[Re(bd),Re(Id),Re(vd),Re(Nd)],kq={tagName:"cookie",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[],resolveCompletionItems:t=>(t.leftWord=="cookie"||t.leftWord=="/cookie")&&t.leftChar==":"?ue(Rq):ke},cE=kq});var fE,dE=E(()=>{OP();LP();MP();VP();qP();GP();QP();ym();JP();tA();Of();wf();Lf();cA();fA();Sm();Em();km();Om();wm();gA();Lm();NA();PA();RA();OA();LA();FA();BA();UA();YA();$A();JA();rS();aS();uS();dS();Km();Jf();Zf();ed();yf();bm();gS();_S();bS();vS();nd();PS();SS();zm();ES();kS();wS();DS();FS();BS();US();Gm();GS();HS();KS();zS();JS();_m();tx();dx();bx();yg();Sx();Pg();Ig();Ag();xg();Sg();Cg();sg();Rx();Ox();tg();ig();Lx();Mx();Vx();Ux();Gx();Xm();Cm();Ym();Zm();vm();Im();Hx();Kx();zx();Xx();eE();nE();iE();aE();lE();Wm();uE();wg();Lg();Dg();Mg();fE=[WS,YS,$S,Dx,Fx,qA,HA,kP,If,La,Cf,vf,Nf,cE,bd,Nd,vd,Id,jx,Ax,dd,md,gd,hd,Td,pd,Qx,Wx,$x,Yx,Ex,Eg,zP,Sf,xf,FP,TS,DP,CS,IS,wP,KA,XA,nS,Kf,$f,BP,UP,jP,iS,sS,XP,Ef,cS,Qf,fS,Zx,yx,Ng,ud,eA,ZP,Xf,mS,nl,rl,yS,qx,sE,oE,ad,il,zo,rd,Qo,Xo,sl,kg,Ec,xc,kc,od,ag,og,lg,cg,ug,fg,dg,pg,kx,eg,Jm,rg,wx,rE,oA,lA,uA,kA,wA,AS,CA,bA,jS,EA,XS,Bf,Vf,Ff,Mf,id,Df,VA,fx,RS,Qm,OS,LS,MS,VS,qS,Gf,MA,Fm,xS,mA,qf,NS,tE]});var pE,Xs,Hn,wa=E(()=>{pE=Ge(Ci());Yl();NC();Bo();Mi();dE();Xs=class{constructor(){this.tags=new Map;this.parameters=new Map}reset(){this.tags.clear(),this.parameters.clear(),this.loadCoreTags()}getVisibleTagsWithDocumentation(){let e=[];return this.tags.forEach((n,r)=>{if(n.hideFromCompletions==!1){let i="";n.resolveDocumentation!=null&&(i=n.resolveDocumentation()),e.push({label:r,documentation:i})}}),e}getVisibleTagNames(){let e=[];return this.tags.forEach((n,r)=>{n.hideFromCompletions==!1&&e.push(r)}),[...new Set(e)]}getPossibleTagMethods(e){let n=[],r=e.length+1;return this.tags.forEach((i,s)=>{if(s.startsWith(e)){let o=s.substr(r).trim();o.length>0&&n.push(o)}}),[...new Set(n)]}getTagNames(){let e=[];return this.tags.forEach((n,r)=>{e.push(r)}),[...new Set(e)]}loadCoreTags(){this.registerTags(fE)}cleanTagName(e){return Na(e,"/")}findTag(e){return this.tags.get(this.resolveTagName(e))}isKnownTag(e){return this.tags.has(this.resolveTagName(e))}isSymbolKnownTag(e){return this.isKnownTag(e.runtimeName())}resolveTagName(e){return e=this.cleanTagName(e.trim()),this.tags.has(e)||e.includes(":")&&(e=e.split(":")[0]),e}canResolveSpecialTypes(e){e=this.resolveTagName(e);let n=this.tags.get(e);return!(typeof n=="undefined"||n==null||n.resolveSpecialType==null)}resolveSpecialType(e,n,r){e=this.resolveTagName(e);let i=this.findTag(e);if(i.resolveSpecialType==null)throw new Error(e+" does not support special types.");return i.resolveSpecialType(n,r)}getCompletionItems(e){var s;let n=null,r=[],i=!0;if(e.nodesInScope.length>0&&(n=e.nodesInScope[e.nodesInScope.length-1]),e.currentNode!=null&&this.isKnownTag(e.currentNode.runtimeName())){let o=this.findTag(e.currentNode.runtimeName());if(typeof o=="undefined")return{isExclusive:!1,items:[]};let l=[];if(o.resolveCompletionItems!=null){let u=o.resolveCompletionItems(e);if(u.isExclusiveResult)return{isExclusive:!0,items:u.items};i=u.analyzeDefaults,r=r.concat(u.items)}if(e.isPastTagPart==!1){let u=this.getPossibleTagMethods(o.tagName);for(let d=0;d<u.length;d++)r.push({label:u[d],kind:pE.CompletionItemKind.Text})}if(i){if(e.isCaretInTag==!0&&o.parameters.length>0&&(r=r.concat(am(e,o.parameters)),o.tagName=="partial"&&(n==null?void 0:n.hasMethodPart()))){let u=n.getMethodNameValue();if(u.trim().length>0&&((s=Fr.instance)==null?void 0:s.hasStructure())){let d=Fr.instance.getStructure().findPartial(u);d!=null&&d.injectsParameters.length>0&&(r=r.concat(am(e,d.injectsParameters)))}}for(let u=0;u<e.nodesInScope.length;u++)if(e.nodesInScope[u].runtimeType!==null){let d=e.nodesInScope[u].runtimeType;if(d!=null&&d.assumedType=="structure_ref"&&d.supplementedFields!=null)for(let h=0;h<d.supplementedFields.length;h++)r.push(om(d.supplementedFields[h]))}}return{items:r,isExclusive:!1}}return{items:r,isExclusive:!1}}injectParentScope(e){let n=this.findTag(e);return typeof n=="undefined"||n==null?!0:n.injectParentScope}resolveParameterCompletions(e,n,r){let i=this.findTag(e);return typeof i!="undefined"&&i!==null&&typeof i.resovleParameterCompletionItems!="undefined"&&i.resovleParameterCompletionItems!==null?i.resovleParameterCompletionItems(n,r):null}canResolveDynamicParameter(e){let n=this.resolveTagName(e);if(this.isKnownTag(n)){let r=this.tags.get(n);if(typeof r=="undefined")return!1;if(typeof r.resolveDynamicParameter!="undefined"&&r.resolveDynamicParameter!=null)return!0}return!1}getParameter(e,n){let r=this.resolveTagName(e);if(this.parameters.has(r)==!1)return null;let i=this.parameters.get(r);if(i==null)return null;if(i.has(n)==!1){let o=this.findTag(e);if(o!=null&&typeof o.resolveDynamicParameter!="undefined"&&o.resolveDynamicParameter!=null){let l=o.resolveDynamicParameter(null,n);if(l!==null)return l}return null}let s=i.get(n);return typeof s=="undefined"||i==null?null:s}registerTags(e){for(let n=0;n<e.length;n++)this.registerTag(e[n])}registerTag(e){if(this.tags.set(e.tagName,e),this.parameters.has(e.tagName)==!1&&this.parameters.set(e.tagName,new Map),e.parameters.length>0){let n=this.parameters.get(e.tagName);for(let r=0;r<e.parameters.length;r++){let i=e.parameters[r];n==null||n.set(i.name,i)}}}requiresClose(e){let n=e.getTagName();if(this.tags.has(n)){let r=this.findTag(n);if(r!=null)return r.requiresCloseResolver!=null?r.requiresCloseResolver(e):r.requiresClose}return!1}};Xs.instance=null;(typeof Xs.instance=="undefined"||Xs.instance==null)&&(Xs.instance=new Xs,Xs.instance.loadCoreTags());Hn=Xs});var Qr,Er,Oc=E(()=>{Rc();ku();Qr=class{constructor(e){this.generation=0;this.id="";this.name="";this.values=new Map;this.lists=new Map;this.pristine=new Map;this.parentScope=null;this.statamicProject=e,Qr.generationCounter+=1,this.generation=Qr.generationCounter,this.id=yo()}makeNew(){return new Qr(this.statamicProject)}ancestor(){return this.parentScope!=null?this.parentScope:this}canShiftScope(e){return!!this.pristine.has(e)}shiftScope(e,n,r){if(this.pristine.has(n)){let i=this.pristine.get(n),s=i.parentCopy.copy();return s.introduceAliasScope(e,r,i.introducedFields),s}return this}containsPath(e){if(e.includes(":")){let n=e.split(":"),r=n.shift(),i=n.join(":");if(typeof r=="undefined")return!1;let s=this.lists.get(r);return typeof s=="undefined"?!1:s.containsPath(i)}return!!this.lists.has(e)}findReference(e){if(e.includes(":")){let n=e.split(":"),r=n.pop(),i=n.join(":"),s=this.findNestedScope(i);if(s!=null)return s.findReference(r)}return this.values.has(e)?this.values.get(e):null}findReferenceWithField(e){if(e.includes(":")){let n=e.split(":"),r=n.pop(),i=n.join(":"),s=this.findNestedScope(i);if(s!=null)return s.findReference(r)}if(this.values.has(e)){let n=this.values.get(e);if(n.sourceField==null){if(n.introducedBy!=null&&n.introducedBy.currentScope!=null&&n.introducedBy.currentScope!=this)return n.introducedBy.currentScope.findReferenceWithField(n.introducedBy.getTagName());if(this.parentScope!=null&&this.parentScope!=this)return this.parentScope.findReferenceWithField(e)}return n}return null}containsReference(e){return this.findReference(e)!=null}findNestedScope(e){if(e.includes(":")){let n=e.split(":"),r=n.shift(),i=n.join(":");if(typeof r=="undefined")return null;let s=this.lists.get(r);return typeof s=="undefined"?null:s.findNestedScope(i)}return this.lists.has(e)?this.lists.get(e):this.parentScope!=null&&this.parentScope!=this&&this.parentScope.hasList(e)?this.parentScope.lists.get(e):null}liftList(e){if(this.lists.has(e)){let n=this.lists.get(e);return typeof n=="undefined"||n===null?null:(this.lists.delete(e),n)}return null}hasPristineReference(e){return!!this.pristine.has(e)}hasListInHistory(e){return this.hasList(e)?!0:this.parentScope!=null?this.name=="*root*"?!1:this.parentScope.hasList(e):!1}hasList(e){if(this.lists.has(e)){let n=this.lists.get(e);return!(typeof n=="undefined"||n===null)}return!1}bringListIntoMainScope(e){if(e.includes(":")){let r=e.split(":"),i=r.shift(),s=r.join(":");if(typeof i=="undefined")return this;let o=this.lists.get(i);return typeof o=="undefined"?this:o.bringListIntoMainScope(s)}let n=this.lists.get(e);return this.lists.delete(e),this.mergeScope(n)}getListNames(){let e=[];return this.lists.forEach((n,r)=>{e.push(r)}),e}getVariableNames(){let e=[];return this.values.forEach(n=>{e.push(n.name)}),e}getList(e){return this.lists.has(e)?this.lists.get(e):this.parentScope!=null&&this.parentScope!=this?this.parentScope.getList(e):null}hasValue(e){return this.values.has(e)}findAncestorWithList(e){return this.hasList(e)?this:this.parentScope!=null&&this.parentScope!=this?this.parentScope.findAncestorWithList(e):null}findReferenceNotIntroducedBy(e,n){if(this.hasValue(e)){let r=this.values.get(e);if(r.introducedBy!=null&&r.introducedBy!=n)return r}return this.parentScope!=null&&this.parentScope!=this?this.parentScope.findReferenceNotIntroducedBy(e,n):null}removeThroughIntroduction(e,n){if(this.values.delete(e),this.parentScope!=null){let r=this.findReferenceNotIntroducedBy(e,n);r!=null&&this.addVariable(r)}}wasIntroducedBySymbol(e,n){if(this.values.has(e)==!1)return!1;let r=this.values.get(e);return r.introducedBy!=null?r.introducedBy==n:!1}referencesArray(e){return this.values.has(e)==!1?!1:this.values.get(e).dataType=="array"}addScopeList(e,n){return this.lists.set(e,n),this}mergeAndList(e,n){let r=new Qr(this.statamicProject);return r.values=ex(n),this.lists.set(e,r),this.mergeVariableScope(n),this}mergeScope(e){return e==this||e==null?this:(typeof e.values!="undefined"&&e.values!==null&&e.values.forEach((n,r)=>{this.values.set(r,n)}),typeof e.lists!="undefined"&&e.lists!==null&&e.lists.forEach((n,r)=>{this.lists.set(r,n)}),this)}mergeVariableScope(e){for(let n=0;n<e.length;n++)this.values.set(e[n].name,e[n]);return this}addVariable(e){this.values.set(e.name,e)}addVariables(e){for(let n=0;n<e.length;n++)this.addVariable(e[n])}addVariableArray(e,n){this.values.has(e)&&this.values.delete(e);let r=new Qr(this.statamicProject);r.addVariables(n),this.addScopeList(e,r)}injectAssetContainer(e,n){this.addBlueprintFields(e,this.statamicProject.getAssetBlueprintFields(n))}injectUserFields(e){this.addBlueprintFields(e,this.statamicProject.getUserFields())}addBlueprintField(e,n){this.addVariable({dataType:n.type,name:n.name,sourceField:n,sourceName:n.blueprintName,introducedBy:e})}introduceScopedAliasScope(e,n,r,i){this.pristine.set(r,{introducedFields:i,introducedScope:r,parentCopy:this.copy()});let s=new Qr(this.statamicProject),o=new Qr(this.statamicProject);return o.addBlueprintFields(e,i),s.name=r,s.addScopeList(n,o),this.addScopeList(r,s),s}expandScopedAliasScope(e,n,r,i){this.lists.has(r)==!1?this.introduceScopedAliasScope(e,n,r,i):this.lists.get(r).addBlueprintFields(e,i)}introduceAliasScope(e,n,r){this.pristine.set(n,{introducedFields:r,introducedScope:n,parentCopy:this.copy()});let i=new Qr(this.statamicProject);i.addBlueprintFields(e,r),i.name=n,this.addScopeList(n,i)}introduceDynamicScopeList(e,n,r){this.pristine.set(n,{introducedFields:r,introducedScope:n,parentCopy:this.copy()});let i=new Qr(this.statamicProject);i.name=n,i.addBlueprintFields(e,r),this.addScopeList(n,i)}addBlueprintFields(e,n){for(let r=0;r<n.length;r++)this.addBlueprintField(e,n[r])}injectBlueprint(e,n){let r=this.statamicProject.getBlueprintDetails(n);r.length>0&&this.addBlueprintFields(e,r)}copy(){let e=new Qr(this.statamicProject);return e.pristine=new Map(this.pristine),e.values=new Map(this.values),e.lists=new Map(this.lists),e.parentScope=this,e}},Er=Qr;Er.generationCounter=0});function Fg(t){let e=new Er(t);return e.addVariable({dataType:"string",name:"handle",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"name",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"locale",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"short_locale",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e}function hE(){let t=[];return t.push({dataType:"number",name:"response_code",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"csrf_field",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"csrf_token",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"environment",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"template",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"xml_header",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"last_segment",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"homepage",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_uri",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"amp_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"api_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_full_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_template",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"logged_in",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"logged_out",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"is_homepage",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"now",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"today",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"current_date",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"get",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"get_post",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"post",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"old",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t}var mE=E(()=>{Oc()});function gE(t,e){let n=t.findParameter("paginate");if(n!=null&&(n.value.toLowerCase()=="true"||parseInt(n.value).toString()==n.value)){let r=e.makeNew(),i=e.makeNew(),s=e.makeNew(),o=e.makeNew();r.addVariable({name:"next_page",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"prev_page",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"total_items",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"total_pages",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"current_page",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"auto_links",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),s.addVariable({name:"url",dataType:"string",sourceField:null,sourceName:"*internal.pagination.all",introducedBy:t}),s.addVariable({name:"page",dataType:"integer",sourceField:null,sourceName:"*internal.pagination.all",introducedBy:t}),o.addVariable({name:"first",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),o.addVariable({name:"last",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),o.addVariable({name:"slider",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),i.addScopeList("all",s),i.addScopeList("segments",o),r.addScopeList("links",i),e.addScopeList("paginate",r)}}var TE=E(()=>{});var ja,Vg,_E=E(()=>{Mi();Oc();ja=class{constructor(){this.fileInjections=new Map;this.project=null}updateProject(e){this.project=e}registerInjections(e,n){if(n.length==0)return;let r=[];for(let i=0;i<n.length;i++){let s=n[i];s.hasParameters&&r.push(s)}if(r.length>0){let i=r[0].getMethodNameValue();if(i!=null&&this.project!=null){let s=this.project.findPartial(i);s!=null&&(this.fileInjections.has(s.documentUri)||this.fileInjections.set(s.documentUri,new Map),this.fileInjections.get(s.documentUri).set(e,r))}}}hasAvailableInjections(e){return this.fileInjections.has(e)}getScopeInjection(e,n){let r=new Er(n);return r.name="*injection*",this.fileInjections.get(e).forEach((s,o)=>{for(let l=0;l<s.length;l++){let u=s[l];if(u.hasParameters)for(let d=0;d<u.parameters.length;d++){let h=u.parameters[d];if(h.containsSimpleValue())r.addVariable({dataType:"string",name:h.name,sourceField:null,sourceName:"scope.injection",introducedBy:u});else if(h.isVariableReference&&u.currentScope!=null&&u.currentScope.hasListInHistory(h.value)){let m=u.currentScope.findNestedScope(h.value);if(m!=null){let y=Na(h.name,":"),b=m.copy();b.name=y,r.addScopeList(y,m)}}}}}),r}};ja.instance=null;(typeof ja.instance=="undefined"||ja.instance==null)&&(ja.instance=new ja);Vg=ja});var Oq,wq,Bg,yE=E(()=>{Gp();Wp();bN();nt();wa();Wn();yc();Pn();mE();TE();Rc();Oc();mm();_E();Oq=["collection"],wq=["if","elseif","unless","elseunless"],Bg=class{constructor(e,n,r){this.pageVars=[];this.viewDataVars=null;this.documentUri="";this.lastSymbolId="";this.ideHelperMap=new Map;this.statamicProject=e,this.documentUri=n,this.document=r,this.makePageScope(),this.makeViewDataScope()}makeViewDataScope(){this.document.hasFrontMatter()&&(this.viewDataVars=this.document.getFrontMatterScope())}makePageScope(){let e=[],n=this.statamicProject.getFields();if(n.has("pages")){let r=n.get("pages");for(let i=0;i<r.length;i++){let s=r[i];e.push({name:s.name,dataType:s.type,sourceField:s,sourceName:s.blueprintName,introducedBy:null})}}this.pageVars=e}analyzeScope(e){var h,m,y,b,T,x,D,_,P;let n=new Er(this.statamicProject);n.name="*root*",n.parentScope=n,n.addScopeList("site",Fg(this.statamicProject)),n.addScopeList("sites",Fg(this.statamicProject)),n.addVariables(hE());let r=new Er(this.statamicProject);r.name="*root_user*",r.parentScope=n,this.statamicProject.getUserFields().forEach(v=>{r.addBlueprintField(null,v)}),n.addScopeList("current_user",r),((h=yN.instance)==null?void 0:h.pageScopeDisabled(this.documentUri))?this.viewDataVars!=null&&n.addScopeList("view",this.viewDataVars):this.viewDataVars!=null?n.mergeAndList("page",this.pageVars).addScopeList("view",this.viewDataVars):n.mergeAndList("page",this.pageVars);let i=null;e.length>0&&e[0].isComment&&(i=Kl(this.documentUri,e[0]));for(let v=0;v<e.length;v++)if(e[v].isComment){let S=Kl(this.documentUri,e[v]);S.variableHelper!=null&&this.ideHelperMap.set(e[v].id(),S.variableHelper)}let s=this.statamicProject.getCollectionNamesForView(this.documentUri);if(i!=null&&(i.collectionInjections.length>0&&(s=s.concat(i.collectionInjections)),i.blueprints.length>0&&(s=s.concat(i.blueprints)),i.variableHelper!=null&&i.variableHelper.variableName=="@page")){let v=this.statamicProject.getBlueprintField(i.variableHelper.collectionName,i.variableHelper.fieldHandle);if(v!=null)if(i.variableHelper.setHandle.length>0){if(v.sets!=null){for(let S=0;S<v.sets.length;S++)if(v.sets[S].handle==i.variableHelper.setHandle){n.addVariables(ol(e[0],v.sets[S].fields));break}}}else n.addBlueprintField(e[0],v)}if(s.length>0){for(let v=0;v<s.length;v++)n.injectBlueprint(e[0],s[v]);n.addVariables(Hs(e[0]))}((m=Vg.instance)==null?void 0:m.hasAvailableInjections(this.documentUri))&&n.mergeScope((y=Vg.instance)==null?void 0:y.getScopeInjection(this.documentUri,this.statamicProject));let o=[],l=[],u=[],d=[];d.push(n);for(let v=0;v<e.length;v++){let S=e[v];this.lastSymbolId.length>0&&l.includes(S.id())&&(o.pop(),d.pop(),d.length==0&&d.push(n));let w=d[d.length-1];if(S.hasParameters){for(let Y=0;Y<S.parameters.length;Y++)if(S.parameters[Y].interpolations.length>0)for(let ae=0;ae<S.parameters[Y].interpolations.length;ae++){let he=S.parameters[Y].interpolations[ae];S.processedInterpolationRegions.has(he)&&S.processedInterpolationRegions.get(he).forEach(Te=>{Te instanceof Z&&(Te.currentScope=w)})}}if(((b=Hn.instance)==null?void 0:b.isKnownTag(S.getTagName()))==!1){if(S.scopeVariable=w.findReference(S.runtimeName()),v>0){let Y=e[v-1];if(Y.isComment&&this.ideHelperMap.has(Y.id())&&!Y.isClosingTag&&!S.isClosingTag){let ae=this.ideHelperMap.get(Y.id());if(ae.variableName==S.getTagName()){let he=this.statamicProject.getBlueprintField(ae.collectionName,ae.fieldHandle);he!=null&&(S.scopeVariable=ZS(S,he))}}}if(S.scopeVariable==null){let Y=S.runtimeName().trim();if(w.hasList(Y)||((T=S.currentScope)==null?void 0:T.hasListInHistory(Y))){S.sourceType="array";let ae=w.getList(Y);if(ae!=null&&ae.values.size>0){let he=ae.values.entries().next().value[1];S.scopeVariable={dataType:"array",introducedBy:he.introducedBy,name:Y,sourceField:null,sourceName:he.sourceName}}}}else S.sourceType=xu(S.scopeVariable.dataType),S.scopeVariable.sourceField!=null&&((x=hf.instance)==null?void 0:x.hasFieldtype(S.scopeVariable.sourceField.type))&&((D=hf.instance)==null?void 0:D.getFieldType(S.scopeVariable.sourceField.type)).augmentScope(S,w)}if(S.hasParameters&&gE(S,w),S.modifiers!=null&&S.modifiers.hasModifiers()?S.manifestType=S.modifiers.getLastManifestedModifierRuntimeType():S.manifestType=S.sourceType,S.isClosedBy!=null&&(o.push(S.id()),l.push(S.isClosedBy.id()),w=w.copy(),d.push(w)),S.getTagName()=="scope"&&S.hasMethodPart()){let Y=d[d.length-2].copy();w.addScopeList(S.getMethodNameValue(),Y)}if(w.containsPath(S.runtimeName())&&(o.push(S.id()),S.isClosedBy!=null&&l.push(S.isClosedBy.id()),w=w.copy().bringListIntoMainScope(S.runtimeName()),d.push(w)),S.currentScope=w,S.getTagName()!="cache"){let Y=S.findParameter("scope");Y!=null&&w.canShiftScope(S.runtimeName())&&(w=w.shiftScope(S,S.runtimeName(),Y.value),S.currentScope=w,d.pop(),d.push(w))}if((_=Hn.instance)==null?void 0:_.isKnownTag(S.runtimeName())){let Y=(P=Hn.instance)==null?void 0:P.findTag(S.runtimeName());typeof Y!="undefined"&&Y.augmentScope!=null&&Y.augmentScope(S,w)}if(S.modifierChain!=null&&S.modifierChain.modifierChain.length>0&&S.modifierChain.modifierChain.forEach(Y=>{Y.modifier!=null&&typeof Y.modifier.augmentScope!="undefined"&&Y.modifier.augmentScope!=null&&Y.modifier.augmentScope(S,w)}),S.modifiers.hasParameterModifiers()&&S.modifiers.parameterModifiers.forEach(Y=>{Y.modifier!=null&&typeof Y.modifier.augmentScope!="undefined"&&Y.modifier.augmentScope!=null&&Y.modifier.augmentScope(S,w)}),S.sourceType=="array"){let Y=S.findParameter("chunk"),ae=!0;if(S.parent!=null&&S.parent instanceof Z&&Oq.includes(S.parent.runtimeName())&&(ae=!1),typeof Y!="undefined"&&Y!==null)if(S.currentScope.parentScope!=null&&(S.currentScope.parentScope.hasList(S.runtimeName())||w.referencesArray(S.runtimeName()))){let he=S.currentScope.parentScope.copy(),be=he.liftList(S.runtimeName());if(be==null&&w.referencesArray(S.runtimeName())){if(be=new Er(w.statamicProject),ae){let Te=mt(S);for(let pe=0;pe<Te.length;pe++){let at=Te[pe];he.wasIntroducedBySymbol(at.name,S)&&he.removeThroughIntroduction(at.name,S)}be.addVariables(Te)}}else ae&&he.addVariables(mt(S));he.addScopeList("chunk",be),w=he,d.pop(),d.push(w),S.currentScope=he}else{let he=S.findParameter("scope");if(typeof he!="undefined"&&he!==null&&S.currentScope!=null&&S.currentScope.hasList(he.value)&&S.scopeName!=null){let be=S.currentScope.copy(),Te=be.ancestor().copy(),pe=be.liftList(S.scopeName);ae&&be.addVariables(mt(S)),Te.liftList(S.scopeName),be.addScopeList(S.scopeName,pe),Te.addScopeList("chunk",be),w=Te,d.pop(),d.push(w),S.currentScope=Te}}else S.scopeVariable!=null&&S.scopeVariable.sourceField==null&&ae&&(w.addVariables(mt(S)),w.addVariables(ut(S)))}if(l.includes(S.id())&&S.parent!=null&&S.parent instanceof Z){let Y=S.currentScope.findAncestorWithList(S.getTagName());Y!=null?(S.currentScope=Y,w=Y.copy(),d.pop(),d.length==0&&d.push(n),d.push(w)):S.parent.parent!=null?S.currentScope=S.parent.parent.currentScope:S.currentScope=S.parent.currentScope}if(S.currentScope!=null&&S.runtimeNodes.length>0&&S.runtimeNodes.forEach(Y=>{var ae;if(Y instanceof xe&&((ae=S.currentScope)==null?void 0:ae.hasValue(Y.name))){let he=S.currentScope.findReferenceWithField(Y.name);Y.currentScope=S.currentScope,Y.scopeName=S.scopeName,Y.scopeVariable=he}}),wq.includes(S.runtimeName())&&S.runtimeNodes.length==3&&S.runtimeNodes[0]instanceof xe&&S.runtimeNodes[1]instanceof nr&&S.runtimeNodes[2]instanceof Yt&&S.runtimeNodes[0].scopeVariable!=null&&S.runtimeNodes[0].scopeVariable.sourceField!=null){let Y=S.runtimeNodes[0].scopeVariable,ae=S.runtimeNodes[2].value,he=Y.sourceField;if(he.sets!=null)for(let be=0;be<he.sets.length;be++){let Te=he.sets[be];if(Te.handle==ae&&Te.fields!=null){w=w.copy(),w.addBlueprintFields(S,Te.fields),S.isClosedBy!=null&&!S.isSelfClosing&&(o.push(S.id()),l.push(S.isClosedBy.id()),d.push(w));break}}}this.lastSymbolId=S.id();let J=o.join("/");u.push(J)}}}});var Js,bE=E(()=>{Js=class{};Js.globalTagEnterStack=[],Js.interpolatedVariables=[]});var sr,wc=E(()=>{sr=class{constructor(){this.name="";this.compound="";this.methodPart="";this.content="";this.cachedCompoundTagName=null}tagPartIs(e){return e=e.toLowerCase().trim(),this.name.toLowerCase().trim()==e}isCompound(){return this.methodPart==null?!1:this.methodPart.length>0}getMethodName(){return this.methodPart==""?"index":this.methodPart=="null"?"":this.methodPart}getRuntimeMethodName(){}getCompoundTagName(){if(this.cachedCompoundTagName==null){let e=this.getMethodName();this.cachedCompoundTagName=this.name,e!=null&&e!=""&&(this.cachedCompoundTagName=this.cachedCompoundTagName+":"+e)}return this.cachedCompoundTagName}}});var qg,pl,NE=E(()=>{ba();wa();qg=class{constructor(){this.tagNames=[];this.modifierNames=[]}getModifierNames(){var e,n;return this.modifierNames.concat((n=(e=Qt.instance)==null?void 0:e.getModifierNames())!=null?n:[])}getTagNames(){var e,n;return this.tagNames.concat((n=(e=Hn.instance)==null?void 0:e.getTagNames())!=null?n:[])}setTagNames(e){this.tagNames=e}setModifierNames(e){this.modifierNames=e}isTag(e){var n;return qg.alwaysLikeTag.includes(e)||((n=Hn.instance)==null?void 0:n.isKnownTag(e))?!0:this.tagNames.includes(e)}isModifier(e){var n;return((n=Qt.instance)==null?void 0:n.hasModifier(e))?!0:this.modifierNames.includes(e)}},pl=qg;pl.alwaysLikeTag=["if","endif","elseif","else","unless","elseunless"]});var ml,hl,Ug,vE=E(()=>{nt();NE();ml=class{static analyze(e,n){e.forEach(r=>{if(r instanceof Z){if(r.pathReference!=null&&r.pathReference.isStrictVariableReference){r.isTagNode=!1;return}r.name!=null&&(r.isTagNode=n.isTag(r.name.name))}})}static analyzeNode(e){if(e.pathReference!=null&&e.pathReference.isStrictVariableReference){e.isTagNode=!1;return}ml.environmentDetails!=null&&e.name!=null&&(e.isTagNode=ml.environmentDetails.isTag(e.name.name)),e.name!=null&&(e.isConditionNode=pl.alwaysLikeTag.includes(e.name.name))}static analyzeParametersForModifiers(e){e.parameters.forEach(n=>{ml.environmentDetails!=null&&(n.isModifierParameter=ml.environmentDetails.isModifier(n.name))})}},hl=ml;hl.environmentDetails=null;(typeof hl.environmentDetails=="undefined"||hl.environmentDetails==null)&&(hl.environmentDetails=new pl);Ug=hl});var jg,IE=E(()=>{wc();jg=class{static getIdentifier(e){var i;let n=new sr;n.content=e.trim();let r=e.split(":");if(r.length==1)n.name=r[0].trim(),n.methodPart=null,n.compound=n.name;else if(r.length>1){let s=(i=r.shift())!=null?i:"",o=r.join(":");n.name=s.trim(),n.methodPart=o.trim(),n.compound=n.name+":"+n.methodPart}else n.name=e.trim(),n.methodPart="";return n.name.startsWith("/")&&(n.name=n.name.substr(1),n.compound=n.compound.substr(1)),n}}});var ge,ne,Gg=E(()=>{nt();ge=class{static getPrettyTypeName(e){return e instanceof mi?ge.TOKEN_LANG_OPERATOR:e instanceof yr?ge.TOKEN_OP_A_ADD:e instanceof xe?ge.TOKEN_VARIABLE:e instanceof Yt?ge.TOKEN_STRING:e instanceof en?ge.TOKEN_NUMBER:e instanceof ri?ge.TOKEN_CONSTANT_FALSE:e instanceof Ur?ge.TOKEN_CONSTANT_NULL:e instanceof ii?ge.TOKEN_CONSTANT_TRUE:e instanceof No?ge.TOKEN_MODIFIER_NODE:e instanceof Jl?ge.TOKEN_MODIFIER_CHAIN:e instanceof eh?ge.TOKEN_MODIFIER_PARAMETER:e instanceof br?ge.TOKEN_OP_A_DIVIDE:e instanceof Fi?ge.TOKEN_OP_A_EXPONENTIATION:e instanceof Vi?ge.TOKEN_OP_A_MODULUS:e instanceof Nr?ge.TOKEN_OP_A_MULTIPLY:e instanceof Vn?ge.TOKEN_OP_A_SUBTRACT:e instanceof si?ge.TOKEN_ASG_ADD:e instanceof ai?ge.TOKEN_ASG_DIVIDE:e instanceof oi?ge.TOKEN_ASG_MODULUS:e instanceof li?ge.TOKEN_ASG_MULTIPLY:e instanceof vr?ge.TOKEN_ASG_ASSIGN:e instanceof Bi?ge.TOKEN_ASG_SUBTRACT:e instanceof nr?ge.TOKEN_CMP_EQUAL:e instanceof hi?ge.TOKEN_CMP_SEQUAL:e instanceof jr?ge.TOKEN_CMP_GT:e instanceof is?ge.TOKEN_CMP_GTE:e instanceof ci?ge.TOKEN_CMP_LT:e instanceof ui?ge.TOKEN_CMP_LTE:e instanceof fi?ge.TOKEN_CMP_NEQ:e instanceof di?ge.TOKEN_CMP_SNEQ:e instanceof pi?ge.TOKEN_CMP_SPACESHIP:e instanceof ss?ge.TOKEN_OP_VARIABLE_FALLBACK:e instanceof th?ge.TOKEN_COND_FALLBACK_GROUP:e instanceof Ht?ge.TOKEN_BRANCH_SEPARATOR:e instanceof gi?ge.TOKEN_TERNARY_SEPARATOR:e instanceof pn?ge.TOKEN_GROUP_BEGIN:e instanceof cn?ge.TOKEN_GROUP_END:e instanceof xn?ge.TOKEN_MODIFIER_SEPARATOR:e instanceof En?ge.TOKEN_MODIFIER_NAME:e instanceof un?ge.TOKEN_MODIFIER_VALUE:e instanceof Bn?ge.TOKEN_MODIFIER_VALUE_SEPARATOR:e instanceof ec?ge.TOKEN_NULL_COALESCE_GROUP:e instanceof Zt?ge.TOKEN_SEMANTIC_GROUP:e instanceof vn?ge.TOKEN_STATEMENT_SEPARATOR:e instanceof tc?ge.TOKEN_TERNARY_CONDITION:e instanceof Gr?ge.TOKEN_OP_AND:e instanceof In?ge.TOKEN_OP_LOGIC_NEGATION:e instanceof Wr?ge.TOKEN_OP_OR:e instanceof qi?ge.TOKEN_OP_XOR:e instanceof Hr?ge.TOKEN_OP_NULL_COALESCE:e instanceof Xl?ge.TOKEN_PARAM:e instanceof gr?ge.TOKEN_PATH_ACCESSOR:e instanceof Ls?ge.TOKEN_OP_A_FACTORIAL:e instanceof qr?ge.TOKEN_RECURSIVE:e instanceof Co?ge.TOKEN_ARG_GROUP:e instanceof Xt?ge.TOKEN_ARG_SEPARATOR:e instanceof Ui?ge.TOKEN_OP_STRING_CONCAT:e instanceof qn?ge.TOKEN_OP_SCOPE_REASSIGNMENT:e instanceof Io?ge.TOKEN_STRUCT_SWITCH_CASE:e instanceof Ia?ge.TOKEN_STRUCT_SWITCH_GROUP:e instanceof va?ge.TOKEN_STRUCT_DIRECTION_GROUP:e instanceof Yr?ge.TOKEN_STRUCT_SCOPED_LOGIC_GROUP:e instanceof Je?ge.TOKEN_STRUCT_LOGIC_GROUP:e instanceof Zl?ge.TOKEN_STRUCT_VALUE_DIRECTION:e instanceof as?ge.TOKEN_STRUCT_ARRAY:e instanceof Ti?ge.TOKEN_STRUCT_T_LIST_START:e instanceof nh?ge.TOKEN_STRUCT_TUPLE_LIST:e instanceof hn?ge.TOKEN_STRUCT_METHOD_CALL:typeof e}},ne=ge;ne.TOKEN_LANG_OPERATOR="T_LANG_OPERATOR",ne.TOKEN_VARIABLE="T_VAR",ne.TOKEN_NUMBER="T_NUMERIC",ne.TOKEN_STRING="T_STRING",ne.TOKEN_RECURSIVE="T_RECURSIVE",ne.TOKEN_CONSTANT_FALSE="T_FALSE",ne.TOKEN_CONSTANT_NULL="T_NULL",ne.TOKEN_CONSTANT_TRUE="T_TRUE",ne.TOKEN_MODIFIER_NODE="T_MODIFIER",ne.TOKEN_MODIFIER_CHAIN="T_MODIFIER_CHAIN",ne.TOKEN_MODIFIER_PARAMETER="T_MODIFIER_PARAM",ne.TOKEN_OP_A_ADD="T_AOP_ADD",ne.TOKEN_OP_A_DIVIDE="T_AOP_DIVIDE",ne.TOKEN_OP_A_EXPONENTIATION="T_AOP_EXP",ne.TOKEN_OP_A_MODULUS="T_AOP_MOD",ne.TOKEN_OP_A_MULTIPLY="T_AOP_MULTIPLY",ne.TOKEN_OP_A_SUBTRACT="T_AOP_SUBTRACT",ne.TOKEN_OP_A_FACTORIAL="T_AOP_FACTORIAL",ne.TOKEN_ASG_ADD="T_ASG_ADD",ne.TOKEN_ASG_DIVIDE="T_ASG_DIVIDE",ne.TOKEN_ASG_ASSIGN="T_ASG",ne.TOKEN_ASG_MODULUS="T_ASG_MODULUS",ne.TOKEN_ASG_MULTIPLY="T_ASG_MULTIPLY",ne.TOKEN_ASG_SUBTRACT="T_ASG_SUBTRACT",ne.TOKEN_CMP_EQUAL="T_CMP_EQ",ne.TOKEN_CMP_SEQUAL="T_CMP_SEQ",ne.TOKEN_CMP_GT="T_CMP_GT",ne.TOKEN_CMP_GTE="T_CMP_GTE",ne.TOKEN_CMP_LT="T_CMP_LT",ne.TOKEN_CMP_LTE="T_CMP_LTE",ne.TOKEN_CMP_NEQ="T_CMP_NEQ",ne.TOKEN_CMP_SNEQ="T_CMP_SNEQ",ne.TOKEN_CMP_SPACESHIP="T_CMP_SPSHP",ne.TOKEN_OP_VARIABLE_FALLBACK="T_VFBK",ne.TOKEN_COND_FALLBACK_GROUP="T_VFBK_GROUP",ne.TOKEN_BRANCH_SEPARATOR="T_BRANCH_SEPARATOR",ne.TOKEN_TERNARY_SEPARATOR="T_TERNARY_SEPARATOR",ne.TOKEN_GROUP_BEGIN="T_LOGIC_BEGIN",ne.TOKEN_GROUP_END="T_LOGIC_END",ne.TOKEN_MODIFIER_SEPARATOR="T_MODIFIER_SEPARATOR",ne.TOKEN_MODIFIER_NAME="T_MODIFIER_NAME",ne.TOKEN_MODIFIER_VALUE="T_MODIFIER_VALUE",ne.TOKEN_MODIFIER_VALUE_SEPARATOR="T_MODIFIER_VALUE_SEPARATOR",ne.TOKEN_NULL_COALESCE_GROUP="T_NULL_COALESCE_GROUP",ne.TOKEN_SEMANTIC_GROUP="T_SEMANTIC_GROUP",ne.TOKEN_STATEMENT_SEPARATOR="T_STATEMENT_SEPARATOR",ne.TOKEN_TERNARY_CONDITION="T_TERNARY_CONDITION",ne.TOKEN_OP_AND="T_AND",ne.TOKEN_OP_LOGIC_NEGATION="T_LOGIC_INVERSE",ne.TOKEN_OP_OR="T_OR",ne.TOKEN_OP_XOR="T_XOR",ne.TOKEN_OP_NULL_COALESCE="T_NULL_COALESCE",ne.TOKEN_PARAM="T_PARAM",ne.TOKEN_PATH_ACCESSOR="T_VAR_SEPARATOR",ne.TOKEN_ARG_GROUP="T_ARG_GROUP",ne.TOKEN_ARG_SEPARATOR="T_ARG_SEPARATOR",ne.TOKEN_OP_STRING_CONCAT="T_STR_CONCAT",ne.TOKEN_OP_SCOPE_REASSIGNMENT="T_SCOPE_ASSIGNMENT",ne.TOKEN_STRUCT_SWITCH_CASE="T_SWITCH_CASE",ne.TOKEN_STRUCT_SWITCH_GROUP="T_SWITCH_GROUP",ne.TOKEN_STRUCT_DIRECTION_GROUP="T_DIRECTION_GROUP",ne.TOKEN_STRUCT_VALUE_DIRECTION="T_ORDER_DIRECTION",ne.TOKEN_STRUCT_SCOPED_LOGIC_GROUP="T_SCOPED_LOGIC_GROUP",ne.TOKEN_STRUCT_LOGIC_GROUP="T_LOGIC_GROUP",ne.TOKEN_STRUCT_ARRAY="T_ARRAY",ne.TOKEN_STRUCT_T_LIST_START="T_LIST_START",ne.TOKEN_STRUCT_TUPLE_LIST="T_LIST",ne.TOKEN_STRUCT_METHOD_CALL="T_METHOD_CALL"});var gt,Wg=E(()=>{gt=class{static isLanguageLogicalKeyword(e){return e==this.LogicalAnd||e==this.LogicalNot||e==this.LogicalOr||e==this.LogicalXor}};gt.LogicalAnd="and",gt.LogicalNot="not",gt.LogicalOr="or",gt.LogicalXor="xor",gt.ConstTrue="true",gt.ConstFalse="false",gt.ConstNull="null",gt.ArrList="list",gt.ScopeAs="as"});var Hg,CE=E(()=>{Li();Di();Gg();nt();xi();Wg();Sn();Hg=class{constructor(){this.chars=[];this.inputLen=0;this.currentIndex=0;this.currentContent=[];this.rawContent=[];this.startIndex=0;this.cur=null;this.next=null;this.prev=null;this.isParsingString=!1;this.isParsingModifierName=!1;this.isInModifierParameterValue=!1;this.runtimeNodes=[];this.ignorePrevious=!1;this.lastNode=null;this.referenceParser=null;this.activeNode=null}reset(){this.ignorePrevious=!1,this.runtimeNodes=[],this.chars=[],this.inputLen=0,this.currentIndex=0,this.currentContent=[],this.rawContent=[],this.startIndex=0,this.cur=null,this.next=null,this.prev=null,this.isParsingString=!1,this.isParsingModifierName=!1,this.isInModifierParameterValue=!1,this.referenceParser=null,this.activeNode=null}checkCurrentOffsets(){this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.ignorePrevious?(this.prev="",this.ignorePrevious=!1):this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen&&(this.next=this.chars[this.currentIndex+1])}isValidChar(e){return e==null||e==H.Punctuation_Semicolon?!1:this.isParsingString==!1&&e=="]"?!0:this.isParsingString==!1&&e==")"?!1:(e=="["||e=="]")&&e==this.cur||(e=="_"||e=="."||e=="["||e=="]")&&(!(this.currentContent.length>0)||te.ctypeAlpha(this.cur)||te.ctypeDigit(this.cur))?!0:te.ctypeSpace(e)?!1:this.isParsingModifierName&&(e==H.Punctuation_Minus||e==H.Punctuation_Underscore)?!0:!te.ctypePunct(e)}isRightOfInterpolationRegion(){if(this.activeNode==null||this.referenceParser==null)return!1;let e=this.activeNode._lexerRelativeOffset(this.currentIndex);return this.referenceParser.bordersInterpolationRegion(e)}scanForwardTo(e,n=0){let r=[];for(let i=this.currentIndex+1+n;i<this.inputLen;i++){let s=this.chars[i];if(s==e){r.push(s);break}else r.push(s)}return r}nextNonWhitespace(){for(let e=this.currentIndex+1;e<this.inputLen;e++){let n=this.chars[e];if(!te.ctypeSpace(n))return n}return null}pushError(e){this.referenceParser!=null&&this.referenceParser.addAntlersError(e)}guardAgainstNeighboringTypesInModifier(e){return this.lastNode instanceof un&&this.pushError(X.makeSyntaxError(O.TYPE_MODIFIER_INCORRECT_VALUE_POSITION,this.lastNode,"Incorrect type ["+ne.getPrettyTypeName(e)+"] near ["+ne.getPrettyTypeName(this.lastNode)+"]")),!1}appendContent(e){e!=null&&this.currentContent.push(e)}tokenize(e,n){this.reset(),this.referenceParser=e.getParser(),this.activeNode=e,this.chars=n.split(""),this.inputLen=this.chars.length,this.runtimeNodes=[],this.lastNode=null;let r=null;this.isParsingString=!1,this.isParsingModifierName=!1;let i=null;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){this.checkCurrentOffsets();let o=!0;if(this.cur!=null&&this.rawContent.push(this.cur),this.isParsingString==!1&&(this.cur==H.String_Terminator_DoubleQuote||this.cur==H.String_Terminator_SingleQuote)){if(this.prev==H.String_EscapeCharacter){this.pushError(X.makeSyntaxError(O.TYPE_ILLEGAL_STRING_ESCAPE_SEQUENCE,e,"Illegal string escape sequence outside string parsing."));continue}this.rawContent=[],this.rawContent.push(this.cur),i=this.cur,this.isParsingString=!0,r=this.currentIndex;continue}if(this.isInModifierParameterValue&&!this.isParsingString){let l=!1;if(!this.isParsingString&&te.ctypeSpace(this.next)){let u=this.scanForwardTo(" ",1).join("").trim().toLowerCase();u.length>0&&gt.isLanguageLogicalKeyword(u)&&(l=!0)}if(this.next==H.String_Terminator_SingleQuote||this.next==H.String_Terminator_DoubleQuote||this.next==null||l){this.appendContent(this.cur);let u=this.currentContent.join("");if(u.length>0){let d=u;if(this.currentContent=[],this.rawContent=[],d.trimRight().length==0){let m=this.nextNonWhitespace();if(m==H.String_Terminator_SingleQuote||m==H.String_Terminator_DoubleQuote){this.currentContent=[],this.rawContent=[];continue}}let h=new un;h.isVirtual=!1,h.name=d,h.value=d.trimRight(),h.startPosition=e._lexerRelativeOffset(this.currentIndex-d.length),h.endPosition=e._lexerRelativeOffset(this.currentIndex),h.parent=this.activeNode,this.guardAgainstNeighboringTypesInModifier(h),this.runtimeNodes.push(h),this.lastNode=h}if(u.length==0)continue;this.currentContent=[],this.rawContent=[],this.isInModifierParameterValue=!1;continue}if(this.next==H.Punctuation_Pipe||this.next==H.Punctuation_Colon||this.next==H.RightParent){this.isInModifierParameterValue=!1,this.appendContent(this.cur);let u=0,d=!1;if(this.currentContent[0]==H.String_Terminator_SingleQuote||this.currentContent[0]==H.String_Terminator_DoubleQuote){let y=this.scanForwardTo(this.currentContent[0]);y.length>0&&(this.currentContent=this.currentContent.concat(y),u=y.length,d=!0)}let h=this.currentContent.join("");d&&(h=h.substr(1),h=h.slice(0,-1)),this.currentContent=[],this.rawContent=[];let m=new un;m.isVirtual=!1,m.name=h,m.value=h,m.startPosition=e._lexerRelativeOffset(this.currentIndex-h.length),m.endPosition=e._lexerRelativeOffset(this.currentIndex),m.parent=this.activeNode,this.runtimeNodes.push(m),this.guardAgainstNeighboringTypesInModifier(m),this.lastNode=m,this.currentIndex+=u}else this.appendContent(this.cur);continue}if(this.isParsingString&&this.cur==i){if(this.prev==H.String_EscapeCharacter)this.appendContent(i);else{if(this.isInModifierParameterValue){let u=this.currentContent.join(""),d=new un;d.isVirtual=!1,d.name=u,d.value=u,d.startPosition=e._lexerRelativeOffset(r!=null?r:0),d.endPosition=e._lexerRelativeOffset(this.currentIndex),d.parent=this.activeNode,this.runtimeNodes.push(d),this.guardAgainstNeighboringTypesInModifier(d),this.lastNode=d,this.currentContent=[],this.rawContent=[],this.isParsingString=!1,this.isInModifierParameterValue=!1;continue}let l=new Yt;l.isVirtual=!1,l.startPosition=e._lexerRelativeOffset(r!=null?r:0),l.endPosition=e._lexerRelativeOffset(this.currentIndex),this.referenceParser!=null&&(l.sourceContent=this.referenceParser.getText(l.startPosition.index,l.endPosition.index+1)),l.parent=this.activeNode,i!=null&&(l.sourceTerminator=i),i=null,this.isParsingString=!1,l.value=this.currentContent.join(""),l.rawLexContent=this.rawContent.join("").trim(),this.currentContent=[],this.rawContent=[],this.guardAgainstNeighboringTypesInModifier(l),this.runtimeNodes.push(l),this.lastNode=l}continue}if(this.isParsingString&&this.cur==H.String_EscapeCharacter){if(this.next==H.String_EscapeCharacter){this.appendContent(H.String_EscapeCharacter),this.ignorePrevious=!0,this.currentIndex+=1;continue}else if(this.next==H.String_Terminator_SingleQuote){this.appendContent(H.String_Terminator_SingleQuote),this.currentIndex+=1;continue}else if(this.next==H.String_Terminator_DoubleQuote){this.appendContent(H.String_Terminator_DoubleQuote),this.currentIndex+=1;continue}else if(this.next=="n"){this.appendContent(`
`),this.currentIndex+=1;continue}else if(this.next=="t"){this.appendContent("	"),this.currentIndex+=1;continue}else if(this.next=="r"){this.appendContent("\r"),this.currentIndex+=1;continue}}if(this.isParsingString==!1){if(this.isValidChar(this.cur)&&this.isValidChar(this.next)==!1&&this.currentContent.length==0&&(this.appendContent(this.cur),o=!1),(this.next==null||this.isValidChar(this.next)==!1)&&this.currentContent.length>0){o&&this.appendContent(this.cur);let l=this.currentContent.join("").trim(),u=l.length,d=this.currentIndex-u,h=e._lexerRelativeOffset(d),m=e._lexerRelativeOffset(this.currentIndex);if(this.currentContent=[],this.rawContent=[],l==gt.LogicalAnd){let b=new Gr;b.isVirtual=!1,b.content=gt.LogicalAnd,b.startPosition=h,b.endPosition=m,b.parent=this.activeNode,this.runtimeNodes.push(b),this.lastNode=b;continue}else if(l==gt.LogicalOr){let b=new Wr;b.isVirtual=!1,b.content=gt.LogicalOr,b.startPosition=h,b.endPosition=m,b.parent=this.activeNode,this.runtimeNodes.push(b),this.lastNode=b;continue}else if(l==gt.LogicalXor){let b=new qi;b.isVirtual=!1,b.content=gt.LogicalXor,b.startPosition=h,b.endPosition=m,b.parent=this.activeNode,this.runtimeNodes.push(b),this.lastNode=b;continue}else if(l==gt.ConstNull){let b=new Ur;b.isVirtual=!1,b.content=gt.ConstNull,b.startPosition=h,b.endPosition=m,b.parent=this.activeNode,this.runtimeNodes.push(b),this.lastNode=b;continue}else if(l==gt.ConstTrue){let b=new ii;b.isVirtual=!1,b.content=gt.ConstTrue,b.startPosition=h,b.endPosition=m,b.parent=this.activeNode,this.runtimeNodes.push(b),this.lastNode=b;continue}else if(l==gt.ConstFalse){let b=new ri;b.isVirtual=!1,b.content=gt.ConstFalse,b.startPosition=h,b.endPosition=m,b.parent=this.activeNode,this.runtimeNodes.push(b),this.lastNode=b;continue}else if(l==gt.LogicalNot){let b=new In;b.isVirtual=!1,b.content=gt.LogicalNot,b.startPosition=h,b.endPosition=m,b.parent=this.activeNode,this.runtimeNodes.push(b),this.lastNode=b;continue}else if(l==gt.ArrList&&this.next==H.LeftParen){let b=new Ti;b.isVirtual=!1,b.content=gt.ArrList,b.startPosition=h,b.endPosition=m,b.parent=this.activeNode,this.runtimeNodes.push(b),this.lastNode=b;continue}if(te.isNumeric(l)){let b=new en;b.isVirtual=!1,b.startPosition=h,b.endPosition=m,b.parent=this.activeNode,l.includes(".")?b.value=parseFloat(l):b.value=parseInt(l),b.rawLexContent=l,this.guardAgainstNeighboringTypesInModifier(b),this.runtimeNodes.push(b),this.lastNode=b;continue}if(this.runtimeNodes.length>0){let b=this.runtimeNodes[this.runtimeNodes.length-1];if(b instanceof xn){let T=new En;T.isVirtual=!1,T.name=l,T.content=l,T.startPosition=h,T.endPosition=m,T.parent=this.activeNode,this.runtimeNodes.push(T),this.lastNode=T;continue}else if(b instanceof Bn){let T=new un;T.isVirtual=!1,T.name=l,T.value=l,T.startPosition=h,T.endPosition=m,T.parent=this.activeNode,this.runtimeNodes.push(T),this.lastNode=T,this.isParsingModifierName=!1;continue}}let y=new xe;y.isVirtual=!1,y.name=l,y.startPosition=h,y.endPosition=m,y.parent=this.activeNode,this.runtimeNodes.push(y),this.lastNode=y;continue}}else{this.appendContent(this.cur);continue}if(!te.ctypeSpace(this.cur)){if(this.isParsingString==!1){if(this.cur==H.Punctuation_Equals&&this.next==H.Punctuation_GreaterThan){let l=new qn;l.isVirtual=!1,l.content="=>",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentContent=[],this.rawContent=[],this.currentIndex+=1;continue}if(this.cur==H.Punctuation_Comma){let l=new Xt;l.isVirtual=!1,l.content=H.Punctuation_Comma,l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_Semicolon){let l=new vn;l.isVirtual=!1,l.content=H.Punctuation_Semicolon,l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_Plus){if(this.next==H.Punctuation_Equals){let u=new si;u.isVirtual=!1,u.content="+=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let l=new yr;l.isVirtual=!1,l.content="+",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.isParsingModifierName==!1&&this.cur==H.Punctuation_Minus){if(te.ctypeDigit(this.next)&&te.ctypeDigit(this.prev)==!1&&this.prev!=H.RightParent&&this.isRightOfInterpolationRegion()==!1){this.appendContent(this.cur);continue}if(this.next==H.Punctuation_Equals){let u=new Bi;u.isVirtual=!1,u.content="-=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}else if(this.next==H.Punctuation_GreaterThan){let u=new hn;u.isVirtual=!1,u.content="->",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let l=new Vn;l.isVirtual=!1,l.content="-",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_Asterisk){if(this.next==H.Punctuation_Asterisk){let u=new Fi;u.isVirtual=!1,u.content="**",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}else if(this.next==H.Punctuation_Equals){let u=new li;u.isVirtual=!1,u.content="*=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let l=new Nr;l.isVirtual=!1,l.content="*",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_ForwardSlash){if(this.next==H.Punctuation_Equals){let u=new ai;u.isVirtual=!1,u.content="/=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let l=new br;l.isVirtual=!1,l.content="/",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_Percent){if(this.next==H.Punctuation_Equals){let u=new oi;u.isVirtual=!1,u.content="%=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let l=new Vi;l.isVirtual=!1,l.content="%",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_LessThan){if(this.next==H.Punctuation_Equals){let u=null;if(this.currentIndex+2<this.inputLen&&(u=this.chars[this.currentIndex+2]),u==H.Punctuation_GreaterThan){let h=new pi;h.isVirtual=!1,h.content="<=>",h.startPosition=e._lexerRelativeOffset(this.currentIndex),h.endPosition=e._lexerRelativeOffset(this.currentIndex+3),h.parent=this.activeNode,this.runtimeNodes.push(h),this.lastNode=h,this.currentIndex+=2;continue}let d=new ui;d.isVirtual=!1,d.content="<=",d.startPosition=e._lexerRelativeOffset(this.currentIndex),d.endPosition=e._lexerRelativeOffset(this.currentIndex+2),d.parent=this.activeNode,this.runtimeNodes.push(d),this.lastNode=d,this.currentIndex+=1;continue}let l=new ci;l.isVirtual=!1,l.content="<",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_GreaterThan){if(this.next==H.Punctuation_Equals){let u=new jr;u.isVirtual=!1,u.content=">=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let l=new jr;l.isVirtual=!1,l.content=">",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_Equals&&this.next!=H.Punctuation_Equals){let l=new vr;l.isVirtual=!1,l.content="=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_Equals&&this.next==H.Punctuation_Equals){let l=null;if(this.currentIndex+2<this.inputLen&&(l=this.chars[this.currentIndex+2]),l==H.Punctuation_Equals){let u=new hi;u.isVirtual=!1,u.content="===",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+3),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=2}else{let u=new nr;u.isVirtual=!1,u.content="==",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1}continue}if(this.cur==H.Punctuation_Ampersand){if(this.next==H.Punctuation_Ampersand){let u=new Gr;u.isVirtual=!1,u.content="&&",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}if(this.next==H.Punctuation_Equals){let u=new Ui;u.isVirtual=!1,u.content="&=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+1),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u;continue}let l=new Gr;l.isVirtual=!1,l.content="&",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_Pipe&&this.next!=H.Punctuation_Pipe){let l=new xn;l.isVirtual=!1,l.content="|",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.isParsingModifierName=!0;continue}if(this.cur==H.Punctuation_Pipe&&this.next==H.Punctuation_Pipe){let l=new Wr;l.isVirtual=!1,l.content="||",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}if(this.cur==H.Punctuation_Exclamation){if(this.next==H.Punctuation_Equals){let u=null;if(this.currentIndex+2<this.inputLen&&(u=this.chars[this.currentIndex+2]),u==H.Punctuation_Equals){let h=new di;h.isVirtual=!1,h.content="!==",h.startPosition=e._lexerRelativeOffset(this.currentIndex),h.endPosition=e._lexerRelativeOffset(this.currentIndex+3),h.parent=this.activeNode,this.runtimeNodes.push(h),this.lastNode=h,this.currentIndex+=2;continue}let d=new fi;d.isVirtual=!1,d.content="!=",d.startPosition=e._lexerRelativeOffset(this.currentIndex),d.endPosition=e._lexerRelativeOffset(this.currentIndex+2),d.parent=this.activeNode,this.runtimeNodes.push(d),this.lastNode=d,this.currentIndex+=1;continue}let l=new In;l.isVirtual=!1,l.content="!",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_Question&&this.next==H.Punctuation_Equals){let l=new ss;l.isVirtual=!1,l.content="?=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}if(this.cur==H.Punctuation_Question&&this.next==H.Punctuation_Question){let l=new Hr;l.isVirtual=!1,l.content="??",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}if(this.cur==H.Punctuation_Question&&this.next==H.Punctuation_Colon){let l=new Hr;l.isVirtual=!1,l.content="?:",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}if(this.cur==H.Punctuation_Question){let l=new gi;l.isVirtual=!1,l.content="?",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.LeftParen){let l=new pn;l.isVirtual=!1,l.content="(",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.RightParent){let l=new cn;l.isVirtual=!1,l.content=")",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_Colon){if(this.runtimeNodes.length>0&&this.runtimeNodes[this.runtimeNodes.length-1]instanceof En){let d=new Bn;d.isVirtual=!1,d.content=":",d.startPosition=e._lexerRelativeOffset(this.currentIndex),d.endPosition=e._lexerRelativeOffset(this.currentIndex+1),d.parent=this.activeNode,this.runtimeNodes.push(d),this.isInModifierParameterValue==!1?this.isInModifierParameterValue=!0:this.isInModifierParameterValue=!1;continue}let l=new Ht;l.isVirtual=!1,l.content=":",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.isParsingModifierName=!1;continue}}o&&this.appendContent(this.cur)}}let s=this.runtimeNodes.length-1;for(let o=0;o<this.runtimeNodes.length;o++){let l=null,u=null;o>0&&(l=this.runtimeNodes[o-1]),o!=s&&(u=this.runtimeNodes[o+1]);let d=this.runtimeNodes[o];d.prev=l,d.next=u}return this.runtimeNodes}}});var sn,Ts,Yg=E(()=>{Li();Di();nt();Sn();xi();sn=class{constructor(){this.chars=[];this.currentIndex=0;this.lastIndex=0;this.inputLength=0;this.prev=null;this.cur=null;this.next=null;this.isParsingString=!1;this.isStringKeyPath=!1;this.antlersErrors=[];this._recusriveEntryCheck=new Map}isValidChar(e){return!(this.isParsingString==!1&&te.ctypeSpace(e)||this.isParsingString==!1&&e==sn.LeftBracket||this.isParsingString==!1&&e==sn.RightBracket)}normalizePath(e){return e=e.replace(":","_"),e=e.replace(".","_"),e=e.replace("[","_"),e=e.replace("]","_"),e.replace("]","_")}getAntlersErrors(){return this.antlersErrors}mergeErrors(e){e.forEach(n=>{this.antlersErrors.push(n)})}parse(e){this.antlersErrors=[],this._recusriveEntryCheck.clear();let n=e,r=!1,i=!1,s=!1,o=!1;e.startsWith(H.AtChar)&&(s=!0,e=e.substr(1)),e.startsWith(H.Punctuation_Caret)?(o=!0,e=e.substr(1)):(e.startsWith(H.Punctuation_Dollar)&&(r=!0,e=e.substr(1)),e.startsWith(H.Punctuation_Dollar)&&(i=!0,e=e.substr(1))),this.chars=[],this.currentIndex=0,this.lastIndex=0,this.inputLength=0,this.cur=null,this.prev=null,this.next=null,this.chars=e.split(""),this.inputLength=this.chars.length,this.lastIndex=this.inputLength-1;let l=[],u=!1,d=[],h=sn.ColonSeparator,m=!1,y=null,b=!1,T=!0;if(this.isParsingString=!1,this.inputLength==0){let _=new Ms;return _._isFromEmptyFailState=!0,_}for(this.currentIndex;this.currentIndex<this.inputLength;this.currentIndex+=1){if(this.cur=this.chars[this.currentIndex],this.next=null,m?(m=!1,this.prev=""):this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLength&&(this.next=this.chars[this.currentIndex+1]),this.isParsingString==!1&&this.cur==sn.ColonSeparator&&(h=sn.ColonSeparator),this.isParsingString==!1&&this.cur==sn.DotPathSeparator&&(h=sn.DotPathSeparator),this.isParsingString&&this.cur==H.String_EscapeCharacter&&this.next==y){y!=null&&l.push(y),this.currentIndex+=1;continue}if(this.cur==H.String_Terminator_SingleQuote||this.cur==H.String_Terminator_DoubleQuote)if(this.isParsingString)if(this.cur==y)if(this.prev==H.String_EscapeCharacter){l.push(this.cur);continue}else this.isParsingString=!1,T=!1;else{l.push(this.cur);continue}else{this.prev!=null&&this.prev!=H.LeftBracket&&(te.ctypeAlpha(this.prev)||te.ctypeDigit(this.prev))&&this.antlersErrors.push(X.makeSyntaxError(O.PATH_STRING_NOT_INSIDE_ARRAY_ACCESSOR,null,"Unexpected string start while parsing variable path. String literals must be within array accessors.")),this.isParsingString=!0,b=!0,y=this.cur,this.isStringKeyPath=!0;continue}if(this.isParsingString){if(te.ctypeSpace(this.cur)){l.push(this.cur);continue}else if(this.cur==H.String_EscapeCharacter){if(this.next==H.String_EscapeCharacter){l.push(H.String_EscapeCharacter),this.currentIndex+=1,m=!0;continue}else if(this.next=="n"){l.push(`
`),this.currentIndex+=1;continue}else if(this.next=="t"){l.push("	"),this.currentIndex+=1;continue}else if(this.next=="r"){l.push("\r"),this.currentIndex+=1;continue}}}if(this.isParsingString==!1&&this.cur==sn.LeftBracket){if(l.length>0){let v=new gr;v.name=l.join(""),v.delimiter=h,d.push(v),l=[]}if(this.next==null||te.ctypeSpace(this.next)){this.antlersErrors.push(X.makeSyntaxError(O.TYPE_ILLEGAL_VARPATH_SPACE_RIGHT,null,"Unexpected end of input or whitespace while parsing variable accessor path."));continue}let _=this.locateEndOfAccessor();this.currentIndex=_.foundOn;let P=new sn;if(d.push(P.parse(_.nestedContent)),this.mergeErrors(P.getAntlersErrors()),u=!0,this.currentIndex==-1){this.antlersErrors.push(X.makeSyntaxError(O.PARSER_CANNOT_PARSE_PATH_RECURSIVE,null,"Cannot parse variable path.")),u=!1;break}continue}if(this.isParsingString==!1&&this.next==sn.RightBracket&&u){T?l.push(this.cur):T=!0;let _=new rh;_.name=l.join(""),d.push(_),l=[],h=sn.ColonSeparator,this.currentIndex+=1,u=!1;continue}if(this.isParsingString==!1&&(this.cur==sn.LeftBracket||this.cur==sn.ColonSeparator||this.cur==sn.DotPathSeparator||this.currentIndex==this.lastIndex)){if(this.next==null||te.ctypeSpace(this.next)){if(this.cur==sn.ColonSeparator){if(l.length==0){this.antlersErrors.push(X.makeSyntaxError(O.TYPE_UNEXPECTED_BRANCH_SEPARATOR,null,"Unexpected [T_BRANCH_SEPARATOR] while parsing input text."));continue}this.antlersErrors.push(X.makeSyntaxError(O.TYPE_ILLEGAL_VARPATH_RIGHT,null,'Variable paths cannot end with the ":" character.'));continue}if(this.cur==sn.LeftBracket){this.antlersErrors.push(X.makeSyntaxError(O.TYPE_ILLEGAL_VARPATH_SUBPATH_START,null,"Illegal variable sub-path start."));continue}}this.currentIndex==this.lastIndex&&this.isValidChar(this.cur)&&(T?l.push(this.cur):T=!0);let _=new gr;_.delimiter=h,_.name=l.join(""),b&&(_.isStringVar=b,_.name=n.substr(1),_.name=_.name.slice(0,-1),b=!1),d.push(_),l=[];continue}else{l.push(this.cur);continue}}let x=d.length;if(x>0){let _=d[x-1];(_ instanceof gr||_ instanceof Ms)&&(_.isFinal=!0)}let D=new Ms;return D.isStrictTagReference=o,D.isStrictVariableReference=r,D.isExplicitVariableReference=i,D.pathParts=d,D.originalContent=e,D.isVariableVariable=s,D.normalizedReference=e.replace(":","."),D}locateEndOfAccessor(){let e=[],n=1,r=-1,i="",s=!1,o=null;if(this._recusriveEntryCheck.has(this.currentIndex+1)==!1)this._recusriveEntryCheck.set(this.currentIndex+1,!0);else return{foundOn:r,nestedContent:""};for(let l=this.currentIndex+1;l<this.inputLength;l++){let u=this.chars[l],d=null,h=null;if(l>0&&(h=this.chars[l-1]),l+1<this.inputLength&&(d=this.chars[l+1]),s==!1&&(u==H.String_Terminator_SingleQuote||u==H.String_Terminator_DoubleQuote)){s=!0,o=u,e.push(u);continue}if(s==!1&&u==sn.LeftBracket){n+=1,e.push(u);continue}if(s&&u==o&&h!=H.String_EscapeCharacter){e.push(u),s=!1,o=null;continue}if(s==!1&&u==sn.RightBracket)if(n-=1,n==0){r=l,i=e.join("");break}else{e.push(u);continue}else e.push(u);s==!1&&te.ctypeSpace(d)&&this.antlersErrors.push(X.makeSyntaxError(O.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR,null,"Unexpected end of input or whitespace while parsing inner variable accessor path.")),d==null&&this.antlersErrors.push(X.makeSyntaxError(O.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR,null,"Unexpected end of input or whitespace while parsing inner variable accessor path."))}return{foundOn:r,nestedContent:i}}},Ts=sn;Ts.ColonSeparator=":",Ts.LeftBracket="[",Ts.RightBracket="]",Ts.DotPathSeparator="."});var Kg,PE=E(()=>{_o();vE();IE();Li();Di();CE();nt();wc();Sn();xi();Yg();Kg=class{constructor(){this.chars=[];this.inputLen=0;this.currentIndex=0;this.cur=null;this.prev=null;this.pathParser=new Ts;this.lexer=new Hg;this.activeNode=null}reset(){this.chars=[],this.inputLen=0,this.currentIndex=0,this.cur=null,this.prev=null}canBeClosingTag(e){var r;let n=(r=e.name)==null?void 0:r.name;return n=="elseif"||n=="else"?!0:e.name==null?!1:e.name.content.startsWith("/")}parseNode(e){var h,m,y,b;if(this.activeNode=e,this.reset(),e.content.startsWith("*subrecursive")){let T=e.content;T=T.trim(),T=te.trimRight(T,"*"),T=T.substr(13);let x=new qr;return e.copyBasicDetailsTo(x),x.originalNode=e,x.name=new sr,x.name.name=T,x.isNestedRecursive=!0,x.pathReference=this.pathParser.parse(T),x.mergeErrors(this.pathParser.getAntlersErrors()),x.content=T,x.runtimeContent=T,x}if(e.content.trim().startsWith("*recursive")){let T=e.content;T=T.trim(),T=te.trimRight(T,"*"),T=T.substr(10).trim();let x=new qr;return e.copyBasicDetailsTo(x),x.originalNode=e,x.name=new sr,x.name.name=T,x.pathReference=this.pathParser.parse(T),x.mergeErrors(this.pathParser.getAntlersErrors()),x.content=T,x.runtimeContent=T,x}this.chars=e.content.split(""),this.inputLen=this.chars.length;let n=[],r=!1,i="",s=!1,o=null;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1)if(this.cur=this.chars[this.currentIndex],this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),r==!1){if(s==!1&&(this.cur==H.String_Terminator_DoubleQuote||this.cur==H.String_Terminator_SingleQuote)){o=this.cur,s=!0,n.push(this.cur);continue}if(s&&te.ctypeSpace(this.cur)){n.push(this.cur);continue}if(s&&this.cur==o&&this.prev!=H.String_EscapeCharacter){o=null,s=!1,n.push(this.cur);continue}if(te.ctypeSpace(this.cur)||this.currentIndex==this.inputLen-1||this.cur==H.Punctuation_Pipe){if(n.length==0)continue;te.ctypeSpace(this.cur)||this.cur!=H.Punctuation_Pipe&&n.push(this.cur),i=n.join(""),r=!0;break}n.push(this.cur)}let l=e.getContentRelativeStartIndex();if(e.nameStartsOn=e.relativeOffset(l,l),e.nameStartsOn!=null&&(e.nameEndsOn=e.nameStartsOn.shiftRight(i.length-1),i.includes(H.Punctuation_Colon))){let T=i.indexOf(H.Punctuation_Colon);e.nameMethodPartStartsOn=e.nameStartsOn.shiftRight(T+1)}e.name=jg.getIdentifier(i),Ug.analyzeNode(e),e.parameters=this.getParameters(e),e.hasParameters=e.parameters.length>0,e.hasParameters&&(Ug.analyzeParametersForModifiers(e),e.resetContentCache()),e.pathReference=this.pathParser.parse(i),e.mergeErrors(this.pathParser.getAntlersErrors()),e.pathReference!=null&&e.pathReference.isStrictTagReference&&(e.name.name=e.name.name.substr(1),e.name.content=e.name.content.substr(1)),e.isClosingTag=this.canBeClosingTag(e);let u=[];e.isClosingTag==!1&&(u=this.lexer.tokenize(e,e.getContent())),e.runtimeNodes=u;let d=e.content.trim();if(Tr.isConditionalStructure(e)&&e.name.name!="else"&&u.length==0&&d!="/if"&&d!="/unless"&&d!="/endunless"&&d!="endif"&&d!="endunless"&&d!="/endif"&&e.getContent().trim().length==0&&this.pushConditionWithoutExpression(e),e.name.name=="endif"){let T=e.copyBasicDetails(),x=e.getParser();return x!=null&&T.withParser(x),T.name=new sr,T.name.name="if",T.name.compound="if",T.isClosingTag=!0,T.content=" /if ",T.originalNode=e,T}if(e.name.name=="unless"){let T=e.copyBasicDetails(),x=e.getParser();if(x!=null&&T.withParser(x),T.name=new sr,T.name.name="if",T.name.compound="if",e.isClosingTag==!1){let D=(h=e.getContent())!=null?h:"",_=" if !("+D+") ";T.content=_,T.originalNode=e,T.resetContentCache(),T.runtimeNodes=this.lexer.tokenize(T,(m=T.getContent())!=null?m:""),this.testUnlessContent(T)}else T.originalNode=e,T.content=" /if ";return T}else if(e.name.name=="elseunless"){let T=e.copyBasicDetails(),x=e.getParser();x!=null&&T.withParser(x),T.name=new sr,T.name.name="elseif",T.name.compound="elseif";let D=(y=e.getContent())!=null?y:"",_=" elseif !("+D+") ";return T.content=_,T.originalNode=e,T.resetContentCache(),T.runtimeNodes=this.lexer.tokenize(T,(b=T.getContent())!=null?b:""),this.testUnlessContent(T),T}else if(e.name.name=="endunless"){let T=e.copyBasicDetails(),x=e.getParser();return x!=null&&T.withParser(x),T.name=new sr,T.name.name="if",T.name.compound="if",T.isClosingTag=!0,T.content=" /if ",T.originalNode=e,T}return e}pushError(e){this.activeNode!=null&&this.activeNode.pushError(e)}testUnlessContent(e){var r;let n=(r=e.getContent())!=null?r:"";if(n=n.replace("!",""),n=n.replace("(",""),n=n.replace(")","").trim(),n.length==0){this.pushConditionWithoutExpression(e);return}}pushConditionWithoutExpression(e){this.pushError(X.makeSyntaxError(O.TYPE_PARSE_EMPTY_CONDITIONAL,e,"Condition structure lacks comparison expression."))}getParameters(e){var J,Y,ae,he,be,Te,pe,at,Se;let n=(J=e.getContent())!=null?J:"",r=n.split(""),i=[],s=[],o=r.length,l=0;if(e.name!=null){let se=te.trimLeft(e.content," "),rt=e.content.length-se.length,Ct=e.name.content.length;rt>0?l=rt+Ct:l=Ct}let u=!1,d=[],h="",m=0,y=0,b=!1,T=null,x=-1,D=-1,_=-1,P=-1,v=-1,S=-1,w='"';for(let se=0;se<o;se++){let rt=r[se],Ct=null,Ln=null;if(se+1<o&&(Ln=r[se+1]),b?(Ct="",b=!1):se>0&&(Ct=r[se-1]),u==!1&&te.ctypeSpace(rt)){d=[],x=-1,D=-1,_=-1,P=-1,v=-1,S=-1;continue}if(u==!1&&rt==H.Punctuation_Equals){if(d.length>0&&(te.ctypeAlpha(d[0])||te.ctypeDigit(d[0])||d[0]==H.Punctuation_Colon||d[0]==H.AtChar)==!1){d=[];continue}if(se+1>=o){this.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_END_OF_INPUT,e,"Unexpected end of input"));continue}let ot=null;if(se+1<o&&(ot=r[se+1]),Ct==H.Punctuation_Equals){d=[],x=-1,D=-1,_=-1,P=-1,v=-1,S=-1;continue}if(te.ctypeSpace(ot)||ot==H.Punctuation_Equals){d=[],x=-1,D=-1,_=-1,P=-1,v=-1,S=-1;continue}d.length>0&&(P=se,v=se,h=d.join(""),m=y,u=!0,d=[]),Ln==H.String_Terminator_DoubleQuote&&(T=H.String_Terminator_DoubleQuote,w=H.String_Terminator_DoubleQuote,se+=1),Ln==H.String_Terminator_SingleQuote&&(T=H.String_Terminator_SingleQuote,w=H.String_Terminator_SingleQuote,se+=1);continue}if(u&&rt==H.String_EscapeCharacter){let ot=null;if(se+1<o&&(ot=r[se+1]),ot==H.String_EscapeCharacter){d.push(H.String_EscapeCharacter),se+=1,b=!0;continue}if(ot==H.String_Terminator_DoubleQuote){d.push(H.String_Terminator_DoubleQuote),se+=1;continue}if(ot==H.String_Terminator_SingleQuote){d.push(H.String_Terminator_SingleQuote),se+=1;continue}if(ot=="n"){d.push(`
`),se+=1;continue}if(ot=="r"){d.push("\r"),se+=1;continue}}if(u==!1&&(T!=null&&rt==T||T==null&&te.ctypeSpace(rt))&&i.push(d.join("")),u&&(T!=null&&rt==T||T==null&&te.ctypeSpace(rt))){let ot=d.join("");S=se,D=se,u=!1,T=null,d=[];let Ut=new Xl;if(h.startsWith(H.Punctuation_Colon)&&(Ut.isVariableReference=!0,h=h.substr(1)),Ut.nameDelimiter=w,Ut.name=h,Ut.value=ot,Ut.startPosition=(Y=e.relativePositionFromOffset(y,m))!=null?Y:null,se+1>o){this.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NODE_PARAMETER,e,"Unexpected end of input while parsing parameter content.")),Ut.parent=e,s.push(Ut),h="";continue}Ut.endPosition=(ae=e.relativePositionFromOffset(se+1,se+1))!=null?ae:null,Ut.parent=e,Ut.blockPosition={start:(he=e.relativeOffset(x,x))!=null?he:null,end:(be=e.relativeOffset(D,D))!=null?be:null},Ut.namePosition={start:(Te=e.relativeOffset(_,_))!=null?Te:null,end:(pe=e.relativeOffset(P,P))!=null?pe:null},Ut.valuePosition={start:(at=e.relativeOffset(v+2,v+2))!=null?at:null,end:(Se=e.relativeOffset(S,S))!=null?Se:null},s.push(Ut),h="",x=-1,D=-1,_=-1,P=-1,v=-1,S=-1;continue}if(u==!1&&(rt==H.String_Terminator_DoubleQuote||rt==H.String_Terminator_SingleQuote)&&se>l)break;d.push(rt),x==-1&&(x=se),_==-1&&(_=se),d.length==1&&(y=se+1)}if(T!=null){let se=e;if(i.length>0){let rt=i[i.length-1],Ct=e.content.indexOf(rt);if(Ct>=0){let Ln=new ce;Ln.startPosition=e.relativeOffset(Ct-2,Ct-2),Ln.endPosition=e.relativeOffset(Ct+rt.length,Ct+rt.length),se=Ln}}this.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_END_OF_INPUT,se,"Unexpected string literal while parsing parameters."))}return s}}});function Lc(t){return t.length==0?null:t[0].startPosition}var $g=E(()=>{});var AE,Cd,SE=E(()=>{AE=Ge(Eu()),Cd=class{static regions(){return this.noParseRegions}static clear(){this.noParseRegions.clear()}static registerNoParseContent(e){let n=AE.Md5.hashStr(e);return this.noParseRegions.set(n,e),n}};Cd.noParseRegions=new Map});function zg(t,e){let n=new Set(t),r=new Set(e),i=new Set([...n].filter(s=>r.has(s)));return Array.from(i)}var xE=E(()=>{});var Qg,Pd,EE=E(()=>{Ma();Li();Di();nt();$g();wc();SE();xE();_o();Qg=class{constructor(){this.closingTagIndex=new Map;this.closingTagIndexCount=new Map;this.openTagIndexCount=new Map;this.closingTagNames=new Map;this.parentNode=null;this.stackCount=0;this.createdExecutionBranches=[];this.document=null}getClosingCandidates(e){var n,r;if((e instanceof Z||e instanceof xt)&&e.isClosingTag==!1){let i=(r=(n=e.name)==null?void 0:n.compound)!=null?r:"";return i=="if"?["if","elseif","else"]:i=="elseif"?["elseif","else","if"]:i=="else"?["if"]:[i]}return[]}buildCloseIndex(e){var n,r,i;e.forEach(s=>{var o,l,u,d,h,m,y,b,T,x;if(!(s instanceof qr)&&!((s instanceof Z||s instanceof xt)&&s.isSelfClosing)&&(s instanceof Z||s instanceof xt)&&s.isClosingTag){this.closingTagIndex.has(this.stackCount)==!1&&this.closingTagIndex.set(this.stackCount,new Map),this.closingTagIndexCount.has(this.stackCount)==!1&&this.closingTagIndexCount.set(this.stackCount,new Map);let D=(l=(o=s.name)==null?void 0:o.compound)!=null?l:"";((u=this.closingTagIndex.get(this.stackCount))==null?void 0:u.has(D))==!1&&((d=this.closingTagIndex.get(this.stackCount))==null||d.set(D,[]),(h=this.closingTagIndexCount.get(this.stackCount))==null||h.set(D,0)),(y=(m=this.closingTagIndex.get(this.stackCount))==null?void 0:m.get(D))==null||y.push(s);let _=(T=(b=this.closingTagIndexCount.get(this.stackCount))==null?void 0:b.get(D))!=null?T:0;(x=this.closingTagIndexCount.get(this.stackCount))==null||x.set(D,_+1)}}),this.closingTagNames.has(this.stackCount)==!1&&this.closingTagNames.set(this.stackCount,[]),this.closingTagIndex.has(this.stackCount)&&(this.closingTagNames.set(this.stackCount,Array.from((r=(n=this.closingTagIndex.get(this.stackCount))==null?void 0:n.keys())!=null?r:[])),(i=this.closingTagIndex.get(this.stackCount))==null||i.forEach((s,o)=>{var d,h,m,y,b,T,x;let l=s.length;if(l==0)return;let u=s[l-1];for(let D=0;D<l;D++){let _=e[D];if(_ instanceof Z||_ instanceof xt){if(_ instanceof qr)continue;if(_.index>=u.index)break;let P=(h=(d=_.name)==null?void 0:d.compound)!=null?h:"";if(_.isClosingTag==!1&&o==P&&!_.isSelfClosing){this.openTagIndexCount.has(this.stackCount)==!1&&this.openTagIndexCount.set(this.stackCount,new Map),((m=this.openTagIndexCount.get(this.stackCount))==null?void 0:m.has(o))==!1&&((y=this.openTagIndexCount.get(this.stackCount))==null||y.set(o,0));let v=(T=(b=this.openTagIndexCount.get(this.stackCount))==null?void 0:b.get(o))!=null?T:0;(x=this.openTagIndexCount.get(this.stackCount))==null||x.set(o,v+1)}}}}))}getScanForList(e){var n;if(e instanceof Z||e instanceof xt){let r=(n=e.name)==null?void 0:n.compound;if(r=="else")return["if"];if(r=="elseif")return["elseif","else","if"];if(e.isClosingTag==!1){let i=this.getClosingCandidates(e),s=this.closingTagNames.get(this.stackCount);return zg(i,s)}}return[]}canPossiblyClose(e){var n,r;if(e instanceof qr)return!1;if(e instanceof xt||e instanceof Z){if(e.isComment||e.isSelfClosing)return!1;let i=(r=(n=e.name)==null?void 0:n.compound)!=null?r:"";if(i=="else"||i=="elseif")return!0;if(e.isClosingTag==!1){let s=this.getClosingCandidates(e),o=this.closingTagNames.get(this.stackCount);return zg(s,o).length>0}}return!1}findClosingPair(e,n,r){var l,u,d,h;let i=n.runtimeNodes.length,s=e.length,o=0;for(let m=0;m<s;m++){let y=e[m];if(y instanceof Z||y instanceof xt)if(n.endPosition!=null&&y.startPosition!=null){if(n.endPosition.isBefore(y.startPosition)){if(y.isClosingTag&&y.isOpenedBy!=null||y.isSelfClosing)continue;let b=(u=(l=y.name)==null?void 0:l.compound)!=null?u:"";if(y.isClosingTag==!1){if(r.includes(b)){let T=(d=this.openTagIndexCount.get(this.stackCount))==null?void 0:d.get(b),x=(h=this.closingTagIndexCount.get(this.stackCount))==null?void 0:h.get(b);T!=x&&y.runtimeNodes.length>=i,o+=1}continue}if(r.includes(b)&&o>0){o-=1;continue}if(o==0&&r.includes(b)){y.isOpenedBy=n,n.isClosedBy=y;break}}}else continue}}associate(e,n){var s,o,l,u,d,h,m;this.document=n;let r=[{documentNodes:e,parent:null}],i=[];for(;r.length>0;){let y=r.pop();if(y==null)continue;let b=y.documentNodes;this.parentNode=y.parent,this.stackCount+=1,this.buildCloseIndex(b),b=Tr.pairConditionals(b),b.forEach(_=>{if((_ instanceof Z||_ instanceof xt)&&this.canPossiblyClose(_)){if(Tr.isConditionalStructure(_))return;let P=this.getScanForList(_);this.findClosingPair(b,_,P)}});let T=b.length;for(let _=0;_<T;_++){let P=b[_];if((P instanceof Z||P instanceof xt)&&P.isClosedBy!=null)for(let v=_+1;v<T;v++){let S=b[v];if(S.index>P.isClosedBy.index)break;if(S.parent=P,P.children.push(S),S instanceof Z&&S.index==P.index){S.parent=P;break}}}b.forEach(_=>{if((_ instanceof Z||_ instanceof xt)&&_.children.length>0){let P=[];_.children.forEach(v=>{v.parent!=null&&v.parent.index==_.index&&(v.parent=_,P.push(v))}),r.push({documentNodes:P,parent:_})}});let x=[];b.forEach(_=>{this.parentNode==null?_.parent==null&&x.push(_):_.parent==this.parentNode&&x.push(_)}),x=this.reduceConditionals(x,n);let D=new Map;b.forEach(_=>{var P,v,S,w;if((_ instanceof Z||_ instanceof xt)&&_.isClosedBy!=null&&this.document!=null){let J=this.document.getText(((v=(P=_.endPosition)==null?void 0:P.index)!=null?v:0)+1,(w=(S=_.isClosedBy.startPosition)==null?void 0:S.index)!=null?w:0);_.runtimeContent=J}});for(let _=0;_<x.length;_++){let P=x[_],v=(s=P.refId)!=null?s:"";if(D.set(v,1),(P instanceof Z||P instanceof xt)&&P.isComment==!1&&((o=P.name)==null?void 0:o.name)=="noparse"&&!(P instanceof Nn)&&P.isClosingTag==!1){if(P.isClosedBy==null){P.pushError(X.makeSyntaxError(O.TYPE_NO_PARSE_UNASSOCIATED,P,"Encountered noparse region without a closing tag. All noparse regions must be closed."));continue}let S=P.content;this.document!=null&&(S=this.document.getText(((u=(l=P.endPosition)==null?void 0:l.index)!=null?u:0)+1,(m=(h=(d=P.isClosedBy)==null?void 0:d.startPosition)==null?void 0:h.index)!=null?m:0));let w=new Nn,J=P.getParser();J!=null&&w.withParser(J),P.copyBasicDetailsTo(w),w.name=new sr,w.name.name="noparse",w.name.compound="noparse",w.content=Cd.registerNoParseContent(S),w.originalNode=P,w.isClosedBy=P.isClosedBy,w.parent=P.parent,x[_]=w}}if(this.parentNode!=null&&(this.parentNode instanceof xt||this.parentNode instanceof Z)&&(this.parentNode.children=this.cleanNodes(x),this.parentNode.parent!=null&&this.parentNode.parent instanceof Z)){let _=this.parentNode.parent.children,P=[];_.forEach(v=>{var S;D.has((S=v.refId)!=null?S:"")==!1&&P.push(v)}),this.parentNode.parent.children=this.cleanNodes(P)}this.stackCount<=1&&(i=x)}return this.createdExecutionBranches.length>0&&this.createdExecutionBranches.forEach(y=>{y.head!=null&&(y.nodes=y.head.children)}),i}cleanNodes(e){let n=[],r=[];for(let i=0;i<e.length;i++){let s=e[i],o=s.refId;if(r.includes(o))break;n.push(s),r.push(o)}return n}findEndOfBranch(e,n,r){let i=[],s=r,o=null;for(let l=0;l<e.length;l++){let u=e[l];if((u instanceof Z||u instanceof xt)&&u.isOpenedBy!=null&&u.isOpenedBy==n){o=u;break}else i.push(u)}return{children:i,tail:o,offset:s}}reduceConditionals(e,n){var i,s,o,l,u,d,h,m,y,b,T,x;let r=[];for(let D=0;D<e.length;D++){let _=e[D];if((_ instanceof Z||_ instanceof xt)&&_.isComment==!1&&_.isClosingTag==!1&&_.isClosedBy!=null)if(((s=(i=_.name)==null?void 0:i.compound)!=null?s:"")=="if"){let v=new Fn;v.index=_.index,v.chain.push(_.index),v.fragment=_.fragment,v.fragmentPosition=_.fragmentPosition,v.containsAnyFragments=_.containsAnyFragments,v.containsChildStructures=_.containsChildStructures;let S=(l=(o=_.startPosition)==null?void 0:o.offset)!=null?l:0,w=_.getFinalClosingTag(),J=((d=(u=w.endPosition)==null?void 0:u.offset)!=null?d:0)+1;v.nodeContent=n.getText(S,J),this.parentNode!=null&&(v.parent=this.parentNode);let Y=null,ae=!0,he=0;for(;ae;){if(he+=1,he>Qg.ForceBreakLimit){ae=!1;break}if(_ instanceof Z||_ instanceof xt){let be=this.findEndOfBranch(e.slice(D+1),_,D),Te=new Jp,pe=be.tail;Te.head=_,Te.tail=pe,Te.nodes=this.cleanNodes(_.children);let at=((m=(h=_.endPosition)==null?void 0:h.offset)!=null?m:0)+1,Se=(T=(b=(y=_.isClosedBy)==null?void 0:y.startPosition)==null?void 0:b.offset)!=null?T:0,se=n.getText(at,Se);if(Te.documentText=se,n.shouldParseChildDocument()&&(Te.childDocument=Tn.childFromText(Te.documentText,Lc(Te.nodes))),pe==null&&(pe=Te.head.isClosedBy),pe!=null&&pe.startPosition!=null&&(Te.startPosition=pe.startPosition),pe!=null&&(Te.index=pe.index),Te.nodes.length>0){let rt=Te.nodes[Te.nodes.length-1];rt.endPosition!=null&&(Te.endPosition=rt.endPosition)}else pe!=null&&pe.endPosition!=null&&(Te.endPosition=pe.endPosition);if(this.createdExecutionBranches.push(Te),v.logicBranches.push(Te),(pe==null?void 0:pe.isClosingTag)&&((x=pe.name)==null?void 0:x.compound)=="if"){Y=be.offset,ae=!1;break}else pe!=null&&v.chain.push(pe.index),D=be.offset,pe instanceof Z&&(_=pe)}else ae=!1}if(v.logicBranches.length>0){let be=v.logicBranches[0],Te=v.logicBranches[v.logicBranches.length-1];be.startPosition!=null&&(v.startPosition=be.startPosition),Te.endPosition!=null&&(v.endPosition=Te.endPosition)}if(r.push(v),Y!=null&&Y==e.length)break}else r.push(_);else r.push(_)}return r}},Pd=Qg;Pd.ForceBreakLimit=1e5});var Xg,RE=E(()=>{Li();Di();nt();Sn();Xg=class{static associateRecursiveParent(e){var n,r;for(let i=0;i<e.length;i++){let s=e[i];if(s instanceof qr){let o="*recursive "+((n=s.name)==null?void 0:n.name);if(i-1<0){s.pushError(X.makeSyntaxError(O.TYPE_RECURSIVE_NODE_INVALID_POSITION,s,"Unpaired recursive node. All recursive nodes must have a parent node introducing them."));continue}let l=null;for(let u=i-1;u>=0;u-=1){let d=e[u];if(!(d instanceof Et)&&d instanceof Z&&d.isClosedBy!=null){if(s.isNestedRecursive){if(d.content.trim()==((r=s.name)==null?void 0:r.name)){l=d;break}}else if(d.runtimeContent.includes(o)&&te.substringCount(s.runtimeContent,"*recursive")==1){l=d;continue}else if(l!=null)break}}if(l==null)continue;s.isNestedRecursive?(l.hasRecursiveNode=!0,s.recursiveParent=l,l.recursiveReference=s):l.parent!=null?l.parent instanceof Z&&(l.parent.hasRecursiveNode=!0,l.parent.recursiveReference=s,s.recursiveParent=l.parent):(l.hasRecursiveNode=!0,s.recursiveParent=l,l.recursiveReference=s)}}}}});var gl,kE=E(()=>{nt();gl=class{static getNearText(e){var r,i,s,o;if(e instanceof xe)return e.name;if(e instanceof en)return(i=(r=e.value)==null?void 0:r.toString())!=null?i:"";if(e instanceof Yt)return e.value;if(e instanceof En)return e.name;if(e instanceof un)return e.value;if(e instanceof Ti||e instanceof qi||e instanceof Ur||e instanceof ii||e instanceof ri||e instanceof In||e instanceof mi||e instanceof Xt||e instanceof vn||e instanceof si||e instanceof yr||e instanceof Bi||e instanceof Vn||e instanceof Fi||e instanceof li||e instanceof Nr||e instanceof ai||e instanceof br||e instanceof oi||e instanceof Vi||e instanceof pi||e instanceof ui||e instanceof ci||e instanceof is||e instanceof jr||e instanceof vr||e instanceof hi||e instanceof nr||e instanceof Gr||e instanceof xn||e instanceof Wr||e instanceof di||e instanceof fi||e instanceof ss||e instanceof Hr||e instanceof gi||e instanceof pn||e instanceof cn||e instanceof Bn||e instanceof Ht||e instanceof Ls||e instanceof qn||e instanceof Ui||e instanceof hn)return e.content;let n="";return e instanceof Z?e.originalNode!=null?n=e.originalNode.getContent():n=(o=(s=e.startPosition)==null?void 0:s.line.toString())!=null?o:"":e.originalAbstractNode!=null?n=e.originalAbstractNode.rawContent():n=e.rawContent(),n.length>15&&(n=n.substr(0,-15)),n}}});var Tl,OE=E(()=>{Tl=class{};Tl.deferredCoreLibraries=["arr","array","str","string","method","math","sys","convert","scope","stopwatch","file","path","url","request","json","datetime"]});var Mt,wE=E(()=>{Mt=class{};Mt.ARR_PLUCK="pluck",Mt.ARR_TAKE="take",Mt.ARR_SKIP="skip",Mt.ARR_MAKE="arr",Mt.ARR_ORDERBY="orderby",Mt.ARR_GROUPBY="groupby",Mt.ARR_MERGE="merge",Mt.QUERY_WHERE="where",Mt.STRUCT_SWITCH="switch",Mt.BITWISE_AND="bwa",Mt.BITWISE_OR="bwo",Mt.BITWISE_XOR="bxor",Mt.BITWISE_NOT="bnot",Mt.BITWISE_SHIFT_LEFT="bsl",Mt.BITWISE_SHIFT_RIGHT="bsr",Mt.operators=["pluck","take","arr","skip","orderby","groupby","merge","where","switch","bwa","bwo","bxor","bsl","bsr"]});var Jt,Dc=E(()=>{Li();Di();kE();Gg();nt();OE();wE();Ru();Sn();xi();Wg();Yg();Jt=class{constructor(){this.pathParser=new Ts;this.tokens=[];this.createdVariables=[];this.createdModifierChains=[];this.createdLanguageOperators=[];this.createdArrays=[];this.tracedAssignments=[];this.mergedVariablePaths=[];this.mergedComponents=new Map;this.modifierNameMapping=new Map;this.isRealModifierSeparator=new Map;this.isRoot=!0;this.retriggerNonVirtualGroupMembers=[]}hasModifierConstruct(e){return this.modifierNameMapping.has(e)}getModifierConstruct(e){return this.modifierNameMapping.get(e)}isActualModifierSeparator(e){return this.isRealModifierSeparator.has(e)}isMergedVariableComponent(e){return this.mergedComponents.has(e)}getMergedVariable(e){return this.mergedComponents.get(e)}getMergedVariablePaths(){return this.mergedVariablePaths}getCreatedModifierChains(){return this.createdModifierChains}getCreatedLangaugeOperators(){return this.createdLanguageOperators}getCreatedArrays(){return this.createdArrays}getCreatedVariables(){return this.createdVariables}getRuntimeAssignments(){return this.tracedAssignments}getAssignedVariables(){let e=[],n=[];for(let r=0;r<this.tracedAssignments.length;r++){let i=this.tracedAssignments[r];i.target instanceof xe&&n.includes(i.target.name)==!1&&(n.push(i.target.name),e.push(i.target))}return e}getAssignedVariableNames(){let e=[];for(let n=0;n<this.tracedAssignments.length;n++){let r=this.tracedAssignments[n];r.target instanceof xe&&e.includes(r.target.name)==!1&&e.push(r.target.name)}return e}reset(){this.tokens=[],this.createdModifierChains=[],this.createdLanguageOperators=[],this.createdArrays=[],this.createdModifierChains=[],this.createdLanguageOperators=[],this.tracedAssignments=[],this.createdArrays=[],this.mergedVariablePaths=[],this.mergedComponents.clear(),this.modifierNameMapping.clear()}parse(e){return this.tokens=e,this.tokens=this.combineVariablePaths(this.tokens),this.tokens=this.createLanguageOperators(this.tokens),this.tokens=this.createLogicalGroups(this.tokens),this.tokens=this.associateMethodCalls(this.tokens),this.tokens=this.createTupleLists(this.tokens),this.tokens=this.createLibraryInvocations(this.tokens),this.tokens=this.associateModifiers(this.tokens),this.tokens=this.createNullCoalescenceGroups(this.tokens),this.tokens=this.correctTypes(this.tokens),this.tokens=this.createTernaryGroups(this.tokens),this.tokens=this.applyOperationOrder(this.tokens),this.validateNeighboringOperators(this.tokens),this.tokens=this.createLogicGroupsToRemoveMethodInvocationAmbiguity(this.tokens),this.tokens=this.createLogicGroupsToResolveOperatorAmbiguity(this.tokens),this.validateNoDanglingLogicGroupEnds(this.tokens),this.isRoot&&(this.tokens=this.insertAutomaticStatementSeparators(this.tokens),this.retriggerNonVirtualGroupMembers.length>0&&this.retriggerNonVirtualGroupMembers.forEach(n=>{this.markAllNonVirtualAsListGroupMember(n)})),this.createSemanticGroups(this.tokens)}setIsRoot(e){return this.isRoot=e,this}validateNeighboringOperators(e){let n=e.length;for(let r=0;r<n;r++){let i=e[r];if(Jt.isOperatorType(i)){if(r+1>=n){i.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_OPERATOR,i,"Unexpected operator while parsing input text."));return}let s=e[r+1];if(Jt.isOperatorType(s)){s.pushError(X.makeSyntaxError(O.TYPE_OPERATOR_INVALID_ON_RIGHT,s,"Unexpected operator while parsing input text."));continue}}}}static isAssignmentOperator(e){return e instanceof si||e instanceof ai||e instanceof vr||e instanceof oi||e instanceof li||e instanceof Bi}static isOperatorType(e){return e instanceof si||e instanceof ai||e instanceof vr||e instanceof oi||e instanceof li||e instanceof Bi||e instanceof ss||e instanceof mi||e instanceof Gr||e instanceof In||e instanceof Wr||e instanceof qi||e instanceof Hr||e instanceof Ui||e instanceof yr||e instanceof br||e instanceof Fi||e instanceof Vi||e instanceof Nr||e instanceof Vn||e instanceof nr||e instanceof jr||e instanceof is||e instanceof ci||e instanceof ui||e instanceof fi||e instanceof di||e instanceof pi||e instanceof hi}markAllNonVirtualAsListGroupMember(e){e.forEach(n=>{if(n instanceof Je||n instanceof Yr||n instanceof os){n.start!=null&&n.start.isVirtual==!1&&(n.start.isListGroupMember=!0),n.end!=null&&n.end.isVirtual==!1&&(n.end.isListGroupMember=!0),n.scopeOperator!=null&&(n.scopeOperator.isListGroupMember=!0),n.nodes.forEach(r=>{this.markAllNonVirtualAsListGroupMember([r])});return}else n instanceof Zt&&(n.separatorToken!=null&&n.separatorToken.isVirtual==!1&&(n.separatorToken.isListGroupMember=!0),this.markAllNonVirtualAsListGroupMember(n.nodes));n.isVirtual==!1&&(n.isListGroupMember=!0),n.originalAbstractNode!=null&&n.originalAbstractNode!=n&&this.markAllNonVirtualAsListGroupMember([n.originalAbstractNode])})}markAllNonVirtualAsSwitch(e){e.forEach(n=>{if(n instanceof Je||n instanceof Yr||n instanceof os){n.start!=null&&n.start.isVirtual==!1&&(n.start.isSwitchGroupMember=!0),n.end!=null&&n.end.isVirtual==!1&&(n.end.isSwitchGroupMember=!0),n.scopeOperator!=null&&(n.scopeOperator.isSwitchGroupMember=!0),n.nodes.forEach(r=>{this.markAllNonVirtualAsSwitch([r])});return}else n instanceof Zt&&(n.separatorToken!=null&&n.separatorToken.isVirtual==!1&&(n.separatorToken.isSwitchGroupMember=!0),this.markAllNonVirtualAsSwitch(n.nodes));n.isVirtual==!1&&(n.isSwitchGroupMember=!0),n.originalAbstractNode!=null&&n.originalAbstractNode!=n&&this.markAllNonVirtualAsSwitch([n.originalAbstractNode])})}validateNoDanglingLogicGroupEnds(e){e.forEach(n=>{n instanceof cn&&n.pushError(X.makeSyntaxError(O.TYPE_LOGIC_GROUP_NO_START,n,"Unexpected [T_LOGIC_END] while parsing input text."))})}isValidModifierValue(e){return e instanceof un||e instanceof xe||e instanceof ii||e instanceof ri||e instanceof Ur||e instanceof en||e instanceof Yt}wrapNumberInVariable(e){var r,i,s,o;let n=new xe;return n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.name=(i=(r=e.value)==null?void 0:r.toString())!=null?i:"",n.content=(o=(s=e.value)==null?void 0:s.toString())!=null?o:"",n.originalAbstractNode=e,n.refId=e.refId,n.modifierChain=e.modifierChain,n.index=e.index,this.createdVariables.push(n),n}wrapArithmeticModifier(e,n){let r=new En;return r.startPosition=e.startPosition,r.endPosition=e.endPosition,r.originalAbstractNode=e,r.content=n,r.name=n,r.index=e.index,r}combineVariablePaths(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i],o=n.length;if(s instanceof Ht){if(o==0){s.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_BRANCH_SEPARATOR_FOR_VARCOMBINE,s,"Unexpected [T_BRANCH_SEPARATOR] while parsing input text."));continue}if(i+1>r){let d="";if(i>0){let h=e[i-1];d=gl.getNearText(h)}s.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_EOI_PARSING_BRANCH_GROUP,s,'Unexpected end of input while parsing input text near "'+d+gl.getNearText(s)+'".'));continue}let l=n[o-1],u=e[i+1];if(u instanceof en&&vt.distance(l,u)==1&&(u=this.wrapNumberInVariable(u)),l instanceof xe&&u instanceof xe&&vt.distance(l,u)==1){n.pop(),vt.mergeVarContentRight(":",s,u),vt.mergeVarRight(l,u),n.push(u),this.createdVariables.push(u),this.mergedVariablePaths.push(u),this.mergedComponents.set(s,u),this.mergedComponents.set(l,u),this.mergedComponents.set(u,u),i+=1;continue}else{n.push(s);continue}}else if(s instanceof Yt&&o>0){if(i+1>=r){n.push(s);continue}let l=n[o-1],u=e[i+1];if(l instanceof xe&&u instanceof xe&&vt.distance(l,s)<=1&&vt.distance(s,u)<=1){n.pop(),vt.mergeVarContentLeft(s.sourceTerminator+s.value+s.sourceTerminator,s,l),vt.mergeVarContentLeft(u.name,u,l),this.createdVariables.push(l),n.push(l),this.mergedVariablePaths.push(l),this.mergedComponents.set(s,l),this.mergedComponents.set(l,l),this.mergedComponents.set(u,l),i+=1;continue}else n.push(s)}else if(s instanceof Vn&&o>0){let l=n[o-1],u=e[i+1];if(l instanceof xe&&(u instanceof xe||u instanceof Wr)){let d=vt.distance(l,s),h=vt.distance(s,u);d<=1&&h<=1?(l.endPosition=u.endPosition,this.mergedComponents.set(s,l),this.mergedComponents.set(l,l),this.mergedComponents.set(u,l),i+=1):n.push(s)}else n.push(s)}else n.push(s)}return n.forEach(i=>{i instanceof xe&&(i.variableReference=this.pathParser.parse(i.name),i.mergeErrors(this.pathParser.getAntlersErrors()))}),n}convertVarNodeToOperator(e){let n=new mi;return n.content=e.name,n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.originalAbstractNode=e,e.convertedToOperator=!0,this.createdLanguageOperators.push(n),n}convertOperatorToVarNode(e){let n=new xe;return n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.content=e.content,n.name=e.content,n.originalAbstractNode=e,this.createdVariables.push(n),n}createLanguageOperators(e){let n=e.length;for(let r=0;r<n;r++){let i=e[r];if(i instanceof xe){if(i.name.includes(H.Punctuation_FullStop)){let s=i.name.split(H.Punctuation_FullStop);if(Mt.operators.includes(s[0])||Tl.deferredCoreLibraries.includes(s[0])){e[r]=this.convertVarNodeToOperator(i);continue}}if(Mt.operators.includes(i.name)){e[r]=this.convertVarNodeToOperator(i);continue}}if(i instanceof mi){if(r+1>=n){e[r]=this.convertOperatorToVarNode(i);continue}if(e[r+1]instanceof vn){e[r]=this.convertOperatorToVarNode(i);continue}}}return e}createLogicalGroups(e){let n=[],r=e.length,i=[];for(let o=0;o<r;o++){let l=e[o];if(l instanceof In){let u=this.countTypeRight(e,o,In);if(i.length==0&&e.length==u){l.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_LOGIC_NEGATION_OPERATOR,l,"Unexpected [T_LOGIC_INVERSE] while parsing input text."));continue}if(o>0&&i.length>0){let m=i[i.length-1];if(m instanceof en||m instanceof cn||m instanceof Je){if(m instanceof Je&&m.start instanceof In){m.start.pushError(X.makeSyntaxError(O.TYPE_FACTORIAL_MATERIALIZED_BOOL_DETECTED,m.start,"[T_AOP_FACTORIAL] operand will always materialize boolean type."));continue}let y=new Ls;y.startPosition=l.startPosition,y.endPosition=l.endPosition,y.content="!".repeat(u),y.originalAbstractNode=l,y.repeat=u,i.push(y),u>0&&(o+=u-1);continue}}if(u%2==0){o+=u-1;continue}let d=e[o+u];if(d instanceof pn){let m=o+u+1;if(m>=r){d.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_NEGATION_OFFSET,d,"Unexpected end of input while parsing input text."));continue}let y=this.findLogicalGroupEnd(e[o+u],e.slice(m));if(y.found){let b=y.logicalGroup,T=new Je;T.start=l,T.end=b,T.nodes.push(l),T.nodes.push(b),T.startPosition=l.startPosition,T.endPosition=b.endPosition,i.push(T),o+=y.skipCount+u}continue}let h=this.resolveValueRight(e,o);h.value!=null&&i.push(h.value),o+=h.negationCount}else i.push(l)}let s=i.length;for(let o=0;o<s;o++){let l=i[o];if(l instanceof pn){if(o+1>=s){l.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END_DUE_TO_NEGATION,l,"Unexpected end of input while parsing input text."));continue}let u=this.findLogicalGroupEnd(l,i.slice(o+1));u.found&&u.logicalGroup!=null&&n.push(u.logicalGroup),o+=u.skipCount}else if(l instanceof Ls){if(n.length==0){l.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_FACTORIAL_WHILE_CREATING_GROUPS,l,"Unexpected [T_AOP_FACTORIAL] while parsing input text."));continue}let u=n[n.length-1];if(!(u instanceof Je)&&!(u instanceof en)){l.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_FACTORIAL_OPERAND,l,"Unexpected left operand encountered for [T_AOP_FACTORIAL] while parsing input text."));continue}u=n.pop();let d=new Je;d.startPosition=u.startPosition,d.endPosition=l.endPosition,d.originalAbstractNode=l,d.nodes.push(u),d.nodes.push(l),n.push(d)}else n.push(l)}return n}makeArgGroup(e){let n=new Co,r=e.length;for(let s=0;s<r;s++){let o=e[s];if(this.isOperand(o)==!1){o.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_TOKEN_WHILE_PARSING_METHOD,o,"Unexpected ["+ne.getPrettyTypeName(o)+"] while parsing argument group."));continue}let l=null;if(s+1<r&&(l=e[s+1]),l==null||l instanceof Xt){n.args.push(e[s]),s+=1;continue}else if(l instanceof Ht){if(s+2>=r){o.pushError(X.makeSyntaxError(O.TYPE_ARG_UNEXPECTED_NAMED_ARGUMENT,o,"Unexpected end of input while parsing named argument."));continue}let u=e[s+2],d=new wu;d.startPosition=o.startPosition,d.endPosition=u.endPosition,d.content=o.content+u.content,d.name=o,d.value=u,o instanceof xe||o.pushError(X.makeSyntaxError(O.TYPE_INVALID_NAMED_ARG_IDENTIFIER,o,"Invalid type ["+ne.getPrettyTypeName(o)+"] supplied for named argument name.")),n.hasNamedArguments=!0,n.numberOfNamedArguments+=1,n.args.push(d),s+3<r&&e[s+3]instanceof Xt?s+=3:s+=2;continue}}let i=!1;return n.args.forEach(s=>{s instanceof wu?i=!0:i&&s.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_UNNAMED_METHOD_ARGUMENT,s,"Unnamed arguments are not allowed to appear after a named argument."))}),n}cleanVariableForMethodInvocation(e){(e.name.startsWith(":")||e.name.startsWith("."))&&(e.name=e.name.substr(1),e.variableReference!=null&&(e.variableReference.originalContent=e.variableReference.originalContent.substr(1),e.variableReference.normalizedReference=e.variableReference.normalizedReference.substr(1)),e.startPosition!=null&&(e.startPosition.offset+=1,e.startPosition.char+=1))}reduceVariableReferenceForObjectAccessor(e){var s;let n=(s=e.variableReference)==null?void 0:s.pathParts.pop(),r=n.name,i=r.length+1;return e.name=e.name.substr(0,-i),e.variableReference!=null&&(e.variableReference.originalContent=e.variableReference.originalContent.substr(0,-i),e.variableReference.normalizedReference=e.variableReference.normalizedReference.substr(0,-i),e.variableReference.pathParts[e.variableReference.pathParts.length-1].isFinal=!0),e.endPosition!=null&&(e.endPosition.offset-=i,e.endPosition.char-=i),{accessor:r,accessorLen:i}}associateMethodCalls(e){var i,s;let n=[],r=e.length;for(let o=0;o<r;o++){let l=e[o],u=null,d=null;if(n.length>0&&(u=n[n.length-1]),o+1<r&&(d=e[o+1]),l instanceof xe&&d instanceof Je&&u!=null&&(this.isProperMethodChainTargetStrict(u)||u instanceof Ht)){let h=d,m=[];h.nodes.length>0&&(h.nodes[0]instanceof Zt?m=h.nodes[0].nodes:m=h.nodes);let y=new hn;if(y.startPosition=l.startPosition,u instanceof Ht){let b=n.pop();y.startPosition=b.startPosition}this.cleanVariableForMethodInvocation(l),y.endPosition=h.endPosition,y.args=this.makeArgGroup(m),y.method=l,u.methodTarget=y,u instanceof xe&&u.mergeRefName.length>0&&(u.name=vt.getUnrefName(u.mergeRefName)),n.push(y),o+=1;continue}else if(l instanceof Je&&u instanceof xe&&u.variableReference!=null&&u.variableReference.pathParts.length>=2){let h=[];if(l.nodes.length>0&&(l.nodes[0]instanceof Zt?h=l.nodes[0].nodes:h=l.nodes),u.variableReference.pathParts[0]instanceof gr&&Tl.deferredCoreLibraries.includes(u.variableReference.pathParts[0].name)){let x=n.pop(),D=new Ds;D.startPosition=x.startPosition,D.endPosition=l.endPosition,D.content=x.content,D.originalAbstractNode=l;let P=((i=x.variableReference)==null?void 0:i.pathParts.shift()).name,v=(s=x.variableReference)==null?void 0:s.implodePaths();D.libraryName=P,D.methodName=v,D.arguments=this.makeArgGroup(h),n.push(D),o+=1;continue}let m=this.reduceVariableReferenceForObjectAccessor(u),y=new hn;y.startPosition=l.startPosition,y.endPosition=l.endPosition,u.methodTarget=y,u instanceof xe&&u.mergeRefName.length>0&&(u.name=vt.getUnrefName(u.mergeRefName)),l.start!=null&&(l.start.isPartOfMethodChain=!0),l.end!=null&&(l.end.isPartOfMethodChain=!0);let b=new xe;b.name=m.accessor,b.isPartOfMethodChain=!0;let T=this.makeArgGroup(h);if(y.startPosition!=null&&(y.startPosition.offset-=m.accessorLen,y.startPosition.char-=m.accessorLen),y.method=b,y.args=T,te.isNumeric(u.name)){let x=n.pop();n.push(this.convertOperatorToVarNode(x))}n.push(y);continue}else if(l instanceof xe&&u instanceof hn){if(this.cleanVariableForMethodInvocation(l),o+1>r){l.pushError(X.makeSyntaxError(O.TYPE_METHOD_CALL_MISSING_ARG_GROUP,l,"Unexpected end of input while parsing method call."));continue}let h=e[o+1];if(!(h instanceof Je)){l.pushError(X.makeSyntaxError(O.TYPE_INVALID_METHOD_CALL_ARG_GROUP,l,"Unexpected ["+ne.getPrettyTypeName(h)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let m=h,y=[];m.nodes.length>0&&(m.nodes[0]instanceof Zt?y=m.nodes[0].nodes:y=m.nodes);let b=new hn;b.startPosition=l.startPosition,b.endPosition=m.endPosition,b.args=this.makeArgGroup(y),b.method=l,u.methodTarget=b,n.push(b),o+=1;continue}else if(l instanceof Ht&&u instanceof hn){if(o+1>r){l.pushError(X.makeSyntaxError(O.TYPE_METHOD_CALL_MISSING_METHOD,l,"Unexpected end of input while parsing method call."));continue}let h=e[o+1];if(o+2>r){l.pushError(X.makeSyntaxError(O.TYPE_METHOD_CALL_MISSING_ARG_GROUP,l,"Unexpected end of input while parsing method call."));continue}let m=e[o+2];if(!(m instanceof Je)){l.pushError(X.makeSyntaxError(O.TYPE_INVALID_METHOD_CALL_ARG_GROUP,l,"Unexpected ["+ne.getPrettyTypeName(m)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let y=m,b=[];y.nodes.length>0&&(y.nodes[0]instanceof Zt?b=y.nodes[0].nodes:b=y.nodes);let T=new hn;T.startPosition=l.startPosition,T.endPosition=m.endPosition,T.args=this.makeArgGroup(b),T.method=h,u.methodTarget=T,n.push(T),o+=2;continue}else if(l instanceof hn){if(o+1>r){l.pushError(X.makeSyntaxError(O.TYPE_METHOD_CALL_MISSING_METHOD,l,"Unexpected end of input while parsing method call."));continue}let h=e[o+1];if(o+2>r){l.pushError(X.makeSyntaxError(O.TYPE_INVALID_METHOD_CALL_ARG_GROUP,l,"Unexpected end of input while parsing method call."));continue}let m=e[o+2];if(!(m instanceof Je)){l.pushError(X.makeSyntaxError(O.TYPE_INVALID_METHOD_CALL_ARG_GROUP,l,"Unexpected ["+ne.getPrettyTypeName(m)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let y=m,b=[];y.nodes.length>0&&(y.nodes[0]instanceof Zt?b=y.nodes[0].nodes:b=y.nodes);let T=this.makeArgGroup(b);if(u instanceof xe&&Tl.deferredCoreLibraries.includes(u.name)){let x=n.pop(),D=new Ds;D.startPosition=x.startPosition,D.endPosition=y.endPosition,D.libraryName=x.name,D.methodName=h.name,D.content=D.libraryName+"->"+D.methodName,D.arguments=T,u.libraryTarget=D,n.push(D),o+=2;continue}l.method=h,l.args=T,n.length>0&&(n[n.length-1].methodTarget=l),o+=2,n.push(l);continue}else n.push(l)}return n}convertVariableToStringNode(e){let n=new Yt;return n.content=e.name,n.value=e.name,n.originalAbstractNode=e,n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.index=e.index,n}createTupleLists(e){let n=e.length,r=[];for(let i=0;i<n;i++){let s=e[i];if(s instanceof Ti){if(s.isListGroupMember=!0,i+1>=n){s.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_EOI_PARSING_TUPLE_LIST,s,"Unexpected end of input while parsing tuple list."));continue}let o=e[i+1];if(!(o instanceof Je)){o.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_TYPE_FOR_TUPLE_LIST,o,"Unexpected ["+ne.getPrettyTypeName(o)+"] while parsing tuple list."));continue}let l=o;if(this.markAllNonVirtualAsListGroupMember([l]),this.retriggerNonVirtualGroupMembers.push([l]),l.nodes.length==0){l.pushError(X.makeSyntaxError(O.TYPE_MISSING_BODY_TUPLE_LIST,l,"Missing tuple list body while parsing tuple list."));continue}let d=l.nodes.shift(),h=d.nodes.length,m=[];for(let T=0;T<h;T++){let x=d.nodes[T];if(!(x instanceof Xt)){let D=!1;if(x instanceof xe&&(x.variableReference==null&&(D=!0),x.variableReference!=null&&x.variableReference.pathParts.length>1&&(D=!0),x.name.trim().length==0&&(D=!0)),D||!(x instanceof xe)){l.pushError(X.makeSyntaxError(O.TYPE_INVALID_TUPLE_LIST_NAME_TYPE,l,"Invalid ["+ne.getPrettyTypeName(x)+"] name type found while parsing tuple list."));continue}let _=x;m.push(this.convertVariableToStringNode(_))}}let y=m.length;if(y==0){l.pushError(X.makeSyntaxError(O.TYPE_INVALID_MANIFESTED_NAME_GROUP,l,"Invalid Name expression produced an invalid name group while parsing tuple list."));continue}let b=new as;this.createdArrays.push(b),b.startPosition=s.startPosition,b.endPosition=s.endPosition,l.nodes.forEach(T=>{if(!(T instanceof Zt)){T.pushError(X.makeSyntaxError(O.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE_GROUP,T,"Invalid ["+ne.getPrettyTypeName(T)+"] name type found while parsing tuple list value expression."));return}let x=T,D=new as;this.createdArrays.push(D),D.startPosition=x.startPosition;let _=[];for(let P=0;P<h;P++){let v=x.nodes[P];if(!(v instanceof Xt)){if(this.isOperand(v)==!1){v.pushError(X.makeSyntaxError(O.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE,v,"Unexpected ["+ne.getPrettyTypeName(v)+"]  while parsing tuple list value."));continue}_.push(v)}}for(let P=0;P<y&&!(P>_.length);P++){let v=_[P],S=new nc;S.startPosition=v.startPosition,S.endPosition=v.endPosition,S.name=m[P],S.value=v,D.nodes.push(S),b.endPosition=v.endPosition,D.endPosition=v.endPosition}b.nodes.push(D)}),r.push(b),i+=1;continue}else r.push(s)}return e}makeOrderGroup(e){let n=[],r=e.length,i=0;for(let s=0;s<r;s++){let o=e[s],l=null;if(s+1<r&&(l=e[s+1]),s>0&&(l==null||l instanceof Xt)){i+=1;let u=new Zl;u.order=i,u.name=e[s-1],u.directionNode=o,this.isOperand(u.name)==!1&&u.name.pushError(X.makeSyntaxError(O.TYPE_INVALID_ORDER_BY_NAME_VALUE,u.name,"Invalid value or expression supplied for order by name.")),this.isOperand(u.directionNode)==!1&&u.directionNode.pushError(X.makeSyntaxError(O.TYPE_INVALID_ORDER_BY_SORT_VALUE,u.directionNode,"Invalid value or expression supplied for order by direction.")),u.startPosition=u.name.startPosition,u.endPosition=u.directionNode.endPosition,n.push(u),s+=1;continue}}return n}getValues(e){let n=new vo,r=e.length,i=[];for(let s=0;s<r;s++){let o=e[s],l=null;if(s+1<r&&(l=e[s+1]),l==null||l instanceof Xt){i.push(o),s+=1;continue}}return n.values=i,n}createLibraryInvocations(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof mi)if(s.content.includes(".")){let o=s.content.split("."),l=o.shift(),u=o.join("."),d=new Ds;if(d.startPosition=s.startPosition,d.endPosition=s.endPosition,d.content=s.content,d.libraryName=l,d.methodName=u,d.originalAbstractNode=s,i+1>=r){s.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_EOI_WHILE_PARSING_ARG_GROUP,s,"Unexpected end of input while parsing argument group."));continue}if(!(e[i+1]instanceof Je)){s.pushError(X.makeSyntaxError(O.TYPE_EXPECTING_ARGUMENT_GROUP,s,"Unexpected token while parsing method call. Expecting [T_ARG_SEPARATOR] got ["+ne.getPrettyTypeName(s)+"]."));continue}let h=e[i+1],m=null;if(h.nodes.length>0){let y=h.nodes[0];m=this.makeArgGroup(y.nodes)}m==null&&(m=new Co,m.startPosition=h.startPosition,m.endPosition=h.endPosition,m.originalAbstractNode=h),d.arguments=m,n.push(d),i+=1;continue}else if(s.content==Mt.ARR_ORDERBY){if(i+1>=r){s.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_EOI_PARSING_ORDER_GROUP,s,"Unexpected end of input while parsing order group."));continue}let o=e[i+1];if(!(o instanceof Je)){o.pushError(X.makeSyntaxError(O.TYPE_EXPECTING_ORDER_GROUP_FOR_ORDER_BY_OPERAND,o,"Unexpected ["+ne.getPrettyTypeName(o)+"] while parsing order group."));continue}let u=o.nodes;u[0]instanceof Zt&&(u=u[0].nodes);let d=this.makeOrderGroup(u);d.length==0&&s.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_EMPTY_DIRECTION_GROUP,s,"Unexpected empty [T_DIRECTION_GROUP]. Must have at least one order clause, and each property must have a direction specified."));let h=new va;if(h.orderClauses=d,d.length>0){d[0].directionNode!=null&&(h.startPosition=d[0].directionNode.startPosition);let m=d[d.length-1].directionNode;m!=null&&(h.endPosition=m.endPosition)}n.push(s),n.push(h),i+=1;continue}else if(s.content==Mt.ARR_GROUPBY){if(i+1>=r){s.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_EOI_WHILE_PARSING_GROUP_BY,s,"Unexpected end of input while parsing group by clause."));continue}let o=e[i+1];if(o instanceof os||o instanceof Yr){o.pushError(X.makeSyntaxError(O.TYPE_GROUP_BY_SCOPED_GROUP_MUST_BE_ENCLOSED,o,"Type ["+ne.getPrettyTypeName(o)+"] must be enclosed with parenthesis to be used with groupby."));continue}if(!(o instanceof Je)){o.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_TOKEN_FOR_GROUP_BY,o,"Unexpected ["+ne.getPrettyTypeName(o)+"] while parsing group by."));continue}let u=o.nodes;u[0]instanceof Zt&&(u=u[0].nodes);let d=this.getValues(u);if(n.push(s),n.push(d),i+2<r&&i+3<r){let h=e[i+2],m=e[i+3];if(vt.isVariableMatching(h,gt.ScopeAs))if(m instanceof Yt){d.isNamedNode=!0,d.parsedName=m,i+=3;continue}else m.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_GROUP_BY_AS_ALIAS_TYPE,m,"Expecting [T_STRING] for group by collection alias; got ["+ne.getPrettyTypeName(m)+"]."))}i+=1;continue}else if(s.content==Mt.STRUCT_SWITCH){if(i+1>=r){s.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SWITCH_GROUP,s,"Unexpected end of input while parsing [T_SWITCH_GROUP]."));continue}let o=e[i+1];if(!(o instanceof Yr)){o.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_TOKEN_FOR_SWITCH_GROUP,o,"Unexpected ["+ne.getPrettyTypeName(o)+"] while parsing [T_SWITCH_GROUP]."));continue}let l=o;if(this.markAllNonVirtualAsSwitch([o]),l.scope==null||!(l.scope instanceof Je)){l.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_SWITCH_START_VALUE,l,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let u=l.scope;if(u.nodes.length==0||!(u.nodes[0]instanceof Zt)){l.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,l,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let d=u.nodes[0];if(this.markAllNonVirtualAsSwitch([u]),d.nodes.length==0||!(d.nodes[0]instanceof Je)){s.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}this.markAllNonVirtualAsSwitch([s]),this.markAllNonVirtualAsSwitch(d.nodes);let h=d.nodes;if(l.nodes.length==0&&s.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP].")),!(u.nodes[0]instanceof Zt)){s.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let y=u.nodes[0];this.markAllNonVirtualAsSwitch(y.nodes);let b=y.nodes,T=new Ia,x=new Je;x.nodes=h,x.startPosition=x.nodes[0].startPosition,x.endPosition=x.nodes[x.nodes.length-1].endPosition;let D=new Io;D.condition=x;let _=new Je;_.nodes.push(b.shift()),_.startPosition=_.nodes[0].startPosition,_.endPosition=_.nodes[_.nodes.length-1].endPosition,D.expression=_,D.startPosition=D.condition.startPosition,D.endPosition=D.expression.nodes[D.expression.nodes.length-1].endPosition,b.shift(),T.cases.push(D);let P=b.length;if(P>0){if(!(b[0]instanceof Je)){s.pushError(X.makeSyntaxError(O.TYPE_PARSER_INVALID_SWITCH_TOKEN,s,"Invalid ["+ne.getPrettyTypeName(b[0])+"] while parsing case statement."));continue}for(let v=0;v<P;v++){let S=b[v],w=null;if(S instanceof Xt){S.isSwitchGroupMember=!0;continue}if(v+1<P&&(w=b[v+1]),w instanceof qn){w.isSwitchGroupMember=!0;let J=new Io;J.condition=S,this.markAllNonVirtualAsSwitch([J.condition]);let Y=new Je;if(Y.nodes.push(b[v+2]),Y.startPosition=Y.nodes[0].startPosition,Y.endPosition=Y.nodes[Y.nodes.length-1].endPosition,J.expression=Y,this.markAllNonVirtualAsSwitch([Y]),J.startPosition=J.condition.startPosition,J.endPosition=J.expression.nodes[J.expression.nodes.length-1].endPosition,T.cases.push(J),v+3<P&&!(b[v+3]instanceof Xt)){b[v+3].pushError(X.makeSyntaxError(O.TYPE_PARSER_INVALID_SWITCH_TOKEN,b[v+3],"Invalid ["+ne.getPrettyTypeName(b[v+3])+"] while parsing case statement; expecting [T_ARG_SEPARATOR]."));continue}b[v+3].isSwitchGroupMember=!0,v+=2;continue}}}n.push(new Ur),n.push(s),n.push(T),i+=1;continue}else if(s.content==Mt.ARR_MAKE){if(i+1>=r){s.pushError(X.makeSyntaxError(O.TYPE_ARR_MAKE_MISSING_TARGET,s,"Missing target variable for arr operator."));continue}let o=e[i+1];if(!(o instanceof Je)){o.pushError(X.makeSyntaxError(O.TYPE_ARR_MAKE_UNEXPECTED_TYPE,o,"Unexpected ["+ne.getPrettyTypeName(o)+"] while parsing array."));continue}let l=o instanceof Yr,u=o,d=u.nodes;if(d[0]instanceof Zt&&(d=d[0].nodes),l){let b=o;d.unshift(new qn),d.unshift(b.scope)}let h=this.getArrayValues(d),m=new as;m.startPosition=s.startPosition;let y=h.values.length;y>0?m.endPosition=h.values[y-1].endPosition:m.endPosition=s.endPosition,u.end!=null&&(m.endPosition=u.end.endPosition),m.nodes=h.values,this.createdArrays.push(m),n.push(m),i+=1}else n.push(s);else n.push(s)}return n}getArrayValues(e){let n=new vo,r=e.length,i=[];for(let s=0;s<r;s++){let o=e[s];if(o instanceof Xt){o.pushError(X.makeSyntaxError(O.TYPE_ARR_UNEXPECT_ARG_SEPARATOR,o,"Unexpected [T_ARG_SEPARATOR] while parsing array."));continue}if(o instanceof qn){if(s==0){o.pushError(X.makeSyntaxError(O.TYPE_ARR_KEY_PAIR_MISSING_KEY,o,"Missing key for key/value pair while parsing array."));continue}else if(e[s-1]instanceof Xt){o.pushError(X.makeSyntaxError(O.TYPE_ARR_KEY_PAIR_MISSING_KEY,o,"Missing key for key/value pair while parsing array."));continue}}let l=null;if(s+1<r&&(l=e[s+1]),l instanceof qn){if(s+2>=r){l.pushError(X.makeSyntaxError(O.TYPE_ARR_MAKE_MISSING_ARR_KEY_PAIR_VALUE,l,"Missing key/pair value while parsing array."));continue}let u=e[s+2],d=new nc;if(this.isValidArrayKeyNode(o)==!1){o.pushError(X.makeSyntaxError(O.TYPE_ARR_KEY_PAIR_INVALID_KEY_TYPE,o,"Invalid ["+ne.getPrettyTypeName(o)+"] type for key/value key."));continue}d.name=o,d.value=u,d.startPosition=o.startPosition,d.endPosition=u.endPosition,i.push(d),s+=3;continue}if(l==null||l instanceof Xt){let u=new nc;u.value=o,u.startPosition=o.startPosition,u.endPosition=o.endPosition,i.push(u),s+=1;continue}}return n.values=i,n}isValidArrayKeyNode(e){return e instanceof en||e instanceof Yt}associateModifiers(e){let n=[],r=e.length,i=null;for(let s=0;s<r;s++){let o=e[s];if(o instanceof xn){let l=n.length;if(l==0){o.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_MODIFIER_SEPARATOR,o,"Unexpected [T_MODIFIER_SEPARATOR] while parsing input text."));continue}if(this.isRealModifierSeparator.set(o,!0),i=n[l-1],i.modifierChain==null&&(i.modifierChain=new Jl,i.modifierChain.modifierTarget=i,this.createdModifierChains.push(i.modifierChain)),s+1>=r){o.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_DETAILS,o,"Unexpected end of input while preparing to gather modifier details."));continue}let u=this.scanToEndOfModifier(e.slice(s+1)),d=u.length;if(d>1&&u[1]instanceof Ht){this.isRealModifierSeparator.set(u[1],!0);let m=u[0];m instanceof yr?u[0]=this.wrapArithmeticModifier(m,"add"):m instanceof Vn?u[0]=this.wrapArithmeticModifier(m,"subtract"):m instanceof br?u[0]=this.wrapArithmeticModifier(m,"divide"):m instanceof Nr?u[0]=this.wrapArithmeticModifier(m,"multiply"):m instanceof Vi&&(u[0]=this.wrapArithmeticModifier(m,"mod"))}if(d==0){o.pushError(X.makeSyntaxError(O.TYPE_UNSET_MODIFIER_DETAILS,o,"Invalid or missing modifier details."));continue}if(!(u[0]instanceof En)){o.pushError(X.makeSyntaxError(O.TYPE_MODIFIER_NAME_NOT_START_OF_DETAILS,o,"Invalid ["+ne.getPrettyTypeName(u[0])+"]; expecting [T_MODIFIER_NAME]"));continue}let h=this.createModifier(u);h.nameNode!=null&&this.modifierNameMapping.set(h.nameNode,h),s+=d,i.modifierChain.modifierChain.push(h),i.modifierChain.updateValues();continue}else n.push(o)}return n}createNullCoalescenceGroups(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof Hr){let o=n.pop();if(i+1>=r){s.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NULL_COALESCENCE_GROUP,s,"Unexpected end of input while parsing input text."));continue}let l=e[i+1],u=new ec;u.left=o,u.right=l,n.push(u),i+=1;continue}else n.push(s)}return n}isOperand(e){return e instanceof xe||e instanceof Je||e instanceof Yt||e instanceof en||e instanceof ri||e instanceof Ur||e instanceof ii||e instanceof Ds||e instanceof va||e instanceof vo||e instanceof Ia||e instanceof as}isProperMethodChainTargetStrict(e){return e instanceof Je||e instanceof Yt||e instanceof en||e instanceof ri||e instanceof Ur||e instanceof ii||e instanceof Ds||e instanceof va||e instanceof vo||e instanceof Ia||e instanceof as}assertOperandRight(e,n){if(n+1>e.length-1)return e[n].pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_END_OF_INPUT,e[n],"Unexpected end of input; expecting operand for operator "+ne.getPrettyTypeName(e[n])+' near "'+gl.getNearText(e[n])+'".')),!1;let r=e[n+1];return this.isOperand(r)?!0:(r.pushError(X.makeSyntaxError(O.TYPE_EXPECTING_OPERAND,e[n],"Expecting operand, found "+ne.getPrettyTypeName(r)+' near "'+gl.getNearText(e[n])+'".')),!1)}resolveValueRight(e,n){let r=null,i=0,s=null;if(e.length>0){let o=!0;for(;o;){let l=e[n];if(l instanceof In){s=l,i+=1,n+=1,o=!1;continue}else if(this.isOperand(l)){r=l,o=!1;break}else{o=!1;break}}}if(i%2!=0){let o=new Je;return o.nodes=[],s!=null&&r!=null&&(o.nodes.push(s),o.nodes.push(r)),{value:o,negationCount:i}}return{value:r,negationCount:i}}correctTypes(e){let n=[];return e.forEach(r=>{if(r instanceof Bn){let i=new Ht;i.startPosition=r.startPosition,i.endPosition=r.endPosition,i.originalAbstractNode=r,n.push(i)}else if(r instanceof un){let i=new xe;i.name=r.value,i.startPosition=r.startPosition,i.endPosition=r.endPosition,i.modifierChain=r.modifierChain,i.originalAbstractNode=r,this.createdVariables.push(i),n.push(i)}else n.push(r)}),n}createTernaryGroups(e){var i,s,o,l;let n=[],r=e.length;for(let u=0;u<r;u++){let d=e[u];if(d instanceof gi){let h=this.seek(Ht,u+1);if(((i=h.node)==null?void 0:i.originalAbstractNode)!=null&&h.node.originalAbstractNode instanceof Bn&&(h.node.originalAbstractNode.isTenaryBranchSeparator=!0),h.found==!1){d.pushError(X.makeSyntaxError(O.TYPE_TERNARY_EXPECTING_BRANCH_SEPARATOR,d,"Unexpected end of input; expecting [T_BRANCH_SEPARATOR]."));continue}let m=this.collectUntil(n);n=m.tokens;let y=m.collectedTokens[0],b=(s=h.foundAt)!=null?s:0;if(b>=r){d.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP,d,"Unexpected end of input while parsing ternary group."));continue}let T=e.slice(u+1,b);if(T.length>1||T.length==0){d.pushError(X.makeSyntaxError(O.TYPE_TERNARY_UNEXPECTED_EXPRESSION_LENGTH,d,"Unexpected number of operations within ternary truth branch."));continue}let x=T[0],D=((o=h.foundAt)!=null?o:0)+1;if(D>=r){d.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP_FALSE_BRANCH,d,"Unexpected end of input while parsing ternary false execution branch."));continue}let _=e[D],P=new tc;P.head=y,P.truthBranch=x,P.falseBranch=_,n.push(P),u=((l=h.foundAt)!=null?l:0)+1;continue}else n.push(d)}return n}groupNodesByType(e,n){let r=[],i=e.length;for(let s=0;s<i;s++){let o=e[s];if(s>0&&o instanceof n){let l=[],u=r.pop();if(l.push(u),!this.assertOperandRight(e,s))continue;if(s+1>=i){o.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS,o,"Unexpected end of input while parsing input text."));continue}let d=e[s+1];typeof d!="undefined"&&(d.isVirtualGroupMember=!0),typeof u!="undefined"&&(u.isVirtualGroupMember=!0),o.isVirtualGroupMember=!0;let h=new Je;h.nodes=l,h.nodes.push(o),h.nodes.push(d),s+=1,r.push(h);continue}else r.push(o)}return r}flagNodeAsOperatorResolve(e){if(e instanceof Je){if(e.nodes.length==0)return;this.flagNodeAsOperatorResolve(e.nodes[e.nodes.length-1])}e.isVirtualGroupOperatorResolve=!0,e.next instanceof vn||(e.producesVirtualStatementTerminator=!0)}groupNodesByOperatorType(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(i>0&&Jt.isOperatorType(s)){let o=[],l=n.pop();if(o.push(l),!this.assertOperandRight(e,i))continue;if(i+1>=r){s.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS,s,"Unexpected end of input while parsing input text."));continue}let u=e[i+1];this.flagNodeAsOperatorResolve(u),Jt.isAssignmentOperator(s)&&this.tracedAssignments.push(new ih(l,u,s)),typeof l!="undefined"&&(l.isVirtualGroupMember=!0),typeof u!="undefined"&&(u.isVirtualGroupMember=!0),s.isVirtualGroupMember=!0;let d=new Je;d.nodes=o,d.nodes.push(s),d.nodes.push(u),i+=1,n.push(d);continue}else n.push(s)}return n}applyOperationOrder(e){return e=this.groupNodesByType(e,Fi),e=this.groupNodesByType(e,Nr),e=this.groupNodesByType(e,br),e=this.groupNodesByType(e,yr),e=this.groupNodesByType(e,Vn),e}createLogicGroupsToRemoveMethodInvocationAmbiguity(e){let n=[],r=e.length,i=r-1;for(let s=0;s<r;s++){let o=e[s];if(o instanceof hn){let l=n.pop(),u=new Je;if(u.startPosition=l.startPosition,typeof l!="undefined"&&(l.isVirtualGroupMember=!0),typeof o!="undefined"&&(o.isVirtualGroupMember=!0),u.nodes.push(l),u.nodes.push(o),s!=i)for(let d=s+1;d<r;d++)if(e[d]instanceof hn){if(typeof e[d]=="undefined")continue;if(e[d].isVirtualGroupMember=!0,u.nodes.push(e[d]),d==i){d+=1;break}}else{if(d==i){d+=1;break}s=d-1;break}u.endPosition=u.nodes[u.nodes.length-1].endPosition,n.push(u)}else n.push(o)}return n}countTypeRight(e,n,r){let i=0;for(let s=n;s<e.length&&e[s]instanceof r;s++)i+=1;return i}createLogicGroupsToResolveOperatorAmbiguity(e){return e=this.groupNodesByType(e,is),e=this.groupNodesByType(e,jr),e=this.groupNodesByType(e,ui),e=this.groupNodesByType(e,ci),e=this.groupNodesByType(e,hi),e=this.groupNodesByType(e,nr),e=this.groupNodesByType(e,di),e=this.groupNodesByType(e,fi),e=this.groupNodesByType(e,pi),e=this.groupNodesByOperatorType(e),e}createModifier(e){let n=e.shift(),r=[],i=e.length;if(e.length>0&&e[0]instanceof Je){let o=this.unpack(e[0].nodes),l=this.makeArgGroup(o),u=new No;if(u.nameNode=n,u.methodStyleArguments=l,e.length>1)for(let d=1;d<i;d++)e[d].pushError(X.makeSyntaxError(O.TYPE_MODIFIER_UNEXPECTED_TOKEN_METHOD_SYNTAX,e[d],"Unexpected ["+ne.getPrettyTypeName(e[d])+"] while parsing modifier argument group. Expecting [T_MODIFIER_SEPARATOR] or end of current expression."));return u}for(let o=0;o<i;o++)if(e[o]instanceof Bn||e[o]instanceof Ht){if(o+1>=i)return e[o].pushError(X.makeSyntaxError(O.TYPE_MODIFIER_UNEXPECTED_END_OF_VALUE_LIST,e[o],"Unexpected end of modifier value list while parsing modifier.")),e;let l=e[o+1];if(this.isValidModifierValue(l)){if(l instanceof xe)if(l.variableReference!=null&&l.variableReference.pathParts.length>0)l.variableReference.pathParts.forEach(u=>{if(u instanceof gr){let d=new un;d.startPosition=u.startPosition,d.endPosition=u.endPosition,d.value=u.name,d.name=u.name,d.originalAbstractNode=u,d.endPosition==null&&d.startPosition==null&&(d.startPosition=l.startPosition,d.endPosition=l.endPosition),r.push(d)}});else{let u=new un;u.startPosition=l.startPosition,u.endPosition=l.endPosition,u.value=l.name,u.name=l.name,u.originalAbstractNode=l,r.push(u)}else r.push(l);o+=1;continue}else return l.pushError(X.makeSyntaxError(O.TYPE_MODIFIER_UNEXPECTED_VALUE,l,"Unexpected ["+ne.getPrettyTypeName(l)+"] while parsing modifier value.")),e}let s=new No;return s.nameNode=n,s.valueNodes=r,s.startPosition=s.nameNode.startPosition,s.valueNodes.length>0?s.endPosition=s.valueNodes[s.valueNodes.length-1].endPosition:s.endPosition=s.nameNode.endPosition,s}scanToEndOfModifier(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof Bn){let o=n.length;if(o==0){s.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_VALUE,s,"Unexpected end of input while parsing modifier value."));continue}this.isRealModifierSeparator.set(s,!0);let l=n[o-1];if(vt.distance(l,s)>1)break}if(s instanceof Yt||s instanceof xe||s instanceof en){let o=n.length;if(o>0&&n[o-1]instanceof Je)break}if(s instanceof xn||s instanceof cn||s instanceof pn||s instanceof nr||s instanceof jr||s instanceof is||s instanceof ci||s instanceof ui||s instanceof fi||s instanceof di||s instanceof pi||s instanceof hi||s instanceof Gr||s instanceof Wr||s instanceof qi||s instanceof Hr||s instanceof Ui||s instanceof mi||s instanceof Ds||s instanceof hn||s instanceof In)break;n.push(s)}return n}static isAssignmentOperatorNode(e){return e instanceof si||e instanceof ai||e instanceof vr||e instanceof oi||e instanceof li||e instanceof Vn}insertAutomaticStatementSeparators(e){let n=e.length,r=[];for(let i=0;i<n;i++){let s=e[i];if(Jt.isAssignmentOperatorNode(s))if(i+2<n)if(e[i+2]instanceof vn){r.push(s),r.push(e[i+1]),r.push(e[i+2]),i+=2;continue}else{r.push(s),r.push(e[i+1]),r.push(new vn),i+=1;continue}else{r.push(s),r.push(e[i+1]),r.push(new vn);break}else r.push(s)}return e}createSemanticGroups(e){let n=[],r=e.length,i=[];for(let s=0;s<r;s++)if(e[s]instanceof vn){let o=new Zt;o.nodes=i,o.separatorToken=e[s],n.push(o),i=[];continue}else if(i.push(e[s]),s+1>=r){let o=new Zt;o.nodes=i,n.push(o);break}return n}findLogicalGroupEnd(e,n){let r=[],i=n.length,s=null,o=0,l=0;for(l;l<i;l++){let h=n[l];if(o+=1,h instanceof cn){s=h;break}else if(h instanceof pn){if(l+1>=i)return h.pushError(X.makeSyntaxError(O.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END,h,"Unexpected end of input while parsing input text.")),{found:!1,logicalGroup:null,skipCount:o};let m=this.findLogicalGroupEnd(h,n.slice(l+1));if(m.found){m.logicalGroup!=null&&r.push(m.logicalGroup),o+=m.skipCount,l+=m.skipCount;continue}else continue}else r.push(h)}if(s==null)return e.pushError(X.makeSyntaxError(O.TYPE_LOGIC_GROUP_NO_END,e,"Unexpected end of input while parsing logic group.")),{found:!1,logicalGroup:null,skipCount:o};let u=new Jt;u.setIsRoot(!1);let d=new Je;if(r.length>=2&&r[1]instanceof qn){if(d=new Yr,d.scopeOperator=r[1],l+2<i&&n[l+1]instanceof xe&&n[l+2]instanceof Yt&&n[l+1].name==gt.ScopeAs){let y=n[l+2];d=new os,d instanceof os&&(d.alias=y),o+=2}let h=r.splice(0,2);(d instanceof Yr||d instanceof os)&&(d.scope=h[0])}return d.nodes=u.parse(r),d.start=e,d.end=s,d.startPosition=e.startPosition,d.endPosition=s.endPosition,d instanceof os&&d.alias!=null&&(d.endPosition=d.alias.endPosition),{found:!0,logicalGroup:d,skipCount:o}}unpack(e){if(e.length==0)return[];if(e[0]instanceof Zt){let n=e[0];return this.unpack(n.nodes)}return e}collectUntil(e){let n=e.length,r=[];for(let i=n-1;i>=0&&!Jt.isAssignmentOperator(e[i]);i--){let s=e.pop();r.push(s)}if(r=r.reverse(),r.length>=3){let i=new Jt;return i.setIsRoot(!1),{collectedTokens:this.unpack(i.parse(r)),tokens:e}}return{collectedTokens:r,tokens:e}}seek(e,n){for(let r=n;r<this.tokens.length;r++)if(this.tokens[r]instanceof e)return{found:!0,foundAt:r,node:this.tokens[r]};return{found:!1,foundAt:null,node:null}}}});var _s,LE=E(()=>{xi();Sn();_s=class{static findRightBeighboringNextPunctuation(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e+1;s<n.length;s++){let o=n[s];if(te.ctypeSpace(o)&&(i=!0),i&&(te.ctypeAlpha(o)||te.ctypeDigit(o)))return null;if(te.ctypePunct(o)||o==H.String_Terminator_SingleQuote||o==H.String_Terminator_DoubleQuote)return o}return null}static findRightNeighboringNextAlphaNumeric(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e+1;s<n.length;s++){let o=n[s];if((te.ctypeSpace(o)||te.ctypePunct(o)&&o!=H.Punctuation_Underscore)&&(i=!0),i&&(te.ctypeAlpha(o)||te.ctypeDigit(o)))return s+1}return null}static findLeftNeighboringNextPunctuation(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e-2;s>=0;s--){let o=n[s];if(te.ctypeSpace(o)&&(i=!0),i&&(te.ctypeAlpha(o)||te.ctypeDigit(o)))return null;if(te.ctypePunct(o))return o}return null}static findLeftNeighboringNextAlphaNumeric(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e-1;s>=0;s--){let o=n[s];if((te.ctypeSpace(o)||te.ctypePunct(o)&&o!=H.Punctuation_Underscore)&&(i=!0),i&&(te.ctypeAlpha(o)||te.ctypeDigit(o)))return s+1}return null}static scanWordAt(e,n,r=4){if(n=n.replace("	"," ".repeat(r)),e<0||e>n.length)return null;let i=[],s=[];for(let o=e-1;o>=0;o--){let l=n[o];if(te.ctypePunct(l)&&l!=H.Punctuation_Underscore||te.ctypeSpace(l))break;i.push(l)}for(let o=e;o<n.length;o++){let l=n[o];if(te.ctypePunct(l)&&l!=H.Punctuation_Underscore||te.ctypeSpace(l))break;s.push(l)}return i.reverse().join("")+s.join("")}}});var Jg,DE=E(()=>{nt();Jg=class{constructor(e){this.parser=e}findParentWithName(e,n){let r=n.parent;for(;r!=null;){if(r instanceof Z&&r.nameMatches(e))return r;if(r.parent==r)break;r=r.parent}return null}}});var Zg,ME=E(()=>{ba();Zg=class{static analyzeModifierNodeParameters(e){var r,i,s,o;if(e.parameters.forEach(l=>{var u,d,h,m;l.isModifierParameter=(d=(u=Qt.instance)==null?void 0:u.hasModifier(l.name))!=null?d:!1,l.isModifierParameter&&(e.modifiers.parameterModifiers.push(l),l.modifier=(m=(h=Qt.instance)==null?void 0:h.getModifier(l.name))!=null?m:null,e.modifiers.modifierNames.includes(l.name)==!1&&e.modifiers.modifierNames.push(l.name))}),e.modifierChain!=null&&e.modifierChain.modifierChain.length>0){let l=null;e.modifierChain.modifierChain.forEach(u=>{var d,h;u.nameNode!=null&&(u.modifier=(h=(d=Qt.instance)==null?void 0:d.getModifier(u.nameNode.content))!=null?h:null,e.modifiers.modifierNames.includes(u.nameNode.content)==!1&&e.modifiers.modifierNames.push(u.nameNode.content),u.modifier!=null&&(l=u.modifier,e.modifierChain!=null&&(e.modifierChain.lastManifestedModifier=u)))}),e.modifierChain.lastModifier=l,e.modifiers.parameterModifiers.length>0&&(e.modifiers.hasMixedModifierStyles=!0)}e.runtimeNodes.length>0&&e.runtimeNodes.forEach(l=>{if(l.modifierChain!=null&&l.modifierChain.modifierChain.length>0){let u=null;l.modifierChain.modifierChain.forEach(d=>{var h,m;d.nameNode!=null&&(d.modifier=(m=(h=Qt.instance)==null?void 0:h.getModifier(d.nameNode.content))!=null?m:null,e.modifiers.modifierNames.includes(d.nameNode.content)==!1&&e.modifiers.modifierNames.push(d.nameNode.content),d.modifier!=null&&(u=d.modifier,e.modifierChain!=null&&(e.modifierChain.lastManifestedModifier=d)))}),e.modifierChain!=null&&(e.modifierChain.lastModifier=u),e.modifiers.parameterModifiers.length>0&&(e.modifiers.hasMixedModifierStyles=!0)}});let n=e.modifiers.getLastManifestedModifier();if(n!=null)if(n.name=="macro"){let l=e.modifiers.getLastManifestedModifierValue();e.manifestType=(i=(r=Qt.instance)==null?void 0:r.getMacroManifestingType(l))!=null?i:""}else e.manifestType=(o=(s=Qt.instance)==null?void 0:s.getProbableReturnType(n,e.isPaired()))!=null?o:""}}});function eT(t){return t==null?!1:t=='"'||t=="'"}var FE=E(()=>{});function VE(t,e){for(t.getCurrentIndex();t.getCurrentIndex()<t.inputLength()&&(t.checkCurrentOffsets(),e&&t.pushChar(t.getCurrent()),t.getCurrent()!=H.NewLine);t.incrementIndex());}var BE=E(()=>{xi()});function qE(t,e){for(t.getCurrentIndex();t.getCurrentIndex()<t.inputLength();t.incrementIndex())if(t.checkCurrentOffsets(),e&&t.pushChar(t.getCurrent()),t.getCurrent()==H.Punctuation_Asterisk&&t.getNext()==H.Punctuation_ForwardSlash){e&&t.pushChar(H.Punctuation_ForwardSlash),t.incrementIndex(),t.checkCurrentOffsets();break}}var UE=E(()=>{xi()});function tT(t){let e=t.getCurrent();for(t.incrementIndex(),t.getCurrentIndex();t.getCurrentIndex()<t.inputLength()&&(t.checkCurrentOffsets(),!(t.getCurrent()==e&&t.getPrev()!=H.String_EscapeCharacter));t.incrementIndex());}var jE=E(()=>{xi()});var nT,GE=E(()=>{nt();$l();Sn();xi();FE();BE();UE();jE();nT=class{constructor(){this.content="";this.nodeIndex=[];this.fragmentStartIndex=[];this.charLen=0;this.documentOffsets=new Map;this.inputLen=0;this.seedOffset=0;this.shiftLine=0;this.chars=[];this.currentIndex=0;this.lastDocumentOffsetKey=null;this.cur=null;this.next=null;this.prev=null;this.chunkSize=5;this.currentChunkOffset=0;this.fragments=[];this.isScript=!1;this.fragmentOpeningIndex=new Map;this.indexedFragments=new Map;this.embeddedIndexedFragments=new Map}updateIndex(e){this.currentIndex=e}inputLength(){return this.inputLen}incrementIndex(){this.currentIndex+=1}getCurrentIndex(){return this.currentIndex}getCurrent(){return this.cur}getNext(){return this.next}getPrev(){return this.prev}pushChar(e){}getChar(e){return this.chars[e]}getSeedOffset(){return this.seedOffset}setDocumentOffsets(e,n){return this.documentOffsets=e,this.lastDocumentOffsetKey=n,this}getClosingFragmentAfter(e){if(typeof e=="undefined")return null;let n=e.name.toLowerCase();for(let r=0;r<this.fragments.length;r++){let i=this.fragments[r];if(i.isClosingFragment&&!i.isSelfClosing&&i.name.toLowerCase()==n&&i.index>e.index)return i}return null}getContentSubstring(e,n){return this.content.substr(e,n)}resetState(){return this.fragments=[],this.inputLen=0,this.fragmentStartIndex=[],this.fragmentOpeningIndex.clear(),this}resetIntermediateState(){this.chars=[],this.charLen=0,this.currentIndex=0,this.seedOffset=0,this.cur=null,this.next=null,this.prev=null}positionFromOffset(e,n,r=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let l=this.documentOffsets.get(e);i=l.line,s=l.char}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let l=null,u=null,d=null,h=null;for(let m of this.documentOffsets.keys()){if(m>=e){h!=null&&e>h?(l=d,u=h):(l=this.documentOffsets.get(m),u=m);break}d=this.documentOffsets.get(m),h=m}l==null&&(l=d,u=h),l!=null?(s=e-(u!=null?u:0),i=l.line,e<=(u!=null?u:0)?(i=l.line,s=e+1):i=l.line+1):this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let o=new tr;return o.index=n,o.offset=e,o.line=i+this.shiftLine,o.char=s,o}getFragments(){return this.fragments}getFragmentsBetween(e,n){let r=[];return this.fragments.forEach(i=>{var l,u,d,h;let s=(u=(l=i.startPosition)==null?void 0:l.index)!=null?u:0,o=(h=(d=i.endPosition)==null?void 0:d.index)!=null?h:0;s>e&&o<n&&r.push(i)}),r}getFragmentContaining(e){var n,r,i,s;for(let o=0;o<this.fragments.length;o++){let l=this.fragments[o];if(((r=(n=l.startPosition)==null?void 0:n.index)!=null?r:0)<e.index&&((s=(i=l.endPosition)==null?void 0:i.index)!=null?s:0)>e.index)return l}return null}checkCurrentOffsets(){if(this.currentIndex>this.chars.length){this.cur=null,this.prev=null,this.next=null;return}if(this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen){let e=!0;if(this.currentIndex==this.charLen-1){let n=te.split(te.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,this.currentChunkOffset==this.inputLen&&(e=!1),n.forEach(r=>{this.chars.push(r),this.charLen+=1})}e&&this.currentIndex+1<this.chars.length&&(this.next=this.chars[this.currentIndex+1])}}processInputText(e){this.content=e,this.inputLen=this.content.length;let n=[...this.content.matchAll(/(<(?!\?[php|?=]))/gm)],r=[];n.forEach(i=>{var o;let s=(o=i.index)!=null?o:0;for(let l=0;l<this.nodeIndex.length;l++){let u=this.nodeIndex[l];if(s>=u.start&&s<=u.end)return}r.push(s)}),this.fragmentStartIndex=r}setIndexRanges(e){return this.nodeIndex=e,this}fetchAt(e,n){return this.content.substr(e,n)}getFragmentsContainingStructures(){let e=[];return this.fragments.forEach(n=>{let r=n.name.toLowerCase();if(!(r!="script"&&r!="style")&&!n.isClosingFragment&&!n.isSelfClosing&&n.containsStructures){let i=this.getClosingFragmentAfter(n);i!=null&&e.push({start:n,end:i})}}),e}parse(e){if(this.resetState().processInputText(e),this.fragmentStartIndex.length==0)return[];for(let s=0;s<this.fragmentStartIndex.length;s++){let o=this.fragmentStartIndex[s];if(this.resetIntermediateState(),this.seedOffset=o,this.currentChunkOffset=o,this.parseIntermediateText(),this.isScript){let l=!1;for(let u=s+1;u<this.fragmentStartIndex.length;u++){let d=this.fragmentStartIndex[u];if(this.fetchAt(d,8).toLowerCase()=="<\/script"){s=u-1,this.isScript=!1,l=!0;break}}if(!l)break}}let r=0,i=0;return this.fragments.forEach(s=>{let o=s.name.toLowerCase();(o=="script"||o=="style")&&(s.embeddedIndex=i,this.embeddedIndexedFragments.set(i,s),i+=1),s.index=r,this.indexedFragments.set(r,s),r+=1}),this.fragments}getFragment(e){return this.indexedFragments.get(e)}getEmbeddedFragment(e){return this.embeddedIndexedFragments.has(e)?this.embeddedIndexedFragments.get(e):null}hasFragments(){return this.fragments.length>0}skipToEndOfPhp(){for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),eT(this.cur)&&tT(this),this.cur==H.Punctuation_ForwardSlash&&this.next==H.Punctuation_ForwardSlash){VE(this,!0);continue}if(this.cur==H.Punctuation_ForwardSlash&&this.next==H.Punctuation_Asterisk){qE(this,!0);continue}if(this.cur==H.Punctuation_Question&&this.next==H.Punctuation_GreaterThan||this.next==null)break}}parseIntermediateText(){this.chars=this.content.substr(this.currentChunkOffset,this.chunkSize).split(""),this.charLen=this.chars.length;let e=this.currentIndex,n=[],r=[],i=!1,s=!1;for(this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),te.ctypeSpace(this.cur)&&(i=!0),this.next==H.Punctuation_LessThan){let o=1;this.cur==H.Punctuation_ForwardSlash&&(o=2);let l=this.fetchAt(this.currentChunkOffset+o,5);if(l.toLowerCase()=="<?php"||l.startsWith("<?=")){this.skipToEndOfPhp();continue}}if(this.currentIndex>0&&this.cur==H.Punctuation_LessThan||this.next==null&&this.cur!=H.Punctuation_GreaterThan)break;if(!i&&this.cur==H.Punctuation_LessThan&&this.next==H.Punctuation_ForwardSlash&&(s=!0),!i&&this.cur!=H.Punctuation_LessThan&&this.cur!=H.Punctuation_ForwardSlash&&this.cur!=H.Punctuation_GreaterThan&&r.push(this.cur),eT(this.cur)){let o=this.currentIndex;tT(this);let l=new Xp;l.startPosition=this.positionFromOffset(o+this.seedOffset,o+this.seedOffset),l.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset);let u=o+this.seedOffset,d=this.currentIndex+this.seedOffset+1;l.content=this.content.substr(u,d-u);let h=[];for(let m=o-2;m>=0;m--){let y=this.chars[m];if(te.ctypeSpace(y))break;h.push(y)}l.name=h.reverse().join(""),n.push(l);continue}if(this.cur==H.Punctuation_ForwardSlash&&this.next==H.Punctuation_GreaterThan){let o=new Ou;o.startPosition=this.positionFromOffset(e+this.seedOffset,e+this.seedOffset),o.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset+1,this.currentIndex+this.seedOffset+1),o.parameters=n,o.isSelfClosing=!0,o.name=r.join(""),o.isClosingFragment=s,this.fragments.push(o),s?this.fragmentOpeningIndex.set(o.startPosition.index+1,1):this.fragmentOpeningIndex.set(o.startPosition.index,1);break}if(this.cur==H.Punctuation_GreaterThan){let o=new Ou;o.startPosition=this.positionFromOffset(e+this.seedOffset,e+this.seedOffset),o.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),o.parameters=n,o.name=r.join(""),o.isClosingFragment=s,this.fragments.push(o),s?this.fragmentOpeningIndex.set(o.startPosition.index+1,1):this.fragmentOpeningIndex.set(o.startPosition.index,1),o.name.toLowerCase()=="script"&&o.isClosingFragment==!1&&(this.isScript=!0);break}}}}});var rT,WE=E(()=>{nt();_o();rT=class{constructor(e,n){this.documentParser=e,this.fragmentsParser=n}doesContainFragments(e){var i,s,o,l,u;let n=(s=(i=e.endPosition)==null?void 0:i.index)!=null?s:0,r=(u=(l=(o=e.isClosedBy)==null?void 0:o.startPosition)==null?void 0:l.index)!=null?u:0;return this.fragmentsParser.getFragmentsBetween(n,r).length>0}analyze(){let e=this.documentParser.getNodes();!this.fragmentsParser.hasFragments()||(this.fragmentsParser.getFragments().forEach(n=>{let r=n.name.toLowerCase();if(n.isClosingFragment==!1&&n.isSelfClosing==!1&&(r=="script"||r=="style")){let i=this.fragmentsParser.getClosingFragmentAfter(n);if(i==null)return;n.endPosition!=null&&i.startPosition!=null&&this.documentParser.getNodesBetween(n.endPosition,i.startPosition).forEach(o=>{(o instanceof Fn||o instanceof Z&&o.isClosedBy!=null)&&(n.containsStructures=!0),r=="style"?o.isInStyleTag=!0:o.isInScriptTag=!0})}}),e.forEach(n=>{var o,l,u,d,h,m;if(n instanceof Et||n.startPosition==null)return;n instanceof Z&&(Tr.isConditionalStructure(n)||!n.isClosingTag)&&n.isClosedBy!=null&&(n.containsAnyFragments=this.doesContainFragments(n));let r=this.fragmentsParser.getFragmentContaining(n.startPosition);if(r==null){n.fragmentPosition=3;return}if(n.fragment=r,n.startPosition.index-((l=(o=r.startPosition)==null?void 0:o.index)!=null?l:0)<=3){n.fragmentPosition=0;return}if(r.parameters.length==0){n.fragmentPosition=2;return}let s=!1;for(let y=0;y<r.parameters.length;y++){let b=r.parameters[y];if(((d=(u=b.startPosition)==null?void 0:u.index)!=null?d:0)<n.startPosition.index&&((m=(h=b.endPosition)==null?void 0:h.index)!=null?m:0)>n.startPosition.index){n.fragmentPosition=1,n.fragmentParameter=b,s=!0;break}}s||(n.fragmentPosition=2)}))}}});var iT,HE=E(()=>{nt();Sn();iT=class{static analyze(e){e.forEach(n=>{var r,i,s,o,l,u;if(n instanceof Z){if(n.prev instanceof Z&&n.isPaired()&&n.prev.isInlineAntlers==!0){n.isInlineAntlers=!1,n.isClosedBy!=null&&(n.isClosedBy.isInlineAntlers=!1);return}let d=!1,h=!1;if(n.next==null)d=!0;else if(n.next instanceof Et){let m=te.getFirstLine(n.next.content);(n.next.next==null&&m.trim().length==0||te.trimLeft(m," 	").startsWith(`
`)==!1&&m.trim().length>0||n.next.next instanceof Nn||n.next.next instanceof Z&&(n.next.next.isPaired()==!1||((i=(r=n.next.next.startPosition)==null?void 0:r.line)!=null?i:0)!=((o=(s=n.startPosition)==null?void 0:s.line)!=null?o:0)))&&(d=!0)}else n.next instanceof Z&&n.next.isPaired()&&(d=!0);if(n.prev==null)h=!0;else if(n.prev instanceof Et){let m=te.getLastLine(n.prev.content);te.trimRight(m," 	").endsWith(`
`)==!1&&m.trim().length>0||n.prev.prev instanceof Nn?h=!0:n.prev.prev instanceof Z&&(n.prev.prev.isInlineAntlers&&((l=n.prev.prev.endPosition)==null?void 0:l.line)==((u=n.startPosition)==null?void 0:u.line)?h=!0:n.prev.prev.isClosingTag&&n.prev.prev.isOpenedBy!=null&&(n.prev.prev.isOpenedBy instanceof Nn||n.prev.prev.runtimeName()=="noparse")&&(n.prev.prev.isInlineAntlers=!0,h=!0))}else n.prev instanceof Z&&n.prev.isPaired()&&(h=!0);n.isInlineAntlers=d&&h}})}}});var YE,Ye,H,xi=E(()=>{Li();Di();nt();$l();bE();Sn();YE=Ge(Eu());wc();PE();EE();RE();Dc();LE();DE();wa();ME();ba();GE();WE();Ma();$g();HE();Ye=class{constructor(){this.interpolationRegions=new Map;this.nodeParser=new Kg;this.chars=[];this.charLen=0;this.lastAntlersNode=null;this.content="";this.originalContent="";this.currentIndex=0;this.currentContent=[];this.sourceContent=[];this.startIndex=0;this._recoveryStartIndex=0;this.cur=null;this.next=null;this.prev=null;this.nodes=[];this.renderNodes=[];this.isInterpolatedParser=!1;this.inputLen=0;this.documentOffsets=new Map;this.lineIndex=new Map;this.lastDocumentOffsetKey=null;this.isDoubleBrace=!1;this.interpolationEndOffsets=new Map;this.isScanningInterpolations=!1;this.seedStartLine=1;this.seedStartchar=1;this.frontMatterEndLine=-1;this.lastAntlersEndIndex=-1;this.seedOffset=0;this.antlersStartIndex=[];this.antlersStartPositionIndex=new Map;this.chunkSize=5;this.maxLine=1;this.currentChunkOffset=0;this.isNoParse=!1;this.antlersErrors=[];this.structureErrors=[];this.languageParser=new Jt;this.documentPath=null;this.pushedErrors=new Map;this.frontMatter="";this.shiftLine=0;this.doesHaveUncloseIfStructures=!1;this.doesHaveUnclosedStructures=!1;this.parseChildDocuments=!1;this.structuralErrorCodes=[O.TYPE_PARSE_UNCLOSED_CONDITIONAL,O.TYPE_PARSE_UNPAIRED_CONDITIONAL,O.TYPE_RECURSIVE_UNPAIRED_NODE,O.TYPE_RUNTIME_FATAL_UNPAIRED_LOOP_END,O.TYPE_UNPAIRED_CLOSING_TAG];this.structure=new Jg(this);this.fragmentsParser=new nT,this.fragmentsAnalyzer=new rT(this,this.fragmentsParser)}withChildDocuments(e){return this.parseChildDocuments=e,this}shouldParseChildDocument(){return this.parseChildDocuments}hasUnclosedIfStructures(){return this.doesHaveUncloseIfStructures}hasUnclosedStructures(){return this.doesHaveUnclosedStructures}getFrontMatter(){return this.frontMatter}setDocumentPath(e){this.documentPath=e}getFrontMatterEndLine(){return this.frontMatterEndLine}pushError(e){(e.errorCode==O.TYPE_PARSE_UNCLOSED_CONDITIONAL||e.errorCode==O.TYPE_PARSE_UNPAIRED_CONDITIONAL)&&(this.doesHaveUncloseIfStructures=!0);let n=e.hash();this.pushedErrors.has(n)||(this.pushedErrors.set(n,e),this.antlersErrors.push(e),this.structuralErrorCodes.includes(e.errorCode)&&this.structureErrors.push(e))}getInterpolationRegions(){return this.interpolationRegions}getDocumentPath(){return this.documentPath}checkCurrentOffsets(){if(this.currentIndex>this.chars.length){this.cur=null,this.prev=null,this.next=null;return}if(this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen){let e=!0;if(this.currentIndex==this.charLen-1){let n=te.split(te.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,this.currentChunkOffset==this.inputLen&&(e=!1),n.forEach(r=>{this.chars.push(r),this.charLen+=1})}e&&this.currentIndex+1<this.chars.length&&(this.next=this.chars[this.currentIndex+1])}}charLeftAt(e){return e==null||e.char<=1?null:this.charAt(this.positionFromCursor(e.line,e.char-1))}charLeftAtCursor(e,n){return this.charLeftAt(this.positionFromCursor(e,n))}charRightAt(e){return e==null?null:this.charAt(this.positionFromCursor(e.line,e.char+1))}charRightAtCursor(e,n){return this.charRightAt(this.positionFromCursor(e,n))}punctuationLeftAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:_s.findLeftNeighboringNextPunctuation(e.char,r,n)}punctuationLeftAtCursor(e,n,r=4){return this.punctuationLeftAt(this.positionFromCursor(e,n),r)}punctuationRightAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:_s.findRightBeighboringNextPunctuation(e.char,r,n)}punctuationRightAtCursor(e,n,r=4){return this.punctuationRightAt(this.positionFromCursor(e,n),r)}wordRightAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);if(r==null)return null;let i=_s.findRightNeighboringNextAlphaNumeric(e.char,r,n);return i==null?null:_s.scanWordAt(i,r,n)}wordRightAtCursor(e,n,r=4){return this.wordRightAt(this.positionFromCursor(e,n),r)}wordLeftAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);if(r==null)return null;let i=_s.findLeftNeighboringNextAlphaNumeric(e.char,r,n);return i==null?null:_s.scanWordAt(i,r,n)}wordLeftAtCursor(e,n,r=4){return this.wordLeftAt(this.positionFromCursor(e,n),r)}wordAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:_s.scanWordAt(e.char,r,n)}getLineText(e){let n=this.getLineIndex(e);return n!=null?te.trimRight(this.getContent().substring(n.start,n.end+1)):null}wordAtCursor(e,n,r=4){return this.wordAt(this.positionFromCursor(e,n),r)}charAt(e){return e==null?null:this.content.substr(e.offset,1)}getLinesAround(e){var s;let n=new Map,r=e-3,i=e+3;r<1&&(r=1),i>this.maxLine&&(i=this.maxLine);for(let o=r;o<=i;o++)n.set(o,(s=this.getLineText(o))!=null?s:"");return n}charAtCursor(e,n){return this.charAt(this.positionFromCursor(e,n))}getLineIndex(e){if(e==this.maxLine){let r=this.lineIndex.get(e-1);if(r!=null){let i=r.endIndex+1;return{end:this.inputLen-1,start:i}}return null}let n=this.lineIndex.get(e);return n!=null?{start:n.startIndex,end:n.endIndex}:null}positionFromCursor(e,n){if(e==this.maxLine){let i=this.lineIndex.get(e-1);if(i!=null){let s=i.endIndex+1,o=s+(n-1),l=new tr;return l.offset=o,l.line=e,l.char=n,l.index=o,l}return null}let r=this.lineIndex.get(e);if(r!=null){let i=new tr;return i.offset=r.startIndex+(n-1),i.line=r.line,i.char=n,i.index=r.startIndex+(n-1),i}return null}parse(e){var d,h,m,y,b,T,x,D,_,P;if(this.resetState(),!this.processInputText(e))return[];let n=this.antlersStartIndex.length,r=n-1;if(n==0&&!this.isNoParse){let v=new Et;v.withParser(this),v.content=this.prepareLiteralContent(this.content),v.startPosition=this.positionFromOffset(0,0),v.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1),v.sourceContent=this.content,this.nodes.push(v)}else for(let v=0;v<n;v+=1){let S=this.antlersStartIndex[v];if(this.seedOffset=S,v==0&&S>0&&!this.isNoParse){let J=new Et;if(J.withParser(this),J.content=this.prepareLiteralContent(this.content.substr(0,S)),J.content.length>0){J.startPosition=this.positionFromOffset(0,0),J.endPosition=this.positionFromOffset(S,S-1);let Y=(d=J.startPosition.index)!=null?d:0,ae=J.endPosition.index+1;J.sourceContent=this.content.substr(Y,ae-Y),this.nodes.push(J)}}if(S<this.lastAntlersEndIndex)continue;if(this.currentChunkOffset=S,this.resetIntermediateState(),this.parseIntermediateText(),this.lastAntlersNode!=null&&!(this.lastAntlersNode instanceof bo)&&this.lastAntlersNode.isComment&&!(this.lastAntlersNode instanceof Ql)&&v+1<n){let J=this.antlersStartPositionIndex.get(v+1);if(this.lastAntlersNode.endPosition!=null&&J<this.lastAntlersNode.endPosition.offset){let Y=null;for(let ae=v+1;ae<n;ae++)if(this.antlersStartIndex[ae]>this.lastAntlersNode.endPosition.offset){Y=ae;break}if(Y==null){let ae=this.prepareLiteralContent(this.content.substr(this.lastAntlersNode.endPosition.offset+1));if(ae.length>0&&!this.isNoParse){let he=new Et;he.withParser(this),he.content=ae;let be=this.lastAntlersNode.endPosition.offset+1;he.startPosition=this.positionFromOffset(be,be),he.endPosition=this.positionFromOffset(this.inputLen,this.inputLen);let Te=(h=he.startPosition.index)!=null?h:0,pe=he.endPosition.index+1;he.sourceContent=this.content.substr(Te,pe-Te),this.nodes.push(he)}break}else{let ae=this.antlersStartIndex[Y],he=ae-this.lastAntlersNode.endPosition.offset-1;if(he>0){let be=this.lastAntlersNode.endPosition.offset,Te=ae-1;be+=1,Te-=1;let pe=this.content.substr(be,he);if(pe.length>0&&!this.isNoParse){let at=new Et;at.withParser(this),at.content=pe,at.startPosition=this.positionFromOffset(be,be),at.endPosition=this.positionFromOffset(Te,Te);let Se=(m=at.startPosition.index)!=null?m:0,se=at.endPosition.index+1;at.sourceContent=this.content.substr(Se,se-Se),this.nodes.push(at)}continue}v=Y-1;continue}}}let w=!1;if(this.antlersStartPositionIndex.has(this.currentChunkOffset)?this.lastAntlersEndIndex<this.currentChunkOffset&&(w=!0):w=!0,w){if(v+1<n){let J=this.antlersStartIndex[v+1],Y=this.lastAntlersEndIndex+1;if(J<Y)if(this.lastAntlersEndIndex>J)v+2<n&&(J=this.antlersStartIndex[v+2]);else continue;if(v+1==r&&J<=this.lastAntlersEndIndex){if(this.isNoParse)break;let ae=this.currentChunkOffset,he=this.content.substr(Y),be=new Et;if(be.withParser(this),be.content=this.prepareLiteralContent(he),be.content.length>0){be.startPosition=this.positionFromOffset(ae,ae),be.endPosition=this.positionFromOffset(J,J-1);let Te=(y=be.startPosition.index)!=null?y:0,pe=be.endPosition.index+1;be.sourceContent=this.content.substr(Te+2,this.inputLen-Te+2),this.nodes.push(be)}break}else{let ae=J-this.lastAntlersEndIndex-1;if(ae==0||this.isNoParse)continue;let be=this.currentChunkOffset;this.lastAntlersNode instanceof Ql&&(Y=((T=(b=this.lastAntlersNode.endPosition)==null?void 0:b.offset)!=null?T:0)+1,ae-=((D=(x=this.lastAntlersNode.endPosition)==null?void 0:x.offset)!=null?D:0)+1,be=Y),this.lastAntlersNode instanceof bo&&(Y-=1,ae+=1);let Te=this.content.substr(Y,ae),pe=new Et;if(pe.withParser(this),pe.content=this.prepareLiteralContent(Te),pe.content.length>0){pe.startPosition=this.positionFromOffset(Y,Y),pe.endPosition=this.positionFromOffset(J,J-1);let at=(_=pe.startPosition.index)!=null?_:0,Se=pe.endPosition.index+1;pe.sourceContent=this.content.substr(at,Se-at),this.nodes.push(pe)}}continue}if(v!==r&&this.lastAntlersNode!=null&&this.lastAntlersNode.endPosition!=null&&this.positionFromOffset(S,S).isBefore(this.lastAntlersNode.endPosition)){if(v+1<n){if(this.antlersStartIndex[v+1]<this.lastAntlersNode.endPosition.offset)continue}else if(v+1!=r)continue}if(v==r){let J=this.currentIndex+S;if(J<this.inputLen&&!this.isNoParse){let Y=new Et;if(Y.withParser(this),Y.content=this.prepareLiteralContent(this.content.substr(J)),Y.content.length>0){Y.startPosition=this.positionFromOffset(J,J),Y.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1);let ae=(P=Y.startPosition.index)!=null?P:0,he=Y.endPosition.index+1;Y.sourceContent=this.content.substr(ae,he-ae),this.nodes.push(Y)}break}}}}let i=0;this.nodes.forEach(v=>{v.index=i,i+=1}),this.nodes.length>500&&(this.parseChildDocuments=!1),this.nodes.forEach(v=>{v instanceof Z&&v.isComment||v instanceof Z&&v.interpolationRegions.size>0&&(v.interpolationRegions.forEach((S,w)=>{let J=new Ye;J.withChildDocuments(this.parseChildDocuments),J.setIsInterpolatedParser(!0);let Y=J.parse(S.parseContent);Y.length>1&&Y[1]instanceof Z&&(Y=[Y[1]]),J.hasUnclosedIfStructures()&&(this.doesHaveUncloseIfStructures=!0),J.hasUnclosedStructures()&&(this.doesHaveUnclosedStructures=!0),v.processedInterpolationRegions.set(w,Y),this.mergeErrors(J.getAntlersErrors())}),v.hasProcessedInterpolationRegions=!0)}),this.content.length>0&&this.fragmentsParser.setIndexRanges(this.getNodeIndexRanges()).parse(this.content);let s=new Pd;this.renderNodes=s.associate(this.nodes,this),this.createChildDocuments(this.renderNodes);let o=null,l=null;for(let v=0;v<this.nodes.length;v++){let S=this.nodes[v];v+1<this.nodes.length?l=this.nodes[v+1]:l=null,S.next=l,S.prev=o,o=S}this.fragmentsAnalyzer.analyze(),iT.analyze(this.nodes),this.nodes.forEach(v=>{if(v instanceof Z&&v.isClosedBy!=null){let S=v.getImmediateChildren();for(let w=0;w<S.length;w++){let J=S[w];if(J instanceof Z&&J.isClosedBy!=null){v.containsChildStructures=!0;break}else if(J instanceof Fn){v.containsChildStructures=!0;break}}}}),this.nodes.forEach(v=>{if(v instanceof Z&&v.isClosingTag&&v.isOpenedBy==null){let S="Unpaired closing tag.";v.isInterpolationNode&&(S+=" Tag pairs are not supported within Antlers tags."),v.pushError(X.makeSyntaxError(O.TYPE_UNPAIRED_CLOSING_TAG,v,S))}}),Xg.associateRecursiveParent(this.nodes),this.nodes.forEach(v=>{var S;if(!(v instanceof Z&&v.isComment)&&((v instanceof Z||v instanceof xt)&&(v.isInterpolationNode=this.isInterpolatedParser),(v instanceof Z||v instanceof xt)&&v.interpolationRegions.size>0&&v.runtimeNodes.forEach(w=>{w instanceof xe&&v.interpolationRegions.has(w.name)&&(w.isInterpolationReference=!0,w.interpolationNodes=v.processedInterpolationRegions.get(w.name))}),(v instanceof Z||v instanceof xt)&&v.hasParameters&&v.interpolationRegions.size>0&&v.parameters.forEach(w=>{v.interpolationRegions.forEach((J,Y)=>{w.value.includes(Y)&&w.interpolations.push(Y)})}),v instanceof Z&&v.runtimeNodes.length>0&&v.isClosingTag==!1&&!v.isComment&&(v.parsedRuntimeNodes=this.languageParser.parse(v.runtimeNodes),v.hasParsedRuntimeNodes=!0,!v.isTagNode&&v.parsedRuntimeNodes.length>0))){let w=v.nodeAtIndex(0);w!=null&&w instanceof xe&&w.name==((S=v.name)==null?void 0:S.name)&&(v.modifierChain=w.modifierChain)}}),this.languageParser.getCreatedModifierChains().forEach(v=>{v.modifierChain.length>0&&v.modifierChain.forEach(S=>{var w,J;S.nameNode!=null&&Qt.instance!=null&&Qt.instance.hasModifier((w=S.nameNode)==null?void 0:w.name)&&(S.modifier=(J=Qt.instance)==null?void 0:J.getModifier(S.nameNode.name))})});let u=1;return this.nodes.forEach(v=>{var S,w;if(v instanceof Z){if(v.isComment)return;v.isTagNode=(w=(S=Hn.instance)==null?void 0:S.isKnownTag(v.runtimeName()))!=null?w:!1,v.scopeName=v.findParameterValue("scope",""),v.antlersNodeIndex=u,u+=1,Zg.analyzeModifierNodeParameters(v)}}),this.nodes.forEach(v=>{var S,w,J,Y,ae,he,be,Te;if(v instanceof Z&&v.isClosedBy!=null){let pe=((w=(S=v.endPosition)==null?void 0:S.offset)!=null?w:0)+1,at=(Y=(J=v.isClosedBy.startPosition)==null?void 0:J.offset)!=null?Y:0,Se=(he=(ae=v.startPosition)==null?void 0:ae.offset)!=null?he:0,se=((Te=(be=v.isClosedBy.endPosition)==null?void 0:be.offset)!=null?Te:0)+1;v.documentText=this.content.substr(pe,at-pe),v.nodeContent=this.content.substr(Se,se-Se),this.parseChildDocuments&&(v.childDocument=Tn.childFromText(v.documentText,Lc(v.children)))}}),this.renderNodes}createChildDocuments(e){e.forEach(n=>{var r,i,s,o,l,u,d,h;if(n instanceof Z&&n.isClosedBy!=null){let m=n.isClosedBy,y=((i=(r=n.startPosition)==null?void 0:r.index)!=null?i:0)-1,b=((o=(s=m.endPosition)==null?void 0:s.index)!=null?o:0)-y;if(n.documentText=this.content.substr(y,b),this.parseChildDocuments){let T=(u=(l=n.endPosition)==null?void 0:l.index)!=null?u:0,x=((h=(d=m.startPosition)==null?void 0:d.index)!=null?h:0)-1-T,D=this.content.substr(T,x);n.childDocument=Tn.childFromText(D,Lc(n.getChildren()))}}})}getNodeIndexRanges(){let e=[];return this.nodes.forEach(n=>{var r,i,s,o;n instanceof Et||e.push({start:(i=(r=n.startPosition)==null?void 0:r.index)!=null?i:0,end:(o=(s=n.endPosition)==null?void 0:s.index)!=null?o:0})}),e}positionFromOffset(e,n,r=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let l=this.documentOffsets.get(e);i=l.line,s=l.char}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let l=null,u=null,d=null,h=null;for(let m of this.documentOffsets.keys()){if(m>=e){h!=null&&e>h?(l=d,u=h):(l=this.documentOffsets.get(m),u=m);break}d=this.documentOffsets.get(m),h=m}if(l==null&&(l=d,u=h),l!=null)if(r){let m=this.content.split(""),y=e-(u!=null?u:0),b=l.char-(u!=null?u:0)+e;s=y,i=l.line,e<=(u!=null?u:0)?(i=l.line,s=e+1):i=l.line+1}else{let m=this.content.split(""),y=e-(u!=null?u:0),b=l.char-(u!=null?u:0)+e;s=y,i=l.line,e<=(u!=null?u:0)?(i=l.line,s=e+1):i=l.line+1}else this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let o=new tr;return o.index=n,o.offset=e,o.line=i+this.shiftLine,o.char=s,o}getLanguageParser(){return this.languageParser}getText(e,n){return this.content.substr(e,n-e)}getOriginalContent(){return this.originalContent}getContent(){return this.content}getFragments(){return this.fragmentsParser.getFragments()}getFragmentsParser(){return this.fragmentsParser}getFragmentsContainingStructures(){return this.fragmentsParser.getFragmentsContainingStructures()}setIsInterpolatedParser(e){return this.isInterpolatedParser=e,this}setStartLineSeed(e){return this.seedStartLine=e,this}setSeedStartChar(e){return this.seedStartchar=e,this}resetIntermediateState(){this.chars=[],this.charLen=0,this.currentIndex=0,this.currentContent=[],this.sourceContent=[],this.cur=null,this.next=null,this.prev=null}setSeedPosition(e){return e==null?this.shiftLine=0:this.shiftLine=e.line,this}resetState(){if(this.languageParser.reset(),this.charLen=0,this.antlersStartIndex=[],this.antlersErrors=[],this.pushedErrors.clear(),this.antlersStartPositionIndex.clear(),this.lastAntlersEndIndex=-1,this.renderNodes=[],this.nodes=[],Js.globalTagEnterStack.length>0){let e=Js.globalTagEnterStack[Js.length-1];e!=null&&e.endPosition!=null&&this.setStartLineSeed(e.endPosition.line)}this.seedOffset=0,this.isScanningInterpolations=!1,this.content="",this.chars=[],this.currentIndex=0,this.startIndex=0,this._recoveryStartIndex=0,this.cur=null,this.next=null,this.prev=null,this.inputLen=0,this.documentOffsets.clear(),this.isDoubleBrace=!1,this.interpolationRegions.clear(),this.interpolationEndOffsets.clear()}fetch(e){let n=this.currentChunkOffset+this.chunkSize-this.chars.length;return te.substring(this.content,n,e)}getParsedContent(){return this.content}peek(e){if(e==this.charLen){let n=te.split(te.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,n.forEach(r=>{this.chars.push(r),this.charLen+=1})}return this.chars[e]}parseIntermediateText(){for(this.currentContent=[],this.sourceContent=[],this.startIndex=0,this.chars=this.content.substr(this.currentChunkOffset,this.chunkSize).split(""),this.charLen=this.chars.length,this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==Ye.LeftBrace&&this.next==Ye.LeftBrace&&this.prev==Ye.AtChar){this.dumpLiteralNode(this.currentIndex);let e=new Nn;e.withParser(this),e.name=new sr,e.name.name="noparse",e.content="{{",e.startPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),e.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),this.nodes.push(e),this.currentContent=[],this.sourceContent=[],this.currentIndex+=1;continue}if((this.prev==null||this.prev!=null&&this.prev!=Ye.AtChar)&&this.next!=null&&this.cur==Ye.LeftBrace&&this.next==Ye.LeftBrace){this.dumpLiteralNode(this.currentIndex);let e=null;if(this.currentIndex+2<this.inputLen&&(e=this.peek(this.currentIndex+2)),e==Ye.Punctuation_Question&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfPhpRegion(Ye.Punctuation_Question),this.isDoubleBrace=!1;break}if(e==Ye.Punctuation_Dollar&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfPhpRegion(Ye.Punctuation_Dollar),this.isDoubleBrace=!1;break}if(e==Ye.Punctuation_Octothorp&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersCommentRegion(),this.isDoubleBrace=!1;break}if(!this.isNoParse)this.startIndex=this.currentIndex,this._recoveryStartIndex=this.currentIndex,this.isDoubleBrace=!0,this.currentIndex+=2,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersRegion(),this.isDoubleBrace=!1;else if(this.fetch(11).replace(" ","").toLocaleLowerCase().startsWith("{{/noparse")){this.startIndex=this.currentIndex,this._recoveryStartIndex=this.currentIndex,this.isDoubleBrace=!0,this.currentIndex+=2,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersRegion(),this.isDoubleBrace=!1,this.isNoParse=!1;break}else{this.currentContent.push(this.cur);continue}break}if(this.cur==Ye.AtChar&&this.next!=null&&this.next==Ye.LeftBrace){if(this.currentIndex+2>=this.inputLen){this.appendContent(this.next),this.dumpLiteralNode(this.currentIndex+1);break}let e=0;for(let n=this.currentIndex+1;n<this.inputLen&&this.chars[n]==Ye.LeftBrace;n+=1)e+=1;this.currentContent=this.currentContent.concat(Ye.LeftBrace.repeat(e).split("")),this.sourceContent=this.currentContent.concat(Ye.LeftBrace.repeat(e).split("")),this.currentIndex+=e}this.appendContent(this.cur),this.next==null&&this.currentContent.length>0&&this.dumpLiteralNode(this.currentIndex)}}getRenderNodes(){return this.renderNodes}processInputText(e){var m;if(this.originalContent=e,this.content=te.normalizeLineEndings(e),this.inputLen=this.content.length,this.content.startsWith("---")){let y=this.content.split(`
`),b=[],T=[];T.push("");for(let x=1;x<y.length;x++){let D=y[x];if(D.startsWith("---")){T.push(""),T=T.concat(y.slice(x+1)),this.content=T.join(`
`),this.frontMatter=b.join(`
`),this.frontMatterEndLine=x+1;break}else b.push(D),T.push("")}}let n=[...this.content.matchAll(/(\n)/gm)],r=n.length,i=this.seedStartLine,s=null,o=0,l=0;for(let y=0;y<r;y++){let b=n[y],T=(m=b.index)!=null?m:0,x=T;s!=null?x=T-s:x=x+1,this.documentOffsets.set(T,{char:x,line:i});let D=0,_=0;y==0?(_=x-1,D=0):(D=l+1,_=T),this.lineIndex.set(i,{char:x,line:i,startIndex:D,endIndex:_}),this.lastDocumentOffsetKey=T,this.maxLine=i,i+=1,s=T,l=_,o=D}this.maxLine+=1;let u=[...this.content.matchAll(/@?{{/gm)],d=0,h=!1;return u.forEach(y=>{let b=y[0];if(b.startsWith(Ye.AtChar)){d=this.content.indexOf(b,d)+2,h=!0;return}let T=this.content.indexOf(b,d);if(h&&d==T){d=T;return}this.antlersStartIndex.push(T),this.antlersStartPositionIndex.set(T,1),d=T+2,h=!1}),!0}prepareLiteralContent(e){return e.replace("@{{","{{")}scanToEndOfPhpRegion(e){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==e&&this.next!=null&&this.next==Ye.RightBrace&&this.peek(this.currentIndex+2)==Ye.RightBrace){let r=this.makeAntlersPhpNode(this.currentIndex,e==Ye.Punctuation_Dollar);this.currentContent=[],this.sourceContent=[],this.currentIndex+=3,this.startIndex=this.currentIndex,this._recoveryStartIndex=this.startIndex,this.nodes.push(r),this.lastAntlersNode=r;break}if(this.appendContent(this.cur),this.next==null){let n=this.makeAntlersPhpFailedNode(this.currentIndex);this.nodes.push(n),this.lastAntlersNode=n,this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(X.makeSyntaxError(O.TYPE_INCOMPLETE_PHP_EVALUATION_REGION,n,"Unexpected end of input while parsing Antlers PHP region."));break}}}appendContent(e){e!=null&&(this.currentContent.push(e),this.sourceContent.push(e))}scanToEndOfAntlersCommentRegion(){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==Ye.Punctuation_Octothorp&&this.next!=null&&this.next==Ye.RightBrace&&this.peek(this.currentIndex+2)==Ye.RightBrace){let n=this.makeAntlersTagNode(this.currentIndex,!0);this.currentContent=[],this.sourceContent=[],this.currentIndex+=3,this.nodes.push(n),this.lastAntlersNode=n;break}if(this.appendContent(this.cur),this.next==null){let e=this.makeAntlersCommentFailedNode(this.currentIndex);this.nodes.push(e),this.lastAntlersNode=e,this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(X.makeSyntaxError(O.TYPE_INCOMPLETE_ANTELRS_COMMENT_REGION,e,"Unexpected end of input while parsing Antlers comment region."));break}}}scanToEndOfInterpolatedRegion(){this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0);let e=[];this.isScanningInterpolations=!0;let n=0;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1)if(this.checkCurrentOffsets(),this.cur==Ye.LeftBrace){if(this.prev==Ye.AtChar){e.push(this.cur);continue}n+=1,e.push(this.cur)}else if(this.cur==Ye.RightBrace){if(this.prev==Ye.AtChar){e.push(this.cur);continue}if(n-=1,e.push(this.cur),n==0){this.interpolationEndOffsets.set(this.currentIndex,1);break}}else this.cur!=null&&e.push(this.cur);let r=e.join(""),s=("int_"+YE.Md5.hashStr(r)).substr(0,r.length),o=s.length,l=r.length;if(o<l){let u=l-o;s+="x".repeat(u)}return this.isScanningInterpolations=!1,{content:r,varContent:s}}bordersInterpolationRegion(e){if(this.interpolationEndOffsets.size==0)return!1;let n=e.offset-1;return n<=0?!1:this.interpolationEndOffsets.has(n)}getParseableContent(e){let n="";for(let r=0;r<=e;r++)this.content[r]==Ye.LeftBrace||this.content[r]==Ye.RightBrace?n+="~":n+=this.content[r];return n}scanToEndOfAntlersRegion(){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==Ye.LeftBrace&&this.prev==Ye.AtChar){this.currentContent.pop(),this.appendContent(this.cur);continue}if(this.isInterpolatedParser&&this.cur==Ye.RightBrace&&this.prev==Ye.AtChar){this.currentContent.pop(),this.appendContent(this.cur);continue}if(this.cur==Ye.LeftBrace){let e=this.scanToEndOfInterpolatedRegion(),n=this.currentIndex+this.seedOffset,r=n-e.content.length,i=this.getParseableContent(r-1);Js.interpolatedVariables.push(e.varContent),this.currentContent=this.currentContent.concat(e.varContent.split("")),this.sourceContent=this.sourceContent.concat(e.content.split(""));let s=i+"{"+e.content+"}";this.interpolationRegions.set(e.varContent,{content:e.content,parseContent:s,varContent:e.varContent,startOffset:r,endOffset:n});continue}if(this.cur==Ye.RightBrace&&this.next!=null&&this.next==Ye.RightBrace){let e=this.makeAntlersTagNode(this.currentIndex,!1);e.name!=null&&e.name.name=="noparse"&&(this.isNoParse=!0),this.currentIndex+=2,this.nodes.push(e),this.lastAntlersNode=e;break}if(this.appendContent(this.cur),this.next==null){let e=this.makeAntlersFailedNode(this.currentIndex,!1);this.nodes.push(e),this.lastAntlersNode=e,this.doesHaveUnclosedStructures=!0;let n="Unexpected end of input while parsing Antlers region.";this.isScanningInterpolations&&(n="Unexpected end of input wihle parsing interpolated Antlers region."),this.antlersErrors.push(X.makeSyntaxError(O.TYPE_INCOMPLETE_ANTLERS_REGION,e,n));break}}}makeAntlersPhpNode(e,n){let r=new bo;return n?(r.rawStart="{{$",r.rawEnd="$}}"):(r.rawStart="{{?",r.rawEnd="?}}"),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset),e+3>this.inputLen?(r.endPosition=this.positionFromOffset(this.inputLen,this.inputLen-1),this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(X.makeSyntaxError(O.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE,r,"Unexpected end of input while locating end of Antlers region.")),r):(this.lastAntlersEndIndex=e+3+this.seedOffset,r.endPosition=this.positionFromOffset(e+this.seedOffset,e+3+this.seedOffset),r)}makeAntlersPhpFailedNode(e){let n=new Zp;n.rawStart="{{$",n.rawEnd="$}}",n._isEndVirtual=!0,n.content=this.currentContent.join(""),n.sourceContent=this.sourceContent.join(""),n.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let r=this.getLineText(n.startPosition.line),i=this.getLineIndex(n.startPosition.line);if(r!=null){let o=r.substr(this._recoveryStartIndex);n.content=o,n.sourceContent=o}let s=e+this.seedOffset;return i!=null&&(this.currentIndex=i.end,s=i.end),n.endPosition=this.positionFromOffset(s,s),n}makeAntlersCommentFailedNode(e){let n=new Ql;this.isDoubleBrace?(n.rawStart="{{",n.rawEnd="}}"):(n.rawStart="{",n.rawEnd="}"),n._isEndVirtual=!0;let r=!1,i=this.currentContent.length;i>0&&this.currentContent[i-1]==Ye.Punctuation_ForwardSlash&&(this.currentContent.pop(),r=!0),n.isComment=!0,n.isSelfClosing=r,n.withParser(this),n.content=this.currentContent.join(""),n.sourceContent=this.sourceContent.join(""),n.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let s=this.getLineText(n.startPosition.line),o=this.getLineIndex(n.startPosition.line);if(s!=null){let u=s.substr(this._recoveryStartIndex);n.content=u,n.sourceContent=u}let l=e+this.seedOffset;return o!=null&&(this.currentIndex=o.end,l=o.end),n.endPosition=this.positionFromOffset(l,l),n.interpolationRegions=new Map,this.interpolationRegions.forEach((u,d)=>{n.content.includes(d)&&n.interpolationRegions.set(d,u)}),n}makeAntlersFailedNode(e,n){let r=new xt;this.isDoubleBrace?(r.rawStart="{{",r.rawEnd="}}"):(r.rawStart="{",r.rawEnd="}"),r._isEndVirtual=!0;let i=!1,s=this.currentContent.length;s>0&&this.currentContent[s-1]==Ye.Punctuation_ForwardSlash&&(this.currentContent.pop(),i=!0),r.isComment=n,r.isSelfClosing=i,r.withParser(this),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let o=this.getLineText(r.startPosition.line),l=this.getLineIndex(r.startPosition.line);if(o!=null){let h=te.trimLeft(this.content.substring(r.startPosition.offset+r.rawStart.length-1,l==null?void 0:l.end),"{");r.content=h,r.sourceContent=h}let u=e+this.seedOffset;l!=null&&(this.currentIndex=l.end,u=l.end),r.endPosition=this.positionFromOffset(u,u),r.interpolationRegions=new Map,this.interpolationRegions.forEach((h,m)=>{r.content.includes(m)&&r.interpolationRegions.set(m,h)});let d=this.nodeParser.parseNode(r);return this.mergeErrors(d.getErrors()),d}makeAntlersTagNode(e,n){let r=new Z;this.isDoubleBrace?(r.rawStart="{{",r.rawEnd="}}"):(r.rawStart="{",r.rawEnd="}");let i=!1,s=this.currentContent.length;if(s>0&&this.currentContent[s-1]==Ye.Punctuation_ForwardSlash&&(this.currentContent.pop(),i=!0),r.isInterpolationNode=this.isInterpolatedParser,r.isComment=n,r.isSelfClosing=i,r.withParser(this),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset),e+2>this.inputLen)return r.endPosition=this.positionFromOffset(this.inputLen,this.inputLen-1),this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(X.makeSyntaxError(O.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE,r,"Unexpected end of input while locating end of Antlers region.")),r;if(n?this.lastAntlersEndIndex=e+2+this.seedOffset:this.lastAntlersEndIndex=e+1+this.seedOffset,r.endPosition=this.positionFromOffset(this.lastAntlersEndIndex,this.lastAntlersEndIndex),r.interpolationRegions=new Map,this.interpolationRegions.forEach((l,u)=>{r.content.includes(u)&&r.interpolationRegions.set(u,l)}),r.isComment)return r;let o=this.nodeParser.parseNode(r);return this.mergeErrors(o.getErrors()),o}mergeErrors(e){e.forEach(n=>{this.antlersErrors.push(n)})}getNodes(){return this.nodes}getNodesBetween(e,n){let r=[];return this.nodes.forEach(i=>{var s,o,l,u;((o=(s=i.startPosition)==null?void 0:s.offset)!=null?o:0)>e.offset&&((u=(l=i.endPosition)==null?void 0:l.offset)!=null?u:0)<n.offset&&r.push(i)}),r}antlersNodes(){return this.nodes.filter(function(e){return e instanceof Z})}dumpLiteralNode(e){this.isNoParse||(this.currentContent.length>0&&this.nodes.push(this.makeLiteralNode(this.currentContent,this.startIndex,e)),this.currentContent=[],this.sourceContent=[])}makeLiteralNode(e,n,r){let i=new Et;return i.content=e.join(""),i.sourceContent=this.sourceContent.join(""),i.startPosition=this.positionFromOffset(n,n),i.endPosition=this.positionFromOffset(r,r),i.sourceContent=this.content.substr(n,r),i.withParser(this),i}addAntlersError(e){this.antlersErrors.push(e)}getAntlersErrors(){return this.antlersErrors}getStructureErrors(){return this.structureErrors}},H=Ye;H.K_CHAR="char",H.K_LINE="line",H.NewLine=`
`,H.AtChar="@",H.LeftBrace="{",H.RightBrace="}",H.LeftBracket="[",H.RightBracket="]",H.String_EscapeCharacter="\\",H.String_Terminator_DoubleQuote='"',H.String_Terminator_SingleQuote="'",H.Punctuation_Question="?",H.Punctuation_Equals="=",H.Punctuation_Comma=",",H.Punctuation_Colon=":",H.Punctuation_Semicolon=";",H.Punctuation_Exclamation="!",H.Punctuation_Pipe="|",H.Punctuation_Ampersand="&",H.Punctuation_LessThan="<",H.Punctuation_GreaterThan=">",H.Punctuation_Octothorp="#",H.Punctuation_Tilde="~",H.Punctuation_FullStop=".",H.Punctuation_Dollar="$",H.Punctuation_Asterisk="*",H.Punctuation_Percent="%",H.Punctuation_Plus="+",H.Punctuation_Minus="-",H.Punctuation_Underscore="_",H.Punctuation_ForwardSlash="/",H.Punctuation_Caret="^",H.LeftParen="(",H.RightParent=")"});var Ft,Ad=E(()=>{nt();Dc();Ft=class{static findAssignmentNodes(e){let n=[];for(let r=0;r<e.length;r++)Jt.isAssignmentOperatorNode(e[r])&&n.push(e[r]);return n}static findAbstractNodesBefore(e,n){return this.findAbstractNodesBeforePosition(e.startPosition,n)}static findAbstractNodesBeforePosition(e,n){if(e==null)return[];let r=[];for(let i=0;i<n.length;i++){let s=n[i];if(s.startPosition!=null){if(s.startPosition.index>e.index)break;r.push(s)}}return r}static isBefore(e,n){return e.startPosition==null?!1:e.startPosition.index<n.index}static isAfter(e,n){return e.startPosition==null?!1:e.startPosition.index>n.index}static findNodesBeforePosition(e,n){let r=[];if(e==null)return r;for(let i=0;i<n.length;i++){let s=n[i];if(!Ft.isLiteralType(s)&&s.startPosition!=null&&s.endPosition!=null){if(s.startPosition.index>e.index)break;r.push(s)}}return r}static findNodesAfterPosition(e,n){let r=[];if(e==null)return r;for(let i=0;i<n.length;i++){let s=n[i];Ft.isLiteralType(s)||s.startPosition!=null&&s.startPosition.index>e.index&&r.push(s)}return r}static findNodeBeforePosition(e,n){if(e==null)return null;let r=null;for(let i=0;i<n.length;i++){let s=n[i];if(!Ft.isLiteralType(s)&&s.startPosition!=null){if(s.startPosition.index>e.index)break;r=s}}return r}static findNodeAfterPosition(e,n){if(e==null)return null;for(let r=0;r<n.length;r++){let i=n[r];if(!Ft.isLiteralType(i)&&i.startPosition!=null&&i.startPosition.index>e.index)return i}return null}static findNodeAtPosition(e,n){if(e==null)return null;for(let r=0;r<n.length;r++){let i=n[r];if(!Ft.isLiteralType(i)&&i.startPosition!=null&&i.endPosition!=null&&e.index>=i.startPosition.index&&e.index<=i.endPosition.index)return i}return null}static isLiteralType(e){return e instanceof Nn||e instanceof Et}}});var Mc,KE=E(()=>{nt();Ad();Mc=class{static isModifierLeftOf(e,n){return Mc.isModifierLeftOfPosition(e.startPosition,n)}static isModifierLeftOfPosition(e,n){let r=Ft.findAbstractNodesBeforePosition(e,n);for(let i=r.length-1;i>=0;i--){let s=r[i];if(s instanceof pn||s instanceof cn)return!1;if(s instanceof xn)return!0}return!1}}});var Fc,$E=E(()=>{Dc();Fc=class{constructor(){this.isRightOfOperator=!1;this.isLeftOfOperator=!1}static resolveContext(e,n,r){let i=new Fc;return r!=null&&(r.prev!=null&&Jt.isOperatorType(r.prev)&&(i.isRightOfOperator=!0),r.next!=null&&Jt.isOperatorType(r.next)&&(i.isLeftOfOperator=!0)),i}}});var sT,zE=E(()=>{sT=class{constructor(){this.inTagPart=!1;this.inMethodPart=!1}}});var Vc,QE=E(()=>{nt();Vc=class{constructor(){this.modifierChain=null;this.activeModifier=null;this.name="";this.inModifierName=!1;this.inModifierParameter=!1;this.valueCount=0;this.activeValueIndex=-1;this.activeValue=null}static resolveContext(e,n,r,i){let s=n.getParser(),o=new Vc,l=s.getLanguageParser().getCreatedModifierChains(),u=null;for(let d=0;d<l.length;d++){let h=l[d];if(e.isWithin(h.startPosition,h.endPosition)){for(let m=0;m<h.modifierChain.length;m++){let y=h.modifierChain[m];if(e.isWithin(y.startPosition,y.endPosition)){u=y;break}}if(u!=null)break}}if(u==null&&r instanceof En&&i.getDocumentParser().getLanguageParser().hasModifierConstruct(r)&&(u=i.getDocumentParser().getLanguageParser().getModifierConstruct(r)),u!=null)if(o.activeModifier=u,o.valueCount=u.valueNodes.length,u.nameNode!=null&&(o.name=u.nameNode.name),u.nameNode!=null&&e.isWithin(u.nameNode.startPosition,u.nameNode.endPosition,1))o.inModifierName=!0;else for(let d=0;d<u.valueNodes.length;d++){let h=u.valueNodes[d];if(e.isWithin(h.startPosition,h.endPosition,1)){o.activeValueIndex=d,o.inModifierParameter=!0,o.activeValue=h;break}}return o}}});var Bc,XE=E(()=>{Bc=class{constructor(){this.parameter=null;this.isInName=!1;this.isInValue=!1}static resolveContext(e,n){let r=new Bc;return r.parameter=n,e.isWithinRange(n.namePosition)?r.isInName=!0:e.isWithinRange(n.valuePosition)&&(r.isInValue=!0),r}}});var aT,oT,JE=E(()=>{ku();aT=class{constructor(){this.refId="";this.node=null;this.leftPunctuation=null;this.rightPunctuation=null;this.leftChar=null;this.rightChar=null;this.word=null;this.char=null;this.interpolatedContext=!1;this.leftWord=null;this.rightWord=null;this.isCursorInIdentifier=!1;this.root=null;this.identifierContext=null;this.position=null;this.feature=null;this.isInParameter=!1;this.subContext=null;this.parameterContext=null;this.modifierContext=null;this.generalContext=null;this.variableContext=null;this.cursorContext=oT.Unknown;this.refId=yo()}},oT=(o=>(o[o.Unknown=0]="Unknown",o[o.Variable=1]="Variable",o[o.Modifier=2]="Modifier",o[o.Parameter=3]="Parameter",o[o.General=4]="General",o[o.LanguageOperator=5]="LanguageOperator",o))(oT||{})});var qc,ZE=E(()=>{Mi();nt();qc=class{constructor(){this.variableNode=null;this.varPathText=""}static resolveContext(e,n,r,i){var m;if(r==null)return null;let s=r,o=i.getDocumentParser().getLanguageParser(),l=new qc,u=(m=i.wordAt(e))!=null?m:"";r instanceof Ht&&o.isMergedVariableComponent(r)==!1&&r.prev instanceof xe&&(s=r.prev);let d="";if(o.isMergedVariableComponent(s)){let y=o.getMergedVariable(s);y.startPosition!=null&&(d=i.getText(y.startPosition.index,e.index).trim()),l.variableNode=y}else s instanceof xe&&(l.variableNode=s,d=s.name,s.variableReference!=null&&(d=s.variableReference.normalizedReference));d.length>0&&(d=Br(d,"\\.",":"));let h=d.split(":");return u.trim().length>0&&h.pop(),d=h.join(":"),d.endsWith(":")&&(d=Qp(d,":")),l.varPathText=d,l}}});var ys,lT=E(()=>{nt();KE();$E();zE();QE();XE();JE();ZE();ys=class{static resolveIdentifierContext(e,n){let r=new sT;return n.nameMethodPartStartsOn!=null?e.char<n.nameMethodPartStartsOn.char?(r.inTagPart=!0,r.inMethodPart=!1):(r.inTagPart=!1,r.inMethodPart=!0):(r.inMethodPart=!1,r.inTagPart=!0),r}static resolveContext(e,n,r,i=!1,s=null){var o,l,u,d,h,m;if(n==null||e==null)return null;if(n instanceof _r||n instanceof Z){let y=new aT;if(n.nameStartsOn!=null&&e.line==n.nameStartsOn.line){let x=!1;e.char>=n.nameStartsOn.char&&(x=!0),n.nameEndsOn!=null&&e.char>n.nameEndsOn.char&&(x=!1),x&&(y.isCursorInIdentifier=!0,y.identifierContext=ys.resolveIdentifierContext(e,n))}n.addContext(y),s!=null&&s.addContext(y),y.interpolatedContext=i,y.node=n,y.position=e,y.root=s,y.leftPunctuation=r.punctuationLeftAt(e),y.rightPunctuation=r.punctuationRightAt(e),y.leftChar=r.charLeftAt(e),y.rightChar=r.charRightAt(e),y.word=r.wordAt(e),y.char=r.charAt(e),y.leftWord=r.wordLeftAt(e),y.rightWord=r.wordRightAt(e);let b=!1;if(n.parameters.length>0)for(let x=0;x<n.parameters.length;x++){let D=n.parameters[x];if(D.blockPosition!=null&&D.blockPosition.start!=null&&D.blockPosition.end!=null&&e.char>D.blockPosition.start.char&&e.char<=D.blockPosition.end.char+1&&e.line>=((u=(l=(o=D.namePosition)==null?void 0:o.start)==null?void 0:l.line)!=null?u:D.blockPosition.start.line)&&e.line<=((m=(h=(d=D.valuePosition)==null?void 0:d.end)==null?void 0:h.line)!=null?m:D.blockPosition.end.line)){y.cursorContext=3,y.parameterContext=Bc.resolveContext(e,D),y.isInParameter=!0,y.feature=D,b=!0;break}}if(b||n.runtimeNodes.forEach(x=>{x.startPosition!=null&&x.endPosition!=null&&e.isWithin(x.startPosition,x.endPosition,1)&&(y.feature=x)}),b&&n.interpolationRegions.size>0){let x=Array.from(n.interpolationRegions,([D,_])=>_);for(let D=0;D<x.length;D++){let _=x[D];if(e.index>=_.startOffset&&e.index<=_.endOffset){let P=n.getInterpolationNode(_.varContent);return ys.resolveContext(e,P,r,!0,s)}}}return y.feature instanceof xe&&y.feature.isInterpolationReference&&y.feature.parent!=null&&y.feature.parent instanceof Z&&y.feature.parent.processedInterpolationRegions.has(y.feature.name)?ys.resolveContext(e,y.feature.parent.getInterpolationNode(y.feature.name),r,!0,s):(Mc.isModifierLeftOfPosition(e,n.runtimeNodes)?(y.cursorContext=2,y.modifierContext=Vc.resolveContext(e,n,y.feature,r)):b||(y.cursorContext=4,y.generalContext=Fc.resolveContext(e,n,y.feature)),y.variableContext=qc.resolveContext(e,n,y.feature,r),y)}return null}}});var Ga,cT=E(()=>{wa();nt();Ga=class{static isPairedNode(e){return e instanceof Fn?!0:e instanceof _r||e instanceof Z?e.isClosedBy!=null:!1}static findAncestorsBeforePosition(e,n){var l,u,d,h,m,y;let r=[],i=[],s=-1,o=-1;for(let b=0;b<n.length;b++){let T=n[b];if(T.isClosedBy!=null&&((l=T.isClosedBy.endPosition)==null?void 0:l.isBefore(e))&&(i.push(T),i.push(T.isClosedBy),s=T.isClosedBy.endPosition.line,o=T.isClosedBy.endPosition.char),!(s>-1&&T.endPosition!=null&&(T.endPosition.line<s||T.endPosition.line==s&&o>-1&&T.endPosition.char<o))){if(T.startPosition!=null){if(e.isBefore(T.startPosition))break;if(T.startPosition.line==e.line&&e.char<=T.startPosition.char){i.push(T);continue}}if(((u=Hn.instance)==null?void 0:u.requiresClose(T))&&T.isClosedBy!=null){let x=T.isClosedBy;if((d=x.startPosition)==null?void 0:d.isBefore(e)){i.push(T),i.push(x);continue}else((h=x.startPosition)==null?void 0:h.line)==e.line&&((m=x.startPosition)==null?void 0:m.char)<e.char?i.push(T):r.push(T)}else if(T.parent!=null){let x=T.parent;if(i.includes(x)){i.push(T);continue}else((y=T.endPosition)==null?void 0:y.isBefore(e))?r.push(T):i.push(T)}else r.push(T)}}return r}}});var uT,eR=E(()=>{Ad();lT();cT();nt();uT=class{constructor(e){this.doc=e}getAncestorsAt(e,n){let r=this.position(e,n);return r==null?[]:Ga.findAncestorsBeforePosition(r,this.doc.getAllAntlersNodes())}getNameAt(e,n){let r=this.getNodeAt(e,n);return r instanceof Z?r.name:null}getScopeAt(e,n){let r=this.getNodeAt(e,n);return r instanceof Z&&r.currentScope!=null?r.currentScope:null}getFeaturesAt(e,n){let r=this.position(e,n),i=this.getNodeAt(e,n);return ys.resolveContext(r,i,this.doc,!1,i)}getNodeAt(e,n){return Ft.findNodeAtPosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodeBefore(e,n){return Ft.findNodeBeforePosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodeAfter(e,n){return Ft.findNodeAfterPosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodesBefore(e,n){return Ft.findNodesBeforePosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getAssignmentsBefore(e,n){let r=this.doc.getDocumentParser().getLanguageParser().getRuntimeAssignments(),i=[],s=this.position(e,n);return s!=null&&r.forEach(o=>{Ft.isBefore(o.target,s)&&i.push(o)}),i}getAssignmentsAfter(e,n){let r=this.doc.getDocumentParser().getLanguageParser().getRuntimeAssignments(),i=[],s=this.position(e,n);return s!=null&&r.forEach(o=>{Ft.isAfter(o.target,s)&&i.push(o)}),i}getNodesAfter(e,n){return Ft.findNodesAfterPosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getIsWithinPairedNode(e,n){let r=this.getNodeBefore(e,n);return r==null?!1:Ga.isPairedNode(r)}position(e,n){return this.doc.getDocumentParser().positionFromCursor(e,n)}charLeftAt(e,n){return this.doc.getDocumentParser().charLeftAtCursor(e,n)}charAt(e,n){return this.doc.getDocumentParser().charAtCursor(e,n)}charRightAt(e,n){return this.doc.getDocumentParser().charRightAtCursor(e,n)}wordLeftAt(e,n,r=4){return this.doc.getDocumentParser().wordLeftAtCursor(e,n,r)}wordRightAt(e,n,r=4){return this.doc.getDocumentParser().wordRightAtCursor(e,n,r)}wordAt(e,n,r=4){return this.doc.getDocumentParser().wordAtCursor(e,n,r)}punctuationLeftAt(e,n,r=4){return this.doc.getDocumentParser().punctuationLeftAtCursor(e,n,r)}punctuationRightAt(e,n,r=4){return this.doc.getDocumentParser().punctuationRightAtCursor(e,n,r)}}});var fT,tR=E(()=>{fT=class{constructor(e){this.doc=e}hasStructureErrors(){return this.doc.getDocumentParser().getStructureErrors().length>0}getFirstStructureError(){return this.doc.getDocumentParser().getStructureErrors()[0]}hasAny(){return this.all().length>0}all(){let e=[],n=[];return this.doc.getAllAntlersNodes().forEach(r=>{r.getErrors().forEach(i=>{e.includes(i.hash())==!1&&(e.push(i.hash()),n.push(i))})}),this.doc.getDocumentParser().getAntlersErrors().forEach(r=>{e.includes(r.hash())==!1&&(e.push(r.hash()),n.push(r))}),n}}});var Zs=_e(ar=>{"use strict";var bs={ANCHOR:"&",COMMENT:"#",TAG:"!",DIRECTIVES_END:"-",DOCUMENT_END:"."},Uc={ALIAS:"ALIAS",BLANK_LINE:"BLANK_LINE",BLOCK_FOLDED:"BLOCK_FOLDED",BLOCK_LITERAL:"BLOCK_LITERAL",COMMENT:"COMMENT",DIRECTIVE:"DIRECTIVE",DOCUMENT:"DOCUMENT",FLOW_MAP:"FLOW_MAP",FLOW_SEQ:"FLOW_SEQ",MAP:"MAP",MAP_KEY:"MAP_KEY",MAP_VALUE:"MAP_VALUE",PLAIN:"PLAIN",QUOTE_DOUBLE:"QUOTE_DOUBLE",QUOTE_SINGLE:"QUOTE_SINGLE",SEQ:"SEQ",SEQ_ITEM:"SEQ_ITEM"},Dq="tag:yaml.org,2002:",Mq={MAP:"tag:yaml.org,2002:map",SEQ:"tag:yaml.org,2002:seq",STR:"tag:yaml.org,2002:str"};function nR(t){let e=[0],n=t.indexOf(`
`);for(;n!==-1;)n+=1,e.push(n),n=t.indexOf(`
`,n);return e}function rR(t){let e,n;return typeof t=="string"?(e=nR(t),n=t):(Array.isArray(t)&&(t=t[0]),t&&t.context&&(t.lineStarts||(t.lineStarts=nR(t.context.src)),e=t.lineStarts,n=t.context.src)),{lineStarts:e,src:n}}function dT(t,e){if(typeof t!="number"||t<0)return null;let{lineStarts:n,src:r}=rR(e);if(!n||!r||t>r.length)return null;for(let s=0;s<n.length;++s){let o=n[s];if(t<o)return{line:s,col:t-n[s-1]+1};if(t===o)return{line:s+1,col:1}}let i=n.length;return{line:i,col:t-n[i-1]+1}}function Fq(t,e){let{lineStarts:n,src:r}=rR(e);if(!n||!(t>=1)||t>n.length)return null;let i=n[t-1],s=n[t];for(;s&&s>i&&r[s-1]===`
`;)--s;return r.slice(i,s)}function Vq({start:t,end:e},n,r=80){let i=Fq(t.line,n);if(!i)return null;let{col:s}=t;if(i.length>r)if(s<=r-10)i=i.substr(0,r-1)+"\u2026";else{let h=Math.round(r/2);i.length>s+h&&(i=i.substr(0,s+h-1)+"\u2026"),s-=i.length-r,i="\u2026"+i.substr(1-r)}let o=1,l="";e&&(e.line===t.line&&s+(e.col-t.col)<=r+1?o=e.col-t.col:(o=Math.min(i.length+1,r)-s,l="\u2026"));let u=s>1?" ".repeat(s-1):"",d="^".repeat(o);return`${i}
${u}${d}${l}`}var Wa=class{static copy(e){return new Wa(e.start,e.end)}constructor(e,n){this.start=e,this.end=n||e}isEmpty(){return typeof this.start!="number"||!this.end||this.end<=this.start}setOrigRange(e,n){let{start:r,end:i}=this;if(e.length===0||i<=e[0])return this.origStart=r,this.origEnd=i,n;let s=n;for(;s<e.length&&!(e[s]>r);)++s;this.origStart=r+s;let o=s;for(;s<e.length&&!(e[s]>=i);)++s;return this.origEnd=i+s,o}},An=class{static addStringTerminator(e,n,r){if(r[r.length-1]===`
`)return r;let i=An.endOfWhiteSpace(e,n);return i>=e.length||e[i]===`
`?r+`
`:r}static atDocumentBoundary(e,n,r){let i=e[n];if(!i)return!0;let s=e[n-1];if(s&&s!==`
`)return!1;if(r){if(i!==r)return!1}else if(i!==bs.DIRECTIVES_END&&i!==bs.DOCUMENT_END)return!1;let o=e[n+1],l=e[n+2];if(o!==i||l!==i)return!1;let u=e[n+3];return!u||u===`
`||u==="	"||u===" "}static endOfIdentifier(e,n){let r=e[n],i=r==="<",s=i?[`
`,"	"," ",">"]:[`
`,"	"," ","[","]","{","}",","];for(;r&&s.indexOf(r)===-1;)r=e[n+=1];return i&&r===">"&&(n+=1),n}static endOfIndent(e,n){let r=e[n];for(;r===" ";)r=e[n+=1];return n}static endOfLine(e,n){let r=e[n];for(;r&&r!==`
`;)r=e[n+=1];return n}static endOfWhiteSpace(e,n){let r=e[n];for(;r==="	"||r===" ";)r=e[n+=1];return n}static startOfLine(e,n){let r=e[n-1];if(r===`
`)return n;for(;r&&r!==`
`;)r=e[n-=1];return n+1}static endOfBlockIndent(e,n,r){let i=An.endOfIndent(e,r);if(i>r+n)return i;{let s=An.endOfWhiteSpace(e,i),o=e[s];if(!o||o===`
`)return s}return null}static atBlank(e,n,r){let i=e[n];return i===`
`||i==="	"||i===" "||r&&!i}static nextNodeIsIndented(e,n,r){return!e||n<0?!1:n>0?!0:r&&e==="-"}static normalizeOffset(e,n){let r=e[n];return r?r!==`
`&&e[n-1]===`
`?n-1:An.endOfWhiteSpace(e,n):n}static foldNewline(e,n,r){let i=0,s=!1,o="",l=e[n+1];for(;l===" "||l==="	"||l===`
`;){switch(l){case`
`:i=0,n+=1,o+=`
`;break;case"	":i<=r&&(s=!0),n=An.endOfWhiteSpace(e,n+2)-1;break;case" ":i+=1,n+=1;break}l=e[n+1]}return o||(o=" "),l&&i<=r&&(s=!0),{fold:o,offset:n,error:s}}constructor(e,n,r){Object.defineProperty(this,"context",{value:r||null,writable:!0}),this.error=null,this.range=null,this.valueRange=null,this.props=n||[],this.type=e,this.value=null}getPropValue(e,n,r){if(!this.context)return null;let{src:i}=this.context,s=this.props[e];return s&&i[s.start]===n?i.slice(s.start+(r?1:0),s.end):null}get anchor(){for(let e=0;e<this.props.length;++e){let n=this.getPropValue(e,bs.ANCHOR,!0);if(n!=null)return n}return null}get comment(){let e=[];for(let n=0;n<this.props.length;++n){let r=this.getPropValue(n,bs.COMMENT,!0);r!=null&&e.push(r)}return e.length>0?e.join(`
`):null}commentHasRequiredWhitespace(e){let{src:n}=this.context;if(this.header&&e===this.header.end||!this.valueRange)return!1;let{end:r}=this.valueRange;return e!==r||An.atBlank(n,r-1)}get hasComment(){if(this.context){let{src:e}=this.context;for(let n=0;n<this.props.length;++n)if(e[this.props[n].start]===bs.COMMENT)return!0}return!1}get hasProps(){if(this.context){let{src:e}=this.context;for(let n=0;n<this.props.length;++n)if(e[this.props[n].start]!==bs.COMMENT)return!0}return!1}get includesTrailingLines(){return!1}get jsonLike(){return[Uc.FLOW_MAP,Uc.FLOW_SEQ,Uc.QUOTE_DOUBLE,Uc.QUOTE_SINGLE].indexOf(this.type)!==-1}get rangeAsLinePos(){if(!this.range||!this.context)return;let e=dT(this.range.start,this.context.root);if(!e)return;let n=dT(this.range.end,this.context.root);return{start:e,end:n}}get rawValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange;return this.context.src.slice(e,n)}get tag(){for(let e=0;e<this.props.length;++e){let n=this.getPropValue(e,bs.TAG,!1);if(n!=null){if(n[1]==="<")return{verbatim:n.slice(2,-1)};{let[r,i,s]=n.match(/^(.*!)([^!]*)$/);return{handle:i,suffix:s}}}}return null}get valueRangeContainsNewline(){if(!this.valueRange||!this.context)return!1;let{start:e,end:n}=this.valueRange,{src:r}=this.context;for(let i=e;i<n;++i)if(r[i]===`
`)return!0;return!1}parseComment(e){let{src:n}=this.context;if(n[e]===bs.COMMENT){let r=An.endOfLine(n,e+1),i=new Wa(e,r);return this.props.push(i),r}return e}setOrigRanges(e,n){return this.range&&(n=this.range.setOrigRange(e,n)),this.valueRange&&this.valueRange.setOrigRange(e,n),this.props.forEach(r=>r.setOrigRange(e,n)),n}toString(){let{context:{src:e},range:n,value:r}=this;if(r!=null)return r;let i=e.slice(n.start,n.end);return An.addStringTerminator(e,n.end,i)}},_l=class extends Error{constructor(e,n,r){if(!r||!(n instanceof An))throw new Error(`Invalid arguments for new ${e}`);super();this.name=e,this.message=r,this.source=n}makePretty(){if(!this.source)return;this.nodeType=this.source.type;let e=this.source.context&&this.source.context.root;if(typeof this.offset=="number"){this.range=new Wa(this.offset,this.offset+1);let n=e&&dT(this.offset,e);if(n){let r={line:n.line,col:n.col+1};this.linePos={start:n,end:r}}delete this.offset}else this.range=this.source.range,this.linePos=this.source.rangeAsLinePos;if(this.linePos){let{line:n,col:r}=this.linePos.start;this.message+=` at line ${n}, column ${r}`;let i=e&&Vq(this.linePos,e);i&&(this.message+=`:

${i}
`)}delete this.source}},iR=class extends _l{constructor(e,n){super("YAMLReferenceError",e,n)}},Sd=class extends _l{constructor(e,n){super("YAMLSemanticError",e,n)}},sR=class extends _l{constructor(e,n){super("YAMLSyntaxError",e,n)}},aR=class extends _l{constructor(e,n){super("YAMLWarning",e,n)}};function Bq(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jc=class extends An{static endOfLine(e,n,r){let i=e[n],s=n;for(;i&&i!==`
`&&!(r&&(i==="["||i==="]"||i==="{"||i==="}"||i===","));){let o=e[s+1];if(i===":"&&(!o||o===`
`||o==="	"||o===" "||r&&o===",")||(i===" "||i==="	")&&o==="#")break;s+=1,i=o}return s}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange,{src:r}=this.context,i=r[n-1];for(;e<n&&(i===`
`||i==="	"||i===" ");)i=r[--n-1];let s="";for(let l=e;l<n;++l){let u=r[l];if(u===`
`){let{fold:d,offset:h}=An.foldNewline(r,l,-1);s+=d,l=h}else if(u===" "||u==="	"){let d=l,h=r[l+1];for(;l<n&&(h===" "||h==="	");)l+=1,h=r[l+1];h!==`
`&&(s+=l>d?r.slice(d,l+1):u)}else s+=u}let o=r[e];switch(o){case"	":{let l="Plain value cannot start with a tab character";return{errors:[new Sd(this,l)],str:s}}case"@":case"`":{let l=`Plain value cannot start with reserved character ${o}`;return{errors:[new Sd(this,l)],str:s}}default:return s}}parseBlockValue(e){let{indent:n,inFlow:r,src:i}=this.context,s=e,o=e;for(let l=i[s];l===`
`&&!An.atDocumentBoundary(i,s+1);l=i[s]){let u=An.endOfBlockIndent(i,n,s+1);if(u===null||i[u]==="#")break;i[u]===`
`?s=u:(o=jc.endOfLine(i,u,r),s=o)}return this.valueRange.isEmpty()&&(this.valueRange.start=e),this.valueRange.end=o,o}parse(e,n){this.context=e;let{inFlow:r,src:i}=e,s=n,o=i[s];return o&&o!=="#"&&o!==`
`&&(s=jc.endOfLine(i,n,r)),this.valueRange=new Wa(n,s),s=An.endOfWhiteSpace(i,s),s=this.parseComment(s),(!this.hasComment||this.valueRange.isEmpty())&&(s=this.parseBlockValue(s)),s}};ar.Char=bs;ar.Node=An;ar.PlainValue=jc;ar.Range=Wa;ar.Type=Uc;ar.YAMLError=_l;ar.YAMLReferenceError=iR;ar.YAMLSemanticError=Sd;ar.YAMLSyntaxError=sR;ar.YAMLWarning=aR;ar._defineProperty=Bq;ar.defaultTagPrefix=Dq;ar.defaultTags=Mq});var dR=_e(fR=>{"use strict";var $=Zs(),yl=class extends $.Node{constructor(){super($.Type.BLANK_LINE)}get includesTrailingLines(){return!0}parse(e,n){return this.context=e,this.range=new $.Range(n,n+1),n+1}},xd=class extends $.Node{constructor(e,n){super(e,n);this.node=null}get includesTrailingLines(){return!!this.node&&this.node.includesTrailingLines}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,{atLineStart:s,lineStart:o}=e;!s&&this.type===$.Type.SEQ_ITEM&&(this.error=new $.YAMLSemanticError(this,"Sequence items must not have preceding content on the same line"));let l=s?n-o:e.indent,u=$.Node.endOfWhiteSpace(i,n+1),d=i[u],h=d==="#",m=[],y=null;for(;d===`
`||d==="#";){if(d==="#"){let T=$.Node.endOfLine(i,u+1);m.push(new $.Range(u,T)),u=T}else{s=!0,o=u+1;let T=$.Node.endOfWhiteSpace(i,o);i[T]===`
`&&m.length===0&&(y=new yl,o=y.parse({src:i},o)),u=$.Node.endOfIndent(i,o)}d=i[u]}if($.Node.nextNodeIsIndented(d,u-(o+l),this.type!==$.Type.SEQ_ITEM)?this.node=r({atLineStart:s,inCollection:!1,indent:l,lineStart:o,parent:this},u):d&&o>n+1&&(u=o-1),this.node){if(y){let T=e.parent.items||e.parent.contents;T&&T.push(y)}m.length&&Array.prototype.push.apply(this.props,m),u=this.node.range.end}else if(h){let T=m[0];this.props.push(T),u=T.end}else u=$.Node.endOfLine(i,n+1);let b=this.node?this.node.valueRange.end:u;return this.valueRange=new $.Range(n,b),u}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.node?this.node.setOrigRanges(e,n):n}toString(){let{context:{src:e},node:n,range:r,value:i}=this;if(i!=null)return i;let s=n?e.slice(r.start,n.range.start)+String(n):e.slice(r.start,r.end);return $.Node.addStringTerminator(e,r.end,s)}},bl=class extends $.Node{constructor(){super($.Type.COMMENT)}parse(e,n){this.context=e;let r=this.parseComment(n);return this.range=new $.Range(n,r),r}};function pT(t){let e=t;for(;e instanceof xd;)e=e.node;if(!(e instanceof Nl))return null;let n=e.items.length,r=-1;for(let o=n-1;o>=0;--o){let l=e.items[o];if(l.type===$.Type.COMMENT){let{indent:u,lineStart:d}=l.context;if(u>0&&l.range.start>=d+u)break;r=o}else if(l.type===$.Type.BLANK_LINE)r=o;else break}if(r===-1)return null;let i=e.items.splice(r,n-r),s=i[0].range.start;for(;e.range.end=s,e.valueRange&&e.valueRange.end>s&&(e.valueRange.end=s),e!==t;)e=e.context.parent;return i}var Nl=class extends $.Node{static nextContentHasIndent(e,n,r){let i=$.Node.endOfLine(e,n)+1;n=$.Node.endOfWhiteSpace(e,i);let s=e[n];return s?n>=i+r?!0:s!=="#"&&s!==`
`?!1:Nl.nextContentHasIndent(e,n,r):!1}constructor(e){super(e.type===$.Type.SEQ_ITEM?$.Type.SEQ:$.Type.MAP);for(let r=e.props.length-1;r>=0;--r)if(e.props[r].start<e.context.lineStart){this.props=e.props.slice(0,r+1),e.props=e.props.slice(r+1);let i=e.props[0]||e.valueRange;e.range.start=i.start;break}this.items=[e];let n=pT(e);n&&Array.prototype.push.apply(this.items,n)}get includesTrailingLines(){return this.items.length>0}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,s=$.Node.startOfLine(i,n),o=this.items[0];o.context.parent=this,this.valueRange=$.Range.copy(o.valueRange);let l=o.range.start-o.context.lineStart,u=n;u=$.Node.normalizeOffset(i,u);let d=i[u],h=$.Node.endOfWhiteSpace(i,s)===u,m=!1;for(;d;){for(;d===`
`||d==="#";){if(h&&d===`
`&&!m){let T=new yl;if(u=T.parse({src:i},u),this.valueRange.end=u,u>=i.length){d=null;break}this.items.push(T),u-=1}else if(d==="#"){if(u<s+l&&!Nl.nextContentHasIndent(i,u,l))return u;let T=new bl;if(u=T.parse({indent:l,lineStart:s,src:i},u),this.items.push(T),this.valueRange.end=u,u>=i.length){d=null;break}}if(s=u+1,u=$.Node.endOfIndent(i,s),$.Node.atBlank(i,u)){let T=$.Node.endOfWhiteSpace(i,u),x=i[T];(!x||x===`
`||x==="#")&&(u=T)}d=i[u],h=!0}if(!d)break;if(u!==s+l&&(h||d!==":")){if(u<s+l){s>n&&(u=s);break}else if(!this.error){let T="All collection items must start at the same column";this.error=new $.YAMLSyntaxError(this,T)}}if(o.type===$.Type.SEQ_ITEM){if(d!=="-"){s>n&&(u=s);break}}else if(d==="-"&&!this.error){let T=i[u+1];if(!T||T===`
`||T==="	"||T===" "){let x="A collection cannot be both a mapping and a sequence";this.error=new $.YAMLSyntaxError(this,x)}}let y=r({atLineStart:h,inCollection:!0,indent:l,lineStart:s,parent:this},u);if(!y)return u;if(this.items.push(y),this.valueRange.end=y.valueRange.end,u=$.Node.normalizeOffset(i,y.range.end),d=i[u],h=!1,m=y.includesTrailingLines,d){let T=u-1,x=i[T];for(;x===" "||x==="	";)x=i[--T];x===`
`&&(s=T+1,h=!0)}let b=pT(y);b&&Array.prototype.push.apply(this.items,b)}return u}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.items.forEach(r=>{n=r.setOrigRanges(e,n)}),n}toString(){let{context:{src:e},items:n,range:r,value:i}=this;if(i!=null)return i;let s=e.slice(r.start,n[0].range.start)+String(n[0]);for(let o=1;o<n.length;++o){let l=n[o],{atLineStart:u,indent:d}=l.context;if(u)for(let h=0;h<d;++h)s+=" ";s+=String(l)}return $.Node.addStringTerminator(e,r.end,s)}},oR=class extends $.Node{constructor(){super($.Type.DIRECTIVE);this.name=null}get parameters(){let e=this.rawValue;return e?e.trim().split(/[ \t]+/):[]}parseName(e){let{src:n}=this.context,r=e,i=n[r];for(;i&&i!==`
`&&i!=="	"&&i!==" ";)i=n[r+=1];return this.name=n.slice(e,r),r}parseParameters(e){let{src:n}=this.context,r=e,i=n[r];for(;i&&i!==`
`&&i!=="#";)i=n[r+=1];return this.valueRange=new $.Range(e,r),r}parse(e,n){this.context=e;let r=this.parseName(n+1);return r=this.parseParameters(r),r=this.parseComment(r),this.range=new $.Range(n,r),r}},Gc=class extends $.Node{static startCommentOrEndBlankLine(e,n){let r=$.Node.endOfWhiteSpace(e,n),i=e[r];return i==="#"||i===`
`?r:n}constructor(){super($.Type.DOCUMENT);this.directives=null,this.contents=null,this.directivesEndMarker=null,this.documentEndMarker=null}parseDirectives(e){let{src:n}=this.context;this.directives=[];let r=!0,i=!1,s=e;for(;!$.Node.atDocumentBoundary(n,s,$.Char.DIRECTIVES_END);)switch(s=Gc.startCommentOrEndBlankLine(n,s),n[s]){case`
`:if(r){let o=new yl;s=o.parse({src:n},s),s<n.length&&this.directives.push(o)}else s+=1,r=!0;break;case"#":{let o=new bl;s=o.parse({src:n},s),this.directives.push(o),r=!1}break;case"%":{let o=new oR;s=o.parse({parent:this,src:n},s),this.directives.push(o),i=!0,r=!1}break;default:return i?this.error=new $.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s}return n[s]?(this.directivesEndMarker=new $.Range(s,s+3),s+3):(i?this.error=new $.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s)}parseContents(e){let{parseNode:n,src:r}=this.context;this.contents||(this.contents=[]);let i=e;for(;r[i-1]==="-";)i-=1;let s=$.Node.endOfWhiteSpace(r,e),o=i===e;for(this.valueRange=new $.Range(s);!$.Node.atDocumentBoundary(r,s,$.Char.DOCUMENT_END);){switch(r[s]){case`
`:if(o){let l=new yl;s=l.parse({src:r},s),s<r.length&&this.contents.push(l)}else s+=1,o=!0;i=s;break;case"#":{let l=new bl;s=l.parse({src:r},s),this.contents.push(l),o=!1}break;default:{let l=$.Node.endOfIndent(r,s),d=n({atLineStart:o,indent:-1,inFlow:!1,inCollection:!1,lineStart:i,parent:this},l);if(!d)return this.valueRange.end=l;this.contents.push(d),s=d.range.end,o=!1;let h=pT(d);h&&Array.prototype.push.apply(this.contents,h)}}s=Gc.startCommentOrEndBlankLine(r,s)}if(this.valueRange.end=s,r[s]&&(this.documentEndMarker=new $.Range(s,s+3),s+=3,r[s])){if(s=$.Node.endOfWhiteSpace(r,s),r[s]==="#"){let l=new bl;s=l.parse({src:r},s),this.contents.push(l)}switch(r[s]){case`
`:s+=1;break;case void 0:break;default:this.error=new $.YAMLSyntaxError(this,"Document end marker line cannot have a non-comment suffix")}}return s}parse(e,n){e.root=this,this.context=e;let{src:r}=e,i=r.charCodeAt(n)===65279?n+1:n;return i=this.parseDirectives(i),i=this.parseContents(i),i}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.directives.forEach(r=>{n=r.setOrigRanges(e,n)}),this.directivesEndMarker&&(n=this.directivesEndMarker.setOrigRange(e,n)),this.contents.forEach(r=>{n=r.setOrigRanges(e,n)}),this.documentEndMarker&&(n=this.documentEndMarker.setOrigRange(e,n)),n}toString(){let{contents:e,directives:n,value:r}=this;if(r!=null)return r;let i=n.join("");return e.length>0&&((n.length>0||e[0].type===$.Type.COMMENT)&&(i+=`---
`),i+=e.join("")),i[i.length-1]!==`
`&&(i+=`
`),i}},lR=class extends $.Node{parse(e,n){this.context=e;let{src:r}=e,i=$.Node.endOfIdentifier(r,n+1);return this.valueRange=new $.Range(n+1,i),i=$.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i}},ea={CLIP:"CLIP",KEEP:"KEEP",STRIP:"STRIP"},cR=class extends $.Node{constructor(e,n){super(e,n);this.blockIndent=null,this.chomping=ea.CLIP,this.header=null}get includesTrailingLines(){return this.chomping===ea.KEEP}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange,{indent:r,src:i}=this.context;if(this.valueRange.isEmpty())return"";let s=null,o=i[n-1];for(;o===`
`||o==="	"||o===" ";){if(n-=1,n<=e){if(this.chomping===ea.KEEP)break;return""}o===`
`&&(s=n),o=i[n-1]}let l=n+1;s&&(this.chomping===ea.KEEP?(l=s,n=this.valueRange.end):n=s);let u=r+this.blockIndent,d=this.type===$.Type.BLOCK_FOLDED,h=!0,m="",y="",b=!1;for(let T=e;T<n;++T){for(let D=0;D<u&&i[T]===" ";++D)T+=1;let x=i[T];if(x===`
`)y===`
`?m+=`
`:y=`
`;else{let D=$.Node.endOfLine(i,T),_=i.slice(T,D);T=D,d&&(x===" "||x==="	")&&T<l?(y===" "?y=`
`:!b&&!h&&y===`
`&&(y=`

`),m+=y+_,y=D<n&&i[D]||"",b=!0):(m+=y+_,y=d&&T<l?" ":`
`,b=!1),h&&_!==""&&(h=!1)}}return this.chomping===ea.STRIP?m:m+`
`}parseBlockHeader(e){let{src:n}=this.context,r=e+1,i="";for(;;){let s=n[r];switch(s){case"-":this.chomping=ea.STRIP;break;case"+":this.chomping=ea.KEEP;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":i+=s;break;default:return this.blockIndent=Number(i)||null,this.header=new $.Range(e,r),r}r+=1}}parseBlockValue(e){let{indent:n,src:r}=this.context,i=!!this.blockIndent,s=e,o=e,l=1;for(let u=r[s];u===`
`&&(s+=1,!$.Node.atDocumentBoundary(r,s));u=r[s]){let d=$.Node.endOfBlockIndent(r,n,s);if(d===null)break;let h=r[d],m=d-(s+n);if(this.blockIndent){if(h&&h!==`
`&&m<this.blockIndent){if(r[d]==="#")break;if(!this.error){let b=`Block scalars must not be less indented than their ${i?"explicit indentation indicator":"first line"}`;this.error=new $.YAMLSemanticError(this,b)}}}else if(r[d]!==`
`){if(m<l){let y="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";this.error=new $.YAMLSemanticError(this,y)}this.blockIndent=m}else m>l&&(l=m);r[d]===`
`?s=d:s=o=$.Node.endOfLine(r,d)}return this.chomping!==ea.KEEP&&(s=r[o]?o+1:o),this.valueRange=new $.Range(e+1,s),s}parse(e,n){this.context=e;let{src:r}=e,i=this.parseBlockHeader(n);return i=$.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i=this.parseBlockValue(i),i}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.header?this.header.setOrigRange(e,n):n}},uR=class extends $.Node{constructor(e,n){super(e,n);this.items=null}prevNodeIsJsonLike(e=this.items.length){let n=this.items[e-1];return!!n&&(n.jsonLike||n.type===$.Type.COMMENT&&this.prevNodeIsJsonLike(e-1))}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,{indent:s,lineStart:o}=e,l=i[n];this.items=[{char:l,offset:n}];let u=$.Node.endOfWhiteSpace(i,n+1);for(l=i[u];l&&l!=="]"&&l!=="}";){switch(l){case`
`:{o=u+1;let d=$.Node.endOfWhiteSpace(i,o);if(i[d]===`
`){let h=new yl;o=h.parse({src:i},o),this.items.push(h)}if(u=$.Node.endOfIndent(i,o),u<=o+s&&(l=i[u],u<o+s||l!=="]"&&l!=="}")){let h="Insufficient indentation in flow collection";this.error=new $.YAMLSemanticError(this,h)}}break;case",":this.items.push({char:l,offset:u}),u+=1;break;case"#":{let d=new bl;u=d.parse({src:i},u),this.items.push(d)}break;case"?":case":":{let d=i[u+1];if(d===`
`||d==="	"||d===" "||d===","||l===":"&&this.prevNodeIsJsonLike()){this.items.push({char:l,offset:u}),u+=1;break}}default:{let d=r({atLineStart:!1,inCollection:!1,inFlow:!0,indent:-1,lineStart:o,parent:this},u);if(!d)return this.valueRange=new $.Range(n,u),u;this.items.push(d),u=$.Node.normalizeOffset(i,d.range.end)}}u=$.Node.endOfWhiteSpace(i,u),l=i[u]}return this.valueRange=new $.Range(n,u+1),l&&(this.items.push({char:l,offset:u}),u=$.Node.endOfWhiteSpace(i,u+1),u=this.parseComment(u)),u}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.items.forEach(r=>{if(r instanceof $.Node)n=r.setOrigRanges(e,n);else if(e.length===0)r.origOffset=r.offset;else{let i=n;for(;i<e.length&&!(e[i]>r.offset);)++i;r.origOffset=r.offset+i,n=i}}),n}toString(){let{context:{src:e},items:n,range:r,value:i}=this;if(i!=null)return i;let s=n.filter(u=>u instanceof $.Node),o="",l=r.start;return s.forEach(u=>{let d=e.slice(l,u.range.start);l=u.range.end,o+=d+String(u),o[o.length-1]===`
`&&e[l-1]!==`
`&&e[l]===`
`&&(l+=1)}),o+=e.slice(l,r.end),$.Node.addStringTerminator(e,r.end,o)}},Ed=class extends $.Node{static endOfQuote(e,n){let r=e[n];for(;r&&r!=='"';)n+=r==="\\"?2:1,r=e[n];return n+1}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:n,end:r}=this.valueRange,{indent:i,src:s}=this.context;s[r-1]!=='"'&&e.push(new $.YAMLSyntaxError(this,'Missing closing "quote'));let o="";for(let l=n+1;l<r-1;++l){let u=s[l];if(u===`
`){$.Node.atDocumentBoundary(s,l+1)&&e.push(new $.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:d,offset:h,error:m}=$.Node.foldNewline(s,l,i);o+=d,l=h,m&&e.push(new $.YAMLSemanticError(this,"Multi-line double-quoted string needs to be sufficiently indented"))}else if(u==="\\")switch(l+=1,s[l]){case"0":o+="\0";break;case"a":o+="\x07";break;case"b":o+="\b";break;case"e":o+="\x1B";break;case"f":o+="\f";break;case"n":o+=`
`;break;case"r":o+="\r";break;case"t":o+="	";break;case"v":o+="\v";break;case"N":o+="\x85";break;case"_":o+="\xA0";break;case"L":o+="\u2028";break;case"P":o+="\u2029";break;case" ":o+=" ";break;case'"':o+='"';break;case"/":o+="/";break;case"\\":o+="\\";break;case"	":o+="	";break;case"x":o+=this.parseCharCode(l+1,2,e),l+=2;break;case"u":o+=this.parseCharCode(l+1,4,e),l+=4;break;case"U":o+=this.parseCharCode(l+1,8,e),l+=8;break;case`
`:for(;s[l+1]===" "||s[l+1]==="	";)l+=1;break;default:e.push(new $.YAMLSyntaxError(this,`Invalid escape sequence ${s.substr(l-1,2)}`)),o+="\\"+s[l]}else if(u===" "||u==="	"){let d=l,h=s[l+1];for(;h===" "||h==="	";)l+=1,h=s[l+1];h!==`
`&&(o+=l>d?s.slice(d,l+1):u)}else o+=u}return e.length>0?{errors:e,str:o}:o}parseCharCode(e,n,r){let{src:i}=this.context,s=i.substr(e,n),l=s.length===n&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;return isNaN(l)?(r.push(new $.YAMLSyntaxError(this,`Invalid escape sequence ${i.substr(e-2,n+2)}`)),i.substr(e-2,n+2)):String.fromCodePoint(l)}parse(e,n){this.context=e;let{src:r}=e,i=Ed.endOfQuote(r,n+1);return this.valueRange=new $.Range(n,i),i=$.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i}},Rd=class extends $.Node{static endOfQuote(e,n){let r=e[n];for(;r;)if(r==="'"){if(e[n+1]!=="'")break;r=e[n+=2]}else r=e[n+=1];return n+1}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:n,end:r}=this.valueRange,{indent:i,src:s}=this.context;s[r-1]!=="'"&&e.push(new $.YAMLSyntaxError(this,"Missing closing 'quote"));let o="";for(let l=n+1;l<r-1;++l){let u=s[l];if(u===`
`){$.Node.atDocumentBoundary(s,l+1)&&e.push(new $.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:d,offset:h,error:m}=$.Node.foldNewline(s,l,i);o+=d,l=h,m&&e.push(new $.YAMLSemanticError(this,"Multi-line single-quoted string needs to be sufficiently indented"))}else if(u==="'")o+=u,l+=1,s[l]!=="'"&&e.push(new $.YAMLSyntaxError(this,"Unescaped single quote? This should not happen."));else if(u===" "||u==="	"){let d=l,h=s[l+1];for(;h===" "||h==="	";)l+=1,h=s[l+1];h!==`
`&&(o+=l>d?s.slice(d,l+1):u)}else o+=u}return e.length>0?{errors:e,str:o}:o}parse(e,n){this.context=e;let{src:r}=e,i=Rd.endOfQuote(r,n+1);return this.valueRange=new $.Range(n,i),i=$.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i}};function qq(t,e){switch(t){case $.Type.ALIAS:return new lR(t,e);case $.Type.BLOCK_FOLDED:case $.Type.BLOCK_LITERAL:return new cR(t,e);case $.Type.FLOW_MAP:case $.Type.FLOW_SEQ:return new uR(t,e);case $.Type.MAP_KEY:case $.Type.MAP_VALUE:case $.Type.SEQ_ITEM:return new xd(t,e);case $.Type.COMMENT:case $.Type.PLAIN:return new $.PlainValue(t,e);case $.Type.QUOTE_DOUBLE:return new Ed(t,e);case $.Type.QUOTE_SINGLE:return new Rd(t,e);default:return null}}var vl=class{static parseType(e,n,r){switch(e[n]){case"*":return $.Type.ALIAS;case">":return $.Type.BLOCK_FOLDED;case"|":return $.Type.BLOCK_LITERAL;case"{":return $.Type.FLOW_MAP;case"[":return $.Type.FLOW_SEQ;case"?":return!r&&$.Node.atBlank(e,n+1,!0)?$.Type.MAP_KEY:$.Type.PLAIN;case":":return!r&&$.Node.atBlank(e,n+1,!0)?$.Type.MAP_VALUE:$.Type.PLAIN;case"-":return!r&&$.Node.atBlank(e,n+1,!0)?$.Type.SEQ_ITEM:$.Type.PLAIN;case'"':return $.Type.QUOTE_DOUBLE;case"'":return $.Type.QUOTE_SINGLE;default:return $.Type.PLAIN}}constructor(e={},{atLineStart:n,inCollection:r,inFlow:i,indent:s,lineStart:o,parent:l}={}){$._defineProperty(this,"parseNode",(u,d)=>{if($.Node.atDocumentBoundary(this.src,d))return null;let h=new vl(this,u),{props:m,type:y,valueStart:b}=h.parseProps(d),T=qq(y,m),x=T.parse(h,b);if(T.range=new $.Range(d,x),x<=d&&(T.error=new Error("Node#parse consumed no characters"),T.error.parseEnd=x,T.error.source=T,T.range.end=d+1),h.nodeStartsCollection(T)){!T.error&&!h.atLineStart&&h.parent.type===$.Type.DOCUMENT&&(T.error=new $.YAMLSyntaxError(T,"Block collection must not have preceding content here (e.g. directives-end indicator)"));let D=new Nl(T);return x=D.parse(new vl(h),x),D.range=new $.Range(d,x),D}return T}),this.atLineStart=n??(e.atLineStart||!1),this.inCollection=r??(e.inCollection||!1),this.inFlow=i??(e.inFlow||!1),this.indent=s??e.indent,this.lineStart=o??e.lineStart,this.parent=l??(e.parent||{}),this.root=e.root,this.src=e.src}nodeStartsCollection(e){let{inCollection:n,inFlow:r,src:i}=this;if(n||r)return!1;if(e instanceof xd)return!0;let s=e.range.end;return i[s]===`
`||i[s-1]===`
`?!1:(s=$.Node.endOfWhiteSpace(i,s),i[s]===":")}parseProps(e){let{inFlow:n,parent:r,src:i}=this,s=[],o=!1;e=this.atLineStart?$.Node.endOfIndent(i,e):$.Node.endOfWhiteSpace(i,e);let l=i[e];for(;l===$.Char.ANCHOR||l===$.Char.COMMENT||l===$.Char.TAG||l===`
`;){if(l===`
`){let d=e,h;do h=d+1,d=$.Node.endOfIndent(i,h);while(i[d]===`
`);let m=d-(h+this.indent),y=r.type===$.Type.SEQ_ITEM&&r.context.atLineStart;if(i[d]!=="#"&&!$.Node.nextNodeIsIndented(i[d],m,!y))break;this.atLineStart=!0,this.lineStart=h,o=!1,e=d}else if(l===$.Char.COMMENT){let d=$.Node.endOfLine(i,e+1);s.push(new $.Range(e,d)),e=d}else{let d=$.Node.endOfIdentifier(i,e+1);l===$.Char.TAG&&i[d]===","&&/^[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+,\d\d\d\d(-\d\d){0,2}\/\S/.test(i.slice(e+1,d+13))&&(d=$.Node.endOfIdentifier(i,d+5)),s.push(new $.Range(e,d)),o=!0,e=$.Node.endOfWhiteSpace(i,d)}l=i[e]}o&&l===":"&&$.Node.atBlank(i,e+1,!0)&&(e-=1);let u=vl.parseType(i,e,n);return{props:s,type:u,valueStart:e}}};function Uq(t){let e=[];t.indexOf("\r")!==-1&&(t=t.replace(/\r\n?/g,(i,s)=>(i.length>1&&e.push(s),`
`)));let n=[],r=0;do{let i=new Gc,s=new vl({src:t});r=i.parse(s,r),n.push(i)}while(r<t.length);return n.setOrigRanges=()=>{if(e.length===0)return!1;for(let s=1;s<e.length;++s)e[s]-=s;let i=0;for(let s=0;s<n.length;++s)i=n[s].setOrigRanges(e,i);return e.splice(0,e.length),!0},n.toString=()=>n.join(`...
`),n}fR.parse=Uq});var Cl=_e(Vt=>{"use strict";var Q=Zs();function jq(t,e,n){return n?`#${n.replace(/[\s\S]^/gm,`$&${e}#`)}
${e}${t}`:t}function Il(t,e,n){return n?n.indexOf(`
`)===-1?`${t} #${n}`:`${t}
`+n.replace(/^/gm,`${e||""}#`):t}var Xr=class{};function ta(t,e,n){if(Array.isArray(t))return t.map((r,i)=>ta(r,String(i),n));if(t&&typeof t.toJSON=="function"){let r=n&&n.anchors&&n.anchors.get(t);r&&(n.onCreate=s=>{r.res=s,delete n.onCreate});let i=t.toJSON(e,n);return r&&n.onCreate&&n.onCreate(i),i}return(!n||!n.keep)&&typeof t=="bigint"?Number(t):t}var Yn=class extends Xr{constructor(e){super();this.value=e}toJSON(e,n){return n&&n.keep?this.value:ta(this.value,e,n)}toString(){return String(this.value)}};function pR(t,e,n){let r=n;for(let i=e.length-1;i>=0;--i){let s=e[i];if(Number.isInteger(s)&&s>=0){let o=[];o[s]=r,r=o}else{let o={};Object.defineProperty(o,s,{value:r,writable:!0,enumerable:!0,configurable:!0}),r=o}}return t.createNode(r,!1)}var hR=t=>t==null||typeof t=="object"&&t[Symbol.iterator]().next().done,fn=class extends Xr{constructor(e){super();Q._defineProperty(this,"items",[]),this.schema=e}addIn(e,n){if(hR(e))this.add(n);else{let[r,...i]=e,s=this.get(r,!0);if(s instanceof fn)s.addIn(i,n);else if(s===void 0&&this.schema)this.set(r,pR(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn([e,...n]){if(n.length===0)return this.delete(e);let r=this.get(e,!0);if(r instanceof fn)return r.deleteIn(n);throw new Error(`Expected YAML collection at ${e}. Remaining path: ${n}`)}getIn([e,...n],r){let i=this.get(e,!0);return n.length===0?!r&&i instanceof Yn?i.value:i:i instanceof fn?i.getIn(n,r):void 0}hasAllNullValues(){return this.items.every(e=>{if(!e||e.type!=="PAIR")return!1;let n=e.value;return n==null||n instanceof Yn&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn([e,...n]){if(n.length===0)return this.has(e);let r=this.get(e,!0);return r instanceof fn?r.hasIn(n):!1}setIn([e,...n],r){if(n.length===0)this.set(e,r);else{let i=this.get(e,!0);if(i instanceof fn)i.setIn(n,r);else if(i===void 0&&this.schema)this.set(e,pR(this.schema,n,r));else throw new Error(`Expected YAML collection at ${e}. Remaining path: ${n}`)}}toJSON(){return null}toString(e,{blockItem:n,flowChars:r,isMap:i,itemIndent:s},o,l){let{indent:u,indentStep:d,stringify:h}=e,m=this.type===Q.Type.FLOW_MAP||this.type===Q.Type.FLOW_SEQ||e.inFlow;m&&(s+=d);let y=i&&this.hasAllNullValues();e=Object.assign({},e,{allNullValues:y,indent:s,inFlow:m,type:null});let b=!1,T=!1,x=this.items.reduce((_,P,v)=>{let S;P&&(!b&&P.spaceBefore&&_.push({type:"comment",str:""}),P.commentBefore&&P.commentBefore.match(/^.*$/gm).forEach(J=>{_.push({type:"comment",str:`#${J}`})}),P.comment&&(S=P.comment),m&&(!b&&P.spaceBefore||P.commentBefore||P.comment||P.key&&(P.key.commentBefore||P.key.comment)||P.value&&(P.value.commentBefore||P.value.comment))&&(T=!0)),b=!1;let w=h(P,e,()=>S=null,()=>b=!0);return m&&!T&&w.includes(`
`)&&(T=!0),m&&v<this.items.length-1&&(w+=","),w=Il(w,s,S),b&&(S||m)&&(b=!1),_.push({type:"item",str:w}),_},[]),D;if(x.length===0)D=r.start+r.end;else if(m){let{start:_,end:P}=r,v=x.map(S=>S.str);if(T||v.reduce((S,w)=>S+w.length+2,2)>fn.maxFlowStringSingleLineLength){D=_;for(let S of v)D+=S?`
${d}${u}${S}`:`
`;D+=`
${u}${P}`}else D=`${_} ${v.join(" ")} ${P}`}else{let _=x.map(n);D=_.shift();for(let P of _)D+=P?`
${u}${P}`:`
`}return this.comment?(D+=`
`+this.comment.replace(/^/gm,`${u}#`),o&&o()):b&&l&&l(),D}};Q._defineProperty(fn,"maxFlowStringSingleLineLength",60);function kd(t){let e=t instanceof Yn?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),Number.isInteger(e)&&e>=0?e:null}var Ha=class extends fn{add(e){this.items.push(e)}delete(e){let n=kd(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){let r=kd(e);if(typeof r!="number")return;let i=this.items[r];return!n&&i instanceof Yn?i.value:i}has(e){let n=kd(e);return typeof n=="number"&&n<this.items.length}set(e,n){let r=kd(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);this.items[r]=n}toJSON(e,n){let r=[];n&&n.onCreate&&n.onCreate(r);let i=0;for(let s of this.items)r.push(ta(s,String(i++),n));return r}toString(e,n,r){return e?super.toString(e,{blockItem:i=>i.type==="comment"?i.str:`- ${i.str}`,flowChars:{start:"[",end:"]"},isMap:!1,itemIndent:(e.indent||"")+"  "},n,r):JSON.stringify(this)}},Gq=(t,e,n)=>e===null?"":typeof e!="object"?String(e):t instanceof Xr&&n&&n.doc?t.toString({anchors:Object.create(null),doc:n.doc,indent:"",indentStep:n.indentStep,inFlow:!0,inStringifyKey:!0,stringify:n.stringify}):JSON.stringify(e),It=class extends Xr{constructor(e,n=null){super();this.key=e,this.value=n,this.type=It.Type.PAIR}get commentBefore(){return this.key instanceof Xr?this.key.commentBefore:void 0}set commentBefore(e){if(this.key==null&&(this.key=new Yn(null)),this.key instanceof Xr)this.key.commentBefore=e;else{let n="Pair.commentBefore is an alias for Pair.key.commentBefore. To set it, the key must be a Node.";throw new Error(n)}}addToJSMap(e,n){let r=ta(this.key,"",e);if(n instanceof Map){let i=ta(this.value,r,e);n.set(r,i)}else if(n instanceof Set)n.add(r);else{let i=Gq(this.key,r,e),s=ta(this.value,i,e);i in n?Object.defineProperty(n,i,{value:s,writable:!0,enumerable:!0,configurable:!0}):n[i]=s}return n}toJSON(e,n){let r=n&&n.mapAsMap?new Map:{};return this.addToJSMap(n,r)}toString(e,n,r){if(!e||!e.doc)return JSON.stringify(this);let{indent:i,indentSeq:s,simpleKeys:o}=e.doc.options,{key:l,value:u}=this,d=l instanceof Xr&&l.comment;if(o){if(d)throw new Error("With simple keys, key nodes cannot have comments");if(l instanceof fn){let w="With simple keys, collection cannot be used as a key value";throw new Error(w)}}let h=!o&&(!l||d||(l instanceof Xr?l instanceof fn||l.type===Q.Type.BLOCK_FOLDED||l.type===Q.Type.BLOCK_LITERAL:typeof l=="object")),{doc:m,indent:y,indentStep:b,stringify:T}=e;e=Object.assign({},e,{implicitKey:!h,indent:y+b});let x=!1,D=T(l,e,()=>d=null,()=>x=!0);if(D=Il(D,e.indent,d),!h&&D.length>1024){if(o)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");h=!0}if(e.allNullValues&&!o)return this.comment?(D=Il(D,e.indent,this.comment),n&&n()):x&&!d&&r&&r(),e.inFlow&&!h?D:`? ${D}`;D=h?`? ${D}
${y}:`:`${D}:`,this.comment&&(D=Il(D,e.indent,this.comment),n&&n());let _="",P=null;u instanceof Xr?(u.spaceBefore&&(_=`
`),u.commentBefore&&(_+=`
${u.commentBefore.replace(/^/gm,`${e.indent}#`)}`),P=u.comment):u&&typeof u=="object"&&(u=m.schema.createNode(u,!0)),e.implicitKey=!1,!h&&!this.comment&&u instanceof Yn&&(e.indentAtStart=D.length+1),x=!1,!s&&i>=2&&!e.inFlow&&!h&&u instanceof Ha&&u.type!==Q.Type.FLOW_SEQ&&!u.tag&&!m.anchors.getName(u)&&(e.indent=e.indent.substr(2));let v=T(u,e,()=>P=null,()=>x=!0),S=" ";return _||this.comment?S=`${_}
${e.indent}`:!h&&u instanceof fn?(!(v[0]==="["||v[0]==="{")||v.includes(`
`))&&(S=`
${e.indent}`):v[0]===`
`&&(S=""),x&&!P&&r&&r(),Il(D+S+v,e.indent,P)}};Q._defineProperty(It,"Type",{PAIR:"PAIR",MERGE_PAIR:"MERGE_PAIR"});var Od=(t,e)=>{if(t instanceof na){let n=e.get(t.source);return n.count*n.aliasCount}else if(t instanceof fn){let n=0;for(let r of t.items){let i=Od(r,e);i>n&&(n=i)}return n}else if(t instanceof It){let n=Od(t.key,e),r=Od(t.value,e);return Math.max(n,r)}return 1},na=class extends Xr{static stringify({range:e,source:n},{anchors:r,doc:i,implicitKey:s,inStringifyKey:o}){let l=Object.keys(r).find(d=>r[d]===n);if(!l&&o&&(l=i.anchors.getName(n)||i.anchors.newName()),l)return`*${l}${s?" ":""}`;let u=i.anchors.getName(n)?"Alias node must be after source node":"Source node not found for alias node";throw new Error(`${u} [${e}]`)}constructor(e){super();this.source=e,this.type=Q.Type.ALIAS}set tag(e){throw new Error("Alias nodes cannot have tags")}toJSON(e,n){if(!n)return ta(this.source,e,n);let{anchors:r,maxAliasCount:i}=n,s=r.get(this.source);if(!s||s.res===void 0){let o="This should not happen: Alias anchor was not resolved?";throw this.cstNode?new Q.YAMLReferenceError(this.cstNode,o):new ReferenceError(o)}if(i>=0&&(s.count+=1,s.aliasCount===0&&(s.aliasCount=Od(this.source,r)),s.count*s.aliasCount>i)){let o="Excessive alias count indicates a resource exhaustion attack";throw this.cstNode?new Q.YAMLReferenceError(this.cstNode,o):new ReferenceError(o)}return s.res}toString(e){return na.stringify(this,e)}};Q._defineProperty(na,"default",!0);function Wc(t,e){let n=e instanceof Yn?e.value:e;for(let r of t)if(r instanceof It&&(r.key===e||r.key===n||r.key&&r.key.value===n))return r}var wd=class extends fn{add(e,n){e?e instanceof It||(e=new It(e.key||e,e.value)):e=new It(e);let r=Wc(this.items,e.key),i=this.schema&&this.schema.sortMapEntries;if(r)if(n)r.value=e.value;else throw new Error(`Key ${e.key} already set`);else if(i){let s=this.items.findIndex(o=>i(e,o)<0);s===-1?this.items.push(e):this.items.splice(s,0,e)}else this.items.push(e)}delete(e){let n=Wc(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){let r=Wc(this.items,e),i=r&&r.value;return!n&&i instanceof Yn?i.value:i}has(e){return!!Wc(this.items,e)}set(e,n){this.add(new It(e,n),!0)}toJSON(e,n,r){let i=r?new r:n&&n.mapAsMap?new Map:{};n&&n.onCreate&&n.onCreate(i);for(let s of this.items)s.addToJSMap(n,i);return i}toString(e,n,r){if(!e)return JSON.stringify(this);for(let i of this.items)if(!(i instanceof It))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return super.toString(e,{blockItem:i=>i.str,flowChars:{start:"{",end:"}"},isMap:!0,itemIndent:e.indent||""},n,r)}},mR="<<",hT=class extends It{constructor(e){if(e instanceof It){let n=e.value;n instanceof Ha||(n=new Ha,n.items.push(e.value),n.range=e.value.range);super(e.key,n);this.range=e.range}else super(new Yn(mR),new Ha);this.type=It.Type.MERGE_PAIR}addToJSMap(e,n){for(let{source:r}of this.value.items){if(!(r instanceof wd))throw new Error("Merge sources must be maps");let i=r.toJSON(null,e,Map);for(let[s,o]of i)n instanceof Map?n.has(s)||n.set(s,o):n instanceof Set?n.add(s):Object.prototype.hasOwnProperty.call(n,s)||Object.defineProperty(n,s,{value:o,writable:!0,enumerable:!0,configurable:!0})}return n}toString(e,n){let r=this.value;if(r.items.length>1)return super.toString(e,n);this.value=r.items[0];let i=super.toString(e,n);return this.value=r,i}},Wq={defaultType:Q.Type.BLOCK_LITERAL,lineWidth:76},Hq={trueStr:"true",falseStr:"false"},Yq={asBigInt:!1},Kq={nullStr:"null"},Ya={defaultType:Q.Type.PLAIN,doubleQuoted:{jsonEncoding:!1,minMultiLineLength:40},fold:{lineWidth:80,minContentWidth:20}};function mT(t,e,n){for(let{format:r,test:i,resolve:s}of e)if(i){let o=t.match(i);if(o){let l=s.apply(null,o);return l instanceof Yn||(l=new Yn(l)),r&&(l.format=r),l}}return n&&(t=n(t)),new Yn(t)}var gR="flow",gT="block",Ld="quoted",TR=(t,e)=>{let n=t[e+1];for(;n===" "||n==="	";){do n=t[e+=1];while(n&&n!==`
`);n=t[e+1]}return e};function Dd(t,e,n,{indentAtStart:r,lineWidth:i=80,minContentWidth:s=20,onFold:o,onOverflow:l}){if(!i||i<0)return t;let u=Math.max(1+s,1+i-e.length);if(t.length<=u)return t;let d=[],h={},m=i-e.length;typeof r=="number"&&(r>i-Math.max(2,s)?d.push(0):m=i-r);let y,b,T=!1,x=-1,D=-1,_=-1;n===gT&&(x=TR(t,x),x!==-1&&(m=x+u));for(let v;v=t[x+=1];){if(n===Ld&&v==="\\"){switch(D=x,t[x+1]){case"x":x+=3;break;case"u":x+=5;break;case"U":x+=9;break;default:x+=1}_=x}if(v===`
`)n===gT&&(x=TR(t,x)),m=x+u,y=void 0;else{if(v===" "&&b&&b!==" "&&b!==`
`&&b!=="	"){let S=t[x+1];S&&S!==" "&&S!==`
`&&S!=="	"&&(y=x)}if(x>=m)if(y)d.push(y),m=y+u,y=void 0;else if(n===Ld){for(;b===" "||b==="	";)b=v,v=t[x+=1],T=!0;let S=x>_+1?x-2:D-1;if(h[S])return t;d.push(S),h[S]=!0,m=S+u,y=void 0}else T=!0}b=v}if(T&&l&&l(),d.length===0)return t;o&&o();let P=t.slice(0,d[0]);for(let v=0;v<d.length;++v){let S=d[v],w=d[v+1]||t.length;S===0?P=`
${e}${t.slice(0,w)}`:(n===Ld&&h[S]&&(P+=`${t[S]}\\`),P+=`
${e}${t.slice(S+1,w)}`)}return P}var TT=({indentAtStart:t})=>t?Object.assign({indentAtStart:t},Ya.fold):Ya.fold,Md=t=>/^(%|---|\.\.\.)/m.test(t);function $q(t,e,n){if(!e||e<0)return!1;let r=e-n,i=t.length;if(i<=r)return!1;for(let s=0,o=0;s<i;++s)if(t[s]===`
`){if(s-o>r)return!0;if(o=s+1,i-o<=r)return!1}return!0}function Ka(t,e){let{implicitKey:n}=e,{jsonEncoding:r,minMultiLineLength:i}=Ya.doubleQuoted,s=JSON.stringify(t);if(r)return s;let o=e.indent||(Md(t)?"  ":""),l="",u=0;for(let d=0,h=s[d];h;h=s[++d])if(h===" "&&s[d+1]==="\\"&&s[d+2]==="n"&&(l+=s.slice(u,d)+"\\ ",d+=1,u=d,h="\\"),h==="\\")switch(s[d+1]){case"u":{l+=s.slice(u,d);let m=s.substr(d+2,4);switch(m){case"0000":l+="\\0";break;case"0007":l+="\\a";break;case"000b":l+="\\v";break;case"001b":l+="\\e";break;case"0085":l+="\\N";break;case"00a0":l+="\\_";break;case"2028":l+="\\L";break;case"2029":l+="\\P";break;default:m.substr(0,2)==="00"?l+="\\x"+m.substr(2):l+=s.substr(d,6)}d+=5,u=d+1}break;case"n":if(n||s[d+2]==='"'||s.length<i)d+=1;else{for(l+=s.slice(u,d)+`

`;s[d+2]==="\\"&&s[d+3]==="n"&&s[d+4]!=='"';)l+=`
`,d+=2;l+=o,s[d+2]===" "&&(l+="\\"),d+=1,u=d+1}break;default:d+=1}return l=u?l+s.slice(u):s,n?l:Dd(l,o,Ld,TT(e))}function _R(t,e){if(e.implicitKey){if(/\n/.test(t))return Ka(t,e)}else if(/[ \t]\n|\n[ \t]/.test(t))return Ka(t,e);let n=e.indent||(Md(t)?"  ":""),r="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?r:Dd(r,n,gR,TT(e))}function Fd({comment:t,type:e,value:n},r,i,s){if(/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return Ka(n,r);let o=r.indent||(r.forceBlockIndent||Md(n)?"  ":""),l=o?"2":"1",u=e===Q.Type.BLOCK_FOLDED?!1:e===Q.Type.BLOCK_LITERAL?!0:!$q(n,Ya.fold.lineWidth,o.length),d=u?"|":">";if(!n)return d+`
`;let h="",m="";if(n=n.replace(/[\n\t ]*$/,b=>{let T=b.indexOf(`
`);return T===-1?d+="-":(n===b||T!==b.length-1)&&(d+="+",s&&s()),m=b.replace(/\n$/,""),""}).replace(/^[\n ]*/,b=>{b.indexOf(" ")!==-1&&(d+=l);let T=b.match(/ +$/);return T?(h=b.slice(0,-T[0].length),T[0]):(h=b,"")}),m&&(m=m.replace(/\n+(?!\n|$)/g,`$&${o}`)),h&&(h=h.replace(/\n+/g,`$&${o}`)),t&&(d+=" #"+t.replace(/ ?[\r\n]+/g," "),i&&i()),!n)return`${d}${l}
${o}${m}`;if(u)return n=n.replace(/\n+/g,`$&${o}`),`${d}
${o}${h}${n}${m}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${o}`);let y=Dd(`${h}${n}${m}`,o,gT,Ya.fold);return`${d}
${o}${y}`}function zq(t,e,n,r){let{comment:i,type:s,value:o}=t,{actualString:l,implicitKey:u,indent:d,inFlow:h}=e;if(u&&/[\n[\]{},]/.test(o)||h&&/[[\]{},]/.test(o))return Ka(o,e);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return u||h||o.indexOf(`
`)===-1?o.indexOf('"')!==-1&&o.indexOf("'")===-1?_R(o,e):Ka(o,e):Fd(t,e,n,r);if(!u&&!h&&s!==Q.Type.PLAIN&&o.indexOf(`
`)!==-1)return Fd(t,e,n,r);if(d===""&&Md(o))return e.forceBlockIndent=!0,Fd(t,e,n,r);let m=o.replace(/\n+/g,`$&
${d}`);if(l){let{tags:b}=e.doc.schema;if(typeof mT(m,b,b.scalarFallback).value!="string")return Ka(o,e)}let y=u?m:Dd(m,d,gR,TT(e));return i&&!h&&(y.indexOf(`
`)!==-1||i.indexOf(`
`)!==-1)?(n&&n(),jq(y,d,i)):y}function Qq(t,e,n,r){let{defaultType:i}=Ya,{implicitKey:s,inFlow:o}=e,{type:l,value:u}=t;typeof u!="string"&&(u=String(u),t=Object.assign({},t,{value:u}));let d=m=>{switch(m){case Q.Type.BLOCK_FOLDED:case Q.Type.BLOCK_LITERAL:return Fd(t,e,n,r);case Q.Type.QUOTE_DOUBLE:return Ka(u,e);case Q.Type.QUOTE_SINGLE:return _R(u,e);case Q.Type.PLAIN:return zq(t,e,n,r);default:return null}};(l!==Q.Type.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f]/.test(u)||(s||o)&&(l===Q.Type.BLOCK_FOLDED||l===Q.Type.BLOCK_LITERAL))&&(l=Q.Type.QUOTE_DOUBLE);let h=d(l);if(h===null&&(h=d(i),h===null))throw new Error(`Unsupported default string type ${i}`);return h}function Xq({format:t,minFractionDigits:e,tag:n,value:r}){if(typeof r=="bigint")return String(r);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let i=JSON.stringify(r);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let s=i.indexOf(".");s<0&&(s=i.length,i+=".");let o=e-(i.length-s-1);for(;o-- >0;)i+="0"}return i}function yR(t,e){let n,r;switch(e.type){case Q.Type.FLOW_MAP:n="}",r="flow map";break;case Q.Type.FLOW_SEQ:n="]",r="flow sequence";break;default:t.push(new Q.YAMLSemanticError(e,"Not a flow collection!?"));return}let i;for(let s=e.items.length-1;s>=0;--s){let o=e.items[s];if(!o||o.type!==Q.Type.COMMENT){i=o;break}}if(i&&i.char!==n){let s=`Expected ${r} to end with ${n}`,o;typeof i.offset=="number"?(o=new Q.YAMLSemanticError(e,s),o.offset=i.offset+1):(o=new Q.YAMLSemanticError(i,s),i.range&&i.range.end&&(o.offset=i.range.end-i.range.start)),t.push(o)}}function bR(t,e){let n=e.context.src[e.range.start-1];if(n!==`
`&&n!=="	"&&n!==" "){let r="Comments must be separated from other tokens by white space characters";t.push(new Q.YAMLSemanticError(e,r))}}function NR(t,e){let n=String(e),r=n.substr(0,8)+"..."+n.substr(-8);return new Q.YAMLSemanticError(t,`The "${r}" key is too long`)}function vR(t,e){for(let{afterKey:n,before:r,comment:i}of e){let s=t.items[r];s?(n&&s.value&&(s=s.value),i===void 0?(n||!s.commentBefore)&&(s.spaceBefore=!0):s.commentBefore?s.commentBefore+=`
`+i:s.commentBefore=i):i!==void 0&&(t.comment?t.comment+=`
`+i:t.comment=i)}}function _T(t,e){let n=e.strValue;return n?typeof n=="string"?n:(n.errors.forEach(r=>{r.source||(r.source=e),t.errors.push(r)}),n.str):""}function Jq(t,e){let{handle:n,suffix:r}=e.tag,i=t.tagPrefixes.find(s=>s.handle===n);if(!i){let s=t.getDefaults().tagPrefixes;if(s&&(i=s.find(o=>o.handle===n)),!i)throw new Q.YAMLSemanticError(e,`The ${n} tag handle is non-default and was not declared.`)}if(!r)throw new Q.YAMLSemanticError(e,`The ${n} tag has no suffix.`);if(n==="!"&&(t.version||t.options.version)==="1.0"){if(r[0]==="^")return t.warnings.push(new Q.YAMLWarning(e,"YAML 1.0 ^ tag expansion is not supported")),r;if(/[:/]/.test(r)){let s=r.match(/^([a-z0-9-]+)\/(.*)/i);return s?`tag:${s[1]}.yaml.org,2002:${s[2]}`:`tag:${r}`}}return i.prefix+decodeURIComponent(r)}function Zq(t,e){let{tag:n,type:r}=e,i=!1;if(n){let{handle:s,suffix:o,verbatim:l}=n;if(l){if(l!=="!"&&l!=="!!")return l;let u=`Verbatim tags aren't resolved, so ${l} is invalid.`;t.errors.push(new Q.YAMLSemanticError(e,u))}else if(s==="!"&&!o)i=!0;else try{return Jq(t,e)}catch(u){t.errors.push(u)}}switch(r){case Q.Type.BLOCK_FOLDED:case Q.Type.BLOCK_LITERAL:case Q.Type.QUOTE_DOUBLE:case Q.Type.QUOTE_SINGLE:return Q.defaultTags.STR;case Q.Type.FLOW_MAP:case Q.Type.MAP:return Q.defaultTags.MAP;case Q.Type.FLOW_SEQ:case Q.Type.SEQ:return Q.defaultTags.SEQ;case Q.Type.PLAIN:return i?Q.defaultTags.STR:null;default:return null}}function IR(t,e,n){let{tags:r}=t.schema,i=[];for(let o of r)if(o.tag===n)if(o.test)i.push(o);else{let l=o.resolve(t,e);return l instanceof fn?l:new Yn(l)}let s=_T(t,e);return typeof s=="string"&&i.length>0?mT(s,i,r.scalarFallback):null}function eU({type:t}){switch(t){case Q.Type.FLOW_MAP:case Q.Type.MAP:return Q.defaultTags.MAP;case Q.Type.FLOW_SEQ:case Q.Type.SEQ:return Q.defaultTags.SEQ;default:return Q.defaultTags.STR}}function tU(t,e,n){try{let r=IR(t,e,n);if(r)return n&&e.tag&&(r.tag=n),r}catch(r){return r.source||(r.source=e),t.errors.push(r),null}try{let r=eU(e);if(!r)throw new Error(`The tag ${n} is unavailable`);let i=`The tag ${n} is unavailable, falling back to ${r}`;t.warnings.push(new Q.YAMLWarning(e,i));let s=IR(t,e,r);return s.tag=n,s}catch(r){let i=new Q.YAMLReferenceError(e,r.message);return i.stack=r.stack,t.errors.push(i),null}}var nU=t=>{if(!t)return!1;let{type:e}=t;return e===Q.Type.MAP_KEY||e===Q.Type.MAP_VALUE||e===Q.Type.SEQ_ITEM};function rU(t,e){let n={before:[],after:[]},r=!1,i=!1,s=nU(e.context.parent)?e.context.parent.props.concat(e.props):e.props;for(let{start:o,end:l}of s)switch(e.context.src[o]){case Q.Char.COMMENT:{if(!e.commentHasRequiredWhitespace(o)){let m="Comments must be separated from other tokens by white space characters";t.push(new Q.YAMLSemanticError(e,m))}let{header:u,valueRange:d}=e;(d&&(o>d.start||u&&o>u.start)?n.after:n.before).push(e.context.src.slice(o+1,l));break}case Q.Char.ANCHOR:if(r){let u="A node can have at most one anchor";t.push(new Q.YAMLSemanticError(e,u))}r=!0;break;case Q.Char.TAG:if(i){let u="A node can have at most one tag";t.push(new Q.YAMLSemanticError(e,u))}i=!0;break}return{comments:n,hasAnchor:r,hasTag:i}}function iU(t,e){let{anchors:n,errors:r,schema:i}=t;if(e.type===Q.Type.ALIAS){let o=e.rawValue,l=n.getNode(o);if(!l){let d=`Aliased anchor not found: ${o}`;return r.push(new Q.YAMLReferenceError(e,d)),null}let u=new na(l);return n._cstAliases.push(u),u}let s=Zq(t,e);if(s)return tU(t,e,s);if(e.type!==Q.Type.PLAIN){let o=`Failed to resolve ${e.type} node here`;return r.push(new Q.YAMLSyntaxError(e,o)),null}try{let o=_T(t,e);return mT(o,i.tags,i.tags.scalarFallback)}catch(o){return o.source||(o.source=e),r.push(o),null}}function ra(t,e){if(!e)return null;e.error&&t.errors.push(e.error);let{comments:n,hasAnchor:r,hasTag:i}=rU(t.errors,e);if(r){let{anchors:o}=t,l=e.anchor,u=o.getNode(l);u&&(o.map[o.newName(l)]=u),o.map[l]=e}if(e.type===Q.Type.ALIAS&&(r||i)){let o="An alias node must not specify any properties";t.errors.push(new Q.YAMLSemanticError(e,o))}let s=iU(t,e);if(s){s.range=[e.range.start,e.range.end],t.options.keepCstNodes&&(s.cstNode=e),t.options.keepNodeTypes&&(s.type=e.type);let o=n.before.join(`
`);o&&(s.commentBefore=s.commentBefore?`${s.commentBefore}
${o}`:o);let l=n.after.join(`
`);l&&(s.comment=s.comment?`${s.comment}
${l}`:l)}return e.resolved=s}function sU(t,e){if(e.type!==Q.Type.MAP&&e.type!==Q.Type.FLOW_MAP){let o=`A ${e.type} node cannot be resolved as a mapping`;return t.errors.push(new Q.YAMLSyntaxError(e,o)),null}let{comments:n,items:r}=e.type===Q.Type.FLOW_MAP?cU(t,e):lU(t,e),i=new wd;i.items=r,vR(i,n);let s=!1;for(let o=0;o<r.length;++o){let{key:l}=r[o];if(l instanceof fn&&(s=!0),t.schema.merge&&l&&l.value===mR){r[o]=new hT(r[o]);let u=r[o].value.items,d=null;u.some(h=>{if(h instanceof na){let{type:m}=h.source;return m===Q.Type.MAP||m===Q.Type.FLOW_MAP?!1:d="Merge nodes aliases can only point to maps"}return d="Merge nodes can only have Alias nodes as values"}),d&&t.errors.push(new Q.YAMLSemanticError(e,d))}else for(let u=o+1;u<r.length;++u){let{key:d}=r[u];if(l===d||l&&d&&Object.prototype.hasOwnProperty.call(l,"value")&&l.value===d.value){let h=`Map keys must be unique; "${l}" is repeated`;t.errors.push(new Q.YAMLSemanticError(e,h));break}}}if(s&&!t.options.mapAsMap){let o="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new Q.YAMLWarning(e,o))}return e.resolved=i,i}var aU=({context:{lineStart:t,node:e,src:n},props:r})=>{if(r.length===0)return!1;let{start:i}=r[0];if(e&&i>e.valueRange.start||n[i]!==Q.Char.COMMENT)return!1;for(let s=t;s<i;++s)if(n[s]===`
`)return!1;return!0};function oU(t,e){if(!aU(t))return;let n=t.getPropValue(0,Q.Char.COMMENT,!0),r=!1,i=e.value.commentBefore;if(i&&i.startsWith(n))e.value.commentBefore=i.substr(n.length+1),r=!0;else{let s=e.value.comment;!t.node&&s&&s.startsWith(n)&&(e.value.comment=s.substr(n.length+1),r=!0)}r&&(e.comment=n)}function lU(t,e){let n=[],r=[],i,s=null;for(let o=0;o<e.items.length;++o){let l=e.items[o];switch(l.type){case Q.Type.BLANK_LINE:n.push({afterKey:!!i,before:r.length});break;case Q.Type.COMMENT:n.push({afterKey:!!i,before:r.length,comment:l.comment});break;case Q.Type.MAP_KEY:i!==void 0&&r.push(new It(i)),l.error&&t.errors.push(l.error),i=ra(t,l.node),s=null;break;case Q.Type.MAP_VALUE:{if(i===void 0&&(i=null),l.error&&t.errors.push(l.error),!l.context.atLineStart&&l.node&&l.node.type===Q.Type.MAP&&!l.node.context.atLineStart){let h="Nested mappings are not allowed in compact mappings";t.errors.push(new Q.YAMLSemanticError(l.node,h))}let u=l.node;if(!u&&l.props.length>0){u=new Q.PlainValue(Q.Type.PLAIN,[]),u.context={parent:l,src:l.context.src};let h=l.range.start+1;if(u.range={start:h,end:h},u.valueRange={start:h,end:h},typeof l.range.origStart=="number"){let m=l.range.origStart+1;u.range.origStart=u.range.origEnd=m,u.valueRange.origStart=u.valueRange.origEnd=m}}let d=new It(i,ra(t,u));oU(l,d),r.push(d),i&&typeof s=="number"&&l.range.start>s+1024&&t.errors.push(NR(e,i)),i=void 0,s=null}break;default:i!==void 0&&r.push(new It(i)),i=ra(t,l),s=l.range.start,l.error&&t.errors.push(l.error);e:for(let u=o+1;;++u){let d=e.items[u];switch(d&&d.type){case Q.Type.BLANK_LINE:case Q.Type.COMMENT:continue e;case Q.Type.MAP_VALUE:break e;default:{let h="Implicit map keys need to be followed by map values";t.errors.push(new Q.YAMLSemanticError(l,h));break e}}}if(l.valueRangeContainsNewline){let u="Implicit map keys need to be on a single line";t.errors.push(new Q.YAMLSemanticError(l,u))}}}return i!==void 0&&r.push(new It(i)),{comments:n,items:r}}function cU(t,e){let n=[],r=[],i,s=!1,o="{";for(let l=0;l<e.items.length;++l){let u=e.items[l];if(typeof u.char=="string"){let{char:d,offset:h}=u;if(d==="?"&&i===void 0&&!s){s=!0,o=":";continue}if(d===":"){if(i===void 0&&(i=null),o===":"){o=",";continue}}else if(s&&(i===void 0&&d!==","&&(i=null),s=!1),i!==void 0&&(r.push(new It(i)),i=void 0,d===",")){o=":";continue}if(d==="}"){if(l===e.items.length-1)continue}else if(d===o){o=":";continue}let m=`Flow map contains an unexpected ${d}`,y=new Q.YAMLSyntaxError(e,m);y.offset=h,t.errors.push(y)}else u.type===Q.Type.BLANK_LINE?n.push({afterKey:!!i,before:r.length}):u.type===Q.Type.COMMENT?(bR(t.errors,u),n.push({afterKey:!!i,before:r.length,comment:u.comment})):i===void 0?(o===","&&t.errors.push(new Q.YAMLSemanticError(u,"Separator , missing in flow map")),i=ra(t,u)):(o!==","&&t.errors.push(new Q.YAMLSemanticError(u,"Indicator : missing in flow map entry")),r.push(new It(i,ra(t,u))),i=void 0,s=!1)}return yR(t.errors,e),i!==void 0&&r.push(new It(i)),{comments:n,items:r}}function uU(t,e){if(e.type!==Q.Type.SEQ&&e.type!==Q.Type.FLOW_SEQ){let s=`A ${e.type} node cannot be resolved as a sequence`;return t.errors.push(new Q.YAMLSyntaxError(e,s)),null}let{comments:n,items:r}=e.type===Q.Type.FLOW_SEQ?dU(t,e):fU(t,e),i=new Ha;if(i.items=r,vR(i,n),!t.options.mapAsMap&&r.some(s=>s instanceof It&&s.key instanceof fn)){let s="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new Q.YAMLWarning(e,s))}return e.resolved=i,i}function fU(t,e){let n=[],r=[];for(let i=0;i<e.items.length;++i){let s=e.items[i];switch(s.type){case Q.Type.BLANK_LINE:n.push({before:r.length});break;case Q.Type.COMMENT:n.push({comment:s.comment,before:r.length});break;case Q.Type.SEQ_ITEM:if(s.error&&t.errors.push(s.error),r.push(ra(t,s.node)),s.hasProps){let o="Sequence items cannot have tags or anchors before the - indicator";t.errors.push(new Q.YAMLSemanticError(s,o))}break;default:s.error&&t.errors.push(s.error),t.errors.push(new Q.YAMLSyntaxError(s,`Unexpected ${s.type} node in sequence`))}}return{comments:n,items:r}}function dU(t,e){let n=[],r=[],i=!1,s,o=null,l="[",u=null;for(let d=0;d<e.items.length;++d){let h=e.items[d];if(typeof h.char=="string"){let{char:m,offset:y}=h;if(m!==":"&&(i||s!==void 0)&&(i&&s===void 0&&(s=l?r.pop():null),r.push(new It(s)),i=!1,s=void 0,o=null),m===l)l=null;else if(!l&&m==="?")i=!0;else if(l!=="["&&m===":"&&s===void 0){if(l===","){if(s=r.pop(),s instanceof It){let b="Chaining flow sequence pairs is invalid",T=new Q.YAMLSemanticError(e,b);T.offset=y,t.errors.push(T)}if(!i&&typeof o=="number"){let b=h.range?h.range.start:h.offset;b>o+1024&&t.errors.push(NR(e,s));let{src:T}=u.context;for(let x=o;x<b;++x)if(T[x]===`
`){let D="Implicit keys of flow sequence pairs need to be on a single line";t.errors.push(new Q.YAMLSemanticError(u,D));break}}}else s=null;o=null,i=!1,l=null}else if(l==="["||m!=="]"||d<e.items.length-1){let b=`Flow sequence contains an unexpected ${m}`,T=new Q.YAMLSyntaxError(e,b);T.offset=y,t.errors.push(T)}}else if(h.type===Q.Type.BLANK_LINE)n.push({before:r.length});else if(h.type===Q.Type.COMMENT)bR(t.errors,h),n.push({comment:h.comment,before:r.length});else{if(l){let y=`Expected a ${l} in flow sequence`;t.errors.push(new Q.YAMLSemanticError(h,y))}let m=ra(t,h);s===void 0?(r.push(m),u=h):(r.push(new It(s,m)),s=void 0),o=h.range.start,l=","}}return yR(t.errors,e),s!==void 0&&r.push(new It(s)),{comments:n,items:r}}Vt.Alias=na;Vt.Collection=fn;Vt.Merge=hT;Vt.Node=Xr;Vt.Pair=It;Vt.Scalar=Yn;Vt.YAMLMap=wd;Vt.YAMLSeq=Ha;Vt.addComment=Il;Vt.binaryOptions=Wq;Vt.boolOptions=Hq;Vt.findPair=Wc;Vt.intOptions=Yq;Vt.isEmptyPath=hR;Vt.nullOptions=Kq;Vt.resolveMap=sU;Vt.resolveNode=ra;Vt.resolveSeq=uU;Vt.resolveString=_T;Vt.strOptions=Ya;Vt.stringifyNumber=Xq;Vt.stringifyString=Qq;Vt.toJSON=ta});var Vd=_e(Ei=>{"use strict";var Rr=Zs(),st=Cl(),pU={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve:(t,e)=>{let n=st.resolveString(t,e);if(typeof Buffer=="function")return Buffer.from(n,"base64");if(typeof atob=="function"){let r=atob(n.replace(/[\n\r]/g,"")),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}else{let r="This environment does not support reading binary tags; either Buffer or atob is required";return t.errors.push(new Rr.YAMLReferenceError(e,r)),null}},options:st.binaryOptions,stringify:({comment:t,type:e,value:n},r,i,s)=>{let o;if(typeof Buffer=="function")o=n instanceof Buffer?n.toString("base64"):Buffer.from(n.buffer).toString("base64");else if(typeof btoa=="function"){let l="";for(let u=0;u<n.length;++u)l+=String.fromCharCode(n[u]);o=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=st.binaryOptions.defaultType),e===Rr.Type.QUOTE_DOUBLE)n=o;else{let{lineWidth:l}=st.binaryOptions,u=Math.ceil(o.length/l),d=new Array(u);for(let h=0,m=0;h<u;++h,m+=l)d[h]=o.substr(m,l);n=d.join(e===Rr.Type.BLOCK_LITERAL?`
`:" ")}return st.stringifyString({comment:t,type:e,value:n},r,i,s)}};function CR(t,e){let n=st.resolveSeq(t,e);for(let r=0;r<n.items.length;++r){let i=n.items[r];if(!(i instanceof st.Pair)){if(i instanceof st.YAMLMap){if(i.items.length>1){let o="Each pair must have its own sequence indicator";throw new Rr.YAMLSemanticError(e,o)}let s=i.items[0]||new st.Pair;i.commentBefore&&(s.commentBefore=s.commentBefore?`${i.commentBefore}
${s.commentBefore}`:i.commentBefore),i.comment&&(s.comment=s.comment?`${i.comment}
${s.comment}`:i.comment),i=s}n.items[r]=i instanceof st.Pair?i:new st.Pair(i)}}return n}function PR(t,e,n){let r=new st.YAMLSeq(t);r.tag="tag:yaml.org,2002:pairs";for(let i of e){let s,o;if(Array.isArray(i))if(i.length===2)s=i[0],o=i[1];else throw new TypeError(`Expected [key, value] tuple: ${i}`);else if(i&&i instanceof Object){let u=Object.keys(i);if(u.length===1)s=u[0],o=i[s];else throw new TypeError(`Expected { key: value } tuple: ${i}`)}else s=i;let l=t.createPair(s,o,n);r.items.push(l)}return r}var hU={default:!1,tag:"tag:yaml.org,2002:pairs",resolve:CR,createNode:PR},$a=class extends st.YAMLSeq{constructor(){super();Rr._defineProperty(this,"add",st.YAMLMap.prototype.add.bind(this)),Rr._defineProperty(this,"delete",st.YAMLMap.prototype.delete.bind(this)),Rr._defineProperty(this,"get",st.YAMLMap.prototype.get.bind(this)),Rr._defineProperty(this,"has",st.YAMLMap.prototype.has.bind(this)),Rr._defineProperty(this,"set",st.YAMLMap.prototype.set.bind(this)),this.tag=$a.tag}toJSON(e,n){let r=new Map;n&&n.onCreate&&n.onCreate(r);for(let i of this.items){let s,o;if(i instanceof st.Pair?(s=st.toJSON(i.key,"",n),o=st.toJSON(i.value,s,n)):s=st.toJSON(i,"",n),r.has(s))throw new Error("Ordered maps must not include duplicate keys");r.set(s,o)}return r}};Rr._defineProperty($a,"tag","tag:yaml.org,2002:omap");function mU(t,e){let n=CR(t,e),r=[];for(let{key:i}of n.items)if(i instanceof st.Scalar)if(r.includes(i.value)){let s="Ordered maps must not include duplicate keys";throw new Rr.YAMLSemanticError(e,s)}else r.push(i.value);return Object.assign(new $a,n)}function gU(t,e,n){let r=PR(t,e,n),i=new $a;return i.items=r.items,i}var TU={identify:t=>t instanceof Map,nodeClass:$a,default:!1,tag:"tag:yaml.org,2002:omap",resolve:mU,createNode:gU},za=class extends st.YAMLMap{constructor(){super();this.tag=za.tag}add(e){let n=e instanceof st.Pair?e:new st.Pair(e);st.findPair(this.items,n.key)||this.items.push(n)}get(e,n){let r=st.findPair(this.items,e);return!n&&r instanceof st.Pair?r.key instanceof st.Scalar?r.key.value:r.key:r}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);let r=st.findPair(this.items,e);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new st.Pair(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues())return super.toString(e,n,r);throw new Error("Set items must all have null values")}};Rr._defineProperty(za,"tag","tag:yaml.org,2002:set");function _U(t,e){let n=st.resolveMap(t,e);if(!n.hasAllNullValues())throw new Rr.YAMLSemanticError(e,"Set items must all have null values");return Object.assign(new za,n)}function yU(t,e,n){let r=new za;for(let i of e)r.items.push(t.createPair(i,null,n));return r}var bU={identify:t=>t instanceof Set,nodeClass:za,default:!1,tag:"tag:yaml.org,2002:set",resolve:_U,createNode:yU},yT=(t,e)=>{let n=e.split(":").reduce((r,i)=>r*60+Number(i),0);return t==="-"?-n:n},AR=({value:t})=>{if(isNaN(t)||!isFinite(t))return st.stringifyNumber(t);let e="";t<0&&(e="-",t=Math.abs(t));let n=[t%60];return t<60?n.unshift(0):(t=Math.round((t-n[0])/60),n.unshift(t%60),t>=60&&(t=Math.round((t-n[0])/60),n.unshift(t))),e+n.map(r=>r<10?"0"+String(r):String(r)).join(":").replace(/000000\d*$/,"")},NU={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+)$/,resolve:(t,e,n)=>yT(e,n.replace(/_/g,"")),stringify:AR},vU={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*)$/,resolve:(t,e,n)=>yT(e,n.replace(/_/g,"")),stringify:AR},IU={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^(?:([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?)$"),resolve:(t,e,n,r,i,s,o,l,u)=>{l&&(l=(l+"00").substr(1,3));let d=Date.UTC(e,n-1,r,i||0,s||0,o||0,l||0);if(u&&u!=="Z"){let h=yT(u[0],u.slice(1));Math.abs(h)<30&&(h*=60),d-=6e4*h}return new Date(d)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};function bT(t){let e=typeof process!="undefined"&&process.env||{};return t?typeof YAML_SILENCE_DEPRECATION_WARNINGS!="undefined"?!YAML_SILENCE_DEPRECATION_WARNINGS:!e.YAML_SILENCE_DEPRECATION_WARNINGS:typeof YAML_SILENCE_WARNINGS!="undefined"?!YAML_SILENCE_WARNINGS:!e.YAML_SILENCE_WARNINGS}function NT(t,e){if(bT(!1)){let n=typeof process!="undefined"&&process.emitWarning;n?n(t,e):console.warn(e?`${e}: ${t}`:t)}}function CU(t){if(bT(!0)){let e=t.replace(/.*yaml[/\\]/i,"").replace(/\.js$/,"").replace(/\\/g,"/");NT(`The endpoint 'yaml/${e}' will be removed in a future release.`,"DeprecationWarning")}}var SR={};function PU(t,e){if(!SR[t]&&bT(!0)){SR[t]=!0;let n=`The option '${t}' will be removed in a future release`;n+=e?`, use '${e}' instead.`:".",NT(n,"DeprecationWarning")}}Ei.binary=pU;Ei.floatTime=vU;Ei.intTime=NU;Ei.omap=TU;Ei.pairs=hU;Ei.set=bU;Ei.timestamp=IU;Ei.warn=NT;Ei.warnFileDeprecation=CU;Ei.warnOptionDeprecation=PU});var Wd=_e(qR=>{"use strict";var Bd=Zs(),Me=Cl(),Kn=Vd();function AU(t,e,n){let r=new Me.YAMLMap(t);if(e instanceof Map)for(let[i,s]of e)r.items.push(t.createPair(i,s,n));else if(e&&typeof e=="object")for(let i of Object.keys(e))r.items.push(t.createPair(i,e[i],n));return typeof t.sortMapEntries=="function"&&r.items.sort(t.sortMapEntries),r}var Hc={createNode:AU,default:!0,nodeClass:Me.YAMLMap,tag:"tag:yaml.org,2002:map",resolve:Me.resolveMap};function SU(t,e,n){let r=new Me.YAMLSeq(t);if(e&&e[Symbol.iterator])for(let i of e){let s=t.createNode(i,n.wrapScalars,null,n);r.items.push(s)}return r}var qd={createNode:SU,default:!0,nodeClass:Me.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve:Me.resolveSeq},xU={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:Me.resolveString,stringify(t,e,n,r){return e=Object.assign({actualString:!0},e),Me.stringifyString(t,e,n,r)},options:Me.strOptions},vT=[Hc,qd,xU],Ud=t=>typeof t=="bigint"||Number.isInteger(t),IT=(t,e,n)=>Me.intOptions.asBigInt?BigInt(t):parseInt(e,n);function xR(t,e,n){let{value:r}=t;return Ud(r)&&r>=0?n+r.toString(e):Me.stringifyNumber(t)}var ER={identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new Me.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:Me.nullOptions,stringify:()=>Me.nullOptions.nullStr},RR={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>t[0]==="t"||t[0]==="T",options:Me.boolOptions,stringify:({value:t})=>t?Me.boolOptions.trueStr:Me.boolOptions.falseStr},kR={identify:t=>Ud(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o([0-7]+)$/,resolve:(t,e)=>IT(t,e,8),options:Me.intOptions,stringify:t=>xR(t,8,"0o")},OR={identify:Ud,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:t=>IT(t,t,10),options:Me.intOptions,stringify:Me.stringifyNumber},wR={identify:t=>Ud(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x([0-9a-fA-F]+)$/,resolve:(t,e)=>IT(t,e,16),options:Me.intOptions,stringify:t=>xR(t,16,"0x")},LR={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Me.stringifyNumber},DR={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify:({value:t})=>Number(t).toExponential()},MR={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.([0-9]+)|[0-9]+\.([0-9]*))$/,resolve(t,e,n){let r=e||n,i=new Me.Scalar(parseFloat(t));return r&&r[r.length-1]==="0"&&(i.minFractionDigits=r.length),i},stringify:Me.stringifyNumber},EU=vT.concat([ER,RR,kR,OR,wR,LR,DR,MR]),FR=t=>typeof t=="bigint"||Number.isInteger(t),jd=({value:t})=>JSON.stringify(t),VR=[Hc,qd,{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:Me.resolveString,stringify:jd},{identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new Me.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:jd},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:jd},{identify:FR,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:t=>Me.intOptions.asBigInt?BigInt(t):parseInt(t,10),stringify:({value:t})=>FR(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:jd}];VR.scalarFallback=t=>{throw new SyntaxError(`Unresolved plain scalar ${JSON.stringify(t)}`)};var BR=({value:t})=>t?Me.boolOptions.trueStr:Me.boolOptions.falseStr,Yc=t=>typeof t=="bigint"||Number.isInteger(t);function Gd(t,e,n){let r=e.replace(/_/g,"");if(Me.intOptions.asBigInt){switch(n){case 2:r=`0b${r}`;break;case 8:r=`0o${r}`;break;case 16:r=`0x${r}`;break}let s=BigInt(r);return t==="-"?BigInt(-1)*s:s}let i=parseInt(r,n);return t==="-"?-1*i:i}function CT(t,e,n){let{value:r}=t;if(Yc(r)){let i=r.toString(e);return r<0?"-"+n+i.substr(1):n+i}return Me.stringifyNumber(t)}var RU=vT.concat([{identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new Me.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:Me.nullOptions,stringify:()=>Me.nullOptions.nullStr},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>!0,options:Me.boolOptions,stringify:BR},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>!1,options:Me.boolOptions,stringify:BR},{identify:Yc,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^([-+]?)0b([0-1_]+)$/,resolve:(t,e,n)=>Gd(e,n,2),stringify:t=>CT(t,2,"0b")},{identify:Yc,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^([-+]?)0([0-7_]+)$/,resolve:(t,e,n)=>Gd(e,n,8),stringify:t=>CT(t,8,"0")},{identify:Yc,default:!0,tag:"tag:yaml.org,2002:int",test:/^([-+]?)([0-9][0-9_]*)$/,resolve:(t,e,n)=>Gd(e,n,10),stringify:Me.stringifyNumber},{identify:Yc,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^([-+]?)0x([0-9a-fA-F_]+)$/,resolve:(t,e,n)=>Gd(e,n,16),stringify:t=>CT(t,16,"0x")},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Me.stringifyNumber},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?([0-9][0-9_]*)?(\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify:({value:t})=>Number(t).toExponential()},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.([0-9_]*)$/,resolve(t,e){let n=new Me.Scalar(parseFloat(t.replace(/_/g,"")));if(e){let r=e.replace(/_/g,"");r[r.length-1]==="0"&&(n.minFractionDigits=r.length)}return n},stringify:Me.stringifyNumber}],Kn.binary,Kn.omap,Kn.pairs,Kn.set,Kn.intTime,Kn.floatTime,Kn.timestamp),kU={core:EU,failsafe:vT,json:VR,yaml11:RU},OU={binary:Kn.binary,bool:RR,float:MR,floatExp:DR,floatNaN:LR,floatTime:Kn.floatTime,int:OR,intHex:wR,intOct:kR,intTime:Kn.intTime,map:Hc,null:ER,omap:Kn.omap,pairs:Kn.pairs,seq:qd,set:Kn.set,timestamp:Kn.timestamp};function wU(t,e,n){if(e){let r=n.filter(s=>s.tag===e),i=r.find(s=>!s.format)||r[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return n.find(r=>(r.identify&&r.identify(t)||r.class&&t instanceof r.class)&&!r.format)}function LU(t,e,n){if(t instanceof Me.Node)return t;let{defaultPrefix:r,onTagObj:i,prevObjects:s,schema:o,wrapScalars:l}=n;e&&e.startsWith("!!")&&(e=r+e.slice(2));let u=wU(t,e,o.tags);if(!u){if(typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object")return l?new Me.Scalar(t):t;u=t instanceof Map?Hc:t[Symbol.iterator]?qd:Hc}i&&(i(u),delete n.onTagObj);let d={value:void 0,node:void 0};if(t&&typeof t=="object"&&s){let h=s.get(t);if(h){let m=new Me.Alias(h);return n.aliasNodes.push(m),m}d.value=t,s.set(t,d)}return d.node=u.createNode?u.createNode(n.schema,t,n):l?new Me.Scalar(t):t,e&&d.node instanceof Me.Node&&(d.node.tag=e),d.node}function DU(t,e,n,r){let i=t[r.replace(/\W/g,"")];if(!i){let s=Object.keys(t).map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${r}"; use one of ${s}`)}if(Array.isArray(n))for(let s of n)i=i.concat(s);else typeof n=="function"&&(i=n(i.slice()));for(let s=0;s<i.length;++s){let o=i[s];if(typeof o=="string"){let l=e[o];if(!l){let u=Object.keys(e).map(d=>JSON.stringify(d)).join(", ");throw new Error(`Unknown custom tag "${o}"; use one of ${u}`)}i[s]=l}}return i}var MU=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0,Pl=class{constructor({customTags:e,merge:n,schema:r,sortMapEntries:i,tags:s}){this.merge=!!n,this.name=r,this.sortMapEntries=i===!0?MU:i||null,!e&&s&&Kn.warnOptionDeprecation("tags","customTags"),this.tags=DU(kU,OU,e||s,r)}createNode(e,n,r,i){let s={defaultPrefix:Pl.defaultPrefix,schema:this,wrapScalars:n},o=i?Object.assign(i,s):s;return LU(e,r,o)}createPair(e,n,r){r||(r={wrapScalars:!0});let i=this.createNode(e,r.wrapScalars,null,r),s=this.createNode(n,r.wrapScalars,null,r);return new Me.Pair(i,s)}};Bd._defineProperty(Pl,"defaultPrefix",Bd.defaultTagPrefix);Bd._defineProperty(Pl,"defaultTags",Bd.defaultTags);qR.Schema=Pl});var WR=_e($d=>{"use strict";var $n=Zs(),Ve=Cl(),UR=Wd(),FU={anchorPrefix:"a",customTags:null,indent:2,indentSeq:!0,keepCstNodes:!1,keepNodeTypes:!0,keepBlobsInJSON:!0,mapAsMap:!1,maxAliasCount:100,prettyErrors:!1,simpleKeys:!1,version:"1.2"},VU={get binary(){return Ve.binaryOptions},set binary(t){Object.assign(Ve.binaryOptions,t)},get bool(){return Ve.boolOptions},set bool(t){Object.assign(Ve.boolOptions,t)},get int(){return Ve.intOptions},set int(t){Object.assign(Ve.intOptions,t)},get null(){return Ve.nullOptions},set null(t){Object.assign(Ve.nullOptions,t)},get str(){return Ve.strOptions},set str(t){Object.assign(Ve.strOptions,t)}},jR={"1.0":{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:$n.defaultTagPrefix},{handle:"!!",prefix:"tag:private.yaml.org,2002:"}]},1.1:{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:$n.defaultTagPrefix}]},1.2:{schema:"core",merge:!1,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:$n.defaultTagPrefix}]}};function GR(t,e){if((t.version||t.options.version)==="1.0"){let i=e.match(/^tag:private\.yaml\.org,2002:([^:/]+)$/);if(i)return"!"+i[1];let s=e.match(/^tag:([a-zA-Z0-9-]+)\.yaml\.org,2002:(.*)/);return s?`!${s[1]}/${s[2]}`:`!${e.replace(/^tag:/,"")}`}let n=t.tagPrefixes.find(i=>e.indexOf(i.prefix)===0);if(!n){let i=t.getDefaults().tagPrefixes;n=i&&i.find(s=>e.indexOf(s.prefix)===0)}if(!n)return e[0]==="!"?e:`!<${e}>`;let r=e.substr(n.prefix.length).replace(/[!,[\]{}]/g,i=>({"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"})[i]);return n.handle+r}function BU(t,e){if(e instanceof Ve.Alias)return Ve.Alias;if(e.tag){let i=t.filter(s=>s.tag===e.tag);if(i.length>0)return i.find(s=>s.format===e.format)||i[0]}let n,r;if(e instanceof Ve.Scalar){r=e.value;let i=t.filter(s=>s.identify&&s.identify(r)||s.class&&r instanceof s.class);n=i.find(s=>s.format===e.format)||i.find(s=>!s.format)}else r=e,n=t.find(i=>i.nodeClass&&r instanceof i.nodeClass);if(!n){let i=r&&r.constructor?r.constructor.name:typeof r;throw new Error(`Tag not resolved for ${i} value`)}return n}function qU(t,e,{anchors:n,doc:r}){let i=[],s=r.anchors.getName(t);return s&&(n[s]=t,i.push(`&${s}`)),t.tag?i.push(GR(r,t.tag)):e.default||i.push(GR(r,e.tag)),i.join(" ")}function Hd(t,e,n,r){let{anchors:i,schema:s}=e.doc,o;if(!(t instanceof Ve.Node)){let d={aliasNodes:[],onTagObj:h=>o=h,prevObjects:new Map};t=s.createNode(t,!0,null,d);for(let h of d.aliasNodes){h.source=h.source.node;let m=i.getName(h.source);m||(m=i.newName(),i.map[m]=h.source)}}if(t instanceof Ve.Pair)return t.toString(e,n,r);o||(o=BU(s.tags,t));let l=qU(t,o,e);l.length>0&&(e.indentAtStart=(e.indentAtStart||0)+l.length+1);let u=typeof o.stringify=="function"?o.stringify(t,e,n,r):t instanceof Ve.Scalar?Ve.stringifyString(t,e,n,r):t.toString(e,n,r);return l?t instanceof Ve.Scalar||u[0]==="{"||u[0]==="["?`${l} ${u}`:`${l}
${e.indent}${u}`:u}var Yd=class{static validAnchorNode(e){return e instanceof Ve.Scalar||e instanceof Ve.YAMLSeq||e instanceof Ve.YAMLMap}constructor(e){$n._defineProperty(this,"map",Object.create(null)),this.prefix=e}createAlias(e,n){return this.setAnchor(e,n),new Ve.Alias(e)}createMergePair(...e){let n=new Ve.Merge;return n.value.items=e.map(r=>{if(r instanceof Ve.Alias){if(r.source instanceof Ve.YAMLMap)return r}else if(r instanceof Ve.YAMLMap)return this.createAlias(r);throw new Error("Merge sources must be Map nodes or their Aliases")}),n}getName(e){let{map:n}=this;return Object.keys(n).find(r=>n[r]===e)}getNames(){return Object.keys(this.map)}getNode(e){return this.map[e]}newName(e){e||(e=this.prefix);let n=Object.keys(this.map);for(let r=1;;++r){let i=`${e}${r}`;if(!n.includes(i))return i}}resolveNodes(){let{map:e,_cstAliases:n}=this;Object.keys(e).forEach(r=>{e[r]=e[r].resolved}),n.forEach(r=>{r.source=r.source.resolved}),delete this._cstAliases}setAnchor(e,n){if(e!=null&&!Yd.validAnchorNode(e))throw new Error("Anchors may only be set for Scalar, Seq and Map nodes");if(n&&/[\x00-\x19\s,[\]{}]/.test(n))throw new Error("Anchor names must not contain whitespace or control characters");let{map:r}=this,i=e&&Object.keys(r).find(s=>r[s]===e);if(i)if(n)i!==n&&(delete r[i],r[n]=e);else return i;else{if(!n){if(!e)return null;n=this.newName()}r[n]=e}return n}},Kd=(t,e)=>{if(t&&typeof t=="object"){let{tag:n}=t;t instanceof Ve.Collection?(n&&(e[n]=!0),t.items.forEach(r=>Kd(r,e))):t instanceof Ve.Pair?(Kd(t.key,e),Kd(t.value,e)):t instanceof Ve.Scalar&&n&&(e[n]=!0)}return e},UU=t=>Object.keys(Kd(t,{}));function jU(t,e){let n={before:[],after:[]},r,i=!1;for(let s of e)if(s.valueRange){if(r!==void 0){let l="Document contains trailing content not separated by a ... or --- line";t.errors.push(new $n.YAMLSyntaxError(s,l));break}let o=Ve.resolveNode(t,s);i&&(o.spaceBefore=!0,i=!1),r=o}else s.comment!==null?(r===void 0?n.before:n.after).push(s.comment):s.type===$n.Type.BLANK_LINE&&(i=!0,r===void 0&&n.before.length>0&&!t.commentBefore&&(t.commentBefore=n.before.join(`
`),n.before=[]));if(t.contents=r||null,!r)t.comment=n.before.concat(n.after).join(`
`)||null;else{let s=n.before.join(`
`);if(s){let o=r instanceof Ve.Collection&&r.items[0]?r.items[0]:r;o.commentBefore=o.commentBefore?`${s}
${o.commentBefore}`:s}t.comment=n.after.join(`
`)||null}}function GU({tagPrefixes:t},e){let[n,r]=e.parameters;if(!n||!r){let i="Insufficient parameters given for %TAG directive";throw new $n.YAMLSemanticError(e,i)}if(t.some(i=>i.handle===n)){let i="The %TAG directive must only be given at most once per handle in the same document.";throw new $n.YAMLSemanticError(e,i)}return{handle:n,prefix:r}}function WU(t,e){let[n]=e.parameters;if(e.name==="YAML:1.0"&&(n="1.0"),!n){let r="Insufficient parameters given for %YAML directive";throw new $n.YAMLSemanticError(e,r)}if(!jR[n]){let i=`Document will be parsed as YAML ${t.version||t.options.version} rather than YAML ${n}`;t.warnings.push(new $n.YAMLWarning(e,i))}return n}function HU(t,e,n){let r=[],i=!1;for(let s of e){let{comment:o,name:l}=s;switch(l){case"TAG":try{t.tagPrefixes.push(GU(t,s))}catch(u){t.errors.push(u)}i=!0;break;case"YAML":case"YAML:1.0":if(t.version){let u="The %YAML directive must only be given at most once per document.";t.errors.push(new $n.YAMLSemanticError(s,u))}try{t.version=WU(t,s)}catch(u){t.errors.push(u)}i=!0;break;default:if(l){let u=`YAML only supports %TAG and %YAML directives, and not %${l}`;t.warnings.push(new $n.YAMLWarning(s,u))}}o&&r.push(o)}if(n&&!i&&(t.version||n.version||t.options.version)==="1.1"){let s=({handle:o,prefix:l})=>({handle:o,prefix:l});t.tagPrefixes=n.tagPrefixes.map(s),t.version=n.version}t.commentBefore=r.join(`
`)||null}function Al(t){if(t instanceof Ve.Collection)return!0;throw new Error("Expected a YAML collection as document contents")}var Sl=class{constructor(e){this.anchors=new Yd(e.anchorPrefix),this.commentBefore=null,this.comment=null,this.contents=null,this.directivesEndMarker=null,this.errors=[],this.options=e,this.schema=null,this.tagPrefixes=[],this.version=null,this.warnings=[]}add(e){return Al(this.contents),this.contents.add(e)}addIn(e,n){Al(this.contents),this.contents.addIn(e,n)}delete(e){return Al(this.contents),this.contents.delete(e)}deleteIn(e){return Ve.isEmptyPath(e)?this.contents==null?!1:(this.contents=null,!0):(Al(this.contents),this.contents.deleteIn(e))}getDefaults(){return Sl.defaults[this.version]||Sl.defaults[this.options.version]||{}}get(e,n){return this.contents instanceof Ve.Collection?this.contents.get(e,n):void 0}getIn(e,n){return Ve.isEmptyPath(e)?!n&&this.contents instanceof Ve.Scalar?this.contents.value:this.contents:this.contents instanceof Ve.Collection?this.contents.getIn(e,n):void 0}has(e){return this.contents instanceof Ve.Collection?this.contents.has(e):!1}hasIn(e){return Ve.isEmptyPath(e)?this.contents!==void 0:this.contents instanceof Ve.Collection?this.contents.hasIn(e):!1}set(e,n){Al(this.contents),this.contents.set(e,n)}setIn(e,n){Ve.isEmptyPath(e)?this.contents=n:(Al(this.contents),this.contents.setIn(e,n))}setSchema(e,n){if(!e&&!n&&this.schema)return;typeof e=="number"&&(e=e.toFixed(1)),e==="1.0"||e==="1.1"||e==="1.2"?(this.version?this.version=e:this.options.version=e,delete this.options.schema):e&&typeof e=="string"&&(this.options.schema=e),Array.isArray(n)&&(this.options.customTags=n);let r=Object.assign({},this.getDefaults(),this.options);this.schema=new UR.Schema(r)}parse(e,n){this.options.keepCstNodes&&(this.cstNode=e),this.options.keepNodeTypes&&(this.type="DOCUMENT");let{directives:r=[],contents:i=[],directivesEndMarker:s,error:o,valueRange:l}=e;if(o&&(o.source||(o.source=this),this.errors.push(o)),HU(this,r,n),s&&(this.directivesEndMarker=!0),this.range=l?[l.start,l.end]:null,this.setSchema(),this.anchors._cstAliases=[],jU(this,i),this.anchors.resolveNodes(),this.options.prettyErrors){for(let u of this.errors)u instanceof $n.YAMLError&&u.makePretty();for(let u of this.warnings)u instanceof $n.YAMLError&&u.makePretty()}return this}listNonDefaultTags(){return UU(this.contents).filter(e=>e.indexOf(UR.Schema.defaultPrefix)!==0)}setTagPrefix(e,n){if(e[0]!=="!"||e[e.length-1]!=="!")throw new Error("Handle must start and end with !");if(n){let r=this.tagPrefixes.find(i=>i.handle===e);r?r.prefix=n:this.tagPrefixes.push({handle:e,prefix:n})}else this.tagPrefixes=this.tagPrefixes.filter(r=>r.handle!==e)}toJSON(e,n){let{keepBlobsInJSON:r,mapAsMap:i,maxAliasCount:s}=this.options,o=r&&(typeof e!="string"||!(this.contents instanceof Ve.Scalar)),l={doc:this,indentStep:"  ",keep:o,mapAsMap:o&&!!i,maxAliasCount:s,stringify:Hd},u=Object.keys(this.anchors.map);u.length>0&&(l.anchors=new Map(u.map(h=>[this.anchors.map[h],{alias:[],aliasCount:0,count:1}])));let d=Ve.toJSON(this.contents,e,l);if(typeof n=="function"&&l.anchors)for(let{count:h,res:m}of l.anchors.values())n(m,h);return d}toString(){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");let e=this.options.indent;if(!Number.isInteger(e)||e<=0){let u=JSON.stringify(e);throw new Error(`"indent" option must be a positive integer, not ${u}`)}this.setSchema();let n=[],r=!1;if(this.version){let u="%YAML 1.2";this.schema.name==="yaml-1.1"&&(this.version==="1.0"?u="%YAML:1.0":this.version==="1.1"&&(u="%YAML 1.1")),n.push(u),r=!0}let i=this.listNonDefaultTags();this.tagPrefixes.forEach(({handle:u,prefix:d})=>{i.some(h=>h.indexOf(d)===0)&&(n.push(`%TAG ${u} ${d}`),r=!0)}),(r||this.directivesEndMarker)&&n.push("---"),this.commentBefore&&((r||!this.directivesEndMarker)&&n.unshift(""),n.unshift(this.commentBefore.replace(/^/gm,"#")));let s={anchors:Object.create(null),doc:this,indent:"",indentStep:" ".repeat(e),stringify:Hd},o=!1,l=null;if(this.contents){this.contents instanceof Ve.Node&&(this.contents.spaceBefore&&(r||this.directivesEndMarker)&&n.push(""),this.contents.commentBefore&&n.push(this.contents.commentBefore.replace(/^/gm,"#")),s.forceBlockIndent=!!this.comment,l=this.contents.comment);let u=l?null:()=>o=!0,d=Hd(this.contents,s,()=>l=null,u);n.push(Ve.addComment(d,"",l))}else this.contents!==void 0&&n.push(Hd(this.contents,s));return this.comment&&((!o||l)&&n[n.length-1]!==""&&n.push(""),n.push(this.comment.replace(/^/gm,"#"))),n.join(`
`)+`
`}};$n._defineProperty(Sl,"defaults",jR);$d.Document=Sl;$d.defaultOptions=FU;$d.scalarOptions=VU});var KR=_e(YR=>{"use strict";var PT=dR(),Qa=WR(),YU=Wd(),KU=Zs(),$U=Vd();Cl();function zU(t,e=!0,n){n===void 0&&typeof e=="string"&&(n=e,e=!0);let r=Object.assign({},Qa.Document.defaults[Qa.defaultOptions.version],Qa.defaultOptions);return new YU.Schema(r).createNode(t,e,n)}var Kc=class extends Qa.Document{constructor(e){super(Object.assign({},Qa.defaultOptions,e))}};function QU(t,e){let n=[],r;for(let i of PT.parse(t)){let s=new Kc(e);s.parse(i,r),n.push(s),r=s}return n}function HR(t,e){let n=PT.parse(t),r=new Kc(e).parse(n[0]);if(n.length>1){let i="Source contains multiple documents; please use YAML.parseAllDocuments()";r.errors.unshift(new KU.YAMLSemanticError(n[1],i))}return r}function XU(t,e){let n=HR(t,e);if(n.warnings.forEach(r=>$U.warn(r)),n.errors.length>0)throw n.errors[0];return n.toJSON()}function JU(t,e){let n=new Kc(e);return n.contents=t,String(n)}var ZU={createNode:zU,defaultOptions:Qa.defaultOptions,Document:Kc,parse:XU,parseAllDocuments:QU,parseCST:PT.parse,parseDocument:HR,scalarOptions:Qa.scalarOptions,stringify:JU};YR.YAML=ZU});var AT=_e((Ese,$R)=>{$R.exports=KR().YAML});var zR=_e(zn=>{"use strict";var kr=Cl(),ej=Wd();Zs();Vd();zn.Alias=kr.Alias;zn.Collection=kr.Collection;zn.Merge=kr.Merge;zn.Node=kr.Node;zn.Pair=kr.Pair;zn.Scalar=kr.Scalar;zn.YAMLMap=kr.YAMLMap;zn.YAMLSeq=kr.YAMLSeq;zn.binaryOptions=kr.binaryOptions;zn.boolOptions=kr.boolOptions;zn.intOptions=kr.intOptions;zn.nullOptions=kr.nullOptions;zn.strOptions=kr.strOptions;zn.Schema=ej.Schema});var Qn,kse,Ose,wse,Lse,Dse,Mse,Fse,Vse,Bse,qse,QR,$c,zc,xl,ST=E(()=>{Qn=Ge(zR(),1),kse=Qn.default.binaryOptions,Ose=Qn.default.boolOptions,wse=Qn.default.intOptions,Lse=Qn.default.nullOptions,Dse=Qn.default.strOptions,Mse=Qn.default.Schema,Fse=Qn.default.Alias,Vse=Qn.default.Collection,Bse=Qn.default.Merge,qse=Qn.default.Node,QR=Qn.default.Pair,$c=Qn.default.Scalar,zc=Qn.default.YAMLMap,xl=Qn.default.YAMLSeq});var XR,xT,JR=E(()=>{XR=Ge(AT());ST();Oc();xT=class{constructor(e){this.documentScope=null;this.project=e}getKeyValue(e){return e instanceof $c?e.value:""}getNodeValue(e){return e instanceof $c?e.value:e instanceof zc?this.analyzeDocument(e.items):e instanceof xl?this.analyzeDocument(e.items):""}getScalarRuntimeType(e){return parseFloat(e).toString()==e||parseInt(e).toString()==e?"number":"string"}analyzeDocument(e){let n=new Er(this.project);return e.forEach(r=>{if(r instanceof QR){let i=this.getKeyValue(r.key),s=this.getNodeValue(r.value);if(r.value instanceof $c)n.addVariable({dataType:this.getScalarRuntimeType(s),introducedBy:null,name:i,sourceField:null,sourceName:"*frontmatter"});else if(r.value instanceof xl&&r.key instanceof $c){let o=new Er(this.project);r.value.items.forEach(l=>{let u=this.getNodeValue(l);o.addVariable({dataType:this.getScalarRuntimeType(u),introducedBy:null,name:l.value,sourceField:null,sourceName:"*frontmatter"})}),n.addScopeList(r.key.value,o)}else n.addScopeList(i,s)}}),n}parse(e){try{let n=XR.parseDocument(e);n.contents instanceof zc&&(this.documentScope=this.analyzeDocument(n.contents.items))}catch{this.documentScope=null}}hasScope(){return this.documentScope!=null}getScope(){return this.documentScope}}});var ET,ZR=E(()=>{nt();cT();Ad();ET=class{constructor(e){this.doc=e}getAncestors(e){return Ga.findAncestorsBeforePosition(e,this.doc.getAllAntlersNodes())}getNodeAt(e){return Ft.findNodeAtPosition(e,this.doc.getDocumentParser().getNodes())}getNodesBefore(e){return Ft.findNodesBeforePosition(e,this.doc.getDocumentParser().getNodes())}getNodeBefore(e){return Ft.findNodeBeforePosition(e,this.doc.getDocumentParser().getNodes())}getNodeAfter(e){return Ft.findNodeAfterPosition(e,this.doc.getDocumentParser().getNodes())}getNodesAfter(e){return Ft.findNodesAfterPosition(e,this.doc.getDocumentParser().getNodes())}getIsWithinPairedNode(e){let n=this.getNodeBefore(e);return n==null?!1:Ga.isPairedNode(n)}filter(e){return this.doc.getDocumentParser().getNodes().filter(e)}getComments(){let e=[];return this.doc.getAllNodes().forEach(n=>{n instanceof Z&&n.isComment&&e.push(n)}),e}getMultilineNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{var r,i;n instanceof Z&&!n.isComment&&((r=n.startPosition)==null?void 0:r.line)!=((i=n.endPosition)==null?void 0:i.line)&&e.push(n)}),e}getMultiLineComments(){let e=[];return this.getComments().forEach(n=>{var r,i;((r=n.startPosition)==null?void 0:r.line)!=((i=n.endPosition)==null?void 0:i.line)&&e.push(n)}),e}getAllLiteralNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof Et||n instanceof Nn)&&e.push(n)}),e}getStructuralNodes(){let e=[];return this.doc.getDocumentParser().getRenderNodes().forEach(n=>{n instanceof Z?e.push(n):n instanceof Fn&&n.logicBranches.length>0&&n.logicBranches.forEach(r=>{if(r.head!=null){let i=r.head;i.originalNode!=null?e.push(i.originalNode):e.push(i)}})}),e}getAllRuntimeNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof _r||n instanceof Z)&&n.runtimeNodes.length>0&&n.runtimeNodes.forEach(r=>{e.push(r)})}),e}getAllParameterNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof _r||n instanceof Z)&&n.hasParameters&&n.parameters.forEach(r=>{e.push(r)})}),e}getAssignmentNodes(){return Ft.findAssignmentNodes(this.getAllRuntimeNodes())}}});var RT,ek=E(()=>{nt();RT=class{constructor(e){this.doc=e}getAllSelfClosingNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{n instanceof Z&&n.isSelfClosing&&e.push(n)}),e}getAllPairedNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof Z||n instanceof xt)&&n.isClosedBy!=null&&!n.isSelfClosing&&e.push(n)}),e}}});var zd,tk=E(()=>{Sn();zd=class{static printComment(e,n,r){let i=e.getContent(),s=i.trim();if(s.includes(`
`)){let o=te.breakByNewLine(i.trim()),l=[];o.forEach(h=>{l.push(" ".repeat(n+r)+h.trim())});let u=l.join(`
`),d=`{{#
`;return d+=u,d+=`
`+" ".repeat(r)+"#}}",d}return"{{# "+s+" #}}"}}});var Xa,nk=E(()=>{Sn();Xa=class{static indentRelative(e,n){let r=te.breakByNewLine(e),i=[];for(let l=0;l<r.length;l++)if(r[l].trim().length>0){i=r.slice(l);break}for(let l=i.length-1;l>=0&&i[l].trim().length==0;l--)i.pop();let s=-1,o="";for(let l=0;l<i.length;l++){let u=i[l],d=u.trimLeft(),h=u.length-d.length;(l==0||h<s)&&(s=h,o=u)}if(s>=0){let l=" ".repeat(n);for(let u=0;u<i.length;u++){let d=i[u];if(d.trim().length==0){i[u]="";continue}let h=d.substring(s);if(u==0){i[u]=d.trimLeft();continue}else i[u]=l+h.trimLeft()}}return i.join(`
`)}static shiftIndent(e,n,r=!1,i=4,s=!0){n<0&&(n=0);let o=te.breakByNewLine(e.trim()),l=[];for(let d=0;d<o.length;d++){if(d==0&&r){l.push(o[d]);continue}let h=o[d];l.push(" ".repeat(n)+h)}let u=l.join(`
`);if(s&&l.length>0&&n-i>i&&l[l.length-1].trim()==") }}"){o=te.breakByNewLine(u.trim()),l=[];for(let d=0;d<o.length;d++){if(d==0&&r){l.push(o[d]);continue}let h=o[d];if(d==o.length-1){l.push(h);break}l.push(" ".repeat(i)+h)}u=l.join(`
`)}return u}static shiftClean(e,n){let r=te.breakByNewLine(e),i=[],s=" ".repeat(n),o=!1;return r.forEach(l=>{l.trim().length>0&&(o=!0),!!o&&i.push(s+l)}),i.join(`
`)}static inferIndentLevel(e,n,r){let i=0,s=-1;for(let o=0;o<e.length;o++){let l=e[o];if(l.includes(n)){let u=l.trimLeft();i=l.length-u.length,s=o;break}}if(s>0)for(let o=s-1;o>=0;o--){let l=e[o],u=l.trim(),d=l.trimLeft(),h=l.length-u.length;if(d.length!=0&&h!=i&&h<i){let m=i-h;return{targetLevel:i,referenceLevel:h,sourceTabSize:m}}}return{targetLevel:i,referenceLevel:i,sourceTabSize:r}}static indent(e,n,r){let i=Xa.inferIndentLevel(e,n,r);return" ".repeat(i.targetLevel)}}});var kT,rk=E(()=>{Mi();kT=class{constructor(e,n,r){this.buffer="";this.closeString="";this.relativeIndentSize=0;this.indentSeed=0;this.baseIndent=n,e.isInterpolationNode?(this.buffer="{",this.closeString="}"):(this.buffer="{{ ",e.isSelfClosing?this.closeString=" /}}":this.closeString=" }}"),r!=null&&r.trim().length>0&&(this.buffer+=r+" ")}setIndentSeed(e){return this.indentSeed=e,this}close(){return this.closeString==" }}"?this.buffer.endsWith(" ")?this.buffer+="}}":this.buffer+=this.closeString:this.buffer+=this.closeString,this}appendT(e){return this.buffer.endsWith(" ")&&(this.buffer=this.buffer.trimEnd()),this.buffer+=e,this}appendTS(e,n=!1){return this.buffer.endsWith(" ")&&(this.buffer=this.buffer.trimEnd()),this.buffer.endsWith("{")&&!n&&(e=e.trimStart()),this.buffer+=e,this}append(e){return this.buffer+=e,this}appendOS(e){return this.buffer.endsWith(" ")==!1&&this.buffer.endsWith("(")==!1&&this.buffer.endsWith("{")==!1&&this.buffer.endsWith("[")==!1&&this.buffer.endsWith(":")==!1&&(this.buffer+=" "),this.append(e)}appendS(e){let n="";return this.buffer.endsWith(" ")==!1&&(n+=" "),n+=e+" ",this.buffer+=n,this}indent(){let e=this.baseIndent;return e==0?e=1:e+=2,this.relativeIndentSize>0&&(e+=this.relativeIndentSize),this.buffer+=" ".repeat(e),this}addIndent(e){return e<=0?this:(this.buffer+=" ".repeat(e),this)}paramS(e){let n=" ";return e.isVariableReference&&(n+=":"),n+=e.name+"="+e.nameDelimiter+e.value+e.nameDelimiter,this.append(n),this}replace(e,n){return this.buffer=Br(this.buffer,e,n),this}relativeIndent(e){let n=this.buffer.split(`
`);if(n.length==0)return this;let r=n[n.length-1].trimEnd();return r.endsWith("(")&&(r=r.slice(0,-1)),r.endsWith(e)==!1?this:(this.relativeIndentSize=r.lastIndexOf(e),this)}newlineIndent(){return this.newLine(),this.indent(),this}newlineNDIndent(){return this.buffer=this.buffer.trimEnd(),this.newLine(),this.indent(),this}newLine(){return this.buffer+=`
`,this}getContent(){return this.buffer}endsWith(e){return this.buffer.endsWith(e)}}});var Qc,ik=E(()=>{Mi();nt();Dc();Ru();rk();Qc=class{static prettyPrintNode(e,n,r,i,s,o){var h,m,y,b,T,x,D;let l=e.getTrueRuntimeNodes(),u=0,d=0;if(l.length>0){let _=new kT(e,r,s);o!=null&&_.setIndentSeed(o);let P=null;for(let S=0;S<l.length;S++){let w=l[S];if(P!=null&&((h=w.endPosition)==null?void 0:h.isBefore(P.startPosition)))continue;let J=!1;if(w instanceof cn?!(w.next instanceof cn)&&w.next!=null&&(!Jt.isOperatorType(w.next)||!Jt.isAssignmentOperator(w.next))&&(!(w.next instanceof vn)&&!(w.next instanceof Ht)&&!w.isSwitchGroupMember&&!Jt.isOperatorType(w.next)&&(J=!0,w.next instanceof xe&&w.next.name=="as"&&(J=!1)),w.next instanceof xn&&(J=!1)):!((m=w.prev)==null?void 0:m.isVirtual)&&((y=w.prev)==null?void 0:y.isVirtualGroupOperatorResolve)&&w.prev.producesVirtualStatementTerminator&&w.next!=null&&(w.prev instanceof xe||_.newlineIndent()),w instanceof xe){if(w.convertedToOperator){if(w.name=="arr")_.appendT(" arr");else if(w.name=="switch"||w.name=="list")if(_.appendTS(" "+w.name,!0),S+1<l.length){if(!(l[S+1]instanceof pn))break;_.append("("),w.name!="list"&&_.relativeIndent(w.name).newLine().indent(),S+=1,P=l[S+1];continue}else break;else if(d+=1,d>1)_.newlineNDIndent().indent().addIndent(6).appendS(w.name);else{if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(w)){_.append(w.name);continue}_.appendS(w.name)}P=w;continue}w.mergeRefName!=null&&w.mergeRefName.trim().length>0&&w.mergeRefName!=w.name?_.append(w.mergeRefName.trim()):w.name=="as"?_.appendOS("as"):_.append(w.name.trim())}else if(w instanceof Ti)if(_.appendTS(" list"),S+1<l.length){if(!(l[S+1]instanceof pn))break;_.append("("),S+=1,P=l[S+1];continue}else break;else if(w instanceof xn)_.appendS("|");else if(w instanceof Ht){if(P!=null&&((b=w.startPosition)==null?void 0:b.isBefore(P.endPosition))||w.next instanceof xe&&w.next.mergeRefName.startsWith(":"))continue;if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(w)){_.endsWith(":")||_.append(":");continue}if(w.prev!=null&&w.next!=null&&vt.distance(w.prev,w)<=1&&vt.distance(w.next,w)<=1){_.append(":"),P=w;continue}if(n.getDocumentParser().getLanguageParser().isActualModifierSeparator(w)){_.append(":"),P=w;continue}if(P instanceof En||P instanceof un){_.append(":"),P=w;continue}_.appendS(":")}else if(w instanceof En)_.append(w.name);else if(w instanceof gi)_.appendS("?");else if(w instanceof Bn){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(w))continue;if(w.isTenaryBranchSeparator){_.appendS(":"),P=w;continue}if(n.getDocumentParser().getLanguageParser().isActualModifierSeparator(w)){_.append(":"),P=w;continue}_.append(":")}else if(w instanceof un)_.append(w.value.trim());else if(w instanceof pn)_.append("(");else if(w instanceof cn)_.append(")");else if(w instanceof Yt){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(w))continue;w.sourceContent!=""?_.appendOS(w.sourceContent):_.appendOS(w.sourceTerminator+w.value+w.sourceTerminator)}else if(w instanceof Xt)w.isSwitchGroupMember?_.append(",").newlineIndent():_.append(", ");else if(w instanceof en){if(P=w,n.getDocumentParser().getLanguageParser().isMergedVariableComponent(w))continue;let Y=(x=(T=w.value)==null?void 0:T.toString())!=null?x:"";w.rawLexContent!=null&&w.rawLexContent.trim().length>0&&(Y=w.rawLexContent.trim()),_.append(Y)}else if(w instanceof vr)_.appendS("=");else if(w instanceof qn)_.appendS("=>");else if(w instanceof yr)_.appendS("+");else if(w instanceof Vn){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(w)){_.append("-");continue}if(w.prev!=null&&w.next!=null&&vt.distance(w.prev,w)<=1&&vt.distance(w.next,w)<=1){w.next instanceof en&&w.prev instanceof en?_.appendS("-"):_.append("-"),P=w;continue}_.appendS("-")}else if(w instanceof Nr)_.appendS("*");else if(w instanceof br){if(P=w,(D=w.startPosition)==null?void 0:D.isBefore(e.nameEndsOn)){_.append("/");continue}if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(w))continue;_.appendS("/");continue}else w instanceof vn?w.isListGroupMember?(_.append(";").newlineIndent().indent().addIndent(7),S+1<l.length&&!(l[S+1]instanceof cn)&&_.indent()):(u+=1,u<i.maxAntlersStatementsPerLine?_.appendT("; "):(_.appendT(";").newlineIndent(),u=0)):w instanceof In?w.content=="not"?_.appendS("not"):_.append("!"):_.appendS(w.rawContent());J&&_.newlineIndent(),P=w}e.hasParameters&&e.parameters.forEach(S=>{_.paramS(S)}),_.close();let v=_.getContent();return e.processedInterpolationRegions.size>0&&e.processedInterpolationRegions.forEach((S,w)=>{let J=Qc.prettyPrintNode(S[0],n,r,i,null,null);v=Br(v,w,J)}),v}return e.getTrueRawContent()}}});var Xc,sk=E(()=>{Mi();_o();nt();Sn();Ma();tk();nk();ik();Xc=class{constructor(e){this.htmlFormatter=null;this.yamlFormatter=null;this.phpFormatter=null;this.slugs=[];this.removeLines=[];this.virtualStructureOpens=[];this.virtualStructureClose=[];this.structureLines=[];this.parentTransformer=null;this.tagPairs=new Map;this.conditions=[];this.inlineIfs=new Map;this.createExraStructuralPairs=!1;this.spanNodes=new Map;this.inlineNodes=new Map;this.virtualBlocks=[];this.inlineComments=new Map;this.blockComments=[];this.extractedEmbeddedDocuments=new Map;this.dynamicElementAntlers=new Map;this.dynamicElementAntlersNodes=new Map;this.dynamicElementPairedAntlers=new Map;this.dynamicElementPairedAntlersNodes=new Map;this.dynamicElementConditionAntlers=new Map;this.dynamicElementConditionAntlersNodes=new Map;this.noParses=new Map;this.forceBreaks=[];this.forceCleanLines=["{{ if ","{{ /if","{{ /unless","{{ /noparse","{{ else","{{ unless"];this.doc=e,this.options={tabSize:4,newlinesAfterFrontMatter:1,maxAntlersStatementsPerLine:3,endNewline:!0}}produceExtraStructuralPairs(e){return this.createExraStructuralPairs=e,this}withHtmlFormatter(e){return this.htmlFormatter=e,this}withYamlFormatter(e){return this.yamlFormatter=e,this}withPhpFormatter(e){return this.phpFormatter=e,this}withOptions(e){return this.options=e,this.options.tabSize<=0&&(this.options.tabSize=4),this.options.newlinesAfterFrontMatter<0&&(this.options.newlinesAfterFrontMatter=1),this}setParentTransformer(e){return this.parentTransformer=e,this}close(e){return"</"+e+">"}open(e){return"<"+e+">"}selfClosing(e){return"<"+e+" />"}pair(e,n=""){return"<"+e+">"+n+"</"+e+">"}makeSlug(e){e<=2&&(e=7);let n="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=r.length;for(let o=0;o<e-1;o++)n+=r.charAt(Math.floor(Math.random()*i));let s="A"+n+"A";return this.slugs.includes(s)?this.makeSlug(e+1):(this.slugs.push(s),s)}transformInlineConditions(e){let n=e;return this.inlineIfs.forEach((r,i)=>{n=n.replace(i,r.nodeContent)}),n}registerCondition(e){this.parentTransformer!=null?this.parentTransformer.registerCondition(e):this.conditions.push(e)}registerInlineCondition(e,n){this.parentTransformer!=null?this.parentTransformer.registerInlineCondition(e,n):this.inlineIfs.set(e,n)}registerVirtualBlock(e){this.parentTransformer!=null?this.parentTransformer.registerVirtualBlock(e):this.virtualBlocks.push(e)}registerNoParse(e,n){this.parentTransformer!=null?this.parentTransformer.registerNoParse(e,n):this.noParses.set(e,n)}prepareNoParse(e){let n=this.makeSlug(35);return this.registerNoParse(n,e),n}registerForcedBreak(){if(this.parentTransformer!=null)return this.parentTransformer.registerForcedBreak();{let e=this.makeSlug(15),n=this.makeSlug(10);return this.forceBreaks.push(e),this.forceBreaks.push(n),this.removeLines.push(this.open(e)),this.removeLines.push(this.close(e)),this.removeLines.push(this.selfClosing(n)),this.pair(e,this.selfClosing(n))}}transformVirtualStructures(e){let n=e;return this.virtualBlocks.forEach(r=>{var s;this.removeLines.push(r.pairClose);let i=this.indentLevel(r.pairOpen);if(r.virtualElement.length>0&&(this.removeLines.push(this.open(r.virtualElement)),this.removeLines.push(this.close(r.virtualElement))),r.node instanceof Nn){let o="{{ noparse }}"+r.node.getInnerDocumentText();n=n.replace(r.pairOpen,o)}if(r.node instanceof Z){let o=r.node;n=n.replace(r.pairClose,(s=o.isClosedBy)==null?void 0:s.getOriginalContent())}else this.removeLines.push(r.pairClose)}),this.noParses.forEach((r,i)=>{n=n.replace(i,`{{ noparse }}${r.getInnerDocumentText()}{{ /noparse }}`)}),n}printNode(e,n=null){var u,d;let r=e.getTrueNode();if((r.rawStart=="{{?"||r.rawStart=="{{$")&&this.phpFormatter!=null)try{let h=this.phpFormatter(r.content);return`${r.rawStart} ${h} ${r.rawEnd}`}catch{}let i=this.doc;e.childDocument!=null&&(i=e.childDocument.document);let s=null;if(Tr.isConditionalStructure(e)&&(s=r.runtimeName(),e.isClosingTag&&(s=="if"||s=="unless")))return`{{ /${s} }}`;if(e.isClosingTag)return r.runtimeName()=="endunless"?"{{ /unless }}":`{{ ${r.content.trim()} }}`;let o=Qc.prettyPrintNode(r,i,0,this.options,s,null),l=["switch","list"];return n!=null&&o.includes(`
`)&&(e.isVirtual&&(((u=e.name)==null?void 0:u.name)=="switch"||((d=e.name)==null?void 0:d.name)=="list")?o=Xa.shiftIndent(o,n+this.options.tabSize,!0):o=Xa.shiftIndent(o,n-this.options.tabSize*2,!0)),o}transformConditions(e){let n=e;return this.conditions.forEach(r=>{r.structures.forEach(i=>{let s=i.branch.head;if(i.virtualBreakOpen.length>0&&this.removeLines.push(i.virtualBreakOpen),i.virtualBreakClose.length>0&&(n=n.replace(i.virtualBreakClose,i.virtualBreakClose+`
`),this.removeLines.push(i.virtualBreakClose)),this.virtualStructureOpens.push(i.virtualOpen),this.removeLines.push(i.virtualOpen),this.removeLines.push(i.virtualClose),i.isLast){let o=this.selfClosing(i.virtualSlug);n.includes(o)&&(n=n.replace(o,i.doc.trim())),n=n.replace(i.pairOpen,this.printNode(s,this.indentLevel(i.pairOpen))),n=n.replace(i.pairClose,this.printNode(s.isClosedBy))}else{let o=this.selfClosing(i.virtualSlug);n.includes(o)&&(n=n.replace(o,i.doc.trim())),this.removeLines.push(i.pairClose),n=n.replace(i.pairOpen,this.printNode(s,this.indentLevel(i.pairOpen)))}})}),n}transformExtractedDocuments(e){let n=e;return this.extractedEmbeddedDocuments.forEach((r,i)=>{let s="",o=0;r.isScript?s="//"+i:s="/*"+i+"*/",o=this.indentLevel(s),n.includes(s)&&(n=n.replace(s,Xa.indentRelative(r.content,o)))}),n}getAntlersChildDoc(e){return e.childDocument!=null?e.childDocument.document.transform().setParentTransformer(this).toStructure():this.clone().toStructure(e.getImmediateChildren())}prepareCondition(e){let n=e.logicBranches[0].head;if(n.fragmentPosition==2||n.fragmentPosition==1){let u=this.makeSlug(e.nodeContent.length);return this.registerInlineCondition(u,e),u}if(n.fragmentPosition==0)return this.prepareDynamicCondition(e);let r=[],i="";n.prev instanceof Z&&n.prev.isInlineAntlers&&(i+=this.registerForcedBreak()),e.logicBranches.forEach((u,d)=>{var x,D,_,P;let h=u.head,m=this.getAntlersChildDoc(u),y=this.makeSlug(h.sourceContent.length),b=this.makeSlug(10),T={branch:u,slug:y,doc:m,pairOpen:this.open(y),pairClose:this.close(y),virtualOpen:this.open(b),virtualClose:this.close(b),virtualSlug:b,isFirst:d==0,isLast:d==e.logicBranches.length-1,virtualBreakClose:"",virtualBreakOpen:""};if(((D=(x=u.head)==null?void 0:x.name)==null?void 0:D.getCompoundTagName())=="else"){i+=`
`+T.pairOpen;let v=this.makeSlug(25);this.createExraStructuralPairs&&u.head.containsChildStructures==!1&&u.head.containsAnyFragments==!1?(T.virtualBreakOpen=this.open(v),T.virtualBreakClose=this.close(v),T.virtualSlug=v,i+=`
`+this.selfClosing(v),i+=T.pairClose+`
`):(T.virtualBreakOpen=this.selfClosing(v),i+=T.virtualBreakOpen+`
`,i+=m,i+=`
`+T.pairClose)}else if(this.createExraStructuralPairs&&((_=u.head)==null?void 0:_.containsAnyFragments)==!1&&((P=u.head)==null?void 0:P.containsChildStructures)==!1){let v=this.makeSlug(25);T.virtualBreakOpen=this.open(v),T.virtualBreakClose=this.close(v),T.virtualSlug=v,i+=`
`+T.pairOpen,i+=`
`+this.selfClosing(v),i+=T.pairClose+`
`}else i+=T.pairOpen,i+=`
`,i+=m,i+=`
`,i+=T.pairClose;r.push(T)});let s=r[0].pairOpen,o=r[r.length-1].pairClose,l={pairOpen:s,pairClose:o,structures:r,condition:e};return this.registerCondition(l),i}registerPairedAntlers(e,n){this.parentTransformer!=null?this.parentTransformer.registerPairedAntlers(e,n):this.tagPairs.set(e,n)}preparePairedAntlers(e){let n=this.makeSlug(e.getOriginalContent().length),r=this.getAntlersChildDoc(e);if(e.fragmentPosition!=0){let i="",s="";if(e.prev instanceof Z&&e.prev.isPaired()==!1&&(s+=this.registerForcedBreak()),s+=`${this.open(n)}
`,e.containsChildStructures==!1&&e.containsAnyFragments==!1){let o=!1,l=!0,u=!0,d=0;for(let m=0;m<e.children.length;m++){let y=e.children[m];if(y instanceof Et&&y.sourceContent.trim().length>0){o=!0,l=!1;break}}e.children.length==2&&e.children[0]instanceof Z&&(o=!0);let h=0;for(let m=0;m<e.children.length-1;m++){let y=e.children[m];y instanceof Z&&(d+=1,y.isInlineAntlers?h+=1:u=!1)}h==0&&(o=!0),u==!1&&(o=!1),l==!1&&d==0&&(o=!1),o?(i=this.makeSlug(15),s+=this.pair(i,r)):s+=r}else s+=r;return s+=`
${this.close(n)}
`,this.virtualStructureOpens.push(this.open(i)),this.virtualStructureClose.push(this.close(i)),this.virtualStructureClose.push(this.close(n)),this.registerPairedAntlers(n,{innerDoc:r,slug:n,tag:e,virtualElementSlug:i,isInline:!1}),s}return this.prepareConditionalAntlersPair(e)}registerInlineAntlers(e){if(this.parentTransformer!=null)return this.parentTransformer.registerInlineAntlers(e);{let n=this.makeSlug(e.getOriginalContent().length);return e.isInlineAntlers?(this.spanNodes.set(n,e),n):(this.inlineNodes.set(n,e),this.selfClosing(n))}}registerVirtualComment(e){this.parentTransformer!=null?this.parentTransformer.registerVirtualComment(e):this.blockComments.push(e)}registerComment(e,n){this.parentTransformer!=null?this.parentTransformer.registerComment(e,n):this.inlineComments.set(e,n)}prepareComment(e){let n=e.getContent();if(n.trim().includes(`
`)){let s=this.makeSlug(10),o=this.makeSlug(10),l={node:e,pairOpen:this.open(s),pairClose:this.close(s),virtualElement:this.selfClosing(o)};return this.registerVirtualComment(l),l.pairOpen+`
`+l.virtualElement+`
`+l.pairClose}let i=this.makeSlug(n.length);return this.registerComment(i,e),this.selfClosing(i)}registerDynamicAntlersPair(e,n){this.parentTransformer!=null?(this.dynamicElementPairedAntlers.set(n.nodeContent,e),this.parentTransformer.registerDynamicAntlersPair(e,n)):(this.dynamicElementPairedAntlers.set(n.nodeContent,e),this.dynamicElementPairedAntlersNodes.set(e,n))}prepareConditionalAntlersPair(e){if(this.dynamicElementPairedAntlers.has(e.nodeContent))return this.dynamicElementPairedAntlers.get(e.nodeContent);let n=this.makeSlug(e.nodeContent.length);return this.registerDynamicAntlersPair(n,e),n}registerDynamicCondition(e,n){this.parentTransformer!=null?(this.dynamicElementConditionAntlers.set(n.nodeContent,e),this.parentTransformer.registerDynamicCondition(e,n)):(this.dynamicElementConditionAntlers.set(n.nodeContent,e),this.dynamicElementConditionAntlersNodes.set(e,n))}prepareDynamicCondition(e){if(this.dynamicElementConditionAntlers.has(e.nodeContent))return this.dynamicElementConditionAntlers.get(e.nodeContent);let n=this.makeSlug(e.nodeContent.length);return this.registerDynamicCondition(n,e),n}registerDynamicAntlers(e,n){this.parentTransformer!=null?(this.dynamicElementAntlers.set(n.content,e),this.parentTransformer.registerDynamicAntlers(e,n)):(this.dynamicElementAntlers.set(n.content,e),this.dynamicElementAntlersNodes.set(e,n))}prepareConditionalAntlers(e){if(this.dynamicElementAntlers.has(e.content))return this.dynamicElementAntlers.get(e.content);let n=this.makeSlug(e.content.length);return this.registerDynamicAntlers(n,e),n}prepareAntlers(e){return e.isClosedBy!=null?this.preparePairedAntlers(e):e.fragmentPosition==0?this.prepareConditionalAntlers(e):this.registerInlineAntlers(e)}transformDynamicAntlers(e){let n=e;return this.dynamicElementAntlersNodes.forEach((r,i)=>{let s=this.printNode(r);n=Br(n,i,s)}),this.dynamicElementPairedAntlersNodes.forEach((r,i)=>{let s=r.nodeContent;n=Br(n,i,s)}),this.dynamicElementConditionAntlersNodes.forEach((r,i)=>{let s=r.nodeContent;n=Br(n,i,s)}),n}transformPairedAntlers(e){let n=e;return this.tagPairs.forEach((r,i)=>{let s=r.tag;if(r.virtualElementSlug.length>0){let u=this.open(r.virtualElementSlug),d=this.close(r.virtualElementSlug);this.virtualStructureOpens.push(u),this.removeLines.push(u),this.removeLines.push(d)}let o=this.open(i),l=this.close(i);n=n.replace(o,this.printNode(s,this.indentLevel(o))),n=n.replace(l,this.printNode(s.isClosedBy))}),n}transformInlineAntlers(e){let n=e;return this.inlineNodes.forEach((r,i)=>{let s=this.selfClosing(i),o=this.indentLevel(s);n=n.replace(s,this.printNode(r,this.indentLevel(s)))}),this.spanNodes.forEach((r,i)=>{var o,l;let s=0;r.isVirtual&&(((o=r.name)==null?void 0:o.name)=="switch"||((l=r.name)==null?void 0:l.name)=="list")&&(s=this.indentLevel(i,!0)),n=n.replace(i,this.printNode(r,s))}),n}transformComments(e){let n=e;return this.inlineComments.forEach((r,i)=>{let s=this.selfClosing(i);n=n.replace(s,zd.printComment(r,this.options.tabSize,0))}),this.blockComments.forEach(r=>{let i=r.node;n=n.replace(r.pairOpen,zd.printComment(i,this.options.tabSize,this.indentLevel(r.pairOpen))),this.removeLines.push(r.pairClose),this.removeLines.push(r.virtualElement)}),n}registerEmbeddedDocument(e,n,r){return this.parentTransformer!=null?this.parentTransformer.registerEmbeddedDocument(e,n,r):(this.extractedEmbeddedDocuments.set(e,{slug:e,content:n,isScript:r}),e)}clone(){let e=new Xc(this.doc);return e.withOptions(this.options).setParentTransformer(this),e}toStructure(e=null){let n="";e==null&&(e=this.doc.getDocumentParser().getRenderNodes()),e.forEach(i=>{i instanceof Et?i.sourceContent==""?n+=i.content:n+=i.sourceContent:i instanceof Fn?n+=this.prepareCondition(i):i instanceof Nn?n+=this.prepareNoParse(i):i instanceof Z&&(i.isComment?n+=this.prepareComment(i):n+=this.prepareAntlers(i))});let r=this.doc.getDocumentParser().getFragmentsContainingStructures();if(r.length>0){let i=new Tn;i.loadString(n),r.forEach(s=>{var b,T,x,D,_,P,v,S;let o=this.doc.getDocumentParser().getText(((T=(b=s.start.endPosition)==null?void 0:b.offset)!=null?T:0)+1,(D=(x=s.end.startPosition)==null?void 0:x.offset)!=null?D:0),l=i.getDocumentParser().getFragmentsParser().getEmbeddedFragment(s.start.embeddedIndex);if(l==null)return;let u=i.getDocumentParser().getFragmentsParser().getClosingFragmentAfter(l);if(u==null)return;let d=i.getDocumentParser().getText(((P=(_=l.endPosition)==null?void 0:_.offset)!=null?P:0)+1,(S=(v=u==null?void 0:u.startPosition)==null?void 0:v.offset)!=null?S:0),h=this.makeSlug(16),m=s.start.name.toLowerCase()=="script",y=h;m?y="//"+h:y="/*"+h+"*/",n=n.replace(d,y),this.registerEmbeddedDocument(h,o,m)})}return n}removeVirtualStructures(e){let n=e;return this.removeLines.forEach(r=>{n=n.replace(r,"")}),n}indentLevel(e,n=!1){for(let r=0;r<this.structureLines.length;r++){let i=this.structureLines[r];if(i.includes(e)){let s=i.trimLeft(),o=i.length-s.length;return n&&(o+=i.indexOf(e)),o}}return 0}shouldCleanAfter(e){for(let n=0;n<this.removeLines.length;n++)if(e.startsWith(this.removeLines[n]))return!0;for(let n=0;n<this.forceCleanLines.length;n++)if(e.startsWith(this.forceCleanLines[n]))return!0;return!1}shouldCleanLine(e){for(let n=0;n<this.forceCleanLines.length;n++){let r=e.trim();if(e.startsWith(this.forceCleanLines[n])||r.startsWith("{{ /")&&r.endsWith("}}"))return!0}return!1}cleanVirtualStructures(e){let n=[],r=te.breakByNewLine(e),i=!1;for(let s=0;s<r.length;s++){let o=r[s].trim();if(i){if(o.length==0)continue;i=!1}else i=this.shouldCleanAfter(o);if(this.shouldCleanLine(o))for(let l=n.length-1;l>0&&n[l].trim().length==0;l--)n.pop();if(!this.removeLines.includes(o)){let l=r[s];this.removeLines.forEach(u=>{l.includes(u)&&(l=l.replace(u,""))}),n.push(l)}}return n.join(`
`)}cleanStructuralNewLines(e){let n=te.breakByNewLine(e),r=[],i=!1;return n.forEach(s=>{let o=s.trim();if(o.startsWith("{{")&&o.endsWith("}}")){r.push(s),i=!0;return}i&&o.length>0&&(i=!1),i||r.push(s)}),r.join(`
`)}reflowSlugs(e){let n=e;return this.slugs.forEach(r=>{let i=this.open(r),s=this.close(r),o=this.selfClosing(r),l="/<"+r+"(.*?)>/gms",u="/</"+r+"(.*?)>/gms",d="/<"+r+"(.*?)/>/gms";n=n.replace(l,i),n=n.replace(u,s),n=n.replace(d,o)}),n}cleanLines(e){let n=te.breakByNewLine(e),r=[],i=!1,s=0,o=!1;for(let l=0;l<n.length;l++){let u=n[l].trim(),d=n[l];if(u.startsWith("{{")&&u.endsWith("}}")){i&&(s=0),u.startsWith("{{ /")==!1?o=!0:o=!1,i=!0,r.push(d);continue}if(!i)r.push(d);else if(u.length==0){if(o==!1){s=0,i=!1;continue}s+=1;continue}else o&&s>1&&r.push(""),s=0,r.push(d),i=!1}return r.join(`
`)}fromStructure(e){let n=this.reflowSlugs(e);this.structureLines=te.breakByNewLine(n);let r=this.transformInlineConditions(n);if(r=this.transformConditions(r),r=this.transformInlineAntlers(r),r=this.transformComments(r),r=this.transformVirtualStructures(r),r=this.transformDynamicAntlers(r),r=this.transformPairedAntlers(r),r=this.transformExtractedDocuments(r),r=this.cleanVirtualStructures(r),r=this.cleanLines(r),this.doc.hasFrontMatter()){let i=this.doc.getFrontMatter(),s=this.doc.getFrontMatterDoc();s!=null&&s.isValid&&this.yamlFormatter!=null&&(i=this.yamlFormatter(i)),r=`---
${i}
---
`+`
`.repeat(this.options.newlinesAfterFrontMatter)+r.trimLeft()}return r=r.trimRight(),this.options.endNewline&&(r+=`
`),r}}});var ak,OT,ok=E(()=>{ak=Ge(AT());ST();$l();Sn();OT=class{constructor(){this.content="";this.ranges=[];this.lastDocumentOffsetKey=null;this.documentOffsets=new Map;this.lineIndex=new Map;this.keys=[];this.values=[];this.isValid=!1;this.parseError=null}loadString(e){var h;this.content=te.normalizeLineEndings(e);let n=null;try{n=ak.parseDocument(this.content),this.isValid=!0}catch(m){this.isValid=!1,this.parseError=m}if(n==null)return;let r=[...this.content.matchAll(/(\n)/gm)],i=r.length,s=2,o=null,l=0,u=0;for(let m=0;m<i;m++){let y=r[m],b=(h=y.index)!=null?h:0,T=b;o!=null?T=b-o:T=T+1,this.documentOffsets.set(b,{char:T,line:s});let x=0,D=0;m==0?(D=T-1,x=0):(x=u+1,D=b),this.lineIndex.set(s,{char:T,line:s,startIndex:x,endIndex:D}),this.lastDocumentOffsetKey=b,s+=1,o=b,u=D,l=x}let d=n.contents;this.processMap(d)}processMap(e){typeof e.items!="undefined"&&e.items.forEach(n=>{this.processItem(n)})}processItem(e){if(e.type=="PAIR"){if(e.value instanceof zc||e.value instanceof xl){let s=e.key;if(s.range!=null){let o=this.positionFromOffset(s.range[0],s.range[0]),l=this.positionFromOffset(s.range[1],s.range[1]);this.ranges.push({start:o,end:l,length:l.char-o.char+1,content:"property"}),this.keys.push({start:o,end:l,length:l.char-o.char+1,content:s.value}),e.value instanceof xl?this.processMap(e.value.items[0]):this.processMap(e.value);return}}let n=e,r=n.key,i=n.value;if(r.range!=null&&i.range!=null){let s=this.positionFromOffset(r.range[0],r.range[0]),o=this.positionFromOffset(r.range[1],r.range[1]),l=this.positionFromOffset(i.range[0],i.range[0]),u=this.positionFromOffset(i.range[1],i.range[1]),d="string";parseInt(i.value)==i.value&&(d="number"),this.ranges.push({start:s,end:o,length:o.char-s.char+1,content:"property"}),this.keys.push({start:s,end:o,length:o.char-s.char+1,content:r.value}),this.ranges.push({start:l,end:u,length:u.char-l.char+1,content:d}),this.values.push({start:l,end:u,length:u.char-l.char+1,content:i.value})}}}positionFromOffset(e,n,r=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let l=this.documentOffsets.get(e);i=l.line,s=l.char}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let l=null,u=null,d=null,h=null;for(let m of this.documentOffsets.keys()){if(m>=e){h!=null&&e>h?(l=d,u=h):(l=this.documentOffsets.get(m),u=m);break}d=this.documentOffsets.get(m),h=m}if(l==null&&(l=d,u=h),l!=null)if(r){let m=this.content.split(""),y=e-(u!=null?u:0),b=l.char-(u!=null?u:0)+e;s=y,i=l.line,e<=(u!=null?u:0)?(i=l.line,s=e+1):i=l.line+1}else{let m=this.content.split(""),y=e-(u!=null?u:0),b=l.char-(u!=null?u:0)+e;s=y,i=l.line,e<=(u!=null?u:0)?(i=l.line,s=e+1):i=l.line+1}else this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let o=new tr;return o.index=n,o.offset=e,o.line=i,o.char=s,o}getRanges(){return this.ranges}getKeys(){return this.keys}getValues(){return this.values}}});var Tn,Ma=E(()=>{yE();wa();Tm();Gp();nt();xi();lT();eR();tR();JR();ZR();ek();sk();ok();Tn=class{constructor(){this.documentParser=new H;this.transformer=null;this.ranges=new RT(this);this.nodes=new ET(this);this.cursor=new uT(this);this.errors=new fT(this);this.project=null;this.documentUri=""}static fromText(e,n){let r=new Tn;return typeof n!="undefined"&&(r.project=n),r.loadString(e)}static childFromText(e,n=null){let r=new Tn;return n!=null&&r.getDocumentParser().setSeedPosition(n),r.getDocumentParser().withChildDocuments(!0),r.loadString(e),{renderNodes:r.getDocumentParser().getRenderNodes(),content:e,document:r}}isValid(){return!(this.hasInvalidControlFlowStructures()||this.hasUnclosedStructures())}getDocumentOptions(){let e=this.getAllNodes();if(e.length==0||!(e[0]instanceof Z))return null;let n=e[0];return n.isComment==!1?null:Kl(this.documentUri,n)}isFormattingEnabled(){let e=this.getDocumentOptions();return e==null?!0:e.formatterEnabled}hasInvalidControlFlowStructures(){return this.documentParser.hasUnclosedIfStructures()}hasUnclosedStructures(){return this.documentParser.hasUnclosedStructures()}getFrontMatterDoc(){if(this.hasFrontMatter()){let e=new OT;return e.loadString(this.getFrontMatter()),e}return null}hasFrontMatter(){return this.documentParser.getFrontMatter().trim().length>0}getFrontMatter(){return this.documentParser.getFrontMatter()}getFrontMatterScope(){if(this.project==null)return null;let e=new xT(this.project);return e.parse(this.getFrontMatter()),e.getScope()}updateProject(e){this.project=e,this.updateProjectDetails()}updateProjectDetails(){try{if(this.project!=null){let e=new Bg(this.project,this.documentUri,this),n=this.documentParser.antlersNodes();n.forEach(r=>{var i,s;if(this.project!=null&&((i=Hn.instance)==null?void 0:i.canResolveSpecialTypes(r.getTagName()))){let o=(s=Hn.instance)==null?void 0:s.resolveSpecialType(r.getTagName(),r,this.project);o.context!=null&&(r.reference=o.context)}}),e.analyzeScope(n);for(let r=0;r<n.length;r++){let i=n[r];if(i.hasParameters)for(let s=0;s<i.parameters.length;s++){let o=i.parameters[s];if(o.hasInterpolations())for(let l=0;l<o.interpolations.length;l++){let u=o.interpolations[l];i.processedInterpolationRegions.has(u)&&i.processedInterpolationRegions.get(u).forEach(h=>{h instanceof Z&&(h.currentScope=i.currentScope)})}}}RP(this)}}catch(e){console.log(e)}}loadString(e){return this.documentParser.parse(e),this.updateProjectDetails(),this}getDocumentParser(){return this.documentParser}getParsedContent(){return this.documentParser.getParsedContent()}getAllNodes(){return this.documentParser.getNodes()}getAllAntlersNodes(){return this.documentParser.antlersNodes()}extractText(){let e=[];return this.nodes.getAllLiteralNodes().forEach(n=>{e.push(n.content)}),e.join("")}getNameAt(e){let n=this.nodes.getNodeAt(e);return n instanceof Z?n.name:null}getLinesAround(e){return this.documentParser.getLinesAround(e)}getContent(){return this.documentParser.getContent()}getOriginalContent(){return this.documentParser.getOriginalContent()}getFeaturesAt(e){let n=this.nodes.getNodeAt(e);return ys.resolveContext(e,n,this,!1,n)}getText(e,n){return this.documentParser.getText(e,n)}charLeftAt(e){return this.documentParser.charLeftAt(e)}charAt(e){return this.documentParser.charAt(e)}charRightAt(e){return this.documentParser.charRightAt(e)}getLineIndex(e){return this.documentParser.getLineIndex(e)}getLineText(e){return this.documentParser.getLineText(e)}wordAt(e,n=4){return this.documentParser.wordAt(e,n)}wordLeftAt(e,n=4){return this.documentParser.wordLeftAt(e,n)}wordRightAt(e,n=4){return this.documentParser.wordRightAt(e,n)}punctuationLeftAt(e,n=4){return this.documentParser.punctuationLeftAt(e,n)}punctuationRightAt(e,n=4){return this.documentParser.punctuationRightAt(e,n)}getLineChars(e){let n=this.getLineText(e);return n!=null?n.split(""):null}transform(){return this.transformer==null&&(this.transformer=new Xc(this)),this.transformer}}});var tj,lk,ck=E(()=>{Li();Di();nt();tj={checkNode(t){var i;let e=[];if(t.isClosedBy==null||t.parent==null||!(t.parent instanceof Z))return e;let n=t.parent;if(n.isClosedBy==null)return e;let r=t.runtimeName();return r=="if"||r=="if:index"||r=="else"||r=="else:index"||r=="elseif"||r=="elseif:index"||r=="elseunless"||r=="elseunless:index"||((i=n.isClosedBy.startPosition)==null?void 0:i.isBefore(t.isClosedBy.endPosition))&&(e.push(X.makeSyntaxError(O.LINT_INTERLEAVED_TAG_PAIRS,t,"Closing tag cannot appear after parent closing tag.")),e.push(X.makeSyntaxError(O.LINT_INTERLEAVED_TAG_PAIRS,t.isClosedBy,"Closing tag cannot appear after parent closing tag."))),e}},lk=tj});var wT,uk=E(()=>{ck();Ma();wT=class{constructor(){this.htmlFormatter=null;this.yamlFormatter=null;this.phpFormatter=null;this.preFormatter=null;this.transformOptions=null;this.createExtraVirtualStructures=!1}withTransformOptions(e){return this.transformOptions=e,this}withPreFormatter(e){return this.preFormatter=e,this}withHtmlFormatter(e){return this.htmlFormatter=e,this}withYamlFormatter(e){return this.yamlFormatter=e,this}withPhpFormatter(e){return this.phpFormatter=e,this}formatText(e,n){let r=new Tn;return r.getDocumentParser().withChildDocuments(!0),r.loadString(e),this.formatDocument(r,n)}formatDocument(e,n){if(!e.isFormattingEnabled())return e.getOriginalContent();if(this.preFormatter!=null){let o=this.preFormatter(e);if(o!=null)return o}let r=e.getAllAntlersNodes();for(let o=0;o<r.length;o++)if(lk.checkNode(r[o],n).length>0)return e.getOriginalContent();if(this.htmlFormatter==null||e.isValid()==!1)return e.getOriginalContent();e.transform().produceExtraStructuralPairs(this.createExtraVirtualStructures).withHtmlFormatter(this.htmlFormatter).withPhpFormatter(this.phpFormatter).withYamlFormatter(this.yamlFormatter),this.transformOptions!=null&&e.transform().withOptions(this.transformOptions);let i=e.transform().toStructure(),s=this.htmlFormatter(i);return e.transform().fromStructure(s)}}});var dk=_e((Qd,fk)=>{(function(t,e){typeof Qd=="object"&&typeof fk!="undefined"?e(Qd,require("prettier/standalone")):typeof define=="function"&&define.amd?define(["exports","prettier/standalone"],e):e(((t=typeof globalThis!="undefined"?globalThis:t||self).prettierPlugins=t.prettierPlugins||{},t.prettierPlugins.php={}),t.prettier)})(Qd,function(t,e){"use strict";function n(a){return a&&typeof a=="object"&&"default"in a?a:{default:a}}var r=n(e),i={matchST_ATTRIBUTE:function(){var a=0,c=this.input();if(this.is_WHITESPACE()){do c=this.input();while(this.is_WHITESPACE());return this.unput(1),null}switch(c){case"]":return a===0?this.popState():a--,"]";case"(":case")":case":":case"=":return this.consume_TOKEN();case"[":return a++,"[";case",":return",";case'"':return this.ST_DOUBLE_QUOTES();case"'":return this.T_CONSTANT_ENCAPSED_STRING();case"/":if(this._input[this.offset]==="/")return this.T_COMMENT();if(this._input[this.offset]==="*")return this.input(),this.T_DOC_COMMENT()}if(this.is_LABEL_START()||c==="\\"){for(;this.offset<this.size;){var f=this.input();if(!this.is_LABEL()&&f!=="\\"){f&&this.unput(1);break}}return this.tok.T_STRING}if(this.is_NUM())return this.consume_NUM();throw new Error('Bad terminal sequence "'.concat(c,'" at line ').concat(this.yylineno," (offset ").concat(this.offset,")"))}};i.matchST_ATTRIBUTE;var s={T_COMMENT:function(){for(;this.offset<this.size;){var a=this.input();if(a===`
`||a==="\r")return this.tok.T_COMMENT;if(a==="?"&&!this.aspTagMode&&this._input[this.offset]===">")return this.unput(1),this.tok.T_COMMENT;if(a==="%"&&this.aspTagMode&&this._input[this.offset]===">")return this.unput(1),this.tok.T_COMMENT}return this.tok.T_COMMENT},T_DOC_COMMENT:function(){var a=this.input(),c=this.tok.T_COMMENT;if(a==="*"){if(a=this.input(),this.is_WHITESPACE()&&(c=this.tok.T_DOC_COMMENT),a==="/")return c;this.unput(1)}for(;this.offset<this.size;)if((a=this.input())==="*"&&this._input[this.offset]==="/"){this.input();break}return c}};s.T_COMMENT,s.T_DOC_COMMENT;var o={nextINITIAL:function(){return this.conditionStack.length>1&&this.conditionStack[this.conditionStack.length-1]==="INITIAL"?this.popState():this.begin("ST_IN_SCRIPTING"),this},matchINITIAL:function(){for(;this.offset<this.size;){var a=this.input();if(a=="<"){if((a=this.ahead(1))=="?"){if(this.tryMatch("?=")){this.unput(1).appendToken(this.tok.T_OPEN_TAG_WITH_ECHO,3).nextINITIAL();break}if(this.tryMatchCaseless("?php")&&((a=this._input[this.offset+4])===" "||a==="	"||a===`
`||a==="\r")){this.unput(1).appendToken(this.tok.T_OPEN_TAG,6).nextINITIAL();break}if(this.short_tags){this.unput(1).appendToken(this.tok.T_OPEN_TAG,2).nextINITIAL();break}}else if(this.asp_tags&&a=="%"){if(this.tryMatch("%=")){this.aspTagMode=!0,this.unput(1).appendToken(this.tok.T_OPEN_TAG_WITH_ECHO,3).nextINITIAL();break}this.aspTagMode=!0,this.unput(1).appendToken(this.tok.T_OPEN_TAG,2).nextINITIAL();break}}}return this.yytext.length>0&&this.tok.T_INLINE_HTML}};o.nextINITIAL,o.matchINITIAL;var l={consume_NUM:function(){var a=this.yytext[0],c=a===".";if(a==="0")if((a=this.input())==="x"||a==="X"){if((a=this.input())!=="_"&&this.is_HEX())return this.consume_HNUM();this.unput(a?2:1)}else if(a==="b"||a==="B"){if((a=this.input())!=="_"&&a==="0"||a==="1")return this.consume_BNUM();this.unput(a?2:1)}else this.is_NUM()||a&&this.unput(1);for(;this.offset<this.size;){var f=a;if((a=this.input())==="_"){if(f==="_"){this.unput(2);break}if(f==="."){this.unput(1);break}if(f==="e"||f==="E"){this.unput(2);break}}else{if(a==="."){if(c){this.unput(1);break}if(f==="_"){this.unput(2);break}c=!0;continue}if(a==="e"||a==="E"){if(f==="_"){this.unput(1);break}var p=2;if((a=this.input())!=="+"&&a!=="-"||(p=3,a=this.input()),this.is_NUM_START())return this.consume_LNUM(),this.tok.T_DNUMBER;this.unput(a?p:p-1);break}}if(!this.is_NUM()){a&&this.unput(1);break}}return c?this.tok.T_DNUMBER:this.yytext.length<9||this.yytext.length<10||this.yytext.length==10&&this.yytext<"2147483648"?this.tok.T_LNUMBER:this.tok.T_DNUMBER},consume_HNUM:function(){for(;this.offset<this.size;){var a=this.input();if(!this.is_HEX()){a&&this.unput(1);break}}return this.tok.T_LNUMBER},consume_LNUM:function(){for(;this.offset<this.size;){var a=this.input();if(!this.is_NUM()){a&&this.unput(1);break}}return this.tok.T_LNUMBER},consume_BNUM:function(){for(var a;this.offset<this.size;)if((a=this.input())!=="0"&&a!=="1"&&a!=="_"){a&&this.unput(1);break}return this.tok.T_LNUMBER}};l.consume_NUM,l.consume_HNUM,l.consume_LNUM,l.consume_BNUM;var u={matchST_LOOKING_FOR_PROPERTY:function(){var a=this.input();if(a==="-"){if((a=this.input())===">")return this.tok.T_OBJECT_OPERATOR;a&&this.unput(1)}else{if(this.is_WHITESPACE())return this.tok.T_WHITESPACE;if(this.is_LABEL_START())return this.consume_LABEL(),this.popState(),this.tok.T_STRING}return this.popState(),a&&this.unput(1),!1},matchST_LOOKING_FOR_VARNAME:function(){var a=this.input();if(this.popState(),this.begin("ST_IN_SCRIPTING"),this.is_LABEL_START()){if(this.consume_LABEL(),(a=this.input())==="["||a==="}")return this.unput(1),this.tok.T_STRING_VARNAME;this.unput(this.yytext.length)}else a&&this.unput(1);return!1},matchST_VAR_OFFSET:function(){var a=this.input();if(this.is_NUM_START())return this.consume_NUM(),this.tok.T_NUM_STRING;if(a==="]")return this.popState(),"]";if(a==="$"){if(this.input(),this.is_LABEL_START())return this.consume_LABEL(),this.tok.T_VARIABLE;throw new Error("Unexpected terminal")}if(this.is_LABEL_START())return this.consume_LABEL(),this.tok.T_STRING;if(this.is_WHITESPACE()||a==="\\"||a==="'"||a==="#")return this.tok.T_ENCAPSED_AND_WHITESPACE;if(a==="["||a==="{"||a==="}"||a==='"'||a==="`"||this.is_TOKEN())return a;throw new Error("Unexpected terminal")}};u.matchST_LOOKING_FOR_PROPERTY,u.matchST_LOOKING_FOR_VARNAME,u.matchST_VAR_OFFSET;var d={matchST_IN_SCRIPTING:function(){var a=this.input();switch(a){case" ":case"	":case`
`:case"\r":case`\r
`:return this.T_WHITESPACE();case"#":return this._input[this.offset]==="["?(this.input(),this.begin("ST_ATTRIBUTE"),this.tok.T_ATTRIBUTE):this.T_COMMENT();case"/":return this._input[this.offset]==="/"?this.T_COMMENT():this._input[this.offset]==="*"?(this.input(),this.T_DOC_COMMENT()):this.consume_TOKEN();case"'":return this.T_CONSTANT_ENCAPSED_STRING();case'"':return this.ST_DOUBLE_QUOTES();case"`":return this.begin("ST_BACKQUOTE"),"`";case"?":if(!this.aspTagMode&&this.tryMatch(">")){this.input();var c=this._input[this.offset];return c!==`
`&&c!=="\r"||this.input(),this.conditionStack.length>1&&this.begin("INITIAL"),this.tok.T_CLOSE_TAG}return this.consume_TOKEN();case"%":return this.aspTagMode&&this._input[this.offset]===">"?(this.input(),(a=this._input[this.offset])!==`
`&&a!=="\r"||this.input(),this.aspTagMode=!1,this.conditionStack.length>1&&this.begin("INITIAL"),this.tok.T_CLOSE_TAG):this.consume_TOKEN();case"{":return this.begin("ST_IN_SCRIPTING"),"{";case"}":return this.conditionStack.length>2&&this.popState(),"}";default:if(a==="."){if(a=this.input(),this.is_NUM_START())return this.consume_NUM();a&&this.unput(1)}if(this.is_NUM_START())return this.consume_NUM();if(this.is_LABEL_START())return this.consume_LABEL().T_STRING();if(this.is_TOKEN())return this.consume_TOKEN()}throw new Error('Bad terminal sequence "'+a+'" at line '+this.yylineno+" (offset "+this.offset+")")},T_WHITESPACE:function(){for(;this.offset<this.size;){var a=this.input();if(a!==" "&&a!=="	"&&a!==`
`&&a!=="\r"){a&&this.unput(1);break}}return this.tok.T_WHITESPACE}};d.matchST_IN_SCRIPTING,d.T_WHITESPACE;var h=[`
`,"\r"],m=[`
`,"\r",";"],y=m.concat(["	"," ",",","]",")","/","=","!"]),b={T_CONSTANT_ENCAPSED_STRING:function(){for(var a;this.offset<this.size;)if((a=this.input())=="\\")this.input();else if(a=="'")break;return this.tok.T_CONSTANT_ENCAPSED_STRING},is_HEREDOC:function(){var a=this.offset;if(this._input[this.offset-1]==="<"&&this._input[this.offset]==="<"&&this._input[this.offset+1]==="<"){if(this.offset+=3,this.is_TABSPACE())for(;this.offset<this.size&&(this.offset++,this.is_TABSPACE()););var c=this._input[this.offset-1];if(c==="'"||c==='"'?this.offset++:c=null,this.is_LABEL_START()){for(var f=this.offset-1;this.offset<this.size&&(this.offset++,this.is_LABEL()););var p=this._input.substring(f,this.offset-1);if((!c||c===this._input[this.offset-1])&&(c&&this.offset++,h.includes(this._input[this.offset-1])))return this.heredoc_label.label=p,this.heredoc_label.length=p.length,this.heredoc_label.finished=!1,f=this.offset-a,this.offset=a,this.consume(f),c==="'"?this.begin("ST_NOWDOC"):this.begin("ST_HEREDOC"),this.prematch_ENDOFDOC(),this.tok.T_START_HEREDOC}}return this.offset=a,!1},ST_DOUBLE_QUOTES:function(){for(var a;this.offset<this.size;)if((a=this.input())=="\\")this.input();else{if(a=='"')break;if(a=="$"){if((a=this.input())=="{"||this.is_LABEL_START()){this.unput(2);break}a&&this.unput(1)}else if(a=="{"){if((a=this.input())=="$"){this.unput(2);break}a&&this.unput(1)}}if(a=='"')return this.tok.T_CONSTANT_ENCAPSED_STRING;var c=1;return this.yytext[0]!=="b"&&this.yytext[0]!=="B"||(c=2),this.yytext.length>2&&this.appendToken(this.tok.T_ENCAPSED_AND_WHITESPACE,this.yytext.length-c),this.unput(this.yytext.length-c),this.begin("ST_DOUBLE_QUOTES"),this.yytext},isDOC_MATCH:function(a,c){var f=this._input[a-2];if(!h.includes(f))return!1;var p=!1,g=!1,A=0,F=this._input[a-1];if(this.version>=703){for(;F==="	"||F===" ";)F===" "?p=!0:F==="	"&&(g=!0),F=this._input[a+A],A++;if(a+=A,h.includes(this._input[a-1]))return!1}if(this._input.substring(a-1,a-1+this.heredoc_label.length)===this.heredoc_label.label){var N=this._input[a-1+this.heredoc_label.length];if((this.version>=703?y:m).includes(N)){if(c){if(this.consume(A),p&&g)throw new Error("Parse error:  mixing spaces and tabs in ending marker at line "+this.yylineno+" (offset "+this.offset+")")}else this.heredoc_label.indentation=A,this.heredoc_label.indentation_uses_spaces=p,this.heredoc_label.first_encaps_node=!0;return!0}}return!1},prematch_ENDOFDOC:function(){this.heredoc_label.indentation_uses_spaces=!1,this.heredoc_label.indentation=0,this.heredoc_label.first_encaps_node=!0;for(var a=this.offset+1;a<this._input.length;){if(this.isDOC_MATCH(a,!1))return;if(!h.includes(this._input[a-1]))for(;!h.includes(this._input[a++])&&a<this._input.length;);a++}},matchST_NOWDOC:function(){if(this.isDOC_MATCH(this.offset,!0))return this.consume(this.heredoc_label.length),this.popState(),this.tok.T_END_HEREDOC;for(var a=this._input[this.offset-1];this.offset<this.size;)if(h.includes(a)){if(a=this.input(),this.isDOC_MATCH(this.offset,!0))return this.unput(1).popState(),this.appendToken(this.tok.T_END_HEREDOC,this.heredoc_label.length),this.tok.T_ENCAPSED_AND_WHITESPACE}else a=this.input();return this.tok.T_ENCAPSED_AND_WHITESPACE},matchST_HEREDOC:function(){var a=this.input();if(this.isDOC_MATCH(this.offset,!0))return this.consume(this.heredoc_label.length-1),this.popState(),this.tok.T_END_HEREDOC;for(;this.offset<this.size;)if(a==="\\"&&(a=this.input(),h.includes(a)||(a=this.input())),h.includes(a)){if(a=this.input(),this.isDOC_MATCH(this.offset,!0))return this.unput(1).popState(),this.appendToken(this.tok.T_END_HEREDOC,this.heredoc_label.length),this.tok.T_ENCAPSED_AND_WHITESPACE}else if(a==="$"){if((a=this.input())==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){var c=this.offset,f=this.consume_VARIABLE();return this.yytext.length>this.offset-c+2?(this.appendToken(f,this.offset-c+2),this.unput(this.offset-c+2),this.tok.T_ENCAPSED_AND_WHITESPACE):f}}else if(a==="{"){if((a=this.input())==="$")return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN)}else a=this.input();return this.tok.T_ENCAPSED_AND_WHITESPACE},consume_VARIABLE:function(){this.consume_LABEL();var a=this.input();if(a=="[")return this.unput(1),this.begin("ST_VAR_OFFSET"),this.tok.T_VARIABLE;if(a==="-"){if(this.input()===">")return this.input(),this.is_LABEL_START()&&this.begin("ST_LOOKING_FOR_PROPERTY"),this.unput(3),this.tok.T_VARIABLE;this.unput(2)}else a&&this.unput(1);return this.tok.T_VARIABLE},matchST_BACKQUOTE:function(){var a=this.input();if(a==="$"){if((a=this.input())==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START())return this.consume_VARIABLE()}else if(a==="{"){if(this._input[this.offset]==="$")return this.begin("ST_IN_SCRIPTING"),this.tok.T_CURLY_OPEN}else if(a==="`")return this.popState(),"`";for(;this.offset<this.size;){if(a==="\\")this.input();else{if(a==="`"){this.unput(1),this.popState(),this.appendToken("`",1);break}if(a==="$"){if((a=this.input())==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){var c=this.offset,f=this.consume_VARIABLE();return this.yytext.length>this.offset-c+2?(this.appendToken(f,this.offset-c+2),this.unput(this.offset-c+2),this.tok.T_ENCAPSED_AND_WHITESPACE):f}continue}if(a==="{"){if((a=this.input())==="$")return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN);continue}}a=this.input()}return this.tok.T_ENCAPSED_AND_WHITESPACE},matchST_DOUBLE_QUOTES:function(){var a=this.input();if(a==="$"){if((a=this.input())==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START())return this.consume_VARIABLE()}else if(a==="{"){if(this._input[this.offset]==="$")return this.begin("ST_IN_SCRIPTING"),this.tok.T_CURLY_OPEN}else if(a==='"')return this.popState(),'"';for(;this.offset<this.size;){if(a==="\\")this.input();else{if(a==='"'){this.unput(1),this.popState(),this.appendToken('"',1);break}if(a==="$"){if((a=this.input())==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){var c=this.offset,f=this.consume_VARIABLE();return this.yytext.length>this.offset-c+2?(this.appendToken(f,this.offset-c+2),this.unput(this.offset-c+2),this.tok.T_ENCAPSED_AND_WHITESPACE):f}a&&this.unput(1)}else if(a==="{"){if((a=this.input())==="$")return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN);a&&this.unput(1)}}a=this.input()}return this.tok.T_ENCAPSED_AND_WHITESPACE}};b.T_CONSTANT_ENCAPSED_STRING,b.is_HEREDOC,b.ST_DOUBLE_QUOTES,b.isDOC_MATCH,b.prematch_ENDOFDOC,b.matchST_NOWDOC,b.matchST_HEREDOC,b.consume_VARIABLE,b.matchST_BACKQUOTE,b.matchST_DOUBLE_QUOTES;var T={T_STRING:function(){var a=this.yytext.toLowerCase(),c=this.keywords[a];if(typeof c!="number"){if(a==="yield")this.version>=700&&this.tryMatch(" from")?(this.consume(5),c=this.tok.T_YIELD_FROM):c=this.tok.T_YIELD;else if(c=this.tok.T_STRING,a==="b"||a==="B"){var f=this.input(1);if(f==='"')return this.ST_DOUBLE_QUOTES();if(f==="'")return this.T_CONSTANT_ENCAPSED_STRING();f&&this.unput(1)}}return c},consume_TOKEN:function(){var a=this._input[this.offset-1],c=this.tokenTerminals[a];return c?c.apply(this,[]):this.yytext},tokenTerminals:{$:function(){return this.offset++,this.is_LABEL_START()?(this.offset--,this.consume_LABEL(),this.tok.T_VARIABLE):(this.offset--,"$")},"-":function(){var a=this._input[this.offset];return a===">"?(this.begin("ST_LOOKING_FOR_PROPERTY").input(),this.tok.T_OBJECT_OPERATOR):a==="-"?(this.input(),this.tok.T_DEC):a==="="?(this.input(),this.tok.T_MINUS_EQUAL):"-"},"\\":function(){return this.tok.T_NS_SEPARATOR},"/":function(){return this._input[this.offset]==="="?(this.input(),this.tok.T_DIV_EQUAL):"/"},":":function(){return this._input[this.offset]===":"?(this.input(),this.tok.T_DOUBLE_COLON):":"},"(":function(){var a=this.offset;if(this.input(),this.is_TABSPACE()&&this.consume_TABSPACE().input(),this.is_LABEL_START()){var c=this.yytext.length;this.consume_LABEL();var f=this.yytext.substring(c-1).toLowerCase(),p=this.castKeywords[f];if(typeof p=="number"&&(this.input(),this.is_TABSPACE()&&this.consume_TABSPACE().input(),this._input[this.offset-1]===")"))return p}return this.unput(this.offset-a),"("},"=":function(){var a=this._input[this.offset];return a===">"?(this.input(),this.tok.T_DOUBLE_ARROW):a==="="?this._input[this.offset+1]==="="?(this.consume(2),this.tok.T_IS_IDENTICAL):(this.input(),this.tok.T_IS_EQUAL):"="},"+":function(){var a=this._input[this.offset];return a==="+"?(this.input(),this.tok.T_INC):a==="="?(this.input(),this.tok.T_PLUS_EQUAL):"+"},"!":function(){return this._input[this.offset]==="="?this._input[this.offset+1]==="="?(this.consume(2),this.tok.T_IS_NOT_IDENTICAL):(this.input(),this.tok.T_IS_NOT_EQUAL):"!"},"?":function(){return this.version>=700&&this._input[this.offset]==="?"?this.version>=704&&this._input[this.offset+1]==="="?(this.consume(2),this.tok.T_COALESCE_EQUAL):(this.input(),this.tok.T_COALESCE):this.version>=800&&this._input[this.offset]==="-"&&this._input[this.offset+1]===">"?(this.consume(2),this.tok.T_NULLSAFE_OBJECT_OPERATOR):"?"},"<":function(){var a=this._input[this.offset];return a==="<"?(a=this._input[this.offset+1])==="="?(this.consume(2),this.tok.T_SL_EQUAL):a==="<"&&this.is_HEREDOC()?this.tok.T_START_HEREDOC:(this.input(),this.tok.T_SL):a==="="?(this.input(),this.version>=700&&this._input[this.offset]===">"?(this.input(),this.tok.T_SPACESHIP):this.tok.T_IS_SMALLER_OR_EQUAL):a===">"?(this.input(),this.tok.T_IS_NOT_EQUAL):"<"},">":function(){var a=this._input[this.offset];return a==="="?(this.input(),this.tok.T_IS_GREATER_OR_EQUAL):a===">"?(a=this._input[this.offset+1])==="="?(this.consume(2),this.tok.T_SR_EQUAL):(this.input(),this.tok.T_SR):">"},"*":function(){var a=this._input[this.offset];return a==="="?(this.input(),this.tok.T_MUL_EQUAL):a==="*"?(this.input(),this._input[this.offset]==="="?(this.input(),this.tok.T_POW_EQUAL):this.tok.T_POW):"*"},".":function(){var a=this._input[this.offset];return a==="="?(this.input(),this.tok.T_CONCAT_EQUAL):a==="."&&this._input[this.offset+1]==="."?(this.consume(2),this.tok.T_ELLIPSIS):"."},"%":function(){return this._input[this.offset]==="="?(this.input(),this.tok.T_MOD_EQUAL):"%"},"&":function(){var a=this._input[this.offset];return a==="="?(this.input(),this.tok.T_AND_EQUAL):a==="&"?(this.input(),this.tok.T_BOOLEAN_AND):"&"},"|":function(){var a=this._input[this.offset];return a==="="?(this.input(),this.tok.T_OR_EQUAL):a==="|"?(this.input(),this.tok.T_BOOLEAN_OR):"|"},"^":function(){return this._input[this.offset]==="="?(this.input(),this.tok.T_XOR_EQUAL):"^"}}};T.T_STRING,T.consume_TOKEN,T.tokenTerminals;var x={is_NUM:function(){var a=this._input.charCodeAt(this.offset-1);return a>47&&a<58||a===95},is_NUM_START:function(){var a=this._input.charCodeAt(this.offset-1);return a>47&&a<58},is_LABEL:function(){var a=this._input.charCodeAt(this.offset-1);return a>96&&a<123||a>64&&a<91||a===95||a>47&&a<58||a>126},is_LABEL_START:function(){var a=this._input.charCodeAt(this.offset-1);return a>64&&a<91||a>96&&a<123||a===95||a>126},consume_LABEL:function(){for(;this.offset<this.size;){var a=this.input();if(!this.is_LABEL()){a&&this.unput(1);break}}return this},is_TOKEN:function(){var a=this._input[this.offset-1];return";:,.\\[]()|^&+-/*=%!~$<>?@".indexOf(a)!==-1},is_WHITESPACE:function(){var a=this._input[this.offset-1];return a===" "||a==="	"||a===`
`||a==="\r"},is_TABSPACE:function(){var a=this._input[this.offset-1];return a===" "||a==="	"},consume_TABSPACE:function(){for(;this.offset<this.size;){var a=this.input();if(!this.is_TABSPACE()){a&&this.unput(1);break}}return this},is_HEX:function(){var a=this._input.charCodeAt(this.offset-1);return a>47&&a<58||a>64&&a<71||a>96&&a<103||a===95}};x.is_NUM,x.is_NUM_START,x.is_LABEL,x.is_LABEL_START,x.consume_LABEL,x.is_TOKEN,x.is_WHITESPACE,x.is_TABSPACE,x.consume_TABSPACE,x.is_HEX;var D=function(a){this.engine=a,this.tok=this.engine.tokens.names,this.EOF=1,this.debug=!1,this.all_tokens=!0,this.comment_tokens=!1,this.mode_eval=!1,this.asp_tags=!1,this.short_tags=!1,this.version=800,this.yyprevcol=0,this.keywords={__class__:this.tok.T_CLASS_C,__trait__:this.tok.T_TRAIT_C,__function__:this.tok.T_FUNC_C,__method__:this.tok.T_METHOD_C,__line__:this.tok.T_LINE,__file__:this.tok.T_FILE,__dir__:this.tok.T_DIR,__namespace__:this.tok.T_NS_C,exit:this.tok.T_EXIT,die:this.tok.T_EXIT,function:this.tok.T_FUNCTION,const:this.tok.T_CONST,return:this.tok.T_RETURN,try:this.tok.T_TRY,catch:this.tok.T_CATCH,finally:this.tok.T_FINALLY,throw:this.tok.T_THROW,if:this.tok.T_IF,elseif:this.tok.T_ELSEIF,endif:this.tok.T_ENDIF,else:this.tok.T_ELSE,while:this.tok.T_WHILE,endwhile:this.tok.T_ENDWHILE,do:this.tok.T_DO,for:this.tok.T_FOR,endfor:this.tok.T_ENDFOR,foreach:this.tok.T_FOREACH,endforeach:this.tok.T_ENDFOREACH,declare:this.tok.T_DECLARE,enddeclare:this.tok.T_ENDDECLARE,instanceof:this.tok.T_INSTANCEOF,as:this.tok.T_AS,switch:this.tok.T_SWITCH,endswitch:this.tok.T_ENDSWITCH,case:this.tok.T_CASE,default:this.tok.T_DEFAULT,break:this.tok.T_BREAK,continue:this.tok.T_CONTINUE,goto:this.tok.T_GOTO,echo:this.tok.T_ECHO,print:this.tok.T_PRINT,class:this.tok.T_CLASS,interface:this.tok.T_INTERFACE,trait:this.tok.T_TRAIT,extends:this.tok.T_EXTENDS,implements:this.tok.T_IMPLEMENTS,new:this.tok.T_NEW,clone:this.tok.T_CLONE,var:this.tok.T_VAR,eval:this.tok.T_EVAL,include:this.tok.T_INCLUDE,include_once:this.tok.T_INCLUDE_ONCE,require:this.tok.T_REQUIRE,require_once:this.tok.T_REQUIRE_ONCE,namespace:this.tok.T_NAMESPACE,use:this.tok.T_USE,insteadof:this.tok.T_INSTEADOF,global:this.tok.T_GLOBAL,isset:this.tok.T_ISSET,empty:this.tok.T_EMPTY,__halt_compiler:this.tok.T_HALT_COMPILER,static:this.tok.T_STATIC,abstract:this.tok.T_ABSTRACT,final:this.tok.T_FINAL,private:this.tok.T_PRIVATE,protected:this.tok.T_PROTECTED,public:this.tok.T_PUBLIC,unset:this.tok.T_UNSET,list:this.tok.T_LIST,array:this.tok.T_ARRAY,callable:this.tok.T_CALLABLE,or:this.tok.T_LOGICAL_OR,and:this.tok.T_LOGICAL_AND,xor:this.tok.T_LOGICAL_XOR,match:this.tok.T_MATCH},this.castKeywords={int:this.tok.T_INT_CAST,integer:this.tok.T_INT_CAST,real:this.tok.T_DOUBLE_CAST,double:this.tok.T_DOUBLE_CAST,float:this.tok.T_DOUBLE_CAST,string:this.tok.T_STRING_CAST,binary:this.tok.T_STRING_CAST,array:this.tok.T_ARRAY_CAST,object:this.tok.T_OBJECT_CAST,bool:this.tok.T_BOOL_CAST,boolean:this.tok.T_BOOL_CAST,unset:this.tok.T_UNSET_CAST}};D.prototype.setInput=function(a){return this._input=a,this.size=a.length,this.yylineno=1,this.offset=0,this.yyprevcol=0,this.yytext="",this.yylloc={first_offset:0,first_line:1,first_column:0,prev_offset:0,prev_line:1,prev_column:0,last_line:1,last_column:0},this.tokens=[],this.version>703?this.keywords.fn=this.tok.T_FN:delete this.keywords.fn,this.done=this.offset>=this.size,!this.all_tokens&&this.mode_eval?(this.conditionStack=["INITIAL"],this.begin("ST_IN_SCRIPTING")):(this.conditionStack=[],this.begin("INITIAL")),this.heredoc_label={label:"",length:0,indentation:0,indentation_uses_spaces:!1,finished:!1,first_encaps_node:!1,toString:function(){this.label}},this},D.prototype.input=function(){var a=this._input[this.offset];return a?(this.yytext+=a,this.offset++,a==="\r"&&this._input[this.offset]===`
`&&(this.yytext+=`
`,this.offset++),a===`
`||a==="\r"?(this.yylloc.last_line=++this.yylineno,this.yyprevcol=this.yylloc.last_column,this.yylloc.last_column=0):this.yylloc.last_column++,a):""},D.prototype.unput=function(a){if(a===1)this.offset--,this._input[this.offset]===`
`&&this._input[this.offset-1]==="\r"&&(this.offset--,a++),this._input[this.offset]==="\r"||this._input[this.offset]===`
`?(this.yylloc.last_line--,this.yylineno--,this.yylloc.last_column=this.yyprevcol):this.yylloc.last_column--,this.yytext=this.yytext.substring(0,this.yytext.length-a);else if(a>0)if(this.offset-=a,a<this.yytext.length){this.yytext=this.yytext.substring(0,this.yytext.length-a),this.yylloc.last_line=this.yylloc.first_line,this.yylloc.last_column=this.yyprevcol=this.yylloc.first_column;for(var c=0;c<this.yytext.length;c++){var f=this.yytext[c];f==="\r"?(f=this.yytext[++c],this.yyprevcol=this.yylloc.last_column,this.yylloc.last_line++,this.yylloc.last_column=0,f!==`
`&&(f==="\r"?this.yylloc.last_line++:this.yylloc.last_column++)):f===`
`?(this.yyprevcol=this.yylloc.last_column,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++}this.yylineno=this.yylloc.last_line}else this.yytext="",this.yylloc.last_line=this.yylineno=this.yylloc.first_line,this.yylloc.last_column=this.yylloc.first_column;return this},D.prototype.tryMatch=function(a){return a===this.ahead(a.length)},D.prototype.tryMatchCaseless=function(a){return a===this.ahead(a.length).toLowerCase()},D.prototype.ahead=function(a){var c=this._input.substring(this.offset,this.offset+a);return c[c.length-1]==="\r"&&this._input[this.offset+a+1]===`
`&&(c+=`
`),c},D.prototype.consume=function(a){for(var c=0;c<a;c++){var f=this._input[this.offset];if(!f)break;this.yytext+=f,this.offset++,f==="\r"&&this._input[this.offset]===`
`&&(this.yytext+=`
`,this.offset++,c++),f===`
`||f==="\r"?(this.yylloc.last_line=++this.yylineno,this.yyprevcol=this.yylloc.last_column,this.yylloc.last_column=0):this.yylloc.last_column++}return this},D.prototype.getState=function(){return{yytext:this.yytext,offset:this.offset,yylineno:this.yylineno,yyprevcol:this.yyprevcol,yylloc:{first_offset:this.yylloc.first_offset,first_line:this.yylloc.first_line,first_column:this.yylloc.first_column,last_line:this.yylloc.last_line,last_column:this.yylloc.last_column},heredoc_label:this.heredoc_label}},D.prototype.setState=function(a){return this.yytext=a.yytext,this.offset=a.offset,this.yylineno=a.yylineno,this.yyprevcol=a.yyprevcol,this.yylloc=a.yylloc,a.heredoc_label&&(this.heredoc_label=a.heredoc_label),this},D.prototype.appendToken=function(a,c){return this.tokens.push([a,c]),this},D.prototype.lex=function(){this.yylloc.prev_offset=this.offset,this.yylloc.prev_line=this.yylloc.last_line,this.yylloc.prev_column=this.yylloc.last_column;var a=this.next()||this.lex();if(!this.all_tokens){for(;a===this.tok.T_WHITESPACE||!this.comment_tokens&&(a===this.tok.T_COMMENT||a===this.tok.T_DOC_COMMENT)||a===this.tok.T_OPEN_TAG;)a=this.next()||this.lex();if(a==this.tok.T_OPEN_TAG_WITH_ECHO)return this.tok.T_ECHO;if(a===this.tok.T_CLOSE_TAG)return";"}return this.yylloc.prev_offset||(this.yylloc.prev_offset=this.yylloc.first_offset,this.yylloc.prev_line=this.yylloc.first_line,this.yylloc.prev_column=this.yylloc.first_column),a},D.prototype.begin=function(a){if(this.conditionStack.push(a),this.curCondition=a,this.stateCb=this["match"+a],typeof this.stateCb!="function")throw new Error('Undefined condition state "'+a+'"');return this},D.prototype.popState=function(){var a=this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0];if(this.curCondition=this.conditionStack[this.conditionStack.length-1],this.stateCb=this["match"+this.curCondition],typeof this.stateCb!="function")throw new Error('Undefined condition state "'+this.curCondition+'"');return a},D.prototype.next=function(){var a;if(this._input||(this.done=!0),this.yylloc.first_offset=this.offset,this.yylloc.first_line=this.yylloc.last_line,this.yylloc.first_column=this.yylloc.last_column,this.yytext="",this.done)return this.yylloc.prev_offset=this.yylloc.first_offset,this.yylloc.prev_line=this.yylloc.first_line,this.yylloc.prev_column=this.yylloc.first_column,this.EOF;if(this.tokens.length>0?(typeof(a=this.tokens.shift())[1]=="object"?this.setState(a[1]):this.consume(a[1]),a=a[0]):a=this.stateCb.apply(this,[]),this.offset>=this.size&&this.tokens.length===0&&(this.done=!0),this.debug){var c=a;c=typeof c=="number"?this.engine.tokens.values[c]:'"'+c+'"';var f=new Error(c+"	from "+this.yylloc.first_line+","+this.yylloc.first_column+"	 - to "+this.yylloc.last_line+","+this.yylloc.last_column+'	"'+this.yytext+'"');console.error(f.stack)}return a},[i,s,o,l,u,d,b,T,x].forEach(function(a){for(var c in a)D.prototype[c]=a[c]});var _=D,P=function(a,c,f){this.line=a,this.column=c,this.offset=f},v={read_array:function(){var a=null,c=!1,f=this.node("array");this.token===this.tok.T_ARRAY?(this.next().expect("("),a=")"):(c=!0,a="]");var p=[];return this.next().token!==a&&(p=this.read_array_pair_list(c)),this.expect(a),this.next(),f(c,p)},read_array_pair_list:function(a){var c=this;return this.read_list(function(){return c.read_array_pair(a)},",",!0)},read_array_pair:function(a){if(!(!a&&this.token===")"||a&&this.token==="]")){if(this.token===",")return this.node("noop")();var c=this.node("entry"),f=null,p=null,g=!1,A=!1;if(this.token==="&")this.next(),g=!0,p=this.read_variable(!0,!1);else if(this.token===this.tok.T_ELLIPSIS&&this.version>=704)this.next(),this.token==="&"&&this.error(),A=!0,p=this.read_expr();else{var F=this.read_expr();this.token===this.tok.T_DOUBLE_ARROW?(this.next(),f=F,this.token==="&"?(this.next(),g=!0,p=this.read_variable(!0,!1)):p=this.read_expr()):p=F}return c(f,p,g,A)}}};function S(a,c,f){return c in a?Object.defineProperty(a,c,{value:f,enumerable:!0,configurable:!0,writable:!0}):a[c]=f,a}function w(a,c){var f=Object.keys(a);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(a);c&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(a,g).enumerable})),f.push.apply(f,p)}return f}function J(a){for(var c=1;c<arguments.length;c++){var f=arguments[c]!=null?arguments[c]:{};c%2?w(Object(f),!0).forEach(function(p){S(a,p,f[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(f)):w(Object(f)).forEach(function(p){Object.defineProperty(a,p,Object.getOwnPropertyDescriptor(f,p))})}return a}function Y(a,c){return function(f){if(Array.isArray(f))return f}(a)||function(f,p){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(f)))){var g=[],A=!0,F=!1,N=void 0;try{for(var B,q=f[Symbol.iterator]();!(A=(B=q.next()).done)&&(g.push(B.value),!p||g.length!==p);A=!0);}catch(R){F=!0,N=R}finally{try{A||q.return==null||q.return()}finally{if(F)throw N}}return g}}(a,c)||he(a,c)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ae(a){return function(c){if(Array.isArray(c))return be(c)}(a)||function(c){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(c))return Array.from(c)}(a)||he(a)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function he(a,c){if(a){if(typeof a=="string")return be(a,c);var f=Object.prototype.toString.call(a).slice(8,-1);return f==="Object"&&a.constructor&&(f=a.constructor.name),f==="Map"||f==="Set"?Array.from(f):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?be(a,c):void 0}}function be(a,c){(c==null||c>a.length)&&(c=a.length);for(var f=0,p=new Array(c);f<c;f++)p[f]=a[f];return p}function Te(a){if(typeof Symbol=="undefined"||a[Symbol.iterator]==null){if(Array.isArray(a)||(a=he(a))){var c=0,f=function(){};return{s:f,n:function(){return c>=a.length?{done:!0}:{done:!1,value:a[c++]}},e:function(N){throw N},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,g,A=!0,F=!1;return{s:function(){p=a[Symbol.iterator]()},n:function(){var N=p.next();return A=N.done,N},e:function(N){F=!0,g=N},f:function(){try{A||p.return==null||p.return()}finally{if(F)throw g}}}}v.read_array,v.read_array_pair_list,v.read_array_pair;var pe={read_class_declaration_statement:function(a){var c=this.node("class"),f=this.read_class_modifiers();if(this.token!==this.tok.T_CLASS)return this.error(this.tok.T_CLASS),this.next(),null;this.next().expect(this.tok.T_STRING);var p=this.node("identifier"),g=this.text();this.next(),p=p(g);var A=this.read_extends_from(),F=this.read_implements_list();this.expect("{");var N=c(p,A,F,this.next().read_class_body(),f);return a&&(N.attrGroups=a),N},read_class_modifiers:function(){return[0,0,this.read_class_modifier()]},read_class_modifier:function(){return this.token===this.tok.T_ABSTRACT?(this.next(),1):this.token===this.tok.T_FINAL?(this.next(),2):0},read_class_body:function(){for(var a=[],c=[];this.token!==this.EOF&&this.token!=="}";)if(this.token!==this.tok.T_COMMENT)if(this.token!==this.tok.T_DOC_COMMENT)if(this.token!==this.tok.T_USE){this.token===this.tok.T_ATTRIBUTE&&(c=this.read_attr_list());var f=this.position(),p=this.read_member_flags(!1);if(this.token!==this.tok.T_CONST)if(this.token===this.tok.T_VAR&&(this.next().expect(this.tok.T_VARIABLE),p[0]=null,p[1]=0),this.token===this.tok.T_FUNCTION)a.push(this.read_function(!1,p,c,f)),c=[];else if(this.token===this.tok.T_VARIABLE||this.version>=704&&(this.token==="?"||this.token===this.tok.T_CALLABLE||this.token===this.tok.T_ARRAY||this.token===this.tok.T_NS_SEPARATOR||this.token===this.tok.T_STRING||this.token===this.tok.T_NAMESPACE)){var g=this.read_variable_list(p,c);c=[],this.expect(";"),this.next(),a=a.concat(g)}else this.error([this.tok.T_CONST,this.tok.T_VARIABLE,this.tok.T_FUNCTION]),this.next();else{var A=this.read_constant_list(p,c);this.expect(";")&&this.next(),a=a.concat(A)}}else a=a.concat(this.read_trait_use_statement());else a.push(this.read_doc_comment());else a.push(this.read_comment());return this.expect("}"),this.next(),a},read_variable_list:function(a,c){var f=this.node("propertystatement"),p=this.read_list(function(){var g=this.node("property"),A=Y(this.read_optional_type(),2),F=A[0],N=A[1];this.expect(this.tok.T_VARIABLE);var B=this.node("identifier"),q=this.text().substring(1);return this.next(),B=B(q),this.token===";"||this.token===","?g(B,null,F,N,c||[]):this.token==="="?g(B,this.next().read_expr(),F,N,c||[]):(this.expect([",",";","="]),g(B,null,F,N,c||[]))},",");return f(null,p,a)},read_constant_list:function(a,c){this.expect(this.tok.T_CONST)&&this.next();var f=this.node("classconstant"),p=this.read_list(function(){var g=this.node("constant"),A=null,F=null;if(this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){A=this.node("identifier");var N=this.text();this.next(),A=A(N)}else this.expect("IDENTIFIER");return this.expect("=")&&(F=this.next().read_expr()),g(A,F)},",");return f(null,p,a,c||[])},read_member_flags:function(a){var c=[-1,-1,-1];if(this.is("T_MEMBER_FLAGS")){var f=0,p=0;do{switch(this.token){case this.tok.T_PUBLIC:f=0,p=0;break;case this.tok.T_PROTECTED:f=0,p=1;break;case this.tok.T_PRIVATE:f=0,p=2;break;case this.tok.T_STATIC:f=1,p=1;break;case this.tok.T_ABSTRACT:f=2,p=1;break;case this.tok.T_FINAL:f=2,p=2}a&&(f==0&&p==2?(this.expect([this.tok.T_PUBLIC,this.tok.T_PROTECTED]),p=-1):f==2&&p==1&&(this.error(),p=-1)),c[f]!==-1?this.error():p!==-1&&(c[f]=p)}while(this.next().is("T_MEMBER_FLAGS"))}return c[1]==-1&&(c[1]=0),c[2]==-1&&(c[2]=0),c},read_optional_type:function(){var a=!1;this.token==="?"&&(a=!0,this.next());var c=this.read_types();if(a&&!c&&this.raiseError("Expecting a type definition combined with nullable operator"),!a&&!c)return[!1,null];if(this.token==="|"){c=[c];do{this.next();var f=this.read_type();if(!f){this.raiseError("Expecting a type definition");break}c.push(f)}while(this.token==="|")}return[a,c]},read_interface_declaration_statement:function(a){var c=this.node("interface");if(this.token!==this.tok.T_INTERFACE)return this.error(this.tok.T_INTERFACE),this.next(),null;this.next().expect(this.tok.T_STRING);var f=this.node("identifier"),p=this.text();this.next(),f=f(p);var g=this.read_interface_extends_list();return this.expect("{"),c(f,g,this.next().read_interface_body(),a||[])},read_interface_body:function(){for(var a=[],c=[];this.token!==this.EOF&&this.token!=="}";)if(this.token!==this.tok.T_COMMENT)if(this.token!==this.tok.T_DOC_COMMENT){var f=this.position();c=this.read_attr_list();var p=this.read_member_flags(!0);if(this.token==this.tok.T_CONST){var g=this.read_constant_list(p,c);this.expect(";")&&this.next(),a=a.concat(g),c=[]}else if(this.token===this.tok.T_FUNCTION){var A=this.read_function_declaration(2,p,c,f);A.parseFlags(p),a.push(A),this.expect(";")&&this.next(),c=[]}else this.error([this.tok.T_CONST,this.tok.T_FUNCTION]),this.next()}else a.push(this.read_doc_comment());else a.push(this.read_comment());return this.expect("}")&&this.next(),a},read_trait_declaration_statement:function(){var a=this.node("trait");if(this.token!==this.tok.T_TRAIT)return this.error(this.tok.T_TRAIT),this.next(),null;this.next().expect(this.tok.T_STRING);var c=this.node("identifier"),f=this.text();return this.next(),c=c(f),this.expect("{"),a(c,this.next().read_class_body())},read_trait_use_statement:function(){var a=this.node("traituse");this.expect(this.tok.T_USE)&&this.next();for(var c=[this.read_namespace_name()],f=null;this.token===",";)c.push(this.next().read_namespace_name());if(this.token==="{"){for(f=[];this.next().token!==this.EOF&&this.token!=="}";)f.push(this.read_trait_use_alias()),this.expect(";");this.expect("}")&&this.next()}else this.expect(";")&&this.next();return a(c,f)},read_trait_use_alias:function(){var a,c=this.node(),f=null;if(this.is("IDENTIFIER")){a=this.node("identifier");var p=this.text();this.next(),a=a(p)}else if(a=this.read_namespace_name(),this.token===this.tok.T_DOUBLE_COLON)if(this.next(),this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){f=a,a=this.node("identifier");var g=this.text();this.next(),a=a(g)}else this.expect(this.tok.T_STRING);else a=a.name;if(this.token===this.tok.T_INSTEADOF)return c("traitprecedence",f,a,this.next().read_name_list());if(this.token===this.tok.T_AS){var A=null,F=null;if(this.next().is("T_MEMBER_FLAGS")&&(A=this.read_member_flags()),this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){F=this.node("identifier");var N=this.text();this.next(),F=F(N)}else A===!1&&this.expect(this.tok.T_STRING);return c("traitalias",f,a,F,A)}return this.expect([this.tok.T_AS,this.tok.T_INSTEADOF]),c("traitalias",f,a,null,null)}};pe.read_class_declaration_statement,pe.read_class_modifiers,pe.read_class_modifier,pe.read_class_body,pe.read_variable_list,pe.read_constant_list,pe.read_member_flags,pe.read_optional_type,pe.read_interface_declaration_statement,pe.read_interface_body,pe.read_trait_declaration_statement,pe.read_trait_use_statement,pe.read_trait_use_alias;var at={read_comment:function(){var a=this.text(),c=this.ast.prepare(a.substring(0,2)==="/*"?"commentblock":"commentline",null,this),f=this.lexer.yylloc.first_offset,p=this.prev;return this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset],this.lex(),(c=c(a)).offset=f,this.prev=p,c},read_doc_comment:function(){var a=this.ast.prepare("commentblock",null,this),c=this.lexer.yylloc.first_offset,f=this.text(),p=this.prev;return this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset],this.lex(),(a=a(f)).offset=c,this.prev=p,a}};at.read_comment,at.read_doc_comment;var Se={read_expr:function(a){var c=this.node();if(this.token==="@")return a||(a=this.next().read_expr()),c("silent",a);if(a||(a=this.read_expr_item()),this.token==="|")return c("bin","|",a,this.next().read_expr());if(this.token==="&")return c("bin","&",a,this.next().read_expr());if(this.token==="^")return c("bin","^",a,this.next().read_expr());if(this.token===".")return c("bin",".",a,this.next().read_expr());if(this.token==="+")return c("bin","+",a,this.next().read_expr());if(this.token==="-")return c("bin","-",a,this.next().read_expr());if(this.token==="*")return c("bin","*",a,this.next().read_expr());if(this.token==="/")return c("bin","/",a,this.next().read_expr());if(this.token==="%")return c("bin","%",a,this.next().read_expr());if(this.token===this.tok.T_POW)return c("bin","**",a,this.next().read_expr());if(this.token===this.tok.T_SL)return c("bin","<<",a,this.next().read_expr());if(this.token===this.tok.T_SR)return c("bin",">>",a,this.next().read_expr());if(this.token===this.tok.T_BOOLEAN_OR)return c("bin","||",a,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_OR)return c("bin","or",a,this.next().read_expr());if(this.token===this.tok.T_BOOLEAN_AND)return c("bin","&&",a,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_AND)return c("bin","and",a,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_XOR)return c("bin","xor",a,this.next().read_expr());if(this.token===this.tok.T_IS_IDENTICAL)return c("bin","===",a,this.next().read_expr());if(this.token===this.tok.T_IS_NOT_IDENTICAL)return c("bin","!==",a,this.next().read_expr());if(this.token===this.tok.T_IS_EQUAL)return c("bin","==",a,this.next().read_expr());if(this.token===this.tok.T_IS_NOT_EQUAL)return c("bin","!=",a,this.next().read_expr());if(this.token==="<")return c("bin","<",a,this.next().read_expr());if(this.token===">")return c("bin",">",a,this.next().read_expr());if(this.token===this.tok.T_IS_SMALLER_OR_EQUAL)return c("bin","<=",a,this.next().read_expr());if(this.token===this.tok.T_IS_GREATER_OR_EQUAL)return c("bin",">=",a,this.next().read_expr());if(this.token===this.tok.T_SPACESHIP)return c("bin","<=>",a,this.next().read_expr());if(this.token===this.tok.T_INSTANCEOF&&(a=c("bin","instanceof",a,this.next().read_class_name_reference()),this.token!==";"&&this.token!==this.tok.T_INLINE_HTML&&this.token!==this.EOF&&(a=this.read_expr(a))),this.token===this.tok.T_COALESCE)return c("bin","??",a,this.next().read_expr());if(this.token==="?"){var f=null;return this.next().token!==":"&&(f=this.read_expr()),this.expect(":")&&this.next(),c("retif",a,f,this.read_expr())}return c.destroy(a),a},read_expr_cast:function(a){return this.node("cast")(a,this.text(),this.next().read_expr())},read_isset_variable:function(){return this.read_expr()},read_isset_variables:function(){return this.read_function_list(this.read_isset_variable,",")},read_internal_functions_in_yacc:function(){var a=null;switch(this.token){case this.tok.T_ISSET:a=this.node("isset"),this.next().expect("(")&&this.next();var c=this.read_isset_variables();this.expect(")")&&this.next(),a=a(c);break;case this.tok.T_EMPTY:a=this.node("empty"),this.next().expect("(")&&this.next();var f=this.read_expr();this.expect(")")&&this.next(),a=a(f);break;case this.tok.T_INCLUDE:a=this.node("include")(!1,!1,this.next().read_expr());break;case this.tok.T_INCLUDE_ONCE:a=this.node("include")(!0,!1,this.next().read_expr());break;case this.tok.T_EVAL:a=this.node("eval"),this.next().expect("(")&&this.next();var p=this.read_expr();this.expect(")")&&this.next(),a=a(p);break;case this.tok.T_REQUIRE:a=this.node("include")(!1,!0,this.next().read_expr());break;case this.tok.T_REQUIRE_ONCE:a=this.node("include")(!0,!0,this.next().read_expr())}return a},read_optional_expr:function(a){return this.token!==a?this.read_expr():null},read_exit_expr:function(){var a=null;return this.token==="("&&(this.next(),a=this.read_optional_expr(")"),this.expect(")")&&this.next()),a},read_expr_item:function(){var a,c,f=[];if(this.token==="+")return this.node("unary")("+",this.next().read_expr());if(this.token==="-")return this.node("unary")("-",this.next().read_expr());if(this.token==="!")return this.node("unary")("!",this.next().read_expr());if(this.token==="~")return this.node("unary")("~",this.next().read_expr());if(this.token==="(")return(c=this.next().read_expr()).parenthesizedExpression=!0,this.expect(")")&&this.next(),this.handleDereferencable(c);if(this.token==="`")return this.read_encapsed_string("`");if(this.token===this.tok.T_LIST){var p=null,g=this.innerList;a=this.node("list"),g||(p=this.node("assign")),this.next().expect("(")&&this.next(),this.innerList||(this.innerList=!0);var A=this.read_array_pair_list(!1);this.expect(")")&&this.next();for(var F=!1,N=0;N<A.length;N++)if(A[N]!==null&&A[N].kind!=="noop"){F=!0;break}return F||this.raiseError("Fatal Error :  Cannot use empty list on line "+this.lexer.yylloc.first_line),g?a(A,!1):(this.innerList=!1,this.expect("=")?p(a(A,!1),this.next().read_expr(),"="):a(A,!1))}if(this.token===this.tok.T_ATTRIBUTE&&(f=this.read_attr_list()),this.token===this.tok.T_CLONE)return this.node("clone")(this.next().read_expr());switch(this.token){case this.tok.T_INC:return this.node("pre")("+",this.next().read_variable(!1,!1));case this.tok.T_DEC:return this.node("pre")("-",this.next().read_variable(!1,!1));case this.tok.T_NEW:return this.read_new_expr();case this.tok.T_ISSET:case this.tok.T_EMPTY:case this.tok.T_INCLUDE:case this.tok.T_INCLUDE_ONCE:case this.tok.T_EVAL:case this.tok.T_REQUIRE:case this.tok.T_REQUIRE_ONCE:return this.read_internal_functions_in_yacc();case this.tok.T_MATCH:return this.read_match_expression();case this.tok.T_INT_CAST:return this.read_expr_cast("int");case this.tok.T_DOUBLE_CAST:return this.read_expr_cast("float");case this.tok.T_STRING_CAST:return this.read_expr_cast(this.text().indexOf("binary")!==-1?"binary":"string");case this.tok.T_ARRAY_CAST:return this.read_expr_cast("array");case this.tok.T_OBJECT_CAST:return this.read_expr_cast("object");case this.tok.T_BOOL_CAST:return this.read_expr_cast("bool");case this.tok.T_UNSET_CAST:return this.read_expr_cast("unset");case this.tok.T_THROW:return this.version<800&&this.raiseError("PHP 8+ is required to use throw as an expression"),this.node("throw")(this.next().read_expr());case this.tok.T_EXIT:var B=this.lexer.yytext.toLowerCase()==="die";return a=this.node("exit"),this.next(),a(this.read_exit_expr(),B);case this.tok.T_PRINT:return this.node("print")(this.next().read_expr());case this.tok.T_YIELD:var q=null,R=null;return a=this.node("yield"),this.next().is("EXPR")&&(q=this.read_expr(),this.token===this.tok.T_DOUBLE_ARROW&&(R=q,q=this.next().read_expr())),a(q,R);case this.tok.T_YIELD_FROM:return(a=this.node("yieldfrom"))(c=this.next().read_expr());case this.tok.T_FN:case this.tok.T_FUNCTION:return this.read_inline_function(void 0,f);case this.tok.T_STATIC:var Oe=[this.token,this.lexer.getState()];if(this.next(),this.token===this.tok.T_FUNCTION||this.version>=704&&this.token===this.tok.T_FN)return this.read_inline_function([0,1,0],f);this.lexer.tokens.push(Oe),this.next()}if(this.is("VARIABLE")){a=this.node();var we=(c=this.read_variable(!1,!1)).kind==="identifier"||c.kind==="staticlookup"&&c.offset.kind==="identifier";switch(this.token){case"=":return we&&this.error("VARIABLE"),this.next().token=="&"?this.read_assignref(a,c):a("assign",c,this.read_expr(),"=");case this.tok.T_PLUS_EQUAL:return we&&this.error("VARIABLE"),a("assign",c,this.next().read_expr(),"+=");case this.tok.T_MINUS_EQUAL:return we&&this.error("VARIABLE"),a("assign",c,this.next().read_expr(),"-=");case this.tok.T_MUL_EQUAL:return we&&this.error("VARIABLE"),a("assign",c,this.next().read_expr(),"*=");case this.tok.T_POW_EQUAL:return we&&this.error("VARIABLE"),a("assign",c,this.next().read_expr(),"**=");case this.tok.T_DIV_EQUAL:return we&&this.error("VARIABLE"),a("assign",c,this.next().read_expr(),"/=");case this.tok.T_CONCAT_EQUAL:return we&&this.error("VARIABLE"),a("assign",c,this.next().read_expr(),".=");case this.tok.T_MOD_EQUAL:return we&&this.error("VARIABLE"),a("assign",c,this.next().read_expr(),"%=");case this.tok.T_AND_EQUAL:return we&&this.error("VARIABLE"),a("assign",c,this.next().read_expr(),"&=");case this.tok.T_OR_EQUAL:return we&&this.error("VARIABLE"),a("assign",c,this.next().read_expr(),"|=");case this.tok.T_XOR_EQUAL:return we&&this.error("VARIABLE"),a("assign",c,this.next().read_expr(),"^=");case this.tok.T_SL_EQUAL:return we&&this.error("VARIABLE"),a("assign",c,this.next().read_expr(),"<<=");case this.tok.T_SR_EQUAL:return we&&this.error("VARIABLE"),a("assign",c,this.next().read_expr(),">>=");case this.tok.T_COALESCE_EQUAL:return we&&this.error("VARIABLE"),a("assign",c,this.next().read_expr(),"??=");case this.tok.T_INC:return we&&this.error("VARIABLE"),this.next(),a("post","+",c);case this.tok.T_DEC:return we&&this.error("VARIABLE"),this.next(),a("post","-",c);default:a.destroy(c)}}else{if(this.is("SCALAR")){if(a=this.node(),(c=this.read_scalar()).kind==="array"&&c.shortForm&&this.token==="="){var tt=this.convertToList(c);return c.loc&&(tt.loc=c.loc),a("assign",tt,this.next().read_expr(),"=")}return a.destroy(c),this.handleDereferencable(c)}this.error("EXPR"),this.next()}return c},convertToList:function(a){var c=this,f=a.items.map(function(g){return g.value&&g.value.kind==="array"&&g.value.shortForm&&(g.value=c.convertToList(g.value)),g}),p=this.node("list")(f,!0);return a.loc&&(p.loc=a.loc),a.leadingComments&&(p.leadingComments=a.leadingComments),a.trailingComments&&(p.trailingComments=a.trailingComments),p},read_assignref:function(a,c){var f;return this.next(),this.token===this.tok.T_NEW?(this.version>=700&&this.error(),f=this.read_new_expr()):f=this.read_variable(!1,!1),a("assignref",c,f)},read_inline_function:function(a,c){if(this.token===this.tok.T_FUNCTION){var f=this.read_function(!0,a,c);return f.attrGroups=c,f}!this.version>=704&&this.raiseError("Arrow Functions are not allowed");var p=this.node("arrowfunc");this.expect(this.tok.T_FN)&&this.next();var g=this.is_reference();this.expect("(")&&this.next();var A=this.read_parameter_list();this.expect(")")&&this.next();var F=!1,N=null;this.token===":"&&(this.next().token==="?"&&(F=!0,this.next()),N=this.read_types()),this.expect(this.tok.T_DOUBLE_ARROW)&&this.next();var B=p(A,g,this.read_expr(),N,F,!!a);return B.attrGroups=c,B},read_match_expression:function(){var a=this.node("match");this.expect(this.tok.T_MATCH)&&this.next(),this.version<800&&this.raiseError("Match statements are not allowed before PHP 8");var c,f;return this.expect("(")&&this.next(),c=this.read_expr(),this.expect(")")&&this.next(),this.expect("{")&&this.next(),f=this.read_match_arms(),this.expect("}")&&this.next(),a(c,f)},read_match_arms:function(){var a=this;return this.read_list(function(){return a.read_match_arm()},",",!0)},read_match_arm:function(){if(this.token!=="}")return this.node("matcharm")(this.read_match_arm_conds(),this.read_expr())},read_match_arm_conds:function(){var a=[];if(this.token===this.tok.T_DEFAULT)a=null,this.next();else for(a.push(this.read_expr());this.token===",";){if(this.next(),this.token===this.tok.T_DOUBLE_ARROW)return this.next(),a;a.push(this.read_expr())}return this.expect(this.tok.T_DOUBLE_ARROW)&&this.next(),a},read_attribute(){var a=this.text(),c=[];return this.next(),this.token==="("&&(c=this.read_argument_list()),this.node("attribute")(a,c)},read_attr_list(){var a=[];if(this.token===this.tok.T_ATTRIBUTE)do{var c=this.node("attrgroup")([]);for(this.next(),c.attrs.push(this.read_attribute());this.token===",";)this.next(),this.token!=="]"&&c.attrs.push(this.read_attribute());a.push(c),this.expect("]"),this.next()}while(this.token===this.tok.T_ATTRIBUTE);return a},read_new_expr:function(){var a=this.node("new");this.expect(this.tok.T_NEW)&&this.next();var c=[],f=this.read_attr_list();if(this.token===this.tok.T_CLASS){var p=this.node("class");this.next().token==="("&&(c=this.read_argument_list());var g=this.read_extends_from(),A=this.read_implements_list(),F=null;this.expect("{")&&(F=this.next().read_class_body());var N=p(null,g,A,F,[0,0,0]);return N.attrGroups=f,a(N,c)}var B=this.read_new_class_name();return this.token==="("&&(c=this.read_argument_list()),a(B,c)},read_new_class_name:function(){if(this.token===this.tok.T_NS_SEPARATOR||this.token===this.tok.T_STRING||this.token===this.tok.T_NAMESPACE){var a=this.read_namespace_name(!0);return this.token===this.tok.T_DOUBLE_COLON&&(a=this.read_static_getter(a)),a}if(this.is("VARIABLE"))return this.read_variable(!0,!1);this.expect([this.tok.T_STRING,"VARIABLE"])},handleDereferencable:function(a){for(;this.token!==this.EOF;)if(this.token===this.tok.T_OBJECT_OPERATOR||this.token===this.tok.T_DOUBLE_COLON)a=this.recursive_variable_chain_scan(a,!1,!1,!0);else if(this.token===this.tok.T_CURLY_OPEN||this.token==="[")a=this.read_dereferencable(a);else{if(this.token!=="(")return a;a=this.node("call")(a,this.read_argument_list())}return a}};Se.read_expr,Se.read_expr_cast,Se.read_isset_variable,Se.read_isset_variables,Se.read_internal_functions_in_yacc,Se.read_optional_expr,Se.read_exit_expr,Se.read_expr_item,Se.convertToList,Se.read_assignref,Se.read_inline_function,Se.read_match_expression,Se.read_match_arms,Se.read_match_arm,Se.read_match_arm_conds,Se.read_attribute,Se.read_attr_list,Se.read_new_expr,Se.read_new_class_name,Se.handleDereferencable;var se={is_reference:function(){return this.token=="&"&&(this.next(),!0)},is_variadic:function(){return this.token===this.tok.T_ELLIPSIS&&(this.next(),!0)},read_function:function(a,c,f,p){var g=this.read_function_declaration(a?1:c?2:0,c&&c[1]===1,f||[],p);return c&&c[2]==1?(g.parseFlags(c),this.expect(";")&&this.next()):(this.expect("{")&&(g.body=this.read_code_block(!1),g.loc&&g.body.loc&&(g.loc.end=g.body.loc.end)),!a&&c&&g.parseFlags(c)),g},read_function_declaration:function(a,c,f,p){var g=this,A="function";a===1?A="closure":a===2&&(A="method");var F=this.node(A);this.expect(this.tok.T_FUNCTION)&&this.next();var N=this.is_reference(),B=!1,q=[],R=null,Oe=!1;if(a!==1){var we=this.node("identifier");a===2?this.version>=700?this.token===this.tok.T_STRING||this.is("IDENTIFIER")?(B=this.text(),this.next()):this.version<704&&this.error("IDENTIFIER"):this.token===this.tok.T_STRING?(B=this.text(),this.next()):this.error("IDENTIFIER"):this.version>=700?this.token===this.tok.T_STRING?(B=this.text(),this.next()):this.version>=704?this.expect("(")||this.next():(this.error(this.tok.T_STRING),this.next()):(this.expect(this.tok.T_STRING)&&(B=this.text()),this.next()),B=we(B)}this.expect("(")&&this.next();var tt=this.read_parameter_list();this.expect(")")&&this.next(),a===1&&(q=this.read_lexical_vars()),this.token===":"&&(this.next().token==="?"&&(Oe=!0,this.next()),R=this.read_types());var _t=function(Ee){return Ee.attrGroups=f||[],p&&Ee.loc&&(Ee.loc.start=p,Ee.loc.source&&(Ee.loc.source=g.lexer._input.substr(Ee.loc.start.offset,Ee.loc.end.offset-Ee.loc.start.offset))),Ee};return _t(a===1?F(tt,N,q,R,Oe,c):F(B,tt,N,R,Oe))},read_lexical_vars:function(){var a=[];return this.token===this.tok.T_USE&&(this.next(),this.expect("(")&&this.next(),a=this.read_lexical_var_list(),this.expect(")")&&this.next()),a},read_list_with_dangling_comma:function(a){for(var c=[];this.token!=this.EOF;){if(c.push(a()),this.token!=","){if(this.token==")")break;this.error([",",")"]);break}if(this.next(),this.version>=800&&this.token===")")return c}return c},read_lexical_var_list:function(){return this.read_list_with_dangling_comma(this.read_lexical_var.bind(this))},read_lexical_var:function(){if(this.token==="&")return this.read_byref(this.read_lexical_var.bind(this));var a=this.node("variable");this.expect(this.tok.T_VARIABLE);var c=this.text().substring(1);return this.next(),a(c,!1)},read_parameter_list:function(){return this.token!=")"?this.read_list_with_dangling_comma(this.read_parameter.bind(this)):[]},read_parameter:function(){var a,c=this.node("parameter"),f=null,p=null,g=!1,A=[];this.token===this.tok.T_ATTRIBUTE&&(A=this.read_attr_list());var F=this.read_promoted();this.token==="?"&&(this.next(),g=!0),a=this.read_types(),g&&!a&&this.raiseError("Expecting a type definition combined with nullable operator");var N=this.is_reference(),B=this.is_variadic();if(this.expect(this.tok.T_VARIABLE)){f=this.node("identifier");var q=this.text().substring(1);this.next(),f=f(q)}this.token=="="&&(p=this.next().read_expr());var R=c(f,a,p,N,B,g,F);return A&&(R.attrGroups=A),R},read_types(){var a=[],c=this.node("uniontype"),f=this.read_type();if(!f)return null;for(a.push(f);this.token==="|";)this.next(),f=this.read_type(),a.push(f);return a.length===1?a[0]:c(a)},read_promoted(){return this.token===this.tok.T_PUBLIC?(this.next(),1):this.token===this.tok.T_PROTECTED?(this.next(),2):this.token===this.tok.T_PRIVATE?(this.next(),4):0},read_argument_list:function(){var a=[];return this.expect("(")&&this.next(),this.token!==")"&&(a=this.read_non_empty_argument_list()),this.expect(")")&&this.next(),a},read_non_empty_argument_list:function(){var a=!1;return this.read_function_list(function(){var c=this.read_argument();return c&&(a&&this.raiseError("Unexpected argument after a variadic argument"),c.kind==="variadic"&&(a=!0)),c}.bind(this),",")},read_argument:function(){if(this.token===this.tok.T_ELLIPSIS)return this.node("variadic")(this.next().read_expr());if(this.token===this.tok.T_STRING||Object.values(this.lexer.keywords).includes(this.token)){var a=this.lexer.getState(),c=this.lexer.lex();if(this.lexer.setState(a),c===":")return this.version<800&&this.raiseError("PHP 8+ is required to use named arguments"),this.node("namedargument")(this.text(),this.next().next().read_expr())}return this.read_expr()},read_type:function(){var a=this.node();if(this.token===this.tok.T_ARRAY||this.token===this.tok.T_CALLABLE){var c=this.text();return this.next(),a("typereference",c.toLowerCase(),c)}if(this.token===this.tok.T_STRING||this.token===this.tok.T_STATIC){var f=this.text(),p=[this.token,this.lexer.getState()];return this.next(),this.token!==this.tok.T_NS_SEPARATOR&&this.ast.typereference.types.indexOf(f.toLowerCase())>-1?a("typereference",f.toLowerCase(),f):(this.lexer.tokens.push(p),this.next(),a.destroy(),this.read_namespace_name())}return this.token===this.tok.T_NAMESPACE||this.token===this.tok.T_NS_SEPARATOR?(a.destroy(),this.read_namespace_name()):(a.destroy(),null)}};se.is_reference,se.is_variadic,se.read_function,se.read_function_declaration,se.read_lexical_vars,se.read_list_with_dangling_comma,se.read_lexical_var_list,se.read_lexical_var,se.read_parameter_list,se.read_parameter,se.read_types,se.read_promoted,se.read_argument_list,se.read_non_empty_argument_list,se.read_argument,se.read_type;var rt={read_if:function(){var a=this.node("if"),c=this.next().read_if_expr(),f=null,p=null,g=!1;if(this.token===":"){g=!0,this.next(),f=this.node("block");for(var A=[];this.token!==this.EOF&&this.token!==this.tok.T_ENDIF;){if(this.token===this.tok.T_ELSEIF){p=this.read_elseif_short();break}if(this.token===this.tok.T_ELSE){p=this.read_else_short();break}A.push(this.read_inner_statement())}f=f(null,A),this.expect(this.tok.T_ENDIF)&&this.next(),this.expectEndOfStatement()}else f=this.read_statement(),this.token===this.tok.T_ELSEIF?p=this.read_if():this.token===this.tok.T_ELSE&&(p=this.next().read_statement());return a(c,f,p,g)},read_if_expr:function(){this.expect("(")&&this.next();var a=this.read_expr();return this.expect(")")&&this.next(),a},read_elseif_short:function(){var a=null,c=this.node("if"),f=this.next().read_if_expr();this.expect(":")&&this.next();for(var p=this.node("block"),g=[];this.token!=this.EOF&&this.token!==this.tok.T_ENDIF;){if(this.token===this.tok.T_ELSEIF){a=this.read_elseif_short();break}if(this.token===this.tok.T_ELSE){a=this.read_else_short();break}g.push(this.read_inner_statement())}return c(f,p(null,g),a,!0)},read_else_short:function(){this.next().expect(":")&&this.next();for(var a=this.node("block"),c=[];this.token!=this.EOF&&this.token!==this.tok.T_ENDIF;)c.push(this.read_inner_statement());return a(null,c)}};rt.read_if,rt.read_if_expr,rt.read_elseif_short,rt.read_else_short;var Ct={read_while:function(){var a=this.node("while");this.expect(this.tok.T_WHILE)&&this.next();var c,f=null,p=!1;return this.expect("(")&&this.next(),c=this.read_expr(),this.expect(")")&&this.next(),this.token===":"?(p=!0,f=this.read_short_form(this.tok.T_ENDWHILE)):f=this.read_statement(),a(c,f,p)},read_do:function(){var a=this.node("do");this.expect(this.tok.T_DO)&&this.next();var c,f=null;return c=this.read_statement(),this.expect(this.tok.T_WHILE)&&(this.next().expect("(")&&this.next(),f=this.read_expr(),this.expect(")")&&this.next(),this.expect(";")&&this.next()),a(f,c)},read_for:function(){var a=this.node("for");this.expect(this.tok.T_FOR)&&this.next();var c=[],f=[],p=[],g=null,A=!1;return this.expect("(")&&this.next(),this.token!==";"?(c=this.read_list(this.read_expr,","),this.expect(";")&&this.next()):this.next(),this.token!==";"?(f=this.read_list(this.read_expr,","),this.expect(";")&&this.next()):this.next(),this.token!==")"?(p=this.read_list(this.read_expr,","),this.expect(")")&&this.next()):this.next(),this.token===":"?(A=!0,g=this.read_short_form(this.tok.T_ENDFOR)):g=this.read_statement(),a(c,f,p,g,A)},read_foreach:function(){var a=this.node("foreach");this.expect(this.tok.T_FOREACH)&&this.next();var c,f=null,p=null,g=null,A=!1;return this.expect("(")&&this.next(),c=this.read_expr(),this.expect(this.tok.T_AS)&&(this.next(),p=this.read_foreach_variable(),this.token===this.tok.T_DOUBLE_ARROW&&(f=p,p=this.next().read_foreach_variable())),f&&f.kind==="list"&&this.raiseError("Fatal Error : Cannot use list as key element"),this.expect(")")&&this.next(),this.token===":"?(A=!0,g=this.read_short_form(this.tok.T_ENDFOREACH)):g=this.read_statement(),a(c,f,p,g,A)},read_foreach_variable:function(){if(this.token===this.tok.T_LIST||this.token==="["){var a=this.token==="[",c=this.node("list");this.next(),!a&&this.expect("(")&&this.next();var f=this.read_array_pair_list(a);return this.expect(a?"]":")")&&this.next(),c(f,a)}return this.read_variable(!1,!1)}};Ct.read_while,Ct.read_do,Ct.read_for,Ct.read_foreach,Ct.read_foreach_variable;var Ln={read_start:function(){return this.token==this.tok.T_NAMESPACE?this.read_namespace():this.read_top_statement()}};Ln.read_start;var ot={read_namespace:function(){var a,c,f=this.node("namespace");return this.expect(this.tok.T_NAMESPACE)&&this.next(),c=this.token=="{"?{name:[""]}:this.read_namespace_name(),this.currentNamespace=c,this.token==";"?(this.currentNamespace=c,a=this.next().read_top_statements(),this.expect(this.EOF),f(c.name,a,!1)):this.token=="{"?(this.currentNamespace=c,a=this.next().read_top_statements(),this.expect("}")&&this.next(),a.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&a.push(this.node("noop")()),f(c.name,a,!0)):this.token==="("?(c.resolution=this.ast.reference.RELATIVE_NAME,c.name=c.name.substring(1),f.destroy(),this.node("call")(c,this.read_argument_list())):(this.error(["{",";"]),this.currentNamespace=c,a=this.read_top_statements(),this.expect(this.EOF),f(c,a,!1))},read_namespace_name:function(a){var c=this.node(),f=!1;this.token===this.tok.T_NAMESPACE&&(this.next().expect(this.tok.T_NS_SEPARATOR)&&this.next(),f=!0);var p=this.read_list(this.tok.T_STRING,this.tok.T_NS_SEPARATOR,!0);if(!f&&p.length===1&&(a||this.token!=="(")){if(p[0].toLowerCase()==="parent")return c("parentreference",p[0]);if(p[0].toLowerCase()==="self")return c("selfreference",p[0])}return c("name",p,f)},read_use_statement:function(){var a=this.node("usegroup"),c=[],f=null;this.expect(this.tok.T_USE)&&this.next();var p=this.read_use_type();return c.push(this.read_use_declaration(!1)),this.token===","?c=c.concat(this.next().read_use_declarations(!1)):this.token==="{"&&(f=c[0].name,c=this.next().read_use_declarations(p===null),this.expect("}")&&this.next()),a=a(f,p,c),this.expect(";")&&this.next(),a},read_class_name_reference:function(){return this.read_variable(!0,!1)},read_use_declaration:function(a){var c=this.node("useitem"),f=null;a&&(f=this.read_use_type());var p=this.read_namespace_name(),g=this.read_use_alias();return c(p.name,g,f)},read_use_declarations:function(a){for(var c=[this.read_use_declaration(a)];this.token===",";){if(this.next(),a){if(this.token!==this.tok.T_FUNCTION&&this.token!==this.tok.T_CONST&&this.token!==this.tok.T_STRING)break}else if(this.token!==this.tok.T_STRING&&this.token!==this.tok.T_NS_SEPARATOR)break;c.push(this.read_use_declaration(a))}return c},read_use_alias:function(){var a=null;if(this.token===this.tok.T_AS&&this.next().expect(this.tok.T_STRING)){var c=this.node("identifier"),f=this.text();this.next(),a=c(f)}return a},read_use_type:function(){return this.token===this.tok.T_FUNCTION?(this.next(),this.ast.useitem.TYPE_FUNCTION):this.token===this.tok.T_CONST?(this.next(),this.ast.useitem.TYPE_CONST):null}};ot.read_namespace,ot.read_namespace_name,ot.read_use_statement,ot.read_class_name_reference,ot.read_use_declaration,ot.read_use_declarations,ot.read_use_alias,ot.read_use_type;var Ut={"\\":"\\",$:"$",n:`
`,r:"\r",t:"	",f:String.fromCharCode(12),v:String.fromCharCode(11),e:String.fromCharCode(27)},Xn={resolve_special_chars:function(a,c){return c?a.replace(/\\"/,'"').replace(/\\([\\$nrtfve]|[xX][0-9a-fA-F]{1,2}|[0-7]{1,3}|u{([0-9a-fA-F]+)})/g,function(f,p,g){return Ut[p]?Ut[p]:p[0]==="x"||p[0]==="X"?String.fromCodePoint(parseInt(p.substr(1),16)):p[0]==="u"?String.fromCodePoint(parseInt(g,16)):String.fromCodePoint(parseInt(p,8))}):a.replace(/\\\\/g,"\\").replace(/\\'/g,"'")},remove_heredoc_leading_whitespace_chars:function(a,c,f,p){if(c===0)return a;this.check_heredoc_indentation_level(a,c,f,p);var g=f?" ":"	",A=new RegExp("\\n".concat(g,"{").concat(c,"}"),"g"),F=new RegExp("^".concat(g,"{").concat(c,"}"));return p&&(a=a.replace(F,"")),a.replace(A,`
`)},check_heredoc_indentation_level:function(a,c,f,p){var g=a.length,A=0,F=0,N=!0,B=f?" ":"	",q=!1;if(!p){if((A=a.indexOf(`
`))===-1)return;A++}for(;A<g;)N?a[A]===B?F++:q=!0:N=!1,a[A]!==`
`&&q&&F<c?this.raiseError("Invalid body indentation level (expecting an indentation at least ".concat(c,")")):q=!1,a[A]===`
`&&(N=!0,F=0),A++},read_dereferencable_scalar:function(){var a=null;switch(this.token){case this.tok.T_CONSTANT_ENCAPSED_STRING:var c=this.node("string"),f=this.text(),p=0;f[0]!=="b"&&f[0]!=="B"||(p=1);var g=f[p]==='"';this.next(),c=c(g,this.resolve_special_chars(f.substring(p+1,f.length-1),g),p===1,f),a=this.token===this.tok.T_DOUBLE_COLON?this.read_static_getter(c):c;break;case this.tok.T_ARRAY:case"[":a=this.read_array()}return a},read_scalar:function(){if(this.is("T_MAGIC_CONST"))return this.get_magic_constant();var a,c;switch(this.token){case this.tok.T_LNUMBER:case this.tok.T_DNUMBER:var f=this.node("number");return a=this.text(),this.next(),f(a,null);case this.tok.T_START_HEREDOC:if(this.lexer.curCondition==="ST_NOWDOC"){var p=this.lexer.yylloc.first_offset;c=this.node("nowdoc"),a=this.next().text(),this.lexer.heredoc_label.indentation>0&&(a=a.substring(0,a.length-this.lexer.heredoc_label.indentation));var g=a[a.length-1];g===`
`?a=a[a.length-2]==="\r"?a.substring(0,a.length-2):a.substring(0,a.length-1):g==="\r"&&(a=a.substring(0,a.length-1)),this.expect(this.tok.T_ENCAPSED_AND_WHITESPACE)&&this.next(),this.expect(this.tok.T_END_HEREDOC)&&this.next();var A=this.lexer._input.substring(p,this.lexer.yylloc.first_offset);return c=c(this.remove_heredoc_leading_whitespace_chars(a,this.lexer.heredoc_label.indentation,this.lexer.heredoc_label.indentation_uses_spaces,this.lexer.heredoc_label.first_encaps_node),A,this.lexer.heredoc_label.label)}return this.read_encapsed_string(this.tok.T_END_HEREDOC);case'"':return this.read_encapsed_string('"');case'b"':case'B"':return this.read_encapsed_string('"',!0);case this.tok.T_CONSTANT_ENCAPSED_STRING:case this.tok.T_ARRAY:case"[":return this.read_dereferencable_scalar();default:var F=this.error("SCALAR");return this.next(),F}},read_dereferencable:function(a){var c,f,p=this.node("offsetlookup");return this.token==="["?(f=this.next().read_expr(),this.expect("]")&&this.next(),c=p(a,f)):this.token===this.tok.T_DOLLAR_OPEN_CURLY_BRACES&&(c=p(a,f=this.read_encapsed_string_item(!1))),c},read_encapsed_string_item:function(a){var c,f,p,g=this.node("encapsedpart"),A=null,F=!1,N=this.node();if(this.token===this.tok.T_ENCAPSED_AND_WHITESPACE){var B=this.text();this.next(),N=N("string",!1,this.version>=703&&!this.lexer.heredoc_label.finished?this.remove_heredoc_leading_whitespace_chars(this.resolve_special_chars(B,a),this.lexer.heredoc_label.indentation,this.lexer.heredoc_label.indentation_uses_spaces,this.lexer.heredoc_label.first_encaps_node):B,!1,B)}else if(this.token===this.tok.T_DOLLAR_OPEN_CURLY_BRACES){if(A="simple",F=!0,p=null,this.next().token===this.tok.T_STRING_VARNAME){p=this.node("variable");var q=this.text();this.next(),this.token==="["?(p=p(q,!1),f=this.node("offsetlookup"),c=this.next().read_expr(),this.expect("]")&&this.next(),N=f(p,c)):N=p(q,!1)}else N=N("variable",this.read_expr(),!1);this.expect("}")&&this.next()}else if(this.token===this.tok.T_CURLY_OPEN)A="complex",N.destroy(),N=this.next().read_variable(!1,!1),this.expect("}")&&this.next();else if(this.token===this.tok.T_VARIABLE){if(A="simple",N.destroy(),N=this.read_simple_variable(),this.token==="["&&(f=this.node("offsetlookup"),c=this.next().read_encaps_var_offset(),this.expect("]")&&this.next(),N=f(N,c)),this.token===this.tok.T_OBJECT_OPERATOR){f=this.node("propertylookup"),this.next().expect(this.tok.T_STRING);var R=this.node("identifier");p=this.text(),this.next(),N=f(N,R(p))}}else{this.expect(this.tok.T_ENCAPSED_AND_WHITESPACE);var Oe=this.text();this.next(),N.destroy(),N=N("string",!1,Oe,!1,Oe)}return this.lexer.heredoc_label.first_encaps_node=!1,g(N,A,F)},read_encapsed_string:function(a){var c=arguments.length>1&&arguments[1]!==void 0&&arguments[1],f=this.lexer.yylloc.first_offset,p=this.node("encapsed");this.next();var g=this.lexer.yylloc.prev_offset-(c?1:0),A=[],F=null;for(F=a==="`"?this.ast.encapsed.TYPE_SHELL:a==='"'?this.ast.encapsed.TYPE_STRING:this.ast.encapsed.TYPE_HEREDOC;this.token!==a&&this.token!==this.EOF;)A.push(this.read_encapsed_string_item(!0));if(A.length>0&&A[A.length-1].kind==="encapsedpart"&&A[A.length-1].expression.kind==="string"){var N=A[A.length-1].expression,B=N.value[N.value.length-1];B===`
`?N.value[N.value.length-2]==="\r"?N.value=N.value.substring(0,N.value.length-2):N.value=N.value.substring(0,N.value.length-1):B==="\r"&&(N.value=N.value.substring(0,N.value.length-1))}this.expect(a)&&this.next();var q=this.lexer._input.substring(F==="heredoc"?f:g-1,this.lexer.yylloc.first_offset);return p=p(A,q,F),a===this.tok.T_END_HEREDOC&&(p.label=this.lexer.heredoc_label.label,this.lexer.heredoc_label.finished=!0),p},get_magic_constant:function(){var a=this.node("magic"),c=this.text();return this.next(),a(c.toUpperCase(),c)}};Xn.resolve_special_chars,Xn.remove_heredoc_leading_whitespace_chars,Xn.check_heredoc_indentation_level,Xn.read_dereferencable_scalar,Xn.read_scalar,Xn.read_dereferencable,Xn.read_encapsed_string_item,Xn.read_encapsed_string,Xn.get_magic_constant;var cr={read_top_statements:function(){for(var a=[];this.token!==this.EOF&&this.token!=="}";){var c=this.read_top_statement();c&&(Array.isArray(c)?a=a.concat(c):a.push(c))}return a},read_top_statement:function(){var a=[];switch(this.token===this.tok.T_ATTRIBUTE&&(a=this.read_attr_list()),this.token){case this.tok.T_FUNCTION:return this.read_function(!1,!1,a);case this.tok.T_ABSTRACT:case this.tok.T_FINAL:case this.tok.T_CLASS:return this.read_class_declaration_statement(a);case this.tok.T_INTERFACE:return this.read_interface_declaration_statement(a);case this.tok.T_TRAIT:return this.read_trait_declaration_statement();case this.tok.T_USE:return this.read_use_statement();case this.tok.T_CONST:var c=this.node("constantstatement"),f=this.next().read_const_list();return this.expectEndOfStatement(),c(null,f);case this.tok.T_NAMESPACE:return this.read_namespace();case this.tok.T_HALT_COMPILER:var p=this.node("halt");return this.next().expect("(")&&this.next(),this.expect(")")&&this.next(),this.expect(";"),this.lexer.done=!0,p(this.lexer._input.substring(this.lexer.offset));default:return this.read_statement()}},read_inner_statements:function(){for(var a=[];this.token!=this.EOF&&this.token!=="}";){var c=this.read_inner_statement();c&&(Array.isArray(c)?a=a.concat(c):a.push(c))}return a},read_const_list:function(){return this.read_list(function(){this.expect(this.tok.T_STRING);var a=this.node("constant"),c=this.node("identifier"),f=this.text();return this.next(),c=c(f),this.expect("=")?a(c,this.next().read_expr()):a(c,null)},",",!1)},read_declare_list:function(){for(var a=[];this.token!=this.EOF&&this.token!==")";){this.expect(this.tok.T_STRING);var c=this.node("declaredirective"),f=this.node("identifier"),p=this.text();this.next(),f=f(p);var g=null;if(this.expect("=")&&(g=this.next().read_expr()),a.push(c(f,g)),this.token!==",")break;this.next()}return a},read_inner_statement:function(){var a=[];switch(this.token===this.tok.T_ATTRIBUTE&&(a=this.read_attr_list()),this.token){case this.tok.T_FUNCTION:var c=this.read_function(!1,!1);return c.attrGroups=a,c;case this.tok.T_ABSTRACT:case this.tok.T_FINAL:case this.tok.T_CLASS:return this.read_class_declaration_statement();case this.tok.T_INTERFACE:return this.read_interface_declaration_statement();case this.tok.T_TRAIT:return this.read_trait_declaration_statement();case this.tok.T_HALT_COMPILER:this.raiseError("__HALT_COMPILER() can only be used from the outermost scope");var f=this.node("halt");return this.next().expect("(")&&this.next(),this.expect(")")&&this.next(),f=f(this.lexer._input.substring(this.lexer.offset)),this.expect(";")&&this.next(),f;default:return this.read_statement()}},read_statement:function(){switch(this.token){case"{":return this.read_code_block(!1);case this.tok.T_IF:return this.read_if();case this.tok.T_SWITCH:return this.read_switch();case this.tok.T_FOR:return this.read_for();case this.tok.T_FOREACH:return this.read_foreach();case this.tok.T_WHILE:return this.read_while();case this.tok.T_DO:return this.read_do();case this.tok.T_COMMENT:return this.read_comment();case this.tok.T_DOC_COMMENT:return this.read_doc_comment();case this.tok.T_RETURN:var a=this.node("return");this.next();var c=this.read_optional_expr(";");return this.expectEndOfStatement(),a(c);case this.tok.T_BREAK:case this.tok.T_CONTINUE:var f=this.node(this.token===this.tok.T_CONTINUE?"continue":"break");this.next();var p=this.read_optional_expr(";");return this.expectEndOfStatement(),f(p);case this.tok.T_GLOBAL:var g=this.node("global"),A=this.next().read_list(this.read_simple_variable,",");return this.expectEndOfStatement(),g(A);case this.tok.T_STATIC:var F=[this.token,this.lexer.getState()],N=this.node();if(this.next().token===this.tok.T_DOUBLE_COLON){this.lexer.tokens.push(F);var B=this.next().read_expr();return this.expectEndOfStatement(B),N("expressionstatement",B)}if(this.token===this.tok.T_FUNCTION)return this.read_function(!0,[0,1,0]);var q=this.read_variable_declarations();return this.expectEndOfStatement(),N("static",q);case this.tok.T_ECHO:var R=this.node("echo"),Oe=this.text(),we=Oe==="<?="||Oe==="<%=",tt=this.next().read_function_list(this.read_expr,",");return this.expectEndOfStatement(),R(tt,we);case this.tok.T_INLINE_HTML:var _t=this.text(),Ee=this.lexer.yylloc.first_offset>0?this.lexer._input[this.lexer.yylloc.first_offset-1]:null,dt=Ee==="\r"||Ee===`
`;dt&&Ee===`
`&&this.lexer.yylloc.first_offset>1&&this.lexer._input[this.lexer.yylloc.first_offset-2]==="\r"&&(Ee=`\r
`);var ze=this.node("inline");return this.next(),ze(_t,dt?Ee+_t:_t);case this.tok.T_UNSET:var Gt=this.node("unset");this.next().expect("(")&&this.next();var Bt=this.read_function_list(this.read_variable,",");return this.expect(")")&&this.next(),this.expect(";")&&this.next(),Gt(Bt);case this.tok.T_DECLARE:var pt,je=this.node("declare"),Pt=[];this.next().expect("(")&&this.next();var zt=this.read_declare_list();if(this.expect(")")&&this.next(),this.token===":"){for(this.next();this.token!=this.EOF&&this.token!==this.tok.T_ENDDECLARE;)Pt.push(this.read_top_statement());Pt.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&Pt.push(this.node("noop")()),this.expect(this.tok.T_ENDDECLARE)&&this.next(),this.expectEndOfStatement(),pt=this.ast.declare.MODE_SHORT}else if(this.token==="{"){for(this.next();this.token!=this.EOF&&this.token!=="}";)Pt.push(this.read_top_statement());Pt.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&Pt.push(this.node("noop")()),this.expect("}")&&this.next(),pt=this.ast.declare.MODE_BLOCK}else this.expect(";")&&this.next(),pt=this.ast.declare.MODE_NONE;return je(zt,Pt,pt);case this.tok.T_TRY:return this.read_try();case this.tok.T_THROW:var Rs=this.node("throw"),Mn=this.next().read_expr();return this.expectEndOfStatement(),Rs(Mn);case";":return this.next(),null;case this.tok.T_STRING:var pr=this.node(),da=[this.token,this.lexer.getState()],pa=this.text(),Lr=this.node("identifier");if(this.next().token===":")return Lr=Lr(pa),this.next(),pr("label",Lr);Lr.destroy(),pr.destroy(),this.lexer.tokens.push(da);var ts=this.node("expressionstatement"),hr=this.next().read_expr();return this.expectEndOfStatement(hr),ts(hr);case this.tok.T_GOTO:var ha=this.node("goto"),mr=null;if(this.next().expect(this.tok.T_STRING)){mr=this.node("identifier");var ks=this.text();this.next(),mr=mr(ks),this.expectEndOfStatement()}return ha(mr);default:var Dr=this.node("expressionstatement"),ns=this.read_expr();return this.expectEndOfStatement(ns),Dr(ns)}},read_code_block:function(a){var c=this.node("block");this.expect("{")&&this.next();var f=a?this.read_top_statements():this.read_inner_statements();return f.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&f.push(this.node("noop")()),this.expect("}")&&this.next(),c(null,f)}};cr.read_top_statements,cr.read_top_statement,cr.read_inner_statements,cr.read_const_list,cr.read_declare_list,cr.read_inner_statement,cr.read_statement,cr.read_code_block;var zi={read_switch:function(){var a=this.node("switch");this.expect(this.tok.T_SWITCH)&&this.next(),this.expect("(")&&this.next();var c=this.read_expr();this.expect(")")&&this.next();var f=this.token===":";return a(c,this.read_switch_case_list(),f)},read_switch_case_list:function(){var a=null,c=this.node("block"),f=[];for(this.token==="{"?a="}":this.token===":"?a=this.tok.T_ENDSWITCH:this.expect(["{",":"]),this.next(),this.token===";"&&this.next();this.token!==this.EOF&&this.token!==a;)f.push(this.read_case_list(a));return f.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&f.push(this.node("noop")()),this.expect(a)&&this.next(),a===this.tok.T_ENDSWITCH&&this.expectEndOfStatement(),c(null,f)},read_case_list:function(a){var c=this.node("case"),f=null;this.token===this.tok.T_CASE?f=this.next().read_expr():this.token===this.tok.T_DEFAULT?this.next():this.expect([this.tok.T_CASE,this.tok.T_DEFAULT]),this.expect([":",";"])&&this.next();for(var p=this.node("block"),g=[];this.token!==this.EOF&&this.token!==a&&this.token!==this.tok.T_CASE&&this.token!==this.tok.T_DEFAULT;)g.push(this.read_inner_statement());return c(f,p(null,g))}};zi.read_switch,zi.read_switch_case_list,zi.read_case_list;var eo={read_try:function(){this.expect(this.tok.T_TRY);for(var a=this.node("try"),c=null,f=[],p=this.next().read_statement();this.token===this.tok.T_CATCH;){var g=this.node("catch");this.next().expect("(")&&this.next();var A=this.read_list(this.read_namespace_name,"|",!1),F=null;this.token===this.tok.T_VARIABLE&&(F=this.read_variable(!0,!1)),this.expect(")"),f.push(g(this.next().read_statement(),A,F))}return this.token===this.tok.T_FINALLY&&(c=this.next().read_statement()),a(p,f,c)}};eo.read_try;var Jn={read_short_form:function(a){var c=this.node("block"),f=[];for(this.expect(":")&&this.next();this.token!=this.EOF&&this.token!==a;)f.push(this.read_inner_statement());return f.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&f.push(this.node("noop")()),this.expect(a)&&this.next(),this.expectEndOfStatement(),c(null,f)},read_function_list:function(a,c){var f=[];do{if(this.token==c&&this.version>=703&&f.length>0){f.push(this.node("noop")());break}if(f.push(a.apply(this,[])),this.token!=c||this.next().token==")"&&this.version>=703)break}while(this.token!=this.EOF);return f},read_list:function(a,c,f){var p=[];if(this.token==c&&(f&&p.push(typeof a=="function"?this.node("noop")():null),this.next()),typeof a=="function")do{var g=a.apply(this,[]);if(g&&p.push(g),this.token!=c)break}while(this.next().token!=this.EOF);else{if(!this.expect(a))return[];for(p.push(this.text());this.next().token!=this.EOF&&this.token==c&&this.next().token==a;)p.push(this.text())}return p},read_name_list:function(){return this.read_list(this.read_namespace_name,",",!1)},read_byref:function(a){var c=this.node("byref");this.next(),c=c(null);var f=a();return f&&(this.ast.swapLocations(f,c,f,this),f.byref=!0),f},read_variable_declarations:function(){return this.read_list(function(){var a=this.node("staticvariable"),c=this.node("variable");if(this.expect(this.tok.T_VARIABLE)){var f=this.text().substring(1);this.next(),c=c(f,!1)}else c=c("#ERR",!1);return this.token==="="?a(c,this.next().read_expr()):c},",")},read_extends_from:function(){return this.token===this.tok.T_EXTENDS?this.next().read_namespace_name():null},read_interface_extends_list:function(){return this.token===this.tok.T_EXTENDS?this.next().read_name_list():null},read_implements_list:function(){return this.token===this.tok.T_IMPLEMENTS?this.next().read_name_list():null}};Jn.read_short_form,Jn.read_function_list,Jn.read_list,Jn.read_name_list,Jn.read_byref,Jn.read_variable_declarations,Jn.read_extends_from,Jn.read_interface_extends_list,Jn.read_implements_list;var Or={read_variable:function(a,c){var f;if(this.token==="&")return this.read_byref(this.read_variable.bind(this,a,c));if(this.is([this.tok.T_VARIABLE,"$"]))f=this.read_reference_variable(c);else if(this.is([this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_NAMESPACE])){f=this.node();var p=this.read_namespace_name();if(this.token!=this.tok.T_DOUBLE_COLON&&this.token!="("&&["parentreference","selfreference"].indexOf(p.kind)===-1){var g=p.name.toLowerCase();g==="true"?f=p.destroy(f("boolean",!0,p.name)):g==="false"?f=p.destroy(f("boolean",!1,p.name)):g==="null"?f=p.destroy(f("nullkeyword",p.name)):(f.destroy(p),f=p)}else f.destroy(p),f=p}else if(this.token===this.tok.T_STATIC){f=this.node("staticreference");var A=this.text();this.next(),f=f(A)}else this.expect("VARIABLE");return this.token===this.tok.T_DOUBLE_COLON&&(f=this.read_static_getter(f,c)),this.recursive_variable_chain_scan(f,a,c)},read_static_getter:function(a,c){var f,p,g=this.node("staticlookup");return this.next().is([this.tok.T_VARIABLE,"$"])?f=this.read_reference_variable(c):this.token===this.tok.T_STRING||this.token===this.tok.T_CLASS||this.version>=700&&this.is("IDENTIFIER")?(f=this.node("identifier"),p=this.text(),this.next(),f=f(p)):this.token==="{"?(f=this.node("literal"),p=this.next().read_expr(),this.expect("}")&&this.next(),f=f("literal",p,null),this.expect("(")):(this.error([this.tok.T_VARIABLE,this.tok.T_STRING]),f=this.node("identifier"),p=this.text(),this.next(),f=f(p)),g(a,f)},read_what:function(){var a=arguments.length>0&&arguments[0]!==void 0&&arguments[0],c=null,f=null;switch(this.next().token){case this.tok.T_STRING:c=this.node("identifier"),f=this.text(),this.next(),c=c(f),a&&this.token===this.tok.T_OBJECT_OPERATOR&&this.error();break;case this.tok.T_VARIABLE:c=this.node("variable"),f=this.text().substring(1),this.next(),c=c(f,!1);break;case"$":c=this.node(),this.next().expect(["$","{",this.tok.T_VARIABLE]),this.token==="{"?(f=this.next().read_expr(),this.expect("}")&&this.next(),c=c("variable",f,!0)):c=c("variable",f=this.read_expr(),!1);break;case"{":c=this.node("encapsedpart"),f=this.next().read_expr(),this.expect("}")&&this.next(),c=c(f,"complex",!1);break;default:this.error([this.tok.T_STRING,this.tok.T_VARIABLE,"$","{"]),c=this.node("identifier"),f=this.text(),this.next(),c=c(f)}return c},recursive_variable_chain_scan:function(a,c,f){var p,g;e:for(;this.token!=this.EOF;)switch(this.token){case"(":if(c)return a;a=this.node("call")(a,this.read_argument_list());break;case"[":case"{":var A=this.token==="[";p=this.node("offsetlookup"),this.next(),g=!1,f?(g=this.read_encaps_var_offset(),this.expect(A?"]":"}")&&this.next()):(A?this.token!=="]":this.token!=="}")?(g=this.read_expr(),this.expect(A?"]":"}")&&this.next()):this.next(),a=p(a,g);break;case this.tok.T_DOUBLE_COLON:a.kind==="staticlookup"&&a.offset.kind==="identifier"&&this.error(),a=(p=this.node("staticlookup"))(a,this.read_what(!0));break;case this.tok.T_OBJECT_OPERATOR:a=(p=this.node("propertylookup"))(a,this.read_what());break;case this.tok.T_NULLSAFE_OBJECT_OPERATOR:a=(p=this.node("nullsafepropertylookup"))(a,this.read_what());break;default:break e}return a},read_encaps_var_offset:function(){var a=this.node();if(this.token===this.tok.T_STRING){var c=this.text();this.next(),a=a("identifier",c)}else if(this.token===this.tok.T_NUM_STRING){var f=this.text();this.next(),a=a("number",f,null)}else if(this.token==="-"){this.next();var p=-1*this.text();this.expect(this.tok.T_NUM_STRING)&&this.next(),a=a("number",p,null)}else if(this.token===this.tok.T_VARIABLE){var g=this.text().substring(1);this.next(),a=a("variable",g,!1)}else{this.expect([this.tok.T_STRING,this.tok.T_NUM_STRING,"-",this.tok.T_VARIABLE]);var A=this.text();this.next(),a=a("identifier",A)}return a},read_reference_variable:function(a){for(var c,f=this.read_simple_variable();this.token!=this.EOF;){var p=this.node();if(this.token!="{"||a){p.destroy();break}c=this.next().read_expr(),this.expect("}")&&this.next(),f=p("offsetlookup",f,c)}return f},read_simple_variable:function(){var a,c=this.node("variable");if(this.expect([this.tok.T_VARIABLE,"$"])&&this.token===this.tok.T_VARIABLE)a=this.text().substring(1),this.next(),c=c(a,!1);else switch(this.token==="$"&&this.next(),this.token){case"{":var f=this.next().read_expr();this.expect("}")&&this.next(),c=c(f,!0);break;case"$":c=c(this.read_simple_variable(),!1);break;case this.tok.T_VARIABLE:a=this.text().substring(1);var p=this.node("variable");this.next(),c=c(p(a,!1),!1);break;default:this.error(["{","$",this.tok.T_VARIABLE]),a=this.text(),this.next(),c=c(a,!1)}return c}};function aa(a){return a!="."&&a!=","&&!isNaN(parseFloat(a))&&isFinite(a)}Or.read_variable,Or.read_static_getter,Or.read_what,Or.recursive_variable_chain_scan,Or.read_encaps_var_offset,Or.read_reference_variable,Or.read_simple_variable;var jt=function(a,c){this.lexer=a,this.ast=c,this.tok=a.tok,this.EOF=a.EOF,this.token=null,this.prev=null,this.debug=!1,this.version=800,this.extractDoc=!1,this.extractTokens=!1,this.suppressErrors=!1;var f=function(p){return[p,null]};this.entries={IDENTIFIER:new Map([this.tok.T_ABSTRACT,this.tok.T_ARRAY,this.tok.T_AS,this.tok.T_BREAK,this.tok.T_CALLABLE,this.tok.T_CASE,this.tok.T_CATCH,this.tok.T_CLASS,this.tok.T_CLASS_C,this.tok.T_CLONE,this.tok.T_CONST,this.tok.T_CONTINUE,this.tok.T_DECLARE,this.tok.T_DEFAULT,this.tok.T_DIR,this.tok.T_DO,this.tok.T_ECHO,this.tok.T_ELSE,this.tok.T_ELSEIF,this.tok.T_EMPTY,this.tok.T_ENDDECLARE,this.tok.T_ENDFOR,this.tok.T_ENDFOREACH,this.tok.T_ENDIF,this.tok.T_ENDSWITCH,this.tok.T_ENDWHILE,this.tok.T_EVAL,this.tok.T_EXIT,this.tok.T_EXTENDS,this.tok.T_FILE,this.tok.T_FINAL,this.tok.T_FINALLY,this.tok.T_FN,this.tok.T_FOR,this.tok.T_FOREACH,this.tok.T_FUNC_C,this.tok.T_FUNCTION,this.tok.T_GLOBAL,this.tok.T_GOTO,this.tok.T_IF,this.tok.T_IMPLEMENTS,this.tok.T_INCLUDE,this.tok.T_INCLUDE_ONCE,this.tok.T_INSTANCEOF,this.tok.T_INSTEADOF,this.tok.T_INTERFACE,this.tok.T_ISSET,this.tok.T_LINE,this.tok.T_LIST,this.tok.T_LOGICAL_AND,this.tok.T_LOGICAL_OR,this.tok.T_LOGICAL_XOR,this.tok.T_MATCH,this.tok.T_METHOD_C,this.tok.T_NAMESPACE,this.tok.T_NEW,this.tok.T_NS_C,this.tok.T_PRINT,this.tok.T_PRIVATE,this.tok.T_PROTECTED,this.tok.T_PUBLIC,this.tok.T_REQUIRE,this.tok.T_REQUIRE_ONCE,this.tok.T_RETURN,this.tok.T_STATIC,this.tok.T_SWITCH,this.tok.T_THROW,this.tok.T_TRAIT,this.tok.T_TRY,this.tok.T_UNSET,this.tok.T_USE,this.tok.T_VAR,this.tok.T_WHILE,this.tok.T_YIELD].map(f)),VARIABLE:new Map([this.tok.T_VARIABLE,"$","&",this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_NAMESPACE,this.tok.T_STATIC].map(f)),SCALAR:new Map([this.tok.T_CONSTANT_ENCAPSED_STRING,this.tok.T_START_HEREDOC,this.tok.T_LNUMBER,this.tok.T_DNUMBER,this.tok.T_ARRAY,"[",this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C,'"','b"','B"',"-",this.tok.T_NS_SEPARATOR].map(f)),T_MAGIC_CONST:new Map([this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C].map(f)),T_MEMBER_FLAGS:new Map([this.tok.T_PUBLIC,this.tok.T_PRIVATE,this.tok.T_PROTECTED,this.tok.T_STATIC,this.tok.T_ABSTRACT,this.tok.T_FINAL].map(f)),EOS:new Map([";",this.EOF,this.tok.T_INLINE_HTML].map(f)),EXPR:new Map(["@","-","+","!","~","(","`",this.tok.T_LIST,this.tok.T_CLONE,this.tok.T_INC,this.tok.T_DEC,this.tok.T_NEW,this.tok.T_ISSET,this.tok.T_EMPTY,this.tok.T_MATCH,this.tok.T_INCLUDE,this.tok.T_INCLUDE_ONCE,this.tok.T_REQUIRE,this.tok.T_REQUIRE_ONCE,this.tok.T_EVAL,this.tok.T_INT_CAST,this.tok.T_DOUBLE_CAST,this.tok.T_STRING_CAST,this.tok.T_ARRAY_CAST,this.tok.T_OBJECT_CAST,this.tok.T_BOOL_CAST,this.tok.T_UNSET_CAST,this.tok.T_EXIT,this.tok.T_PRINT,this.tok.T_YIELD,this.tok.T_STATIC,this.tok.T_FUNCTION,this.tok.T_FN,this.tok.T_VARIABLE,"$",this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_STRING,this.tok.T_CONSTANT_ENCAPSED_STRING,this.tok.T_START_HEREDOC,this.tok.T_LNUMBER,this.tok.T_DNUMBER,this.tok.T_ARRAY,"[",this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C,'"','b"','B"',"-",this.tok.T_NS_SEPARATOR].map(f))}};jt.prototype.getTokenName=function(a){return aa(a)?a==this.EOF?"the end of file (EOF)":this.lexer.engine.tokens.values[a]:"'"+a+"'"},jt.prototype.parse=function(a,c){this._errors=[],this.filename=c||"eval",this.currentNamespace=[""],this.extractDoc?this._docs=[]:this._docs=null,this.extractTokens?this._tokens=[]:this._tokens=null,this._docIndex=0,this._lastNode=null,this.lexer.setInput(a),this.lexer.all_tokens=this.extractTokens,this.lexer.comment_tokens=this.extractDoc,this.length=this.lexer._input.length,this.innerList=!1,this.innerListForm=!1;var f=this.node("program"),p=[];for(this.next();this.token!=this.EOF;)p.push(this.read_start());p.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&p.push(this.node("noop")()),this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset];var g=f(p,this._errors,this._docs,this._tokens);if(this.debug){var A=this.ast.checkNodes();if(A.length>0)throw A.forEach(function(F){F.position&&console.log("Node at line "+F.position.line+", column "+F.position.column),console.log(F.stack.join(`
`))}),new Error("Some nodes are not closed")}return g},jt.prototype.raiseError=function(a,c,f,p){if(a+=" on line "+this.lexer.yylloc.first_line,!this.suppressErrors){var g=new SyntaxError(a,this.filename,this.lexer.yylloc.first_line);throw g.lineNumber=this.lexer.yylloc.first_line,g.fileName=this.filename,g.columnNumber=this.lexer.yylloc.first_column,g}var A=this.ast.prepare("error",null,this)(a,p,this.lexer.yylloc.first_line,f);return this._errors.push(A),A},jt.prototype.error=function(a){var c="Parse Error : syntax error",f=this.getTokenName(this.token),p="";if(this.token!==this.EOF){if(aa(this.token)){var g=this.text();g.length>10&&(g=g.substring(0,7)+"..."),f="'"+g+"' ("+f+")"}c+=", unexpected "+f}return a&&!Array.isArray(a)&&((aa(a)||a.length===1)&&(p=", expecting "+this.getTokenName(a)),c+=p),this.raiseError(c,p,a,f)},jt.prototype.position=function(){return new P(this.lexer.yylloc.first_line,this.lexer.yylloc.first_column,this.lexer.yylloc.first_offset)},jt.prototype.node=function(a){if(this.extractDoc){var c=null;this._docIndex<this._docs.length&&(c=this._docs.slice(this._docIndex),this._docIndex=this._docs.length,this.debug&&(console.log(new Error("Append docs on "+a)),console.log(c)));var f=this.ast.prepare(a,c,this);return f.postBuild=function(p){if(this._docIndex<this._docs.length)if(this._lastNode){for(var g=this.prev[2],A=this._docIndex;A<this._docs.length&&!(this._docs[A].offset>g);A++);A>this._docIndex&&(this._lastNode.setTrailingComments(this._docs.slice(this._docIndex,A)),this._docIndex=A)}else this.token===this.EOF&&(p.setTrailingComments(this._docs.slice(this._docIndex)),this._docIndex=this._docs.length);this._lastNode=p}.bind(this),f}return this.ast.prepare(a,null,this)},jt.prototype.expectEndOfStatement=function(a){if(this.token===";")a&&this.lexer.yytext===";"&&a.includeToken(this);else if(this.token!==this.tok.T_INLINE_HTML&&this.token!==this.EOF)return this.error(";"),!1;return this.next(),!0};var oa=["parser.next","parser.node","parser.showlog"];jt.prototype.showlog=function(){for(var a,c=new Error().stack.split(`
`),f=2;f<c.length;f++){a=c[f].trim();for(var p=!1,g=0;g<oa.length;g++)if(a.substring(3,3+oa[g].length)===oa[g]){p=!0;break}if(!p)break}return console.log("Line "+this.lexer.yylloc.first_line+" : "+this.getTokenName(this.token)+">"+this.lexer.yytext+"< @-->"+a),this},jt.prototype.expect=function(a){if(Array.isArray(a)){if(a.indexOf(this.token)===-1)return this.error(a),!1}else if(this.token!=a)return this.error(a),!1;return!0},jt.prototype.text=function(){return this.lexer.yytext},jt.prototype.next=function(){if(this.token===";"&&this.lexer.yytext!==";"||(this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset]),this.lex(),this.debug&&this.showlog(),this.extractDoc)for(;this.token===this.tok.T_COMMENT||this.token===this.tok.T_DOC_COMMENT;)this.token===this.tok.T_COMMENT?this._docs.push(this.read_comment()):this._docs.push(this.read_doc_comment());return this},jt.prototype.lex=function(){if(this.extractTokens)do{if(this.token=this.lexer.lex()||this.EOF,this.token===this.EOF)return this;var a=this.lexer.yytext;if(a=this.lexer.engine.tokens.values.hasOwnProperty(this.token)?[this.lexer.engine.tokens.values[this.token],a,this.lexer.yylloc.first_line,this.lexer.yylloc.first_offset,this.lexer.offset]:[null,a,this.lexer.yylloc.first_line,this.lexer.yylloc.first_offset,this.lexer.offset],this._tokens.push(a),this.token===this.tok.T_CLOSE_TAG)return this.token=";",this;if(this.token===this.tok.T_OPEN_TAG_WITH_ECHO)return this.token=this.tok.T_ECHO,this}while(this.token===this.tok.T_WHITESPACE||!this.extractDoc&&(this.token===this.tok.T_COMMENT||this.token===this.tok.T_DOC_COMMENT)||this.token===this.tok.T_OPEN_TAG);else this.token=this.lexer.lex()||this.EOF;return this},jt.prototype.is=function(a){return Array.isArray(a)?a.indexOf(this.token)!==-1:this.entries[a].has(this.token)},[v,pe,at,Se,se,rt,Ct,Ln,ot,Xn,cr,zi,eo,Jn,Or].forEach(function(a){for(var c in a){if(jt.prototype.hasOwnProperty(c))throw new Error("Function "+c+" is already defined - collision");jt.prototype[c]=a[c]}});var to=jt,no={values:{101:"T_HALT_COMPILER",102:"T_USE",103:"T_ENCAPSED_AND_WHITESPACE",104:"T_OBJECT_OPERATOR",105:"T_STRING",106:"T_DOLLAR_OPEN_CURLY_BRACES",107:"T_STRING_VARNAME",108:"T_CURLY_OPEN",109:"T_NUM_STRING",110:"T_ISSET",111:"T_EMPTY",112:"T_INCLUDE",113:"T_INCLUDE_ONCE",114:"T_EVAL",115:"T_REQUIRE",116:"T_REQUIRE_ONCE",117:"T_NAMESPACE",118:"T_NS_SEPARATOR",119:"T_AS",120:"T_IF",121:"T_ENDIF",122:"T_WHILE",123:"T_DO",124:"T_FOR",125:"T_SWITCH",126:"T_BREAK",127:"T_CONTINUE",128:"T_RETURN",129:"T_GLOBAL",130:"T_STATIC",131:"T_ECHO",132:"T_INLINE_HTML",133:"T_UNSET",134:"T_FOREACH",135:"T_DECLARE",136:"T_TRY",137:"T_THROW",138:"T_GOTO",139:"T_FINALLY",140:"T_CATCH",141:"T_ENDDECLARE",142:"T_LIST",143:"T_CLONE",144:"T_PLUS_EQUAL",145:"T_MINUS_EQUAL",146:"T_MUL_EQUAL",147:"T_DIV_EQUAL",148:"T_CONCAT_EQUAL",149:"T_MOD_EQUAL",150:"T_AND_EQUAL",151:"T_OR_EQUAL",152:"T_XOR_EQUAL",153:"T_SL_EQUAL",154:"T_SR_EQUAL",155:"T_INC",156:"T_DEC",157:"T_BOOLEAN_OR",158:"T_BOOLEAN_AND",159:"T_LOGICAL_OR",160:"T_LOGICAL_AND",161:"T_LOGICAL_XOR",162:"T_SL",163:"T_SR",164:"T_IS_IDENTICAL",165:"T_IS_NOT_IDENTICAL",166:"T_IS_EQUAL",167:"T_IS_NOT_EQUAL",168:"T_IS_SMALLER_OR_EQUAL",169:"T_IS_GREATER_OR_EQUAL",170:"T_INSTANCEOF",171:"T_INT_CAST",172:"T_DOUBLE_CAST",173:"T_STRING_CAST",174:"T_ARRAY_CAST",175:"T_OBJECT_CAST",176:"T_BOOL_CAST",177:"T_UNSET_CAST",178:"T_EXIT",179:"T_PRINT",180:"T_YIELD",181:"T_YIELD_FROM",182:"T_FUNCTION",183:"T_DOUBLE_ARROW",184:"T_DOUBLE_COLON",185:"T_ARRAY",186:"T_CALLABLE",187:"T_CLASS",188:"T_ABSTRACT",189:"T_TRAIT",190:"T_FINAL",191:"T_EXTENDS",192:"T_INTERFACE",193:"T_IMPLEMENTS",194:"T_VAR",195:"T_PUBLIC",196:"T_PROTECTED",197:"T_PRIVATE",198:"T_CONST",199:"T_NEW",200:"T_INSTEADOF",201:"T_ELSEIF",202:"T_ELSE",203:"T_ENDSWITCH",204:"T_CASE",205:"T_DEFAULT",206:"T_ENDFOR",207:"T_ENDFOREACH",208:"T_ENDWHILE",209:"T_CONSTANT_ENCAPSED_STRING",210:"T_LNUMBER",211:"T_DNUMBER",212:"T_LINE",213:"T_FILE",214:"T_DIR",215:"T_TRAIT_C",216:"T_METHOD_C",217:"T_FUNC_C",218:"T_NS_C",219:"T_START_HEREDOC",220:"T_END_HEREDOC",221:"T_CLASS_C",222:"T_VARIABLE",223:"T_OPEN_TAG",224:"T_OPEN_TAG_WITH_ECHO",225:"T_CLOSE_TAG",226:"T_WHITESPACE",227:"T_COMMENT",228:"T_DOC_COMMENT",229:"T_ELLIPSIS",230:"T_COALESCE",231:"T_POW",232:"T_POW_EQUAL",233:"T_SPACESHIP",234:"T_COALESCE_EQUAL",235:"T_FN",236:"T_NULLSAFE_OBJECT_OPERATOR",237:"T_MATCH",238:"T_ATTRIBUTE"},names:{T_HALT_COMPILER:101,T_USE:102,T_ENCAPSED_AND_WHITESPACE:103,T_OBJECT_OPERATOR:104,T_STRING:105,T_DOLLAR_OPEN_CURLY_BRACES:106,T_STRING_VARNAME:107,T_CURLY_OPEN:108,T_NUM_STRING:109,T_ISSET:110,T_EMPTY:111,T_INCLUDE:112,T_INCLUDE_ONCE:113,T_EVAL:114,T_REQUIRE:115,T_REQUIRE_ONCE:116,T_NAMESPACE:117,T_NS_SEPARATOR:118,T_AS:119,T_IF:120,T_ENDIF:121,T_WHILE:122,T_DO:123,T_FOR:124,T_SWITCH:125,T_BREAK:126,T_CONTINUE:127,T_RETURN:128,T_GLOBAL:129,T_STATIC:130,T_ECHO:131,T_INLINE_HTML:132,T_UNSET:133,T_FOREACH:134,T_DECLARE:135,T_TRY:136,T_THROW:137,T_GOTO:138,T_FINALLY:139,T_CATCH:140,T_ENDDECLARE:141,T_LIST:142,T_CLONE:143,T_PLUS_EQUAL:144,T_MINUS_EQUAL:145,T_MUL_EQUAL:146,T_DIV_EQUAL:147,T_CONCAT_EQUAL:148,T_MOD_EQUAL:149,T_AND_EQUAL:150,T_OR_EQUAL:151,T_XOR_EQUAL:152,T_SL_EQUAL:153,T_SR_EQUAL:154,T_INC:155,T_DEC:156,T_BOOLEAN_OR:157,T_BOOLEAN_AND:158,T_LOGICAL_OR:159,T_LOGICAL_AND:160,T_LOGICAL_XOR:161,T_SL:162,T_SR:163,T_IS_IDENTICAL:164,T_IS_NOT_IDENTICAL:165,T_IS_EQUAL:166,T_IS_NOT_EQUAL:167,T_IS_SMALLER_OR_EQUAL:168,T_IS_GREATER_OR_EQUAL:169,T_INSTANCEOF:170,T_INT_CAST:171,T_DOUBLE_CAST:172,T_STRING_CAST:173,T_ARRAY_CAST:174,T_OBJECT_CAST:175,T_BOOL_CAST:176,T_UNSET_CAST:177,T_EXIT:178,T_PRINT:179,T_YIELD:180,T_YIELD_FROM:181,T_FUNCTION:182,T_DOUBLE_ARROW:183,T_DOUBLE_COLON:184,T_ARRAY:185,T_CALLABLE:186,T_CLASS:187,T_ABSTRACT:188,T_TRAIT:189,T_FINAL:190,T_EXTENDS:191,T_INTERFACE:192,T_IMPLEMENTS:193,T_VAR:194,T_PUBLIC:195,T_PROTECTED:196,T_PRIVATE:197,T_CONST:198,T_NEW:199,T_INSTEADOF:200,T_ELSEIF:201,T_ELSE:202,T_ENDSWITCH:203,T_CASE:204,T_DEFAULT:205,T_ENDFOR:206,T_ENDFOREACH:207,T_ENDWHILE:208,T_CONSTANT_ENCAPSED_STRING:209,T_LNUMBER:210,T_DNUMBER:211,T_LINE:212,T_FILE:213,T_DIR:214,T_TRAIT_C:215,T_METHOD_C:216,T_FUNC_C:217,T_NS_C:218,T_START_HEREDOC:219,T_END_HEREDOC:220,T_CLASS_C:221,T_VARIABLE:222,T_OPEN_TAG:223,T_OPEN_TAG_WITH_ECHO:224,T_CLOSE_TAG:225,T_WHITESPACE:226,T_COMMENT:227,T_DOC_COMMENT:228,T_ELLIPSIS:229,T_COALESCE:230,T_POW:231,T_POW_EQUAL:232,T_SPACESHIP:233,T_COALESCE_EQUAL:234,T_FN:235,T_NULLSAFE_OBJECT_OPERATOR:236,T_MATCH:237,T_ATTRIBUTE:238}},vs=function(a,c,f){this.source=a,this.start=c,this.end=f},Qi=function(a,c,f){this.kind=a,c&&(this.leadingComments=c),f&&(this.loc=f)};Qi.prototype.setTrailingComments=function(a){this.trailingComments=a},Qi.prototype.destroy=function(a){if(!a)throw new Error("Node already initialized, you must swap with another node");return this.leadingComments&&(a.leadingComments?a.leadingComments=Array.concat(this.leadingComments,a.leadingComments):a.leadingComments=this.leadingComments),this.trailingComments&&(a.trailingComments?a.trailingComments=Array.concat(this.trailingComments,a.trailingComments):a.trailingComments=this.trailingComments),a},Qi.prototype.includeToken=function(a){return this.loc&&(this.loc.end&&(this.loc.end.line=a.lexer.yylloc.last_line,this.loc.end.column=a.lexer.yylloc.last_column,this.loc.end.offset=a.lexer.offset),a.ast.withSource&&(this.loc.source=a.lexer._input.substring(this.loc.start.offset,a.lexer.offset))),this},Qi.extends=function(a,c){return c.prototype=Object.create(this.prototype),c.extends=this.extends,c.prototype.constructor=c,c.kind=a,c};var Ze=Qi,ro="expression",me=Ze.extends(ro,function(a,c,f){Ze.apply(this,[a||ro,c,f])}),Ri="array",wl=me.extends(Ri,function(a,c,f,p){me.apply(this,[Ri,f,p]),this.items=c,this.shortForm=a}),io="arrowfunc",Xi=me.extends(io,function(a,c,f,p,g,A,F,N){me.apply(this,[io,F,N]),this.arguments=a,this.byref=c,this.body=f,this.type=p,this.nullable=g,this.isStatic=A||!1}),la="assign",so=me.extends(la,function(a,c,f,p,g){me.apply(this,[la,p,g]),this.left=a,this.right=c,this.operator=f}),Is="assignref",ao=me.extends(Is,function(a,c,f,p){me.apply(this,[Is,f,p]),this.left=a,this.right=c}),Jr="attribute",G=Ze.extends(Jr,function(a,c,f,p){Ze.apply(this,[Jr,f,p]),this.name=a,this.args=c}),V="attrgroup",C=Ze.extends(V,function(a,c,f){Ze.apply(this,[V,c,f]),this.attrs=a||[]}),U="operation",W=me.extends(U,function(a,c,f){me.apply(this,[a||U,c,f])}),L=W.extends("bin",function(a,c,f,p,g){W.apply(this,["bin",p,g]),this.type=a,this.left=c,this.right=f}),I="statement",j=Ze.extends(I,function(a,c,f){Ze.apply(this,[a||I,c,f])}),z="block",fe=j.extends(z,function(a,c,f,p){j.apply(this,[a||z,f,p]),this.children=c.filter(Boolean)}),Ce="literal",Pe=me.extends(Ce,function(a,c,f,p,g){me.apply(this,[a||Ce,p,g]),this.value=c,f&&(this.raw=f)}),Tt="boolean",Kt=Pe.extends(Tt,function(a,c,f,p){Pe.apply(this,[Tt,a,c,f,p])}),$t="break",et=j.extends($t,function(a,c,f){j.apply(this,[$t,c,f]),this.level=a}),Ji="byref",oo=me.extends(Ji,function(a,c,f){me.apply(this,[Ji,c,f]),this.what=a}),Ll="call",h0=me.extends(Ll,function(a,c,f,p){me.apply(this,[Ll,f,p]),this.what=a,this.arguments=c}),JT="case",m0=j.extends(JT,function(a,c,f,p){j.apply(this,[JT,f,p]),this.test=a,this.body=c}),ZT="cast",g0=W.extends(ZT,function(a,c,f,p,g){W.apply(this,[ZT,p,g]),this.type=a,this.raw=c,this.expr=f}),e_="catch",T0=j.extends(e_,function(a,c,f,p,g){j.apply(this,[e_,p,g]),this.body=a,this.what=c,this.variable=f}),t_="declaration",n_=j.extends(t_,function(a,c,f,p){j.apply(this,[a||t_,f,p]),this.name=c});n_.prototype.parseFlags=function(a){this.isAbstract=a[2]===1,this.isFinal=a[2]===2,this.kind!=="class"&&(a[0]===-1?this.visibility="":a[0]===null?this.visibility=null:a[0]===0?this.visibility="public":a[0]===1?this.visibility="protected":a[0]===2&&(this.visibility="private"),this.isStatic=a[1]===1)};var ur=n_,r_="class",_0=ur.extends(r_,function(a,c,f,p,g,A,F){ur.apply(this,[r_,a,A,F]),this.isAnonymous=!a,this.extends=c,this.implements=f,this.body=p,this.attrGroups=[],this.parseFlags(g)}),i_="constantstatement",ip=j.extends(i_,function(a,c,f,p){j.apply(this,[a||i_,f,p]),this.constants=c}),s_="classconstant",a_=ip.extends(s_,function(a,c,f,p,g,A){ip.apply(this,[a||s_,c,g,A]),this.parseFlags(f),this.attrGroups=p});a_.prototype.parseFlags=function(a){a[0]===-1?this.visibility="":a[0]===null?this.visibility=null:a[0]===0?this.visibility="public":a[0]===1?this.visibility="protected":a[0]===2&&(this.visibility="private")};var y0=a_,o_="clone",b0=me.extends(o_,function(a,c,f){me.apply(this,[o_,c,f]),this.what=a}),l_="closure",N0=me.extends(l_,function(a,c,f,p,g,A,F,N){me.apply(this,[l_,F,N]),this.uses=f,this.arguments=a,this.byref=c,this.type=p,this.nullable=g,this.isStatic=A||!1,this.body=null,this.attrGroups=[]}),Dl=Ze.extends("comment",function(a,c,f,p){Ze.apply(this,[a,f,p]),this.value=c}),c_="commentblock",v0=Dl.extends(c_,function(a,c,f){Dl.apply(this,[c_,a,c,f])}),u_="commentline",I0=Dl.extends(u_,function(a,c,f){Dl.apply(this,[u_,a,c,f])}),f_="constant",C0=Ze.extends(f_,function(a,c,f,p){Ze.apply(this,[f_,f,p]),this.name=a,this.value=c}),d_="continue",P0=j.extends(d_,function(a,c,f){j.apply(this,[d_,c,f]),this.level=a}),p_="declare",ru=fe.extends(p_,function(a,c,f,p,g){fe.apply(this,[p_,c,p,g]),this.directives=a,this.mode=f});ru.MODE_SHORT="short",ru.MODE_BLOCK="block",ru.MODE_NONE="none";var A0=ru,h_="declaredirective",S0=Ze.extends(h_,function(a,c,f,p){Ze.apply(this,[h_,f,p]),this.key=a,this.value=c}),x0=j.extends("do",function(a,c,f,p){j.apply(this,["do",f,p]),this.test=a,this.body=c}),m_="echo",E0=j.extends(m_,function(a,c,f,p){j.apply(this,[m_,f,p]),this.shortForm=c,this.expressions=a}),g_="empty",R0=me.extends(g_,function(a,c,f){me.apply(this,[g_,c,f]),this.expression=a}),T_="encapsed",Ml=Pe.extends(T_,function(a,c,f,p,g){Pe.apply(this,[T_,a,c,p,g]),this.type=f});Ml.TYPE_STRING="string",Ml.TYPE_SHELL="shell",Ml.TYPE_HEREDOC="heredoc",Ml.TYPE_OFFSET="offset";var k0=Ml,__="encapsedpart",O0=me.extends(__,function(a,c,f,p,g){me.apply(this,[__,p,g]),this.expression=a,this.syntax=c,this.curly=f}),y_="entry",w0=me.extends(y_,function(a,c,f,p,g,A){me.apply(this,[y_,g,A]),this.key=a,this.value=c,this.byRef=f,this.unpack=p}),b_="error",L0=Ze.extends(b_,function(a,c,f,p,g,A){Ze.apply(this,[b_,g,A]),this.message=a,this.token=c,this.line=f,this.expected=p}),N_="eval",D0=me.extends(N_,function(a,c,f){me.apply(this,[N_,c,f]),this.source=a}),v_="exit",M0=me.extends(v_,function(a,c,f,p){me.apply(this,[v_,f,p]),this.expression=a,this.useDie=c}),I_="expressionstatement",F0=j.extends(I_,function(a,c,f){j.apply(this,[I_,c,f]),this.expression=a}),V0=j.extends("for",function(a,c,f,p,g,A,F){j.apply(this,["for",A,F]),this.init=a,this.test=c,this.increment=f,this.shortForm=g,this.body=p}),C_="foreach",B0=j.extends(C_,function(a,c,f,p,g,A,F){j.apply(this,[C_,A,F]),this.source=a,this.key=c,this.value=f,this.shortForm=g,this.body=p}),P_="function",sp=ur.extends(P_,function(a,c,f,p,g,A,F){ur.apply(this,[P_,a,A,F]),this.arguments=c,this.byref=f,this.type=p,this.nullable=g,this.body=null,this.attrGroups=[]}),A_="global",q0=j.extends(A_,function(a,c,f){j.apply(this,[A_,c,f]),this.items=a}),S_="goto",U0=j.extends(S_,function(a,c,f){j.apply(this,[S_,c,f]),this.label=a}),x_="halt",j0=j.extends(x_,function(a,c,f){j.apply(this,[x_,c,f]),this.after=a}),E_="identifier",G0=Ze.extends(E_,function(a,c,f){Ze.apply(this,[E_,c,f]),this.name=a}),W0=j.extends("if",function(a,c,f,p,g,A){j.apply(this,["if",g,A]),this.test=a,this.body=c,this.alternate=f,this.shortForm=p}),R_="include",H0=me.extends(R_,function(a,c,f,p,g){me.apply(this,[R_,p,g]),this.once=a,this.require=c,this.target=f}),k_="inline",Y0=Pe.extends(k_,function(a,c,f,p){Pe.apply(this,[k_,a,c,f,p])}),O_="interface",K0=ur.extends(O_,function(a,c,f,p,g,A){ur.apply(this,[O_,a,g,A]),this.extends=c,this.body=f,this.attrGroups=p}),w_="isset",$0=me.extends(w_,function(a,c,f){me.apply(this,[w_,c,f]),this.variables=a}),L_="label",z0=j.extends(L_,function(a,c,f){j.apply(this,[L_,c,f]),this.name=a}),D_="list",Q0=me.extends(D_,function(a,c,f,p){me.apply(this,[D_,f,p]),this.items=a,this.shortForm=c}),M_="lookup",Zi=me.extends(M_,function(a,c,f,p,g){me.apply(this,[a||M_,p,g]),this.what=c,this.offset=f}),F_="magic",X0=Pe.extends(F_,function(a,c,f,p){Pe.apply(this,[F_,a,c,f,p])}),V_="match",J0=me.extends(V_,function(a,c,f,p){me.apply(this,[V_,f,p]),this.cond=a,this.arms=c}),B_="matcharm",Z0=me.extends(B_,function(a,c,f,p){me.apply(this,[B_,f,p]),this.conds=a,this.body=c}),q_="method",eO=sp.extends(q_,function(){sp.apply(this,arguments),this.kind=q_}),U_="reference",Zr=Ze.extends(U_,function(a,c,f){Ze.apply(this,[a||U_,c,f])}),j_="name",Fl=Zr.extends(j_,function a(c,f,p,g){Zr.apply(this,[j_,p,g]),f?this.resolution=a.RELATIVE_NAME:c.length===1?this.resolution=a.UNQUALIFIED_NAME:c[0]?this.resolution=a.QUALIFIED_NAME:this.resolution=a.FULL_QUALIFIED_NAME,this.name=c.join("\\")});Fl.UNQUALIFIED_NAME="uqn",Fl.QUALIFIED_NAME="qn",Fl.FULL_QUALIFIED_NAME="fqn",Fl.RELATIVE_NAME="rn";var tO=Fl,G_="namespace",nO=fe.extends(G_,function(a,c,f,p,g){fe.apply(this,[G_,c,p,g]),this.name=a,this.withBrackets=f||!1}),W_="namedargument",rO=me.extends(W_,function(a,c,f,p){me.apply(this,[W_,f,p]),this.name=a,this.value=c}),iO=me.extends("new",function(a,c,f,p){me.apply(this,["new",f,p]),this.what=a,this.arguments=c}),H_="noop",sO=Ze.extends(H_,function(a,c){Ze.apply(this,[H_,a,c])}),Y_="nowdoc",aO=Pe.extends(Y_,function(a,c,f,p,g){Pe.apply(this,[Y_,a,c,p,g]),this.label=f}),K_="nullkeyword",oO=Ze.extends(K_,function(a,c,f){Ze.apply(this,[K_,c,f]),this.raw=a}),$_="nullsafepropertylookup",lO=Zi.extends($_,function(a,c,f,p){Zi.apply(this,[$_,a,c,f,p])}),z_="number",cO=Pe.extends(z_,function(a,c,f,p){Pe.apply(this,[z_,a,c,f,p])}),Q_="offsetlookup",uO=Zi.extends(Q_,function(a,c,f,p){Zi.apply(this,[Q_,a,c,f,p])}),X_="parameter",fO=ur.extends(X_,function(a,c,f,p,g,A,F,N,B){ur.apply(this,[X_,a,N,B]),this.value=f,this.type=c,this.byref=p,this.variadic=g,this.nullable=A,this.flags=F||0,this.attrGroups=[]}),J_="parentreference",dO=Zr.extends(J_,function(a,c,f){Zr.apply(this,[J_,c,f]),this.raw=a}),Z_="post",pO=W.extends(Z_,function(a,c,f,p){W.apply(this,[Z_,f,p]),this.type=a,this.what=c}),hO=W.extends("pre",function(a,c,f,p){W.apply(this,["pre",f,p]),this.type=a,this.what=c}),ey="print",mO=me.extends(ey,function(a,c,f){me.apply(this,[ey,c,f]),this.expression=a}),ty="program",gO=fe.extends(ty,function(a,c,f,p,g,A){fe.apply(this,[ty,a,g,A]),this.errors=c,f&&(this.comments=f),p&&(this.tokens=p)}),ny="property",TO=j.extends(ny,function(a,c,f,p,g,A,F){j.apply(this,[ny,A,F]),this.name=a,this.value=c,this.nullable=f,this.type=p,this.attrGroups=g}),ry="propertylookup",_O=Zi.extends(ry,function(a,c,f,p){Zi.apply(this,[ry,a,c,f,p])}),iy="propertystatement",sy=j.extends(iy,function(a,c,f,p,g){j.apply(this,[iy,p,g]),this.properties=c,this.parseFlags(f)});sy.prototype.parseFlags=function(a){a[0]===-1?this.visibility="":a[0]===null?this.visibility=null:a[0]===0?this.visibility="public":a[0]===1?this.visibility="protected":a[0]===2&&(this.visibility="private"),this.isStatic=a[1]===1};var yO=sy,ay="retif",bO=me.extends(ay,function(a,c,f,p,g){me.apply(this,[ay,p,g]),this.test=a,this.trueExpr=c,this.falseExpr=f}),oy="return",NO=j.extends(oy,function(a,c,f){j.apply(this,[oy,c,f]),this.expr=a}),ly="selfreference",vO=Zr.extends(ly,function(a,c,f){Zr.apply(this,[ly,c,f]),this.raw=a}),cy="silent",IO=me.extends(cy,function(a,c,f){me.apply(this,[cy,c,f]),this.expr=a}),uy="static",CO=j.extends(uy,function(a,c,f){j.apply(this,[uy,c,f]),this.variables=a}),fy="staticvariable",PO=Ze.extends(fy,function(a,c,f,p){Ze.apply(this,[fy,f,p]),this.variable=a,this.defaultValue=c}),dy="staticlookup",AO=Zi.extends(dy,function(a,c,f,p){Zi.apply(this,[dy,a,c,f,p])}),py="staticreference",SO=Zr.extends(py,function(a,c,f){Zr.apply(this,[py,c,f]),this.raw=a}),hy="string",xO=Pe.extends(hy,function(a,c,f,p,g,A){Pe.apply(this,[hy,c,p,g,A]),this.unicode=f,this.isDoubleQuote=a}),my="switch",EO=j.extends(my,function(a,c,f,p,g){j.apply(this,[my,p,g]),this.test=a,this.body=c,this.shortForm=f}),gy="throw",RO=j.extends(gy,function(a,c,f){j.apply(this,[gy,c,f]),this.what=a}),Ty="trait",kO=ur.extends(Ty,function(a,c,f,p){ur.apply(this,[Ty,a,f,p]),this.body=c}),_y="traitalias",OO=Ze.extends(_y,function(a,c,f,p,g,A){Ze.apply(this,[_y,g,A]),this.trait=a,this.method=c,this.as=f,this.visibility="",p&&(p[0]===0?this.visibility="public":p[0]===1?this.visibility="protected":p[0]===2&&(this.visibility="private"))}),yy="traitprecedence",wO=Ze.extends(yy,function(a,c,f,p,g){Ze.apply(this,[yy,p,g]),this.trait=a,this.method=c,this.instead=f}),by="traituse",LO=Ze.extends(by,function(a,c,f,p){Ze.apply(this,[by,f,p]),this.traits=a,this.adaptations=c}),DO=j.extends("try",function(a,c,f,p,g){j.apply(this,["try",p,g]),this.body=a,this.catches=c,this.always=f}),Ny="typereference",vy=Zr.extends(Ny,function(a,c,f,p){Zr.apply(this,[Ny,f,p]),this.name=a,this.raw=c});vy.types=["int","float","string","bool","object","array","callable","iterable","void","static"];var MO=vy,Iy="unary",FO=W.extends(Iy,function(a,c,f,p){W.apply(this,[Iy,f,p]),this.type=a,this.what=c}),Cy="uniontype",VO=ur.extends(Cy,function(a,c,f){ur.apply(this,[Cy,null,c,f]),this.types=a}),Py="unset",BO=j.extends(Py,function(a,c,f){j.apply(this,[Py,c,f]),this.variables=a}),Ay="usegroup",qO=j.extends(Ay,function(a,c,f,p,g){j.apply(this,[Ay,p,g]),this.name=a,this.type=c,this.items=f}),Sy="useitem",ap=j.extends(Sy,function(a,c,f,p,g){j.apply(this,[Sy,p,g]),this.name=a,this.alias=c,this.type=f});ap.TYPE_CONST="const",ap.TYPE_FUNCTION="function";var UO=ap,xy="variable",jO=me.extends(xy,function(a,c,f,p){me.apply(this,[xy,f,p]),this.name=a,this.curly=c||!1}),Ey="variadic",GO=me.extends(Ey,function(a,c,f){me.apply(this,[Ey,c,f]),this.what=a}),Ry="while",WO=j.extends(Ry,function(a,c,f,p,g){j.apply(this,[Ry,p,g]),this.test=a,this.body=c,this.shortForm=f}),ky="yield",HO=me.extends(ky,function(a,c,f,p){me.apply(this,[ky,f,p]),this.value=a,this.key=c}),Oy="yieldfrom",YO=me.extends(Oy,function(a,c,f){me.apply(this,[Oy,c,f]),this.value=a}),bt=function(a,c){this.withPositions=a,this.withSource=c};bt.precedence={},[["or"],["xor"],["and"],["="],["?"],["??"],["||"],["&&"],["|"],["^"],["&"],["==","!=","===","!==","<=>"],["<","<=",">",">="],["<<",">>"],["+","-","."],["*","/","%"],["!"],["instanceof"],["cast","silent"],["**"]].forEach(function(a,c){a.forEach(function(f){bt.precedence[f]=c+1})}),bt.prototype.isRightAssociative=function(a){return a==="**"||a==="??"},bt.prototype.swapLocations=function(a,c,f,p){this.withPositions&&(a.loc.start=c.loc.start,a.loc.end=f.loc.end,this.withSource&&(a.loc.source=p.lexer._input.substring(a.loc.start.offset,a.loc.end.offset)))},bt.prototype.resolveLocations=function(a,c,f,p){this.withPositions&&(a.loc.start.offset>c.loc.start.offset&&(a.loc.start=c.loc.start),a.loc.end.offset<f.loc.end.offset&&(a.loc.end=f.loc.end),this.withSource&&(a.loc.source=p.lexer._input.substring(a.loc.start.offset,a.loc.end.offset)))},bt.prototype.resolvePrecedence=function(a,c){var f,p,g;return a.kind==="call"?this.resolveLocations(a,a.what,a,c):a.kind==="propertylookup"||a.kind==="staticlookup"||a.kind==="offsetlookup"&&a.offset?this.resolveLocations(a,a.what,a.offset,c):a.kind==="bin"?a.right&&!a.right.parenthesizedExpression&&(a.right.kind==="bin"?(p=bt.precedence[a.type],g=bt.precedence[a.right.type],p&&g&&g<=p&&(a.type!==a.right.type||!this.isRightAssociative(a.type))&&(f=a.right,a.right=a.right.left,this.swapLocations(a,a.left,a.right,c),f.left=this.resolvePrecedence(a,c),this.swapLocations(f,f.left,f.right,c),a=f)):a.right.kind==="retif"&&(p=bt.precedence[a.type],g=bt.precedence["?"],p&&g&&g<=p&&(f=a.right,a.right=a.right.test,this.swapLocations(a,a.left,a.right,c),f.test=this.resolvePrecedence(a,c),this.swapLocations(f,f.test,f.falseExpr,c),a=f))):a.kind!=="silent"&&a.kind!=="cast"||!a.expr||a.expr.parenthesizedExpression?a.kind==="unary"?a.what&&!a.what.parenthesizedExpression&&(a.what.kind==="bin"?(f=a.what,a.what=a.what.left,this.swapLocations(a,a,a.what,c),f.left=this.resolvePrecedence(a,c),this.swapLocations(f,f.left,f.right,c),a=f):a.what.kind==="retif"&&(f=a.what,a.what=a.what.test,this.swapLocations(a,a,a.what,c),f.test=this.resolvePrecedence(a,c),this.swapLocations(f,f.test,f.falseExpr,c),a=f)):a.kind==="retif"?a.falseExpr&&a.falseExpr.kind==="retif"&&!a.falseExpr.parenthesizedExpression&&(f=a.falseExpr,a.falseExpr=f.test,this.swapLocations(a,a.test,a.falseExpr,c),f.test=this.resolvePrecedence(a,c),this.swapLocations(f,f.test,f.falseExpr,c),a=f):a.kind==="assign"?a.right&&a.right.kind==="bin"&&!a.right.parenthesizedExpression&&(p=bt.precedence["="],g=bt.precedence[a.right.type],p&&g&&g<p&&(f=a.right,a.right=a.right.left,f.left=a,this.swapLocations(f,f.left,a.right,c),a=f)):a.kind==="expressionstatement"&&this.swapLocations(a,a.expression,a,c):a.expr.kind==="bin"?(f=a.expr,a.expr=a.expr.left,this.swapLocations(a,a,a.expr,c),f.left=this.resolvePrecedence(a,c),this.swapLocations(f,f.left,f.right,c),a=f):a.expr.kind==="retif"&&(f=a.expr,a.expr=a.expr.test,this.swapLocations(a,a,a.expr,c),f.test=this.resolvePrecedence(a,c),this.swapLocations(f,f.test,f.falseExpr,c),a=f),a},bt.prototype.prepare=function(a,c,f){var p=null;(this.withPositions||this.withSource)&&(p=f.position());var g=this,A=function F(){var N=null,B=Array.prototype.slice.call(arguments);if(B.push(c),g.withPositions||g.withSource){var q=null;g.withSource&&(q=f.lexer._input.substring(p.offset,f.prev[2])),N=new vs(q,p,new P(f.prev[0],f.prev[1],f.prev[2])),B.push(N)}a||(a=B.shift());var R=g[a];if(typeof R!="function")throw new Error('Undefined node "'+a+'"');var Oe=Object.create(R.prototype);return R.apply(Oe,B),F.instance=Oe,F.trailingComments&&(Oe.trailingComments=F.trailingComments),typeof F.postBuild=="function"&&F.postBuild(Oe),f.debug&&delete bt.stack[F.stackUid],g.resolvePrecedence(Oe,f)};return f.debug&&(bt.stack||(bt.stack={},bt.stackUid=1),bt.stack[++bt.stackUid]={position:p,stack:new Error().stack.split(`
`).slice(3,5)},A.stackUid=bt.stackUid),A.setTrailingComments=function(F){A.instance?A.instance.setTrailingComments(F):A.trailingComments=F},A.destroy=function(F){c&&(F?F.leadingComments?F.leadingComments=c.concat(F.leadingComments):F.leadingComments=c:f._docIndex=f._docs.length-c.length),f.debug&&delete bt.stack[A.stackUid]},A},bt.prototype.checkNodes=function(){var a=[];for(var c in bt.stack)bt.stack.hasOwnProperty(c)&&a.push(bt.stack[c]);return bt.stack={},a},[wl,Xi,so,ao,G,C,L,fe,Kt,et,oo,h0,m0,g0,T0,_0,y0,b0,N0,Dl,v0,I0,C0,ip,P0,ur,A0,S0,x0,E0,R0,k0,O0,w0,L0,D0,M0,me,F0,V0,B0,sp,q0,U0,j0,G0,W0,H0,Y0,K0,$0,z0,Q0,Pe,Zi,X0,J0,Z0,eO,tO,nO,rO,iO,Ze,sO,aO,oO,lO,cO,uO,W,fO,dO,pO,hO,mO,gO,TO,_O,yO,Zr,bO,NO,vO,IO,j,CO,PO,AO,SO,xO,EO,RO,kO,OO,wO,LO,DO,MO,FO,VO,BO,qO,UO,jO,GO,WO,HO,YO].forEach(function(a){bt.prototype[a.kind]=a});var wy=bt;function op(a,c){for(var f=Object.keys(a),p=f.length;p--;){var g=f[p],A=a[g];A===null?delete c[g]:typeof A=="function"?c[g]=A.bind(c):Array.isArray(A)?c[g]=Array.isArray(c[g])?c[g].concat(A):A:c[g]=typeof A=="object"&&typeof c[g]=="object"?op(A,c[g]):A}return c}var fr=function(a){if(typeof this=="function")return new this(a);if(this.tokens=no,this.lexer=new _(this),this.ast=new wy,this.parser=new to(this.lexer,this.ast),a&&typeof a=="object"){if(a.parser&&(a.lexer||(a.lexer={}),a.parser.version)){if(typeof a.parser.version=="string"){var c=a.parser.version.split(".");if(c=100*parseInt(c[0])+parseInt(c[1]),isNaN(c))throw new Error("Bad version number : "+a.parser.version);a.parser.version=c}else if(typeof a.parser.version!="number")throw new Error("Expecting a number for version");if(a.parser.version<500||a.parser.version>900)throw new Error("Can only handle versions between 5.x to 8.x")}op(a,this),this.lexer.version=this.parser.version}},lp=function(a){return typeof a.write=="function"?a.toString():a};fr.create=function(a){return new fr(a)},fr.parseEval=function(a,c){return new fr(c).parseEval(a)},fr.prototype.parseEval=function(a){return this.lexer.mode_eval=!0,this.lexer.all_tokens=!1,a=lp(a),this.parser.parse(a,"eval")},fr.parseCode=function(a,c,f){return typeof c!="object"||f||(f=c,c="unknown"),new fr(f).parseCode(a,c)},fr.prototype.parseCode=function(a,c){return this.lexer.mode_eval=!1,this.lexer.all_tokens=!1,a=lp(a),this.parser.parse(a,c)},fr.tokenGetAll=function(a,c){return new fr(c).tokenGetAll(a)},fr.prototype.tokenGetAll=function(a){this.lexer.mode_eval=!1,this.lexer.all_tokens=!0,a=lp(a);var c=this.lexer.EOF,f=this.tokens.values;this.lexer.setInput(a);for(var p=this.lexer.lex()||c,g=[];p!=c;){var A=this.lexer.yytext;f.hasOwnProperty(p)&&(A=[f[p],A,this.lexer.yylloc.first_line]),g.push(A),p=this.lexer.lex()||c}return g};var ca=fr,KO=no,$O=_,zO=wy,QO=to,XO=op,JO=fr;ca.tokens=KO,ca.lexer=$O,ca.AST=zO,ca.parser=QO,ca.combine=XO,ca.default=JO;var Ly=function(a,c,f){var p=f&&f.parentParser==="markdown";if(!a&&p)return"";a=a.replace(/\?>\r?\n<\?/g,`?>
___PSEUDO_INLINE_PLACEHOLDER___<?`);var g,A=new ca({parser:{extractDoc:!0},ast:{withPositions:!0,withSource:!0}}),F=a.indexOf("<?php")!==-1,N=p&&!F;try{g=N?A.parseEval(a):A.parseCode(a)}catch(B){throw B instanceof SyntaxError&&"lineNumber"in B&&(B.loc={start:{line:B.lineNumber,column:B.columnNumber}},delete B.lineNumber,delete B.columnNumber),B}return g.extra={parseAsEval:N},g.comments.forEach(function(B){B.value[B.value.length-1]==="\r"&&(B.value=B.value.slice(0,-1),B.loc.end.offset=B.loc.end.offset-1),B.value[B.value.length-1]===`
`&&(B.value=B.value.slice(0,-1),B.loc.end.offset=B.loc.end.offset-1)}),g},lo=r.default.util,ZO=lo.hasNewline,ew=lo.skipEverythingButNewLine,tw=lo.skipNewline,nw=lo.isNextLineEmpty,rw=lo.isPreviousLineEmpty,iw=lo.getNextNonSpaceNonCommentCharacterIndex,sw=r.default.version;function cp(a,c){return parseInt(sw[0])>1?a[c]:a}var Dy={};function up(a){return Dy[a]}[["or"],["xor"],["and"],["=","+=","-=","*=","**=","/=",".=","%=","&=","|=","^=","<<=",">>="],["??"],["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!==","<>","<=>"],["<",">","<=",">="],[">>","<<"],["+","-","."],["*","/","%"],["!"],["instanceof"],["++","--","~"],["**"]].forEach(function(a,c){a.forEach(function(f){Dy[f]=c})});var My=["==","!=","===","!==","<>","<=>"],iu=["*","/","%"],fp=[">>","<<"];function Fy(a){return["block","program","namespace","class","interface","trait","traituse","declare"].includes(a.kind)}function Vy(a){var c=a.body;return c?(c.kind==="block"&&(c=c.children),c[0]):null}function Cs(a){var c=a.children||a.body||a.adaptations;return Array.isArray(c)?c:null}function By(a){var c=a.getParentNode();return c?Cs(c):null}function su(a){return a.length>0?a[a.length-1]:null}function dp(a){var c=a.getValue();if(c.kind==="program"){var f=Cs(c);return!(!f||f.length===0)&&f[0].kind==="inline"}if(c.kind==="switch"){if(!c.body)return!1;var p=Cs(c.body);if(p.length===0)return!1;var g=Y(p,1)[0];if(!g.body)return!1;var A=Cs(g.body);return A.length!==0&&A[0].kind==="inline"}var F=Vy(c);return!!F&&F.kind==="inline"}var qy=["__construct","__destruct","__call","__callStatic","__get","__set","__isset","__unset","__sleep","__wakeup","__toString","__invoke","__set_state","__clone","__debugInfo"].reduce(function(a,c){return a[c.toLowerCase()]=c,a},{}),Qe={printNumber:function(a){return a.toLowerCase().replace(/^([+-]?[\d.]+e)(?:\+|(-))?0*(\d)/,"$1$2$3").replace(/^([+-]?[\d.]+)e[+-]?0+$/,"$1").replace(/^([+-])?\./,"$10.").replace(/(\.\d+?)0+(?=e|$)/,"$1").replace(/\.(?=e)/,"")},getPrecedence:up,isBitwiseOperator:function(a){return!!fp[a]||a==="|"||a==="^"||a==="&"},shouldFlatten:function(a,c){return up(c)===up(a)&&a!=="**"&&(!My.includes(a)||!My.includes(c))&&!(c==="%"&&iu.includes(a)||a==="%"&&iu.includes(c))&&(c===a||!iu.includes(c)||!iu.includes(a))&&(!fp.includes(a)||!fp.includes(c))},nodeHasStatement:Fy,getNodeListProperty:Cs,getParentNodeListProperty:By,getLast:su,getPenultimate:function(a){return a.length>1?a[a.length-2]:null},isLastStatement:function(a){var c=By(a);if(!c)return!0;var f=a.getValue();return c[c.length-1]===f},getBodyFirstChild:Vy,lineShouldEndWithSemicolon:function(a){var c=a.getValue(),f=a.getParentNode();if(!f)return!1;if(["for","foreach","while","do","if","switch"].includes(f.kind)&&c.kind!=="block"&&c.kind!=="if"&&(f.body===c||f.alternate===c))return!0;if(!Fy(f)||c.kind==="echo"&&c.shortForm)return!1;if(c.kind==="traituse")return!c.adaptations;if(c.kind==="method"&&c.isAbstract)return!0;if(c.kind==="method"){var p=a.getParentNode();if(p&&p.kind==="interface")return!0}return["expressionstatement","do","usegroup","classconstant","propertystatement","traitprecedence","traitalias","goto","constantstatement","global","static","echo","unset","return","break","continue","throw"].includes(c.kind)},fileShouldEndWithHardline:function(a){var c=a.getValue(),f=c.kind==="program",p=c.children&&su(c.children);if(!f||p&&["halt","inline"].includes(p.kind))return!1;if(p&&(p.kind==="declare"||p.kind==="namespace")){var g=p.children.length>0&&su(p.children);if(g&&["halt","inline"].includes(g.kind))return!1}return!0},maybeStripLeadingSlashFromUse:function(a){var c=a.replace(/^\\/,"");return c.indexOf("\\")!==-1?c:a},hasDanglingComments:function(a){return a.comments&&a.comments.some(function(c){return!c.leading&&!c.trailing})},hasLeadingComment:function(a){return a.comments&&a.comments.some(function(c){return c.leading})},hasTrailingComment:function(a){return a.comments&&a.comments.some(function(c){return c.trailing})},docShouldHaveTrailingNewline:function a(c){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,p=c.getNode(f),g=c.getNode(f+1),A=c.getNode(f+2);if(!g)return!1;if(A&&["call","new","echo"].includes(A.kind)&&!["call","array"].includes(g.kind)||g.kind==="parameter"){var F=A.arguments.length-1,N=A.arguments.indexOf(g);return N!==F}if(A&&A.kind==="for"){var B=A.init.indexOf(g);if(B!==-1)return B!==A.init.length-1;var q=A.test.indexOf(g);if(q!==-1)return q!==A.test.length-1;var R=A.increment.indexOf(g);if(R!==-1)return R!==A.increment.length-1}if(g.kind==="bin")return g.left===p||a(c,f+1);if(g.kind==="case"&&g.test===p)return!0;if(g.kind==="staticvariable"){var Oe=A.variables.length-1,we=A.variables.indexOf(g);return we!==Oe}if(g.kind==="entry"){if(g.key===p)return!0;var tt=A.items.length-1,_t=A.items.indexOf(g);return _t!==tt}if(["call","new"].includes(g.kind)){var Ee=g.arguments.length-1,dt=g.arguments.indexOf(p);return dt!==Ee}if(g.kind==="echo"){var ze=g.expressions.length-1,Gt=g.expressions.indexOf(p);return Gt!==ze}if(g.kind==="array"){var Bt=g.items.length-1,pt=g.items.indexOf(p);return pt!==Bt}return g.kind==="retif"&&a(c,f+1)},isLookupNode:function(a){return a.kind==="propertylookup"||a.kind==="staticlookup"||a.kind==="offsetlookup"},isFirstChildrenInlineNode:dp,shouldPrintHardLineAfterStartInControlStructure:function(a){var c=a.getValue();return!["try","catch"].includes(c.kind)&&dp(a)},shouldPrintHardLineBeforeEndInControlStructure:function(a){var c=a.getValue();if(["try","catch"].includes(c.kind))return!0;if(c.kind==="switch"){var f=Cs(c.body);if(f.length===0)return!0;var p=su(f);if(!p.body)return!0;var g=Cs(p.body);return g.length===0||g[0].kind!=="inline"}return!dp(a)},getAlignment:function(a){var c=a.split(`
`).pop();return c.length-c.trimLeft().length+1},isProgramLikeNode:function(a){return["program","declare","namespace"].includes(a.kind)},isReferenceLikeNode:function(a){return["name","parentreference","selfreference","staticreference"].includes(a.kind)},getNodeKindIncludingLogical:function(a){return a.kind==="bin"&&["||","&&"].includes(a.type)?"logical":a.kind},useDoubleQuote:function(a,c){if(a.isDoubleQuote===c.singleQuote){var f=a.raw.slice(a.raw[0]==="b"?2:1,-1).match(/\\([$nrtfve]|[xX][0-9a-fA-F]{1,2}|[0-7]{1,3}|u{([0-9a-fA-F]+)})|\r?\n|'|"|\$/);return a.isDoubleQuote?f:!f}return a.isDoubleQuote},hasEmptyBody:function(a){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"body",f=a.getValue();return f[c]&&f[c].children&&f[c].children.length===0&&(!f[c].comments||f[c].comments.length===0)},isNextLineEmptyAfterNamespace:function(a,c,f){var p=f(c);return p=ew(a,p),p=tw(a,p),ZO(a,p)},shouldPrintHardlineBeforeTrailingComma:function(a){return a.kind==="nowdoc"||a.kind==="encapsed"&&a.type==="heredoc"||a.kind==="entry"&&(a.value.kind==="nowdoc"||a.value.kind==="encapsed"&&a.value.type==="heredoc")},isDocNode:function(a){return a.kind==="nowdoc"||a.kind==="encapsed"&&a.type==="heredoc"},getAncestorNode:function(a,c){var f=function(p,g){for(var A,F=[].concat(g),N=-1;A=p.getParentNode(++N);)if(F.indexOf(A.kind)!==-1)return N;return-1}(a,c);return f===-1?null:a.getParentNode(f)},getNextNode:function(a,c){var f=a.getParentNode(),p=Cs(f);if(!p)return null;var g=p.indexOf(c);return g===-1?null:f.children[g+1]},normalizeMagicMethodName:function(a){var c=a.toLowerCase();return qy[c]?qy[c]:a},isPreviousLineEmpty:function(a,c,f){return rw(a,c,cp(f,"locStart"))},isNextLineEmpty:function(a,c,f){return nw(a,c,cp(f,"locEnd"))},getNextNonSpaceNonCommentCharacterIndex:function(a,c,f){return iw(a,c,cp(f,"locEnd"))}},co=r.default.util,ei=co.addLeadingComment,Zn=co.addDanglingComment,ti=co.addTrailingComment,aw=co.skipNewline,au=co.hasNewline,ow=co.hasNewlineInRange,ua=r.default.doc.builders,Ps=ua.concat,Uy=ua.join,lw=ua.indent,ki=ua.hardline,jy=ua.cursor,Gy=ua.lineSuffix,cw=ua.breakParent,Vl=Qe.getNextNonSpaceNonCommentCharacterIndex,uw=Qe.isNextLineEmpty,fw=Qe.isPreviousLineEmpty,dw=Qe.isLookupNode;function ou(a,c){var f=a.children;f.length===0?Zn(a,c):ei(f[0],c)}function pp(a,c){a.kind==="block"?ou(a,c):ei(a,c)}function Wy(a,c,f,p,g,A){var F=Vl(a,g,A),N=a.charAt(F);return c&&c.kind==="identifier"&&f&&(f.kind==="function"||f.kind==="method")&&N===")"?(ti(f,g),!0):!(!f||f.kind!=="function"&&f.kind!=="method"||!p||p.kind!=="block")&&(ou(p,g),!0)}function hp(a,c,f,p,g,A){if(!f||f.kind!=="if"||!p)return!1;var F=Vl(a,g,A);return a.charAt(F)===")"?(ti(c,g),!0):c===f.body&&p===f.alternate?(Zn(f,g),!0):p.kind==="if"?(pp(p.body,g),!0):f.body===p&&(ei(p,g),!0)}function mp(a,c,f){if(a&&["class","interface","trait"].includes(a.kind)){if(c&&a.extends){if(Array.isArray(a.extends)){if(a.extends.some(function(p){if(c&&c===p)return Zn(c,f),!0}))return!0}else if(c===a.extends)return Zn(c,f),!0}if(c&&a.implements&&a.implements.some(function(p){if(c&&c===p)return Zn(c,f),!0}))return!0;if(!(a.body&&a.body.length>0))return Zn(a,f),!0}return!!(c&&c.kind==="class"&&c.isAnonymous&&c.leadingComments&&f.kind==="commentblock")}function gp(a,c,f,p,g){if(c&&(c.kind==="function"||c.kind==="method")){for(var A=0,F=0;F<c.arguments.length;F++)A=g.locEnd(c.arguments[F])>A?g.locEnd(c.arguments[F]):A;var N=c.body&&g.locStart(p)>A&&g.locEnd(p)<g.locStart(c.body),B=Vl(a,p,g);if(c.type&&N&&a.charAt(B)!==")")return g.locEnd(p)<g.locStart(c.type)?(Zn(c.type,p),!0):(ti(c.type,p),!0)}return!1}function Tp(a,c,f,p,g){return!(!f||!["function","method","parameter"].includes(f.kind))&&c.kind==="typereference"&&p.kind==="identifier"&&(ti(c,g),!0)}function Hy(a,c){return!(!a||!["label","goto"].includes(a.kind))&&(ti(a,c),!0)}function _p(a,c,f,p){return f&&f.kind==="inline"?(f.leadingComments||(f.leadingComments=[]),f.leadingComments.includes(p)||f.leadingComments.push(p),!0):!(a||f||!c||c.kind!=="inline")&&(Zn(c,p),!0)}function Yy(a,c,f){return!(!a||a.kind!=="try"||!c)&&(c.kind==="block"?(ou(c,f),!0):c.kind==="try"?(pp(c.always,f),!0):c.kind==="catch"&&(pp(c.body,f),!0))}function Ky(a,c,f,p){return f||c||!a||a.kind!=="namespace"||a.withBrackets?!(c||!a||a.kind!=="namespace"||a.withBrackets)&&(Zn(a,p),!0):(ti(a,p),!0)}function $y(a,c,f,p){return!(!a||a.kind!=="declare")&&(!c||c.kind!=="noop")&&(f&&a.directives[0]!==f?!(!f||!c)&&(ei(f,p),!0):(a.mode==="none"?ti(a,p):Zn(a,p),!0))}function yp(a,c,f,p,g,A){if(!f||f.kind!=="while"||!p)return!1;var F=Vl(a,g,A);return a.charAt(F)===")"?(ti(c,g),!0):p.kind==="block"&&(ou(p,g),!0)}function bp(a,c){return a.getValue().printed=!0,c.printer.printComment(a,c)}function zy(a,c,f){return a.getNode()===c.cursorNode&&a.getValue()?Ps([jy,f,jy]):f}var Ke={handleOwnLineComment:function(a,c,f){var p=a.precedingNode,g=a.enclosingNode,A=a.followingNode;return Wy(c,p,g,A,a,f)||function(F,N,B){return F&&dw(F)&&N&&["identifier","variable","encapsed"].includes(N.kind)?(ei(F,B),!0):!1}(g,A,a)||hp(c,p,g,A,a,f)||yp(c,p,g,A,a,f)||Yy(g,A,a)||mp(g,A,a)||Tp(c,p,g,A,a)||gp(c,g,A,a,f)||function(F,N,B,q){return!B&&F&&(F.kind==="for"||F.kind==="foreach")?(F.body&&F.body.kind!=="block"?ei(B,q):ei(F,q),!0):!1}(g,0,A,a)||_p(g,p,A,a)||$y(g,p,A,a)},handleEndOfLineComment:function(a,c,f){var p=a.precedingNode,g=a.enclosingNode,A=a.followingNode;return function(F,N,B,q,R){return!N&&!q&&B&&B.kind==="array"?(ti(B,R),!0):!1}(0,p,g,A,a)||function(F,N,B,q,R){return B&&B.kind==="return"&&!B.expr?(ti(B,R),!0):!1}(0,0,g,0,a)||Wy(c,p,g,A,a,f)||function(F,N,B,q,R,Oe){var we=N&&!ow(R,Oe.locEnd(N),Oe.locStart(q));return(!N||!we)&&F&&F.kind==="retif"&&B?(ei(B,q),!0):!1}(g,p,A,a,c,f)||hp(c,p,g,A,a,f)||yp(c,p,g,A,a,f)||Yy(g,A,a)||mp(g,A,a)||Tp(c,p,g,A,a)||gp(c,g,A,a,f)||function(F,N){return F&&F.kind==="entry"?(ei(F,N),!0):!1}(g,a)||function(F,N,B){return N&&N.kind==="call"&&F&&N.what===F&&N.arguments.length>0?(ei(N.arguments[0],B),!0):!1}(p,g,a)||function(F,N,B){if(F&&F.kind==="assign"&&N){var q=F.loc.start.offset+F.loc.source.indexOf("=");if(B.loc.start.offset>q)return ei(N,B),!0}return!1}(g,A,a)||_p(g,p,A,a)||Ky(g,p,A,a)||$y(g,p,A,a)||Hy(g,a)},handleRemainingComment:function(a,c,f){var p=a.precedingNode,g=a.enclosingNode,A=a.followingNode;return hp(c,p,g,A,a,f)||yp(c,p,g,A,a,f)||function(F,N,B,q){var R=Vl(F,B,q);return F.charAt(R)!==")"?!1:N&&(N.kind==="function"||N.kind==="closure"||N.kind==="method"||N.kind==="call"||N.kind==="new")&&N.arguments.length===0?(Zn(N,B),!0):!1}(c,g,a,f)||mp(g,A,a)||function(F,N,B){return F&&F.kind==="traituse"&&F.adaptations&&!F.adaptations.length?(Zn(F,B),!0):!1}(g,0,a)||Tp(c,p,g,A,a)||gp(c,g,A,a,f)||Hy(g,a)||function(F,N,B,q){return N&&N.kind==="halt"?(Zn(N,q),!0):F&&F.kind==="halt"?(Zn(F,q),!0):!1}(p,g,0,a)||function(F,N){return F&&(F.kind==="continue"||F.kind==="break")&&!F.label?(ti(F,N),!0):!1}(g,a)||_p(g,p,A,a)||Ky(g,p,A,a)},getCommentChildNodes:function(a){return typeof a!="object"?[]:function(c){return Object.keys(c).filter(function(f){return f!=="kind"&&f!=="loc"&&f!=="errors"&&f!=="extra"&&f!=="comments"&&f!=="leadingComments"&&f!=="enclosingNode"&&f!=="precedingNode"&&f!=="followingNode"}).map(function(f){return c[f]})}(a)},canAttachComment:function(a){return a.kind&&a.kind!=="commentblock"&&a.kind!=="commentline"},isBlockComment:function(a){return a.kind==="commentblock"},printDanglingComments:function(a,c,f,p){var g=[],A=a.getValue();return A&&A.comments?(a.each(function(F){var N=F.getValue();!N||N.leading||N.trailing||p&&!p(N)||g.push(bp(F,c))},"comments"),g.length===0?"":f?Uy(ki,g):lw(Ps([ki,Uy(ki,g)]))):""},hasLeadingComment:function(a){return a.comments&&a.comments.some(function(c){return c.leading})},hasTrailingComment:function(a){return a.comments&&a.comments.some(function(c){return c.trailing})},hasLeadingOwnLineComment:function(a,c,f){return c.comments&&c.comments.some(function(p){return p.leading&&au(a,f.locEnd(p))})},printComments:function(a,c){var f=[];return a.forEach(function(p,g,A){p.printed=!0;var F=A.length===g+1;f.push(p.value),F||f.push(ki),uw(c.originalText,p,c)&&!F&&f.push(ki)}),Ps(f)},printAllComments:function(a,c,f,p){var g=a.getValue(),A=c(a),F=g&&g.comments;if(!F||F.length===0)return zy(a,f,A);var N=[],B=[p?";":"",A];return a.each(function(q){var R=q.getValue(),Oe=R.leading,we=R.trailing;if(Oe){var tt=function(Ee,dt,ze){var Gt=Ee.getValue(),Bt=bp(Ee,ze);if(!Bt)return"";var pt=ze.printer.isBlockComment&&ze.printer.isBlockComment(Gt);return Ps(pt?[Bt,au(ze.originalText,ze.locEnd(Gt))?ki:" "]:[Bt,ki])}(q,0,f);if(!tt)return;N.push(tt);var _t=f.originalText;au(_t,aw(_t,f.locEnd(R)))&&N.push(ki)}else we&&B.push(function(Ee,dt,ze){var Gt=Ee.getValue(),Bt=bp(Ee,ze);if(!Bt)return"";var pt=ze.printer.isBlockComment&&ze.printer.isBlockComment(Gt);if(au(ze.originalText,ze.locStart(Gt),{backwards:!0})){var je=fw(ze.originalText,Gt,ze);return Gy(Ps([ki,je?ki:"",Bt]))}return Ps(pt?[" ",Bt]:[Gy(Ps([" ",Bt])),pt?"":cw])}(q,0,f))},"comments"),zy(a,f,Ps(N.concat(B)))}};function Qy(){}Qy.strictEqual=function(){};var pw=Qy,Xy=Qe.getPrecedence,hw=Qe.shouldFlatten,mw=Qe.isBitwiseOperator,Jy=function(a){var c=a.getParentNode();if(!c)return!1;var f=a.getName(),p=a.getNode();if(["program","expressionstatement","namespace","declare","block","include","print","return","echo"].includes(c.kind))return!1;switch(p.kind){case"pre":case"post":if(c.kind==="unary")return p.kind==="pre"&&(p.type==="+"&&c.type==="+"||p.type==="-"&&c.type==="-");case"unary":switch(c.kind){case"unary":return p.type===c.type&&(p.type==="+"||p.type==="-");case"propertylookup":case"staticlookup":case"offsetlookup":case"call":return f==="what"&&c.what===p;case"bin":return c.type==="**"&&f==="left";default:return!1}case"bin":switch(c.kind){case"assign":case"retif":return["and","xor","or"].includes(p.type);case"silent":case"cast":return p.parenthesizedExpression;case"pre":case"post":case"unary":return!0;case"call":case"propertylookup":case"staticlookup":case"offsetlookup":return f==="what"&&c.what===p;case"bin":var g=c.type,A=Xy(g),F=p.type,N=Xy(F);return A>N||g==="||"&&F==="&&"||(A===N&&f==="right"?(pw.strictEqual(c.right,p),!0):A===N&&!hw(g,F)||(A<N&&F==="%"?g==="+"||g==="-":!!mw(g)));default:return!1}case"propertylookup":case"staticlookup":switch(c.kind){case"call":return f==="what"&&c.what===p&&p.parenthesizedExpression;default:return!1}case"clone":case"new":switch(c.kind){case"propertylookup":case"staticlookup":case"offsetlookup":case"call":return f==="what"&&c.what===p;default:return!1}case"yield":switch(c.kind){case"propertylookup":case"staticlookup":case"offsetlookup":case"call":return f==="what"&&c.what===p;case"retif":return c.test===p;default:return!(!p.key&&!p.value)}case"assign":return(c.kind!=="for"||!c.init.includes(p)&&!c.increment.includes(p))&&c.kind!=="assign"&&c.kind!=="static"&&!["if","do","while","foreach","switch"].includes(c.kind)&&c.kind!=="silent"&&c.kind!=="call";case"retif":switch(c.kind){case"cast":return!0;case"unary":case"bin":case"retif":return!(f==="test"&&!c.trueExpr);case"propertylookup":case"staticlookup":case"offsetlookup":case"call":return f==="what"&&c.what===p;default:return!1}case"closure":switch(c.kind){case"call":return f==="what"&&c.what===p;case"propertylookup":return!0;default:return!1}case"silence":case"cast":return p.parenthesizedExpression;case"string":case"array":switch(c.kind){case"propertylookup":case"staticlookup":case"offsetlookup":case"call":return(!["string","array"].includes(p.kind)||c.kind!=="offsetlookup")&&f==="what"&&c.what===p;default:return!1}case"print":case"include":return c.kind==="bin"}return!1},Dn=r.default.doc.builders,Zy=Dn.breakParent,k=Dn.concat,on=Dn.join,ft=Dn.line,gw=Dn.lineSuffix,ye=Dn.group,uo=Dn.conditionalGroup,Ie=Dn.indent,Tw=Dn.dedent,As=Dn.ifBreak,de=Dn.hardline,Ue=Dn.softline,fo=Dn.literalline,_w=Dn.align,yw=Dn.dedentToRoot,Ss=r.default.doc.utils.willBreak,Np=r.default.util,bw=Np.isNextLineEmptyAfterIndex,Nw=Np.hasNewline,eb=Np.hasNewlineInRange,xs=Qe.getLast,vw=Qe.getPenultimate,tb=Qe.isLastStatement,Iw=Qe.lineShouldEndWithSemicolon,Cw=Qe.printNumber,nb=Qe.shouldFlatten,rb=Qe.maybeStripLeadingSlashFromUse,Pw=Qe.fileShouldEndWithHardline,dr=Qe.hasDanglingComments,ib=Qe.hasLeadingComment,sb=Qe.hasTrailingComment,ab=Qe.docShouldHaveTrailingNewline,er=Qe.isLookupNode,vp=Qe.isFirstChildrenInlineNode,Aw=Qe.shouldPrintHardLineAfterStartInControlStructure,Sw=Qe.shouldPrintHardLineBeforeEndInControlStructure,xw=Qe.getAlignment,Ip=Qe.isProgramLikeNode,po=Qe.getNodeKindIncludingLogical,Ew=Qe.useDoubleQuote,ob=Qe.hasEmptyBody,Rw=Qe.isNextLineEmptyAfterNamespace,lb=Qe.shouldPrintHardlineBeforeTrailingComma,Cp=Qe.isDocNode,Pp=Qe.getAncestorNode,Ap=Qe.isReferenceLikeNode,kw=Qe.getNextNode,Ow=Qe.normalizeMagicMethodName,ww=Qe.getNextNonSpaceNonCommentCharacterIndex,fa=Qe.isNextLineEmpty;function ho(a,c){return parseFloat(a)>=parseFloat(c)}function lu(a,c){return!!a.trailingCommaPHP&&ho(a.phpVersion,c)}function Sp(a){switch(a.braceStyle){case"1tbs":return!1;case"psr-2":default:return!0}}function xp(a,c,f){var p=arguments.length>3&&arguments[3]!==void 0&&arguments[3];return k([p?"?":"","->",a.call(f,"offset")])}function cb(a,c,f){return xp(a,c,f,!0)}function ub(a,c,f){var p=a.getValue(),g=!["variable","identifier"].includes(p.offset.kind);return k(["::",g?"{":"",a.call(f,"offset"),g?"}":""])}function fb(a,c,f){var p=a.getValue(),g=p.offset&&p.offset.kind==="number"||Pp(a,"encapsed");return k(["[",p.offset?ye(k([Ie(k([g?"":Ue,a.call(f,"offset")])),g?"":Ue])):"","]"])}function db(a){return a.kind==="array"&&(a.items.length>0||a.comments)||a.kind==="function"||a.kind==="method"||a.kind==="closure"}function Lw(a){var c=xs(a),f=vw(a);return!ib(c)&&!sb(c)&&db(c)&&(!f||f.kind!==c.kind)}function Dw(a){if(a.length!==2)return!1;var c=Y(a,2),f=c[0],p=c[1];return!(f.comments&&f.comments.length||f.kind!=="function"&&f.kind!=="method"&&f.kind!=="closure"||p.kind==="retif"||db(p))}function Oi(a,c,f){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"arguments",g=a.getValue()[p];if(g.length===0)return k(["(",Ke.printDanglingComments(a,c,!0),")"]);var A=!1,F=!1,N=g.length-1,B=a.map(function(pt,je){var Pt=pt.getNode(),zt=[f(pt)];return je===N||(fa(c.originalText,Pt,c)?(je===0&&(F=!0),A=!0,zt.push(",",de,de)):zt.push(",",ft)),k(zt)},p),q=a.getValue(),R=xs(g),Oe=lu(c,"7.3")&&["call","new","unset","isset"].includes(q.kind)||lu(c,"8.0")&&["function","closure","method","arrowfunc"].includes(q.kind)?Ie(k([R&&lb(R)?de:"",","])):"";function we(){return ye(k(["(",Ie(k([ft,k(B)])),Oe,ft,")"]),{shouldBreak:!0})}var tt=Dw(g),_t=Lw(g);if(tt||_t){var Ee,dt=(tt?B.slice(1).some(Ss):B.slice(0,-1).some(Ss))||A,ze=0;a.each(function(pt){tt&&ze===0&&(Ee=[k([pt.call(function(je){return f(je,{expandFirstArg:!0})}),B.length>1?",":"",F?de:ft,F?de:""])].concat(B.slice(1))),_t&&ze===g.length-1&&(Ee=B.slice(0,-1).concat(pt.call(function(je){return f(je,{expandLastArg:!0})}))),ze++},p);var Gt=B.some(Ss),Bt=k(["(",k(Ee),")"]);return k([Gt?Zy:"",uo([Gt?As(we(),Bt):Bt,k(tt?["(",ye(Ee[0],{shouldBreak:!0}),k(Ee.slice(1)),")"]:["(",k(B.slice(0,-1)),ye(xs(Ee),{shouldBreak:!0}),")"]),ye(k(["(",Ie(k([ft,k(B)])),As(Oe),ft,")"]),{shouldBreak:!0})],{shouldBreak:dt})])}return ye(k(["(",Ie(k([Ue,k(B)])),As(Oe),Ue,")"]),{shouldBreak:B.some(Ss)||A})}function pb(a){return a.kind==="array"&&a.items.length!==0}function Bl(a){return a.right.kind==="array"&&a.right.items.length!==0}function hb(a,c,f){var p=a.getValue();switch(p.kind){case"propertylookup":return xp(a,c,f);case"nullsafepropertylookup":return cb(a,c,f);case"staticlookup":return ub(a,0,f);case"offsetlookup":return fb(a,0,f);default:return"Have not implemented lookup kind ".concat(p.kind," yet.")}}function mb(a){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=c.opening,p=f===void 0||f;if(a.type==="heredoc")return p?"<<<".concat(a.label):a.label;var g={string:'"',shell:"`"};return g[a.type]?g[a.type]:"Unimplemented encapsed type ".concat(a.type)}function Mw(a,c,f){var p=[],g=[];return a.each(function(A){p.push(k(g)),p.push(ye(f(A))),g=[",",ft],A.getValue()&&fa(c.originalText,A.getValue(),c)&&g.push(Ue)},"items"),k(p)}function Fw(a,c){if(c.length===0)return a;var f=0;return c.reduce(function(p,g){var A=g.start,F=g.end,N=g.alignment,B=g.before,q=g.after,R=k([B||"",k(a.slice(A,F)),q||""]),Oe=p.concat(a.slice(f,A),N?yw(ye(k([_w(new Array(N).join(" "),R)]))):ye(R),F===a.length-1?a.slice(F):"");return f=F,Oe},[])}function ql(a,c,f){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"children",g=a.getValue(),A=a.getParentNode(),F=-1,N=[],B=[];a.map(function(pt,je){var Pt=pt.getValue(),zt=Pt.kind==="inline",Rs=f(pt),Mn=g[p],pr=Mn[je+1],da=!tb(pt)&&!zt&&(pr&&pr.kind==="case"?!vp(a):pr&&pr.kind!=="inline"),pa=k([Rs,da?de:"",da&&fa(c.originalText,Pt,c)?de:""]),Lr=je===0,ts=Mn.length-1===je,hr=g.kind==="block"&&A&&["function","closure","method","try","catch"].includes(A.kind),ha=hr&&Lr?"":" ";if(zt||!zt&&ts&&F>=0){var mr=F;if(zt&&(F=je),zt&&!Lr||!zt&&ts){var ks=(zt?mr:F)+1,Dr=ts&&!zt?je+1:je,ns=Mn[zt?mr:F],hu=ns?xw(ns.raw):"",Ul=Dr-ks>1,jl=Ul?hr&&!ns||Ip(g)&&ks===0?"":de:"",Os=Ul&&Pt.kind!=="halt"?hr&&ts?"":de:"";Ul&&(ha=""),B.push({start:ks,end:Dr,alignment:hu,before:jl,after:Os})}}if(zt){var ma=pr&&pr.kind==="echo"&&pr.shortForm?"<?=":"<?php",mu=Pt.leadingComments&&Pt.leadingComments.length?k([Lr&&g.kind!=="namespace"&&!hr?"<?php":"",g.kind!=="namespace"&&hr?"":de,Ke.printComments(Pt.leadingComments,c),de,"?>"]):Ip(g)&&Lr&&g.kind!=="namespace"?"":k([ha,"?>"]),rs=a.getNode(je+1),ga=rs&&rs.children&&rs.children.length,Op=Pt.comments&&Pt.comments.length?k([ma,de,ga?Ke.printComments(Pt.comments,c):"",de,ga?"?>":""]):Ip(g)&&ts?"":k([ma," "]);pa=k([mu,pa,Op])}N.push(pa)},p);var q=Fw(N,B);if(g.kind==="program"&&!g.extra.parseAsEval){var R=[],Oe=Y(g.children,1),we=Oe[0],tt=!we||we.kind!=="inline";if(tt){var _t=c.originalText.trim().match(/^<\?(php|=)(\s+)?\S/),Ee=k([_t&&_t[2]&&_t[2].includes(`
`)?k([de,_t[2].split(`
`).length>2?de:""]):" ",g.comments?Ke.printComments(g.comments,c):""]),dt=we&&we.kind==="echo"&&we.shortForm;R.push(k([dt?"<?=":"<?php",Ee]))}R.push(k(q));var ze=c.originalText.trim().endsWith("?>");if(ze){var Gt=xs(g.children),Bt=Gt?k([eb(c.originalText.trimEnd(),c.locEnd(Gt),c.locEnd(g))?de:" ",fa(c.originalText,Gt,c)?de:""]):g.comments?de:"";R.push(gw(k([Bt,"?>"])))}return k(R)}return k(q)}function gb(a,c,f,p){return k(a.map(function(g){var A=[];return A.push(f(g)),tb(g)||(A.push(de),fa(c.originalText,g.getValue(),c)&&A.push(de)),k(A)},p))}function wr(a,c,f){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"extends",g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:" ",A=arguments.length>5&&arguments[5]!==void 0?arguments[5]:" ",F=a.getValue(),N=dr(F[p])?k([de,a.call(function(q){return Ke.printDanglingComments(q,c,!0)},p),de]):g,B=Array.isArray(F[p])?ye(k([on(",",a.map(function(q){var R=f(q);return dr(q.getValue())?k([de,Ke.printDanglingComments(q,c,!0),de,R]):k([A,R])},p))])):k([A,a.call(f,p)]);return Ie(k([N,p,Ss(N)?Ie(B):B]))}function Es(a,c,f){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},g=p.inline,A=g!==void 0&&g,F=[];return a.getValue().attrGroups?(a.each(function(N){var B=["#["];F.length>0&&F.push(A?" ":de),B.push(As(Ue)),N.each(function(q){var R=q.getValue();B.length>2&&B.push(",",As(Ue," "));var Oe=[R.name];R.args.length>0&&Oe.push(Oi(q,c,f,"args")),B.push(ye(k(Oe)))},"attrs"),F.push(ye(k([Ie(k(B)),As(Ue),"]",Ue,A?" ":""])))},"attrGroups"),F.length===0?[]:[k([].concat(F,[A?"":de]))]):[]}function es(a,c,f){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"body",g=a.getValue();if(!g[p])return";";var A=a.call(f,p);return k([g.shortForm?":":" {",Ie(k([g[p].kind!=="block"||g[p].children&&g[p].children.length>0||g[p].comments&&g[p].comments.length>0?k([Aw(a)?g.kind==="switch"?" ":"":de,A]):""])),g.kind==="if"&&p==="body"?"":k([Sw(a)?de:"",g.shortForm?k(["end",g.kind,";"]):"}"])])}function cu(a,c,f,p,g,A,F){if(!p)return c;var N=Ep(a,p,g,A,F);return ye(k([c,f,N]))}function Ep(a,c,f,p,g){var A=p?"&":"";if(Ke.hasLeadingOwnLineComment(g.originalText,c,g))return Ie(k([de,A,f]));var F=c.kind==="cast"?c.expr:c;return F.kind==="bin"&&!Bl(F)||F.kind==="retif"&&(!F.trueExpr&&!pb(F.falseExpr)||F.test.kind==="bin"&&!Bl(F.test))||(a.kind==="variable"||a.kind==="string"||er(a))&&(F.kind==="string"&&!Tb(F)||function N(B){return!!er(B)&&(!(B.what.kind!=="variable"&&!Ap(B.what))||N(B.what))}(F))?ye(Ie(k([ft,A,f]))):k([" ",A,f])}function Tb(a){return a.raw.includes(`
`)}function uu(a,c,f){return(a.kind==="string"||a.kind==="encapsed"&&(a.type==="string"||a.type==="shell"))&&Tb(a)&&!Nw(c,f.locStart(a),{backwards:!0})}var Vw=function(a,c,f){var p=a.getValue();if(!p)return"";if(typeof p=="string")return p;var g=function(N,B,q){var R=N.getValue();switch(R.kind){case"program":return ye(k([ql(N,B,q),Ke.printDanglingComments(N,B,!0,function(ie){return!ie.printed})]));case"expressionstatement":return N.call(q,"expression");case"block":return k([ql(N,B,q),Ke.printDanglingComments(N,B,!0)]);case"declare":var Oe=function(ie){return on(", ",ie.map(function(Ne){return k([q(Ne)])},"directives"))};if(["block","short"].includes(R.mode))return k(["declare(",Oe(N),")",R.mode==="block"?" {":":",R.children.length>0?Ie(k([de,ql(N,B,q)])):"",Ke.printDanglingComments(N,B),de,R.mode==="block"?"}":"enddeclare;"]);var we=kw(N,R);return k(["declare(",Oe(N),")",we&&we.kind==="inline"?"":";"]);case"declaredirective":return k([N.call(q,"key"),"=",N.call(q,"value")]);case"namespace":return k(["namespace ",R.name&&typeof R.name=="string"?k([R.name,R.withBrackets?" ":""]):"",R.withBrackets?"{":";",dr(R)?k([" ",Ke.printDanglingComments(N,B,!0)]):"",R.children.length>0?R.withBrackets?Ie(k([de,ql(N,B,q)])):k([R.children[0].kind==="inline"?"":k([de,Rw(B.originalText,R,B.locStart)?de:""]),ql(N,B,q)]):"",R.withBrackets?k([de,"}"]):""]);case"usegroup":return ye(k(["use ",R.type?k([R.type," "]):"",Ie(k([R.name?k([rb(R.name),"\\{",Ue]):"",on(k([",",ft]),N.map(function(ie){return k([q(ie)])},"items"))])),R.name?k([As(lu(B,"7.2")?",":""),Ue,"}"]):""]));case"useitem":return k([R.type?k([R.type," "]):"",rb(R.name),dr(R)?k([" ",Ke.printDanglingComments(N,B,!0)]):"",R.alias?k([" as ",N.call(q,"alias")]):""]);case"class":case"interface":case"trait":return function(ie,Ne,Be){var le=ie.getValue(),At=le.kind==="class"&&le.isAnonymous,yn=Es(ie,Ne,Be,{inline:At}),Wt=At?[]:ae(yn);le.isFinal&&Wt.push("final "),le.isAbstract&&Wt.push("abstract "),Wt.push(At?"":le.kind),le.name&&Wt.push(" ",ie.call(Be,"name")),le.extends&&le.implements?Wt.push(uo([k([wr(ie,Ne,Be,"extends"),wr(ie,Ne,Be,"implements")]),k([wr(ie,Ne,Be,"extends"),wr(ie,Ne,Be,"implements"," ",de)]),k([wr(ie,Ne,Be,"extends",de," "),wr(ie,Ne,Be,"implements",de,le.implements.length>1?de:" ")])],{shouldBreak:dr(le.extends)})):(le.extends&&Wt.push(uo([wr(ie,Ne,Be,"extends"),wr(ie,Ne,Be,"extends"," ",de),wr(ie,Ne,Be,"extends",de,le.extends.length>1?de:" ")])),le.implements&&Wt.push(uo([wr(ie,Ne,Be,"implements"),wr(ie,Ne,Be,"implements"," ",de),wr(ie,Ne,Be,"implements",de,le.implements.length>1?de:" ")])));var lt=ye(k([ye(k(Wt)),Sp(Ne)?At?ft:de:" "])),Ot=le.body&&le.body.length===0&&!dr(le),bn=k(["{",Ie(k([Ot?"":de,gb(ie,Ne,Be,"body")])),Ke.printDanglingComments(ie,Ne,!0),At&&Ot?Ue:de,"}"]);return k([lt,bn])}(N,B,q);case"traitprecedence":return k([N.call(q,"trait"),"::",N.call(q,"method")," insteadof ",on(", ",N.map(q,"instead"))]);case"traitalias":return k([R.trait?k([N.call(q,"trait"),"::"]):"",R.method?N.call(q,"method"):""," as ",on(" ",[].concat(ae(R.visibility?[R.visibility]:[]),ae(R.as?[N.call(q,"as")]:[])))]);case"traituse":return ye(k(["use ",Ie(ye(on(k([",",ft]),N.map(q,"traits")))),R.adaptations?k([" {",R.adaptations.length>0?k([Ie(k([de,gb(N,B,q,"adaptations")])),de]):dr(R)?k([ft,Ke.printDanglingComments(N,B,!0),ft]):"","}"]):""]));case"function":case"closure":case"method":return function(ie,Ne,Be){var le=ie.getValue(),At=ae(Es(ie,Ne,Be,{inline:le.kind==="closure"}));le.isFinal&&At.push("final "),le.isAbstract&&At.push("abstract "),le.visibility&&At.push(le.visibility," "),le.isStatic&&At.push("static "),At.push("function "),le.byref&&At.push("&"),le.name&&At.push(ie.call(Be,"name")),At.push(Oi(ie,Ne,Be)),le.uses&&le.uses.length>0&&At.push(ye(k([" use ",Oi(ie,Ne,Be,"uses")]))),le.type&&At.push(k([": ",dr(le.type)?k([ie.call(function(Ot){return Ke.printDanglingComments(Ot,Ne,!0)},"type")," "]):"",le.nullable?"?":"",ie.call(Be,"type")]));var yn=k(At);if(!le.body)return yn;var Wt=le.kind==="closure",lt=k(["{",Ie(k([ob(ie)?"":de,ie.call(Be,"body")])),Wt&&ob(ie)?"":de,"}"]);return Wt?k([yn," ",lt]):le.arguments.length===0?k([yn,Sp(Ne)?de:" ",lt]):At.some(Ss)?k([yn," ",lt]):uo([k([yn,Sp(Ne)?de:" ",lt]),k([yn," ",lt])])}(N,B,q);case"arrowfunc":return k([].concat(ae(Es(N,B,q,{inline:!0})),[R.isStatic?"static ":"","fn",Oi(N,B,q),R.type?k([": ",R.nullable?"?":"",N.call(q,"type")]):""," => ",N.call(q,"body")]));case"parameter":var tt="";R.flags===1?tt="public ":R.flags===2?tt="protected ":R.flags===4&&(tt="private ");var _t=k([].concat(ae(Es(N,B,q,{inline:!0})),[tt,R.nullable?"?":"",R.type?k([N.call(q,"type")," "]):"",R.byref?"&":"",R.variadic?"...":"","$",N.call(q,"name")]));return R.value?ye(k([_t,dr(R)?" ":"",Ke.printDanglingComments(N,B,!0),k([" =",Ep(R.name,R.value,N.call(q,"value"),!1,B)])])):_t;case"variadic":return k(["...",N.call(q,"what")]);case"property":return ye(k([R.type?k([R.nullable?"?":"",N.call(q,"type")," "]):"","$",N.call(q,"name"),R.value?k([" =",Ep(R.name,R.value,N.call(q,"value"),!1,B)]):""]));case"propertystatement":var Ee=[];N.map(function(ie){return Ee.push.apply(Ee,ae(Es(ie,B,q)))},"properties");var dt,ze=N.map(function(ie){return q(ie)},"properties"),Gt=R.properties.some(function(ie){return ie.value});ze.length!==1||R.properties[0].comments?ze.length>0&&(dt=Ie(ze[0])):dt=Y(ze,1)[0];var Bt=R.visibility||R.visibility===null;return ye(k([].concat(Ee,[Bt?k([R.visibility===null?"var":R.visibility,""]):"",R.isStatic?k([Bt?" ":"","static"]):"",dt?k([" ",dt]):"",Ie(k(ze.slice(1).map(function(ie){return k([",",Gt?de:ft,ie])})))])));case"if":var pt=[],je=es(N,B,q,"body"),Pt=ye(k(["if (",ye(k([Ie(k([Ue,N.call(q,"test")])),Ue])),")",je]));if(pt.push(Pt,vp(N)||!R.body?"":de),R.alternate){pt.push(R.shortForm?"":"} ");var zt=sb(R.body)&&R.body.comments.some(function(ie){return ie.trailing&&!Ke.isBlockComment(ie)})||function(ie){if(!ie.comments)return!1;var Ne=xs(ie.comments.filter(function(Be){return!Be.leading&&!Be.trailing}));return Ne&&!Ke.isBlockComment(Ne)}(R),Rs=!zt;pt.push(Rs?"":de),dr(R)&&pt.push(fa(B.originalText,R.body,B)?de:"",Ke.printDanglingComments(N,B,!0),zt?de:" "),pt.push("else",ye(R.alternate.kind==="if"?N.call(q,"alternate"):es(N,B,q,"alternate")))}else pt.push(R.body?R.shortForm?"endif;":"}":"");return k(pt);case"do":return k(["do",es(N,B,q,"body")," while (",ye(k([Ie(k([Ue,N.call(q,"test")])),Ue])),")"]);case"while":case"switch":return ye(k([R.kind," (",ye(k([Ie(k([Ue,N.call(q,"test")])),Ue])),")",es(N,B,q,"body")]));case"for":var Mn=es(N,B,q,"body"),pr=Ke.printDanglingComments(N,B,!0),da=pr?k([pr,Ue]):"";return R.init.length||R.test.length||R.increment.length?k([da,ye(k(["for (",ye(k([Ie(k([Ue,ye(k([on(k([",",ft]),N.map(q,"init"))])),";",ft,ye(k([on(k([",",ft]),N.map(q,"test"))])),";",ft,ye(on(k([",",ft]),N.map(q,"increment")))])),Ue])),")",Mn]))]):k([da,ye(k(["for (;;)",Mn]))]);case"foreach":var pa=es(N,B,q,"body"),Lr=Ke.printDanglingComments(N,B,!0),ts=Lr?k([Lr,Ue]):"";return k([ts,ye(k(["foreach (",ye(k([Ie(k([Ue,N.call(q,"source"),ft,"as ",ye(R.key?Ie(on(k([" =>",ft]),[N.call(q,"key"),N.call(q,"value")])):N.call(q,"value"))])),Ue])),")",pa]))]);case"try":var hr=[];return hr.push("try",es(N,B,q,"body")),R.catches&&hr.push(k(N.map(q,"catches"))),R.always&&hr.push(" finally",es(N,B,q,"always")),k(hr);case"catch":return k([" catch",R.what?k([" (",on(" | ",N.map(q,"what")),R.variable?k([" ",N.call(q,"variable")]):"",")"]):"",es(N,B,q,"body")]);case"case":return k([R.test?k(["case ",R.test.comments?Ie(N.call(q,"test")):N.call(q,"test"),":"]):"default:",R.body&&R.body.children&&R.body.children.length?Ie(k([vp(N)?"":de,N.call(q,"body")])):""]);case"break":case"continue":return R.level&&R.level.kind==="number"&&R.level.value!=="1"?k(["".concat(R.kind," "),N.call(q,"level")]):R.kind;case"call":return R.arguments.length===1&&uu(R.arguments[0],B.originalText,B)?k([N.call(q,"what"),k(["(",on(", ",N.map(q,"arguments")),")"])]):er(R.what)?function(ie,Ne,Be){var le=[];function At($e){var wt=Ne.originalText,ln=ww(wt,$e,Ne);return wt.charAt(ln)===")"?bw(wt,ln+1,Ne):fa(wt,$e,Ne)}function yn($e){var wt=$e.getValue();if(wt.kind!=="call"||!er(wt.what)&&wt.what.kind!=="call")if(er(wt)){var ln=null;ln=wt.kind==="propertylookup"?xp($e,Ne,Be):wt.kind==="nullsafepropertylookup"?cb($e,Ne,Be):wt.kind==="staticlookup"?ub($e,Ne,Be):fb($e,Ne,Be),le.unshift({node:wt,needsParens:Jy($e),printed:Ke.printAllComments($e,function(){return ln},Ne)}),$e.call(function(Hl){return yn(Hl)},"what")}else le.unshift({node:wt,printed:$e.call(Be)});else le.unshift({node:wt,printed:k([Ke.printAllComments($e,function(){return k([Oi($e,Ne,Be)])},Ne),At(wt)?de:""])}),$e.call(function(Hl){return yn(Hl)},"what")}var Wt=ie.getValue();le.unshift({node:Wt,printed:Oi(ie,Ne,Be)}),ie.call(function($e){return yn($e)},"what");for(var lt=0;lt<le.length;++lt)le[lt].node.kind==="call"&&le[lt-1]&&["propertylookup","staticlookup"].includes(le[lt-1].node.kind)&&le[lt-1].needsParens&&(le[0].printed=k(["(",le[0].printed]),le[lt-1].printed=k([le[lt-1].printed,")"]));for(var Ot=[],bn=[le[0]],St=1;St<le.length&&(le[St].node.kind==="call"||er(le[St].node)&&le[St].node.offset&&le[St].node.offset.kind==="number");++St)bn.push(le[St]);if(le[0].node.kind!=="call")for(;St+1<le.length&&er(le[St].node)&&er(le[St+1].node);++St)bn.push(le[St]);Ot.push(bn),bn=[];for(var To=!1;St<le.length;++St){if(To&&er(le[St].node)){if(le[St].node.kind==="offsetlookup"&&le[St].node.offset&&le[St].node.offset.kind==="number"){bn.push(le[St]);continue}Ot.push(bn),bn=[],To=!1}le[St].node.kind==="call"&&(To=!0),bn.push(le[St]),le[St].node.comments&&Ke.hasTrailingComment(le[St].node)&&(Ot.push(bn),bn=[],To=!1)}bn.length>0&&Ot.push(bn);function Vp($e){var wt=$e[1].length&&$e[1][0].node.kind==="offsetlookup";if($e[0].length===1){var ln=$e[0][0].node;return ln.kind==="variable"&&(ln.name==="this"||Bp&&Hl(ln.name))||Ap(ln)}function Hl(FL){return FL.length<Ne.tabWidth}var Up=xs($e[0]).node;return er(Up)&&(Up.offset.kind==="identifier"||Up.offset.kind==="variable")&&wt}var Bp=ie.getParentNode().kind==="expressionstatement",Cu=Ot.length>=2&&!Ot[1][0].node.comments&&Vp(Ot);function Pu($e){for(var wt=[],ln=0;ln<$e.length;ln++)$e[ln+1]&&$e[ln+1].needsParens?(wt.push("(",$e[ln].printed,$e[ln+1].printed,")"),ln++):wt.push($e[ln].printed);return k(wt)}function LL($e){return $e.length===0?"":Ie(ye(k([de,on(de,$e.map(Pu))])))}var nN=Ot.map(Pu),qp=k(nN),Au=Cu?3:2,rN=Ot.slice(0,Au).reduce(function($e,wt){return $e.concat(wt)},[]),iN=rN.slice(1,-1).some(function($e){return Ke.hasLeadingComment($e.node)})||rN.slice(0,-1).some(function($e){return Ke.hasTrailingComment($e.node)})||Ot[Au]&&Ke.hasLeadingComment(Ot[Au][0].node),DL=Pp(ie,"encapsed");if(Ot.length<=Au&&!iN||DL)return ye(qp);var sN=xs(Cu?Ot.slice(1,2)[0]:Ot[0]).node,aN=sN.kind!=="call"&&At(sN),oN=k([Pu(Ot[0]),Cu?k(Ot.slice(1,2).map(Pu)):"",aN?de:"",LL(Ot.slice(Cu?2:1))]),ML=le.filter(function($e){return $e.node.kind==="call"}).length;return iN||ML>=3||nN.slice(0,-1).some(Ss)?ye(oN):k([Ss(qp)||aN?Zy:"",uo([qp,oN])])}(N,B,q):k([N.call(q,"what"),Oi(N,B,q)]);case"new":var ha=R.what&&R.what.kind==="class"&&R.what.isAnonymous;if(!ha&&R.arguments.length===1&&uu(R.arguments[0],B.originalText,B))return k(["new "].concat(ae(N.call(Es,"what")),[N.call(q,"what"),"(",on(", ",N.map(q,"arguments")),")"]));var mr=[];if(mr.push("new "),ha)mr.push.apply(mr,[R.what.leadingComments&&R.what.leadingComments[0].kind==="commentblock"?k([Ke.printComments(R.what.leadingComments,B)," "]):""].concat(ae(N.call(function(ie,Ne,Be){return Es(ie,Ne,Be,{inline:!0})},"what")),["class",R.arguments.length>0?k([" ",Oi(N,B,q)]):"",ye(N.call(q,"what"))]));else{var ks=k([N.call(q,"what"),Oi(N,B,q)]);mr.push(ib(R.what)?Ie(ks):ks)}return k(mr);case"clone":return k(["clone ",R.what.comments?Ie(N.call(q,"what")):N.call(q,"what")]);case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":var Dr,ns=N.getParentNode(),hu=0;do Dr=N.getParentNode(hu),hu++;while(Dr&&er(Dr));var Ul=Pp(N,"encapsed")||Dr&&(Dr.kind==="new"||Dr.kind==="assign"&&Dr.left.kind!=="variable")||R.kind==="offsetlookup"||(Ap(R.what)||R.what.kind==="variable")&&["identifier","variable","encapsedpart"].includes(R.offset.kind)&&ns&&!er(ns);return k([N.call(q,"what"),Ul?hb(N,B,q):ye(Ie(k([Ue,hb(N,B,q)])))]);case"exit":return ye(k([R.useDie?"die":"exit","(",R.expression?uu(R.expression,B.originalText,B)?N.call(q,"expression"):k([Ie(k([Ue,N.call(q,"expression")])),Ue]):Ke.printDanglingComments(N,B),")"]));case"global":return ye(k(["global ",Ie(k([on(k([",",ft]),N.map(q,"items"))]))]));case"include":return k([R.require?"require":"include",R.once?"_once":""," ",R.target.comments?Ie(N.call(q,"target")):N.call(q,"target")]);case"label":return k([N.call(q,"name"),":"]);case"goto":return k(["goto ",N.call(q,"label")]);case"throw":return k(["throw ",R.what.comments?Ie(N.call(q,"what")):N.call(q,"what")]);case"silent":return k(["@",N.call(q,"expr")]);case"halt":return k([dr(R)?k([Ke.printDanglingComments(N,B,!0),de]):"","__halt_compiler();",R.after]);case"eval":return ye(k(["eval(",uu(R.source,B.originalText,B)?N.call(q,"source"):k([Ie(k([Ue,N.call(q,"source")])),Ue]),")"]));case"echo":var jl,Os=N.map(function(ie){return q(ie)},"expressions");return Os.length!==1||R.expressions[0].comments?Os.length>0&&(jl=Cp(R.expressions[0])||R.expressions[0].comments?Ie(Os[0]):Tw(Os[0])):jl=Y(Os,1)[0],ye(k([R.shortForm?"":"echo ",jl||"",Ie(k(Os.slice(1).map(function(ie){return k([",",ft,ie])})))]));case"print":return k(["print ",R.expression.comments?Ie(N.call(q,"expression")):N.call(q,"expression")]);case"return":var ma=[];if(ma.push("return"),R.expr){var mu=N.call(q,"expr");ma.push(" ",R.expr.comments?Ie(mu):mu)}return dr(R)&&ma.push(" ",Ke.printDanglingComments(N,B,!0)),k(ma);case"isset":case"unset":return ye(k([R.kind,Oi(N,B,q,"variables")]));case"empty":return ye(k(["empty(",Ie(k([Ue,N.call(q,"expression")])),Ue,")"]));case"variable":var rs=N.getParentNode(),ga=N.getParentNode(1),Op=rs.kind==="assign"?"":R.byref?"&":"",gL=rs.kind==="encapsedpart"&&rs.syntax==="simple"&&rs.curly||ga&&rs.kind==="offsetlookup"&&ga.kind==="encapsedpart"&&ga.syntax==="simple"&&ga.curly?"":"$",TL=R.curly?"{":"",_L=R.curly?"}":"";return k([Op,gL,TL,N.call(q,"name"),_L]);case"constantstatement":case"classconstant":var gu,yL=Es(N,B,q),Gl=N.map(function(ie){return q(ie)},"constants");return Gl.length!==1||R.constants[0].comments?Gl.length>0&&(gu=Ie(Gl[0])):gu=Y(Gl,1)[0],ye(k([].concat(ae(yL),[R.visibility?k([R.visibility," "]):"","const",gu?k([" ",gu]):"",Ie(k(Gl.slice(1).map(function(ie){return k([",",de,ie])})))])));case"constant":return cu(R.name,N.call(q,"name")," =",R.value,N.call(q,"value"),!1,B);case"static":var Tu,Wl=N.map(function(ie){return q(ie)},"variables"),bL=R.variables.some(function(ie){return ie.defaultValue});return Wl.length!==1||R.variables[0].comments?Wl.length>0&&(Tu=Ie(Wl[0])):Tu=Y(Wl,1)[0],ye(k(["static",Tu?k([" ",Tu]):"",Ie(k(Wl.slice(1).map(function(ie){return k([",",bL?de:ft,ie])})))]));case"staticvariable":return cu(R.variable,N.call(q,"variable")," =",R.defaultValue,N.call(q,"defaultValue"),!1,B);case"list":case"array":var qb=R.kind==="array"&&ho(B.phpVersion,"5.4")||R.kind==="list"&&(R.shortForm||ho(B.phpVersion,"7.1")),wp=qb?"[":k([R.kind,"("]),Lp=qb?"]":")";if(R.items.length===0)return dr(R)?ye(k([wp,Ke.printDanglingComments(N,B),Ue,Lp])):k([wp,Lp]);var _u=xs(R.items),Ub=_u&&_u.kind==="noop",yu=Y(R.items.filter(function(ie){return ie.kind!=="noop"}).sort(function(ie,Ne){return B.locStart(ie)-B.locStart(Ne)}),1)[0],NL=!(!yu||!yu.key)&&yu&&eb(B.originalText,B.locStart(R),B.locStart(yu));return ye(k([wp,Ie(k([Ue,Mw(N,B,q)])),Ub?",":"",As(!Ub&&lu(B,"5.0")?k([_u&&lb(_u)?de:"",","]):""),Ke.printDanglingComments(N,B,!0),Ue,Lp]),{shouldBreak:NL});case"entry":var jb=R.byRef?"&":"",vL=R.unpack?"...":"";return R.key?cu(R.key,N.call(q,"key")," =>",R.value,N.call(q,"value"),jb,B):k([jb,vL,N.call(q,"value")]);case"yield":var Gb=k([R.key?k([N.call(q,"key")," => "]):"",N.call(q,"value")]);return k(["yield",R.key||R.value?" ":"",R.value&&R.value.comments?Ie(Gb):Gb]);case"yieldfrom":return k(["yield from ",R.value.comments?Ie(N.call(q,"value")):N.call(q,"value")]);case"unary":return k([R.type,N.call(q,"what")]);case"pre":return k([R.type+R.type,N.call(q,"what")]);case"post":return k([N.call(q,"what"),R.type+R.type]);case"cast":return k(["(",R.type,") ",R.expr.comments?Ie(N.call(q,"expr")):N.call(q,"expr")]);case"assignref":case"assign":var Wb=R.kind==="assignref";return cu(R.left,N.call(q,"left"),k([" ",Wb?"=":R.operator]),R.right,N.call(q,"right"),Wb,B);case"bin":var Mr=N.getParentNode(),Hb=N.getParentNode(1),Yb=R!==Mr.body&&(Mr.kind==="if"||Mr.kind==="while"||Mr.kind==="switch"||Mr.kind==="do"),go=function ie(Ne,Be,le,At,yn){var Wt=[],lt=Ne.getValue();if(lt.kind==="bin"){nb(lt.type,lt.left.type)?Wt=Wt.concat(Ne.call(function(Bp){return ie(Bp,Be,le,!0,yn)},"left")):Wt.push(Ne.call(Be,"left"));var Ot=Bl(lt),bn=k(Ot?[lt.type," ",Ne.call(Be,"right")]:[lt.type,ft,Ne.call(Be,"right")]),St=Ne.getParentNode(),To=!(yn&&["||","&&"].includes(lt.type))&&po(St)!==po(lt)&&po(lt.left)!==po(lt)&&po(lt.right)!==po(lt),Vp=Cp(lt.left)||lt.left.kind==="bin"&&Cp(lt.left.right);Wt.push(Vp?"":" ",To?ye(bn):bn),At&&lt.comments&&(Wt=Ke.printAllComments(Ne,function(){return k(Wt)},le))}else Wt.push(Ne.call(Be));return Wt}(N,q,B,!1,Yb);if(Yb)return k(go);if(Mr.kind==="unary"||er(Mr)&&Mr.kind!=="offsetlookup")return ye(k([Ie(k([Ue,k(go)])),Ue]));var IL=R!==Mr.body&&Mr.kind==="for"||Mr.kind==="retif"&&Hb&&Hb.kind!=="return",CL=["assign","property","constant","staticvariable","entry"].includes(Mr.kind),PL=R.left.kind==="bin"&&nb(R.type,R.left.type);if(IL||Bl(R)&&!PL||!Bl(R)&&CL)return ye(k(go));var AL=k(go.slice(1));return ye(k([go.length>0?go[0]:"",Ie(AL)]));case"retif":var bu,Nu=[],vu=N.getParentNode(),Kb=0;do bu=N.getParentNode(Kb),Kb++;while(bu&&bu.kind==="retif");var $b=bu||vu,zb=R.falseExpr.kind==="bin"?Ie(N.call(q,"falseExpr")):N.call(q,"falseExpr"),SL=k([R.trueExpr?ft:" ","?",R.trueExpr?k([" ",R.trueExpr.kind==="bin"?Ie(N.call(q,"trueExpr")):N.call(q,"trueExpr"),ft]):"",":",R.trueExpr?k([" ",zb]):k([pb(R.falseExpr)?" ":ft,zb])]);Nu.push(SL);var Qb=function(ie){return vu===$b?ye(ie):ie},Xb=N.getParentNode(1),Ta=vu.kind==="cast"&&Xb?Xb:vu,xL=["propertylookup","staticlookup"].includes(Ta.kind),Dp=N.call(q,"test");if(!R.trueExpr){var Jb=k([Dp,Ta.kind==="bin"||["print","echo","return","include"].includes($b.kind)?Ie(k(Nu)):k(Nu)]);return Ta.kind==="call"&&Ta.what===R||Ta.kind==="unary"||er(Ta)&&Ta.kind!=="offsetlookup"?ye(k([Ie(k([Ue,Jb])),Ue])):Qb(Jb)}return Qb(k([R.test.kind==="retif"?Ie(Dp):Dp,Ie(k(Nu)),xL?Ue:""]));case"boolean":return R.value?"true":"false";case"number":return Cw(R.value);case"string":if(N.getParentNode().kind==="encapsedpart"){var Zb=N.getParentNode(1),Mp=0,EL=ho(B.phpVersion,"7.3"),eN=fo;if(Zb.type==="heredoc"){eN=EL?de:fo;var Iu=Zb.raw.split(/\r?\n/g);(Mp=Iu[Iu.length-1].search(/\S/))===-1&&(Mp=Iu[Iu.length-2].search(/\S/))}return on(eN,R.raw.split(/\r?\n/g).map(function(ie,Ne){return Ne>0||R.loc.start.column===0?ie.substring(Mp):ie}))}var tN=Ew(R,B)?'"':"'",ni=R.raw;return R.raw[0]==="b"&&(ni=ni.slice(1)),['"',"'"].includes(ni[0])&&(ni=ni.substr(1)),['"',"'"].includes(ni[ni.length-1])&&(ni=ni.substr(0,ni.length-1)),k([R.raw[0]==="b"?"b":"",tN,on(fo,ni.split(/\r?\n/g)),tN]);case"uniontype":return ye(k(N.map(function(ie,Ne){return k(Ne===0?[N.call(q)]:["|",N.call(q)])},"types")));case"encapsedpart":var RL=R.syntax==="simple"&&R.curly||R.syntax==="complex"?k([R.curly?"$":"","{"]):"",kL=R.syntax==="simple"&&R.curly||R.syntax==="complex"?"}":"";return k([RL,N.call(q,"expression"),kL]);case"encapsed":switch(R.type){case"string":case"shell":case"heredoc":var OL=ho(B.phpVersion,"7.3")?de:fo;return k([mb(R),R.type==="heredoc"?OL:"",k(N.map(q,"value")),mb(R,{opening:!1}),R.type==="heredoc"&&ab(N)?de:""]);default:return"Have not implemented kind ".concat(R.type," yet.")}case"inline":return on(fo,R.raw.replace("___PSEUDO_INLINE_PLACEHOLDER___","").split(/\r?\n/g));case"magic":return R.value;case"nowdoc":var Fp=ho(B.phpVersion,"7.3")?de:fo;return k(["<<<'",R.label,"'",Fp,on(Fp,R.value.split(/\r?\n/g)),Fp,R.label,ab(N)?de:""]);case"name":return k([R.resolution==="rn"?"namespace\\":"",R.name]);case"literal":return N.call(q,"value");case"parentreference":return"parent";case"selfreference":return"self";case"staticreference":return"static";case"typereference":return R.name;case"nullkeyword":return"null";case"identifier":return N.getParentNode().kind==="method"&&(R.name=Ow(R.name)),N.call(q,"name");case"match":var wL=N.map(function(ie,Ne){var Be=ie.getValue().conds===null?"default":k(ie.map(function(At,yn){return ye(k(yn>0?[",",ft,q(At)]:[q(At)]))},"conds")),le=ie.call(q,"body");return k(Ne>0?[", ",ft,Be," => ",le]:[ft,Be," => ",le])},"arms");return ye(k(["match (",ye(k([Ue,Ie(k([N.call(q,"cond")])),Ue])),") {",Ie(k(wL))," ",Ue,"}"]));case"noop":return R.comments?Ke.printComments(N.getValue().comments,B):"";case"namedargument":return k([R.name,": ",N.call(q,"value")]);case"error":default:return"Have not implemented kind ".concat(R.kind," yet.")}}(a,c,f),A=[],F=Jy(a);return F&&A.unshift("("),A.push(g),F&&A.push(")"),Iw(a)&&A.push(";"),Pw(a)&&A.push(de),k(A)},Bw=function(a,c){if(["loc","range","raw","comments","leadingComments","trailingComments","parenthesizedExpression","parent","prev","start","end","tokens","errors","extra"].forEach(function(p){delete c[p]}),a.kind==="string"&&delete c.isDoubleQuote,["array","list"].includes(a.kind)&&delete c.shortForm,a.kind==="inline"){if(a.value.includes("___PSEUDO_INLINE_PLACEHOLDER___"))return null;c.value=c.value.replace(/\r\n?|\n/g,"")}if((a.kind==="continue"||a.kind==="break")&&a.level){var f=c.level;f.kind==="number"&&(c.level=f.value==="1"?null:f)}if(a.kind==="block"&&a.children.length===1&&a.children[0].kind==="block")for(;c.children[0].kind==="block";)c.children=c.children[0].children;if(a.kind==="number"&&(c.value=Qe.printNumber(a.value)),["foreach","for","if","while","do"].includes(a.kind)&&(a.body&&a.body.kind!=="block"?c.body={kind:"block",children:[c.body]}:c.body=c.body?c.body:null,a.alternate&&a.alternate.kind!=="block"?c.alternate={kind:"block",children:[c.alternate]}:c.alternate=c.alternate?c.alternate:null),a.kind==="usegroup"&&typeof a.name=="string"&&(c.name=c.name.replace(/^\\/,"")),a.kind==="useitem"&&(c.name=c.name.replace(/^\\/,"")),a.kind==="method"&&a.name.kind==="identifier"&&(c.name.name=Qe.normalizeMagicMethodName(c.name.name)),a.kind==="noop")return null},Rp="PHP",qw={phpVersion:{since:"0.13.0",category:Rp,type:"choice",default:"7.0",description:"Minimum target PHP version.",choices:[{value:"5.0"},{value:"5.1"},{value:"5.2"},{value:"5.3"},{value:"5.4"},{value:"5.5"},{value:"5.6"},{value:"7.0"},{value:"7.1"},{value:"7.2"},{value:"7.3"},{value:"7.4"},{value:"8.0"}]},trailingCommaPHP:{since:"0.0.0",category:Rp,type:"boolean",default:!0,description:"Print trailing commas wherever possible when multi-line."},braceStyle:{since:"0.10.0",category:Rp,type:"choice",default:"psr-2",description:"Print one space or newline for code blocks (classes and functions).",choices:[{value:"psr-2",description:"Use PSR-2 brace style."},{value:"1tbs",description:"Use 1tbs brace style."}]}},Uw=function(a,c,f,p){if(f!=="length"&&f!=="prototype"&&f!=="arguments"&&f!=="caller"){var g=Object.getOwnPropertyDescriptor(a,f),A=Object.getOwnPropertyDescriptor(c,f);!jw(g,A)&&p||Object.defineProperty(a,f,A)}},jw=function(a,c){return a===void 0||a.configurable||a.writable===c.writable&&a.enumerable===c.enumerable&&a.configurable===c.configurable&&(a.writable||a.value===c.value)},Gw=function(a,c){var f=Object.getPrototypeOf(c);f!==Object.getPrototypeOf(a)&&Object.setPrototypeOf(a,f)},Ww=function(a,c){return"/* Wrapped ".concat(a,`*/
`).concat(c)},Hw=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),Yw=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),Kw=function(a,c,f){var p=f===""?"":"with ".concat(f.trim(),"() "),g=Ww.bind(null,p,c.toString());Object.defineProperty(g,"name",Yw),Object.defineProperty(a,"toString",J(J({},Hw),{},{value:g}))},$w=function(a,c){var f,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=p.ignoreNonConfigurable,A=g!==void 0&&g,F=a.name,N=Te(Reflect.ownKeys(c));try{for(N.s();!(f=N.n()).done;){var B=f.value;Uw(a,c,B,A)}}catch(q){N.e(q)}finally{N.f()}return Gw(a,c),Kw(a,c,F),a},fu=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function _b(a){return a&&a.default||a}var du,zw=function(){var a={};return a.promise=new Promise(function(c,f){a.resolve=c,a.reject=f}),a},yb=function(a,c){return a(c={exports:{}},c.exports),c.exports}(function(a,c){var f=fu&&fu.__awaiter||function(F,N,B,q){return new(B||(B=Promise))(function(R,Oe){function we(Ee){try{_t(q.next(Ee))}catch(dt){Oe(dt)}}function tt(Ee){try{_t(q.throw(Ee))}catch(dt){Oe(dt)}}function _t(Ee){Ee.done?R(Ee.value):new B(function(dt){dt(Ee.value)}).then(we,tt)}_t((q=q.apply(F,N||[])).next())})},p=fu&&fu.__importDefault||function(F){return F&&F.__esModule?F:{default:F}};Object.defineProperty(c,"__esModule",{value:!0});var g=p(zw);function A(F){var N,B,q,R=this,Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"maxAge",we=function(){return f(R,void 0,void 0,regeneratorRuntime.mark(function Ee(){var dt,ze,Gt,Bt,pt=this;return regeneratorRuntime.wrap(function(je){for(;;)switch(je.prev=je.next){case 0:if(N===void 0){je.next=2;break}return je.abrupt("return");case 2:dt=function(Pt){return f(pt,void 0,void 0,regeneratorRuntime.mark(function zt(){var Rs;return regeneratorRuntime.wrap(function(Mn){for(;;)switch(Mn.prev=Mn.next){case 0:if(q=g.default(),!((Rs=Pt[1][Oe]-Date.now())<=0)){Mn.next=6;break}return F.delete(Pt[0]),q.resolve(),Mn.abrupt("return");case 6:return N=Pt[0],typeof(B=setTimeout(function(){F.delete(Pt[0]),q&&q.resolve()},Rs)).unref=="function"&&B.unref(),Mn.abrupt("return",q.promise);case 10:case"end":return Mn.stop()}},zt)}))},je.prev=3,ze=Te(F),je.prev=5,ze.s();case 7:if((Gt=ze.n()).done){je.next=13;break}return Bt=Gt.value,je.next=11,dt(Bt);case 11:je.next=7;break;case 13:je.next=18;break;case 15:je.prev=15,je.t0=je.catch(5),ze.e(je.t0);case 18:return je.prev=18,ze.f(),je.finish(18);case 21:je.next=25;break;case 23:je.prev=23,je.t1=je.catch(3);case 25:N=void 0;case 26:case"end":return je.stop()}},Ee,null,[[3,23],[5,15,18,21]])}))},tt=function(){N=void 0,B!==void 0&&(clearTimeout(B),B=void 0),q!==void 0&&(q.reject(void 0),q=void 0)},_t=F.set.bind(F);return F.set=function(Ee,dt){F.has(Ee)&&F.delete(Ee);var ze=_t(Ee,dt);return N&&N===Ee&&tt(),we(),ze},we(),F}c.default=A,a.exports=A,a.exports.default=A});(du=yb)&&du.__esModule&&Object.prototype.hasOwnProperty.call(du,"default")&&du.default;var Qw=yb,kp=new WeakMap,bb=new WeakMap,pu=function(a){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=c.cacheKey,p=c.cache,g=p===void 0?new Map:p,A=c.maxAge;typeof A=="number"&&Qw(g);var F=function(){for(var N=arguments.length,B=new Array(N),q=0;q<N;q++)B[q]=arguments[q];var R=f?f(B):B[0],Oe=g.get(R);if(Oe)return Oe.data;var we=a.apply(this,B);return g.set(R,{data:we,maxAge:A?Date.now()+A:Number.POSITIVE_INFINITY}),we};return $w(F,a,{ignoreNonConfigurable:!0}),bb.set(F,g),F};pu.decorator=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(c,f,p){var g=c[f];if(typeof g!="function")throw new TypeError("The decorated value must be a function");delete p.value,delete p.writable,p.get=function(){if(!kp.has(this)){var A=pu(g,a);return kp.set(this,A),A}return kp.get(this)}}},pu.clear=function(a){var c=bb.get(a);if(!c)throw new TypeError("Can't clear a function that was not memoized!");if(typeof c.clear!="function")throw new TypeError("The cache Map can't be cleared!");c.clear()};var Nb=/@prettier|@format/,vb=pu(function(a){var c=Ly(a),f=Y(c.children,1)[0],p=Y(c.comments.filter(function(g){return g.kind==="commentblock"}),1)[0];if(f&&p&&p.loc.start.line<f.loc.start.line)return p}),Xw=function(a){if(!Nb.test(a))return!1;var c=vb(a);if(c){var f=c.value;return Nb.test(f)}return!1},Jw=function(a){var c=vb(a);if(c){var f=c.loc,p=f.start.offset,g=f.end.offset,A=a.substring(0,p),F=a.substring(g);return"".concat(A).concat(function(Oe,we){var tt=Oe.split(/\r?\n/g);if(tt.length===1){var _t=Y(/\/*\*\*(.*)\*\//.exec(tt[0]),2)[1];tt=["/**"," * ".concat(_t.trim())," */"]}var Ee=tt.findIndex(function(dt){return/@\S/.test(dt)})||1;return tt.splice(Ee,0," * @format"),tt.join(function(dt){var ze=dt.indexOf(`
`);return ze>=0&&dt.charAt(ze-1)==="\r"?`\r
`:`
`}(we))}(c.value,a)).concat(F)}var N="<?php";if(!a.startsWith(N))return a;var B=N.length,q=a.substring(0,B),R=a.substring(B);return"".concat(q,`
/** 
 * @format 
 */
`).concat(R)},Ib="programming",Cb="text.html.php",Pb="application/x-httpd-php",Ab="#4F5D95",Sb=[".php",".aw",".ctp",".fcgi",".inc",".php3",".php4",".php5",".phps",".phpt"],xb=[".php",".php_cs",".php_cs.dist","Phakefile"],Eb=["php"],Rb=["inc"],Zw={name:"PHP",type:Ib,tmScope:Cb,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:Pb,color:Ab,extensions:Sb,filenames:xb,interpreters:Eb,aliases:Rb,languageId:272},eL=Object.freeze({__proto__:null,name:"PHP",type:Ib,tmScope:Cb,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:Pb,color:Ab,extensions:Sb,filenames:xb,interpreters:Eb,aliases:Rb,languageId:272,default:Zw}),kb="HTML+PHP",Ob="markup",wb="text.html.php",Lb="HTML",Db=[".phtml"],Mb="application/x-httpd-php",tL={name:kb,type:Ob,tmScope:wb,group:Lb,extensions:Db,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:Mb,languageId:151},nL=Object.freeze({__proto__:null,name:kb,type:Ob,tmScope:wb,group:Lb,extensions:Db,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:Mb,languageId:151,default:tL}),rL=_b(eL),iL=_b(nL),Fb=r.default.doc.builders,sL=Fb.join,aL=Fb.hardline,oL=Xw,lL=Jw;function Vb(a,c){var f=c.extend,p=c.override,g={};for(var A in a)g[A==="languageId"?"linguistLanguageId":A]=a[A];if(f)for(var F in f)g[F]=(g[F]||[]).concat(f[F]);for(var N in p)g[N]=p[N];return g}var cL=[Vb(rL,{override:{parsers:["php"],vscodeLanguageIds:["php"]}}),Vb(iL,{override:{parsers:["php"],vscodeLanguageIds:["php"]}})],Bb=function(a){return function(c){return c.loc&&c.loc[a]&&c.loc[a].offset}},uL={php:{parse:Ly,astFormat:"php",locStart:Bb("start"),locEnd:Bb("end"),hasPragma:oL}},mo={languages:cL,printers:{php:{print:Vw,insertPragma:lL,massageAstNode:Bw,getCommentChildNodes:Ke.getCommentChildNodes,canAttachComment:Ke.canAttachComment,isBlockComment:Ke.isBlockComment,handleComments:{ownLine:Ke.handleOwnLineComment,endOfLine:Ke.handleEndOfLineComment,remaining:Ke.handleRemainingComment},willPrintOwnComments(a){var c=a.getValue();return c&&c.kind==="noop"},printComment(a){var c=a.getValue();switch(c.kind){case"commentblock":if(!c.value.includes(`
`))return c.value;var f=c.value.split(/\r?\n/g);return f.slice(1,f.length-1).every(function(p){return p.trim()[0]==="*"})?sL(aL,f.map(function(p,g){return(g>0?" ":"")+(g<f.length-1?p.trim():p.trimLeft())})):c.value;case"commentline":return c.value.trimRight();default:throw new Error("Not a comment: ".concat(JSON.stringify(c)))}},hasPrettierIgnore(a){var c=function(g){return g.value.includes("prettier-ignore")&&!g.value.includes("prettier-ignore-start")&&!g.value.includes("prettier-ignore-end")},f=a.getParentNode(),p=a.getNode();return p&&p.kind!=="classconstant"&&p.comments&&p.comments.length>0&&p.comments.some(c)||p&&p.kind==="constant"&&f&&f.kind==="classconstant"&&f.comments&&f.comments.length>0&&f.comments.some(c)}}},parsers:uL,options:qw,defaultOptions:{tabWidth:4}},fL=mo.languages,dL=mo.printers,pL=mo.parsers,hL=mo.options,mL=mo.defaultOptions;t.default=mo,t.defaultOptions=mL,t.languages=fL,t.options=hL,t.parsers=pL,t.printers=dL,Object.defineProperty(t,"__esModule",{value:!0})})});function gk(t){return["cursorOffset","rangeEnd","rangeStart","locEnd","locStat","printer","originalText","astFormat"].forEach(e=>{delete t[e]}),t}function Xd(t){mk=gk(Object.assign({},t,{htmlWhitespaceSensitivity:"ignore",parser:"html",plugins:t.plugins})),hk=gk(Object.assign({},t,{parser:"php",plugins:[pk.default]}))}function Tk(t){let e=LT.format("<?php "+t,hk).trim();return e=e.substring(5),t.endsWith(";")==!1&&e.endsWith(";")&&(e=e.substring(0,e.length-1)),e.trim()}function _k(t){return LT.format(t,mk)}var LT,noe,pk,hk,mk,DT=E(()=>{LT=Ge(require("prettier")),noe=Ge(yk()),pk=Ge(dk())});function bk(t){return typeof t=="undefined"||t===null}function nj(t){return typeof t=="object"&&t!==null}function rj(t){return Array.isArray(t)?t:bk(t)?[]:[t]}function ij(t,e){var n,r,i,s;if(e)for(s=Object.keys(e),n=0,r=s.length;n<r;n+=1)i=s[n],t[i]=e[i];return t}function sj(t,e){var n="",r;for(r=0;r<e;r+=1)n+=t;return n}function aj(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}function Nk(t,e){var n="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),r+" "+n):r}function Jc(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=Nk(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}function MT(t,e,n,r,i){var s="",o="",l=Math.floor(i/2)-1;return r-e>l&&(s=" ... ",e=r-l+s.length),n-r>l&&(o=" ...",n=r+l-o.length),{str:s+t.slice(e,n).replace(/\t/g,"\u2192")+o,pos:r-e+s.length}}function FT(t,e){return dn.repeat(" ",e-t.length)+t}function pj(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],s,o=-1;s=n.exec(t.buffer);)i.push(s.index),r.push(s.index+s[0].length),t.position<=s.index&&o<0&&(o=r.length-2);o<0&&(o=r.length-1);var l="",u,d,h=Math.min(t.line+e.linesAfter,i.length).toString().length,m=e.maxLength-(e.indent+h+3);for(u=1;u<=e.linesBefore&&!(o-u<0);u++)d=MT(t.buffer,r[o-u],i[o-u],t.position-(r[o]-r[o-u]),m),l=dn.repeat(" ",e.indent)+FT((t.line-u+1).toString(),h)+" | "+d.str+`
`+l;for(d=MT(t.buffer,r[o],i[o],t.position,m),l+=dn.repeat(" ",e.indent)+FT((t.line+1).toString(),h)+" | "+d.str+`
`,l+=dn.repeat("-",e.indent+h+3+d.pos)+`^
`,u=1;u<=e.linesAfter&&!(o+u>=i.length);u++)d=MT(t.buffer,r[o+u],i[o+u],t.position-(r[o]-r[o+u]),m),l+=dn.repeat(" ",e.indent)+FT((t.line+u+1).toString(),h)+" | "+d.str+`
`;return l.replace(/\n$/,"")}function Tj(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(r){e[String(r)]=n})}),e}function _j(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if(mj.indexOf(n)===-1)throw new or('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=Tj(e.styleAliases||null),gj.indexOf(this.kind)===-1)throw new or('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}function vk(t,e){var n=[];return t[e].forEach(function(r){var i=n.length;n.forEach(function(s,o){s.tag===r.tag&&s.kind===r.kind&&s.multi===r.multi&&(i=o)}),n[i]=r}),n}function yj(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function r(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(r);return t}function VT(t){return this.extend(t)}function Pj(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function Aj(){return null}function Sj(t){return t===null}function Ej(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function Rj(t){return t==="true"||t==="True"||t==="TRUE"}function kj(t){return Object.prototype.toString.call(t)==="[object Boolean]"}function wj(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function Lj(t){return 48<=t&&t<=55}function Dj(t){return 48<=t&&t<=57}function Mj(t){if(t===null)return!1;var e=t.length,n=0,r=!1,i;if(!e)return!1;if(i=t[n],(i==="-"||i==="+")&&(i=t[++n]),i==="0"){if(n+1===e)return!0;if(i=t[++n],i==="b"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!wj(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!Lj(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<e;n++)if(i=t[n],i!=="_"){if(!Dj(t.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}function Fj(t){var e=t,n=1,r;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),r=e[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),e=e.slice(1),r=e[0]),e==="0")return 0;if(r==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}function Vj(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!dn.isNegativeZero(t)}function Uj(t){return!(t===null||!qj.test(t)||t[t.length-1]==="_")}function jj(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}function Wj(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(dn.isNegativeZero(t))return"-0.0";return n=t.toString(10),Gj.test(n)?n.replace("e",".e"):n}function Hj(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||dn.isNegativeZero(t))}function zj(t){return t===null?!1:Ik.exec(t)!==null||Ck.exec(t)!==null}function Qj(t){var e,n,r,i,s,o,l,u=0,d=null,h,m,y;if(e=Ik.exec(t),e===null&&(e=Ck.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(n,r,i));if(s=+e[4],o=+e[5],l=+e[6],e[7]){for(u=e[7].slice(0,3);u.length<3;)u+="0";u=+u}return e[9]&&(h=+e[10],m=+(e[11]||0),d=(h*60+m)*6e4,e[9]==="-"&&(d=-d)),y=new Date(Date.UTC(n,r,i,s,o,l,u)),d&&y.setTime(y.getTime()-d),y}function Xj(t){return t.toISOString()}function Zj(t){return t==="<<"||t===null}function t2(t){if(t===null)return!1;var e,n,r=0,i=t.length,s=BT;for(n=0;n<i;n++)if(e=s.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;r+=6}return r%8===0}function n2(t){var e,n,r=t.replace(/[\r\n=]/g,""),i=r.length,s=BT,o=0,l=[];for(e=0;e<i;e++)e%4===0&&e&&(l.push(o>>16&255),l.push(o>>8&255),l.push(o&255)),o=o<<6|s.indexOf(r.charAt(e));return n=i%4*6,n===0?(l.push(o>>16&255),l.push(o>>8&255),l.push(o&255)):n===18?(l.push(o>>10&255),l.push(o>>2&255)):n===12&&l.push(o>>4&255),new Uint8Array(l)}function r2(t){var e="",n=0,r,i,s=t.length,o=BT;for(r=0;r<s;r++)r%3===0&&r&&(e+=o[n>>18&63],e+=o[n>>12&63],e+=o[n>>6&63],e+=o[n&63]),n=(n<<8)+t[r];return i=s%3,i===0?(e+=o[n>>18&63],e+=o[n>>12&63],e+=o[n>>6&63],e+=o[n&63]):i===2?(e+=o[n>>10&63],e+=o[n>>4&63],e+=o[n<<2&63],e+=o[64]):i===1&&(e+=o[n>>2&63],e+=o[n<<4&63],e+=o[64],e+=o[64]),e}function i2(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}function l2(t){if(t===null)return!0;var e=[],n,r,i,s,o,l=t;for(n=0,r=l.length;n<r;n+=1){if(i=l[n],o=!1,o2.call(i)!=="[object Object]")return!1;for(s in i)if(a2.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}function c2(t){return t!==null?t:[]}function d2(t){if(t===null)return!0;var e,n,r,i,s,o=t;for(s=new Array(o.length),e=0,n=o.length;e<n;e+=1){if(r=o[e],f2.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;s[e]=[i[0],r[i[0]]]}return!0}function p2(t){if(t===null)return[];var e,n,r,i,s,o=t;for(s=new Array(o.length),e=0,n=o.length;e<n;e+=1)r=o[e],i=Object.keys(r),s[e]=[i[0],r[i[0]]];return s}function g2(t){if(t===null)return!0;var e,n=t;for(e in n)if(m2.call(n,e)&&n[e]!==null)return!1;return!0}function T2(t){return t!==null?t:{}}function kk(t){return Object.prototype.toString.call(t)}function $i(t){return t===10||t===13}function Ja(t){return t===9||t===32}function lr(t){return t===9||t===32||t===10||t===13}function El(t){return t===44||t===91||t===93||t===123||t===125}function I2(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function C2(t){return t===120?2:t===117?4:t===85?8:0}function P2(t){return 48<=t&&t<=57?t-48:-1}function Ok(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"\x85":t===95?"\xA0":t===76?"\u2028":t===80?"\u2029":""}function A2(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}function S2(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||Pk,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Dk(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=hj(n),new or(e,n)}function Ae(t,e){throw Dk(t,e)}function ep(t,e){t.onWarning&&t.onWarning.call(null,Dk(t,e))}function sa(t,e,n,r){var i,s,o,l;if(e<n){if(l=t.input.slice(e,n),r)for(i=0,s=l.length;i<s;i+=1)o=l.charCodeAt(i),o===9||32<=o&&o<=1114111||Ae(t,"expected valid JSON character");else b2.test(l)&&Ae(t,"the stream contains non-printable characters");t.result+=l}}function Fk(t,e,n,r){var i,s,o,l;for(dn.isObject(n)||Ae(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),o=0,l=i.length;o<l;o+=1)s=i[o],ia.call(e,s)||(e[s]=n[s],r[s]=!0)}function Rl(t,e,n,r,i,s,o,l,u){var d,h;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),d=0,h=i.length;d<h;d+=1)Array.isArray(i[d])&&Ae(t,"nested arrays are not supported inside keys"),typeof i=="object"&&kk(i[d])==="[object Object]"&&(i[d]="[object Object]");if(typeof i=="object"&&kk(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(d=0,h=s.length;d<h;d+=1)Fk(t,e,s[d],n);else Fk(t,e,s,n);else!t.json&&!ia.call(n,i)&&ia.call(e,i)&&(t.line=o||t.line,t.lineStart=l||t.lineStart,t.position=u||t.position,Ae(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[i]=s,delete n[i];return e}function UT(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):Ae(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function an(t,e,n){for(var r=0,i=t.input.charCodeAt(t.position);i!==0;){for(;Ja(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if($i(i))for(UT(t),i=t.input.charCodeAt(t.position),r++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return n!==-1&&r!==0&&t.lineIndent<n&&ep(t,"deficient indentation"),r}function tp(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||lr(n)))}function jT(t,e){e===1?t.result+=" ":e>1&&(t.result+=dn.repeat(`
`,e-1))}function x2(t,e,n){var r,i,s,o,l,u,d,h,m=t.kind,y=t.result,b;if(b=t.input.charCodeAt(t.position),lr(b)||El(b)||b===35||b===38||b===42||b===33||b===124||b===62||b===39||b===34||b===37||b===64||b===96||(b===63||b===45)&&(i=t.input.charCodeAt(t.position+1),lr(i)||n&&El(i)))return!1;for(t.kind="scalar",t.result="",s=o=t.position,l=!1;b!==0;){if(b===58){if(i=t.input.charCodeAt(t.position+1),lr(i)||n&&El(i))break}else if(b===35){if(r=t.input.charCodeAt(t.position-1),lr(r))break}else{if(t.position===t.lineStart&&tp(t)||n&&El(b))break;if($i(b))if(u=t.line,d=t.lineStart,h=t.lineIndent,an(t,!1,-1),t.lineIndent>=e){l=!0,b=t.input.charCodeAt(t.position);continue}else{t.position=o,t.line=u,t.lineStart=d,t.lineIndent=h;break}}l&&(sa(t,s,o,!1),jT(t,t.line-u),s=o=t.position,l=!1),Ja(b)||(o=t.position+1),b=t.input.charCodeAt(++t.position)}return sa(t,s,o,!1),t.result?!0:(t.kind=m,t.result=y,!1)}function E2(t,e){var n,r,i;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(sa(t,r,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)r=t.position,t.position++,i=t.position;else return!0;else $i(n)?(sa(t,r,i,!0),jT(t,an(t,!1,e)),r=i=t.position):t.position===t.lineStart&&tp(t)?Ae(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);Ae(t,"unexpected end of the stream within a single quoted scalar")}function R2(t,e){var n,r,i,s,o,l;if(l=t.input.charCodeAt(t.position),l!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;(l=t.input.charCodeAt(t.position))!==0;){if(l===34)return sa(t,n,t.position,!0),t.position++,!0;if(l===92){if(sa(t,n,t.position,!0),l=t.input.charCodeAt(++t.position),$i(l))an(t,!1,e);else if(l<256&&wk[l])t.result+=Lk[l],t.position++;else if((o=C2(l))>0){for(i=o,s=0;i>0;i--)l=t.input.charCodeAt(++t.position),(o=I2(l))>=0?s=(s<<4)+o:Ae(t,"expected hexadecimal character");t.result+=A2(s),t.position++}else Ae(t,"unknown escape sequence");n=r=t.position}else $i(l)?(sa(t,n,r,!0),jT(t,an(t,!1,e)),n=r=t.position):t.position===t.lineStart&&tp(t)?Ae(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}Ae(t,"unexpected end of the stream within a double quoted scalar")}function k2(t,e){var n=!0,r,i,s,o=t.tag,l,u=t.anchor,d,h,m,y,b,T=Object.create(null),x,D,_,P;if(P=t.input.charCodeAt(t.position),P===91)h=93,b=!1,l=[];else if(P===123)h=125,b=!0,l={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=l),P=t.input.charCodeAt(++t.position);P!==0;){if(an(t,!0,e),P=t.input.charCodeAt(t.position),P===h)return t.position++,t.tag=o,t.anchor=u,t.kind=b?"mapping":"sequence",t.result=l,!0;n?P===44&&Ae(t,"expected the node content, but found ','"):Ae(t,"missed comma between flow collection entries"),D=x=_=null,m=y=!1,P===63&&(d=t.input.charCodeAt(t.position+1),lr(d)&&(m=y=!0,t.position++,an(t,!0,e))),r=t.line,i=t.lineStart,s=t.position,kl(t,e,Jd,!1,!0),D=t.tag,x=t.result,an(t,!0,e),P=t.input.charCodeAt(t.position),(y||t.line===r)&&P===58&&(m=!0,P=t.input.charCodeAt(++t.position),an(t,!0,e),kl(t,e,Jd,!1,!0),_=t.result),b?Rl(t,l,T,D,x,_,r,i,s):m?l.push(Rl(t,null,T,D,x,_,r,i,s)):l.push(x),an(t,!0,e),P=t.input.charCodeAt(t.position),P===44?(n=!0,P=t.input.charCodeAt(++t.position)):n=!1}Ae(t,"unexpected end of the stream within a flow collection")}function O2(t,e){var n,r,i=qT,s=!1,o=!1,l=e,u=0,d=!1,h,m;if(m=t.input.charCodeAt(t.position),m===124)r=!1;else if(m===62)r=!0;else return!1;for(t.kind="scalar",t.result="";m!==0;)if(m=t.input.charCodeAt(++t.position),m===43||m===45)qT===i?i=m===43?xk:y2:Ae(t,"repeat of a chomping mode identifier");else if((h=P2(m))>=0)h===0?Ae(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?Ae(t,"repeat of an indentation width identifier"):(l=e+h-1,o=!0);else break;if(Ja(m)){do m=t.input.charCodeAt(++t.position);while(Ja(m));if(m===35)do m=t.input.charCodeAt(++t.position);while(!$i(m)&&m!==0)}for(;m!==0;){for(UT(t),t.lineIndent=0,m=t.input.charCodeAt(t.position);(!o||t.lineIndent<l)&&m===32;)t.lineIndent++,m=t.input.charCodeAt(++t.position);if(!o&&t.lineIndent>l&&(l=t.lineIndent),$i(m)){u++;continue}if(t.lineIndent<l){i===xk?t.result+=dn.repeat(`
`,s?1+u:u):i===qT&&s&&(t.result+=`
`);break}for(r?Ja(m)?(d=!0,t.result+=dn.repeat(`
`,s?1+u:u)):d?(d=!1,t.result+=dn.repeat(`
`,u+1)):u===0?s&&(t.result+=" "):t.result+=dn.repeat(`
`,u):t.result+=dn.repeat(`
`,s?1+u:u),s=!0,o=!0,u=0,n=t.position;!$i(m)&&m!==0;)m=t.input.charCodeAt(++t.position);sa(t,n,t.position,!1)}return!0}function Vk(t,e){var n,r=t.tag,i=t.anchor,s=[],o,l=!1,u;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),u=t.input.charCodeAt(t.position);u!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Ae(t,"tab characters must not be used in indentation")),!(u!==45||(o=t.input.charCodeAt(t.position+1),!lr(o))));){if(l=!0,t.position++,an(t,!0,-1)&&t.lineIndent<=e){s.push(null),u=t.input.charCodeAt(t.position);continue}if(n=t.line,kl(t,e,Sk,!1,!0),s.push(t.result),an(t,!0,-1),u=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&u!==0)Ae(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return l?(t.tag=r,t.anchor=i,t.kind="sequence",t.result=s,!0):!1}function w2(t,e,n){var r,i,s,o,l,u,d=t.tag,h=t.anchor,m={},y=Object.create(null),b=null,T=null,x=null,D=!1,_=!1,P;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=m),P=t.input.charCodeAt(t.position);P!==0;){if(!D&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Ae(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),s=t.line,(P===63||P===58)&&lr(r))P===63?(D&&(Rl(t,m,y,b,T,null,o,l,u),b=T=x=null),_=!0,D=!0,i=!0):D?(D=!1,i=!0):Ae(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,P=r;else{if(o=t.line,l=t.lineStart,u=t.position,!kl(t,n,Ak,!1,!0))break;if(t.line===s){for(P=t.input.charCodeAt(t.position);Ja(P);)P=t.input.charCodeAt(++t.position);if(P===58)P=t.input.charCodeAt(++t.position),lr(P)||Ae(t,"a whitespace character is expected after the key-value separator within a block mapping"),D&&(Rl(t,m,y,b,T,null,o,l,u),b=T=x=null),_=!0,D=!1,i=!1,b=t.tag,T=t.result;else if(_)Ae(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=d,t.anchor=h,!0}else if(_)Ae(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=d,t.anchor=h,!0}if((t.line===s||t.lineIndent>e)&&(D&&(o=t.line,l=t.lineStart,u=t.position),kl(t,e,Zd,!0,i)&&(D?T=t.result:x=t.result),D||(Rl(t,m,y,b,T,x,o,l,u),b=T=x=null),an(t,!0,-1),P=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&P!==0)Ae(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return D&&Rl(t,m,y,b,T,null,o,l,u),_&&(t.tag=d,t.anchor=h,t.kind="mapping",t.result=m),_}function L2(t){var e,n=!1,r=!1,i,s,o;if(o=t.input.charCodeAt(t.position),o!==33)return!1;if(t.tag!==null&&Ae(t,"duplication of a tag property"),o=t.input.charCodeAt(++t.position),o===60?(n=!0,o=t.input.charCodeAt(++t.position)):o===33?(r=!0,i="!!",o=t.input.charCodeAt(++t.position)):i="!",e=t.position,n){do o=t.input.charCodeAt(++t.position);while(o!==0&&o!==62);t.position<t.length?(s=t.input.slice(e,t.position),o=t.input.charCodeAt(++t.position)):Ae(t,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!lr(o);)o===33&&(r?Ae(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),Ek.test(i)||Ae(t,"named tag handle cannot contain such characters"),r=!0,e=t.position+1)),o=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),v2.test(s)&&Ae(t,"tag suffix cannot contain flow indicator characters")}s&&!Rk.test(s)&&Ae(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{Ae(t,"tag name is malformed: "+s)}return n?t.tag=s:ia.call(t.tagMap,i)?t.tag=t.tagMap[i]+s:i==="!"?t.tag="!"+s:i==="!!"?t.tag="tag:yaml.org,2002:"+s:Ae(t,'undeclared tag handle "'+i+'"'),!0}function D2(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&Ae(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!lr(n)&&!El(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&Ae(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function M2(t){var e,n,r;if(r=t.input.charCodeAt(t.position),r!==42)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!lr(r)&&!El(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&Ae(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),ia.call(t.anchorMap,n)||Ae(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],an(t,!0,-1),!0}function kl(t,e,n,r,i){var s,o,l,u=1,d=!1,h=!1,m,y,b,T,x,D;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=o=l=Zd===n||Sk===n,r&&an(t,!0,-1)&&(d=!0,t.lineIndent>e?u=1:t.lineIndent===e?u=0:t.lineIndent<e&&(u=-1)),u===1)for(;L2(t)||D2(t);)an(t,!0,-1)?(d=!0,l=s,t.lineIndent>e?u=1:t.lineIndent===e?u=0:t.lineIndent<e&&(u=-1)):l=!1;if(l&&(l=d||i),(u===1||Zd===n)&&(Jd===n||Ak===n?x=e:x=e+1,D=t.position-t.lineStart,u===1?l&&(Vk(t,D)||w2(t,D,x))||k2(t,x)?h=!0:(o&&O2(t,x)||E2(t,x)||R2(t,x)?h=!0:M2(t)?(h=!0,(t.tag!==null||t.anchor!==null)&&Ae(t,"alias node should not have any properties")):x2(t,x,Jd===n)&&(h=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):u===0&&(h=l&&Vk(t,D))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&Ae(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),m=0,y=t.implicitTypes.length;m<y;m+=1)if(T=t.implicitTypes[m],T.resolve(t.result)){t.result=T.construct(t.result),t.tag=T.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(ia.call(t.typeMap[t.kind||"fallback"],t.tag))T=t.typeMap[t.kind||"fallback"][t.tag];else for(T=null,b=t.typeMap.multi[t.kind||"fallback"],m=0,y=b.length;m<y;m+=1)if(t.tag.slice(0,b[m].tag.length)===b[m].tag){T=b[m];break}T||Ae(t,"unknown tag !<"+t.tag+">"),t.result!==null&&T.kind!==t.kind&&Ae(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+T.kind+'", not "'+t.kind+'"'),T.resolve(t.result,t.tag)?(t.result=T.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):Ae(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||h}function F2(t){var e=t.position,n,r,i,s=!1,o;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(o=t.input.charCodeAt(t.position))!==0&&(an(t,!0,-1),o=t.input.charCodeAt(t.position),!(t.lineIndent>0||o!==37));){for(s=!0,o=t.input.charCodeAt(++t.position),n=t.position;o!==0&&!lr(o);)o=t.input.charCodeAt(++t.position);for(r=t.input.slice(n,t.position),i=[],r.length<1&&Ae(t,"directive name must not be less than one character in length");o!==0;){for(;Ja(o);)o=t.input.charCodeAt(++t.position);if(o===35){do o=t.input.charCodeAt(++t.position);while(o!==0&&!$i(o));break}if($i(o))break;for(n=t.position;o!==0&&!lr(o);)o=t.input.charCodeAt(++t.position);i.push(t.input.slice(n,t.position))}o!==0&&UT(t),ia.call(Mk,r)?Mk[r](t,r,i):ep(t,'unknown document directive "'+r+'"')}if(an(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,an(t,!0,-1)):s&&Ae(t,"directives end mark is expected"),kl(t,t.lineIndent-1,Zd,!1,!0),an(t,!0,-1),t.checkLineBreaks&&N2.test(t.input.slice(e,t.position))&&ep(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&tp(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,an(t,!0,-1));return}if(t.position<t.length-1)Ae(t,"end of the stream or a document separator is expected");else return}function Bk(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new S2(t,e),r=t.indexOf("\0");for(r!==-1&&(n.position=r,Ae(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)F2(n);return n.documents}function V2(t,e,n){e!==null&&typeof e=="object"&&typeof n=="undefined"&&(n=e,e=null);var r=Bk(t,n);if(typeof e!="function")return r;for(var i=0,s=r.length;i<s;i+=1)e(r[i])}function B2(t,e){var n=Bk(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new or("expected a single document in the stream, but found more")}}function aG(t,e){var n,r,i,s,o,l,u;if(e===null)return{};for(n={},r=Object.keys(e),i=0,s=r.length;i<s;i+=1)o=r[i],l=String(e[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),u=t.compiledTypeMap.fallback[o],u&&jk.call(u.styleAliases,l)&&(l=u.styleAliases[l]),n[o]=l;return n}function oG(t){var e,n,r;if(e=t.toString(16).toUpperCase(),t<=255)n="x",r=2;else if(t<=65535)n="u",r=4;else if(t<=4294967295)n="U",r=8;else throw new or("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+dn.repeat("0",r-e.length)+e}function cG(t){this.schema=t.schema||Pk,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=dn.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=aG(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?eu:lG,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function $k(t,e){for(var n=dn.repeat(" ",e),r=0,i=-1,s="",o,l=t.length;r<l;)i=t.indexOf(`
`,r),i===-1?(o=t.slice(r),r=l):(o=t.slice(r,i+1),r=i+1),o.length&&o!==`
`&&(s+=n),s+=o;return s}function HT(t,e){return`
`+dn.repeat(" ",t.indent*e)}function uG(t,e){var n,r,i;for(n=0,r=t.implicitTypes.length;n<r;n+=1)if(i=t.implicitTypes[n],i.resolve(e))return!0;return!1}function rp(t){return t===W2||t===j2}function tu(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==GT||65536<=t&&t<=1114111}function zk(t){return tu(t)&&t!==GT&&t!==G2&&t!==Zc}function Qk(t,e,n){var r=zk(t),i=r&&!rp(t);return(n?r:r&&t!==Gk&&t!==Wk&&t!==Hk&&t!==Yk&&t!==Kk)&&t!==WT&&!(e===np&&!i)||zk(e)&&!rp(e)&&t===WT||e===np&&i}function fG(t){return tu(t)&&t!==GT&&!rp(t)&&t!==X2&&t!==eG&&t!==np&&t!==Gk&&t!==Wk&&t!==Hk&&t!==Yk&&t!==Kk&&t!==WT&&t!==$2&&t!==Q2&&t!==H2&&t!==rG&&t!==J2&&t!==Z2&&t!==z2&&t!==Y2&&t!==K2&&t!==tG&&t!==nG}function dG(t){return!rp(t)&&t!==np}function nu(t,e){var n=t.charCodeAt(e),r;return n>=55296&&n<=56319&&e+1<t.length&&(r=t.charCodeAt(e+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}function Xk(t){var e=/^\n* /;return e.test(t)}function pG(t,e,n,r,i,s,o,l){var u,d=0,h=null,m=!1,y=!1,b=r!==-1,T=-1,x=fG(nu(t,0))&&dG(nu(t,t.length-1));if(e||o)for(u=0;u<t.length;d>=65536?u+=2:u++){if(d=nu(t,u),!tu(d))return Ol;x=x&&Qk(d,h,l),h=d}else{for(u=0;u<t.length;d>=65536?u+=2:u++){if(d=nu(t,u),d===Zc)m=!0,b&&(y=y||u-T-1>r&&t[T+1]!==" ",T=u);else if(!tu(d))return Ol;x=x&&Qk(d,h,l),h=d}y=y||b&&u-T-1>r&&t[T+1]!==" "}return!m&&!y?x&&!o&&!i(t)?Jk:s===eu?Ol:YT:n>9&&Xk(t)?Ol:o?s===eu?Ol:YT:y?e0:Zk}function hG(t,e,n,r,i){t.dump=function(){if(e.length===0)return t.quotingType===eu?'""':"''";if(!t.noCompatMode&&(iG.indexOf(e)!==-1||sG.test(e)))return t.quotingType===eu?'"'+e+'"':"'"+e+"'";var s=t.indent*Math.max(1,n),o=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-s),l=r||t.flowLevel>-1&&n>=t.flowLevel;function u(d){return uG(t,d)}switch(pG(e,l,t.indent,o,u,t.quotingType,t.forceQuotes&&!r,i)){case Jk:return e;case YT:return"'"+e.replace(/'/g,"''")+"'";case Zk:return"|"+t0(e,t.indent)+n0($k(e,s));case e0:return">"+t0(e,t.indent)+n0($k(mG(e,o),s));case Ol:return'"'+gG(e)+'"';default:throw new or("impossible error: invalid scalar style")}}()}function t0(t,e){var n=Xk(t)?String(e):"",r=t[t.length-1]===`
`,i=r&&(t[t.length-2]===`
`||t===`
`),s=i?"+":r?"":"-";return n+s+`
`}function n0(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function mG(t,e){for(var n=/(\n+)([^\n]*)/g,r=function(){var d=t.indexOf(`
`);return d=d!==-1?d:t.length,n.lastIndex=d,r0(t.slice(0,d),e)}(),i=t[0]===`
`||t[0]===" ",s,o;o=n.exec(t);){var l=o[1],u=o[2];s=u[0]===" ",r+=l+(!i&&!s&&u!==""?`
`:"")+r0(u,e),i=s}return r}function r0(t,e){if(t===""||t[0]===" ")return t;for(var n=/ [^ ]/g,r,i=0,s,o=0,l=0,u="";r=n.exec(t);)l=r.index,l-i>e&&(s=o>i?o:l,u+=`
`+t.slice(i,s),i=s+1),o=l;return u+=`
`,t.length-i>e&&o>i?u+=t.slice(i,o)+`
`+t.slice(o+1):u+=t.slice(i),u.slice(1)}function gG(t){for(var e="",n=0,r,i=0;i<t.length;n>=65536?i+=2:i++)n=nu(t,i),r=wn[n],!r&&tu(n)?(e+=t[i],n>=65536&&(e+=t[i+1])):e+=r||oG(n);return e}function TG(t,e,n){var r="",i=t.tag,s,o,l;for(s=0,o=n.length;s<o;s+=1)l=n[s],t.replacer&&(l=t.replacer.call(n,String(s),l)),(Ns(t,e,l,!1,!1)||typeof l=="undefined"&&Ns(t,e,null,!1,!1))&&(r!==""&&(r+=","+(t.condenseFlow?"":" ")),r+=t.dump);t.tag=i,t.dump="["+r+"]"}function i0(t,e,n,r){var i="",s=t.tag,o,l,u;for(o=0,l=n.length;o<l;o+=1)u=n[o],t.replacer&&(u=t.replacer.call(n,String(o),u)),(Ns(t,e+1,u,!0,!0,!1,!0)||typeof u=="undefined"&&Ns(t,e+1,null,!0,!0,!1,!0))&&((!r||i!=="")&&(i+=HT(t,e)),t.dump&&Zc===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=s,t.dump=i||"[]"}function _G(t,e,n){var r="",i=t.tag,s=Object.keys(n),o,l,u,d,h;for(o=0,l=s.length;o<l;o+=1)h="",r!==""&&(h+=", "),t.condenseFlow&&(h+='"'),u=s[o],d=n[u],t.replacer&&(d=t.replacer.call(n,u,d)),!!Ns(t,e,u,!1,!1)&&(t.dump.length>1024&&(h+="? "),h+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),!!Ns(t,e,d,!1,!1)&&(h+=t.dump,r+=h));t.tag=i,t.dump="{"+r+"}"}function yG(t,e,n,r){var i="",s=t.tag,o=Object.keys(n),l,u,d,h,m,y;if(t.sortKeys===!0)o.sort();else if(typeof t.sortKeys=="function")o.sort(t.sortKeys);else if(t.sortKeys)throw new or("sortKeys must be a boolean or a function");for(l=0,u=o.length;l<u;l+=1)y="",(!r||i!=="")&&(y+=HT(t,e)),d=o[l],h=n[d],t.replacer&&(h=t.replacer.call(n,d,h)),!!Ns(t,e+1,d,!0,!0,!0)&&(m=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,m&&(t.dump&&Zc===t.dump.charCodeAt(0)?y+="?":y+="? "),y+=t.dump,m&&(y+=HT(t,e)),!!Ns(t,e+1,h,!0,m)&&(t.dump&&Zc===t.dump.charCodeAt(0)?y+=":":y+=": ",y+=t.dump,i+=y));t.tag=s,t.dump=i||"{}"}function s0(t,e,n){var r,i,s,o,l,u;for(i=n?t.explicitTypes:t.implicitTypes,s=0,o=i.length;s<o;s+=1)if(l=i[s],(l.instanceOf||l.predicate)&&(!l.instanceOf||typeof e=="object"&&e instanceof l.instanceOf)&&(!l.predicate||l.predicate(e))){if(n?l.multi&&l.representName?t.tag=l.representName(e):t.tag=l.tag:t.tag="?",l.represent){if(u=t.styleMap[l.tag]||l.defaultStyle,Uk.call(l.represent)==="[object Function]")r=l.represent(e,u);else if(jk.call(l.represent,u))r=l.represent[u](e,u);else throw new or("!<"+l.tag+'> tag resolver accepts not "'+u+'" style');t.dump=r}return!0}return!1}function Ns(t,e,n,r,i,s,o){t.tag=null,t.dump=n,s0(t,n,!1)||s0(t,n,!0);var l=Uk.call(t.dump),u=r,d;r&&(r=t.flowLevel<0||t.flowLevel>e);var h=l==="[object Object]"||l==="[object Array]",m,y;if(h&&(m=t.duplicates.indexOf(n),y=m!==-1),(t.tag!==null&&t.tag!=="?"||y||t.indent!==2&&e>0)&&(i=!1),y&&t.usedDuplicates[m])t.dump="*ref_"+m;else{if(h&&y&&!t.usedDuplicates[m]&&(t.usedDuplicates[m]=!0),l==="[object Object]")r&&Object.keys(t.dump).length!==0?(yG(t,e,t.dump,i),y&&(t.dump="&ref_"+m+t.dump)):(_G(t,e,t.dump),y&&(t.dump="&ref_"+m+" "+t.dump));else if(l==="[object Array]")r&&t.dump.length!==0?(t.noArrayIndent&&!o&&e>0?i0(t,e-1,t.dump,i):i0(t,e,t.dump,i),y&&(t.dump="&ref_"+m+t.dump)):(TG(t,e,t.dump),y&&(t.dump="&ref_"+m+" "+t.dump));else if(l==="[object String]")t.tag!=="?"&&hG(t,t.dump,e,s,u);else{if(l==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new or("unacceptable kind of an object to dump "+l)}t.tag!==null&&t.tag!=="?"&&(d=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?d="!"+d:d.slice(0,18)==="tag:yaml.org,2002:"?d="!!"+d.slice(18):d="!<"+d+">",t.dump=d+" "+t.dump)}return!0}function bG(t,e){var n=[],r=[],i,s;for(KT(t,n,r),i=0,s=r.length;i<s;i+=1)e.duplicates.push(n[r[i]]);e.usedDuplicates=new Array(s)}function KT(t,e,n){var r,i,s;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)n.indexOf(i)===-1&&n.push(i);else if(e.push(t),Array.isArray(t))for(i=0,s=t.length;i<s;i+=1)KT(t[i],e,n);else for(r=Object.keys(t),i=0,s=r.length;i<s;i+=1)KT(t[r[i]],e,n)}function NG(t,e){e=e||{};var n=new cG(e);n.noRefs||bG(t,n);var r=t;return n.replacer&&(r=n.replacer.call({"":r},"",r)),Ns(n,0,r,!0,!0)?n.dump+`
`:""}function $T(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var oj,lj,cj,uj,fj,dj,dn,or,hj,mj,gj,On,bj,Nj,vj,Ij,Cj,xj,Oj,Bj,qj,Gj,Yj,Kj,$j,Ik,Ck,Jj,e2,BT,s2,a2,o2,u2,f2,h2,m2,_2,Pk,ia,Jd,Ak,Sk,Zd,qT,y2,xk,b2,N2,v2,Ek,Rk,wk,Lk,Za,Mk,q2,U2,qk,Uk,jk,GT,j2,Zc,G2,W2,H2,Y2,WT,K2,$2,z2,Q2,Gk,X2,np,J2,Z2,eG,tG,Wk,Hk,nG,Yk,rG,Kk,wn,iG,sG,lG,eu,Jk,YT,Zk,e0,Ol,vG,IG,a0,ioe,o0,soe,aoe,ooe,l0=E(()=>{oj=bk,lj=nj,cj=rj,uj=sj,fj=aj,dj=ij,dn={isNothing:oj,isObject:lj,toArray:cj,repeat:uj,isNegativeZero:fj,extend:dj};Jc.prototype=Object.create(Error.prototype);Jc.prototype.constructor=Jc;Jc.prototype.toString=function(e){return this.name+": "+Nk(this,e)};or=Jc;hj=pj,mj=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],gj=["scalar","sequence","mapping"];On=_j;VT.prototype.extend=function(e){var n=[],r=[];if(e instanceof On)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new or("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(s){if(!(s instanceof On))throw new or("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new or("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new or("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(s){if(!(s instanceof On))throw new or("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(VT.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=vk(i,"implicit"),i.compiledExplicit=vk(i,"explicit"),i.compiledTypeMap=yj(i.compiledImplicit,i.compiledExplicit),i};bj=VT,Nj=new On("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),vj=new On("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),Ij=new On("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),Cj=new bj({explicit:[Nj,vj,Ij]});xj=new On("tag:yaml.org,2002:null",{kind:"scalar",resolve:Pj,construct:Aj,predicate:Sj,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});Oj=new On("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Ej,construct:Rj,predicate:kj,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});Bj=new On("tag:yaml.org,2002:int",{kind:"scalar",resolve:Mj,construct:Fj,predicate:Vj,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),qj=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");Gj=/^[-+]?[0-9]+e/;Yj=new On("tag:yaml.org,2002:float",{kind:"scalar",resolve:Uj,construct:jj,predicate:Hj,represent:Wj,defaultStyle:"lowercase"}),Kj=Cj.extend({implicit:[xj,Oj,Bj,Yj]}),$j=Kj,Ik=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Ck=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");Jj=new On("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:zj,construct:Qj,instanceOf:Date,represent:Xj});e2=new On("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Zj}),BT=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;s2=new On("tag:yaml.org,2002:binary",{kind:"scalar",resolve:t2,construct:n2,predicate:i2,represent:r2}),a2=Object.prototype.hasOwnProperty,o2=Object.prototype.toString;u2=new On("tag:yaml.org,2002:omap",{kind:"sequence",resolve:l2,construct:c2}),f2=Object.prototype.toString;h2=new On("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:d2,construct:p2}),m2=Object.prototype.hasOwnProperty;_2=new On("tag:yaml.org,2002:set",{kind:"mapping",resolve:g2,construct:T2}),Pk=$j.extend({implicit:[Jj,e2],explicit:[s2,u2,h2,_2]}),ia=Object.prototype.hasOwnProperty,Jd=1,Ak=2,Sk=3,Zd=4,qT=1,y2=2,xk=3,b2=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,N2=/[\x85\u2028\u2029]/,v2=/[,\[\]\{\}]/,Ek=/^(?:!|!!|![a-z\-]+!)$/i,Rk=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;wk=new Array(256),Lk=new Array(256);for(Za=0;Za<256;Za++)wk[Za]=Ok(Za)?1:0,Lk[Za]=Ok(Za);Mk={YAML:function(e,n,r){var i,s,o;e.version!==null&&Ae(e,"duplication of %YAML directive"),r.length!==1&&Ae(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&Ae(e,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&Ae(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=o<2,o!==1&&o!==2&&ep(e,"unsupported YAML version of the document")},TAG:function(e,n,r){var i,s;r.length!==2&&Ae(e,"TAG directive accepts exactly two arguments"),i=r[0],s=r[1],Ek.test(i)||Ae(e,"ill-formed tag handle (first argument) of the TAG directive"),ia.call(e.tagMap,i)&&Ae(e,'there is a previously declared suffix for "'+i+'" tag handle'),Rk.test(s)||Ae(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{Ae(e,"tag prefix is malformed: "+s)}e.tagMap[i]=s}};q2=V2,U2=B2,qk={loadAll:q2,load:U2},Uk=Object.prototype.toString,jk=Object.prototype.hasOwnProperty,GT=65279,j2=9,Zc=10,G2=13,W2=32,H2=33,Y2=34,WT=35,K2=37,$2=38,z2=39,Q2=42,Gk=44,X2=45,np=58,J2=61,Z2=62,eG=63,tG=64,Wk=91,Hk=93,nG=96,Yk=123,rG=124,Kk=125,wn={};wn[0]="\\0";wn[7]="\\a";wn[8]="\\b";wn[9]="\\t";wn[10]="\\n";wn[11]="\\v";wn[12]="\\f";wn[13]="\\r";wn[27]="\\e";wn[34]='\\"';wn[92]="\\\\";wn[133]="\\N";wn[160]="\\_";wn[8232]="\\L";wn[8233]="\\P";iG=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],sG=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;lG=1,eu=2;Jk=1,YT=2,Zk=3,e0=4,Ol=5;vG=NG,IG={dump:vG};a0=qk.load,ioe=qk.loadAll,o0=IG.dump,soe=$T("safeLoad","load"),aoe=$T("safeLoadAll","loadAll"),ooe=$T("safeDump","dump")});var zT,c0=E(()=>{l0();zT=class{static formatFrontMatter(e){try{let n=a0(e,{}),r=o0(n,{indent:2,noArrayIndent:!1,condenseFlow:!1,forceQuotes:!0,noRefs:!0,skipInvalid:!0});return r.endsWith(`
`)&&(r=r.trimEnd()),r}catch{return e}}}});var QT,u0=E(()=>{QT=class{static printError(e,n){var l,u;let r=`[${e.errorCode}] ${e.message}

`,i=(u=(l=e.node)==null?void 0:l.startPosition)==null?void 0:u.line,s=i;n.forEach((d,h)=>{s=h});let o=s.toString().length;return n.forEach((d,h)=>{let m=h.toString(),y="",b=0;b=o-m.length,i==h?y=" >"+"0".repeat(b)+m+"| ":y="  "+"0".repeat(b)+m+"| ",r+=y+d+`
`}),r}}});var XT,f0=E(()=>{uk();DT();c0();u0();XT=class extends wT{constructor(e){super();this.createExtraVirtualStructures=!0,Xd(e),this.withHtmlFormatter(_k).withYamlFormatter(zT.formatFrontMatter).withTransformOptions({endNewline:!0,maxAntlersStatementsPerLine:3,newlinesAfterFrontMatter:1,tabSize:e.tabWidth}).withPhpFormatter(Tk).withPreFormatter(n=>{var r,i,s;if(n.errors.hasStructureErrors()){let o=n.errors.getFirstStructureError(),l=n.getLinesAround((s=(i=(r=o.node)==null?void 0:r.startPosition)==null?void 0:i.line)!=null?s:1);throw new SyntaxError(QT.printError(o,l))}return null})}}});var yk=_e((_oe,p0)=>{Ma();f0();DT();var d0,PG={formatFrontMatter:!1,showGeneralSnippetCompletions:!0,diagnostics:{warnOnDynamicCssClassNames:!0,validateTagParameters:!0},trace:{server:"off"},formatterIgnoreExtensions:["xml"],languageVersion:"runtime"},AG={languages:[{name:"Antlers",parsers:["antlers"],extensions:[".antlers.html",".antlers.php"],vscodeLanguageIds:["html","antlers"]}],parsers:{antlers:{parse:function(t,e,n){return d0=n,Xd(n),new Tn().loadString(t)},locStart:()=>0,locEnd:()=>0,astFormat:"antlers"}},printers:{antlers:{print(t){let e=t.stack[0];return new XT(d0).formatDocument(e,PG)}}},defaultOptions:{tabWidth:4}};p0.exports=AG});module.exports=yk();
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
