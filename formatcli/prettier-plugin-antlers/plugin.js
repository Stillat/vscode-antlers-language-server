var WL=Object.create;var $p=Object.defineProperty;var HL=Object.getOwnPropertyDescriptor;var YL=Object.getOwnPropertyNames;var KL=Object.getPrototypeOf,$L=Object.prototype.hasOwnProperty;var zL=t=>$p(t,"__esModule",{value:!0});var x=(t,e)=>()=>(t&&(e=t(t=0)),e);var ye=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var QL=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of YL(e))!$L.call(t,i)&&(r||i!=="default")&&$p(t,i,{get:()=>e[i],enumerable:!(n=HL(e,i))||n.enumerable});return t},We=(t,e)=>QL(zL($p(t!=null?WL(KL(t)):{},"default",!e&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var Na,Mn,Xl=x(()=>{Na=class{constructor(){this.currentStructure=null;this.isReloading=!1;this.isDirtyState=!0;this.structuredProject=null}setStructuredProject(e){this.structuredProject=e}hasStructuredBlueprints(){return this.structuredProject!=null}getAllStructuredBlueprints(){return this.structuredProject==null?[]:this.structuredProject.assets.concat(this.structuredProject.collections).concat(this.structuredProject.forms).concat(this.structuredProject.general).concat(this.structuredProject.navigations).concat(this.structuredProject.taxonomies)}getStructuredProject(){return this.structuredProject}setActiveProject(e){this.currentStructure=e}getStructure(){return this.currentStructure}hasStructure(){return this.currentStructure!=null}setDirtyState(e){this.isDirtyState=e}reloadDetails(){this.isReloading||this.isDirtyState!=!1&&this.currentStructure!=null&&(this.isReloading=!0,this.currentStructure=this.currentStructure.reloadDetails(),this.isReloading=!1,this.isDirtyState=!1)}};Na.instance=null;(typeof Na.instance=="undefined"||Na.instance==null)&&(Na.instance=new Na);Mn=Na});var wi,Ou=x(()=>{wi=class{static registerDetails(e,r){this.documentDetails.set(e,r)}static hasDetails(e){return this.documentDetails.has(e)}};wi.documentDetails=new Map});function Jl(t,e){if(e==null||e.isComment==!1)return XL;let r=e.content.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`).map(T=>T.trim()),n=[],i=new Map,s="",o="",l=[],u=[],d="",h=null,m=!1,y=!0;for(let T=0;T<r.length;T++){let S=r[T];if(S.startsWith(_N))l=l.concat(S.slice(_N.length).split(",").map(w=>w.trim())),m=!1;else if(S.startsWith(yN))l=l.concat(S.slice(yN.length).split(",").map(w=>w.trim())),m=!1;else if(S.startsWith(bN))u=u.concat(S.slice(bN.length).split(",").map(w=>w.trim())),m=!1;else if(S.startsWith(mN))s=S.slice(mN.length).trim(),m=!1;else if(S.startsWith(gN))o=S.slice(gN.length).trim(),m=!0;else if(S.startsWith(TN))o=S.slice(TN.length).trim(),m=!0;else if(S.startsWith(NN))d=S.slice(NN.length).trim(),m=!1;else if(S.startsWith(vN))d="@page "+S.slice(vN.length).trim(),m=!1;else if(S.startsWith(IN)){let w=IN.length,_=!1;S.startsWith(PN)&&(w=PN.length,_=!0);let P=S.slice(w).trim().split(" ");if(P.length>0)if(P[0]==JL&&P.length>=4){P.shift();let Y=P.shift(),M=P.shift(),Z=P.join(" ");n.push({acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:Z,expectsTypes:["*"],isDynamic:!0,isRequired:_,name:M}),i.set(M,Y)}else{let Y=P.shift(),M=P.join(" ");n.push({acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:M,expectsTypes:["*"],isDynamic:!0,isRequired:_,name:Y})}}else S.startsWith(CN)?S.slice(CN.length).trim().toLowerCase()=="true"?y=!0:y=!1:m&&(o+=`
`+S.trim())}if(d.length>0){let T=d.split(" ");if(T.length==2){let S=T[0],w=T[1];if(w.includes(".")){let _=w.split(".");if(_.length==2){let C=_[0],P=_[1];h={variableName:S,collectionName:C,fieldHandle:P,setHandle:""}}else if(_.length==3){let C=_[0],P=_[1],Y=_[2];h={variableName:S,collectionName:C,fieldHandle:P,setHandle:Y}}}else h={variableName:S,setHandle:"",collectionName:"",fieldHandle:w}}}if(t.trim().length>0&&Mn.instance!=null&&Mn.instance.hasStructure()){let T=Mn.instance.getStructure().findView(t);T!=null&&(T.injectsParameters=n,T.varReferenceNames=i)}let b={documentName:s,documentDescription:o,collectionInjections:l,blueprints:u,variableHelper:h,injectsParameters:n,varReferenceNames:i,formatterEnabled:y};return t.trim().length>0&&e.startPosition!=null&&(e.startPosition.line<=1||e.index<=1)&&wi.registerDetails(t,b),b}var XL,mN,gN,TN,_N,yN,bN,NN,vN,IN,PN,JL,CN,zp=x(()=>{Xl();Ou();XL={documentDescription:"",documentName:"",collectionInjections:[],blueprints:[],variableHelper:null,injectsParameters:[],varReferenceNames:new Map,formatterEnabled:!0},mN="@name",gN="@description",TN="@desc",_N="@entry",yN="@collection",bN="@blueprint",NN="@var",vN="@set",IN="@param",PN="@param*",JL="@front",CN="@format"});function wu(t){return ZL.includes(t)?"string":eD.includes(t)?"array":tD.includes(t)?"number":rD.includes(t)?"boolean":t}var ZL,eD,tD,rD,Qp=x(()=>{ZL=["markdown","text","textarea","slug","button_group","code","color","date","form","link","structures","select","taxonomies","terms","template","time","video","users","user_groups","user_roles"],eD=["array","assets","bard","blueprints","collections","entries","list","grid","replicator","structures_multiple","sites","select_multiple","form_multiple","table","tags","terms_multiple","taxonomies_multiple","users_multiple","checkboxes","select_multiple","yaml","user_groups_multiple","user_roles_multiple"],tD=["integer","range"],rD=["toggle"]});var va,AN,SN=x(()=>{va=class{constructor(){this.partialReferences=new Map;this.cacheReferences=new Map;this.removesPageScope=new Map}clearAllReferences(e){this.clearPartialReferences(e),this.clearCacheReferences(e)}registerPartialReferences(e,r){this.partialReferences.has(e)==!1&&this.partialReferences.set(e,[]),this.partialReferences.set(e,r)}registerCacheReferences(e,r){this.cacheReferences.has(e)==!1&&this.cacheReferences.set(e,[]),this.cacheReferences.set(e,r)}clearPartialReferences(e){this.partialReferences.has(e)&&this.partialReferences.set(e,[])}clearRemovesPageScope(e){this.removesPageScope.has(e)&&this.removesPageScope.delete(e)}pageScopeDisabled(e){return this.removesPageScope.has(e)}clearCacheReferences(e){this.cacheReferences.has(e)&&this.cacheReferences.set(e,[])}setRemovesPageScope(e,r){this.removesPageScope.set(e,r)}getPartialReferences(e){return this.partialReferences.has(e)==!1?[]:this.partialReferences.get(e)}getCacheReferencnes(e){return this.cacheReferences.has(e)==!1?[]:this.cacheReferences.get(e)}hasPartialReferences(e){return this.partialReferences.has(e)}hasCacheReferences(e){return this.cacheReferences.has(e)}};va.instance=null;(typeof va.instance=="undefined"||va.instance==null)&&(va.instance=new va);AN=va});var en,Zl=x(()=>{en=class{constructor(){this.index=-1;this.offset=0;this.line=0;this.char=0}shiftRight(e){let r=new en;return r.offset=this.offset+e,r.index=this.index+e,r.line=this.line,r.char=this.char+e,r}isBefore(e){return e==null?!1:e.line>this.line||e.line==this.line&&this.offset<e.offset}isWithin(e,r,n=0){return e==null||r==null?!1:this.index>=e.index&&this.index<=r.index+n}isWithinRange(e){return e==null?!1:e.start!=null&&e.end!=null?this.isWithin(e.start,e.end):!1}}});var Xp,ec,xN=x(()=>{Xp=class{constructor(){this.start=null;this.end=null}},ec=Xp;ec.Empty=new Xp});function EN(t,e){let r=e.copy(),n=e.copy();return n.addVariable({sourceName:"*internal.group_by",sourceField:null,dataType:"string",name:"group",introducedBy:t}),n.addVariable({sourceName:"*internal.group_by",sourceField:null,dataType:"string",name:"key",introducedBy:t}),n.addScopeList("items",r),e.addScopeList("groups",n),e}var RN=x(()=>{});function kN(t,e){let r=e.copy();return e.addScopeList("items",r),e}var ON=x(()=>{});var wN,LN=x(()=>{RN();ON();wN=[{name:"key_by",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Re-keys the array or collection using the provided field name.",docLink:null,parameters:[{name:"field",description:"The field to re-key the array or collection by."}],canBeParameter:!0,isDeprecated:!1},{name:"as",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Alias the array variable with a key.",docLink:"https://statamic.dev/modifiers/as",parameters:[{name:"alias",description:"The alias name."}],canBeParameter:!0,isDeprecated:!1},{name:"ampersand_list",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Converts the array into a comma delimited string, with an ampersand before the last item.",docLink:"https://statamic.dev/modifiers/ampersand_list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"collapse",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Collapses an array of arrays into a single, flat, array.",docLink:"https://statamic.dev/modifiers/collapse",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"contains",acceptsType:["array","string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the value contains another value.",docLink:"https://statamic.dev/modifiers/contains",parameters:[{name:"needle",description:"The value to check for."}],canBeParameter:!1,isDeprecated:!1},{name:"count",acceptsType:["array"],returnsType:["number"],forFieldType:[],description:"Returns the number of items in the array.",docLink:"https://statamic.dev/modifiers/count",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"dl",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turns an associative array into an HTML definition list.",docLink:"https://statamic.dev/modifiers/dl",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"explode",acceptsType:["string"],returnsType:["array"],forFieldType:[],description:"Breaks a string into an array on a given delimiter.",docLink:"https://statamic.dev/modifiers/explode",parameters:[{name:"delimiter",description:"The delimiter to break the string apart on."}],canBeParameter:!0,isDeprecated:!1},{name:"flatten",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Flattens a multi-dimensional array.",docLink:"https://statamic.dev/modifiers/flatten",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"flip",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Swaps the array keys with their values.",docLink:"https://statamic.dev/modifiers/flip",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"group_by",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Groups the array items by the given key.",docLink:"https://statamic.dev/modifiers/group_by",parameters:[{name:"key",description:"The key to group by."}],canBeParameter:!0,augmentScope:EN,isDeprecated:!1},{name:"in_array",acceptsType:["array"],returnsType:["boolean"],forFieldType:[],description:"Tests if an array contains a specific value.",docLink:"https://statamic.dev/modifiers/in_array",parameters:[{name:"needle",description:"The value to check for."}],canBeParameter:!1,isDeprecated:!1},{name:"is_empty",acceptsType:["array"],returnsType:["boolean"],forFieldType:[],description:"Tests if the array is empty.",docLink:"https://statamic.dev/modifiers/is_empty",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"join",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turn an array into a string by gluing together all the data.",docLink:"https://statamic.dev/modifiers/join",parameters:[{name:"glue",description:"The string to combine the parts by."}],canBeParameter:!0,isDeprecated:!1},{name:"joinplode",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turn an array into a string by gluing together all the data.",docLink:null,parameters:[{name:"glue",description:"The string to combine the parts by."}],canBeParameter:!0,isDeprecated:!1},{name:"limit",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Limits the number of items returned in the array",docLink:"https://statamic.dev/modifiers/limit",parameters:[{name:"count",description:"The maximum number of items to return."}],canBeParameter:!0,isDeprecated:!1},{name:"list",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Converts the array into a comma-separated string.",docLink:"https://statamic.dev/modifiers/list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"offset",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Offsets the items returned in the array.",docLink:"https://statamic.dev/modifiers/offset",parameters:[{name:"offset",description:"The one-based index to start retrieving items."}],canBeParameter:!0,isDeprecated:!1},{name:"ol",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turns the array into an HTML ordered list.",docLink:"https://statamic.dev/modifiers/ol",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"option_list",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turns an array into a pipe-delimited string.",docLink:"https://statamic.dev/modifiers/option_list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"pluck",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Plucks a value from a collection of items.",parameters:[{name:"value",description:"The value to pluck from the array or collection."}],canBeParameter:!0,docLink:null,isDeprecated:!1},{name:"pad",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Pads the array to a specified length with the given value.",docLink:"https://statamic.dev/modifiers/pad",parameters:[{name:"length",description:"The desired length of the array."},{name:"value",description:"The value to pad the array with."}],canBeParameter:!0,isDeprecated:!1},{name:"piped",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turns an array into a pipe-delimited string.",docLink:"https://statamic.dev/modifiers/piped",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"sentence_list",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:'Turns the array into a comma-delimited list, with the word "and" before the last item.',docLink:"https://statamic.dev/modifiers/sentence_list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"shuffle",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Randomizes the order of array elements.",docLink:"https://statamic.dev/modifiers/shuffle",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"sort",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Sorts the array by a key in ascending or descending order.",docLink:"https://statamic.dev/modifiers/sort",parameters:[{name:"key",description:"The key to sort by."},{name:"order",description:"The sort direction. `asc` or `desc`."}],canBeParameter:!0,isDeprecated:!1},{name:"sum",acceptsType:["array"],returnsType:["number"],forFieldType:[],description:"Returns the sum of all items in the array.",docLink:"https://statamic.dev/modifiers/sum",parameters:[{name:"key",description:"The value to sum."}],canBeParameter:!1,isDeprecated:!1},{name:"ul",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turns the array into an HTML unordered list.",docLink:"https://statamic.dev/modifiers/ul",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"unique",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Returns all unique items in the array.",docLink:"https://statamic.dev/modifiers/unique",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"where",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Filters the array by a given key and value.",docLink:"https://statamic.dev/modifiers/where",parameters:[{name:"key",description:"The property to filter by."},{name:"value",description:"The value to compare to."}],canBeParameter:!0,isDeprecated:!1},{name:"split",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Splits an array into smaller arrays with the provided size.",canBeParameter:!0,docLink:"",parameters:[{name:"size",description:"The size of each new array"}],augmentScope:kN,isDeprecated:!1},{name:"compact",acceptsType:["string"],returnsType:["array"],forFieldType:[],description:"Accepts a comma-delimited list of variable names and return an array with their values.",canBeParameter:!0,docLink:"",parameters:[{name:"variables",description:"A comma-delimited list of variable names."}],isDeprecated:!1}]});var DN,FN=x(()=>{DN=[{name:"background_position",acceptsType:["string"],returnsType:["string"],forFieldType:["assets"],description:"Converts an asset focal point into a background-position CSS property.",docLink:"https://statamic.dev/modifiers/background_position",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"image",acceptsType:["string"],returnsType:["string"],forFieldType:["assets"],description:"Generates an HTML image element with the variable's value as the src.",docLink:"https://statamic.dev/modifiers/image",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"output",acceptsType:["string"],returnsType:["string"],forFieldType:["assets"],description:"Returns the string output of an Asset file's contents.",docLink:"https://statamic.dev/modifiers/output",parameters:[],canBeParameter:!1,isDeprecated:!1}]});var MN,VN=x(()=>{MN=[{name:"contains_all",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if a string contains all of the provided needles.",docLink:"https://statamic.dev/modifiers/contains_all",parameters:[{name:"needle",description:"The string(s) to search for."}],canBeParameter:!1,isDeprecated:!1},{name:"contains_any",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if a string contains all of the provided needles.",docLink:"https://statamic.dev/modifiers/contains_any",parameters:[{name:"needle",description:"The string(s) to search for."}],canBeParameter:!1,isDeprecated:!1},{name:"ends_with",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if a string ends with another string.",docLink:"https://statamic.dev/modifiers/ends_with",parameters:[{name:"value",description:"The value to check against."}],canBeParameter:!1,isDeprecated:!1},{name:"has_lower_case",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string contains any lowercase characters.",docLink:"https://statamic.dev/modifiers/has_lower_case",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"has_upper_case",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string contains any uppercase characters.",docLink:"https://statamic.dev/modifiers/has_upper_case",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"in_array",acceptsType:["array"],returnsType:["boolean"],forFieldType:[],description:"Tests if an array contains a specific value.",docLink:"https://statamic.dev/modifiers/in_array",parameters:[{name:"needle",description:"The value(s) to search for."}],canBeParameter:!1,isDeprecated:!1},{name:"is_after",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is after another date.",docLink:"https://statamic.dev/modifiers/is_after",parameters:[{name:"date",description:"The date to compare to."}],canBeParameter:!1,isDeprecated:!1},{name:"is_alphanumeric",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string contains only alphanumeric characters.",docLink:"https://statamic.dev/modifiers/is_alphanumeric",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_before",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if a date is before another date.",docLink:"https://statamic.dev/modifiers/is_before",parameters:[{name:"date",description:"The date to compare to."}],canBeParameter:!1,isDeprecated:!1},{name:"is_between",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if a date is between two other dates.",docLink:"https://statamic.dev/modifiers/is_between",parameters:[{name:"start_date",description:"The start date to compare."},{name:"end_date",description:"The end date to compare."}],canBeParameter:!1,isDeprecated:!1},{name:"is_blank",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string contains only whitespace characters.",docLink:"https://statamic.dev/modifiers/is_blank",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_email",acceptsType:["string"],returnsType:["boolean"],forFieldType:["text","textarea"],description:"Tests if the string is a valid email address.",docLink:"https://statamic.dev/modifiers/is_email",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_future",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is in the future.",docLink:"https://statamic.dev/modifiers/is_future",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_json",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string is valid JSON.",docLink:"https://statamic.dev/modifiers/is_json",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_leap_year",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is a leap year.",docLink:"https://statamic.dev/modifiers/is_leap_year",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_numeric",acceptsType:["string","number"],returnsType:["boolean"],forFieldType:[],description:"Tests if the value is a number or numeric string.",docLink:"https://statamic.dev/modifiers/is_numeric",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_past",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is in the past.",docLink:"https://statamic.dev/modifiers/is_past",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_today",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is today.",docLink:"https://statamic.dev/modifiers/is_today",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_uppercase",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string contains only uppercase characters.",docLink:"https://statamic.dev/modifiers/is_uppercase",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_url",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string is a valid URL.",docLink:"https://statamic.dev/modifiers/is_url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_weekday",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is a week day.",docLink:"https://statamic.dev/modifiers/is_weekday",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_weekend",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is a weekend day.",docLink:"https://statamic.dev/modifiers/is_weekend",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_yesterday",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is yesterday.",docLink:"https://statamic.dev/modifiers/is_yesterday",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_tomorrow",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is tomorrow.",docLink:null,parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"starts_with",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if a value starts with the provided value.",docLink:"https://statamic.dev/modifiers/starts_with",parameters:[{name:"value",description:"The value to test for."}],canBeParameter:!1,isDeprecated:!1}]});var BN,qN=x(()=>{BN=[{name:"days_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of days since a given date.",docLink:"https://statamic.dev/modifiers/days_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"format_translated",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Returns a formatted Carbon datetime/string.",docLink:"https://statamic.dev/modifiers/format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0,isDeprecated:!1},{name:"format",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Formats the date using the provided format using PHP's [date variables](https://www.php.net/date).",hoverDescription:`Formats the date using the provided format using PHP's [date variables](https://www.php.net/date).

## Formatting Options

See [PHP: DateTimeInterface::format](https://www.php.net/manual/en/datetime.format.php) for all available options.

| Format Character | Description | Example |
|:----|----|---|
| Day | --- | --- |
| d | Day of the month, 2 digits with leading zeros | 01 to 31 |
| D |A textual representation of a day | Mon - Sun |
| j | Day of the month, without leading zeros | 1 - 31 |
| l | The day of the week | Sunday - Saturday |
| N | ISO 8601 representation of the day of the week | 1 (Monday) - 7 (Sunday) |
| S | English ordinal suffix for the day | st, nd, rt, or th |
| w | Numeric day of the week | 0 (Sunday) - 6 (Saturday) |
| z | Day of the year, starting at 0 | 0 - 365 |
| Week | --- | --- |
| W | ISO 8601 week number of the year, starting on Monday | 42 |
| Month | --- | --- |
| F | Text representation of the month | January - December |
| m | Numeric representation of the month, with leading zeros | 01 - 12 |
| M | A short text representation of the month | Jan - Dec |
| n | Numeric representation of the month | 1 - 12 |
| t | Number of days in the month | 28 - 31 |
| Year | --- | --- |
| L | Indicates if it's a leap year | 1 if true, 0 otherwise |
| Y | Four digit representation of the year | 2022 |
| y | Two digit representation of the year | 22 |
| Time | --- | --- |
| a | Lowercase Anti meridiem and Post meridiem | am or pm |
| A | Uppercase Anti meridiem and Post meridiem | AM or PM |
| g | 12-hour hour format without leading zeros | 1 - 12 |
| G | 24-hour hour format without leading zeros | 0 - 23 |
| h | 12-hour hour format with leading zeros | 01 - 12 |
| H | 24-hour hour format with leading zeros | 00 - 23 |
| i | Minutes with leading zeros | 00 - 59 |
| s | Seconds with leading zeros | 00 - 59 |
| Timezone | --- | --- |
| e | Timezone identifier | UTC, GMT |
| I | Indicates if date is in daylight saving time | 1 if true, 0 otherwise |
| T | Timezone appreviation | EST, MDT, +05 |
`,docLink:"https://statamic.dev/modifiers/format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0,isDeprecated:!1},{name:"format_localized",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Formats the date using server's locale, using PHP's [strftime format variables](https://www.php.net/strftime).",docLink:"https://statamic.dev/modifiers/format_localized",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0,isDeprecated:!0,getDeprecatedMessage(){return"The format_localized modifier is deprecated. Alternatives, such as the iso_format modifier, should be used instead."}},{name:"hours_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of hours since the date.",docLink:"https://statamic.dev/modifiers/hours_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"iso_format",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Formats the date using an ISO format.",docLink:"https://statamic.dev/modifiers/iso_format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!1,isDeprecated:!1},{name:"minutes_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of minutes since the date.",docLink:"https://statamic.dev/modifiers/minutes_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"modify_date",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Alters the date by incrementing or decrementing it in a format accepted by PHP's [strtotime](https://www.php.net/strtotime) function.",docLink:"https://statamic.dev/modifiers/modify_date",parameters:[],canBeParameter:!0,isDeprecated:!1},{name:"months_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of months since the date.",docLink:"https://statamic.dev/modifiers/months_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"relative",acceptsType:["string","date"],returnsType:["string"],forFieldType:["date"],description:"Returns a human readable date difference.",docLink:"https://statamic.dev/modifiers/relative",parameters:[{name:"add_ago",description:"Whether to add the relative suffix words at the end of the string."}],canBeParameter:!1,isDeprecated:!1},{name:"seconds_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of seconds since the date.",docLink:"https://statamic.dev/modifiers/seconds_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"timezone",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Applies a timezone to the date.",docLink:"https://statamic.dev/modifiers/timezone",parameters:[{name:"timezone",description:"The timezone to apply."}],canBeParameter:!1,isDeprecated:!1},{name:"weeks_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of weeks since the date.",docLink:"https://statamic.dev/modifiers/weeks_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"years_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of years since the date.",docLink:"https://statamic.dev/modifiers/years_ago",parameters:[],canBeParameter:!1,isDeprecated:!1}]});var UN,jN=x(()=>{UN=[{name:"chunk",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Breaks the array or collection into smaller arrays of a given size.",docLink:"https://statamic.dev/modifiers/chunk",parameters:[{name:"chunk_size",description:"The maximum length of each new chunk."}],canBeParameter:!0,isDeprecated:!1},{name:"favicon",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Generates a favicon HTML meta tag for the given value.",docLink:"https://statamic.dev/modifiers/favicon",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"first",acceptsType:["string","array"],returnsType:["*"],forFieldType:[],description:"Returns the specified number of characters/items from the beginning of the string/array.",docLink:"https://statamic.dev/modifiers/first",parameters:[{name:"count",description:"The number of characters to return."}],canBeParameter:!0,isDeprecated:!1},{name:"last",acceptsType:["string","array"],returnsType:["*"],forFieldType:[],description:"Returns the specified number of characters/items from the end of the string/array.",docLink:"https://statamic.dev/modifiers/last",parameters:[{name:"count",description:"The number of characters to return."}],canBeParameter:!0,isDeprecated:!1},{name:"link",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Generates an HTML link for the provided value.",docLink:"https://statamic.dev/modifiers/link",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"mailto",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Generates a mailto HTML link for the provided value.",docLink:"https://statamic.dev/modifiers/mailto",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"markdown",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Parses the value as Markdown and returns the HTML.",docLink:"https://statamic.dev/modifiers/markdown",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"nl2br",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces line breaks with HTML `<br>` tags.",docLink:"https://statamic.dev/modifiers/nl2br",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"obfuscate",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Modifies the input string by replacing it with special characters, making it harder for bots but remains readable to site visitors.",docLink:"https://statamic.dev/modifiers/obfuscate",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"obfuscate_email",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Obfuscates an email address with special HTML characters.",docLink:"https://statamic.dev/modifiers/obfuscate_email",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"strip_tags",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Removes HTML tags from the string.",docLink:"https://statamic.dev/modifiers/strip_tags",parameters:[{name:"tags",description:"The HTML tag(s) to remove from the string."}],canBeParameter:!1,isDeprecated:!1},{name:"table",acceptsType:["array"],returnsType:["string"],forFieldType:["table"],description:"Turns a [Table FieldType](https://statamic.dev/fieldtypes/table) array into an HTML table.",docLink:"https://statamic.dev/modifiers/table",parameters:[{name:"content_markdown",description:"Whether to parse cell contents as Markdown."}],canBeParameter:!1,isDeprecated:!1},{name:"textile",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Parses a string with [Textile](http://demo.textilewiki.com/theme-default/) and returns the HTML.",docLink:"https://statamic.dev/modifiers/textile",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"wrap",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Wraps a string with a given HTML tag.",docLink:"https://statamic.dev/modifiers/wrap",parameters:[{name:"expression",description:"The HTML tag or Emmet-style expression to wrap the value in."}],canBeParameter:!1,isDeprecated:!1}]});var GN,WN=x(()=>{GN=[{name:"add",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Adds two values together.",docLink:"https://statamic.dev/modifiers/add",parameters:[{name:"value",description:"The value to add."}],canBeParameter:!0,isDeprecated:!1},{name:"+",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Adds two values together.",docLink:"https://statamic.dev/modifiers/add",parameters:[{name:"value",description:"The value to add."}],canBeParameter:!1,isDeprecated:!1},{name:"ceil",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Rounds the value to the next whole number.",docLink:"https://statamic.dev/modifiers/ceil",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"divide",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Divides two values.",docLink:"https://statamic.dev/modifiers/divide",parameters:[{name:"value",description:"The value to divide."}],canBeParameter:!0,isDeprecated:!1},{name:"floor",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Rounds a number down to the next whole number.",docLink:"https://statamic.dev/modifiers/floor",parameters:[],canBeParameter:!0,isDeprecated:!1},{name:"format_number",acceptsType:["number"],returnsType:["string"],forFieldType:[],description:"Formats a number.",docLink:"https://statamic.dev/modifiers/format_number",parameters:[{name:"precision",description:"Number of decimal places before rounding."},{name:"decimal_separator",description:"The decimal separator (defaults to `.`)."},{name:"thousands_separator",description:"The thousands separator (default `,`)."}],canBeParameter:!0,isDeprecated:!1},{name:"mode",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"",docLink:"",parameters:[],canBeParameter:!0,isDeprecated:!1},{name:"multiply",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Multiplies two values.",docLink:"https://statamic.dev/modifiers/multiply",parameters:[{name:"value",description:"The value to multiply."}],canBeParameter:!0,isDeprecated:!1},{name:"*",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Multiplies two values.",docLink:"https://statamic.dev/modifiers/multiply",parameters:[{name:"value",description:"The value to multiply."}],canBeParameter:!1,isDeprecated:!1},{name:"round",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Rounds a number to a specified precision.",docLink:"https://statamic.dev/modifiers/round",parameters:[{name:"precision",description:"The number of digits after the decimal point."}],canBeParameter:!0,isDeprecated:!1},{name:"subtract",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Subtracts two values.",docLink:"https://statamic.dev/modifiers/subtract",parameters:[{name:"value",description:"The value to subtract."}],canBeParameter:!0,isDeprecated:!1},{name:"-",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Subtracts two values.",docLink:"https://statamic.dev/modifiers/subtract",parameters:[{name:"value",description:"The value to subtract."}],canBeParameter:!1,isDeprecated:!1}]});var HN,YN=x(()=>{HN=[{name:"partial",acceptsType:["*"],returnsType:["*view*"],forFieldType:[],description:"Injects data into a partial and renders it.",docLink:"https://statamic.dev/modifiers/partial",parameters:[{name:"partial",description:"The name of the partial."}],canBeParameter:!1,isDeprecated:!1},{name:"macro",acceptsType:["*"],returnsType:["*"],forFieldType:[],description:"Runs a pre-configured macro on the data.",docLink:"https://statamic.dev/modifiers/macro",parameters:[{name:"macro",description:"The macro name."}],canBeParameter:!1,isDeprecated:!1},{name:"url",acceptsType:["string","*"],returnsType:["string"],forFieldType:[],description:"Locates the URL of an asset, page, entry, or taxonomy term based on the variable contents.",docLink:"https://statamic.dev/modifiers/url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"bool_string",acceptsType:["boolean","*"],returnsType:["string"],canBeParameter:!1,description:'Converts the provided value to a "true" or "false" string',docLink:null,forFieldType:["toggle"],isDeprecated:!1,parameters:[{name:"value",description:"The truthy value to convert to a string."}]}]});var KN,$N=x(()=>{KN=[{name:"ascii",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces all non-ASCII characters with their closest ASCII counterparts.",docLink:"https://statamic.dev/modifiers/ascii",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"at",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns the character at a given zero-based position.",docLink:"https://statamic.dev/modifiers/at",parameters:[{name:"position",description:"The zero-based position to retrieve a character from."}],canBeParameter:!0,isDeprecated:!1},{name:"backspace",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Removes a specified number of characters from the end of a string.",docLink:"https://statamic.dev/modifiers/backspace",parameters:[{name:"character_count",description:"The number of characters to remove from the end of the string."}],canBeParameter:!0,isDeprecated:!1},{name:"camelize",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts the string into camelCase.",docLink:"https://statamic.dev/modifiers/camelize",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"cdata",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Wraps the string in CDATA XML tags.",docLink:"https://statamic.dev/modifiers/cdata",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"collapse_whitespace",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Trims a string and replaces consecutive whitespace characters with a single space.",docLink:"https://statamic.dev/modifiers/collapse_whitespace",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"count_substring",acceptsType:["string"],returnsType:["number"],forFieldType:[],description:"Counts the number of occurrences of a term within the string.",docLink:"https://statamic.dev/modifiers/count_substring",parameters:[{name:"term",description:"The sub-string to search for."}],canBeParameter:!0,isDeprecated:!1},{name:"dashify",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a lower-cased and trimmed string, separated by dashes.",docLink:"https://statamic.dev/modifiers/dashify",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"deslugify",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces all hyphens and underscores with spaces.",docLink:"https://statamic.dev/modifiers/deslugify",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"embed_url",acceptsType:["string"],returnsType:["string"],forFieldType:["video"],description:"Converts a YouTube or Viemo link into their embed URLs.",docLink:"https://statamic.dev/modifiers/embed_url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"trackable_embed_url",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Get the embed URL when given a YouTube or Vimeo link that's direct to the page.",docLink:null,parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"ensure_left",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Ensures that the string begins with the specified string.",docLink:"https://statamic.dev/modifiers/ensure_left",parameters:[{name:"start_string",description:"The value that should be at the start of the string."}],canBeParameter:!0,isDeprecated:!1},{name:"ensure_right",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Ensures that the string ends with the specified string.",docLink:"https://statamic.dev/modifiers/ensure_right",parameters:[{name:"end_string",description:"The value that should be at the end of the string."}],canBeParameter:!0,isDeprecated:!1},{name:"entities",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Encode a string with HTML entities.",docLink:"https://statamic.dev/modifiers/entities",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"excerpt",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Breaks a string at a given marker.",docLink:"https://statamic.dev/modifiers/excerpt",parameters:[{name:"marker",description:"The substring to break on."}],canBeParameter:!1,isDeprecated:!1},{name:"explode",acceptsType:["string"],returnsType:["array"],forFieldType:[],description:"Breaks a string into an array of strings.",docLink:"https://statamic.dev/modifiers/explode",parameters:[{name:"delimiter",description:"The string to split the larger string by."}],canBeParameter:!0,isDeprecated:!1},{name:"gravatar",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts an email string to a Gravatar image URL.",docLink:"https://statamic.dev/modifiers/gravatar",parameters:[{name:"image size",description:"The desired image size."}],canBeParameter:!0,isDeprecated:!1},{name:"insert",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Inserts a string at the position provided.",docLink:"https://statamic.dev/modifiers/insert",parameters:[{name:"value",description:"The value to insert."},{name:"position",description:"The zero based position to insert the text at."}],canBeParameter:!0,isDeprecated:!1},{name:"is_email",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Returns true if the string is a valid email address.",docLink:"https://statamic.dev/modifiers/is_email",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_embeddable",acceptsType:["string"],returnsType:["boolean"],forFieldType:["video"],description:"Checks to see if a video URL is embeddable.",docLink:"https://statamic.dev/modifiers/is_embeddable",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_lowercase",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Returns true if the string contains only lowercase characters.",docLink:"https://statamic.dev/modifiers/is_lowercase",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_url",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Returns true if a string is a valid URL.",docLink:"https://statamic.dev/modifiers/is_url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"lcfirst",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts the first character of the value to lower case.",docLink:"https://statamic.dev/modifiers/lcfirst",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"length",acceptsType:["string"],returnsType:["number"],forFieldType:[],description:"Returns the number of items in an array or number of characters in a string.",docLink:"https://statamic.dev/modifiers/length",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"lower",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts all characters to lowercase.",docLink:"https://statamic.dev/modifiers/lower",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"md5",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Creates an MD5 hash of the variable.",docLink:"https://statamic.dev/modifiers/md5",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"rawurlencode",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"URL-encode a variable according to RFC-3986.",docLink:"https://statamic.dev/modifiers/rawurlencode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"read_time",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns an estimated read time, in minutes.",docLink:"https://statamic.dev/modifiers/read_time",parameters:[{name:"words per minute",description:"The words per minute to use as an estimate."}],canBeParameter:!0,isDeprecated:!1},{name:"regex_replace",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces all regex matches within a string.",docLink:"https://statamic.dev/modifiers/regex_replace",parameters:[{name:"pattern",description:"The regex pattern."},{name:"replace",description:"The replacement value."}],canBeParameter:!0,isDeprecated:!1},{name:"remove_left",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Ensures that the string never begins with a specified string.",docLink:"https://statamic.dev/modifiers/remove_left/",parameters:[{name:"value",description:"The value to remove."}],canBeParameter:!0,isDeprecated:!1},{name:"remove_right",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Ensures that a string never ends with a specified string.",docLink:"https://statamic.dev/modifiers/remove_right",parameters:[{name:"value",description:"The value to remove."}],canBeParameter:!0,isDeprecated:!1},{name:"replace",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces all occurrences of a string with a different value.",docLink:"https://statamic.dev/modifiers/replace",parameters:[{name:"needle",description:"The string to search for."},{name:"value",description:"The value to replace all occurrences with."}],canBeParameter:!0,isDeprecated:!1},{name:"reverse",acceptsType:["string","array"],returnsType:["string","array"],forFieldType:[],description:"Reverses all characters in a string, or all items in an array.",docLink:"https://statamic.dev/modifiers/reverse",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"safe_truncate",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Truncates a string to a given length.",docLink:"https://statamic.dev/modifiers/safe_truncate",parameters:[{name:"length",description:"The desired string length."},{name:"suffix",description:"An optional suffix to append to the string if truncation occurs."}],canBeParameter:!1,isDeprecated:!1},{name:"sanitize",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts special characters to HTML entities.",docLink:"https://statamic.dev/modifiers/sanitize",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"segment",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a segment by number from any valid URL or URI.",docLink:"https://statamic.dev/modifiers/segment",parameters:[{name:"segment",description:"The one-based segment to return."}],canBeParameter:!0,isDeprecated:!1},{name:"singular",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns the singular form of an English word.",docLink:"https://statamic.dev/modifiers/singular",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"slugify",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts the string into an URL slug.",docLink:"https://statamic.dev/modifiers/slugify",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"smartypants",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Translates plain ASCII punctuation characters into typographic punctuation HTML entities.",docLink:"https://statamic.dev/modifiers/smartypants",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"spaceless",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Removes excess whitespace and line breaks from a string.",docLink:"https://statamic.dev/modifiers/spaceless",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"substr",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a portion of a string based on provided a start index, and optional length.",docLink:"https://statamic.dev/modifiers/substr",parameters:[{name:"start",description:"The 0-based index to start searching."},{name:"length",description:"An optional length for the string to find."}],canBeParameter:!1,isDeprecated:!1},{name:"surround",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Surrounds a string with another string.",docLink:"https://statamic.dev/modifiers/surround",parameters:[{name:"value",description:"The value to surround the string with."}],canBeParameter:!1,isDeprecated:!1},{name:"swap_case",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a case swapped version of the string.",docLink:"https://statamic.dev/modifiers/swap_case",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"tidy",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a string with smart quotes, ellipsis characters, and dashes from Windows-1252 replaced by ASCII equivalents.",docLink:"https://statamic.dev/modifiers/tidy",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"title",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a Title Cased version of the string.",docLink:"https://statamic.dev/modifiers/title",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"trim",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Removes whitespace from the start and end of the string.",docLink:"https://statamic.dev/modifiers/trim",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"truncate",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Truncates a string to a given length.",docLink:"https://statamic.dev/modifiers/truncate",parameters:[{name:"length",description:"The maximum string length."},{name:"suffix",description:"An optional suffix to append to the string if truncation occurs."}],canBeParameter:!1,isDeprecated:!1},{name:"ucfirst",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Upper cases the first character in the string.",docLink:"https://statamic.dev/modifiers/ucfirst",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"underscored",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a lower-cased and trimmed version of the string, separated by underscores.",docLink:"https://statamic.dev/modifiers/underscored",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"upper",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Transforms the string to uppercase.",docLink:"https://statamic.dev/modifiers/upper",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"urldecode",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"URL-decodes the string.",docLink:"https://statamic.dev/modifiers/urldecode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"urlencode",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"URL-encodes the string.",docLink:"https://statamic.dev/modifiers/urlencode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"widont",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Attempts to prevent lines with single words.",docLink:"https://statamic.dev/modifiers/widont",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"word_count",acceptsType:["string"],returnsType:["number"],forFieldType:[],description:"Returns the number of words in the string.",docLink:"https://statamic.dev/modifiers/word_count",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"add_slashes",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Adds slashes before characters that need to be escaped.",docLink:"https://statamic.dev/modifiers/add_slashes",canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"antlers",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Parses the provided value as Antlers, and returns the result.",docLink:null,canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"bard_items",acceptsType:["string"],returnsType:["array"],forFieldType:["bard"],description:"Converts a Bard value to a flat array of nodes and marks.",docLink:null,canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"bard_text",acceptsType:["array","string"],returnsType:["string"],forFieldType:["bard"],description:"Converts a Bard value to plain text (excluding sets).",docLink:null,canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"bard_html",acceptsType:["array","string"],returnsType:["string"],forFieldType:["bard"],description:"Converts a Bard value to HTML (excluding sets).",docLink:null,canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"mark",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Wraps matched words and phrases in <mark> tags.",docLink:null,canBeParameter:!1,parameters:[{name:"search",description:"The search word or phrase to wrap in <mark> tags."}],isDeprecated:!1},{name:"regex_mark",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Wraps matched words and phrases in <mark> tags using regular expressions.",docLink:null,canBeParameter:!1,parameters:[{name:"pattern",description:"The search pattern used to wrap content in <mark> tags."}],isDeprecated:!1}]});var zN,QN=x(()=>{zN=[{name:"console_log",acceptsType:["*"],returnsType:["null"],forFieldType:[],description:"Displays variable data in the browser's JavaScript console.",docLink:"https://statamic.dev/modifiers/console_log",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"decode",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts all HTML entities to their character codes.",docLink:"https://statamic.dev/modifiers/decode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"dump",acceptsType:["*"],returnsType:["null"],forFieldType:[],description:"Displays variable data in the browser.",docLink:"https://statamic.dev/modifiers/dump",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"full_urls",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces root-relative URLs with absolute URLs.",docLink:"https://statamic.dev/modifiers/full_urls",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"repeat",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Repeats a value a given number of times.",docLink:"https://statamic.dev/modifiers/repeat",parameters:[{name:"repeat_count",description:"The number of times to repeat the value."}],canBeParameter:!0,isDeprecated:!1},{name:"to_spaces",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts all tabs to spaces.",docLink:"https://statamic.dev/modifiers/to_spaces",parameters:[{name:"space_count",description:"The number of spaces to replace tabs with."}],canBeParameter:!1,isDeprecated:!1},{name:"to_tabs",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts spaces to tabs.",docLink:"https://statamic.dev/modifiers/to_tabs",parameters:[{name:"space_count",description:"The number of spaces to convert to tabs."}],canBeParameter:!1,isDeprecated:!1},{name:"to_json",acceptsType:["*"],returnsType:["string"],forFieldType:[],description:"Converts the data to JSON",docLink:"https://statamic.dev/modifiers/to_json",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"to_bool",acceptsType:["*"],returnsType:["boolean"],forFieldType:[],description:"Converts the data to a boolean/truthy value.",parameters:[],canBeParameter:!1,docLink:null,isDeprecated:!1}]});var ws,Ut,Ls=x(()=>{Qp();LN();FN();VN();qN();jN();WN();YN();$N();QN();ws=class{constructor(){this.registeredModifiers=new Map;this.acceptTypedModifierReference=new Map;this.returnTypeModifierReference=new Map;this.macros=new Map;this.modifierNameCache=[]}reset(){this.modifierNameCache=[],this.registeredModifiers.clear(),this.acceptTypedModifierReference.clear(),this.returnTypeModifierReference.clear()}getRegisteredModifiers(){return this.registeredModifiers}resetMacros(){this.macros.clear()}loadCoreModifiers(){this.registerModifiers(wN),this.registerModifiers(DN),this.registerModifiers(MN),this.registerModifiers(BN),this.registerModifiers(UN),this.registerModifiers(GN),this.registerModifiers(zN),this.registerModifiers(KN),this.registerModifiers(HN)}getModifierNames(){return this.modifierNameCache}registerMacro(e){this.macros.set(e.name,e)}registerMacros(e){for(let r=0;r<e.length;r++)this.registerMacro(e[r])}hasMacro(e){if(this.macros.has(e)){let r=this.macros.get(e);return!(typeof r=="undefined"||r===null)}return!1}getMacro(e){if(this.macros.has(e)){let r=this.macros.get(e);return typeof r=="undefined"||r===null?null:r}return null}getMacroManifestingType(e){let r=this.getMacro(e);return r==null?"":r.manifestsType}getRegisteredModifier(e){return this.registeredModifiers.has(e)?this.registeredModifiers.get(e):null}getModifiersForType(e){let r=wu(e);return this.acceptTypedModifierReference.has(r)?this.acceptTypedModifierReference.get(r):[]}getProbableReturnType(e,r){return e==null||e.returnsType.length==0?"":r&&e.returnsType.includes("array")?"array":e.returnsType[0]}registerModifiers(e){var r,n;for(let i=0;i<e.length;i++){let s=e[i];this.modifierNameCache.push(s.name);for(let o=0;o<s.acceptsType.length;o++){let l=s.acceptsType[o];this.acceptTypedModifierReference.has(l)==!1&&this.acceptTypedModifierReference.set(l,[]),(r=this.acceptTypedModifierReference.get(l))==null||r.push(s)}for(let o=0;o<s.returnsType.length;o++){let l=s.returnsType[o];this.returnTypeModifierReference.has(l)==!1&&this.returnTypeModifierReference.set(l,[]),(n=this.returnTypeModifierReference.get(l))==null||n.push(s)}this.registeredModifiers.set(e[i].name,e[i])}}registerModifier(e){let r=[];r.push(e),this.registerModifiers(r)}getModifier(e){if(this.registeredModifiers.has(e)==!1)return null;let r=this.registeredModifiers.get(e);return typeof r=="undefined"||r==null?null:r}hasModifier(e){if(!this.registeredModifiers.has(e))return!1;let r=this.registeredModifiers.get(e);return!(typeof r=="undefined"||r==null)}};ws.instance=null;(typeof ws.instance=="undefined"||ws.instance==null)&&(ws.instance=new ws,ws.instance.loadCoreModifiers());Ut=ws});var Jp,XN=x(()=>{Ls();it();Jp=class{constructor(e){this.parameterModifiers=[];this.hasMixedModifierStyles=!1;this.modifierNames=[];this.node=e}isPaired(){return this.node instanceof ee?this.node.isPaired():!1}getModifierValue(e){var r;if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0)for(let n=0;n<this.node.modifierChain.modifierChain.length;n++){let i=this.node.modifierChain.modifierChain[n];if(((r=i.nameNode)==null?void 0:r.name)==e)return i.valueNodes.length>0?i.valueNodes[0].content:""}if(this.hasParameterModifiers())for(let n=0;n<this.parameterModifiers.length;n++){let i=this.parameterModifiers[n];if(i.name==e)return i.value}return null}getModifierRange(e){var r;if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0)for(let n=0;n<this.node.modifierChain.modifierChain.length;n++){let i=this.node.modifierChain.modifierChain[n];if(((r=i.nameNode)==null?void 0:r.name)==e)return i.valueNodes.length>0?{start:i.startPosition,end:i.endPosition}:null}if(this.hasParameterModifiers())for(let n=0;n<this.parameterModifiers.length;n++){let i=this.parameterModifiers[n];if(i.name==e&&i.namePosition!=null&&i.valuePosition!=null)return{start:i.namePosition.start,end:i.valuePosition.end}}return null}getLastManifestedModifierRuntimeType(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastManifestedModifier!=null){if(this.node.modifierChain.lastManifestedModifier.parameters.length>0&&this.node.modifierChain.lastManifestedModifier.modifier!=null&&Ut.instance!=null){let e=this.node.modifierChain.lastManifestedModifier.modifier;return Ut.instance.getProbableReturnType(e,this.isPaired())}return"*"}if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let r=0;r<e.length;r++)if(e[r].modifier!=null&&Ut.instance!=null){let n=e[r].modifier;return Ut.instance.getProbableReturnType(n,this.isPaired())}}return"*"}getLastManifestedModifierValue(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastManifestedModifier!=null)return this.node.modifierChain.lastManifestedModifier.parameters.length>0?this.node.modifierChain.lastManifestedModifier.parameters[0].value:"";if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let r=0;r<e.length;r++)if(e[r].modifier!=null)return e[r].value}return""}getLastManifestedModifier(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastModifier!=null)return this.node.modifierChain.lastModifier;if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let r=0;r<e.length;r++)if(e[r].modifier!=null)return e[r].modifier}return null}hasModifiers(){return this.node.modifierChain==null||this.node.modifierChain.modifierChain.length==0?this.parameterModifiers.length>0:!0}hasParameterModifiers(){return this.parameterModifiers.length>0}hasShorthandModifiers(){return this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0}hasModifier(e){return this.modifierNames.includes(e)}}});function Zp(t){let e=[];return t.forEach(r=>{r instanceof ee?e.push(r):r instanceof Mr&&r.logicBranches.length>0&&r.logicBranches.forEach(n=>{if(n.head!=null){let i=n.head;i.originalNode!=null?e.push(i.originalNode):e.push(i)}})}),e}var JN=x(()=>{it()});function ZN(t){return(typeof t=="number"||typeof t=="string"&&nD.indexOf(t.slice(-1))===-1)&&t!==""&&!isNaN(t)}var nD,ev=x(()=>{nD=[" ",`
`,"\r","	","\f","\v","\xA0","\u2000","\u2001","\u2002","\u2003","\u2004","\u2005","\u2006","\u2007","\u2008","\u2009","\u200A","\u200B","\u2028","\u2029","\u3000"].join("")});var ie,Sr=x(()=>{ev();ie=class{static boolLabel(e){return e?"true":"false"}static normalizeLineEndings(e,r=`
`){return e.replace(/\r?\n/g,r)}static breakByNewLine(e){return e.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`)}static split(e){return e.split("")}static substring(e,r,n){return e.substr(r,n)}static ctypeSpace(e){return(e==null?void 0:e.search(/^[\f\n\r\t\v ]+$/g))!==-1}static ctypeAlpha(e){return(e==null?void 0:e.search(/^[A-Za-z]+$/g))!==-1}static ctypeDigit(e){return(e==null?void 0:e.search(/^[\d]+$/g))!==-1}static ctypePunct(e){return(e==null?void 0:e.search(/^[\u0021-\u002F\u003A-\u0040\u005B-\u0060\u007B-\u007E]+$/g))!==-1}static trimLeft(e,r="\\s"){return e.replace(new RegExp("^["+r+"]+"),"")}static trimRight(e,r="\\s"){return e.replace(new RegExp("["+r+"]+$"),"")}static isNumeric(e){return ZN(e)}static substringCount(e,r){let n=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return(e.match(new RegExp(n,"gi"))||[]).length}static getLastLine(e){let r=ie.breakByNewLine(e);return r.length==0?"":r[r.length-1]}static getFirstLine(e){let r=ie.breakByNewLine(e);return r.length==0?"":r[0]}}});var eh,tv=x(()=>{eh=class{constructor(e){this.node=e}findParentWithName(e){let r=this.node.getParser();return r==null?null:r.structure.findParentWithName(e,this.node)}}});var Lu=ye(th=>{"use strict";Object.defineProperty(th,"__esModule",{value:!0});var rv=function(){function t(){this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return t.hashStr=function(e,r){return r===void 0&&(r=!1),this.onePassHasher.start().appendStr(e).end(r)},t.hashAsciiStr=function(e,r){return r===void 0&&(r=!1),this.onePassHasher.start().appendAsciiStr(e).end(r)},t._hex=function(e){var r=t.hexChars,n=t.hexOut,i,s,o,l;for(l=0;l<4;l+=1)for(s=l*8,i=e[l],o=0;o<8;o+=2)n[s+1+o]=r.charAt(i&15),i>>>=4,n[s+0+o]=r.charAt(i&15),i>>>=4;return n.join("")},t._md5cycle=function(e,r){var n=e[0],i=e[1],s=e[2],o=e[3];n+=(i&s|~i&o)+r[0]-680876936|0,n=(n<<7|n>>>25)+i|0,o+=(n&i|~n&s)+r[1]-389564586|0,o=(o<<12|o>>>20)+n|0,s+=(o&n|~o&i)+r[2]+606105819|0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&n)+r[3]-1044525330|0,i=(i<<22|i>>>10)+s|0,n+=(i&s|~i&o)+r[4]-176418897|0,n=(n<<7|n>>>25)+i|0,o+=(n&i|~n&s)+r[5]+1200080426|0,o=(o<<12|o>>>20)+n|0,s+=(o&n|~o&i)+r[6]-1473231341|0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&n)+r[7]-45705983|0,i=(i<<22|i>>>10)+s|0,n+=(i&s|~i&o)+r[8]+1770035416|0,n=(n<<7|n>>>25)+i|0,o+=(n&i|~n&s)+r[9]-1958414417|0,o=(o<<12|o>>>20)+n|0,s+=(o&n|~o&i)+r[10]-42063|0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&n)+r[11]-1990404162|0,i=(i<<22|i>>>10)+s|0,n+=(i&s|~i&o)+r[12]+1804603682|0,n=(n<<7|n>>>25)+i|0,o+=(n&i|~n&s)+r[13]-40341101|0,o=(o<<12|o>>>20)+n|0,s+=(o&n|~o&i)+r[14]-1502002290|0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&n)+r[15]+1236535329|0,i=(i<<22|i>>>10)+s|0,n+=(i&o|s&~o)+r[1]-165796510|0,n=(n<<5|n>>>27)+i|0,o+=(n&s|i&~s)+r[6]-1069501632|0,o=(o<<9|o>>>23)+n|0,s+=(o&i|n&~i)+r[11]+643717713|0,s=(s<<14|s>>>18)+o|0,i+=(s&n|o&~n)+r[0]-373897302|0,i=(i<<20|i>>>12)+s|0,n+=(i&o|s&~o)+r[5]-701558691|0,n=(n<<5|n>>>27)+i|0,o+=(n&s|i&~s)+r[10]+38016083|0,o=(o<<9|o>>>23)+n|0,s+=(o&i|n&~i)+r[15]-660478335|0,s=(s<<14|s>>>18)+o|0,i+=(s&n|o&~n)+r[4]-405537848|0,i=(i<<20|i>>>12)+s|0,n+=(i&o|s&~o)+r[9]+568446438|0,n=(n<<5|n>>>27)+i|0,o+=(n&s|i&~s)+r[14]-1019803690|0,o=(o<<9|o>>>23)+n|0,s+=(o&i|n&~i)+r[3]-187363961|0,s=(s<<14|s>>>18)+o|0,i+=(s&n|o&~n)+r[8]+1163531501|0,i=(i<<20|i>>>12)+s|0,n+=(i&o|s&~o)+r[13]-1444681467|0,n=(n<<5|n>>>27)+i|0,o+=(n&s|i&~s)+r[2]-51403784|0,o=(o<<9|o>>>23)+n|0,s+=(o&i|n&~i)+r[7]+1735328473|0,s=(s<<14|s>>>18)+o|0,i+=(s&n|o&~n)+r[12]-1926607734|0,i=(i<<20|i>>>12)+s|0,n+=(i^s^o)+r[5]-378558|0,n=(n<<4|n>>>28)+i|0,o+=(n^i^s)+r[8]-2022574463|0,o=(o<<11|o>>>21)+n|0,s+=(o^n^i)+r[11]+1839030562|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^n)+r[14]-35309556|0,i=(i<<23|i>>>9)+s|0,n+=(i^s^o)+r[1]-1530992060|0,n=(n<<4|n>>>28)+i|0,o+=(n^i^s)+r[4]+1272893353|0,o=(o<<11|o>>>21)+n|0,s+=(o^n^i)+r[7]-155497632|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^n)+r[10]-1094730640|0,i=(i<<23|i>>>9)+s|0,n+=(i^s^o)+r[13]+681279174|0,n=(n<<4|n>>>28)+i|0,o+=(n^i^s)+r[0]-358537222|0,o=(o<<11|o>>>21)+n|0,s+=(o^n^i)+r[3]-722521979|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^n)+r[6]+76029189|0,i=(i<<23|i>>>9)+s|0,n+=(i^s^o)+r[9]-640364487|0,n=(n<<4|n>>>28)+i|0,o+=(n^i^s)+r[12]-421815835|0,o=(o<<11|o>>>21)+n|0,s+=(o^n^i)+r[15]+530742520|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^n)+r[2]-995338651|0,i=(i<<23|i>>>9)+s|0,n+=(s^(i|~o))+r[0]-198630844|0,n=(n<<6|n>>>26)+i|0,o+=(i^(n|~s))+r[7]+1126891415|0,o=(o<<10|o>>>22)+n|0,s+=(n^(o|~i))+r[14]-1416354905|0,s=(s<<15|s>>>17)+o|0,i+=(o^(s|~n))+r[5]-57434055|0,i=(i<<21|i>>>11)+s|0,n+=(s^(i|~o))+r[12]+1700485571|0,n=(n<<6|n>>>26)+i|0,o+=(i^(n|~s))+r[3]-1894986606|0,o=(o<<10|o>>>22)+n|0,s+=(n^(o|~i))+r[10]-1051523|0,s=(s<<15|s>>>17)+o|0,i+=(o^(s|~n))+r[1]-2054922799|0,i=(i<<21|i>>>11)+s|0,n+=(s^(i|~o))+r[8]+1873313359|0,n=(n<<6|n>>>26)+i|0,o+=(i^(n|~s))+r[15]-30611744|0,o=(o<<10|o>>>22)+n|0,s+=(n^(o|~i))+r[6]-1560198380|0,s=(s<<15|s>>>17)+o|0,i+=(o^(s|~n))+r[13]+1309151649|0,i=(i<<21|i>>>11)+s|0,n+=(s^(i|~o))+r[4]-145523070|0,n=(n<<6|n>>>26)+i|0,o+=(i^(n|~s))+r[11]-1120210379|0,o=(o<<10|o>>>22)+n|0,s+=(n^(o|~i))+r[2]+718787259|0,s=(s<<15|s>>>17)+o|0,i+=(o^(s|~n))+r[9]-343485551|0,i=(i<<21|i>>>11)+s|0,e[0]=n+e[0]|0,e[1]=i+e[1]|0,e[2]=s+e[2]|0,e[3]=o+e[3]|0},t.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(t.stateIdentity),this},t.prototype.appendStr=function(e){var r=this._buffer8,n=this._buffer32,i=this._bufferLength,s,o;for(o=0;o<e.length;o+=1){if(s=e.charCodeAt(o),s<128)r[i++]=s;else if(s<2048)r[i++]=(s>>>6)+192,r[i++]=s&63|128;else if(s<55296||s>56319)r[i++]=(s>>>12)+224,r[i++]=s>>>6&63|128,r[i++]=s&63|128;else{if(s=(s-55296)*1024+(e.charCodeAt(++o)-56320)+65536,s>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");r[i++]=(s>>>18)+240,r[i++]=s>>>12&63|128,r[i++]=s>>>6&63|128,r[i++]=s&63|128}i>=64&&(this._dataLength+=64,t._md5cycle(this._state,n),i-=64,n[0]=n[16])}return this._bufferLength=i,this},t.prototype.appendAsciiStr=function(e){for(var r=this._buffer8,n=this._buffer32,i=this._bufferLength,s,o=0;;){for(s=Math.min(e.length-o,64-i);s--;)r[i++]=e.charCodeAt(o++);if(i<64)break;this._dataLength+=64,t._md5cycle(this._state,n),i=0}return this._bufferLength=i,this},t.prototype.appendByteArray=function(e){for(var r=this._buffer8,n=this._buffer32,i=this._bufferLength,s,o=0;;){for(s=Math.min(e.length-o,64-i);s--;)r[i++]=e[o++];if(i<64)break;this._dataLength+=64,t._md5cycle(this._state,n),i=0}return this._bufferLength=i,this},t.prototype.getState=function(){var e=this,r=e._state;return{buffer:String.fromCharCode.apply(null,e._buffer8),buflen:e._bufferLength,length:e._dataLength,state:[r[0],r[1],r[2],r[3]]}},t.prototype.setState=function(e){var r=e.buffer,n=e.state,i=this._state,s;for(this._dataLength=e.length,this._bufferLength=e.buflen,i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],s=0;s<r.length;s+=1)this._buffer8[s]=r.charCodeAt(s)},t.prototype.end=function(e){e===void 0&&(e=!1);var r=this._bufferLength,n=this._buffer8,i=this._buffer32,s=(r>>2)+1,o;if(this._dataLength+=r,n[r]=128,n[r+1]=n[r+2]=n[r+3]=0,i.set(t.buffer32Identity.subarray(s),s),r>55&&(t._md5cycle(this._state,i),i.set(t.buffer32Identity)),o=this._dataLength*8,o<=4294967295)i[14]=o;else{var l=o.toString(16).match(/(.*?)(.{0,8})$/);if(l===null)return;var u=parseInt(l[2],16),d=parseInt(l[1],16)||0;i[14]=u,i[15]=d}return t._md5cycle(this._state,i),e?this._state:t._hex(this._state)},t.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),t.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t.hexChars="0123456789abcdef",t.hexOut=[],t.onePassHasher=new t,t}();th.Md5=rv;rv.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592"&&console.error("Md5 self test failed.")});var nv,J,Li=x(()=>{nv=We(Lu()),J=class{constructor(){this.node=null;this.errorCode="";this.message="";this.level=0;this.range=null;this.actions=[];this.lsRange=null;this.data=null}hash(){var r,n,i,s;let e="";return this.node!=null&&(e=((n=(r=this.node.endPosition)==null?void 0:r.offset)!=null?n:0).toString()+"|"+((s=(i=this.node.startPosition)==null?void 0:i.offset)!=null?s:0).toString()+"|"),nv.Md5.hashStr(e+"|"+this.errorCode)}static makeSyntaxError(e,r,n,i){i==null&&(i=0);let s=new J;return s.errorCode=e,s.node=r,s.message=n,s.level=i,s}}});var R,Di=x(()=>{R=class{};R.TYPE_EXPECTING_OPERAND="ANTLR_001",R.TYPE_UNEXPECTED_END_OF_INPUT="ANTLR_002",R.TYPE_RUNTIME_TYPE_MISMATCH="ANTLR_003",R.TYPE_RUNTIME_DIVIDE_BY_ZERO="ANTLR_004",R.TYPE_RUNTIME_UNKNOWN_LANG_OPERATOR="ANTLR_005",R.TYPE_RUNTIME_UNEXPECTED_STACK_CONDITION="ANTLR_006",R.TYPE_RUNTIME_PARSE_VALUE_VIOLATION="ANTLR_007",R.TYPE_PARSE_UNCLOSED_CONDITIONAL="ANTLR_008",R.TYPE_PARSE_EMPTY_CONDITIONAL="ANTLR_009",R.TYPE_PARSE_UNPAIRED_CONDITIONAL="ANTLR_008",R.TYPE_ILLEGAL_STRING_ESCAPE_SEQUENCE="ANTLR_009",R.TYPE_INCOMPLETE_ANTLERS_REGION="ANTLR_010",R.TYPE_INCOMPLETE_ANTELRS_COMMENT_REGION="ANTLR_011",R.TYPE_ILLEGAL_VARPATH_RIGHT="ANTLR_012",R.TYPE_ILLEGAL_DOTVARPATH_RIGHT="ANTLR_013",R.TYPE_ILLEGAL_VARPATH_SUBPATH_START="ANTLR_014",R.TYPE_ILLEGAL_VARPATH_SPACE_RIGHT="ANTLR_015",R.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR="ANTLR_016",R.TYPE_ILLEGAL_VARIABLE_NAME="ANTLR_017",R.TYPE_UNSET_MODIFIER_DETAILS="ANTLR_018",R.TYPE_MODIFIER_NAME_NOT_START_OF_DETAILS="ANTLR_019",R.TYPE_MODIFIER_UNEXPECTED_VALUE="ANTLR_020",R.TYPE_MODIFIER_UNEXPECTED_END_OF_VALUE_LIST="ANTLR_021",R.TYPE_TERNARY_EXPECTING_BRANCH_SEPARATOR="ANTLR_022",R.TYPE_TERNARY_UNEXPECTED_EXPRESSION_LENGTH="ANTLR_023",R.TYPE_RECURSIVE_UNPAIRED_NODE="ANTLR_024",R.TYPE_RECURSIVE_NODE_INVALID_POSITION="ANTLR_025",R.TYPE_NO_PARSE_UNASSOCIATED="ANTLR_026",R.TYPE_RECURSIVE_NODE_UNASSOCIATED_PARENT="ANTLR_027",R.TYPE_LOGIC_GROUP_NO_END="ANTLR_028",R.TYPE_LOGIC_GROUP_NO_START="ANTLR_029",R.TYPE_UNEXPECTED_BRANCH_SEPARATOR="ANTLR_030",R.TYPE_UNEXPECTED_BRANCH_SEPARATOR_FOR_VARCOMBINE="ANTLR_031",R.TYPE_UNEXPECTED_MODIFIER_SEPARATOR="ANTLR_032",R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_DETAILS="ANTLR_033",R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_VALUE="ANTLR_034",R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NODE_PARAMETER="ANTLR_035",R.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE="ANTLR_036",R.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS="ANTLR_037",R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SEMANTIC_GROUP="ANTLR_038",R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NULL_COALESCENCE_GROUP="ANTLR_039",R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP="ANTLR_040",R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP_FALSE_BRANCH="ANTLR_041",R.TYPE_UNEXPECTED_EOI_WHILE_EXITING_TERNARY_GROUP="ANTLR_042",R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_NEGATION_OFFSET="ANTLR_043",R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END_DUE_TO_NEGATION="ANTLR_044",R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END="ANTLR_045",R.TYPE_RUNTIME_UNKNOWN_LIBRARY="ANTLR_046",R.TYPE_RUNTIME_LIBRARY_BAD_METHOD_CALL="ANTLR_047",R.TYPE_UNEXPECTED_FACTORIAL_WHILE_CREATING_GROUPS="ANTLR_048",R.TYPE_UNEXPECTED_FACTORIAL_OPERAND="ANTLR_049",R.TYPE_UNEXPECTED_LOGIC_NEGATION_OPERATOR="ANTLR_050",R.TYPE_FACTORIAL_MATERIALIZED_BOOL_DETECTED="ANTLR_051",R.TYPE_ARG_UNEXPECTED_NAMED_ARGUMENT="ANTLR_052",R.TYPE_UNEXPECTED_EOI_PARSING_BRANCH_GROUP="ANTLR_053",R.TYPE_UNEXPECTED_UNNAMED_METHOD_ARGUMENT="ANTLR_054",R.TYPE_LIBRARY_CALL_NO_ARGS_PROVIDED="ANTLR_055",R.TYPE_LIBRARY_CALL_MISSING_REQUIRED_FORMAL_ARG="ANTLR_056",R.TYPE_LIBRARY_CALL_RUNTIME_TYPE_MISMATCH="ANTLR_057",R.TYPE_LIBRARY_CALL_UNEXPECTED_ARG_RESOLVE_FAULT="ANTLR_058",R.TYPE_LIBRARY_CALL_TOO_MANY_ARGUMENTS="ANTLR_059",R.TYPE_UNEXPECTED_TOKEN_WHILE_PARSING_METHOD="ANTLR_060",R.TYPE_INVALID_NAMED_ARG_IDENTIFIER="ANTLR_061",R.TYPE_LIBRARY_CALL_INVALID_ARGUMENT_NAME="ANTLR_062",R.TYPE_RUNTIME_ATTEMPT_TO_OVERWRITE_LOADED_LIBRARY="ANTLR_063",R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_ARG_GROUP="ANTLR_064",R.TYPE_EXPECTING_ARGUMENT_GROUP="ANTLR_065",R.TYPE_RUNTIME_PROTECTED_LIBRARY_ACCESS_VIOLATION="ANTLR_066",R.TYPE_RUNTIME_FATAL_UNPAIRED_LOOP_END="ANTLR_067",R.TYPE_UNEXPECTED_OPERATOR="ANTLR_068",R.TYPE_OPERATOR_INVALID_ON_RIGHT="ANTLR_069",R.TYPE_INVALID_ASSIGNMENT_LOOP_PAIR="ANTLR_070",R.TYPE_UNEXPECTED_EOI_PARSING_ORDER_GROUP="ANTLR_071",R.TYPE_EXPECTING_ORDER_GROUP_FOR_ORDER_BY_OPERAND="ANTLR_072",R.TYPE_QUERY_UNSUPPORTED_VALUE_TYPE="ANTLR_073",R.TYPE_UNEXPECTED_RUNTIME_RESULT_FOR_ORDER_BY_CLAUSE="ANTLR_074",R.TYPE_UNEXPECTED_EMPTY_DIRECTION_GROUP="ANTLR_075",R.TYPE_INVALID_ORDER_BY_NAME_VALUE="ANTLR_076",R.TYPE_INVALID_ORDER_BY_SORT_VALUE="ANTLR_077",R.TYPE_UNEXPECTED_TOKEN_FOR_GROUP_BY="ANTLR_78",R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_GROUP_BY="ANTLR_079",R.TYPE_UNEXPECTED_GROUP_BY_AS_ALIAS_TYPE="ANTLR_080",R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SWITCH_GROUP="ANTLR_081",R.TYPE_UNEXPECTED_TOKEN_FOR_SWITCH_GROUP="ANTLR_082",R.TYPE_UNEXPECTED_SWITCH_START_VALUE="ANTLR_083",R.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE="ANTLR_084",R.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_SEMANTIC_VALUE="ANTLR_085",R.TYPE_SWITCH_DEFAULT_MUST_BE_LAST="ANTLR_086",R.TYPE_PARSER_INVALID_SWITCH_TOKEN="ANTLR_087",R.TYPE_ORDER_BY_INVALID_RETURN_TYPE="ANTLR_088",R.TYPE_GROUP_BY_SCOPED_GROUP_MUST_BE_ENCLOSED="ANTLR_089",R.TYPE_PLUCK_INTO_MISSING_VARIABLE_TARGET="ANTLR_090",R.TYPE_PLUCK_INTO_INVALID_VARIABLE_TARGET="ANTLR_091",R.TYPE_PLUCK_INTO_NO_PREDICATE="ANTLR_092",R.TYPE_PLUCK_INTO_INVALID_PREDICATE_VALUE="ANTLR_093",R.TYPE_PLUCK_INTO_EMPTY_LOGIC_GROUP="ANTLR_094",R.TYPE_PLUCK_INTO_INVALID_NUMBER_OF_TUPLE_VARIABLES="ANTLR_095",R.TYPE_PLUCK_INTO_UNKNOWN_ALIAS_VARNAME="ANTLR_096",R.TYPE_PLUCK_INTO_UNEXPECTED_EMPTY_T_LOGIC_GROUP="ANTLR_097",R.TYPE_PLUCK_INTO_REFERENCE_TYPE_DYNAMIC="ANTLR_098",R.TYPE_PLUCK_INTO_REFERENCE_AMBIGUOUS="ANTLR_099",R.TYPE_RUNTIME_ASSIGNMENT_TO_NON_VAR="ANTLR_100",R.TYPE_ARR_MAKE_MISSING_TARGET="ANTLR_101",R.TYPE_ARR_MAKE_UNEXPECTED_TYPE="ANTLR_102",R.TYPE_ARR_MAKE_MISSING_ARR_KEY_PAIR_VALUE="ANTLR_103",R.TYPE_ARR_KEY_PAIR_INVALID_KEY_TYPE="ANTLR_104",R.TYPE_ARR_UNEXPECT_ARG_SEPARATOR="ANTLR_105",R.TYPE_ARR_KEY_PAIR_MISSING_KEY="ANTLR_106",R.RUNTIME_PROTECTED_VAR_ACCESS="ANTLR_107",R.RUNTIME_PROTECTED_TAG_ACCESS="ANTLR_108",R.RUNTIME_PROTECTED_MODIFIER_ACCESS="ANTLR_109",R.TYPE_INCOMPLETE_PHP_EVALUATION_REGION="ANTLR_110",R.RUNTIME_PHP_NODE_WHEN_PHP_DISABLED="ANTLR_111",R.RUNTIME_PHP_NODE_USER_CONTENT_TAG="ANTLR_112",R.TYPE_UNEXPECTED_TYPE_FOR_TUPLE_LIST="ANTLR_113",R.TYPE_UNEXPECTED_EOI_PARSING_TUPLE_LIST="ANTLR_114",R.TYPE_MISSING_BODY_TUPLE_LIST="ANTLR_115",R.TYPE_MISSING_NAMES_TUPLE_LIST="ANTLR_116",R.TYPE_VALUE_NAME_LENGTH_MISMATCH_TUPLE_LIST="ANTLR_117",R.TYPE_INVALID_TUPLE_LIST_NAME_TYPE="ANTLR_118",R.TYPE_INVALID_MANIFESTED_NAME_GROUP="ANTLR_119",R.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE_GROUP="ANTLR_120",R.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE="ANTLR_121",R.TYPE_RUNTIME_BAD_METHOD_CALL="ANTLR_122",R.TYPE_METHOD_CALL_MISSING_ARG_GROUP="ANTLR_123",R.TYPE_INVALID_METHOD_CALL_ARG_GROUP="ANTLR_124",R.TYPE_METHOD_CALL_MISSING_METHOD="ANTLR_125",R.TYPE_MODIFIER_NOT_FOUND="ANTLR_126",R.TYPE_RUNTIME_GENERAL_FAULT="ANTLR_127",R.TYPE_MODIFIER_INCORRECT_VALUE_POSITION="ANTLR_128",R.TYPE_MODIFIER_UNEXPECTED_TOKEN_METHOD_SYNTAX="ANTLR_129",R.TYPE_RUNTIME_ATTEMPTING_TO_RENDER_OBJECT_AS_STRING="ANTLR_130",R.TYPE_UNPAIRED_CLOSING_TAG="ANTLR_131",R.PARSER_CANNOT_PARSE_PATH_RECURSIVE="ANTLR_200",R.PATH_STRING_NOT_INSIDE_ARRAY_ACCESSOR="ANTLR_201",R.LINT_UNKNOWN_PARAMETER="ANTLR_500",R.LINT_GENERAL_INVALID_PARAMETER_CONTENTS="ANTLR_501",R.LINT_PARAMETER_CONTENT_INVALID_INTEGER="ANTLR_502",R.LINT_PARAMETER_CONTENT_INVALID_BOOLEAN="ANT LR_503",R.LINT_PAGINATE_INVALID_VALUE="ANTLR_504",R.LINT_DEBUG_DATA_EXPOSED="ANTLR_505",R.LINT_DOUBLE_COLON_IN_TAG_IDENTIFIER="ANTLR_506",R.LINT_MIXED_MODIFIERS="ANTLR_507",R.LINT_MODIFIER_UNEXPECTED_TYPE="ANTLR_508",R.LINT_REMOVE_RELATE_TAG="ANTLR_509",R.LINT_SET_PRODUCES_RUNTIME_ERROR="ANTLR_510",R.LINT_FRONT_MATTER_EMPTY_DOCUMENT="ANTLR_511",R.LINT_SHORTHAND_MODIFIER_TAG_MUST_MATCH="ANTLR_512",R.LINT_INVALID_FRONT_MATTER="ANTLR_513",R.LINT_DUPLICATE_CODE="ANTLR_514",R.LINT_VERSION_NOT_COMPATIBLE="ANTLR_515",R.LINT_INTERLEAVED_TAG_PAIRS="ANTLR_516",R.LINT_MISSING_REQUIRED_PARAMETER="ANTLR_517",R.LINT_POSSIBLE_PARTIAL_RECURSION="ANTLR_518",R.LINT_URL_VARIABLE_WITHOUT_SANITIZE="ANTLR_519",R.LINT_DYNAMIC_CLASS_NAMES_POSSIBLE_PURGE="ANTLER_520",R.LINT_DEPRECATED_MODIFIER="ANTLER_521",R.LINT_INVALID_VARIABLE_ACCESS="ANTLR_522",R.LINT_SELECT_FIELD_JOIN_RAW="ANTLR_523",R.LINT_INVALID_PARAMETER_VALUE_DELIMITER="ANTLR_524",R.LINT_MODIFIERS_ON_QUERY_BUILDERS_REQUIRE_AS="ANTLR_525"});var It,Du=x(()=>{it();Sr();It=class{static distance(e,r){return e.endPosition==null||r.startPosition==null?this.DistMax:r.startPosition.index-e.endPosition.index}static getTrueName(e){var r,n,i,s;return e.originalNode!=null?(n=(r=e.originalNode.name)==null?void 0:r.name)!=null?n:"":(s=(i=e.name)==null?void 0:i.name)!=null?s:""}static getSimpleVarName(e){return e.variableReference!=null&&e.variableReference.pathParts.length==1&&e.variableReference.pathParts[0]instanceof gn?e.variableReference.pathParts[0].name:""}static isVariableMatching(e,r){return e instanceof xe?e.name==r:!1}static mergeVarContentLeft(e,r,n){return n.mergeRefName=n.name,n.endPosition=r.endPosition,n.name=n.name+e,n}static mergeVarContentRight(e,r,n){return n.mergeRefName=n.name,n.startPosition=r.startPosition,n.name=e+n.name,n}static mergeVarRight(e,r){return r.mergeRefName=r.name,r.startPosition=e.startPosition,r.name=e.name+r.name,r}static getUnrefName(e){return ie.trimLeft(e,":.")}};It.DistMax=65e3});var Vn,Tn,bo=x(()=>{Li();Di();it();Du();Vn=class{static isConditionalStructure(e){var n,i;if(e.isComment)return!1;let r=(i=(n=e.name)==null?void 0:n.name)!=null?i:"";return r=="if"||r=="elseif"||r=="else"}static requiresClose(e){var n,i;let r=(i=(n=e.name)==null?void 0:n.name)!=null?i:"";return r=="elseif"||r=="else"?e.isClosedBy==null:!(e.isClosingTag||e.isClosedBy!=null)}static getValidClosingPairs(e){return e=="if"||e=="elseif"?Vn.conditionClosingPairs:[]}static findClosestStructurePair(e,r,n){var d,h,m,y,b,T,S,w;let i=[],s=e.length,o=new Map,l=null;i.push({node:r,index:n});for(let _=0;_<s;_+=1){let C=e[_];if(C instanceof ee){let P=(h=(d=C.name)==null?void 0:d.name)!=null?h:"";if(C.isClosingTag&&P=="if"){o.set(_,_);continue}else if(P=="elseif"||P=="else"){o.set(_,_);continue}}}let u=o.size;for(;i.length>0;){let _=i.pop();if(_==null)continue;if(_.node._conditionParserAbandonPairing)break;let C=_.node,P=Vn.getValidClosingPairs((y=(m=C.name)==null?void 0:m.name)!=null?y:""),Y=_.index,M=!1;if(u>50&&l!=null){for(let[Z,Q]of o)if(Z>Y){Y=Z;break}}for(let Z=Y;Z<s;Z++){let Q=e[Z];if(Q instanceof ee&&Vn.isConditionalStructure(Q)){if(Vn.requiresClose(Q)){i.push(_),i.push({node:Q,index:Z+1}),M=!0;break}if(C.isClosedBy!=null)continue;let G=(T=(b=Q.name)==null?void 0:b.name)!=null?T:"",ce=!1;if(Q.ref==0&&(Q.isClosingTag&&G=="if"||P.includes(G))&&(ce=!0),Q.refId==C.refId&&(ce=!1),ce){l=Z,o.delete(Z),C.isClosedBy=Q,Q.isOpenedBy=C,Q.ref+=1,M=!0;break}}}if(!M&&C instanceof ee){let Z=(w=(S=C.name)==null?void 0:S.name)!=null?w:"";if((Z=="elseif"||Z=="else")&&C.isOpenedBy==null){let Q='Unpaired "'+It.getTrueName(C)+'" control structure.';C.isInterpolationNode&&(Q+=" Tag pairs are not supported within Antlers tags."),C.pushError(J.makeSyntaxError(R.TYPE_PARSE_UNPAIRED_CONDITIONAL,C,Q)),C._conditionParserAbandonPairing=!0}if(C.isClosedBy==null&&Vn.requiresClose(C)){let Q='Unclosed "'+It.getTrueName(C)+'" control structure.';C.isInterpolationNode&&(Q+=" Tag pairs are not supported within Antlers tags."),C.pushError(J.makeSyntaxError(R.TYPE_PARSE_UNCLOSED_CONDITIONAL,C,Q)),C._conditionParserAbandonPairing=!0}}}}static pairConditionals(e){for(let r=0;r<e.length;r+=1){let n=e[r];n instanceof ee&&Vn.isConditionalStructure(n)&&Vn.requiresClose(n)&&Vn.findClosestStructurePair(e,n,r+1)}return e.forEach(r=>{var n,i;if(r instanceof ee&&Vn.isConditionalStructure(r)){let s=(i=(n=r.name)==null?void 0:n.name)!=null?i:"";if((s=="elseif"||s=="else")&&r.isOpenedBy==null){r.pushError(J.makeSyntaxError(R.TYPE_PARSE_UNPAIRED_CONDITIONAL,r,'Unpaired "'+It.getTrueName(r)+'" control structure.'));return}if(r.isClosedBy==null&&Vn.requiresClose(r)){r.pushError(J.makeSyntaxError(R.TYPE_PARSE_UNCLOSED_CONDITIONAL,r,"Unclosed "+It.getTrueName(r)+" control structure."));return}}}),e}},Tn=Vn;Tn.conditionClosingPairs=["elseif","else"]});function Ia(t,e){return e==null&&(e="s"),t.replace(new RegExp("^["+e+"]+"),"")}function Bn(t,e,r){return t.replace(new RegExp(e,"g"),r)}function rh(t,e){return e==null&&(e="s"),t.replace(new RegExp("["+e+"]+$"),"")}var Fi=x(()=>{});function No(){return(Date.now().toString(32)+Math.random().toString(16)).replace(/\./g,"")}var Fu=x(()=>{});function iv(){return Bn(No(),"-","_")}function iD(t){let e=[],r=[];for(let n=0;n<t.length;n++){let i=t[n],s=i.refId;if(r.includes(s))break;e.push(i),r.push(s)}return e}var Mu,nh,pe,ih,Mr,ee,_n,Et,qn,vo,tc,sh,Nr,rc,nc,Io,ic,ah,ii,Un,si,yn,bn,Mi,Ds,Vi,Nn,Vr,ai,oi,vn,li,ci,Bi,tn,jn,is,ui,fi,di,pi,hi,mi,ss,gi,vr,Pa,Yt,xr,sc,Br,Ti,Gn,Ir,Wn,qi,Hn,qr,Ui,lr,cr,Po,et,Co,Ca,oh,as,ac,Xt,Zt,Yn,os,Ao,Kn,lh,Fs,Rt,pr,hr,ur,Vu,oc,er,Kt,xe,ch,gn,Ms,uh,it=x(()=>{Zl();xN();XN();JN();Sr();tv();bo();Fi();Fu();Mu=class{constructor(){this.startPosition=null;this.endPosition=null;this.index=0;this.embeddedIndex=0;this.refId=null;this.parameters=[];this.isSelfClosing=!1;this.isClosingFragment=!1;this.name="";this.containsStructures=!1;this.refId=iv()}},nh=class{constructor(){this.startPosition=null;this.endPosition=null;this.content="";this.name=""}};pe=class{constructor(){this.refId=null;this.index=0;this.parent=null;this.content="";this.rawLexContent="";this.sourceContent="";this.startPosition=null;this.endPosition=null;this.modifierChain=null;this.originalAbstractNode=null;this.positionContexts=[];this.addedContexts=new Map;this.fragment=null;this.fragmentParameter=null;this.fragmentPosition=3;this.containsAnyFragments=!1;this.containsChildStructures=!1;this.isInScriptTag=!1;this.isInStyleTag=!1;this.isVirtual=!0;this.isPartOfMethodChain=!1;this.isVirtualGroupMember=!1;this.isVirtualGroupOperatorResolve=!1;this.isSwitchGroupMember=!1;this.isListGroupMember=!1;this.producesVirtualStatementTerminator=!1;this.convertedToOperator=!1;this.scopeVariable=null;this.currentScope=null;this.manifestType="";this.scopeName=null;this.sourceType="";this.runtimeType=null;this.modifiers=new Jp(this);this.prev=null;this.next=null;this.methodTarget=null;this.libraryTarget=null;this.antlersErrors=[];this.parser=null;this.refId=iv()}isEmbedded(){return this.isInScriptTag||this.isInStyleTag}getContexts(){return this.positionContexts}addContext(e){this.addedContexts.has(e.refId)==!1&&(this.addedContexts.set(e.refId,!0),this.positionContexts.push(e))}getRange(){if(this.originalAbstractNode!=null)return this.originalAbstractNode.getRange();if(this.startPosition==null||this.endPosition==null)return ec.Empty;let e=new ec;return e.start=this.startPosition,e.end=this.endPosition,e}withParser(e){this.parser=e}getParser(){return this.parser}pushError(e){this.parent!=null&&this.parent.pushError(e),this.antlersErrors.push(e),this.parent==null&&this.parser!=null&&this.parser.pushError(e)}mergeErrors(e){e.forEach(r=>{r.node==null&&(r.node=this),this.antlersErrors.push(r)})}getErrors(){return this.antlersErrors}innerContent(){return this.content}rawContent(){return this.content}},ih=class extends pe{constructor(){super(...arguments);this.head=null;this.tail=null;this.nodes=[];this.documentText="";this.childDocument=null}getImmediateChildren(){return this.head==null?[]:this.head.getImmediateChildren()}},Mr=class extends pe{constructor(){super(...arguments);this.logicBranches=[];this.chain=[];this.nodeContent="";this.fragment=null;this.fragmentParameter=null;this.fragmentPosition=3;this.containsAnyFragments=!1;this.containsChildStructures=!1}},ee=class extends pe{constructor(){super(...arguments);this.isNodeAbanonded=!1;this.isComment=!1;this.isTagNode=!1;this.isConditionNode=!1;this.runtimeContent="";this.name=null;this.pathReference=null;this.isClosingTag=!1;this.isInterpolationNode=!1;this.isOpenedBy=null;this.isClosedBy=null;this.isSelfClosing=!1;this.children=[];this.runtimeNodes=[];this.parsedRuntimeNodes=[];this.hasParsedRuntimeNodes=!1;this.parameters=[];this.hasParameters=!1;this.contentOffset=null;this.cachedContent=null;this.cachedInnerContent=null;this.hasRecursiveNode=!1;this.recursiveReference=null;this.rawStart="";this.rawEnd="";this.originalNode=null;this.interpolationRegions=new Map;this.processedInterpolationRegions=new Map;this.hasProcessedInterpolationRegions=!1;this.ref=0;this.contentStartRelativeIndex=null;this.antlersNodeIndex=0;this.nameStartsOn=null;this.nameEndsOn=null;this.nameMethodPartStartsOn=null;this.documentText="";this.nodeContent="";this.childDocument=null;this.structure=new eh(this);this.isInlineAntlers=!1;this.mustClose=!1;this.reference=null;this._conditionParserAbandonPairing=!1;this._isEndVirtual=!1}getOriginalContent(){return this.startPosition==null||this.endPosition==null||this.parser==null?"":this.isClosedBy!=null?this.isClosedBy.startPosition==null||this.isClosedBy.endPosition==null?"":this.parser.getText(this.startPosition.index,this.isClosedBy.endPosition.index+1):this.parser.getText(this.startPosition.index,this.endPosition.index+1)}getNodeDocumentText(){return this.startPosition==null||this.endPosition==null||this.parser==null?"":this.parser.getText(this.startPosition.index,this.endPosition.index+1)}getImmediateChildren(){let e=[];for(let r=0;r<this.children.length;r++){let n=this.children[r];if(n.parent==this){if(n==this.isClosedBy)break;e.push(n)}}return iD(e)}getChildren(){if(this.isClosedBy==null)return[];let e=[];for(let r=0;r<this.children.length;r++){let n=this.children[r];if(n instanceof ee&&n.refId==this.isClosedBy.refId)break;e.push(n)}return e}getInnerDocumentText(){if(this.startPosition==null||this.endPosition==null||this.parser==null)return"";if(this.isClosedBy==null)return this.getNodeDocumentText();let e=this.isClosedBy.startPosition;return e==null?"":this.parser.getText(this.endPosition.index+1,e.index)}nodeAtIndex(e){if(this.runtimeNodes.length==0)return null;for(let r=0;r<this.runtimeNodes.length;r++)if(this.runtimeNodes[r].index==e)return this.runtimeNodes[r];return null}getDepthCount(){if(this.parent==null)return 1;let e=this.parent,r=1;for(;e!=null;){if(r+=1,e.parent===e){e=null;break}e=e.parent}return r}isEmpty(){return this.content.trim().length==0}nameMatches(e){return this.name==null?!1:this.name.content==e}copyBasicDetails(){return this.copyBasicDetailsTo(new ee)}copyBasicDetailsTo(e){return e.refId=this.refId,e.isComment=this.isComment,e.isTagNode=this.isTagNode,e.children=this.children,e.parent=this.parent,e.parameters=this.parameters,e.isClosingTag=this.isClosingTag,e.rawStart=this.rawStart,e.rawEnd=this.rawEnd,e.startPosition=this.startPosition,e.endPosition=this.endPosition,e.originalAbstractNode=this,e.containsAnyFragments=this.containsAnyFragments,e.containsChildStructures=this.containsChildStructures,e.isInScriptTag=this.isInScriptTag,e.isInStyleTag=this.isInStyleTag,e}id(){return this.refId}innerContent(){return this.cachedInnerContent==null&&(this.cachedInnerContent=this.content.replace('"','\\"')),this.cachedInnerContent}resetContentCache(){this.cachedContent=null,this.cachedInnerContent=null}hasMethodPart(){return this.name==null?!1:this.name.getMethodName()!=null}runtimeName(){return this.name==null?"":this.name.getCompoundTagName()}getTagName(){return this.name==null?"":this.name.name}getNameContent(){return this.name==null?"":this.name.content}getMethodNameValue(){if(this.name==null)return"";let e=this.name.getMethodName();return e!=null?e:""}methodIsEmptyOrMatches(e){return this.getMethodNameValue()==e}hasParameter(e){return this.findParameter(e)!=null}hasParameterWithValue(e,r){let n=this.findParameter(e);return n==null?!1:n.value==r}findParameterValue(e,r){let n=this.findParameter(e);return n==null?r:n.value}findParameterValueOrNull(e){let r=this.findParameter(e);return r==null?null:r.value}findParameter(e){if(this.parameters.length==0)return null;for(let r=0;r<this.parameters.length;r++)if(this.parameters[r].name==e)return this.parameters[r];return null}findAnyParameter(e){for(let r=0;r<e.length;r++){let n=this.findParameter(e[r]);if(n!=null)return n}return null}getContentRelativeStartIndex(){if(this.contentStartRelativeIndex==null){let e=this.content.split("");for(let r=0;r<e.length;r++)if(!ie.ctypeSpace(e[r])){this.contentStartRelativeIndex=r;break}this.contentStartRelativeIndex==null&&(this.contentStartRelativeIndex=e.length),this.contentStartRelativeIndex+=this.rawStart.length}return this.contentStartRelativeIndex}getContentAfterName(){let e=0;return this.nameEndsOn!=null&&(e=this.nameEndsOn.char-this.rawStart.length-1),this.content.substring(e)}getContent(){if(this.cachedContent==null)if(this.isComment)this.cachedContent=this.content,this.contentOffset=this.startPosition;else if(this.isTagNode){let e=this.content;e=ie.trimLeft(e);let r=0;if(this.name!=null&&(r=this.name.compound.length),this.parameters.length>0){let o=0,l=this.parameters[0];l.startPosition!=null&&(o=l.startPosition.index-1);let u=e,d=u.trimLeft(),h=u.length-d.length,m=r;e=e.substr(0,o)}let n=e.trimLeft(),i=e.length-n.length,s=r+i+2;if(this.parser!=null){let o=0;this.startPosition!=null&&(o=this.startPosition.offset),this.contentOffset==this.parser.positionFromOffset(o+s,0)}this.name!=null?this.name.name=="if"||this.name.name=="elseif"||this.name.name=="unless"||this.name.name=="elseunless"?(e=" "+e.trimLeft(),this.cachedContent=e.substr(this.name.compound.length+1)):this.cachedContent=e:this.cachedContent=e}else if(this.parameters.length>0){let e=this.parameters[0],r=0;e.startPosition!=null&&(r=e.startPosition.index-1),this.contentOffset=this.startPosition,this.cachedContent=this.content.substr(0,r)}else this.contentOffset=this.startPosition,this.cachedContent=this.content;return this.cachedContent}relativePositionFromOffset(e,r){var n,i;return this.parser==null?null:this.parser.positionFromOffset(((i=(n=this.contentOffset)==null?void 0:n.offset)!=null?i:0)+e,r)}getInterpolationNode(e){if(this.processedInterpolationRegions.has(e)){let r=this.processedInterpolationRegions.get(e);if(r.length>0&&r[0]instanceof ee)return r[0]}return null}_lexerRelativeOffset(e,r=null){var o,l;let n=e;if(r!=null&&(n=r),this.parser==null){let u=new en;return u.index=e,u.offset=e,u}let i=e+this.rawStart.length+((l=(o=this.startPosition)==null?void 0:o.index)!=null?l:0);return this.isTagNode&&this.nameStartsOn!=null&&(i=this.nameStartsOn.index+e,Tn.isConditionalStructure(this)||(i-=this.rawStart.length)),this.parser.positionFromOffset(i,i,!0)}relativeOffset(e,r=null){var o,l;let n=e;if(r!=null&&(n=r),this.parser==null){let u=new en;return u.index=e,u.offset=e,u}let i=e+this.rawStart.length+((l=(o=this.startPosition)==null?void 0:o.index)!=null?l:0);return this.parser.positionFromOffset(i,i,!0)}isPaired(){return this.isClosingTag&&this.isSelfClosing==!1&&this.isOpenedBy!=null?!0:!(this.isClosedBy==null||this.isSelfClosing)}getFinalClosingTag(){return this.isClosedBy==null?this:this.isClosedBy.getFinalClosingTag()}rawContent(){return this.rawStart+this.content+this.rawEnd}getTrueRuntimeNodes(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueRuntimeNodes():this.runtimeNodes}getTrueRawContent(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueRawContent():this.rawContent()}getTrueNode(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueNode():this}getStructuralChildren(){return this.isClosedBy!=null?Zp(this.children.slice(0,-1)):Zp(this.children)}findParentOfType(e){return this.parent==null?null:this.parent instanceof ee?this.parent.name!=null&&e.includes(this.parent.getTagName())?this.parent:this.parent.findParentOfType(e):null}},_n=class extends ee{static makeWithStartPosition(e){let r=new _n;return r.startPosition=e,r.endPosition=e,r}},Et=class extends _n{},qn=class extends ee{constructor(){super(...arguments);this.recursiveParent=null;this.isNestedRecursive=!1}},vo=class extends ee{constructor(){super(...arguments);this.isEchoNode=!1}},tc=class extends _n{},sh=class extends _n{},Nr=class extends ee{constructor(){super(...arguments);this.isNoParseRegion=!1}},rc=class extends pe{constructor(){super(...arguments);this.modifier=null;this.isModifierParameter=!1;this.nameDelimiter='"';this.isVariableReference=!1;this.name="";this.value="";this.interpolations=[];this.parent=null;this.blockPosition=null;this.namePosition=null;this.valuePosition=null;this.hasValidValueDelimiter=!0}containsSimpleValue(){return this.hasInterpolations()==!1&&this.isVariableReference==!1}hasInterpolations(){return this.interpolations.length>0}getArrayValue(){return this.value.split("|")}getValue(){return this.value}},nc=class{constructor(){this.modifierTarget=null;this.modifierChain=[];this.startPosition=null;this.endPosition=null;this.lastManifestedModifier=null;this.lastModifier=null}updateValues(){if(this.modifierChain.length==0)this.startPosition=null,this.endPosition=null;else{let e=this.modifierChain[0],r=this.modifierChain[this.modifierChain.length-1];this.startPosition=e.startPosition,this.endPosition=r.endPosition}}},Io=class extends pe{constructor(){super(...arguments);this.modifier=null;this.methodStyleArguments=null;this.nameNode=null;this.name="";this.valueNodes=[];this.parameters=[]}getParameterValues(){let e=[];return this.parameters.forEach(r=>{e.push(r.value)}),e}},ic=class extends pe{constructor(){super(...arguments);this.order=0;this.name=null;this.directionNode=null}},ah=class extends pe{constructor(){super(...arguments);this.value=""}},ii=class extends pe{},Un=class extends pe{},si=class extends pe{},yn=class extends pe{},bn=class extends pe{},Mi=class extends pe{},Ds=class extends pe{constructor(){super(...arguments);this.repeat=1}},Vi=class extends pe{},Nn=class extends pe{},Vr=class extends pe{},ai=class extends pe{},oi=class extends pe{},vn=class extends pe{},li=class extends pe{},ci=class extends pe{},Bi=class extends pe{},tn=class extends pe{},jn=class extends pe{},is=class extends pe{},ui=class extends pe{},fi=class extends pe{},di=class extends pe{},pi=class extends pe{},hi=class extends pe{},mi=class extends pe{},ss=class extends pe{},gi=class extends pe{},vr=class extends pe{},Pa=class extends pe{constructor(){super(...arguments);this.orderClauses=[]}},Yt=class extends pe{},xr=class extends pe{},sc=class extends pe{constructor(){super(...arguments);this.left=null;this.right=null}},Br=class extends pe{constructor(){super(...arguments);this.isTenaryBranchSeparator=!1}},Ti=class extends pe{},Gn=class extends pe{},Ir=class extends pe{},Wn=class extends pe{},qi=class extends pe{},Hn=class extends pe{},qr=class extends pe{},Ui=class extends pe{},lr=class extends pe{},cr=class extends pe{},Po=class extends pe{constructor(){super(...arguments);this.values=[];this.isNamedNode=!1;this.parsedName=null}},et=class extends pe{constructor(){super(...arguments);this.start=null;this.end=null;this.nodes=[];this.scopeOperator=null}},Co=class extends pe{constructor(){super(...arguments);this.condition=null;this.expression=null}},Ca=class extends pe{constructor(){super(...arguments);this.cases=[]}},oh=class extends pe{constructor(){super(...arguments);this.left=null;this.right=null}},as=class extends pe{constructor(){super(...arguments);this.nodes=[]}},ac=class extends pe{constructor(){super(...arguments);this.head=null;this.truthBranch=null;this.falseBranch=null}},Xt=class extends pe{},Zt=class extends pe{constructor(){super(...arguments);this.nodes=[];this.separatorToken=null}},Yn=class extends et{constructor(){super(...arguments);this.scope=null}extract(){let e=null;this.scope!=null&&(e=this.scope.name);let r=this.nodes[0];return[e,r.nodes]}},os=class extends Yn{constructor(){super(...arguments);this.alias=null}},Ao=class extends pe{constructor(){super(...arguments);this.args=[];this.hasNamedArguments=!1;this.numberOfNamedArguments=0}},Kn=class extends pe{},lh=class extends pe{},Fs=class extends pe{constructor(){super(...arguments);this.libraryName="";this.methodName="";this.arguments=null}},Rt=class extends pe{constructor(){super(...arguments);this.sourceContent=""}},pr=class extends pe{constructor(){super(...arguments);this.method=null;this.args=null}},hr=class extends pe{constructor(){super(...arguments);this.name=""}},ur=class extends pe{constructor(){super(...arguments);this.value="";this.name=""}},Vu=class extends pe{constructor(){super(...arguments);this.name=null;this.value=null}},oc=class extends pe{constructor(){super(...arguments);this.name=null;this.value=null}},er=class extends pe{constructor(){super(...arguments);this.value=null}},Kt=class extends pe{constructor(){super(...arguments);this.value="";this.sourceTerminator="";this.sourceContent=""}},xe=class extends pe{constructor(){super(...arguments);this.name="";this.mergeRefName="";this.variableReference=null;this.interpolationNodes=[];this.isInterpolationReference=!1}},ch=class extends pe{constructor(){super(...arguments);this.name=""}},gn=class extends pe{constructor(){super(...arguments);this.delimiter="";this.name="";this.isStringVar=!1;this.isFinal=!1}},Ms=class{constructor(){this.originalContent="";this.normalizedReference="";this.isStrictTagReference=!1;this.isStrictVariableReference=!1;this.isExplicitVariableReference=!1;this.isVariableVariable=!1;this.pathParts=[];this.isFinal=!1;this._isFromEmptyFailState=!1}clone(){let e=new Ms;return e.originalContent=this.originalContent,e.normalizedReference=this.normalizedReference,e.isStrictVariableReference=this.isStrictVariableReference,e.isExplicitVariableReference=this.isExplicitVariableReference,e.pathParts=this.pathParts,e.isFinal=this.isFinal,e}implodePaths(){let e=[];return this.pathParts.forEach(r=>{r instanceof gn?e.push(r.name):r instanceof Ms&&e.push(r.implodePaths())}),e.join(".")}},uh=class{constructor(e,r,n){this.target=e,this.value=r,this.operator=n}}});var Bu=ye(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.thenable=tr.typedArray=tr.stringArray=tr.array=tr.func=tr.error=tr.number=tr.string=tr.boolean=void 0;function sD(t){return t===!0||t===!1}tr.boolean=sD;function sv(t){return typeof t=="string"||t instanceof String}tr.string=sv;function aD(t){return typeof t=="number"||t instanceof Number}tr.number=aD;function oD(t){return t instanceof Error}tr.error=oD;function av(t){return typeof t=="function"}tr.func=av;function ov(t){return Array.isArray(t)}tr.array=ov;function lD(t){return ov(t)&&t.every(e=>sv(e))}tr.stringArray=lD;function cD(t,e){return Array.isArray(t)&&t.every(e)}tr.typedArray=cD;function uD(t){return t&&av(t.then)}tr.thenable=uD});var ls=ye(ph=>{"use strict";Object.defineProperty(ph,"__esModule",{value:!0});var fh;function dh(){if(fh===void 0)throw new Error("No runtime abstraction layer installed");return fh}(function(t){function e(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");fh=r}t.install=e})(dh||(dh={}));ph.default=dh});var hh=ye(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});lc.Disposable=void 0;var fD;(function(t){function e(r){return{dispose:r}}t.create=e})(fD=lc.Disposable||(lc.Disposable={}))});var cv=ye(qu=>{"use strict";Object.defineProperty(qu,"__esModule",{value:!0});qu.AbstractMessageBuffer=void 0;var dD=13,pD=10,hD=`\r
`,lv=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let r=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let e=0,r=0,n=0,i=0;e:for(;r<this._chunks.length;){let u=this._chunks[r];n=0;t:for(;n<u.length;){switch(u[n]){case dD:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case pD:switch(e){case 1:e=2;break;case 3:e=4,n++;break e;default:e=0}break;default:e=0}n++}i+=u.byteLength,r++}if(e!==4)return;let s=this._read(i+n),o=new Map,l=this.toString(s,"ascii").split(hD);if(l.length<2)return o;for(let u=0;u<l.length-2;u++){let d=l[u],h=d.indexOf(":");if(h===-1)throw new Error("Message header must separate key and value using :");let m=d.substr(0,h),y=d.substr(h+1).trim();o.set(m,y)}return o}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],o=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,o}let r=this.allocNative(e),n=0,i=0;for(;e>0;){let s=this._chunks[i];if(s.byteLength>e){let o=s.slice(0,e);r.set(o,n),n+=e,this._chunks[i]=s.slice(e),this._totalLength-=e,e-=e}else r.set(s,n),n+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return r}};qu.AbstractMessageBuffer=lv});var hv=ye(gh=>{"use strict";Object.defineProperty(gh,"__esModule",{value:!0});var mD=ls(),uv=require("util"),Aa=hh(),gD=cv(),cc=class extends gD.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return cc.emptyBuffer}fromString(e,r){return Buffer.from(e,r)}toString(e,r){return e instanceof Buffer?e.toString(r):new uv.TextDecoder(r).decode(e)}asNative(e,r){return r===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,r):Buffer.from(e,0,r)}allocNative(e){return Buffer.allocUnsafe(e)}};cc.emptyBuffer=Buffer.allocUnsafe(0);var fv=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Aa.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Aa.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Aa.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),Aa.Disposable.create(()=>this.stream.off("data",e))}},dv=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Aa.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Aa.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Aa.Disposable.create(()=>this.stream.off("end",e))}write(e,r){return new Promise((n,i)=>{let s=o=>{o==null?n():i(o)};typeof e=="string"?this.stream.write(e,r,s):this.stream.write(e,s)})}end(){this.stream.end()}},pv=Object.freeze({messageBuffer:Object.freeze({create:t=>new cc(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(r){return Promise.reject(r)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new uv.TextDecoder(e.charset).decode(t)))}catch(r){return Promise.reject(r)}}})}),stream:Object.freeze({asReadableStream:t=>new fv(t),asWritableStream:t=>new dv(t)}),console,timer:Object.freeze({setTimeout(t,e,...r){return setTimeout(t,e,...r)},clearTimeout(t){clearTimeout(t)},setImmediate(t,...e){return setImmediate(t,...e)},clearImmediate(t){clearImmediate(t)}})});function mh(){return pv}(function(t){function e(){mD.default.install(pv)}t.install=e})(mh||(mh={}));gh.default=mh});var So=ye(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});Er.stringArray=Er.array=Er.func=Er.error=Er.number=Er.string=Er.boolean=void 0;function TD(t){return t===!0||t===!1}Er.boolean=TD;function mv(t){return typeof t=="string"||t instanceof String}Er.string=mv;function _D(t){return typeof t=="number"||t instanceof Number}Er.number=_D;function yD(t){return t instanceof Error}Er.error=yD;function bD(t){return typeof t=="function"}Er.func=bD;function gv(t){return Array.isArray(t)}Er.array=gv;function ND(t){return gv(t)&&t.every(e=>mv(e))}Er.stringArray=ND});var Th=ye(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.isResponseMessage=ve.isNotificationMessage=ve.isRequestMessage=ve.NotificationType9=ve.NotificationType8=ve.NotificationType7=ve.NotificationType6=ve.NotificationType5=ve.NotificationType4=ve.NotificationType3=ve.NotificationType2=ve.NotificationType1=ve.NotificationType0=ve.NotificationType=ve.RequestType9=ve.RequestType8=ve.RequestType7=ve.RequestType6=ve.RequestType5=ve.RequestType4=ve.RequestType3=ve.RequestType2=ve.RequestType1=ve.RequestType=ve.RequestType0=ve.AbstractMessageSignature=ve.ParameterStructures=ve.ResponseError=ve.ErrorCodes=void 0;var Sa=So(),Tv;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=t.jsonrpcReservedErrorRangeStart,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=t.jsonrpcReservedErrorRangeEnd})(Tv=ve.ErrorCodes||(ve.ErrorCodes={}));var Uu=class extends Error{constructor(e,r,n){super(r);this.code=Sa.number(e)?e:Tv.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,Uu.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};ve.ResponseError=Uu;var Pr=class{constructor(e){this.kind=e}static is(e){return e===Pr.auto||e===Pr.byName||e===Pr.byPosition}toString(){return this.kind}};ve.ParameterStructures=Pr;Pr.auto=new Pr("auto");Pr.byPosition=new Pr("byPosition");Pr.byName=new Pr("byName");var Dt=class{constructor(e,r){this.method=e,this.numberOfParams=r}get parameterStructures(){return Pr.auto}};ve.AbstractMessageSignature=Dt;var _v=class extends Dt{constructor(e){super(e,0)}};ve.RequestType0=_v;var yv=class extends Dt{constructor(e,r=Pr.auto){super(e,1);this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};ve.RequestType=yv;var bv=class extends Dt{constructor(e,r=Pr.auto){super(e,1);this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};ve.RequestType1=bv;var Nv=class extends Dt{constructor(e){super(e,2)}};ve.RequestType2=Nv;var vv=class extends Dt{constructor(e){super(e,3)}};ve.RequestType3=vv;var Iv=class extends Dt{constructor(e){super(e,4)}};ve.RequestType4=Iv;var Pv=class extends Dt{constructor(e){super(e,5)}};ve.RequestType5=Pv;var Cv=class extends Dt{constructor(e){super(e,6)}};ve.RequestType6=Cv;var Av=class extends Dt{constructor(e){super(e,7)}};ve.RequestType7=Av;var Sv=class extends Dt{constructor(e){super(e,8)}};ve.RequestType8=Sv;var xv=class extends Dt{constructor(e){super(e,9)}};ve.RequestType9=xv;var Ev=class extends Dt{constructor(e,r=Pr.auto){super(e,1);this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};ve.NotificationType=Ev;var Rv=class extends Dt{constructor(e){super(e,0)}};ve.NotificationType0=Rv;var kv=class extends Dt{constructor(e,r=Pr.auto){super(e,1);this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};ve.NotificationType1=kv;var Ov=class extends Dt{constructor(e){super(e,2)}};ve.NotificationType2=Ov;var wv=class extends Dt{constructor(e){super(e,3)}};ve.NotificationType3=wv;var Lv=class extends Dt{constructor(e){super(e,4)}};ve.NotificationType4=Lv;var Dv=class extends Dt{constructor(e){super(e,5)}};ve.NotificationType5=Dv;var Fv=class extends Dt{constructor(e){super(e,6)}};ve.NotificationType6=Fv;var Mv=class extends Dt{constructor(e){super(e,7)}};ve.NotificationType7=Mv;var Vv=class extends Dt{constructor(e){super(e,8)}};ve.NotificationType8=Vv;var Bv=class extends Dt{constructor(e){super(e,9)}};ve.NotificationType9=Bv;function vD(t){let e=t;return e&&Sa.string(e.method)&&(Sa.string(e.id)||Sa.number(e.id))}ve.isRequestMessage=vD;function ID(t){let e=t;return e&&Sa.string(e.method)&&t.id===void 0}ve.isNotificationMessage=ID;function PD(t){let e=t;return e&&(e.result!==void 0||!!e.error)&&(Sa.string(e.id)||Sa.number(e.id)||e.id===null)}ve.isResponseMessage=PD});var xo=ye(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.Emitter=xa.Event=void 0;var CD=ls(),AD;(function(t){let e={dispose(){}};t.None=function(){return e}})(AD=xa.Event||(xa.Event={}));var qv=class{add(e,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,r)})}remove(e,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===e)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,o=n.length;s<o;s++)try{r.push(n[s].apply(i[s],e))}catch(l){CD.default().console.error(l)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},uc=class{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,r,n)=>{this._callbacks||(this._callbacks=new qv),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,r);let i={dispose:()=>{!this._callbacks||(this._callbacks.remove(e,r),i.dispose=uc._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};xa.Emitter=uc;uc._noop=function(){}});var Nh=ye(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.CancellationTokenSource=Ea.CancellationToken=void 0;var Uv=ls(),SD=So(),_h=xo(),yh;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:_h.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:_h.Event.None});function e(r){let n=r;return n&&(n===t.None||n===t.Cancelled||SD.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}t.is=e})(yh=Ea.CancellationToken||(Ea.CancellationToken={}));var xD=Object.freeze(function(t,e){let r=Uv.default().timer.setTimeout(t.bind(e),0);return{dispose(){Uv.default().timer.clearTimeout(r)}}}),bh=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?xD:(this._emitter||(this._emitter=new _h.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},jv=class{get token(){return this._token||(this._token=new bh),this._token}cancel(){this._token?this._token.cancel():this._token=yh.Cancelled}dispose(){this._token?this._token instanceof bh&&this._token.dispose():this._token=yh.None}};Ea.CancellationTokenSource=jv});var Wv=ye(cs=>{"use strict";Object.defineProperty(cs,"__esModule",{value:!0});cs.ReadableStreamMessageReader=cs.AbstractMessageReader=cs.MessageReader=void 0;var ju=ls(),Eo=So(),vh=xo(),ED;(function(t){function e(r){let n=r;return n&&Eo.func(n.listen)&&Eo.func(n.dispose)&&Eo.func(n.onError)&&Eo.func(n.onClose)&&Eo.func(n.onPartialMessage)}t.is=e})(ED=cs.MessageReader||(cs.MessageReader={}));var Ih=class{constructor(){this.errorEmitter=new vh.Emitter,this.closeEmitter=new vh.Emitter,this.partialMessageEmitter=new vh.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${Eo.string(e.message)?e.message:"unknown"}`)}};cs.AbstractMessageReader=Ih;var Ph;(function(t){function e(r){var n;let i,s,o,l=new Map,u,d=new Map;if(r===void 0||typeof r=="string")i=r??"utf-8";else{if(i=(n=r.charset)!==null&&n!==void 0?n:"utf-8",r.contentDecoder!==void 0&&(o=r.contentDecoder,l.set(o.name,o)),r.contentDecoders!==void 0)for(let h of r.contentDecoders)l.set(h.name,h);if(r.contentTypeDecoder!==void 0&&(u=r.contentTypeDecoder,d.set(u.name,u)),r.contentTypeDecoders!==void 0)for(let h of r.contentTypeDecoders)d.set(h.name,h)}return u===void 0&&(u=ju.default().applicationJson.decoder,d.set(u.name,u)),{charset:i,contentDecoder:o,contentDecoders:l,contentTypeDecoder:u,contentTypeDecoders:d}}t.fromOptions=e})(Ph||(Ph={}));var Gv=class extends Ih{constructor(e,r){super();this.readable=e,this.options=Ph.fromOptions(r),this.buffer=ju.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let s=i.get("Content-Length");if(!s)throw new Error("Header must provide a Content-Length property.");let o=parseInt(s);if(isNaN(o))throw new Error("Content-Length value must be a number.");this.nextMessageLength=o}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let n;this.options.contentDecoder!==void 0?n=this.options.contentDecoder.decode(r):n=Promise.resolve(r),n.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(s=>{this.callback(s)},s=>{this.fireError(s)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(ju.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=ju.default().timer.setTimeout((e,r)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};cs.ReadableStreamMessageReader=Gv});var Yv=ye(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.Semaphore=void 0;var RD=ls(),Hv=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((r,n)=>{this._waiting.push({thunk:e,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||RD.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=e.thunk();r instanceof Promise?r.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(r),this.runNext())}catch(r){this._active--,e.reject(r),this.runNext()}}};Gu.Semaphore=Hv});var Xv=ye(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});us.WriteableStreamMessageWriter=us.AbstractMessageWriter=us.MessageWriter=void 0;var Kv=ls(),fc=So(),kD=Yv(),$v=xo(),OD="Content-Length: ",zv=`\r
`,wD;(function(t){function e(r){let n=r;return n&&fc.func(n.dispose)&&fc.func(n.onClose)&&fc.func(n.onError)&&fc.func(n.write)}t.is=e})(wD=us.MessageWriter||(us.MessageWriter={}));var Ch=class{constructor(){this.errorEmitter=new $v.Emitter,this.closeEmitter=new $v.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,r,n){this.errorEmitter.fire([this.asError(e),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${fc.string(e.message)?e.message:"unknown"}`)}};us.AbstractMessageWriter=Ch;var Ah;(function(t){function e(r){var n,i;return r===void 0||typeof r=="string"?{charset:r??"utf-8",contentTypeEncoder:Kv.default().applicationJson.encoder}:{charset:(n=r.charset)!==null&&n!==void 0?n:"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:(i=r.contentTypeEncoder)!==null&&i!==void 0?i:Kv.default().applicationJson.encoder}}t.fromOptions=e})(Ah||(Ah={}));var Qv=class extends Ch{constructor(e,r){super();this.writable=e,this.options=Ah.fromOptions(r),this.errorCount=0,this.writeSemaphore=new kD.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(OD,n.byteLength.toString(),zv),i.push(zv),this.doWrite(e,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){this.writable.end()}};us.WriteableStreamMessageWriter=Qv});var Zv=ye(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});fs.LRUCache=fs.LinkedMap=fs.Touch=void 0;var Ur;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(Ur=fs.Touch||(fs.Touch={}));var Sh=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,r=Ur.None){let n=this._map.get(e);if(!!n)return r!==Ur.None&&this.touch(n,r),n.value}set(e,r,n=Ur.None){let i=this._map.get(e);if(i)i.value=r,n!==Ur.None&&this.touch(i,n);else{switch(i={key:e,value:r,next:void 0,previous:void 0},n){case Ur.None:this.addItemLast(i);break;case Ur.First:this.addItemFirst(i);break;case Ur.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let r=this._map.get(e);if(!!r)return this._map.delete(e),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,r){let n=this._state,i=this._head;for(;i;){if(r?e.bind(r)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.key,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}values(){let e=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.value,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}entries(){let e=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:[n.key,n.value],done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>e;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let r=e.next,n=e.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}e.next=void 0,e.previous=void 0,this._state++}touch(e,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==Ur.First&&r!==Ur.Last)){if(r===Ur.First){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(r===Ur.Last){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((r,n)=>{e.push([n,r])}),e}fromJSON(e){this.clear();for(let[r,n]of e)this.set(r,n)}};fs.LinkedMap=Sh;var Jv=class extends Sh{constructor(e,r=1){super();this._limit=e,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,r=Ur.AsNew){return super.get(e,r)}peek(e){return super.get(e,Ur.None)}set(e,r){return super.set(e,r,Ur.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};fs.LRUCache=Jv});var sI=ye(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.createMessageConnection=Ve.ConnectionOptions=Ve.CancellationStrategy=Ve.CancellationSenderStrategy=Ve.CancellationReceiverStrategy=Ve.ConnectionStrategy=Ve.ConnectionError=Ve.ConnectionErrors=Ve.LogTraceNotification=Ve.SetTraceNotification=Ve.TraceFormat=Ve.Trace=Ve.NullLogger=Ve.ProgressType=void 0;var eI=ls(),mr=So(),De=Th(),tI=Zv(),dc=xo(),xh=Nh(),pc;(function(t){t.type=new De.NotificationType("$/cancelRequest")})(pc||(pc={}));var Wu;(function(t){t.type=new De.NotificationType("$/progress")})(Wu||(Wu={}));var rI=class{constructor(){}};Ve.ProgressType=rI;var Eh;(function(t){function e(r){return mr.func(r)}t.is=e})(Eh||(Eh={}));Ve.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var rr;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Verbose=2]="Verbose"})(rr=Ve.Trace||(Ve.Trace={}));(function(t){function e(n){if(!mr.string(n))return t.Off;switch(n=n.toLowerCase(),n){case"off":return t.Off;case"messages":return t.Messages;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function r(n){switch(n){case t.Off:return"off";case t.Messages:return"messages";case t.Verbose:return"verbose";default:return"off"}}t.toString=r})(rr=Ve.Trace||(Ve.Trace={}));var _i;(function(t){t.Text="text",t.JSON="json"})(_i=Ve.TraceFormat||(Ve.TraceFormat={}));(function(t){function e(r){return r=r.toLowerCase(),r==="json"?t.JSON:t.Text}t.fromString=e})(_i=Ve.TraceFormat||(Ve.TraceFormat={}));var nI;(function(t){t.type=new De.NotificationType("$/setTrace")})(nI=Ve.SetTraceNotification||(Ve.SetTraceNotification={}));var Rh;(function(t){t.type=new De.NotificationType("$/logTrace")})(Rh=Ve.LogTraceNotification||(Ve.LogTraceNotification={}));var Hu;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(Hu=Ve.ConnectionErrors||(Ve.ConnectionErrors={}));var Ra=class extends Error{constructor(e,r){super(r);this.code=e,Object.setPrototypeOf(this,Ra.prototype)}};Ve.ConnectionError=Ra;var iI;(function(t){function e(r){let n=r;return n&&mr.func(n.cancelUndispatched)}t.is=e})(iI=Ve.ConnectionStrategy||(Ve.ConnectionStrategy={}));var kh;(function(t){t.Message=Object.freeze({createCancellationTokenSource(r){return new xh.CancellationTokenSource}});function e(r){let n=r;return n&&mr.func(n.createCancellationTokenSource)}t.is=e})(kh=Ve.CancellationReceiverStrategy||(Ve.CancellationReceiverStrategy={}));var Oh;(function(t){t.Message=Object.freeze({sendCancellation(r,n){r.sendNotification(pc.type,{id:n})},cleanup(r){}});function e(r){let n=r;return n&&mr.func(n.sendCancellation)&&mr.func(n.cleanup)}t.is=e})(Oh=Ve.CancellationSenderStrategy||(Ve.CancellationSenderStrategy={}));var wh;(function(t){t.Message=Object.freeze({receiver:kh.Message,sender:Oh.Message});function e(r){let n=r;return n&&kh.is(n.receiver)&&Oh.is(n.sender)}t.is=e})(wh=Ve.CancellationStrategy||(Ve.CancellationStrategy={}));var LD;(function(t){function e(r){let n=r;return n&&(wh.is(n.cancellationStrategy)||iI.is(n.connectionStrategy))}t.is=e})(LD=Ve.ConnectionOptions||(Ve.ConnectionOptions={}));var yi;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(yi||(yi={}));function DD(t,e,r,n){let i=r!==void 0?r:Ve.NullLogger,s=0,o=0,l=0,u="2.0",d,h=Object.create(null),m,y=Object.create(null),b=new Map,T,S=new tI.LinkedMap,w=Object.create(null),_=Object.create(null),C=rr.Off,P=_i.Text,Y,M=yi.New,Z=new dc.Emitter,Q=new dc.Emitter,G=new dc.Emitter,ce=new dc.Emitter,Oe=new dc.Emitter,te=n&&n.cancellationStrategy?n.cancellationStrategy:wh.Message;function oe(j){if(j===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+j.toString()}function Ce(j){return j===null?"res-unknown-"+(++l).toString():"res-"+j.toString()}function fe(){return"not-"+(++o).toString()}function re(j,F){De.isRequestMessage(F)?j.set(oe(F.id),F):De.isResponseMessage(F)?j.set(Ce(F.id),F):j.set(fe(),F)}function Qe(j){}function Tt(){return M===yi.Listening}function Lr(){return M===yi.Closed}function ot(){return M===yi.Disposed}function St(){(M===yi.New||M===yi.Listening)&&(M=yi.Closed,Q.fire(void 0))}function Qr(j){Z.fire([j,void 0,void 0])}function cn(j){Z.fire(j)}t.onClose(St),t.onError(Qr),e.onClose(St),e.onError(cn);function zi(){T||S.size===0||(T=eI.default().timer.setImmediate(()=>{T=void 0,ro()}))}function ro(){if(S.size===0)return;let j=S.shift();try{De.isRequestMessage(j)?On(j):De.isNotificationMessage(j)?Gt(j):De.isResponseMessage(j)?ca(j):ua(j)}finally{zi()}}let Xr=j=>{try{if(De.isNotificationMessage(j)&&j.method===pc.type.method){let F=oe(j.params.id),I=S.get(F);if(De.isRequestMessage(I)){let q=n==null?void 0:n.connectionStrategy,W=q&&q.cancelUndispatched?q.cancelUndispatched(I,Qe):void 0;if(W&&(W.error!==void 0||W.result!==void 0)){S.delete(F),W.id=I.id,vs(W,j.method,Date.now()),e.write(W);return}}}re(S,j)}finally{zi()}};function On(j){if(ot())return;function F(z,me,Pe){let Ae={jsonrpc:u,id:j.id};z instanceof De.ResponseError?Ae.error=z.toJson():Ae.result=z===void 0?null:z,vs(Ae,me,Pe),e.write(Ae)}function I(z,me,Pe){let Ae={jsonrpc:u,id:j.id,error:z.toJson()};vs(Ae,me,Pe),e.write(Ae)}function q(z,me,Pe){z===void 0&&(z=null);let Ae={jsonrpc:u,id:j.id,result:z};vs(Ae,me,Pe),e.write(Ae)}Qi(j);let W=h[j.method],O,v;W&&(O=W.type,v=W.handler);let U=Date.now();if(v||d){let z=String(j.id),me=te.receiver.createCancellationTokenSource(z);_[z]=me;try{let Pe;if(v)if(j.params===void 0){if(O!==void 0&&O.numberOfParams!==0){I(new De.ResponseError(De.ErrorCodes.InvalidParams,`Request ${j.method} defines ${O.numberOfParams} params but recevied none.`),j.method,U);return}Pe=v(me.token)}else if(Array.isArray(j.params)){if(O!==void 0&&O.parameterStructures===De.ParameterStructures.byName){I(new De.ResponseError(De.ErrorCodes.InvalidParams,`Request ${j.method} defines parameters by name but received parameters by position`),j.method,U);return}Pe=v(...j.params,me.token)}else{if(O!==void 0&&O.parameterStructures===De.ParameterStructures.byPosition){I(new De.ResponseError(De.ErrorCodes.InvalidParams,`Request ${j.method} defines parameters by position but received parameters by name`),j.method,U);return}Pe=v(j.params,me.token)}else d&&(Pe=d(j.method,j.params,me.token));let Ae=Pe;Pe?Ae.then?Ae.then(_t=>{delete _[z],F(_t,j.method,U)},_t=>{delete _[z],_t instanceof De.ResponseError?I(_t,j.method,U):_t&&mr.string(_t.message)?I(new De.ResponseError(De.ErrorCodes.InternalError,`Request ${j.method} failed with message: ${_t.message}`),j.method,U):I(new De.ResponseError(De.ErrorCodes.InternalError,`Request ${j.method} failed unexpectedly without providing any details.`),j.method,U)}):(delete _[z],F(Pe,j.method,U)):(delete _[z],q(Pe,j.method,U))}catch(Pe){delete _[z],Pe instanceof De.ResponseError?F(Pe,j.method,U):Pe&&mr.string(Pe.message)?I(new De.ResponseError(De.ErrorCodes.InternalError,`Request ${j.method} failed with message: ${Pe.message}`),j.method,U):I(new De.ResponseError(De.ErrorCodes.InternalError,`Request ${j.method} failed unexpectedly without providing any details.`),j.method,U)}}else I(new De.ResponseError(De.ErrorCodes.MethodNotFound,`Unhandled method ${j.method}`),j.method,U)}function ca(j){if(!ot())if(j.id===null)j.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(j.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let F=String(j.id),I=w[F];if(so(j,I),I){delete w[F];try{if(j.error){let q=j.error;I.reject(new De.ResponseError(q.code,q.message,q.data))}else if(j.result!==void 0)I.resolve(j.result);else throw new Error("Should never happen.")}catch(q){q.message?i.error(`Response handler '${I.method}' failed with message: ${q.message}`):i.error(`Response handler '${I.method}' failed unexpectedly.`)}}}}function Gt(j){if(ot())return;let F,I;if(j.method===pc.type.method)I=q=>{let W=q.id,O=_[String(W)];O&&O.cancel()};else{let q=y[j.method];q&&(I=q.handler,F=q.type)}if(I||m)try{tt(j),I?j.params===void 0?(F!==void 0&&F.numberOfParams!==0&&F.parameterStructures!==De.ParameterStructures.byName&&i.error(`Notification ${j.method} defines ${F.numberOfParams} params but recevied none.`),I()):Array.isArray(j.params)?(F!==void 0&&(F.parameterStructures===De.ParameterStructures.byName&&i.error(`Notification ${j.method} defines parameters by name but received parameters by position`),F.numberOfParams!==j.params.length&&i.error(`Notification ${j.method} defines ${F.numberOfParams} params but received ${j.params.length} argumennts`)),I(...j.params)):(F!==void 0&&F.parameterStructures===De.ParameterStructures.byPosition&&i.error(`Notification ${j.method} defines parameters by position but received parameters by name`),I(j.params)):m&&m(j.method,j.params)}catch(q){q.message?i.error(`Notification handler '${j.method}' failed with message: ${q.message}`):i.error(`Notification handler '${j.method}' failed unexpectedly.`)}else G.fire(j)}function ua(j){if(!j){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(j,null,4)}`);let F=j;if(mr.string(F.id)||mr.number(F.id)){let I=String(F.id),q=w[I];q&&q.reject(new Error("The received response has neither a result nor an error property."))}}function no(j){if(!(C===rr.Off||!Y))if(P===_i.Text){let F;C===rr.Verbose&&j.params&&(F=`Params: ${JSON.stringify(j.params,null,4)}

`),Y.log(`Sending request '${j.method} - (${j.id})'.`,F)}else Te("send-request",j)}function io(j){if(!(C===rr.Off||!Y))if(P===_i.Text){let F;C===rr.Verbose&&(j.params?F=`Params: ${JSON.stringify(j.params,null,4)}

`:F=`No parameters provided.

`),Y.log(`Sending notification '${j.method}'.`,F)}else Te("send-notification",j)}function vs(j,F,I){if(!(C===rr.Off||!Y))if(P===_i.Text){let q;C===rr.Verbose&&(j.error&&j.error.data?q=`Error data: ${JSON.stringify(j.error.data,null,4)}

`:j.result?q=`Result: ${JSON.stringify(j.result,null,4)}

`:j.error===void 0&&(q=`No result returned.

`)),Y.log(`Sending response '${F} - (${j.id})'. Processing request took ${Date.now()-I}ms`,q)}else Te("send-response",j)}function Qi(j){if(!(C===rr.Off||!Y))if(P===_i.Text){let F;C===rr.Verbose&&j.params&&(F=`Params: ${JSON.stringify(j.params,null,4)}

`),Y.log(`Received request '${j.method} - (${j.id})'.`,F)}else Te("receive-request",j)}function tt(j){if(!(C===rr.Off||!Y||j.method===Rh.type.method))if(P===_i.Text){let F;C===rr.Verbose&&(j.params?F=`Params: ${JSON.stringify(j.params,null,4)}

`:F=`No parameters provided.

`),Y.log(`Received notification '${j.method}'.`,F)}else Te("receive-notification",j)}function so(j,F){if(!(C===rr.Off||!Y))if(P===_i.Text){let I;if(C===rr.Verbose&&(j.error&&j.error.data?I=`Error data: ${JSON.stringify(j.error.data,null,4)}

`:j.result?I=`Result: ${JSON.stringify(j.result,null,4)}

`:j.error===void 0&&(I=`No result returned.

`)),F){let q=j.error?` Request failed: ${j.error.message} (${j.error.code}).`:"";Y.log(`Received response '${F.method} - (${j.id})' in ${Date.now()-F.timerStart}ms.${q}`,I)}else Y.log(`Received response ${j.id} without active response promise.`,I)}else Te("receive-response",j)}function Te(j,F){if(!Y||C===rr.Off)return;let I={isLSPMessage:!0,type:j,message:F,timestamp:Date.now()};Y.log(I)}function Ri(){if(Lr())throw new Ra(Hu.Closed,"Connection is closed.");if(ot())throw new Ra(Hu.Disposed,"Connection is disposed.")}function Vl(){if(Tt())throw new Ra(Hu.AlreadyListening,"Connection is already listening")}function ao(){if(!Tt())throw new Error("Call listen() first.")}function Xi(j){return j===void 0?null:j}function fa(j){if(j!==null)return j}function oo(j){return j!=null&&!Array.isArray(j)&&typeof j=="object"}function Is(j,F){switch(j){case De.ParameterStructures.auto:return oo(F)?fa(F):[Xi(F)];case De.ParameterStructures.byName:if(!oo(F))throw new Error("Recevied parameters by name but param is not an object literal.");return fa(F);case De.ParameterStructures.byPosition:return[Xi(F)];default:throw new Error(`Unknown parameter structure ${j.toString()}`)}}function lo(j,F){let I,q=j.numberOfParams;switch(q){case 0:I=void 0;break;case 1:I=Is(j.parameterStructures,F[0]);break;default:I=[];for(let W=0;W<F.length&&W<q;W++)I.push(Xi(F[W]));if(F.length<q)for(let W=F.length;W<q;W++)I.push(null);break}return I}let Zn={sendNotification:(j,...F)=>{Ri();let I,q;if(mr.string(j)){I=j;let O=F[0],v=0,U=De.ParameterStructures.auto;De.ParameterStructures.is(O)&&(v=1,U=O);let z=F.length,me=z-v;switch(me){case 0:q=void 0;break;case 1:q=Is(U,F[v]);break;default:if(U===De.ParameterStructures.byName)throw new Error(`Recevied ${me} parameters for 'by Name' notification parameter structure.`);q=F.slice(v,z).map(Pe=>Xi(Pe));break}}else{let O=F;I=j.method,q=lo(j,O)}let W={jsonrpc:u,method:I,params:q};io(W),e.write(W)},onNotification:(j,F)=>{Ri();let I;return mr.func(j)?m=j:F&&(mr.string(j)?(I=j,y[j]={type:void 0,handler:F}):(I=j.method,y[j.method]={type:j,handler:F})),{dispose:()=>{I!==void 0?delete y[I]:m=void 0}}},onProgress:(j,F,I)=>{if(b.has(F))throw new Error(`Progress handler for token ${F} already registered`);return b.set(F,I),{dispose:()=>{b.delete(F)}}},sendProgress:(j,F,I)=>{Zn.sendNotification(Wu.type,{token:F,value:I})},onUnhandledProgress:ce.event,sendRequest:(j,...F)=>{Ri(),ao();let I,q,W;if(mr.string(j)){I=j;let z=F[0],me=F[F.length-1],Pe=0,Ae=De.ParameterStructures.auto;De.ParameterStructures.is(z)&&(Pe=1,Ae=z);let _t=F.length;xh.CancellationToken.is(me)&&(_t=_t-1,W=me);let $t=_t-Pe;switch($t){case 0:q=void 0;break;case 1:q=Is(Ae,F[Pe]);break;default:if(Ae===De.ParameterStructures.byName)throw new Error(`Recevied ${$t} parameters for 'by Name' request parameter structure.`);q=F.slice(Pe,_t).map(zt=>Xi(zt));break}}else{let z=F;I=j.method,q=lo(j,z);let me=j.numberOfParams;W=xh.CancellationToken.is(z[me])?z[me]:void 0}let O=s++,v;return W&&(v=W.onCancellationRequested(()=>{te.sender.sendCancellation(Zn,O)})),new Promise((z,me)=>{let Pe={jsonrpc:u,id:O,method:I,params:q},Ae=zt=>{z(zt),te.sender.cleanup(O),v==null||v.dispose()},_t=zt=>{me(zt),te.sender.cleanup(O),v==null||v.dispose()},$t={method:I,timerStart:Date.now(),resolve:Ae,reject:_t};no(Pe);try{e.write(Pe)}catch(zt){$t.reject(new De.ResponseError(De.ErrorCodes.MessageWriteError,zt.message?zt.message:"Unknown reason")),$t=null}$t&&(w[String(O)]=$t)})},onRequest:(j,F)=>{Ri();let I=null;return Eh.is(j)?(I=void 0,d=j):mr.string(j)?(I=null,F!==void 0&&(I=j,h[j]={handler:F,type:void 0})):F!==void 0&&(I=j.method,h[j.method]={type:j,handler:F}),{dispose:()=>{I!==null&&(I!==void 0?delete h[I]:d=void 0)}}},trace:(j,F,I)=>{let q=!1,W=_i.Text;I!==void 0&&(mr.boolean(I)?q=I:(q=I.sendNotification||!1,W=I.traceFormat||_i.Text)),C=j,P=W,C===rr.Off?Y=void 0:Y=F,q&&!Lr()&&!ot()&&Zn.sendNotification(nI.type,{value:rr.toString(j)})},onError:Z.event,onClose:Q.event,onUnhandledNotification:G.event,onDispose:Oe.event,end:()=>{e.end()},dispose:()=>{if(ot())return;M=yi.Disposed,Oe.fire(void 0);let j=new Error("Connection got disposed.");Object.keys(w).forEach(F=>{w[F].reject(j)}),w=Object.create(null),_=Object.create(null),S=new tI.LinkedMap,mr.func(e.dispose)&&e.dispose(),mr.func(t.dispose)&&t.dispose()},listen:()=>{Ri(),Vl(),M=yi.Listening,t.listen(Xr)},inspect:()=>{eI.default().console.log("inspect")}};return Zn.onNotification(Rh.type,j=>{C===rr.Off||!Y||Y.log(j.message,C===rr.Verbose?j.verbose:void 0)}),Zn.onNotification(Wu.type,j=>{let F=b.get(j.token);F?F(j.value):ce.fire(j)}),Zn}Ve.createMessageConnection=DD});var Fh=ye(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.CancellationSenderStrategy=ne.CancellationReceiverStrategy=ne.ConnectionError=ne.ConnectionErrors=ne.LogTraceNotification=ne.SetTraceNotification=ne.TraceFormat=ne.Trace=ne.ProgressType=ne.createMessageConnection=ne.NullLogger=ne.ConnectionOptions=ne.ConnectionStrategy=ne.WriteableStreamMessageWriter=ne.AbstractMessageWriter=ne.MessageWriter=ne.ReadableStreamMessageReader=ne.AbstractMessageReader=ne.MessageReader=ne.CancellationToken=ne.CancellationTokenSource=ne.Emitter=ne.Event=ne.Disposable=ne.ParameterStructures=ne.NotificationType9=ne.NotificationType8=ne.NotificationType7=ne.NotificationType6=ne.NotificationType5=ne.NotificationType4=ne.NotificationType3=ne.NotificationType2=ne.NotificationType1=ne.NotificationType0=ne.NotificationType=ne.ErrorCodes=ne.ResponseError=ne.RequestType9=ne.RequestType8=ne.RequestType7=ne.RequestType6=ne.RequestType5=ne.RequestType4=ne.RequestType3=ne.RequestType2=ne.RequestType1=ne.RequestType0=ne.RequestType=ne.RAL=void 0;ne.CancellationStrategy=void 0;var kt=Th();Object.defineProperty(ne,"RequestType",{enumerable:!0,get:function(){return kt.RequestType}});Object.defineProperty(ne,"RequestType0",{enumerable:!0,get:function(){return kt.RequestType0}});Object.defineProperty(ne,"RequestType1",{enumerable:!0,get:function(){return kt.RequestType1}});Object.defineProperty(ne,"RequestType2",{enumerable:!0,get:function(){return kt.RequestType2}});Object.defineProperty(ne,"RequestType3",{enumerable:!0,get:function(){return kt.RequestType3}});Object.defineProperty(ne,"RequestType4",{enumerable:!0,get:function(){return kt.RequestType4}});Object.defineProperty(ne,"RequestType5",{enumerable:!0,get:function(){return kt.RequestType5}});Object.defineProperty(ne,"RequestType6",{enumerable:!0,get:function(){return kt.RequestType6}});Object.defineProperty(ne,"RequestType7",{enumerable:!0,get:function(){return kt.RequestType7}});Object.defineProperty(ne,"RequestType8",{enumerable:!0,get:function(){return kt.RequestType8}});Object.defineProperty(ne,"RequestType9",{enumerable:!0,get:function(){return kt.RequestType9}});Object.defineProperty(ne,"ResponseError",{enumerable:!0,get:function(){return kt.ResponseError}});Object.defineProperty(ne,"ErrorCodes",{enumerable:!0,get:function(){return kt.ErrorCodes}});Object.defineProperty(ne,"NotificationType",{enumerable:!0,get:function(){return kt.NotificationType}});Object.defineProperty(ne,"NotificationType0",{enumerable:!0,get:function(){return kt.NotificationType0}});Object.defineProperty(ne,"NotificationType1",{enumerable:!0,get:function(){return kt.NotificationType1}});Object.defineProperty(ne,"NotificationType2",{enumerable:!0,get:function(){return kt.NotificationType2}});Object.defineProperty(ne,"NotificationType3",{enumerable:!0,get:function(){return kt.NotificationType3}});Object.defineProperty(ne,"NotificationType4",{enumerable:!0,get:function(){return kt.NotificationType4}});Object.defineProperty(ne,"NotificationType5",{enumerable:!0,get:function(){return kt.NotificationType5}});Object.defineProperty(ne,"NotificationType6",{enumerable:!0,get:function(){return kt.NotificationType6}});Object.defineProperty(ne,"NotificationType7",{enumerable:!0,get:function(){return kt.NotificationType7}});Object.defineProperty(ne,"NotificationType8",{enumerable:!0,get:function(){return kt.NotificationType8}});Object.defineProperty(ne,"NotificationType9",{enumerable:!0,get:function(){return kt.NotificationType9}});Object.defineProperty(ne,"ParameterStructures",{enumerable:!0,get:function(){return kt.ParameterStructures}});var FD=hh();Object.defineProperty(ne,"Disposable",{enumerable:!0,get:function(){return FD.Disposable}});var aI=xo();Object.defineProperty(ne,"Event",{enumerable:!0,get:function(){return aI.Event}});Object.defineProperty(ne,"Emitter",{enumerable:!0,get:function(){return aI.Emitter}});var oI=Nh();Object.defineProperty(ne,"CancellationTokenSource",{enumerable:!0,get:function(){return oI.CancellationTokenSource}});Object.defineProperty(ne,"CancellationToken",{enumerable:!0,get:function(){return oI.CancellationToken}});var Lh=Wv();Object.defineProperty(ne,"MessageReader",{enumerable:!0,get:function(){return Lh.MessageReader}});Object.defineProperty(ne,"AbstractMessageReader",{enumerable:!0,get:function(){return Lh.AbstractMessageReader}});Object.defineProperty(ne,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Lh.ReadableStreamMessageReader}});var Dh=Xv();Object.defineProperty(ne,"MessageWriter",{enumerable:!0,get:function(){return Dh.MessageWriter}});Object.defineProperty(ne,"AbstractMessageWriter",{enumerable:!0,get:function(){return Dh.AbstractMessageWriter}});Object.defineProperty(ne,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return Dh.WriteableStreamMessageWriter}});var rn=sI();Object.defineProperty(ne,"ConnectionStrategy",{enumerable:!0,get:function(){return rn.ConnectionStrategy}});Object.defineProperty(ne,"ConnectionOptions",{enumerable:!0,get:function(){return rn.ConnectionOptions}});Object.defineProperty(ne,"NullLogger",{enumerable:!0,get:function(){return rn.NullLogger}});Object.defineProperty(ne,"createMessageConnection",{enumerable:!0,get:function(){return rn.createMessageConnection}});Object.defineProperty(ne,"ProgressType",{enumerable:!0,get:function(){return rn.ProgressType}});Object.defineProperty(ne,"Trace",{enumerable:!0,get:function(){return rn.Trace}});Object.defineProperty(ne,"TraceFormat",{enumerable:!0,get:function(){return rn.TraceFormat}});Object.defineProperty(ne,"SetTraceNotification",{enumerable:!0,get:function(){return rn.SetTraceNotification}});Object.defineProperty(ne,"LogTraceNotification",{enumerable:!0,get:function(){return rn.LogTraceNotification}});Object.defineProperty(ne,"ConnectionErrors",{enumerable:!0,get:function(){return rn.ConnectionErrors}});Object.defineProperty(ne,"ConnectionError",{enumerable:!0,get:function(){return rn.ConnectionError}});Object.defineProperty(ne,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return rn.CancellationReceiverStrategy}});Object.defineProperty(ne,"CancellationSenderStrategy",{enumerable:!0,get:function(){return rn.CancellationSenderStrategy}});Object.defineProperty(ne,"CancellationStrategy",{enumerable:!0,get:function(){return rn.CancellationStrategy}});var MD=ls();ne.RAL=MD.default});var wo=ye(mt=>{"use strict";var VD=mt&&mt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),BD=mt&&mt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&VD(e,t,r)};Object.defineProperty(mt,"__esModule",{value:!0});mt.createMessageConnection=mt.createServerSocketTransport=mt.createClientSocketTransport=mt.createServerPipeTransport=mt.createClientPipeTransport=mt.generateRandomPipeName=mt.StreamMessageWriter=mt.StreamMessageReader=mt.SocketMessageWriter=mt.SocketMessageReader=mt.IPCMessageWriter=mt.IPCMessageReader=void 0;var Ro=hv();Ro.default.install();var ji=Fh(),lI=require("path"),qD=require("os"),UD=require("crypto"),Yu=require("net");BD(Fh(),mt);var cI=class extends ji.AbstractMessageReader{constructor(e){super();this.process=e;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),ji.Disposable.create(()=>this.process.off("message",e))}};mt.IPCMessageReader=cI;var uI=class extends ji.AbstractMessageWriter{constructor(e){super();this.process=e,this.errorCount=0;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,r=>{r?(this.errorCount++,this.handleError(r,e)):this.errorCount=0}),Promise.resolve()}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){}};mt.IPCMessageWriter=uI;var ko=class extends ji.ReadableStreamMessageReader{constructor(e,r="utf-8"){super(Ro.default().stream.asReadableStream(e),r)}};mt.SocketMessageReader=ko;var Oo=class extends ji.WriteableStreamMessageWriter{constructor(e,r){super(Ro.default().stream.asWritableStream(e),r);this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};mt.SocketMessageWriter=Oo;var Mh=class extends ji.ReadableStreamMessageReader{constructor(e,r){super(Ro.default().stream.asReadableStream(e),r)}};mt.StreamMessageReader=Mh;var Vh=class extends ji.WriteableStreamMessageWriter{constructor(e,r){super(Ro.default().stream.asWritableStream(e),r)}};mt.StreamMessageWriter=Vh;var fI=process.env.XDG_RUNTIME_DIR,jD=new Map([["linux",107],["darwin",103]]);function GD(){let t=UD.randomBytes(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;fI?e=lI.join(fI,`vscode-ipc-${t}.sock`):e=lI.join(qD.tmpdir(),`vscode-${t}.sock`);let r=jD.get(process.platform);return r!==void 0&&e.length>=r&&Ro.default().console.warn(`WARNING: IPC handle "${e}" is longer than ${r} characters.`),e}mt.generateRandomPipeName=GD;function WD(t,e="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let o=Yu.createServer(l=>{o.close(),r([new ko(l,e),new Oo(l,e)])});o.on("error",s),o.listen(t,()=>{o.removeListener("error",s),i({onConnected:()=>n})})})}mt.createClientPipeTransport=WD;function HD(t,e="utf-8"){let r=Yu.createConnection(t);return[new ko(r,e),new Oo(r,e)]}mt.createServerPipeTransport=HD;function YD(t,e="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let o=Yu.createServer(l=>{o.close(),r([new ko(l,e),new Oo(l,e)])});o.on("error",s),o.listen(t,"127.0.0.1",()=>{o.removeListener("error",s),i({onConnected:()=>n})})})}mt.createClientSocketTransport=YD;function KD(t,e="utf-8"){let r=Yu.createConnection(t,"127.0.0.1");return[new ko(r,e),new Oo(r,e)]}mt.createServerSocketTransport=KD;function $D(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function zD(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function QD(t,e,r,n){r||(r=ji.NullLogger);let i=$D(t)?new Mh(t):t,s=zD(e)?new Vh(e):e;return ji.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),ji.createMessageConnection(i,s,r,n)}mt.createMessageConnection=QD});var Bh=ye((_H,dI)=>{"use strict";dI.exports=wo()});var Ft=ye((pI,Ku)=>{(function(t){if(typeof Ku=="object"&&typeof Ku.exports=="object"){var e=t(require,pI);e!==void 0&&(Ku.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionKind=e.DocumentSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=void 0;var r;(function(I){I.MIN_VALUE=-2147483648,I.MAX_VALUE=2147483647})(r=e.integer||(e.integer={}));var n;(function(I){I.MIN_VALUE=0,I.MAX_VALUE=2147483647})(n=e.uinteger||(e.uinteger={}));var i;(function(I){function q(O,v){return O===Number.MAX_VALUE&&(O=n.MAX_VALUE),v===Number.MAX_VALUE&&(v=n.MAX_VALUE),{line:O,character:v}}I.create=q;function W(O){var v=O;return F.objectLiteral(v)&&F.uinteger(v.line)&&F.uinteger(v.character)}I.is=W})(i=e.Position||(e.Position={}));var s;(function(I){function q(O,v,U,z){if(F.uinteger(O)&&F.uinteger(v)&&F.uinteger(U)&&F.uinteger(z))return{start:i.create(O,v),end:i.create(U,z)};if(i.is(O)&&i.is(v))return{start:O,end:v};throw new Error("Range#create called with invalid arguments["+O+", "+v+", "+U+", "+z+"]")}I.create=q;function W(O){var v=O;return F.objectLiteral(v)&&i.is(v.start)&&i.is(v.end)}I.is=W})(s=e.Range||(e.Range={}));var o;(function(I){function q(O,v){return{uri:O,range:v}}I.create=q;function W(O){var v=O;return F.defined(v)&&s.is(v.range)&&(F.string(v.uri)||F.undefined(v.uri))}I.is=W})(o=e.Location||(e.Location={}));var l;(function(I){function q(O,v,U,z){return{targetUri:O,targetRange:v,targetSelectionRange:U,originSelectionRange:z}}I.create=q;function W(O){var v=O;return F.defined(v)&&s.is(v.targetRange)&&F.string(v.targetUri)&&(s.is(v.targetSelectionRange)||F.undefined(v.targetSelectionRange))&&(s.is(v.originSelectionRange)||F.undefined(v.originSelectionRange))}I.is=W})(l=e.LocationLink||(e.LocationLink={}));var u;(function(I){function q(O,v,U,z){return{red:O,green:v,blue:U,alpha:z}}I.create=q;function W(O){var v=O;return F.numberRange(v.red,0,1)&&F.numberRange(v.green,0,1)&&F.numberRange(v.blue,0,1)&&F.numberRange(v.alpha,0,1)}I.is=W})(u=e.Color||(e.Color={}));var d;(function(I){function q(O,v){return{range:O,color:v}}I.create=q;function W(O){var v=O;return s.is(v.range)&&u.is(v.color)}I.is=W})(d=e.ColorInformation||(e.ColorInformation={}));var h;(function(I){function q(O,v,U){return{label:O,textEdit:v,additionalTextEdits:U}}I.create=q;function W(O){var v=O;return F.string(v.label)&&(F.undefined(v.textEdit)||P.is(v))&&(F.undefined(v.additionalTextEdits)||F.typedArray(v.additionalTextEdits,P.is))}I.is=W})(h=e.ColorPresentation||(e.ColorPresentation={}));var m;(function(I){I.Comment="comment",I.Imports="imports",I.Region="region"})(m=e.FoldingRangeKind||(e.FoldingRangeKind={}));var y;(function(I){function q(O,v,U,z,me){var Pe={startLine:O,endLine:v};return F.defined(U)&&(Pe.startCharacter=U),F.defined(z)&&(Pe.endCharacter=z),F.defined(me)&&(Pe.kind=me),Pe}I.create=q;function W(O){var v=O;return F.uinteger(v.startLine)&&F.uinteger(v.startLine)&&(F.undefined(v.startCharacter)||F.uinteger(v.startCharacter))&&(F.undefined(v.endCharacter)||F.uinteger(v.endCharacter))&&(F.undefined(v.kind)||F.string(v.kind))}I.is=W})(y=e.FoldingRange||(e.FoldingRange={}));var b;(function(I){function q(O,v){return{location:O,message:v}}I.create=q;function W(O){var v=O;return F.defined(v)&&o.is(v.location)&&F.string(v.message)}I.is=W})(b=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var T;(function(I){I.Error=1,I.Warning=2,I.Information=3,I.Hint=4})(T=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var S;(function(I){I.Unnecessary=1,I.Deprecated=2})(S=e.DiagnosticTag||(e.DiagnosticTag={}));var w;(function(I){function q(W){var O=W;return O!=null&&F.string(O.href)}I.is=q})(w=e.CodeDescription||(e.CodeDescription={}));var _;(function(I){function q(O,v,U,z,me,Pe){var Ae={range:O,message:v};return F.defined(U)&&(Ae.severity=U),F.defined(z)&&(Ae.code=z),F.defined(me)&&(Ae.source=me),F.defined(Pe)&&(Ae.relatedInformation=Pe),Ae}I.create=q;function W(O){var v,U=O;return F.defined(U)&&s.is(U.range)&&F.string(U.message)&&(F.number(U.severity)||F.undefined(U.severity))&&(F.integer(U.code)||F.string(U.code)||F.undefined(U.code))&&(F.undefined(U.codeDescription)||F.string((v=U.codeDescription)===null||v===void 0?void 0:v.href))&&(F.string(U.source)||F.undefined(U.source))&&(F.undefined(U.relatedInformation)||F.typedArray(U.relatedInformation,b.is))}I.is=W})(_=e.Diagnostic||(e.Diagnostic={}));var C;(function(I){function q(O,v){for(var U=[],z=2;z<arguments.length;z++)U[z-2]=arguments[z];var me={title:O,command:v};return F.defined(U)&&U.length>0&&(me.arguments=U),me}I.create=q;function W(O){var v=O;return F.defined(v)&&F.string(v.title)&&F.string(v.command)}I.is=W})(C=e.Command||(e.Command={}));var P;(function(I){function q(U,z){return{range:U,newText:z}}I.replace=q;function W(U,z){return{range:{start:U,end:U},newText:z}}I.insert=W;function O(U){return{range:U,newText:""}}I.del=O;function v(U){var z=U;return F.objectLiteral(z)&&F.string(z.newText)&&s.is(z.range)}I.is=v})(P=e.TextEdit||(e.TextEdit={}));var Y;(function(I){function q(O,v,U){var z={label:O};return v!==void 0&&(z.needsConfirmation=v),U!==void 0&&(z.description=U),z}I.create=q;function W(O){var v=O;return v!==void 0&&F.objectLiteral(v)&&F.string(v.label)&&(F.boolean(v.needsConfirmation)||v.needsConfirmation===void 0)&&(F.string(v.description)||v.description===void 0)}I.is=W})(Y=e.ChangeAnnotation||(e.ChangeAnnotation={}));var M;(function(I){function q(W){var O=W;return typeof O=="string"}I.is=q})(M=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var Z;(function(I){function q(U,z,me){return{range:U,newText:z,annotationId:me}}I.replace=q;function W(U,z,me){return{range:{start:U,end:U},newText:z,annotationId:me}}I.insert=W;function O(U,z){return{range:U,newText:"",annotationId:z}}I.del=O;function v(U){var z=U;return P.is(z)&&(Y.is(z.annotationId)||M.is(z.annotationId))}I.is=v})(Z=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var Q;(function(I){function q(O,v){return{textDocument:O,edits:v}}I.create=q;function W(O){var v=O;return F.defined(v)&&Tt.is(v.textDocument)&&Array.isArray(v.edits)}I.is=W})(Q=e.TextDocumentEdit||(e.TextDocumentEdit={}));var G;(function(I){function q(O,v,U){var z={kind:"create",uri:O};return v!==void 0&&(v.overwrite!==void 0||v.ignoreIfExists!==void 0)&&(z.options=v),U!==void 0&&(z.annotationId=U),z}I.create=q;function W(O){var v=O;return v&&v.kind==="create"&&F.string(v.uri)&&(v.options===void 0||(v.options.overwrite===void 0||F.boolean(v.options.overwrite))&&(v.options.ignoreIfExists===void 0||F.boolean(v.options.ignoreIfExists)))&&(v.annotationId===void 0||M.is(v.annotationId))}I.is=W})(G=e.CreateFile||(e.CreateFile={}));var ce;(function(I){function q(O,v,U,z){var me={kind:"rename",oldUri:O,newUri:v};return U!==void 0&&(U.overwrite!==void 0||U.ignoreIfExists!==void 0)&&(me.options=U),z!==void 0&&(me.annotationId=z),me}I.create=q;function W(O){var v=O;return v&&v.kind==="rename"&&F.string(v.oldUri)&&F.string(v.newUri)&&(v.options===void 0||(v.options.overwrite===void 0||F.boolean(v.options.overwrite))&&(v.options.ignoreIfExists===void 0||F.boolean(v.options.ignoreIfExists)))&&(v.annotationId===void 0||M.is(v.annotationId))}I.is=W})(ce=e.RenameFile||(e.RenameFile={}));var Oe;(function(I){function q(O,v,U){var z={kind:"delete",uri:O};return v!==void 0&&(v.recursive!==void 0||v.ignoreIfNotExists!==void 0)&&(z.options=v),U!==void 0&&(z.annotationId=U),z}I.create=q;function W(O){var v=O;return v&&v.kind==="delete"&&F.string(v.uri)&&(v.options===void 0||(v.options.recursive===void 0||F.boolean(v.options.recursive))&&(v.options.ignoreIfNotExists===void 0||F.boolean(v.options.ignoreIfNotExists)))&&(v.annotationId===void 0||M.is(v.annotationId))}I.is=W})(Oe=e.DeleteFile||(e.DeleteFile={}));var te;(function(I){function q(W){var O=W;return O&&(O.changes!==void 0||O.documentChanges!==void 0)&&(O.documentChanges===void 0||O.documentChanges.every(function(v){return F.string(v.kind)?G.is(v)||ce.is(v)||Oe.is(v):Q.is(v)}))}I.is=q})(te=e.WorkspaceEdit||(e.WorkspaceEdit={}));var oe=function(){function I(q,W){this.edits=q,this.changeAnnotations=W}return I.prototype.insert=function(q,W,O){var v,U;if(O===void 0?v=P.insert(q,W):M.is(O)?(U=O,v=Z.insert(q,W,O)):(this.assertChangeAnnotations(this.changeAnnotations),U=this.changeAnnotations.manage(O),v=Z.insert(q,W,U)),this.edits.push(v),U!==void 0)return U},I.prototype.replace=function(q,W,O){var v,U;if(O===void 0?v=P.replace(q,W):M.is(O)?(U=O,v=Z.replace(q,W,O)):(this.assertChangeAnnotations(this.changeAnnotations),U=this.changeAnnotations.manage(O),v=Z.replace(q,W,U)),this.edits.push(v),U!==void 0)return U},I.prototype.delete=function(q,W){var O,v;if(W===void 0?O=P.del(q):M.is(W)?(v=W,O=Z.del(q,W)):(this.assertChangeAnnotations(this.changeAnnotations),v=this.changeAnnotations.manage(W),O=Z.del(q,v)),this.edits.push(O),v!==void 0)return v},I.prototype.add=function(q){this.edits.push(q)},I.prototype.all=function(){return this.edits},I.prototype.clear=function(){this.edits.splice(0,this.edits.length)},I.prototype.assertChangeAnnotations=function(q){if(q===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},I}(),Ce=function(){function I(q){this._annotations=q===void 0?Object.create(null):q,this._counter=0,this._size=0}return I.prototype.all=function(){return this._annotations},Object.defineProperty(I.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),I.prototype.manage=function(q,W){var O;if(M.is(q)?O=q:(O=this.nextId(),W=q),this._annotations[O]!==void 0)throw new Error("Id "+O+" is already in use.");if(W===void 0)throw new Error("No annotation provided for id "+O);return this._annotations[O]=W,this._size++,O},I.prototype.nextId=function(){return this._counter++,this._counter.toString()},I}(),fe=function(){function I(q){var W=this;this._textEditChanges=Object.create(null),q!==void 0?(this._workspaceEdit=q,q.documentChanges?(this._changeAnnotations=new Ce(q.changeAnnotations),q.changeAnnotations=this._changeAnnotations.all(),q.documentChanges.forEach(function(O){if(Q.is(O)){var v=new oe(O.edits,W._changeAnnotations);W._textEditChanges[O.textDocument.uri]=v}})):q.changes&&Object.keys(q.changes).forEach(function(O){var v=new oe(q.changes[O]);W._textEditChanges[O]=v})):this._workspaceEdit={}}return Object.defineProperty(I.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),I.prototype.getTextEditChange=function(q){if(Tt.is(q)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var W={uri:q.uri,version:q.version},O=this._textEditChanges[W.uri];if(!O){var v=[],U={textDocument:W,edits:v};this._workspaceEdit.documentChanges.push(U),O=new oe(v,this._changeAnnotations),this._textEditChanges[W.uri]=O}return O}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var O=this._textEditChanges[q];if(!O){var v=[];this._workspaceEdit.changes[q]=v,O=new oe(v),this._textEditChanges[q]=O}return O}},I.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new Ce,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},I.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},I.prototype.createFile=function(q,W,O){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var v;Y.is(W)||M.is(W)?v=W:O=W;var U,z;if(v===void 0?U=G.create(q,O):(z=M.is(v)?v:this._changeAnnotations.manage(v),U=G.create(q,O,z)),this._workspaceEdit.documentChanges.push(U),z!==void 0)return z},I.prototype.renameFile=function(q,W,O,v){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var U;Y.is(O)||M.is(O)?U=O:v=O;var z,me;if(U===void 0?z=ce.create(q,W,v):(me=M.is(U)?U:this._changeAnnotations.manage(U),z=ce.create(q,W,v,me)),this._workspaceEdit.documentChanges.push(z),me!==void 0)return me},I.prototype.deleteFile=function(q,W,O){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var v;Y.is(W)||M.is(W)?v=W:O=W;var U,z;if(v===void 0?U=Oe.create(q,O):(z=M.is(v)?v:this._changeAnnotations.manage(v),U=Oe.create(q,O,z)),this._workspaceEdit.documentChanges.push(U),z!==void 0)return z},I}();e.WorkspaceChange=fe;var re;(function(I){function q(O){return{uri:O}}I.create=q;function W(O){var v=O;return F.defined(v)&&F.string(v.uri)}I.is=W})(re=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var Qe;(function(I){function q(O,v){return{uri:O,version:v}}I.create=q;function W(O){var v=O;return F.defined(v)&&F.string(v.uri)&&F.integer(v.version)}I.is=W})(Qe=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var Tt;(function(I){function q(O,v){return{uri:O,version:v}}I.create=q;function W(O){var v=O;return F.defined(v)&&F.string(v.uri)&&(v.version===null||F.integer(v.version))}I.is=W})(Tt=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var Lr;(function(I){function q(O,v,U,z){return{uri:O,languageId:v,version:U,text:z}}I.create=q;function W(O){var v=O;return F.defined(v)&&F.string(v.uri)&&F.string(v.languageId)&&F.integer(v.version)&&F.string(v.text)}I.is=W})(Lr=e.TextDocumentItem||(e.TextDocumentItem={}));var ot;(function(I){I.PlainText="plaintext",I.Markdown="markdown"})(ot=e.MarkupKind||(e.MarkupKind={})),function(I){function q(W){var O=W;return O===I.PlainText||O===I.Markdown}I.is=q}(ot=e.MarkupKind||(e.MarkupKind={}));var St;(function(I){function q(W){var O=W;return F.objectLiteral(W)&&ot.is(O.kind)&&F.string(O.value)}I.is=q})(St=e.MarkupContent||(e.MarkupContent={}));var Qr;(function(I){I.Text=1,I.Method=2,I.Function=3,I.Constructor=4,I.Field=5,I.Variable=6,I.Class=7,I.Interface=8,I.Module=9,I.Property=10,I.Unit=11,I.Value=12,I.Enum=13,I.Keyword=14,I.Snippet=15,I.Color=16,I.File=17,I.Reference=18,I.Folder=19,I.EnumMember=20,I.Constant=21,I.Struct=22,I.Event=23,I.Operator=24,I.TypeParameter=25})(Qr=e.CompletionItemKind||(e.CompletionItemKind={}));var cn;(function(I){I.PlainText=1,I.Snippet=2})(cn=e.InsertTextFormat||(e.InsertTextFormat={}));var zi;(function(I){I.Deprecated=1})(zi=e.CompletionItemTag||(e.CompletionItemTag={}));var ro;(function(I){function q(O,v,U){return{newText:O,insert:v,replace:U}}I.create=q;function W(O){var v=O;return v&&F.string(v.newText)&&s.is(v.insert)&&s.is(v.replace)}I.is=W})(ro=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var Xr;(function(I){I.asIs=1,I.adjustIndentation=2})(Xr=e.InsertTextMode||(e.InsertTextMode={}));var On;(function(I){function q(W){return{label:W}}I.create=q})(On=e.CompletionItem||(e.CompletionItem={}));var ca;(function(I){function q(W,O){return{items:W||[],isIncomplete:!!O}}I.create=q})(ca=e.CompletionList||(e.CompletionList={}));var Gt;(function(I){function q(O){return O.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}I.fromPlainText=q;function W(O){var v=O;return F.string(v)||F.objectLiteral(v)&&F.string(v.language)&&F.string(v.value)}I.is=W})(Gt=e.MarkedString||(e.MarkedString={}));var ua;(function(I){function q(W){var O=W;return!!O&&F.objectLiteral(O)&&(St.is(O.contents)||Gt.is(O.contents)||F.typedArray(O.contents,Gt.is))&&(W.range===void 0||s.is(W.range))}I.is=q})(ua=e.Hover||(e.Hover={}));var no;(function(I){function q(W,O){return O?{label:W,documentation:O}:{label:W}}I.create=q})(no=e.ParameterInformation||(e.ParameterInformation={}));var io;(function(I){function q(W,O){for(var v=[],U=2;U<arguments.length;U++)v[U-2]=arguments[U];var z={label:W};return F.defined(O)&&(z.documentation=O),F.defined(v)?z.parameters=v:z.parameters=[],z}I.create=q})(io=e.SignatureInformation||(e.SignatureInformation={}));var vs;(function(I){I.Text=1,I.Read=2,I.Write=3})(vs=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var Qi;(function(I){function q(W,O){var v={range:W};return F.number(O)&&(v.kind=O),v}I.create=q})(Qi=e.DocumentHighlight||(e.DocumentHighlight={}));var tt;(function(I){I.File=1,I.Module=2,I.Namespace=3,I.Package=4,I.Class=5,I.Method=6,I.Property=7,I.Field=8,I.Constructor=9,I.Enum=10,I.Interface=11,I.Function=12,I.Variable=13,I.Constant=14,I.String=15,I.Number=16,I.Boolean=17,I.Array=18,I.Object=19,I.Key=20,I.Null=21,I.EnumMember=22,I.Struct=23,I.Event=24,I.Operator=25,I.TypeParameter=26})(tt=e.SymbolKind||(e.SymbolKind={}));var so;(function(I){I.Deprecated=1})(so=e.SymbolTag||(e.SymbolTag={}));var Te;(function(I){function q(W,O,v,U,z){var me={name:W,kind:O,location:{uri:U,range:v}};return z&&(me.containerName=z),me}I.create=q})(Te=e.SymbolInformation||(e.SymbolInformation={}));var Ri;(function(I){function q(O,v,U,z,me,Pe){var Ae={name:O,detail:v,kind:U,range:z,selectionRange:me};return Pe!==void 0&&(Ae.children=Pe),Ae}I.create=q;function W(O){var v=O;return v&&F.string(v.name)&&F.number(v.kind)&&s.is(v.range)&&s.is(v.selectionRange)&&(v.detail===void 0||F.string(v.detail))&&(v.deprecated===void 0||F.boolean(v.deprecated))&&(v.children===void 0||Array.isArray(v.children))&&(v.tags===void 0||Array.isArray(v.tags))}I.is=W})(Ri=e.DocumentSymbol||(e.DocumentSymbol={}));var Vl;(function(I){I.Empty="",I.QuickFix="quickfix",I.Refactor="refactor",I.RefactorExtract="refactor.extract",I.RefactorInline="refactor.inline",I.RefactorRewrite="refactor.rewrite",I.Source="source",I.SourceOrganizeImports="source.organizeImports",I.SourceFixAll="source.fixAll"})(Vl=e.CodeActionKind||(e.CodeActionKind={}));var ao;(function(I){function q(O,v){var U={diagnostics:O};return v!=null&&(U.only=v),U}I.create=q;function W(O){var v=O;return F.defined(v)&&F.typedArray(v.diagnostics,_.is)&&(v.only===void 0||F.typedArray(v.only,F.string))}I.is=W})(ao=e.CodeActionContext||(e.CodeActionContext={}));var Xi;(function(I){function q(O,v,U){var z={title:O},me=!0;return typeof v=="string"?(me=!1,z.kind=v):C.is(v)?z.command=v:z.edit=v,me&&U!==void 0&&(z.kind=U),z}I.create=q;function W(O){var v=O;return v&&F.string(v.title)&&(v.diagnostics===void 0||F.typedArray(v.diagnostics,_.is))&&(v.kind===void 0||F.string(v.kind))&&(v.edit!==void 0||v.command!==void 0)&&(v.command===void 0||C.is(v.command))&&(v.isPreferred===void 0||F.boolean(v.isPreferred))&&(v.edit===void 0||te.is(v.edit))}I.is=W})(Xi=e.CodeAction||(e.CodeAction={}));var fa;(function(I){function q(O,v){var U={range:O};return F.defined(v)&&(U.data=v),U}I.create=q;function W(O){var v=O;return F.defined(v)&&s.is(v.range)&&(F.undefined(v.command)||C.is(v.command))}I.is=W})(fa=e.CodeLens||(e.CodeLens={}));var oo;(function(I){function q(O,v){return{tabSize:O,insertSpaces:v}}I.create=q;function W(O){var v=O;return F.defined(v)&&F.uinteger(v.tabSize)&&F.boolean(v.insertSpaces)}I.is=W})(oo=e.FormattingOptions||(e.FormattingOptions={}));var Is;(function(I){function q(O,v,U){return{range:O,target:v,data:U}}I.create=q;function W(O){var v=O;return F.defined(v)&&s.is(v.range)&&(F.undefined(v.target)||F.string(v.target))}I.is=W})(Is=e.DocumentLink||(e.DocumentLink={}));var lo;(function(I){function q(O,v){return{range:O,parent:v}}I.create=q;function W(O){var v=O;return v!==void 0&&s.is(v.range)&&(v.parent===void 0||I.is(v.parent))}I.is=W})(lo=e.SelectionRange||(e.SelectionRange={})),e.EOL=[`
`,`\r
`,"\r"];var Zn;(function(I){function q(U,z,me,Pe){return new j(U,z,me,Pe)}I.create=q;function W(U){var z=U;return!!(F.defined(z)&&F.string(z.uri)&&(F.undefined(z.languageId)||F.string(z.languageId))&&F.uinteger(z.lineCount)&&F.func(z.getText)&&F.func(z.positionAt)&&F.func(z.offsetAt))}I.is=W;function O(U,z){for(var me=U.getText(),Pe=v(z,function(Ji,co){var Bl=Ji.range.start.line-co.range.start.line;return Bl===0?Ji.range.start.character-co.range.start.character:Bl}),Ae=me.length,_t=Pe.length-1;_t>=0;_t--){var $t=Pe[_t],zt=U.offsetAt($t.range.start),rt=U.offsetAt($t.range.end);if(rt<=Ae)me=me.substring(0,zt)+$t.newText+me.substring(rt,me.length);else throw new Error("Overlapping edit");Ae=zt}return me}I.applyEdits=O;function v(U,z){if(U.length<=1)return U;var me=U.length/2|0,Pe=U.slice(0,me),Ae=U.slice(me);v(Pe,z),v(Ae,z);for(var _t=0,$t=0,zt=0;_t<Pe.length&&$t<Ae.length;){var rt=z(Pe[_t],Ae[$t]);rt<=0?U[zt++]=Pe[_t++]:U[zt++]=Ae[$t++]}for(;_t<Pe.length;)U[zt++]=Pe[_t++];for(;$t<Ae.length;)U[zt++]=Ae[$t++];return U}})(Zn=e.TextDocument||(e.TextDocument={}));var j=function(){function I(q,W,O,v){this._uri=q,this._languageId=W,this._version=O,this._content=v,this._lineOffsets=void 0}return Object.defineProperty(I.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),I.prototype.getText=function(q){if(q){var W=this.offsetAt(q.start),O=this.offsetAt(q.end);return this._content.substring(W,O)}return this._content},I.prototype.update=function(q,W){this._content=q.text,this._version=W,this._lineOffsets=void 0},I.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var q=[],W=this._content,O=!0,v=0;v<W.length;v++){O&&(q.push(v),O=!1);var U=W.charAt(v);O=U==="\r"||U===`
`,U==="\r"&&v+1<W.length&&W.charAt(v+1)===`
`&&v++}O&&W.length>0&&q.push(W.length),this._lineOffsets=q}return this._lineOffsets},I.prototype.positionAt=function(q){q=Math.max(Math.min(q,this._content.length),0);var W=this.getLineOffsets(),O=0,v=W.length;if(v===0)return i.create(0,q);for(;O<v;){var U=Math.floor((O+v)/2);W[U]>q?v=U:O=U+1}var z=O-1;return i.create(z,q-W[z])},I.prototype.offsetAt=function(q){var W=this.getLineOffsets();if(q.line>=W.length)return this._content.length;if(q.line<0)return 0;var O=W[q.line],v=q.line+1<W.length?W[q.line+1]:this._content.length;return Math.max(Math.min(O+q.character,v),O)},Object.defineProperty(I.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),I}(),F;(function(I){var q=Object.prototype.toString;function W(rt){return typeof rt!="undefined"}I.defined=W;function O(rt){return typeof rt=="undefined"}I.undefined=O;function v(rt){return rt===!0||rt===!1}I.boolean=v;function U(rt){return q.call(rt)==="[object String]"}I.string=U;function z(rt){return q.call(rt)==="[object Number]"}I.number=z;function me(rt,Ji,co){return q.call(rt)==="[object Number]"&&Ji<=rt&&rt<=co}I.numberRange=me;function Pe(rt){return q.call(rt)==="[object Number]"&&-2147483648<=rt&&rt<=2147483647}I.integer=Pe;function Ae(rt){return q.call(rt)==="[object Number]"&&0<=rt&&rt<=2147483647}I.uinteger=Ae;function _t(rt){return q.call(rt)==="[object Function]"}I.func=_t;function $t(rt){return rt!==null&&typeof rt=="object"}I.objectLiteral=$t;function zt(rt,Ji){return Array.isArray(rt)&&rt.every(Ji)}I.typedArray=zt})(F||(F={}))})});var gr=ye($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});$n.ProtocolNotificationType=$n.ProtocolNotificationType0=$n.ProtocolRequestType=$n.ProtocolRequestType0=$n.RegistrationType=void 0;var Lo=wo(),hI=class{constructor(e){this.method=e}};$n.RegistrationType=hI;var mI=class extends Lo.RequestType0{constructor(e){super(e)}};$n.ProtocolRequestType0=mI;var gI=class extends Lo.RequestType{constructor(e){super(e,Lo.ParameterStructures.byName)}};$n.ProtocolRequestType=gI;var TI=class extends Lo.NotificationType0{constructor(e){super(e)}};$n.ProtocolNotificationType0=TI;var _I=class extends Lo.NotificationType{constructor(e){super(e,Lo.ParameterStructures.byName)}};$n.ProtocolNotificationType=_I});var NI=ye(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.objectLiteral=nr.typedArray=nr.stringArray=nr.array=nr.func=nr.error=nr.number=nr.string=nr.boolean=void 0;function XD(t){return t===!0||t===!1}nr.boolean=XD;function yI(t){return typeof t=="string"||t instanceof String}nr.string=yI;function JD(t){return typeof t=="number"||t instanceof Number}nr.number=JD;function ZD(t){return t instanceof Error}nr.error=ZD;function e1(t){return typeof t=="function"}nr.func=e1;function bI(t){return Array.isArray(t)}nr.array=bI;function t1(t){return bI(t)&&t.every(e=>yI(e))}nr.stringArray=t1;function r1(t,e){return Array.isArray(t)&&t.every(e)}nr.typedArray=r1;function n1(t){return t!==null&&typeof t=="object"}nr.objectLiteral=n1});var vI=ye(hc=>{"use strict";Object.defineProperty(hc,"__esModule",{value:!0});hc.ImplementationRequest=void 0;var i1=gr(),s1;(function(t){t.method="textDocument/implementation",t.type=new i1.ProtocolRequestType(t.method)})(s1=hc.ImplementationRequest||(hc.ImplementationRequest={}))});var II=ye(mc=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});mc.TypeDefinitionRequest=void 0;var a1=gr(),o1;(function(t){t.method="textDocument/typeDefinition",t.type=new a1.ProtocolRequestType(t.method)})(o1=mc.TypeDefinitionRequest||(mc.TypeDefinitionRequest={}))});var CI=ye(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.DidChangeWorkspaceFoldersNotification=Vs.WorkspaceFoldersRequest=void 0;var PI=gr(),l1;(function(t){t.type=new PI.ProtocolRequestType0("workspace/workspaceFolders")})(l1=Vs.WorkspaceFoldersRequest||(Vs.WorkspaceFoldersRequest={}));var c1;(function(t){t.type=new PI.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(c1=Vs.DidChangeWorkspaceFoldersNotification||(Vs.DidChangeWorkspaceFoldersNotification={}))});var AI=ye(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});gc.ConfigurationRequest=void 0;var u1=gr(),f1;(function(t){t.type=new u1.ProtocolRequestType("workspace/configuration")})(f1=gc.ConfigurationRequest||(gc.ConfigurationRequest={}))});var xI=ye(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.ColorPresentationRequest=Bs.DocumentColorRequest=void 0;var SI=gr(),d1;(function(t){t.method="textDocument/documentColor",t.type=new SI.ProtocolRequestType(t.method)})(d1=Bs.DocumentColorRequest||(Bs.DocumentColorRequest={}));var p1;(function(t){t.type=new SI.ProtocolRequestType("textDocument/colorPresentation")})(p1=Bs.ColorPresentationRequest||(Bs.ColorPresentationRequest={}))});var EI=ye(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.FoldingRangeRequest=qs.FoldingRangeKind=void 0;var h1=gr(),m1;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(m1=qs.FoldingRangeKind||(qs.FoldingRangeKind={}));var g1;(function(t){t.method="textDocument/foldingRange",t.type=new h1.ProtocolRequestType(t.method)})(g1=qs.FoldingRangeRequest||(qs.FoldingRangeRequest={}))});var RI=ye(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});Tc.DeclarationRequest=void 0;var T1=gr(),_1;(function(t){t.method="textDocument/declaration",t.type=new T1.ProtocolRequestType(t.method)})(_1=Tc.DeclarationRequest||(Tc.DeclarationRequest={}))});var kI=ye(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});_c.SelectionRangeRequest=void 0;var y1=gr(),b1;(function(t){t.method="textDocument/selectionRange",t.type=new y1.ProtocolRequestType(t.method)})(b1=_c.SelectionRangeRequest||(_c.SelectionRangeRequest={}))});var wI=ye(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});bi.WorkDoneProgressCancelNotification=bi.WorkDoneProgressCreateRequest=bi.WorkDoneProgress=void 0;var N1=wo(),OI=gr(),v1;(function(t){t.type=new N1.ProgressType;function e(r){return r===t.type}t.is=e})(v1=bi.WorkDoneProgress||(bi.WorkDoneProgress={}));var I1;(function(t){t.type=new OI.ProtocolRequestType("window/workDoneProgress/create")})(I1=bi.WorkDoneProgressCreateRequest||(bi.WorkDoneProgressCreateRequest={}));var P1;(function(t){t.type=new OI.ProtocolNotificationType("window/workDoneProgress/cancel")})(P1=bi.WorkDoneProgressCancelNotification||(bi.WorkDoneProgressCancelNotification={}))});var LI=ye(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.CallHierarchyOutgoingCallsRequest=Ni.CallHierarchyIncomingCallsRequest=Ni.CallHierarchyPrepareRequest=void 0;var qh=gr(),C1;(function(t){t.method="textDocument/prepareCallHierarchy",t.type=new qh.ProtocolRequestType(t.method)})(C1=Ni.CallHierarchyPrepareRequest||(Ni.CallHierarchyPrepareRequest={}));var A1;(function(t){t.method="callHierarchy/incomingCalls",t.type=new qh.ProtocolRequestType(t.method)})(A1=Ni.CallHierarchyIncomingCallsRequest||(Ni.CallHierarchyIncomingCallsRequest={}));var S1;(function(t){t.method="callHierarchy/outgoingCalls",t.type=new qh.ProtocolRequestType(t.method)})(S1=Ni.CallHierarchyOutgoingCallsRequest||(Ni.CallHierarchyOutgoingCallsRequest={}))});var DI=ye(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.SemanticTokensRefreshRequest=bt.SemanticTokensRangeRequest=bt.SemanticTokensDeltaRequest=bt.SemanticTokensRequest=bt.SemanticTokensRegistrationType=bt.TokenFormat=bt.SemanticTokens=bt.SemanticTokenModifiers=bt.SemanticTokenTypes=void 0;var yc=gr(),x1;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator"})(x1=bt.SemanticTokenTypes||(bt.SemanticTokenTypes={}));var E1;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(E1=bt.SemanticTokenModifiers||(bt.SemanticTokenModifiers={}));var R1;(function(t){function e(r){let n=r;return n!==void 0&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}t.is=e})(R1=bt.SemanticTokens||(bt.SemanticTokens={}));var k1;(function(t){t.Relative="relative"})(k1=bt.TokenFormat||(bt.TokenFormat={}));var O1;(function(t){t.method="textDocument/semanticTokens",t.type=new yc.RegistrationType(t.method)})(O1=bt.SemanticTokensRegistrationType||(bt.SemanticTokensRegistrationType={}));var w1;(function(t){t.method="textDocument/semanticTokens/full",t.type=new yc.ProtocolRequestType(t.method)})(w1=bt.SemanticTokensRequest||(bt.SemanticTokensRequest={}));var L1;(function(t){t.method="textDocument/semanticTokens/full/delta",t.type=new yc.ProtocolRequestType(t.method)})(L1=bt.SemanticTokensDeltaRequest||(bt.SemanticTokensDeltaRequest={}));var D1;(function(t){t.method="textDocument/semanticTokens/range",t.type=new yc.ProtocolRequestType(t.method)})(D1=bt.SemanticTokensRangeRequest||(bt.SemanticTokensRangeRequest={}));var F1;(function(t){t.method="workspace/semanticTokens/refresh",t.type=new yc.ProtocolRequestType0(t.method)})(F1=bt.SemanticTokensRefreshRequest||(bt.SemanticTokensRefreshRequest={}))});var FI=ye(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.ShowDocumentRequest=void 0;var M1=gr(),V1;(function(t){t.method="window/showDocument",t.type=new M1.ProtocolRequestType(t.method)})(V1=bc.ShowDocumentRequest||(bc.ShowDocumentRequest={}))});var MI=ye(Nc=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});Nc.LinkedEditingRangeRequest=void 0;var B1=gr(),q1;(function(t){t.method="textDocument/linkedEditingRange",t.type=new B1.ProtocolRequestType(t.method)})(q1=Nc.LinkedEditingRangeRequest||(Nc.LinkedEditingRangeRequest={}))});var VI=ye(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.WillDeleteFilesRequest=jt.DidDeleteFilesNotification=jt.DidRenameFilesNotification=jt.WillRenameFilesRequest=jt.DidCreateFilesNotification=jt.WillCreateFilesRequest=jt.FileOperationPatternKind=void 0;var Do=gr(),U1;(function(t){t.file="file",t.folder="folder"})(U1=jt.FileOperationPatternKind||(jt.FileOperationPatternKind={}));var j1;(function(t){t.method="workspace/willCreateFiles",t.type=new Do.ProtocolRequestType(t.method)})(j1=jt.WillCreateFilesRequest||(jt.WillCreateFilesRequest={}));var G1;(function(t){t.method="workspace/didCreateFiles",t.type=new Do.ProtocolNotificationType(t.method)})(G1=jt.DidCreateFilesNotification||(jt.DidCreateFilesNotification={}));var W1;(function(t){t.method="workspace/willRenameFiles",t.type=new Do.ProtocolRequestType(t.method)})(W1=jt.WillRenameFilesRequest||(jt.WillRenameFilesRequest={}));var H1;(function(t){t.method="workspace/didRenameFiles",t.type=new Do.ProtocolNotificationType(t.method)})(H1=jt.DidRenameFilesNotification||(jt.DidRenameFilesNotification={}));var Y1;(function(t){t.method="workspace/didDeleteFiles",t.type=new Do.ProtocolNotificationType(t.method)})(Y1=jt.DidDeleteFilesNotification||(jt.DidDeleteFilesNotification={}));var K1;(function(t){t.method="workspace/willDeleteFiles",t.type=new Do.ProtocolRequestType(t.method)})(K1=jt.WillDeleteFilesRequest||(jt.WillDeleteFilesRequest={}))});var BI=ye(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});vi.MonikerRequest=vi.MonikerKind=vi.UniquenessLevel=void 0;var $1=gr(),z1;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(z1=vi.UniquenessLevel||(vi.UniquenessLevel={}));var Q1;(function(t){t.import="import",t.export="export",t.local="local"})(Q1=vi.MonikerKind||(vi.MonikerKind={}));var X1;(function(t){t.method="textDocument/moniker",t.type=new $1.ProtocolRequestType(t.method)})(X1=vi.MonikerRequest||(vi.MonikerRequest={}))});var WI=ye(L=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});L.DocumentLinkRequest=L.CodeLensRefreshRequest=L.CodeLensResolveRequest=L.CodeLensRequest=L.WorkspaceSymbolRequest=L.CodeActionResolveRequest=L.CodeActionRequest=L.DocumentSymbolRequest=L.DocumentHighlightRequest=L.ReferencesRequest=L.DefinitionRequest=L.SignatureHelpRequest=L.SignatureHelpTriggerKind=L.HoverRequest=L.CompletionResolveRequest=L.CompletionRequest=L.CompletionTriggerKind=L.PublishDiagnosticsNotification=L.WatchKind=L.FileChangeType=L.DidChangeWatchedFilesNotification=L.WillSaveTextDocumentWaitUntilRequest=L.WillSaveTextDocumentNotification=L.TextDocumentSaveReason=L.DidSaveTextDocumentNotification=L.DidCloseTextDocumentNotification=L.DidChangeTextDocumentNotification=L.TextDocumentContentChangeEvent=L.DidOpenTextDocumentNotification=L.TextDocumentSyncKind=L.TelemetryEventNotification=L.LogMessageNotification=L.ShowMessageRequest=L.ShowMessageNotification=L.MessageType=L.DidChangeConfigurationNotification=L.ExitNotification=L.ShutdownRequest=L.InitializedNotification=L.InitializeError=L.InitializeRequest=L.WorkDoneProgressOptions=L.TextDocumentRegistrationOptions=L.StaticRegistrationOptions=L.FailureHandlingKind=L.ResourceOperationKind=L.UnregistrationRequest=L.RegistrationRequest=L.DocumentSelector=L.DocumentFilter=void 0;L.MonikerRequest=L.MonikerKind=L.UniquenessLevel=L.WillDeleteFilesRequest=L.DidDeleteFilesNotification=L.WillRenameFilesRequest=L.DidRenameFilesNotification=L.WillCreateFilesRequest=L.DidCreateFilesNotification=L.FileOperationPatternKind=L.LinkedEditingRangeRequest=L.ShowDocumentRequest=L.SemanticTokensRegistrationType=L.SemanticTokensRefreshRequest=L.SemanticTokensRangeRequest=L.SemanticTokensDeltaRequest=L.SemanticTokensRequest=L.TokenFormat=L.SemanticTokens=L.SemanticTokenModifiers=L.SemanticTokenTypes=L.CallHierarchyPrepareRequest=L.CallHierarchyOutgoingCallsRequest=L.CallHierarchyIncomingCallsRequest=L.WorkDoneProgressCancelNotification=L.WorkDoneProgressCreateRequest=L.WorkDoneProgress=L.SelectionRangeRequest=L.DeclarationRequest=L.FoldingRangeRequest=L.ColorPresentationRequest=L.DocumentColorRequest=L.ConfigurationRequest=L.DidChangeWorkspaceFoldersNotification=L.WorkspaceFoldersRequest=L.TypeDefinitionRequest=L.ImplementationRequest=L.ApplyWorkspaceEditRequest=L.ExecuteCommandRequest=L.PrepareRenameRequest=L.RenameRequest=L.PrepareSupportDefaultBehavior=L.DocumentOnTypeFormattingRequest=L.DocumentRangeFormattingRequest=L.DocumentFormattingRequest=L.DocumentLinkResolveRequest=void 0;var Us=NI(),He=gr(),J1=vI();Object.defineProperty(L,"ImplementationRequest",{enumerable:!0,get:function(){return J1.ImplementationRequest}});var Z1=II();Object.defineProperty(L,"TypeDefinitionRequest",{enumerable:!0,get:function(){return Z1.TypeDefinitionRequest}});var qI=CI();Object.defineProperty(L,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return qI.WorkspaceFoldersRequest}});Object.defineProperty(L,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return qI.DidChangeWorkspaceFoldersNotification}});var eF=AI();Object.defineProperty(L,"ConfigurationRequest",{enumerable:!0,get:function(){return eF.ConfigurationRequest}});var UI=xI();Object.defineProperty(L,"DocumentColorRequest",{enumerable:!0,get:function(){return UI.DocumentColorRequest}});Object.defineProperty(L,"ColorPresentationRequest",{enumerable:!0,get:function(){return UI.ColorPresentationRequest}});var tF=EI();Object.defineProperty(L,"FoldingRangeRequest",{enumerable:!0,get:function(){return tF.FoldingRangeRequest}});var rF=RI();Object.defineProperty(L,"DeclarationRequest",{enumerable:!0,get:function(){return rF.DeclarationRequest}});var nF=kI();Object.defineProperty(L,"SelectionRangeRequest",{enumerable:!0,get:function(){return nF.SelectionRangeRequest}});var Uh=wI();Object.defineProperty(L,"WorkDoneProgress",{enumerable:!0,get:function(){return Uh.WorkDoneProgress}});Object.defineProperty(L,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Uh.WorkDoneProgressCreateRequest}});Object.defineProperty(L,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Uh.WorkDoneProgressCancelNotification}});var jh=LI();Object.defineProperty(L,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return jh.CallHierarchyIncomingCallsRequest}});Object.defineProperty(L,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return jh.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(L,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return jh.CallHierarchyPrepareRequest}});var ds=DI();Object.defineProperty(L,"SemanticTokenTypes",{enumerable:!0,get:function(){return ds.SemanticTokenTypes}});Object.defineProperty(L,"SemanticTokenModifiers",{enumerable:!0,get:function(){return ds.SemanticTokenModifiers}});Object.defineProperty(L,"SemanticTokens",{enumerable:!0,get:function(){return ds.SemanticTokens}});Object.defineProperty(L,"TokenFormat",{enumerable:!0,get:function(){return ds.TokenFormat}});Object.defineProperty(L,"SemanticTokensRequest",{enumerable:!0,get:function(){return ds.SemanticTokensRequest}});Object.defineProperty(L,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return ds.SemanticTokensDeltaRequest}});Object.defineProperty(L,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return ds.SemanticTokensRangeRequest}});Object.defineProperty(L,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return ds.SemanticTokensRefreshRequest}});Object.defineProperty(L,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return ds.SemanticTokensRegistrationType}});var iF=FI();Object.defineProperty(L,"ShowDocumentRequest",{enumerable:!0,get:function(){return iF.ShowDocumentRequest}});var sF=MI();Object.defineProperty(L,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return sF.LinkedEditingRangeRequest}});var ka=VI();Object.defineProperty(L,"FileOperationPatternKind",{enumerable:!0,get:function(){return ka.FileOperationPatternKind}});Object.defineProperty(L,"DidCreateFilesNotification",{enumerable:!0,get:function(){return ka.DidCreateFilesNotification}});Object.defineProperty(L,"WillCreateFilesRequest",{enumerable:!0,get:function(){return ka.WillCreateFilesRequest}});Object.defineProperty(L,"DidRenameFilesNotification",{enumerable:!0,get:function(){return ka.DidRenameFilesNotification}});Object.defineProperty(L,"WillRenameFilesRequest",{enumerable:!0,get:function(){return ka.WillRenameFilesRequest}});Object.defineProperty(L,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return ka.DidDeleteFilesNotification}});Object.defineProperty(L,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return ka.WillDeleteFilesRequest}});var Gh=BI();Object.defineProperty(L,"UniquenessLevel",{enumerable:!0,get:function(){return Gh.UniquenessLevel}});Object.defineProperty(L,"MonikerKind",{enumerable:!0,get:function(){return Gh.MonikerKind}});Object.defineProperty(L,"MonikerRequest",{enumerable:!0,get:function(){return Gh.MonikerRequest}});var jI;(function(t){function e(r){let n=r;return Us.string(n.language)||Us.string(n.scheme)||Us.string(n.pattern)}t.is=e})(jI=L.DocumentFilter||(L.DocumentFilter={}));var GI;(function(t){function e(r){if(!Array.isArray(r))return!1;for(let n of r)if(!Us.string(n)&&!jI.is(n))return!1;return!0}t.is=e})(GI=L.DocumentSelector||(L.DocumentSelector={}));var aF;(function(t){t.type=new He.ProtocolRequestType("client/registerCapability")})(aF=L.RegistrationRequest||(L.RegistrationRequest={}));var oF;(function(t){t.type=new He.ProtocolRequestType("client/unregisterCapability")})(oF=L.UnregistrationRequest||(L.UnregistrationRequest={}));var lF;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(lF=L.ResourceOperationKind||(L.ResourceOperationKind={}));var cF;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(cF=L.FailureHandlingKind||(L.FailureHandlingKind={}));var uF;(function(t){function e(r){let n=r;return n&&Us.string(n.id)&&n.id.length>0}t.hasId=e})(uF=L.StaticRegistrationOptions||(L.StaticRegistrationOptions={}));var fF;(function(t){function e(r){let n=r;return n&&(n.documentSelector===null||GI.is(n.documentSelector))}t.is=e})(fF=L.TextDocumentRegistrationOptions||(L.TextDocumentRegistrationOptions={}));var dF;(function(t){function e(n){let i=n;return Us.objectLiteral(i)&&(i.workDoneProgress===void 0||Us.boolean(i.workDoneProgress))}t.is=e;function r(n){let i=n;return i&&Us.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=r})(dF=L.WorkDoneProgressOptions||(L.WorkDoneProgressOptions={}));var pF;(function(t){t.type=new He.ProtocolRequestType("initialize")})(pF=L.InitializeRequest||(L.InitializeRequest={}));var hF;(function(t){t.unknownProtocolVersion=1})(hF=L.InitializeError||(L.InitializeError={}));var mF;(function(t){t.type=new He.ProtocolNotificationType("initialized")})(mF=L.InitializedNotification||(L.InitializedNotification={}));var gF;(function(t){t.type=new He.ProtocolRequestType0("shutdown")})(gF=L.ShutdownRequest||(L.ShutdownRequest={}));var TF;(function(t){t.type=new He.ProtocolNotificationType0("exit")})(TF=L.ExitNotification||(L.ExitNotification={}));var _F;(function(t){t.type=new He.ProtocolNotificationType("workspace/didChangeConfiguration")})(_F=L.DidChangeConfigurationNotification||(L.DidChangeConfigurationNotification={}));var yF;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4})(yF=L.MessageType||(L.MessageType={}));var bF;(function(t){t.type=new He.ProtocolNotificationType("window/showMessage")})(bF=L.ShowMessageNotification||(L.ShowMessageNotification={}));var NF;(function(t){t.type=new He.ProtocolRequestType("window/showMessageRequest")})(NF=L.ShowMessageRequest||(L.ShowMessageRequest={}));var vF;(function(t){t.type=new He.ProtocolNotificationType("window/logMessage")})(vF=L.LogMessageNotification||(L.LogMessageNotification={}));var IF;(function(t){t.type=new He.ProtocolNotificationType("telemetry/event")})(IF=L.TelemetryEventNotification||(L.TelemetryEventNotification={}));var PF;(function(t){t.None=0,t.Full=1,t.Incremental=2})(PF=L.TextDocumentSyncKind||(L.TextDocumentSyncKind={}));var CF;(function(t){t.method="textDocument/didOpen",t.type=new He.ProtocolNotificationType(t.method)})(CF=L.DidOpenTextDocumentNotification||(L.DidOpenTextDocumentNotification={}));var AF;(function(t){function e(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}t.isIncremental=e;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}t.isFull=r})(AF=L.TextDocumentContentChangeEvent||(L.TextDocumentContentChangeEvent={}));var SF;(function(t){t.method="textDocument/didChange",t.type=new He.ProtocolNotificationType(t.method)})(SF=L.DidChangeTextDocumentNotification||(L.DidChangeTextDocumentNotification={}));var xF;(function(t){t.method="textDocument/didClose",t.type=new He.ProtocolNotificationType(t.method)})(xF=L.DidCloseTextDocumentNotification||(L.DidCloseTextDocumentNotification={}));var EF;(function(t){t.method="textDocument/didSave",t.type=new He.ProtocolNotificationType(t.method)})(EF=L.DidSaveTextDocumentNotification||(L.DidSaveTextDocumentNotification={}));var RF;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(RF=L.TextDocumentSaveReason||(L.TextDocumentSaveReason={}));var kF;(function(t){t.method="textDocument/willSave",t.type=new He.ProtocolNotificationType(t.method)})(kF=L.WillSaveTextDocumentNotification||(L.WillSaveTextDocumentNotification={}));var OF;(function(t){t.method="textDocument/willSaveWaitUntil",t.type=new He.ProtocolRequestType(t.method)})(OF=L.WillSaveTextDocumentWaitUntilRequest||(L.WillSaveTextDocumentWaitUntilRequest={}));var wF;(function(t){t.type=new He.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(wF=L.DidChangeWatchedFilesNotification||(L.DidChangeWatchedFilesNotification={}));var LF;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(LF=L.FileChangeType||(L.FileChangeType={}));var DF;(function(t){t.Create=1,t.Change=2,t.Delete=4})(DF=L.WatchKind||(L.WatchKind={}));var FF;(function(t){t.type=new He.ProtocolNotificationType("textDocument/publishDiagnostics")})(FF=L.PublishDiagnosticsNotification||(L.PublishDiagnosticsNotification={}));var MF;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(MF=L.CompletionTriggerKind||(L.CompletionTriggerKind={}));var VF;(function(t){t.method="textDocument/completion",t.type=new He.ProtocolRequestType(t.method)})(VF=L.CompletionRequest||(L.CompletionRequest={}));var BF;(function(t){t.method="completionItem/resolve",t.type=new He.ProtocolRequestType(t.method)})(BF=L.CompletionResolveRequest||(L.CompletionResolveRequest={}));var qF;(function(t){t.method="textDocument/hover",t.type=new He.ProtocolRequestType(t.method)})(qF=L.HoverRequest||(L.HoverRequest={}));var UF;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(UF=L.SignatureHelpTriggerKind||(L.SignatureHelpTriggerKind={}));var jF;(function(t){t.method="textDocument/signatureHelp",t.type=new He.ProtocolRequestType(t.method)})(jF=L.SignatureHelpRequest||(L.SignatureHelpRequest={}));var GF;(function(t){t.method="textDocument/definition",t.type=new He.ProtocolRequestType(t.method)})(GF=L.DefinitionRequest||(L.DefinitionRequest={}));var WF;(function(t){t.method="textDocument/references",t.type=new He.ProtocolRequestType(t.method)})(WF=L.ReferencesRequest||(L.ReferencesRequest={}));var HF;(function(t){t.method="textDocument/documentHighlight",t.type=new He.ProtocolRequestType(t.method)})(HF=L.DocumentHighlightRequest||(L.DocumentHighlightRequest={}));var YF;(function(t){t.method="textDocument/documentSymbol",t.type=new He.ProtocolRequestType(t.method)})(YF=L.DocumentSymbolRequest||(L.DocumentSymbolRequest={}));var KF;(function(t){t.method="textDocument/codeAction",t.type=new He.ProtocolRequestType(t.method)})(KF=L.CodeActionRequest||(L.CodeActionRequest={}));var $F;(function(t){t.method="codeAction/resolve",t.type=new He.ProtocolRequestType(t.method)})($F=L.CodeActionResolveRequest||(L.CodeActionResolveRequest={}));var zF;(function(t){t.method="workspace/symbol",t.type=new He.ProtocolRequestType(t.method)})(zF=L.WorkspaceSymbolRequest||(L.WorkspaceSymbolRequest={}));var QF;(function(t){t.method="textDocument/codeLens",t.type=new He.ProtocolRequestType(t.method)})(QF=L.CodeLensRequest||(L.CodeLensRequest={}));var XF;(function(t){t.method="codeLens/resolve",t.type=new He.ProtocolRequestType(t.method)})(XF=L.CodeLensResolveRequest||(L.CodeLensResolveRequest={}));var JF;(function(t){t.method="workspace/codeLens/refresh",t.type=new He.ProtocolRequestType0(t.method)})(JF=L.CodeLensRefreshRequest||(L.CodeLensRefreshRequest={}));var ZF;(function(t){t.method="textDocument/documentLink",t.type=new He.ProtocolRequestType(t.method)})(ZF=L.DocumentLinkRequest||(L.DocumentLinkRequest={}));var eM;(function(t){t.method="documentLink/resolve",t.type=new He.ProtocolRequestType(t.method)})(eM=L.DocumentLinkResolveRequest||(L.DocumentLinkResolveRequest={}));var tM;(function(t){t.method="textDocument/formatting",t.type=new He.ProtocolRequestType(t.method)})(tM=L.DocumentFormattingRequest||(L.DocumentFormattingRequest={}));var rM;(function(t){t.method="textDocument/rangeFormatting",t.type=new He.ProtocolRequestType(t.method)})(rM=L.DocumentRangeFormattingRequest||(L.DocumentRangeFormattingRequest={}));var nM;(function(t){t.method="textDocument/onTypeFormatting",t.type=new He.ProtocolRequestType(t.method)})(nM=L.DocumentOnTypeFormattingRequest||(L.DocumentOnTypeFormattingRequest={}));var iM;(function(t){t.Identifier=1})(iM=L.PrepareSupportDefaultBehavior||(L.PrepareSupportDefaultBehavior={}));var sM;(function(t){t.method="textDocument/rename",t.type=new He.ProtocolRequestType(t.method)})(sM=L.RenameRequest||(L.RenameRequest={}));var aM;(function(t){t.method="textDocument/prepareRename",t.type=new He.ProtocolRequestType(t.method)})(aM=L.PrepareRenameRequest||(L.PrepareRenameRequest={}));var oM;(function(t){t.type=new He.ProtocolRequestType("workspace/executeCommand")})(oM=L.ExecuteCommandRequest||(L.ExecuteCommandRequest={}));var lM;(function(t){t.type=new He.ProtocolRequestType("workspace/applyEdit")})(lM=L.ApplyWorkspaceEditRequest||(L.ApplyWorkspaceEditRequest={}))});var YI=ye($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.createProtocolConnection=void 0;var HI=wo();function cM(t,e,r,n){return HI.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),HI.createMessageConnection(t,e,r,n)}$u.createProtocolConnection=cM});var KI=ye(jr=>{"use strict";var uM=jr&&jr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zu=jr&&jr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&uM(e,t,r)};Object.defineProperty(jr,"__esModule",{value:!0});jr.LSPErrorCodes=jr.createProtocolConnection=void 0;zu(wo(),jr);zu(Ft(),jr);zu(gr(),jr);zu(WI(),jr);var fM=YI();Object.defineProperty(jr,"createProtocolConnection",{enumerable:!0,get:function(){return fM.createProtocolConnection}});var dM;(function(t){t.lspReservedErrorRangeStart=-32899,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(dM=jr.LSPErrorCodes||(jr.LSPErrorCodes={}))});var nn=ye(Gi=>{"use strict";var pM=Gi&&Gi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$I=Gi&&Gi.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&pM(e,t,r)};Object.defineProperty(Gi,"__esModule",{value:!0});Gi.createProtocolConnection=void 0;var hM=Bh();$I(Bh(),Gi);$I(KI(),Gi);function mM(t,e,r,n){return hM.createMessageConnection(t,e,r,n)}Gi.createProtocolConnection=mM});var Wh=ye(zn=>{"use strict";Object.defineProperty(zn,"__esModule",{value:!0});zn.generateUuid=zn.parse=zn.isUUID=zn.v4=zn.empty=void 0;var Qu=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},Ze=class extends Qu{constructor(){super([Ze._randomHex(),Ze._randomHex(),Ze._randomHex(),Ze._randomHex(),Ze._randomHex(),Ze._randomHex(),Ze._randomHex(),Ze._randomHex(),"-",Ze._randomHex(),Ze._randomHex(),Ze._randomHex(),Ze._randomHex(),"-","4",Ze._randomHex(),Ze._randomHex(),Ze._randomHex(),"-",Ze._oneOf(Ze._timeHighBits),Ze._randomHex(),Ze._randomHex(),Ze._randomHex(),"-",Ze._randomHex(),Ze._randomHex(),Ze._randomHex(),Ze._randomHex(),Ze._randomHex(),Ze._randomHex(),Ze._randomHex(),Ze._randomHex(),Ze._randomHex(),Ze._randomHex(),Ze._randomHex(),Ze._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return Ze._oneOf(Ze._chars)}};Ze._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Ze._timeHighBits=["8","9","a","b"];zn.empty=new Qu("00000000-0000-0000-0000-000000000000");function zI(){return new Ze}zn.v4=zI;var gM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function QI(t){return gM.test(t)}zn.isUUID=QI;function TM(t){if(!QI(t))throw new Error("invalid uuid");return new Qu(t)}zn.parse=TM;function _M(){return zI().asHex()}zn.generateUuid=_M});var JI=ye(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.attachPartialResult=Gs.ProgressFeature=Gs.attachWorkDone=void 0;var js=nn(),yM=Wh(),ps=class{constructor(e,r){this._connection=e,this._token=r,ps.Instances.set(this._token,this)}begin(e,r,n,i){let s={kind:"begin",title:e,percentage:r,message:n,cancellable:i};this._connection.sendProgress(js.WorkDoneProgress.type,this._token,s)}report(e,r){let n={kind:"report"};typeof e=="number"?(n.percentage=e,r!==void 0&&(n.message=r)):n.message=e,this._connection.sendProgress(js.WorkDoneProgress.type,this._token,n)}done(){ps.Instances.delete(this._token),this._connection.sendProgress(js.WorkDoneProgress.type,this._token,{kind:"end"})}};ps.Instances=new Map;var Hh=class extends ps{constructor(e,r){super(e,r);this._source=new js.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},Xu=class{constructor(){}begin(){}report(){}done(){}},Yh=class extends Xu{constructor(){super();this._source=new js.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function bM(t,e){if(e===void 0||e.workDoneToken===void 0)return new Xu;let r=e.workDoneToken;return delete e.workDoneToken,new ps(t,r)}Gs.attachWorkDone=bM;var NM=t=>class extends t{constructor(){super();this._progressSupported=!1}initialize(e){var r;((r=e==null?void 0:e.window)===null||r===void 0?void 0:r.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification(js.WorkDoneProgressCancelNotification.type,n=>{let i=ps.Instances.get(n.token);(i instanceof Hh||i instanceof Yh)&&i.cancel()}))}attachWorkDoneProgress(e){return e===void 0?new Xu:new ps(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){let e=yM.generateUuid();return this.connection.sendRequest(js.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new Hh(this.connection,e))}else return Promise.resolve(new Yh)}};Gs.ProgressFeature=NM;var Kh;(function(t){t.type=new js.ProgressType})(Kh||(Kh={}));var XI=class{constructor(e,r){this._connection=e,this._token=r}report(e){this._connection.sendProgress(Kh.type,this._token,e)}};function vM(t,e){if(e===void 0||e.partialResultToken===void 0)return;let r=e.partialResultToken;return delete e.partialResultToken,new XI(t,r)}Gs.attachPartialResult=vM});var ZI=ye(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.ConfigurationFeature=void 0;var IM=nn(),PM=Bu(),CM=t=>class extends t{getConfiguration(e){return e?PM.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let r={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(IM.ConfigurationRequest.type,r).then(n=>Array.isArray(e)?n:n[0])}};Ju.ConfigurationFeature=CM});var eP=ye(ef=>{"use strict";Object.defineProperty(ef,"__esModule",{value:!0});ef.WorkspaceFoldersFeature=void 0;var Zu=nn(),AM=t=>class extends t{initialize(e){let r=e.workspace;r&&r.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new Zu.Emitter,this.connection.onNotification(Zu.DidChangeWorkspaceFoldersNotification.type,n=>{this._onDidChangeWorkspaceFolders.fire(n.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(Zu.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(Zu.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};ef.WorkspaceFoldersFeature=AM});var tP=ye(tf=>{"use strict";Object.defineProperty(tf,"__esModule",{value:!0});tf.CallHierarchyFeature=void 0;var $h=nn(),SM=t=>class extends t{get callHierarchy(){return{onPrepare:e=>{this.connection.onRequest($h.CallHierarchyPrepareRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),void 0))},onIncomingCalls:e=>{let r=$h.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onOutgoingCalls:e=>{let r=$h.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};tf.CallHierarchyFeature=SM});var Qh=ye(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});Fo.SemanticTokensBuilder=Fo.SemanticTokensFeature=void 0;var zh=nn(),xM=t=>class extends t{get semanticTokens(){return{on:e=>{let r=zh.SemanticTokensRequest.type;this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onDelta:e=>{let r=zh.SemanticTokensDeltaRequest.type;this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onRange:e=>{let r=zh.SemanticTokensRangeRequest.type;this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};Fo.SemanticTokensFeature=xM;var rP=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,r,n,i,s){let o=e,l=r;this._dataLen>0&&(o-=this._prevLine,o===0&&(l-=this._prevChar)),this._data[this._dataLen++]=o,this._data[this._dataLen++]=l,this._data[this._dataLen++]=n,this._data[this._dataLen++]=i,this._data[this._dataLen++]=s,this._prevLine=e,this._prevChar=r}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){if(this._prevData!==void 0){let e=this._prevData.length,r=this._data.length,n=0;for(;n<r&&n<e&&this._prevData[n]===this._data[n];)n++;if(n<r&&n<e){let i=0;for(;i<r&&i<e&&this._prevData[e-1-i]===this._data[r-1-i];)i++;let s=this._data.slice(n,r-i);return{resultId:this.id,edits:[{start:n,deleteCount:e-i-n,data:s}]}}else return n<r?{resultId:this.id,edits:[{start:n,deleteCount:0,data:this._data.slice(n)}]}:n<e?{resultId:this.id,edits:[{start:n,deleteCount:e-n}]}:{resultId:this.id,edits:[]}}else return this.build()}};Fo.SemanticTokensBuilder=rP});var nP=ye(rf=>{"use strict";Object.defineProperty(rf,"__esModule",{value:!0});rf.ShowDocumentFeature=void 0;var EM=nn(),RM=t=>class extends t{showDocument(e){return this.connection.sendRequest(EM.ShowDocumentRequest.type,e)}};rf.ShowDocumentFeature=RM});var iP=ye(nf=>{"use strict";Object.defineProperty(nf,"__esModule",{value:!0});nf.FileOperationsFeature=void 0;var Mo=nn(),kM=t=>class extends t{onDidCreateFiles(e){this.connection.onNotification(Mo.DidCreateFilesNotification.type,r=>{e(r)})}onDidRenameFiles(e){this.connection.onNotification(Mo.DidRenameFilesNotification.type,r=>{e(r)})}onDidDeleteFiles(e){this.connection.onNotification(Mo.DidDeleteFilesNotification.type,r=>{e(r)})}onWillCreateFiles(e){return this.connection.onRequest(Mo.WillCreateFilesRequest.type,(r,n)=>e(r,n))}onWillRenameFiles(e){return this.connection.onRequest(Mo.WillRenameFilesRequest.type,(r,n)=>e(r,n))}onWillDeleteFiles(e){return this.connection.onRequest(Mo.WillDeleteFilesRequest.type,(r,n)=>e(r,n))}};nf.FileOperationsFeature=kM});var sP=ye(sf=>{"use strict";Object.defineProperty(sf,"__esModule",{value:!0});sf.LinkedEditingRangeFeature=void 0;var OM=nn(),wM=t=>class extends t{onLinkedEditingRange(e){this.connection.onRequest(OM.LinkedEditingRangeRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),void 0))}};sf.LinkedEditingRangeFeature=wM});var aP=ye(af=>{"use strict";Object.defineProperty(af,"__esModule",{value:!0});af.MonikerFeature=void 0;var LM=nn(),DM=t=>class extends t{get moniker(){return{on:e=>{let r=LM.MonikerRequest.type;this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};af.MonikerFeature=DM});var sm=ye(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.createConnection=ut.combineFeatures=ut.combineLanguagesFeatures=ut.combineWorkspaceFeatures=ut.combineWindowFeatures=ut.combineClientFeatures=ut.combineTracerFeatures=ut.combineTelemetryFeatures=ut.combineConsoleFeatures=ut._LanguagesImpl=ut.BulkUnregistration=ut.BulkRegistration=ut.ErrorMessageTracker=ut.TextDocuments=void 0;var ue=nn(),Qn=Bu(),Xh=Wh(),Ye=JI(),FM=ZI(),MM=eP(),VM=tP(),BM=Qh(),qM=nP(),UM=iP(),jM=sP(),GM=aP();function Jh(t){if(t!==null)return t}var oP=class{constructor(e){this._documents=Object.create(null),this._configuration=e,this._onDidChangeContent=new ue.Emitter,this._onDidOpen=new ue.Emitter,this._onDidClose=new ue.Emitter,this._onDidSave=new ue.Emitter,this._onWillSave=new ue.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._documents[e]}all(){return Object.keys(this._documents).map(e=>this._documents[e])}keys(){return Object.keys(this._documents)}listen(e){e.__textDocumentSync=ue.TextDocumentSyncKind.Full,e.onDidOpenTextDocument(r=>{let n=r.textDocument,i=this._configuration.create(n.uri,n.languageId,n.version,n.text);this._documents[n.uri]=i;let s=Object.freeze({document:i});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)}),e.onDidChangeTextDocument(r=>{let n=r.textDocument,i=r.contentChanges;if(i.length===0)return;let s=this._documents[n.uri],{version:o}=n;if(o==null)throw new Error(`Received document change event for ${n.uri} without valid version identifier`);s=this._configuration.update(s,i,o),this._documents[n.uri]=s,this._onDidChangeContent.fire(Object.freeze({document:s}))}),e.onDidCloseTextDocument(r=>{let n=this._documents[r.textDocument.uri];n&&(delete this._documents[r.textDocument.uri],this._onDidClose.fire(Object.freeze({document:n})))}),e.onWillSaveTextDocument(r=>{let n=this._documents[r.textDocument.uri];n&&this._onWillSave.fire(Object.freeze({document:n,reason:r.reason}))}),e.onWillSaveTextDocumentWaitUntil((r,n)=>{let i=this._documents[r.textDocument.uri];return i&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:i,reason:r.reason}),n):[]}),e.onDidSaveTextDocument(r=>{let n=this._documents[r.textDocument.uri];n&&this._onDidSave.fire(Object.freeze({document:n}))})}};ut.TextDocuments=oP;var lP=class{constructor(){this._messages=Object.create(null)}add(e){let r=this._messages[e];r||(r=0),r++,this._messages[e]=r}sendErrors(e){Object.keys(this._messages).forEach(r=>{e.window.showErrorMessage(r)})}};ut.ErrorMessageTracker=lP;var Zh=class{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(ue.MessageType.Error,e)}warn(e){this.send(ue.MessageType.Warning,e)}info(e){this.send(ue.MessageType.Info,e)}log(e){this.send(ue.MessageType.Log,e)}send(e,r){this._rawConnection&&this._rawConnection.sendNotification(ue.LogMessageNotification.type,{type:e,message:r})}},cP=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...r){let n={type:ue.MessageType.Error,message:e,actions:r};return this.connection.sendRequest(ue.ShowMessageRequest.type,n).then(Jh)}showWarningMessage(e,...r){let n={type:ue.MessageType.Warning,message:e,actions:r};return this.connection.sendRequest(ue.ShowMessageRequest.type,n).then(Jh)}showInformationMessage(e,...r){let n={type:ue.MessageType.Info,message:e,actions:r};return this.connection.sendRequest(ue.ShowMessageRequest.type,n).then(Jh)}},uP=qM.ShowDocumentFeature(Ye.ProgressFeature(cP)),WM;(function(t){function e(){return new em}t.create=e})(WM=ut.BulkRegistration||(ut.BulkRegistration={}));var em=class{constructor(){this._registrations=[],this._registered=new Set}add(e,r){let n=Qn.string(e)?e:e.method;if(this._registered.has(n))throw new Error(`${n} is already added to this registration`);let i=Xh.generateUuid();this._registrations.push({id:i,method:n,registerOptions:r||{}}),this._registered.add(n)}asRegistrationParams(){return{registrations:this._registrations}}},HM;(function(t){function e(){return new of(void 0,[])}t.create=e})(HM=ut.BulkUnregistration||(ut.BulkUnregistration={}));var of=class{constructor(e,r){this._connection=e,this._unregistrations=new Map,r.forEach(n=>{this._unregistrations.set(n.method,n)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let n of this._unregistrations.values())e.push(n);let r={unregisterations:e};this._connection.sendRequest(ue.UnregistrationRequest.type,r).then(void 0,n=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){let r=Qn.string(e)?e:e.method,n=this._unregistrations.get(r);if(!n)return!1;let i={unregisterations:[n]};return this._connection.sendRequest(ue.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(r)},s=>{this._connection.console.info(`Un-registering request handler for ${n.id} failed.`)}),!0}},tm=class{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,r,n){return e instanceof em?this.registerMany(e):e instanceof of?this.registerSingle1(e,r,n):this.registerSingle2(e,r)}registerSingle1(e,r,n){let i=Qn.string(r)?r:r.method,s=Xh.generateUuid(),o={registrations:[{id:s,method:i,registerOptions:n||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(ue.RegistrationRequest.type,o).then(l=>(e.add({id:s,method:i}),e),l=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(l)))}registerSingle2(e,r){let n=Qn.string(e)?e:e.method,i=Xh.generateUuid(),s={registrations:[{id:i,method:n,registerOptions:r||{}}]};return this.connection.sendRequest(ue.RegistrationRequest.type,s).then(o=>ue.Disposable.create(()=>{this.unregisterSingle(i,n)}),o=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(o)))}unregisterSingle(e,r){let n={unregisterations:[{id:e,method:r}]};return this.connection.sendRequest(ue.UnregistrationRequest.type,n).then(void 0,i=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)})}registerMany(e){let r=e.asRegistrationParams();return this.connection.sendRequest(ue.RegistrationRequest.type,r).then(()=>new of(this._connection,r.registrations.map(n=>({id:n.id,method:n.method}))),n=>(this.connection.console.info("Bulk registration failed."),Promise.reject(n)))}},fP=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function r(i){return i&&!!i.edit}let n=r(e)?e:{edit:e};return this.connection.sendRequest(ue.ApplyWorkspaceEditRequest.type,n)}},dP=UM.FileOperationsFeature(MM.WorkspaceFoldersFeature(FM.ConfigurationFeature(fP))),rm=class{constructor(){this._trace=ue.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,r){this._trace!==ue.Trace.Off&&this.connection.sendNotification(ue.LogTraceNotification.type,{message:e,verbose:this._trace===ue.Trace.Verbose?r:void 0})}},nm=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(ue.TelemetryEventNotification.type,e)}},im=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return Ye.attachWorkDone(this.connection,e)}attachPartialResultProgress(e,r){return Ye.attachPartialResult(this.connection,r)}};ut._LanguagesImpl=im;var pP=GM.MonikerFeature(jM.LinkedEditingRangeFeature(BM.SemanticTokensFeature(VM.CallHierarchyFeature(im))));function hP(t,e){return function(r){return e(t(r))}}ut.combineConsoleFeatures=hP;function mP(t,e){return function(r){return e(t(r))}}ut.combineTelemetryFeatures=mP;function gP(t,e){return function(r){return e(t(r))}}ut.combineTracerFeatures=gP;function TP(t,e){return function(r){return e(t(r))}}ut.combineClientFeatures=TP;function _P(t,e){return function(r){return e(t(r))}}ut.combineWindowFeatures=_P;function yP(t,e){return function(r){return e(t(r))}}ut.combineWorkspaceFeatures=yP;function YM(t,e){return function(r){return e(t(r))}}ut.combineLanguagesFeatures=YM;function KM(t,e){function r(i,s,o){return i&&s?o(i,s):i||s}return{__brand:"features",console:r(t.console,e.console,hP),tracer:r(t.tracer,e.tracer,gP),telemetry:r(t.telemetry,e.telemetry,mP),client:r(t.client,e.client,TP),window:r(t.window,e.window,_P),workspace:r(t.workspace,e.workspace,yP)}}ut.combineFeatures=KM;function $M(t,e,r){let n=r&&r.console?new(r.console(Zh)):new Zh,i=t(n);n.rawAttach(i);let s=r&&r.tracer?new(r.tracer(rm)):new rm,o=r&&r.telemetry?new(r.telemetry(nm)):new nm,l=r&&r.client?new(r.client(tm)):new tm,u=r&&r.window?new(r.window(uP)):new uP,d=r&&r.workspace?new(r.workspace(dP)):new dP,h=r&&r.languages?new(r.languages(pP)):new pP,m=[n,s,o,l,u,d,h];function y(_){return _ instanceof Promise?_:Qn.thenable(_)?new Promise((C,P)=>{_.then(Y=>C(Y),Y=>P(Y))}):Promise.resolve(_)}let b,T,S,w={listen:()=>i.listen(),sendRequest:(_,...C)=>i.sendRequest(Qn.string(_)?_:_.method,...C),onRequest:(_,C)=>i.onRequest(_,C),sendNotification:(_,C)=>{let P=Qn.string(_)?_:_.method;arguments.length===1?i.sendNotification(P):i.sendNotification(P,C)},onNotification:(_,C)=>i.onNotification(_,C),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:_=>T=_,onInitialized:_=>i.onNotification(ue.InitializedNotification.type,_),onShutdown:_=>b=_,onExit:_=>S=_,get console(){return n},get telemetry(){return o},get tracer(){return s},get client(){return l},get window(){return u},get workspace(){return d},get languages(){return h},onDidChangeConfiguration:_=>i.onNotification(ue.DidChangeConfigurationNotification.type,_),onDidChangeWatchedFiles:_=>i.onNotification(ue.DidChangeWatchedFilesNotification.type,_),__textDocumentSync:void 0,onDidOpenTextDocument:_=>i.onNotification(ue.DidOpenTextDocumentNotification.type,_),onDidChangeTextDocument:_=>i.onNotification(ue.DidChangeTextDocumentNotification.type,_),onDidCloseTextDocument:_=>i.onNotification(ue.DidCloseTextDocumentNotification.type,_),onWillSaveTextDocument:_=>i.onNotification(ue.WillSaveTextDocumentNotification.type,_),onWillSaveTextDocumentWaitUntil:_=>i.onRequest(ue.WillSaveTextDocumentWaitUntilRequest.type,_),onDidSaveTextDocument:_=>i.onNotification(ue.DidSaveTextDocumentNotification.type,_),sendDiagnostics:_=>i.sendNotification(ue.PublishDiagnosticsNotification.type,_),onHover:_=>i.onRequest(ue.HoverRequest.type,(C,P)=>_(C,P,Ye.attachWorkDone(i,C),void 0)),onCompletion:_=>i.onRequest(ue.CompletionRequest.type,(C,P)=>_(C,P,Ye.attachWorkDone(i,C),Ye.attachPartialResult(i,C))),onCompletionResolve:_=>i.onRequest(ue.CompletionResolveRequest.type,_),onSignatureHelp:_=>i.onRequest(ue.SignatureHelpRequest.type,(C,P)=>_(C,P,Ye.attachWorkDone(i,C),void 0)),onDeclaration:_=>i.onRequest(ue.DeclarationRequest.type,(C,P)=>_(C,P,Ye.attachWorkDone(i,C),Ye.attachPartialResult(i,C))),onDefinition:_=>i.onRequest(ue.DefinitionRequest.type,(C,P)=>_(C,P,Ye.attachWorkDone(i,C),Ye.attachPartialResult(i,C))),onTypeDefinition:_=>i.onRequest(ue.TypeDefinitionRequest.type,(C,P)=>_(C,P,Ye.attachWorkDone(i,C),Ye.attachPartialResult(i,C))),onImplementation:_=>i.onRequest(ue.ImplementationRequest.type,(C,P)=>_(C,P,Ye.attachWorkDone(i,C),Ye.attachPartialResult(i,C))),onReferences:_=>i.onRequest(ue.ReferencesRequest.type,(C,P)=>_(C,P,Ye.attachWorkDone(i,C),Ye.attachPartialResult(i,C))),onDocumentHighlight:_=>i.onRequest(ue.DocumentHighlightRequest.type,(C,P)=>_(C,P,Ye.attachWorkDone(i,C),Ye.attachPartialResult(i,C))),onDocumentSymbol:_=>i.onRequest(ue.DocumentSymbolRequest.type,(C,P)=>_(C,P,Ye.attachWorkDone(i,C),Ye.attachPartialResult(i,C))),onWorkspaceSymbol:_=>i.onRequest(ue.WorkspaceSymbolRequest.type,(C,P)=>_(C,P,Ye.attachWorkDone(i,C),Ye.attachPartialResult(i,C))),onCodeAction:_=>i.onRequest(ue.CodeActionRequest.type,(C,P)=>_(C,P,Ye.attachWorkDone(i,C),Ye.attachPartialResult(i,C))),onCodeActionResolve:_=>i.onRequest(ue.CodeActionResolveRequest.type,(C,P)=>_(C,P)),onCodeLens:_=>i.onRequest(ue.CodeLensRequest.type,(C,P)=>_(C,P,Ye.attachWorkDone(i,C),Ye.attachPartialResult(i,C))),onCodeLensResolve:_=>i.onRequest(ue.CodeLensResolveRequest.type,(C,P)=>_(C,P)),onDocumentFormatting:_=>i.onRequest(ue.DocumentFormattingRequest.type,(C,P)=>_(C,P,Ye.attachWorkDone(i,C),void 0)),onDocumentRangeFormatting:_=>i.onRequest(ue.DocumentRangeFormattingRequest.type,(C,P)=>_(C,P,Ye.attachWorkDone(i,C),void 0)),onDocumentOnTypeFormatting:_=>i.onRequest(ue.DocumentOnTypeFormattingRequest.type,(C,P)=>_(C,P)),onRenameRequest:_=>i.onRequest(ue.RenameRequest.type,(C,P)=>_(C,P,Ye.attachWorkDone(i,C),void 0)),onPrepareRename:_=>i.onRequest(ue.PrepareRenameRequest.type,(C,P)=>_(C,P)),onDocumentLinks:_=>i.onRequest(ue.DocumentLinkRequest.type,(C,P)=>_(C,P,Ye.attachWorkDone(i,C),Ye.attachPartialResult(i,C))),onDocumentLinkResolve:_=>i.onRequest(ue.DocumentLinkResolveRequest.type,(C,P)=>_(C,P)),onDocumentColor:_=>i.onRequest(ue.DocumentColorRequest.type,(C,P)=>_(C,P,Ye.attachWorkDone(i,C),Ye.attachPartialResult(i,C))),onColorPresentation:_=>i.onRequest(ue.ColorPresentationRequest.type,(C,P)=>_(C,P,Ye.attachWorkDone(i,C),Ye.attachPartialResult(i,C))),onFoldingRanges:_=>i.onRequest(ue.FoldingRangeRequest.type,(C,P)=>_(C,P,Ye.attachWorkDone(i,C),Ye.attachPartialResult(i,C))),onSelectionRanges:_=>i.onRequest(ue.SelectionRangeRequest.type,(C,P)=>_(C,P,Ye.attachWorkDone(i,C),Ye.attachPartialResult(i,C))),onExecuteCommand:_=>i.onRequest(ue.ExecuteCommandRequest.type,(C,P)=>_(C,P,Ye.attachWorkDone(i,C),void 0)),dispose:()=>i.dispose()};for(let _ of m)_.attach(w);return i.onRequest(ue.InitializeRequest.type,_=>{e.initialize(_),Qn.string(_.trace)&&(s.trace=ue.Trace.fromString(_.trace));for(let C of m)C.initialize(_.capabilities);if(T){let C=T(_,new ue.CancellationTokenSource().token,Ye.attachWorkDone(i,_),void 0);return y(C).then(P=>{if(P instanceof ue.ResponseError)return P;let Y=P;Y||(Y={capabilities:{}});let M=Y.capabilities;M||(M={},Y.capabilities=M),M.textDocumentSync===void 0||M.textDocumentSync===null?M.textDocumentSync=Qn.number(w.__textDocumentSync)?w.__textDocumentSync:ue.TextDocumentSyncKind.None:!Qn.number(M.textDocumentSync)&&!Qn.number(M.textDocumentSync.change)&&(M.textDocumentSync.change=Qn.number(w.__textDocumentSync)?w.__textDocumentSync:ue.TextDocumentSyncKind.None);for(let Z of m)Z.fillServerCapabilities(M);return Y})}else{let C={capabilities:{textDocumentSync:ue.TextDocumentSyncKind.None}};for(let P of m)P.fillServerCapabilities(C.capabilities);return C}}),i.onRequest(ue.ShutdownRequest.type,()=>{if(e.shutdownReceived=!0,b)return b(new ue.CancellationTokenSource().token)}),i.onNotification(ue.ExitNotification.type,()=>{try{S&&S()}finally{e.shutdownReceived?e.exit(0):e.exit(1)}}),i.onNotification(ue.SetTraceNotification.type,_=>{s.trace=ue.Trace.fromString(_.value)}),w}ut.createConnection=$M});var NP=ye(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.resolveModulePath=Gr.FileSystem=Gr.resolveGlobalYarnPath=Gr.resolveGlobalNodePath=Gr.resolve=Gr.uriToFilePath=void 0;var zM=require("url"),Ii=require("path"),am=require("fs"),om=require("child_process");function QM(t){let e=zM.parse(t);if(e.protocol!=="file:"||!e.path)return;let r=e.path.split("/");for(var n=0,i=r.length;n<i;n++)r[n]=decodeURIComponent(r[n]);if(process.platform==="win32"&&r.length>1){let s=r[0],o=r[1];s.length===0&&o.length>1&&o[1]===":"&&r.shift()}return Ii.normalize(r.join("/"))}Gr.uriToFilePath=QM;function lm(){return process.platform==="win32"}function lf(t,e,r,n){let i="NODE_PATH",s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((o,l)=>{let u=process.env,d=Object.create(null);Object.keys(u).forEach(h=>d[h]=u[h]),e&&am.existsSync(e)&&(d[i]?d[i]=e+Ii.delimiter+d[i]:d[i]=e,n&&n(`NODE_PATH value is: ${d[i]}`)),d.ELECTRON_RUN_AS_NODE="1";try{let h=om.fork("",[],{cwd:r,env:d,execArgv:["-e",s]});if(h.pid===void 0){l(new Error(`Starting process to resolve node module  ${t} failed`));return}h.on("error",y=>{l(y)}),h.on("message",y=>{y.c==="r"&&(h.send({c:"e"}),y.s?o(y.r):l(new Error(`Failed to resolve module: ${t}`)))});let m={c:"rs",a:t};h.send(m)}catch(h){l(h)}})}Gr.resolve=lf;function cm(t){let e="npm",r=Object.create(null);Object.keys(process.env).forEach(s=>r[s]=process.env[s]),r.NO_UPDATE_NOTIFIER="true";let n={encoding:"utf8",env:r};lm()&&(e="npm.cmd",n.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let s=om.spawnSync(e,["config","get","prefix"],n).stdout;if(!s){t&&t("'npm config get prefix' didn't return a value.");return}let o=s.trim();return t&&t(`'npm config get prefix' value is: ${o}`),o.length>0?lm()?Ii.join(o,"node_modules"):Ii.join(o,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}Gr.resolveGlobalNodePath=cm;function XM(t){let e="yarn",r={encoding:"utf8"};lm()&&(e="yarn.cmd",r.shell=!0);let n=()=>{};try{process.on("SIGPIPE",n);let i=om.spawnSync(e,["global","dir","--json"],r),s=i.stdout;if(!s){t&&(t("'yarn global dir' didn't return a value."),i.stderr&&t(i.stderr));return}let o=s.trim().split(/\r?\n/);for(let l of o)try{let u=JSON.parse(l);if(u.type==="log")return Ii.join(u.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",n)}}Gr.resolveGlobalYarnPath=XM;var bP;(function(t){let e;function r(){return e!==void 0||(process.platform==="win32"?e=!1:e=!am.existsSync(__filename.toUpperCase())||!am.existsSync(__filename.toLowerCase())),e}t.isCaseSensitive=r;function n(i,s){return r()?Ii.normalize(s).indexOf(Ii.normalize(i))===0:Ii.normalize(s).toLowerCase().indexOf(Ii.normalize(i).toLowerCase())===0}t.isParent=n})(bP=Gr.FileSystem||(Gr.FileSystem={}));function JM(t,e,r,n){return r?(Ii.isAbsolute(r)||(r=Ii.join(t,r)),lf(e,r,r,n).then(i=>bP.isParent(r,i)?i:Promise.reject(new Error(`Failed to load ${e} from node path location.`))).then(void 0,i=>lf(e,cm(n),t,n))):lf(e,cm(n),t,n)}Gr.resolveModulePath=JM});var um=ye((JH,vP)=>{"use strict";vP.exports=nn()});var PP=ye(In=>{"use strict";var ZM=In&&In.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),IP=In&&In.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ZM(e,t,r)};Object.defineProperty(In,"__esModule",{value:!0});In.ProposedFeatures=In.SemanticTokensBuilder=void 0;var eV=Qh();Object.defineProperty(In,"SemanticTokensBuilder",{enumerable:!0,get:function(){return eV.SemanticTokensBuilder}});IP(nn(),In);IP(sm(),In);var tV;(function(t){t.all={__brand:"features"}})(tV=In.ProposedFeatures||(In.ProposedFeatures={}))});var Pi=ye(Pn=>{"use strict";var rV=Pn&&Pn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),CP=Pn&&Pn.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&rV(e,t,r)};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.createConnection=Pn.Files=void 0;var fm=Bu(),nV=sm(),vc=NP(),Oa=um();CP(um(),Pn);CP(PP(),Pn);var iV;(function(t){t.uriToFilePath=vc.uriToFilePath,t.resolveGlobalNodePath=vc.resolveGlobalNodePath,t.resolveGlobalYarnPath=vc.resolveGlobalYarnPath,t.resolve=vc.resolve,t.resolveModulePath=vc.resolveModulePath})(iV=Pn.Files||(Pn.Files={}));var AP;function cf(){if(AP!==void 0)try{AP.end()}catch{}}var Vo=!1,SP;function sV(){let t="--clientProcessId";function e(r){try{let n=parseInt(r);isNaN(n)||(SP=setInterval(()=>{try{process.kill(n,0)}catch{cf(),process.exit(Vo?0:1)}},3e3))}catch{}}for(let r=2;r<process.argv.length;r++){let n=process.argv[r];if(n===t&&r+1<process.argv.length){e(process.argv[r+1]);return}else{let i=n.split("=");i[0]===t&&e(i[1])}}}sV();var aV={initialize:t=>{let e=t.processId;fm.number(e)&&SP===void 0&&setInterval(()=>{try{process.kill(e,0)}catch{process.exit(Vo?0:1)}},3e3)},get shutdownReceived(){return Vo},set shutdownReceived(t){Vo=t},exit:t=>{cf(),process.exit(t)}};function oV(t,e,r,n){let i,s,o,l;return t!==void 0&&t.__brand==="features"&&(i=t,t=e,e=r,r=n),Oa.ConnectionStrategy.is(t)||Oa.ConnectionOptions.is(t)?l=t:(s=t,o=e,l=r),lV(s,o,l,i)}Pn.createConnection=oV;function lV(t,e,r,n){if(!t&&!e&&process.argv.length>2){let l,u,d=process.argv.slice(2);for(let h=0;h<d.length;h++){let m=d[h];if(m==="--node-ipc"){t=new Oa.IPCMessageReader(process),e=new Oa.IPCMessageWriter(process);break}else if(m==="--stdio"){t=process.stdin,e=process.stdout;break}else if(m==="--socket"){l=parseInt(d[h+1]);break}else if(m==="--pipe"){u=d[h+1];break}else{var i=m.split("=");if(i[0]==="--socket"){l=parseInt(i[1]);break}else if(i[0]==="--pipe"){u=i[1];break}}}if(l){let h=Oa.createServerSocketTransport(l);t=h[0],e=h[1]}else if(u){let h=Oa.createServerPipeTransport(u);t=h[0],e=h[1]}}var s="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!t)throw new Error("Connection input stream is not set. "+s);if(!e)throw new Error("Connection output stream is not set. "+s);if(fm.func(t.read)&&fm.func(t.on)){let l=t;l.on("end",()=>{cf(),process.exit(Vo?0:1)}),l.on("close",()=>{cf(),process.exit(Vo?0:1)})}let o=l=>Oa.createProtocolConnection(t,e,l,r);return nV.createConnection(o,aV,n)}});function dm(t,e){let r=[];if(t.currentNode==null)return r;let n={start:{line:t.position.line,character:t.position.character-0},end:t.position};for(let i=0;i<e.length;i++){let s=e[i];if(!t.currentNode.hasParameter(s.name)){let o=s.name+'="$1"';r.push({label:s.name,kind:Bo.CompletionItemKind.Value,insertTextFormat:Bo.InsertTextFormat.Snippet,textEdit:Bo.TextEdit.replace(n,o),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}return r}var Bo,xP=x(()=>{Bo=We(Ft())});function qo(t,e,r){return{label:t,insertText:t,kind:uf.CompletionItemKind.Field,detail:r+": "+e}}function ff(t){let e=[];for(let r=0;r<t.length;r++)typeof t[r].name!="undefined"&&e.push(pm(t[r]));return e}function pm(t){let e="",r=t.name;return t.instructionText!=null&&(e=t.instructionText),t.displayName!=null&&(r=t.displayName+" ("+t.name+")"),t.blueprintName!=null&&(e.trim().length>0&&(e+=`
`),e+="Blueprint: "+t.blueprintName),t.type!=null&&(r+=": "+t.type),{label:t.name,insertText:t.name,kind:uf.CompletionItemKind.Field,documentation:e,detail:r}}var uf,Uo=x(()=>{uf=We(Ft())});function Ue(t,e,r,n){let i="**"+t+"**  ";return i+=`
`,i+=e+"  ",i+="\n```antlers\n",i+=r,i+="\n```",n!=null&&(i+=`

`,i+="[Documentation Reference]("+n+")"),i}function K(t,e,r){let n="**"+t+"**  ";return n+=`
`,n+=e+"  ",r!=null&&(n+=`

`,n+="[Documentation Reference]("+r+")"),n}var ae=x(()=>{});function jo(t){let e=[];return t=="order"&&e.push("sort"),e}var df=x(()=>{});function cV(t){return{blueprintName:t.sourceName,displayName:t.name,instructionText:"",maxItems:-1,name:t.name,refFieldSetField:null,type:t.dataType,sets:null,import:null}}function pf(t){let e=[];for(let r=0;r<t.length;r++)e.push(cV(t[r]));return e}var hm=x(()=>{});function ft(t){return[{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"count",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"index",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"order",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t}]}var Cr=x(()=>{});function EP(t,e,r){if(typeof r=="undefined"||r===null)return;let n=t.findParameter("as"),i=t.findParameter("scope");r=r.concat(pf(ft(t))),n!=null&&i!=null?e.introduceScopedAliasScope(t,i.value,n.value,r):n!=null?e.introduceAliasScope(t,n.value,r):i!=null?e.introduceDynamicScopeList(t,i.value,r):e.addBlueprintFields(t,r)}var RP=x(()=>{hm();Cr()});function kP(t){return[{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.collection.context",introducedBy:t},{name:"total_results",dataType:"integer",sourceField:null,sourceName:"*internal.collection.context",introducedBy:t}]}var OP=x(()=>{});var Ws,wP,LP,DP,wa=x(()=>{Ws=[{isRequired:!1,name:"from",description:"The collection name to retrieve entries from",aliases:["folder","use"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"not_from",aliases:["not_folder","dont_use"],description:"The collections to exclude when retrieving entries",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"show_unpublished",aliases:null,description:"Controls whether unpbulished entries are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"show_published",aliases:null,description:"Controls whether published entries are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"show_past",aliases:null,description:"Controls whether to display entries with a past date",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"since",aliases:null,description:"Sets the minimum date an entry can have to be returned",acceptsVariableInterpolation:!0,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"until",aliases:null,description:"Sets the maximum date an entry can have to be returned",acceptsVariableInterpolation:!0,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies the entry sort order",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"limit",aliases:null,description:"Sets the maximum number of entries to return",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["integer"],isDynamic:!1},{isRequired:!1,name:"filter",aliases:["query_scope"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Specifies a custom query scope",expectsTypes:["string"],isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets the amount that entry results should be offset by",expectsTypes:["integer"],isRequired:!1,name:"offset",isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets whether not to paginate entry results",expectsTypes:["boolean","number"],isRequired:!1,name:"paginate",isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies a name to give to a new entries array variable",expectsTypes:["string"],isRequired:!1,name:"as",isDynamic:!1},{name:"scope",aliases:null,acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Sets a prefix on all entry variables",expectsTypes:["string"],isRequired:!1,isDynamic:!1},{name:"locale",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies the locale in which to retrieve entry content",expectsTypes:["string"],isRequired:!1,isDynamic:!1},{name:"redirects",aliases:["links"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Controls whether entries with redirects are returned",expectsTypes:["boolean"],isRequired:!1,isDynamic:!1},{name:"page_name",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"Allows you to customise the name of the URL query parameter used for pagination.",expectsTypes:["string"],isRequired:!1,isDynamic:!1}],wP=["from","folder","use"],LP=["not_from","not_folder","dont_use"],DP=["draft","scheduled","expired","published"]});function FP(t){let e=[];if(t.project!=null){let r={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position},n=t.project.getUniqueTaxonomyNames();for(let i=0;i<n.length;i++){let s=n[i],o=t.originalLeftWord+s+'="$1"';e.push({label:t.originalLeftWord+s,insertTextFormat:Ci.InsertTextFormat.Snippet,kind:Ci.CompletionItemKind.Field,textEdit:Ci.TextEdit.replace(r,o),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}return e}function Go(t,e){let r=[];if(t.reference!=null){let n=t.reference,i=e.statamicProject.getBlueprintFields(n.collectionNames);typeof i!="undefined"&&i!=null&&(r=i)}return r}function MP(t){let e=[],r=DP.filter(n=>!t.includes(n));for(let n=0;n<r.length;n++)e.push({label:r[n],kind:Ci.CompletionItemKind.Variable});return e}function VP(t,e,r){let n=[],i=r.getTaxonomyTerms(e),s=i.filter(o=>!t.includes(o));for(let o=0;o<s.length;o++)n.push({label:s[o],kind:Ci.CompletionItemKind.Variable});return n}function BP(t){let e=[],r=t.getCollectionNames();for(let n=0;n<r.length;n++)e.push({label:r[n],kind:Ci.CompletionItemKind.Variable});return e}function Wo(t,e){let r=[],n=e.getCollectionNames().filter(i=>!t.includes(i));for(let i=0;i<n.length;i++)r.push({label:n[i],kind:Ci.CompletionItemKind.Variable});return r}function hf(t){let e=[],r=t.getCollectionQueryScopes();for(let n=0;n<r.length;n++)e.push({label:r[n].name,detail:r[n].description,kind:Ci.CompletionItemKind.Variable});return e}var Ci,Ho=x(()=>{Ci=We(Ft());wa()});function Yo(t,e){if(t.isClosingTag)return e;if(t.hasMethodPart()&&t.getMethodNameValue()!="count"&&e.addVariables(kP(t)),t.reference!=null){let r=Go(t,e),n=t.reference;r.length==0&&n.collectionNames.length>0&&(r.push({blueprintName:n.collectionNames[0],displayName:"Title",import:null,instructionText:"",maxItems:null,name:"title",type:"string",refFieldSetField:null,sets:[]}),r.push({blueprintName:n.collectionNames[0],displayName:"Slug",import:null,instructionText:"",maxItems:null,name:"slug",type:"string",refFieldSetField:null,sets:[]}),r.push({blueprintName:n.collectionNames[0],displayName:"Date",import:null,instructionText:"",maxItems:null,name:"date",type:"string",refFieldSetField:null,sets:[]})),EP(t,e,r)}return e}var mf=x(()=>{RP();OP();Ho()});var mm,qP=x(()=>{mm=[{name:"is",description:"Tests if a field is equal to a value"},{name:"equals",description:"Tests if a field is equal to a value"},{name:"not",description:"Tests if a field is not equal to a value"},{name:"isnt",description:"Tests if a field is not equal to a value"},{name:"exists",description:"Tests if a field exists"},{name:"isset",description:"Tests if a field exists"},{name:"doesnt_exist",description:"Tests if a field does not exist"},{name:"is_empty",description:"Tests if a field does not exist"},{name:"null",description:"Tests if a field does not exist"},{name:"contains",description:"Tests if a field contains a value"},{name:"doesnt_contain",description:"Tests if a field does not contain a value"},{name:"in",description:"Tests if a value is in an array"},{name:"not_in",description:"Tests if an array does not contain a value"},{name:"starts_with",description:"Tests if a field starts with a value"},{name:"doesnt_start_with",description:"Tests if a field does not start with a value"},{name:"ends_with",description:"Tests if a field ends with a value"},{name:"doesnt_end_with",description:"Tests if a field does not end with a value"},{name:"gt",description:"Tests if a field is greater than a value"},{name:"lt",description:"Tests if a field is less than a value"},{name:"gte",description:"Tests if a field is greater than or equal to a value"},{name:"lte",description:"Tests if a field is less than or equal to a value"},{name:"matches",description:"Tests if a field matches a case insensitive regex"},{name:"regex",description:"Tests if a field matches a case insensitive regex"},{name:"doesnt_match",description:"Tests if a field does not match a case insensitive regex"},{name:"is_alpha",description:"Tests if a field contains only alphabetical characters"},{name:"is_numeric",description:"Tests if a field contains only numeric characters"},{name:"is_alpha_numeric",description:"Tests if a field contains only alpha-numeric characters"},{name:"is_url",description:"Tests if a field is a valid URL"},{name:"is_embeddable",description:"Tests if a field is an embeddable video URL"},{name:"is_email",description:"Tests if a field is a valid email address"},{name:"is_after",description:"Tests if a field is after a given date"},{name:"is_before",description:"Tests if a field is before a given date"}]});function Hs(t){let e=[],r={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position};for(let n=0;n<mm.length;n++){let i=mm[n],s=t.originalLeftWord+i.name+'="$1"';e.push({label:i.name,insertTextFormat:gf.InsertTextFormat.PlainText,kind:gf.CompletionItemKind.Field})}return e}var gf,Ic=x(()=>{gf=We(Ft());qP()});var gm,UP=x(()=>{gm=class{static clear(e){this.unclosedNodes.delete(e)}static registerNodes(e,r){this.unclosedNodes.set(e,r)}static getUnclosedTags(e,r){var o,l,u;let n=[];if(this.unclosedNodes.has(e)==!1)return n;let i=this.unclosedNodes.get(e);if(i.length==0)return n;let s=r.line+1;for(let d=0;d<i.length;d++){let h=i[d];(((o=h.endPosition)==null?void 0:o.line)==s&&r.character>h.endPosition.char||s>((u=(l=h.endPosition)==null?void 0:l.line)!=null?u:0))&&n.push(h)}return n}static hasUnclosedTags(e,r){return this.unclosedNodes.has(e)==!1?!1:this.getUnclosedTags(e,r).length>0}};gm.unclosedNodes=new Map});function Ys(t){return[{name:"edit_url",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"id",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"last_modified",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"permalink",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"published",dataType:"boolean",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"slug",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"template",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t}]}var Pc=x(()=>{});var Cn,uV,jP=x(()=>{Cn=We(Pi()),uV=[{label:"name",kind:Cn.CompletionItemKind.Property},{label:"description",kind:Cn.CompletionItemKind.Property},{label:"desc",kind:Cn.CompletionItemKind.Property},{label:"entry",kind:Cn.CompletionItemKind.Property},{label:"collection",kind:Cn.CompletionItemKind.Property},{label:"blueprint",kind:Cn.CompletionItemKind.Property},{label:"var",kind:Cn.CompletionItemKind.Property},{label:"set",kind:Cn.CompletionItemKind.Property},{label:"param",kind:Cn.CompletionItemKind.Property},{label:"param*",kind:Cn.CompletionItemKind.Property},{label:"front",kind:Cn.CompletionItemKind.Property},{label:"format",kind:Cn.CompletionItemKind.Property}]});var Tf,OY,GP=x(()=>{Tf=We(Ft()),OY=[{label:"if",kind:Tf.CompletionItemKind.Keyword},{label:"elseif",kind:Tf.CompletionItemKind.Keyword},{label:"else",kind:Tf.CompletionItemKind.Keyword}]});var Tm,fV,WP=x(()=>{Tm=We(Pi()),fV=We(Ft());Ls()});var _m,Cc,ym=x(()=>{_m=We(Ft()),Cc=[];Cc.push({label:"true",kind:_m.CompletionItemKind.Keyword});Cc.push({label:"false",kind:_m.CompletionItemKind.Keyword})});var HP=x(()=>{ym()});function ct(t){return[{sourceName:"*internal.array",sourceField:null,dataType:"*",name:"value",introducedBy:t},{sourceName:"*internal.array",sourceField:null,dataType:"*",name:"key",introducedBy:t}]}var Rr=x(()=>{});var dV,YP,KP=x(()=>{Rr();Cr();dV={name:"array",augmentScope:(t,e)=>{e.addVariables(ct(t)),e.addVariables(ft(t))}},YP=dV});function Ko(t){return[{name:"id",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"title",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"path",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"filename",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"basename",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"extension",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_asset",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_audio",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_previewable",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_image",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_video",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"edit_url",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"permalink",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_bytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_gigabytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_kilobytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_megabytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_b",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_kb",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_mb",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_gb",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"focus",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"focus_css",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"height",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"width",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"orientation",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"ratio",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"mime_type",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"duration",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"duration_seconds",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"duration_sec",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"playtime",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t}]}var _f=x(()=>{});var pV,$P,zP=x(()=>{Rr();_f();pV={name:"assets",augmentScope:(t,e)=>{e.addVariables(ct(t)),e.addVariables(Ko(t))}},$P=pV});var hV,QP,XP=x(()=>{hV={name:"bard",augmentScope:(t,e)=>{e.addVariable({name:"type",dataType:"string",sourceField:null,sourceName:"*internal.bard",introducedBy:t})},injectCompletions:(t,e,r)=>[]},QP=hV});var mV,JP,ZP=x(()=>{Rr();Cr();mV={name:"form_multiple",augmentScope:(t,e)=>{e.addVariables(ct(t)),e.addVariables(ft(t))}},JP=mV});var gV,eC,tC=x(()=>{Rr();Cr();gV={name:"list",augmentScope:(t,e)=>{e.addVariables(ct(t)),e.addVariables(ft(t))}},eC=gV});function rC(t){return[{name:"type",dataType:"string",sourceName:"*internal.replicator",sourceField:null,introducedBy:t}]}var nC=x(()=>{});var TV,iC,sC=x(()=>{Cr();nC();TV={name:"replicator",augmentScope:(t,e)=>{e.addVariables(rC(t)),e.addVariables(ft(t))},injectCompletions:(t,e,r)=>[]},iC=TV});var _V,aC,oC=x(()=>{Rr();Cr();_V={name:"select_multiple",augmentScope:(t,e)=>{e.addVariables(ct(t)),e.addVariables(ft(t))}},aC=_V});var yV,lC,cC=x(()=>{Rr();Cr();yV={name:"sites_multiple",augmentScope:(t,e)=>{e.addVariables(ct(t)),e.addVariables(ft(t))}},lC=yV});var bV,uC,fC=x(()=>{Rr();Cr();bV={name:"structures_multiple",augmentScope:(t,e)=>{e.addVariables(ct(t)),e.addVariables(ft(t))}},uC=bV});var NV,dC,pC=x(()=>{NV={name:"table",augmentScope:(t,e)=>{e.addVariable({name:"cells",dataType:"array",sourceName:"*internal.fieldtype.table",sourceField:null,introducedBy:t})}},dC=NV});var vV,hC,mC=x(()=>{Rr();Cr();vV={name:"tags",augmentScope:(t,e)=>{e.addVariables(ct(t)),e.addVariables(ft(t))}},hC=vV});function yf(t){return Ys(t).concat([{name:"entries_count",dataType:"number",sourceName:"*internal.term",sourceField:null,introducedBy:t},{name:"is_term",dataType:"boolean",sourceName:"*internal.term",sourceField:null,introducedBy:t},{name:"taxonomy",dataType:"string",sourceName:"*internal.term",sourceField:null,introducedBy:t}])}var bm=x(()=>{Pc()});var IV,gC,TC=x(()=>{Rr();Cr();bm();IV={name:"taxonomies_multiple",augmentScope:(t,e)=>{e.addVariables(ct(t)),e.addVariables(ft(t)),e.addVariables(yf(t))}},gC=IV});var PV,_C,yC=x(()=>{Rr();Cr();bm();PV={name:"terms_multiple",augmentScope:(t,e)=>{e.addVariables(ct(t)),e.addVariables(ft(t)),e.addVariables(yf(t))}},_C=PV});var CV,bC,NC=x(()=>{Rr();Cr();CV={name:"user_groups_multiple",augmentScope:(t,e)=>{e.addVariables(ct(t)),e.addVariables(ft(t))}},bC=CV});var AV,vC,IC=x(()=>{Rr();Cr();AV={name:"user_roles_multiple",augmentScope:(t,e)=>{e.addVariables(ct(t)),e.addVariables(ft(t))}},vC=AV});var SV,PC,CC=x(()=>{Rr();Cr();SV={name:"users_multiple",augmentScope:(t,e)=>{e.addVariables(ct(t)),e.addVariables(ft(t)),e.injectBlueprint(t,"user")}},PC=SV});var xV,AC,SC=x(()=>{Rr();Cr();xV={name:"yaml",augmentScope:(t,e)=>{e.addVariables(ct(t)),e.addVariables(ft(t))}},AC=xV});var EV,xC,EC=x(()=>{KP();zP();XP();ZP();tC();sC();oC();cC();fC();pC();mC();TC();yC();NC();IC();CC();SC();EV=[YP,$P,QP,JP,eC,iC,aC,lC,uC,AC,dC,gC,hC,_C,PC,bC,vC],xC=EV});var Ks,$o,Nm=x(()=>{EC();Ks=class{constructor(){this.fieldTypes=new Map}getFieldTypes(){return this.fieldTypes}getFieldType(e){return this.fieldTypes.get(e)}registerFieldtypes(e){for(let r=0;r<e.length;r++)this.fieldTypes.set(e[r].name,e[r])}loadCoreFieldtypes(){this.registerFieldtypes(xC)}hasFieldtype(e){return this.fieldTypes.has(e)}};Ks.instance=null;(typeof Ks.instance=="undefined"||Ks.instance==null)&&(Ks.instance=new Ks,Ks.instance.loadCoreFieldtypes());$o=Ks});var RC=x(()=>{Nm()});function bf(t){let e="";return t.currentNode!=null&&(e=t.currentNode.getMethodNameValue()),e}function hs(t){if(t.includes(":")==!1)return t;let e=t.split(":");return e.length>1?e[e.length-1]:e[0].trim()}function Nf(t){return t.includes(":")==!1?t:t.split(":")[0]}function kC(t){var r;if(t.nodesInScope.length==0)return[];let e=t.nodesInScope[t.nodesInScope.length-1];return((r=t.context)==null?void 0:r.node)!=null&&(e=t.context.node),e.currentScope==null?[]:RV(t,e.currentScope)}function RV(t,e){let r=[];return e.values.forEach(n=>{var i;if(n.sourceField!=null?r.push({label:n.name,detail:n.sourceField.blueprintName,documentation:(i=n.sourceField.instructionText)!=null?i:"",kind:La.CompletionItemKind.Field}):r.push(qo(n.name,"","")),n.dataType.trim().length>0&&n.dataType=="array"){let s=n.name+` }}
    $1
{{ /`+n.name+" ",o={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position};r.push({label:n.name+" loop",insertTextFormat:La.InsertTextFormat.Snippet,kind:La.CompletionItemKind.Snippet,textEdit:La.TextEdit.replace(o,s),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}),e.lists.forEach((n,i)=>{r.push(qo(i,"",""))}),r}var La,ms=x(()=>{La=We(nn());Ls();Da();UP();Pc();it();Fi();jP();GP();Uo();WP();HP();RC()});function Ee(t){let e="";typeof t!="undefined"&&typeof t.resolveDocumentation!="undefined"&&t.resolveDocumentation!=null&&(e=t.resolveDocumentation());let r=t.tagName;if(r.includes(":")){let n=r.split(":");r=n[n.length-1]}return{label:r,kind:OC.CompletionItemKind.Text,sortText:"1",documentation:{kind:"markdown",value:e}}}var OC,An=x(()=>{OC=We(Pi())});function wC(t,e,r){return{name:t,acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:e,expectsTypes:["string"],isDynamic:!0,isRequired:!1,documentationLink:r,docLinkName:"MDN Reference"}}var LC,DC,FC=x(()=>{LC=wC("class","A space-separated list of the classes of the element.","https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/class"),DC=wC("style","Contains CSS styling declarations to be applied to the element. Note that it is recommended for styles to be defined in a separate file or files.","https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/style")});function vf(t){return t=="class"?LC:t=="style"?DC:{name:t,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"",expectsTypes:["string","number","array"],isRequired:!1,isDynamic:!0}}function MC(t){let e=[];for(let r=0;r<t.length;r++)e.push({label:t[r],kind:vm.CompletionItemKind.Field});return he(e)}function Ot(t){let e=[];for(let r=0;r<t.length;r++)e.push({label:t[r],kind:vm.CompletionItemKind.Field});return he(e)}function he(t){return{items:t,isExclusiveResult:!0,analyzeDefaults:!1}}function kr(t){return{items:t,isExclusiveResult:!1,analyzeDefaults:!0}}var vm,ke,Fe=x(()=>{vm=We(Ft());FC();ke={items:[],isExclusiveResult:!1,analyzeDefaults:!0}});function vt(t,e){let r=kV(t);return r.tagName=e,r}function kV(t){return{allowsArbitraryParameters:t.allowsArbitraryParameters,allowsContentClose:t.allowsContentClose,injectParentScope:t.injectParentScope,parameters:t.parameters,requiresClose:t.requiresClose,tagName:t.tagName,introducedIn:t.introducedIn,hideFromCompletions:t.hideFromCompletions,augmentScope:t.augmentScope,requiresCloseResolver:t.requiresCloseResolver,resolveCompletionItems:t.resolveCompletionItems,resolveDynamicParameter:t.resolveDynamicParameter,resolveSpecialType:t.resolveSpecialType,resovleParameterCompletionItems:t.resovleParameterCompletionItems,suggestAlternativeParams:t.suggestAlternativeParams,resolveDocumentation:t.resolveDocumentation}}var Wi=x(()=>{});function VC(t){return t.findParameterValueOrNull("scope")}function BC(t){t.getAllNodes().forEach(r=>{r instanceof ee&&r.manifestType==="array"&&(r.mustClose=!0)})}var Im=x(()=>{it()});function OV(t){return t.findParameterValueOrNull("as")}function LV(t,e){let r=[];if(t.hasMethodPart()){let l=t.getMethodNameValue();if(wV.includes(l)==!1)return r.push(l),r}let n=t.findAnyParameter(wP),i=t.findAnyParameter(LP),s=[],o=[];return typeof n!="undefined"&&n!==null&&(n.value.trim()==="*"?(s=e.getUniqueCollectionNames(),typeof i!="undefined"&&i!==null&&i.isVariableReference==!1&&i.hasInterpolations()==!1&&(o=i.getArrayValue())):n.isVariableReference==!1&&n.hasInterpolations()==!1&&(s=n.getArrayValue())),o.length>0?r=s.filter(function(l){return o.includes(l)==!1}):r=s,r}function $s(t,e){var d,h,m,y,b,T;let r=LV(t,e),n=!1,i=!1,s=!1,o=null,l="";if(t.isClosingTag==!1){let S=OV(t),w=VC(t);S!=null&&(n=!0,l=S),w!=null&&(s=!0,o=w),i=t.hasParameter("paginate")}return{context:{collectionNames:r!=null?r:[],endPosition:(h=(d=t.endPosition)==null?void 0:d.char)!=null?h:0,aliasName:l,isAliased:n,isScoped:s,scopeName:o,isStartOfScope:!t.isClosingTag,line:(y=(m=t.startPosition)==null?void 0:m.line)!=null?y:0,startPosition:(T=(b=t.startPosition)==null?void 0:b.char)!=null?T:0,isPaginated:i,excludeCollections:[],includeCollections:[]},issues:[]}}var wV,Ac=x(()=>{Im();wa();wV=["count","next","previous"]});function zo(t,e){if(t==null)return null;let r=Ia(e,":");return r.includes(":")&&(r=r.split(":")[0]),r=="status"||r=="taxonomy"||t.currentScope!=null&&t.currentScope.containsReference(r)?vf(e):null}var If=x(()=>{Fi();Fe()});function zs(t,e){var r,n,i,s,o,l,u,d,h,m;if(t.isDynamic){let y=Nf(t.name);if(e.nodesInScope.length>0){let b=e.nodesInScope[e.nodesInScope.length-1];if(b!=null&&b.currentScope!=null){let T=Go(b,b.currentScope),S=T.map(_=>_.name),w=hs(e.leftWord);if(S.includes(w))return he(Hs(e))}}if(y=="status"&&((r=e.context)==null?void 0:r.parameterContext)!=null)return he(MP((i=(n=e.context.parameterContext.parameter)==null?void 0:n.getArrayValue())!=null?i:[]));if(y=="taxonomy"){let b=hs(t.name);if(e.project.hasTaxonomy(b)&&((s=e.context)==null?void 0:s.parameterContext)!=null)return he(VP((l=(o=e.context.parameterContext.parameter)==null?void 0:o.getArrayValue())!=null?l:[],b,e.project))}}if(t.name=="filter"||t.name=="query_scope")return he(hf(e.project));if(e.nodesInScope.length>0){let y=e.nodesInScope[e.nodesInScope.length-1];if(y.hasMethodPart()&&FV.includes(y.getMethodNameValue())&&MV.includes(t.name))return he(BP(e.project))}return DV.includes(t.name)&&((u=e.context)==null?void 0:u.parameterContext)!=null?he(Wo((m=(h=(d=e.context)==null?void 0:d.parameterContext.parameter)==null?void 0:h.getArrayValue())!=null?m:[],e.project)):null}var DV,FV,MV,Sc=x(()=>{Ic();ms();Fe();Ho();DV=["from","folder","use","not_from","not_folder"],FV=["previous","next"],MV=["in","collection"]});var VV,Fa,Pf=x(()=>{ae();df();mf();wa();Cf();Ac();If();Sc();VV={tagName:"collection:previous",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...Ws,{name:"in",aliases:["collection"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The collection to search in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"current",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets the current entry by ID",expectsTypes:["string"],isDynamic:!1,isRequired:!1}],augmentScope:Yo,resolveDynamicParameter:zo,resolveSpecialType:$s,suggestAlternativeParams:jo,resovleParameterCompletionItems:zs,resolveCompletionItems:Qo,resolveDocumentation:t=>Ue("collection:previous Tag","The `collection:previous` tag is used to show the entries that appear before the current entry, based on some entry order (publish date, alphabetical, or manual).",`{{# Retrieve the previous two entries, based on dates in ascending order. #}}
{{ collection:previous in="articles" limit="2" sort="date:asc" }}

{{ /collection:previous }}`,"https://statamic.dev/tags/collection-previous")},Fa=VV});var Af,Sf,Pm=x(()=>{Wi();Pf();Af=vt(Fa,"collection:older"),Sf=vt(Fa,"collection:newer")});var BV,xf,Cm=x(()=>{ae();wa();Ac();Sc();BV={tagName:"collection:count",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...Ws,{isRequired:!0,name:"in",aliases:["from"],description:"The collection from which to count entries",acceptsVariableInterpolation:!0,allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1}],resolveSpecialType:$s,resovleParameterCompletionItems:zs,resolveDocumentation:t=>Ue("collection:count Tag","The `collection:count` tag returns the total number of entries in the specified collection(s). The collection count tag accepts the same parameters as the collection tag, allowing developers to count entries that meet specific conditions.",`Total entry count: {{ collection:count in="collection-name" }}
Draft count: {{ collection:count in="collection-name" status:in="draft" }}`,"https://statamic.dev/tags/collection-count")},xf=BV});var qV,Ef,Am=x(()=>{ae();df();mf();wa();Cf();Ac();If();Sc();qV={tagName:"collection:next",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...Ws,{name:"in",aliases:["collection"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The collection to search in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"current",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets the current entry by ID",expectsTypes:["string"],isDynamic:!1,isRequired:!1}],augmentScope:Yo,resolveDynamicParameter:zo,resolveSpecialType:$s,suggestAlternativeParams:jo,resovleParameterCompletionItems:zs,resolveCompletionItems:Qo,resolveDocumentation:t=>Ue("collection:next Tag","The `collection:next` tag is used to show the entries that will appear after the current entry, based on some entry order (publish date, alphabetical, or manual).",`{{# Retrieve the next two entries, based on dates in ascending order. #}}
{{ collection:next in="articles" limit="2" sort="date:asc" }}

{{ /collection:next }}`,"https://statamic.dev/tags/collection-next")},Ef=qV});function Qo(t){var r,n;let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="collection"||t.leftWord=="/collection")&&t.leftChar==":"){let i=t.project.getCollectionNames();for(let s=0;s<i.length;s++)e.push({label:i[s],kind:xc.CompletionItemKind.Field,sortText:"0"});return e.push(Ee(xf)),e.push(Ee(Ef)),e.push(Ee(Fa)),e.push(Ee(Af)),e.push(Ee(Sf)),{items:e,analyzeDefaults:!1,isExclusiveResult:!1}}if(t.currentNode!=null&&t.currentNode.currentScope!=null){let i=Go(t.currentNode,t.currentNode.currentScope),s=i.map(l=>l.name),o=hs(t.leftWord);if(o==="taxonomy")return he(FP(t));if(s.includes(o))return e=Hs(t),he(e);if(t.isCaretInTag&&!((r=t.context)==null?void 0:r.isInParameter)&&["collection","/collection"].includes(t.leftWord)==!1&&t.leftChar!=" "){let l=[];for(let u=0;u<i.length;u++){let d=i[u];l.includes(d.name)==!1&&(e.push({label:d.name,detail:d.blueprintName,documentation:(n=d.instructionText)!=null?n:"",kind:xc.CompletionItemKind.Field}),l.push(d.name))}if(e.push({label:"taxonomy",insertText:"taxonomy:",kind:xc.CompletionItemKind.Field}),e.push({label:"status",insertText:"status:",kind:xc.CompletionItemKind.Field}),e.length>0)return kr(e)}}return ke}var xc,Cf=x(()=>{xc=We(Pi());Ic();ms();An();Fe();Pm();Cm();Am();Pf();Ho()});var UV,qC,UC=x(()=>{ae();df();mf();wa();Cf();Ac();If();Sc();UV={tagName:"collection",hideFromCompletions:!1,introducedIn:null,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:Ws,augmentScope:Yo,resolveDynamicParameter:zo,resolveSpecialType:$s,suggestAlternativeParams:jo,resovleParameterCompletionItems:zs,resolveCompletionItems:Qo,resolveDocumentation:t=>Ue("collection Tag","The `collection` tag provides access to entry data such as blog posts, products, etc.",`{{ collection:articles as="posts" }}

	{{ posts }}
		{{ title }}
	{{ /posts }}

{{ /collection:articles }}`,"https://statamic.dev/tags/collection")},qC=UV});var jV,jC,GC=x(()=>{ae();Fe();jV={tagName:"cache",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,allowsContentClose:!1,allowsArbitraryParameters:!1,resovleParameterCompletionItems:(t,e)=>t.name=="scope"?Ot(["page","site","user"]):null,parameters:[{isRequired:!1,name:"for",description:"The duration the cache is valid for.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"key",description:"An arbitrary name the cache entry may be referenced by.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"scope",description:" The scope of the cached value. Either site or page.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1}],resolveSpecialType:(t,e)=>{let r=t.findParameter("key"),n=null;if(r!=null){let i=r.value;i.trim().length>0&&(n={key:i,reference:t})}return{context:n,issues:[]}},resolveDocumentation:t=>Ue("cache Tag","The `cache` tag can be used to save the results of an expensive template operation. The duration of the cache can be configured.",`{{ cache for="10 minutes" }}
    {{# Template code that won't be re-rendered for at least 10 minutes. #}}
{{ /cache }}`,"https://statamic.dev/tags/cache")},jC=jV});var GV,WC,HC=x(()=>{ae();ms();Fe();GV={tagName:"dump",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.leftWord=="dump"&&t.leftChar==":"?he(kC(t)):ke,resolveDocumentation:t=>Ue("dump Tag","The `dump` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered.",`{{ collection:articles }}
	{{# View all data available, for each entry. #}}
    {{ dump }}
{{ /collection:articles }}`,"https://statamic.dev/tags/dump")},WC=GV});var WV,YC,KC=x(()=>{ae();WV={tagName:"404",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Ue("404 (Not Found) Tag","The `404` (Not Found) tag will trigger a 404 status code, and display the 404 template to the site visitor.",`{{ unless logged_in }}
	{{# Display the 404 Not Found page. #}}
	{{ 404 }}
{{ /unless }}`,"https://statamic.dev/tags/404")},YC=WV});var HV,$C,zC=x(()=>{ae();HV={tagName:"link",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"to",description:"The relative path",expectsTypes:["string"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!0,isDynamic:!1},{name:"absolute",description:"Whether to generate absolute URLs. Default false",expectsTypes:["boolean"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1},{name:"id",description:"The ID of the entry to link to",expectsTypes:["string"],allowsVariableReference:!0,acceptsVariableInterpolation:!0,aliases:[],isDynamic:!1,isRequired:!1},{name:"in",description:"The handle of the site to link to.",expectsTypes:["string"],allowsVariableReference:!0,acceptsVariableInterpolation:!0,aliases:[],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>K("link Tag","The `link` tag accepts relative URLs or entry IDs and generates fully-qualified URLs to the desired content.","https://statamic.dev/tags/link")},$C=HV});var QC,XC,JC=x(()=>{ae();QC={tagName:"loop",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,augmentScope:(t,e)=>(e.addVariable({name:"value",dataType:"*",sourceName:"*internal.loop.value",sourceField:null,introducedBy:t}),e),parameters:[{name:"times",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The number of iterations",isRequired:!1,isDynamic:!1},{name:"from",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to start iterating from. Default 1",isRequired:!1,isDynamic:!1},{name:"to",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to stop iterating at",isRequired:!1,isDynamic:!1}],resolveDocumentation:t=>K("loop Tag","The `loop` tag is used to create an array of items between two values, and then iterate the created array. Alternatively, a max value can be set using the `times` parameter to loop that number of times.","https://statamic.dev/tags/loop")},XC={tagName:"range",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,augmentScope:(t,e)=>(e.addVariable({name:"value",dataType:"*",sourceName:"*internal.loop.value",sourceField:null,introducedBy:t}),e),parameters:[{name:"times",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The number of iterations",isRequired:!1,isDynamic:!1},{name:"from",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to start iterating from. Default 1",isRequired:!1,isDynamic:!1},{name:"to",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to stop iterating at",isRequired:!1,isDynamic:!1}],resolveDocumentation:t=>K("range Tag","The `range` tag is used to create an array of items between two values, and then iterate the created array. Alternatively, a max value can be set using the `times` parameter to loop that number of times.","https://statamic.dev/tags/loop")}});var Ma,ZC,eA=x(()=>{Xl();Va();Ma=class{constructor(){this.loadedDocuments=new Map;this.activeProject=null}getDocuments(){let e=[];return this.loadedDocuments.forEach(r=>{e.push(r)}),e}setProject(e){this.activeProject=e,this.loadedDocuments.forEach(r=>{this.activeProject!=null&&r.updateProject(this.activeProject)})}refreshDocumentState(){this.activeProject!=null&&this.setProject(this.activeProject)}hasDocument(e){return this.loadedDocuments.has(e)}createDocument(e){if(!this.loadedDocuments.has(e)){let r=new Tr;r.documentUri=e,this.loadedDocuments.set(e,r)}}loadDocument(e,r){this.loadedDocuments.set(e,Tr.fromText(r))}getDocument(e){return this.loadedDocuments.get(e)}updateDocument(e,r){var n,i;if(this.loadedDocuments.has(e)){let s=this.loadedDocuments.get(e);s.loadString(r);let o=(i=(n=Mn.instance)==null?void 0:n.getStructure())==null?void 0:i.findView(e);o!=null&&(o.document=s)}}createOrUpdate(e,r){this.createDocument(e),this.updateDocument(e,r)}getDocumentErrors(e){return this.loadedDocuments.has(e)?this.loadedDocuments.get(e).errors.all():[]}};Ma.instance=null;(typeof Ma.instance=="undefined"||Ma.instance==null)&&(Ma.instance=new Ma);ZC=Ma});var Sm,tA=x(()=>{eA();Sm=new ZC});function st(t,e){return e.trim().length>0?vf(e):null}var _r=x(()=>{Fe()});var Xo,Rf=x(()=>{Xo=[{isRequired:!1,name:"src",description:"The name of the partial view.",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"when",description:"A condition to control whether the partial renders. The partial will not render unless it receives a truthy value.",allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["*"],isDynamic:!1},{isRequired:!1,name:"unless",description:"A condition to control whether the partial renders. The partial will not render unless it receives a falsey value.",allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["*"],isDynamic:!1}]});function Jo(t,e){var r;if(t.isDynamic&&e.currentNode!=null&&e.currentNode.getTagName()=="partial"&&e.currentNode.hasMethodPart()){let n=e.currentNode.getMethodNameValue();if(n.trim().length>0&&((r=Mn.instance)==null?void 0:r.hasStructure())){let i=Mn.instance.getStructure().findRelativeView(n);if(i!=null&&i.varReferenceNames.has(t.name)){let s=i.varReferenceNames.get(t.name);if(i.document!=null&&i.document.hasFrontMatter()){let o=i.document.getFrontMatterScope();if(o!=null){let l=o.getList(s);if(l!=null)return MC(l.getVariableNames())}}}}}if(t.name=="src"){let n=e.project.getViews(),i=[];return n.forEach(s=>{if(wi.hasDetails(s.documentUri)){let o=wi.documentDetails.get(s.documentUri);i.push({label:o.documentName+"("+s.relativeDisplayName+")",insertText:s.relativeDisplayName,detail:o.documentName,documentation:{kind:Ec.MarkupKind.Markdown,value:o.documentDescription},kind:Ec.CompletionItemKind.File})}else i.push({label:s.relativeDisplayName,kind:Ec.CompletionItemKind.File})}),he(i)}return null}var Ec,kf=x(()=>{Ec=We(Pi());Ou();Xl();Fe()});var YV,Of,xm=x(()=>{ae();Rf();kf();YV={tagName:"partial:exists",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,parameters:Xo,introducedIn:"3.2.7",resovleParameterCompletionItems:Jo,resolveDocumentation:t=>K("partial:exists Tag","The `partial:exists` can be used within conditional statements to test if a partial exists.","https://statamic.dev/tags/partial-exists")},Of=YV});var KV,wf,Em=x(()=>{ae();Rf();kf();KV={tagName:"partial:if_exists",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,parameters:Xo,introducedIn:"3.2.7",resovleParameterCompletionItems:Jo,resolveDocumentation:t=>K("partial:if_exists Tag","The `partial:if_exists` can be used to output the contents of a partial if it exists.","https://statamic.dev/tags/partial-if-exists")},wf=KV});function rA(t){if(t.getTagName()!="partial")return null;let e="";if(t.hasMethodPart())e=t.getMethodNameValue();else{let r=t.findParameter("src");r!=null&&(e=r.value)}return e}var nA=x(()=>{});function QV(t){let e=[];return t.forEach(r=>{if(r.isTagNode||r.isClosingTag||r.isComment||r.hasMethodPart()&&r.getMethodNameValue().length>0||r.name!=null&&r.name.content.includes("["))return;let n=r.getTagName();!e.includes(n)&&n!="#"&&n!="slot"&&e.push(n)}),e}var Sn,$V,zV,iA,sA=x(()=>{Sn=We(Pi());Ou();tA();An();Fe();_r();xm();Em();Rf();nA();kf();$V=[Ee(Of),Ee(wf)],zV={tagName:"partial",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!0,parameters:Xo,requiresClose:!1,allowsContentClose:!0,introducedIn:null,resolveDocumentation:t=>`**Partial Tag**  
Includes another view into the current template.  

[Documentation Reference](https://statamic.dev/tags/partial)
`,resolveDynamicParameter:st,resovleParameterCompletionItems:Jo,resolveCompletionItems:t=>{let e=[];if(t.leftChar=='"'&&t.leftWord==':src="')return{items:[],analyzeDefaults:!0,isExclusiveResult:!1};if((t.leftWord=="partial"||t.leftWord=="/partial")&&t.leftChar==":"||t.leftWord=='src="'&&t.leftChar=='"')return t.project.getViews().forEach(n=>{let i=decodeURIComponent(n.documentUri);if(wi.hasDetails(i)){let s=wi.documentDetails.get(i);e.push({label:s.documentName+"("+n.relativeDisplayName+")",insertText:n.relativeDisplayName,detail:s.documentName,documentation:{kind:Sn.MarkupKind.Markdown,value:s.documentDescription},kind:Sn.CompletionItemKind.File})}else e.push({label:n.relativeDisplayName,kind:Sn.CompletionItemKind.File})}),t.leftWord!='src="'&&(e=e.concat($V)),{analyzeDefaults:!1,isExclusiveResult:!0,items:e};if(t.currentNode!=null&&t.project!=null){let r=rA(t.currentNode);if(r!=null&&r.trim().length>0){let n=t.project.findRelativeView(r);if(n!=null&&Sm.hasDocument(n.documentUri)){let i=Sm.getDocument(n.documentUri);if(i!=null){let s=i.getAllAntlersNodes(),o=QV(s),l=[];n.varReferenceNames!=null&&n.varReferenceNames.forEach((d,h)=>{o.push(h)});let u=[];if(n.injectsParameters.length>0){let d={start:{line:t.position.line,character:t.position.character-0},end:t.position};n.injectsParameters.forEach(h=>{let m=h.name+'="$1"';l.includes(h.name)||(l.push(h.name),u.push({label:h.name,kind:Sn.CompletionItemKind.Value,insertTextFormat:Sn.InsertTextFormat.Snippet,textEdit:Sn.TextEdit.replace(d,m),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}))})}if(o.length>0){let d={start:{line:t.position.line,character:t.position.character-0},end:t.position};o.forEach(h=>{let m=h+'="$1"';l.includes(h)||(l.push(h),u.push({label:h,kind:Sn.CompletionItemKind.Value,insertTextFormat:Sn.InsertTextFormat.Snippet,textEdit:Sn.TextEdit.replace(d,m),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}))})}return kr(u)}}}}return{analyzeDefaults:!0,isExclusiveResult:!1,items:[]}}};iA=zV});var XV,Lf,Rm=x(()=>{ae();XV={tagName:"increment:reset",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:"3.2.28",parameters:[{isRequired:!0,name:"counter",aliases:[],description:"The incrementing counter to reset",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"to",aliases:[],description:"An optional value to reset the counter to before incrementing starts again",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resolveDocumentation:t=>Ue("increment:reset Tag","The `increment:reset` tag can be used to reset the value of an incrementing counter.",`{{ array_variable }}
    {{ increment:counter_name }}
{{ /array_variable }}

{{ increment:reset counter="counter_name" }}
`,null)},Lf=XV});var JV,ZV,aA,oA=x(()=>{ae();An();Fe();Rm();JV=[Ee(Lf)],ZV={tagName:"increment",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[{isRequired:!1,name:"from",aliases:[],description:"The number to start incrementing by",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"by",aliases:[],description:"The number to increment by",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resolveCompletionItems:t=>t.leftWord=="increment"||t.leftWord=="/increment"&&t.leftChar==":"?he(JV):ke,resolveDocumentation:t=>K("increment Tag","The `increment` tag can be used to increment a value each time the tag is encountered.","https://statamic.dev/tags/increment")},aA=ZV});var km,lA,cA,uA=x(()=>{ae();km=class{constructor(e){this.node=e}},lA={tagName:"yields",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,parameters:[],introducedIn:null,requiresClose:!1,resolveSpecialType:(t,e)=>({context:new km(t),issues:[]})},cA={tagName:"yield",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,parameters:[],introducedIn:null,requiresClose:!1,resolveSpecialType:(t,e)=>({context:new km(t),issues:[]}),resolveDocumentation:t=>K("yield Tag","The `yield` tag may be used to push rendered content to named regions within a template's structure.","https://statamic.dev/tags/yield")}});var fA,dA=x(()=>{fA=[{handle:"access cp"},{handle:"configure collections"},{handle:"[view edit create delete publish reorder] {collection} entries"},{handle:"configure structures"},{handle:"[view edit] {structure} structure"},{handle:"edit {global} globals"},{handle:"[view upload edit move rename delete] {container} assets"},{handle:"[view perform] updates"},{handle:"[view edit create delete] users"},{handle:"change passwords"},{handle:"edit roles"},{handle:"configure forms"},{handle:"[view delete] {form} submissions"}]});var Qs,xn,pA=x(()=>{dA();Qs=class{constructor(){this.contextItems=new Map;this.triggerNames=[];this.collectionTriggers=[];this.collectionTriggerCaps=[];this.globalTriggers=[];this.globalTriggerCaps=[];this.formTriggers=[];this.formTriggerCaps=[];this.structureTriggers=[];this.structureTriggerCaps=[];this.assetTriggers=[];this.assetTriggerCaps=[]}getCollectionTriggerCaps(){return this.collectionTriggerCaps}getGlobalTriggerCaps(){return this.globalTriggerCaps}getFormTriggerCaps(){return this.formTriggerCaps}getStructureTriggerCaps(){return this.structureTriggerCaps}getAssetTriggerCaps(){return this.assetTriggerCaps}loadCorePermissions(){this.registerPermissions(fA)}getTriggerNames(){return this.triggerNames}isCollectionTrigger(e){return this.collectionTriggers.includes(e)}isGlobalTrigger(e){return this.globalTriggers.includes(e)}isFormTrigger(e){return this.formTriggers.includes(e)}isStructureTrigger(e){return this.structureTriggers.includes(e)}isAssetTrigger(e){return this.assetTriggers.includes(e)}getTriggerContextItems(e){return this.contextItems.has(e)?this.contextItems.get(e):[]}registerSpecialTrigger(e,r,n){r=="{collection}"?(this.collectionTriggerCaps.includes(n)==!1&&this.collectionTriggerCaps.push(n),this.collectionTriggers.includes(e)==!1&&this.collectionTriggers.push(e)):r=="{structure}"?(this.structureTriggerCaps.includes(n)==!1&&this.structureTriggerCaps.push(n),this.structureTriggers.includes(e)==!1&&this.structureTriggers.push(e)):r=="{container}"?(this.assetTriggerCaps.includes(n)==!1&&this.assetTriggerCaps.push(n),this.assetTriggers.includes(e)==!1&&this.assetTriggers.push(e)):r=="{global}"?(this.globalTriggerCaps.includes(n)==!1&&this.globalTriggerCaps.push(n),this.globalTriggers.includes(e)==!1&&this.globalTriggers.push(e)):r=="{form}"&&(this.formTriggerCaps.includes(n)==!1&&this.formTriggerCaps.push(n),this.formTriggers.includes(e)==!1&&this.formTriggers.push(e))}addContextToTrigger(e,r){var n;this.triggerNames.includes(e)==!1&&this.triggerNames.push(e),this.contextItems.has(e)==!1?this.contextItems.set(e,[r]):(n=this.contextItems.get(e))==null||n.push(r)}registerPermissions(e){for(let r=0;r<e.length;r++){let n=e[r],i=[],s="",o="";if(n.handle.includes("[")&&n.handle.includes("]")){let l=n.handle.indexOf("["),u=n.handle.indexOf("]"),d=u-l,h=n.handle.substr(l+1,d-1).split(" ").filter(y=>y.trim().length>0),m=n.handle.substr(u+1).split(" ").filter(y=>y.trim().length>0);i=h,m.length==2?(s=m[0],o=m[1]):m.length==1&&(s="",o=m[0])}else{let l=n.handle.split(" ").filter(u=>u.trim().length>0);l.length==2&&(i=[l[0]],o=l[1])}for(let l=0;l<i.length;l++){let u=i[l];s.trim().length>0?this.registerSpecialTrigger(u,s,o):this.addContextToTrigger(u,o)}}}};Qs.instance=null;(typeof Qs.instance=="undefined"||Qs.instance==null)&&(Qs.instance=new Qs,Qs.instance.loadCorePermissions());xn=Qs});function hA(t,e){var n,i,s,o,l,u,d,h,m,y,b,T,S,w,_,C,P,Y,M;let r=[];if(t.trim().length==0){let Z=(i=(n=xn.instance)==null?void 0:n.getTriggerNames())!=null?i:[];for(let Q=0;Q<Z.length;Q++)r.push({label:Z[Q],kind:Df.CompletionItemKind.Value})}else{let Z=t.split(" ").filter(re=>re.trim().length>0),Q=Z[0],G=(o=(s=xn.instance)==null?void 0:s.getTriggerContextItems(Q))!=null?o:[],ce=(l=xn.instance)==null?void 0:l.isCollectionTrigger(Q),Oe=(u=xn.instance)==null?void 0:u.isGlobalTrigger(Q),te=(d=xn.instance)==null?void 0:d.isFormTrigger(Q),oe=(h=xn.instance)==null?void 0:h.isStructureTrigger(Q),Ce=(m=xn.instance)==null?void 0:m.isAssetTrigger(Q),fe=[];if(Z.length<=2){ce?fe=fe.concat(e.project.getUniqueCollectionNames()):Oe?fe=fe.concat(e.project.getUniqueGlobalsNames()):te?fe=fe.concat(e.project.getUniqueFormNames()):oe?fe=fe.concat(e.project.getUniqueNavigationMenuNames()):Ce&&(fe=fe.concat(e.project.getUniqueAssetNames())),G.length>0&&(fe=fe.concat(G)),fe=[...new Set(fe)];for(let re=0;re<fe.length;re++)r.push({label:fe[re],kind:Df.CompletionItemKind.Value})}else{let re=[];ce?re=re.concat((b=(y=xn.instance)==null?void 0:y.getCollectionTriggerCaps())!=null?b:[]):Oe?re=re.concat((S=(T=xn.instance)==null?void 0:T.getGlobalTriggerCaps())!=null?S:[]):te?re=re.concat((_=(w=xn.instance)==null?void 0:w.getFormTriggerCaps())!=null?_:[]):oe?re=re.concat((P=(C=xn.instance)==null?void 0:C.getStructureTriggerCaps())!=null?P:[]):Ce&&(re=re.concat((M=(Y=xn.instance)==null?void 0:Y.getAssetTriggerCaps())!=null?M:[])),re=[...new Set(re)];for(let Qe=0;Qe<re.length;Qe++)r.push({label:re[Qe],kind:Df.CompletionItemKind.Value})}}return r}var Df,mA=x(()=>{Df=We(Ft());pA()});function Ff(t,e){var n,i,s,o;let r=Nf(t.name);return((n=e.context)==null?void 0:n.parameterContext)!=null&&["do","permission"].includes(r)?he(hA((o=(s=(i=e.context)==null?void 0:i.parameterContext.parameter)==null?void 0:s.value)!=null?o:"",e)):null}var Om=x(()=>{mA();ms();Fe()});var eB,Zo,Mf=x(()=>{ae();Om();eB={tagName:"user:can",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,resovleParameterCompletionItems:Ff,parameters:[{name:"do",acceptsVariableInterpolation:!1,aliases:["permission"],allowsVariableReference:!1,description:"The permissions to check against",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resolveDocumentation:t=>K("user:can Tag","The `user:can` tag is used to check if the currently authenticated user has a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user has the specified permissions.","https://statamic.dev/tags/user-can")},Zo=eB});var tB,el,Vf=x(()=>{ae();tB={tagName:"user:logout",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"redirect",description:"An optional URL to redirect the user after being logged out",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>K("user:logout Tag","The `user:logout` tag will sign out the currently authenticated user. An optional `redirect` parameter may be used to redirect the visitor to a different page after being logged out.","https://statamic.dev/tags/user-logout")},el=tB});var rB,tl,Bf=x(()=>{ae();rB={tagName:"user:logout_url",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"redirect",description:"An optional URL to redirect the user after being logged out",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>Ue("user:logout_url","The `user:logout_url` tag can be used to retrieve the URL that will sign the current user out.",'<a href="{{ user:logout_url }}">Log out</a>',"https://statamic.dev/tags/user-logout_url")},tl=rB});var gA,TA,_A=x(()=>{ae();gA={tagName:"switch",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"between",description:"A set of values to iterate over",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string","array"]},{name:"for",description:"A unique name for the switch instance",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>K("switch Tag","The `switch` tag can be used to alternate between a set of values each time the tag is evaluated.","https://statamic.dev/tags/switch")},TA={tagName:"rotate",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,introducedIn:null,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[{name:"between",description:"A set of values to iterate over",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string","array"]},{name:"for",description:"A unique name for the switch instance",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>K("rotate Tag","The `rotate` tag can be used to alternate between a set of values each time the tag is evaluated.","https://statamic.dev/tags/switch")}});var nB,yA,bA=x(()=>{ae();Fe();nB={tagName:"oauth",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"provider",description:"The OAuth provider to be used.",aliases:[],isRequired:!0,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]},{name:"redirect",description:"The URL to be redirected to after authenticating.",aliases:[],isRequired:!0,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resovleParameterCompletionItems:(t,e)=>t.name=="provider"?Ot(e.project.getOAuthProviders()):null,resolveDocumentation:t=>Ue("oauth Tag","The `oauth` tag can be used to generate login URls for various third-party services.",'<a href="{{ oauth provider="github" }}">Sign In with Github</a>',"https://statamic.dev/tags/oauth")},yA=nB});var iB,qf,wm=x(()=>{ae();iB={tagName:"session:dump",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>K("session:dump Tag","The `session:dump` tag will display the contents of the user's session to the browser. This tag behaves similarly to the `dd` helper functions, but returns just the session data.","https://statamic.dev/tags/session-dump")},qf=iB});var Rc,Lm=x(()=>{Rc=class{constructor(e){this.node=e}}});var sB,Uf,Dm=x(()=>{ae();_r();Lm();sB={tagName:"session:set",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!0,parameters:[],introducedIn:null,resolveDynamicParameter:st,resolveSpecialType:(t,e)=>({context:new Rc(t),issues:[]}),resolveDocumentation:t=>K("session:set Tag","The `session:set` tag is used to add new data to the user's session.","https://statamic.dev/tags/session-set")},Uf=sB});var Ba,kc,Fm=x(()=>{Ba=class{constructor(){this.knownVariables=new Map}registerDocumentSessionVariables(e,r){this.knownVariables.has(e)||this.knownVariables.set(e,new Map);let n=this.knownVariables.get(e);n.clear();for(let i=0;i<r.length;i++){let s=r[i].node;if(s.hasParameters)for(let o=0;o<s.parameters.length;o++){let l=s.parameters[o];n.set(l.name,r[i])}}}getKnownSessionVariableNames(){let e=[];return this.knownVariables.forEach(r=>{r.forEach((n,i)=>{e.includes(i)==!1&&e.push(i)})}),e}};Ba.instance=null;(typeof Ba.instance=="undefined"||Ba.instance==null)&&(Ba.instance=new Ba);kc=Ba});function vA(t,e){let r=[],n=t.getArrayValue(),i=e.filter(s=>!n.includes(s));for(let s=0;s<i.length;s++)r.push({label:i[s],kind:NA.CompletionItemKind.Variable});return he(r)}var NA,IA=x(()=>{NA=We(Ft());Fe()});var aB,jf,Mm=x(()=>{ae();Fm();IA();aB={tagName:"session:forget",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"keys",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The session keys to clear",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var r,n,i;if(t.name=="keys"&&((r=e.context)==null?void 0:r.parameterContext)!=null){let s=(i=(n=kc.instance)==null?void 0:n.getKnownSessionVariableNames())!=null?i:[];if(e.context.parameterContext.parameter!=null)return vA(e.context.parameterContext.parameter,s)}return null},resolveDocumentation:t=>K("session:forget Tag","The `session:forget` tag is used to remove variables from the user's session.","https://statamic.dev/tags/session-forget")},jf=aB});var oB,Gf,Vm=x(()=>{ae();oB={tagName:"session:flush",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>K("session:flush Tag","The `session:flush` tag will clear all values from the visitor's session. If the visitor is currently signed in they will also be signed out.","https://statamic.dev/tags/session-flush")},Gf=oB});var lB,Wf,Bm=x(()=>{ae();_r();Lm();lB={tagName:"session:flash",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDynamicParameter:st,resolveSpecialType:(t,e)=>({context:new Rc(t),issues:[]}),resolveDocumentation:t=>K("session:flash Tag","The `session:flash` tag can be used to add a value to the user's session. Flashed values only persist for a single request, and are then removed.","https://statamic.dev/tags/session-flash")},Wf=lB});var cB,Hf,qm=x(()=>{ae();cB={tagName:"markdown:indent",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>K("markdown:indent Tag","The `markdown:indent` tag is similar to the markdown tag, but will ignore leading whitepsace while rendering the tag's content as markdown.","https://statamic.dev/tags/markdown-indent")},Hf=cB});var uB,fB,PA,CA=x(()=>{ae();An();Fe();qm();uB=[Ee(Hf)],fB={tagName:"markdown",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="markdown"||t.leftWord=="/markdown")&&t.leftChar==":"?he(uB):ke,resolveDocumentation:t=>K("markdown Tag","The `markdown` tag can be used to render the tags contents as markdown.","https://statamic.dev/tags/markdown")},PA=fB});function Yf(t,e){let r=[],n=e;if(t.trim().length>0&&t.includes(".")&&t.endsWith(".")){let i=t.substr(0,t.length-1);n=n.filter(s=>s.startsWith(i))}for(let i=0;i<n.length;i++){let s=n[i],o=!0;t.includes(".")&&(s.startsWith(t)==!1?o=!1:s=s.substr(t.length)),o&&r.push({label:s,insertText:s,kind:AA.CompletionItemKind.Text})}return r}var AA,Um=x(()=>{AA=We(Pi())});function SA(t,e){return Yf(t,e.getRouteNames())}var xA=x(()=>{Um()});var dB,EA,RA=x(()=>{ae();xA();ms();Fe();_r();dB={tagName:"route",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDynamicParameter:st,resolveCompletionItems:t=>{if(t.leftMeaningfulWord=="route"){let e=bf(t);return he(SA(e,t.project))}return ke},resolveDocumentation:t=>K("route Tag","The `route` tag can be used to generate a full URL [to a named route](https://laravel.com/docs/8.x/routing#named-routes), including any defined route parameters.","https://statamic.dev/tags/route")},EA=dB});var Kf,kA,OA=x(()=>{Kf=We(Ft()),kA=[{label:"301 Permanent",insertText:"301",kind:Kf.CompletionItemKind.EnumMember},{label:"302 Temporary",insertText:"302",kind:Kf.CompletionItemKind.EnumMember},{label:"404 Not Found",insertText:"404",kind:Kf.CompletionItemKind.EnumMember}]});var pB,wA,LA=x(()=>{ae();OA();Fe();pB={tagName:"redirect",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"to",description:"The destination URL.",aliases:["url"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!0},{name:"response",description:"The HTTP response code to use.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1}],resovleParameterCompletionItems:t=>t.name=="response"?he(kA):ke,resolveDocumentation:t=>K("redirect Tag","The `redirect` tag can be used to redirect the site visitor to a URL or named route. An optional HTTP status code can also be specified on the response using the `response` parameter.","https://statamic.dev/tags/redirect")},wA=pB});var qa,DA,FA=x(()=>{qa=class{constructor(){this.knownSections=new Map}registerDocumentSections(e,r){this.knownSections.has(e)||this.knownSections.set(e,new Map);let n=this.knownSections.get(e);n.clear();for(let i=0;i<r.length;i++){let s=r[i];s.node.hasMethodPart()&&n.set(s.node.getMethodNameValue(),s)}}getKnownSectionNames(){let e=[];return this.knownSections.forEach(r=>{r.forEach((n,i)=>{e.includes(i)==!1&&e.push(i)})}),e}};qa.instance=null;(typeof qa.instance=="undefined"||qa.instance==null)&&(qa.instance=new qa);DA=qa});var MA,hB,VA,BA=x(()=>{MA=We(Ft());ae();FA();Fe();hB={tagName:"section",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>{var e,r;if((t.leftWord=="section"||t.leftWord=="/section")&&t.leftChar==":"){let n=[],i=(r=(e=DA.instance)==null?void 0:e.getKnownSectionNames())!=null?r:[];for(let s=0;s<i.length;s++)n.push({label:i[s],kind:MA.CompletionItemKind.Field});return kr(n)}return ke},resolveDocumentation:t=>K("section Tag","The `section` tag is used to push content to a named region defined by the `yield` tag.","https://statamic.dev/tags/section")},VA=hB});var mB,qA,UA=x(()=>{ae();mB={tagName:"obfuscate",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>K("obfuscate Tag","The `obfuscate` tag converts the tags's content into a format that is difficult for bots to read, but can easily be viewed by users within their browser.","https://statamic.dev/tags/obfuscate")},qA=mB});var gB,jA,GA=x(()=>{ae();gB={tagName:"parent",hideFromCompletions:!1,requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!1,injectParentScope:!0,introducedIn:null,parameters:[],resolveDocumentation:t=>K("parent Tag","The `parent` tag provides access to data from the current page's parent (the URL one level above the current page).","https://statamic.dev/tags/parent")},jA=gB});function jm(t,e){return Yf(t,e.getTranslationKeys())}var WA=x(()=>{Um()});var TB,$f,HA,Gm,YA=x(()=>{ae();WA();ms();Fe();Wi();_r();TB=["translate","trans","trans_choice"],$f={tagName:"translate",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,introducedIn:null,allowsArbitraryParameters:!0,parameters:[{isRequired:!1,name:"key",description:"The key of the translation string to find.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"locale",description:"The locale to be used when translating.",acceptsVariableInterpolation:!1,aliases:["site"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"count",description:"The number of items to use for pluralization.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var r;if(t.name=="key"){let n="";return((r=e.context)==null?void 0:r.parameterContext)!=null&&e.context.parameterContext.parameter!=null&&(n=e.context.parameterContext.parameter.value),he(jm(n,e.project))}return ke},resolveDynamicParameter:st,resolveCompletionItems:t=>{if(t.leftMeaningfulWord!=null&&TB.includes(t.leftMeaningfulWord)){let e=bf(t);return he(jm(e,t.project))}return ke},resolveDocumentation:t=>K("trans Tag","The `trans` tag can be used to retrieve a string for the current locale's language file.","https://statamic.dev/tags/trans")},HA=vt($f,"trans"),Gm=vt($f,"trans_choice");Gm.resolveDocumentation=t=>K("trans_choice Tag","The `trans_choice` tag can be used to retrieve a pluralized string for the current locale's language file.","https://statamic.dev/tags/trans#pluralization")});var _B,KA,$A=x(()=>{ae();_r();_B={tagName:"svg",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,introducedIn:null,parameters:[{isRequired:!1,name:"src",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The SVG filename relative to the project root",expectsTypes:["string"],isDynamic:!1}],resolveDynamicParameter:st,resolveDocumentation:t=>K("svg Tag","The `svg` tag can be used to render inline SVGs, as well as set attributes on the rendered `<svg>` element.","https://statamic.dev/tags/svg")},KA=_B});var yB,zA,QA=x(()=>{ae();_f();yB={tagName:"asset",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The path to the file",expectsTypes:["string"],isDynamic:!1,name:"url"}],augmentScope:(t,e)=>(e.addVariables(Ko(t)),e),resolveDocumentation:t=>Ue("asset Tag","The `asset` tag can be used to retrive Assets by supplying a URL.",`{{ asset url="/url/for/asset.png" }}
    <img src="{{ url }}" alt="{{ alt }}" />
{{ /asset }}`,"https://statamic.dev/tags/asset")},zA=yB});function Wm(t){let e=[],r=t.getUniqueAssetNames();for(let n=0;n<r.length;n++)e.push({label:r[n],kind:XA.CompletionItemKind.Field});return e}var XA,JA=x(()=>{XA=We(Ft())});var ZA,bB,eS,tS=x(()=>{ae();JA();Fe();_f();ZA=["container","id","handle"],bB={tagName:"assets",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"container",aliases:["id","handle"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The handle of the asset container.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"folder",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Filters the resulting assets by specific folder.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"recursive",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Returns all assets in all subdirectories.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"limit",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Limits the total results",expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sort entries by any asset variable.",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>ZA.includes(t.name)?he(Wm(e.project)):ke,augmentScope:(t,e)=>{e.addVariables(Ko(t));let r="";if(t.name!=null&&t.name.getMethodName()!=null)r=t.name.getMethodName();else{let n=t.findAnyParameter(ZA);n!=null&&n.containsSimpleValue()&&(r=n.value)}return r.length>0&&e.injectAssetContainer(t,r),e},resolveCompletionItems:t=>(t.leftWord=="assets"||t.leftWord=="/assets")&&t.leftChar==":"?he(Wm(t.project)):ke,resolveDocumentation:t=>Ue("assets Tag","The `assets` tag can be used to retrieve multiple Assets from an Asset container.",`{{ assets container="container-name" }}
    {{# Loop over all assets in the container. #}}
	<img src="{{ url }}" alt="{{ alt }}" />
{{ /assets }}`,"https://statamic.dev/tags/assets")},eS=bB});var NB,rS,nS=x(()=>{ae();Fe();NB={tagName:"get_content",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,introducedIn:null,allowsArbitraryParameters:!1,parameters:[{isRequired:!1,name:"from",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"The ID to retrieve data for.",expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"locale",aliases:["site"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The locale to show the content in.",expectsTypes:["string"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>t.name=="locale"||t.name=="site"?Ot(e.project.getSiteNames()):null,resolveDocumentation:t=>Ue("get_content Tag","The `get_content` tag can be used to retrieve content from other entries. This tag accepts the ID of another entry, and will return access to all data for that entry.",`{{ get_content from="the-entry-id" }}
{{ /get_content }}`,"https://statamic.dev/tags/get_content")},rS=NB});function iS(t){return[{name:"basename",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"extension",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"filename",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"is_image",dataType:"boolean",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"file",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"file",dataType:"last_modified",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_bytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_b",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_gigabytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_gb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_kilobytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_kb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_megabytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_mb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t}]}var sS=x(()=>{});var vB,aS,oS=x(()=>{ae();sS();vB={tagName:"get_files",hideFromCompletions:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"in",aliases:["from"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The directory to find files in relative to the public directory",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"depth",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The depth of the subdirectories",expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"not_in",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],description:"The subdirectories or pattern to exclude",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"file_size",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],description:"The file size filter to use",isDynamic:!1},{isRequired:!1,name:"ext",aliases:["extension"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The extension(s) to filter by",expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"include",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:["match"],description:"Filter files by a regular expression",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"exclude",description:"Excludes files by a regular expression",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"file_date",description:"Filters files by last modified date",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"limit",description:"Limits the total number of results",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"offset",description:"The number of entries the results should be offset by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sorts the listing by extension, size, last_modified, or random",expectsTypes:["string"],isDynamic:!1}],augmentScope:(t,e)=>(e.addVariables(iS(t)),e),resolveDocumentation:t=>K("get_files Tag","The `get_files` tag can be used to display information about files on the site's local filesystem.","https://statamic.dev/tags/get_files")},aS=vB});function zf(t){return[{name:"width",dataType:"number",sourceName:"*internal.glide",sourceField:null,introducedBy:t},{name:"height",dataType:"number",sourceName:"*internal.glide",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.glide",sourceField:null,introducedBy:t}]}var Hm=x(()=>{});function Ai(t,e,r){var n,i,s,o,l,u,d,h,m,y,b,T;return{endLine:(s=(i=(n=r.valuePosition)==null?void 0:n.end)==null?void 0:i.line)!=null?s:0,startLine:(u=(l=(o=r.namePosition)==null?void 0:o.start)==null?void 0:l.line)!=null?u:0,endPos:(m=(h=(d=r.valuePosition)==null?void 0:d.end)==null?void 0:h.char)!=null?m:0,startPos:(T=(b=(y=r.namePosition)==null?void 0:y.start)==null?void 0:b.char)!=null?T:0,message:t,severity:lS.DiagnosticSeverity.Error}}var lS,cS=x(()=>{lS=We(Ft())});function nl(t,e){return t.name=="orient"?Ot(uS):t.name=="format"?Ot(Km):t.name=="filter"?Ot(Ym):t.name=="preset"?Ot(e.project.getAssetPresets()):ke}var Ym,Km,uS,rl,Qf=x(()=>{cS();Fe();Ym=["greyscale","sepia"],Km=["jpg","pjpg","png","gif","webp","avif","tif","bmp","psd"],uS=["auto","0","90","180","270"],rl=[{isRequired:!1,name:"src",aliases:["path","id"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The URL of the image when not using shorthand syntax.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"tag",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Outputs an image tag when set to true.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"alt",description:"The alt attribute value to use when generating tags.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"absolute",description:"Whether to output full URLs.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{name:"width",expectsTypes:["number"],isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The width of the image, in pixels.",isDynamic:!1},{name:"height",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],description:"The height of the image, in pixels.",expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"square",expectsTypes:["number"],acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets both then height and width of the image.",isDynamic:!1,isRequired:!1},{name:"fit",expectsTypes:["string"],acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"How the image is fitted to its target dimensions.",isDynamic:!1,isRequired:!1},{name:"crop",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Crops the image to the specific dimensions.",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"orient",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Rotates the image.",expectsTypes:["*"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let r=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!uS.includes(e.value)&&r.push(Ai("Invalid orient value",t,e)),r}},{name:"quality",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Defines the quality of the image",expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"dpr",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],description:"Defines the device pixel ratio.",expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let r=parseInt(e.value),n=[];return e.containsSimpleValue()&&(r<1||r>8)&&n.push(Ai("dpr must be an integer between 1 and 8.",t,e)),n}},{name:"format",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Encodes the image to a specific format.",expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let r=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!Km.includes(e.value)&&r.push(Ai("Format must be one of: "+Km.join(","),t,e)),r}},{name:"bg",description:"Sets the background color for transparent images.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"blur",description:"Adds a blur effect to the image.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let r=parseInt(e.value),n=[];return e.containsSimpleValue()&&(r<0||r>100)&&n.push(Ai("blur must be a value between 0 and 100.",t,e)),n}},{name:"brightness",description:"Adjusts the image brightness.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let r=parseInt(e.value),n=[];return e.containsSimpleValue()&&(r<-100||r>100)&&n.push(Ai("brightness must be a value between -100 and 100.",t,e)),n}},{name:"contrast",description:"Adjusts the image contrast.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let r=parseInt(e.value),n=[];return e.containsSimpleValue()&&(r<-100||r>100)&&n.push(Ai("contrast must be a value between -100 and 100.",t,e)),n}},{name:"gamma",description:"Adjusts the image gamma.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let r=parseFloat(e.value),n=[];return e.containsSimpleValue()&&(r<.1||r>9.99)&&n.push(Ai("gamma must be a value between 0.1 and 9.99.",t,e)),n}},{name:"sharpen",description:"Sharpens the image.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let r=parseInt(e.value),n=[];return e.containsSimpleValue()&&(r<0||r>100)&&n.push(Ai("sharpen must be a value between 0 and 100.",t,e)),n}},{name:"pixelate",description:"Applies a pixelation effect to the image.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let r=parseInt(e.value),n=[];return e.containsSimpleValue()&&(r<0||r>100)&&n.push(Ai("pixelate must be a value between 0 and 100.",t,e)),n}},{name:"filter",description:"Applies a filter effect to the image.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let r=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!Ym.includes(e.value)&&r.push(Ai("Filter must be one of: "+Ym.join(","),t,e)),r}},{name:"preset",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],description:"A collection of pre-configured image manipulation parameters.",isDynamic:!1,isRequired:!1}]});var IB,Xf,$m=x(()=>{ae();Hm();Qf();IB={tagName:"glide:batch",hideFromCompletions:!1,requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,injectParentScope:!1,parameters:rl,introducedIn:null,augmentScope:(t,e)=>(e.addVariables(zf(t)),e),resovleParameterCompletionItems:nl,resolveDocumentation:t=>K("glide:batch Tag","The `glide:batch` tag is similar to the glide tag, but can be used to apply image manipulations to multiple images within a piece of content.","https://statamic.dev/tags/glide-batch")},Xf=IB});var PB,Jf,zm=x(()=>{ae();Qf();PB={tagName:"glide:data_url",hideFromCompletions:!1,requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,injectParentScope:!1,parameters:rl,introducedIn:null,resovleParameterCompletionItems:nl,resolveDocumentation:t=>K("glide:data_url Tag","The `glide:data_url` tag returns manipulated image datas as a data URI.",null)},Jf=PB});var CB,AB,fS,dS=x(()=>{ae();An();Fe();Hm();$m();zm();Qf();CB=[Ee(Xf),Ee(Jf)],AB={tagName:"glide",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!1,parameters:rl,introducedIn:null,augmentScope:(t,e)=>(e.addVariables(zf(t)),e),resovleParameterCompletionItems:nl,resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="glide"||t.leftWord=="/glide")&&t.leftChar==":"?he(CB):ke,resolveDocumentation:t=>K("glide Tag","The `glide` tag is used to manipulate images on the fly. Image manipulations may include resizing, cropping, or adjusting sharpness and constrast, amongst many others.","https://statamic.dev/tags/glide")},fS=AB});var pS,hS,mS=x(()=>{ae();pS={tagName:"iterate",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Optionally rename the key/value variables",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"array",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The array to iterate",expectsTypes:["array"],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>K("iterate Tag","The `iterate` tag can be used to iterate over arbitrary arrays.","https://statamic.dev/tags/foreach")},hS={tagName:"foreach",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Optionally rename the key/value variables",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"array",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The array to iterate",expectsTypes:["array"],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>K("foreach Tag","The `foreach` tag can be used to iterate over arbitrary arrays.","https://statamic.dev/tags/foreach")}});function gS(t){return[{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t},{name:"name",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}]}var TS=x(()=>{});var Zf,Qm=x(()=>{Zf=[{isRequired:!1,name:"id",description:"The ID of the content to localize.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"sort",description:"Sort by a site's key.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"current_first",description:"When true, ensures that the current locale is first.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"all",description:"When true, all locale data will be returned.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!0,name:"self",description:"When true, the current locale will be included.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"collection_term_workaround",description:"Disables the behavior introduced in https://github.com/statamic/cms/pull/6466.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1}]});var SB,ed,Xm=x(()=>{ae();Qm();SB={tagName:"locales:count",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,parameters:Zf,introducedIn:"3.0.36",resolveDocumentation:t=>K("locales:count Tag","The `locales:count` tag can be used to count the number of locales the current content is available in.","https://statamic.dev/tags/locales-count")},ed=SB});var xB,EB,_S,yS=x(()=>{ae();An();Fe();TS();Xm();Qm();xB=[Ee(ed)],EB={tagName:"locales",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,parameters:Zf,introducedIn:null,augmentScope:(t,e)=>(e.addVariableArray("locale",gS(t)),e.addVariable({name:"current",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"is_current",dataType:"boolean",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"exists",dataType:"boolean",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"permalink",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e),resolveDocumentation:t=>K("locales Tag","The `locales` tag can be used to access all the locales the current content is available in.","https://statamic.dev/tags/locales"),resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="locale"||t.leftWord=="/locale")&&t.leftChar==":"?he(xB):ke},_S=EB});var RB,bS,NS=x(()=>{ae();RB={tagName:"mix",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"src",description:"The path to the versioned file, relative to the public directory",acceptsVariableInterpolation:!1,aliases:["path"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"in",description:"The location of the mix manifest file",acceptsVariableInterpolation:!1,aliases:["from"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1}],resolveDocumentation:t=>K("mix Tag","The `mix` tag is used to return the path of CSS and JavaScript files versioned with [Laravel Mix](https://laravel.com/docs/8.x/mix).","https://statamic.dev/tags/mix")},bS=RB});function vS(t){let e=[],r=t.getUniqueUserGroupNames();for(let n=0;n<r.length;n++)e.push({label:r[n],kind:Oc.CompletionItemKind.Field});return e}function IS(t){let e=[],r=t.getUniqueUserRoleNames();for(let n=0;n<r.length;n++)e.push({label:r[n],kind:Oc.CompletionItemKind.Field});return e}function il(t,e){let r=[],n=e.getUniqueUserGroupNames(),i=n.filter(s=>!t.includes(s));for(let s=0;s<i.length;s++)r.push({label:i[s],kind:Oc.CompletionItemKind.Field});return r}function sl(t,e){let r=[],n=e.getUniqueUserRoleNames(),i=n.filter(s=>!t.includes(s));for(let s=0;s<i.length;s++)r.push({label:i[s],kind:Oc.CompletionItemKind.Field});return r}var Oc,Ua=x(()=>{Oc=We(Ft())});var kB,td,Jm=x(()=>{ae();Fe();Ua();kB={tagName:"user:in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against.",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var r,n,i;return(t.name=="groups"||t.name=="group")&&((r=e.context)==null?void 0:r.parameterContext)!=null?he(il((i=(n=e.context.parameterContext.parameter)==null?void 0:n.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>K("user:in Tag","The `user:in` tag can be used to check if the currently authenticated user belongs to one or more user groups. When used as a tag pair, the tag contents will only be rendered if the user belongs to the specified groups.","https://statamic.dev/tags/user-in")},td=kB});var OB,al,rd=x(()=>{ae();Fe();Ua();OB={tagName:"user:not_in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against.",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var r,n,i;return(t.name=="groups"||t.name=="group")&&((r=e.context)==null?void 0:r.parameterContext)!=null?he(il((i=(n=e.context.parameterContext.parameter)==null?void 0:n.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>K("user:not_in Tag","The `user:not_in` tag can be used to check if the currently authenticated user does not belong to one or more user groups. When used as a tag pair, the tag contents will be rendered if the user does not belong to the specified groups.","https://statamic.dev/tags/user-in#not-in")},al=OB});var wB,ol,nd=x(()=>{ae();Fe();Ua();wB={tagName:"user:is",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against.",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var r,n,i;return(t.name=="roles"||t.name=="role")&&((r=e.context)==null?void 0:r.parameterContext)!=null?he(sl((i=(n=e.context.parameterContext.parameter)==null?void 0:n.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>K("user:is Tag","The `user:is` tag can be used to check whether the currently authenticated user has one or more roles.","https://statamic.dev/tags/user-is")},ol=wB});var LB,ll,id=x(()=>{ae();Fe();Ua();LB={tagName:"user:isnt",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against.",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var r,n,i;return(t.name=="roles"||t.name=="role")&&((r=e.context)==null?void 0:r.parameterContext)!=null?he(sl((i=(n=e.context.parameterContext.parameter)==null?void 0:n.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>K("user:isnt Tag","The `user:isnt` tag can be used to check whether the currently authenticated user does not have one or more roles.","https://statamic.dev/tags/user-is#isnt")},ll=LB});var DB,PS,CS=x(()=>{ae();Fe();Ua();DB={tagName:"in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var r,n,i;return(t.name=="groups"||t.name=="group")&&((r=e.context)==null?void 0:r.parameterContext)!=null?he(il((i=(n=e.context.parameterContext.parameter)==null?void 0:n.getArrayValue())!=null?i:[],e.project)):null},resolveCompletionItems:t=>(t.leftWord=="in"||t.leftWord=="/in")&&t.leftChar==":"?he(vS(t.project)):ke,resolveDocumentation:t=>K("in Tag","The `in` tag can be used to check if the authenticated user belongs to one or more groups. This tag operates similarly to the `user:in` tag.","https://statamic.dev/tags/user-in")},PS=DB});var FB,AS,SS=x(()=>{ae();FB={tagName:"not_found",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>Ue("404 (Not Found) Tag","The `not_found` tag will trigger a 404 status code, and display the 404 template to the site visitor.",`{{ unless logged_in }}
	{{# Display the 404 Not Found page. #}}
	{{ not_found }}
{{ /unless }}`,"https://statamic.dev/tags/404")},AS=FB});var MB,xS,ES=x(()=>{ae();Fe();Ua();MB={tagName:"is",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against.",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var r,n,i;return(t.name=="roles"||t.name=="role")&&((r=e.context)==null?void 0:r.parameterContext)!=null?he(sl((i=(n=e.context.parameterContext.parameter)==null?void 0:n.getArrayValue())!=null?i:[],e.project)):null},resolveCompletionItems:t=>(t.leftWord=="is"||t.leftWord=="/is")&&t.leftChar==":"?he(IS(t.project)):ke,resolveDocumentation:t=>K("is Tag","The `is` tag can be used to check whether the currently authenticated user has one or more roles. This tag behaves the same as the `user:is` tag.","https://statamic.dev/tags/user-is")},xS=MB});var VB,RS,kS=x(()=>{ae();VB={tagName:"widont",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Ue("widont Tag","The `widont` tag is similar to the [widont modifier](https://statamic.dev/modifiers/widont), and will attempt to prevent lines with a single word from appearing within the tags rendered output.",`{{ widont }}
    {{ content }}
{{ /widont }}`,null)},RS=VB});var sd,Zm=x(()=>{sd=[{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"id",description:"The user ID to fetch.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"email",description:"The email address to find the user by.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"field",description:"The field to fetch the user by",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"value",description:"The value to search for.",expectsTypes:["string"],isDynamic:!1}]});var BB,cl,ad=x(()=>{ae();Uo();Fe();Zm();BB={tagName:"user:profile",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:sd,introducedIn:null,augmentScope:(t,e)=>(e.injectBlueprint(t,"user"),e),resovleParameterCompletionItems:(t,e)=>t.name=="field"?he(ff(e.project.getUserFields())):ke,resolveDocumentation:t=>K("user:profile Tag","The `user:profile` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter.",null)},cl=BB});var OS,wS,LS=x(()=>{ae();OS={tagName:"dd",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Ue("dd Tag","The `dd` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered. This tag will stop the template from rendering after it is encountered.  If Ignition is available, this tag will use the [ddd](https://flareapp.io/blog/1-introducing-ddd-a-new-global-helper-for-laravel) method.",`{{ collection:articles }}
	{{#
		View all data available, for the first
		entry that renders the dd tag.
	#}}
    {{ dd }}
{{ /collection:articles }}`,null)},wS={tagName:"ddd",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Ue("ddd Tag","The `ddd` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered. This tag will stop the template from rendering after it is encountered.  If Ignition is available, this tag will use the [ddd](https://flareapp.io/blog/1-introducing-ddd-a-new-global-helper-for-laravel) method.",`{{ collection:articles }}
	{{#
		View all data available, for the first
		entry that renders the ddd tag.
	#}}
    {{ ddd }}
{{ /collection:articles }}`,null)}});var qB,DS,FS=x(()=>{ae();qB={tagName:"path",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,acceptsVariableInterpolation:!1,aliases:["src"],allowsVariableReference:!0,description:"The path source",name:"to",isDynamic:!1,expectsTypes:["string"]},{isRequired:!1,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],description:"Whether to generate absolute paths",expectsTypes:["boolean"],isDynamic:!1,name:"absolute"}],resolveDocumentation:t=>K("path Tag","The `path` tag can be used to generate URLs from relative URLs, or an entry ID.",null)},DS=qB});var UB,od,eg=x(()=>{ae();Om();UB={tagName:"user:cant",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,resovleParameterCompletionItems:Ff,parameters:[{name:"do",acceptsVariableInterpolation:!1,aliases:["permission"],allowsVariableReference:!1,description:"The permissions to check against",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resolveDocumentation:t=>K("user:cant Tag","The `user:cant` tag is used to check if the currently authenticated user does not have a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user does not have the specified permissions.","https://statamic.dev/tags/user-can#cant")},od=UB});var jB,MS,VS=x(()=>{jB={tagName:"query",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,parameters:[{name:"builder",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The query to evaluate",expectsTypes:["string"],isRequired:!0,isDynamic:!1}]},MS=jB});var Hi,ul=x(()=>{Hi=[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"src",description:"The relative path to the file.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"cache_bust",description:"Whether to output the last modified date.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"version",description:"Whether to check a versioning manifest to produce the final URL.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"absolute",description:"Generate absolute URLs or not.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"locale",description:"The locale the path should be generated in.",expectsTypes:["string"],isDynamic:!1}]});var ja,GB,WB,BS,qS=x(()=>{ja=We(Ft());Fe();ul();GB=[{label:"asset",kind:ja.CompletionItemKind.Text},{label:"css",kind:ja.CompletionItemKind.Text},{label:"img",kind:ja.CompletionItemKind.Text},{label:"js",kind:ja.CompletionItemKind.Text},{label:"output",kind:ja.CompletionItemKind.Text},{label:"path",kind:ja.CompletionItemKind.Text}],WB={tagName:"theme",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,introducedIn:null,injectParentScope:!1,parameters:Hi,resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="theme"||t.leftWord=="/theme")&&t.leftChar==":"?he(GB):ke},BS=WB});var tg,US,jS=x(()=>{ae();Wi();ul();tg={tagName:"theme:path",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:Hi,resolveDocumentation:t=>K("theme:path Tag","The `theme:path` tag may be used to generate URLs for public assets. This tag may also optionally add the current locale, generate relative URLs, or add cache busting URL parameters to the end of the generated URL.",null)},US=vt(tg,"theme:asset")});var HB,GS,WS=x(()=>{ae();ul();HB={tagName:"theme:css",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...Hi,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]}],resolveDocumentation:t=>K("theme:css Tag","The `theme:css` tag may be used to generate a CSS path relative to a public `css/` directory for any arbitrary file path. This tag may also optionally create the HTML `link` tag.",null)},GS=HB});var YB,HS,YS=x(()=>{ae();ul();YB={tagName:"theme:img",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...Hi,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]},{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"alt",description:"The alt text to use when generating the HTML tag",expectsTypes:["string"]}],resolveDocumentation:t=>K("theme:img Tag","The `theme:img` tag may be used to generate an image path relative to a public `img/` directory for any arbitrary file path. This tag may also optionally create the HTML `img` tag.",null)},HS=YB});var KB,KS,$S=x(()=>{ae();ul();KB={tagName:"theme:js",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...Hi,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]}],resolveDocumentation:t=>K("theme:js Tag","The `theme:js` tag may be used to generate a JavaScript path relative to a public `js/` directory for any arbitrary file path. This tag may also optionally create the HTML `script` tag.",null)},KS=KB});var $B,zS,QS=x(()=>{ae();$B={tagName:"theme:output",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],name:"src",description:"The path to the file",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],name:"as",description:"An optional alias for the contents variable",expectsTypes:["string"],isDynamic:!1}],augmentScope:(t,e)=>{if(t.isClosedBy!=null){let r=t.findParameter("as");r!=null?e.addVariable({name:r.value,dataType:"string",sourceField:null,sourceName:"*internal.theme.context",introducedBy:t}):e.addVariable({name:"output_contents",dataType:"string",sourceField:null,sourceName:"*internal.theme.context",introducedBy:t})}return e},resolveDocumentation:t=>K("theme:output Tag","The `theme:output` tag may be used to output the contents of any arbitrary file, relative to the site's `resources/` directory.",null)},zS=$B});var zB,XS,JS=x(()=>{ae();zB={tagName:"scope",hideFromCompletions:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Ue("scope Tag","The `scope` tag creates a copy of all available variables, and saves them to a new  *array* variable defined by the tag's method part.",`{{ scope:scope_name }}
    {{ scope_name:title }}
{{ /scope:scope_name }}
`,null)},XS=zB});var QB,ZS,ex=x(()=>{ae();_r();QB={tagName:"if",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:st,resolveDocumentation:t=>K("if Conditional Control Structure","The contents of the `if` tag will be rendered when it's expression evaluates to `true`.","https://statamic.dev/antlers#conditions")},ZS=QB});var XB,tx,rx=x(()=>{ae();_r();XB={tagName:"elseif",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:st,resolveDocumentation:t=>K("elseif Conditional Control Structure","The contents of the `elseif` tag will be rendered when it's expression evaluates to `true`.","https://statamic.dev/antlers#conditions")},tx=XB});var JB,nx,ix=x(()=>{ae();JB={tagName:"else",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDocumentation:t=>K("else Conditional Control Structure","The contents of the `else` control structure will be evaluated when all previous conditional branch conditions were not met.","https://statamic.dev/antlers#conditions")},nx=JB});var ZB,ld,rg=x(()=>{ae();_r();ZB={tagName:"session:has",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!0,parameters:[],introducedIn:"3.1.28",resolveDynamicParameter:st,resolveDocumentation:t=>K("session:has Tag","The `session:has` tag can be used to determine of the user's session contains a specific variable.","https://statamic.dev/tags/session-has")},ld=ZB});var sx,eq,tq,ax,ox=x(()=>{sx=We(Ft());Fm();An();Fe();wm();Bm();Vm();Mm();rg();Dm();eq=[Ee(Uf),Ee(Wf),Ee(jf),Ee(Gf),Ee(ld),Ee(qf)],tq={tagName:"session",requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",description:"An optional alias for the session data",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveCompletionItems:t=>{var e,r;if(t.isPastTagPart==!1&&(t.leftWord=="session"||t.leftWord=="/session")&&t.leftChar==":"){let n=(r=(e=kc.instance)==null?void 0:e.getKnownSessionVariableNames())!=null?r:[],i=[];i=i.concat(eq);for(let s=0;s<n.length;s++)i.push({label:n[s],kind:sx.CompletionItemKind.Variable});return he(i)}return ke},augmentScope:(t,e)=>{var s,o;let r=t.findParameter("as"),n=(o=(s=kc.instance)==null?void 0:s.getKnownSessionVariableNames())!=null?o:[],i=[];for(let l=0;l<n.length;l++)i.push({dataType:"*",name:n[l],sourceField:null,sourceName:"project.session",introducedBy:t});return r==null?e.addVariables(i):e.addVariableArray(r.value,i),e}},ax=tq});var wc,ng,ig=x(()=>{ae();Wi();_r();wc={tagName:"user:forgot_password_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",description:"Where the user should be taken after submitting the form",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:st,augmentScope:(t,e)=>(e.addVariables([{name:"success",dataType:"boolean",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t},{name:"url_invalid",dataType:"boolean",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t},{name:"errors",dataType:"array",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t}]),e),resolveDocumentation:t=>K("user:forgot_password_form Tag",'The `user:forgot_password_form` tag is used to quickly create a "forgot password" form for site users.',"https://statamic.dev/tags/user-forgot_password_form")},ng=vt(wc,"member:forgot_password_form");ng.resolveDocumentation=t=>K("member:forgot_password_form Tag",'The `member:forgot_password_form` tag is used to quickly create a "forgot password" form for site users.',"https://statamic.dev/tags/user-forgot_password_form")});function Xs(t){return[{name:"handle",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"display",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"type",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"field",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"error",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"instructions",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"old",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t}]}var Lc=x(()=>{});function fl(t){return[{name:"success",dataType:"string",sourceField:null,sourceName:"*internal.forms",introducedBy:t},{name:"submission_created",dataType:"boolean",sourceField:null,sourceName:"*internal.forms",introducedBy:t}]}var cd=x(()=>{});function rq(t){return[{name:"current_password",dataType:"string",sourceName:"*internal.user_password_form",sourceField:null,introducedBy:t},{name:"password",dataType:"string",sourceName:"*internal.user_password_form",sourceField:null,introducedBy:t},{name:"password_confirmation",dataType:"string",sourceName:"*internal.user_password_form",sourceField:null,introducedBy:t}]}var nq,ud,sg=x(()=>{Lc();cd();nq={tagName:"user:password_form",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!0,parameters:[{name:"redirect",description:"The location to redirect users after a successful form submission",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",description:"The location to redirect users to after a failed form submission",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override redirect or error_redirect",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],introducedIn:"3.3.61",allowsArbitraryParameters:!0,augmentScope:(t,e)=>{e.addVariables(fl(t)),e.addVariable({dataType:"array",name:"errors",sourceField:null,sourceName:"*internal.forms",introducedBy:t}),e.addVariableArray("fields",Xs(t));let r=rq(t);return e.addVariableArray("old",r),e.addVariableArray("error",r),e}},ud=nq});var Dc,ag,og=x(()=>{ae();Wi();_r();Dc={tagName:"user:reset_password_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",description:"Where the user should be taken after submitting the form",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:st,augmentScope:(t,e)=>(e.addVariables([{name:"success",dataType:"boolean",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t},{name:"url_invalid",dataType:"boolean",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t},{name:"errors",dataType:"array",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t}]),e),resolveDocumentation:t=>K("user:reset_password_form Tag","The `user:reset_password_form` tag is used to quickly create password reset forms. Forms created with this tag should be displayed after a user has received and clicked a password reset email link.","https://statamic.dev/tags/user-reset_password_form")},ag=vt(Dc,"member:reset_password_form");ag.resolveDocumentation=t=>K("member:reset_password_form Tag","The `member:reset_password_form` tag is used to quickly create password reset forms. Forms created with this tag should be displayed after a user has received and clicked a password reset email link.","https://statamic.dev/tags/user-reset_password_form")});function lg(t,e){return{sourceName:e.blueprintName,dataType:e.type,name:e.name,sourceField:e,introducedBy:t}}function lx(t){let e=new Map;for(let r=0;r<t.length;r++)e.set(t[r].name,t[r]);return e}function Js(t,e){let r=[];for(let n=0;n<e.length;n++){let i=e[n];r.push({sourceName:i.blueprintName,dataType:i.type,name:i.name,sourceField:i,introducedBy:t})}return r}var dl=x(()=>{});var iq,fd,cg=x(()=>{dl();Lc();cd();iq={tagName:"user:profile_form",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!0,parameters:[{name:"redirect",description:"The location to redirect users after a successful form submission",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",description:"The location to redirect users to after a failed form submission",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override redirect or error_redirect",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],introducedIn:"3.3.61",allowsArbitraryParameters:!0,augmentScope:(t,e)=>{e.addVariables(fl(t)),e.addVariable({dataType:"array",name:"errors",sourceField:null,sourceName:"*internal.forms",introducedBy:t}),e.addVariableArray("fields",Xs(t));let r=e.statamicProject.getUserFields(),n=Js(t,r);return e.addVariableArray("old",n),e.addVariableArray("error",n),e}},fd=iq});var Fc,ug,fg=x(()=>{ae();dl();Lc();Wi();_r();Fc={tagName:"user:register_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after registering",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after failed registration attempts",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override the redirect and error_redirect parameters",acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:st,augmentScope:(t,e)=>{e.addVariableArray("fields",Xs(t)),e.addVariable({name:"errors",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"old",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"error",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"success",dataType:"string",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t});let r=e.statamicProject.getUserFields();if(r.length>0){let n=Js(t,r);e.addVariableArray("old",n),e.addVariableArray("error",n)}return e},resolveDocumentation:t=>K("user:register_form  Form Tag","The `user:register_form` tag can be used to build out public registration forms for new users.","https://statamic.dev/tags/user-register_form")},ug=vt(Fc,"member:register_form");ug.resolveDocumentation=t=>K("member:register_form Tag","The `member:register_form` tag can be used to build out public registration forms for new users.","https://statamic.dev/tags/user-register_form")});var sq,aq,dd,dg=x(()=>{ae();Uo();An();Fe();Mf();eg();ig();nd();id();Vf();Bf();rd();sg();og();ad();cg();Zm();fg();sq=[Ee(ol),Ee(al),Ee(ll),Ee(cl),Ee(Zo),Ee(od),Ee(wc),Ee(el),Ee(tl),Ee(Fc),Ee(Dc),Ee(fd),Ee(ud)],aq={tagName:"user",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:sd,introducedIn:null,resovleParameterCompletionItems:(t,e)=>e.isPastTagPart==!1&&e.currentNode!=null&&e.currentNode.methodIsEmptyOrMatches("profile")&&t.name=="field"?he(ff(e.project.getUserFields())):ke,augmentScope:(t,e)=>(t.methodIsEmptyOrMatches("profile")&&e.injectUserFields(t),e),resolveCompletionItems:t=>(t.leftWord=="user"||t.leftWord=="/user"||t.leftWord=="member"||t.leftWord=="/member")&&t.leftChar==":"?he(sq):ke,resolveDocumentation:t=>K("user Tag","The `user` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter.",null)},dd=aq});var pd,pg,hg,mg,gg,Tg,_g,yg,bg,cx=x(()=>{ae();Wi();dg();Mf();Jm();nd();id();Vf();Bf();rd();ad();pd=vt(dd,"member"),pg=vt(ol,"member:is"),hg=vt(ll,"member:isnt"),mg=vt(cl,"member:profile"),gg=vt(Zo,"member:can"),Tg=vt(el,"member:logout"),_g=vt(tl,"member:logout_url"),yg=vt(td,"member:in"),bg=vt(al,"member:not_in");pd.hideFromCompletions=!0;pd.resolveDocumentation=t=>K("member Tag","The `member` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null);pg.resolveDocumentation=t=>K("member:is Tag","The `member:is` tag can be used to check whether the currently authenticated user has one or more roles.","https://statamic.dev/tags/user-is");hg.resolveDocumentation=t=>K("member:isnt Tag","The `member:isnt` tag can be used to check whether the currently authenticated user does not have one or more roles.","https://statamic.dev/tags/user-is#isnt");mg.resolveDocumentation=t=>K("member:profile Tag","The `member:profile` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null);gg.resolveDocumentation=t=>K("member:can Tag","The `member:can` tag is used to check if the currently authenticated user has a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user has the specified permissions.","https://statamic.dev/tags/user-can");Tg.resolveDocumentation=t=>K("member:logout Tag","The `member:logout` tag will sign out the currently authenticated user. An optional `redirect` parameter may be used to redirect the visitor to a different page after being logged out.","https://statamic.dev/tags/user-logout");_g.resolveDocumentation=t=>Ue("member:logout_url","The `member:logout_url` tag can be used to retrieve the URL that will sign the current user out.",'<a href="{{ member:logout_url }}">Log out</a>',"https://statamic.dev/tags/user-logout_url");yg.resolveDocumentation=t=>K("member:in Tag","The `member:in` tag can be used to check if the currently authenticated user belongs to one or more user groups. When used as a tag pair, the tag contents will only be rendered if the user belongs to the specified groups.","https://statamic.dev/tags/user-in");bg.resolveDocumentation=t=>K("member:not_in Tag","The `member:not_in` tag can be used to check if the currently authenticated user does not belong to one or more user groups. When used as a tag pair, the tag contents will be rendered if the user does not belong to the specified groups.","https://statamic.dev/tags/user-in#not-in")});function Zs(t){return[{name:"title",dataType:"string",sourceField:null,sourceName:"*internal.routeable",introducedBy:t},{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.routeable",introducedBy:t}]}var hd=x(()=>{});function ux(t,e){var r,n,i,s,o,l,u,d;if(e.nodesInScope.length>0){let h=e.nodesInScope[e.nodesInScope.length-1];if(h!=null&&h.currentScope!=null){let m=pl(h,e.project),y=e.project.getTaxonomyBlueprintFields(m),b=y.map(S=>S.name),T=hs(e.leftWord);if(b.includes(T))return he(Hs(e))}}return t.name=="collection"&&((r=e.context)==null?void 0:r.parameterContext)!=null?he(Wo((s=(i=(n=e.context)==null?void 0:n.parameterContext.parameter)==null?void 0:i.getArrayValue())!=null?s:[],e.project)):t.name=="filter"||t.name=="query_scope"?he(hf(e.project)):Ig.includes(t.name)&&((o=e.context)==null?void 0:o.parameterContext)!=null?he(fx((d=(u=(l=e.context)==null?void 0:l.parameterContext.parameter)==null?void 0:u.getArrayValue())!=null?d:[],e.project)):null}var Ng,vg,Ig,Pg=x(()=>{Ic();ms();Fe();Ho();md();Ng=["from","taxonomy","is","use","folder"],vg=["not_from","not_in","dont_use","not_taxonomy"],Ig=Ng;Ig=Ig.concat(vg)});function pl(t,e){let r=[];if(t.hasMethodPart())return r.push(t.getMethodNameValue()),r;let n=t.findAnyParameter(Ng),i=t.findAnyParameter(vg),s=[],o=[];return typeof n!="undefined"&&n!==null&&(n.value.trim()==="*"?(s=e.getUniqueTaxonomyNames(),typeof i!="undefined"&&i!==null&&i.isVariableReference==!1&&i.hasInterpolations()==!1&&(o=i.getArrayValue())):n.isVariableReference==!1&&n.hasInterpolations()==!1&&(s=n.getArrayValue())),o.length>0?r=s.filter(function(l){return o.includes(l)==!1}):r=s,r}function fx(t,e){let r=[],n=e.getUniqueTaxonomyNames().filter(i=>!t.includes(i));for(let i=0;i<n.length;i++)r.push({label:n[i],kind:dx.CompletionItemKind.Variable});return r}var dx,md=x(()=>{dx=We(Ft());Pg()});function px(t,e){let r=pl(t,e.statamicProject),n=e.statamicProject.getTaxonomyBlueprintFields(r),i=t.findParameter("collection");if(e.addBlueprintFields(t,n),e.addVariables([{name:"first",dataType:"boolean",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"last",dataType:"boolean",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"count",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"index",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"total_results",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"entries_count",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t}]),e.addVariables(Zs(t)),typeof i!="undefined"&&i!==null){let s=i.getArrayValue();if(s.length>0){let o=e.statamicProject.getBlueprintFields(s);e.introduceScopedAliasScope(t,"entries","entries",o).addVariables(Ys(t))}else e.addVariableArray("entries",Zs(t).concat(Ys(t)))}else e.addVariableArray("entries",Zs(t).concat(Ys(t)));return e}var hx=x(()=>{Pc();hd();md()});var oq,mx,gx=x(()=>{oq=[{name:"from",description:"The taxonomy to use.",aliases:["taxonomy","is","use","folder"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1,isRequired:!1},{name:"not_from",description:"Taxonomies to exclude.",aliases:["not_in","not_folder","dont_use","not_taxonomy"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["string","array"],isRequired:!1,isDynamic:!1},{name:"min_count",description:"The minimum number of entries a taxonomy term must have to be returned.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"collection",description:"Filter the terms to those that appear in the specified collections.",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string","array"],isDynamic:!1,isRequired:!1},{name:"sort",description:"The field to sort the terms by.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{isRequired:!1,name:"filter",aliases:["query_scope"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Specifies a custom query scope.",expectsTypes:["string"],isDynamic:!1}],mx=oq});function Tx(t){var r,n;let e=[];if(t.currentNode!=null&&t.currentNode.currentScope!=null){let i=pl(t.currentNode,t.project),s=t.project.getTaxonomyBlueprintFields(i),o=s.map(u=>u.name),l=hs(t.leftWord);if(o.includes(l))return he(Hs(t));if(t.isCaretInTag&&!((r=t.context)==null?void 0:r.interpolatedContext)&&["taxonomy","/taxonomy"].includes(t.leftWord)==!1){let u=[];for(let d=0;d<s.length;d++){let h=s[d];u.includes(h.name)==!1&&(e.push({label:h.name,detail:h.blueprintName,documentation:(n=h.instructionText)!=null?n:"",kind:Cg.CompletionItemKind.Field}),u.push(h.name))}if(e.length>0)return kr(e)}}if((t.leftWord=="taxonomy"||t.leftWord=="/taxonomy")&&t.leftChar==":"){let i=t.project.getUniqueTaxonomyNames();for(let s=0;s<i.length;s++)e.push({label:i[s],kind:Cg.CompletionItemKind.Field});return kr(e)}return ke}var Cg,_x=x(()=>{Cg=We(Ft());Ic();ms();Fe();md()});var lq,yx,bx=x(()=>{ae();_r();hx();gx();_x();Pg();lq={tagName:"taxonomy",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,introducedIn:null,injectParentScope:!1,parameters:mx,resolveDynamicParameter:st,resolveCompletionItems:Tx,resovleParameterCompletionItems:ux,augmentScope:px,resolveDocumentation:t=>K("taxonomy Tag","The `taxonomy` tag may be used to retrieve taxonomy entries. The taxonomy tag can also be used to access entries associated with any given taxonomy term.","https://statamic.dev/tags/taxonomy")},yx=lq});function Nx(t,e){e.addVariables([{name:"is_published",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_page",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_entry",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"has_entries",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_parent",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_current",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_external",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"depth",dataType:"number",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"children",dataType:"array",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"count",dataType:"integer",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"index",dataType:"integer",sourceField:null,sourceName:"*internal.nav",introducedBy:t}]);let r=e.statamicProject.getUniqueCollectionNames(),n=[],i=!1;if(t.hasMethodPart()){let s=t.getMethodNameValue().trim().toLowerCase();if(s.startsWith("collection:")){let o=s.split(":").pop();i=!0,n.push(o)}else s=="pages"?(i=!0,n.push("pages")):(i=!1,n.push(s))}else{let s=t.findParameter("handle");s!=null&&(r.includes(s.value)?i=!0:i=!1,n.push(s.value))}if(i){let s=e.statamicProject.getBlueprintFields(n);e.addBlueprintFields(t,s),e.expandScopedAliasScope(t,"page","page",s)}else{let s=pf(Zs(t));e.addBlueprintFields(t,s),e.expandScopedAliasScope(t,"page","page",s)}return e}var vx=x(()=>{hm();hd()});var cq,gd,Ag=x(()=>{ae();hd();cq={tagName:"nav:breadcrumbs",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,introducedIn:null,injectParentScope:!1,parameters:[{name:"include_home",description:"Whether to include the home page in the first level",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1},{name:"reverse",description:"Whether to reverse the order of links",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isRequired:!1,isDynamic:!1},{name:"trim",description:"Whether to trim the whitespace after each iteration of the loop",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],augmentScope:(t,e)=>(e.addVariables([{name:"is_current",dataType:"boolean",sourceName:"*internal.nav.breadcrumbs",sourceField:null,introducedBy:t}]),e.addVariables(Zs(t)),e),resolveDocumentation:t=>K("nav:breadcrumbs Tag","The `nav:breadcrumbs` tag can be used to retrieve the URLs of all pages that make up the current URL back to the site's home page.","https://statamic.dev/tags/nav-breadcrumbs")},gd=cq});function Ix(t,e){if(t.name=="handle"){let r=e.project.getUniqueCollectionNames(),n=e.project.getUniqueNavigationMenuNames(),i=[];return i=r,i=i.concat(n),i=[...new Set(i)],Ot(i)}return null}var Px=x(()=>{Fe()});var uq,Cx,Ax=x(()=>{uq=[{isRequired:!1,acceptsVariableInterpolation:!1,aliases:["handle"],allowsVariableReference:!1,name:"for",description:"The navigation or collection to use.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],name:"from",description:"The starting point for the navigation.",allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"show_unpublished",description:"Whether to include unpublished content.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"include_home",description:"Whether to include the home page in the tree.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"max_depth",description:"The maximum depth of the navigation or structure.",expectsTypes:["number"],isDynamic:!1}],Cx=uq});var Sg,xg,Sx,xx=x(()=>{Sg=We(Ft());ae();Uo();An();Fe();Wi();vx();Ag();Px();Ax();xg={tagName:"structure",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,injectParentScope:!1,parameters:Cx,augmentScope:Nx,resovleParameterCompletionItems:Ix,resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="nav"||t.leftWord=="/nav"||t.leftWord=="structure"||t.leftWord=="/structure")&&t.leftChar==":"){let r=t.project.getUniqueNavigationMenuNames();for(let n=0;n<r.length;n++)e.push(qo(r[n],"",""));return(t.leftWord=="nav"||t.leftWord=="/nav")&&e.push(Ee(gd)),e.push(qo("collection","","")),e.push({label:"collection",kind:Sg.CompletionItemKind.Text}),kr(e)}if((t.leftWord=="nav:collection"||t.leftWord=="/nav:collection"||t.leftWord=="collection"||t.leftWord=="/collection"||t.leftWord=="structure:collection"||t.leftWord=="/structure:collection")&&t.leftChar==":"){let r=t.project.getUniqueCollectionNames();for(let n=0;n<r.length;n++)e.push({label:r[n],kind:Sg.CompletionItemKind.Field});return kr(e)}return ke},resolveDocumentation:t=>K("nav Tag","The `nav` tag can be used to iterate structured collections or navigation menus.","https://statamic.dev/tags/nav")},Sx=vt(xg,"nav")});var fq,Yi,hl=x(()=>{fq={name:"in",description:"The form to use",acceptsVariableInterpolation:!0,aliases:["handle","is","form","formset"],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},Yi=fq});var Eg,dq,Ex,Rx=x(()=>{Eg=We(Ft()),dq=[{label:"GET",kind:Eg.CompletionItemKind.EnumMember},{label:"POST",kind:Eg.CompletionItemKind.EnumMember}],Ex=dq});function ml(t,e){return Si.includes(t.name)?Ot(e.project.getUniqueFormNames()):t.name=="method"?he(Ex):t.name=="files"?he(Cc):null}var Si,gs=x(()=>{ym();Rx();Fe();Si=["in","handle","is","form","formset"]});function Ki(t,e){let r=t.structure.findParentWithName("form:set");return r!=null?{context:r,issues:[]}:{context:null,issues:[]}}var gl=x(()=>{});function Ga(t){if(t.reference!=null&&"tagPart"in t.reference){let n=t.reference;if(n.nameMatches("form:set"))return Ga(n)}let e=t.findAnyParameter(Si),r=t.getMethodNameValue();return r!=null&&pq.includes(r)==!1?r:typeof e!="undefined"&&e!==null&&e.containsSimpleValue()?e.value:""}var pq,Td=x(()=>{gs();pq=["set","create","errors","success","submissions","submission"]});var hq,_d,Rg=x(()=>{ae();dl();Lc();cd();_r();hl();gs();gl();Td();hq={tagName:"form:create",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[Yi,{name:"method",description:"The HTTP method to use",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"files",description:"Indicates if the form sends file data",aliases:[],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1},{name:"redirect",description:"The location to redirect users after a successful form submission",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",description:"The location to redirect users to after a failed form submission",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override redirect or error_redirect",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveSpecialType:Ki,resovleParameterCompletionItems:ml,resolveDynamicParameter:st,augmentScope:(t,e)=>{e.addVariables(fl(t)),e.addVariable({dataType:"array",name:"errors",sourceField:null,sourceName:"*internal.forms",introducedBy:t}),e.addVariableArray("fields",Xs(t));let r=Ga(t);if(r.length>0){let n=e.statamicProject.getFormBlueprintFields(r),i=Js(t,n);e.addVariableArray("old",i),e.addVariableArray("error",i)}return e},resolveDocumentation:t=>K("form:create Tag","The `form:create` tag can be used to access form data, generate field HTML markup, and handle form validation errors.","https://statamic.dev/tags/form-create")},_d=hq});var mq,yd,kg=x(()=>{ae();Fe();hl();gs();gl();mq={tagName:"form:errors",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[Yi],resolveSpecialType:Ki,resovleParameterCompletionItems:(t,e)=>Si.includes(t.name)?Ot(e.project.getUniqueFormNames()):null,resolveDocumentation:t=>K("form:errors Tag","The `form:errors` tag can be used to retrieve validation errors after a user has submitted a form.","https://statamic.dev/tags/form-errors")},yd=mq});var gq,bd,Og=x(()=>{ae();gs();gq={tagName:"form:set",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"in",description:"The form to use",acceptsVariableInterpolation:!0,aliases:["handle","is","form","formset"],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!0}],resovleParameterCompletionItems:ml,resolveDocumentation:t=>K("form:set Tag","The `form:set` tag can be used to set the form handle on all nested form tags.","https://statamic.dev/tags/form-set")},bd=gq});var Tq,Nd,wg=x(()=>{ae();Fe();hl();gs();gl();Td();Tq={tagName:"form:submission",requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[Yi],resolveSpecialType:Ki,resovleParameterCompletionItems:(t,e)=>Si.includes(t.name)?Ot(e.project.getUniqueFormNames()):null,augmentScope:(t,e)=>{let r=Ga(t);if(r.length>0){let n=e.statamicProject.getFormBlueprintFields(r);e.addBlueprintFields(t,n)}return e},resolveDocumentation:t=>K("form:submission Tag","The `form:submission` tag can be used to access the form submission submitted by the current user.","https://statamic.dev/tags/form-submission")},Nd=Tq});var _q,vd,Lg=x(()=>{ae();Fe();hl();gs();gl();Td();_q={tagName:"form:submissions",allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,introducedIn:null,parameters:[Yi],resolveSpecialType:Ki,resovleParameterCompletionItems:(t,e)=>Si.includes(t.name)?Ot(e.project.getUniqueFormNames()):null,augmentScope:(t,e)=>{if(t.isClosingTag)return e;let r=Ga(t);if(r.length>0){let n=e.statamicProject.getFormBlueprintFields(r);e.addBlueprintFields(t,n)}return e.addVariable({name:"date",dataType:"date",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e.addVariable({name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e.addVariable({name:"total_results",dataType:"number",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e},resolveDocumentation:t=>K("form:submissions Tag","The `form:submissions` tag can be used to fetch previously saved submissions for a form.","https://statamic.dev/tags/form-submissions")},vd=_q});var yq,Id,Dg=x(()=>{ae();Fe();hl();gs();gl();yq={tagName:"form:success",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[Yi],resolveSpecialType:Ki,resovleParameterCompletionItems:(t,e)=>Si.includes(t.name)?Ot(e.project.getUniqueFormNames()):null,resolveDocumentation:t=>K("form:success Tag","The `form:success` tag can be used to check if a form submission was successful or not.","https://statamic.dev/tags/form-success")},Id=yq});var kx,bq,Nq,Ox,wx=x(()=>{kx=We(Ft());An();Fe();Rg();kg();Og();wg();Lg();Dg();gs();bq=[Ee(bd),Ee(_d),Ee(yd),Ee(Id),Ee(vd),Ee(Nd)],Nq={tagName:"form",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[],resovleParameterCompletionItems:ml,resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="form"||t.leftWord=="/form")&&t.leftChar==":"){let r=t.project.getUniqueFormNames();e=e.concat(bq);for(let n=0;n<r.length;n++)e.push({label:r[n],kind:kx.CompletionItemKind.Field});return kr(e)}return ke}},Ox=Nq});function Lx(t){return[{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"title",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"content",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"is_entry",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"is_term",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"count",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"index",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"search_score",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"_highlightResult",dataType:"array",sourceField:null,sourceName:"*internal.search.results",introducedBy:t}]}var Fg,vq,Dx,Fx=x(()=>{ae();An();Fe();Fg={tagName:"search:results",allowsArbitraryParameters:!1,requiresClose:!0,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"index",description:"The index to search in.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"query",description:"The query string parameter to use.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"limit",description:"The maximum number of search results to return.",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1,expectsTypes:["number"]},{name:"offset",description:"The number of results to skip.",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1,expectsTypes:["number"]},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets whether or not to paginate entry results.",expectsTypes:["boolean"],isRequired:!1,name:"paginate",isDynamic:!1},{name:"as",description:"Specifies an alias for search results.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"supplement_data",description:"Controls whether non-indexed fields are returned.",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resovleParameterCompletionItems:(t,e)=>t.name=="index"?Ot(e.project.getSearchIndexes()):null,augmentScope:(t,e)=>{e.addVariables([{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"total_results",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t}]);let r=t.findParameter("as");return r!=null&&r.value.trim().length>0?e.addVariableArray(r.value,Lx(t)):e.addVariables(Lx(t)),e},resolveDocumentation:t=>K("search:results Tag","The `search:results` tag provides access to all data that was returned as a result of a user's search.","https://statamic.dev/tags/search")},vq=[Ee(Fg)];Dx={tagName:"search",allowsArbitraryParameters:!1,requiresClose:!0,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="search"||t.leftWord=="/search")&&t.leftChar==":"?kr(vq):ke}});function Mg(t){return[{name:"email",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t},{name:"password",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t}]}var Vg,Mx,Vx=x(()=>{ae();Wi();_r();Vg={tagName:"user:login_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after logging in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after failed login attempts",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override the redirect and error_redirect parameters",acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:st,augmentScope:(t,e)=>(e.addVariables([{name:"errors",dataType:"array",sourceName:"*internal.user.login",sourceField:null,introducedBy:t},{name:"success",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t}]),e.addVariables(Mg(t)),e.addVariableArray("old",Mg(t)),e.addVariableArray("error",Mg(t)),e),resolveDocumentation:t=>K("user:login_form Tag","The `user:login_form` tag can be used to quickly create a form that users can use to authenticate with the site.","https://statamic.dev/tags/user-login_form")},Mx=vt(Vg,"member:login_form")});var Iq,Bx,qx=x(()=>{ae();Iq={tagName:"noparse",requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>K("noparse Tag","The `noparse` tag is used prevent blocks of Antlers code from being parsed, removing the need to escape individual Antlers code regions.","https://statamic.dev/antlers#the-noparse-tag")},Bx=Iq});var Pq,Ux,jx=x(()=>{ae();_r();Pq={tagName:"unless",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:st,resolveDocumentation:t=>K("unless Conditional Control Structure","The `unless` control structure operates the same as an `if` statement, but has it's logic inverted.","https://statamic.dev/antlers#conditions")},Ux=Pq});var Cq,Gx,Wx=x(()=>{ae();_r();Cq={tagName:"elseunless",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:st,resolveDocumentation:t=>K("elseunless Conditional Control Structure","The `elseunless` control structure operates the same as an `elseif` statement, but has it's logic inverted.","https://statamic.dev/antlers#conditions")},Gx=Cq});var Hx,Yx,Kx=x(()=>{Hx=We(Pi());ae();Fe();Yx={tagName:"installed",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!0,introducedIn:"3.1.19",parameters:[],resolveCompletionItems:t=>{if(t.project!=null){let e=t.project.getComposerPackages(),r=[];return e.forEach((n,i)=>{r.push({label:n.name,kind:Hx.CompletionItemKind.Text})}),he(r)}return ke},resolveDocumentation:t=>Ue("installed Tag","The `installed` tag is used to check if the site has a specific Composer package available.",`{{ if {installed:composer/package-name} }}
    {{# Package is availabl.e #}}
{{ else }}
    {{# Something else. #}}
{{ /if }}`,"https://statamic.dev/tags/installed")}});var Aq,$x,zx=x(()=>{Aq={tagName:"relate",hideFromCompletions:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,introducedIn:null,parameters:[]},$x=Aq});var Tl,Pd=x(()=>{Tl=[{name:"bag",description:"The error message bag to retrieve errors from.",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1}]});var Sq,Qx,Xx=x(()=>{ae();Pd();Sq={tagName:"get_errors",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:Tl,introducedIn:"3.2.23",augmentScope:(t,e)=>{var r;if(t.isClosingTag)return e;if(((r=t.name)==null?void 0:r.methodPart)==null){let n=e.copy();n.addVariable({dataType:"string",introducedBy:t,name:"field",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"field",refFieldSetField:null,sets:null,type:"string"}});let i=n.copy();i.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),n.addScopeList("messages",i),e.addScopeList("fields",n)}else{let n=e.copy();n.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e.addScopeList("messages",n)}return e},resolveDocumentation:t=>K("get_errors Tag","The `get_errors` tag can be used to retrieve form validation errors.","https://statamic.dev/tags/get_errors")},Qx=Sq});var xq,Jx,Zx=x(()=>{ae();Pd();xq={tagName:"get_errors:all",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:Tl,introducedIn:null,augmentScope:(t,e)=>{if(t.isClosingTag)return e;let r=e.copy();return r.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors.all",sourceField:{blueprintName:"*internal.tag.get_errors.all",displayName:"get_errors:all",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e.addScopeList("messages",r),e},resolveDocumentation:t=>K("get_errors:all Tag","The `get_errors:all` tag can be used to retrieve all form validation errors.","https://statamic.dev/tags/get_errors#list-all-validation-errors")},Jx=xq});var Eq,eE,tE=x(()=>{ae();Pd();Eq={tagName:"get_error",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:Tl,introducedIn:null,augmentScope:(t,e)=>(t.isClosingTag||e.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_error",sourceField:{blueprintName:"*internal.tag.get_error",displayName:"get_error",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e),resolveDocumentation:t=>K("get_error Tag","The `get_error` tag can be used to retrieve the first error message for a specific field.","https://statamic.dev/tags/get_errors#get-the-first-error-for-a-specific-field")},eE=Eq});var Rq,rE,nE=x(()=>{Rq={tagName:"set",hideFromCompletions:!0,allowsArbitraryParameters:!0,requiresClose:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[]},rE=Rq});var iE,kq,sE,aE=x(()=>{iE=We(Pi());ae();Fe();Ho();kq={tagName:"mount_url",hideFromCompletions:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:"3.3.15",parameters:[{isRequired:!1,acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The collection handle.",name:"handle",isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>K("mount Tag","The `mount` tag can be used to retrieve the mount URL for a given collection.",null),resovleParameterCompletionItems:(t,e)=>{var r,n,i,s;return t.name=="handle"&&((r=e.context)==null?void 0:r.parameterContext)!=null?he(Wo((s=(i=(n=e.context)==null?void 0:n.parameterContext.parameter)==null?void 0:i.getArrayValue())!=null?s:[],e.project)):null},resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="mount_url"||t.leftWord=="/mount_url")&&t.leftChar==":"){let r=t.project.getCollectionNames();for(let n=0;n<r.length;n++)e.push({label:r[n],kind:iE.CompletionItemKind.Field,sortText:"0"})}return{items:e,analyzeDefaults:!1,isExclusiveResult:!1}}},sE=kq});var Oq,oE,lE=x(()=>{ae();Oq={tagName:"vite",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"src",description:"The entry point",expectsTypes:["string"],isDynamic:!1}],resolveDocumentation:t=>Ue("vite Tag","Generates Vite tags for an entrypoint.",'{{ vite src="entry/point" }}',null)},oE=Oq});var wq,cE,uE=x(()=>{ae();wq={tagName:"nocache",requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>Ue("nocache Tag","The `nocache` tag is used to mark regions of a template. These regions will continue to update even when using caching strategies such as the full or half-measure cache.",`{{ nocache }} 
    <!-- This content will remain dynamic. -->
{{ /nocache }}`,"https://statamic.dev/tags/nocache")},cE=wq});function Cd(t){return[{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.user.permissions",introducedBy:t},{name:"total_results",dataType:"integer",sourceField:null,sourceName:"*internal.user.permissions",introducedBy:t},{name:"handle",dataType:"string",sourceField:null,sourceName:"*internal.user.permissions",introducedBy:t}]}var Bg=x(()=>{});var Lq,fE,dE=x(()=>{ae();Bg();Lq={tagName:"user_roles",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,injectParentScope:!1,introducedIn:"3.3.31",requiresClose:!1,parameters:[{name:"handle",description:"A list of role handles to include",aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1,acceptsVariableInterpolation:!0}],augmentScope:(t,e)=>(t.isClosingTag||e.addVariables(Cd(t)),e),resolveDocumentation:t=>K("user_roles Tag","The `user_roles` tag can be used to return information about a site's user roles.",null)},fE=Lq});var Dq,pE,hE=x(()=>{ae();Bg();Dq={tagName:"user_groups",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,injectParentScope:!1,introducedIn:"3.3.31",requiresClose:!1,parameters:[{name:"handle",description:"A list of group handles to include",aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1,acceptsVariableInterpolation:!0}],augmentScope:(t,e)=>(t.isClosingTag||e.addVariables(Cd(t)),e),resolveDocumentation:t=>K("user_groups Tag","The `user_groups` tag can be used to return information about a site's user groups.",null)},pE=Dq});var Fq,Ad,qg=x(()=>{Fq={tagName:"cookie:forget",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[{name:"keys",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"The keys to forget",expectsTypes:["string"],isDynamic:!1,isRequired:!0}]},Ad=Fq});var Mq,Sd,Ug=x(()=>{Mq={tagName:"cookie:has",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[{name:"key",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"The cookie name to check for existence",expectsTypes:["string"],isDynamic:!1,isRequired:!0}]},Sd=Mq});var Vq,xd,jg=x(()=>{Vq={tagName:"cookie:set",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[{name:"minutes",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"The lifetime of the cookie, in minutes",expectsTypes:["string"],isDynamic:!1,isRequired:!0}]},xd=Vq});var Bq,Ed,Gg=x(()=>{Bq={tagName:"cookie:value",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[{name:"key",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"The cookie name to retrieve the value for",expectsTypes:["string"],isDynamic:!1,isRequired:!0}]},Ed=Bq});var qq,Uq,mE,gE=x(()=>{An();Fe();qg();Ug();jg();Gg();qq=[Ee(Ad),Ee(Ed),Ee(xd),Ee(Sd)],Uq={tagName:"cookie",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[],resolveCompletionItems:t=>(t.leftWord=="cookie"||t.leftWord=="/cookie")&&t.leftChar==":"?he(qq):ke},mE=Uq});var TE,_E=x(()=>{UC();GC();HC();KC();zC();JC();sA();Cm();oA();uA();Mf();Vf();Bf();_A();bA();wm();Dm();Mm();Vm();Bm();CA();qm();RA();LA();BA();UA();GA();YA();$A();QA();tS();nS();oS();dS();mS();yS();NS();Jm();rd();nd();id();Pf();Am();CS();SS();ES();kS();ad();LS();FS();eg();VS();qS();jS();WS();YS();$S();QS();$m();JS();ex();rx();ix();ox();Pm();cx();bx();xx();Ag();wx();Og();Rg();wg();Dg();Lg();kg();dg();Fx();Vx();og();fg();qx();jx();Wx();Kx();zx();rg();Rm();Xm();ig();xm();Em();Xx();Zx();tE();nE();aE();lE();uE();dE();hE();zm();gE();qg();Ug();jg();Gg();cg();sg();TE=[ZS,tx,nx,Ux,Gx,zA,eS,qC,xf,Fa,Ef,Sf,Af,mE,Ad,Sd,xd,Ed,$x,Ox,_d,Nd,vd,bd,Id,yd,rE,Qx,eE,Jx,Dx,Fg,iA,Of,wf,YC,AS,WC,wS,OS,jC,rS,aS,fS,Xf,Jf,$C,QC,XC,pS,hS,aA,Lf,_S,ed,bS,sE,Sx,xg,gd,cA,lA,td,PS,al,ol,xS,Yx,fE,pE,dd,ll,Zo,od,el,tl,cl,Vg,Dc,wc,fd,ud,Fc,pd,pg,hg,mg,gg,Tg,_g,yg,bg,Mx,ag,ng,ug,Bx,cE,gA,TA,yA,qA,jA,DS,wA,EA,XS,VA,ax,Wf,Gf,jf,Uf,ld,qf,KA,yx,BS,tg,US,GS,HS,KS,zS,$f,HA,Gm,MS,PA,Hf,RS,oE]});var yE,ea,Wr,Da=x(()=>{yE=We(Pi());Xl();xP();Uo();Fi();_E();ea=class{constructor(){this.tags=new Map;this.parameters=new Map}reset(){this.tags.clear(),this.parameters.clear(),this.loadCoreTags()}getVisibleTagsWithDocumentation(){let e=[];return this.tags.forEach((r,n)=>{if(r.hideFromCompletions==!1){let i="";r.resolveDocumentation!=null&&(i=r.resolveDocumentation()),e.push({label:n,documentation:i})}}),e}getVisibleTagNames(){let e=[];return this.tags.forEach((r,n)=>{r.hideFromCompletions==!1&&e.push(n)}),[...new Set(e)]}getPossibleTagMethods(e){let r=[],n=e.length+1;return this.tags.forEach((i,s)=>{if(s.startsWith(e)){let o=s.substr(n).trim();o.length>0&&r.push(o)}}),[...new Set(r)]}getTagNames(){let e=[];return this.tags.forEach((r,n)=>{e.push(n)}),[...new Set(e)]}loadCoreTags(){this.registerTags(TE)}cleanTagName(e){return Ia(e,"/")}findTag(e){return this.tags.get(this.resolveTagName(e))}isKnownTag(e){return this.tags.has(this.resolveTagName(e))}isSymbolKnownTag(e){return this.isKnownTag(e.runtimeName())}resolveTagName(e){return e=this.cleanTagName(e.trim()),this.tags.has(e)||e.includes(":")&&(e=e.split(":")[0]),e}canResolveSpecialTypes(e){e=this.resolveTagName(e);let r=this.tags.get(e);return!(typeof r=="undefined"||r==null||r.resolveSpecialType==null)}resolveSpecialType(e,r,n){e=this.resolveTagName(e);let i=this.findTag(e);if(i.resolveSpecialType==null)throw new Error(e+" does not support special types.");return i.resolveSpecialType(r,n)}getCompletionItems(e){var s;let r=null,n=[],i=!0;if(e.nodesInScope.length>0&&(r=e.nodesInScope[e.nodesInScope.length-1]),e.currentNode!=null&&this.isKnownTag(e.currentNode.runtimeName())){let o=this.findTag(e.currentNode.runtimeName());if(typeof o=="undefined")return{isExclusive:!1,items:[]};let l=[];if(o.resolveCompletionItems!=null){let u=o.resolveCompletionItems(e);if(u.isExclusiveResult)return{isExclusive:!0,items:u.items};i=u.analyzeDefaults,n=n.concat(u.items)}if(e.isPastTagPart==!1){let u=this.getPossibleTagMethods(o.tagName);for(let d=0;d<u.length;d++)n.push({label:u[d],kind:yE.CompletionItemKind.Text})}if(i){if(e.isCaretInTag==!0&&o.parameters.length>0&&(n=n.concat(dm(e,o.parameters)),o.tagName=="partial"&&(r==null?void 0:r.hasMethodPart()))){let u=r.getMethodNameValue();if(u.trim().length>0&&((s=Mn.instance)==null?void 0:s.hasStructure())){let d=Mn.instance.getStructure().findPartial(u);d!=null&&d.injectsParameters.length>0&&(n=n.concat(dm(e,d.injectsParameters)))}}for(let u=0;u<e.nodesInScope.length;u++)if(e.nodesInScope[u].runtimeType!==null){let d=e.nodesInScope[u].runtimeType;if(d!=null&&d.assumedType=="structure_ref"&&d.supplementedFields!=null)for(let h=0;h<d.supplementedFields.length;h++)n.push(pm(d.supplementedFields[h]))}}return{items:n,isExclusive:!1}}return{items:n,isExclusive:!1}}injectParentScope(e){let r=this.findTag(e);return typeof r=="undefined"||r==null?!0:r.injectParentScope}resolveParameterCompletions(e,r,n){let i=this.findTag(e);return typeof i!="undefined"&&i!==null&&typeof i.resovleParameterCompletionItems!="undefined"&&i.resovleParameterCompletionItems!==null?i.resovleParameterCompletionItems(r,n):null}canResolveDynamicParameter(e){let r=this.resolveTagName(e);if(this.isKnownTag(r)){let n=this.tags.get(r);if(typeof n=="undefined")return!1;if(typeof n.resolveDynamicParameter!="undefined"&&n.resolveDynamicParameter!=null)return!0}return!1}getParameter(e,r){let n=this.resolveTagName(e);if(this.parameters.has(n)==!1)return null;let i=this.parameters.get(n);if(i==null)return null;if(i.has(r)==!1){let o=this.findTag(e);if(o!=null&&typeof o.resolveDynamicParameter!="undefined"&&o.resolveDynamicParameter!=null){let l=o.resolveDynamicParameter(null,r);if(l!==null)return l}return null}let s=i.get(r);return typeof s=="undefined"||i==null?null:s}registerTags(e){for(let r=0;r<e.length;r++)this.registerTag(e[r])}registerTag(e){if(this.tags.set(e.tagName,e),this.parameters.has(e.tagName)==!1&&this.parameters.set(e.tagName,new Map),e.parameters.length>0){let r=this.parameters.get(e.tagName);for(let n=0;n<e.parameters.length;n++){let i=e.parameters[n];r==null||r.set(i.name,i)}}}requiresClose(e){let r=e.getTagName();if(this.tags.has(r)){let n=this.findTag(r);if(n!=null)return n.requiresCloseResolver!=null?n.requiresCloseResolver(e):n.requiresClose}return!1}};ea.instance=null;(typeof ea.instance=="undefined"||ea.instance==null)&&(ea.instance=new ea,ea.instance.loadCoreTags());Wr=ea});var Xn,En,Mc=x(()=>{dl();Fu();Xn=class{constructor(e){this.generation=0;this.id="";this.name="";this.values=new Map;this.lists=new Map;this.pristine=new Map;this.parentScope=null;this.statamicProject=e,Xn.generationCounter+=1,this.generation=Xn.generationCounter,this.id=No()}makeNew(){return new Xn(this.statamicProject)}ancestor(){return this.parentScope!=null?this.parentScope:this}canShiftScope(e){return!!this.pristine.has(e)}shiftScope(e,r,n){if(this.pristine.has(r)){let i=this.pristine.get(r),s=i.parentCopy.copy();return s.introduceAliasScope(e,n,i.introducedFields),s}return this}containsPath(e){if(e.includes(":")){let r=e.split(":"),n=r.shift(),i=r.join(":");if(typeof n=="undefined")return!1;let s=this.lists.get(n);return typeof s=="undefined"?!1:s.containsPath(i)}return!!this.lists.has(e)}findReference(e){if(e.includes(":")){let r=e.split(":"),n=r.pop(),i=r.join(":"),s=this.findNestedScope(i);if(s!=null)return s.findReference(n)}return this.values.has(e)?this.values.get(e):null}findReferenceWithField(e){if(e.includes(":")){let r=e.split(":"),n=r.pop(),i=r.join(":"),s=this.findNestedScope(i);if(s!=null)return s.findReference(n)}if(this.values.has(e)){let r=this.values.get(e);if(r.sourceField==null){if(r.introducedBy!=null&&r.introducedBy.currentScope!=null&&r.introducedBy.currentScope!=this)return r.introducedBy.currentScope.findReferenceWithField(r.introducedBy.getTagName());if(this.parentScope!=null&&this.parentScope!=this)return this.parentScope.findReferenceWithField(e)}return r}return null}containsReference(e){return this.findReference(e)!=null}findNestedScope(e){if(e.includes(":")){let r=e.split(":"),n=r.shift(),i=r.join(":");if(typeof n=="undefined")return null;let s=this.lists.get(n);return typeof s=="undefined"?null:s.findNestedScope(i)}return this.lists.has(e)?this.lists.get(e):this.parentScope!=null&&this.parentScope!=this&&this.parentScope.hasList(e)?this.parentScope.lists.get(e):null}liftList(e){if(this.lists.has(e)){let r=this.lists.get(e);return typeof r=="undefined"||r===null?null:(this.lists.delete(e),r)}return null}hasPristineReference(e){return!!this.pristine.has(e)}hasListInHistory(e){return this.hasList(e)?!0:this.parentScope!=null?this.name=="*root*"?!1:this.parentScope.hasList(e):!1}hasList(e){if(this.lists.has(e)){let r=this.lists.get(e);return!(typeof r=="undefined"||r===null)}return!1}bringListIntoMainScope(e){if(e.includes(":")){let n=e.split(":"),i=n.shift(),s=n.join(":");if(typeof i=="undefined")return this;let o=this.lists.get(i);return typeof o=="undefined"?this:o.bringListIntoMainScope(s)}let r=this.lists.get(e);return this.lists.delete(e),this.mergeScope(r)}getListNames(){let e=[];return this.lists.forEach((r,n)=>{e.push(n)}),e}getVariableNames(){let e=[];return this.values.forEach(r=>{e.push(r.name)}),e}getList(e){return this.lists.has(e)?this.lists.get(e):this.parentScope!=null&&this.parentScope!=this?this.parentScope.getList(e):null}hasValue(e){return this.values.has(e)}findAncestorWithList(e){return this.hasList(e)?this:this.parentScope!=null&&this.parentScope!=this?this.parentScope.findAncestorWithList(e):null}findReferenceNotIntroducedBy(e,r){if(this.hasValue(e)){let n=this.values.get(e);if(n.introducedBy!=null&&n.introducedBy!=r)return n}return this.parentScope!=null&&this.parentScope!=this?this.parentScope.findReferenceNotIntroducedBy(e,r):null}removeThroughIntroduction(e,r){if(this.values.delete(e),this.parentScope!=null){let n=this.findReferenceNotIntroducedBy(e,r);n!=null&&this.addVariable(n)}}wasIntroducedBySymbol(e,r){if(this.values.has(e)==!1)return!1;let n=this.values.get(e);return n.introducedBy!=null?n.introducedBy==r:!1}referencesArray(e){return this.values.has(e)==!1?!1:this.values.get(e).dataType=="array"}addScopeList(e,r){return this.lists.set(e,r),this}mergeAndList(e,r){let n=new Xn(this.statamicProject);return n.values=lx(r),this.lists.set(e,n),this.mergeVariableScope(r),this}mergeScope(e){return e==this||e==null?this:(typeof e.values!="undefined"&&e.values!==null&&e.values.forEach((r,n)=>{this.values.set(n,r)}),typeof e.lists!="undefined"&&e.lists!==null&&e.lists.forEach((r,n)=>{this.lists.set(n,r)}),this)}mergeVariableScope(e){for(let r=0;r<e.length;r++)this.values.set(e[r].name,e[r]);return this}addVariable(e){this.values.set(e.name,e)}addVariables(e){for(let r=0;r<e.length;r++)this.addVariable(e[r])}addVariableArray(e,r){this.values.has(e)&&this.values.delete(e);let n=new Xn(this.statamicProject);n.addVariables(r),this.addScopeList(e,n)}injectAssetContainer(e,r){this.addBlueprintFields(e,this.statamicProject.getAssetBlueprintFields(r))}injectUserFields(e){this.addBlueprintFields(e,this.statamicProject.getUserFields())}addBlueprintField(e,r){this.addVariable({dataType:r.type,name:r.name,sourceField:r,sourceName:r.blueprintName,introducedBy:e})}introduceScopedAliasScope(e,r,n,i){this.pristine.set(n,{introducedFields:i,introducedScope:n,parentCopy:this.copy()});let s=new Xn(this.statamicProject),o=new Xn(this.statamicProject);return o.addBlueprintFields(e,i),s.name=n,s.addScopeList(r,o),this.addScopeList(n,s),s}expandScopedAliasScope(e,r,n,i){this.lists.has(n)==!1?this.introduceScopedAliasScope(e,r,n,i):this.lists.get(n).addBlueprintFields(e,i)}introduceAliasScope(e,r,n){this.pristine.set(r,{introducedFields:n,introducedScope:r,parentCopy:this.copy()});let i=new Xn(this.statamicProject);i.addBlueprintFields(e,n),i.name=r,this.addScopeList(r,i)}introduceDynamicScopeList(e,r,n){this.pristine.set(r,{introducedFields:n,introducedScope:r,parentCopy:this.copy()});let i=new Xn(this.statamicProject);i.name=r,i.addBlueprintFields(e,n),this.addScopeList(r,i)}addBlueprintFields(e,r){for(let n=0;n<r.length;n++)this.addBlueprintField(e,r[n])}injectBlueprint(e,r){let n=this.statamicProject.getBlueprintDetails(r);n.length>0&&this.addBlueprintFields(e,n)}copy(){let e=new Xn(this.statamicProject);return e.pristine=new Map(this.pristine),e.values=new Map(this.values),e.lists=new Map(this.lists),e.parentScope=this,e}},En=Xn;En.generationCounter=0});function Wg(t){let e=new En(t);return e.addVariable({dataType:"string",name:"handle",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"name",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"locale",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"short_locale",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e}function bE(){let t=[];return t.push({dataType:"number",name:"response_code",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"csrf_field",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"csrf_token",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"environment",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"template",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"xml_header",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"last_segment",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"homepage",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_uri",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"amp_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"api_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_full_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_template",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"logged_in",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"logged_out",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"is_homepage",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"now",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"today",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"current_date",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"get",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"get_post",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"post",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"old",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t}var NE=x(()=>{Mc()});function vE(t,e){let r=t.findParameter("paginate");if(r!=null&&(r.value.toLowerCase()=="true"||parseInt(r.value).toString()==r.value)){let n=e.makeNew(),i=e.makeNew(),s=e.makeNew(),o=e.makeNew();n.addVariable({name:"next_page",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),n.addVariable({name:"prev_page",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),n.addVariable({name:"total_items",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),n.addVariable({name:"total_pages",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),n.addVariable({name:"current_page",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),n.addVariable({name:"auto_links",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),s.addVariable({name:"url",dataType:"string",sourceField:null,sourceName:"*internal.pagination.all",introducedBy:t}),s.addVariable({name:"page",dataType:"integer",sourceField:null,sourceName:"*internal.pagination.all",introducedBy:t}),o.addVariable({name:"first",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),o.addVariable({name:"last",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),o.addVariable({name:"slider",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),i.addScopeList("all",s),i.addScopeList("segments",o),n.addScopeList("links",i),e.addScopeList("paginate",n)}}var IE=x(()=>{});var Wa,Hg,PE=x(()=>{Fi();Mc();Wa=class{constructor(){this.fileInjections=new Map;this.project=null}updateProject(e){this.project=e}registerInjections(e,r){if(r.length==0)return;let n=[];for(let i=0;i<r.length;i++){let s=r[i];s.hasParameters&&n.push(s)}if(n.length>0){let i=n[0].getMethodNameValue();if(i!=null&&this.project!=null){let s=this.project.findPartial(i);s!=null&&(this.fileInjections.has(s.documentUri)||this.fileInjections.set(s.documentUri,new Map),this.fileInjections.get(s.documentUri).set(e,n))}}}hasAvailableInjections(e){return this.fileInjections.has(e)}getScopeInjection(e,r){let n=new En(r);return n.name="*injection*",this.fileInjections.get(e).forEach((s,o)=>{for(let l=0;l<s.length;l++){let u=s[l];if(u.hasParameters)for(let d=0;d<u.parameters.length;d++){let h=u.parameters[d];if(h.containsSimpleValue())n.addVariable({dataType:"string",name:h.name,sourceField:null,sourceName:"scope.injection",introducedBy:u});else if(h.isVariableReference&&u.currentScope!=null&&u.currentScope.hasListInHistory(h.value)){let m=u.currentScope.findNestedScope(h.value);if(m!=null){let y=Ia(h.name,":"),b=m.copy();b.name=y,n.addScopeList(y,m)}}}}}),n}};Wa.instance=null;(typeof Wa.instance=="undefined"||Wa.instance==null)&&(Wa.instance=new Wa);Hg=Wa});var jq,Gq,Yg,CE=x(()=>{zp();Qp();SN();it();Da();Rr();Pc();Cr();NE();IE();dl();Mc();Nm();PE();jq=["collection"],Gq=["if","elseif","unless","elseunless"],Yg=class{constructor(e,r,n){this.pageVars=[];this.viewDataVars=null;this.documentUri="";this.lastSymbolId="";this.ideHelperMap=new Map;this.statamicProject=e,this.documentUri=r,this.document=n,this.makePageScope(),this.makeViewDataScope()}makeViewDataScope(){this.document.hasFrontMatter()&&(this.viewDataVars=this.document.getFrontMatterScope())}makePageScope(){let e=[],r=this.statamicProject.getFields();if(r.has("pages")){let n=r.get("pages");for(let i=0;i<n.length;i++){let s=n[i];e.push({name:s.name,dataType:s.type,sourceField:s,sourceName:s.blueprintName,introducedBy:null})}}this.pageVars=e}analyzeScope(e){var h,m,y,b,T,S,w,_,C,P,Y,M,Z;let r=new En(this.statamicProject);r.name="*root*",r.parentScope=r,r.addScopeList("site",Wg(this.statamicProject)),r.addScopeList("sites",Wg(this.statamicProject)),r.addVariables(bE());let n=new En(this.statamicProject);n.name="*root_user*",n.parentScope=r,this.statamicProject.getUserFields().forEach(Q=>{n.addBlueprintField(null,Q)}),r.addScopeList("current_user",n),((h=AN.instance)==null?void 0:h.pageScopeDisabled(this.documentUri))?this.viewDataVars!=null&&r.addScopeList("view",this.viewDataVars):this.viewDataVars!=null?r.mergeAndList("page",this.pageVars).addScopeList("view",this.viewDataVars):r.mergeAndList("page",this.pageVars);let i=null;e.length>0&&e[0].isComment&&(i=Jl(this.documentUri,e[0]));for(let Q=0;Q<e.length;Q++)if(e[Q].isComment){let G=Jl(this.documentUri,e[Q]);G.variableHelper!=null&&this.ideHelperMap.set(e[Q].id(),G.variableHelper)}let s=this.statamicProject.getCollectionNamesForView(this.documentUri);if(i!=null&&(i.collectionInjections.length>0&&(s=s.concat(i.collectionInjections)),i.blueprints.length>0&&(s=s.concat(i.blueprints)),i.variableHelper!=null&&i.variableHelper.variableName=="@page")){let Q=this.statamicProject.getBlueprintField(i.variableHelper.collectionName,i.variableHelper.fieldHandle);if(Q!=null)if(i.variableHelper.setHandle.length>0){if(Q.sets!=null){for(let G=0;G<Q.sets.length;G++)if(Q.sets[G].handle==i.variableHelper.setHandle){r.addVariables(Js(e[0],Q.sets[G].fields));break}}}else r.addBlueprintField(e[0],Q)}if(s.length>0){for(let Q=0;Q<s.length;Q++)r.injectBlueprint(e[0],s[Q]);r.addVariables(Ys(e[0]))}((m=Hg.instance)==null?void 0:m.hasAvailableInjections(this.documentUri))&&r.mergeScope((y=Hg.instance)==null?void 0:y.getScopeInjection(this.documentUri,this.statamicProject));let o=[],l=[],u=[],d=[];d.push(r);for(let Q=0;Q<e.length;Q++){let G=e[Q];this.lastSymbolId.length>0&&l.includes(G.id())&&(o.pop(),d.pop(),d.length==0&&d.push(r));let ce=d[d.length-1];if(G.hasParameters){for(let te=0;te<G.parameters.length;te++)if(G.parameters[te].interpolations.length>0)for(let oe=0;oe<G.parameters[te].interpolations.length;oe++){let Ce=G.parameters[te].interpolations[oe];G.processedInterpolationRegions.has(Ce)&&G.processedInterpolationRegions.get(Ce).forEach(re=>{re instanceof ee&&(re.currentScope=ce)})}}if(((b=Wr.instance)==null?void 0:b.isKnownTag(G.getTagName()))==!1){if(G.scopeVariable=ce.findReference(G.runtimeName()),Q>0){let te=e[Q-1];if(te.isComment&&this.ideHelperMap.has(te.id())&&!te.isClosingTag&&!G.isClosingTag){let oe=this.ideHelperMap.get(te.id());if(oe.variableName==G.getTagName()){let Ce=this.statamicProject.getBlueprintField(oe.collectionName,oe.fieldHandle);Ce!=null&&(G.scopeVariable=lg(G,Ce))}}}if(G.scopeVariable==null){let te=G.runtimeName().trim();if(ce.hasList(te)||((T=G.currentScope)==null?void 0:T.hasListInHistory(te))){G.sourceType="array";let fe=ce.getList(te);if(fe!=null&&fe.values.size>0){let re=fe.values.entries().next().value[1];G.scopeVariable={dataType:"array",introducedBy:re.introducedBy,name:te,sourceField:null,sourceName:re.sourceName}}}let oe=(w=(S=G.name)==null?void 0:S.name)!=null?w:"";oe.includes(".")?oe=oe.split(".")[0]:oe.includes(":")&&(oe=oe.split(":")[0]);let Ce=this.statamicProject.findAnyBlueprintField(oe);if(Ce!=null){let fe=lg(G,Ce);G.scopeVariable=fe,G.scopeVariable.sourceField!=null&&((_=$o.instance)==null?void 0:_.hasFieldtype(G.scopeVariable.sourceField.type))&&((C=$o.instance)==null?void 0:C.getFieldType(G.scopeVariable.sourceField.type)).augmentScope(G,ce)}}else G.sourceType=wu(G.scopeVariable.dataType),G.scopeVariable.sourceField!=null&&((P=$o.instance)==null?void 0:P.hasFieldtype(G.scopeVariable.sourceField.type))&&((Y=$o.instance)==null?void 0:Y.getFieldType(G.scopeVariable.sourceField.type)).augmentScope(G,ce)}if(G.hasParameters&&vE(G,ce),G.modifiers!=null&&G.modifiers.hasModifiers()?G.manifestType=G.modifiers.getLastManifestedModifierRuntimeType():G.manifestType=G.sourceType,G.isClosedBy!=null&&(o.push(G.id()),l.push(G.isClosedBy.id()),ce=ce.copy(),d.push(ce)),G.getTagName()=="scope"&&G.hasMethodPart()){let te=d[d.length-2].copy();ce.addScopeList(G.getMethodNameValue(),te)}if(ce.containsPath(G.runtimeName())&&(o.push(G.id()),G.isClosedBy!=null&&l.push(G.isClosedBy.id()),ce=ce.copy().bringListIntoMainScope(G.runtimeName()),d.push(ce)),G.currentScope=ce,G.getTagName()!="cache"){let te=G.findParameter("scope");te!=null&&ce.canShiftScope(G.runtimeName())&&(ce=ce.shiftScope(G,G.runtimeName(),te.value),G.currentScope=ce,d.pop(),d.push(ce))}if((M=Wr.instance)==null?void 0:M.isKnownTag(G.runtimeName())){let te=(Z=Wr.instance)==null?void 0:Z.findTag(G.runtimeName());typeof te!="undefined"&&te.augmentScope!=null&&te.augmentScope(G,ce)}if(G.modifierChain!=null&&G.modifierChain.modifierChain.length>0&&G.modifierChain.modifierChain.forEach(te=>{te.modifier!=null&&typeof te.modifier.augmentScope!="undefined"&&te.modifier.augmentScope!=null&&te.modifier.augmentScope(G,ce)}),G.modifiers.hasParameterModifiers()&&G.modifiers.parameterModifiers.forEach(te=>{te.modifier!=null&&typeof te.modifier.augmentScope!="undefined"&&te.modifier.augmentScope!=null&&te.modifier.augmentScope(G,ce)}),G.sourceType=="array"){let te=G.findParameter("chunk"),oe=!0;if(G.parent!=null&&G.parent instanceof ee&&jq.includes(G.parent.runtimeName())&&(oe=!1),typeof te!="undefined"&&te!==null)if(G.currentScope.parentScope!=null&&(G.currentScope.parentScope.hasList(G.runtimeName())||ce.referencesArray(G.runtimeName()))){let Ce=G.currentScope.parentScope.copy(),fe=Ce.liftList(G.runtimeName());if(fe==null&&ce.referencesArray(G.runtimeName())){if(fe=new En(ce.statamicProject),oe){let re=ct(G);for(let Qe=0;Qe<re.length;Qe++){let Tt=re[Qe];Ce.wasIntroducedBySymbol(Tt.name,G)&&Ce.removeThroughIntroduction(Tt.name,G)}fe.addVariables(re)}}else oe&&Ce.addVariables(ct(G));Ce.addScopeList("chunk",fe),ce=Ce,d.pop(),d.push(ce),G.currentScope=Ce}else{let Ce=G.findParameter("scope");if(typeof Ce!="undefined"&&Ce!==null&&G.currentScope!=null&&G.currentScope.hasList(Ce.value)&&G.scopeName!=null){let fe=G.currentScope.copy(),re=fe.ancestor().copy(),Qe=fe.liftList(G.scopeName);oe&&fe.addVariables(ct(G)),re.liftList(G.scopeName),fe.addScopeList(G.scopeName,Qe),re.addScopeList("chunk",fe),ce=re,d.pop(),d.push(ce),G.currentScope=re}}else G.scopeVariable!=null&&G.scopeVariable.sourceField==null&&oe&&(ce.addVariables(ct(G)),ce.addVariables(ft(G)))}if(l.includes(G.id())&&G.parent!=null&&G.parent instanceof ee){let te=G.currentScope.findAncestorWithList(G.getTagName());te!=null?(G.currentScope=te,ce=te.copy(),d.pop(),d.length==0&&d.push(r),d.push(ce)):G.parent.parent!=null?G.currentScope=G.parent.parent.currentScope:G.currentScope=G.parent.currentScope}if(G.currentScope!=null&&G.runtimeNodes.length>0&&G.runtimeNodes.forEach(te=>{var oe;if(te instanceof xe&&((oe=G.currentScope)==null?void 0:oe.hasValue(te.name))){let Ce=G.currentScope.findReferenceWithField(te.name);te.currentScope=G.currentScope,te.scopeName=G.scopeName,te.scopeVariable=Ce}}),Gq.includes(G.runtimeName())&&G.runtimeNodes.length==3&&G.runtimeNodes[0]instanceof xe&&G.runtimeNodes[1]instanceof tn&&G.runtimeNodes[2]instanceof Kt&&G.runtimeNodes[0].scopeVariable!=null&&G.runtimeNodes[0].scopeVariable.sourceField!=null){let te=G.runtimeNodes[0].scopeVariable,oe=G.runtimeNodes[2].value,Ce=te.sourceField;if(Ce.sets!=null)for(let fe=0;fe<Ce.sets.length;fe++){let re=Ce.sets[fe];if(re.handle==oe&&re.fields!=null){ce=ce.copy(),ce.addBlueprintFields(G,re.fields),G.isClosedBy!=null&&!G.isSelfClosing&&(o.push(G.id()),l.push(G.isClosedBy.id()),d.push(ce));break}}}this.lastSymbolId=G.id();let Oe=o.join("/");u.push(Oe)}}}});var ta,AE=x(()=>{ta=class{};ta.globalTagEnterStack=[],ta.interpolatedVariables=[]});var sn,Vc=x(()=>{sn=class{constructor(){this.name="";this.compound="";this.methodPart="";this.content="";this.cachedCompoundTagName=null}tagPartIs(e){return e=e.toLowerCase().trim(),this.name.toLowerCase().trim()==e}isCompound(){return this.methodPart==null?!1:this.methodPart.length>0}getMethodName(){return this.methodPart==""?"index":this.methodPart=="null"?"":this.methodPart}getRuntimeMethodName(){}getCompoundTagName(){if(this.cachedCompoundTagName==null){let e=this.getMethodName();this.cachedCompoundTagName=this.name,e!=null&&e!=""&&(this.cachedCompoundTagName=this.cachedCompoundTagName+":"+e)}return this.cachedCompoundTagName}}});var Kg,_l,SE=x(()=>{Ls();Da();Kg=class{constructor(){this.tagNames=[];this.modifierNames=[]}getModifierNames(){var e,r;return this.modifierNames.concat((r=(e=Ut.instance)==null?void 0:e.getModifierNames())!=null?r:[])}getTagNames(){var e,r;return this.tagNames.concat((r=(e=Wr.instance)==null?void 0:e.getTagNames())!=null?r:[])}setTagNames(e){this.tagNames=e}setModifierNames(e){this.modifierNames=e}isTag(e){var r;return Kg.alwaysLikeTag.includes(e)||((r=Wr.instance)==null?void 0:r.isKnownTag(e))?!0:this.tagNames.includes(e)}isModifier(e){var r;return((r=Ut.instance)==null?void 0:r.hasModifier(e))?!0:this.modifierNames.includes(e)}},_l=Kg;_l.alwaysLikeTag=["if","endif","elseif","else","unless","elseunless"]});var bl,yl,$g,xE=x(()=>{it();SE();bl=class{static analyze(e,r){e.forEach(n=>{if(n instanceof ee){if(n.pathReference!=null&&n.pathReference.isStrictVariableReference){n.isTagNode=!1;return}n.name!=null&&(n.isTagNode=r.isTag(n.name.name))}})}static analyzeNode(e){if(e.pathReference!=null&&e.pathReference.isStrictVariableReference){e.isTagNode=!1;return}bl.environmentDetails!=null&&e.name!=null&&(e.isTagNode=bl.environmentDetails.isTag(e.name.name)),e.name!=null&&(e.isConditionNode=_l.alwaysLikeTag.includes(e.name.name))}static analyzeParametersForModifiers(e){e.parameters.forEach(r=>{bl.environmentDetails!=null&&(r.isModifierParameter=bl.environmentDetails.isModifier(r.name))})}},yl=bl;yl.environmentDetails=null;(typeof yl.environmentDetails=="undefined"||yl.environmentDetails==null)&&(yl.environmentDetails=new _l);$g=yl});var zg,EE=x(()=>{Vc();zg=class{static getIdentifier(e){var i;let r=new sn;r.content=e.trim();let n=e.split(":");if(n.length==1)r.name=n[0].trim(),r.methodPart=null,r.compound=r.name;else if(n.length>1){let s=(i=n.shift())!=null?i:"",o=n.join(":");r.name=s.trim(),r.methodPart=o.trim(),r.compound=r.name+":"+r.methodPart}else r.name=e.trim(),r.methodPart="";return r.name.startsWith("/")&&(r.name=r.name.substr(1),r.compound=r.compound.substr(1)),r}}});var _e,se,Qg=x(()=>{it();_e=class{static getPrettyTypeName(e){return e instanceof gi?_e.TOKEN_LANG_OPERATOR:e instanceof yn?_e.TOKEN_OP_A_ADD:e instanceof xe?_e.TOKEN_VARIABLE:e instanceof Kt?_e.TOKEN_STRING:e instanceof er?_e.TOKEN_NUMBER:e instanceof ii?_e.TOKEN_CONSTANT_FALSE:e instanceof Un?_e.TOKEN_CONSTANT_NULL:e instanceof si?_e.TOKEN_CONSTANT_TRUE:e instanceof Io?_e.TOKEN_MODIFIER_NODE:e instanceof nc?_e.TOKEN_MODIFIER_CHAIN:e instanceof ah?_e.TOKEN_MODIFIER_PARAMETER:e instanceof bn?_e.TOKEN_OP_A_DIVIDE:e instanceof Mi?_e.TOKEN_OP_A_EXPONENTIATION:e instanceof Vi?_e.TOKEN_OP_A_MODULUS:e instanceof Nn?_e.TOKEN_OP_A_MULTIPLY:e instanceof Vr?_e.TOKEN_OP_A_SUBTRACT:e instanceof ai?_e.TOKEN_ASG_ADD:e instanceof oi?_e.TOKEN_ASG_DIVIDE:e instanceof li?_e.TOKEN_ASG_MODULUS:e instanceof ci?_e.TOKEN_ASG_MULTIPLY:e instanceof vn?_e.TOKEN_ASG_ASSIGN:e instanceof Bi?_e.TOKEN_ASG_SUBTRACT:e instanceof tn?_e.TOKEN_CMP_EQUAL:e instanceof mi?_e.TOKEN_CMP_SEQUAL:e instanceof jn?_e.TOKEN_CMP_GT:e instanceof is?_e.TOKEN_CMP_GTE:e instanceof ui?_e.TOKEN_CMP_LT:e instanceof fi?_e.TOKEN_CMP_LTE:e instanceof di?_e.TOKEN_CMP_NEQ:e instanceof pi?_e.TOKEN_CMP_SNEQ:e instanceof hi?_e.TOKEN_CMP_SPACESHIP:e instanceof ss?_e.TOKEN_OP_VARIABLE_FALLBACK:e instanceof oh?_e.TOKEN_COND_FALLBACK_GROUP:e instanceof Yt?_e.TOKEN_BRANCH_SEPARATOR:e instanceof Ti?_e.TOKEN_TERNARY_SEPARATOR:e instanceof cr?_e.TOKEN_GROUP_BEGIN:e instanceof lr?_e.TOKEN_GROUP_END:e instanceof xr?_e.TOKEN_MODIFIER_SEPARATOR:e instanceof hr?_e.TOKEN_MODIFIER_NAME:e instanceof ur?_e.TOKEN_MODIFIER_VALUE:e instanceof Br?_e.TOKEN_MODIFIER_VALUE_SEPARATOR:e instanceof sc?_e.TOKEN_NULL_COALESCE_GROUP:e instanceof Zt?_e.TOKEN_SEMANTIC_GROUP:e instanceof vr?_e.TOKEN_STATEMENT_SEPARATOR:e instanceof ac?_e.TOKEN_TERNARY_CONDITION:e instanceof Gn?_e.TOKEN_OP_AND:e instanceof Ir?_e.TOKEN_OP_LOGIC_NEGATION:e instanceof Wn?_e.TOKEN_OP_OR:e instanceof qi?_e.TOKEN_OP_XOR:e instanceof Hn?_e.TOKEN_OP_NULL_COALESCE:e instanceof rc?_e.TOKEN_PARAM:e instanceof gn?_e.TOKEN_PATH_ACCESSOR:e instanceof Ds?_e.TOKEN_OP_A_FACTORIAL:e instanceof qn?_e.TOKEN_RECURSIVE:e instanceof Ao?_e.TOKEN_ARG_GROUP:e instanceof Xt?_e.TOKEN_ARG_SEPARATOR:e instanceof Ui?_e.TOKEN_OP_STRING_CONCAT:e instanceof qr?_e.TOKEN_OP_SCOPE_REASSIGNMENT:e instanceof Co?_e.TOKEN_STRUCT_SWITCH_CASE:e instanceof Ca?_e.TOKEN_STRUCT_SWITCH_GROUP:e instanceof Pa?_e.TOKEN_STRUCT_DIRECTION_GROUP:e instanceof Yn?_e.TOKEN_STRUCT_SCOPED_LOGIC_GROUP:e instanceof et?_e.TOKEN_STRUCT_LOGIC_GROUP:e instanceof ic?_e.TOKEN_STRUCT_VALUE_DIRECTION:e instanceof as?_e.TOKEN_STRUCT_ARRAY:e instanceof Kn?_e.TOKEN_STRUCT_T_LIST_START:e instanceof lh?_e.TOKEN_STRUCT_TUPLE_LIST:e instanceof pr?_e.TOKEN_STRUCT_METHOD_CALL:typeof e}},se=_e;se.TOKEN_LANG_OPERATOR="T_LANG_OPERATOR",se.TOKEN_VARIABLE="T_VAR",se.TOKEN_NUMBER="T_NUMERIC",se.TOKEN_STRING="T_STRING",se.TOKEN_RECURSIVE="T_RECURSIVE",se.TOKEN_CONSTANT_FALSE="T_FALSE",se.TOKEN_CONSTANT_NULL="T_NULL",se.TOKEN_CONSTANT_TRUE="T_TRUE",se.TOKEN_MODIFIER_NODE="T_MODIFIER",se.TOKEN_MODIFIER_CHAIN="T_MODIFIER_CHAIN",se.TOKEN_MODIFIER_PARAMETER="T_MODIFIER_PARAM",se.TOKEN_OP_A_ADD="T_AOP_ADD",se.TOKEN_OP_A_DIVIDE="T_AOP_DIVIDE",se.TOKEN_OP_A_EXPONENTIATION="T_AOP_EXP",se.TOKEN_OP_A_MODULUS="T_AOP_MOD",se.TOKEN_OP_A_MULTIPLY="T_AOP_MULTIPLY",se.TOKEN_OP_A_SUBTRACT="T_AOP_SUBTRACT",se.TOKEN_OP_A_FACTORIAL="T_AOP_FACTORIAL",se.TOKEN_ASG_ADD="T_ASG_ADD",se.TOKEN_ASG_DIVIDE="T_ASG_DIVIDE",se.TOKEN_ASG_ASSIGN="T_ASG",se.TOKEN_ASG_MODULUS="T_ASG_MODULUS",se.TOKEN_ASG_MULTIPLY="T_ASG_MULTIPLY",se.TOKEN_ASG_SUBTRACT="T_ASG_SUBTRACT",se.TOKEN_CMP_EQUAL="T_CMP_EQ",se.TOKEN_CMP_SEQUAL="T_CMP_SEQ",se.TOKEN_CMP_GT="T_CMP_GT",se.TOKEN_CMP_GTE="T_CMP_GTE",se.TOKEN_CMP_LT="T_CMP_LT",se.TOKEN_CMP_LTE="T_CMP_LTE",se.TOKEN_CMP_NEQ="T_CMP_NEQ",se.TOKEN_CMP_SNEQ="T_CMP_SNEQ",se.TOKEN_CMP_SPACESHIP="T_CMP_SPSHP",se.TOKEN_OP_VARIABLE_FALLBACK="T_VFBK",se.TOKEN_COND_FALLBACK_GROUP="T_VFBK_GROUP",se.TOKEN_BRANCH_SEPARATOR="T_BRANCH_SEPARATOR",se.TOKEN_TERNARY_SEPARATOR="T_TERNARY_SEPARATOR",se.TOKEN_GROUP_BEGIN="T_LOGIC_BEGIN",se.TOKEN_GROUP_END="T_LOGIC_END",se.TOKEN_MODIFIER_SEPARATOR="T_MODIFIER_SEPARATOR",se.TOKEN_MODIFIER_NAME="T_MODIFIER_NAME",se.TOKEN_MODIFIER_VALUE="T_MODIFIER_VALUE",se.TOKEN_MODIFIER_VALUE_SEPARATOR="T_MODIFIER_VALUE_SEPARATOR",se.TOKEN_NULL_COALESCE_GROUP="T_NULL_COALESCE_GROUP",se.TOKEN_SEMANTIC_GROUP="T_SEMANTIC_GROUP",se.TOKEN_STATEMENT_SEPARATOR="T_STATEMENT_SEPARATOR",se.TOKEN_TERNARY_CONDITION="T_TERNARY_CONDITION",se.TOKEN_OP_AND="T_AND",se.TOKEN_OP_LOGIC_NEGATION="T_LOGIC_INVERSE",se.TOKEN_OP_OR="T_OR",se.TOKEN_OP_XOR="T_XOR",se.TOKEN_OP_NULL_COALESCE="T_NULL_COALESCE",se.TOKEN_PARAM="T_PARAM",se.TOKEN_PATH_ACCESSOR="T_VAR_SEPARATOR",se.TOKEN_ARG_GROUP="T_ARG_GROUP",se.TOKEN_ARG_SEPARATOR="T_ARG_SEPARATOR",se.TOKEN_OP_STRING_CONCAT="T_STR_CONCAT",se.TOKEN_OP_SCOPE_REASSIGNMENT="T_SCOPE_ASSIGNMENT",se.TOKEN_STRUCT_SWITCH_CASE="T_SWITCH_CASE",se.TOKEN_STRUCT_SWITCH_GROUP="T_SWITCH_GROUP",se.TOKEN_STRUCT_DIRECTION_GROUP="T_DIRECTION_GROUP",se.TOKEN_STRUCT_VALUE_DIRECTION="T_ORDER_DIRECTION",se.TOKEN_STRUCT_SCOPED_LOGIC_GROUP="T_SCOPED_LOGIC_GROUP",se.TOKEN_STRUCT_LOGIC_GROUP="T_LOGIC_GROUP",se.TOKEN_STRUCT_ARRAY="T_ARRAY",se.TOKEN_STRUCT_T_LIST_START="T_LIST_START",se.TOKEN_STRUCT_TUPLE_LIST="T_LIST",se.TOKEN_STRUCT_METHOD_CALL="T_METHOD_CALL"});var gt,Xg=x(()=>{gt=class{static isLanguageLogicalKeyword(e){return e==this.LogicalAnd||e==this.LogicalNot||e==this.LogicalOr||e==this.LogicalXor}};gt.LogicalAnd="and",gt.LogicalNot="not",gt.LogicalOr="or",gt.LogicalXor="xor",gt.ConstTrue="true",gt.ConstFalse="false",gt.ConstNull="null",gt.ArrList="list",gt.ScopeAs="as"});var Jg,RE=x(()=>{Li();Di();Qg();it();xi();Xg();Sr();Jg=class{constructor(){this.chars=[];this.inputLen=0;this.currentIndex=0;this.currentContent=[];this.rawContent=[];this.startIndex=0;this.cur=null;this.next=null;this.prev=null;this.isParsingString=!1;this.isParsingModifierName=!1;this.isInModifierParameterValue=!1;this.runtimeNodes=[];this.ignorePrevious=!1;this.lastNode=null;this.referenceParser=null;this.activeNode=null}reset(){this.ignorePrevious=!1,this.runtimeNodes=[],this.chars=[],this.inputLen=0,this.currentIndex=0,this.currentContent=[],this.rawContent=[],this.startIndex=0,this.cur=null,this.next=null,this.prev=null,this.isParsingString=!1,this.isParsingModifierName=!1,this.isInModifierParameterValue=!1,this.referenceParser=null,this.activeNode=null}checkCurrentOffsets(){this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.ignorePrevious?(this.prev="",this.ignorePrevious=!1):this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen&&(this.next=this.chars[this.currentIndex+1])}isValidChar(e){return e==null||e==H.Punctuation_Semicolon?!1:this.isParsingString==!1&&e=="]"?!0:this.isParsingString==!1&&e==")"?!1:(e=="["||e=="]")&&e==this.cur||(e=="_"||e=="."||e=="["||e=="]")&&(!(this.currentContent.length>0)||ie.ctypeAlpha(this.cur)||ie.ctypeDigit(this.cur))?!0:ie.ctypeSpace(e)?!1:this.isParsingModifierName&&(e==H.Punctuation_Minus||e==H.Punctuation_Underscore)?!0:!ie.ctypePunct(e)}isRightOfInterpolationRegion(){if(this.activeNode==null||this.referenceParser==null)return!1;let e=this.activeNode._lexerRelativeOffset(this.currentIndex);return this.referenceParser.bordersInterpolationRegion(e)}scanForwardTo(e,r=0){let n=[];for(let i=this.currentIndex+1+r;i<this.inputLen;i++){let s=this.chars[i];if(s==e){n.push(s);break}else n.push(s)}return n}nextNonWhitespace(){for(let e=this.currentIndex+1;e<this.inputLen;e++){let r=this.chars[e];if(!ie.ctypeSpace(r))return r}return null}pushError(e){this.referenceParser!=null&&this.referenceParser.addAntlersError(e)}guardAgainstNeighboringTypesInModifier(e){return this.lastNode instanceof ur&&this.pushError(J.makeSyntaxError(R.TYPE_MODIFIER_INCORRECT_VALUE_POSITION,this.lastNode,"Incorrect type ["+se.getPrettyTypeName(e)+"] near ["+se.getPrettyTypeName(this.lastNode)+"]")),!1}appendContent(e){e!=null&&this.currentContent.push(e)}tokenize(e,r){this.reset(),this.referenceParser=e.getParser(),this.activeNode=e,this.chars=r.split(""),this.inputLen=this.chars.length,this.runtimeNodes=[],this.lastNode=null;let n=null;this.isParsingString=!1,this.isParsingModifierName=!1;let i=null;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){this.checkCurrentOffsets();let o=!0;if(this.cur!=null&&this.rawContent.push(this.cur),this.isParsingString==!1&&(this.cur==H.String_Terminator_DoubleQuote||this.cur==H.String_Terminator_SingleQuote)){if(this.prev==H.String_EscapeCharacter){this.pushError(J.makeSyntaxError(R.TYPE_ILLEGAL_STRING_ESCAPE_SEQUENCE,e,"Illegal string escape sequence outside string parsing."));continue}this.rawContent=[],this.rawContent.push(this.cur),i=this.cur,this.isParsingString=!0,n=this.currentIndex;continue}if(this.isInModifierParameterValue&&!this.isParsingString){let l=!1;if(!this.isParsingString&&ie.ctypeSpace(this.next)){let u=this.scanForwardTo(" ",1).join("").trim().toLowerCase();u.length>0&&gt.isLanguageLogicalKeyword(u)&&(l=!0)}if(this.next==H.String_Terminator_SingleQuote||this.next==H.String_Terminator_DoubleQuote||this.next==null||l){this.appendContent(this.cur);let u=this.currentContent.join("");if(u.length>0){let d=u;if(this.currentContent=[],this.rawContent=[],d.trimRight().length==0){let m=this.nextNonWhitespace();if(m==H.String_Terminator_SingleQuote||m==H.String_Terminator_DoubleQuote){this.currentContent=[],this.rawContent=[];continue}}let h=new ur;h.isVirtual=!1,h.name=d,h.value=d.trimRight(),h.startPosition=e._lexerRelativeOffset(this.currentIndex-d.length),h.endPosition=e._lexerRelativeOffset(this.currentIndex),h.parent=this.activeNode,this.guardAgainstNeighboringTypesInModifier(h),this.runtimeNodes.push(h),this.lastNode=h}if(u.length==0)continue;this.currentContent=[],this.rawContent=[],this.isInModifierParameterValue=!1;continue}if(this.next==H.Punctuation_Pipe||this.next==H.Punctuation_Colon||this.next==H.RightParent){this.isInModifierParameterValue=!1,this.appendContent(this.cur);let u=0,d=!1;if(this.currentContent[0]==H.String_Terminator_SingleQuote||this.currentContent[0]==H.String_Terminator_DoubleQuote){let y=this.scanForwardTo(this.currentContent[0]);y.length>0&&(this.currentContent=this.currentContent.concat(y),u=y.length,d=!0)}let h=this.currentContent.join("");d&&(h=h.substr(1),h=h.slice(0,-1)),this.currentContent=[],this.rawContent=[];let m=new ur;m.isVirtual=!1,m.name=h,m.value=h,m.startPosition=e._lexerRelativeOffset(this.currentIndex-h.length),m.endPosition=e._lexerRelativeOffset(this.currentIndex),m.parent=this.activeNode,this.runtimeNodes.push(m),this.guardAgainstNeighboringTypesInModifier(m),this.lastNode=m,this.currentIndex+=u}else this.appendContent(this.cur);continue}if(this.isParsingString&&this.cur==i){if(this.prev==H.String_EscapeCharacter)this.appendContent(i);else{if(this.isInModifierParameterValue){let u=this.currentContent.join(""),d=new ur;d.isVirtual=!1,d.name=u,d.value=u,d.startPosition=e._lexerRelativeOffset(n!=null?n:0),d.endPosition=e._lexerRelativeOffset(this.currentIndex),d.parent=this.activeNode,this.runtimeNodes.push(d),this.guardAgainstNeighboringTypesInModifier(d),this.lastNode=d,this.currentContent=[],this.rawContent=[],this.isParsingString=!1,this.isInModifierParameterValue=!1;continue}let l=new Kt;l.isVirtual=!1,l.startPosition=e._lexerRelativeOffset(n!=null?n:0),l.endPosition=e._lexerRelativeOffset(this.currentIndex),this.referenceParser!=null&&(l.sourceContent=this.referenceParser.getText(l.startPosition.index,l.endPosition.index+1)),l.parent=this.activeNode,i!=null&&(l.sourceTerminator=i),i=null,this.isParsingString=!1,l.value=this.currentContent.join(""),l.rawLexContent=this.rawContent.join("").trim(),this.currentContent=[],this.rawContent=[],this.guardAgainstNeighboringTypesInModifier(l),this.runtimeNodes.push(l),this.lastNode=l}continue}if(this.isParsingString&&this.cur==H.String_EscapeCharacter){if(this.next==H.String_EscapeCharacter){this.appendContent(H.String_EscapeCharacter),this.ignorePrevious=!0,this.currentIndex+=1;continue}else if(this.next==H.String_Terminator_SingleQuote){this.appendContent(H.String_Terminator_SingleQuote),this.currentIndex+=1;continue}else if(this.next==H.String_Terminator_DoubleQuote){this.appendContent(H.String_Terminator_DoubleQuote),this.currentIndex+=1;continue}else if(this.next=="n"){this.appendContent(`
`),this.currentIndex+=1;continue}else if(this.next=="t"){this.appendContent("	"),this.currentIndex+=1;continue}else if(this.next=="r"){this.appendContent("\r"),this.currentIndex+=1;continue}}if(this.isParsingString==!1){if(this.isValidChar(this.cur)&&this.isValidChar(this.next)==!1&&this.currentContent.length==0&&(this.appendContent(this.cur),o=!1),(this.next==null||this.isValidChar(this.next)==!1)&&this.currentContent.length>0){o&&this.appendContent(this.cur);let l=this.currentContent.join("").trim(),u=l.length,d=this.currentIndex-u,h=e._lexerRelativeOffset(d),m=e._lexerRelativeOffset(this.currentIndex);if(this.currentContent=[],this.rawContent=[],l==gt.LogicalAnd){let b=new Gn;b.isVirtual=!1,b.content=gt.LogicalAnd,b.startPosition=h,b.endPosition=m,b.parent=this.activeNode,this.runtimeNodes.push(b),this.lastNode=b;continue}else if(l==gt.LogicalOr){let b=new Wn;b.isVirtual=!1,b.content=gt.LogicalOr,b.startPosition=h,b.endPosition=m,b.parent=this.activeNode,this.runtimeNodes.push(b),this.lastNode=b;continue}else if(l==gt.LogicalXor){let b=new qi;b.isVirtual=!1,b.content=gt.LogicalXor,b.startPosition=h,b.endPosition=m,b.parent=this.activeNode,this.runtimeNodes.push(b),this.lastNode=b;continue}else if(l==gt.ConstNull){let b=new Un;b.isVirtual=!1,b.content=gt.ConstNull,b.startPosition=h,b.endPosition=m,b.parent=this.activeNode,this.runtimeNodes.push(b),this.lastNode=b;continue}else if(l==gt.ConstTrue){let b=new si;b.isVirtual=!1,b.content=gt.ConstTrue,b.startPosition=h,b.endPosition=m,b.parent=this.activeNode,this.runtimeNodes.push(b),this.lastNode=b;continue}else if(l==gt.ConstFalse){let b=new ii;b.isVirtual=!1,b.content=gt.ConstFalse,b.startPosition=h,b.endPosition=m,b.parent=this.activeNode,this.runtimeNodes.push(b),this.lastNode=b;continue}else if(l==gt.LogicalNot){let b=new Ir;b.isVirtual=!1,b.content=gt.LogicalNot,b.startPosition=h,b.endPosition=m,b.parent=this.activeNode,this.runtimeNodes.push(b),this.lastNode=b;continue}else if(l==gt.ArrList&&this.next==H.LeftParen){let b=new Kn;b.isVirtual=!1,b.content=gt.ArrList,b.startPosition=h,b.endPosition=m,b.parent=this.activeNode,this.runtimeNodes.push(b),this.lastNode=b;continue}if(ie.isNumeric(l)){let b=new er;b.isVirtual=!1,b.startPosition=h,b.endPosition=m,b.parent=this.activeNode,l.includes(".")?b.value=parseFloat(l):b.value=parseInt(l),b.rawLexContent=l,this.guardAgainstNeighboringTypesInModifier(b),this.runtimeNodes.push(b),this.lastNode=b;continue}if(this.runtimeNodes.length>0){let b=this.runtimeNodes[this.runtimeNodes.length-1];if(b instanceof xr){let T=new hr;T.isVirtual=!1,T.name=l,T.content=l,T.startPosition=h,T.endPosition=m,T.parent=this.activeNode,this.runtimeNodes.push(T),this.lastNode=T;continue}else if(b instanceof Br){let T=new ur;T.isVirtual=!1,T.name=l,T.value=l,T.startPosition=h,T.endPosition=m,T.parent=this.activeNode,this.runtimeNodes.push(T),this.lastNode=T,this.isParsingModifierName=!1;continue}}let y=new xe;y.isVirtual=!1,y.name=l,y.startPosition=h,y.endPosition=m,y.parent=this.activeNode,this.runtimeNodes.push(y),this.lastNode=y;continue}}else{this.appendContent(this.cur);continue}if(!ie.ctypeSpace(this.cur)){if(this.isParsingString==!1){if(this.cur==H.Punctuation_Equals&&this.next==H.Punctuation_GreaterThan){let l=new qr;l.isVirtual=!1,l.content="=>",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentContent=[],this.rawContent=[],this.currentIndex+=1;continue}if(this.cur==H.Punctuation_Comma){let l=new Xt;l.isVirtual=!1,l.content=H.Punctuation_Comma,l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_Semicolon){let l=new vr;l.isVirtual=!1,l.content=H.Punctuation_Semicolon,l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_Plus){if(this.next==H.Punctuation_Equals){let u=new ai;u.isVirtual=!1,u.content="+=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let l=new yn;l.isVirtual=!1,l.content="+",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.isParsingModifierName==!1&&this.cur==H.Punctuation_Minus){if(ie.ctypeDigit(this.next)&&ie.ctypeDigit(this.prev)==!1&&this.prev!=H.RightParent&&this.isRightOfInterpolationRegion()==!1){this.appendContent(this.cur);continue}if(this.next==H.Punctuation_Equals){let u=new Bi;u.isVirtual=!1,u.content="-=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}else if(this.next==H.Punctuation_GreaterThan){let u=new pr;u.isVirtual=!1,u.content="->",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let l=new Vr;l.isVirtual=!1,l.content="-",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_Asterisk){if(this.next==H.Punctuation_Asterisk){let u=new Mi;u.isVirtual=!1,u.content="**",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}else if(this.next==H.Punctuation_Equals){let u=new ci;u.isVirtual=!1,u.content="*=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let l=new Nn;l.isVirtual=!1,l.content="*",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_ForwardSlash){if(this.next==H.Punctuation_Equals){let u=new oi;u.isVirtual=!1,u.content="/=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let l=new bn;l.isVirtual=!1,l.content="/",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_Percent){if(this.next==H.Punctuation_Equals){let u=new li;u.isVirtual=!1,u.content="%=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let l=new Vi;l.isVirtual=!1,l.content="%",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_LessThan){if(this.next==H.Punctuation_Equals){let u=null;if(this.currentIndex+2<this.inputLen&&(u=this.chars[this.currentIndex+2]),u==H.Punctuation_GreaterThan){let h=new hi;h.isVirtual=!1,h.content="<=>",h.startPosition=e._lexerRelativeOffset(this.currentIndex),h.endPosition=e._lexerRelativeOffset(this.currentIndex+3),h.parent=this.activeNode,this.runtimeNodes.push(h),this.lastNode=h,this.currentIndex+=2;continue}let d=new fi;d.isVirtual=!1,d.content="<=",d.startPosition=e._lexerRelativeOffset(this.currentIndex),d.endPosition=e._lexerRelativeOffset(this.currentIndex+2),d.parent=this.activeNode,this.runtimeNodes.push(d),this.lastNode=d,this.currentIndex+=1;continue}let l=new ui;l.isVirtual=!1,l.content="<",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_GreaterThan){if(this.next==H.Punctuation_Equals){let u=new jn;u.isVirtual=!1,u.content=">=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let l=new jn;l.isVirtual=!1,l.content=">",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_Equals&&this.next!=H.Punctuation_Equals){let l=new vn;l.isVirtual=!1,l.content="=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_Equals&&this.next==H.Punctuation_Equals){let l=null;if(this.currentIndex+2<this.inputLen&&(l=this.chars[this.currentIndex+2]),l==H.Punctuation_Equals){let u=new mi;u.isVirtual=!1,u.content="===",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+3),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=2}else{let u=new tn;u.isVirtual=!1,u.content="==",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1}continue}if(this.cur==H.Punctuation_Ampersand){if(this.next==H.Punctuation_Ampersand){let u=new Gn;u.isVirtual=!1,u.content="&&",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}if(this.next==H.Punctuation_Equals){let u=new Ui;u.isVirtual=!1,u.content="&=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+1),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u;continue}let l=new Gn;l.isVirtual=!1,l.content="&",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_Pipe&&this.next!=H.Punctuation_Pipe){let l=new xr;l.isVirtual=!1,l.content="|",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.isParsingModifierName=!0;continue}if(this.cur==H.Punctuation_Pipe&&this.next==H.Punctuation_Pipe){let l=new Wn;l.isVirtual=!1,l.content="||",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}if(this.cur==H.Punctuation_Exclamation){if(this.next==H.Punctuation_Equals){let u=null;if(this.currentIndex+2<this.inputLen&&(u=this.chars[this.currentIndex+2]),u==H.Punctuation_Equals){let h=new pi;h.isVirtual=!1,h.content="!==",h.startPosition=e._lexerRelativeOffset(this.currentIndex),h.endPosition=e._lexerRelativeOffset(this.currentIndex+3),h.parent=this.activeNode,this.runtimeNodes.push(h),this.lastNode=h,this.currentIndex+=2;continue}let d=new di;d.isVirtual=!1,d.content="!=",d.startPosition=e._lexerRelativeOffset(this.currentIndex),d.endPosition=e._lexerRelativeOffset(this.currentIndex+2),d.parent=this.activeNode,this.runtimeNodes.push(d),this.lastNode=d,this.currentIndex+=1;continue}let l=new Ir;l.isVirtual=!1,l.content="!",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_Question&&this.next==H.Punctuation_Equals){let l=new ss;l.isVirtual=!1,l.content="?=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}if(this.cur==H.Punctuation_Question&&this.next==H.Punctuation_Question){let l=new Hn;l.isVirtual=!1,l.content="??",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}if(this.cur==H.Punctuation_Question&&this.next==H.Punctuation_Colon){let l=new Hn;l.isVirtual=!1,l.content="?:",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}if(this.cur==H.Punctuation_Question){let l=new Ti;l.isVirtual=!1,l.content="?",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.LeftParen){let l=new cr;l.isVirtual=!1,l.content="(",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.RightParent){let l=new lr;l.isVirtual=!1,l.content=")",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}if(this.cur==H.Punctuation_Colon){if(this.runtimeNodes.length>0&&this.runtimeNodes[this.runtimeNodes.length-1]instanceof hr){let d=new Br;d.isVirtual=!1,d.content=":",d.startPosition=e._lexerRelativeOffset(this.currentIndex),d.endPosition=e._lexerRelativeOffset(this.currentIndex+1),d.parent=this.activeNode,this.runtimeNodes.push(d),this.isInModifierParameterValue==!1?this.isInModifierParameterValue=!0:this.isInModifierParameterValue=!1;continue}let l=new Yt;l.isVirtual=!1,l.content=":",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.isParsingModifierName=!1;continue}}o&&this.appendContent(this.cur)}}let s=this.runtimeNodes.length-1;for(let o=0;o<this.runtimeNodes.length;o++){let l=null,u=null;o>0&&(l=this.runtimeNodes[o-1]),o!=s&&(u=this.runtimeNodes[o+1]);let d=this.runtimeNodes[o];d.prev=l,d.next=u}return this.runtimeNodes}}});var ir,Ts,Zg=x(()=>{Li();Di();it();Sr();xi();ir=class{constructor(){this.chars=[];this.currentIndex=0;this.lastIndex=0;this.inputLength=0;this.prev=null;this.cur=null;this.next=null;this.isParsingString=!1;this.isStringKeyPath=!1;this.antlersErrors=[];this._recusriveEntryCheck=new Map}isValidChar(e){return!(this.isParsingString==!1&&ie.ctypeSpace(e)||this.isParsingString==!1&&e==ir.LeftBracket||this.isParsingString==!1&&e==ir.RightBracket)}normalizePath(e){return e=e.replace(":","_"),e=e.replace(".","_"),e=e.replace("[","_"),e=e.replace("]","_"),e.replace("]","_")}getAntlersErrors(){return this.antlersErrors}mergeErrors(e){e.forEach(r=>{this.antlersErrors.push(r)})}parse(e){this.antlersErrors=[],this._recusriveEntryCheck.clear();let r=e,n=!1,i=!1,s=!1,o=!1;e.startsWith(H.AtChar)&&(s=!0,e=e.substr(1)),e.startsWith(H.Punctuation_Caret)?(o=!0,e=e.substr(1)):(e.startsWith(H.Punctuation_Dollar)&&(n=!0,e=e.substr(1)),e.startsWith(H.Punctuation_Dollar)&&(i=!0,e=e.substr(1))),this.chars=[],this.currentIndex=0,this.lastIndex=0,this.inputLength=0,this.cur=null,this.prev=null,this.next=null,this.chars=e.split(""),this.inputLength=this.chars.length,this.lastIndex=this.inputLength-1;let l=[],u=!1,d=[],h=ir.ColonSeparator,m=!1,y=null,b=!1,T=!0;if(this.isParsingString=!1,this.inputLength==0){let _=new Ms;return _._isFromEmptyFailState=!0,_}for(this.currentIndex;this.currentIndex<this.inputLength;this.currentIndex+=1){if(this.cur=this.chars[this.currentIndex],this.next=null,m?(m=!1,this.prev=""):this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLength&&(this.next=this.chars[this.currentIndex+1]),this.isParsingString==!1&&this.cur==ir.ColonSeparator&&(h=ir.ColonSeparator),this.isParsingString==!1&&this.cur==ir.DotPathSeparator&&(h=ir.DotPathSeparator),this.isParsingString&&this.cur==H.String_EscapeCharacter&&this.next==y){y!=null&&l.push(y),this.currentIndex+=1;continue}if(this.cur==H.String_Terminator_SingleQuote||this.cur==H.String_Terminator_DoubleQuote)if(this.isParsingString)if(this.cur==y)if(this.prev==H.String_EscapeCharacter){l.push(this.cur);continue}else this.isParsingString=!1,T=!1;else{l.push(this.cur);continue}else{this.prev!=null&&this.prev!=H.LeftBracket&&(ie.ctypeAlpha(this.prev)||ie.ctypeDigit(this.prev))&&this.antlersErrors.push(J.makeSyntaxError(R.PATH_STRING_NOT_INSIDE_ARRAY_ACCESSOR,null,"Unexpected string start while parsing variable path. String literals must be within array accessors.")),this.isParsingString=!0,b=!0,y=this.cur,this.isStringKeyPath=!0;continue}if(this.isParsingString){if(ie.ctypeSpace(this.cur)){l.push(this.cur);continue}else if(this.cur==H.String_EscapeCharacter){if(this.next==H.String_EscapeCharacter){l.push(H.String_EscapeCharacter),this.currentIndex+=1,m=!0;continue}else if(this.next=="n"){l.push(`
`),this.currentIndex+=1;continue}else if(this.next=="t"){l.push("	"),this.currentIndex+=1;continue}else if(this.next=="r"){l.push("\r"),this.currentIndex+=1;continue}}}if(this.isParsingString==!1&&this.cur==ir.LeftBracket){if(l.length>0){let P=new gn;P.name=l.join(""),P.delimiter=h,d.push(P),l=[]}if(this.next==null||ie.ctypeSpace(this.next)){this.antlersErrors.push(J.makeSyntaxError(R.TYPE_ILLEGAL_VARPATH_SPACE_RIGHT,null,"Unexpected end of input or whitespace while parsing variable accessor path."));continue}let _=this.locateEndOfAccessor();this.currentIndex=_.foundOn;let C=new ir;if(d.push(C.parse(_.nestedContent)),this.mergeErrors(C.getAntlersErrors()),u=!0,this.currentIndex==-1){this.antlersErrors.push(J.makeSyntaxError(R.PARSER_CANNOT_PARSE_PATH_RECURSIVE,null,"Cannot parse variable path.")),u=!1;break}continue}if(this.isParsingString==!1&&this.next==ir.RightBracket&&u){T?l.push(this.cur):T=!0;let _=new ch;_.name=l.join(""),d.push(_),l=[],h=ir.ColonSeparator,this.currentIndex+=1,u=!1;continue}if(this.isParsingString==!1&&(this.cur==ir.LeftBracket||this.cur==ir.ColonSeparator||this.cur==ir.DotPathSeparator||this.currentIndex==this.lastIndex)){if(this.next==null||ie.ctypeSpace(this.next)){if(this.cur==ir.ColonSeparator){if(l.length==0){this.antlersErrors.push(J.makeSyntaxError(R.TYPE_UNEXPECTED_BRANCH_SEPARATOR,null,"Unexpected [T_BRANCH_SEPARATOR] while parsing input text."));continue}this.antlersErrors.push(J.makeSyntaxError(R.TYPE_ILLEGAL_VARPATH_RIGHT,null,'Variable paths cannot end with the ":" character.'));continue}if(this.cur==ir.LeftBracket){this.antlersErrors.push(J.makeSyntaxError(R.TYPE_ILLEGAL_VARPATH_SUBPATH_START,null,"Illegal variable sub-path start."));continue}}this.currentIndex==this.lastIndex&&this.isValidChar(this.cur)&&(T?l.push(this.cur):T=!0);let _=new gn;_.delimiter=h,_.name=l.join(""),b&&(_.isStringVar=b,_.name=r.substr(1),_.name=_.name.slice(0,-1),b=!1),d.push(_),l=[];continue}else{l.push(this.cur);continue}}let S=d.length;if(S>0){let _=d[S-1];(_ instanceof gn||_ instanceof Ms)&&(_.isFinal=!0)}let w=new Ms;return w.isStrictTagReference=o,w.isStrictVariableReference=n,w.isExplicitVariableReference=i,w.pathParts=d,w.originalContent=e,w.isVariableVariable=s,w.normalizedReference=e.replace(":","."),w}locateEndOfAccessor(){let e=[],r=1,n=-1,i="",s=!1,o=null;if(this._recusriveEntryCheck.has(this.currentIndex+1)==!1)this._recusriveEntryCheck.set(this.currentIndex+1,!0);else return{foundOn:n,nestedContent:""};for(let l=this.currentIndex+1;l<this.inputLength;l++){let u=this.chars[l],d=null,h=null;if(l>0&&(h=this.chars[l-1]),l+1<this.inputLength&&(d=this.chars[l+1]),s==!1&&(u==H.String_Terminator_SingleQuote||u==H.String_Terminator_DoubleQuote)){s=!0,o=u,e.push(u);continue}if(s==!1&&u==ir.LeftBracket){r+=1,e.push(u);continue}if(s&&u==o&&h!=H.String_EscapeCharacter){e.push(u),s=!1,o=null;continue}if(s==!1&&u==ir.RightBracket)if(r-=1,r==0){n=l,i=e.join("");break}else{e.push(u);continue}else e.push(u);s==!1&&ie.ctypeSpace(d)&&this.antlersErrors.push(J.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR,null,"Unexpected end of input or whitespace while parsing inner variable accessor path.")),d==null&&this.antlersErrors.push(J.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR,null,"Unexpected end of input or whitespace while parsing inner variable accessor path."))}return{foundOn:n,nestedContent:i}}},Ts=ir;Ts.ColonSeparator=":",Ts.LeftBracket="[",Ts.RightBracket="]",Ts.DotPathSeparator="."});var eT,kE=x(()=>{bo();xE();EE();Li();Di();RE();it();Vc();Sr();xi();Zg();eT=class{constructor(){this.chars=[];this.inputLen=0;this.currentIndex=0;this.cur=null;this.prev=null;this.pathParser=new Ts;this.lexer=new Jg;this.activeNode=null}reset(){this.chars=[],this.inputLen=0,this.currentIndex=0,this.cur=null,this.prev=null}canBeClosingTag(e){var n;let r=(n=e.name)==null?void 0:n.name;return r=="elseif"||r=="else"?!0:e.name==null?!1:e.name.content.startsWith("/")}parseNode(e){var h,m,y,b;if(this.activeNode=e,this.reset(),e.content.startsWith("*subrecursive")){let T=e.content;T=T.trim(),T=ie.trimRight(T,"*"),T=T.substr(13);let S=new qn;return e.copyBasicDetailsTo(S),S.originalNode=e,S.name=new sn,S.name.name=T,S.isNestedRecursive=!0,S.pathReference=this.pathParser.parse(T),S.mergeErrors(this.pathParser.getAntlersErrors()),S.content=T,S.runtimeContent=T,S}if(e.content.trim().startsWith("*recursive")){let T=e.content;T=T.trim(),T=ie.trimRight(T,"*"),T=T.substr(10).trim();let S=new qn;return e.copyBasicDetailsTo(S),S.originalNode=e,S.name=new sn,S.name.name=T,S.pathReference=this.pathParser.parse(T),S.mergeErrors(this.pathParser.getAntlersErrors()),S.content=T,S.runtimeContent=T,S}this.chars=e.content.split(""),this.inputLen=this.chars.length;let r=[],n=!1,i="",s=!1,o=null;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1)if(this.cur=this.chars[this.currentIndex],this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),n==!1){if(s==!1&&(this.cur==H.String_Terminator_DoubleQuote||this.cur==H.String_Terminator_SingleQuote)){o=this.cur,s=!0,r.push(this.cur);continue}if(s&&ie.ctypeSpace(this.cur)){r.push(this.cur);continue}if(s&&this.cur==o&&this.prev!=H.String_EscapeCharacter){o=null,s=!1,r.push(this.cur);continue}if(ie.ctypeSpace(this.cur)||this.currentIndex==this.inputLen-1||this.cur==H.Punctuation_Pipe){if(r.length==0)continue;ie.ctypeSpace(this.cur)||this.cur!=H.Punctuation_Pipe&&r.push(this.cur),i=r.join(""),n=!0;break}r.push(this.cur)}let l=e.getContentRelativeStartIndex();if(e.nameStartsOn=e.relativeOffset(l,l),e.nameStartsOn!=null&&(e.nameEndsOn=e.nameStartsOn.shiftRight(i.length-1),i.includes(H.Punctuation_Colon))){let T=i.indexOf(H.Punctuation_Colon);e.nameMethodPartStartsOn=e.nameStartsOn.shiftRight(T+1)}e.name=zg.getIdentifier(i),$g.analyzeNode(e),e.parameters=this.getParameters(e),e.hasParameters=e.parameters.length>0,e.hasParameters&&($g.analyzeParametersForModifiers(e),e.resetContentCache()),e.pathReference=this.pathParser.parse(i),e.mergeErrors(this.pathParser.getAntlersErrors()),e.pathReference!=null&&e.pathReference.isStrictTagReference&&(e.name.name=e.name.name.substr(1),e.name.content=e.name.content.substr(1)),e.isClosingTag=this.canBeClosingTag(e);let u=[];e.isClosingTag==!1&&(u=this.lexer.tokenize(e,e.getContent())),e.runtimeNodes=u;let d=e.content.trim();if(Tn.isConditionalStructure(e)&&e.name.name!="else"&&u.length==0&&d!="/if"&&d!="/unless"&&d!="/endunless"&&d!="endif"&&d!="endunless"&&d!="/endif"&&e.getContent().trim().length==0&&this.pushConditionWithoutExpression(e),e.name.name=="endif"){let T=e.copyBasicDetails(),S=e.getParser();return S!=null&&T.withParser(S),T.name=new sn,T.name.name="if",T.name.compound="if",T.isClosingTag=!0,T.content=" /if ",T.originalNode=e,T}if(e.name.name=="unless"){let T=e.copyBasicDetails(),S=e.getParser();if(S!=null&&T.withParser(S),T.name=new sn,T.name.name="if",T.name.compound="if",e.isClosingTag==!1){let w=(h=e.getContent())!=null?h:"",_=" if !("+w+") ";T.content=_,T.originalNode=e,T.resetContentCache(),T.runtimeNodes=this.lexer.tokenize(T,(m=T.getContent())!=null?m:""),this.testUnlessContent(T)}else T.originalNode=e,T.content=" /if ";return T}else if(e.name.name=="elseunless"){let T=e.copyBasicDetails(),S=e.getParser();S!=null&&T.withParser(S),T.name=new sn,T.name.name="elseif",T.name.compound="elseif";let w=(y=e.getContent())!=null?y:"",_=" elseif !("+w+") ";return T.content=_,T.originalNode=e,T.resetContentCache(),T.runtimeNodes=this.lexer.tokenize(T,(b=T.getContent())!=null?b:""),this.testUnlessContent(T),T}else if(e.name.name=="endunless"){let T=e.copyBasicDetails(),S=e.getParser();return S!=null&&T.withParser(S),T.name=new sn,T.name.name="if",T.name.compound="if",T.isClosingTag=!0,T.content=" /if ",T.originalNode=e,T}return e}pushError(e){this.activeNode!=null&&this.activeNode.pushError(e)}testUnlessContent(e){var n;let r=(n=e.getContent())!=null?n:"";if(r=r.replace("!",""),r=r.replace("(",""),r=r.replace(")","").trim(),r.length==0){this.pushConditionWithoutExpression(e);return}}pushConditionWithoutExpression(e){this.pushError(J.makeSyntaxError(R.TYPE_PARSE_EMPTY_CONDITIONAL,e,"Condition structure lacks comparison expression."))}getParameters(e){var Z,Q,G,ce,Oe,te,oe,Ce,fe;let r=(Z=e.getContent())!=null?Z:"",n=r.split(""),i=[],s=[],o=n.length,l=0;if(e.name!=null){let re=ie.trimLeft(e.content," "),Qe=e.content.length-re.length,Tt=e.name.content.length;Qe>0?l=Qe+Tt:l=Tt}let u=!1,d=[],h="",m=0,y=0,b=!1,T=null,S=-1,w=-1,_=-1,C=-1,P=-1,Y=-1,M=null;for(let re=0;re<o;re++){let Qe=n[re],Tt=null,Lr=null;if(re+1<o&&(Lr=n[re+1]),b?(Tt="",b=!1):re>0&&(Tt=n[re-1]),u==!1&&ie.ctypeSpace(Qe)){d=[],S=-1,w=-1,_=-1,C=-1,P=-1,Y=-1;continue}if(u==!1&&Qe==H.Punctuation_Equals){if(d.length>0&&(ie.ctypeAlpha(d[0])||ie.ctypeDigit(d[0])||d[0]==H.Punctuation_Colon||d[0]==H.AtChar)==!1){d=[];continue}if(re+1>=o){this.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_END_OF_INPUT,e,"Unexpected end of input"));continue}let ot=null;if(re+1<o&&(ot=n[re+1]),Tt==H.Punctuation_Equals){d=[],S=-1,w=-1,_=-1,C=-1,P=-1,Y=-1;continue}if(ie.ctypeSpace(ot)||ot==H.Punctuation_Equals){d=[],S=-1,w=-1,_=-1,C=-1,P=-1,Y=-1;continue}d.length>0&&(C=re,P=re,h=d.join(""),m=y,u=!0,d=[]),Lr==H.String_Terminator_DoubleQuote&&(T=H.String_Terminator_DoubleQuote,M=H.String_Terminator_DoubleQuote,re+=1),Lr==H.String_Terminator_SingleQuote&&(T=H.String_Terminator_SingleQuote,M=H.String_Terminator_SingleQuote,re+=1);continue}if(u&&Qe==H.String_EscapeCharacter){let ot=null;if(re+1<o&&(ot=n[re+1]),ot==H.String_EscapeCharacter){d.push(H.String_EscapeCharacter),re+=1,b=!0;continue}if(ot==H.String_Terminator_DoubleQuote){d.push(H.String_Terminator_DoubleQuote),re+=1;continue}if(ot==H.String_Terminator_SingleQuote){d.push(H.String_Terminator_SingleQuote),re+=1;continue}if(ot=="n"){d.push(`
`),re+=1;continue}if(ot=="r"){d.push("\r"),re+=1;continue}}if(u==!1&&(T!=null&&Qe==T||T==null&&ie.ctypeSpace(Qe))&&i.push(d.join("")),u&&(T!=null&&Qe==T||T==null&&ie.ctypeSpace(Qe))){let ot=d.join("");Y=re,w=re,u=!1,T=null,d=[];let St=new rc;if(h.startsWith(H.Punctuation_Colon)&&(St.isVariableReference=!0,h=h.substr(1)),St.nameDelimiter=M,St.name=h,St.value=ot,St.nameDelimiter==null&&(St.hasValidValueDelimiter=!1,St.nameDelimiter='"'),St.startPosition=(Q=e.relativePositionFromOffset(y,m))!=null?Q:null,re+1>o){this.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NODE_PARAMETER,e,"Unexpected end of input while parsing parameter content.")),St.parent=e,s.push(St),h="";continue}St.endPosition=(G=e.relativePositionFromOffset(re+1,re+1))!=null?G:null,St.parent=e,St.blockPosition={start:(ce=e.relativeOffset(S,S))!=null?ce:null,end:(Oe=e.relativeOffset(w,w))!=null?Oe:null},St.namePosition={start:(te=e.relativeOffset(_,_))!=null?te:null,end:(oe=e.relativeOffset(C,C))!=null?oe:null},St.valuePosition={start:(Ce=e.relativeOffset(P+2,P+2))!=null?Ce:null,end:(fe=e.relativeOffset(Y,Y))!=null?fe:null},s.push(St),h="",S=-1,w=-1,_=-1,C=-1,P=-1,Y=-1;continue}if(u==!1&&(Qe==H.String_Terminator_DoubleQuote||Qe==H.String_Terminator_SingleQuote)&&re>l)break;d.push(Qe),S==-1&&(S=re),_==-1&&(_=re),d.length==1&&(y=re+1)}if(T!=null){let re=e;if(i.length>0){let Qe=i[i.length-1],Tt=e.content.indexOf(Qe);if(Tt>=0){let Lr=new pe;Lr.startPosition=e.relativeOffset(Tt-2,Tt-2),Lr.endPosition=e.relativeOffset(Tt+Qe.length,Tt+Qe.length),re=Lr}}this.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_END_OF_INPUT,re,"Unexpected string literal while parsing parameters."))}return s}}});function Bc(t){return t.length==0?null:t[0].startPosition}var tT=x(()=>{});var OE,Rd,wE=x(()=>{OE=We(Lu()),Rd=class{static regions(){return this.noParseRegions}static clear(){this.noParseRegions.clear()}static registerNoParseContent(e){let r=OE.Md5.hashStr(e);return this.noParseRegions.set(r,e),r}};Rd.noParseRegions=new Map});function rT(t,e){let r=new Set(t),n=new Set(e),i=new Set([...r].filter(s=>n.has(s)));return Array.from(i)}var LE=x(()=>{});var nT,kd,DE=x(()=>{Va();Li();Di();it();tT();Vc();wE();LE();bo();nT=class{constructor(){this.closingTagIndex=new Map;this.closingTagIndexCount=new Map;this.openTagIndexCount=new Map;this.closingTagNames=new Map;this.parentNode=null;this.stackCount=0;this.createdExecutionBranches=[];this.document=null}getClosingCandidates(e){var r,n;if((e instanceof ee||e instanceof Et)&&e.isClosingTag==!1){let i=(n=(r=e.name)==null?void 0:r.compound)!=null?n:"";return i=="if"?["if","elseif","else"]:i=="elseif"?["elseif","else","if"]:i=="else"?["if"]:[i]}return[]}buildCloseIndex(e){var r,n,i;e.forEach(s=>{var o,l,u,d,h,m,y,b,T,S;if(!(s instanceof qn)&&!((s instanceof ee||s instanceof Et)&&s.isSelfClosing)&&(s instanceof ee||s instanceof Et)&&s.isClosingTag){this.closingTagIndex.has(this.stackCount)==!1&&this.closingTagIndex.set(this.stackCount,new Map),this.closingTagIndexCount.has(this.stackCount)==!1&&this.closingTagIndexCount.set(this.stackCount,new Map);let w=(l=(o=s.name)==null?void 0:o.compound)!=null?l:"";((u=this.closingTagIndex.get(this.stackCount))==null?void 0:u.has(w))==!1&&((d=this.closingTagIndex.get(this.stackCount))==null||d.set(w,[]),(h=this.closingTagIndexCount.get(this.stackCount))==null||h.set(w,0)),(y=(m=this.closingTagIndex.get(this.stackCount))==null?void 0:m.get(w))==null||y.push(s);let _=(T=(b=this.closingTagIndexCount.get(this.stackCount))==null?void 0:b.get(w))!=null?T:0;(S=this.closingTagIndexCount.get(this.stackCount))==null||S.set(w,_+1)}}),this.closingTagNames.has(this.stackCount)==!1&&this.closingTagNames.set(this.stackCount,[]),this.closingTagIndex.has(this.stackCount)&&(this.closingTagNames.set(this.stackCount,Array.from((n=(r=this.closingTagIndex.get(this.stackCount))==null?void 0:r.keys())!=null?n:[])),(i=this.closingTagIndex.get(this.stackCount))==null||i.forEach((s,o)=>{var d,h,m,y,b,T,S;let l=s.length;if(l==0)return;let u=s[l-1];for(let w=0;w<l;w++){let _=e[w];if(_ instanceof ee||_ instanceof Et){if(_ instanceof qn)continue;if(_.index>=u.index)break;let C=(h=(d=_.name)==null?void 0:d.compound)!=null?h:"";if(_.isClosingTag==!1&&o==C&&!_.isSelfClosing){this.openTagIndexCount.has(this.stackCount)==!1&&this.openTagIndexCount.set(this.stackCount,new Map),((m=this.openTagIndexCount.get(this.stackCount))==null?void 0:m.has(o))==!1&&((y=this.openTagIndexCount.get(this.stackCount))==null||y.set(o,0));let P=(T=(b=this.openTagIndexCount.get(this.stackCount))==null?void 0:b.get(o))!=null?T:0;(S=this.openTagIndexCount.get(this.stackCount))==null||S.set(o,P+1)}}}}))}getScanForList(e){var r;if(e instanceof ee||e instanceof Et){let n=(r=e.name)==null?void 0:r.compound;if(n=="else")return["if"];if(n=="elseif")return["elseif","else","if"];if(e.isClosingTag==!1){let i=this.getClosingCandidates(e),s=this.closingTagNames.get(this.stackCount);return rT(i,s)}}return[]}canPossiblyClose(e){var r,n;if(e instanceof qn)return!1;if(e instanceof Et||e instanceof ee){if(e.isComment||e.isSelfClosing)return!1;let i=(n=(r=e.name)==null?void 0:r.compound)!=null?n:"";if(i=="else"||i=="elseif")return!0;if(e.isClosingTag==!1){let s=this.getClosingCandidates(e),o=this.closingTagNames.get(this.stackCount);return rT(s,o).length>0}}return!1}findClosingPair(e,r,n){var l,u,d,h;let i=r.runtimeNodes.length,s=e.length,o=0;for(let m=0;m<s;m++){let y=e[m];if(y instanceof ee||y instanceof Et)if(r.endPosition!=null&&y.startPosition!=null){if(r.endPosition.isBefore(y.startPosition)){if(y.isClosingTag&&y.isOpenedBy!=null||y.isSelfClosing)continue;let b=(u=(l=y.name)==null?void 0:l.compound)!=null?u:"";if(y.isClosingTag==!1){if(n.includes(b)){let T=(d=this.openTagIndexCount.get(this.stackCount))==null?void 0:d.get(b),S=(h=this.closingTagIndexCount.get(this.stackCount))==null?void 0:h.get(b);T!=S&&y.runtimeNodes.length>=i,o+=1}continue}if(n.includes(b)&&o>0){o-=1;continue}if(o==0&&n.includes(b)){y.isOpenedBy=r,r.isClosedBy=y;break}}}else continue}}associate(e,r){var s,o,l,u,d,h,m;this.document=r;let n=[{documentNodes:e,parent:null}],i=[];for(;n.length>0;){let y=n.pop();if(y==null)continue;let b=y.documentNodes;this.parentNode=y.parent,this.stackCount+=1,this.buildCloseIndex(b),b=Tn.pairConditionals(b),b.forEach(_=>{if((_ instanceof ee||_ instanceof Et)&&this.canPossiblyClose(_)){if(Tn.isConditionalStructure(_))return;let C=this.getScanForList(_);this.findClosingPair(b,_,C)}});let T=b.length;for(let _=0;_<T;_++){let C=b[_];if((C instanceof ee||C instanceof Et)&&C.isClosedBy!=null)for(let P=_+1;P<T;P++){let Y=b[P];if(Y.index>C.isClosedBy.index)break;if(Y.parent=C,C.children.push(Y),Y instanceof ee&&Y.index==C.index){Y.parent=C;break}}}b.forEach(_=>{if((_ instanceof ee||_ instanceof Et)&&_.children.length>0){let C=[];_.children.forEach(P=>{P.parent!=null&&P.parent.index==_.index&&(P.parent=_,C.push(P))}),n.push({documentNodes:C,parent:_})}});let S=[];b.forEach(_=>{this.parentNode==null?_.parent==null&&S.push(_):_.parent==this.parentNode&&S.push(_)}),S=this.reduceConditionals(S,r);let w=new Map;b.forEach(_=>{var C,P,Y,M;if((_ instanceof ee||_ instanceof Et)&&_.isClosedBy!=null&&this.document!=null){let Z=this.document.getText(((P=(C=_.endPosition)==null?void 0:C.index)!=null?P:0)+1,(M=(Y=_.isClosedBy.startPosition)==null?void 0:Y.index)!=null?M:0);_.runtimeContent=Z}});for(let _=0;_<S.length;_++){let C=S[_],P=(s=C.refId)!=null?s:"";if(w.set(P,1),(C instanceof ee||C instanceof Et)&&C.isComment==!1&&((o=C.name)==null?void 0:o.name)=="noparse"&&!(C instanceof Nr)&&C.isClosingTag==!1){if(C.isClosedBy==null){C.pushError(J.makeSyntaxError(R.TYPE_NO_PARSE_UNASSOCIATED,C,"Encountered noparse region without a closing tag. All noparse regions must be closed."));continue}let Y=C.content;this.document!=null&&(Y=this.document.getText(((u=(l=C.endPosition)==null?void 0:l.index)!=null?u:0)+1,(m=(h=(d=C.isClosedBy)==null?void 0:d.startPosition)==null?void 0:h.index)!=null?m:0));let M=new Nr,Z=C.getParser();Z!=null&&M.withParser(Z),C.copyBasicDetailsTo(M),M.name=new sn,M.name.name="noparse",M.name.compound="noparse",M.content=Rd.registerNoParseContent(Y),M.originalNode=C,M.isClosedBy=C.isClosedBy,M.parent=C.parent,S[_]=M}}if(this.parentNode!=null&&(this.parentNode instanceof Et||this.parentNode instanceof ee)&&(this.parentNode.children=this.cleanNodes(S),this.parentNode.parent!=null&&this.parentNode.parent instanceof ee)){let _=this.parentNode.parent.children,C=[];_.forEach(P=>{var Y;w.has((Y=P.refId)!=null?Y:"")==!1&&C.push(P)}),this.parentNode.parent.children=this.cleanNodes(C)}this.stackCount<=1&&(i=S)}return this.createdExecutionBranches.length>0&&this.createdExecutionBranches.forEach(y=>{y.head!=null&&(y.nodes=y.head.children)}),i}cleanNodes(e){let r=[],n=[];for(let i=0;i<e.length;i++){let s=e[i],o=s.refId;if(n.includes(o))break;r.push(s),n.push(o)}return r}findEndOfBranch(e,r,n){let i=[],s=n,o=null;for(let l=0;l<e.length;l++){let u=e[l];if((u instanceof ee||u instanceof Et)&&u.isOpenedBy!=null&&u.isOpenedBy==r){o=u;break}else i.push(u)}return{children:i,tail:o,offset:s}}reduceConditionals(e,r){var i,s,o,l,u,d,h,m,y,b,T,S;let n=[];for(let w=0;w<e.length;w++){let _=e[w];if((_ instanceof ee||_ instanceof Et)&&_.isComment==!1&&_.isClosingTag==!1&&_.isClosedBy!=null)if(((s=(i=_.name)==null?void 0:i.compound)!=null?s:"")=="if"){let P=new Mr;P.index=_.index,P.chain.push(_.index),P.fragment=_.fragment,P.fragmentPosition=_.fragmentPosition,P.containsAnyFragments=_.containsAnyFragments,P.containsChildStructures=_.containsChildStructures;let Y=(l=(o=_.startPosition)==null?void 0:o.offset)!=null?l:0,M=_.getFinalClosingTag(),Z=((d=(u=M.endPosition)==null?void 0:u.offset)!=null?d:0)+1;P.nodeContent=r.getText(Y,Z),this.parentNode!=null&&(P.parent=this.parentNode);let Q=null,G=!0,ce=0;for(;G;){if(ce+=1,ce>nT.ForceBreakLimit){G=!1;break}if(_ instanceof ee||_ instanceof Et){let Oe=this.findEndOfBranch(e.slice(w+1),_,w),te=new ih,oe=Oe.tail;te.head=_,te.tail=oe,te.nodes=this.cleanNodes(_.children);let Ce=((m=(h=_.endPosition)==null?void 0:h.offset)!=null?m:0)+1,fe=(T=(b=(y=_.isClosedBy)==null?void 0:y.startPosition)==null?void 0:b.offset)!=null?T:0,re=r.getText(Ce,fe);if(te.documentText=re,r.shouldParseChildDocument()&&(te.childDocument=Tr.childFromText(te.documentText,Bc(te.nodes))),oe==null&&(oe=te.head.isClosedBy),oe!=null&&oe.startPosition!=null&&(te.startPosition=oe.startPosition),oe!=null&&(te.index=oe.index),te.nodes.length>0){let Qe=te.nodes[te.nodes.length-1];Qe.endPosition!=null&&(te.endPosition=Qe.endPosition)}else oe!=null&&oe.endPosition!=null&&(te.endPosition=oe.endPosition);if(this.createdExecutionBranches.push(te),P.logicBranches.push(te),(oe==null?void 0:oe.isClosingTag)&&((S=oe.name)==null?void 0:S.compound)=="if"){Q=Oe.offset,G=!1;break}else oe!=null&&P.chain.push(oe.index),w=Oe.offset,oe instanceof ee&&(_=oe)}else G=!1}if(P.logicBranches.length>0){let Oe=P.logicBranches[0],te=P.logicBranches[P.logicBranches.length-1];Oe.startPosition!=null&&(P.startPosition=Oe.startPosition),te.endPosition!=null&&(P.endPosition=te.endPosition)}if(n.push(P),Q!=null&&Q==e.length)break}else n.push(_);else n.push(_)}return n}},kd=nT;kd.ForceBreakLimit=1e5});var iT,FE=x(()=>{Li();Di();it();Sr();iT=class{static associateRecursiveParent(e){var r,n;for(let i=0;i<e.length;i++){let s=e[i];if(s instanceof qn){let o="*recursive "+((r=s.name)==null?void 0:r.name);if(i-1<0){s.pushError(J.makeSyntaxError(R.TYPE_RECURSIVE_NODE_INVALID_POSITION,s,"Unpaired recursive node. All recursive nodes must have a parent node introducing them."));continue}let l=null;for(let u=i-1;u>=0;u-=1){let d=e[u];if(!(d instanceof Rt)&&d instanceof ee&&d.isClosedBy!=null){if(s.isNestedRecursive){if(d.content.trim()==((n=s.name)==null?void 0:n.name)){l=d;break}}else if(d.runtimeContent.includes(o)&&ie.substringCount(s.runtimeContent,"*recursive")==1){l=d;continue}else if(l!=null)break}}if(l==null)continue;s.isNestedRecursive?(l.hasRecursiveNode=!0,s.recursiveParent=l,l.recursiveReference=s):l.parent!=null?l.parent instanceof ee&&(l.parent.hasRecursiveNode=!0,l.parent.recursiveReference=s,s.recursiveParent=l.parent):(l.hasRecursiveNode=!0,s.recursiveParent=l,l.recursiveReference=s)}}}}});var Nl,ME=x(()=>{it();Nl=class{static getNearText(e){var n,i,s,o;if(e instanceof xe)return e.name;if(e instanceof er)return(i=(n=e.value)==null?void 0:n.toString())!=null?i:"";if(e instanceof Kt)return e.value;if(e instanceof hr)return e.name;if(e instanceof ur)return e.value;if(e instanceof Kn||e instanceof qi||e instanceof Un||e instanceof si||e instanceof ii||e instanceof Ir||e instanceof gi||e instanceof Xt||e instanceof vr||e instanceof ai||e instanceof yn||e instanceof Bi||e instanceof Vr||e instanceof Mi||e instanceof ci||e instanceof Nn||e instanceof oi||e instanceof bn||e instanceof li||e instanceof Vi||e instanceof hi||e instanceof fi||e instanceof ui||e instanceof is||e instanceof jn||e instanceof vn||e instanceof mi||e instanceof tn||e instanceof Gn||e instanceof xr||e instanceof Wn||e instanceof pi||e instanceof di||e instanceof ss||e instanceof Hn||e instanceof Ti||e instanceof cr||e instanceof lr||e instanceof Br||e instanceof Yt||e instanceof Ds||e instanceof qr||e instanceof Ui||e instanceof pr)return e.content;let r="";return e instanceof ee?e.originalNode!=null?r=e.originalNode.getContent():r=(o=(s=e.startPosition)==null?void 0:s.line.toString())!=null?o:"":e.originalAbstractNode!=null?r=e.originalAbstractNode.rawContent():r=e.rawContent(),r.length>15&&(r=r.substr(0,-15)),r}}});var vl,VE=x(()=>{vl=class{};vl.deferredCoreLibraries=["arr","array","str","string","method","math","sys","convert","scope","stopwatch","file","path","url","request","json","datetime"]});var Mt,BE=x(()=>{Mt=class{};Mt.ARR_PLUCK="pluck",Mt.ARR_TAKE="take",Mt.ARR_SKIP="skip",Mt.ARR_MAKE="arr",Mt.ARR_ORDERBY="orderby",Mt.ARR_GROUPBY="groupby",Mt.ARR_MERGE="merge",Mt.QUERY_WHERE="where",Mt.STRUCT_SWITCH="switch",Mt.BITWISE_AND="bwa",Mt.BITWISE_OR="bwo",Mt.BITWISE_XOR="bxor",Mt.BITWISE_NOT="bnot",Mt.BITWISE_SHIFT_LEFT="bsl",Mt.BITWISE_SHIFT_RIGHT="bsr",Mt.operators=["pluck","take","arr","skip","orderby","groupby","merge","where","switch","bwa","bwo","bxor","bsl","bsr"]});var Jt,qc=x(()=>{Li();Di();ME();Qg();it();VE();BE();Du();Sr();xi();Xg();Zg();Jt=class{constructor(){this.pathParser=new Ts;this.tokens=[];this.createdVariables=[];this.createdModifierChains=[];this.createdLanguageOperators=[];this.createdArrays=[];this.tracedAssignments=[];this.mergedVariablePaths=[];this.mergedComponents=new Map;this.modifierNameMapping=new Map;this.isRealModifierSeparator=new Map;this.isRoot=!0;this.retriggerNonVirtualGroupMembers=[]}hasModifierConstruct(e){return this.modifierNameMapping.has(e)}getModifierConstruct(e){return this.modifierNameMapping.get(e)}isActualModifierSeparator(e){return this.isRealModifierSeparator.has(e)}isMergedVariableComponent(e){return this.mergedComponents.has(e)}getMergedVariable(e){return this.mergedComponents.get(e)}getMergedVariablePaths(){return this.mergedVariablePaths}getCreatedModifierChains(){return this.createdModifierChains}getCreatedLangaugeOperators(){return this.createdLanguageOperators}getCreatedArrays(){return this.createdArrays}getCreatedVariables(){return this.createdVariables}getRuntimeAssignments(){return this.tracedAssignments}getAssignedVariables(){let e=[],r=[];for(let n=0;n<this.tracedAssignments.length;n++){let i=this.tracedAssignments[n];i.target instanceof xe&&r.includes(i.target.name)==!1&&(r.push(i.target.name),e.push(i.target))}return e}getAssignedVariableNames(){let e=[];for(let r=0;r<this.tracedAssignments.length;r++){let n=this.tracedAssignments[r];n.target instanceof xe&&e.includes(n.target.name)==!1&&e.push(n.target.name)}return e}reset(){this.tokens=[],this.createdModifierChains=[],this.createdLanguageOperators=[],this.createdArrays=[],this.createdModifierChains=[],this.createdLanguageOperators=[],this.tracedAssignments=[],this.createdArrays=[],this.mergedVariablePaths=[],this.mergedComponents.clear(),this.modifierNameMapping.clear()}parse(e){return this.tokens=e,this.tokens=this.combineVariablePaths(this.tokens),this.tokens=this.createLanguageOperators(this.tokens),this.tokens=this.createLogicalGroups(this.tokens),this.tokens=this.associateMethodCalls(this.tokens),this.tokens=this.createTupleLists(this.tokens),this.tokens=this.createLibraryInvocations(this.tokens),this.tokens=this.associateModifiers(this.tokens),this.tokens=this.createNullCoalescenceGroups(this.tokens),this.tokens=this.correctTypes(this.tokens),this.tokens=this.createTernaryGroups(this.tokens),this.tokens=this.applyOperationOrder(this.tokens),this.validateNeighboringOperators(this.tokens),this.tokens=this.createLogicGroupsToRemoveMethodInvocationAmbiguity(this.tokens),this.tokens=this.createLogicGroupsToResolveOperatorAmbiguity(this.tokens),this.validateNoDanglingLogicGroupEnds(this.tokens),this.isRoot&&(this.tokens=this.insertAutomaticStatementSeparators(this.tokens),this.retriggerNonVirtualGroupMembers.length>0&&this.retriggerNonVirtualGroupMembers.forEach(r=>{this.markAllNonVirtualAsListGroupMember(r)})),this.createSemanticGroups(this.tokens)}setIsRoot(e){return this.isRoot=e,this}validateNeighboringOperators(e){let r=e.length;for(let n=0;n<r;n++){let i=e[n];if(Jt.isOperatorType(i)){if(n+1>=r){i.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_OPERATOR,i,"Unexpected operator while parsing input text."));return}let s=e[n+1];if(Jt.isOperatorType(s)){s.pushError(J.makeSyntaxError(R.TYPE_OPERATOR_INVALID_ON_RIGHT,s,"Unexpected operator while parsing input text."));continue}}}}static isAssignmentOperator(e){return e instanceof ai||e instanceof oi||e instanceof vn||e instanceof li||e instanceof ci||e instanceof Bi}static isOperatorType(e){return e instanceof ai||e instanceof oi||e instanceof vn||e instanceof li||e instanceof ci||e instanceof Bi||e instanceof ss||e instanceof gi||e instanceof Gn||e instanceof Ir||e instanceof Wn||e instanceof qi||e instanceof Hn||e instanceof Ui||e instanceof yn||e instanceof bn||e instanceof Mi||e instanceof Vi||e instanceof Nn||e instanceof Vr||e instanceof tn||e instanceof jn||e instanceof is||e instanceof ui||e instanceof fi||e instanceof di||e instanceof pi||e instanceof hi||e instanceof mi}markAllNonVirtualAsListGroupMember(e){e.forEach(r=>{if(r instanceof et||r instanceof Yn||r instanceof os){r.start!=null&&r.start.isVirtual==!1&&(r.start.isListGroupMember=!0),r.end!=null&&r.end.isVirtual==!1&&(r.end.isListGroupMember=!0),r.scopeOperator!=null&&(r.scopeOperator.isListGroupMember=!0),r.nodes.forEach(n=>{this.markAllNonVirtualAsListGroupMember([n])});return}else r instanceof Zt&&(r.separatorToken!=null&&r.separatorToken.isVirtual==!1&&(r.separatorToken.isListGroupMember=!0),this.markAllNonVirtualAsListGroupMember(r.nodes));r.isVirtual==!1&&(r.isListGroupMember=!0),r.originalAbstractNode!=null&&r.originalAbstractNode!=r&&this.markAllNonVirtualAsListGroupMember([r.originalAbstractNode])})}markAllNonVirtualAsSwitch(e){e.forEach(r=>{if(r instanceof et||r instanceof Yn||r instanceof os){r.start!=null&&r.start.isVirtual==!1&&(r.start.isSwitchGroupMember=!0),r.end!=null&&r.end.isVirtual==!1&&(r.end.isSwitchGroupMember=!0),r.scopeOperator!=null&&(r.scopeOperator.isSwitchGroupMember=!0),r.nodes.forEach(n=>{this.markAllNonVirtualAsSwitch([n])});return}else r instanceof Zt&&(r.separatorToken!=null&&r.separatorToken.isVirtual==!1&&(r.separatorToken.isSwitchGroupMember=!0),this.markAllNonVirtualAsSwitch(r.nodes));r.isVirtual==!1&&(r.isSwitchGroupMember=!0),r.originalAbstractNode!=null&&r.originalAbstractNode!=r&&this.markAllNonVirtualAsSwitch([r.originalAbstractNode])})}validateNoDanglingLogicGroupEnds(e){e.forEach(r=>{r instanceof lr&&r.pushError(J.makeSyntaxError(R.TYPE_LOGIC_GROUP_NO_START,r,"Unexpected [T_LOGIC_END] while parsing input text."))})}isValidModifierValue(e){return e instanceof ur||e instanceof xe||e instanceof si||e instanceof ii||e instanceof Un||e instanceof er||e instanceof Kt}wrapNumberInVariable(e){var n,i,s,o;let r=new xe;return r.startPosition=e.startPosition,r.endPosition=e.endPosition,r.name=(i=(n=e.value)==null?void 0:n.toString())!=null?i:"",r.content=(o=(s=e.value)==null?void 0:s.toString())!=null?o:"",r.originalAbstractNode=e,r.refId=e.refId,r.modifierChain=e.modifierChain,r.index=e.index,this.createdVariables.push(r),r}wrapArithmeticModifier(e,r){let n=new hr;return n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.originalAbstractNode=e,n.content=r,n.name=r,n.index=e.index,n}combineVariablePaths(e){let r=[],n=e.length;for(let i=0;i<n;i++){let s=e[i],o=r.length;if(s instanceof Yt){if(o==0){s.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_BRANCH_SEPARATOR_FOR_VARCOMBINE,s,"Unexpected [T_BRANCH_SEPARATOR] while parsing input text."));continue}if(i+1>n){let d="";if(i>0){let h=e[i-1];d=Nl.getNearText(h)}s.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_PARSING_BRANCH_GROUP,s,'Unexpected end of input while parsing input text near "'+d+Nl.getNearText(s)+'".'));continue}let l=r[o-1],u=e[i+1];if(u instanceof er&&It.distance(l,u)==1&&(u=this.wrapNumberInVariable(u)),l instanceof xe&&u instanceof xe&&It.distance(l,u)==1){r.pop(),It.mergeVarContentRight(":",s,u),It.mergeVarRight(l,u),r.push(u),this.createdVariables.push(u),this.mergedVariablePaths.push(u),this.mergedComponents.set(s,u),this.mergedComponents.set(l,u),this.mergedComponents.set(u,u),i+=1;continue}else{r.push(s);continue}}else if(s instanceof Kt&&o>0){if(i+1>=n){r.push(s);continue}let l=r[o-1],u=e[i+1];if(l instanceof xe&&u instanceof xe&&It.distance(l,s)<=1&&It.distance(s,u)<=1){r.pop(),It.mergeVarContentLeft(s.sourceTerminator+s.value+s.sourceTerminator,s,l),It.mergeVarContentLeft(u.name,u,l),this.createdVariables.push(l),r.push(l),this.mergedVariablePaths.push(l),this.mergedComponents.set(s,l),this.mergedComponents.set(l,l),this.mergedComponents.set(u,l),i+=1;continue}else r.push(s)}else if(s instanceof Vr&&o>0){let l=r[o-1],u=e[i+1];if(l instanceof xe&&(u instanceof xe||u instanceof Wn)){let d=It.distance(l,s),h=It.distance(s,u);d<=1&&h<=1?(l.endPosition=u.endPosition,this.mergedComponents.set(s,l),this.mergedComponents.set(l,l),this.mergedComponents.set(u,l),i+=1):r.push(s)}else r.push(s)}else r.push(s)}return r.forEach(i=>{i instanceof xe&&(i.variableReference=this.pathParser.parse(i.name),i.mergeErrors(this.pathParser.getAntlersErrors()))}),r}convertVarNodeToOperator(e){let r=new gi;return r.content=e.name,r.startPosition=e.startPosition,r.endPosition=e.endPosition,r.originalAbstractNode=e,e.convertedToOperator=!0,this.createdLanguageOperators.push(r),r}convertOperatorToVarNode(e){let r=new xe;return r.startPosition=e.startPosition,r.endPosition=e.endPosition,r.content=e.content,r.name=e.content,r.originalAbstractNode=e,this.createdVariables.push(r),r}createLanguageOperators(e){let r=e.length;for(let n=0;n<r;n++){let i=e[n];if(i instanceof xe){if(i.name.includes(H.Punctuation_FullStop)){let s=i.name.split(H.Punctuation_FullStop);if(Mt.operators.includes(s[0])||vl.deferredCoreLibraries.includes(s[0])){e[n]=this.convertVarNodeToOperator(i);continue}}if(Mt.operators.includes(i.name)){e[n]=this.convertVarNodeToOperator(i);continue}}if(i instanceof gi){if(n+1>=r){e[n]=this.convertOperatorToVarNode(i);continue}if(e[n+1]instanceof vr){e[n]=this.convertOperatorToVarNode(i);continue}}}return e}createLogicalGroups(e){let r=[],n=e.length,i=[];for(let o=0;o<n;o++){let l=e[o];if(l instanceof Ir){let u=this.countTypeRight(e,o,Ir);if(i.length==0&&e.length==u){l.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_LOGIC_NEGATION_OPERATOR,l,"Unexpected [T_LOGIC_INVERSE] while parsing input text."));continue}if(o>0&&i.length>0){let m=i[i.length-1];if(m instanceof er||m instanceof lr||m instanceof et){if(m instanceof et&&m.start instanceof Ir){m.start.pushError(J.makeSyntaxError(R.TYPE_FACTORIAL_MATERIALIZED_BOOL_DETECTED,m.start,"[T_AOP_FACTORIAL] operand will always materialize boolean type."));continue}let y=new Ds;y.startPosition=l.startPosition,y.endPosition=l.endPosition,y.content="!".repeat(u),y.originalAbstractNode=l,y.repeat=u,i.push(y),u>0&&(o+=u-1);continue}}if(u%2==0){o+=u-1;continue}let d=e[o+u];if(d instanceof cr){let m=o+u+1;if(m>=n){d.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_NEGATION_OFFSET,d,"Unexpected end of input while parsing input text."));continue}let y=this.findLogicalGroupEnd(e[o+u],e.slice(m));if(y.found){let b=y.logicalGroup,T=new et;T.start=l,T.end=b,T.nodes.push(l),T.nodes.push(b),T.startPosition=l.startPosition,T.endPosition=b.endPosition,i.push(T),o+=y.skipCount+u}continue}let h=this.resolveValueRight(e,o);h.value!=null&&i.push(h.value),o+=h.negationCount}else i.push(l)}let s=i.length;for(let o=0;o<s;o++){let l=i[o];if(l instanceof cr){if(o+1>=s){l.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END_DUE_TO_NEGATION,l,"Unexpected end of input while parsing input text."));continue}let u=this.findLogicalGroupEnd(l,i.slice(o+1));u.found&&u.logicalGroup!=null&&r.push(u.logicalGroup),o+=u.skipCount}else if(l instanceof Ds){if(r.length==0){l.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_FACTORIAL_WHILE_CREATING_GROUPS,l,"Unexpected [T_AOP_FACTORIAL] while parsing input text."));continue}let u=r[r.length-1];if(!(u instanceof et)&&!(u instanceof er)){l.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_FACTORIAL_OPERAND,l,"Unexpected left operand encountered for [T_AOP_FACTORIAL] while parsing input text."));continue}u=r.pop();let d=new et;d.startPosition=u.startPosition,d.endPosition=l.endPosition,d.originalAbstractNode=l,d.nodes.push(u),d.nodes.push(l),r.push(d)}else r.push(l)}return r}makeArgGroup(e){let r=new Ao,n=e.length;for(let s=0;s<n;s++){let o=e[s];if(this.isOperand(o)==!1){o.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_TOKEN_WHILE_PARSING_METHOD,o,"Unexpected ["+se.getPrettyTypeName(o)+"] while parsing argument group."));continue}let l=null;if(s+1<n&&(l=e[s+1]),l==null||l instanceof Xt){r.args.push(e[s]),s+=1;continue}else if(l instanceof Yt){if(s+2>=n){o.pushError(J.makeSyntaxError(R.TYPE_ARG_UNEXPECTED_NAMED_ARGUMENT,o,"Unexpected end of input while parsing named argument."));continue}let u=e[s+2],d=new Vu;d.startPosition=o.startPosition,d.endPosition=u.endPosition,d.content=o.content+u.content,d.name=o,d.value=u,o instanceof xe||o.pushError(J.makeSyntaxError(R.TYPE_INVALID_NAMED_ARG_IDENTIFIER,o,"Invalid type ["+se.getPrettyTypeName(o)+"] supplied for named argument name.")),r.hasNamedArguments=!0,r.numberOfNamedArguments+=1,r.args.push(d),s+3<n&&e[s+3]instanceof Xt?s+=3:s+=2;continue}}let i=!1;return r.args.forEach(s=>{s instanceof Vu?i=!0:i&&s.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_UNNAMED_METHOD_ARGUMENT,s,"Unnamed arguments are not allowed to appear after a named argument."))}),r}cleanVariableForMethodInvocation(e){(e.name.startsWith(":")||e.name.startsWith("."))&&(e.name=e.name.substr(1),e.variableReference!=null&&(e.variableReference.originalContent=e.variableReference.originalContent.substr(1),e.variableReference.normalizedReference=e.variableReference.normalizedReference.substr(1)),e.startPosition!=null&&(e.startPosition.offset+=1,e.startPosition.char+=1))}reduceVariableReferenceForObjectAccessor(e){var s;let r=(s=e.variableReference)==null?void 0:s.pathParts.pop(),n=r.name,i=n.length+1;return e.name=e.name.substr(0,-i),e.variableReference!=null&&(e.variableReference.originalContent=e.variableReference.originalContent.substr(0,-i),e.variableReference.normalizedReference=e.variableReference.normalizedReference.substr(0,-i),e.variableReference.pathParts[e.variableReference.pathParts.length-1].isFinal=!0),e.endPosition!=null&&(e.endPosition.offset-=i,e.endPosition.char-=i),{accessor:n,accessorLen:i}}associateMethodCalls(e){var i,s;let r=[],n=e.length;for(let o=0;o<n;o++){let l=e[o],u=null,d=null;if(r.length>0&&(u=r[r.length-1]),o+1<n&&(d=e[o+1]),l instanceof xe&&d instanceof et&&u!=null&&(this.isProperMethodChainTargetStrict(u)||u instanceof Yt)){let h=d,m=[];h.nodes.length>0&&(h.nodes[0]instanceof Zt?m=h.nodes[0].nodes:m=h.nodes);let y=new pr;if(y.startPosition=l.startPosition,u instanceof Yt){let b=r.pop();y.startPosition=b.startPosition}this.cleanVariableForMethodInvocation(l),y.endPosition=h.endPosition,y.args=this.makeArgGroup(m),y.method=l,u.methodTarget=y,u instanceof xe&&u.mergeRefName.length>0&&(u.name=It.getUnrefName(u.mergeRefName)),r.push(y),o+=1;continue}else if(l instanceof et&&u instanceof xe&&u.variableReference!=null&&u.variableReference.pathParts.length>=2){let h=[];if(l.nodes.length>0&&(l.nodes[0]instanceof Zt?h=l.nodes[0].nodes:h=l.nodes),u.variableReference.pathParts[0]instanceof gn&&vl.deferredCoreLibraries.includes(u.variableReference.pathParts[0].name)){let S=r.pop(),w=new Fs;w.startPosition=S.startPosition,w.endPosition=l.endPosition,w.content=S.content,w.originalAbstractNode=l;let C=((i=S.variableReference)==null?void 0:i.pathParts.shift()).name,P=(s=S.variableReference)==null?void 0:s.implodePaths();w.libraryName=C,w.methodName=P,w.arguments=this.makeArgGroup(h),r.push(w),o+=1;continue}let m=this.reduceVariableReferenceForObjectAccessor(u),y=new pr;y.startPosition=l.startPosition,y.endPosition=l.endPosition,u.methodTarget=y,u instanceof xe&&u.mergeRefName.length>0&&(u.name=It.getUnrefName(u.mergeRefName)),l.start!=null&&(l.start.isPartOfMethodChain=!0),l.end!=null&&(l.end.isPartOfMethodChain=!0);let b=new xe;b.name=m.accessor,b.isPartOfMethodChain=!0;let T=this.makeArgGroup(h);if(y.startPosition!=null&&(y.startPosition.offset-=m.accessorLen,y.startPosition.char-=m.accessorLen),y.method=b,y.args=T,ie.isNumeric(u.name)){let S=r.pop();r.push(this.convertOperatorToVarNode(S))}r.push(y);continue}else if(l instanceof xe&&u instanceof pr){if(this.cleanVariableForMethodInvocation(l),o+1>n){l.pushError(J.makeSyntaxError(R.TYPE_METHOD_CALL_MISSING_ARG_GROUP,l,"Unexpected end of input while parsing method call."));continue}let h=e[o+1];if(!(h instanceof et)){l.pushError(J.makeSyntaxError(R.TYPE_INVALID_METHOD_CALL_ARG_GROUP,l,"Unexpected ["+se.getPrettyTypeName(h)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let m=h,y=[];m.nodes.length>0&&(m.nodes[0]instanceof Zt?y=m.nodes[0].nodes:y=m.nodes);let b=new pr;b.startPosition=l.startPosition,b.endPosition=m.endPosition,b.args=this.makeArgGroup(y),b.method=l,u.methodTarget=b,r.push(b),o+=1;continue}else if(l instanceof Yt&&u instanceof pr){if(o+1>n){l.pushError(J.makeSyntaxError(R.TYPE_METHOD_CALL_MISSING_METHOD,l,"Unexpected end of input while parsing method call."));continue}let h=e[o+1];if(o+2>n){l.pushError(J.makeSyntaxError(R.TYPE_METHOD_CALL_MISSING_ARG_GROUP,l,"Unexpected end of input while parsing method call."));continue}let m=e[o+2];if(!(m instanceof et)){l.pushError(J.makeSyntaxError(R.TYPE_INVALID_METHOD_CALL_ARG_GROUP,l,"Unexpected ["+se.getPrettyTypeName(m)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let y=m,b=[];y.nodes.length>0&&(y.nodes[0]instanceof Zt?b=y.nodes[0].nodes:b=y.nodes);let T=new pr;T.startPosition=l.startPosition,T.endPosition=m.endPosition,T.args=this.makeArgGroup(b),T.method=h,u.methodTarget=T,r.push(T),o+=2;continue}else if(l instanceof pr){if(o+1>n){l.pushError(J.makeSyntaxError(R.TYPE_METHOD_CALL_MISSING_METHOD,l,"Unexpected end of input while parsing method call."));continue}let h=e[o+1];if(o+2>n){l.pushError(J.makeSyntaxError(R.TYPE_INVALID_METHOD_CALL_ARG_GROUP,l,"Unexpected end of input while parsing method call."));continue}let m=e[o+2];if(!(m instanceof et)){l.pushError(J.makeSyntaxError(R.TYPE_INVALID_METHOD_CALL_ARG_GROUP,l,"Unexpected ["+se.getPrettyTypeName(m)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let y=m,b=[];y.nodes.length>0&&(y.nodes[0]instanceof Zt?b=y.nodes[0].nodes:b=y.nodes);let T=this.makeArgGroup(b);if(u instanceof xe&&vl.deferredCoreLibraries.includes(u.name)){let S=r.pop(),w=new Fs;w.startPosition=S.startPosition,w.endPosition=y.endPosition,w.libraryName=S.name,w.methodName=h.name,w.content=w.libraryName+"->"+w.methodName,w.arguments=T,u.libraryTarget=w,r.push(w),o+=2;continue}l.method=h,l.args=T,r.length>0&&(r[r.length-1].methodTarget=l),o+=2,r.push(l);continue}else r.push(l)}return r}convertVariableToStringNode(e){let r=new Kt;return r.content=e.name,r.value=e.name,r.originalAbstractNode=e,r.startPosition=e.startPosition,r.endPosition=e.endPosition,r.index=e.index,r}createTupleLists(e){let r=e.length,n=[];for(let i=0;i<r;i++){let s=e[i];if(s instanceof Kn){if(s.isListGroupMember=!0,i+1>=r){s.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_PARSING_TUPLE_LIST,s,"Unexpected end of input while parsing tuple list."));continue}let o=e[i+1];if(!(o instanceof et)){o.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_TYPE_FOR_TUPLE_LIST,o,"Unexpected ["+se.getPrettyTypeName(o)+"] while parsing tuple list."));continue}let l=o;if(this.markAllNonVirtualAsListGroupMember([l]),this.retriggerNonVirtualGroupMembers.push([l]),l.nodes.length==0){l.pushError(J.makeSyntaxError(R.TYPE_MISSING_BODY_TUPLE_LIST,l,"Missing tuple list body while parsing tuple list."));continue}let d=l.nodes.shift(),h=d.nodes.length,m=[];for(let T=0;T<h;T++){let S=d.nodes[T];if(!(S instanceof Xt)){let w=!1;if(S instanceof xe&&(S.variableReference==null&&(w=!0),S.variableReference!=null&&S.variableReference.pathParts.length>1&&(w=!0),S.name.trim().length==0&&(w=!0)),w||!(S instanceof xe)){l.pushError(J.makeSyntaxError(R.TYPE_INVALID_TUPLE_LIST_NAME_TYPE,l,"Invalid ["+se.getPrettyTypeName(S)+"] name type found while parsing tuple list."));continue}let _=S;m.push(this.convertVariableToStringNode(_))}}let y=m.length;if(y==0){l.pushError(J.makeSyntaxError(R.TYPE_INVALID_MANIFESTED_NAME_GROUP,l,"Invalid Name expression produced an invalid name group while parsing tuple list."));continue}let b=new as;this.createdArrays.push(b),b.startPosition=s.startPosition,b.endPosition=s.endPosition,l.nodes.forEach(T=>{if(!(T instanceof Zt)){T.pushError(J.makeSyntaxError(R.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE_GROUP,T,"Invalid ["+se.getPrettyTypeName(T)+"] name type found while parsing tuple list value expression."));return}let S=T,w=new as;this.createdArrays.push(w),w.startPosition=S.startPosition;let _=[];for(let C=0;C<h;C++){let P=S.nodes[C];if(typeof P=="undefined"||P==null)break;if(!(P instanceof Xt)){if(this.isOperand(P)==!1){P.pushError(J.makeSyntaxError(R.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE,P,"Unexpected ["+se.getPrettyTypeName(P)+"]  while parsing tuple list value."));continue}_.push(P)}}for(let C=0;C<y&&!(C>_.length);C++){let P=_[C],Y=new oc;Y.startPosition=P.startPosition,Y.endPosition=P.endPosition,Y.name=m[C],Y.value=P,w.nodes.push(Y),b.endPosition=P.endPosition,w.endPosition=P.endPosition}b.nodes.push(w)}),n.push(b),i+=1;continue}else n.push(s)}return e}makeOrderGroup(e){let r=[],n=e.length,i=0;for(let s=0;s<n;s++){let o=e[s],l=null;if(s+1<n&&(l=e[s+1]),s>0&&(l==null||l instanceof Xt)){i+=1;let u=new ic;u.order=i,u.name=e[s-1],u.directionNode=o,this.isOperand(u.name)==!1&&u.name.pushError(J.makeSyntaxError(R.TYPE_INVALID_ORDER_BY_NAME_VALUE,u.name,"Invalid value or expression supplied for order by name.")),this.isOperand(u.directionNode)==!1&&u.directionNode.pushError(J.makeSyntaxError(R.TYPE_INVALID_ORDER_BY_SORT_VALUE,u.directionNode,"Invalid value or expression supplied for order by direction.")),u.startPosition=u.name.startPosition,u.endPosition=u.directionNode.endPosition,r.push(u),s+=1;continue}}return r}getValues(e){let r=new Po,n=e.length,i=[];for(let s=0;s<n;s++){let o=e[s],l=null;if(s+1<n&&(l=e[s+1]),l==null||l instanceof Xt){i.push(o),s+=1;continue}}return r.values=i,r}createLibraryInvocations(e){let r=[],n=e.length;for(let i=0;i<n;i++){let s=e[i];if(s instanceof gi)if(s.content.includes(".")){let o=s.content.split("."),l=o.shift(),u=o.join("."),d=new Fs;if(d.startPosition=s.startPosition,d.endPosition=s.endPosition,d.content=s.content,d.libraryName=l,d.methodName=u,d.originalAbstractNode=s,i+1>=n){s.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_ARG_GROUP,s,"Unexpected end of input while parsing argument group."));continue}if(!(e[i+1]instanceof et)){s.pushError(J.makeSyntaxError(R.TYPE_EXPECTING_ARGUMENT_GROUP,s,"Unexpected token while parsing method call. Expecting [T_ARG_SEPARATOR] got ["+se.getPrettyTypeName(s)+"]."));continue}let h=e[i+1],m=null;if(h.nodes.length>0){let y=h.nodes[0];m=this.makeArgGroup(y.nodes)}m==null&&(m=new Ao,m.startPosition=h.startPosition,m.endPosition=h.endPosition,m.originalAbstractNode=h),d.arguments=m,r.push(d),i+=1;continue}else if(s.content==Mt.ARR_ORDERBY){if(i+1>=n){s.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_PARSING_ORDER_GROUP,s,"Unexpected end of input while parsing order group."));continue}let o=e[i+1];if(!(o instanceof et)){o.pushError(J.makeSyntaxError(R.TYPE_EXPECTING_ORDER_GROUP_FOR_ORDER_BY_OPERAND,o,"Unexpected ["+se.getPrettyTypeName(o)+"] while parsing order group."));continue}let u=o.nodes;u[0]instanceof Zt&&(u=u[0].nodes);let d=this.makeOrderGroup(u);d.length==0&&s.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_EMPTY_DIRECTION_GROUP,s,"Unexpected empty [T_DIRECTION_GROUP]. Must have at least one order clause, and each property must have a direction specified."));let h=new Pa;if(h.orderClauses=d,d.length>0){d[0].directionNode!=null&&(h.startPosition=d[0].directionNode.startPosition);let m=d[d.length-1].directionNode;m!=null&&(h.endPosition=m.endPosition)}r.push(s),r.push(h),i+=1;continue}else if(s.content==Mt.ARR_GROUPBY){if(i+1>=n){s.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_GROUP_BY,s,"Unexpected end of input while parsing group by clause."));continue}let o=e[i+1];if(o instanceof os||o instanceof Yn){o.pushError(J.makeSyntaxError(R.TYPE_GROUP_BY_SCOPED_GROUP_MUST_BE_ENCLOSED,o,"Type ["+se.getPrettyTypeName(o)+"] must be enclosed with parenthesis to be used with groupby."));continue}if(!(o instanceof et)){o.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_TOKEN_FOR_GROUP_BY,o,"Unexpected ["+se.getPrettyTypeName(o)+"] while parsing group by."));continue}let u=o.nodes;u[0]instanceof Zt&&(u=u[0].nodes);let d=this.getValues(u);if(r.push(s),r.push(d),i+2<n&&i+3<n){let h=e[i+2],m=e[i+3];if(It.isVariableMatching(h,gt.ScopeAs))if(m instanceof Kt){d.isNamedNode=!0,d.parsedName=m,i+=3;continue}else m.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_GROUP_BY_AS_ALIAS_TYPE,m,"Expecting [T_STRING] for group by collection alias; got ["+se.getPrettyTypeName(m)+"]."))}i+=1;continue}else if(s.content==Mt.STRUCT_SWITCH){if(i+1>=n){s.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SWITCH_GROUP,s,"Unexpected end of input while parsing [T_SWITCH_GROUP]."));continue}let o=e[i+1];if(!(o instanceof Yn)){o.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_TOKEN_FOR_SWITCH_GROUP,o,"Unexpected ["+se.getPrettyTypeName(o)+"] while parsing [T_SWITCH_GROUP]."));continue}let l=o;if(this.markAllNonVirtualAsSwitch([o]),l.scope==null||!(l.scope instanceof et)){l.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_SWITCH_START_VALUE,l,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let u=l.scope;if(u.nodes.length==0||!(u.nodes[0]instanceof Zt)){l.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,l,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let d=u.nodes[0];if(this.markAllNonVirtualAsSwitch([u]),d.nodes.length==0||!(d.nodes[0]instanceof et)){s.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}this.markAllNonVirtualAsSwitch([s]),this.markAllNonVirtualAsSwitch(d.nodes);let h=d.nodes;if(l.nodes.length==0&&s.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP].")),!(u.nodes[0]instanceof Zt)){s.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let y=u.nodes[0];this.markAllNonVirtualAsSwitch(y.nodes);let b=y.nodes,T=new Ca,S=new et;S.nodes=h,S.startPosition=S.nodes[0].startPosition,S.endPosition=S.nodes[S.nodes.length-1].endPosition;let w=new Co;w.condition=S;let _=new et;_.nodes.push(b.shift()),_.startPosition=_.nodes[0].startPosition,_.endPosition=_.nodes[_.nodes.length-1].endPosition,w.expression=_,w.startPosition=w.condition.startPosition,w.endPosition=w.expression.nodes[w.expression.nodes.length-1].endPosition,b.shift(),T.cases.push(w);let C=b.length;if(C>0){if(!(b[0]instanceof et)){s.pushError(J.makeSyntaxError(R.TYPE_PARSER_INVALID_SWITCH_TOKEN,s,"Invalid ["+se.getPrettyTypeName(b[0])+"] while parsing case statement."));continue}for(let P=0;P<C;P++){let Y=b[P],M=null;if(Y instanceof Xt){Y.isSwitchGroupMember=!0;continue}if(P+1<C&&(M=b[P+1]),M instanceof qr){M.isSwitchGroupMember=!0;let Z=new Co;Z.condition=Y,this.markAllNonVirtualAsSwitch([Z.condition]);let Q=new et;if(Q.nodes.push(b[P+2]),Q.startPosition=Q.nodes[0].startPosition,Q.endPosition=Q.nodes[Q.nodes.length-1].endPosition,Z.expression=Q,this.markAllNonVirtualAsSwitch([Q]),Z.startPosition=Z.condition.startPosition,Z.endPosition=Z.expression.nodes[Z.expression.nodes.length-1].endPosition,T.cases.push(Z),P+3<C&&!(b[P+3]instanceof Xt)){b[P+3].pushError(J.makeSyntaxError(R.TYPE_PARSER_INVALID_SWITCH_TOKEN,b[P+3],"Invalid ["+se.getPrettyTypeName(b[P+3])+"] while parsing case statement; expecting [T_ARG_SEPARATOR]."));continue}b[P+3].isSwitchGroupMember=!0,P+=2;continue}}}r.push(new Un),r.push(s),r.push(T),i+=1;continue}else if(s.content==Mt.ARR_MAKE){if(i+1>=n){s.pushError(J.makeSyntaxError(R.TYPE_ARR_MAKE_MISSING_TARGET,s,"Missing target variable for arr operator."));continue}let o=e[i+1];if(!(o instanceof et)){o.pushError(J.makeSyntaxError(R.TYPE_ARR_MAKE_UNEXPECTED_TYPE,o,"Unexpected ["+se.getPrettyTypeName(o)+"] while parsing array."));continue}let l=o instanceof Yn,u=o,d=u.nodes;if(d[0]instanceof Zt&&(d=d[0].nodes),l){let b=o;d.unshift(new qr),d.unshift(b.scope)}let h=this.getArrayValues(d),m=new as;m.startPosition=s.startPosition;let y=h.values.length;y>0?m.endPosition=h.values[y-1].endPosition:m.endPosition=s.endPosition,u.end!=null&&(m.endPosition=u.end.endPosition),m.nodes=h.values,this.createdArrays.push(m),r.push(m),i+=1}else r.push(s);else r.push(s)}return r}getArrayValues(e){let r=new Po,n=e.length,i=[];for(let s=0;s<n;s++){let o=e[s];if(o instanceof Xt){o.pushError(J.makeSyntaxError(R.TYPE_ARR_UNEXPECT_ARG_SEPARATOR,o,"Unexpected [T_ARG_SEPARATOR] while parsing array."));continue}if(o instanceof qr){if(s==0){o.pushError(J.makeSyntaxError(R.TYPE_ARR_KEY_PAIR_MISSING_KEY,o,"Missing key for key/value pair while parsing array."));continue}else if(e[s-1]instanceof Xt){o.pushError(J.makeSyntaxError(R.TYPE_ARR_KEY_PAIR_MISSING_KEY,o,"Missing key for key/value pair while parsing array."));continue}}let l=null;if(s+1<n&&(l=e[s+1]),l instanceof qr){if(s+2>=n){l.pushError(J.makeSyntaxError(R.TYPE_ARR_MAKE_MISSING_ARR_KEY_PAIR_VALUE,l,"Missing key/pair value while parsing array."));continue}let u=e[s+2],d=new oc;if(this.isValidArrayKeyNode(o)==!1){o.pushError(J.makeSyntaxError(R.TYPE_ARR_KEY_PAIR_INVALID_KEY_TYPE,o,"Invalid ["+se.getPrettyTypeName(o)+"] type for key/value key."));continue}d.name=o,d.value=u,d.startPosition=o.startPosition,d.endPosition=u.endPosition,i.push(d),s+=3;continue}if(l==null||l instanceof Xt){let u=new oc;u.value=o,u.startPosition=o.startPosition,u.endPosition=o.endPosition,i.push(u),s+=1;continue}}return r.values=i,r}isValidArrayKeyNode(e){return e instanceof er||e instanceof Kt}associateModifiers(e){let r=[],n=e.length,i=null;for(let s=0;s<n;s++){let o=e[s];if(o instanceof xr){let l=r.length;if(l==0){o.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_MODIFIER_SEPARATOR,o,"Unexpected [T_MODIFIER_SEPARATOR] while parsing input text."));continue}if(this.isRealModifierSeparator.set(o,!0),i=r[l-1],i.modifierChain==null&&(i.modifierChain=new nc,i.modifierChain.modifierTarget=i,this.createdModifierChains.push(i.modifierChain)),s+1>=n){o.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_DETAILS,o,"Unexpected end of input while preparing to gather modifier details."));continue}let u=this.scanToEndOfModifier(e.slice(s+1)),d=u.length;if(d>1&&u[1]instanceof Yt){this.isRealModifierSeparator.set(u[1],!0);let m=u[0];m instanceof yn?u[0]=this.wrapArithmeticModifier(m,"add"):m instanceof Vr?u[0]=this.wrapArithmeticModifier(m,"subtract"):m instanceof bn?u[0]=this.wrapArithmeticModifier(m,"divide"):m instanceof Nn?u[0]=this.wrapArithmeticModifier(m,"multiply"):m instanceof Vi&&(u[0]=this.wrapArithmeticModifier(m,"mod"))}if(d==0){o.pushError(J.makeSyntaxError(R.TYPE_UNSET_MODIFIER_DETAILS,o,"Invalid or missing modifier details."));continue}if(!(u[0]instanceof hr)){o.pushError(J.makeSyntaxError(R.TYPE_MODIFIER_NAME_NOT_START_OF_DETAILS,o,"Invalid ["+se.getPrettyTypeName(u[0])+"]; expecting [T_MODIFIER_NAME]"));continue}let h=this.createModifier(u);h.nameNode!=null&&this.modifierNameMapping.set(h.nameNode,h),s+=d,i.modifierChain.modifierChain.push(h),i.modifierChain.updateValues();continue}else r.push(o)}return r}createNullCoalescenceGroups(e){let r=[],n=e.length;for(let i=0;i<n;i++){let s=e[i];if(s instanceof Hn){let o=r.pop();if(i+1>=n){s.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NULL_COALESCENCE_GROUP,s,"Unexpected end of input while parsing input text."));continue}let l=e[i+1],u=new sc;u.left=o,u.right=l,r.push(u),i+=1;continue}else r.push(s)}return r}isOperand(e){return e instanceof xe||e instanceof et||e instanceof Kt||e instanceof er||e instanceof ii||e instanceof Un||e instanceof si||e instanceof Fs||e instanceof Pa||e instanceof Po||e instanceof Ca||e instanceof as||e instanceof Kn}isProperMethodChainTargetStrict(e){return e instanceof et||e instanceof Kt||e instanceof er||e instanceof ii||e instanceof Un||e instanceof si||e instanceof Fs||e instanceof Pa||e instanceof Po||e instanceof Ca||e instanceof as}assertOperandRight(e,r){if(r+1>e.length-1)return e[r].pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_END_OF_INPUT,e[r],"Unexpected end of input; expecting operand for operator "+se.getPrettyTypeName(e[r])+' near "'+Nl.getNearText(e[r])+'".')),!1;let n=e[r+1];return this.isOperand(n)?!0:(n.pushError(J.makeSyntaxError(R.TYPE_EXPECTING_OPERAND,e[r],"Expecting operand, found "+se.getPrettyTypeName(n)+' near "'+Nl.getNearText(e[r])+'".')),!1)}resolveValueRight(e,r){let n=null,i=0,s=null;if(e.length>0){let o=!0;for(;o;){let l=e[r];if(l instanceof Ir){s=l,i+=1,r+=1,o=!1;continue}else if(this.isOperand(l)){n=l,o=!1;break}else{o=!1;break}}}if(i%2!=0){let o=new et;return o.nodes=[],s!=null&&n!=null&&(o.nodes.push(s),o.nodes.push(n)),{value:o,negationCount:i}}return{value:n,negationCount:i}}correctTypes(e){let r=[];return e.forEach(n=>{if(n instanceof Br){let i=new Yt;i.startPosition=n.startPosition,i.endPosition=n.endPosition,i.originalAbstractNode=n,r.push(i)}else if(n instanceof ur){let i=new xe;i.name=n.value,i.startPosition=n.startPosition,i.endPosition=n.endPosition,i.modifierChain=n.modifierChain,i.originalAbstractNode=n,this.createdVariables.push(i),r.push(i)}else r.push(n)}),r}createTernaryGroups(e){var i,s,o,l;let r=[],n=e.length;for(let u=0;u<n;u++){let d=e[u];if(d instanceof Ti){let h=this.seek(Yt,u+1);if(((i=h.node)==null?void 0:i.originalAbstractNode)!=null&&h.node.originalAbstractNode instanceof Br&&(h.node.originalAbstractNode.isTenaryBranchSeparator=!0),h.found==!1){d.pushError(J.makeSyntaxError(R.TYPE_TERNARY_EXPECTING_BRANCH_SEPARATOR,d,"Unexpected end of input; expecting [T_BRANCH_SEPARATOR]."));continue}let m=this.collectUntil(r);r=m.tokens;let y=m.collectedTokens[0],b=(s=h.foundAt)!=null?s:0;if(b>=n){d.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP,d,"Unexpected end of input while parsing ternary group."));continue}let T=e.slice(u+1,b);if(T.length>1||T.length==0){d.pushError(J.makeSyntaxError(R.TYPE_TERNARY_UNEXPECTED_EXPRESSION_LENGTH,d,"Unexpected number of operations within ternary truth branch."));continue}let S=T[0],w=((o=h.foundAt)!=null?o:0)+1;if(w>=n){d.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP_FALSE_BRANCH,d,"Unexpected end of input while parsing ternary false execution branch."));continue}let _=e[w],C=new ac;C.head=y,C.truthBranch=S,C.falseBranch=_,r.push(C),u=((l=h.foundAt)!=null?l:0)+1;continue}else r.push(d)}return r}groupNodesByType(e,r){let n=[],i=e.length;for(let s=0;s<i;s++){let o=e[s];if(s>0&&o instanceof r){let l=[],u=n.pop();if(l.push(u),!this.assertOperandRight(e,s))continue;if(s+1>=i){o.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS,o,"Unexpected end of input while parsing input text."));continue}let d=e[s+1];typeof d!="undefined"&&(d.isVirtualGroupMember=!0),typeof u!="undefined"&&(u.isVirtualGroupMember=!0),o.isVirtualGroupMember=!0;let h=new et;h.nodes=l,h.nodes.push(o),h.nodes.push(d),s+=1,n.push(h);continue}else n.push(o)}return n}flagNodeAsOperatorResolve(e){if(e instanceof et){if(e.nodes.length==0)return;this.flagNodeAsOperatorResolve(e.nodes[e.nodes.length-1])}e.isVirtualGroupOperatorResolve=!0,e.next instanceof vr||(e.producesVirtualStatementTerminator=!0)}groupNodesByOperatorType(e){let r=[],n=e.length;for(let i=0;i<n;i++){let s=e[i];if(i>0&&Jt.isOperatorType(s)){let o=[],l=r.pop();if(o.push(l),!this.assertOperandRight(e,i))continue;if(i+1>=n){s.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS,s,"Unexpected end of input while parsing input text."));continue}let u=e[i+1];this.flagNodeAsOperatorResolve(u),Jt.isAssignmentOperator(s)&&this.tracedAssignments.push(new uh(l,u,s)),typeof l!="undefined"&&(l.isVirtualGroupMember=!0),typeof u!="undefined"&&(u.isVirtualGroupMember=!0),s.isVirtualGroupMember=!0;let d=new et;d.nodes=o,d.nodes.push(s),d.nodes.push(u),i+=1,r.push(d);continue}else r.push(s)}return r}applyOperationOrder(e){return e=this.groupNodesByType(e,Mi),e=this.groupNodesByType(e,Nn),e=this.groupNodesByType(e,bn),e=this.groupNodesByType(e,yn),e=this.groupNodesByType(e,Vr),e}createLogicGroupsToRemoveMethodInvocationAmbiguity(e){let r=[],n=e.length,i=n-1;for(let s=0;s<n;s++){let o=e[s];if(o instanceof pr){let l=r.pop(),u=new et;if(u.startPosition=l.startPosition,typeof l!="undefined"&&(l.isVirtualGroupMember=!0),typeof o!="undefined"&&(o.isVirtualGroupMember=!0),u.nodes.push(l),u.nodes.push(o),s!=i)for(let d=s+1;d<n;d++)if(e[d]instanceof pr){if(typeof e[d]=="undefined")continue;if(e[d].isVirtualGroupMember=!0,u.nodes.push(e[d]),d==i){d+=1;break}}else{if(d==i){d+=1;break}s=d-1;break}u.endPosition=u.nodes[u.nodes.length-1].endPosition,r.push(u)}else r.push(o)}return r}countTypeRight(e,r,n){let i=0;for(let s=r;s<e.length&&e[s]instanceof n;s++)i+=1;return i}createLogicGroupsToResolveOperatorAmbiguity(e){return e=this.groupNodesByType(e,is),e=this.groupNodesByType(e,jn),e=this.groupNodesByType(e,fi),e=this.groupNodesByType(e,ui),e=this.groupNodesByType(e,mi),e=this.groupNodesByType(e,tn),e=this.groupNodesByType(e,pi),e=this.groupNodesByType(e,di),e=this.groupNodesByType(e,hi),e=this.groupNodesByOperatorType(e),e}createModifier(e){let r=e.shift(),n=[],i=e.length;if(e.length>0&&e[0]instanceof et){let o=this.unpack(e[0].nodes),l=this.makeArgGroup(o),u=new Io;if(u.nameNode=r,u.methodStyleArguments=l,e.length>1)for(let d=1;d<i;d++)e[d].pushError(J.makeSyntaxError(R.TYPE_MODIFIER_UNEXPECTED_TOKEN_METHOD_SYNTAX,e[d],"Unexpected ["+se.getPrettyTypeName(e[d])+"] while parsing modifier argument group. Expecting [T_MODIFIER_SEPARATOR] or end of current expression."));return u}for(let o=0;o<i;o++)if(e[o]instanceof Br||e[o]instanceof Yt){if(o+1>=i)return e[o].pushError(J.makeSyntaxError(R.TYPE_MODIFIER_UNEXPECTED_END_OF_VALUE_LIST,e[o],"Unexpected end of modifier value list while parsing modifier.")),e;let l=e[o+1];if(this.isValidModifierValue(l)){if(l instanceof xe)if(l.variableReference!=null&&l.variableReference.pathParts.length>0)l.variableReference.pathParts.forEach(u=>{if(u instanceof gn){let d=new ur;d.startPosition=u.startPosition,d.endPosition=u.endPosition,d.value=u.name,d.name=u.name,d.originalAbstractNode=u,d.endPosition==null&&d.startPosition==null&&(d.startPosition=l.startPosition,d.endPosition=l.endPosition),n.push(d)}});else{let u=new ur;u.startPosition=l.startPosition,u.endPosition=l.endPosition,u.value=l.name,u.name=l.name,u.originalAbstractNode=l,n.push(u)}else n.push(l);o+=1;continue}else return l.pushError(J.makeSyntaxError(R.TYPE_MODIFIER_UNEXPECTED_VALUE,l,"Unexpected ["+se.getPrettyTypeName(l)+"] while parsing modifier value.")),e}let s=new Io;return s.nameNode=r,s.valueNodes=n,s.startPosition=s.nameNode.startPosition,s.valueNodes.length>0?s.endPosition=s.valueNodes[s.valueNodes.length-1].endPosition:s.endPosition=s.nameNode.endPosition,s}scanToEndOfModifier(e){let r=[],n=e.length;for(let i=0;i<n;i++){let s=e[i];if(s instanceof Br){let o=r.length;if(o==0){s.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_VALUE,s,"Unexpected end of input while parsing modifier value."));continue}this.isRealModifierSeparator.set(s,!0);let l=r[o-1];if(It.distance(l,s)>1)break}if(s instanceof Kt||s instanceof xe||s instanceof er){let o=r.length;if(o>0&&r[o-1]instanceof et)break}if(s instanceof xr||s instanceof lr||s instanceof cr||s instanceof tn||s instanceof jn||s instanceof is||s instanceof ui||s instanceof fi||s instanceof di||s instanceof pi||s instanceof hi||s instanceof mi||s instanceof Gn||s instanceof Wn||s instanceof qi||s instanceof Hn||s instanceof Ui||s instanceof gi||s instanceof Fs||s instanceof pr||s instanceof Ir)break;r.push(s)}return r}static isAssignmentOperatorNode(e){return e instanceof ai||e instanceof oi||e instanceof vn||e instanceof li||e instanceof ci||e instanceof Vr}insertAutomaticStatementSeparators(e){let r=e.length,n=[];for(let i=0;i<r;i++){let s=e[i];if(Jt.isAssignmentOperatorNode(s))if(i+2<r)if(e[i+2]instanceof vr){n.push(s),n.push(e[i+1]),n.push(e[i+2]),i+=2;continue}else{n.push(s),n.push(e[i+1]),n.push(new vr),i+=1;continue}else{n.push(s),n.push(e[i+1]),n.push(new vr);break}else n.push(s)}return e}createSemanticGroups(e){let r=[],n=e.length,i=[];for(let s=0;s<n;s++)if(e[s]instanceof vr){let o=new Zt;o.nodes=i,o.separatorToken=e[s],r.push(o),i=[];continue}else if(i.push(e[s]),s+1>=n){let o=new Zt;o.nodes=i,r.push(o);break}return r}findLogicalGroupEnd(e,r){let n=[],i=r.length,s=null,o=0,l=0;for(l;l<i;l++){let h=r[l];if(o+=1,h instanceof lr){s=h;break}else if(h instanceof cr){if(l+1>=i)return h.pushError(J.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END,h,"Unexpected end of input while parsing input text.")),{found:!1,logicalGroup:null,skipCount:o};let m=this.findLogicalGroupEnd(h,r.slice(l+1));if(m.found){m.logicalGroup!=null&&n.push(m.logicalGroup),o+=m.skipCount,l+=m.skipCount;continue}else continue}else n.push(h)}if(s==null)return e.pushError(J.makeSyntaxError(R.TYPE_LOGIC_GROUP_NO_END,e,"Unexpected end of input while parsing logic group.")),{found:!1,logicalGroup:null,skipCount:o};let u=new Jt;u.setIsRoot(!1);let d=new et;if(n.length>=2&&n[1]instanceof qr){if(d=new Yn,d.scopeOperator=n[1],l+2<i&&r[l+1]instanceof xe&&r[l+2]instanceof Kt&&r[l+1].name==gt.ScopeAs){let y=r[l+2];d=new os,d instanceof os&&(d.alias=y),o+=2}let h=n.splice(0,2);(d instanceof Yn||d instanceof os)&&(d.scope=h[0])}return d.nodes=u.parse(n),d.start=e,d.end=s,d.startPosition=e.startPosition,d.endPosition=s.endPosition,d instanceof os&&d.alias!=null&&(d.endPosition=d.alias.endPosition),{found:!0,logicalGroup:d,skipCount:o}}unpack(e){if(e.length==0)return[];if(e[0]instanceof Zt){let r=e[0];return this.unpack(r.nodes)}return e}collectUntil(e){let r=e.length,n=[];for(let i=r-1;i>=0&&!Jt.isAssignmentOperator(e[i]);i--){let s=e.pop();n.push(s)}if(n=n.reverse(),n.length>=3){let i=new Jt;return i.setIsRoot(!1),{collectedTokens:this.unpack(i.parse(n)),tokens:e}}return{collectedTokens:n,tokens:e}}seek(e,r){for(let n=r;n<this.tokens.length;n++)if(this.tokens[n]instanceof e)return{found:!0,foundAt:n,node:this.tokens[n]};return{found:!1,foundAt:null,node:null}}}});var _s,qE=x(()=>{xi();Sr();_s=class{static findRightBeighboringNextPunctuation(e,r,n=4){r=r.replace("	"," ".repeat(n));let i=!1;for(let s=e+1;s<r.length;s++){let o=r[s];if(ie.ctypeSpace(o)&&(i=!0),i&&(ie.ctypeAlpha(o)||ie.ctypeDigit(o)))return null;if(ie.ctypePunct(o)||o==H.String_Terminator_SingleQuote||o==H.String_Terminator_DoubleQuote)return o}return null}static findRightNeighboringNextAlphaNumeric(e,r,n=4){r=r.replace("	"," ".repeat(n));let i=!1;for(let s=e+1;s<r.length;s++){let o=r[s];if((ie.ctypeSpace(o)||ie.ctypePunct(o)&&o!=H.Punctuation_Underscore)&&(i=!0),i&&(ie.ctypeAlpha(o)||ie.ctypeDigit(o)))return s+1}return null}static findLeftNeighboringNextPunctuation(e,r,n=4){r=r.replace("	"," ".repeat(n));let i=!1;for(let s=e-2;s>=0;s--){let o=r[s];if(ie.ctypeSpace(o)&&(i=!0),i&&(ie.ctypeAlpha(o)||ie.ctypeDigit(o)))return null;if(ie.ctypePunct(o))return o}return null}static findLeftNeighboringNextAlphaNumeric(e,r,n=4){r=r.replace("	"," ".repeat(n));let i=!1;for(let s=e-1;s>=0;s--){let o=r[s];if((ie.ctypeSpace(o)||ie.ctypePunct(o)&&o!=H.Punctuation_Underscore)&&(i=!0),i&&(ie.ctypeAlpha(o)||ie.ctypeDigit(o)))return s+1}return null}static scanWordAt(e,r,n=4){if(r=r.replace("	"," ".repeat(n)),e<0||e>r.length)return null;let i=[],s=[];for(let o=e-1;o>=0;o--){let l=r[o];if(ie.ctypePunct(l)&&l!=H.Punctuation_Underscore||ie.ctypeSpace(l))break;i.push(l)}for(let o=e;o<r.length;o++){let l=r[o];if(ie.ctypePunct(l)&&l!=H.Punctuation_Underscore||ie.ctypeSpace(l))break;s.push(l)}return i.reverse().join("")+s.join("")}}});var sT,UE=x(()=>{it();sT=class{constructor(e){this.parser=e}findParentWithName(e,r){let n=r.parent;for(;n!=null;){if(n instanceof ee&&n.nameMatches(e))return n;if(n.parent==n)break;n=n.parent}return null}}});var aT,jE=x(()=>{Ls();aT=class{static analyzeModifierNodeParameters(e){var n,i,s,o;if(e.parameters.forEach(l=>{var u,d,h,m;l.isModifierParameter=(d=(u=Ut.instance)==null?void 0:u.hasModifier(l.name))!=null?d:!1,l.isModifierParameter&&(e.modifiers.parameterModifiers.push(l),l.modifier=(m=(h=Ut.instance)==null?void 0:h.getModifier(l.name))!=null?m:null,e.modifiers.modifierNames.includes(l.name)==!1&&e.modifiers.modifierNames.push(l.name))}),e.modifierChain!=null&&e.modifierChain.modifierChain.length>0){let l=null;e.modifierChain.modifierChain.forEach(u=>{var d,h;u.nameNode!=null&&(u.modifier=(h=(d=Ut.instance)==null?void 0:d.getModifier(u.nameNode.content))!=null?h:null,e.modifiers.modifierNames.includes(u.nameNode.content)==!1&&e.modifiers.modifierNames.push(u.nameNode.content),u.modifier!=null&&(l=u.modifier,e.modifierChain!=null&&(e.modifierChain.lastManifestedModifier=u)))}),e.modifierChain.lastModifier=l,e.modifiers.parameterModifiers.length>0&&(e.modifiers.hasMixedModifierStyles=!0)}e.runtimeNodes.length>0&&e.runtimeNodes.forEach(l=>{if(l.modifierChain!=null&&l.modifierChain.modifierChain.length>0){let u=null;l.modifierChain.modifierChain.forEach(d=>{var h,m;d.nameNode!=null&&(d.modifier=(m=(h=Ut.instance)==null?void 0:h.getModifier(d.nameNode.content))!=null?m:null,e.modifiers.modifierNames.includes(d.nameNode.content)==!1&&e.modifiers.modifierNames.push(d.nameNode.content),d.modifier!=null&&(u=d.modifier,e.modifierChain!=null&&(e.modifierChain.lastManifestedModifier=d)))}),e.modifierChain!=null&&(e.modifierChain.lastModifier=u),e.modifiers.parameterModifiers.length>0&&(e.modifiers.hasMixedModifierStyles=!0)}});let r=e.modifiers.getLastManifestedModifier();if(r!=null)if(r.name=="macro"){let l=e.modifiers.getLastManifestedModifierValue();e.manifestType=(i=(n=Ut.instance)==null?void 0:n.getMacroManifestingType(l))!=null?i:""}else e.manifestType=(o=(s=Ut.instance)==null?void 0:s.getProbableReturnType(r,e.isPaired()))!=null?o:""}}});function oT(t){return t==null?!1:t=='"'||t=="'"}var GE=x(()=>{});function WE(t,e){for(t.getCurrentIndex();t.getCurrentIndex()<t.inputLength()&&(t.checkCurrentOffsets(),e&&t.pushChar(t.getCurrent()),t.getCurrent()!=H.NewLine);t.incrementIndex());}var HE=x(()=>{xi()});function YE(t,e){for(t.getCurrentIndex();t.getCurrentIndex()<t.inputLength();t.incrementIndex())if(t.checkCurrentOffsets(),e&&t.pushChar(t.getCurrent()),t.getCurrent()==H.Punctuation_Asterisk&&t.getNext()==H.Punctuation_ForwardSlash){e&&t.pushChar(H.Punctuation_ForwardSlash),t.incrementIndex(),t.checkCurrentOffsets();break}}var KE=x(()=>{xi()});function lT(t){let e=t.getCurrent();for(t.incrementIndex(),t.getCurrentIndex();t.getCurrentIndex()<t.inputLength()&&(t.checkCurrentOffsets(),!(t.getCurrent()==e&&t.getPrev()!=H.String_EscapeCharacter));t.incrementIndex());}var $E=x(()=>{xi()});var cT,zE=x(()=>{it();Zl();Sr();xi();GE();HE();KE();$E();cT=class{constructor(){this.content="";this.nodeIndex=[];this.fragmentStartIndex=[];this.charLen=0;this.documentOffsets=new Map;this.inputLen=0;this.seedOffset=0;this.shiftLine=0;this.chars=[];this.currentIndex=0;this.lastDocumentOffsetKey=null;this.cur=null;this.next=null;this.prev=null;this.chunkSize=5;this.currentChunkOffset=0;this.fragments=[];this.isScript=!1;this.fragmentOpeningIndex=new Map;this.indexedFragments=new Map;this.embeddedIndexedFragments=new Map}updateIndex(e){this.currentIndex=e}inputLength(){return this.inputLen}incrementIndex(){this.currentIndex+=1}getCurrentIndex(){return this.currentIndex}getCurrent(){return this.cur}getNext(){return this.next}getPrev(){return this.prev}pushChar(e){}getChar(e){return this.chars[e]}getSeedOffset(){return this.seedOffset}setDocumentOffsets(e,r){return this.documentOffsets=e,this.lastDocumentOffsetKey=r,this}getClosingFragmentAfter(e){if(typeof e=="undefined")return null;let r=e.name.toLowerCase();for(let n=0;n<this.fragments.length;n++){let i=this.fragments[n];if(i.isClosingFragment&&!i.isSelfClosing&&i.name.toLowerCase()==r&&i.index>e.index)return i}return null}getContentSubstring(e,r){return this.content.substr(e,r)}resetState(){return this.fragments=[],this.inputLen=0,this.fragmentStartIndex=[],this.fragmentOpeningIndex.clear(),this}resetIntermediateState(){this.chars=[],this.charLen=0,this.currentIndex=0,this.seedOffset=0,this.cur=null,this.next=null,this.prev=null}positionFromOffset(e,r,n=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let l=this.documentOffsets.get(e);i=l.line,s=l.char}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let l=null,u=null,d=null,h=null;for(let m of this.documentOffsets.keys()){if(m>=e){h!=null&&e>h?(l=d,u=h):(l=this.documentOffsets.get(m),u=m);break}d=this.documentOffsets.get(m),h=m}l==null&&(l=d,u=h),l!=null?(s=e-(u!=null?u:0),i=l.line,e<=(u!=null?u:0)?(i=l.line,s=e+1):i=l.line+1):this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let o=new en;return o.index=r,o.offset=e,o.line=i+this.shiftLine,o.char=s,o}getFragments(){return this.fragments}getFragmentsBetween(e,r){let n=[];return this.fragments.forEach(i=>{var l,u,d,h;let s=(u=(l=i.startPosition)==null?void 0:l.index)!=null?u:0,o=(h=(d=i.endPosition)==null?void 0:d.index)!=null?h:0;s>e&&o<r&&n.push(i)}),n}getFragmentContaining(e){var r,n,i,s;for(let o=0;o<this.fragments.length;o++){let l=this.fragments[o];if(((n=(r=l.startPosition)==null?void 0:r.index)!=null?n:0)<e.index&&((s=(i=l.endPosition)==null?void 0:i.index)!=null?s:0)>e.index)return l}return null}checkCurrentOffsets(){if(this.currentIndex>this.chars.length){this.cur=null,this.prev=null,this.next=null;return}if(this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen){let e=!0;if(this.currentIndex==this.charLen-1){let r=ie.split(ie.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,this.currentChunkOffset==this.inputLen&&(e=!1),r.forEach(n=>{this.chars.push(n),this.charLen+=1})}e&&this.currentIndex+1<this.chars.length&&(this.next=this.chars[this.currentIndex+1])}}processInputText(e){this.content=e,this.inputLen=this.content.length;let r=[...this.content.matchAll(/(<(?!\?[php|?=]))/gm)],n=[];r.forEach(i=>{var o;let s=(o=i.index)!=null?o:0;for(let l=0;l<this.nodeIndex.length;l++){let u=this.nodeIndex[l];if(s>=u.start&&s<=u.end)return}n.push(s)}),this.fragmentStartIndex=n}setIndexRanges(e){return this.nodeIndex=e,this}fetchAt(e,r){return this.content.substr(e,r)}getFragmentsContainingStructures(){let e=[];return this.fragments.forEach(r=>{let n=r.name.toLowerCase();if(!(n!="script"&&n!="style")&&!r.isClosingFragment&&!r.isSelfClosing&&r.containsStructures){let i=this.getClosingFragmentAfter(r);i!=null&&e.push({start:r,end:i})}}),e}parse(e){if(this.resetState().processInputText(e),this.fragmentStartIndex.length==0)return[];for(let s=0;s<this.fragmentStartIndex.length;s++){let o=this.fragmentStartIndex[s];if(this.resetIntermediateState(),this.seedOffset=o,this.currentChunkOffset=o,this.parseIntermediateText(),this.isScript){let l=!1;for(let u=s+1;u<this.fragmentStartIndex.length;u++){let d=this.fragmentStartIndex[u];if(this.fetchAt(d,8).toLowerCase()=="<\/script"){s=u-1,this.isScript=!1,l=!0;break}}if(!l)break}}let n=0,i=0;return this.fragments.forEach(s=>{let o=s.name.toLowerCase();(o=="script"||o=="style")&&(s.embeddedIndex=i,this.embeddedIndexedFragments.set(i,s),i+=1),s.index=n,this.indexedFragments.set(n,s),n+=1}),this.fragments}getFragment(e){return this.indexedFragments.get(e)}getEmbeddedFragment(e){return this.embeddedIndexedFragments.has(e)?this.embeddedIndexedFragments.get(e):null}hasFragments(){return this.fragments.length>0}skipToEndOfPhp(){for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),oT(this.cur)&&lT(this),this.cur==H.Punctuation_ForwardSlash&&this.next==H.Punctuation_ForwardSlash){WE(this,!0);continue}if(this.cur==H.Punctuation_ForwardSlash&&this.next==H.Punctuation_Asterisk){YE(this,!0);continue}if(this.cur==H.Punctuation_Question&&this.next==H.Punctuation_GreaterThan||this.next==null)break}}parseIntermediateText(){this.chars=this.content.substr(this.currentChunkOffset,this.chunkSize).split(""),this.charLen=this.chars.length;let e=this.currentIndex,r=[],n=[],i=!1,s=!1;for(this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),ie.ctypeSpace(this.cur)&&(i=!0),this.next==H.Punctuation_LessThan){let o=1;this.cur==H.Punctuation_ForwardSlash&&(o=2);let l=this.fetchAt(this.currentChunkOffset+o,5);if(l.toLowerCase()=="<?php"||l.startsWith("<?=")){this.skipToEndOfPhp();continue}}if(this.currentIndex>0&&this.cur==H.Punctuation_LessThan||this.next==null&&this.cur!=H.Punctuation_GreaterThan)break;if(!i&&this.cur==H.Punctuation_LessThan&&this.next==H.Punctuation_ForwardSlash&&(s=!0),!i&&this.cur!=H.Punctuation_LessThan&&this.cur!=H.Punctuation_ForwardSlash&&this.cur!=H.Punctuation_GreaterThan&&n.push(this.cur),oT(this.cur)){let o=this.currentIndex;lT(this);let l=new nh;l.startPosition=this.positionFromOffset(o+this.seedOffset,o+this.seedOffset),l.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset);let u=o+this.seedOffset,d=this.currentIndex+this.seedOffset+1;l.content=this.content.substr(u,d-u);let h=[];for(let m=o-2;m>=0;m--){let y=this.chars[m];if(ie.ctypeSpace(y))break;h.push(y)}l.name=h.reverse().join(""),r.push(l);continue}if(this.cur==H.Punctuation_ForwardSlash&&this.next==H.Punctuation_GreaterThan){let o=new Mu;o.startPosition=this.positionFromOffset(e+this.seedOffset,e+this.seedOffset),o.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset+1,this.currentIndex+this.seedOffset+1),o.parameters=r,o.isSelfClosing=!0,o.name=n.join(""),o.isClosingFragment=s,this.fragments.push(o),s?this.fragmentOpeningIndex.set(o.startPosition.index+1,1):this.fragmentOpeningIndex.set(o.startPosition.index,1);break}if(this.cur==H.Punctuation_GreaterThan){let o=new Mu;o.startPosition=this.positionFromOffset(e+this.seedOffset,e+this.seedOffset),o.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),o.parameters=r,o.name=n.join(""),o.isClosingFragment=s,this.fragments.push(o),s?this.fragmentOpeningIndex.set(o.startPosition.index+1,1):this.fragmentOpeningIndex.set(o.startPosition.index,1),o.name.toLowerCase()=="script"&&o.isClosingFragment==!1&&(this.isScript=!0);break}}}}});var uT,QE=x(()=>{it();bo();uT=class{constructor(e,r){this.documentParser=e,this.fragmentsParser=r}doesContainFragments(e){var i,s,o,l,u;let r=(s=(i=e.endPosition)==null?void 0:i.index)!=null?s:0,n=(u=(l=(o=e.isClosedBy)==null?void 0:o.startPosition)==null?void 0:l.index)!=null?u:0;return this.fragmentsParser.getFragmentsBetween(r,n).length>0}analyze(){let e=this.documentParser.getNodes();!this.fragmentsParser.hasFragments()||(this.fragmentsParser.getFragments().forEach(r=>{let n=r.name.toLowerCase();if(r.isClosingFragment==!1&&r.isSelfClosing==!1&&(n=="script"||n=="style")){let i=this.fragmentsParser.getClosingFragmentAfter(r);if(i==null)return;r.endPosition!=null&&i.startPosition!=null&&this.documentParser.getNodesBetween(r.endPosition,i.startPosition).forEach(o=>{(o instanceof Mr||o instanceof ee&&o.isClosedBy!=null)&&(r.containsStructures=!0),n=="style"?o.isInStyleTag=!0:o.isInScriptTag=!0})}}),e.forEach(r=>{var o,l,u,d,h,m;if(r instanceof Rt||r.startPosition==null)return;r instanceof ee&&(Tn.isConditionalStructure(r)||!r.isClosingTag)&&r.isClosedBy!=null&&(r.containsAnyFragments=this.doesContainFragments(r));let n=this.fragmentsParser.getFragmentContaining(r.startPosition);if(n==null){r.fragmentPosition=3;return}if(r.fragment=n,r.startPosition.index-((l=(o=n.startPosition)==null?void 0:o.index)!=null?l:0)<=3){r.fragmentPosition=0;return}if(n.parameters.length==0){r.fragmentPosition=2;return}let s=!1;for(let y=0;y<n.parameters.length;y++){let b=n.parameters[y];if(((d=(u=b.startPosition)==null?void 0:u.index)!=null?d:0)<r.startPosition.index&&((m=(h=b.endPosition)==null?void 0:h.index)!=null?m:0)>r.startPosition.index){r.fragmentPosition=1,r.fragmentParameter=b,s=!0;break}}s||(r.fragmentPosition=2)}))}}});var fT,XE=x(()=>{it();Sr();fT=class{static analyze(e){e.forEach(r=>{var n,i,s,o,l,u;if(r instanceof ee){if(r.prev instanceof ee&&r.isPaired()&&r.prev.isInlineAntlers==!0){r.isInlineAntlers=!1,r.isClosedBy!=null&&(r.isClosedBy.isInlineAntlers=!1);return}let d=!1,h=!1;if(r.next==null)d=!0;else if(r.next instanceof Rt){let m=ie.getFirstLine(r.next.content);(r.next.next==null&&m.trim().length==0||ie.trimLeft(m," 	").startsWith(`
`)==!1&&m.trim().length>0||r.next.next instanceof Nr||r.next.next instanceof ee&&(r.next.next.isPaired()==!1||((i=(n=r.next.next.startPosition)==null?void 0:n.line)!=null?i:0)!=((o=(s=r.startPosition)==null?void 0:s.line)!=null?o:0)))&&(d=!0)}else r.next instanceof ee&&r.next.isPaired()&&(d=!0);if(r.prev==null)h=!0;else if(r.prev instanceof Rt){let m=ie.getLastLine(r.prev.content);ie.trimRight(m," 	").endsWith(`
`)==!1&&m.trim().length>0||r.prev.prev instanceof Nr?h=!0:r.prev.prev instanceof ee&&(r.prev.prev.isInlineAntlers&&((l=r.prev.prev.endPosition)==null?void 0:l.line)==((u=r.startPosition)==null?void 0:u.line)?h=!0:r.prev.prev.isClosingTag&&r.prev.prev.isOpenedBy!=null&&(r.prev.prev.isOpenedBy instanceof Nr||r.prev.prev.runtimeName()=="noparse")&&(r.prev.prev.isInlineAntlers=!0,h=!0))}else r.prev instanceof ee&&r.prev.isPaired()&&(h=!0);r.isInlineAntlers=d&&h}})}}});var JE,Ke,H,xi=x(()=>{Li();Di();it();Zl();AE();Sr();JE=We(Lu());Vc();kE();DE();FE();qc();qE();UE();Da();jE();Ls();zE();QE();Va();tT();XE();Ke=class{constructor(){this.interpolationRegions=new Map;this.nodeParser=new eT;this.chars=[];this.charLen=0;this.lastAntlersNode=null;this.content="";this.originalContent="";this.currentIndex=0;this.currentContent=[];this.sourceContent=[];this.startIndex=0;this._recoveryStartIndex=0;this.cur=null;this.next=null;this.prev=null;this.nodes=[];this.renderNodes=[];this.isInterpolatedParser=!1;this.inputLen=0;this.documentOffsets=new Map;this.lineIndex=new Map;this.lastDocumentOffsetKey=null;this.isDoubleBrace=!1;this.interpolationEndOffsets=new Map;this.isScanningInterpolations=!1;this.seedStartLine=1;this.seedStartchar=1;this.frontMatterEndLine=-1;this.lastAntlersEndIndex=-1;this.seedOffset=0;this.antlersStartIndex=[];this.antlersStartPositionIndex=new Map;this.chunkSize=5;this.maxLine=1;this.currentChunkOffset=0;this.isNoParse=!1;this.antlersErrors=[];this.structureErrors=[];this.languageParser=new Jt;this.documentPath=null;this.pushedErrors=new Map;this.frontMatter="";this.shiftLine=0;this.doesHaveUncloseIfStructures=!1;this.doesHaveUnclosedStructures=!1;this.parseChildDocuments=!1;this.structuralErrorCodes=[R.TYPE_PARSE_UNCLOSED_CONDITIONAL,R.TYPE_PARSE_UNPAIRED_CONDITIONAL,R.TYPE_RECURSIVE_UNPAIRED_NODE,R.TYPE_RUNTIME_FATAL_UNPAIRED_LOOP_END,R.TYPE_UNPAIRED_CLOSING_TAG];this.structure=new sT(this);this.fragmentsParser=new cT,this.fragmentsAnalyzer=new uT(this,this.fragmentsParser)}withChildDocuments(e){return this.parseChildDocuments=e,this}shouldParseChildDocument(){return this.parseChildDocuments}hasUnclosedIfStructures(){return this.doesHaveUncloseIfStructures}hasUnclosedStructures(){return this.doesHaveUnclosedStructures}getFrontMatter(){return this.frontMatter}setDocumentPath(e){this.documentPath=e}getFrontMatterEndLine(){return this.frontMatterEndLine}pushError(e){(e.errorCode==R.TYPE_PARSE_UNCLOSED_CONDITIONAL||e.errorCode==R.TYPE_PARSE_UNPAIRED_CONDITIONAL)&&(this.doesHaveUncloseIfStructures=!0);let r=e.hash();this.pushedErrors.has(r)||(this.pushedErrors.set(r,e),this.antlersErrors.push(e),this.structuralErrorCodes.includes(e.errorCode)&&this.structureErrors.push(e))}getInterpolationRegions(){return this.interpolationRegions}getDocumentPath(){return this.documentPath}checkCurrentOffsets(){if(this.currentIndex>this.chars.length){this.cur=null,this.prev=null,this.next=null;return}if(this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen){let e=!0;if(this.currentIndex==this.charLen-1){let r=ie.split(ie.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,this.currentChunkOffset==this.inputLen&&(e=!1),r.forEach(n=>{this.chars.push(n),this.charLen+=1})}e&&this.currentIndex+1<this.chars.length&&(this.next=this.chars[this.currentIndex+1])}}charLeftAt(e){return e==null||e.char<=1?null:this.charAt(this.positionFromCursor(e.line,e.char-1))}charLeftAtCursor(e,r){return this.charLeftAt(this.positionFromCursor(e,r))}charRightAt(e){return e==null?null:this.charAt(this.positionFromCursor(e.line,e.char+1))}charRightAtCursor(e,r){return this.charRightAt(this.positionFromCursor(e,r))}punctuationLeftAt(e,r=4){if(e==null)return null;let n=this.getLineText(e.line);return n==null?null:_s.findLeftNeighboringNextPunctuation(e.char,n,r)}punctuationLeftAtCursor(e,r,n=4){return this.punctuationLeftAt(this.positionFromCursor(e,r),n)}punctuationRightAt(e,r=4){if(e==null)return null;let n=this.getLineText(e.line);return n==null?null:_s.findRightBeighboringNextPunctuation(e.char,n,r)}punctuationRightAtCursor(e,r,n=4){return this.punctuationRightAt(this.positionFromCursor(e,r),n)}wordRightAt(e,r=4){if(e==null)return null;let n=this.getLineText(e.line);if(n==null)return null;let i=_s.findRightNeighboringNextAlphaNumeric(e.char,n,r);return i==null?null:_s.scanWordAt(i,n,r)}wordRightAtCursor(e,r,n=4){return this.wordRightAt(this.positionFromCursor(e,r),n)}wordLeftAt(e,r=4){if(e==null)return null;let n=this.getLineText(e.line);if(n==null)return null;let i=_s.findLeftNeighboringNextAlphaNumeric(e.char,n,r);return i==null?null:_s.scanWordAt(i,n,r)}wordLeftAtCursor(e,r,n=4){return this.wordLeftAt(this.positionFromCursor(e,r),n)}wordAt(e,r=4){if(e==null)return null;let n=this.getLineText(e.line);return n==null?null:_s.scanWordAt(e.char,n,r)}getLineText(e){let r=this.getLineIndex(e);return r!=null?ie.trimRight(this.getContent().substring(r.start,r.end+1)):null}wordAtCursor(e,r,n=4){return this.wordAt(this.positionFromCursor(e,r),n)}charAt(e){return e==null?null:this.content.substr(e.offset,1)}getLinesAround(e){var s;let r=new Map,n=e-3,i=e+3;n<1&&(n=1),i>this.maxLine&&(i=this.maxLine);for(let o=n;o<=i;o++)r.set(o,(s=this.getLineText(o))!=null?s:"");return r}charAtCursor(e,r){return this.charAt(this.positionFromCursor(e,r))}getLineIndex(e){if(e==this.maxLine){let n=this.lineIndex.get(e-1);if(n!=null){let i=n.endIndex+1;return{end:this.inputLen-1,start:i}}return null}let r=this.lineIndex.get(e);return r!=null?{start:r.startIndex,end:r.endIndex}:null}positionFromCursor(e,r){if(e==this.maxLine){let i=this.lineIndex.get(e-1);if(i!=null){let s=i.endIndex+1,o=s+(r-1),l=new en;return l.offset=o,l.line=e,l.char=r,l.index=o,l}return null}let n=this.lineIndex.get(e);if(n!=null){let i=new en;return i.offset=n.startIndex+(r-1),i.line=n.line,i.char=r,i.index=n.startIndex+(r-1),i}return null}parse(e){var d,h,m,y,b,T,S,w,_,C;if(this.resetState(),!this.processInputText(e))return[];let r=this.antlersStartIndex.length,n=r-1;if(r==0&&!this.isNoParse){let P=new Rt;P.withParser(this),P.content=this.prepareLiteralContent(this.content),P.startPosition=this.positionFromOffset(0,0),P.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1),P.sourceContent=this.content,this.nodes.push(P)}else for(let P=0;P<r;P+=1){let Y=this.antlersStartIndex[P];if(this.seedOffset=Y,P==0&&Y>0&&!this.isNoParse){let Z=new Rt;if(Z.withParser(this),Z.content=this.prepareLiteralContent(this.content.substr(0,Y)),Z.content.length>0){Z.startPosition=this.positionFromOffset(0,0),Z.endPosition=this.positionFromOffset(Y,Y-1);let Q=(d=Z.startPosition.index)!=null?d:0,G=Z.endPosition.index+1;Z.sourceContent=this.content.substr(Q,G-Q),this.nodes.push(Z)}}if(Y<this.lastAntlersEndIndex)continue;if(this.currentChunkOffset=Y,this.resetIntermediateState(),this.parseIntermediateText(),this.lastAntlersNode!=null&&!(this.lastAntlersNode instanceof vo)&&this.lastAntlersNode.isComment&&!(this.lastAntlersNode instanceof tc)&&P+1<r){let Z=this.antlersStartPositionIndex.get(P+1);if(this.lastAntlersNode.endPosition!=null&&Z<this.lastAntlersNode.endPosition.offset){let Q=null;for(let G=P+1;G<r;G++)if(this.antlersStartIndex[G]>this.lastAntlersNode.endPosition.offset){Q=G;break}if(Q==null){let G=this.prepareLiteralContent(this.content.substr(this.lastAntlersNode.endPosition.offset+1));if(G.length>0&&!this.isNoParse){let ce=new Rt;ce.withParser(this),ce.content=G;let Oe=this.lastAntlersNode.endPosition.offset+1;ce.startPosition=this.positionFromOffset(Oe,Oe),ce.endPosition=this.positionFromOffset(this.inputLen,this.inputLen);let te=(h=ce.startPosition.index)!=null?h:0,oe=ce.endPosition.index+1;ce.sourceContent=this.content.substr(te,oe-te),this.nodes.push(ce)}break}else{let G=this.antlersStartIndex[Q],ce=G-this.lastAntlersNode.endPosition.offset-1;if(ce>0){let Oe=this.lastAntlersNode.endPosition.offset,te=G-1;Oe+=1,te-=1;let oe=this.content.substr(Oe,ce);if(oe.length>0&&!this.isNoParse){let Ce=new Rt;Ce.withParser(this),Ce.content=oe,Ce.startPosition=this.positionFromOffset(Oe,Oe),Ce.endPosition=this.positionFromOffset(te,te);let fe=(m=Ce.startPosition.index)!=null?m:0,re=Ce.endPosition.index+1;Ce.sourceContent=this.content.substr(fe,re-fe),this.nodes.push(Ce)}continue}P=Q-1;continue}}}let M=!1;if(this.antlersStartPositionIndex.has(this.currentChunkOffset)?this.lastAntlersEndIndex<this.currentChunkOffset&&(M=!0):M=!0,M){if(P+1<r){let Z=this.antlersStartIndex[P+1],Q=this.lastAntlersEndIndex+1;if(Z<Q)if(this.lastAntlersEndIndex>Z)P+2<r&&(Z=this.antlersStartIndex[P+2]);else continue;if(P+1==n&&Z<=this.lastAntlersEndIndex){if(this.isNoParse)break;let G=this.currentChunkOffset,ce=this.content.substr(Q),Oe=new Rt;if(Oe.withParser(this),Oe.content=this.prepareLiteralContent(ce),Oe.content.length>0){Oe.startPosition=this.positionFromOffset(G,G),Oe.endPosition=this.positionFromOffset(Z,Z-1);let te=(y=Oe.startPosition.index)!=null?y:0,oe=Oe.endPosition.index+1;Oe.sourceContent=this.content.substr(te+2,this.inputLen-te+2),this.nodes.push(Oe)}break}else{let G=Z-this.lastAntlersEndIndex-1;if(G==0||this.isNoParse)continue;let Oe=this.currentChunkOffset;this.lastAntlersNode instanceof tc&&(Q=((T=(b=this.lastAntlersNode.endPosition)==null?void 0:b.offset)!=null?T:0)+1,G-=((w=(S=this.lastAntlersNode.endPosition)==null?void 0:S.offset)!=null?w:0)+1,Oe=Q),this.lastAntlersNode instanceof vo&&(Q-=1,G+=1);let te=this.content.substr(Q,G),oe=new Rt;if(oe.withParser(this),oe.content=this.prepareLiteralContent(te),oe.content.length>0){oe.startPosition=this.positionFromOffset(Q,Q),oe.endPosition=this.positionFromOffset(Z,Z-1);let Ce=(_=oe.startPosition.index)!=null?_:0,fe=oe.endPosition.index+1;oe.sourceContent=this.content.substr(Ce,fe-Ce),this.nodes.push(oe)}}continue}if(P!==n&&this.lastAntlersNode!=null&&this.lastAntlersNode.endPosition!=null&&this.positionFromOffset(Y,Y).isBefore(this.lastAntlersNode.endPosition)){if(P+1<r){if(this.antlersStartIndex[P+1]<this.lastAntlersNode.endPosition.offset)continue}else if(P+1!=n)continue}if(P==n){let Z=this.currentIndex+Y;if(Z<this.inputLen&&!this.isNoParse){let Q=new Rt;if(Q.withParser(this),Q.content=this.prepareLiteralContent(this.content.substr(Z)),Q.content.length>0){Q.startPosition=this.positionFromOffset(Z,Z),Q.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1);let G=(C=Q.startPosition.index)!=null?C:0,ce=Q.endPosition.index+1;Q.sourceContent=this.content.substr(G,ce-G),this.nodes.push(Q)}break}}}}let i=0;this.nodes.forEach(P=>{P.index=i,i+=1}),this.nodes.length>500&&(this.parseChildDocuments=!1),this.nodes.forEach(P=>{P instanceof ee&&P.isComment||P instanceof ee&&P.interpolationRegions.size>0&&(P.interpolationRegions.forEach((Y,M)=>{let Z=new Ke;Z.withChildDocuments(this.parseChildDocuments),Z.setIsInterpolatedParser(!0);let Q=Z.parse(Y.parseContent);Q.length>1&&Q[1]instanceof ee&&(Q=[Q[1]]),Z.hasUnclosedIfStructures()&&(this.doesHaveUncloseIfStructures=!0),Z.hasUnclosedStructures()&&(this.doesHaveUnclosedStructures=!0),P.processedInterpolationRegions.set(M,Q),this.mergeErrors(Z.getAntlersErrors())}),P.hasProcessedInterpolationRegions=!0)}),this.content.length>0&&this.fragmentsParser.setIndexRanges(this.getNodeIndexRanges()).parse(this.content);let s=new kd;this.renderNodes=s.associate(this.nodes,this),this.createChildDocuments(this.renderNodes);let o=null,l=null;for(let P=0;P<this.nodes.length;P++){let Y=this.nodes[P];P+1<this.nodes.length?l=this.nodes[P+1]:l=null,Y.next=l,Y.prev=o,o=Y}this.fragmentsAnalyzer.analyze(),fT.analyze(this.nodes),this.nodes.forEach(P=>{if(P instanceof ee&&P.isClosedBy!=null){let Y=P.getImmediateChildren();for(let M=0;M<Y.length;M++){let Z=Y[M];if(Z instanceof ee&&Z.isClosedBy!=null){P.containsChildStructures=!0;break}else if(Z instanceof Mr){P.containsChildStructures=!0;break}}}}),this.nodes.forEach(P=>{if(P instanceof ee&&P.isClosingTag&&P.isOpenedBy==null){let Y="Unpaired closing tag.";P.isInterpolationNode&&(Y+=" Tag pairs are not supported within Antlers tags."),P.pushError(J.makeSyntaxError(R.TYPE_UNPAIRED_CLOSING_TAG,P,Y))}}),iT.associateRecursiveParent(this.nodes),this.nodes.forEach(P=>{var Y;if(!(P instanceof ee&&P.isComment)&&((P instanceof ee||P instanceof Et)&&(P.isInterpolationNode=this.isInterpolatedParser),(P instanceof ee||P instanceof Et)&&P.interpolationRegions.size>0&&P.runtimeNodes.forEach(M=>{M instanceof xe&&P.interpolationRegions.has(M.name)&&(M.isInterpolationReference=!0,M.interpolationNodes=P.processedInterpolationRegions.get(M.name))}),(P instanceof ee||P instanceof Et)&&P.hasParameters&&P.interpolationRegions.size>0&&P.parameters.forEach(M=>{P.interpolationRegions.forEach((Z,Q)=>{M.value.includes(Q)&&M.interpolations.push(Q)})}),P instanceof ee&&P.runtimeNodes.length>0&&P.isClosingTag==!1&&!P.isComment&&(P.parsedRuntimeNodes=this.languageParser.parse(P.runtimeNodes),P.hasParsedRuntimeNodes=!0,!P.isTagNode&&P.parsedRuntimeNodes.length>0))){let M=P.nodeAtIndex(0);M!=null&&M instanceof xe&&M.name==((Y=P.name)==null?void 0:Y.name)&&(P.modifierChain=M.modifierChain)}}),this.languageParser.getCreatedModifierChains().forEach(P=>{P.modifierChain.length>0&&P.modifierChain.forEach(Y=>{var M,Z;Y.nameNode!=null&&Ut.instance!=null&&Ut.instance.hasModifier((M=Y.nameNode)==null?void 0:M.name)&&(Y.modifier=(Z=Ut.instance)==null?void 0:Z.getModifier(Y.nameNode.name))})});let u=1;return this.nodes.forEach(P=>{var Y,M;if(P instanceof ee){if(P.isComment)return;P.isTagNode=(M=(Y=Wr.instance)==null?void 0:Y.isKnownTag(P.runtimeName()))!=null?M:!1,P.scopeName=P.findParameterValue("scope",""),P.antlersNodeIndex=u,u+=1,aT.analyzeModifierNodeParameters(P)}}),this.nodes.forEach(P=>{var Y,M,Z,Q,G,ce,Oe,te;if(P instanceof ee&&P.isClosedBy!=null){let oe=((M=(Y=P.endPosition)==null?void 0:Y.offset)!=null?M:0)+1,Ce=(Q=(Z=P.isClosedBy.startPosition)==null?void 0:Z.offset)!=null?Q:0,fe=(ce=(G=P.startPosition)==null?void 0:G.offset)!=null?ce:0,re=((te=(Oe=P.isClosedBy.endPosition)==null?void 0:Oe.offset)!=null?te:0)+1;P.documentText=this.content.substr(oe,Ce-oe),P.nodeContent=this.content.substr(fe,re-fe),this.parseChildDocuments&&(P.childDocument=Tr.childFromText(P.documentText,Bc(P.children)))}}),this.renderNodes}createChildDocuments(e){e.forEach(r=>{var n,i,s,o,l,u,d,h;if(r instanceof ee&&r.isClosedBy!=null){let m=r.isClosedBy,y=((i=(n=r.startPosition)==null?void 0:n.index)!=null?i:0)-1,b=((o=(s=m.endPosition)==null?void 0:s.index)!=null?o:0)-y;if(r.documentText=this.content.substr(y,b),this.parseChildDocuments){let T=(u=(l=r.endPosition)==null?void 0:l.index)!=null?u:0,S=((h=(d=m.startPosition)==null?void 0:d.index)!=null?h:0)-1-T,w=this.content.substr(T,S);r.childDocument=Tr.childFromText(w,Bc(r.getChildren()))}}})}getNodeIndexRanges(){let e=[];return this.nodes.forEach(r=>{var n,i,s,o;r instanceof Rt||e.push({start:(i=(n=r.startPosition)==null?void 0:n.index)!=null?i:0,end:(o=(s=r.endPosition)==null?void 0:s.index)!=null?o:0})}),e}positionFromOffset(e,r,n=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let l=this.documentOffsets.get(e);i=l.line,s=l.char}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let l=null,u=null,d=null,h=null;for(let m of this.documentOffsets.keys()){if(m>=e){h!=null&&e>h?(l=d,u=h):(l=this.documentOffsets.get(m),u=m);break}d=this.documentOffsets.get(m),h=m}if(l==null&&(l=d,u=h),l!=null)if(n){let m=this.content.split(""),y=e-(u!=null?u:0),b=l.char-(u!=null?u:0)+e;s=y,i=l.line,e<=(u!=null?u:0)?(i=l.line,s=e+1):i=l.line+1}else{let m=this.content.split(""),y=e-(u!=null?u:0),b=l.char-(u!=null?u:0)+e;s=y,i=l.line,e<=(u!=null?u:0)?(i=l.line,s=e+1):i=l.line+1}else this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let o=new en;return o.index=r,o.offset=e,o.line=i+this.shiftLine,o.char=s,o}getLanguageParser(){return this.languageParser}getText(e,r){return this.content.substr(e,r-e)}getOriginalContent(){return this.originalContent}getContent(){return this.content}getFragments(){return this.fragmentsParser.getFragments()}getFragmentsParser(){return this.fragmentsParser}getFragmentsContainingStructures(){return this.fragmentsParser.getFragmentsContainingStructures()}setIsInterpolatedParser(e){return this.isInterpolatedParser=e,this}setStartLineSeed(e){return this.seedStartLine=e,this}setSeedStartChar(e){return this.seedStartchar=e,this}resetIntermediateState(){this.chars=[],this.charLen=0,this.currentIndex=0,this.currentContent=[],this.sourceContent=[],this.cur=null,this.next=null,this.prev=null}setSeedPosition(e){return e==null?this.shiftLine=0:this.shiftLine=e.line,this}resetState(){if(this.languageParser.reset(),this.charLen=0,this.antlersStartIndex=[],this.antlersErrors=[],this.pushedErrors.clear(),this.antlersStartPositionIndex.clear(),this.lastAntlersEndIndex=-1,this.renderNodes=[],this.nodes=[],ta.globalTagEnterStack.length>0){let e=ta.globalTagEnterStack[ta.length-1];e!=null&&e.endPosition!=null&&this.setStartLineSeed(e.endPosition.line)}this.seedOffset=0,this.isScanningInterpolations=!1,this.content="",this.chars=[],this.currentIndex=0,this.startIndex=0,this._recoveryStartIndex=0,this.cur=null,this.next=null,this.prev=null,this.inputLen=0,this.documentOffsets.clear(),this.isDoubleBrace=!1,this.interpolationRegions.clear(),this.interpolationEndOffsets.clear()}fetch(e){let r=this.currentChunkOffset+this.chunkSize-this.chars.length;return ie.substring(this.content,r,e)}getParsedContent(){return this.content}peek(e){if(e==this.charLen){let r=ie.split(ie.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,r.forEach(n=>{this.chars.push(n),this.charLen+=1})}return this.chars[e]}parseIntermediateText(){for(this.currentContent=[],this.sourceContent=[],this.startIndex=0,this.chars=this.content.substr(this.currentChunkOffset,this.chunkSize).split(""),this.charLen=this.chars.length,this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==Ke.LeftBrace&&this.next==Ke.LeftBrace&&this.prev==Ke.AtChar){this.dumpLiteralNode(this.currentIndex);let e=new Nr;e.withParser(this),e.name=new sn,e.name.name="noparse",e.content="{{",e.startPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),e.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),this.nodes.push(e),this.currentContent=[],this.sourceContent=[],this.currentIndex+=1;continue}if((this.prev==null||this.prev!=null&&this.prev!=Ke.AtChar)&&this.next!=null&&this.cur==Ke.LeftBrace&&this.next==Ke.LeftBrace){this.dumpLiteralNode(this.currentIndex);let e=null;if(this.currentIndex+2<this.inputLen&&(e=this.peek(this.currentIndex+2)),e==Ke.Punctuation_Question&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfPhpRegion(Ke.Punctuation_Question),this.isDoubleBrace=!1;break}if(e==Ke.Punctuation_Dollar&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfPhpRegion(Ke.Punctuation_Dollar),this.isDoubleBrace=!1;break}if(e==Ke.Punctuation_Octothorp&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersCommentRegion(),this.isDoubleBrace=!1;break}if(!this.isNoParse)this.startIndex=this.currentIndex,this._recoveryStartIndex=this.currentIndex,this.isDoubleBrace=!0,this.currentIndex+=2,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersRegion(),this.isDoubleBrace=!1;else if(this.fetch(11).replace(" ","").toLocaleLowerCase().startsWith("{{/noparse")){this.startIndex=this.currentIndex,this._recoveryStartIndex=this.currentIndex,this.isDoubleBrace=!0,this.currentIndex+=2,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersRegion(),this.isDoubleBrace=!1,this.isNoParse=!1;break}else{this.currentContent.push(this.cur);continue}break}if(this.cur==Ke.AtChar&&this.next!=null&&this.next==Ke.LeftBrace){if(this.currentIndex+2>=this.inputLen){this.appendContent(this.next),this.dumpLiteralNode(this.currentIndex+1);break}let e=0;for(let r=this.currentIndex+1;r<this.inputLen&&this.chars[r]==Ke.LeftBrace;r+=1)e+=1;this.currentContent=this.currentContent.concat(Ke.LeftBrace.repeat(e).split("")),this.sourceContent=this.currentContent.concat(Ke.LeftBrace.repeat(e).split("")),this.currentIndex+=e}this.appendContent(this.cur),this.next==null&&this.currentContent.length>0&&this.dumpLiteralNode(this.currentIndex)}}getRenderNodes(){return this.renderNodes}processInputText(e){var m;if(this.originalContent=e,this.content=ie.normalizeLineEndings(e),this.inputLen=this.content.length,this.content.startsWith("---")){let y=this.content.split(`
`),b=[],T=[];T.push("");for(let S=1;S<y.length;S++){let w=y[S];if(w.startsWith("---")){T.push(""),T=T.concat(y.slice(S+1)),this.content=T.join(`
`),this.frontMatter=b.join(`
`),this.frontMatterEndLine=S+1;break}else b.push(w),T.push("")}}let r=[...this.content.matchAll(/(\n)/gm)],n=r.length,i=this.seedStartLine,s=null,o=0,l=0;for(let y=0;y<n;y++){let b=r[y],T=(m=b.index)!=null?m:0,S=T;s!=null?S=T-s:S=S+1,this.documentOffsets.set(T,{char:S,line:i});let w=0,_=0;y==0?(_=S-1,w=0):(w=l+1,_=T),this.lineIndex.set(i,{char:S,line:i,startIndex:w,endIndex:_}),this.lastDocumentOffsetKey=T,this.maxLine=i,i+=1,s=T,l=_,o=w}this.maxLine+=1;let u=[...this.content.matchAll(/@?{{/gm)],d=0,h=!1;return u.forEach(y=>{let b=y[0];if(b.startsWith(Ke.AtChar)){d=this.content.indexOf(b,d)+2,h=!0;return}let T=this.content.indexOf(b,d);if(h&&d==T){d=T;return}this.antlersStartIndex.push(T),this.antlersStartPositionIndex.set(T,1),d=T+2,h=!1}),!0}prepareLiteralContent(e){return e.replace("@{{","{{")}scanToEndOfPhpRegion(e){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==e&&this.next!=null&&this.next==Ke.RightBrace&&this.peek(this.currentIndex+2)==Ke.RightBrace){let n=this.makeAntlersPhpNode(this.currentIndex,e==Ke.Punctuation_Dollar);this.currentContent=[],this.sourceContent=[],this.currentIndex+=3,this.startIndex=this.currentIndex,this._recoveryStartIndex=this.startIndex,this.nodes.push(n),this.lastAntlersNode=n;break}if(this.appendContent(this.cur),this.next==null){let r=this.makeAntlersPhpFailedNode(this.currentIndex);this.nodes.push(r),this.lastAntlersNode=r,this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(J.makeSyntaxError(R.TYPE_INCOMPLETE_PHP_EVALUATION_REGION,r,"Unexpected end of input while parsing Antlers PHP region."));break}}}appendContent(e){e!=null&&(this.currentContent.push(e),this.sourceContent.push(e))}scanToEndOfAntlersCommentRegion(){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==Ke.Punctuation_Octothorp&&this.next!=null&&this.next==Ke.RightBrace&&this.peek(this.currentIndex+2)==Ke.RightBrace){let r=this.makeAntlersTagNode(this.currentIndex,!0);this.currentContent=[],this.sourceContent=[],this.currentIndex+=3,this.nodes.push(r),this.lastAntlersNode=r;break}if(this.appendContent(this.cur),this.next==null){let e=this.makeAntlersCommentFailedNode(this.currentIndex);this.nodes.push(e),this.lastAntlersNode=e,this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(J.makeSyntaxError(R.TYPE_INCOMPLETE_ANTELRS_COMMENT_REGION,e,"Unexpected end of input while parsing Antlers comment region."));break}}}scanToEndOfInterpolatedRegion(){this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0);let e=[];this.isScanningInterpolations=!0;let r=0;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1)if(this.checkCurrentOffsets(),this.cur==Ke.LeftBrace){if(this.prev==Ke.AtChar){e.push(this.cur);continue}r+=1,e.push(this.cur)}else if(this.cur==Ke.RightBrace){if(this.prev==Ke.AtChar){e.push(this.cur);continue}if(r-=1,e.push(this.cur),r==0){this.interpolationEndOffsets.set(this.currentIndex,1);break}}else this.cur!=null&&e.push(this.cur);let n=e.join(""),s=("int_"+JE.Md5.hashStr(n)).substr(0,n.length),o=s.length,l=n.length;if(o<l){let u=l-o;s+="x".repeat(u)}return this.isScanningInterpolations=!1,{content:n,varContent:s}}bordersInterpolationRegion(e){if(this.interpolationEndOffsets.size==0)return!1;let r=e.offset-1;return r<=0?!1:this.interpolationEndOffsets.has(r)}getParseableContent(e){let r="";for(let n=0;n<=e;n++)this.content[n]==Ke.LeftBrace||this.content[n]==Ke.RightBrace?r+="~":r+=this.content[n];return r}scanToEndOfAntlersRegion(){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==Ke.LeftBrace&&this.prev==Ke.AtChar){this.currentContent.pop(),this.appendContent(this.cur);continue}if(this.isInterpolatedParser&&this.cur==Ke.RightBrace&&this.prev==Ke.AtChar){this.currentContent.pop(),this.appendContent(this.cur);continue}if(this.cur==Ke.LeftBrace){let e=this.scanToEndOfInterpolatedRegion(),r=this.currentIndex+this.seedOffset,n=r-e.content.length,i=this.getParseableContent(n-1);ta.interpolatedVariables.push(e.varContent),this.currentContent=this.currentContent.concat(e.varContent.split("")),this.sourceContent=this.sourceContent.concat(e.content.split(""));let s=i+"{"+e.content+"}";this.interpolationRegions.set(e.varContent,{content:e.content,parseContent:s,varContent:e.varContent,startOffset:n,endOffset:r});continue}if(this.cur==Ke.RightBrace&&this.next!=null&&this.next==Ke.RightBrace){let e=this.makeAntlersTagNode(this.currentIndex,!1);e.name!=null&&e.name.name=="noparse"&&(this.isNoParse=!0),this.currentIndex+=2,this.nodes.push(e),this.lastAntlersNode=e;break}if(this.appendContent(this.cur),this.next==null){let e=this.makeAntlersFailedNode(this.currentIndex,!1);this.nodes.push(e),this.lastAntlersNode=e,this.doesHaveUnclosedStructures=!0;let r="Unexpected end of input while parsing Antlers region.";this.isScanningInterpolations&&(r="Unexpected end of input wihle parsing interpolated Antlers region."),this.antlersErrors.push(J.makeSyntaxError(R.TYPE_INCOMPLETE_ANTLERS_REGION,e,r));break}}}makeAntlersPhpNode(e,r){let n=new vo;return r?(n.rawStart="{{$",n.rawEnd="$}}"):(n.rawStart="{{?",n.rawEnd="?}}"),n.content=this.currentContent.join(""),n.sourceContent=this.sourceContent.join(""),n.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset),e+3>this.inputLen?(n.endPosition=this.positionFromOffset(this.inputLen,this.inputLen-1),this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(J.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE,n,"Unexpected end of input while locating end of Antlers region.")),n):(this.lastAntlersEndIndex=e+3+this.seedOffset,n.endPosition=this.positionFromOffset(e+this.seedOffset,e+3+this.seedOffset),n)}makeAntlersPhpFailedNode(e){let r=new sh;r.rawStart="{{$",r.rawEnd="$}}",r._isEndVirtual=!0,r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let n=this.getLineText(r.startPosition.line),i=this.getLineIndex(r.startPosition.line);if(n!=null){let o=n.substr(this._recoveryStartIndex);r.content=o,r.sourceContent=o}let s=e+this.seedOffset;return i!=null&&(this.currentIndex=i.end,s=i.end),r.endPosition=this.positionFromOffset(s,s),r}makeAntlersCommentFailedNode(e){let r=new tc;this.isDoubleBrace?(r.rawStart="{{",r.rawEnd="}}"):(r.rawStart="{",r.rawEnd="}"),r._isEndVirtual=!0;let n=!1,i=this.currentContent.length;i>0&&this.currentContent[i-1]==Ke.Punctuation_ForwardSlash&&(this.currentContent.pop(),n=!0),r.isComment=!0,r.isSelfClosing=n,r.withParser(this),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let s=this.getLineText(r.startPosition.line),o=this.getLineIndex(r.startPosition.line);if(s!=null){let u=s.substr(this._recoveryStartIndex);r.content=u,r.sourceContent=u}let l=e+this.seedOffset;return o!=null&&(this.currentIndex=o.end,l=o.end),r.endPosition=this.positionFromOffset(l,l),r.interpolationRegions=new Map,this.interpolationRegions.forEach((u,d)=>{r.content.includes(d)&&r.interpolationRegions.set(d,u)}),r}makeAntlersFailedNode(e,r){let n=new Et;this.isDoubleBrace?(n.rawStart="{{",n.rawEnd="}}"):(n.rawStart="{",n.rawEnd="}"),n._isEndVirtual=!0;let i=!1,s=this.currentContent.length;s>0&&this.currentContent[s-1]==Ke.Punctuation_ForwardSlash&&(this.currentContent.pop(),i=!0),n.isComment=r,n.isSelfClosing=i,n.withParser(this),n.content=this.currentContent.join(""),n.sourceContent=this.sourceContent.join(""),n.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let o=this.getLineText(n.startPosition.line),l=this.getLineIndex(n.startPosition.line);if(o!=null){let h=ie.trimLeft(this.content.substring(n.startPosition.offset+n.rawStart.length-1,l==null?void 0:l.end),"{");n.content=h,n.sourceContent=h}let u=e+this.seedOffset;l!=null&&(this.currentIndex=l.end,u=l.end),n.endPosition=this.positionFromOffset(u,u),n.interpolationRegions=new Map,this.interpolationRegions.forEach((h,m)=>{n.content.includes(m)&&n.interpolationRegions.set(m,h)});let d=this.nodeParser.parseNode(n);return this.mergeErrors(d.getErrors()),d}makeAntlersTagNode(e,r){let n=new ee;this.isDoubleBrace?(n.rawStart="{{",n.rawEnd="}}"):(n.rawStart="{",n.rawEnd="}");let i=!1,s=this.currentContent.length;if(s>0&&this.currentContent[s-1]==Ke.Punctuation_ForwardSlash&&(this.currentContent.pop(),i=!0),n.isInterpolationNode=this.isInterpolatedParser,n.isComment=r,n.isSelfClosing=i,n.withParser(this),n.content=this.currentContent.join(""),n.sourceContent=this.sourceContent.join(""),n.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset),e+2>this.inputLen)return n.endPosition=this.positionFromOffset(this.inputLen,this.inputLen-1),this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(J.makeSyntaxError(R.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE,n,"Unexpected end of input while locating end of Antlers region.")),n;if(r?this.lastAntlersEndIndex=e+2+this.seedOffset:this.lastAntlersEndIndex=e+1+this.seedOffset,n.endPosition=this.positionFromOffset(this.lastAntlersEndIndex,this.lastAntlersEndIndex),n.interpolationRegions=new Map,this.interpolationRegions.forEach((l,u)=>{n.content.includes(u)&&n.interpolationRegions.set(u,l)}),n.isComment)return n;let o=this.nodeParser.parseNode(n);return this.mergeErrors(o.getErrors()),o}mergeErrors(e){e.forEach(r=>{this.antlersErrors.push(r)})}getNodes(){return this.nodes}getNodesBetween(e,r){let n=[];return this.nodes.forEach(i=>{var s,o,l,u;((o=(s=i.startPosition)==null?void 0:s.offset)!=null?o:0)>e.offset&&((u=(l=i.endPosition)==null?void 0:l.offset)!=null?u:0)<r.offset&&n.push(i)}),n}antlersNodes(){return this.nodes.filter(function(e){return e instanceof ee})}dumpLiteralNode(e){this.isNoParse||(this.currentContent.length>0&&this.nodes.push(this.makeLiteralNode(this.currentContent,this.startIndex,e)),this.currentContent=[],this.sourceContent=[])}makeLiteralNode(e,r,n){let i=new Rt;return i.content=e.join(""),i.sourceContent=this.sourceContent.join(""),i.startPosition=this.positionFromOffset(r,r),i.endPosition=this.positionFromOffset(n,n),i.sourceContent=this.content.substr(r,n),i.withParser(this),i}addAntlersError(e){this.antlersErrors.push(e)}getAntlersErrors(){return this.antlersErrors}getStructureErrors(){return this.structureErrors}},H=Ke;H.K_CHAR="char",H.K_LINE="line",H.NewLine=`
`,H.AtChar="@",H.LeftBrace="{",H.RightBrace="}",H.LeftBracket="[",H.RightBracket="]",H.String_EscapeCharacter="\\",H.String_Terminator_DoubleQuote='"',H.String_Terminator_SingleQuote="'",H.Punctuation_Question="?",H.Punctuation_Equals="=",H.Punctuation_Comma=",",H.Punctuation_Colon=":",H.Punctuation_Semicolon=";",H.Punctuation_Exclamation="!",H.Punctuation_Pipe="|",H.Punctuation_Ampersand="&",H.Punctuation_LessThan="<",H.Punctuation_GreaterThan=">",H.Punctuation_Octothorp="#",H.Punctuation_Tilde="~",H.Punctuation_FullStop=".",H.Punctuation_Dollar="$",H.Punctuation_Asterisk="*",H.Punctuation_Percent="%",H.Punctuation_Plus="+",H.Punctuation_Minus="-",H.Punctuation_Underscore="_",H.Punctuation_ForwardSlash="/",H.Punctuation_Caret="^",H.LeftParen="(",H.RightParent=")"});var Vt,Od=x(()=>{it();qc();Vt=class{static findAssignmentNodes(e){let r=[];for(let n=0;n<e.length;n++)Jt.isAssignmentOperatorNode(e[n])&&r.push(e[n]);return r}static findAbstractNodesBefore(e,r){return this.findAbstractNodesBeforePosition(e.startPosition,r)}static findAbstractNodesBeforePosition(e,r){if(e==null)return[];let n=[];for(let i=0;i<r.length;i++){let s=r[i];if(s.startPosition!=null){if(s.startPosition.index>e.index)break;n.push(s)}}return n}static isBefore(e,r){return e.startPosition==null?!1:e.startPosition.index<r.index}static isAfter(e,r){return e.startPosition==null?!1:e.startPosition.index>r.index}static findNodesBeforePosition(e,r){let n=[];if(e==null)return n;for(let i=0;i<r.length;i++){let s=r[i];if(!Vt.isLiteralType(s)&&s.startPosition!=null&&s.endPosition!=null){if(s.startPosition.index>e.index)break;n.push(s)}}return n}static findNodesAfterPosition(e,r){let n=[];if(e==null)return n;for(let i=0;i<r.length;i++){let s=r[i];Vt.isLiteralType(s)||s.startPosition!=null&&s.startPosition.index>e.index&&n.push(s)}return n}static findNodeBeforePosition(e,r){if(e==null)return null;let n=null;for(let i=0;i<r.length;i++){let s=r[i];if(!Vt.isLiteralType(s)&&s.startPosition!=null){if(s.startPosition.index>e.index)break;n=s}}return n}static findNodeAfterPosition(e,r){if(e==null)return null;for(let n=0;n<r.length;n++){let i=r[n];if(!Vt.isLiteralType(i)&&i.startPosition!=null&&i.startPosition.index>e.index)return i}return null}static findNodeAtPosition(e,r){if(e==null)return null;for(let n=0;n<r.length;n++){let i=r[n];if(!Vt.isLiteralType(i)&&i.startPosition!=null&&i.endPosition!=null&&e.index>=i.startPosition.index&&e.index<=i.endPosition.index)return i}return null}static isLiteralType(e){return e instanceof Nr||e instanceof Rt}}});var Uc,ZE=x(()=>{it();Od();Uc=class{static isModifierLeftOf(e,r){return Uc.isModifierLeftOfPosition(e.startPosition,r)}static isModifierLeftOfPosition(e,r){let n=Vt.findAbstractNodesBeforePosition(e,r);for(let i=n.length-1;i>=0;i--){let s=n[i];if(s instanceof cr&&i-1>0&&n[i-1]instanceof hr)return!0;if(s instanceof cr||s instanceof lr)return!1;if(s instanceof xr)return!0}return!1}}});var jc,eR=x(()=>{qc();jc=class{constructor(){this.isRightOfOperator=!1;this.isLeftOfOperator=!1}static resolveContext(e,r,n){let i=new jc;return n!=null&&(n.prev!=null&&Jt.isOperatorType(n.prev)&&(i.isRightOfOperator=!0),n.next!=null&&Jt.isOperatorType(n.next)&&(i.isLeftOfOperator=!0)),i}}});var dT,tR=x(()=>{dT=class{constructor(){this.inTagPart=!1;this.inMethodPart=!1}}});var Gc,rR=x(()=>{Ls();it();Gc=class{constructor(){this.modifierChain=null;this.activeModifier=null;this.name="";this.inModifierName=!1;this.inModifierParameter=!1;this.valueCount=0;this.activeValueIndex=-1;this.activeValue=null}static resolveContext(e,r,n,i){var h;let s=r.getParser(),o=new Gc,l=s.getLanguageParser().getCreatedModifierChains(),u=null;for(let m=0;m<l.length;m++){let y=l[m];if(e.isWithin(y.startPosition,y.endPosition,2)){for(let b=0;b<y.modifierChain.length;b++){let T=y.modifierChain[b];if(e.isWithin(T.startPosition,T.endPosition,2)){u=T;break}}if(u!=null)break}}u==null&&n instanceof hr&&i.getDocumentParser().getLanguageParser().hasModifierConstruct(n)&&(u=i.getDocumentParser().getLanguageParser().getModifierConstruct(n));let d=i.wordLeftAt(e);if(u==null&&d!=null&&((h=Ut.instance)==null?void 0:h.hasModifier(d))&&r.modifierChain!=null&&r.modifierChain.modifierChain.length>0)for(let m=0;m<r.modifierChain.modifierChain.length;m++){let y=r.modifierChain.modifierChain[m];if(y.modifier!=null&&y.modifier.name==d){u=y;break}}if(u!=null)if(o.activeModifier=u,o.valueCount=u.valueNodes.length,u.nameNode!=null&&(o.name=u.nameNode.name),u.nameNode!=null&&e.isWithin(u.nameNode.startPosition,u.nameNode.endPosition,1))o.inModifierName=!0;else for(let m=0;m<u.valueNodes.length;m++){let y=u.valueNodes[m];if(e.isWithin(y.startPosition,y.endPosition,1)){o.activeValueIndex=m,o.activeValue=y;break}}return o}}});var Wc,nR=x(()=>{Wc=class{constructor(){this.parameter=null;this.isInName=!1;this.isInValue=!1}static resolveContext(e,r){let n=new Wc;return n.parameter=r,e.isWithinRange(r.namePosition)?n.isInName=!0:e.isWithinRange(r.valuePosition)&&(n.isInValue=!0),n}}});var pT,hT,iR=x(()=>{Fu();pT=class{constructor(){this.refId="";this.node=null;this.leftPunctuation=null;this.rightPunctuation=null;this.leftChar=null;this.rightChar=null;this.word=null;this.char=null;this.interpolatedContext=!1;this.leftWord=null;this.rightWord=null;this.isCursorInIdentifier=!1;this.root=null;this.identifierContext=null;this.position=null;this.feature=null;this.isInParameter=!1;this.subContext=null;this.parameterContext=null;this.modifierContext=null;this.generalContext=null;this.variableContext=null;this.cursorContext=hT.Unknown;this.refId=No()}},hT=(o=>(o[o.Unknown=0]="Unknown",o[o.Variable=1]="Variable",o[o.Modifier=2]="Modifier",o[o.Parameter=3]="Parameter",o[o.General=4]="General",o[o.LanguageOperator=5]="LanguageOperator",o))(hT||{})});var Hc,sR=x(()=>{Fi();it();Hc=class{constructor(){this.variableNode=null;this.varPathText=""}static resolveContext(e,r,n,i){var m;if(n==null)return null;let s=n,o=i.getDocumentParser().getLanguageParser(),l=new Hc,u=(m=i.wordAt(e))!=null?m:"";n instanceof Yt&&o.isMergedVariableComponent(n)==!1&&n.prev instanceof xe&&(s=n.prev);let d="";if(o.isMergedVariableComponent(s)){let y=o.getMergedVariable(s);y.startPosition!=null&&(d=i.getText(y.startPosition.index,e.index).trim()),l.variableNode=y}else s instanceof xe&&(l.variableNode=s,d=s.name,s.variableReference!=null&&(d=s.variableReference.normalizedReference));d.length>0&&(d=Bn(d,"\\.",":"));let h=d.split(":");return u.trim().length>0&&h.pop(),d=h.join(":"),d.endsWith(":")&&(d=rh(d,":")),l.varPathText=d,l}}});var ys,mT=x(()=>{it();ZE();eR();tR();rR();nR();iR();sR();ys=class{static resolveIdentifierContext(e,r){let n=new dT;return r.nameMethodPartStartsOn!=null?e.char<r.nameMethodPartStartsOn.char?(n.inTagPart=!0,n.inMethodPart=!1):(n.inTagPart=!1,n.inMethodPart=!0):(n.inMethodPart=!1,n.inTagPart=!0),n}static resolveContext(e,r,n,i=!1,s=null){var o,l,u,d,h,m;if(r==null||e==null)return null;if(r instanceof _n||r instanceof ee){let y=new pT;if(r.nameStartsOn!=null&&e.line==r.nameStartsOn.line){let S=!1;e.char>=r.nameStartsOn.char&&(S=!0),r.nameEndsOn!=null&&e.char>r.nameEndsOn.char&&(S=!1),S&&(y.isCursorInIdentifier=!0,y.identifierContext=ys.resolveIdentifierContext(e,r))}r.addContext(y),s!=null&&s.addContext(y),y.interpolatedContext=i,y.node=r,y.position=e,y.root=s,y.leftPunctuation=n.punctuationLeftAt(e),y.rightPunctuation=n.punctuationRightAt(e),y.leftChar=n.charLeftAt(e),y.rightChar=n.charRightAt(e),y.isCursorInIdentifier==!0&&y.leftChar==" "&&(y.leftChar=":"),y.word=n.wordAt(e),y.char=n.charAt(e),y.leftWord=n.wordLeftAt(e),y.rightWord=n.wordRightAt(e);let b=!1;if(r.parameters.length>0)for(let S=0;S<r.parameters.length;S++){let w=r.parameters[S];if(w.blockPosition!=null&&w.blockPosition.start!=null&&w.blockPosition.end!=null&&e.char>w.blockPosition.start.char&&e.char<=w.blockPosition.end.char+1&&e.line>=((u=(l=(o=w.namePosition)==null?void 0:o.start)==null?void 0:l.line)!=null?u:w.blockPosition.start.line)&&e.line<=((m=(h=(d=w.valuePosition)==null?void 0:d.end)==null?void 0:h.line)!=null?m:w.blockPosition.end.line)){y.cursorContext=3,y.parameterContext=Wc.resolveContext(e,w),y.isInParameter=!0,y.feature=w,b=!0;break}}if(b||r.runtimeNodes.forEach(S=>{S.startPosition!=null&&S.endPosition!=null&&e.isWithin(S.startPosition,S.endPosition,1)&&(y.feature=S)}),b&&r.interpolationRegions.size>0){let S=Array.from(r.interpolationRegions,([w,_])=>_);for(let w=0;w<S.length;w++){let _=S[w];if(e.index>=_.startOffset&&e.index<=_.endOffset){let C=r.getInterpolationNode(_.varContent);return ys.resolveContext(e,C,n,!0,s)}}}return y.feature instanceof xe&&y.feature.isInterpolationReference&&y.feature.parent!=null&&y.feature.parent instanceof ee&&y.feature.parent.processedInterpolationRegions.has(y.feature.name)?ys.resolveContext(e,y.feature.parent.getInterpolationNode(y.feature.name),n,!0,s):(Uc.isModifierLeftOfPosition(e,r.runtimeNodes)?(y.cursorContext=2,y.modifierContext=Gc.resolveContext(e,r,y.feature,n)):b||(y.cursorContext=4,y.generalContext=jc.resolveContext(e,r,y.feature)),y.variableContext=Hc.resolveContext(e,r,y.feature,n),y)}return null}}});var Ha,gT=x(()=>{Da();it();Ha=class{static isPairedNode(e){return e instanceof Mr?!0:e instanceof _n||e instanceof ee?e.isClosedBy!=null:!1}static findAncestorsBeforePosition(e,r){var l,u,d,h,m,y;let n=[],i=[],s=-1,o=-1;for(let b=0;b<r.length;b++){let T=r[b];if(T.isClosedBy!=null&&((l=T.isClosedBy.endPosition)==null?void 0:l.isBefore(e))&&(i.push(T),i.push(T.isClosedBy),s=T.isClosedBy.endPosition.line,o=T.isClosedBy.endPosition.char),!(s>-1&&T.endPosition!=null&&(T.endPosition.line<s||T.endPosition.line==s&&o>-1&&T.endPosition.char<o))){if(T.startPosition!=null){if(e.isBefore(T.startPosition))break;if(T.startPosition.line==e.line&&e.char<=T.startPosition.char){i.push(T);continue}}if(((u=Wr.instance)==null?void 0:u.requiresClose(T))&&T.isClosedBy!=null){let S=T.isClosedBy;if((d=S.startPosition)==null?void 0:d.isBefore(e)){i.push(T),i.push(S);continue}else((h=S.startPosition)==null?void 0:h.line)==e.line&&((m=S.startPosition)==null?void 0:m.char)<e.char?i.push(T):n.push(T)}else if(T.parent!=null){let S=T.parent;if(i.includes(S)){i.push(T);continue}else((y=T.endPosition)==null?void 0:y.isBefore(e))?n.push(T):i.push(T)}else n.push(T)}}return n}}});var TT,aR=x(()=>{Od();mT();gT();it();TT=class{constructor(e){this.doc=e}getAncestorsAt(e,r){let n=this.position(e,r);return n==null?[]:Ha.findAncestorsBeforePosition(n,this.doc.getAllAntlersNodes())}getNameAt(e,r){let n=this.getNodeAt(e,r);return n instanceof ee?n.name:null}getScopeAt(e,r){let n=this.getNodeAt(e,r);return n instanceof ee&&n.currentScope!=null?n.currentScope:null}getFeaturesAt(e,r){let n=this.position(e,r),i=this.getNodeAt(e,r);return ys.resolveContext(n,i,this.doc,!1,i)}getNodeAt(e,r){return Vt.findNodeAtPosition(this.position(e,r),this.doc.getDocumentParser().getNodes())}getNodeBefore(e,r){return Vt.findNodeBeforePosition(this.position(e,r),this.doc.getDocumentParser().getNodes())}getNodeAfter(e,r){return Vt.findNodeAfterPosition(this.position(e,r),this.doc.getDocumentParser().getNodes())}getNodesBefore(e,r){return Vt.findNodesBeforePosition(this.position(e,r),this.doc.getDocumentParser().getNodes())}getAssignmentsBefore(e,r){let n=this.doc.getDocumentParser().getLanguageParser().getRuntimeAssignments(),i=[],s=this.position(e,r);return s!=null&&n.forEach(o=>{Vt.isBefore(o.target,s)&&i.push(o)}),i}getAssignmentsAfter(e,r){let n=this.doc.getDocumentParser().getLanguageParser().getRuntimeAssignments(),i=[],s=this.position(e,r);return s!=null&&n.forEach(o=>{Vt.isAfter(o.target,s)&&i.push(o)}),i}getNodesAfter(e,r){return Vt.findNodesAfterPosition(this.position(e,r),this.doc.getDocumentParser().getNodes())}getIsWithinPairedNode(e,r){let n=this.getNodeBefore(e,r);return n==null?!1:Ha.isPairedNode(n)}position(e,r){return this.doc.getDocumentParser().positionFromCursor(e,r)}charLeftAt(e,r){return this.doc.getDocumentParser().charLeftAtCursor(e,r)}charAt(e,r){return this.doc.getDocumentParser().charAtCursor(e,r)}charRightAt(e,r){return this.doc.getDocumentParser().charRightAtCursor(e,r)}wordLeftAt(e,r,n=4){return this.doc.getDocumentParser().wordLeftAtCursor(e,r,n)}wordRightAt(e,r,n=4){return this.doc.getDocumentParser().wordRightAtCursor(e,r,n)}wordAt(e,r,n=4){return this.doc.getDocumentParser().wordAtCursor(e,r,n)}punctuationLeftAt(e,r,n=4){return this.doc.getDocumentParser().punctuationLeftAtCursor(e,r,n)}punctuationRightAt(e,r,n=4){return this.doc.getDocumentParser().punctuationRightAtCursor(e,r,n)}}});var _T,oR=x(()=>{_T=class{constructor(e){this.doc=e}hasStructureErrors(){return this.doc.getDocumentParser().getStructureErrors().length>0}getFirstStructureError(){return this.doc.getDocumentParser().getStructureErrors()[0]}hasAny(){return this.all().length>0}all(){let e=[],r=[];return this.doc.getAllAntlersNodes().forEach(n=>{n.getErrors().forEach(i=>{e.includes(i.hash())==!1&&(e.push(i.hash()),r.push(i))})}),this.doc.getDocumentParser().getAntlersErrors().forEach(n=>{e.includes(n.hash())==!1&&(e.push(n.hash()),r.push(n))}),r}}});var ra=ye(an=>{"use strict";var bs={ANCHOR:"&",COMMENT:"#",TAG:"!",DIRECTIVES_END:"-",DOCUMENT_END:"."},Yc={ALIAS:"ALIAS",BLANK_LINE:"BLANK_LINE",BLOCK_FOLDED:"BLOCK_FOLDED",BLOCK_LITERAL:"BLOCK_LITERAL",COMMENT:"COMMENT",DIRECTIVE:"DIRECTIVE",DOCUMENT:"DOCUMENT",FLOW_MAP:"FLOW_MAP",FLOW_SEQ:"FLOW_SEQ",MAP:"MAP",MAP_KEY:"MAP_KEY",MAP_VALUE:"MAP_VALUE",PLAIN:"PLAIN",QUOTE_DOUBLE:"QUOTE_DOUBLE",QUOTE_SINGLE:"QUOTE_SINGLE",SEQ:"SEQ",SEQ_ITEM:"SEQ_ITEM"},Hq="tag:yaml.org,2002:",Yq={MAP:"tag:yaml.org,2002:map",SEQ:"tag:yaml.org,2002:seq",STR:"tag:yaml.org,2002:str"};function lR(t){let e=[0],r=t.indexOf(`
`);for(;r!==-1;)r+=1,e.push(r),r=t.indexOf(`
`,r);return e}function cR(t){let e,r;return typeof t=="string"?(e=lR(t),r=t):(Array.isArray(t)&&(t=t[0]),t&&t.context&&(t.lineStarts||(t.lineStarts=lR(t.context.src)),e=t.lineStarts,r=t.context.src)),{lineStarts:e,src:r}}function yT(t,e){if(typeof t!="number"||t<0)return null;let{lineStarts:r,src:n}=cR(e);if(!r||!n||t>n.length)return null;for(let s=0;s<r.length;++s){let o=r[s];if(t<o)return{line:s,col:t-r[s-1]+1};if(t===o)return{line:s+1,col:1}}let i=r.length;return{line:i,col:t-r[i-1]+1}}function Kq(t,e){let{lineStarts:r,src:n}=cR(e);if(!r||!(t>=1)||t>r.length)return null;let i=r[t-1],s=r[t];for(;s&&s>i&&n[s-1]===`
`;)--s;return n.slice(i,s)}function $q({start:t,end:e},r,n=80){let i=Kq(t.line,r);if(!i)return null;let{col:s}=t;if(i.length>n)if(s<=n-10)i=i.substr(0,n-1)+"\u2026";else{let h=Math.round(n/2);i.length>s+h&&(i=i.substr(0,s+h-1)+"\u2026"),s-=i.length-n,i="\u2026"+i.substr(1-n)}let o=1,l="";e&&(e.line===t.line&&s+(e.col-t.col)<=n+1?o=e.col-t.col:(o=Math.min(i.length+1,n)-s,l="\u2026"));let u=s>1?" ".repeat(s-1):"",d="^".repeat(o);return`${i}
${u}${d}${l}`}var Ya=class{static copy(e){return new Ya(e.start,e.end)}constructor(e,r){this.start=e,this.end=r||e}isEmpty(){return typeof this.start!="number"||!this.end||this.end<=this.start}setOrigRange(e,r){let{start:n,end:i}=this;if(e.length===0||i<=e[0])return this.origStart=n,this.origEnd=i,r;let s=r;for(;s<e.length&&!(e[s]>n);)++s;this.origStart=n+s;let o=s;for(;s<e.length&&!(e[s]>=i);)++s;return this.origEnd=i+s,o}},Ar=class{static addStringTerminator(e,r,n){if(n[n.length-1]===`
`)return n;let i=Ar.endOfWhiteSpace(e,r);return i>=e.length||e[i]===`
`?n+`
`:n}static atDocumentBoundary(e,r,n){let i=e[r];if(!i)return!0;let s=e[r-1];if(s&&s!==`
`)return!1;if(n){if(i!==n)return!1}else if(i!==bs.DIRECTIVES_END&&i!==bs.DOCUMENT_END)return!1;let o=e[r+1],l=e[r+2];if(o!==i||l!==i)return!1;let u=e[r+3];return!u||u===`
`||u==="	"||u===" "}static endOfIdentifier(e,r){let n=e[r],i=n==="<",s=i?[`
`,"	"," ",">"]:[`
`,"	"," ","[","]","{","}",","];for(;n&&s.indexOf(n)===-1;)n=e[r+=1];return i&&n===">"&&(r+=1),r}static endOfIndent(e,r){let n=e[r];for(;n===" ";)n=e[r+=1];return r}static endOfLine(e,r){let n=e[r];for(;n&&n!==`
`;)n=e[r+=1];return r}static endOfWhiteSpace(e,r){let n=e[r];for(;n==="	"||n===" ";)n=e[r+=1];return r}static startOfLine(e,r){let n=e[r-1];if(n===`
`)return r;for(;n&&n!==`
`;)n=e[r-=1];return r+1}static endOfBlockIndent(e,r,n){let i=Ar.endOfIndent(e,n);if(i>n+r)return i;{let s=Ar.endOfWhiteSpace(e,i),o=e[s];if(!o||o===`
`)return s}return null}static atBlank(e,r,n){let i=e[r];return i===`
`||i==="	"||i===" "||n&&!i}static nextNodeIsIndented(e,r,n){return!e||r<0?!1:r>0?!0:n&&e==="-"}static normalizeOffset(e,r){let n=e[r];return n?n!==`
`&&e[r-1]===`
`?r-1:Ar.endOfWhiteSpace(e,r):r}static foldNewline(e,r,n){let i=0,s=!1,o="",l=e[r+1];for(;l===" "||l==="	"||l===`
`;){switch(l){case`
`:i=0,r+=1,o+=`
`;break;case"	":i<=n&&(s=!0),r=Ar.endOfWhiteSpace(e,r+2)-1;break;case" ":i+=1,r+=1;break}l=e[r+1]}return o||(o=" "),l&&i<=n&&(s=!0),{fold:o,offset:r,error:s}}constructor(e,r,n){Object.defineProperty(this,"context",{value:n||null,writable:!0}),this.error=null,this.range=null,this.valueRange=null,this.props=r||[],this.type=e,this.value=null}getPropValue(e,r,n){if(!this.context)return null;let{src:i}=this.context,s=this.props[e];return s&&i[s.start]===r?i.slice(s.start+(n?1:0),s.end):null}get anchor(){for(let e=0;e<this.props.length;++e){let r=this.getPropValue(e,bs.ANCHOR,!0);if(r!=null)return r}return null}get comment(){let e=[];for(let r=0;r<this.props.length;++r){let n=this.getPropValue(r,bs.COMMENT,!0);n!=null&&e.push(n)}return e.length>0?e.join(`
`):null}commentHasRequiredWhitespace(e){let{src:r}=this.context;if(this.header&&e===this.header.end||!this.valueRange)return!1;let{end:n}=this.valueRange;return e!==n||Ar.atBlank(r,n-1)}get hasComment(){if(this.context){let{src:e}=this.context;for(let r=0;r<this.props.length;++r)if(e[this.props[r].start]===bs.COMMENT)return!0}return!1}get hasProps(){if(this.context){let{src:e}=this.context;for(let r=0;r<this.props.length;++r)if(e[this.props[r].start]!==bs.COMMENT)return!0}return!1}get includesTrailingLines(){return!1}get jsonLike(){return[Yc.FLOW_MAP,Yc.FLOW_SEQ,Yc.QUOTE_DOUBLE,Yc.QUOTE_SINGLE].indexOf(this.type)!==-1}get rangeAsLinePos(){if(!this.range||!this.context)return;let e=yT(this.range.start,this.context.root);if(!e)return;let r=yT(this.range.end,this.context.root);return{start:e,end:r}}get rawValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:r}=this.valueRange;return this.context.src.slice(e,r)}get tag(){for(let e=0;e<this.props.length;++e){let r=this.getPropValue(e,bs.TAG,!1);if(r!=null){if(r[1]==="<")return{verbatim:r.slice(2,-1)};{let[n,i,s]=r.match(/^(.*!)([^!]*)$/);return{handle:i,suffix:s}}}}return null}get valueRangeContainsNewline(){if(!this.valueRange||!this.context)return!1;let{start:e,end:r}=this.valueRange,{src:n}=this.context;for(let i=e;i<r;++i)if(n[i]===`
`)return!0;return!1}parseComment(e){let{src:r}=this.context;if(r[e]===bs.COMMENT){let n=Ar.endOfLine(r,e+1),i=new Ya(e,n);return this.props.push(i),n}return e}setOrigRanges(e,r){return this.range&&(r=this.range.setOrigRange(e,r)),this.valueRange&&this.valueRange.setOrigRange(e,r),this.props.forEach(n=>n.setOrigRange(e,r)),r}toString(){let{context:{src:e},range:r,value:n}=this;if(n!=null)return n;let i=e.slice(r.start,r.end);return Ar.addStringTerminator(e,r.end,i)}},Il=class extends Error{constructor(e,r,n){if(!n||!(r instanceof Ar))throw new Error(`Invalid arguments for new ${e}`);super();this.name=e,this.message=n,this.source=r}makePretty(){if(!this.source)return;this.nodeType=this.source.type;let e=this.source.context&&this.source.context.root;if(typeof this.offset=="number"){this.range=new Ya(this.offset,this.offset+1);let r=e&&yT(this.offset,e);if(r){let n={line:r.line,col:r.col+1};this.linePos={start:r,end:n}}delete this.offset}else this.range=this.source.range,this.linePos=this.source.rangeAsLinePos;if(this.linePos){let{line:r,col:n}=this.linePos.start;this.message+=` at line ${r}, column ${n}`;let i=e&&$q(this.linePos,e);i&&(this.message+=`:

${i}
`)}delete this.source}},uR=class extends Il{constructor(e,r){super("YAMLReferenceError",e,r)}},wd=class extends Il{constructor(e,r){super("YAMLSemanticError",e,r)}},fR=class extends Il{constructor(e,r){super("YAMLSyntaxError",e,r)}},dR=class extends Il{constructor(e,r){super("YAMLWarning",e,r)}};function zq(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Kc=class extends Ar{static endOfLine(e,r,n){let i=e[r],s=r;for(;i&&i!==`
`&&!(n&&(i==="["||i==="]"||i==="{"||i==="}"||i===","));){let o=e[s+1];if(i===":"&&(!o||o===`
`||o==="	"||o===" "||n&&o===",")||(i===" "||i==="	")&&o==="#")break;s+=1,i=o}return s}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:r}=this.valueRange,{src:n}=this.context,i=n[r-1];for(;e<r&&(i===`
`||i==="	"||i===" ");)i=n[--r-1];let s="";for(let l=e;l<r;++l){let u=n[l];if(u===`
`){let{fold:d,offset:h}=Ar.foldNewline(n,l,-1);s+=d,l=h}else if(u===" "||u==="	"){let d=l,h=n[l+1];for(;l<r&&(h===" "||h==="	");)l+=1,h=n[l+1];h!==`
`&&(s+=l>d?n.slice(d,l+1):u)}else s+=u}let o=n[e];switch(o){case"	":{let l="Plain value cannot start with a tab character";return{errors:[new wd(this,l)],str:s}}case"@":case"`":{let l=`Plain value cannot start with reserved character ${o}`;return{errors:[new wd(this,l)],str:s}}default:return s}}parseBlockValue(e){let{indent:r,inFlow:n,src:i}=this.context,s=e,o=e;for(let l=i[s];l===`
`&&!Ar.atDocumentBoundary(i,s+1);l=i[s]){let u=Ar.endOfBlockIndent(i,r,s+1);if(u===null||i[u]==="#")break;i[u]===`
`?s=u:(o=Kc.endOfLine(i,u,n),s=o)}return this.valueRange.isEmpty()&&(this.valueRange.start=e),this.valueRange.end=o,o}parse(e,r){this.context=e;let{inFlow:n,src:i}=e,s=r,o=i[s];return o&&o!=="#"&&o!==`
`&&(s=Kc.endOfLine(i,r,n)),this.valueRange=new Ya(r,s),s=Ar.endOfWhiteSpace(i,s),s=this.parseComment(s),(!this.hasComment||this.valueRange.isEmpty())&&(s=this.parseBlockValue(s)),s}};an.Char=bs;an.Node=Ar;an.PlainValue=Kc;an.Range=Ya;an.Type=Yc;an.YAMLError=Il;an.YAMLReferenceError=uR;an.YAMLSemanticError=wd;an.YAMLSyntaxError=fR;an.YAMLWarning=dR;an._defineProperty=zq;an.defaultTagPrefix=Hq;an.defaultTags=Yq});var _R=ye(TR=>{"use strict";var $=ra(),Pl=class extends $.Node{constructor(){super($.Type.BLANK_LINE)}get includesTrailingLines(){return!0}parse(e,r){return this.context=e,this.range=new $.Range(r,r+1),r+1}},Ld=class extends $.Node{constructor(e,r){super(e,r);this.node=null}get includesTrailingLines(){return!!this.node&&this.node.includesTrailingLines}parse(e,r){this.context=e;let{parseNode:n,src:i}=e,{atLineStart:s,lineStart:o}=e;!s&&this.type===$.Type.SEQ_ITEM&&(this.error=new $.YAMLSemanticError(this,"Sequence items must not have preceding content on the same line"));let l=s?r-o:e.indent,u=$.Node.endOfWhiteSpace(i,r+1),d=i[u],h=d==="#",m=[],y=null;for(;d===`
`||d==="#";){if(d==="#"){let T=$.Node.endOfLine(i,u+1);m.push(new $.Range(u,T)),u=T}else{s=!0,o=u+1;let T=$.Node.endOfWhiteSpace(i,o);i[T]===`
`&&m.length===0&&(y=new Pl,o=y.parse({src:i},o)),u=$.Node.endOfIndent(i,o)}d=i[u]}if($.Node.nextNodeIsIndented(d,u-(o+l),this.type!==$.Type.SEQ_ITEM)?this.node=n({atLineStart:s,inCollection:!1,indent:l,lineStart:o,parent:this},u):d&&o>r+1&&(u=o-1),this.node){if(y){let T=e.parent.items||e.parent.contents;T&&T.push(y)}m.length&&Array.prototype.push.apply(this.props,m),u=this.node.range.end}else if(h){let T=m[0];this.props.push(T),u=T.end}else u=$.Node.endOfLine(i,r+1);let b=this.node?this.node.valueRange.end:u;return this.valueRange=new $.Range(r,b),u}setOrigRanges(e,r){return r=super.setOrigRanges(e,r),this.node?this.node.setOrigRanges(e,r):r}toString(){let{context:{src:e},node:r,range:n,value:i}=this;if(i!=null)return i;let s=r?e.slice(n.start,r.range.start)+String(r):e.slice(n.start,n.end);return $.Node.addStringTerminator(e,n.end,s)}},Cl=class extends $.Node{constructor(){super($.Type.COMMENT)}parse(e,r){this.context=e;let n=this.parseComment(r);return this.range=new $.Range(r,n),n}};function bT(t){let e=t;for(;e instanceof Ld;)e=e.node;if(!(e instanceof Al))return null;let r=e.items.length,n=-1;for(let o=r-1;o>=0;--o){let l=e.items[o];if(l.type===$.Type.COMMENT){let{indent:u,lineStart:d}=l.context;if(u>0&&l.range.start>=d+u)break;n=o}else if(l.type===$.Type.BLANK_LINE)n=o;else break}if(n===-1)return null;let i=e.items.splice(n,r-n),s=i[0].range.start;for(;e.range.end=s,e.valueRange&&e.valueRange.end>s&&(e.valueRange.end=s),e!==t;)e=e.context.parent;return i}var Al=class extends $.Node{static nextContentHasIndent(e,r,n){let i=$.Node.endOfLine(e,r)+1;r=$.Node.endOfWhiteSpace(e,i);let s=e[r];return s?r>=i+n?!0:s!=="#"&&s!==`
`?!1:Al.nextContentHasIndent(e,r,n):!1}constructor(e){super(e.type===$.Type.SEQ_ITEM?$.Type.SEQ:$.Type.MAP);for(let n=e.props.length-1;n>=0;--n)if(e.props[n].start<e.context.lineStart){this.props=e.props.slice(0,n+1),e.props=e.props.slice(n+1);let i=e.props[0]||e.valueRange;e.range.start=i.start;break}this.items=[e];let r=bT(e);r&&Array.prototype.push.apply(this.items,r)}get includesTrailingLines(){return this.items.length>0}parse(e,r){this.context=e;let{parseNode:n,src:i}=e,s=$.Node.startOfLine(i,r),o=this.items[0];o.context.parent=this,this.valueRange=$.Range.copy(o.valueRange);let l=o.range.start-o.context.lineStart,u=r;u=$.Node.normalizeOffset(i,u);let d=i[u],h=$.Node.endOfWhiteSpace(i,s)===u,m=!1;for(;d;){for(;d===`
`||d==="#";){if(h&&d===`
`&&!m){let T=new Pl;if(u=T.parse({src:i},u),this.valueRange.end=u,u>=i.length){d=null;break}this.items.push(T),u-=1}else if(d==="#"){if(u<s+l&&!Al.nextContentHasIndent(i,u,l))return u;let T=new Cl;if(u=T.parse({indent:l,lineStart:s,src:i},u),this.items.push(T),this.valueRange.end=u,u>=i.length){d=null;break}}if(s=u+1,u=$.Node.endOfIndent(i,s),$.Node.atBlank(i,u)){let T=$.Node.endOfWhiteSpace(i,u),S=i[T];(!S||S===`
`||S==="#")&&(u=T)}d=i[u],h=!0}if(!d)break;if(u!==s+l&&(h||d!==":")){if(u<s+l){s>r&&(u=s);break}else if(!this.error){let T="All collection items must start at the same column";this.error=new $.YAMLSyntaxError(this,T)}}if(o.type===$.Type.SEQ_ITEM){if(d!=="-"){s>r&&(u=s);break}}else if(d==="-"&&!this.error){let T=i[u+1];if(!T||T===`
`||T==="	"||T===" "){let S="A collection cannot be both a mapping and a sequence";this.error=new $.YAMLSyntaxError(this,S)}}let y=n({atLineStart:h,inCollection:!0,indent:l,lineStart:s,parent:this},u);if(!y)return u;if(this.items.push(y),this.valueRange.end=y.valueRange.end,u=$.Node.normalizeOffset(i,y.range.end),d=i[u],h=!1,m=y.includesTrailingLines,d){let T=u-1,S=i[T];for(;S===" "||S==="	";)S=i[--T];S===`
`&&(s=T+1,h=!0)}let b=bT(y);b&&Array.prototype.push.apply(this.items,b)}return u}setOrigRanges(e,r){return r=super.setOrigRanges(e,r),this.items.forEach(n=>{r=n.setOrigRanges(e,r)}),r}toString(){let{context:{src:e},items:r,range:n,value:i}=this;if(i!=null)return i;let s=e.slice(n.start,r[0].range.start)+String(r[0]);for(let o=1;o<r.length;++o){let l=r[o],{atLineStart:u,indent:d}=l.context;if(u)for(let h=0;h<d;++h)s+=" ";s+=String(l)}return $.Node.addStringTerminator(e,n.end,s)}},pR=class extends $.Node{constructor(){super($.Type.DIRECTIVE);this.name=null}get parameters(){let e=this.rawValue;return e?e.trim().split(/[ \t]+/):[]}parseName(e){let{src:r}=this.context,n=e,i=r[n];for(;i&&i!==`
`&&i!=="	"&&i!==" ";)i=r[n+=1];return this.name=r.slice(e,n),n}parseParameters(e){let{src:r}=this.context,n=e,i=r[n];for(;i&&i!==`
`&&i!=="#";)i=r[n+=1];return this.valueRange=new $.Range(e,n),n}parse(e,r){this.context=e;let n=this.parseName(r+1);return n=this.parseParameters(n),n=this.parseComment(n),this.range=new $.Range(r,n),n}},$c=class extends $.Node{static startCommentOrEndBlankLine(e,r){let n=$.Node.endOfWhiteSpace(e,r),i=e[n];return i==="#"||i===`
`?n:r}constructor(){super($.Type.DOCUMENT);this.directives=null,this.contents=null,this.directivesEndMarker=null,this.documentEndMarker=null}parseDirectives(e){let{src:r}=this.context;this.directives=[];let n=!0,i=!1,s=e;for(;!$.Node.atDocumentBoundary(r,s,$.Char.DIRECTIVES_END);)switch(s=$c.startCommentOrEndBlankLine(r,s),r[s]){case`
`:if(n){let o=new Pl;s=o.parse({src:r},s),s<r.length&&this.directives.push(o)}else s+=1,n=!0;break;case"#":{let o=new Cl;s=o.parse({src:r},s),this.directives.push(o),n=!1}break;case"%":{let o=new pR;s=o.parse({parent:this,src:r},s),this.directives.push(o),i=!0,n=!1}break;default:return i?this.error=new $.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s}return r[s]?(this.directivesEndMarker=new $.Range(s,s+3),s+3):(i?this.error=new $.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s)}parseContents(e){let{parseNode:r,src:n}=this.context;this.contents||(this.contents=[]);let i=e;for(;n[i-1]==="-";)i-=1;let s=$.Node.endOfWhiteSpace(n,e),o=i===e;for(this.valueRange=new $.Range(s);!$.Node.atDocumentBoundary(n,s,$.Char.DOCUMENT_END);){switch(n[s]){case`
`:if(o){let l=new Pl;s=l.parse({src:n},s),s<n.length&&this.contents.push(l)}else s+=1,o=!0;i=s;break;case"#":{let l=new Cl;s=l.parse({src:n},s),this.contents.push(l),o=!1}break;default:{let l=$.Node.endOfIndent(n,s),d=r({atLineStart:o,indent:-1,inFlow:!1,inCollection:!1,lineStart:i,parent:this},l);if(!d)return this.valueRange.end=l;this.contents.push(d),s=d.range.end,o=!1;let h=bT(d);h&&Array.prototype.push.apply(this.contents,h)}}s=$c.startCommentOrEndBlankLine(n,s)}if(this.valueRange.end=s,n[s]&&(this.documentEndMarker=new $.Range(s,s+3),s+=3,n[s])){if(s=$.Node.endOfWhiteSpace(n,s),n[s]==="#"){let l=new Cl;s=l.parse({src:n},s),this.contents.push(l)}switch(n[s]){case`
`:s+=1;break;case void 0:break;default:this.error=new $.YAMLSyntaxError(this,"Document end marker line cannot have a non-comment suffix")}}return s}parse(e,r){e.root=this,this.context=e;let{src:n}=e,i=n.charCodeAt(r)===65279?r+1:r;return i=this.parseDirectives(i),i=this.parseContents(i),i}setOrigRanges(e,r){return r=super.setOrigRanges(e,r),this.directives.forEach(n=>{r=n.setOrigRanges(e,r)}),this.directivesEndMarker&&(r=this.directivesEndMarker.setOrigRange(e,r)),this.contents.forEach(n=>{r=n.setOrigRanges(e,r)}),this.documentEndMarker&&(r=this.documentEndMarker.setOrigRange(e,r)),r}toString(){let{contents:e,directives:r,value:n}=this;if(n!=null)return n;let i=r.join("");return e.length>0&&((r.length>0||e[0].type===$.Type.COMMENT)&&(i+=`---
`),i+=e.join("")),i[i.length-1]!==`
`&&(i+=`
`),i}},hR=class extends $.Node{parse(e,r){this.context=e;let{src:n}=e,i=$.Node.endOfIdentifier(n,r+1);return this.valueRange=new $.Range(r+1,i),i=$.Node.endOfWhiteSpace(n,i),i=this.parseComment(i),i}},na={CLIP:"CLIP",KEEP:"KEEP",STRIP:"STRIP"},mR=class extends $.Node{constructor(e,r){super(e,r);this.blockIndent=null,this.chomping=na.CLIP,this.header=null}get includesTrailingLines(){return this.chomping===na.KEEP}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:r}=this.valueRange,{indent:n,src:i}=this.context;if(this.valueRange.isEmpty())return"";let s=null,o=i[r-1];for(;o===`
`||o==="	"||o===" ";){if(r-=1,r<=e){if(this.chomping===na.KEEP)break;return""}o===`
`&&(s=r),o=i[r-1]}let l=r+1;s&&(this.chomping===na.KEEP?(l=s,r=this.valueRange.end):r=s);let u=n+this.blockIndent,d=this.type===$.Type.BLOCK_FOLDED,h=!0,m="",y="",b=!1;for(let T=e;T<r;++T){for(let w=0;w<u&&i[T]===" ";++w)T+=1;let S=i[T];if(S===`
`)y===`
`?m+=`
`:y=`
`;else{let w=$.Node.endOfLine(i,T),_=i.slice(T,w);T=w,d&&(S===" "||S==="	")&&T<l?(y===" "?y=`
`:!b&&!h&&y===`
`&&(y=`

`),m+=y+_,y=w<r&&i[w]||"",b=!0):(m+=y+_,y=d&&T<l?" ":`
`,b=!1),h&&_!==""&&(h=!1)}}return this.chomping===na.STRIP?m:m+`
`}parseBlockHeader(e){let{src:r}=this.context,n=e+1,i="";for(;;){let s=r[n];switch(s){case"-":this.chomping=na.STRIP;break;case"+":this.chomping=na.KEEP;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":i+=s;break;default:return this.blockIndent=Number(i)||null,this.header=new $.Range(e,n),n}n+=1}}parseBlockValue(e){let{indent:r,src:n}=this.context,i=!!this.blockIndent,s=e,o=e,l=1;for(let u=n[s];u===`
`&&(s+=1,!$.Node.atDocumentBoundary(n,s));u=n[s]){let d=$.Node.endOfBlockIndent(n,r,s);if(d===null)break;let h=n[d],m=d-(s+r);if(this.blockIndent){if(h&&h!==`
`&&m<this.blockIndent){if(n[d]==="#")break;if(!this.error){let b=`Block scalars must not be less indented than their ${i?"explicit indentation indicator":"first line"}`;this.error=new $.YAMLSemanticError(this,b)}}}else if(n[d]!==`
`){if(m<l){let y="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";this.error=new $.YAMLSemanticError(this,y)}this.blockIndent=m}else m>l&&(l=m);n[d]===`
`?s=d:s=o=$.Node.endOfLine(n,d)}return this.chomping!==na.KEEP&&(s=n[o]?o+1:o),this.valueRange=new $.Range(e+1,s),s}parse(e,r){this.context=e;let{src:n}=e,i=this.parseBlockHeader(r);return i=$.Node.endOfWhiteSpace(n,i),i=this.parseComment(i),i=this.parseBlockValue(i),i}setOrigRanges(e,r){return r=super.setOrigRanges(e,r),this.header?this.header.setOrigRange(e,r):r}},gR=class extends $.Node{constructor(e,r){super(e,r);this.items=null}prevNodeIsJsonLike(e=this.items.length){let r=this.items[e-1];return!!r&&(r.jsonLike||r.type===$.Type.COMMENT&&this.prevNodeIsJsonLike(e-1))}parse(e,r){this.context=e;let{parseNode:n,src:i}=e,{indent:s,lineStart:o}=e,l=i[r];this.items=[{char:l,offset:r}];let u=$.Node.endOfWhiteSpace(i,r+1);for(l=i[u];l&&l!=="]"&&l!=="}";){switch(l){case`
`:{o=u+1;let d=$.Node.endOfWhiteSpace(i,o);if(i[d]===`
`){let h=new Pl;o=h.parse({src:i},o),this.items.push(h)}if(u=$.Node.endOfIndent(i,o),u<=o+s&&(l=i[u],u<o+s||l!=="]"&&l!=="}")){let h="Insufficient indentation in flow collection";this.error=new $.YAMLSemanticError(this,h)}}break;case",":this.items.push({char:l,offset:u}),u+=1;break;case"#":{let d=new Cl;u=d.parse({src:i},u),this.items.push(d)}break;case"?":case":":{let d=i[u+1];if(d===`
`||d==="	"||d===" "||d===","||l===":"&&this.prevNodeIsJsonLike()){this.items.push({char:l,offset:u}),u+=1;break}}default:{let d=n({atLineStart:!1,inCollection:!1,inFlow:!0,indent:-1,lineStart:o,parent:this},u);if(!d)return this.valueRange=new $.Range(r,u),u;this.items.push(d),u=$.Node.normalizeOffset(i,d.range.end)}}u=$.Node.endOfWhiteSpace(i,u),l=i[u]}return this.valueRange=new $.Range(r,u+1),l&&(this.items.push({char:l,offset:u}),u=$.Node.endOfWhiteSpace(i,u+1),u=this.parseComment(u)),u}setOrigRanges(e,r){return r=super.setOrigRanges(e,r),this.items.forEach(n=>{if(n instanceof $.Node)r=n.setOrigRanges(e,r);else if(e.length===0)n.origOffset=n.offset;else{let i=r;for(;i<e.length&&!(e[i]>n.offset);)++i;n.origOffset=n.offset+i,r=i}}),r}toString(){let{context:{src:e},items:r,range:n,value:i}=this;if(i!=null)return i;let s=r.filter(u=>u instanceof $.Node),o="",l=n.start;return s.forEach(u=>{let d=e.slice(l,u.range.start);l=u.range.end,o+=d+String(u),o[o.length-1]===`
`&&e[l-1]!==`
`&&e[l]===`
`&&(l+=1)}),o+=e.slice(l,n.end),$.Node.addStringTerminator(e,n.end,o)}},Dd=class extends $.Node{static endOfQuote(e,r){let n=e[r];for(;n&&n!=='"';)r+=n==="\\"?2:1,n=e[r];return r+1}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:r,end:n}=this.valueRange,{indent:i,src:s}=this.context;s[n-1]!=='"'&&e.push(new $.YAMLSyntaxError(this,'Missing closing "quote'));let o="";for(let l=r+1;l<n-1;++l){let u=s[l];if(u===`
`){$.Node.atDocumentBoundary(s,l+1)&&e.push(new $.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:d,offset:h,error:m}=$.Node.foldNewline(s,l,i);o+=d,l=h,m&&e.push(new $.YAMLSemanticError(this,"Multi-line double-quoted string needs to be sufficiently indented"))}else if(u==="\\")switch(l+=1,s[l]){case"0":o+="\0";break;case"a":o+="\x07";break;case"b":o+="\b";break;case"e":o+="\x1B";break;case"f":o+="\f";break;case"n":o+=`
`;break;case"r":o+="\r";break;case"t":o+="	";break;case"v":o+="\v";break;case"N":o+="\x85";break;case"_":o+="\xA0";break;case"L":o+="\u2028";break;case"P":o+="\u2029";break;case" ":o+=" ";break;case'"':o+='"';break;case"/":o+="/";break;case"\\":o+="\\";break;case"	":o+="	";break;case"x":o+=this.parseCharCode(l+1,2,e),l+=2;break;case"u":o+=this.parseCharCode(l+1,4,e),l+=4;break;case"U":o+=this.parseCharCode(l+1,8,e),l+=8;break;case`
`:for(;s[l+1]===" "||s[l+1]==="	";)l+=1;break;default:e.push(new $.YAMLSyntaxError(this,`Invalid escape sequence ${s.substr(l-1,2)}`)),o+="\\"+s[l]}else if(u===" "||u==="	"){let d=l,h=s[l+1];for(;h===" "||h==="	";)l+=1,h=s[l+1];h!==`
`&&(o+=l>d?s.slice(d,l+1):u)}else o+=u}return e.length>0?{errors:e,str:o}:o}parseCharCode(e,r,n){let{src:i}=this.context,s=i.substr(e,r),l=s.length===r&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;return isNaN(l)?(n.push(new $.YAMLSyntaxError(this,`Invalid escape sequence ${i.substr(e-2,r+2)}`)),i.substr(e-2,r+2)):String.fromCodePoint(l)}parse(e,r){this.context=e;let{src:n}=e,i=Dd.endOfQuote(n,r+1);return this.valueRange=new $.Range(r,i),i=$.Node.endOfWhiteSpace(n,i),i=this.parseComment(i),i}},Fd=class extends $.Node{static endOfQuote(e,r){let n=e[r];for(;n;)if(n==="'"){if(e[r+1]!=="'")break;n=e[r+=2]}else n=e[r+=1];return r+1}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:r,end:n}=this.valueRange,{indent:i,src:s}=this.context;s[n-1]!=="'"&&e.push(new $.YAMLSyntaxError(this,"Missing closing 'quote"));let o="";for(let l=r+1;l<n-1;++l){let u=s[l];if(u===`
`){$.Node.atDocumentBoundary(s,l+1)&&e.push(new $.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:d,offset:h,error:m}=$.Node.foldNewline(s,l,i);o+=d,l=h,m&&e.push(new $.YAMLSemanticError(this,"Multi-line single-quoted string needs to be sufficiently indented"))}else if(u==="'")o+=u,l+=1,s[l]!=="'"&&e.push(new $.YAMLSyntaxError(this,"Unescaped single quote? This should not happen."));else if(u===" "||u==="	"){let d=l,h=s[l+1];for(;h===" "||h==="	";)l+=1,h=s[l+1];h!==`
`&&(o+=l>d?s.slice(d,l+1):u)}else o+=u}return e.length>0?{errors:e,str:o}:o}parse(e,r){this.context=e;let{src:n}=e,i=Fd.endOfQuote(n,r+1);return this.valueRange=new $.Range(r,i),i=$.Node.endOfWhiteSpace(n,i),i=this.parseComment(i),i}};function Qq(t,e){switch(t){case $.Type.ALIAS:return new hR(t,e);case $.Type.BLOCK_FOLDED:case $.Type.BLOCK_LITERAL:return new mR(t,e);case $.Type.FLOW_MAP:case $.Type.FLOW_SEQ:return new gR(t,e);case $.Type.MAP_KEY:case $.Type.MAP_VALUE:case $.Type.SEQ_ITEM:return new Ld(t,e);case $.Type.COMMENT:case $.Type.PLAIN:return new $.PlainValue(t,e);case $.Type.QUOTE_DOUBLE:return new Dd(t,e);case $.Type.QUOTE_SINGLE:return new Fd(t,e);default:return null}}var Sl=class{static parseType(e,r,n){switch(e[r]){case"*":return $.Type.ALIAS;case">":return $.Type.BLOCK_FOLDED;case"|":return $.Type.BLOCK_LITERAL;case"{":return $.Type.FLOW_MAP;case"[":return $.Type.FLOW_SEQ;case"?":return!n&&$.Node.atBlank(e,r+1,!0)?$.Type.MAP_KEY:$.Type.PLAIN;case":":return!n&&$.Node.atBlank(e,r+1,!0)?$.Type.MAP_VALUE:$.Type.PLAIN;case"-":return!n&&$.Node.atBlank(e,r+1,!0)?$.Type.SEQ_ITEM:$.Type.PLAIN;case'"':return $.Type.QUOTE_DOUBLE;case"'":return $.Type.QUOTE_SINGLE;default:return $.Type.PLAIN}}constructor(e={},{atLineStart:r,inCollection:n,inFlow:i,indent:s,lineStart:o,parent:l}={}){$._defineProperty(this,"parseNode",(u,d)=>{if($.Node.atDocumentBoundary(this.src,d))return null;let h=new Sl(this,u),{props:m,type:y,valueStart:b}=h.parseProps(d),T=Qq(y,m),S=T.parse(h,b);if(T.range=new $.Range(d,S),S<=d&&(T.error=new Error("Node#parse consumed no characters"),T.error.parseEnd=S,T.error.source=T,T.range.end=d+1),h.nodeStartsCollection(T)){!T.error&&!h.atLineStart&&h.parent.type===$.Type.DOCUMENT&&(T.error=new $.YAMLSyntaxError(T,"Block collection must not have preceding content here (e.g. directives-end indicator)"));let w=new Al(T);return S=w.parse(new Sl(h),S),w.range=new $.Range(d,S),w}return T}),this.atLineStart=r??(e.atLineStart||!1),this.inCollection=n??(e.inCollection||!1),this.inFlow=i??(e.inFlow||!1),this.indent=s??e.indent,this.lineStart=o??e.lineStart,this.parent=l??(e.parent||{}),this.root=e.root,this.src=e.src}nodeStartsCollection(e){let{inCollection:r,inFlow:n,src:i}=this;if(r||n)return!1;if(e instanceof Ld)return!0;let s=e.range.end;return i[s]===`
`||i[s-1]===`
`?!1:(s=$.Node.endOfWhiteSpace(i,s),i[s]===":")}parseProps(e){let{inFlow:r,parent:n,src:i}=this,s=[],o=!1;e=this.atLineStart?$.Node.endOfIndent(i,e):$.Node.endOfWhiteSpace(i,e);let l=i[e];for(;l===$.Char.ANCHOR||l===$.Char.COMMENT||l===$.Char.TAG||l===`
`;){if(l===`
`){let d=e,h;do h=d+1,d=$.Node.endOfIndent(i,h);while(i[d]===`
`);let m=d-(h+this.indent),y=n.type===$.Type.SEQ_ITEM&&n.context.atLineStart;if(i[d]!=="#"&&!$.Node.nextNodeIsIndented(i[d],m,!y))break;this.atLineStart=!0,this.lineStart=h,o=!1,e=d}else if(l===$.Char.COMMENT){let d=$.Node.endOfLine(i,e+1);s.push(new $.Range(e,d)),e=d}else{let d=$.Node.endOfIdentifier(i,e+1);l===$.Char.TAG&&i[d]===","&&/^[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+,\d\d\d\d(-\d\d){0,2}\/\S/.test(i.slice(e+1,d+13))&&(d=$.Node.endOfIdentifier(i,d+5)),s.push(new $.Range(e,d)),o=!0,e=$.Node.endOfWhiteSpace(i,d)}l=i[e]}o&&l===":"&&$.Node.atBlank(i,e+1,!0)&&(e-=1);let u=Sl.parseType(i,e,r);return{props:s,type:u,valueStart:e}}};function Xq(t){let e=[];t.indexOf("\r")!==-1&&(t=t.replace(/\r\n?/g,(i,s)=>(i.length>1&&e.push(s),`
`)));let r=[],n=0;do{let i=new $c,s=new Sl({src:t});n=i.parse(s,n),r.push(i)}while(n<t.length);return r.setOrigRanges=()=>{if(e.length===0)return!1;for(let s=1;s<e.length;++s)e[s]-=s;let i=0;for(let s=0;s<r.length;++s)i=r[s].setOrigRanges(e,i);return e.splice(0,e.length),!0},r.toString=()=>r.join(`...
`),r}TR.parse=Xq});var El=ye(Bt=>{"use strict";var X=ra();function Jq(t,e,r){return r?`#${r.replace(/[\s\S]^/gm,`$&${e}#`)}
${e}${t}`:t}function xl(t,e,r){return r?r.indexOf(`
`)===-1?`${t} #${r}`:`${t}
`+r.replace(/^/gm,`${e||""}#`):t}var Jn=class{};function ia(t,e,r){if(Array.isArray(t))return t.map((n,i)=>ia(n,String(i),r));if(t&&typeof t.toJSON=="function"){let n=r&&r.anchors&&r.anchors.get(t);n&&(r.onCreate=s=>{n.res=s,delete r.onCreate});let i=t.toJSON(e,r);return n&&r.onCreate&&r.onCreate(i),i}return(!r||!r.keep)&&typeof t=="bigint"?Number(t):t}var Hr=class extends Jn{constructor(e){super();this.value=e}toJSON(e,r){return r&&r.keep?this.value:ia(this.value,e,r)}toString(){return String(this.value)}};function yR(t,e,r){let n=r;for(let i=e.length-1;i>=0;--i){let s=e[i];if(Number.isInteger(s)&&s>=0){let o=[];o[s]=n,n=o}else{let o={};Object.defineProperty(o,s,{value:n,writable:!0,enumerable:!0,configurable:!0}),n=o}}return t.createNode(n,!1)}var bR=t=>t==null||typeof t=="object"&&t[Symbol.iterator]().next().done,fr=class extends Jn{constructor(e){super();X._defineProperty(this,"items",[]),this.schema=e}addIn(e,r){if(bR(e))this.add(r);else{let[n,...i]=e,s=this.get(n,!0);if(s instanceof fr)s.addIn(i,r);else if(s===void 0&&this.schema)this.set(n,yR(this.schema,i,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}deleteIn([e,...r]){if(r.length===0)return this.delete(e);let n=this.get(e,!0);if(n instanceof fr)return n.deleteIn(r);throw new Error(`Expected YAML collection at ${e}. Remaining path: ${r}`)}getIn([e,...r],n){let i=this.get(e,!0);return r.length===0?!n&&i instanceof Hr?i.value:i:i instanceof fr?i.getIn(r,n):void 0}hasAllNullValues(){return this.items.every(e=>{if(!e||e.type!=="PAIR")return!1;let r=e.value;return r==null||r instanceof Hr&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn([e,...r]){if(r.length===0)return this.has(e);let n=this.get(e,!0);return n instanceof fr?n.hasIn(r):!1}setIn([e,...r],n){if(r.length===0)this.set(e,n);else{let i=this.get(e,!0);if(i instanceof fr)i.setIn(r,n);else if(i===void 0&&this.schema)this.set(e,yR(this.schema,r,n));else throw new Error(`Expected YAML collection at ${e}. Remaining path: ${r}`)}}toJSON(){return null}toString(e,{blockItem:r,flowChars:n,isMap:i,itemIndent:s},o,l){let{indent:u,indentStep:d,stringify:h}=e,m=this.type===X.Type.FLOW_MAP||this.type===X.Type.FLOW_SEQ||e.inFlow;m&&(s+=d);let y=i&&this.hasAllNullValues();e=Object.assign({},e,{allNullValues:y,indent:s,inFlow:m,type:null});let b=!1,T=!1,S=this.items.reduce((_,C,P)=>{let Y;C&&(!b&&C.spaceBefore&&_.push({type:"comment",str:""}),C.commentBefore&&C.commentBefore.match(/^.*$/gm).forEach(Z=>{_.push({type:"comment",str:`#${Z}`})}),C.comment&&(Y=C.comment),m&&(!b&&C.spaceBefore||C.commentBefore||C.comment||C.key&&(C.key.commentBefore||C.key.comment)||C.value&&(C.value.commentBefore||C.value.comment))&&(T=!0)),b=!1;let M=h(C,e,()=>Y=null,()=>b=!0);return m&&!T&&M.includes(`
`)&&(T=!0),m&&P<this.items.length-1&&(M+=","),M=xl(M,s,Y),b&&(Y||m)&&(b=!1),_.push({type:"item",str:M}),_},[]),w;if(S.length===0)w=n.start+n.end;else if(m){let{start:_,end:C}=n,P=S.map(Y=>Y.str);if(T||P.reduce((Y,M)=>Y+M.length+2,2)>fr.maxFlowStringSingleLineLength){w=_;for(let Y of P)w+=Y?`
${d}${u}${Y}`:`
`;w+=`
${u}${C}`}else w=`${_} ${P.join(" ")} ${C}`}else{let _=S.map(r);w=_.shift();for(let C of _)w+=C?`
${u}${C}`:`
`}return this.comment?(w+=`
`+this.comment.replace(/^/gm,`${u}#`),o&&o()):b&&l&&l(),w}};X._defineProperty(fr,"maxFlowStringSingleLineLength",60);function Md(t){let e=t instanceof Hr?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),Number.isInteger(e)&&e>=0?e:null}var Ka=class extends fr{add(e){this.items.push(e)}delete(e){let r=Md(e);return typeof r!="number"?!1:this.items.splice(r,1).length>0}get(e,r){let n=Md(e);if(typeof n!="number")return;let i=this.items[n];return!r&&i instanceof Hr?i.value:i}has(e){let r=Md(e);return typeof r=="number"&&r<this.items.length}set(e,r){let n=Md(e);if(typeof n!="number")throw new Error(`Expected a valid index, not ${e}.`);this.items[n]=r}toJSON(e,r){let n=[];r&&r.onCreate&&r.onCreate(n);let i=0;for(let s of this.items)n.push(ia(s,String(i++),r));return n}toString(e,r,n){return e?super.toString(e,{blockItem:i=>i.type==="comment"?i.str:`- ${i.str}`,flowChars:{start:"[",end:"]"},isMap:!1,itemIndent:(e.indent||"")+"  "},r,n):JSON.stringify(this)}},Zq=(t,e,r)=>e===null?"":typeof e!="object"?String(e):t instanceof Jn&&r&&r.doc?t.toString({anchors:Object.create(null),doc:r.doc,indent:"",indentStep:r.indentStep,inFlow:!0,inStringifyKey:!0,stringify:r.stringify}):JSON.stringify(e),Pt=class extends Jn{constructor(e,r=null){super();this.key=e,this.value=r,this.type=Pt.Type.PAIR}get commentBefore(){return this.key instanceof Jn?this.key.commentBefore:void 0}set commentBefore(e){if(this.key==null&&(this.key=new Hr(null)),this.key instanceof Jn)this.key.commentBefore=e;else{let r="Pair.commentBefore is an alias for Pair.key.commentBefore. To set it, the key must be a Node.";throw new Error(r)}}addToJSMap(e,r){let n=ia(this.key,"",e);if(r instanceof Map){let i=ia(this.value,n,e);r.set(n,i)}else if(r instanceof Set)r.add(n);else{let i=Zq(this.key,n,e),s=ia(this.value,i,e);i in r?Object.defineProperty(r,i,{value:s,writable:!0,enumerable:!0,configurable:!0}):r[i]=s}return r}toJSON(e,r){let n=r&&r.mapAsMap?new Map:{};return this.addToJSMap(r,n)}toString(e,r,n){if(!e||!e.doc)return JSON.stringify(this);let{indent:i,indentSeq:s,simpleKeys:o}=e.doc.options,{key:l,value:u}=this,d=l instanceof Jn&&l.comment;if(o){if(d)throw new Error("With simple keys, key nodes cannot have comments");if(l instanceof fr){let M="With simple keys, collection cannot be used as a key value";throw new Error(M)}}let h=!o&&(!l||d||(l instanceof Jn?l instanceof fr||l.type===X.Type.BLOCK_FOLDED||l.type===X.Type.BLOCK_LITERAL:typeof l=="object")),{doc:m,indent:y,indentStep:b,stringify:T}=e;e=Object.assign({},e,{implicitKey:!h,indent:y+b});let S=!1,w=T(l,e,()=>d=null,()=>S=!0);if(w=xl(w,e.indent,d),!h&&w.length>1024){if(o)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");h=!0}if(e.allNullValues&&!o)return this.comment?(w=xl(w,e.indent,this.comment),r&&r()):S&&!d&&n&&n(),e.inFlow&&!h?w:`? ${w}`;w=h?`? ${w}
${y}:`:`${w}:`,this.comment&&(w=xl(w,e.indent,this.comment),r&&r());let _="",C=null;u instanceof Jn?(u.spaceBefore&&(_=`
`),u.commentBefore&&(_+=`
${u.commentBefore.replace(/^/gm,`${e.indent}#`)}`),C=u.comment):u&&typeof u=="object"&&(u=m.schema.createNode(u,!0)),e.implicitKey=!1,!h&&!this.comment&&u instanceof Hr&&(e.indentAtStart=w.length+1),S=!1,!s&&i>=2&&!e.inFlow&&!h&&u instanceof Ka&&u.type!==X.Type.FLOW_SEQ&&!u.tag&&!m.anchors.getName(u)&&(e.indent=e.indent.substr(2));let P=T(u,e,()=>C=null,()=>S=!0),Y=" ";return _||this.comment?Y=`${_}
${e.indent}`:!h&&u instanceof fr?(!(P[0]==="["||P[0]==="{")||P.includes(`
`))&&(Y=`
${e.indent}`):P[0]===`
`&&(Y=""),S&&!C&&n&&n(),xl(w+Y+P,e.indent,C)}};X._defineProperty(Pt,"Type",{PAIR:"PAIR",MERGE_PAIR:"MERGE_PAIR"});var Vd=(t,e)=>{if(t instanceof sa){let r=e.get(t.source);return r.count*r.aliasCount}else if(t instanceof fr){let r=0;for(let n of t.items){let i=Vd(n,e);i>r&&(r=i)}return r}else if(t instanceof Pt){let r=Vd(t.key,e),n=Vd(t.value,e);return Math.max(r,n)}return 1},sa=class extends Jn{static stringify({range:e,source:r},{anchors:n,doc:i,implicitKey:s,inStringifyKey:o}){let l=Object.keys(n).find(d=>n[d]===r);if(!l&&o&&(l=i.anchors.getName(r)||i.anchors.newName()),l)return`*${l}${s?" ":""}`;let u=i.anchors.getName(r)?"Alias node must be after source node":"Source node not found for alias node";throw new Error(`${u} [${e}]`)}constructor(e){super();this.source=e,this.type=X.Type.ALIAS}set tag(e){throw new Error("Alias nodes cannot have tags")}toJSON(e,r){if(!r)return ia(this.source,e,r);let{anchors:n,maxAliasCount:i}=r,s=n.get(this.source);if(!s||s.res===void 0){let o="This should not happen: Alias anchor was not resolved?";throw this.cstNode?new X.YAMLReferenceError(this.cstNode,o):new ReferenceError(o)}if(i>=0&&(s.count+=1,s.aliasCount===0&&(s.aliasCount=Vd(this.source,n)),s.count*s.aliasCount>i)){let o="Excessive alias count indicates a resource exhaustion attack";throw this.cstNode?new X.YAMLReferenceError(this.cstNode,o):new ReferenceError(o)}return s.res}toString(e){return sa.stringify(this,e)}};X._defineProperty(sa,"default",!0);function zc(t,e){let r=e instanceof Hr?e.value:e;for(let n of t)if(n instanceof Pt&&(n.key===e||n.key===r||n.key&&n.key.value===r))return n}var Bd=class extends fr{add(e,r){e?e instanceof Pt||(e=new Pt(e.key||e,e.value)):e=new Pt(e);let n=zc(this.items,e.key),i=this.schema&&this.schema.sortMapEntries;if(n)if(r)n.value=e.value;else throw new Error(`Key ${e.key} already set`);else if(i){let s=this.items.findIndex(o=>i(e,o)<0);s===-1?this.items.push(e):this.items.splice(s,0,e)}else this.items.push(e)}delete(e){let r=zc(this.items,e);return r?this.items.splice(this.items.indexOf(r),1).length>0:!1}get(e,r){let n=zc(this.items,e),i=n&&n.value;return!r&&i instanceof Hr?i.value:i}has(e){return!!zc(this.items,e)}set(e,r){this.add(new Pt(e,r),!0)}toJSON(e,r,n){let i=n?new n:r&&r.mapAsMap?new Map:{};r&&r.onCreate&&r.onCreate(i);for(let s of this.items)s.addToJSMap(r,i);return i}toString(e,r,n){if(!e)return JSON.stringify(this);for(let i of this.items)if(!(i instanceof Pt))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return super.toString(e,{blockItem:i=>i.str,flowChars:{start:"{",end:"}"},isMap:!0,itemIndent:e.indent||""},r,n)}},NR="<<",NT=class extends Pt{constructor(e){if(e instanceof Pt){let r=e.value;r instanceof Ka||(r=new Ka,r.items.push(e.value),r.range=e.value.range);super(e.key,r);this.range=e.range}else super(new Hr(NR),new Ka);this.type=Pt.Type.MERGE_PAIR}addToJSMap(e,r){for(let{source:n}of this.value.items){if(!(n instanceof Bd))throw new Error("Merge sources must be maps");let i=n.toJSON(null,e,Map);for(let[s,o]of i)r instanceof Map?r.has(s)||r.set(s,o):r instanceof Set?r.add(s):Object.prototype.hasOwnProperty.call(r,s)||Object.defineProperty(r,s,{value:o,writable:!0,enumerable:!0,configurable:!0})}return r}toString(e,r){let n=this.value;if(n.items.length>1)return super.toString(e,r);this.value=n.items[0];let i=super.toString(e,r);return this.value=n,i}},eU={defaultType:X.Type.BLOCK_LITERAL,lineWidth:76},tU={trueStr:"true",falseStr:"false"},rU={asBigInt:!1},nU={nullStr:"null"},$a={defaultType:X.Type.PLAIN,doubleQuoted:{jsonEncoding:!1,minMultiLineLength:40},fold:{lineWidth:80,minContentWidth:20}};function vT(t,e,r){for(let{format:n,test:i,resolve:s}of e)if(i){let o=t.match(i);if(o){let l=s.apply(null,o);return l instanceof Hr||(l=new Hr(l)),n&&(l.format=n),l}}return r&&(t=r(t)),new Hr(t)}var vR="flow",IT="block",qd="quoted",IR=(t,e)=>{let r=t[e+1];for(;r===" "||r==="	";){do r=t[e+=1];while(r&&r!==`
`);r=t[e+1]}return e};function Ud(t,e,r,{indentAtStart:n,lineWidth:i=80,minContentWidth:s=20,onFold:o,onOverflow:l}){if(!i||i<0)return t;let u=Math.max(1+s,1+i-e.length);if(t.length<=u)return t;let d=[],h={},m=i-e.length;typeof n=="number"&&(n>i-Math.max(2,s)?d.push(0):m=i-n);let y,b,T=!1,S=-1,w=-1,_=-1;r===IT&&(S=IR(t,S),S!==-1&&(m=S+u));for(let P;P=t[S+=1];){if(r===qd&&P==="\\"){switch(w=S,t[S+1]){case"x":S+=3;break;case"u":S+=5;break;case"U":S+=9;break;default:S+=1}_=S}if(P===`
`)r===IT&&(S=IR(t,S)),m=S+u,y=void 0;else{if(P===" "&&b&&b!==" "&&b!==`
`&&b!=="	"){let Y=t[S+1];Y&&Y!==" "&&Y!==`
`&&Y!=="	"&&(y=S)}if(S>=m)if(y)d.push(y),m=y+u,y=void 0;else if(r===qd){for(;b===" "||b==="	";)b=P,P=t[S+=1],T=!0;let Y=S>_+1?S-2:w-1;if(h[Y])return t;d.push(Y),h[Y]=!0,m=Y+u,y=void 0}else T=!0}b=P}if(T&&l&&l(),d.length===0)return t;o&&o();let C=t.slice(0,d[0]);for(let P=0;P<d.length;++P){let Y=d[P],M=d[P+1]||t.length;Y===0?C=`
${e}${t.slice(0,M)}`:(r===qd&&h[Y]&&(C+=`${t[Y]}\\`),C+=`
${e}${t.slice(Y+1,M)}`)}return C}var PT=({indentAtStart:t})=>t?Object.assign({indentAtStart:t},$a.fold):$a.fold,jd=t=>/^(%|---|\.\.\.)/m.test(t);function iU(t,e,r){if(!e||e<0)return!1;let n=e-r,i=t.length;if(i<=n)return!1;for(let s=0,o=0;s<i;++s)if(t[s]===`
`){if(s-o>n)return!0;if(o=s+1,i-o<=n)return!1}return!0}function za(t,e){let{implicitKey:r}=e,{jsonEncoding:n,minMultiLineLength:i}=$a.doubleQuoted,s=JSON.stringify(t);if(n)return s;let o=e.indent||(jd(t)?"  ":""),l="",u=0;for(let d=0,h=s[d];h;h=s[++d])if(h===" "&&s[d+1]==="\\"&&s[d+2]==="n"&&(l+=s.slice(u,d)+"\\ ",d+=1,u=d,h="\\"),h==="\\")switch(s[d+1]){case"u":{l+=s.slice(u,d);let m=s.substr(d+2,4);switch(m){case"0000":l+="\\0";break;case"0007":l+="\\a";break;case"000b":l+="\\v";break;case"001b":l+="\\e";break;case"0085":l+="\\N";break;case"00a0":l+="\\_";break;case"2028":l+="\\L";break;case"2029":l+="\\P";break;default:m.substr(0,2)==="00"?l+="\\x"+m.substr(2):l+=s.substr(d,6)}d+=5,u=d+1}break;case"n":if(r||s[d+2]==='"'||s.length<i)d+=1;else{for(l+=s.slice(u,d)+`

`;s[d+2]==="\\"&&s[d+3]==="n"&&s[d+4]!=='"';)l+=`
`,d+=2;l+=o,s[d+2]===" "&&(l+="\\"),d+=1,u=d+1}break;default:d+=1}return l=u?l+s.slice(u):s,r?l:Ud(l,o,qd,PT(e))}function PR(t,e){if(e.implicitKey){if(/\n/.test(t))return za(t,e)}else if(/[ \t]\n|\n[ \t]/.test(t))return za(t,e);let r=e.indent||(jd(t)?"  ":""),n="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${r}`)+"'";return e.implicitKey?n:Ud(n,r,vR,PT(e))}function Gd({comment:t,type:e,value:r},n,i,s){if(/\n[\t ]+$/.test(r)||/^\s*$/.test(r))return za(r,n);let o=n.indent||(n.forceBlockIndent||jd(r)?"  ":""),l=o?"2":"1",u=e===X.Type.BLOCK_FOLDED?!1:e===X.Type.BLOCK_LITERAL?!0:!iU(r,$a.fold.lineWidth,o.length),d=u?"|":">";if(!r)return d+`
`;let h="",m="";if(r=r.replace(/[\n\t ]*$/,b=>{let T=b.indexOf(`
`);return T===-1?d+="-":(r===b||T!==b.length-1)&&(d+="+",s&&s()),m=b.replace(/\n$/,""),""}).replace(/^[\n ]*/,b=>{b.indexOf(" ")!==-1&&(d+=l);let T=b.match(/ +$/);return T?(h=b.slice(0,-T[0].length),T[0]):(h=b,"")}),m&&(m=m.replace(/\n+(?!\n|$)/g,`$&${o}`)),h&&(h=h.replace(/\n+/g,`$&${o}`)),t&&(d+=" #"+t.replace(/ ?[\r\n]+/g," "),i&&i()),!r)return`${d}${l}
${o}${m}`;if(u)return r=r.replace(/\n+/g,`$&${o}`),`${d}
${o}${h}${r}${m}`;r=r.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${o}`);let y=Ud(`${h}${r}${m}`,o,IT,$a.fold);return`${d}
${o}${y}`}function sU(t,e,r,n){let{comment:i,type:s,value:o}=t,{actualString:l,implicitKey:u,indent:d,inFlow:h}=e;if(u&&/[\n[\]{},]/.test(o)||h&&/[[\]{},]/.test(o))return za(o,e);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return u||h||o.indexOf(`
`)===-1?o.indexOf('"')!==-1&&o.indexOf("'")===-1?PR(o,e):za(o,e):Gd(t,e,r,n);if(!u&&!h&&s!==X.Type.PLAIN&&o.indexOf(`
`)!==-1)return Gd(t,e,r,n);if(d===""&&jd(o))return e.forceBlockIndent=!0,Gd(t,e,r,n);let m=o.replace(/\n+/g,`$&
${d}`);if(l){let{tags:b}=e.doc.schema;if(typeof vT(m,b,b.scalarFallback).value!="string")return za(o,e)}let y=u?m:Ud(m,d,vR,PT(e));return i&&!h&&(y.indexOf(`
`)!==-1||i.indexOf(`
`)!==-1)?(r&&r(),Jq(y,d,i)):y}function aU(t,e,r,n){let{defaultType:i}=$a,{implicitKey:s,inFlow:o}=e,{type:l,value:u}=t;typeof u!="string"&&(u=String(u),t=Object.assign({},t,{value:u}));let d=m=>{switch(m){case X.Type.BLOCK_FOLDED:case X.Type.BLOCK_LITERAL:return Gd(t,e,r,n);case X.Type.QUOTE_DOUBLE:return za(u,e);case X.Type.QUOTE_SINGLE:return PR(u,e);case X.Type.PLAIN:return sU(t,e,r,n);default:return null}};(l!==X.Type.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f]/.test(u)||(s||o)&&(l===X.Type.BLOCK_FOLDED||l===X.Type.BLOCK_LITERAL))&&(l=X.Type.QUOTE_DOUBLE);let h=d(l);if(h===null&&(h=d(i),h===null))throw new Error(`Unsupported default string type ${i}`);return h}function oU({format:t,minFractionDigits:e,tag:r,value:n}){if(typeof n=="bigint")return String(n);if(!isFinite(n))return isNaN(n)?".nan":n<0?"-.inf":".inf";let i=JSON.stringify(n);if(!t&&e&&(!r||r==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let s=i.indexOf(".");s<0&&(s=i.length,i+=".");let o=e-(i.length-s-1);for(;o-- >0;)i+="0"}return i}function CR(t,e){let r,n;switch(e.type){case X.Type.FLOW_MAP:r="}",n="flow map";break;case X.Type.FLOW_SEQ:r="]",n="flow sequence";break;default:t.push(new X.YAMLSemanticError(e,"Not a flow collection!?"));return}let i;for(let s=e.items.length-1;s>=0;--s){let o=e.items[s];if(!o||o.type!==X.Type.COMMENT){i=o;break}}if(i&&i.char!==r){let s=`Expected ${n} to end with ${r}`,o;typeof i.offset=="number"?(o=new X.YAMLSemanticError(e,s),o.offset=i.offset+1):(o=new X.YAMLSemanticError(i,s),i.range&&i.range.end&&(o.offset=i.range.end-i.range.start)),t.push(o)}}function AR(t,e){let r=e.context.src[e.range.start-1];if(r!==`
`&&r!=="	"&&r!==" "){let n="Comments must be separated from other tokens by white space characters";t.push(new X.YAMLSemanticError(e,n))}}function SR(t,e){let r=String(e),n=r.substr(0,8)+"..."+r.substr(-8);return new X.YAMLSemanticError(t,`The "${n}" key is too long`)}function xR(t,e){for(let{afterKey:r,before:n,comment:i}of e){let s=t.items[n];s?(r&&s.value&&(s=s.value),i===void 0?(r||!s.commentBefore)&&(s.spaceBefore=!0):s.commentBefore?s.commentBefore+=`
`+i:s.commentBefore=i):i!==void 0&&(t.comment?t.comment+=`
`+i:t.comment=i)}}function CT(t,e){let r=e.strValue;return r?typeof r=="string"?r:(r.errors.forEach(n=>{n.source||(n.source=e),t.errors.push(n)}),r.str):""}function lU(t,e){let{handle:r,suffix:n}=e.tag,i=t.tagPrefixes.find(s=>s.handle===r);if(!i){let s=t.getDefaults().tagPrefixes;if(s&&(i=s.find(o=>o.handle===r)),!i)throw new X.YAMLSemanticError(e,`The ${r} tag handle is non-default and was not declared.`)}if(!n)throw new X.YAMLSemanticError(e,`The ${r} tag has no suffix.`);if(r==="!"&&(t.version||t.options.version)==="1.0"){if(n[0]==="^")return t.warnings.push(new X.YAMLWarning(e,"YAML 1.0 ^ tag expansion is not supported")),n;if(/[:/]/.test(n)){let s=n.match(/^([a-z0-9-]+)\/(.*)/i);return s?`tag:${s[1]}.yaml.org,2002:${s[2]}`:`tag:${n}`}}return i.prefix+decodeURIComponent(n)}function cU(t,e){let{tag:r,type:n}=e,i=!1;if(r){let{handle:s,suffix:o,verbatim:l}=r;if(l){if(l!=="!"&&l!=="!!")return l;let u=`Verbatim tags aren't resolved, so ${l} is invalid.`;t.errors.push(new X.YAMLSemanticError(e,u))}else if(s==="!"&&!o)i=!0;else try{return lU(t,e)}catch(u){t.errors.push(u)}}switch(n){case X.Type.BLOCK_FOLDED:case X.Type.BLOCK_LITERAL:case X.Type.QUOTE_DOUBLE:case X.Type.QUOTE_SINGLE:return X.defaultTags.STR;case X.Type.FLOW_MAP:case X.Type.MAP:return X.defaultTags.MAP;case X.Type.FLOW_SEQ:case X.Type.SEQ:return X.defaultTags.SEQ;case X.Type.PLAIN:return i?X.defaultTags.STR:null;default:return null}}function ER(t,e,r){let{tags:n}=t.schema,i=[];for(let o of n)if(o.tag===r)if(o.test)i.push(o);else{let l=o.resolve(t,e);return l instanceof fr?l:new Hr(l)}let s=CT(t,e);return typeof s=="string"&&i.length>0?vT(s,i,n.scalarFallback):null}function uU({type:t}){switch(t){case X.Type.FLOW_MAP:case X.Type.MAP:return X.defaultTags.MAP;case X.Type.FLOW_SEQ:case X.Type.SEQ:return X.defaultTags.SEQ;default:return X.defaultTags.STR}}function fU(t,e,r){try{let n=ER(t,e,r);if(n)return r&&e.tag&&(n.tag=r),n}catch(n){return n.source||(n.source=e),t.errors.push(n),null}try{let n=uU(e);if(!n)throw new Error(`The tag ${r} is unavailable`);let i=`The tag ${r} is unavailable, falling back to ${n}`;t.warnings.push(new X.YAMLWarning(e,i));let s=ER(t,e,n);return s.tag=r,s}catch(n){let i=new X.YAMLReferenceError(e,n.message);return i.stack=n.stack,t.errors.push(i),null}}var dU=t=>{if(!t)return!1;let{type:e}=t;return e===X.Type.MAP_KEY||e===X.Type.MAP_VALUE||e===X.Type.SEQ_ITEM};function pU(t,e){let r={before:[],after:[]},n=!1,i=!1,s=dU(e.context.parent)?e.context.parent.props.concat(e.props):e.props;for(let{start:o,end:l}of s)switch(e.context.src[o]){case X.Char.COMMENT:{if(!e.commentHasRequiredWhitespace(o)){let m="Comments must be separated from other tokens by white space characters";t.push(new X.YAMLSemanticError(e,m))}let{header:u,valueRange:d}=e;(d&&(o>d.start||u&&o>u.start)?r.after:r.before).push(e.context.src.slice(o+1,l));break}case X.Char.ANCHOR:if(n){let u="A node can have at most one anchor";t.push(new X.YAMLSemanticError(e,u))}n=!0;break;case X.Char.TAG:if(i){let u="A node can have at most one tag";t.push(new X.YAMLSemanticError(e,u))}i=!0;break}return{comments:r,hasAnchor:n,hasTag:i}}function hU(t,e){let{anchors:r,errors:n,schema:i}=t;if(e.type===X.Type.ALIAS){let o=e.rawValue,l=r.getNode(o);if(!l){let d=`Aliased anchor not found: ${o}`;return n.push(new X.YAMLReferenceError(e,d)),null}let u=new sa(l);return r._cstAliases.push(u),u}let s=cU(t,e);if(s)return fU(t,e,s);if(e.type!==X.Type.PLAIN){let o=`Failed to resolve ${e.type} node here`;return n.push(new X.YAMLSyntaxError(e,o)),null}try{let o=CT(t,e);return vT(o,i.tags,i.tags.scalarFallback)}catch(o){return o.source||(o.source=e),n.push(o),null}}function aa(t,e){if(!e)return null;e.error&&t.errors.push(e.error);let{comments:r,hasAnchor:n,hasTag:i}=pU(t.errors,e);if(n){let{anchors:o}=t,l=e.anchor,u=o.getNode(l);u&&(o.map[o.newName(l)]=u),o.map[l]=e}if(e.type===X.Type.ALIAS&&(n||i)){let o="An alias node must not specify any properties";t.errors.push(new X.YAMLSemanticError(e,o))}let s=hU(t,e);if(s){s.range=[e.range.start,e.range.end],t.options.keepCstNodes&&(s.cstNode=e),t.options.keepNodeTypes&&(s.type=e.type);let o=r.before.join(`
`);o&&(s.commentBefore=s.commentBefore?`${s.commentBefore}
${o}`:o);let l=r.after.join(`
`);l&&(s.comment=s.comment?`${s.comment}
${l}`:l)}return e.resolved=s}function mU(t,e){if(e.type!==X.Type.MAP&&e.type!==X.Type.FLOW_MAP){let o=`A ${e.type} node cannot be resolved as a mapping`;return t.errors.push(new X.YAMLSyntaxError(e,o)),null}let{comments:r,items:n}=e.type===X.Type.FLOW_MAP?yU(t,e):_U(t,e),i=new Bd;i.items=n,xR(i,r);let s=!1;for(let o=0;o<n.length;++o){let{key:l}=n[o];if(l instanceof fr&&(s=!0),t.schema.merge&&l&&l.value===NR){n[o]=new NT(n[o]);let u=n[o].value.items,d=null;u.some(h=>{if(h instanceof sa){let{type:m}=h.source;return m===X.Type.MAP||m===X.Type.FLOW_MAP?!1:d="Merge nodes aliases can only point to maps"}return d="Merge nodes can only have Alias nodes as values"}),d&&t.errors.push(new X.YAMLSemanticError(e,d))}else for(let u=o+1;u<n.length;++u){let{key:d}=n[u];if(l===d||l&&d&&Object.prototype.hasOwnProperty.call(l,"value")&&l.value===d.value){let h=`Map keys must be unique; "${l}" is repeated`;t.errors.push(new X.YAMLSemanticError(e,h));break}}}if(s&&!t.options.mapAsMap){let o="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new X.YAMLWarning(e,o))}return e.resolved=i,i}var gU=({context:{lineStart:t,node:e,src:r},props:n})=>{if(n.length===0)return!1;let{start:i}=n[0];if(e&&i>e.valueRange.start||r[i]!==X.Char.COMMENT)return!1;for(let s=t;s<i;++s)if(r[s]===`
`)return!1;return!0};function TU(t,e){if(!gU(t))return;let r=t.getPropValue(0,X.Char.COMMENT,!0),n=!1,i=e.value.commentBefore;if(i&&i.startsWith(r))e.value.commentBefore=i.substr(r.length+1),n=!0;else{let s=e.value.comment;!t.node&&s&&s.startsWith(r)&&(e.value.comment=s.substr(r.length+1),n=!0)}n&&(e.comment=r)}function _U(t,e){let r=[],n=[],i,s=null;for(let o=0;o<e.items.length;++o){let l=e.items[o];switch(l.type){case X.Type.BLANK_LINE:r.push({afterKey:!!i,before:n.length});break;case X.Type.COMMENT:r.push({afterKey:!!i,before:n.length,comment:l.comment});break;case X.Type.MAP_KEY:i!==void 0&&n.push(new Pt(i)),l.error&&t.errors.push(l.error),i=aa(t,l.node),s=null;break;case X.Type.MAP_VALUE:{if(i===void 0&&(i=null),l.error&&t.errors.push(l.error),!l.context.atLineStart&&l.node&&l.node.type===X.Type.MAP&&!l.node.context.atLineStart){let h="Nested mappings are not allowed in compact mappings";t.errors.push(new X.YAMLSemanticError(l.node,h))}let u=l.node;if(!u&&l.props.length>0){u=new X.PlainValue(X.Type.PLAIN,[]),u.context={parent:l,src:l.context.src};let h=l.range.start+1;if(u.range={start:h,end:h},u.valueRange={start:h,end:h},typeof l.range.origStart=="number"){let m=l.range.origStart+1;u.range.origStart=u.range.origEnd=m,u.valueRange.origStart=u.valueRange.origEnd=m}}let d=new Pt(i,aa(t,u));TU(l,d),n.push(d),i&&typeof s=="number"&&l.range.start>s+1024&&t.errors.push(SR(e,i)),i=void 0,s=null}break;default:i!==void 0&&n.push(new Pt(i)),i=aa(t,l),s=l.range.start,l.error&&t.errors.push(l.error);e:for(let u=o+1;;++u){let d=e.items[u];switch(d&&d.type){case X.Type.BLANK_LINE:case X.Type.COMMENT:continue e;case X.Type.MAP_VALUE:break e;default:{let h="Implicit map keys need to be followed by map values";t.errors.push(new X.YAMLSemanticError(l,h));break e}}}if(l.valueRangeContainsNewline){let u="Implicit map keys need to be on a single line";t.errors.push(new X.YAMLSemanticError(l,u))}}}return i!==void 0&&n.push(new Pt(i)),{comments:r,items:n}}function yU(t,e){let r=[],n=[],i,s=!1,o="{";for(let l=0;l<e.items.length;++l){let u=e.items[l];if(typeof u.char=="string"){let{char:d,offset:h}=u;if(d==="?"&&i===void 0&&!s){s=!0,o=":";continue}if(d===":"){if(i===void 0&&(i=null),o===":"){o=",";continue}}else if(s&&(i===void 0&&d!==","&&(i=null),s=!1),i!==void 0&&(n.push(new Pt(i)),i=void 0,d===",")){o=":";continue}if(d==="}"){if(l===e.items.length-1)continue}else if(d===o){o=":";continue}let m=`Flow map contains an unexpected ${d}`,y=new X.YAMLSyntaxError(e,m);y.offset=h,t.errors.push(y)}else u.type===X.Type.BLANK_LINE?r.push({afterKey:!!i,before:n.length}):u.type===X.Type.COMMENT?(AR(t.errors,u),r.push({afterKey:!!i,before:n.length,comment:u.comment})):i===void 0?(o===","&&t.errors.push(new X.YAMLSemanticError(u,"Separator , missing in flow map")),i=aa(t,u)):(o!==","&&t.errors.push(new X.YAMLSemanticError(u,"Indicator : missing in flow map entry")),n.push(new Pt(i,aa(t,u))),i=void 0,s=!1)}return CR(t.errors,e),i!==void 0&&n.push(new Pt(i)),{comments:r,items:n}}function bU(t,e){if(e.type!==X.Type.SEQ&&e.type!==X.Type.FLOW_SEQ){let s=`A ${e.type} node cannot be resolved as a sequence`;return t.errors.push(new X.YAMLSyntaxError(e,s)),null}let{comments:r,items:n}=e.type===X.Type.FLOW_SEQ?vU(t,e):NU(t,e),i=new Ka;if(i.items=n,xR(i,r),!t.options.mapAsMap&&n.some(s=>s instanceof Pt&&s.key instanceof fr)){let s="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new X.YAMLWarning(e,s))}return e.resolved=i,i}function NU(t,e){let r=[],n=[];for(let i=0;i<e.items.length;++i){let s=e.items[i];switch(s.type){case X.Type.BLANK_LINE:r.push({before:n.length});break;case X.Type.COMMENT:r.push({comment:s.comment,before:n.length});break;case X.Type.SEQ_ITEM:if(s.error&&t.errors.push(s.error),n.push(aa(t,s.node)),s.hasProps){let o="Sequence items cannot have tags or anchors before the - indicator";t.errors.push(new X.YAMLSemanticError(s,o))}break;default:s.error&&t.errors.push(s.error),t.errors.push(new X.YAMLSyntaxError(s,`Unexpected ${s.type} node in sequence`))}}return{comments:r,items:n}}function vU(t,e){let r=[],n=[],i=!1,s,o=null,l="[",u=null;for(let d=0;d<e.items.length;++d){let h=e.items[d];if(typeof h.char=="string"){let{char:m,offset:y}=h;if(m!==":"&&(i||s!==void 0)&&(i&&s===void 0&&(s=l?n.pop():null),n.push(new Pt(s)),i=!1,s=void 0,o=null),m===l)l=null;else if(!l&&m==="?")i=!0;else if(l!=="["&&m===":"&&s===void 0){if(l===","){if(s=n.pop(),s instanceof Pt){let b="Chaining flow sequence pairs is invalid",T=new X.YAMLSemanticError(e,b);T.offset=y,t.errors.push(T)}if(!i&&typeof o=="number"){let b=h.range?h.range.start:h.offset;b>o+1024&&t.errors.push(SR(e,s));let{src:T}=u.context;for(let S=o;S<b;++S)if(T[S]===`
`){let w="Implicit keys of flow sequence pairs need to be on a single line";t.errors.push(new X.YAMLSemanticError(u,w));break}}}else s=null;o=null,i=!1,l=null}else if(l==="["||m!=="]"||d<e.items.length-1){let b=`Flow sequence contains an unexpected ${m}`,T=new X.YAMLSyntaxError(e,b);T.offset=y,t.errors.push(T)}}else if(h.type===X.Type.BLANK_LINE)r.push({before:n.length});else if(h.type===X.Type.COMMENT)AR(t.errors,h),r.push({comment:h.comment,before:n.length});else{if(l){let y=`Expected a ${l} in flow sequence`;t.errors.push(new X.YAMLSemanticError(h,y))}let m=aa(t,h);s===void 0?(n.push(m),u=h):(n.push(new Pt(s,m)),s=void 0),o=h.range.start,l=","}}return CR(t.errors,e),s!==void 0&&n.push(new Pt(s)),{comments:r,items:n}}Bt.Alias=sa;Bt.Collection=fr;Bt.Merge=NT;Bt.Node=Jn;Bt.Pair=Pt;Bt.Scalar=Hr;Bt.YAMLMap=Bd;Bt.YAMLSeq=Ka;Bt.addComment=xl;Bt.binaryOptions=eU;Bt.boolOptions=tU;Bt.findPair=zc;Bt.intOptions=rU;Bt.isEmptyPath=bR;Bt.nullOptions=nU;Bt.resolveMap=mU;Bt.resolveNode=aa;Bt.resolveSeq=bU;Bt.resolveString=CT;Bt.strOptions=$a;Bt.stringifyNumber=oU;Bt.stringifyString=aU;Bt.toJSON=ia});var Wd=ye(Ei=>{"use strict";var Rn=ra(),at=El(),IU={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve:(t,e)=>{let r=at.resolveString(t,e);if(typeof Buffer=="function")return Buffer.from(r,"base64");if(typeof atob=="function"){let n=atob(r.replace(/[\n\r]/g,"")),i=new Uint8Array(n.length);for(let s=0;s<n.length;++s)i[s]=n.charCodeAt(s);return i}else{let n="This environment does not support reading binary tags; either Buffer or atob is required";return t.errors.push(new Rn.YAMLReferenceError(e,n)),null}},options:at.binaryOptions,stringify:({comment:t,type:e,value:r},n,i,s)=>{let o;if(typeof Buffer=="function")o=r instanceof Buffer?r.toString("base64"):Buffer.from(r.buffer).toString("base64");else if(typeof btoa=="function"){let l="";for(let u=0;u<r.length;++u)l+=String.fromCharCode(r[u]);o=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=at.binaryOptions.defaultType),e===Rn.Type.QUOTE_DOUBLE)r=o;else{let{lineWidth:l}=at.binaryOptions,u=Math.ceil(o.length/l),d=new Array(u);for(let h=0,m=0;h<u;++h,m+=l)d[h]=o.substr(m,l);r=d.join(e===Rn.Type.BLOCK_LITERAL?`
`:" ")}return at.stringifyString({comment:t,type:e,value:r},n,i,s)}};function RR(t,e){let r=at.resolveSeq(t,e);for(let n=0;n<r.items.length;++n){let i=r.items[n];if(!(i instanceof at.Pair)){if(i instanceof at.YAMLMap){if(i.items.length>1){let o="Each pair must have its own sequence indicator";throw new Rn.YAMLSemanticError(e,o)}let s=i.items[0]||new at.Pair;i.commentBefore&&(s.commentBefore=s.commentBefore?`${i.commentBefore}
${s.commentBefore}`:i.commentBefore),i.comment&&(s.comment=s.comment?`${i.comment}
${s.comment}`:i.comment),i=s}r.items[n]=i instanceof at.Pair?i:new at.Pair(i)}}return r}function kR(t,e,r){let n=new at.YAMLSeq(t);n.tag="tag:yaml.org,2002:pairs";for(let i of e){let s,o;if(Array.isArray(i))if(i.length===2)s=i[0],o=i[1];else throw new TypeError(`Expected [key, value] tuple: ${i}`);else if(i&&i instanceof Object){let u=Object.keys(i);if(u.length===1)s=u[0],o=i[s];else throw new TypeError(`Expected { key: value } tuple: ${i}`)}else s=i;let l=t.createPair(s,o,r);n.items.push(l)}return n}var PU={default:!1,tag:"tag:yaml.org,2002:pairs",resolve:RR,createNode:kR},Qa=class extends at.YAMLSeq{constructor(){super();Rn._defineProperty(this,"add",at.YAMLMap.prototype.add.bind(this)),Rn._defineProperty(this,"delete",at.YAMLMap.prototype.delete.bind(this)),Rn._defineProperty(this,"get",at.YAMLMap.prototype.get.bind(this)),Rn._defineProperty(this,"has",at.YAMLMap.prototype.has.bind(this)),Rn._defineProperty(this,"set",at.YAMLMap.prototype.set.bind(this)),this.tag=Qa.tag}toJSON(e,r){let n=new Map;r&&r.onCreate&&r.onCreate(n);for(let i of this.items){let s,o;if(i instanceof at.Pair?(s=at.toJSON(i.key,"",r),o=at.toJSON(i.value,s,r)):s=at.toJSON(i,"",r),n.has(s))throw new Error("Ordered maps must not include duplicate keys");n.set(s,o)}return n}};Rn._defineProperty(Qa,"tag","tag:yaml.org,2002:omap");function CU(t,e){let r=RR(t,e),n=[];for(let{key:i}of r.items)if(i instanceof at.Scalar)if(n.includes(i.value)){let s="Ordered maps must not include duplicate keys";throw new Rn.YAMLSemanticError(e,s)}else n.push(i.value);return Object.assign(new Qa,r)}function AU(t,e,r){let n=kR(t,e,r),i=new Qa;return i.items=n.items,i}var SU={identify:t=>t instanceof Map,nodeClass:Qa,default:!1,tag:"tag:yaml.org,2002:omap",resolve:CU,createNode:AU},Xa=class extends at.YAMLMap{constructor(){super();this.tag=Xa.tag}add(e){let r=e instanceof at.Pair?e:new at.Pair(e);at.findPair(this.items,r.key)||this.items.push(r)}get(e,r){let n=at.findPair(this.items,e);return!r&&n instanceof at.Pair?n.key instanceof at.Scalar?n.key.value:n.key:n}set(e,r){if(typeof r!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof r}`);let n=at.findPair(this.items,e);n&&!r?this.items.splice(this.items.indexOf(n),1):!n&&r&&this.items.push(new at.Pair(e))}toJSON(e,r){return super.toJSON(e,r,Set)}toString(e,r,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues())return super.toString(e,r,n);throw new Error("Set items must all have null values")}};Rn._defineProperty(Xa,"tag","tag:yaml.org,2002:set");function xU(t,e){let r=at.resolveMap(t,e);if(!r.hasAllNullValues())throw new Rn.YAMLSemanticError(e,"Set items must all have null values");return Object.assign(new Xa,r)}function EU(t,e,r){let n=new Xa;for(let i of e)n.items.push(t.createPair(i,null,r));return n}var RU={identify:t=>t instanceof Set,nodeClass:Xa,default:!1,tag:"tag:yaml.org,2002:set",resolve:xU,createNode:EU},AT=(t,e)=>{let r=e.split(":").reduce((n,i)=>n*60+Number(i),0);return t==="-"?-r:r},OR=({value:t})=>{if(isNaN(t)||!isFinite(t))return at.stringifyNumber(t);let e="";t<0&&(e="-",t=Math.abs(t));let r=[t%60];return t<60?r.unshift(0):(t=Math.round((t-r[0])/60),r.unshift(t%60),t>=60&&(t=Math.round((t-r[0])/60),r.unshift(t))),e+r.map(n=>n<10?"0"+String(n):String(n)).join(":").replace(/000000\d*$/,"")},kU={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+)$/,resolve:(t,e,r)=>AT(e,r.replace(/_/g,"")),stringify:OR},OU={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*)$/,resolve:(t,e,r)=>AT(e,r.replace(/_/g,"")),stringify:OR},wU={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^(?:([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?)$"),resolve:(t,e,r,n,i,s,o,l,u)=>{l&&(l=(l+"00").substr(1,3));let d=Date.UTC(e,r-1,n,i||0,s||0,o||0,l||0);if(u&&u!=="Z"){let h=AT(u[0],u.slice(1));Math.abs(h)<30&&(h*=60),d-=6e4*h}return new Date(d)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};function ST(t){let e=typeof process!="undefined"&&process.env||{};return t?typeof YAML_SILENCE_DEPRECATION_WARNINGS!="undefined"?!YAML_SILENCE_DEPRECATION_WARNINGS:!e.YAML_SILENCE_DEPRECATION_WARNINGS:typeof YAML_SILENCE_WARNINGS!="undefined"?!YAML_SILENCE_WARNINGS:!e.YAML_SILENCE_WARNINGS}function xT(t,e){if(ST(!1)){let r=typeof process!="undefined"&&process.emitWarning;r?r(t,e):console.warn(e?`${e}: ${t}`:t)}}function LU(t){if(ST(!0)){let e=t.replace(/.*yaml[/\\]/i,"").replace(/\.js$/,"").replace(/\\/g,"/");xT(`The endpoint 'yaml/${e}' will be removed in a future release.`,"DeprecationWarning")}}var wR={};function DU(t,e){if(!wR[t]&&ST(!0)){wR[t]=!0;let r=`The option '${t}' will be removed in a future release`;r+=e?`, use '${e}' instead.`:".",xT(r,"DeprecationWarning")}}Ei.binary=IU;Ei.floatTime=OU;Ei.intTime=kU;Ei.omap=SU;Ei.pairs=PU;Ei.set=RU;Ei.timestamp=wU;Ei.warn=xT;Ei.warnFileDeprecation=LU;Ei.warnOptionDeprecation=DU});var Qd=ye(YR=>{"use strict";var Hd=ra(),Me=El(),Yr=Wd();function FU(t,e,r){let n=new Me.YAMLMap(t);if(e instanceof Map)for(let[i,s]of e)n.items.push(t.createPair(i,s,r));else if(e&&typeof e=="object")for(let i of Object.keys(e))n.items.push(t.createPair(i,e[i],r));return typeof t.sortMapEntries=="function"&&n.items.sort(t.sortMapEntries),n}var Qc={createNode:FU,default:!0,nodeClass:Me.YAMLMap,tag:"tag:yaml.org,2002:map",resolve:Me.resolveMap};function MU(t,e,r){let n=new Me.YAMLSeq(t);if(e&&e[Symbol.iterator])for(let i of e){let s=t.createNode(i,r.wrapScalars,null,r);n.items.push(s)}return n}var Yd={createNode:MU,default:!0,nodeClass:Me.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve:Me.resolveSeq},VU={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:Me.resolveString,stringify(t,e,r,n){return e=Object.assign({actualString:!0},e),Me.stringifyString(t,e,r,n)},options:Me.strOptions},ET=[Qc,Yd,VU],Kd=t=>typeof t=="bigint"||Number.isInteger(t),RT=(t,e,r)=>Me.intOptions.asBigInt?BigInt(t):parseInt(e,r);function LR(t,e,r){let{value:n}=t;return Kd(n)&&n>=0?r+n.toString(e):Me.stringifyNumber(t)}var DR={identify:t=>t==null,createNode:(t,e,r)=>r.wrapScalars?new Me.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:Me.nullOptions,stringify:()=>Me.nullOptions.nullStr},FR={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>t[0]==="t"||t[0]==="T",options:Me.boolOptions,stringify:({value:t})=>t?Me.boolOptions.trueStr:Me.boolOptions.falseStr},MR={identify:t=>Kd(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o([0-7]+)$/,resolve:(t,e)=>RT(t,e,8),options:Me.intOptions,stringify:t=>LR(t,8,"0o")},VR={identify:Kd,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:t=>RT(t,t,10),options:Me.intOptions,stringify:Me.stringifyNumber},BR={identify:t=>Kd(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x([0-9a-fA-F]+)$/,resolve:(t,e)=>RT(t,e,16),options:Me.intOptions,stringify:t=>LR(t,16,"0x")},qR={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Me.stringifyNumber},UR={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify:({value:t})=>Number(t).toExponential()},jR={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.([0-9]+)|[0-9]+\.([0-9]*))$/,resolve(t,e,r){let n=e||r,i=new Me.Scalar(parseFloat(t));return n&&n[n.length-1]==="0"&&(i.minFractionDigits=n.length),i},stringify:Me.stringifyNumber},BU=ET.concat([DR,FR,MR,VR,BR,qR,UR,jR]),GR=t=>typeof t=="bigint"||Number.isInteger(t),$d=({value:t})=>JSON.stringify(t),WR=[Qc,Yd,{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:Me.resolveString,stringify:$d},{identify:t=>t==null,createNode:(t,e,r)=>r.wrapScalars?new Me.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:$d},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:$d},{identify:GR,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:t=>Me.intOptions.asBigInt?BigInt(t):parseInt(t,10),stringify:({value:t})=>GR(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:$d}];WR.scalarFallback=t=>{throw new SyntaxError(`Unresolved plain scalar ${JSON.stringify(t)}`)};var HR=({value:t})=>t?Me.boolOptions.trueStr:Me.boolOptions.falseStr,Xc=t=>typeof t=="bigint"||Number.isInteger(t);function zd(t,e,r){let n=e.replace(/_/g,"");if(Me.intOptions.asBigInt){switch(r){case 2:n=`0b${n}`;break;case 8:n=`0o${n}`;break;case 16:n=`0x${n}`;break}let s=BigInt(n);return t==="-"?BigInt(-1)*s:s}let i=parseInt(n,r);return t==="-"?-1*i:i}function kT(t,e,r){let{value:n}=t;if(Xc(n)){let i=n.toString(e);return n<0?"-"+r+i.substr(1):r+i}return Me.stringifyNumber(t)}var qU=ET.concat([{identify:t=>t==null,createNode:(t,e,r)=>r.wrapScalars?new Me.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:Me.nullOptions,stringify:()=>Me.nullOptions.nullStr},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>!0,options:Me.boolOptions,stringify:HR},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>!1,options:Me.boolOptions,stringify:HR},{identify:Xc,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^([-+]?)0b([0-1_]+)$/,resolve:(t,e,r)=>zd(e,r,2),stringify:t=>kT(t,2,"0b")},{identify:Xc,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^([-+]?)0([0-7_]+)$/,resolve:(t,e,r)=>zd(e,r,8),stringify:t=>kT(t,8,"0")},{identify:Xc,default:!0,tag:"tag:yaml.org,2002:int",test:/^([-+]?)([0-9][0-9_]*)$/,resolve:(t,e,r)=>zd(e,r,10),stringify:Me.stringifyNumber},{identify:Xc,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^([-+]?)0x([0-9a-fA-F_]+)$/,resolve:(t,e,r)=>zd(e,r,16),stringify:t=>kT(t,16,"0x")},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Me.stringifyNumber},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?([0-9][0-9_]*)?(\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify:({value:t})=>Number(t).toExponential()},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.([0-9_]*)$/,resolve(t,e){let r=new Me.Scalar(parseFloat(t.replace(/_/g,"")));if(e){let n=e.replace(/_/g,"");n[n.length-1]==="0"&&(r.minFractionDigits=n.length)}return r},stringify:Me.stringifyNumber}],Yr.binary,Yr.omap,Yr.pairs,Yr.set,Yr.intTime,Yr.floatTime,Yr.timestamp),UU={core:BU,failsafe:ET,json:WR,yaml11:qU},jU={binary:Yr.binary,bool:FR,float:jR,floatExp:UR,floatNaN:qR,floatTime:Yr.floatTime,int:VR,intHex:BR,intOct:MR,intTime:Yr.intTime,map:Qc,null:DR,omap:Yr.omap,pairs:Yr.pairs,seq:Yd,set:Yr.set,timestamp:Yr.timestamp};function GU(t,e,r){if(e){let n=r.filter(s=>s.tag===e),i=n.find(s=>!s.format)||n[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return r.find(n=>(n.identify&&n.identify(t)||n.class&&t instanceof n.class)&&!n.format)}function WU(t,e,r){if(t instanceof Me.Node)return t;let{defaultPrefix:n,onTagObj:i,prevObjects:s,schema:o,wrapScalars:l}=r;e&&e.startsWith("!!")&&(e=n+e.slice(2));let u=GU(t,e,o.tags);if(!u){if(typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object")return l?new Me.Scalar(t):t;u=t instanceof Map?Qc:t[Symbol.iterator]?Yd:Qc}i&&(i(u),delete r.onTagObj);let d={value:void 0,node:void 0};if(t&&typeof t=="object"&&s){let h=s.get(t);if(h){let m=new Me.Alias(h);return r.aliasNodes.push(m),m}d.value=t,s.set(t,d)}return d.node=u.createNode?u.createNode(r.schema,t,r):l?new Me.Scalar(t):t,e&&d.node instanceof Me.Node&&(d.node.tag=e),d.node}function HU(t,e,r,n){let i=t[n.replace(/\W/g,"")];if(!i){let s=Object.keys(t).map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${n}"; use one of ${s}`)}if(Array.isArray(r))for(let s of r)i=i.concat(s);else typeof r=="function"&&(i=r(i.slice()));for(let s=0;s<i.length;++s){let o=i[s];if(typeof o=="string"){let l=e[o];if(!l){let u=Object.keys(e).map(d=>JSON.stringify(d)).join(", ");throw new Error(`Unknown custom tag "${o}"; use one of ${u}`)}i[s]=l}}return i}var YU=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0,Rl=class{constructor({customTags:e,merge:r,schema:n,sortMapEntries:i,tags:s}){this.merge=!!r,this.name=n,this.sortMapEntries=i===!0?YU:i||null,!e&&s&&Yr.warnOptionDeprecation("tags","customTags"),this.tags=HU(UU,jU,e||s,n)}createNode(e,r,n,i){let s={defaultPrefix:Rl.defaultPrefix,schema:this,wrapScalars:r},o=i?Object.assign(i,s):s;return WU(e,n,o)}createPair(e,r,n){n||(n={wrapScalars:!0});let i=this.createNode(e,n.wrapScalars,null,n),s=this.createNode(r,n.wrapScalars,null,n);return new Me.Pair(i,s)}};Hd._defineProperty(Rl,"defaultPrefix",Hd.defaultTagPrefix);Hd._defineProperty(Rl,"defaultTags",Hd.defaultTags);YR.Schema=Rl});var QR=ye(ep=>{"use strict";var Kr=ra(),Be=El(),KR=Qd(),KU={anchorPrefix:"a",customTags:null,indent:2,indentSeq:!0,keepCstNodes:!1,keepNodeTypes:!0,keepBlobsInJSON:!0,mapAsMap:!1,maxAliasCount:100,prettyErrors:!1,simpleKeys:!1,version:"1.2"},$U={get binary(){return Be.binaryOptions},set binary(t){Object.assign(Be.binaryOptions,t)},get bool(){return Be.boolOptions},set bool(t){Object.assign(Be.boolOptions,t)},get int(){return Be.intOptions},set int(t){Object.assign(Be.intOptions,t)},get null(){return Be.nullOptions},set null(t){Object.assign(Be.nullOptions,t)},get str(){return Be.strOptions},set str(t){Object.assign(Be.strOptions,t)}},$R={"1.0":{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:Kr.defaultTagPrefix},{handle:"!!",prefix:"tag:private.yaml.org,2002:"}]},1.1:{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:Kr.defaultTagPrefix}]},1.2:{schema:"core",merge:!1,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:Kr.defaultTagPrefix}]}};function zR(t,e){if((t.version||t.options.version)==="1.0"){let i=e.match(/^tag:private\.yaml\.org,2002:([^:/]+)$/);if(i)return"!"+i[1];let s=e.match(/^tag:([a-zA-Z0-9-]+)\.yaml\.org,2002:(.*)/);return s?`!${s[1]}/${s[2]}`:`!${e.replace(/^tag:/,"")}`}let r=t.tagPrefixes.find(i=>e.indexOf(i.prefix)===0);if(!r){let i=t.getDefaults().tagPrefixes;r=i&&i.find(s=>e.indexOf(s.prefix)===0)}if(!r)return e[0]==="!"?e:`!<${e}>`;let n=e.substr(r.prefix.length).replace(/[!,[\]{}]/g,i=>({"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"})[i]);return r.handle+n}function zU(t,e){if(e instanceof Be.Alias)return Be.Alias;if(e.tag){let i=t.filter(s=>s.tag===e.tag);if(i.length>0)return i.find(s=>s.format===e.format)||i[0]}let r,n;if(e instanceof Be.Scalar){n=e.value;let i=t.filter(s=>s.identify&&s.identify(n)||s.class&&n instanceof s.class);r=i.find(s=>s.format===e.format)||i.find(s=>!s.format)}else n=e,r=t.find(i=>i.nodeClass&&n instanceof i.nodeClass);if(!r){let i=n&&n.constructor?n.constructor.name:typeof n;throw new Error(`Tag not resolved for ${i} value`)}return r}function QU(t,e,{anchors:r,doc:n}){let i=[],s=n.anchors.getName(t);return s&&(r[s]=t,i.push(`&${s}`)),t.tag?i.push(zR(n,t.tag)):e.default||i.push(zR(n,e.tag)),i.join(" ")}function Xd(t,e,r,n){let{anchors:i,schema:s}=e.doc,o;if(!(t instanceof Be.Node)){let d={aliasNodes:[],onTagObj:h=>o=h,prevObjects:new Map};t=s.createNode(t,!0,null,d);for(let h of d.aliasNodes){h.source=h.source.node;let m=i.getName(h.source);m||(m=i.newName(),i.map[m]=h.source)}}if(t instanceof Be.Pair)return t.toString(e,r,n);o||(o=zU(s.tags,t));let l=QU(t,o,e);l.length>0&&(e.indentAtStart=(e.indentAtStart||0)+l.length+1);let u=typeof o.stringify=="function"?o.stringify(t,e,r,n):t instanceof Be.Scalar?Be.stringifyString(t,e,r,n):t.toString(e,r,n);return l?t instanceof Be.Scalar||u[0]==="{"||u[0]==="["?`${l} ${u}`:`${l}
${e.indent}${u}`:u}var Jd=class{static validAnchorNode(e){return e instanceof Be.Scalar||e instanceof Be.YAMLSeq||e instanceof Be.YAMLMap}constructor(e){Kr._defineProperty(this,"map",Object.create(null)),this.prefix=e}createAlias(e,r){return this.setAnchor(e,r),new Be.Alias(e)}createMergePair(...e){let r=new Be.Merge;return r.value.items=e.map(n=>{if(n instanceof Be.Alias){if(n.source instanceof Be.YAMLMap)return n}else if(n instanceof Be.YAMLMap)return this.createAlias(n);throw new Error("Merge sources must be Map nodes or their Aliases")}),r}getName(e){let{map:r}=this;return Object.keys(r).find(n=>r[n]===e)}getNames(){return Object.keys(this.map)}getNode(e){return this.map[e]}newName(e){e||(e=this.prefix);let r=Object.keys(this.map);for(let n=1;;++n){let i=`${e}${n}`;if(!r.includes(i))return i}}resolveNodes(){let{map:e,_cstAliases:r}=this;Object.keys(e).forEach(n=>{e[n]=e[n].resolved}),r.forEach(n=>{n.source=n.source.resolved}),delete this._cstAliases}setAnchor(e,r){if(e!=null&&!Jd.validAnchorNode(e))throw new Error("Anchors may only be set for Scalar, Seq and Map nodes");if(r&&/[\x00-\x19\s,[\]{}]/.test(r))throw new Error("Anchor names must not contain whitespace or control characters");let{map:n}=this,i=e&&Object.keys(n).find(s=>n[s]===e);if(i)if(r)i!==r&&(delete n[i],n[r]=e);else return i;else{if(!r){if(!e)return null;r=this.newName()}n[r]=e}return r}},Zd=(t,e)=>{if(t&&typeof t=="object"){let{tag:r}=t;t instanceof Be.Collection?(r&&(e[r]=!0),t.items.forEach(n=>Zd(n,e))):t instanceof Be.Pair?(Zd(t.key,e),Zd(t.value,e)):t instanceof Be.Scalar&&r&&(e[r]=!0)}return e},XU=t=>Object.keys(Zd(t,{}));function JU(t,e){let r={before:[],after:[]},n,i=!1;for(let s of e)if(s.valueRange){if(n!==void 0){let l="Document contains trailing content not separated by a ... or --- line";t.errors.push(new Kr.YAMLSyntaxError(s,l));break}let o=Be.resolveNode(t,s);i&&(o.spaceBefore=!0,i=!1),n=o}else s.comment!==null?(n===void 0?r.before:r.after).push(s.comment):s.type===Kr.Type.BLANK_LINE&&(i=!0,n===void 0&&r.before.length>0&&!t.commentBefore&&(t.commentBefore=r.before.join(`
`),r.before=[]));if(t.contents=n||null,!n)t.comment=r.before.concat(r.after).join(`
`)||null;else{let s=r.before.join(`
`);if(s){let o=n instanceof Be.Collection&&n.items[0]?n.items[0]:n;o.commentBefore=o.commentBefore?`${s}
${o.commentBefore}`:s}t.comment=r.after.join(`
`)||null}}function ZU({tagPrefixes:t},e){let[r,n]=e.parameters;if(!r||!n){let i="Insufficient parameters given for %TAG directive";throw new Kr.YAMLSemanticError(e,i)}if(t.some(i=>i.handle===r)){let i="The %TAG directive must only be given at most once per handle in the same document.";throw new Kr.YAMLSemanticError(e,i)}return{handle:r,prefix:n}}function ej(t,e){let[r]=e.parameters;if(e.name==="YAML:1.0"&&(r="1.0"),!r){let n="Insufficient parameters given for %YAML directive";throw new Kr.YAMLSemanticError(e,n)}if(!$R[r]){let i=`Document will be parsed as YAML ${t.version||t.options.version} rather than YAML ${r}`;t.warnings.push(new Kr.YAMLWarning(e,i))}return r}function tj(t,e,r){let n=[],i=!1;for(let s of e){let{comment:o,name:l}=s;switch(l){case"TAG":try{t.tagPrefixes.push(ZU(t,s))}catch(u){t.errors.push(u)}i=!0;break;case"YAML":case"YAML:1.0":if(t.version){let u="The %YAML directive must only be given at most once per document.";t.errors.push(new Kr.YAMLSemanticError(s,u))}try{t.version=ej(t,s)}catch(u){t.errors.push(u)}i=!0;break;default:if(l){let u=`YAML only supports %TAG and %YAML directives, and not %${l}`;t.warnings.push(new Kr.YAMLWarning(s,u))}}o&&n.push(o)}if(r&&!i&&(t.version||r.version||t.options.version)==="1.1"){let s=({handle:o,prefix:l})=>({handle:o,prefix:l});t.tagPrefixes=r.tagPrefixes.map(s),t.version=r.version}t.commentBefore=n.join(`
`)||null}function kl(t){if(t instanceof Be.Collection)return!0;throw new Error("Expected a YAML collection as document contents")}var Ol=class{constructor(e){this.anchors=new Jd(e.anchorPrefix),this.commentBefore=null,this.comment=null,this.contents=null,this.directivesEndMarker=null,this.errors=[],this.options=e,this.schema=null,this.tagPrefixes=[],this.version=null,this.warnings=[]}add(e){return kl(this.contents),this.contents.add(e)}addIn(e,r){kl(this.contents),this.contents.addIn(e,r)}delete(e){return kl(this.contents),this.contents.delete(e)}deleteIn(e){return Be.isEmptyPath(e)?this.contents==null?!1:(this.contents=null,!0):(kl(this.contents),this.contents.deleteIn(e))}getDefaults(){return Ol.defaults[this.version]||Ol.defaults[this.options.version]||{}}get(e,r){return this.contents instanceof Be.Collection?this.contents.get(e,r):void 0}getIn(e,r){return Be.isEmptyPath(e)?!r&&this.contents instanceof Be.Scalar?this.contents.value:this.contents:this.contents instanceof Be.Collection?this.contents.getIn(e,r):void 0}has(e){return this.contents instanceof Be.Collection?this.contents.has(e):!1}hasIn(e){return Be.isEmptyPath(e)?this.contents!==void 0:this.contents instanceof Be.Collection?this.contents.hasIn(e):!1}set(e,r){kl(this.contents),this.contents.set(e,r)}setIn(e,r){Be.isEmptyPath(e)?this.contents=r:(kl(this.contents),this.contents.setIn(e,r))}setSchema(e,r){if(!e&&!r&&this.schema)return;typeof e=="number"&&(e=e.toFixed(1)),e==="1.0"||e==="1.1"||e==="1.2"?(this.version?this.version=e:this.options.version=e,delete this.options.schema):e&&typeof e=="string"&&(this.options.schema=e),Array.isArray(r)&&(this.options.customTags=r);let n=Object.assign({},this.getDefaults(),this.options);this.schema=new KR.Schema(n)}parse(e,r){this.options.keepCstNodes&&(this.cstNode=e),this.options.keepNodeTypes&&(this.type="DOCUMENT");let{directives:n=[],contents:i=[],directivesEndMarker:s,error:o,valueRange:l}=e;if(o&&(o.source||(o.source=this),this.errors.push(o)),tj(this,n,r),s&&(this.directivesEndMarker=!0),this.range=l?[l.start,l.end]:null,this.setSchema(),this.anchors._cstAliases=[],JU(this,i),this.anchors.resolveNodes(),this.options.prettyErrors){for(let u of this.errors)u instanceof Kr.YAMLError&&u.makePretty();for(let u of this.warnings)u instanceof Kr.YAMLError&&u.makePretty()}return this}listNonDefaultTags(){return XU(this.contents).filter(e=>e.indexOf(KR.Schema.defaultPrefix)!==0)}setTagPrefix(e,r){if(e[0]!=="!"||e[e.length-1]!=="!")throw new Error("Handle must start and end with !");if(r){let n=this.tagPrefixes.find(i=>i.handle===e);n?n.prefix=r:this.tagPrefixes.push({handle:e,prefix:r})}else this.tagPrefixes=this.tagPrefixes.filter(n=>n.handle!==e)}toJSON(e,r){let{keepBlobsInJSON:n,mapAsMap:i,maxAliasCount:s}=this.options,o=n&&(typeof e!="string"||!(this.contents instanceof Be.Scalar)),l={doc:this,indentStep:"  ",keep:o,mapAsMap:o&&!!i,maxAliasCount:s,stringify:Xd},u=Object.keys(this.anchors.map);u.length>0&&(l.anchors=new Map(u.map(h=>[this.anchors.map[h],{alias:[],aliasCount:0,count:1}])));let d=Be.toJSON(this.contents,e,l);if(typeof r=="function"&&l.anchors)for(let{count:h,res:m}of l.anchors.values())r(m,h);return d}toString(){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");let e=this.options.indent;if(!Number.isInteger(e)||e<=0){let u=JSON.stringify(e);throw new Error(`"indent" option must be a positive integer, not ${u}`)}this.setSchema();let r=[],n=!1;if(this.version){let u="%YAML 1.2";this.schema.name==="yaml-1.1"&&(this.version==="1.0"?u="%YAML:1.0":this.version==="1.1"&&(u="%YAML 1.1")),r.push(u),n=!0}let i=this.listNonDefaultTags();this.tagPrefixes.forEach(({handle:u,prefix:d})=>{i.some(h=>h.indexOf(d)===0)&&(r.push(`%TAG ${u} ${d}`),n=!0)}),(n||this.directivesEndMarker)&&r.push("---"),this.commentBefore&&((n||!this.directivesEndMarker)&&r.unshift(""),r.unshift(this.commentBefore.replace(/^/gm,"#")));let s={anchors:Object.create(null),doc:this,indent:"",indentStep:" ".repeat(e),stringify:Xd},o=!1,l=null;if(this.contents){this.contents instanceof Be.Node&&(this.contents.spaceBefore&&(n||this.directivesEndMarker)&&r.push(""),this.contents.commentBefore&&r.push(this.contents.commentBefore.replace(/^/gm,"#")),s.forceBlockIndent=!!this.comment,l=this.contents.comment);let u=l?null:()=>o=!0,d=Xd(this.contents,s,()=>l=null,u);r.push(Be.addComment(d,"",l))}else this.contents!==void 0&&r.push(Xd(this.contents,s));return this.comment&&((!o||l)&&r[r.length-1]!==""&&r.push(""),r.push(this.comment.replace(/^/gm,"#"))),r.join(`
`)+`
`}};Kr._defineProperty(Ol,"defaults",$R);ep.Document=Ol;ep.defaultOptions=KU;ep.scalarOptions=$U});var ZR=ye(JR=>{"use strict";var OT=_R(),Ja=QR(),rj=Qd(),nj=ra(),ij=Wd();El();function sj(t,e=!0,r){r===void 0&&typeof e=="string"&&(r=e,e=!0);let n=Object.assign({},Ja.Document.defaults[Ja.defaultOptions.version],Ja.defaultOptions);return new rj.Schema(n).createNode(t,e,r)}var Jc=class extends Ja.Document{constructor(e){super(Object.assign({},Ja.defaultOptions,e))}};function aj(t,e){let r=[],n;for(let i of OT.parse(t)){let s=new Jc(e);s.parse(i,n),r.push(s),n=s}return r}function XR(t,e){let r=OT.parse(t),n=new Jc(e).parse(r[0]);if(r.length>1){let i="Source contains multiple documents; please use YAML.parseAllDocuments()";n.errors.unshift(new nj.YAMLSemanticError(r[1],i))}return n}function oj(t,e){let r=XR(t,e);if(r.warnings.forEach(n=>ij.warn(n)),r.errors.length>0)throw r.errors[0];return r.toJSON()}function lj(t,e){let r=new Jc(e);return r.contents=t,String(r)}var cj={createNode:sj,defaultOptions:Ja.defaultOptions,Document:Jc,parse:oj,parseAllDocuments:aj,parseCST:OT.parse,parseDocument:XR,scalarOptions:Ja.scalarOptions,stringify:lj};JR.YAML=cj});var wT=ye((rae,ek)=>{ek.exports=ZR().YAML});var tk=ye($r=>{"use strict";var kn=El(),uj=Qd();ra();Wd();$r.Alias=kn.Alias;$r.Collection=kn.Collection;$r.Merge=kn.Merge;$r.Node=kn.Node;$r.Pair=kn.Pair;$r.Scalar=kn.Scalar;$r.YAMLMap=kn.YAMLMap;$r.YAMLSeq=kn.YAMLSeq;$r.binaryOptions=kn.binaryOptions;$r.boolOptions=kn.boolOptions;$r.intOptions=kn.intOptions;$r.nullOptions=kn.nullOptions;$r.strOptions=kn.strOptions;$r.Schema=uj.Schema});var zr,iae,sae,aae,oae,lae,cae,uae,fae,dae,pae,rk,Zc,eu,wl,LT=x(()=>{zr=We(tk(),1),iae=zr.default.binaryOptions,sae=zr.default.boolOptions,aae=zr.default.intOptions,oae=zr.default.nullOptions,lae=zr.default.strOptions,cae=zr.default.Schema,uae=zr.default.Alias,fae=zr.default.Collection,dae=zr.default.Merge,pae=zr.default.Node,rk=zr.default.Pair,Zc=zr.default.Scalar,eu=zr.default.YAMLMap,wl=zr.default.YAMLSeq});var nk,DT,ik=x(()=>{nk=We(wT());LT();Mc();DT=class{constructor(e){this.documentScope=null;this.project=e}getKeyValue(e){return e instanceof Zc?e.value:""}getNodeValue(e){return e instanceof Zc?e.value:e instanceof eu?this.analyzeDocument(e.items):e instanceof wl?this.analyzeDocument(e.items):""}getScalarRuntimeType(e){return parseFloat(e).toString()==e||parseInt(e).toString()==e?"number":"string"}analyzeDocument(e){let r=new En(this.project);return e.forEach(n=>{if(n instanceof rk){let i=this.getKeyValue(n.key),s=this.getNodeValue(n.value);if(n.value instanceof Zc)r.addVariable({dataType:this.getScalarRuntimeType(s),introducedBy:null,name:i,sourceField:null,sourceName:"*frontmatter"});else if(n.value instanceof wl&&n.key instanceof Zc){let o=new En(this.project);n.value.items.forEach(l=>{let u=this.getNodeValue(l);o.addVariable({dataType:this.getScalarRuntimeType(u),introducedBy:null,name:l.value,sourceField:null,sourceName:"*frontmatter"})}),r.addScopeList(n.key.value,o)}else r.addScopeList(i,s)}}),r}parse(e){try{let r=nk.parseDocument(e);r.contents instanceof eu&&(this.documentScope=this.analyzeDocument(r.contents.items))}catch{this.documentScope=null}}hasScope(){return this.documentScope!=null}getScope(){return this.documentScope}}});var FT,sk=x(()=>{it();gT();Od();FT=class{constructor(e){this.doc=e}getAncestors(e){return Ha.findAncestorsBeforePosition(e,this.doc.getAllAntlersNodes())}getNodeAt(e){return Vt.findNodeAtPosition(e,this.doc.getDocumentParser().getNodes())}getNodesBefore(e){return Vt.findNodesBeforePosition(e,this.doc.getDocumentParser().getNodes())}getNodeBefore(e){return Vt.findNodeBeforePosition(e,this.doc.getDocumentParser().getNodes())}getNodeAfter(e){return Vt.findNodeAfterPosition(e,this.doc.getDocumentParser().getNodes())}getNodesAfter(e){return Vt.findNodesAfterPosition(e,this.doc.getDocumentParser().getNodes())}getIsWithinPairedNode(e){let r=this.getNodeBefore(e);return r==null?!1:Ha.isPairedNode(r)}filter(e){return this.doc.getDocumentParser().getNodes().filter(e)}getComments(){let e=[];return this.doc.getAllNodes().forEach(r=>{r instanceof ee&&r.isComment&&e.push(r)}),e}getMultilineNodes(){let e=[];return this.doc.getAllNodes().forEach(r=>{var n,i;r instanceof ee&&!r.isComment&&((n=r.startPosition)==null?void 0:n.line)!=((i=r.endPosition)==null?void 0:i.line)&&e.push(r)}),e}getMultiLineComments(){let e=[];return this.getComments().forEach(r=>{var n,i;((n=r.startPosition)==null?void 0:n.line)!=((i=r.endPosition)==null?void 0:i.line)&&e.push(r)}),e}getAllLiteralNodes(){let e=[];return this.doc.getAllNodes().forEach(r=>{(r instanceof Rt||r instanceof Nr)&&e.push(r)}),e}getStructuralNodes(){let e=[];return this.doc.getDocumentParser().getRenderNodes().forEach(r=>{r instanceof ee?e.push(r):r instanceof Mr&&r.logicBranches.length>0&&r.logicBranches.forEach(n=>{if(n.head!=null){let i=n.head;i.originalNode!=null?e.push(i.originalNode):e.push(i)}})}),e}getAllRuntimeNodes(){let e=[];return this.doc.getAllNodes().forEach(r=>{(r instanceof _n||r instanceof ee)&&r.runtimeNodes.length>0&&r.runtimeNodes.forEach(n=>{e.push(n)})}),e}getAllParameterNodes(){let e=[];return this.doc.getAllNodes().forEach(r=>{(r instanceof _n||r instanceof ee)&&r.hasParameters&&r.parameters.forEach(n=>{e.push(n)})}),e}getAssignmentNodes(){return Vt.findAssignmentNodes(this.getAllRuntimeNodes())}}});var MT,ak=x(()=>{it();MT=class{constructor(e){this.doc=e}getAllSelfClosingNodes(){let e=[];return this.doc.getAllNodes().forEach(r=>{r instanceof ee&&r.isSelfClosing&&e.push(r)}),e}getAllPairedNodes(){let e=[];return this.doc.getAllNodes().forEach(r=>{(r instanceof ee||r instanceof Et)&&r.isClosedBy!=null&&!r.isSelfClosing&&e.push(r)}),e}}});var tp,ok=x(()=>{Sr();tp=class{static printComment(e,r,n){let i=e.getContent(),s=i.trim();if(s.includes(`
`)){let o=ie.breakByNewLine(i.trim()),l=[];o.forEach(h=>{l.push(" ".repeat(r+n)+h.trim())});let u=l.join(`
`),d=`{{#
`;return d+=u,d+=`
`+" ".repeat(n)+"#}}",d}return"{{# "+s+" #}}"}}});var Za,lk=x(()=>{Sr();Za=class{static indentRelative(e,r){let n=ie.breakByNewLine(e),i=[];for(let l=0;l<n.length;l++)if(n[l].trim().length>0){i=n.slice(l);break}for(let l=i.length-1;l>=0&&i[l].trim().length==0;l--)i.pop();let s=-1,o="";for(let l=0;l<i.length;l++){let u=i[l],d=u.trimLeft(),h=u.length-d.length;(l==0||h<s)&&(s=h,o=u)}if(s>=0){let l=" ".repeat(r);for(let u=0;u<i.length;u++){let d=i[u];if(d.trim().length==0){i[u]="";continue}let h=d.substring(s);if(u==0){i[u]=d.trimLeft();continue}else i[u]=l+h.trimLeft()}}return i.join(`
`)}static shiftIndent(e,r,n=!1,i=4,s=!0){r<0&&(r=0);let o=ie.breakByNewLine(e.trim()),l=[];for(let d=0;d<o.length;d++){if(d==0&&n){l.push(o[d]);continue}let h=o[d];l.push(" ".repeat(r)+h)}let u=l.join(`
`);if(s&&l.length>0&&r-i>i&&l[l.length-1].trim()==") }}"){o=ie.breakByNewLine(u.trim()),l=[];for(let d=0;d<o.length;d++){if(d==0&&n){l.push(o[d]);continue}let h=o[d];if(d==o.length-1){l.push(h);break}l.push(" ".repeat(i)+h)}u=l.join(`
`)}return u}static shiftClean(e,r){let n=ie.breakByNewLine(e),i=[],s=" ".repeat(r),o=!1;return n.forEach(l=>{l.trim().length>0&&(o=!0),!!o&&i.push(s+l)}),i.join(`
`)}static inferIndentLevel(e,r,n){let i=0,s=-1;for(let o=0;o<e.length;o++){let l=e[o];if(l.includes(r)){let u=l.trimLeft();i=l.length-u.length,s=o;break}}if(s>0)for(let o=s-1;o>=0;o--){let l=e[o],u=l.trim(),d=l.trimLeft(),h=l.length-u.length;if(d.length!=0&&h!=i&&h<i){let m=i-h;return{targetLevel:i,referenceLevel:h,sourceTabSize:m}}}return{targetLevel:i,referenceLevel:i,sourceTabSize:n}}static indent(e,r,n){let i=Za.inferIndentLevel(e,r,n);return" ".repeat(i.targetLevel)}}});var VT,ck=x(()=>{Fi();VT=class{constructor(e,r,n){this.buffer="";this.closeString="";this.relativeIndentSize=0;this.indentSeed=0;this.baseIndent=r,e.isInterpolationNode?(this.buffer="{",this.closeString="}"):(this.buffer="{{ ",e.isSelfClosing?this.closeString=" /}}":this.closeString=" }}"),n!=null&&n.trim().length>0&&(this.buffer+=n+" ")}setIndentSeed(e){return this.indentSeed=e,this}close(){return this.closeString==" }}"?this.buffer.endsWith(" ")?this.buffer+="}}":this.buffer+=this.closeString:this.buffer+=this.closeString,this}appendT(e){return this.buffer.endsWith(" ")&&(this.buffer=this.buffer.trimEnd()),this.buffer+=e,this}appendTS(e,r=!1){return this.buffer.endsWith(" ")&&(this.buffer=this.buffer.trimEnd()),this.buffer.endsWith("{")&&!r&&(e=e.trimStart()),this.buffer+=e,this}append(e){return this.buffer+=e,this}appendOS(e){return this.buffer.endsWith(" ")==!1&&this.buffer.endsWith("(")==!1&&this.buffer.endsWith("{")==!1&&this.buffer.endsWith("[")==!1&&this.buffer.endsWith(":")==!1&&(this.buffer+=" "),this.append(e)}appendS(e){let r="";return this.buffer.endsWith(" ")==!1&&(r+=" "),r+=e+" ",this.buffer+=r,this}indent(){let e=this.baseIndent;return e==0?e=1:e+=2,this.relativeIndentSize>0&&(e+=this.relativeIndentSize),this.buffer+=" ".repeat(e),this}addIndent(e){return e<=0?this:(this.buffer+=" ".repeat(e),this)}paramS(e){let r=" ";return e.isVariableReference&&(r+=":"),r+=e.name+"="+e.nameDelimiter+e.value+e.nameDelimiter,this.append(r),this}replace(e,r){return this.buffer=Bn(this.buffer,e,r),this}relativeIndent(e){let r=this.buffer.split(`
`);if(r.length==0)return this;let n=r[r.length-1].trimEnd();return n.endsWith("(")&&(n=n.slice(0,-1)),n.endsWith(e)==!1?this:(this.relativeIndentSize=n.lastIndexOf(e),this)}newlineIndent(){return this.newLine(),this.indent(),this}newlineNDIndent(){return this.buffer=this.buffer.trimEnd(),this.newLine(),this.indent(),this}newLine(){return this.buffer+=`
`,this}getContent(){return this.buffer}endsWith(e){return this.buffer.endsWith(e)}}});var tu,uk=x(()=>{Fi();it();qc();Du();ck();tu=class{static prettyPrintNode(e,r,n,i,s,o){var h,m,y,b,T,S,w;let l=e.getTrueRuntimeNodes(),u=0,d=0;if(l.length>0){let _=new VT(e,n,s);o!=null&&_.setIndentSeed(o);let C=null;for(let Y=0;Y<l.length;Y++){let M=l[Y];if(C!=null&&((h=M.endPosition)==null?void 0:h.isBefore(C.startPosition)))continue;let Z=!1;if(M instanceof lr?!(M.next instanceof lr)&&M.next!=null&&(!Jt.isOperatorType(M.next)||!Jt.isAssignmentOperator(M.next))&&(!(M.next instanceof vr)&&!(M.next instanceof Yt)&&!M.isSwitchGroupMember&&!Jt.isOperatorType(M.next)&&(Z=!0,M.next instanceof xe&&M.next.name=="as"&&(Z=!1)),M.next instanceof xr&&(Z=!1)):!((m=M.prev)==null?void 0:m.isVirtual)&&((y=M.prev)==null?void 0:y.isVirtualGroupOperatorResolve)&&M.prev.producesVirtualStatementTerminator&&M.next!=null&&(M.prev instanceof xe||_.newlineIndent()),M instanceof xe){if(M.convertedToOperator){if(M.name=="arr")_.appendT(" arr");else if(M.name=="switch"||M.name=="list")if(_.appendTS(" "+M.name,!0),Y+1<l.length){if(!(l[Y+1]instanceof cr))break;_.append("("),M.name!="list"&&_.relativeIndent(M.name).newLine().indent(),Y+=1,C=l[Y+1];continue}else break;else if(d+=1,d>1)_.newlineNDIndent().indent().addIndent(6).appendS(M.name);else{if(r.getDocumentParser().getLanguageParser().isMergedVariableComponent(M)){_.append(M.name);continue}_.appendS(M.name)}C=M;continue}M.mergeRefName!=null&&M.mergeRefName.trim().length>0&&M.mergeRefName!=M.name?_.append(M.mergeRefName.trim()):M.name=="as"?_.appendOS("as"):_.append(M.name.trim())}else if(M instanceof Kn)if(_.appendTS(" list"),Y+1<l.length){if(!(l[Y+1]instanceof cr))break;_.append("("),Y+=1,C=l[Y+1];continue}else break;else if(M instanceof xr)_.appendS("|");else if(M instanceof Yt){if(C!=null&&((b=M.startPosition)==null?void 0:b.isBefore(C.endPosition))||M.next instanceof xe&&M.next.mergeRefName.startsWith(":"))continue;if(r.getDocumentParser().getLanguageParser().isMergedVariableComponent(M)){_.endsWith(":")||_.append(":");continue}if(M.prev!=null&&M.next!=null&&It.distance(M.prev,M)<=1&&It.distance(M.next,M)<=1){_.append(":"),C=M;continue}if(r.getDocumentParser().getLanguageParser().isActualModifierSeparator(M)){_.append(":"),C=M;continue}if(C instanceof hr||C instanceof ur){_.append(":"),C=M;continue}_.appendS(":")}else if(M instanceof hr)_.append(M.name);else if(M instanceof Ti)_.appendS("?");else if(M instanceof Br){if(r.getDocumentParser().getLanguageParser().isMergedVariableComponent(M))continue;if(M.isTenaryBranchSeparator){_.appendS(":"),C=M;continue}if(r.getDocumentParser().getLanguageParser().isActualModifierSeparator(M)){_.append(":"),C=M;continue}_.append(":")}else if(M instanceof ur)_.append(M.value.trim());else if(M instanceof cr)_.append("(");else if(M instanceof lr)_.append(")");else if(M instanceof Kt){if(r.getDocumentParser().getLanguageParser().isMergedVariableComponent(M))continue;M.sourceContent!=""?_.appendOS(M.sourceContent):_.appendOS(M.sourceTerminator+M.value+M.sourceTerminator)}else if(M instanceof Xt)M.isSwitchGroupMember?_.append(",").newlineIndent():_.append(", ");else if(M instanceof er){if(C=M,r.getDocumentParser().getLanguageParser().isMergedVariableComponent(M))continue;let Q=(S=(T=M.value)==null?void 0:T.toString())!=null?S:"";M.rawLexContent!=null&&M.rawLexContent.trim().length>0&&(Q=M.rawLexContent.trim()),_.append(Q)}else if(M instanceof vn)_.appendS("=");else if(M instanceof qr)_.appendS("=>");else if(M instanceof yn)_.appendS("+");else if(M instanceof Vr){if(r.getDocumentParser().getLanguageParser().isMergedVariableComponent(M)){_.append("-");continue}if(M.prev!=null&&M.next!=null&&It.distance(M.prev,M)<=1&&It.distance(M.next,M)<=1){M.next instanceof er&&M.prev instanceof er?_.appendS("-"):_.append("-"),C=M;continue}_.appendS("-")}else if(M instanceof Nn)_.appendS("*");else if(M instanceof bn){if(C=M,(w=M.startPosition)==null?void 0:w.isBefore(e.nameEndsOn)){_.append("/");continue}if(r.getDocumentParser().getLanguageParser().isMergedVariableComponent(M))continue;_.appendS("/");continue}else M instanceof vr?M.isListGroupMember?(_.append(";").newlineIndent().indent().addIndent(7),Y+1<l.length&&!(l[Y+1]instanceof lr)&&_.indent()):(u+=1,u<i.maxAntlersStatementsPerLine?_.appendT("; "):(_.appendT(";").newlineIndent(),u=0)):M instanceof Ir?M.content=="not"?_.appendS("not"):_.append("!"):_.appendS(M.rawContent());Z&&_.newlineIndent(),C=M}e.hasParameters&&e.parameters.forEach(Y=>{_.paramS(Y)}),_.close();let P=_.getContent();return e.processedInterpolationRegions.size>0&&e.processedInterpolationRegions.forEach((Y,M)=>{let Z=tu.prettyPrintNode(Y[0],r,n,i,null,null);P=Bn(P,M,Z)}),P}return e.getTrueRawContent()}}});var ru,fk=x(()=>{Fi();bo();it();Sr();Va();ok();lk();uk();ru=class{constructor(e){this.htmlFormatter=null;this.yamlFormatter=null;this.phpFormatter=null;this.slugs=[];this.removeLines=[];this.virtualStructureOpens=[];this.virtualStructureClose=[];this.structureLines=[];this.parentTransformer=null;this.tagPairs=new Map;this.conditions=[];this.inlineIfs=new Map;this.createExraStructuralPairs=!1;this.spanNodes=new Map;this.inlineNodes=new Map;this.virtualBlocks=[];this.inlineComments=new Map;this.blockComments=[];this.extractedEmbeddedDocuments=new Map;this.dynamicElementAntlers=new Map;this.dynamicElementAntlersNodes=new Map;this.dynamicElementPairedAntlers=new Map;this.dynamicElementPairedAntlersNodes=new Map;this.dynamicElementConditionAntlers=new Map;this.dynamicElementConditionAntlersNodes=new Map;this.noParses=new Map;this.forceBreaks=[];this.forceCleanLines=["{{ if ","{{ /if","{{ /unless","{{ /noparse","{{ else","{{ unless"];this.doc=e,this.options={tabSize:4,newlinesAfterFrontMatter:1,maxAntlersStatementsPerLine:3,endNewline:!0}}produceExtraStructuralPairs(e){return this.createExraStructuralPairs=e,this}withHtmlFormatter(e){return this.htmlFormatter=e,this}withYamlFormatter(e){return this.yamlFormatter=e,this}withPhpFormatter(e){return this.phpFormatter=e,this}withOptions(e){return this.options=e,this.options.tabSize<=0&&(this.options.tabSize=4),this.options.newlinesAfterFrontMatter<0&&(this.options.newlinesAfterFrontMatter=1),this}setParentTransformer(e){return this.parentTransformer=e,this}close(e){return"</"+e+">"}open(e){return"<"+e+">"}selfClosing(e){return"<"+e+" />"}pair(e,r=""){return"<"+e+">"+r+"</"+e+">"}makeSlug(e){e<=2&&(e=7);let r="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=n.length;for(let o=0;o<e-1;o++)r+=n.charAt(Math.floor(Math.random()*i));let s="A"+r+"A";return this.slugs.includes(s)?this.makeSlug(e+1):(this.slugs.push(s),s)}transformInlineConditions(e){let r=e;return this.inlineIfs.forEach((n,i)=>{r=r.replace(i,n.nodeContent)}),r}registerCondition(e){this.parentTransformer!=null?this.parentTransformer.registerCondition(e):this.conditions.push(e)}registerInlineCondition(e,r){this.parentTransformer!=null?this.parentTransformer.registerInlineCondition(e,r):this.inlineIfs.set(e,r)}registerVirtualBlock(e){this.parentTransformer!=null?this.parentTransformer.registerVirtualBlock(e):this.virtualBlocks.push(e)}registerNoParse(e,r){this.parentTransformer!=null?this.parentTransformer.registerNoParse(e,r):this.noParses.set(e,r)}prepareNoParse(e){let r=this.makeSlug(35);return this.registerNoParse(r,e),r}registerForcedBreak(){if(this.parentTransformer!=null)return this.parentTransformer.registerForcedBreak();{let e=this.makeSlug(15),r=this.makeSlug(10);return this.forceBreaks.push(e),this.forceBreaks.push(r),this.removeLines.push(this.open(e)),this.removeLines.push(this.close(e)),this.removeLines.push(this.selfClosing(r)),this.pair(e,this.selfClosing(r))}}transformVirtualStructures(e){let r=e;return this.virtualBlocks.forEach(n=>{var s;this.removeLines.push(n.pairClose);let i=this.indentLevel(n.pairOpen);if(n.virtualElement.length>0&&(this.removeLines.push(this.open(n.virtualElement)),this.removeLines.push(this.close(n.virtualElement))),n.node instanceof Nr){let o="{{ noparse }}"+n.node.getInnerDocumentText();r=r.replace(n.pairOpen,o)}if(n.node instanceof ee){let o=n.node;r=r.replace(n.pairClose,(s=o.isClosedBy)==null?void 0:s.getOriginalContent())}else this.removeLines.push(n.pairClose)}),this.noParses.forEach((n,i)=>{r=r.replace(i,`{{ noparse }}${n.getInnerDocumentText()}{{ /noparse }}`)}),r}printNode(e,r=null){var u,d;let n=e.getTrueNode();if((n.rawStart=="{{?"||n.rawStart=="{{$")&&this.phpFormatter!=null)try{let h=this.phpFormatter(n.content);return`${n.rawStart} ${h} ${n.rawEnd}`}catch{}let i=this.doc;e.childDocument!=null&&(i=e.childDocument.document);let s=null;if(Tn.isConditionalStructure(e)&&(s=n.runtimeName(),e.isClosingTag&&(s=="if"||s=="unless")))return`{{ /${s} }}`;if(e.isClosingTag)return n.runtimeName()=="endunless"?"{{ /unless }}":`{{ ${n.content.trim()} }}`;let o=tu.prettyPrintNode(n,i,0,this.options,s,null),l=["switch","list"];return r!=null&&o.includes(`
`)&&(e.isVirtual&&(((u=e.name)==null?void 0:u.name)=="switch"||((d=e.name)==null?void 0:d.name)=="list")?o=Za.shiftIndent(o,r+this.options.tabSize,!0):o=Za.shiftIndent(o,r-this.options.tabSize*2,!0)),o}transformConditions(e){let r=e;return this.conditions.forEach(n=>{n.structures.forEach(i=>{let s=i.branch.head;if(i.virtualBreakOpen.length>0&&this.removeLines.push(i.virtualBreakOpen),i.virtualBreakClose.length>0&&(r=r.replace(i.virtualBreakClose,i.virtualBreakClose+`
`),this.removeLines.push(i.virtualBreakClose)),this.virtualStructureOpens.push(i.virtualOpen),this.removeLines.push(i.virtualOpen),this.removeLines.push(i.virtualClose),i.isLast){let o=this.selfClosing(i.virtualSlug);r.includes(o)&&(r=r.replace(o,i.doc.trim())),r=r.replace(i.pairOpen,this.printNode(s,this.indentLevel(i.pairOpen))),r=r.replace(i.pairClose,this.printNode(s.isClosedBy))}else{let o=this.selfClosing(i.virtualSlug);r.includes(o)&&(r=r.replace(o,i.doc.trim())),this.removeLines.push(i.pairClose),r=r.replace(i.pairOpen,this.printNode(s,this.indentLevel(i.pairOpen)))}})}),r}transformExtractedDocuments(e){let r=e;return this.extractedEmbeddedDocuments.forEach((n,i)=>{let s="",o=0;if(n.isScript?s="//"+i:s="/*"+i+"*/",o=this.indentLevel(s),r.includes(s)){let l="";n.content.includes("{{ /")||n.content.includes("{{/")?l=n.content.trim():l=Za.indentRelative(n.content,o),r=r.replace(s,l)}}),r}getAntlersChildDoc(e){return e.childDocument!=null?e.childDocument.document.transform().setParentTransformer(this).toStructure():this.clone().toStructure(e.getImmediateChildren())}prepareCondition(e){let r=e.logicBranches[0].head;if(r.fragmentPosition==2||r.fragmentPosition==1){let u=this.makeSlug(e.nodeContent.length);return this.registerInlineCondition(u,e),u}if(r.fragmentPosition==0)return this.prepareDynamicCondition(e);let n=[],i="";r.prev instanceof ee&&r.prev.isInlineAntlers&&(i+=this.registerForcedBreak()),e.logicBranches.forEach((u,d)=>{var S,w,_,C;let h=u.head,m=this.getAntlersChildDoc(u),y=this.makeSlug(h.sourceContent.length),b=this.makeSlug(10),T={branch:u,slug:y,doc:m,pairOpen:this.open(y),pairClose:this.close(y),virtualOpen:this.open(b),virtualClose:this.close(b),virtualSlug:b,isFirst:d==0,isLast:d==e.logicBranches.length-1,virtualBreakClose:"",virtualBreakOpen:""};if(((w=(S=u.head)==null?void 0:S.name)==null?void 0:w.getCompoundTagName())=="else"){i+=`
`+T.pairOpen;let P=this.makeSlug(25);this.createExraStructuralPairs&&u.head.containsChildStructures==!1&&u.head.containsAnyFragments==!1?(T.virtualBreakOpen=this.open(P),T.virtualBreakClose=this.close(P),T.virtualSlug=P,i+=`
`+this.selfClosing(P),i+=T.pairClose+`
`):(T.virtualBreakOpen=this.selfClosing(P),i+=T.virtualBreakOpen+`
`,i+=m,i+=`
`+T.pairClose)}else if(this.createExraStructuralPairs&&((_=u.head)==null?void 0:_.containsAnyFragments)==!1&&((C=u.head)==null?void 0:C.containsChildStructures)==!1){let P=this.makeSlug(25);T.virtualBreakOpen=this.open(P),T.virtualBreakClose=this.close(P),T.virtualSlug=P,i+=`
`+T.pairOpen,i+=`
`+this.selfClosing(P),i+=T.pairClose+`
`}else i+=T.pairOpen,i+=`
`,i+=m,i+=`
`,i+=T.pairClose;n.push(T)});let s=n[0].pairOpen,o=n[n.length-1].pairClose,l={pairOpen:s,pairClose:o,structures:n,condition:e};return this.registerCondition(l),i}registerPairedAntlers(e,r){this.parentTransformer!=null?this.parentTransformer.registerPairedAntlers(e,r):this.tagPairs.set(e,r)}preparePairedAntlers(e){let r=this.makeSlug(e.getOriginalContent().length),n=this.getAntlersChildDoc(e);if(e.fragmentPosition!=0){let i="",s="";if(e.prev instanceof ee&&e.prev.isPaired()==!1&&(s+=this.registerForcedBreak()),s+=`${this.open(r)}
`,e.containsChildStructures==!1&&e.containsAnyFragments==!1){let o=!1,l=!0,u=!0,d=0;for(let m=0;m<e.children.length;m++){let y=e.children[m];if(y instanceof Rt&&y.sourceContent.trim().length>0){o=!0,l=!1;break}}e.children.length==2&&e.children[0]instanceof ee&&(o=!0);let h=0;for(let m=0;m<e.children.length-1;m++){let y=e.children[m];y instanceof ee&&(d+=1,y.isInlineAntlers?h+=1:u=!1)}h==0&&(o=!0),u==!1&&(o=!1),l==!1&&d==0&&(o=!1),o?(i=this.makeSlug(15),s+=this.pair(i,n)):s+=n}else s+=n;return s+=`
${this.close(r)}
`,this.virtualStructureOpens.push(this.open(i)),this.virtualStructureClose.push(this.close(i)),this.virtualStructureClose.push(this.close(r)),this.registerPairedAntlers(r,{innerDoc:n,slug:r,tag:e,virtualElementSlug:i,isInline:!1}),s}return this.prepareConditionalAntlersPair(e)}registerInlineAntlers(e){if(e.fragmentPosition==2&&(e.isInlineAntlers=!0),this.parentTransformer!=null)return this.parentTransformer.registerInlineAntlers(e);{let r=this.makeSlug(e.getOriginalContent().length);return e.isInlineAntlers?(this.spanNodes.set(r,e),r):(this.inlineNodes.set(r,e),this.selfClosing(r))}}registerVirtualComment(e){this.parentTransformer!=null?this.parentTransformer.registerVirtualComment(e):this.blockComments.push(e)}registerComment(e,r){this.parentTransformer!=null?this.parentTransformer.registerComment(e,r):this.inlineComments.set(e,r)}prepareComment(e){let r=e.getContent();if(r.trim().includes(`
`)){let s=this.makeSlug(10),o=this.makeSlug(10),l={node:e,pairOpen:this.open(s),pairClose:this.close(s),virtualElement:this.selfClosing(o)};return this.registerVirtualComment(l),l.pairOpen+`
`+l.virtualElement+`
`+l.pairClose}let i=this.makeSlug(r.length);return this.registerComment(i,e),this.selfClosing(i)}registerDynamicAntlersPair(e,r){this.parentTransformer!=null?(this.dynamicElementPairedAntlers.set(r.nodeContent,e),this.parentTransformer.registerDynamicAntlersPair(e,r)):(this.dynamicElementPairedAntlers.set(r.nodeContent,e),this.dynamicElementPairedAntlersNodes.set(e,r))}prepareConditionalAntlersPair(e){if(this.dynamicElementPairedAntlers.has(e.nodeContent))return this.dynamicElementPairedAntlers.get(e.nodeContent);let r=this.makeSlug(e.nodeContent.length);return this.registerDynamicAntlersPair(r,e),r}registerDynamicCondition(e,r){this.parentTransformer!=null?(this.dynamicElementConditionAntlers.set(r.nodeContent,e),this.parentTransformer.registerDynamicCondition(e,r)):(this.dynamicElementConditionAntlers.set(r.nodeContent,e),this.dynamicElementConditionAntlersNodes.set(e,r))}prepareDynamicCondition(e){if(this.dynamicElementConditionAntlers.has(e.nodeContent))return this.dynamicElementConditionAntlers.get(e.nodeContent);let r=this.makeSlug(e.nodeContent.length);return this.registerDynamicCondition(r,e),r}registerDynamicAntlers(e,r){this.parentTransformer!=null?(this.dynamicElementAntlers.set(r.content,e),this.parentTransformer.registerDynamicAntlers(e,r)):(this.dynamicElementAntlers.set(r.content,e),this.dynamicElementAntlersNodes.set(e,r))}prepareConditionalAntlers(e){if(this.dynamicElementAntlers.has(e.content))return this.dynamicElementAntlers.get(e.content);let r=this.makeSlug(e.content.length);return this.registerDynamicAntlers(r,e),r}prepareAntlers(e){return e.isClosedBy!=null?this.preparePairedAntlers(e):e.fragmentPosition==0?this.prepareConditionalAntlers(e):this.registerInlineAntlers(e)}transformDynamicAntlers(e){let r=e;return this.dynamicElementAntlersNodes.forEach((n,i)=>{let s=this.printNode(n);r=Bn(r,i,s)}),this.dynamicElementPairedAntlersNodes.forEach((n,i)=>{let s=n.nodeContent;r=Bn(r,i,s)}),this.dynamicElementConditionAntlersNodes.forEach((n,i)=>{let s=n.nodeContent;r=Bn(r,i,s)}),r}transformPairedAntlers(e){let r=e;return this.tagPairs.forEach((n,i)=>{let s=n.tag;if(n.virtualElementSlug.length>0){let u=this.open(n.virtualElementSlug),d=this.close(n.virtualElementSlug);this.virtualStructureOpens.push(u),this.removeLines.push(u),this.removeLines.push(d)}let o=this.open(i),l=this.close(i);r=r.replace(o,this.printNode(s,this.indentLevel(o))),r=r.replace(l,this.printNode(s.isClosedBy))}),r}transformInlineAntlers(e){let r=e;return this.inlineNodes.forEach((n,i)=>{let s=this.selfClosing(i),o=this.indentLevel(s);r=r.replace(s,this.printNode(n,this.indentLevel(s)))}),this.spanNodes.forEach((n,i)=>{var o,l;let s=0;n.isVirtual&&(((o=n.name)==null?void 0:o.name)=="switch"||((l=n.name)==null?void 0:l.name)=="list")&&(s=this.indentLevel(i,!0)),r=r.replace(i,this.printNode(n,s))}),r}transformComments(e){let r=e;return this.inlineComments.forEach((n,i)=>{let s=this.selfClosing(i);r=r.replace(s,tp.printComment(n,this.options.tabSize,0))}),this.blockComments.forEach(n=>{let i=n.node;r=r.replace(n.pairOpen,tp.printComment(i,this.options.tabSize,this.indentLevel(n.pairOpen))),this.removeLines.push(n.pairClose),this.removeLines.push(n.virtualElement)}),r}registerEmbeddedDocument(e,r,n){return this.parentTransformer!=null?this.parentTransformer.registerEmbeddedDocument(e,r,n):(this.extractedEmbeddedDocuments.set(e,{slug:e,content:r,isScript:n}),e)}clone(){let e=new ru(this.doc);return e.withOptions(this.options).setParentTransformer(this),e}toStructure(e=null){let r="";e==null&&(e=this.doc.getDocumentParser().getRenderNodes()),e.forEach(i=>{i instanceof Rt?i.sourceContent==""?r+=i.content:r+=i.sourceContent:i instanceof Mr?r+=this.prepareCondition(i):i instanceof Nr?r+=this.prepareNoParse(i):i instanceof ee&&(i.isComment?r+=this.prepareComment(i):r+=this.prepareAntlers(i))});let n=this.doc.getDocumentParser().getFragmentsContainingStructures();if(n.length>0){let i=new Tr;i.loadString(r),n.forEach(s=>{var b,T,S,w,_,C,P,Y;let o=this.doc.getDocumentParser().getText(((T=(b=s.start.endPosition)==null?void 0:b.offset)!=null?T:0)+1,(w=(S=s.end.startPosition)==null?void 0:S.offset)!=null?w:0),l=i.getDocumentParser().getFragmentsParser().getEmbeddedFragment(s.start.embeddedIndex);if(l==null)return;let u=i.getDocumentParser().getFragmentsParser().getClosingFragmentAfter(l);if(u==null)return;let d=i.getDocumentParser().getText(((C=(_=l.endPosition)==null?void 0:_.offset)!=null?C:0)+1,(Y=(P=u==null?void 0:u.startPosition)==null?void 0:P.offset)!=null?Y:0),h=this.makeSlug(16),m=s.start.name.toLowerCase()=="script",y=h;m?y="//"+h:y="/*"+h+"*/",r=r.replace(d,y),this.registerEmbeddedDocument(h,o,m)})}return r}removeVirtualStructures(e){let r=e;return this.removeLines.forEach(n=>{r=r.replace(n,"")}),r}indentLevel(e,r=!1){for(let n=0;n<this.structureLines.length;n++){let i=this.structureLines[n];if(i.includes(e)){let s=i.trimLeft(),o=i.length-s.length;return r&&(o+=i.indexOf(e)),o}}return 0}shouldCleanAfter(e){for(let r=0;r<this.removeLines.length;r++)if(e.startsWith(this.removeLines[r]))return!0;for(let r=0;r<this.forceCleanLines.length;r++)if(e.startsWith(this.forceCleanLines[r]))return!0;return!1}shouldCleanLine(e){for(let r=0;r<this.forceCleanLines.length;r++){let n=e.trim();if(e.startsWith(this.forceCleanLines[r])||n.startsWith("{{ /")&&n.endsWith("}}"))return!0}return!1}cleanVirtualStructures(e){let r=[],n=ie.breakByNewLine(e),i=!1;for(let s=0;s<n.length;s++){let o=n[s].trim();if(i){if(o.length==0)continue;i=!1}else i=this.shouldCleanAfter(o);if(this.shouldCleanLine(o))for(let l=r.length-1;l>0&&r[l].trim().length==0;l--)r.pop();if(!this.removeLines.includes(o)){let l=n[s];this.removeLines.forEach(u=>{l.includes(u)&&(l=l.replace(u,""))}),r.push(l)}}return r.join(`
`)}cleanStructuralNewLines(e){let r=ie.breakByNewLine(e),n=[],i=!1;return r.forEach(s=>{let o=s.trim();if(o.startsWith("{{")&&o.endsWith("}}")){n.push(s),i=!0;return}i&&o.length>0&&(i=!1),i||n.push(s)}),n.join(`
`)}reflowSlugs(e){let r=e;return this.slugs.forEach(n=>{let i=this.open(n),s=this.close(n),o=this.selfClosing(n),l="/<"+n+"(.*?)>/gms",u="/</"+n+"(.*?)>/gms",d="/<"+n+"(.*?)/>/gms";r=r.replace(l,i),r=r.replace(u,s),r=r.replace(d,o)}),r}cleanLines(e){let r=ie.breakByNewLine(e),n=[],i=!1,s=0,o=!1;for(let l=0;l<r.length;l++){let u=r[l].trim(),d=r[l];if(u.startsWith("{{")&&u.endsWith("}}")){i&&(s=0),u.startsWith("{{ /")==!1?o=!0:o=!1,i=!0,n.push(d);continue}if(!i)n.push(d);else if(u.length==0){if(o==!1){s=0,i=!1;continue}s+=1;continue}else o&&s>1&&n.push(""),s=0,n.push(d),i=!1}return n.join(`
`)}fromStructure(e){let r=this.reflowSlugs(e);this.structureLines=ie.breakByNewLine(r);let n=this.transformInlineConditions(r);if(n=this.transformConditions(n),n=this.transformInlineAntlers(n),n=this.transformComments(n),n=this.transformVirtualStructures(n),n=this.transformDynamicAntlers(n),n=this.transformPairedAntlers(n),n=this.transformExtractedDocuments(n),n=this.cleanVirtualStructures(n),n=this.cleanLines(n),this.doc.hasFrontMatter()){let i=this.doc.getFrontMatter(),s=this.doc.getFrontMatterDoc();s!=null&&s.isValid&&this.yamlFormatter!=null&&(i=this.yamlFormatter(i)),n=`---
${i}
---
`+`
`.repeat(this.options.newlinesAfterFrontMatter)+n.trimLeft()}return n=n.trimRight(),this.options.endNewline&&(n+=`
`),n}}});var dk,BT,pk=x(()=>{dk=We(wT());LT();Zl();Sr();BT=class{constructor(){this.content="";this.ranges=[];this.lastDocumentOffsetKey=null;this.documentOffsets=new Map;this.lineIndex=new Map;this.keys=[];this.values=[];this.isValid=!1;this.parseError=null}loadString(e){var h;this.content=ie.normalizeLineEndings(e);let r=null;try{r=dk.parseDocument(this.content),this.isValid=!0}catch(m){this.isValid=!1,this.parseError=m}if(r==null)return;let n=[...this.content.matchAll(/(\n)/gm)],i=n.length,s=2,o=null,l=0,u=0;for(let m=0;m<i;m++){let y=n[m],b=(h=y.index)!=null?h:0,T=b;o!=null?T=b-o:T=T+1,this.documentOffsets.set(b,{char:T,line:s});let S=0,w=0;m==0?(w=T-1,S=0):(S=u+1,w=b),this.lineIndex.set(s,{char:T,line:s,startIndex:S,endIndex:w}),this.lastDocumentOffsetKey=b,s+=1,o=b,u=w,l=S}let d=r.contents;this.processMap(d)}processMap(e){typeof e.items!="undefined"&&e.items.forEach(r=>{this.processItem(r)})}processItem(e){if(e.type=="PAIR"){if(e.value instanceof eu||e.value instanceof wl){let s=e.key;if(s.range!=null){let o=this.positionFromOffset(s.range[0],s.range[0]),l=this.positionFromOffset(s.range[1],s.range[1]);this.ranges.push({start:o,end:l,length:l.char-o.char+1,content:"property"}),this.keys.push({start:o,end:l,length:l.char-o.char+1,content:s.value}),e.value instanceof wl?this.processMap(e.value.items[0]):this.processMap(e.value);return}}let r=e,n=r.key,i=r.value;if(n.range!=null&&i.range!=null){let s=this.positionFromOffset(n.range[0],n.range[0]),o=this.positionFromOffset(n.range[1],n.range[1]),l=this.positionFromOffset(i.range[0],i.range[0]),u=this.positionFromOffset(i.range[1],i.range[1]),d="string";parseInt(i.value)==i.value&&(d="number"),this.ranges.push({start:s,end:o,length:o.char-s.char+1,content:"property"}),this.keys.push({start:s,end:o,length:o.char-s.char+1,content:n.value}),this.ranges.push({start:l,end:u,length:u.char-l.char+1,content:d}),this.values.push({start:l,end:u,length:u.char-l.char+1,content:i.value})}}}positionFromOffset(e,r,n=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let l=this.documentOffsets.get(e);i=l.line,s=l.char}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let l=null,u=null,d=null,h=null;for(let m of this.documentOffsets.keys()){if(m>=e){h!=null&&e>h?(l=d,u=h):(l=this.documentOffsets.get(m),u=m);break}d=this.documentOffsets.get(m),h=m}if(l==null&&(l=d,u=h),l!=null)if(n){let m=this.content.split(""),y=e-(u!=null?u:0),b=l.char-(u!=null?u:0)+e;s=y,i=l.line,e<=(u!=null?u:0)?(i=l.line,s=e+1):i=l.line+1}else{let m=this.content.split(""),y=e-(u!=null?u:0),b=l.char-(u!=null?u:0)+e;s=y,i=l.line,e<=(u!=null?u:0)?(i=l.line,s=e+1):i=l.line+1}else this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let o=new en;return o.index=r,o.offset=e,o.line=i,o.char=s,o}getRanges(){return this.ranges}getKeys(){return this.keys}getValues(){return this.values}}});var Tr,Va=x(()=>{CE();Da();Im();zp();it();xi();mT();aR();oR();ik();sk();ak();fk();pk();Tr=class{constructor(){this.documentParser=new H;this.transformer=null;this.originalText="";this.ranges=new MT(this);this.nodes=new FT(this);this.cursor=new TT(this);this.errors=new _T(this);this.project=null;this.documentUri=""}static fromText(e,r){let n=new Tr;return typeof r!="undefined"&&(n.project=r),n.loadString(e)}static childFromText(e,r=null){let n=new Tr;return r!=null&&n.getDocumentParser().setSeedPosition(r),n.getDocumentParser().withChildDocuments(!0),n.loadString(e),{renderNodes:n.getDocumentParser().getRenderNodes(),content:e,document:n}}isValid(){return!(this.hasInvalidControlFlowStructures()||this.hasUnclosedStructures())}getDocumentOptions(){let e=this.getAllNodes();if(e.length==0||!(e[0]instanceof ee))return null;let r=e[0];return r.isComment==!1?null:Jl(this.documentUri,r)}isFormattingEnabled(){let e=this.getDocumentOptions();return e==null?!0:e.formatterEnabled}hasInvalidControlFlowStructures(){return this.documentParser.hasUnclosedIfStructures()}hasUnclosedStructures(){return this.documentParser.hasUnclosedStructures()}getFrontMatterDoc(){if(this.hasFrontMatter()){let e=new BT;return e.loadString(this.getFrontMatter()),e}return null}hasFrontMatter(){return this.documentParser.getFrontMatter().trim().length>0}getFrontMatter(){return this.documentParser.getFrontMatter()}getFrontMatterScope(){if(this.project==null)return null;let e=new DT(this.project);return e.parse(this.getFrontMatter()),e.getScope()}updateProject(e){this.project=e,this.updateProjectDetails()}updateProjectDetails(){try{if(this.project!=null){let e=new Yg(this.project,this.documentUri,this),r=this.documentParser.antlersNodes();r.forEach(n=>{var i,s;if(this.project!=null&&((i=Wr.instance)==null?void 0:i.canResolveSpecialTypes(n.getTagName()))){let o=(s=Wr.instance)==null?void 0:s.resolveSpecialType(n.getTagName(),n,this.project);o.context!=null&&(n.reference=o.context)}}),e.analyzeScope(r);for(let n=0;n<r.length;n++){let i=r[n];if(i.hasParameters)for(let s=0;s<i.parameters.length;s++){let o=i.parameters[s];if(o.hasInterpolations())for(let l=0;l<o.interpolations.length;l++){let u=o.interpolations[l];i.processedInterpolationRegions.has(u)&&i.processedInterpolationRegions.get(u).forEach(h=>{h instanceof ee&&(h.currentScope=i.currentScope)})}}}BC(this)}}catch(e){console.log(e)}}loadString(e){return this.originalText=e,this.documentParser.parse(e),this.updateProjectDetails(),this}getDocumentParser(){return this.documentParser}getParsedContent(){return this.documentParser.getParsedContent()}getAllNodes(){return this.documentParser.getNodes()}getAllAntlersNodes(){return this.documentParser.antlersNodes()}extractText(){let e=[];return this.nodes.getAllLiteralNodes().forEach(r=>{e.push(r.content)}),e.join("")}getNameAt(e){let r=this.nodes.getNodeAt(e);return r instanceof ee?r.name:null}getLinesAround(e){return this.documentParser.getLinesAround(e)}getContent(){return this.documentParser.getContent()}getOriginalContent(){return this.documentParser.getOriginalContent()}reloadDocument(){this.loadString(this.originalText)}getFeaturesAt(e){let r=this.nodes.getNodeAt(e);return ys.resolveContext(e,r,this,!1,r)}getText(e,r){return this.documentParser.getText(e,r)}charLeftAt(e){return this.documentParser.charLeftAt(e)}charAt(e){return this.documentParser.charAt(e)}charRightAt(e){return this.documentParser.charRightAt(e)}getLineIndex(e){return this.documentParser.getLineIndex(e)}getLineText(e){return this.documentParser.getLineText(e)}wordAt(e,r=4){return this.documentParser.wordAt(e,r)}wordLeftAt(e,r=4){return this.documentParser.wordLeftAt(e,r)}wordRightAt(e,r=4){return this.documentParser.wordRightAt(e,r)}punctuationLeftAt(e,r=4){return this.documentParser.punctuationLeftAt(e,r)}punctuationRightAt(e,r=4){return this.documentParser.punctuationRightAt(e,r)}getLineChars(e){let r=this.getLineText(e);return r!=null?r.split(""):null}transform(){return this.transformer==null&&(this.transformer=new ru(this)),this.transformer}}});var fj,hk,mk=x(()=>{Li();Di();it();fj={checkNode(t){var i;let e=[];if(t.isClosedBy==null||t.parent==null||!(t.parent instanceof ee))return e;let r=t.parent;if(r.isClosedBy==null)return e;let n=t.runtimeName();return n=="if"||n=="if:index"||n=="else"||n=="else:index"||n=="elseif"||n=="elseif:index"||n=="elseunless"||n=="elseunless:index"||((i=r.isClosedBy.startPosition)==null?void 0:i.isBefore(t.isClosedBy.endPosition))&&(e.push(J.makeSyntaxError(R.LINT_INTERLEAVED_TAG_PAIRS,t,"Closing tag cannot appear after parent closing tag.")),e.push(J.makeSyntaxError(R.LINT_INTERLEAVED_TAG_PAIRS,t.isClosedBy,"Closing tag cannot appear after parent closing tag."))),e}},hk=fj});var qT,gk=x(()=>{mk();Va();qT=class{constructor(){this.htmlFormatter=null;this.yamlFormatter=null;this.phpFormatter=null;this.preFormatter=null;this.transformOptions=null;this.createExtraVirtualStructures=!1}withTransformOptions(e){return this.transformOptions=e,this}withPreFormatter(e){return this.preFormatter=e,this}withHtmlFormatter(e){return this.htmlFormatter=e,this}withYamlFormatter(e){return this.yamlFormatter=e,this}withPhpFormatter(e){return this.phpFormatter=e,this}formatText(e,r){let n=new Tr;return n.getDocumentParser().withChildDocuments(!0),n.loadString(e),this.formatDocument(n,r)}formatDocument(e,r){if(!e.isFormattingEnabled())return e.getOriginalContent();if(this.preFormatter!=null){let o=this.preFormatter(e);if(o!=null)return o}let n=e.getAllAntlersNodes();for(let o=0;o<n.length;o++)if(hk.checkNode(n[o],r).length>0)return e.getOriginalContent();if(this.htmlFormatter==null||e.isValid()==!1)return e.getOriginalContent();e.transform().produceExtraStructuralPairs(this.createExtraVirtualStructures).withHtmlFormatter(this.htmlFormatter).withPhpFormatter(this.phpFormatter).withYamlFormatter(this.yamlFormatter),this.transformOptions!=null&&e.transform().withOptions(this.transformOptions);let i=e.transform().toStructure(),s=this.htmlFormatter(i);return e.transform().fromStructure(s)}}});var _k=ye((rp,Tk)=>{(function(t,e){typeof rp=="object"&&typeof Tk!="undefined"?e(rp,require("prettier/standalone")):typeof define=="function"&&define.amd?define(["exports","prettier/standalone"],e):e(((t=typeof globalThis!="undefined"?globalThis:t||self).prettierPlugins=t.prettierPlugins||{},t.prettierPlugins.php={}),t.prettier)})(rp,function(t,e){"use strict";function r(a){return a&&typeof a=="object"&&"default"in a?a:{default:a}}var n=r(e),i={matchST_ATTRIBUTE:function(){var a=0,c=this.input();if(this.is_WHITESPACE()){do c=this.input();while(this.is_WHITESPACE());return this.unput(1),null}switch(c){case"]":return a===0?this.popState():a--,"]";case"(":case")":case":":case"=":return this.consume_TOKEN();case"[":return a++,"[";case",":return",";case'"':return this.ST_DOUBLE_QUOTES();case"'":return this.T_CONSTANT_ENCAPSED_STRING();case"/":if(this._input[this.offset]==="/")return this.T_COMMENT();if(this._input[this.offset]==="*")return this.input(),this.T_DOC_COMMENT()}if(this.is_LABEL_START()||c==="\\"){for(;this.offset<this.size;){var f=this.input();if(!this.is_LABEL()&&f!=="\\"){f&&this.unput(1);break}}return this.tok.T_STRING}if(this.is_NUM())return this.consume_NUM();throw new Error('Bad terminal sequence "'.concat(c,'" at line ').concat(this.yylineno," (offset ").concat(this.offset,")"))}};i.matchST_ATTRIBUTE;var s={T_COMMENT:function(){for(;this.offset<this.size;){var a=this.input();if(a===`
`||a==="\r")return this.tok.T_COMMENT;if(a==="?"&&!this.aspTagMode&&this._input[this.offset]===">")return this.unput(1),this.tok.T_COMMENT;if(a==="%"&&this.aspTagMode&&this._input[this.offset]===">")return this.unput(1),this.tok.T_COMMENT}return this.tok.T_COMMENT},T_DOC_COMMENT:function(){var a=this.input(),c=this.tok.T_COMMENT;if(a==="*"){if(a=this.input(),this.is_WHITESPACE()&&(c=this.tok.T_DOC_COMMENT),a==="/")return c;this.unput(1)}for(;this.offset<this.size;)if((a=this.input())==="*"&&this._input[this.offset]==="/"){this.input();break}return c}};s.T_COMMENT,s.T_DOC_COMMENT;var o={nextINITIAL:function(){return this.conditionStack.length>1&&this.conditionStack[this.conditionStack.length-1]==="INITIAL"?this.popState():this.begin("ST_IN_SCRIPTING"),this},matchINITIAL:function(){for(;this.offset<this.size;){var a=this.input();if(a=="<"){if((a=this.ahead(1))=="?"){if(this.tryMatch("?=")){this.unput(1).appendToken(this.tok.T_OPEN_TAG_WITH_ECHO,3).nextINITIAL();break}if(this.tryMatchCaseless("?php")&&((a=this._input[this.offset+4])===" "||a==="	"||a===`
`||a==="\r")){this.unput(1).appendToken(this.tok.T_OPEN_TAG,6).nextINITIAL();break}if(this.short_tags){this.unput(1).appendToken(this.tok.T_OPEN_TAG,2).nextINITIAL();break}}else if(this.asp_tags&&a=="%"){if(this.tryMatch("%=")){this.aspTagMode=!0,this.unput(1).appendToken(this.tok.T_OPEN_TAG_WITH_ECHO,3).nextINITIAL();break}this.aspTagMode=!0,this.unput(1).appendToken(this.tok.T_OPEN_TAG,2).nextINITIAL();break}}}return this.yytext.length>0&&this.tok.T_INLINE_HTML}};o.nextINITIAL,o.matchINITIAL;var l={consume_NUM:function(){var a=this.yytext[0],c=a===".";if(a==="0")if((a=this.input())==="x"||a==="X"){if((a=this.input())!=="_"&&this.is_HEX())return this.consume_HNUM();this.unput(a?2:1)}else if(a==="b"||a==="B"){if((a=this.input())!=="_"&&a==="0"||a==="1")return this.consume_BNUM();this.unput(a?2:1)}else this.is_NUM()||a&&this.unput(1);for(;this.offset<this.size;){var f=a;if((a=this.input())==="_"){if(f==="_"){this.unput(2);break}if(f==="."){this.unput(1);break}if(f==="e"||f==="E"){this.unput(2);break}}else{if(a==="."){if(c){this.unput(1);break}if(f==="_"){this.unput(2);break}c=!0;continue}if(a==="e"||a==="E"){if(f==="_"){this.unput(1);break}var p=2;if((a=this.input())!=="+"&&a!=="-"||(p=3,a=this.input()),this.is_NUM_START())return this.consume_LNUM(),this.tok.T_DNUMBER;this.unput(a?p:p-1);break}}if(!this.is_NUM()){a&&this.unput(1);break}}return c?this.tok.T_DNUMBER:this.yytext.length<9||this.yytext.length<10||this.yytext.length==10&&this.yytext<"2147483648"?this.tok.T_LNUMBER:this.tok.T_DNUMBER},consume_HNUM:function(){for(;this.offset<this.size;){var a=this.input();if(!this.is_HEX()){a&&this.unput(1);break}}return this.tok.T_LNUMBER},consume_LNUM:function(){for(;this.offset<this.size;){var a=this.input();if(!this.is_NUM()){a&&this.unput(1);break}}return this.tok.T_LNUMBER},consume_BNUM:function(){for(var a;this.offset<this.size;)if((a=this.input())!=="0"&&a!=="1"&&a!=="_"){a&&this.unput(1);break}return this.tok.T_LNUMBER}};l.consume_NUM,l.consume_HNUM,l.consume_LNUM,l.consume_BNUM;var u={matchST_LOOKING_FOR_PROPERTY:function(){var a=this.input();if(a==="-"){if((a=this.input())===">")return this.tok.T_OBJECT_OPERATOR;a&&this.unput(1)}else{if(this.is_WHITESPACE())return this.tok.T_WHITESPACE;if(this.is_LABEL_START())return this.consume_LABEL(),this.popState(),this.tok.T_STRING}return this.popState(),a&&this.unput(1),!1},matchST_LOOKING_FOR_VARNAME:function(){var a=this.input();if(this.popState(),this.begin("ST_IN_SCRIPTING"),this.is_LABEL_START()){if(this.consume_LABEL(),(a=this.input())==="["||a==="}")return this.unput(1),this.tok.T_STRING_VARNAME;this.unput(this.yytext.length)}else a&&this.unput(1);return!1},matchST_VAR_OFFSET:function(){var a=this.input();if(this.is_NUM_START())return this.consume_NUM(),this.tok.T_NUM_STRING;if(a==="]")return this.popState(),"]";if(a==="$"){if(this.input(),this.is_LABEL_START())return this.consume_LABEL(),this.tok.T_VARIABLE;throw new Error("Unexpected terminal")}if(this.is_LABEL_START())return this.consume_LABEL(),this.tok.T_STRING;if(this.is_WHITESPACE()||a==="\\"||a==="'"||a==="#")return this.tok.T_ENCAPSED_AND_WHITESPACE;if(a==="["||a==="{"||a==="}"||a==='"'||a==="`"||this.is_TOKEN())return a;throw new Error("Unexpected terminal")}};u.matchST_LOOKING_FOR_PROPERTY,u.matchST_LOOKING_FOR_VARNAME,u.matchST_VAR_OFFSET;var d={matchST_IN_SCRIPTING:function(){var a=this.input();switch(a){case" ":case"	":case`
`:case"\r":case`\r
`:return this.T_WHITESPACE();case"#":return this._input[this.offset]==="["?(this.input(),this.begin("ST_ATTRIBUTE"),this.tok.T_ATTRIBUTE):this.T_COMMENT();case"/":return this._input[this.offset]==="/"?this.T_COMMENT():this._input[this.offset]==="*"?(this.input(),this.T_DOC_COMMENT()):this.consume_TOKEN();case"'":return this.T_CONSTANT_ENCAPSED_STRING();case'"':return this.ST_DOUBLE_QUOTES();case"`":return this.begin("ST_BACKQUOTE"),"`";case"?":if(!this.aspTagMode&&this.tryMatch(">")){this.input();var c=this._input[this.offset];return c!==`
`&&c!=="\r"||this.input(),this.conditionStack.length>1&&this.begin("INITIAL"),this.tok.T_CLOSE_TAG}return this.consume_TOKEN();case"%":return this.aspTagMode&&this._input[this.offset]===">"?(this.input(),(a=this._input[this.offset])!==`
`&&a!=="\r"||this.input(),this.aspTagMode=!1,this.conditionStack.length>1&&this.begin("INITIAL"),this.tok.T_CLOSE_TAG):this.consume_TOKEN();case"{":return this.begin("ST_IN_SCRIPTING"),"{";case"}":return this.conditionStack.length>2&&this.popState(),"}";default:if(a==="."){if(a=this.input(),this.is_NUM_START())return this.consume_NUM();a&&this.unput(1)}if(this.is_NUM_START())return this.consume_NUM();if(this.is_LABEL_START())return this.consume_LABEL().T_STRING();if(this.is_TOKEN())return this.consume_TOKEN()}throw new Error('Bad terminal sequence "'+a+'" at line '+this.yylineno+" (offset "+this.offset+")")},T_WHITESPACE:function(){for(;this.offset<this.size;){var a=this.input();if(a!==" "&&a!=="	"&&a!==`
`&&a!=="\r"){a&&this.unput(1);break}}return this.tok.T_WHITESPACE}};d.matchST_IN_SCRIPTING,d.T_WHITESPACE;var h=[`
`,"\r"],m=[`
`,"\r",";"],y=m.concat(["	"," ",",","]",")","/","=","!"]),b={T_CONSTANT_ENCAPSED_STRING:function(){for(var a;this.offset<this.size;)if((a=this.input())=="\\")this.input();else if(a=="'")break;return this.tok.T_CONSTANT_ENCAPSED_STRING},is_HEREDOC:function(){var a=this.offset;if(this._input[this.offset-1]==="<"&&this._input[this.offset]==="<"&&this._input[this.offset+1]==="<"){if(this.offset+=3,this.is_TABSPACE())for(;this.offset<this.size&&(this.offset++,this.is_TABSPACE()););var c=this._input[this.offset-1];if(c==="'"||c==='"'?this.offset++:c=null,this.is_LABEL_START()){for(var f=this.offset-1;this.offset<this.size&&(this.offset++,this.is_LABEL()););var p=this._input.substring(f,this.offset-1);if((!c||c===this._input[this.offset-1])&&(c&&this.offset++,h.includes(this._input[this.offset-1])))return this.heredoc_label.label=p,this.heredoc_label.length=p.length,this.heredoc_label.finished=!1,f=this.offset-a,this.offset=a,this.consume(f),c==="'"?this.begin("ST_NOWDOC"):this.begin("ST_HEREDOC"),this.prematch_ENDOFDOC(),this.tok.T_START_HEREDOC}}return this.offset=a,!1},ST_DOUBLE_QUOTES:function(){for(var a;this.offset<this.size;)if((a=this.input())=="\\")this.input();else{if(a=='"')break;if(a=="$"){if((a=this.input())=="{"||this.is_LABEL_START()){this.unput(2);break}a&&this.unput(1)}else if(a=="{"){if((a=this.input())=="$"){this.unput(2);break}a&&this.unput(1)}}if(a=='"')return this.tok.T_CONSTANT_ENCAPSED_STRING;var c=1;return this.yytext[0]!=="b"&&this.yytext[0]!=="B"||(c=2),this.yytext.length>2&&this.appendToken(this.tok.T_ENCAPSED_AND_WHITESPACE,this.yytext.length-c),this.unput(this.yytext.length-c),this.begin("ST_DOUBLE_QUOTES"),this.yytext},isDOC_MATCH:function(a,c){var f=this._input[a-2];if(!h.includes(f))return!1;var p=!1,g=!1,A=0,D=this._input[a-1];if(this.version>=703){for(;D==="	"||D===" ";)D===" "?p=!0:D==="	"&&(g=!0),D=this._input[a+A],A++;if(a+=A,h.includes(this._input[a-1]))return!1}if(this._input.substring(a-1,a-1+this.heredoc_label.length)===this.heredoc_label.label){var N=this._input[a-1+this.heredoc_label.length];if((this.version>=703?y:m).includes(N)){if(c){if(this.consume(A),p&&g)throw new Error("Parse error:  mixing spaces and tabs in ending marker at line "+this.yylineno+" (offset "+this.offset+")")}else this.heredoc_label.indentation=A,this.heredoc_label.indentation_uses_spaces=p,this.heredoc_label.first_encaps_node=!0;return!0}}return!1},prematch_ENDOFDOC:function(){this.heredoc_label.indentation_uses_spaces=!1,this.heredoc_label.indentation=0,this.heredoc_label.first_encaps_node=!0;for(var a=this.offset+1;a<this._input.length;){if(this.isDOC_MATCH(a,!1))return;if(!h.includes(this._input[a-1]))for(;!h.includes(this._input[a++])&&a<this._input.length;);a++}},matchST_NOWDOC:function(){if(this.isDOC_MATCH(this.offset,!0))return this.consume(this.heredoc_label.length),this.popState(),this.tok.T_END_HEREDOC;for(var a=this._input[this.offset-1];this.offset<this.size;)if(h.includes(a)){if(a=this.input(),this.isDOC_MATCH(this.offset,!0))return this.unput(1).popState(),this.appendToken(this.tok.T_END_HEREDOC,this.heredoc_label.length),this.tok.T_ENCAPSED_AND_WHITESPACE}else a=this.input();return this.tok.T_ENCAPSED_AND_WHITESPACE},matchST_HEREDOC:function(){var a=this.input();if(this.isDOC_MATCH(this.offset,!0))return this.consume(this.heredoc_label.length-1),this.popState(),this.tok.T_END_HEREDOC;for(;this.offset<this.size;)if(a==="\\"&&(a=this.input(),h.includes(a)||(a=this.input())),h.includes(a)){if(a=this.input(),this.isDOC_MATCH(this.offset,!0))return this.unput(1).popState(),this.appendToken(this.tok.T_END_HEREDOC,this.heredoc_label.length),this.tok.T_ENCAPSED_AND_WHITESPACE}else if(a==="$"){if((a=this.input())==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){var c=this.offset,f=this.consume_VARIABLE();return this.yytext.length>this.offset-c+2?(this.appendToken(f,this.offset-c+2),this.unput(this.offset-c+2),this.tok.T_ENCAPSED_AND_WHITESPACE):f}}else if(a==="{"){if((a=this.input())==="$")return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN)}else a=this.input();return this.tok.T_ENCAPSED_AND_WHITESPACE},consume_VARIABLE:function(){this.consume_LABEL();var a=this.input();if(a=="[")return this.unput(1),this.begin("ST_VAR_OFFSET"),this.tok.T_VARIABLE;if(a==="-"){if(this.input()===">")return this.input(),this.is_LABEL_START()&&this.begin("ST_LOOKING_FOR_PROPERTY"),this.unput(3),this.tok.T_VARIABLE;this.unput(2)}else a&&this.unput(1);return this.tok.T_VARIABLE},matchST_BACKQUOTE:function(){var a=this.input();if(a==="$"){if((a=this.input())==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START())return this.consume_VARIABLE()}else if(a==="{"){if(this._input[this.offset]==="$")return this.begin("ST_IN_SCRIPTING"),this.tok.T_CURLY_OPEN}else if(a==="`")return this.popState(),"`";for(;this.offset<this.size;){if(a==="\\")this.input();else{if(a==="`"){this.unput(1),this.popState(),this.appendToken("`",1);break}if(a==="$"){if((a=this.input())==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){var c=this.offset,f=this.consume_VARIABLE();return this.yytext.length>this.offset-c+2?(this.appendToken(f,this.offset-c+2),this.unput(this.offset-c+2),this.tok.T_ENCAPSED_AND_WHITESPACE):f}continue}if(a==="{"){if((a=this.input())==="$")return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN);continue}}a=this.input()}return this.tok.T_ENCAPSED_AND_WHITESPACE},matchST_DOUBLE_QUOTES:function(){var a=this.input();if(a==="$"){if((a=this.input())==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START())return this.consume_VARIABLE()}else if(a==="{"){if(this._input[this.offset]==="$")return this.begin("ST_IN_SCRIPTING"),this.tok.T_CURLY_OPEN}else if(a==='"')return this.popState(),'"';for(;this.offset<this.size;){if(a==="\\")this.input();else{if(a==='"'){this.unput(1),this.popState(),this.appendToken('"',1);break}if(a==="$"){if((a=this.input())==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){var c=this.offset,f=this.consume_VARIABLE();return this.yytext.length>this.offset-c+2?(this.appendToken(f,this.offset-c+2),this.unput(this.offset-c+2),this.tok.T_ENCAPSED_AND_WHITESPACE):f}a&&this.unput(1)}else if(a==="{"){if((a=this.input())==="$")return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN);a&&this.unput(1)}}a=this.input()}return this.tok.T_ENCAPSED_AND_WHITESPACE}};b.T_CONSTANT_ENCAPSED_STRING,b.is_HEREDOC,b.ST_DOUBLE_QUOTES,b.isDOC_MATCH,b.prematch_ENDOFDOC,b.matchST_NOWDOC,b.matchST_HEREDOC,b.consume_VARIABLE,b.matchST_BACKQUOTE,b.matchST_DOUBLE_QUOTES;var T={T_STRING:function(){var a=this.yytext.toLowerCase(),c=this.keywords[a];if(typeof c!="number"){if(a==="yield")this.version>=700&&this.tryMatch(" from")?(this.consume(5),c=this.tok.T_YIELD_FROM):c=this.tok.T_YIELD;else if(c=this.tok.T_STRING,a==="b"||a==="B"){var f=this.input(1);if(f==='"')return this.ST_DOUBLE_QUOTES();if(f==="'")return this.T_CONSTANT_ENCAPSED_STRING();f&&this.unput(1)}}return c},consume_TOKEN:function(){var a=this._input[this.offset-1],c=this.tokenTerminals[a];return c?c.apply(this,[]):this.yytext},tokenTerminals:{$:function(){return this.offset++,this.is_LABEL_START()?(this.offset--,this.consume_LABEL(),this.tok.T_VARIABLE):(this.offset--,"$")},"-":function(){var a=this._input[this.offset];return a===">"?(this.begin("ST_LOOKING_FOR_PROPERTY").input(),this.tok.T_OBJECT_OPERATOR):a==="-"?(this.input(),this.tok.T_DEC):a==="="?(this.input(),this.tok.T_MINUS_EQUAL):"-"},"\\":function(){return this.tok.T_NS_SEPARATOR},"/":function(){return this._input[this.offset]==="="?(this.input(),this.tok.T_DIV_EQUAL):"/"},":":function(){return this._input[this.offset]===":"?(this.input(),this.tok.T_DOUBLE_COLON):":"},"(":function(){var a=this.offset;if(this.input(),this.is_TABSPACE()&&this.consume_TABSPACE().input(),this.is_LABEL_START()){var c=this.yytext.length;this.consume_LABEL();var f=this.yytext.substring(c-1).toLowerCase(),p=this.castKeywords[f];if(typeof p=="number"&&(this.input(),this.is_TABSPACE()&&this.consume_TABSPACE().input(),this._input[this.offset-1]===")"))return p}return this.unput(this.offset-a),"("},"=":function(){var a=this._input[this.offset];return a===">"?(this.input(),this.tok.T_DOUBLE_ARROW):a==="="?this._input[this.offset+1]==="="?(this.consume(2),this.tok.T_IS_IDENTICAL):(this.input(),this.tok.T_IS_EQUAL):"="},"+":function(){var a=this._input[this.offset];return a==="+"?(this.input(),this.tok.T_INC):a==="="?(this.input(),this.tok.T_PLUS_EQUAL):"+"},"!":function(){return this._input[this.offset]==="="?this._input[this.offset+1]==="="?(this.consume(2),this.tok.T_IS_NOT_IDENTICAL):(this.input(),this.tok.T_IS_NOT_EQUAL):"!"},"?":function(){return this.version>=700&&this._input[this.offset]==="?"?this.version>=704&&this._input[this.offset+1]==="="?(this.consume(2),this.tok.T_COALESCE_EQUAL):(this.input(),this.tok.T_COALESCE):this.version>=800&&this._input[this.offset]==="-"&&this._input[this.offset+1]===">"?(this.consume(2),this.tok.T_NULLSAFE_OBJECT_OPERATOR):"?"},"<":function(){var a=this._input[this.offset];return a==="<"?(a=this._input[this.offset+1])==="="?(this.consume(2),this.tok.T_SL_EQUAL):a==="<"&&this.is_HEREDOC()?this.tok.T_START_HEREDOC:(this.input(),this.tok.T_SL):a==="="?(this.input(),this.version>=700&&this._input[this.offset]===">"?(this.input(),this.tok.T_SPACESHIP):this.tok.T_IS_SMALLER_OR_EQUAL):a===">"?(this.input(),this.tok.T_IS_NOT_EQUAL):"<"},">":function(){var a=this._input[this.offset];return a==="="?(this.input(),this.tok.T_IS_GREATER_OR_EQUAL):a===">"?(a=this._input[this.offset+1])==="="?(this.consume(2),this.tok.T_SR_EQUAL):(this.input(),this.tok.T_SR):">"},"*":function(){var a=this._input[this.offset];return a==="="?(this.input(),this.tok.T_MUL_EQUAL):a==="*"?(this.input(),this._input[this.offset]==="="?(this.input(),this.tok.T_POW_EQUAL):this.tok.T_POW):"*"},".":function(){var a=this._input[this.offset];return a==="="?(this.input(),this.tok.T_CONCAT_EQUAL):a==="."&&this._input[this.offset+1]==="."?(this.consume(2),this.tok.T_ELLIPSIS):"."},"%":function(){return this._input[this.offset]==="="?(this.input(),this.tok.T_MOD_EQUAL):"%"},"&":function(){var a=this._input[this.offset];return a==="="?(this.input(),this.tok.T_AND_EQUAL):a==="&"?(this.input(),this.tok.T_BOOLEAN_AND):"&"},"|":function(){var a=this._input[this.offset];return a==="="?(this.input(),this.tok.T_OR_EQUAL):a==="|"?(this.input(),this.tok.T_BOOLEAN_OR):"|"},"^":function(){return this._input[this.offset]==="="?(this.input(),this.tok.T_XOR_EQUAL):"^"}}};T.T_STRING,T.consume_TOKEN,T.tokenTerminals;var S={is_NUM:function(){var a=this._input.charCodeAt(this.offset-1);return a>47&&a<58||a===95},is_NUM_START:function(){var a=this._input.charCodeAt(this.offset-1);return a>47&&a<58},is_LABEL:function(){var a=this._input.charCodeAt(this.offset-1);return a>96&&a<123||a>64&&a<91||a===95||a>47&&a<58||a>126},is_LABEL_START:function(){var a=this._input.charCodeAt(this.offset-1);return a>64&&a<91||a>96&&a<123||a===95||a>126},consume_LABEL:function(){for(;this.offset<this.size;){var a=this.input();if(!this.is_LABEL()){a&&this.unput(1);break}}return this},is_TOKEN:function(){var a=this._input[this.offset-1];return";:,.\\[]()|^&+-/*=%!~$<>?@".indexOf(a)!==-1},is_WHITESPACE:function(){var a=this._input[this.offset-1];return a===" "||a==="	"||a===`
`||a==="\r"},is_TABSPACE:function(){var a=this._input[this.offset-1];return a===" "||a==="	"},consume_TABSPACE:function(){for(;this.offset<this.size;){var a=this.input();if(!this.is_TABSPACE()){a&&this.unput(1);break}}return this},is_HEX:function(){var a=this._input.charCodeAt(this.offset-1);return a>47&&a<58||a>64&&a<71||a>96&&a<103||a===95}};S.is_NUM,S.is_NUM_START,S.is_LABEL,S.is_LABEL_START,S.consume_LABEL,S.is_TOKEN,S.is_WHITESPACE,S.is_TABSPACE,S.consume_TABSPACE,S.is_HEX;var w=function(a){this.engine=a,this.tok=this.engine.tokens.names,this.EOF=1,this.debug=!1,this.all_tokens=!0,this.comment_tokens=!1,this.mode_eval=!1,this.asp_tags=!1,this.short_tags=!1,this.version=800,this.yyprevcol=0,this.keywords={__class__:this.tok.T_CLASS_C,__trait__:this.tok.T_TRAIT_C,__function__:this.tok.T_FUNC_C,__method__:this.tok.T_METHOD_C,__line__:this.tok.T_LINE,__file__:this.tok.T_FILE,__dir__:this.tok.T_DIR,__namespace__:this.tok.T_NS_C,exit:this.tok.T_EXIT,die:this.tok.T_EXIT,function:this.tok.T_FUNCTION,const:this.tok.T_CONST,return:this.tok.T_RETURN,try:this.tok.T_TRY,catch:this.tok.T_CATCH,finally:this.tok.T_FINALLY,throw:this.tok.T_THROW,if:this.tok.T_IF,elseif:this.tok.T_ELSEIF,endif:this.tok.T_ENDIF,else:this.tok.T_ELSE,while:this.tok.T_WHILE,endwhile:this.tok.T_ENDWHILE,do:this.tok.T_DO,for:this.tok.T_FOR,endfor:this.tok.T_ENDFOR,foreach:this.tok.T_FOREACH,endforeach:this.tok.T_ENDFOREACH,declare:this.tok.T_DECLARE,enddeclare:this.tok.T_ENDDECLARE,instanceof:this.tok.T_INSTANCEOF,as:this.tok.T_AS,switch:this.tok.T_SWITCH,endswitch:this.tok.T_ENDSWITCH,case:this.tok.T_CASE,default:this.tok.T_DEFAULT,break:this.tok.T_BREAK,continue:this.tok.T_CONTINUE,goto:this.tok.T_GOTO,echo:this.tok.T_ECHO,print:this.tok.T_PRINT,class:this.tok.T_CLASS,interface:this.tok.T_INTERFACE,trait:this.tok.T_TRAIT,extends:this.tok.T_EXTENDS,implements:this.tok.T_IMPLEMENTS,new:this.tok.T_NEW,clone:this.tok.T_CLONE,var:this.tok.T_VAR,eval:this.tok.T_EVAL,include:this.tok.T_INCLUDE,include_once:this.tok.T_INCLUDE_ONCE,require:this.tok.T_REQUIRE,require_once:this.tok.T_REQUIRE_ONCE,namespace:this.tok.T_NAMESPACE,use:this.tok.T_USE,insteadof:this.tok.T_INSTEADOF,global:this.tok.T_GLOBAL,isset:this.tok.T_ISSET,empty:this.tok.T_EMPTY,__halt_compiler:this.tok.T_HALT_COMPILER,static:this.tok.T_STATIC,abstract:this.tok.T_ABSTRACT,final:this.tok.T_FINAL,private:this.tok.T_PRIVATE,protected:this.tok.T_PROTECTED,public:this.tok.T_PUBLIC,unset:this.tok.T_UNSET,list:this.tok.T_LIST,array:this.tok.T_ARRAY,callable:this.tok.T_CALLABLE,or:this.tok.T_LOGICAL_OR,and:this.tok.T_LOGICAL_AND,xor:this.tok.T_LOGICAL_XOR,match:this.tok.T_MATCH},this.castKeywords={int:this.tok.T_INT_CAST,integer:this.tok.T_INT_CAST,real:this.tok.T_DOUBLE_CAST,double:this.tok.T_DOUBLE_CAST,float:this.tok.T_DOUBLE_CAST,string:this.tok.T_STRING_CAST,binary:this.tok.T_STRING_CAST,array:this.tok.T_ARRAY_CAST,object:this.tok.T_OBJECT_CAST,bool:this.tok.T_BOOL_CAST,boolean:this.tok.T_BOOL_CAST,unset:this.tok.T_UNSET_CAST}};w.prototype.setInput=function(a){return this._input=a,this.size=a.length,this.yylineno=1,this.offset=0,this.yyprevcol=0,this.yytext="",this.yylloc={first_offset:0,first_line:1,first_column:0,prev_offset:0,prev_line:1,prev_column:0,last_line:1,last_column:0},this.tokens=[],this.version>703?this.keywords.fn=this.tok.T_FN:delete this.keywords.fn,this.done=this.offset>=this.size,!this.all_tokens&&this.mode_eval?(this.conditionStack=["INITIAL"],this.begin("ST_IN_SCRIPTING")):(this.conditionStack=[],this.begin("INITIAL")),this.heredoc_label={label:"",length:0,indentation:0,indentation_uses_spaces:!1,finished:!1,first_encaps_node:!1,toString:function(){this.label}},this},w.prototype.input=function(){var a=this._input[this.offset];return a?(this.yytext+=a,this.offset++,a==="\r"&&this._input[this.offset]===`
`&&(this.yytext+=`
`,this.offset++),a===`
`||a==="\r"?(this.yylloc.last_line=++this.yylineno,this.yyprevcol=this.yylloc.last_column,this.yylloc.last_column=0):this.yylloc.last_column++,a):""},w.prototype.unput=function(a){if(a===1)this.offset--,this._input[this.offset]===`
`&&this._input[this.offset-1]==="\r"&&(this.offset--,a++),this._input[this.offset]==="\r"||this._input[this.offset]===`
`?(this.yylloc.last_line--,this.yylineno--,this.yylloc.last_column=this.yyprevcol):this.yylloc.last_column--,this.yytext=this.yytext.substring(0,this.yytext.length-a);else if(a>0)if(this.offset-=a,a<this.yytext.length){this.yytext=this.yytext.substring(0,this.yytext.length-a),this.yylloc.last_line=this.yylloc.first_line,this.yylloc.last_column=this.yyprevcol=this.yylloc.first_column;for(var c=0;c<this.yytext.length;c++){var f=this.yytext[c];f==="\r"?(f=this.yytext[++c],this.yyprevcol=this.yylloc.last_column,this.yylloc.last_line++,this.yylloc.last_column=0,f!==`
`&&(f==="\r"?this.yylloc.last_line++:this.yylloc.last_column++)):f===`
`?(this.yyprevcol=this.yylloc.last_column,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++}this.yylineno=this.yylloc.last_line}else this.yytext="",this.yylloc.last_line=this.yylineno=this.yylloc.first_line,this.yylloc.last_column=this.yylloc.first_column;return this},w.prototype.tryMatch=function(a){return a===this.ahead(a.length)},w.prototype.tryMatchCaseless=function(a){return a===this.ahead(a.length).toLowerCase()},w.prototype.ahead=function(a){var c=this._input.substring(this.offset,this.offset+a);return c[c.length-1]==="\r"&&this._input[this.offset+a+1]===`
`&&(c+=`
`),c},w.prototype.consume=function(a){for(var c=0;c<a;c++){var f=this._input[this.offset];if(!f)break;this.yytext+=f,this.offset++,f==="\r"&&this._input[this.offset]===`
`&&(this.yytext+=`
`,this.offset++,c++),f===`
`||f==="\r"?(this.yylloc.last_line=++this.yylineno,this.yyprevcol=this.yylloc.last_column,this.yylloc.last_column=0):this.yylloc.last_column++}return this},w.prototype.getState=function(){return{yytext:this.yytext,offset:this.offset,yylineno:this.yylineno,yyprevcol:this.yyprevcol,yylloc:{first_offset:this.yylloc.first_offset,first_line:this.yylloc.first_line,first_column:this.yylloc.first_column,last_line:this.yylloc.last_line,last_column:this.yylloc.last_column},heredoc_label:this.heredoc_label}},w.prototype.setState=function(a){return this.yytext=a.yytext,this.offset=a.offset,this.yylineno=a.yylineno,this.yyprevcol=a.yyprevcol,this.yylloc=a.yylloc,a.heredoc_label&&(this.heredoc_label=a.heredoc_label),this},w.prototype.appendToken=function(a,c){return this.tokens.push([a,c]),this},w.prototype.lex=function(){this.yylloc.prev_offset=this.offset,this.yylloc.prev_line=this.yylloc.last_line,this.yylloc.prev_column=this.yylloc.last_column;var a=this.next()||this.lex();if(!this.all_tokens){for(;a===this.tok.T_WHITESPACE||!this.comment_tokens&&(a===this.tok.T_COMMENT||a===this.tok.T_DOC_COMMENT)||a===this.tok.T_OPEN_TAG;)a=this.next()||this.lex();if(a==this.tok.T_OPEN_TAG_WITH_ECHO)return this.tok.T_ECHO;if(a===this.tok.T_CLOSE_TAG)return";"}return this.yylloc.prev_offset||(this.yylloc.prev_offset=this.yylloc.first_offset,this.yylloc.prev_line=this.yylloc.first_line,this.yylloc.prev_column=this.yylloc.first_column),a},w.prototype.begin=function(a){if(this.conditionStack.push(a),this.curCondition=a,this.stateCb=this["match"+a],typeof this.stateCb!="function")throw new Error('Undefined condition state "'+a+'"');return this},w.prototype.popState=function(){var a=this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0];if(this.curCondition=this.conditionStack[this.conditionStack.length-1],this.stateCb=this["match"+this.curCondition],typeof this.stateCb!="function")throw new Error('Undefined condition state "'+this.curCondition+'"');return a},w.prototype.next=function(){var a;if(this._input||(this.done=!0),this.yylloc.first_offset=this.offset,this.yylloc.first_line=this.yylloc.last_line,this.yylloc.first_column=this.yylloc.last_column,this.yytext="",this.done)return this.yylloc.prev_offset=this.yylloc.first_offset,this.yylloc.prev_line=this.yylloc.first_line,this.yylloc.prev_column=this.yylloc.first_column,this.EOF;if(this.tokens.length>0?(typeof(a=this.tokens.shift())[1]=="object"?this.setState(a[1]):this.consume(a[1]),a=a[0]):a=this.stateCb.apply(this,[]),this.offset>=this.size&&this.tokens.length===0&&(this.done=!0),this.debug){var c=a;c=typeof c=="number"?this.engine.tokens.values[c]:'"'+c+'"';var f=new Error(c+"	from "+this.yylloc.first_line+","+this.yylloc.first_column+"	 - to "+this.yylloc.last_line+","+this.yylloc.last_column+'	"'+this.yytext+'"');console.error(f.stack)}return a},[i,s,o,l,u,d,b,T,S].forEach(function(a){for(var c in a)w.prototype[c]=a[c]});var _=w,C=function(a,c,f){this.line=a,this.column=c,this.offset=f},P={read_array:function(){var a=null,c=!1,f=this.node("array");this.token===this.tok.T_ARRAY?(this.next().expect("("),a=")"):(c=!0,a="]");var p=[];return this.next().token!==a&&(p=this.read_array_pair_list(c)),this.expect(a),this.next(),f(c,p)},read_array_pair_list:function(a){var c=this;return this.read_list(function(){return c.read_array_pair(a)},",",!0)},read_array_pair:function(a){if(!(!a&&this.token===")"||a&&this.token==="]")){if(this.token===",")return this.node("noop")();var c=this.node("entry"),f=null,p=null,g=!1,A=!1;if(this.token==="&")this.next(),g=!0,p=this.read_variable(!0,!1);else if(this.token===this.tok.T_ELLIPSIS&&this.version>=704)this.next(),this.token==="&"&&this.error(),A=!0,p=this.read_expr();else{var D=this.read_expr();this.token===this.tok.T_DOUBLE_ARROW?(this.next(),f=D,this.token==="&"?(this.next(),g=!0,p=this.read_variable(!0,!1)):p=this.read_expr()):p=D}return c(f,p,g,A)}}};function Y(a,c,f){return c in a?Object.defineProperty(a,c,{value:f,enumerable:!0,configurable:!0,writable:!0}):a[c]=f,a}function M(a,c){var f=Object.keys(a);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(a);c&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(a,g).enumerable})),f.push.apply(f,p)}return f}function Z(a){for(var c=1;c<arguments.length;c++){var f=arguments[c]!=null?arguments[c]:{};c%2?M(Object(f),!0).forEach(function(p){Y(a,p,f[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(f)):M(Object(f)).forEach(function(p){Object.defineProperty(a,p,Object.getOwnPropertyDescriptor(f,p))})}return a}function Q(a,c){return function(f){if(Array.isArray(f))return f}(a)||function(f,p){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(f)))){var g=[],A=!0,D=!1,N=void 0;try{for(var V,B=f[Symbol.iterator]();!(A=(V=B.next()).done)&&(g.push(V.value),!p||g.length!==p);A=!0);}catch(E){D=!0,N=E}finally{try{A||B.return==null||B.return()}finally{if(D)throw N}}return g}}(a,c)||ce(a,c)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function G(a){return function(c){if(Array.isArray(c))return Oe(c)}(a)||function(c){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(c))return Array.from(c)}(a)||ce(a)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ce(a,c){if(a){if(typeof a=="string")return Oe(a,c);var f=Object.prototype.toString.call(a).slice(8,-1);return f==="Object"&&a.constructor&&(f=a.constructor.name),f==="Map"||f==="Set"?Array.from(f):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?Oe(a,c):void 0}}function Oe(a,c){(c==null||c>a.length)&&(c=a.length);for(var f=0,p=new Array(c);f<c;f++)p[f]=a[f];return p}function te(a){if(typeof Symbol=="undefined"||a[Symbol.iterator]==null){if(Array.isArray(a)||(a=ce(a))){var c=0,f=function(){};return{s:f,n:function(){return c>=a.length?{done:!0}:{done:!1,value:a[c++]}},e:function(N){throw N},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,g,A=!0,D=!1;return{s:function(){p=a[Symbol.iterator]()},n:function(){var N=p.next();return A=N.done,N},e:function(N){D=!0,g=N},f:function(){try{A||p.return==null||p.return()}finally{if(D)throw g}}}}P.read_array,P.read_array_pair_list,P.read_array_pair;var oe={read_class_declaration_statement:function(a){var c=this.node("class"),f=this.read_class_modifiers();if(this.token!==this.tok.T_CLASS)return this.error(this.tok.T_CLASS),this.next(),null;this.next().expect(this.tok.T_STRING);var p=this.node("identifier"),g=this.text();this.next(),p=p(g);var A=this.read_extends_from(),D=this.read_implements_list();this.expect("{");var N=c(p,A,D,this.next().read_class_body(),f);return a&&(N.attrGroups=a),N},read_class_modifiers:function(){return[0,0,this.read_class_modifier()]},read_class_modifier:function(){return this.token===this.tok.T_ABSTRACT?(this.next(),1):this.token===this.tok.T_FINAL?(this.next(),2):0},read_class_body:function(){for(var a=[],c=[];this.token!==this.EOF&&this.token!=="}";)if(this.token!==this.tok.T_COMMENT)if(this.token!==this.tok.T_DOC_COMMENT)if(this.token!==this.tok.T_USE){this.token===this.tok.T_ATTRIBUTE&&(c=this.read_attr_list());var f=this.position(),p=this.read_member_flags(!1);if(this.token!==this.tok.T_CONST)if(this.token===this.tok.T_VAR&&(this.next().expect(this.tok.T_VARIABLE),p[0]=null,p[1]=0),this.token===this.tok.T_FUNCTION)a.push(this.read_function(!1,p,c,f)),c=[];else if(this.token===this.tok.T_VARIABLE||this.version>=704&&(this.token==="?"||this.token===this.tok.T_CALLABLE||this.token===this.tok.T_ARRAY||this.token===this.tok.T_NS_SEPARATOR||this.token===this.tok.T_STRING||this.token===this.tok.T_NAMESPACE)){var g=this.read_variable_list(p,c);c=[],this.expect(";"),this.next(),a=a.concat(g)}else this.error([this.tok.T_CONST,this.tok.T_VARIABLE,this.tok.T_FUNCTION]),this.next();else{var A=this.read_constant_list(p,c);this.expect(";")&&this.next(),a=a.concat(A)}}else a=a.concat(this.read_trait_use_statement());else a.push(this.read_doc_comment());else a.push(this.read_comment());return this.expect("}"),this.next(),a},read_variable_list:function(a,c){var f=this.node("propertystatement"),p=this.read_list(function(){var g=this.node("property"),A=Q(this.read_optional_type(),2),D=A[0],N=A[1];this.expect(this.tok.T_VARIABLE);var V=this.node("identifier"),B=this.text().substring(1);return this.next(),V=V(B),this.token===";"||this.token===","?g(V,null,D,N,c||[]):this.token==="="?g(V,this.next().read_expr(),D,N,c||[]):(this.expect([",",";","="]),g(V,null,D,N,c||[]))},",");return f(null,p,a)},read_constant_list:function(a,c){this.expect(this.tok.T_CONST)&&this.next();var f=this.node("classconstant"),p=this.read_list(function(){var g=this.node("constant"),A=null,D=null;if(this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){A=this.node("identifier");var N=this.text();this.next(),A=A(N)}else this.expect("IDENTIFIER");return this.expect("=")&&(D=this.next().read_expr()),g(A,D)},",");return f(null,p,a,c||[])},read_member_flags:function(a){var c=[-1,-1,-1];if(this.is("T_MEMBER_FLAGS")){var f=0,p=0;do{switch(this.token){case this.tok.T_PUBLIC:f=0,p=0;break;case this.tok.T_PROTECTED:f=0,p=1;break;case this.tok.T_PRIVATE:f=0,p=2;break;case this.tok.T_STATIC:f=1,p=1;break;case this.tok.T_ABSTRACT:f=2,p=1;break;case this.tok.T_FINAL:f=2,p=2}a&&(f==0&&p==2?(this.expect([this.tok.T_PUBLIC,this.tok.T_PROTECTED]),p=-1):f==2&&p==1&&(this.error(),p=-1)),c[f]!==-1?this.error():p!==-1&&(c[f]=p)}while(this.next().is("T_MEMBER_FLAGS"))}return c[1]==-1&&(c[1]=0),c[2]==-1&&(c[2]=0),c},read_optional_type:function(){var a=!1;this.token==="?"&&(a=!0,this.next());var c=this.read_types();if(a&&!c&&this.raiseError("Expecting a type definition combined with nullable operator"),!a&&!c)return[!1,null];if(this.token==="|"){c=[c];do{this.next();var f=this.read_type();if(!f){this.raiseError("Expecting a type definition");break}c.push(f)}while(this.token==="|")}return[a,c]},read_interface_declaration_statement:function(a){var c=this.node("interface");if(this.token!==this.tok.T_INTERFACE)return this.error(this.tok.T_INTERFACE),this.next(),null;this.next().expect(this.tok.T_STRING);var f=this.node("identifier"),p=this.text();this.next(),f=f(p);var g=this.read_interface_extends_list();return this.expect("{"),c(f,g,this.next().read_interface_body(),a||[])},read_interface_body:function(){for(var a=[],c=[];this.token!==this.EOF&&this.token!=="}";)if(this.token!==this.tok.T_COMMENT)if(this.token!==this.tok.T_DOC_COMMENT){var f=this.position();c=this.read_attr_list();var p=this.read_member_flags(!0);if(this.token==this.tok.T_CONST){var g=this.read_constant_list(p,c);this.expect(";")&&this.next(),a=a.concat(g),c=[]}else if(this.token===this.tok.T_FUNCTION){var A=this.read_function_declaration(2,p,c,f);A.parseFlags(p),a.push(A),this.expect(";")&&this.next(),c=[]}else this.error([this.tok.T_CONST,this.tok.T_FUNCTION]),this.next()}else a.push(this.read_doc_comment());else a.push(this.read_comment());return this.expect("}")&&this.next(),a},read_trait_declaration_statement:function(){var a=this.node("trait");if(this.token!==this.tok.T_TRAIT)return this.error(this.tok.T_TRAIT),this.next(),null;this.next().expect(this.tok.T_STRING);var c=this.node("identifier"),f=this.text();return this.next(),c=c(f),this.expect("{"),a(c,this.next().read_class_body())},read_trait_use_statement:function(){var a=this.node("traituse");this.expect(this.tok.T_USE)&&this.next();for(var c=[this.read_namespace_name()],f=null;this.token===",";)c.push(this.next().read_namespace_name());if(this.token==="{"){for(f=[];this.next().token!==this.EOF&&this.token!=="}";)f.push(this.read_trait_use_alias()),this.expect(";");this.expect("}")&&this.next()}else this.expect(";")&&this.next();return a(c,f)},read_trait_use_alias:function(){var a,c=this.node(),f=null;if(this.is("IDENTIFIER")){a=this.node("identifier");var p=this.text();this.next(),a=a(p)}else if(a=this.read_namespace_name(),this.token===this.tok.T_DOUBLE_COLON)if(this.next(),this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){f=a,a=this.node("identifier");var g=this.text();this.next(),a=a(g)}else this.expect(this.tok.T_STRING);else a=a.name;if(this.token===this.tok.T_INSTEADOF)return c("traitprecedence",f,a,this.next().read_name_list());if(this.token===this.tok.T_AS){var A=null,D=null;if(this.next().is("T_MEMBER_FLAGS")&&(A=this.read_member_flags()),this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){D=this.node("identifier");var N=this.text();this.next(),D=D(N)}else A===!1&&this.expect(this.tok.T_STRING);return c("traitalias",f,a,D,A)}return this.expect([this.tok.T_AS,this.tok.T_INSTEADOF]),c("traitalias",f,a,null,null)}};oe.read_class_declaration_statement,oe.read_class_modifiers,oe.read_class_modifier,oe.read_class_body,oe.read_variable_list,oe.read_constant_list,oe.read_member_flags,oe.read_optional_type,oe.read_interface_declaration_statement,oe.read_interface_body,oe.read_trait_declaration_statement,oe.read_trait_use_statement,oe.read_trait_use_alias;var Ce={read_comment:function(){var a=this.text(),c=this.ast.prepare(a.substring(0,2)==="/*"?"commentblock":"commentline",null,this),f=this.lexer.yylloc.first_offset,p=this.prev;return this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset],this.lex(),(c=c(a)).offset=f,this.prev=p,c},read_doc_comment:function(){var a=this.ast.prepare("commentblock",null,this),c=this.lexer.yylloc.first_offset,f=this.text(),p=this.prev;return this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset],this.lex(),(a=a(f)).offset=c,this.prev=p,a}};Ce.read_comment,Ce.read_doc_comment;var fe={read_expr:function(a){var c=this.node();if(this.token==="@")return a||(a=this.next().read_expr()),c("silent",a);if(a||(a=this.read_expr_item()),this.token==="|")return c("bin","|",a,this.next().read_expr());if(this.token==="&")return c("bin","&",a,this.next().read_expr());if(this.token==="^")return c("bin","^",a,this.next().read_expr());if(this.token===".")return c("bin",".",a,this.next().read_expr());if(this.token==="+")return c("bin","+",a,this.next().read_expr());if(this.token==="-")return c("bin","-",a,this.next().read_expr());if(this.token==="*")return c("bin","*",a,this.next().read_expr());if(this.token==="/")return c("bin","/",a,this.next().read_expr());if(this.token==="%")return c("bin","%",a,this.next().read_expr());if(this.token===this.tok.T_POW)return c("bin","**",a,this.next().read_expr());if(this.token===this.tok.T_SL)return c("bin","<<",a,this.next().read_expr());if(this.token===this.tok.T_SR)return c("bin",">>",a,this.next().read_expr());if(this.token===this.tok.T_BOOLEAN_OR)return c("bin","||",a,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_OR)return c("bin","or",a,this.next().read_expr());if(this.token===this.tok.T_BOOLEAN_AND)return c("bin","&&",a,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_AND)return c("bin","and",a,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_XOR)return c("bin","xor",a,this.next().read_expr());if(this.token===this.tok.T_IS_IDENTICAL)return c("bin","===",a,this.next().read_expr());if(this.token===this.tok.T_IS_NOT_IDENTICAL)return c("bin","!==",a,this.next().read_expr());if(this.token===this.tok.T_IS_EQUAL)return c("bin","==",a,this.next().read_expr());if(this.token===this.tok.T_IS_NOT_EQUAL)return c("bin","!=",a,this.next().read_expr());if(this.token==="<")return c("bin","<",a,this.next().read_expr());if(this.token===">")return c("bin",">",a,this.next().read_expr());if(this.token===this.tok.T_IS_SMALLER_OR_EQUAL)return c("bin","<=",a,this.next().read_expr());if(this.token===this.tok.T_IS_GREATER_OR_EQUAL)return c("bin",">=",a,this.next().read_expr());if(this.token===this.tok.T_SPACESHIP)return c("bin","<=>",a,this.next().read_expr());if(this.token===this.tok.T_INSTANCEOF&&(a=c("bin","instanceof",a,this.next().read_class_name_reference()),this.token!==";"&&this.token!==this.tok.T_INLINE_HTML&&this.token!==this.EOF&&(a=this.read_expr(a))),this.token===this.tok.T_COALESCE)return c("bin","??",a,this.next().read_expr());if(this.token==="?"){var f=null;return this.next().token!==":"&&(f=this.read_expr()),this.expect(":")&&this.next(),c("retif",a,f,this.read_expr())}return c.destroy(a),a},read_expr_cast:function(a){return this.node("cast")(a,this.text(),this.next().read_expr())},read_isset_variable:function(){return this.read_expr()},read_isset_variables:function(){return this.read_function_list(this.read_isset_variable,",")},read_internal_functions_in_yacc:function(){var a=null;switch(this.token){case this.tok.T_ISSET:a=this.node("isset"),this.next().expect("(")&&this.next();var c=this.read_isset_variables();this.expect(")")&&this.next(),a=a(c);break;case this.tok.T_EMPTY:a=this.node("empty"),this.next().expect("(")&&this.next();var f=this.read_expr();this.expect(")")&&this.next(),a=a(f);break;case this.tok.T_INCLUDE:a=this.node("include")(!1,!1,this.next().read_expr());break;case this.tok.T_INCLUDE_ONCE:a=this.node("include")(!0,!1,this.next().read_expr());break;case this.tok.T_EVAL:a=this.node("eval"),this.next().expect("(")&&this.next();var p=this.read_expr();this.expect(")")&&this.next(),a=a(p);break;case this.tok.T_REQUIRE:a=this.node("include")(!1,!0,this.next().read_expr());break;case this.tok.T_REQUIRE_ONCE:a=this.node("include")(!0,!0,this.next().read_expr())}return a},read_optional_expr:function(a){return this.token!==a?this.read_expr():null},read_exit_expr:function(){var a=null;return this.token==="("&&(this.next(),a=this.read_optional_expr(")"),this.expect(")")&&this.next()),a},read_expr_item:function(){var a,c,f=[];if(this.token==="+")return this.node("unary")("+",this.next().read_expr());if(this.token==="-")return this.node("unary")("-",this.next().read_expr());if(this.token==="!")return this.node("unary")("!",this.next().read_expr());if(this.token==="~")return this.node("unary")("~",this.next().read_expr());if(this.token==="(")return(c=this.next().read_expr()).parenthesizedExpression=!0,this.expect(")")&&this.next(),this.handleDereferencable(c);if(this.token==="`")return this.read_encapsed_string("`");if(this.token===this.tok.T_LIST){var p=null,g=this.innerList;a=this.node("list"),g||(p=this.node("assign")),this.next().expect("(")&&this.next(),this.innerList||(this.innerList=!0);var A=this.read_array_pair_list(!1);this.expect(")")&&this.next();for(var D=!1,N=0;N<A.length;N++)if(A[N]!==null&&A[N].kind!=="noop"){D=!0;break}return D||this.raiseError("Fatal Error :  Cannot use empty list on line "+this.lexer.yylloc.first_line),g?a(A,!1):(this.innerList=!1,this.expect("=")?p(a(A,!1),this.next().read_expr(),"="):a(A,!1))}if(this.token===this.tok.T_ATTRIBUTE&&(f=this.read_attr_list()),this.token===this.tok.T_CLONE)return this.node("clone")(this.next().read_expr());switch(this.token){case this.tok.T_INC:return this.node("pre")("+",this.next().read_variable(!1,!1));case this.tok.T_DEC:return this.node("pre")("-",this.next().read_variable(!1,!1));case this.tok.T_NEW:return this.read_new_expr();case this.tok.T_ISSET:case this.tok.T_EMPTY:case this.tok.T_INCLUDE:case this.tok.T_INCLUDE_ONCE:case this.tok.T_EVAL:case this.tok.T_REQUIRE:case this.tok.T_REQUIRE_ONCE:return this.read_internal_functions_in_yacc();case this.tok.T_MATCH:return this.read_match_expression();case this.tok.T_INT_CAST:return this.read_expr_cast("int");case this.tok.T_DOUBLE_CAST:return this.read_expr_cast("float");case this.tok.T_STRING_CAST:return this.read_expr_cast(this.text().indexOf("binary")!==-1?"binary":"string");case this.tok.T_ARRAY_CAST:return this.read_expr_cast("array");case this.tok.T_OBJECT_CAST:return this.read_expr_cast("object");case this.tok.T_BOOL_CAST:return this.read_expr_cast("bool");case this.tok.T_UNSET_CAST:return this.read_expr_cast("unset");case this.tok.T_THROW:return this.version<800&&this.raiseError("PHP 8+ is required to use throw as an expression"),this.node("throw")(this.next().read_expr());case this.tok.T_EXIT:var V=this.lexer.yytext.toLowerCase()==="die";return a=this.node("exit"),this.next(),a(this.read_exit_expr(),V);case this.tok.T_PRINT:return this.node("print")(this.next().read_expr());case this.tok.T_YIELD:var B=null,E=null;return a=this.node("yield"),this.next().is("EXPR")&&(B=this.read_expr(),this.token===this.tok.T_DOUBLE_ARROW&&(E=B,B=this.next().read_expr())),a(B,E);case this.tok.T_YIELD_FROM:return(a=this.node("yieldfrom"))(c=this.next().read_expr());case this.tok.T_FN:case this.tok.T_FUNCTION:return this.read_inline_function(void 0,f);case this.tok.T_STATIC:var we=[this.token,this.lexer.getState()];if(this.next(),this.token===this.tok.T_FUNCTION||this.version>=704&&this.token===this.tok.T_FN)return this.read_inline_function([0,1,0],f);this.lexer.tokens.push(we),this.next()}if(this.is("VARIABLE")){a=this.node();var Le=(c=this.read_variable(!1,!1)).kind==="identifier"||c.kind==="staticlookup"&&c.offset.kind==="identifier";switch(this.token){case"=":return Le&&this.error("VARIABLE"),this.next().token=="&"?this.read_assignref(a,c):a("assign",c,this.read_expr(),"=");case this.tok.T_PLUS_EQUAL:return Le&&this.error("VARIABLE"),a("assign",c,this.next().read_expr(),"+=");case this.tok.T_MINUS_EQUAL:return Le&&this.error("VARIABLE"),a("assign",c,this.next().read_expr(),"-=");case this.tok.T_MUL_EQUAL:return Le&&this.error("VARIABLE"),a("assign",c,this.next().read_expr(),"*=");case this.tok.T_POW_EQUAL:return Le&&this.error("VARIABLE"),a("assign",c,this.next().read_expr(),"**=");case this.tok.T_DIV_EQUAL:return Le&&this.error("VARIABLE"),a("assign",c,this.next().read_expr(),"/=");case this.tok.T_CONCAT_EQUAL:return Le&&this.error("VARIABLE"),a("assign",c,this.next().read_expr(),".=");case this.tok.T_MOD_EQUAL:return Le&&this.error("VARIABLE"),a("assign",c,this.next().read_expr(),"%=");case this.tok.T_AND_EQUAL:return Le&&this.error("VARIABLE"),a("assign",c,this.next().read_expr(),"&=");case this.tok.T_OR_EQUAL:return Le&&this.error("VARIABLE"),a("assign",c,this.next().read_expr(),"|=");case this.tok.T_XOR_EQUAL:return Le&&this.error("VARIABLE"),a("assign",c,this.next().read_expr(),"^=");case this.tok.T_SL_EQUAL:return Le&&this.error("VARIABLE"),a("assign",c,this.next().read_expr(),"<<=");case this.tok.T_SR_EQUAL:return Le&&this.error("VARIABLE"),a("assign",c,this.next().read_expr(),">>=");case this.tok.T_COALESCE_EQUAL:return Le&&this.error("VARIABLE"),a("assign",c,this.next().read_expr(),"??=");case this.tok.T_INC:return Le&&this.error("VARIABLE"),this.next(),a("post","+",c);case this.tok.T_DEC:return Le&&this.error("VARIABLE"),this.next(),a("post","-",c);default:a.destroy(c)}}else{if(this.is("SCALAR")){if(a=this.node(),(c=this.read_scalar()).kind==="array"&&c.shortForm&&this.token==="="){var nt=this.convertToList(c);return c.loc&&(nt.loc=c.loc),a("assign",nt,this.next().read_expr(),"=")}return a.destroy(c),this.handleDereferencable(c)}this.error("EXPR"),this.next()}return c},convertToList:function(a){var c=this,f=a.items.map(function(g){return g.value&&g.value.kind==="array"&&g.value.shortForm&&(g.value=c.convertToList(g.value)),g}),p=this.node("list")(f,!0);return a.loc&&(p.loc=a.loc),a.leadingComments&&(p.leadingComments=a.leadingComments),a.trailingComments&&(p.trailingComments=a.trailingComments),p},read_assignref:function(a,c){var f;return this.next(),this.token===this.tok.T_NEW?(this.version>=700&&this.error(),f=this.read_new_expr()):f=this.read_variable(!1,!1),a("assignref",c,f)},read_inline_function:function(a,c){if(this.token===this.tok.T_FUNCTION){var f=this.read_function(!0,a,c);return f.attrGroups=c,f}!this.version>=704&&this.raiseError("Arrow Functions are not allowed");var p=this.node("arrowfunc");this.expect(this.tok.T_FN)&&this.next();var g=this.is_reference();this.expect("(")&&this.next();var A=this.read_parameter_list();this.expect(")")&&this.next();var D=!1,N=null;this.token===":"&&(this.next().token==="?"&&(D=!0,this.next()),N=this.read_types()),this.expect(this.tok.T_DOUBLE_ARROW)&&this.next();var V=p(A,g,this.read_expr(),N,D,!!a);return V.attrGroups=c,V},read_match_expression:function(){var a=this.node("match");this.expect(this.tok.T_MATCH)&&this.next(),this.version<800&&this.raiseError("Match statements are not allowed before PHP 8");var c,f;return this.expect("(")&&this.next(),c=this.read_expr(),this.expect(")")&&this.next(),this.expect("{")&&this.next(),f=this.read_match_arms(),this.expect("}")&&this.next(),a(c,f)},read_match_arms:function(){var a=this;return this.read_list(function(){return a.read_match_arm()},",",!0)},read_match_arm:function(){if(this.token!=="}")return this.node("matcharm")(this.read_match_arm_conds(),this.read_expr())},read_match_arm_conds:function(){var a=[];if(this.token===this.tok.T_DEFAULT)a=null,this.next();else for(a.push(this.read_expr());this.token===",";){if(this.next(),this.token===this.tok.T_DOUBLE_ARROW)return this.next(),a;a.push(this.read_expr())}return this.expect(this.tok.T_DOUBLE_ARROW)&&this.next(),a},read_attribute(){var a=this.text(),c=[];return this.next(),this.token==="("&&(c=this.read_argument_list()),this.node("attribute")(a,c)},read_attr_list(){var a=[];if(this.token===this.tok.T_ATTRIBUTE)do{var c=this.node("attrgroup")([]);for(this.next(),c.attrs.push(this.read_attribute());this.token===",";)this.next(),this.token!=="]"&&c.attrs.push(this.read_attribute());a.push(c),this.expect("]"),this.next()}while(this.token===this.tok.T_ATTRIBUTE);return a},read_new_expr:function(){var a=this.node("new");this.expect(this.tok.T_NEW)&&this.next();var c=[],f=this.read_attr_list();if(this.token===this.tok.T_CLASS){var p=this.node("class");this.next().token==="("&&(c=this.read_argument_list());var g=this.read_extends_from(),A=this.read_implements_list(),D=null;this.expect("{")&&(D=this.next().read_class_body());var N=p(null,g,A,D,[0,0,0]);return N.attrGroups=f,a(N,c)}var V=this.read_new_class_name();return this.token==="("&&(c=this.read_argument_list()),a(V,c)},read_new_class_name:function(){if(this.token===this.tok.T_NS_SEPARATOR||this.token===this.tok.T_STRING||this.token===this.tok.T_NAMESPACE){var a=this.read_namespace_name(!0);return this.token===this.tok.T_DOUBLE_COLON&&(a=this.read_static_getter(a)),a}if(this.is("VARIABLE"))return this.read_variable(!0,!1);this.expect([this.tok.T_STRING,"VARIABLE"])},handleDereferencable:function(a){for(;this.token!==this.EOF;)if(this.token===this.tok.T_OBJECT_OPERATOR||this.token===this.tok.T_DOUBLE_COLON)a=this.recursive_variable_chain_scan(a,!1,!1,!0);else if(this.token===this.tok.T_CURLY_OPEN||this.token==="[")a=this.read_dereferencable(a);else{if(this.token!=="(")return a;a=this.node("call")(a,this.read_argument_list())}return a}};fe.read_expr,fe.read_expr_cast,fe.read_isset_variable,fe.read_isset_variables,fe.read_internal_functions_in_yacc,fe.read_optional_expr,fe.read_exit_expr,fe.read_expr_item,fe.convertToList,fe.read_assignref,fe.read_inline_function,fe.read_match_expression,fe.read_match_arms,fe.read_match_arm,fe.read_match_arm_conds,fe.read_attribute,fe.read_attr_list,fe.read_new_expr,fe.read_new_class_name,fe.handleDereferencable;var re={is_reference:function(){return this.token=="&"&&(this.next(),!0)},is_variadic:function(){return this.token===this.tok.T_ELLIPSIS&&(this.next(),!0)},read_function:function(a,c,f,p){var g=this.read_function_declaration(a?1:c?2:0,c&&c[1]===1,f||[],p);return c&&c[2]==1?(g.parseFlags(c),this.expect(";")&&this.next()):(this.expect("{")&&(g.body=this.read_code_block(!1),g.loc&&g.body.loc&&(g.loc.end=g.body.loc.end)),!a&&c&&g.parseFlags(c)),g},read_function_declaration:function(a,c,f,p){var g=this,A="function";a===1?A="closure":a===2&&(A="method");var D=this.node(A);this.expect(this.tok.T_FUNCTION)&&this.next();var N=this.is_reference(),V=!1,B=[],E=null,we=!1;if(a!==1){var Le=this.node("identifier");a===2?this.version>=700?this.token===this.tok.T_STRING||this.is("IDENTIFIER")?(V=this.text(),this.next()):this.version<704&&this.error("IDENTIFIER"):this.token===this.tok.T_STRING?(V=this.text(),this.next()):this.error("IDENTIFIER"):this.version>=700?this.token===this.tok.T_STRING?(V=this.text(),this.next()):this.version>=704?this.expect("(")||this.next():(this.error(this.tok.T_STRING),this.next()):(this.expect(this.tok.T_STRING)&&(V=this.text()),this.next()),V=Le(V)}this.expect("(")&&this.next();var nt=this.read_parameter_list();this.expect(")")&&this.next(),a===1&&(B=this.read_lexical_vars()),this.token===":"&&(this.next().token==="?"&&(we=!0,this.next()),E=this.read_types());var yt=function(Re){return Re.attrGroups=f||[],p&&Re.loc&&(Re.loc.start=p,Re.loc.source&&(Re.loc.source=g.lexer._input.substr(Re.loc.start.offset,Re.loc.end.offset-Re.loc.start.offset))),Re};return yt(a===1?D(nt,N,B,E,we,c):D(V,nt,N,E,we))},read_lexical_vars:function(){var a=[];return this.token===this.tok.T_USE&&(this.next(),this.expect("(")&&this.next(),a=this.read_lexical_var_list(),this.expect(")")&&this.next()),a},read_list_with_dangling_comma:function(a){for(var c=[];this.token!=this.EOF;){if(c.push(a()),this.token!=","){if(this.token==")")break;this.error([",",")"]);break}if(this.next(),this.version>=800&&this.token===")")return c}return c},read_lexical_var_list:function(){return this.read_list_with_dangling_comma(this.read_lexical_var.bind(this))},read_lexical_var:function(){if(this.token==="&")return this.read_byref(this.read_lexical_var.bind(this));var a=this.node("variable");this.expect(this.tok.T_VARIABLE);var c=this.text().substring(1);return this.next(),a(c,!1)},read_parameter_list:function(){return this.token!=")"?this.read_list_with_dangling_comma(this.read_parameter.bind(this)):[]},read_parameter:function(){var a,c=this.node("parameter"),f=null,p=null,g=!1,A=[];this.token===this.tok.T_ATTRIBUTE&&(A=this.read_attr_list());var D=this.read_promoted();this.token==="?"&&(this.next(),g=!0),a=this.read_types(),g&&!a&&this.raiseError("Expecting a type definition combined with nullable operator");var N=this.is_reference(),V=this.is_variadic();if(this.expect(this.tok.T_VARIABLE)){f=this.node("identifier");var B=this.text().substring(1);this.next(),f=f(B)}this.token=="="&&(p=this.next().read_expr());var E=c(f,a,p,N,V,g,D);return A&&(E.attrGroups=A),E},read_types(){var a=[],c=this.node("uniontype"),f=this.read_type();if(!f)return null;for(a.push(f);this.token==="|";)this.next(),f=this.read_type(),a.push(f);return a.length===1?a[0]:c(a)},read_promoted(){return this.token===this.tok.T_PUBLIC?(this.next(),1):this.token===this.tok.T_PROTECTED?(this.next(),2):this.token===this.tok.T_PRIVATE?(this.next(),4):0},read_argument_list:function(){var a=[];return this.expect("(")&&this.next(),this.token!==")"&&(a=this.read_non_empty_argument_list()),this.expect(")")&&this.next(),a},read_non_empty_argument_list:function(){var a=!1;return this.read_function_list(function(){var c=this.read_argument();return c&&(a&&this.raiseError("Unexpected argument after a variadic argument"),c.kind==="variadic"&&(a=!0)),c}.bind(this),",")},read_argument:function(){if(this.token===this.tok.T_ELLIPSIS)return this.node("variadic")(this.next().read_expr());if(this.token===this.tok.T_STRING||Object.values(this.lexer.keywords).includes(this.token)){var a=this.lexer.getState(),c=this.lexer.lex();if(this.lexer.setState(a),c===":")return this.version<800&&this.raiseError("PHP 8+ is required to use named arguments"),this.node("namedargument")(this.text(),this.next().next().read_expr())}return this.read_expr()},read_type:function(){var a=this.node();if(this.token===this.tok.T_ARRAY||this.token===this.tok.T_CALLABLE){var c=this.text();return this.next(),a("typereference",c.toLowerCase(),c)}if(this.token===this.tok.T_STRING||this.token===this.tok.T_STATIC){var f=this.text(),p=[this.token,this.lexer.getState()];return this.next(),this.token!==this.tok.T_NS_SEPARATOR&&this.ast.typereference.types.indexOf(f.toLowerCase())>-1?a("typereference",f.toLowerCase(),f):(this.lexer.tokens.push(p),this.next(),a.destroy(),this.read_namespace_name())}return this.token===this.tok.T_NAMESPACE||this.token===this.tok.T_NS_SEPARATOR?(a.destroy(),this.read_namespace_name()):(a.destroy(),null)}};re.is_reference,re.is_variadic,re.read_function,re.read_function_declaration,re.read_lexical_vars,re.read_list_with_dangling_comma,re.read_lexical_var_list,re.read_lexical_var,re.read_parameter_list,re.read_parameter,re.read_types,re.read_promoted,re.read_argument_list,re.read_non_empty_argument_list,re.read_argument,re.read_type;var Qe={read_if:function(){var a=this.node("if"),c=this.next().read_if_expr(),f=null,p=null,g=!1;if(this.token===":"){g=!0,this.next(),f=this.node("block");for(var A=[];this.token!==this.EOF&&this.token!==this.tok.T_ENDIF;){if(this.token===this.tok.T_ELSEIF){p=this.read_elseif_short();break}if(this.token===this.tok.T_ELSE){p=this.read_else_short();break}A.push(this.read_inner_statement())}f=f(null,A),this.expect(this.tok.T_ENDIF)&&this.next(),this.expectEndOfStatement()}else f=this.read_statement(),this.token===this.tok.T_ELSEIF?p=this.read_if():this.token===this.tok.T_ELSE&&(p=this.next().read_statement());return a(c,f,p,g)},read_if_expr:function(){this.expect("(")&&this.next();var a=this.read_expr();return this.expect(")")&&this.next(),a},read_elseif_short:function(){var a=null,c=this.node("if"),f=this.next().read_if_expr();this.expect(":")&&this.next();for(var p=this.node("block"),g=[];this.token!=this.EOF&&this.token!==this.tok.T_ENDIF;){if(this.token===this.tok.T_ELSEIF){a=this.read_elseif_short();break}if(this.token===this.tok.T_ELSE){a=this.read_else_short();break}g.push(this.read_inner_statement())}return c(f,p(null,g),a,!0)},read_else_short:function(){this.next().expect(":")&&this.next();for(var a=this.node("block"),c=[];this.token!=this.EOF&&this.token!==this.tok.T_ENDIF;)c.push(this.read_inner_statement());return a(null,c)}};Qe.read_if,Qe.read_if_expr,Qe.read_elseif_short,Qe.read_else_short;var Tt={read_while:function(){var a=this.node("while");this.expect(this.tok.T_WHILE)&&this.next();var c,f=null,p=!1;return this.expect("(")&&this.next(),c=this.read_expr(),this.expect(")")&&this.next(),this.token===":"?(p=!0,f=this.read_short_form(this.tok.T_ENDWHILE)):f=this.read_statement(),a(c,f,p)},read_do:function(){var a=this.node("do");this.expect(this.tok.T_DO)&&this.next();var c,f=null;return c=this.read_statement(),this.expect(this.tok.T_WHILE)&&(this.next().expect("(")&&this.next(),f=this.read_expr(),this.expect(")")&&this.next(),this.expect(";")&&this.next()),a(f,c)},read_for:function(){var a=this.node("for");this.expect(this.tok.T_FOR)&&this.next();var c=[],f=[],p=[],g=null,A=!1;return this.expect("(")&&this.next(),this.token!==";"?(c=this.read_list(this.read_expr,","),this.expect(";")&&this.next()):this.next(),this.token!==";"?(f=this.read_list(this.read_expr,","),this.expect(";")&&this.next()):this.next(),this.token!==")"?(p=this.read_list(this.read_expr,","),this.expect(")")&&this.next()):this.next(),this.token===":"?(A=!0,g=this.read_short_form(this.tok.T_ENDFOR)):g=this.read_statement(),a(c,f,p,g,A)},read_foreach:function(){var a=this.node("foreach");this.expect(this.tok.T_FOREACH)&&this.next();var c,f=null,p=null,g=null,A=!1;return this.expect("(")&&this.next(),c=this.read_expr(),this.expect(this.tok.T_AS)&&(this.next(),p=this.read_foreach_variable(),this.token===this.tok.T_DOUBLE_ARROW&&(f=p,p=this.next().read_foreach_variable())),f&&f.kind==="list"&&this.raiseError("Fatal Error : Cannot use list as key element"),this.expect(")")&&this.next(),this.token===":"?(A=!0,g=this.read_short_form(this.tok.T_ENDFOREACH)):g=this.read_statement(),a(c,f,p,g,A)},read_foreach_variable:function(){if(this.token===this.tok.T_LIST||this.token==="["){var a=this.token==="[",c=this.node("list");this.next(),!a&&this.expect("(")&&this.next();var f=this.read_array_pair_list(a);return this.expect(a?"]":")")&&this.next(),c(f,a)}return this.read_variable(!1,!1)}};Tt.read_while,Tt.read_do,Tt.read_for,Tt.read_foreach,Tt.read_foreach_variable;var Lr={read_start:function(){return this.token==this.tok.T_NAMESPACE?this.read_namespace():this.read_top_statement()}};Lr.read_start;var ot={read_namespace:function(){var a,c,f=this.node("namespace");return this.expect(this.tok.T_NAMESPACE)&&this.next(),c=this.token=="{"?{name:[""]}:this.read_namespace_name(),this.currentNamespace=c,this.token==";"?(this.currentNamespace=c,a=this.next().read_top_statements(),this.expect(this.EOF),f(c.name,a,!1)):this.token=="{"?(this.currentNamespace=c,a=this.next().read_top_statements(),this.expect("}")&&this.next(),a.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&a.push(this.node("noop")()),f(c.name,a,!0)):this.token==="("?(c.resolution=this.ast.reference.RELATIVE_NAME,c.name=c.name.substring(1),f.destroy(),this.node("call")(c,this.read_argument_list())):(this.error(["{",";"]),this.currentNamespace=c,a=this.read_top_statements(),this.expect(this.EOF),f(c,a,!1))},read_namespace_name:function(a){var c=this.node(),f=!1;this.token===this.tok.T_NAMESPACE&&(this.next().expect(this.tok.T_NS_SEPARATOR)&&this.next(),f=!0);var p=this.read_list(this.tok.T_STRING,this.tok.T_NS_SEPARATOR,!0);if(!f&&p.length===1&&(a||this.token!=="(")){if(p[0].toLowerCase()==="parent")return c("parentreference",p[0]);if(p[0].toLowerCase()==="self")return c("selfreference",p[0])}return c("name",p,f)},read_use_statement:function(){var a=this.node("usegroup"),c=[],f=null;this.expect(this.tok.T_USE)&&this.next();var p=this.read_use_type();return c.push(this.read_use_declaration(!1)),this.token===","?c=c.concat(this.next().read_use_declarations(!1)):this.token==="{"&&(f=c[0].name,c=this.next().read_use_declarations(p===null),this.expect("}")&&this.next()),a=a(f,p,c),this.expect(";")&&this.next(),a},read_class_name_reference:function(){return this.read_variable(!0,!1)},read_use_declaration:function(a){var c=this.node("useitem"),f=null;a&&(f=this.read_use_type());var p=this.read_namespace_name(),g=this.read_use_alias();return c(p.name,g,f)},read_use_declarations:function(a){for(var c=[this.read_use_declaration(a)];this.token===",";){if(this.next(),a){if(this.token!==this.tok.T_FUNCTION&&this.token!==this.tok.T_CONST&&this.token!==this.tok.T_STRING)break}else if(this.token!==this.tok.T_STRING&&this.token!==this.tok.T_NS_SEPARATOR)break;c.push(this.read_use_declaration(a))}return c},read_use_alias:function(){var a=null;if(this.token===this.tok.T_AS&&this.next().expect(this.tok.T_STRING)){var c=this.node("identifier"),f=this.text();this.next(),a=c(f)}return a},read_use_type:function(){return this.token===this.tok.T_FUNCTION?(this.next(),this.ast.useitem.TYPE_FUNCTION):this.token===this.tok.T_CONST?(this.next(),this.ast.useitem.TYPE_CONST):null}};ot.read_namespace,ot.read_namespace_name,ot.read_use_statement,ot.read_class_name_reference,ot.read_use_declaration,ot.read_use_declarations,ot.read_use_alias,ot.read_use_type;var St={"\\":"\\",$:"$",n:`
`,r:"\r",t:"	",f:String.fromCharCode(12),v:String.fromCharCode(11),e:String.fromCharCode(27)},Qr={resolve_special_chars:function(a,c){return c?a.replace(/\\"/,'"').replace(/\\([\\$nrtfve]|[xX][0-9a-fA-F]{1,2}|[0-7]{1,3}|u{([0-9a-fA-F]+)})/g,function(f,p,g){return St[p]?St[p]:p[0]==="x"||p[0]==="X"?String.fromCodePoint(parseInt(p.substr(1),16)):p[0]==="u"?String.fromCodePoint(parseInt(g,16)):String.fromCodePoint(parseInt(p,8))}):a.replace(/\\\\/g,"\\").replace(/\\'/g,"'")},remove_heredoc_leading_whitespace_chars:function(a,c,f,p){if(c===0)return a;this.check_heredoc_indentation_level(a,c,f,p);var g=f?" ":"	",A=new RegExp("\\n".concat(g,"{").concat(c,"}"),"g"),D=new RegExp("^".concat(g,"{").concat(c,"}"));return p&&(a=a.replace(D,"")),a.replace(A,`
`)},check_heredoc_indentation_level:function(a,c,f,p){var g=a.length,A=0,D=0,N=!0,V=f?" ":"	",B=!1;if(!p){if((A=a.indexOf(`
`))===-1)return;A++}for(;A<g;)N?a[A]===V?D++:B=!0:N=!1,a[A]!==`
`&&B&&D<c?this.raiseError("Invalid body indentation level (expecting an indentation at least ".concat(c,")")):B=!1,a[A]===`
`&&(N=!0,D=0),A++},read_dereferencable_scalar:function(){var a=null;switch(this.token){case this.tok.T_CONSTANT_ENCAPSED_STRING:var c=this.node("string"),f=this.text(),p=0;f[0]!=="b"&&f[0]!=="B"||(p=1);var g=f[p]==='"';this.next(),c=c(g,this.resolve_special_chars(f.substring(p+1,f.length-1),g),p===1,f),a=this.token===this.tok.T_DOUBLE_COLON?this.read_static_getter(c):c;break;case this.tok.T_ARRAY:case"[":a=this.read_array()}return a},read_scalar:function(){if(this.is("T_MAGIC_CONST"))return this.get_magic_constant();var a,c;switch(this.token){case this.tok.T_LNUMBER:case this.tok.T_DNUMBER:var f=this.node("number");return a=this.text(),this.next(),f(a,null);case this.tok.T_START_HEREDOC:if(this.lexer.curCondition==="ST_NOWDOC"){var p=this.lexer.yylloc.first_offset;c=this.node("nowdoc"),a=this.next().text(),this.lexer.heredoc_label.indentation>0&&(a=a.substring(0,a.length-this.lexer.heredoc_label.indentation));var g=a[a.length-1];g===`
`?a=a[a.length-2]==="\r"?a.substring(0,a.length-2):a.substring(0,a.length-1):g==="\r"&&(a=a.substring(0,a.length-1)),this.expect(this.tok.T_ENCAPSED_AND_WHITESPACE)&&this.next(),this.expect(this.tok.T_END_HEREDOC)&&this.next();var A=this.lexer._input.substring(p,this.lexer.yylloc.first_offset);return c=c(this.remove_heredoc_leading_whitespace_chars(a,this.lexer.heredoc_label.indentation,this.lexer.heredoc_label.indentation_uses_spaces,this.lexer.heredoc_label.first_encaps_node),A,this.lexer.heredoc_label.label)}return this.read_encapsed_string(this.tok.T_END_HEREDOC);case'"':return this.read_encapsed_string('"');case'b"':case'B"':return this.read_encapsed_string('"',!0);case this.tok.T_CONSTANT_ENCAPSED_STRING:case this.tok.T_ARRAY:case"[":return this.read_dereferencable_scalar();default:var D=this.error("SCALAR");return this.next(),D}},read_dereferencable:function(a){var c,f,p=this.node("offsetlookup");return this.token==="["?(f=this.next().read_expr(),this.expect("]")&&this.next(),c=p(a,f)):this.token===this.tok.T_DOLLAR_OPEN_CURLY_BRACES&&(c=p(a,f=this.read_encapsed_string_item(!1))),c},read_encapsed_string_item:function(a){var c,f,p,g=this.node("encapsedpart"),A=null,D=!1,N=this.node();if(this.token===this.tok.T_ENCAPSED_AND_WHITESPACE){var V=this.text();this.next(),N=N("string",!1,this.version>=703&&!this.lexer.heredoc_label.finished?this.remove_heredoc_leading_whitespace_chars(this.resolve_special_chars(V,a),this.lexer.heredoc_label.indentation,this.lexer.heredoc_label.indentation_uses_spaces,this.lexer.heredoc_label.first_encaps_node):V,!1,V)}else if(this.token===this.tok.T_DOLLAR_OPEN_CURLY_BRACES){if(A="simple",D=!0,p=null,this.next().token===this.tok.T_STRING_VARNAME){p=this.node("variable");var B=this.text();this.next(),this.token==="["?(p=p(B,!1),f=this.node("offsetlookup"),c=this.next().read_expr(),this.expect("]")&&this.next(),N=f(p,c)):N=p(B,!1)}else N=N("variable",this.read_expr(),!1);this.expect("}")&&this.next()}else if(this.token===this.tok.T_CURLY_OPEN)A="complex",N.destroy(),N=this.next().read_variable(!1,!1),this.expect("}")&&this.next();else if(this.token===this.tok.T_VARIABLE){if(A="simple",N.destroy(),N=this.read_simple_variable(),this.token==="["&&(f=this.node("offsetlookup"),c=this.next().read_encaps_var_offset(),this.expect("]")&&this.next(),N=f(N,c)),this.token===this.tok.T_OBJECT_OPERATOR){f=this.node("propertylookup"),this.next().expect(this.tok.T_STRING);var E=this.node("identifier");p=this.text(),this.next(),N=f(N,E(p))}}else{this.expect(this.tok.T_ENCAPSED_AND_WHITESPACE);var we=this.text();this.next(),N.destroy(),N=N("string",!1,we,!1,we)}return this.lexer.heredoc_label.first_encaps_node=!1,g(N,A,D)},read_encapsed_string:function(a){var c=arguments.length>1&&arguments[1]!==void 0&&arguments[1],f=this.lexer.yylloc.first_offset,p=this.node("encapsed");this.next();var g=this.lexer.yylloc.prev_offset-(c?1:0),A=[],D=null;for(D=a==="`"?this.ast.encapsed.TYPE_SHELL:a==='"'?this.ast.encapsed.TYPE_STRING:this.ast.encapsed.TYPE_HEREDOC;this.token!==a&&this.token!==this.EOF;)A.push(this.read_encapsed_string_item(!0));if(A.length>0&&A[A.length-1].kind==="encapsedpart"&&A[A.length-1].expression.kind==="string"){var N=A[A.length-1].expression,V=N.value[N.value.length-1];V===`
`?N.value[N.value.length-2]==="\r"?N.value=N.value.substring(0,N.value.length-2):N.value=N.value.substring(0,N.value.length-1):V==="\r"&&(N.value=N.value.substring(0,N.value.length-1))}this.expect(a)&&this.next();var B=this.lexer._input.substring(D==="heredoc"?f:g-1,this.lexer.yylloc.first_offset);return p=p(A,B,D),a===this.tok.T_END_HEREDOC&&(p.label=this.lexer.heredoc_label.label,this.lexer.heredoc_label.finished=!0),p},get_magic_constant:function(){var a=this.node("magic"),c=this.text();return this.next(),a(c.toUpperCase(),c)}};Qr.resolve_special_chars,Qr.remove_heredoc_leading_whitespace_chars,Qr.check_heredoc_indentation_level,Qr.read_dereferencable_scalar,Qr.read_scalar,Qr.read_dereferencable,Qr.read_encapsed_string_item,Qr.read_encapsed_string,Qr.get_magic_constant;var cn={read_top_statements:function(){for(var a=[];this.token!==this.EOF&&this.token!=="}";){var c=this.read_top_statement();c&&(Array.isArray(c)?a=a.concat(c):a.push(c))}return a},read_top_statement:function(){var a=[];switch(this.token===this.tok.T_ATTRIBUTE&&(a=this.read_attr_list()),this.token){case this.tok.T_FUNCTION:return this.read_function(!1,!1,a);case this.tok.T_ABSTRACT:case this.tok.T_FINAL:case this.tok.T_CLASS:return this.read_class_declaration_statement(a);case this.tok.T_INTERFACE:return this.read_interface_declaration_statement(a);case this.tok.T_TRAIT:return this.read_trait_declaration_statement();case this.tok.T_USE:return this.read_use_statement();case this.tok.T_CONST:var c=this.node("constantstatement"),f=this.next().read_const_list();return this.expectEndOfStatement(),c(null,f);case this.tok.T_NAMESPACE:return this.read_namespace();case this.tok.T_HALT_COMPILER:var p=this.node("halt");return this.next().expect("(")&&this.next(),this.expect(")")&&this.next(),this.expect(";"),this.lexer.done=!0,p(this.lexer._input.substring(this.lexer.offset));default:return this.read_statement()}},read_inner_statements:function(){for(var a=[];this.token!=this.EOF&&this.token!=="}";){var c=this.read_inner_statement();c&&(Array.isArray(c)?a=a.concat(c):a.push(c))}return a},read_const_list:function(){return this.read_list(function(){this.expect(this.tok.T_STRING);var a=this.node("constant"),c=this.node("identifier"),f=this.text();return this.next(),c=c(f),this.expect("=")?a(c,this.next().read_expr()):a(c,null)},",",!1)},read_declare_list:function(){for(var a=[];this.token!=this.EOF&&this.token!==")";){this.expect(this.tok.T_STRING);var c=this.node("declaredirective"),f=this.node("identifier"),p=this.text();this.next(),f=f(p);var g=null;if(this.expect("=")&&(g=this.next().read_expr()),a.push(c(f,g)),this.token!==",")break;this.next()}return a},read_inner_statement:function(){var a=[];switch(this.token===this.tok.T_ATTRIBUTE&&(a=this.read_attr_list()),this.token){case this.tok.T_FUNCTION:var c=this.read_function(!1,!1);return c.attrGroups=a,c;case this.tok.T_ABSTRACT:case this.tok.T_FINAL:case this.tok.T_CLASS:return this.read_class_declaration_statement();case this.tok.T_INTERFACE:return this.read_interface_declaration_statement();case this.tok.T_TRAIT:return this.read_trait_declaration_statement();case this.tok.T_HALT_COMPILER:this.raiseError("__HALT_COMPILER() can only be used from the outermost scope");var f=this.node("halt");return this.next().expect("(")&&this.next(),this.expect(")")&&this.next(),f=f(this.lexer._input.substring(this.lexer.offset)),this.expect(";")&&this.next(),f;default:return this.read_statement()}},read_statement:function(){switch(this.token){case"{":return this.read_code_block(!1);case this.tok.T_IF:return this.read_if();case this.tok.T_SWITCH:return this.read_switch();case this.tok.T_FOR:return this.read_for();case this.tok.T_FOREACH:return this.read_foreach();case this.tok.T_WHILE:return this.read_while();case this.tok.T_DO:return this.read_do();case this.tok.T_COMMENT:return this.read_comment();case this.tok.T_DOC_COMMENT:return this.read_doc_comment();case this.tok.T_RETURN:var a=this.node("return");this.next();var c=this.read_optional_expr(";");return this.expectEndOfStatement(),a(c);case this.tok.T_BREAK:case this.tok.T_CONTINUE:var f=this.node(this.token===this.tok.T_CONTINUE?"continue":"break");this.next();var p=this.read_optional_expr(";");return this.expectEndOfStatement(),f(p);case this.tok.T_GLOBAL:var g=this.node("global"),A=this.next().read_list(this.read_simple_variable,",");return this.expectEndOfStatement(),g(A);case this.tok.T_STATIC:var D=[this.token,this.lexer.getState()],N=this.node();if(this.next().token===this.tok.T_DOUBLE_COLON){this.lexer.tokens.push(D);var V=this.next().read_expr();return this.expectEndOfStatement(V),N("expressionstatement",V)}if(this.token===this.tok.T_FUNCTION)return this.read_function(!0,[0,1,0]);var B=this.read_variable_declarations();return this.expectEndOfStatement(),N("static",B);case this.tok.T_ECHO:var E=this.node("echo"),we=this.text(),Le=we==="<?="||we==="<%=",nt=this.next().read_function_list(this.read_expr,",");return this.expectEndOfStatement(),E(nt,Le);case this.tok.T_INLINE_HTML:var yt=this.text(),Re=this.lexer.yylloc.first_offset>0?this.lexer._input[this.lexer.yylloc.first_offset-1]:null,pt=Re==="\r"||Re===`
`;pt&&Re===`
`&&this.lexer.yylloc.first_offset>1&&this.lexer._input[this.lexer.yylloc.first_offset-2]==="\r"&&(Re=`\r
`);var Xe=this.node("inline");return this.next(),Xe(yt,pt?Re+yt:yt);case this.tok.T_UNSET:var Wt=this.node("unset");this.next().expect("(")&&this.next();var qt=this.read_function_list(this.read_variable,",");return this.expect(")")&&this.next(),this.expect(";")&&this.next(),Wt(qt);case this.tok.T_DECLARE:var ht,Ge=this.node("declare"),Ct=[];this.next().expect("(")&&this.next();var Qt=this.read_declare_list();if(this.expect(")")&&this.next(),this.token===":"){for(this.next();this.token!=this.EOF&&this.token!==this.tok.T_ENDDECLARE;)Ct.push(this.read_top_statement());Ct.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&Ct.push(this.node("noop")()),this.expect(this.tok.T_ENDDECLARE)&&this.next(),this.expectEndOfStatement(),ht=this.ast.declare.MODE_SHORT}else if(this.token==="{"){for(this.next();this.token!=this.EOF&&this.token!=="}";)Ct.push(this.read_top_statement());Ct.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&Ct.push(this.node("noop")()),this.expect("}")&&this.next(),ht=this.ast.declare.MODE_BLOCK}else this.expect(";")&&this.next(),ht=this.ast.declare.MODE_NONE;return Ge(Qt,Ct,ht);case this.tok.T_TRY:return this.read_try();case this.tok.T_THROW:var Rs=this.node("throw"),Fr=this.next().read_expr();return this.expectEndOfStatement(),Rs(Fr);case";":return this.next(),null;case this.tok.T_STRING:var pn=this.node(),ma=[this.token,this.lexer.getState()],ga=this.text(),Ln=this.node("identifier");if(this.next().token===":")return Ln=Ln(ga),this.next(),pn("label",Ln);Ln.destroy(),pn.destroy(),this.lexer.tokens.push(ma);var ts=this.node("expressionstatement"),hn=this.next().read_expr();return this.expectEndOfStatement(hn),ts(hn);case this.tok.T_GOTO:var Ta=this.node("goto"),mn=null;if(this.next().expect(this.tok.T_STRING)){mn=this.node("identifier");var ks=this.text();this.next(),mn=mn(ks),this.expectEndOfStatement()}return Ta(mn);default:var Dn=this.node("expressionstatement"),rs=this.read_expr();return this.expectEndOfStatement(rs),Dn(rs)}},read_code_block:function(a){var c=this.node("block");this.expect("{")&&this.next();var f=a?this.read_top_statements():this.read_inner_statements();return f.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&f.push(this.node("noop")()),this.expect("}")&&this.next(),c(null,f)}};cn.read_top_statements,cn.read_top_statement,cn.read_inner_statements,cn.read_const_list,cn.read_declare_list,cn.read_inner_statement,cn.read_statement,cn.read_code_block;var zi={read_switch:function(){var a=this.node("switch");this.expect(this.tok.T_SWITCH)&&this.next(),this.expect("(")&&this.next();var c=this.read_expr();this.expect(")")&&this.next();var f=this.token===":";return a(c,this.read_switch_case_list(),f)},read_switch_case_list:function(){var a=null,c=this.node("block"),f=[];for(this.token==="{"?a="}":this.token===":"?a=this.tok.T_ENDSWITCH:this.expect(["{",":"]),this.next(),this.token===";"&&this.next();this.token!==this.EOF&&this.token!==a;)f.push(this.read_case_list(a));return f.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&f.push(this.node("noop")()),this.expect(a)&&this.next(),a===this.tok.T_ENDSWITCH&&this.expectEndOfStatement(),c(null,f)},read_case_list:function(a){var c=this.node("case"),f=null;this.token===this.tok.T_CASE?f=this.next().read_expr():this.token===this.tok.T_DEFAULT?this.next():this.expect([this.tok.T_CASE,this.tok.T_DEFAULT]),this.expect([":",";"])&&this.next();for(var p=this.node("block"),g=[];this.token!==this.EOF&&this.token!==a&&this.token!==this.tok.T_CASE&&this.token!==this.tok.T_DEFAULT;)g.push(this.read_inner_statement());return c(f,p(null,g))}};zi.read_switch,zi.read_switch_case_list,zi.read_case_list;var ro={read_try:function(){this.expect(this.tok.T_TRY);for(var a=this.node("try"),c=null,f=[],p=this.next().read_statement();this.token===this.tok.T_CATCH;){var g=this.node("catch");this.next().expect("(")&&this.next();var A=this.read_list(this.read_namespace_name,"|",!1),D=null;this.token===this.tok.T_VARIABLE&&(D=this.read_variable(!0,!1)),this.expect(")"),f.push(g(this.next().read_statement(),A,D))}return this.token===this.tok.T_FINALLY&&(c=this.next().read_statement()),a(p,f,c)}};ro.read_try;var Xr={read_short_form:function(a){var c=this.node("block"),f=[];for(this.expect(":")&&this.next();this.token!=this.EOF&&this.token!==a;)f.push(this.read_inner_statement());return f.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&f.push(this.node("noop")()),this.expect(a)&&this.next(),this.expectEndOfStatement(),c(null,f)},read_function_list:function(a,c){var f=[];do{if(this.token==c&&this.version>=703&&f.length>0){f.push(this.node("noop")());break}if(f.push(a.apply(this,[])),this.token!=c||this.next().token==")"&&this.version>=703)break}while(this.token!=this.EOF);return f},read_list:function(a,c,f){var p=[];if(this.token==c&&(f&&p.push(typeof a=="function"?this.node("noop")():null),this.next()),typeof a=="function")do{var g=a.apply(this,[]);if(g&&p.push(g),this.token!=c)break}while(this.next().token!=this.EOF);else{if(!this.expect(a))return[];for(p.push(this.text());this.next().token!=this.EOF&&this.token==c&&this.next().token==a;)p.push(this.text())}return p},read_name_list:function(){return this.read_list(this.read_namespace_name,",",!1)},read_byref:function(a){var c=this.node("byref");this.next(),c=c(null);var f=a();return f&&(this.ast.swapLocations(f,c,f,this),f.byref=!0),f},read_variable_declarations:function(){return this.read_list(function(){var a=this.node("staticvariable"),c=this.node("variable");if(this.expect(this.tok.T_VARIABLE)){var f=this.text().substring(1);this.next(),c=c(f,!1)}else c=c("#ERR",!1);return this.token==="="?a(c,this.next().read_expr()):c},",")},read_extends_from:function(){return this.token===this.tok.T_EXTENDS?this.next().read_namespace_name():null},read_interface_extends_list:function(){return this.token===this.tok.T_EXTENDS?this.next().read_name_list():null},read_implements_list:function(){return this.token===this.tok.T_IMPLEMENTS?this.next().read_name_list():null}};Xr.read_short_form,Xr.read_function_list,Xr.read_list,Xr.read_name_list,Xr.read_byref,Xr.read_variable_declarations,Xr.read_extends_from,Xr.read_interface_extends_list,Xr.read_implements_list;var On={read_variable:function(a,c){var f;if(this.token==="&")return this.read_byref(this.read_variable.bind(this,a,c));if(this.is([this.tok.T_VARIABLE,"$"]))f=this.read_reference_variable(c);else if(this.is([this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_NAMESPACE])){f=this.node();var p=this.read_namespace_name();if(this.token!=this.tok.T_DOUBLE_COLON&&this.token!="("&&["parentreference","selfreference"].indexOf(p.kind)===-1){var g=p.name.toLowerCase();g==="true"?f=p.destroy(f("boolean",!0,p.name)):g==="false"?f=p.destroy(f("boolean",!1,p.name)):g==="null"?f=p.destroy(f("nullkeyword",p.name)):(f.destroy(p),f=p)}else f.destroy(p),f=p}else if(this.token===this.tok.T_STATIC){f=this.node("staticreference");var A=this.text();this.next(),f=f(A)}else this.expect("VARIABLE");return this.token===this.tok.T_DOUBLE_COLON&&(f=this.read_static_getter(f,c)),this.recursive_variable_chain_scan(f,a,c)},read_static_getter:function(a,c){var f,p,g=this.node("staticlookup");return this.next().is([this.tok.T_VARIABLE,"$"])?f=this.read_reference_variable(c):this.token===this.tok.T_STRING||this.token===this.tok.T_CLASS||this.version>=700&&this.is("IDENTIFIER")?(f=this.node("identifier"),p=this.text(),this.next(),f=f(p)):this.token==="{"?(f=this.node("literal"),p=this.next().read_expr(),this.expect("}")&&this.next(),f=f("literal",p,null),this.expect("(")):(this.error([this.tok.T_VARIABLE,this.tok.T_STRING]),f=this.node("identifier"),p=this.text(),this.next(),f=f(p)),g(a,f)},read_what:function(){var a=arguments.length>0&&arguments[0]!==void 0&&arguments[0],c=null,f=null;switch(this.next().token){case this.tok.T_STRING:c=this.node("identifier"),f=this.text(),this.next(),c=c(f),a&&this.token===this.tok.T_OBJECT_OPERATOR&&this.error();break;case this.tok.T_VARIABLE:c=this.node("variable"),f=this.text().substring(1),this.next(),c=c(f,!1);break;case"$":c=this.node(),this.next().expect(["$","{",this.tok.T_VARIABLE]),this.token==="{"?(f=this.next().read_expr(),this.expect("}")&&this.next(),c=c("variable",f,!0)):c=c("variable",f=this.read_expr(),!1);break;case"{":c=this.node("encapsedpart"),f=this.next().read_expr(),this.expect("}")&&this.next(),c=c(f,"complex",!1);break;default:this.error([this.tok.T_STRING,this.tok.T_VARIABLE,"$","{"]),c=this.node("identifier"),f=this.text(),this.next(),c=c(f)}return c},recursive_variable_chain_scan:function(a,c,f){var p,g;e:for(;this.token!=this.EOF;)switch(this.token){case"(":if(c)return a;a=this.node("call")(a,this.read_argument_list());break;case"[":case"{":var A=this.token==="[";p=this.node("offsetlookup"),this.next(),g=!1,f?(g=this.read_encaps_var_offset(),this.expect(A?"]":"}")&&this.next()):(A?this.token!=="]":this.token!=="}")?(g=this.read_expr(),this.expect(A?"]":"}")&&this.next()):this.next(),a=p(a,g);break;case this.tok.T_DOUBLE_COLON:a.kind==="staticlookup"&&a.offset.kind==="identifier"&&this.error(),a=(p=this.node("staticlookup"))(a,this.read_what(!0));break;case this.tok.T_OBJECT_OPERATOR:a=(p=this.node("propertylookup"))(a,this.read_what());break;case this.tok.T_NULLSAFE_OBJECT_OPERATOR:a=(p=this.node("nullsafepropertylookup"))(a,this.read_what());break;default:break e}return a},read_encaps_var_offset:function(){var a=this.node();if(this.token===this.tok.T_STRING){var c=this.text();this.next(),a=a("identifier",c)}else if(this.token===this.tok.T_NUM_STRING){var f=this.text();this.next(),a=a("number",f,null)}else if(this.token==="-"){this.next();var p=-1*this.text();this.expect(this.tok.T_NUM_STRING)&&this.next(),a=a("number",p,null)}else if(this.token===this.tok.T_VARIABLE){var g=this.text().substring(1);this.next(),a=a("variable",g,!1)}else{this.expect([this.tok.T_STRING,this.tok.T_NUM_STRING,"-",this.tok.T_VARIABLE]);var A=this.text();this.next(),a=a("identifier",A)}return a},read_reference_variable:function(a){for(var c,f=this.read_simple_variable();this.token!=this.EOF;){var p=this.node();if(this.token!="{"||a){p.destroy();break}c=this.next().read_expr(),this.expect("}")&&this.next(),f=p("offsetlookup",f,c)}return f},read_simple_variable:function(){var a,c=this.node("variable");if(this.expect([this.tok.T_VARIABLE,"$"])&&this.token===this.tok.T_VARIABLE)a=this.text().substring(1),this.next(),c=c(a,!1);else switch(this.token==="$"&&this.next(),this.token){case"{":var f=this.next().read_expr();this.expect("}")&&this.next(),c=c(f,!0);break;case"$":c=c(this.read_simple_variable(),!1);break;case this.tok.T_VARIABLE:a=this.text().substring(1);var p=this.node("variable");this.next(),c=c(p(a,!1),!1);break;default:this.error(["{","$",this.tok.T_VARIABLE]),a=this.text(),this.next(),c=c(a,!1)}return c}};function ca(a){return a!="."&&a!=","&&!isNaN(parseFloat(a))&&isFinite(a)}On.read_variable,On.read_static_getter,On.read_what,On.recursive_variable_chain_scan,On.read_encaps_var_offset,On.read_reference_variable,On.read_simple_variable;var Gt=function(a,c){this.lexer=a,this.ast=c,this.tok=a.tok,this.EOF=a.EOF,this.token=null,this.prev=null,this.debug=!1,this.version=800,this.extractDoc=!1,this.extractTokens=!1,this.suppressErrors=!1;var f=function(p){return[p,null]};this.entries={IDENTIFIER:new Map([this.tok.T_ABSTRACT,this.tok.T_ARRAY,this.tok.T_AS,this.tok.T_BREAK,this.tok.T_CALLABLE,this.tok.T_CASE,this.tok.T_CATCH,this.tok.T_CLASS,this.tok.T_CLASS_C,this.tok.T_CLONE,this.tok.T_CONST,this.tok.T_CONTINUE,this.tok.T_DECLARE,this.tok.T_DEFAULT,this.tok.T_DIR,this.tok.T_DO,this.tok.T_ECHO,this.tok.T_ELSE,this.tok.T_ELSEIF,this.tok.T_EMPTY,this.tok.T_ENDDECLARE,this.tok.T_ENDFOR,this.tok.T_ENDFOREACH,this.tok.T_ENDIF,this.tok.T_ENDSWITCH,this.tok.T_ENDWHILE,this.tok.T_EVAL,this.tok.T_EXIT,this.tok.T_EXTENDS,this.tok.T_FILE,this.tok.T_FINAL,this.tok.T_FINALLY,this.tok.T_FN,this.tok.T_FOR,this.tok.T_FOREACH,this.tok.T_FUNC_C,this.tok.T_FUNCTION,this.tok.T_GLOBAL,this.tok.T_GOTO,this.tok.T_IF,this.tok.T_IMPLEMENTS,this.tok.T_INCLUDE,this.tok.T_INCLUDE_ONCE,this.tok.T_INSTANCEOF,this.tok.T_INSTEADOF,this.tok.T_INTERFACE,this.tok.T_ISSET,this.tok.T_LINE,this.tok.T_LIST,this.tok.T_LOGICAL_AND,this.tok.T_LOGICAL_OR,this.tok.T_LOGICAL_XOR,this.tok.T_MATCH,this.tok.T_METHOD_C,this.tok.T_NAMESPACE,this.tok.T_NEW,this.tok.T_NS_C,this.tok.T_PRINT,this.tok.T_PRIVATE,this.tok.T_PROTECTED,this.tok.T_PUBLIC,this.tok.T_REQUIRE,this.tok.T_REQUIRE_ONCE,this.tok.T_RETURN,this.tok.T_STATIC,this.tok.T_SWITCH,this.tok.T_THROW,this.tok.T_TRAIT,this.tok.T_TRY,this.tok.T_UNSET,this.tok.T_USE,this.tok.T_VAR,this.tok.T_WHILE,this.tok.T_YIELD].map(f)),VARIABLE:new Map([this.tok.T_VARIABLE,"$","&",this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_NAMESPACE,this.tok.T_STATIC].map(f)),SCALAR:new Map([this.tok.T_CONSTANT_ENCAPSED_STRING,this.tok.T_START_HEREDOC,this.tok.T_LNUMBER,this.tok.T_DNUMBER,this.tok.T_ARRAY,"[",this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C,'"','b"','B"',"-",this.tok.T_NS_SEPARATOR].map(f)),T_MAGIC_CONST:new Map([this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C].map(f)),T_MEMBER_FLAGS:new Map([this.tok.T_PUBLIC,this.tok.T_PRIVATE,this.tok.T_PROTECTED,this.tok.T_STATIC,this.tok.T_ABSTRACT,this.tok.T_FINAL].map(f)),EOS:new Map([";",this.EOF,this.tok.T_INLINE_HTML].map(f)),EXPR:new Map(["@","-","+","!","~","(","`",this.tok.T_LIST,this.tok.T_CLONE,this.tok.T_INC,this.tok.T_DEC,this.tok.T_NEW,this.tok.T_ISSET,this.tok.T_EMPTY,this.tok.T_MATCH,this.tok.T_INCLUDE,this.tok.T_INCLUDE_ONCE,this.tok.T_REQUIRE,this.tok.T_REQUIRE_ONCE,this.tok.T_EVAL,this.tok.T_INT_CAST,this.tok.T_DOUBLE_CAST,this.tok.T_STRING_CAST,this.tok.T_ARRAY_CAST,this.tok.T_OBJECT_CAST,this.tok.T_BOOL_CAST,this.tok.T_UNSET_CAST,this.tok.T_EXIT,this.tok.T_PRINT,this.tok.T_YIELD,this.tok.T_STATIC,this.tok.T_FUNCTION,this.tok.T_FN,this.tok.T_VARIABLE,"$",this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_STRING,this.tok.T_CONSTANT_ENCAPSED_STRING,this.tok.T_START_HEREDOC,this.tok.T_LNUMBER,this.tok.T_DNUMBER,this.tok.T_ARRAY,"[",this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C,'"','b"','B"',"-",this.tok.T_NS_SEPARATOR].map(f))}};Gt.prototype.getTokenName=function(a){return ca(a)?a==this.EOF?"the end of file (EOF)":this.lexer.engine.tokens.values[a]:"'"+a+"'"},Gt.prototype.parse=function(a,c){this._errors=[],this.filename=c||"eval",this.currentNamespace=[""],this.extractDoc?this._docs=[]:this._docs=null,this.extractTokens?this._tokens=[]:this._tokens=null,this._docIndex=0,this._lastNode=null,this.lexer.setInput(a),this.lexer.all_tokens=this.extractTokens,this.lexer.comment_tokens=this.extractDoc,this.length=this.lexer._input.length,this.innerList=!1,this.innerListForm=!1;var f=this.node("program"),p=[];for(this.next();this.token!=this.EOF;)p.push(this.read_start());p.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&p.push(this.node("noop")()),this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset];var g=f(p,this._errors,this._docs,this._tokens);if(this.debug){var A=this.ast.checkNodes();if(A.length>0)throw A.forEach(function(D){D.position&&console.log("Node at line "+D.position.line+", column "+D.position.column),console.log(D.stack.join(`
`))}),new Error("Some nodes are not closed")}return g},Gt.prototype.raiseError=function(a,c,f,p){if(a+=" on line "+this.lexer.yylloc.first_line,!this.suppressErrors){var g=new SyntaxError(a,this.filename,this.lexer.yylloc.first_line);throw g.lineNumber=this.lexer.yylloc.first_line,g.fileName=this.filename,g.columnNumber=this.lexer.yylloc.first_column,g}var A=this.ast.prepare("error",null,this)(a,p,this.lexer.yylloc.first_line,f);return this._errors.push(A),A},Gt.prototype.error=function(a){var c="Parse Error : syntax error",f=this.getTokenName(this.token),p="";if(this.token!==this.EOF){if(ca(this.token)){var g=this.text();g.length>10&&(g=g.substring(0,7)+"..."),f="'"+g+"' ("+f+")"}c+=", unexpected "+f}return a&&!Array.isArray(a)&&((ca(a)||a.length===1)&&(p=", expecting "+this.getTokenName(a)),c+=p),this.raiseError(c,p,a,f)},Gt.prototype.position=function(){return new C(this.lexer.yylloc.first_line,this.lexer.yylloc.first_column,this.lexer.yylloc.first_offset)},Gt.prototype.node=function(a){if(this.extractDoc){var c=null;this._docIndex<this._docs.length&&(c=this._docs.slice(this._docIndex),this._docIndex=this._docs.length,this.debug&&(console.log(new Error("Append docs on "+a)),console.log(c)));var f=this.ast.prepare(a,c,this);return f.postBuild=function(p){if(this._docIndex<this._docs.length)if(this._lastNode){for(var g=this.prev[2],A=this._docIndex;A<this._docs.length&&!(this._docs[A].offset>g);A++);A>this._docIndex&&(this._lastNode.setTrailingComments(this._docs.slice(this._docIndex,A)),this._docIndex=A)}else this.token===this.EOF&&(p.setTrailingComments(this._docs.slice(this._docIndex)),this._docIndex=this._docs.length);this._lastNode=p}.bind(this),f}return this.ast.prepare(a,null,this)},Gt.prototype.expectEndOfStatement=function(a){if(this.token===";")a&&this.lexer.yytext===";"&&a.includeToken(this);else if(this.token!==this.tok.T_INLINE_HTML&&this.token!==this.EOF)return this.error(";"),!1;return this.next(),!0};var ua=["parser.next","parser.node","parser.showlog"];Gt.prototype.showlog=function(){for(var a,c=new Error().stack.split(`
`),f=2;f<c.length;f++){a=c[f].trim();for(var p=!1,g=0;g<ua.length;g++)if(a.substring(3,3+ua[g].length)===ua[g]){p=!0;break}if(!p)break}return console.log("Line "+this.lexer.yylloc.first_line+" : "+this.getTokenName(this.token)+">"+this.lexer.yytext+"< @-->"+a),this},Gt.prototype.expect=function(a){if(Array.isArray(a)){if(a.indexOf(this.token)===-1)return this.error(a),!1}else if(this.token!=a)return this.error(a),!1;return!0},Gt.prototype.text=function(){return this.lexer.yytext},Gt.prototype.next=function(){if(this.token===";"&&this.lexer.yytext!==";"||(this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset]),this.lex(),this.debug&&this.showlog(),this.extractDoc)for(;this.token===this.tok.T_COMMENT||this.token===this.tok.T_DOC_COMMENT;)this.token===this.tok.T_COMMENT?this._docs.push(this.read_comment()):this._docs.push(this.read_doc_comment());return this},Gt.prototype.lex=function(){if(this.extractTokens)do{if(this.token=this.lexer.lex()||this.EOF,this.token===this.EOF)return this;var a=this.lexer.yytext;if(a=this.lexer.engine.tokens.values.hasOwnProperty(this.token)?[this.lexer.engine.tokens.values[this.token],a,this.lexer.yylloc.first_line,this.lexer.yylloc.first_offset,this.lexer.offset]:[null,a,this.lexer.yylloc.first_line,this.lexer.yylloc.first_offset,this.lexer.offset],this._tokens.push(a),this.token===this.tok.T_CLOSE_TAG)return this.token=";",this;if(this.token===this.tok.T_OPEN_TAG_WITH_ECHO)return this.token=this.tok.T_ECHO,this}while(this.token===this.tok.T_WHITESPACE||!this.extractDoc&&(this.token===this.tok.T_COMMENT||this.token===this.tok.T_DOC_COMMENT)||this.token===this.tok.T_OPEN_TAG);else this.token=this.lexer.lex()||this.EOF;return this},Gt.prototype.is=function(a){return Array.isArray(a)?a.indexOf(this.token)!==-1:this.entries[a].has(this.token)},[P,oe,Ce,fe,re,Qe,Tt,Lr,ot,Qr,cn,zi,ro,Xr,On].forEach(function(a){for(var c in a){if(Gt.prototype.hasOwnProperty(c))throw new Error("Function "+c+" is already defined - collision");Gt.prototype[c]=a[c]}});var no=Gt,io={values:{101:"T_HALT_COMPILER",102:"T_USE",103:"T_ENCAPSED_AND_WHITESPACE",104:"T_OBJECT_OPERATOR",105:"T_STRING",106:"T_DOLLAR_OPEN_CURLY_BRACES",107:"T_STRING_VARNAME",108:"T_CURLY_OPEN",109:"T_NUM_STRING",110:"T_ISSET",111:"T_EMPTY",112:"T_INCLUDE",113:"T_INCLUDE_ONCE",114:"T_EVAL",115:"T_REQUIRE",116:"T_REQUIRE_ONCE",117:"T_NAMESPACE",118:"T_NS_SEPARATOR",119:"T_AS",120:"T_IF",121:"T_ENDIF",122:"T_WHILE",123:"T_DO",124:"T_FOR",125:"T_SWITCH",126:"T_BREAK",127:"T_CONTINUE",128:"T_RETURN",129:"T_GLOBAL",130:"T_STATIC",131:"T_ECHO",132:"T_INLINE_HTML",133:"T_UNSET",134:"T_FOREACH",135:"T_DECLARE",136:"T_TRY",137:"T_THROW",138:"T_GOTO",139:"T_FINALLY",140:"T_CATCH",141:"T_ENDDECLARE",142:"T_LIST",143:"T_CLONE",144:"T_PLUS_EQUAL",145:"T_MINUS_EQUAL",146:"T_MUL_EQUAL",147:"T_DIV_EQUAL",148:"T_CONCAT_EQUAL",149:"T_MOD_EQUAL",150:"T_AND_EQUAL",151:"T_OR_EQUAL",152:"T_XOR_EQUAL",153:"T_SL_EQUAL",154:"T_SR_EQUAL",155:"T_INC",156:"T_DEC",157:"T_BOOLEAN_OR",158:"T_BOOLEAN_AND",159:"T_LOGICAL_OR",160:"T_LOGICAL_AND",161:"T_LOGICAL_XOR",162:"T_SL",163:"T_SR",164:"T_IS_IDENTICAL",165:"T_IS_NOT_IDENTICAL",166:"T_IS_EQUAL",167:"T_IS_NOT_EQUAL",168:"T_IS_SMALLER_OR_EQUAL",169:"T_IS_GREATER_OR_EQUAL",170:"T_INSTANCEOF",171:"T_INT_CAST",172:"T_DOUBLE_CAST",173:"T_STRING_CAST",174:"T_ARRAY_CAST",175:"T_OBJECT_CAST",176:"T_BOOL_CAST",177:"T_UNSET_CAST",178:"T_EXIT",179:"T_PRINT",180:"T_YIELD",181:"T_YIELD_FROM",182:"T_FUNCTION",183:"T_DOUBLE_ARROW",184:"T_DOUBLE_COLON",185:"T_ARRAY",186:"T_CALLABLE",187:"T_CLASS",188:"T_ABSTRACT",189:"T_TRAIT",190:"T_FINAL",191:"T_EXTENDS",192:"T_INTERFACE",193:"T_IMPLEMENTS",194:"T_VAR",195:"T_PUBLIC",196:"T_PROTECTED",197:"T_PRIVATE",198:"T_CONST",199:"T_NEW",200:"T_INSTEADOF",201:"T_ELSEIF",202:"T_ELSE",203:"T_ENDSWITCH",204:"T_CASE",205:"T_DEFAULT",206:"T_ENDFOR",207:"T_ENDFOREACH",208:"T_ENDWHILE",209:"T_CONSTANT_ENCAPSED_STRING",210:"T_LNUMBER",211:"T_DNUMBER",212:"T_LINE",213:"T_FILE",214:"T_DIR",215:"T_TRAIT_C",216:"T_METHOD_C",217:"T_FUNC_C",218:"T_NS_C",219:"T_START_HEREDOC",220:"T_END_HEREDOC",221:"T_CLASS_C",222:"T_VARIABLE",223:"T_OPEN_TAG",224:"T_OPEN_TAG_WITH_ECHO",225:"T_CLOSE_TAG",226:"T_WHITESPACE",227:"T_COMMENT",228:"T_DOC_COMMENT",229:"T_ELLIPSIS",230:"T_COALESCE",231:"T_POW",232:"T_POW_EQUAL",233:"T_SPACESHIP",234:"T_COALESCE_EQUAL",235:"T_FN",236:"T_NULLSAFE_OBJECT_OPERATOR",237:"T_MATCH",238:"T_ATTRIBUTE"},names:{T_HALT_COMPILER:101,T_USE:102,T_ENCAPSED_AND_WHITESPACE:103,T_OBJECT_OPERATOR:104,T_STRING:105,T_DOLLAR_OPEN_CURLY_BRACES:106,T_STRING_VARNAME:107,T_CURLY_OPEN:108,T_NUM_STRING:109,T_ISSET:110,T_EMPTY:111,T_INCLUDE:112,T_INCLUDE_ONCE:113,T_EVAL:114,T_REQUIRE:115,T_REQUIRE_ONCE:116,T_NAMESPACE:117,T_NS_SEPARATOR:118,T_AS:119,T_IF:120,T_ENDIF:121,T_WHILE:122,T_DO:123,T_FOR:124,T_SWITCH:125,T_BREAK:126,T_CONTINUE:127,T_RETURN:128,T_GLOBAL:129,T_STATIC:130,T_ECHO:131,T_INLINE_HTML:132,T_UNSET:133,T_FOREACH:134,T_DECLARE:135,T_TRY:136,T_THROW:137,T_GOTO:138,T_FINALLY:139,T_CATCH:140,T_ENDDECLARE:141,T_LIST:142,T_CLONE:143,T_PLUS_EQUAL:144,T_MINUS_EQUAL:145,T_MUL_EQUAL:146,T_DIV_EQUAL:147,T_CONCAT_EQUAL:148,T_MOD_EQUAL:149,T_AND_EQUAL:150,T_OR_EQUAL:151,T_XOR_EQUAL:152,T_SL_EQUAL:153,T_SR_EQUAL:154,T_INC:155,T_DEC:156,T_BOOLEAN_OR:157,T_BOOLEAN_AND:158,T_LOGICAL_OR:159,T_LOGICAL_AND:160,T_LOGICAL_XOR:161,T_SL:162,T_SR:163,T_IS_IDENTICAL:164,T_IS_NOT_IDENTICAL:165,T_IS_EQUAL:166,T_IS_NOT_EQUAL:167,T_IS_SMALLER_OR_EQUAL:168,T_IS_GREATER_OR_EQUAL:169,T_INSTANCEOF:170,T_INT_CAST:171,T_DOUBLE_CAST:172,T_STRING_CAST:173,T_ARRAY_CAST:174,T_OBJECT_CAST:175,T_BOOL_CAST:176,T_UNSET_CAST:177,T_EXIT:178,T_PRINT:179,T_YIELD:180,T_YIELD_FROM:181,T_FUNCTION:182,T_DOUBLE_ARROW:183,T_DOUBLE_COLON:184,T_ARRAY:185,T_CALLABLE:186,T_CLASS:187,T_ABSTRACT:188,T_TRAIT:189,T_FINAL:190,T_EXTENDS:191,T_INTERFACE:192,T_IMPLEMENTS:193,T_VAR:194,T_PUBLIC:195,T_PROTECTED:196,T_PRIVATE:197,T_CONST:198,T_NEW:199,T_INSTEADOF:200,T_ELSEIF:201,T_ELSE:202,T_ENDSWITCH:203,T_CASE:204,T_DEFAULT:205,T_ENDFOR:206,T_ENDFOREACH:207,T_ENDWHILE:208,T_CONSTANT_ENCAPSED_STRING:209,T_LNUMBER:210,T_DNUMBER:211,T_LINE:212,T_FILE:213,T_DIR:214,T_TRAIT_C:215,T_METHOD_C:216,T_FUNC_C:217,T_NS_C:218,T_START_HEREDOC:219,T_END_HEREDOC:220,T_CLASS_C:221,T_VARIABLE:222,T_OPEN_TAG:223,T_OPEN_TAG_WITH_ECHO:224,T_CLOSE_TAG:225,T_WHITESPACE:226,T_COMMENT:227,T_DOC_COMMENT:228,T_ELLIPSIS:229,T_COALESCE:230,T_POW:231,T_POW_EQUAL:232,T_SPACESHIP:233,T_COALESCE_EQUAL:234,T_FN:235,T_NULLSAFE_OBJECT_OPERATOR:236,T_MATCH:237,T_ATTRIBUTE:238}},vs=function(a,c,f){this.source=a,this.start=c,this.end=f},Qi=function(a,c,f){this.kind=a,c&&(this.leadingComments=c),f&&(this.loc=f)};Qi.prototype.setTrailingComments=function(a){this.trailingComments=a},Qi.prototype.destroy=function(a){if(!a)throw new Error("Node already initialized, you must swap with another node");return this.leadingComments&&(a.leadingComments?a.leadingComments=Array.concat(this.leadingComments,a.leadingComments):a.leadingComments=this.leadingComments),this.trailingComments&&(a.trailingComments?a.trailingComments=Array.concat(this.trailingComments,a.trailingComments):a.trailingComments=this.trailingComments),a},Qi.prototype.includeToken=function(a){return this.loc&&(this.loc.end&&(this.loc.end.line=a.lexer.yylloc.last_line,this.loc.end.column=a.lexer.yylloc.last_column,this.loc.end.offset=a.lexer.offset),a.ast.withSource&&(this.loc.source=a.lexer._input.substring(this.loc.start.offset,a.lexer.offset))),this},Qi.extends=function(a,c){return c.prototype=Object.create(this.prototype),c.extends=this.extends,c.prototype.constructor=c,c.kind=a,c};var tt=Qi,so="expression",Te=tt.extends(so,function(a,c,f){tt.apply(this,[a||so,c,f])}),Ri="array",Vl=Te.extends(Ri,function(a,c,f,p){Te.apply(this,[Ri,f,p]),this.items=c,this.shortForm=a}),ao="arrowfunc",Xi=Te.extends(ao,function(a,c,f,p,g,A,D,N){Te.apply(this,[ao,D,N]),this.arguments=a,this.byref=c,this.body=f,this.type=p,this.nullable=g,this.isStatic=A||!1}),fa="assign",oo=Te.extends(fa,function(a,c,f,p,g){Te.apply(this,[fa,p,g]),this.left=a,this.right=c,this.operator=f}),Is="assignref",lo=Te.extends(Is,function(a,c,f,p){Te.apply(this,[Is,f,p]),this.left=a,this.right=c}),Zn="attribute",j=tt.extends(Zn,function(a,c,f,p){tt.apply(this,[Zn,f,p]),this.name=a,this.args=c}),F="attrgroup",I=tt.extends(F,function(a,c,f){tt.apply(this,[F,c,f]),this.attrs=a||[]}),q="operation",W=Te.extends(q,function(a,c,f){Te.apply(this,[a||q,c,f])}),O=W.extends("bin",function(a,c,f,p,g){W.apply(this,["bin",p,g]),this.type=a,this.left=c,this.right=f}),v="statement",U=tt.extends(v,function(a,c,f){tt.apply(this,[a||v,c,f])}),z="block",me=U.extends(z,function(a,c,f,p){U.apply(this,[a||z,f,p]),this.children=c.filter(Boolean)}),Pe="literal",Ae=Te.extends(Pe,function(a,c,f,p,g){Te.apply(this,[a||Pe,p,g]),this.value=c,f&&(this.raw=f)}),_t="boolean",$t=Ae.extends(_t,function(a,c,f,p){Ae.apply(this,[_t,a,c,f,p])}),zt="break",rt=U.extends(zt,function(a,c,f){U.apply(this,[zt,c,f]),this.level=a}),Ji="byref",co=Te.extends(Ji,function(a,c,f){Te.apply(this,[Ji,c,f]),this.what=a}),Bl="call",b0=Te.extends(Bl,function(a,c,f,p){Te.apply(this,[Bl,f,p]),this.what=a,this.arguments=c}),s_="case",N0=U.extends(s_,function(a,c,f,p){U.apply(this,[s_,f,p]),this.test=a,this.body=c}),a_="cast",v0=W.extends(a_,function(a,c,f,p,g){W.apply(this,[a_,p,g]),this.type=a,this.raw=c,this.expr=f}),o_="catch",I0=U.extends(o_,function(a,c,f,p,g){U.apply(this,[o_,p,g]),this.body=a,this.what=c,this.variable=f}),l_="declaration",c_=U.extends(l_,function(a,c,f,p){U.apply(this,[a||l_,f,p]),this.name=c});c_.prototype.parseFlags=function(a){this.isAbstract=a[2]===1,this.isFinal=a[2]===2,this.kind!=="class"&&(a[0]===-1?this.visibility="":a[0]===null?this.visibility=null:a[0]===0?this.visibility="public":a[0]===1?this.visibility="protected":a[0]===2&&(this.visibility="private"),this.isStatic=a[1]===1)};var un=c_,u_="class",P0=un.extends(u_,function(a,c,f,p,g,A,D){un.apply(this,[u_,a,A,D]),this.isAnonymous=!a,this.extends=c,this.implements=f,this.body=p,this.attrGroups=[],this.parseFlags(g)}),f_="constantstatement",up=U.extends(f_,function(a,c,f,p){U.apply(this,[a||f_,f,p]),this.constants=c}),d_="classconstant",p_=up.extends(d_,function(a,c,f,p,g,A){up.apply(this,[a||d_,c,g,A]),this.parseFlags(f),this.attrGroups=p});p_.prototype.parseFlags=function(a){a[0]===-1?this.visibility="":a[0]===null?this.visibility=null:a[0]===0?this.visibility="public":a[0]===1?this.visibility="protected":a[0]===2&&(this.visibility="private")};var C0=p_,h_="clone",A0=Te.extends(h_,function(a,c,f){Te.apply(this,[h_,c,f]),this.what=a}),m_="closure",S0=Te.extends(m_,function(a,c,f,p,g,A,D,N){Te.apply(this,[m_,D,N]),this.uses=f,this.arguments=a,this.byref=c,this.type=p,this.nullable=g,this.isStatic=A||!1,this.body=null,this.attrGroups=[]}),ql=tt.extends("comment",function(a,c,f,p){tt.apply(this,[a,f,p]),this.value=c}),g_="commentblock",x0=ql.extends(g_,function(a,c,f){ql.apply(this,[g_,a,c,f])}),T_="commentline",E0=ql.extends(T_,function(a,c,f){ql.apply(this,[T_,a,c,f])}),__="constant",R0=tt.extends(__,function(a,c,f,p){tt.apply(this,[__,f,p]),this.name=a,this.value=c}),y_="continue",k0=U.extends(y_,function(a,c,f){U.apply(this,[y_,c,f]),this.level=a}),b_="declare",lu=me.extends(b_,function(a,c,f,p,g){me.apply(this,[b_,c,p,g]),this.directives=a,this.mode=f});lu.MODE_SHORT="short",lu.MODE_BLOCK="block",lu.MODE_NONE="none";var O0=lu,N_="declaredirective",w0=tt.extends(N_,function(a,c,f,p){tt.apply(this,[N_,f,p]),this.key=a,this.value=c}),L0=U.extends("do",function(a,c,f,p){U.apply(this,["do",f,p]),this.test=a,this.body=c}),v_="echo",D0=U.extends(v_,function(a,c,f,p){U.apply(this,[v_,f,p]),this.shortForm=c,this.expressions=a}),I_="empty",F0=Te.extends(I_,function(a,c,f){Te.apply(this,[I_,c,f]),this.expression=a}),P_="encapsed",Ul=Ae.extends(P_,function(a,c,f,p,g){Ae.apply(this,[P_,a,c,p,g]),this.type=f});Ul.TYPE_STRING="string",Ul.TYPE_SHELL="shell",Ul.TYPE_HEREDOC="heredoc",Ul.TYPE_OFFSET="offset";var M0=Ul,C_="encapsedpart",V0=Te.extends(C_,function(a,c,f,p,g){Te.apply(this,[C_,p,g]),this.expression=a,this.syntax=c,this.curly=f}),A_="entry",B0=Te.extends(A_,function(a,c,f,p,g,A){Te.apply(this,[A_,g,A]),this.key=a,this.value=c,this.byRef=f,this.unpack=p}),S_="error",q0=tt.extends(S_,function(a,c,f,p,g,A){tt.apply(this,[S_,g,A]),this.message=a,this.token=c,this.line=f,this.expected=p}),x_="eval",U0=Te.extends(x_,function(a,c,f){Te.apply(this,[x_,c,f]),this.source=a}),E_="exit",j0=Te.extends(E_,function(a,c,f,p){Te.apply(this,[E_,f,p]),this.expression=a,this.useDie=c}),R_="expressionstatement",G0=U.extends(R_,function(a,c,f){U.apply(this,[R_,c,f]),this.expression=a}),W0=U.extends("for",function(a,c,f,p,g,A,D){U.apply(this,["for",A,D]),this.init=a,this.test=c,this.increment=f,this.shortForm=g,this.body=p}),k_="foreach",H0=U.extends(k_,function(a,c,f,p,g,A,D){U.apply(this,[k_,A,D]),this.source=a,this.key=c,this.value=f,this.shortForm=g,this.body=p}),O_="function",fp=un.extends(O_,function(a,c,f,p,g,A,D){un.apply(this,[O_,a,A,D]),this.arguments=c,this.byref=f,this.type=p,this.nullable=g,this.body=null,this.attrGroups=[]}),w_="global",Y0=U.extends(w_,function(a,c,f){U.apply(this,[w_,c,f]),this.items=a}),L_="goto",K0=U.extends(L_,function(a,c,f){U.apply(this,[L_,c,f]),this.label=a}),D_="halt",$0=U.extends(D_,function(a,c,f){U.apply(this,[D_,c,f]),this.after=a}),F_="identifier",z0=tt.extends(F_,function(a,c,f){tt.apply(this,[F_,c,f]),this.name=a}),Q0=U.extends("if",function(a,c,f,p,g,A){U.apply(this,["if",g,A]),this.test=a,this.body=c,this.alternate=f,this.shortForm=p}),M_="include",X0=Te.extends(M_,function(a,c,f,p,g){Te.apply(this,[M_,p,g]),this.once=a,this.require=c,this.target=f}),V_="inline",J0=Ae.extends(V_,function(a,c,f,p){Ae.apply(this,[V_,a,c,f,p])}),B_="interface",Z0=un.extends(B_,function(a,c,f,p,g,A){un.apply(this,[B_,a,g,A]),this.extends=c,this.body=f,this.attrGroups=p}),q_="isset",eO=Te.extends(q_,function(a,c,f){Te.apply(this,[q_,c,f]),this.variables=a}),U_="label",tO=U.extends(U_,function(a,c,f){U.apply(this,[U_,c,f]),this.name=a}),j_="list",rO=Te.extends(j_,function(a,c,f,p){Te.apply(this,[j_,f,p]),this.items=a,this.shortForm=c}),G_="lookup",Zi=Te.extends(G_,function(a,c,f,p,g){Te.apply(this,[a||G_,p,g]),this.what=c,this.offset=f}),W_="magic",nO=Ae.extends(W_,function(a,c,f,p){Ae.apply(this,[W_,a,c,f,p])}),H_="match",iO=Te.extends(H_,function(a,c,f,p){Te.apply(this,[H_,f,p]),this.cond=a,this.arms=c}),Y_="matcharm",sO=Te.extends(Y_,function(a,c,f,p){Te.apply(this,[Y_,f,p]),this.conds=a,this.body=c}),K_="method",aO=fp.extends(K_,function(){fp.apply(this,arguments),this.kind=K_}),$_="reference",ei=tt.extends($_,function(a,c,f){tt.apply(this,[a||$_,c,f])}),z_="name",jl=ei.extends(z_,function a(c,f,p,g){ei.apply(this,[z_,p,g]),f?this.resolution=a.RELATIVE_NAME:c.length===1?this.resolution=a.UNQUALIFIED_NAME:c[0]?this.resolution=a.QUALIFIED_NAME:this.resolution=a.FULL_QUALIFIED_NAME,this.name=c.join("\\")});jl.UNQUALIFIED_NAME="uqn",jl.QUALIFIED_NAME="qn",jl.FULL_QUALIFIED_NAME="fqn",jl.RELATIVE_NAME="rn";var oO=jl,Q_="namespace",lO=me.extends(Q_,function(a,c,f,p,g){me.apply(this,[Q_,c,p,g]),this.name=a,this.withBrackets=f||!1}),X_="namedargument",cO=Te.extends(X_,function(a,c,f,p){Te.apply(this,[X_,f,p]),this.name=a,this.value=c}),uO=Te.extends("new",function(a,c,f,p){Te.apply(this,["new",f,p]),this.what=a,this.arguments=c}),J_="noop",fO=tt.extends(J_,function(a,c){tt.apply(this,[J_,a,c])}),Z_="nowdoc",dO=Ae.extends(Z_,function(a,c,f,p,g){Ae.apply(this,[Z_,a,c,p,g]),this.label=f}),ey="nullkeyword",pO=tt.extends(ey,function(a,c,f){tt.apply(this,[ey,c,f]),this.raw=a}),ty="nullsafepropertylookup",hO=Zi.extends(ty,function(a,c,f,p){Zi.apply(this,[ty,a,c,f,p])}),ry="number",mO=Ae.extends(ry,function(a,c,f,p){Ae.apply(this,[ry,a,c,f,p])}),ny="offsetlookup",gO=Zi.extends(ny,function(a,c,f,p){Zi.apply(this,[ny,a,c,f,p])}),iy="parameter",TO=un.extends(iy,function(a,c,f,p,g,A,D,N,V){un.apply(this,[iy,a,N,V]),this.value=f,this.type=c,this.byref=p,this.variadic=g,this.nullable=A,this.flags=D||0,this.attrGroups=[]}),sy="parentreference",_O=ei.extends(sy,function(a,c,f){ei.apply(this,[sy,c,f]),this.raw=a}),ay="post",yO=W.extends(ay,function(a,c,f,p){W.apply(this,[ay,f,p]),this.type=a,this.what=c}),bO=W.extends("pre",function(a,c,f,p){W.apply(this,["pre",f,p]),this.type=a,this.what=c}),oy="print",NO=Te.extends(oy,function(a,c,f){Te.apply(this,[oy,c,f]),this.expression=a}),ly="program",vO=me.extends(ly,function(a,c,f,p,g,A){me.apply(this,[ly,a,g,A]),this.errors=c,f&&(this.comments=f),p&&(this.tokens=p)}),cy="property",IO=U.extends(cy,function(a,c,f,p,g,A,D){U.apply(this,[cy,A,D]),this.name=a,this.value=c,this.nullable=f,this.type=p,this.attrGroups=g}),uy="propertylookup",PO=Zi.extends(uy,function(a,c,f,p){Zi.apply(this,[uy,a,c,f,p])}),fy="propertystatement",dy=U.extends(fy,function(a,c,f,p,g){U.apply(this,[fy,p,g]),this.properties=c,this.parseFlags(f)});dy.prototype.parseFlags=function(a){a[0]===-1?this.visibility="":a[0]===null?this.visibility=null:a[0]===0?this.visibility="public":a[0]===1?this.visibility="protected":a[0]===2&&(this.visibility="private"),this.isStatic=a[1]===1};var CO=dy,py="retif",AO=Te.extends(py,function(a,c,f,p,g){Te.apply(this,[py,p,g]),this.test=a,this.trueExpr=c,this.falseExpr=f}),hy="return",SO=U.extends(hy,function(a,c,f){U.apply(this,[hy,c,f]),this.expr=a}),my="selfreference",xO=ei.extends(my,function(a,c,f){ei.apply(this,[my,c,f]),this.raw=a}),gy="silent",EO=Te.extends(gy,function(a,c,f){Te.apply(this,[gy,c,f]),this.expr=a}),Ty="static",RO=U.extends(Ty,function(a,c,f){U.apply(this,[Ty,c,f]),this.variables=a}),_y="staticvariable",kO=tt.extends(_y,function(a,c,f,p){tt.apply(this,[_y,f,p]),this.variable=a,this.defaultValue=c}),yy="staticlookup",OO=Zi.extends(yy,function(a,c,f,p){Zi.apply(this,[yy,a,c,f,p])}),by="staticreference",wO=ei.extends(by,function(a,c,f){ei.apply(this,[by,c,f]),this.raw=a}),Ny="string",LO=Ae.extends(Ny,function(a,c,f,p,g,A){Ae.apply(this,[Ny,c,p,g,A]),this.unicode=f,this.isDoubleQuote=a}),vy="switch",DO=U.extends(vy,function(a,c,f,p,g){U.apply(this,[vy,p,g]),this.test=a,this.body=c,this.shortForm=f}),Iy="throw",FO=U.extends(Iy,function(a,c,f){U.apply(this,[Iy,c,f]),this.what=a}),Py="trait",MO=un.extends(Py,function(a,c,f,p){un.apply(this,[Py,a,f,p]),this.body=c}),Cy="traitalias",VO=tt.extends(Cy,function(a,c,f,p,g,A){tt.apply(this,[Cy,g,A]),this.trait=a,this.method=c,this.as=f,this.visibility="",p&&(p[0]===0?this.visibility="public":p[0]===1?this.visibility="protected":p[0]===2&&(this.visibility="private"))}),Ay="traitprecedence",BO=tt.extends(Ay,function(a,c,f,p,g){tt.apply(this,[Ay,p,g]),this.trait=a,this.method=c,this.instead=f}),Sy="traituse",qO=tt.extends(Sy,function(a,c,f,p){tt.apply(this,[Sy,f,p]),this.traits=a,this.adaptations=c}),UO=U.extends("try",function(a,c,f,p,g){U.apply(this,["try",p,g]),this.body=a,this.catches=c,this.always=f}),xy="typereference",Ey=ei.extends(xy,function(a,c,f,p){ei.apply(this,[xy,f,p]),this.name=a,this.raw=c});Ey.types=["int","float","string","bool","object","array","callable","iterable","void","static"];var jO=Ey,Ry="unary",GO=W.extends(Ry,function(a,c,f,p){W.apply(this,[Ry,f,p]),this.type=a,this.what=c}),ky="uniontype",WO=un.extends(ky,function(a,c,f){un.apply(this,[ky,null,c,f]),this.types=a}),Oy="unset",HO=U.extends(Oy,function(a,c,f){U.apply(this,[Oy,c,f]),this.variables=a}),wy="usegroup",YO=U.extends(wy,function(a,c,f,p,g){U.apply(this,[wy,p,g]),this.name=a,this.type=c,this.items=f}),Ly="useitem",dp=U.extends(Ly,function(a,c,f,p,g){U.apply(this,[Ly,p,g]),this.name=a,this.alias=c,this.type=f});dp.TYPE_CONST="const",dp.TYPE_FUNCTION="function";var KO=dp,Dy="variable",$O=Te.extends(Dy,function(a,c,f,p){Te.apply(this,[Dy,f,p]),this.name=a,this.curly=c||!1}),Fy="variadic",zO=Te.extends(Fy,function(a,c,f){Te.apply(this,[Fy,c,f]),this.what=a}),My="while",QO=U.extends(My,function(a,c,f,p,g){U.apply(this,[My,p,g]),this.test=a,this.body=c,this.shortForm=f}),Vy="yield",XO=Te.extends(Vy,function(a,c,f,p){Te.apply(this,[Vy,f,p]),this.value=a,this.key=c}),By="yieldfrom",JO=Te.extends(By,function(a,c,f){Te.apply(this,[By,c,f]),this.value=a}),Nt=function(a,c){this.withPositions=a,this.withSource=c};Nt.precedence={},[["or"],["xor"],["and"],["="],["?"],["??"],["||"],["&&"],["|"],["^"],["&"],["==","!=","===","!==","<=>"],["<","<=",">",">="],["<<",">>"],["+","-","."],["*","/","%"],["!"],["instanceof"],["cast","silent"],["**"]].forEach(function(a,c){a.forEach(function(f){Nt.precedence[f]=c+1})}),Nt.prototype.isRightAssociative=function(a){return a==="**"||a==="??"},Nt.prototype.swapLocations=function(a,c,f,p){this.withPositions&&(a.loc.start=c.loc.start,a.loc.end=f.loc.end,this.withSource&&(a.loc.source=p.lexer._input.substring(a.loc.start.offset,a.loc.end.offset)))},Nt.prototype.resolveLocations=function(a,c,f,p){this.withPositions&&(a.loc.start.offset>c.loc.start.offset&&(a.loc.start=c.loc.start),a.loc.end.offset<f.loc.end.offset&&(a.loc.end=f.loc.end),this.withSource&&(a.loc.source=p.lexer._input.substring(a.loc.start.offset,a.loc.end.offset)))},Nt.prototype.resolvePrecedence=function(a,c){var f,p,g;return a.kind==="call"?this.resolveLocations(a,a.what,a,c):a.kind==="propertylookup"||a.kind==="staticlookup"||a.kind==="offsetlookup"&&a.offset?this.resolveLocations(a,a.what,a.offset,c):a.kind==="bin"?a.right&&!a.right.parenthesizedExpression&&(a.right.kind==="bin"?(p=Nt.precedence[a.type],g=Nt.precedence[a.right.type],p&&g&&g<=p&&(a.type!==a.right.type||!this.isRightAssociative(a.type))&&(f=a.right,a.right=a.right.left,this.swapLocations(a,a.left,a.right,c),f.left=this.resolvePrecedence(a,c),this.swapLocations(f,f.left,f.right,c),a=f)):a.right.kind==="retif"&&(p=Nt.precedence[a.type],g=Nt.precedence["?"],p&&g&&g<=p&&(f=a.right,a.right=a.right.test,this.swapLocations(a,a.left,a.right,c),f.test=this.resolvePrecedence(a,c),this.swapLocations(f,f.test,f.falseExpr,c),a=f))):a.kind!=="silent"&&a.kind!=="cast"||!a.expr||a.expr.parenthesizedExpression?a.kind==="unary"?a.what&&!a.what.parenthesizedExpression&&(a.what.kind==="bin"?(f=a.what,a.what=a.what.left,this.swapLocations(a,a,a.what,c),f.left=this.resolvePrecedence(a,c),this.swapLocations(f,f.left,f.right,c),a=f):a.what.kind==="retif"&&(f=a.what,a.what=a.what.test,this.swapLocations(a,a,a.what,c),f.test=this.resolvePrecedence(a,c),this.swapLocations(f,f.test,f.falseExpr,c),a=f)):a.kind==="retif"?a.falseExpr&&a.falseExpr.kind==="retif"&&!a.falseExpr.parenthesizedExpression&&(f=a.falseExpr,a.falseExpr=f.test,this.swapLocations(a,a.test,a.falseExpr,c),f.test=this.resolvePrecedence(a,c),this.swapLocations(f,f.test,f.falseExpr,c),a=f):a.kind==="assign"?a.right&&a.right.kind==="bin"&&!a.right.parenthesizedExpression&&(p=Nt.precedence["="],g=Nt.precedence[a.right.type],p&&g&&g<p&&(f=a.right,a.right=a.right.left,f.left=a,this.swapLocations(f,f.left,a.right,c),a=f)):a.kind==="expressionstatement"&&this.swapLocations(a,a.expression,a,c):a.expr.kind==="bin"?(f=a.expr,a.expr=a.expr.left,this.swapLocations(a,a,a.expr,c),f.left=this.resolvePrecedence(a,c),this.swapLocations(f,f.left,f.right,c),a=f):a.expr.kind==="retif"&&(f=a.expr,a.expr=a.expr.test,this.swapLocations(a,a,a.expr,c),f.test=this.resolvePrecedence(a,c),this.swapLocations(f,f.test,f.falseExpr,c),a=f),a},Nt.prototype.prepare=function(a,c,f){var p=null;(this.withPositions||this.withSource)&&(p=f.position());var g=this,A=function D(){var N=null,V=Array.prototype.slice.call(arguments);if(V.push(c),g.withPositions||g.withSource){var B=null;g.withSource&&(B=f.lexer._input.substring(p.offset,f.prev[2])),N=new vs(B,p,new C(f.prev[0],f.prev[1],f.prev[2])),V.push(N)}a||(a=V.shift());var E=g[a];if(typeof E!="function")throw new Error('Undefined node "'+a+'"');var we=Object.create(E.prototype);return E.apply(we,V),D.instance=we,D.trailingComments&&(we.trailingComments=D.trailingComments),typeof D.postBuild=="function"&&D.postBuild(we),f.debug&&delete Nt.stack[D.stackUid],g.resolvePrecedence(we,f)};return f.debug&&(Nt.stack||(Nt.stack={},Nt.stackUid=1),Nt.stack[++Nt.stackUid]={position:p,stack:new Error().stack.split(`
`).slice(3,5)},A.stackUid=Nt.stackUid),A.setTrailingComments=function(D){A.instance?A.instance.setTrailingComments(D):A.trailingComments=D},A.destroy=function(D){c&&(D?D.leadingComments?D.leadingComments=c.concat(D.leadingComments):D.leadingComments=c:f._docIndex=f._docs.length-c.length),f.debug&&delete Nt.stack[A.stackUid]},A},Nt.prototype.checkNodes=function(){var a=[];for(var c in Nt.stack)Nt.stack.hasOwnProperty(c)&&a.push(Nt.stack[c]);return Nt.stack={},a},[Vl,Xi,oo,lo,j,I,O,me,$t,rt,co,b0,N0,v0,I0,P0,C0,A0,S0,ql,x0,E0,R0,up,k0,un,O0,w0,L0,D0,F0,M0,V0,B0,q0,U0,j0,Te,G0,W0,H0,fp,Y0,K0,$0,z0,Q0,X0,J0,Z0,eO,tO,rO,Ae,Zi,nO,iO,sO,aO,oO,lO,cO,uO,tt,fO,dO,pO,hO,mO,gO,W,TO,_O,yO,bO,NO,vO,IO,PO,CO,ei,AO,SO,xO,EO,U,RO,kO,OO,wO,LO,DO,FO,MO,VO,BO,qO,UO,jO,GO,WO,HO,YO,KO,$O,zO,QO,XO,JO].forEach(function(a){Nt.prototype[a.kind]=a});var qy=Nt;function pp(a,c){for(var f=Object.keys(a),p=f.length;p--;){var g=f[p],A=a[g];A===null?delete c[g]:typeof A=="function"?c[g]=A.bind(c):Array.isArray(A)?c[g]=Array.isArray(c[g])?c[g].concat(A):A:c[g]=typeof A=="object"&&typeof c[g]=="object"?pp(A,c[g]):A}return c}var fn=function(a){if(typeof this=="function")return new this(a);if(this.tokens=io,this.lexer=new _(this),this.ast=new qy,this.parser=new no(this.lexer,this.ast),a&&typeof a=="object"){if(a.parser&&(a.lexer||(a.lexer={}),a.parser.version)){if(typeof a.parser.version=="string"){var c=a.parser.version.split(".");if(c=100*parseInt(c[0])+parseInt(c[1]),isNaN(c))throw new Error("Bad version number : "+a.parser.version);a.parser.version=c}else if(typeof a.parser.version!="number")throw new Error("Expecting a number for version");if(a.parser.version<500||a.parser.version>900)throw new Error("Can only handle versions between 5.x to 8.x")}pp(a,this),this.lexer.version=this.parser.version}},hp=function(a){return typeof a.write=="function"?a.toString():a};fn.create=function(a){return new fn(a)},fn.parseEval=function(a,c){return new fn(c).parseEval(a)},fn.prototype.parseEval=function(a){return this.lexer.mode_eval=!0,this.lexer.all_tokens=!1,a=hp(a),this.parser.parse(a,"eval")},fn.parseCode=function(a,c,f){return typeof c!="object"||f||(f=c,c="unknown"),new fn(f).parseCode(a,c)},fn.prototype.parseCode=function(a,c){return this.lexer.mode_eval=!1,this.lexer.all_tokens=!1,a=hp(a),this.parser.parse(a,c)},fn.tokenGetAll=function(a,c){return new fn(c).tokenGetAll(a)},fn.prototype.tokenGetAll=function(a){this.lexer.mode_eval=!1,this.lexer.all_tokens=!0,a=hp(a);var c=this.lexer.EOF,f=this.tokens.values;this.lexer.setInput(a);for(var p=this.lexer.lex()||c,g=[];p!=c;){var A=this.lexer.yytext;f.hasOwnProperty(p)&&(A=[f[p],A,this.lexer.yylloc.first_line]),g.push(A),p=this.lexer.lex()||c}return g};var da=fn,ZO=io,ew=_,tw=qy,rw=no,nw=pp,iw=fn;da.tokens=ZO,da.lexer=ew,da.AST=tw,da.parser=rw,da.combine=nw,da.default=iw;var Uy=function(a,c,f){var p=f&&f.parentParser==="markdown";if(!a&&p)return"";a=a.replace(/\?>\r?\n<\?/g,`?>
___PSEUDO_INLINE_PLACEHOLDER___<?`);var g,A=new da({parser:{extractDoc:!0},ast:{withPositions:!0,withSource:!0}}),D=a.indexOf("<?php")!==-1,N=p&&!D;try{g=N?A.parseEval(a):A.parseCode(a)}catch(V){throw V instanceof SyntaxError&&"lineNumber"in V&&(V.loc={start:{line:V.lineNumber,column:V.columnNumber}},delete V.lineNumber,delete V.columnNumber),V}return g.extra={parseAsEval:N},g.comments.forEach(function(V){V.value[V.value.length-1]==="\r"&&(V.value=V.value.slice(0,-1),V.loc.end.offset=V.loc.end.offset-1),V.value[V.value.length-1]===`
`&&(V.value=V.value.slice(0,-1),V.loc.end.offset=V.loc.end.offset-1)}),g},uo=n.default.util,sw=uo.hasNewline,aw=uo.skipEverythingButNewLine,ow=uo.skipNewline,lw=uo.isNextLineEmpty,cw=uo.isPreviousLineEmpty,uw=uo.getNextNonSpaceNonCommentCharacterIndex,fw=n.default.version;function mp(a,c){return parseInt(fw[0])>1?a[c]:a}var jy={};function gp(a){return jy[a]}[["or"],["xor"],["and"],["=","+=","-=","*=","**=","/=",".=","%=","&=","|=","^=","<<=",">>="],["??"],["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!==","<>","<=>"],["<",">","<=",">="],[">>","<<"],["+","-","."],["*","/","%"],["!"],["instanceof"],["++","--","~"],["**"]].forEach(function(a,c){a.forEach(function(f){jy[f]=c})});var Gy=["==","!=","===","!==","<>","<=>"],cu=["*","/","%"],Tp=[">>","<<"];function Wy(a){return["block","program","namespace","class","interface","trait","traituse","declare"].includes(a.kind)}function Hy(a){var c=a.body;return c?(c.kind==="block"&&(c=c.children),c[0]):null}function Ps(a){var c=a.children||a.body||a.adaptations;return Array.isArray(c)?c:null}function Yy(a){var c=a.getParentNode();return c?Ps(c):null}function uu(a){return a.length>0?a[a.length-1]:null}function _p(a){var c=a.getValue();if(c.kind==="program"){var f=Ps(c);return!(!f||f.length===0)&&f[0].kind==="inline"}if(c.kind==="switch"){if(!c.body)return!1;var p=Ps(c.body);if(p.length===0)return!1;var g=Q(p,1)[0];if(!g.body)return!1;var A=Ps(g.body);return A.length!==0&&A[0].kind==="inline"}var D=Hy(c);return!!D&&D.kind==="inline"}var Ky=["__construct","__destruct","__call","__callStatic","__get","__set","__isset","__unset","__sleep","__wakeup","__toString","__invoke","__set_state","__clone","__debugInfo"].reduce(function(a,c){return a[c.toLowerCase()]=c,a},{}),Je={printNumber:function(a){return a.toLowerCase().replace(/^([+-]?[\d.]+e)(?:\+|(-))?0*(\d)/,"$1$2$3").replace(/^([+-]?[\d.]+)e[+-]?0+$/,"$1").replace(/^([+-])?\./,"$10.").replace(/(\.\d+?)0+(?=e|$)/,"$1").replace(/\.(?=e)/,"")},getPrecedence:gp,isBitwiseOperator:function(a){return!!Tp[a]||a==="|"||a==="^"||a==="&"},shouldFlatten:function(a,c){return gp(c)===gp(a)&&a!=="**"&&(!Gy.includes(a)||!Gy.includes(c))&&!(c==="%"&&cu.includes(a)||a==="%"&&cu.includes(c))&&(c===a||!cu.includes(c)||!cu.includes(a))&&(!Tp.includes(a)||!Tp.includes(c))},nodeHasStatement:Wy,getNodeListProperty:Ps,getParentNodeListProperty:Yy,getLast:uu,getPenultimate:function(a){return a.length>1?a[a.length-2]:null},isLastStatement:function(a){var c=Yy(a);if(!c)return!0;var f=a.getValue();return c[c.length-1]===f},getBodyFirstChild:Hy,lineShouldEndWithSemicolon:function(a){var c=a.getValue(),f=a.getParentNode();if(!f)return!1;if(["for","foreach","while","do","if","switch"].includes(f.kind)&&c.kind!=="block"&&c.kind!=="if"&&(f.body===c||f.alternate===c))return!0;if(!Wy(f)||c.kind==="echo"&&c.shortForm)return!1;if(c.kind==="traituse")return!c.adaptations;if(c.kind==="method"&&c.isAbstract)return!0;if(c.kind==="method"){var p=a.getParentNode();if(p&&p.kind==="interface")return!0}return["expressionstatement","do","usegroup","classconstant","propertystatement","traitprecedence","traitalias","goto","constantstatement","global","static","echo","unset","return","break","continue","throw"].includes(c.kind)},fileShouldEndWithHardline:function(a){var c=a.getValue(),f=c.kind==="program",p=c.children&&uu(c.children);if(!f||p&&["halt","inline"].includes(p.kind))return!1;if(p&&(p.kind==="declare"||p.kind==="namespace")){var g=p.children.length>0&&uu(p.children);if(g&&["halt","inline"].includes(g.kind))return!1}return!0},maybeStripLeadingSlashFromUse:function(a){var c=a.replace(/^\\/,"");return c.indexOf("\\")!==-1?c:a},hasDanglingComments:function(a){return a.comments&&a.comments.some(function(c){return!c.leading&&!c.trailing})},hasLeadingComment:function(a){return a.comments&&a.comments.some(function(c){return c.leading})},hasTrailingComment:function(a){return a.comments&&a.comments.some(function(c){return c.trailing})},docShouldHaveTrailingNewline:function a(c){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,p=c.getNode(f),g=c.getNode(f+1),A=c.getNode(f+2);if(!g)return!1;if(A&&["call","new","echo"].includes(A.kind)&&!["call","array"].includes(g.kind)||g.kind==="parameter"){var D=A.arguments.length-1,N=A.arguments.indexOf(g);return N!==D}if(A&&A.kind==="for"){var V=A.init.indexOf(g);if(V!==-1)return V!==A.init.length-1;var B=A.test.indexOf(g);if(B!==-1)return B!==A.test.length-1;var E=A.increment.indexOf(g);if(E!==-1)return E!==A.increment.length-1}if(g.kind==="bin")return g.left===p||a(c,f+1);if(g.kind==="case"&&g.test===p)return!0;if(g.kind==="staticvariable"){var we=A.variables.length-1,Le=A.variables.indexOf(g);return Le!==we}if(g.kind==="entry"){if(g.key===p)return!0;var nt=A.items.length-1,yt=A.items.indexOf(g);return yt!==nt}if(["call","new"].includes(g.kind)){var Re=g.arguments.length-1,pt=g.arguments.indexOf(p);return pt!==Re}if(g.kind==="echo"){var Xe=g.expressions.length-1,Wt=g.expressions.indexOf(p);return Wt!==Xe}if(g.kind==="array"){var qt=g.items.length-1,ht=g.items.indexOf(p);return ht!==qt}return g.kind==="retif"&&a(c,f+1)},isLookupNode:function(a){return a.kind==="propertylookup"||a.kind==="staticlookup"||a.kind==="offsetlookup"},isFirstChildrenInlineNode:_p,shouldPrintHardLineAfterStartInControlStructure:function(a){var c=a.getValue();return!["try","catch"].includes(c.kind)&&_p(a)},shouldPrintHardLineBeforeEndInControlStructure:function(a){var c=a.getValue();if(["try","catch"].includes(c.kind))return!0;if(c.kind==="switch"){var f=Ps(c.body);if(f.length===0)return!0;var p=uu(f);if(!p.body)return!0;var g=Ps(p.body);return g.length===0||g[0].kind!=="inline"}return!_p(a)},getAlignment:function(a){var c=a.split(`
`).pop();return c.length-c.trimLeft().length+1},isProgramLikeNode:function(a){return["program","declare","namespace"].includes(a.kind)},isReferenceLikeNode:function(a){return["name","parentreference","selfreference","staticreference"].includes(a.kind)},getNodeKindIncludingLogical:function(a){return a.kind==="bin"&&["||","&&"].includes(a.type)?"logical":a.kind},useDoubleQuote:function(a,c){if(a.isDoubleQuote===c.singleQuote){var f=a.raw.slice(a.raw[0]==="b"?2:1,-1).match(/\\([$nrtfve]|[xX][0-9a-fA-F]{1,2}|[0-7]{1,3}|u{([0-9a-fA-F]+)})|\r?\n|'|"|\$/);return a.isDoubleQuote?f:!f}return a.isDoubleQuote},hasEmptyBody:function(a){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"body",f=a.getValue();return f[c]&&f[c].children&&f[c].children.length===0&&(!f[c].comments||f[c].comments.length===0)},isNextLineEmptyAfterNamespace:function(a,c,f){var p=f(c);return p=aw(a,p),p=ow(a,p),sw(a,p)},shouldPrintHardlineBeforeTrailingComma:function(a){return a.kind==="nowdoc"||a.kind==="encapsed"&&a.type==="heredoc"||a.kind==="entry"&&(a.value.kind==="nowdoc"||a.value.kind==="encapsed"&&a.value.type==="heredoc")},isDocNode:function(a){return a.kind==="nowdoc"||a.kind==="encapsed"&&a.type==="heredoc"},getAncestorNode:function(a,c){var f=function(p,g){for(var A,D=[].concat(g),N=-1;A=p.getParentNode(++N);)if(D.indexOf(A.kind)!==-1)return N;return-1}(a,c);return f===-1?null:a.getParentNode(f)},getNextNode:function(a,c){var f=a.getParentNode(),p=Ps(f);if(!p)return null;var g=p.indexOf(c);return g===-1?null:f.children[g+1]},normalizeMagicMethodName:function(a){var c=a.toLowerCase();return Ky[c]?Ky[c]:a},isPreviousLineEmpty:function(a,c,f){return cw(a,c,mp(f,"locStart"))},isNextLineEmpty:function(a,c,f){return lw(a,c,mp(f,"locEnd"))},getNextNonSpaceNonCommentCharacterIndex:function(a,c,f){return uw(a,c,mp(f,"locEnd"))}},fo=n.default.util,ti=fo.addLeadingComment,Jr=fo.addDanglingComment,ri=fo.addTrailingComment,dw=fo.skipNewline,fu=fo.hasNewline,pw=fo.hasNewlineInRange,pa=n.default.doc.builders,Cs=pa.concat,$y=pa.join,hw=pa.indent,ki=pa.hardline,zy=pa.cursor,Qy=pa.lineSuffix,mw=pa.breakParent,Gl=Je.getNextNonSpaceNonCommentCharacterIndex,gw=Je.isNextLineEmpty,Tw=Je.isPreviousLineEmpty,_w=Je.isLookupNode;function du(a,c){var f=a.children;f.length===0?Jr(a,c):ti(f[0],c)}function yp(a,c){a.kind==="block"?du(a,c):ti(a,c)}function Xy(a,c,f,p,g,A){var D=Gl(a,g,A),N=a.charAt(D);return c&&c.kind==="identifier"&&f&&(f.kind==="function"||f.kind==="method")&&N===")"?(ri(f,g),!0):!(!f||f.kind!=="function"&&f.kind!=="method"||!p||p.kind!=="block")&&(du(p,g),!0)}function bp(a,c,f,p,g,A){if(!f||f.kind!=="if"||!p)return!1;var D=Gl(a,g,A);return a.charAt(D)===")"?(ri(c,g),!0):c===f.body&&p===f.alternate?(Jr(f,g),!0):p.kind==="if"?(yp(p.body,g),!0):f.body===p&&(ti(p,g),!0)}function Np(a,c,f){if(a&&["class","interface","trait"].includes(a.kind)){if(c&&a.extends){if(Array.isArray(a.extends)){if(a.extends.some(function(p){if(c&&c===p)return Jr(c,f),!0}))return!0}else if(c===a.extends)return Jr(c,f),!0}if(c&&a.implements&&a.implements.some(function(p){if(c&&c===p)return Jr(c,f),!0}))return!0;if(!(a.body&&a.body.length>0))return Jr(a,f),!0}return!!(c&&c.kind==="class"&&c.isAnonymous&&c.leadingComments&&f.kind==="commentblock")}function vp(a,c,f,p,g){if(c&&(c.kind==="function"||c.kind==="method")){for(var A=0,D=0;D<c.arguments.length;D++)A=g.locEnd(c.arguments[D])>A?g.locEnd(c.arguments[D]):A;var N=c.body&&g.locStart(p)>A&&g.locEnd(p)<g.locStart(c.body),V=Gl(a,p,g);if(c.type&&N&&a.charAt(V)!==")")return g.locEnd(p)<g.locStart(c.type)?(Jr(c.type,p),!0):(ri(c.type,p),!0)}return!1}function Ip(a,c,f,p,g){return!(!f||!["function","method","parameter"].includes(f.kind))&&c.kind==="typereference"&&p.kind==="identifier"&&(ri(c,g),!0)}function Jy(a,c){return!(!a||!["label","goto"].includes(a.kind))&&(ri(a,c),!0)}function Pp(a,c,f,p){return f&&f.kind==="inline"?(f.leadingComments||(f.leadingComments=[]),f.leadingComments.includes(p)||f.leadingComments.push(p),!0):!(a||f||!c||c.kind!=="inline")&&(Jr(c,p),!0)}function Zy(a,c,f){return!(!a||a.kind!=="try"||!c)&&(c.kind==="block"?(du(c,f),!0):c.kind==="try"?(yp(c.always,f),!0):c.kind==="catch"&&(yp(c.body,f),!0))}function eb(a,c,f,p){return f||c||!a||a.kind!=="namespace"||a.withBrackets?!(c||!a||a.kind!=="namespace"||a.withBrackets)&&(Jr(a,p),!0):(ri(a,p),!0)}function tb(a,c,f,p){return!(!a||a.kind!=="declare")&&(!c||c.kind!=="noop")&&(f&&a.directives[0]!==f?!(!f||!c)&&(ti(f,p),!0):(a.mode==="none"?ri(a,p):Jr(a,p),!0))}function Cp(a,c,f,p,g,A){if(!f||f.kind!=="while"||!p)return!1;var D=Gl(a,g,A);return a.charAt(D)===")"?(ri(c,g),!0):p.kind==="block"&&(du(p,g),!0)}function Ap(a,c){return a.getValue().printed=!0,c.printer.printComment(a,c)}function rb(a,c,f){return a.getNode()===c.cursorNode&&a.getValue()?Cs([zy,f,zy]):f}var $e={handleOwnLineComment:function(a,c,f){var p=a.precedingNode,g=a.enclosingNode,A=a.followingNode;return Xy(c,p,g,A,a,f)||function(D,N,V){return D&&_w(D)&&N&&["identifier","variable","encapsed"].includes(N.kind)?(ti(D,V),!0):!1}(g,A,a)||bp(c,p,g,A,a,f)||Cp(c,p,g,A,a,f)||Zy(g,A,a)||Np(g,A,a)||Ip(c,p,g,A,a)||vp(c,g,A,a,f)||function(D,N,V,B){return!V&&D&&(D.kind==="for"||D.kind==="foreach")?(D.body&&D.body.kind!=="block"?ti(V,B):ti(D,B),!0):!1}(g,0,A,a)||Pp(g,p,A,a)||tb(g,p,A,a)},handleEndOfLineComment:function(a,c,f){var p=a.precedingNode,g=a.enclosingNode,A=a.followingNode;return function(D,N,V,B,E){return!N&&!B&&V&&V.kind==="array"?(ri(V,E),!0):!1}(0,p,g,A,a)||function(D,N,V,B,E){return V&&V.kind==="return"&&!V.expr?(ri(V,E),!0):!1}(0,0,g,0,a)||Xy(c,p,g,A,a,f)||function(D,N,V,B,E,we){var Le=N&&!pw(E,we.locEnd(N),we.locStart(B));return(!N||!Le)&&D&&D.kind==="retif"&&V?(ti(V,B),!0):!1}(g,p,A,a,c,f)||bp(c,p,g,A,a,f)||Cp(c,p,g,A,a,f)||Zy(g,A,a)||Np(g,A,a)||Ip(c,p,g,A,a)||vp(c,g,A,a,f)||function(D,N){return D&&D.kind==="entry"?(ti(D,N),!0):!1}(g,a)||function(D,N,V){return N&&N.kind==="call"&&D&&N.what===D&&N.arguments.length>0?(ti(N.arguments[0],V),!0):!1}(p,g,a)||function(D,N,V){if(D&&D.kind==="assign"&&N){var B=D.loc.start.offset+D.loc.source.indexOf("=");if(V.loc.start.offset>B)return ti(N,V),!0}return!1}(g,A,a)||Pp(g,p,A,a)||eb(g,p,A,a)||tb(g,p,A,a)||Jy(g,a)},handleRemainingComment:function(a,c,f){var p=a.precedingNode,g=a.enclosingNode,A=a.followingNode;return bp(c,p,g,A,a,f)||Cp(c,p,g,A,a,f)||function(D,N,V,B){var E=Gl(D,V,B);return D.charAt(E)!==")"?!1:N&&(N.kind==="function"||N.kind==="closure"||N.kind==="method"||N.kind==="call"||N.kind==="new")&&N.arguments.length===0?(Jr(N,V),!0):!1}(c,g,a,f)||Np(g,A,a)||function(D,N,V){return D&&D.kind==="traituse"&&D.adaptations&&!D.adaptations.length?(Jr(D,V),!0):!1}(g,0,a)||Ip(c,p,g,A,a)||vp(c,g,A,a,f)||Jy(g,a)||function(D,N,V,B){return N&&N.kind==="halt"?(Jr(N,B),!0):D&&D.kind==="halt"?(Jr(D,B),!0):!1}(p,g,0,a)||function(D,N){return D&&(D.kind==="continue"||D.kind==="break")&&!D.label?(ri(D,N),!0):!1}(g,a)||Pp(g,p,A,a)||eb(g,p,A,a)},getCommentChildNodes:function(a){return typeof a!="object"?[]:function(c){return Object.keys(c).filter(function(f){return f!=="kind"&&f!=="loc"&&f!=="errors"&&f!=="extra"&&f!=="comments"&&f!=="leadingComments"&&f!=="enclosingNode"&&f!=="precedingNode"&&f!=="followingNode"}).map(function(f){return c[f]})}(a)},canAttachComment:function(a){return a.kind&&a.kind!=="commentblock"&&a.kind!=="commentline"},isBlockComment:function(a){return a.kind==="commentblock"},printDanglingComments:function(a,c,f,p){var g=[],A=a.getValue();return A&&A.comments?(a.each(function(D){var N=D.getValue();!N||N.leading||N.trailing||p&&!p(N)||g.push(Ap(D,c))},"comments"),g.length===0?"":f?$y(ki,g):hw(Cs([ki,$y(ki,g)]))):""},hasLeadingComment:function(a){return a.comments&&a.comments.some(function(c){return c.leading})},hasTrailingComment:function(a){return a.comments&&a.comments.some(function(c){return c.trailing})},hasLeadingOwnLineComment:function(a,c,f){return c.comments&&c.comments.some(function(p){return p.leading&&fu(a,f.locEnd(p))})},printComments:function(a,c){var f=[];return a.forEach(function(p,g,A){p.printed=!0;var D=A.length===g+1;f.push(p.value),D||f.push(ki),gw(c.originalText,p,c)&&!D&&f.push(ki)}),Cs(f)},printAllComments:function(a,c,f,p){var g=a.getValue(),A=c(a),D=g&&g.comments;if(!D||D.length===0)return rb(a,f,A);var N=[],V=[p?";":"",A];return a.each(function(B){var E=B.getValue(),we=E.leading,Le=E.trailing;if(we){var nt=function(Re,pt,Xe){var Wt=Re.getValue(),qt=Ap(Re,Xe);if(!qt)return"";var ht=Xe.printer.isBlockComment&&Xe.printer.isBlockComment(Wt);return Cs(ht?[qt,fu(Xe.originalText,Xe.locEnd(Wt))?ki:" "]:[qt,ki])}(B,0,f);if(!nt)return;N.push(nt);var yt=f.originalText;fu(yt,dw(yt,f.locEnd(E)))&&N.push(ki)}else Le&&V.push(function(Re,pt,Xe){var Wt=Re.getValue(),qt=Ap(Re,Xe);if(!qt)return"";var ht=Xe.printer.isBlockComment&&Xe.printer.isBlockComment(Wt);if(fu(Xe.originalText,Xe.locStart(Wt),{backwards:!0})){var Ge=Tw(Xe.originalText,Wt,Xe);return Qy(Cs([ki,Ge?ki:"",qt]))}return Cs(ht?[" ",qt]:[Qy(Cs([" ",qt])),ht?"":mw])}(B,0,f))},"comments"),rb(a,f,Cs(N.concat(V)))}};function nb(){}nb.strictEqual=function(){};var yw=nb,ib=Je.getPrecedence,bw=Je.shouldFlatten,Nw=Je.isBitwiseOperator,sb=function(a){var c=a.getParentNode();if(!c)return!1;var f=a.getName(),p=a.getNode();if(["program","expressionstatement","namespace","declare","block","include","print","return","echo"].includes(c.kind))return!1;switch(p.kind){case"pre":case"post":if(c.kind==="unary")return p.kind==="pre"&&(p.type==="+"&&c.type==="+"||p.type==="-"&&c.type==="-");case"unary":switch(c.kind){case"unary":return p.type===c.type&&(p.type==="+"||p.type==="-");case"propertylookup":case"staticlookup":case"offsetlookup":case"call":return f==="what"&&c.what===p;case"bin":return c.type==="**"&&f==="left";default:return!1}case"bin":switch(c.kind){case"assign":case"retif":return["and","xor","or"].includes(p.type);case"silent":case"cast":return p.parenthesizedExpression;case"pre":case"post":case"unary":return!0;case"call":case"propertylookup":case"staticlookup":case"offsetlookup":return f==="what"&&c.what===p;case"bin":var g=c.type,A=ib(g),D=p.type,N=ib(D);return A>N||g==="||"&&D==="&&"||(A===N&&f==="right"?(yw.strictEqual(c.right,p),!0):A===N&&!bw(g,D)||(A<N&&D==="%"?g==="+"||g==="-":!!Nw(g)));default:return!1}case"propertylookup":case"staticlookup":switch(c.kind){case"call":return f==="what"&&c.what===p&&p.parenthesizedExpression;default:return!1}case"clone":case"new":switch(c.kind){case"propertylookup":case"staticlookup":case"offsetlookup":case"call":return f==="what"&&c.what===p;default:return!1}case"yield":switch(c.kind){case"propertylookup":case"staticlookup":case"offsetlookup":case"call":return f==="what"&&c.what===p;case"retif":return c.test===p;default:return!(!p.key&&!p.value)}case"assign":return(c.kind!=="for"||!c.init.includes(p)&&!c.increment.includes(p))&&c.kind!=="assign"&&c.kind!=="static"&&!["if","do","while","foreach","switch"].includes(c.kind)&&c.kind!=="silent"&&c.kind!=="call";case"retif":switch(c.kind){case"cast":return!0;case"unary":case"bin":case"retif":return!(f==="test"&&!c.trueExpr);case"propertylookup":case"staticlookup":case"offsetlookup":case"call":return f==="what"&&c.what===p;default:return!1}case"closure":switch(c.kind){case"call":return f==="what"&&c.what===p;case"propertylookup":return!0;default:return!1}case"silence":case"cast":return p.parenthesizedExpression;case"string":case"array":switch(c.kind){case"propertylookup":case"staticlookup":case"offsetlookup":case"call":return(!["string","array"].includes(p.kind)||c.kind!=="offsetlookup")&&f==="what"&&c.what===p;default:return!1}case"print":case"include":return c.kind==="bin"}return!1},Dr=n.default.doc.builders,ab=Dr.breakParent,k=Dr.concat,ar=Dr.join,dt=Dr.line,vw=Dr.lineSuffix,be=Dr.group,po=Dr.conditionalGroup,Ie=Dr.indent,Iw=Dr.dedent,As=Dr.ifBreak,ge=Dr.hardline,je=Dr.softline,ho=Dr.literalline,Pw=Dr.align,Cw=Dr.dedentToRoot,Ss=n.default.doc.utils.willBreak,Sp=n.default.util,Aw=Sp.isNextLineEmptyAfterIndex,Sw=Sp.hasNewline,ob=Sp.hasNewlineInRange,xs=Je.getLast,xw=Je.getPenultimate,lb=Je.isLastStatement,Ew=Je.lineShouldEndWithSemicolon,Rw=Je.printNumber,cb=Je.shouldFlatten,ub=Je.maybeStripLeadingSlashFromUse,kw=Je.fileShouldEndWithHardline,dn=Je.hasDanglingComments,fb=Je.hasLeadingComment,db=Je.hasTrailingComment,pb=Je.docShouldHaveTrailingNewline,Zr=Je.isLookupNode,xp=Je.isFirstChildrenInlineNode,Ow=Je.shouldPrintHardLineAfterStartInControlStructure,ww=Je.shouldPrintHardLineBeforeEndInControlStructure,Lw=Je.getAlignment,Ep=Je.isProgramLikeNode,mo=Je.getNodeKindIncludingLogical,Dw=Je.useDoubleQuote,hb=Je.hasEmptyBody,Fw=Je.isNextLineEmptyAfterNamespace,mb=Je.shouldPrintHardlineBeforeTrailingComma,Rp=Je.isDocNode,kp=Je.getAncestorNode,Op=Je.isReferenceLikeNode,Mw=Je.getNextNode,Vw=Je.normalizeMagicMethodName,Bw=Je.getNextNonSpaceNonCommentCharacterIndex,ha=Je.isNextLineEmpty;function go(a,c){return parseFloat(a)>=parseFloat(c)}function pu(a,c){return!!a.trailingCommaPHP&&go(a.phpVersion,c)}function wp(a){switch(a.braceStyle){case"1tbs":return!1;case"psr-2":default:return!0}}function Lp(a,c,f){var p=arguments.length>3&&arguments[3]!==void 0&&arguments[3];return k([p?"?":"","->",a.call(f,"offset")])}function gb(a,c,f){return Lp(a,c,f,!0)}function Tb(a,c,f){var p=a.getValue(),g=!["variable","identifier"].includes(p.offset.kind);return k(["::",g?"{":"",a.call(f,"offset"),g?"}":""])}function _b(a,c,f){var p=a.getValue(),g=p.offset&&p.offset.kind==="number"||kp(a,"encapsed");return k(["[",p.offset?be(k([Ie(k([g?"":je,a.call(f,"offset")])),g?"":je])):"","]"])}function yb(a){return a.kind==="array"&&(a.items.length>0||a.comments)||a.kind==="function"||a.kind==="method"||a.kind==="closure"}function qw(a){var c=xs(a),f=xw(a);return!fb(c)&&!db(c)&&yb(c)&&(!f||f.kind!==c.kind)}function Uw(a){if(a.length!==2)return!1;var c=Q(a,2),f=c[0],p=c[1];return!(f.comments&&f.comments.length||f.kind!=="function"&&f.kind!=="method"&&f.kind!=="closure"||p.kind==="retif"||yb(p))}function Oi(a,c,f){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"arguments",g=a.getValue()[p];if(g.length===0)return k(["(",$e.printDanglingComments(a,c,!0),")"]);var A=!1,D=!1,N=g.length-1,V=a.map(function(ht,Ge){var Ct=ht.getNode(),Qt=[f(ht)];return Ge===N||(ha(c.originalText,Ct,c)?(Ge===0&&(D=!0),A=!0,Qt.push(",",ge,ge)):Qt.push(",",dt)),k(Qt)},p),B=a.getValue(),E=xs(g),we=pu(c,"7.3")&&["call","new","unset","isset"].includes(B.kind)||pu(c,"8.0")&&["function","closure","method","arrowfunc"].includes(B.kind)?Ie(k([E&&mb(E)?ge:"",","])):"";function Le(){return be(k(["(",Ie(k([dt,k(V)])),we,dt,")"]),{shouldBreak:!0})}var nt=Uw(g),yt=qw(g);if(nt||yt){var Re,pt=(nt?V.slice(1).some(Ss):V.slice(0,-1).some(Ss))||A,Xe=0;a.each(function(ht){nt&&Xe===0&&(Re=[k([ht.call(function(Ge){return f(Ge,{expandFirstArg:!0})}),V.length>1?",":"",D?ge:dt,D?ge:""])].concat(V.slice(1))),yt&&Xe===g.length-1&&(Re=V.slice(0,-1).concat(ht.call(function(Ge){return f(Ge,{expandLastArg:!0})}))),Xe++},p);var Wt=V.some(Ss),qt=k(["(",k(Re),")"]);return k([Wt?ab:"",po([Wt?As(Le(),qt):qt,k(nt?["(",be(Re[0],{shouldBreak:!0}),k(Re.slice(1)),")"]:["(",k(V.slice(0,-1)),be(xs(Re),{shouldBreak:!0}),")"]),be(k(["(",Ie(k([dt,k(V)])),As(we),dt,")"]),{shouldBreak:!0})],{shouldBreak:pt})])}return be(k(["(",Ie(k([je,k(V)])),As(we),je,")"]),{shouldBreak:V.some(Ss)||A})}function bb(a){return a.kind==="array"&&a.items.length!==0}function Wl(a){return a.right.kind==="array"&&a.right.items.length!==0}function Nb(a,c,f){var p=a.getValue();switch(p.kind){case"propertylookup":return Lp(a,c,f);case"nullsafepropertylookup":return gb(a,c,f);case"staticlookup":return Tb(a,0,f);case"offsetlookup":return _b(a,0,f);default:return"Have not implemented lookup kind ".concat(p.kind," yet.")}}function vb(a){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=c.opening,p=f===void 0||f;if(a.type==="heredoc")return p?"<<<".concat(a.label):a.label;var g={string:'"',shell:"`"};return g[a.type]?g[a.type]:"Unimplemented encapsed type ".concat(a.type)}function jw(a,c,f){var p=[],g=[];return a.each(function(A){p.push(k(g)),p.push(be(f(A))),g=[",",dt],A.getValue()&&ha(c.originalText,A.getValue(),c)&&g.push(je)},"items"),k(p)}function Gw(a,c){if(c.length===0)return a;var f=0;return c.reduce(function(p,g){var A=g.start,D=g.end,N=g.alignment,V=g.before,B=g.after,E=k([V||"",k(a.slice(A,D)),B||""]),we=p.concat(a.slice(f,A),N?Cw(be(k([Pw(new Array(N).join(" "),E)]))):be(E),D===a.length-1?a.slice(D):"");return f=D,we},[])}function Hl(a,c,f){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"children",g=a.getValue(),A=a.getParentNode(),D=-1,N=[],V=[];a.map(function(ht,Ge){var Ct=ht.getValue(),Qt=Ct.kind==="inline",Rs=f(ht),Fr=g[p],pn=Fr[Ge+1],ma=!lb(ht)&&!Qt&&(pn&&pn.kind==="case"?!xp(a):pn&&pn.kind!=="inline"),ga=k([Rs,ma?ge:"",ma&&ha(c.originalText,Ct,c)?ge:""]),Ln=Ge===0,ts=Fr.length-1===Ge,hn=g.kind==="block"&&A&&["function","closure","method","try","catch"].includes(A.kind),Ta=hn&&Ln?"":" ";if(Qt||!Qt&&ts&&D>=0){var mn=D;if(Qt&&(D=Ge),Qt&&!Ln||!Qt&&ts){var ks=(Qt?mn:D)+1,Dn=ts&&!Qt?Ge+1:Ge,rs=Fr[Qt?mn:D],yu=rs?Lw(rs.raw):"",Yl=Dn-ks>1,Kl=Yl?hn&&!rs||Ep(g)&&ks===0?"":ge:"",Os=Yl&&Ct.kind!=="halt"?hn&&ts?"":ge:"";Yl&&(Ta=""),V.push({start:ks,end:Dn,alignment:yu,before:Kl,after:Os})}}if(Qt){var _a=pn&&pn.kind==="echo"&&pn.shortForm?"<?=":"<?php",bu=Ct.leadingComments&&Ct.leadingComments.length?k([Ln&&g.kind!=="namespace"&&!hn?"<?php":"",g.kind!=="namespace"&&hn?"":ge,$e.printComments(Ct.leadingComments,c),ge,"?>"]):Ep(g)&&Ln&&g.kind!=="namespace"?"":k([Ta,"?>"]),ns=a.getNode(Ge+1),ya=ns&&ns.children&&ns.children.length,Vp=Ct.comments&&Ct.comments.length?k([_a,ge,ya?$e.printComments(Ct.comments,c):"",ge,ya?"?>":""]):Ep(g)&&ts?"":k([_a," "]);ga=k([bu,ga,Vp])}N.push(ga)},p);var B=Gw(N,V);if(g.kind==="program"&&!g.extra.parseAsEval){var E=[],we=Q(g.children,1),Le=we[0],nt=!Le||Le.kind!=="inline";if(nt){var yt=c.originalText.trim().match(/^<\?(php|=)(\s+)?\S/),Re=k([yt&&yt[2]&&yt[2].includes(`
`)?k([ge,yt[2].split(`
`).length>2?ge:""]):" ",g.comments?$e.printComments(g.comments,c):""]),pt=Le&&Le.kind==="echo"&&Le.shortForm;E.push(k([pt?"<?=":"<?php",Re]))}E.push(k(B));var Xe=c.originalText.trim().endsWith("?>");if(Xe){var Wt=xs(g.children),qt=Wt?k([ob(c.originalText.trimEnd(),c.locEnd(Wt),c.locEnd(g))?ge:" ",ha(c.originalText,Wt,c)?ge:""]):g.comments?ge:"";E.push(vw(k([qt,"?>"])))}return k(E)}return k(B)}function Ib(a,c,f,p){return k(a.map(function(g){var A=[];return A.push(f(g)),lb(g)||(A.push(ge),ha(c.originalText,g.getValue(),c)&&A.push(ge)),k(A)},p))}function wn(a,c,f){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"extends",g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:" ",A=arguments.length>5&&arguments[5]!==void 0?arguments[5]:" ",D=a.getValue(),N=dn(D[p])?k([ge,a.call(function(B){return $e.printDanglingComments(B,c,!0)},p),ge]):g,V=Array.isArray(D[p])?be(k([ar(",",a.map(function(B){var E=f(B);return dn(B.getValue())?k([ge,$e.printDanglingComments(B,c,!0),ge,E]):k([A,E])},p))])):k([A,a.call(f,p)]);return Ie(k([N,p,Ss(N)?Ie(V):V]))}function Es(a,c,f){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},g=p.inline,A=g!==void 0&&g,D=[];return a.getValue().attrGroups?(a.each(function(N){var V=["#["];D.length>0&&D.push(A?" ":ge),V.push(As(je)),N.each(function(B){var E=B.getValue();V.length>2&&V.push(",",As(je," "));var we=[E.name];E.args.length>0&&we.push(Oi(B,c,f,"args")),V.push(be(k(we)))},"attrs"),D.push(be(k([Ie(k(V)),As(je),"]",je,A?" ":""])))},"attrGroups"),D.length===0?[]:[k([].concat(D,[A?"":ge]))]):[]}function es(a,c,f){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"body",g=a.getValue();if(!g[p])return";";var A=a.call(f,p);return k([g.shortForm?":":" {",Ie(k([g[p].kind!=="block"||g[p].children&&g[p].children.length>0||g[p].comments&&g[p].comments.length>0?k([Ow(a)?g.kind==="switch"?" ":"":ge,A]):""])),g.kind==="if"&&p==="body"?"":k([ww(a)?ge:"",g.shortForm?k(["end",g.kind,";"]):"}"])])}function hu(a,c,f,p,g,A,D){if(!p)return c;var N=Dp(a,p,g,A,D);return be(k([c,f,N]))}function Dp(a,c,f,p,g){var A=p?"&":"";if($e.hasLeadingOwnLineComment(g.originalText,c,g))return Ie(k([ge,A,f]));var D=c.kind==="cast"?c.expr:c;return D.kind==="bin"&&!Wl(D)||D.kind==="retif"&&(!D.trueExpr&&!bb(D.falseExpr)||D.test.kind==="bin"&&!Wl(D.test))||(a.kind==="variable"||a.kind==="string"||Zr(a))&&(D.kind==="string"&&!Pb(D)||function N(V){return!!Zr(V)&&(!(V.what.kind!=="variable"&&!Op(V.what))||N(V.what))}(D))?be(Ie(k([dt,A,f]))):k([" ",A,f])}function Pb(a){return a.raw.includes(`
`)}function mu(a,c,f){return(a.kind==="string"||a.kind==="encapsed"&&(a.type==="string"||a.type==="shell"))&&Pb(a)&&!Sw(c,f.locStart(a),{backwards:!0})}var Ww=function(a,c,f){var p=a.getValue();if(!p)return"";if(typeof p=="string")return p;var g=function(N,V,B){var E=N.getValue();switch(E.kind){case"program":return be(k([Hl(N,V,B),$e.printDanglingComments(N,V,!0,function(le){return!le.printed})]));case"expressionstatement":return N.call(B,"expression");case"block":return k([Hl(N,V,B),$e.printDanglingComments(N,V,!0)]);case"declare":var we=function(le){return ar(", ",le.map(function(Ne){return k([B(Ne)])},"directives"))};if(["block","short"].includes(E.mode))return k(["declare(",we(N),")",E.mode==="block"?" {":":",E.children.length>0?Ie(k([ge,Hl(N,V,B)])):"",$e.printDanglingComments(N,V),ge,E.mode==="block"?"}":"enddeclare;"]);var Le=Mw(N,E);return k(["declare(",we(N),")",Le&&Le.kind==="inline"?"":";"]);case"declaredirective":return k([N.call(B,"key"),"=",N.call(B,"value")]);case"namespace":return k(["namespace ",E.name&&typeof E.name=="string"?k([E.name,E.withBrackets?" ":""]):"",E.withBrackets?"{":";",dn(E)?k([" ",$e.printDanglingComments(N,V,!0)]):"",E.children.length>0?E.withBrackets?Ie(k([ge,Hl(N,V,B)])):k([E.children[0].kind==="inline"?"":k([ge,Fw(V.originalText,E,V.locStart)?ge:""]),Hl(N,V,B)]):"",E.withBrackets?k([ge,"}"]):""]);case"usegroup":return be(k(["use ",E.type?k([E.type," "]):"",Ie(k([E.name?k([ub(E.name),"\\{",je]):"",ar(k([",",dt]),N.map(function(le){return k([B(le)])},"items"))])),E.name?k([As(pu(V,"7.2")?",":""),je,"}"]):""]));case"useitem":return k([E.type?k([E.type," "]):"",ub(E.name),dn(E)?k([" ",$e.printDanglingComments(N,V,!0)]):"",E.alias?k([" as ",N.call(B,"alias")]):""]);case"class":case"interface":case"trait":return function(le,Ne,qe){var de=le.getValue(),At=de.kind==="class"&&de.isAnonymous,yr=Es(le,Ne,qe,{inline:At}),Ht=At?[]:G(yr);de.isFinal&&Ht.push("final "),de.isAbstract&&Ht.push("abstract "),Ht.push(At?"":de.kind),de.name&&Ht.push(" ",le.call(qe,"name")),de.extends&&de.implements?Ht.push(po([k([wn(le,Ne,qe,"extends"),wn(le,Ne,qe,"implements")]),k([wn(le,Ne,qe,"extends"),wn(le,Ne,qe,"implements"," ",ge)]),k([wn(le,Ne,qe,"extends",ge," "),wn(le,Ne,qe,"implements",ge,de.implements.length>1?ge:" ")])],{shouldBreak:dn(de.extends)})):(de.extends&&Ht.push(po([wn(le,Ne,qe,"extends"),wn(le,Ne,qe,"extends"," ",ge),wn(le,Ne,qe,"extends",ge,de.extends.length>1?ge:" ")])),de.implements&&Ht.push(po([wn(le,Ne,qe,"implements"),wn(le,Ne,qe,"implements"," ",ge),wn(le,Ne,qe,"implements",ge,de.implements.length>1?ge:" ")])));var lt=be(k([be(k(Ht)),wp(Ne)?At?dt:ge:" "])),wt=de.body&&de.body.length===0&&!dn(de),br=k(["{",Ie(k([wt?"":ge,Ib(le,Ne,qe,"body")])),$e.printDanglingComments(le,Ne,!0),At&&wt?je:ge,"}"]);return k([lt,br])}(N,V,B);case"traitprecedence":return k([N.call(B,"trait"),"::",N.call(B,"method")," insteadof ",ar(", ",N.map(B,"instead"))]);case"traitalias":return k([E.trait?k([N.call(B,"trait"),"::"]):"",E.method?N.call(B,"method"):""," as ",ar(" ",[].concat(G(E.visibility?[E.visibility]:[]),G(E.as?[N.call(B,"as")]:[])))]);case"traituse":return be(k(["use ",Ie(be(ar(k([",",dt]),N.map(B,"traits")))),E.adaptations?k([" {",E.adaptations.length>0?k([Ie(k([ge,Ib(N,V,B,"adaptations")])),ge]):dn(E)?k([dt,$e.printDanglingComments(N,V,!0),dt]):"","}"]):""]));case"function":case"closure":case"method":return function(le,Ne,qe){var de=le.getValue(),At=G(Es(le,Ne,qe,{inline:de.kind==="closure"}));de.isFinal&&At.push("final "),de.isAbstract&&At.push("abstract "),de.visibility&&At.push(de.visibility," "),de.isStatic&&At.push("static "),At.push("function "),de.byref&&At.push("&"),de.name&&At.push(le.call(qe,"name")),At.push(Oi(le,Ne,qe)),de.uses&&de.uses.length>0&&At.push(be(k([" use ",Oi(le,Ne,qe,"uses")]))),de.type&&At.push(k([": ",dn(de.type)?k([le.call(function(wt){return $e.printDanglingComments(wt,Ne,!0)},"type")," "]):"",de.nullable?"?":"",le.call(qe,"type")]));var yr=k(At);if(!de.body)return yr;var Ht=de.kind==="closure",lt=k(["{",Ie(k([hb(le)?"":ge,le.call(qe,"body")])),Ht&&hb(le)?"":ge,"}"]);return Ht?k([yr," ",lt]):de.arguments.length===0?k([yr,wp(Ne)?ge:" ",lt]):At.some(Ss)?k([yr," ",lt]):po([k([yr,wp(Ne)?ge:" ",lt]),k([yr," ",lt])])}(N,V,B);case"arrowfunc":return k([].concat(G(Es(N,V,B,{inline:!0})),[E.isStatic?"static ":"","fn",Oi(N,V,B),E.type?k([": ",E.nullable?"?":"",N.call(B,"type")]):""," => ",N.call(B,"body")]));case"parameter":var nt="";E.flags===1?nt="public ":E.flags===2?nt="protected ":E.flags===4&&(nt="private ");var yt=k([].concat(G(Es(N,V,B,{inline:!0})),[nt,E.nullable?"?":"",E.type?k([N.call(B,"type")," "]):"",E.byref?"&":"",E.variadic?"...":"","$",N.call(B,"name")]));return E.value?be(k([yt,dn(E)?" ":"",$e.printDanglingComments(N,V,!0),k([" =",Dp(E.name,E.value,N.call(B,"value"),!1,V)])])):yt;case"variadic":return k(["...",N.call(B,"what")]);case"property":return be(k([E.type?k([E.nullable?"?":"",N.call(B,"type")," "]):"","$",N.call(B,"name"),E.value?k([" =",Dp(E.name,E.value,N.call(B,"value"),!1,V)]):""]));case"propertystatement":var Re=[];N.map(function(le){return Re.push.apply(Re,G(Es(le,V,B)))},"properties");var pt,Xe=N.map(function(le){return B(le)},"properties"),Wt=E.properties.some(function(le){return le.value});Xe.length!==1||E.properties[0].comments?Xe.length>0&&(pt=Ie(Xe[0])):pt=Q(Xe,1)[0];var qt=E.visibility||E.visibility===null;return be(k([].concat(Re,[qt?k([E.visibility===null?"var":E.visibility,""]):"",E.isStatic?k([qt?" ":"","static"]):"",pt?k([" ",pt]):"",Ie(k(Xe.slice(1).map(function(le){return k([",",Wt?ge:dt,le])})))])));case"if":var ht=[],Ge=es(N,V,B,"body"),Ct=be(k(["if (",be(k([Ie(k([je,N.call(B,"test")])),je])),")",Ge]));if(ht.push(Ct,xp(N)||!E.body?"":ge),E.alternate){ht.push(E.shortForm?"":"} ");var Qt=db(E.body)&&E.body.comments.some(function(le){return le.trailing&&!$e.isBlockComment(le)})||function(le){if(!le.comments)return!1;var Ne=xs(le.comments.filter(function(qe){return!qe.leading&&!qe.trailing}));return Ne&&!$e.isBlockComment(Ne)}(E),Rs=!Qt;ht.push(Rs?"":ge),dn(E)&&ht.push(ha(V.originalText,E.body,V)?ge:"",$e.printDanglingComments(N,V,!0),Qt?ge:" "),ht.push("else",be(E.alternate.kind==="if"?N.call(B,"alternate"):es(N,V,B,"alternate")))}else ht.push(E.body?E.shortForm?"endif;":"}":"");return k(ht);case"do":return k(["do",es(N,V,B,"body")," while (",be(k([Ie(k([je,N.call(B,"test")])),je])),")"]);case"while":case"switch":return be(k([E.kind," (",be(k([Ie(k([je,N.call(B,"test")])),je])),")",es(N,V,B,"body")]));case"for":var Fr=es(N,V,B,"body"),pn=$e.printDanglingComments(N,V,!0),ma=pn?k([pn,je]):"";return E.init.length||E.test.length||E.increment.length?k([ma,be(k(["for (",be(k([Ie(k([je,be(k([ar(k([",",dt]),N.map(B,"init"))])),";",dt,be(k([ar(k([",",dt]),N.map(B,"test"))])),";",dt,be(ar(k([",",dt]),N.map(B,"increment")))])),je])),")",Fr]))]):k([ma,be(k(["for (;;)",Fr]))]);case"foreach":var ga=es(N,V,B,"body"),Ln=$e.printDanglingComments(N,V,!0),ts=Ln?k([Ln,je]):"";return k([ts,be(k(["foreach (",be(k([Ie(k([je,N.call(B,"source"),dt,"as ",be(E.key?Ie(ar(k([" =>",dt]),[N.call(B,"key"),N.call(B,"value")])):N.call(B,"value"))])),je])),")",ga]))]);case"try":var hn=[];return hn.push("try",es(N,V,B,"body")),E.catches&&hn.push(k(N.map(B,"catches"))),E.always&&hn.push(" finally",es(N,V,B,"always")),k(hn);case"catch":return k([" catch",E.what?k([" (",ar(" | ",N.map(B,"what")),E.variable?k([" ",N.call(B,"variable")]):"",")"]):"",es(N,V,B,"body")]);case"case":return k([E.test?k(["case ",E.test.comments?Ie(N.call(B,"test")):N.call(B,"test"),":"]):"default:",E.body&&E.body.children&&E.body.children.length?Ie(k([xp(N)?"":ge,N.call(B,"body")])):""]);case"break":case"continue":return E.level&&E.level.kind==="number"&&E.level.value!=="1"?k(["".concat(E.kind," "),N.call(B,"level")]):E.kind;case"call":return E.arguments.length===1&&mu(E.arguments[0],V.originalText,V)?k([N.call(B,"what"),k(["(",ar(", ",N.map(B,"arguments")),")"])]):Zr(E.what)?function(le,Ne,qe){var de=[];function At(ze){var Lt=Ne.originalText,or=Bw(Lt,ze,Ne);return Lt.charAt(or)===")"?Aw(Lt,or+1,Ne):ha(Lt,ze,Ne)}function yr(ze){var Lt=ze.getValue();if(Lt.kind!=="call"||!Zr(Lt.what)&&Lt.what.kind!=="call")if(Zr(Lt)){var or=null;or=Lt.kind==="propertylookup"?Lp(ze,Ne,qe):Lt.kind==="nullsafepropertylookup"?gb(ze,Ne,qe):Lt.kind==="staticlookup"?Tb(ze,Ne,qe):_b(ze,Ne,qe),de.unshift({node:Lt,needsParens:sb(ze),printed:$e.printAllComments(ze,function(){return or},Ne)}),ze.call(function(Ql){return yr(Ql)},"what")}else de.unshift({node:Lt,printed:ze.call(qe)});else de.unshift({node:Lt,printed:k([$e.printAllComments(ze,function(){return k([Oi(ze,Ne,qe)])},Ne),At(Lt)?ge:""])}),ze.call(function(Ql){return yr(Ql)},"what")}var Ht=le.getValue();de.unshift({node:Ht,printed:Oi(le,Ne,qe)}),le.call(function(ze){return yr(ze)},"what");for(var lt=0;lt<de.length;++lt)de[lt].node.kind==="call"&&de[lt-1]&&["propertylookup","staticlookup"].includes(de[lt-1].node.kind)&&de[lt-1].needsParens&&(de[0].printed=k(["(",de[0].printed]),de[lt-1].printed=k([de[lt-1].printed,")"]));for(var wt=[],br=[de[0]],xt=1;xt<de.length&&(de[xt].node.kind==="call"||Zr(de[xt].node)&&de[xt].node.offset&&de[xt].node.offset.kind==="number");++xt)br.push(de[xt]);if(de[0].node.kind!=="call")for(;xt+1<de.length&&Zr(de[xt].node)&&Zr(de[xt+1].node);++xt)br.push(de[xt]);wt.push(br),br=[];for(var yo=!1;xt<de.length;++xt){if(yo&&Zr(de[xt].node)){if(de[xt].node.kind==="offsetlookup"&&de[xt].node.offset&&de[xt].node.offset.kind==="number"){br.push(de[xt]);continue}wt.push(br),br=[],yo=!1}de[xt].node.kind==="call"&&(yo=!0),br.push(de[xt]),de[xt].node.comments&&$e.hasTrailingComment(de[xt].node)&&(wt.push(br),br=[],yo=!1)}br.length>0&&wt.push(br);function Wp(ze){var Lt=ze[1].length&&ze[1][0].node.kind==="offsetlookup";if(ze[0].length===1){var or=ze[0][0].node;return or.kind==="variable"&&(or.name==="this"||Hp&&Ql(or.name))||Op(or)}function Ql(GL){return GL.length<Ne.tabWidth}var Kp=xs(ze[0]).node;return Zr(Kp)&&(Kp.offset.kind==="identifier"||Kp.offset.kind==="variable")&&Lt}var Hp=le.getParentNode().kind==="expressionstatement",Eu=wt.length>=2&&!wt[1][0].node.comments&&Wp(wt);function Ru(ze){for(var Lt=[],or=0;or<ze.length;or++)ze[or+1]&&ze[or+1].needsParens?(Lt.push("(",ze[or].printed,ze[or+1].printed,")"),or++):Lt.push(ze[or].printed);return k(Lt)}function qL(ze){return ze.length===0?"":Ie(be(k([ge,ar(ge,ze.map(Ru))])))}var cN=wt.map(Ru),Yp=k(cN),ku=Eu?3:2,uN=wt.slice(0,ku).reduce(function(ze,Lt){return ze.concat(Lt)},[]),fN=uN.slice(1,-1).some(function(ze){return $e.hasLeadingComment(ze.node)})||uN.slice(0,-1).some(function(ze){return $e.hasTrailingComment(ze.node)})||wt[ku]&&$e.hasLeadingComment(wt[ku][0].node),UL=kp(le,"encapsed");if(wt.length<=ku&&!fN||UL)return be(Yp);var dN=xs(Eu?wt.slice(1,2)[0]:wt[0]).node,pN=dN.kind!=="call"&&At(dN),hN=k([Ru(wt[0]),Eu?k(wt.slice(1,2).map(Ru)):"",pN?ge:"",qL(wt.slice(Eu?2:1))]),jL=de.filter(function(ze){return ze.node.kind==="call"}).length;return fN||jL>=3||cN.slice(0,-1).some(Ss)?be(hN):k([Ss(Yp)||pN?ab:"",po([Yp,hN])])}(N,V,B):k([N.call(B,"what"),Oi(N,V,B)]);case"new":var Ta=E.what&&E.what.kind==="class"&&E.what.isAnonymous;if(!Ta&&E.arguments.length===1&&mu(E.arguments[0],V.originalText,V))return k(["new "].concat(G(N.call(Es,"what")),[N.call(B,"what"),"(",ar(", ",N.map(B,"arguments")),")"]));var mn=[];if(mn.push("new "),Ta)mn.push.apply(mn,[E.what.leadingComments&&E.what.leadingComments[0].kind==="commentblock"?k([$e.printComments(E.what.leadingComments,V)," "]):""].concat(G(N.call(function(le,Ne,qe){return Es(le,Ne,qe,{inline:!0})},"what")),["class",E.arguments.length>0?k([" ",Oi(N,V,B)]):"",be(N.call(B,"what"))]));else{var ks=k([N.call(B,"what"),Oi(N,V,B)]);mn.push(fb(E.what)?Ie(ks):ks)}return k(mn);case"clone":return k(["clone ",E.what.comments?Ie(N.call(B,"what")):N.call(B,"what")]);case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":var Dn,rs=N.getParentNode(),yu=0;do Dn=N.getParentNode(yu),yu++;while(Dn&&Zr(Dn));var Yl=kp(N,"encapsed")||Dn&&(Dn.kind==="new"||Dn.kind==="assign"&&Dn.left.kind!=="variable")||E.kind==="offsetlookup"||(Op(E.what)||E.what.kind==="variable")&&["identifier","variable","encapsedpart"].includes(E.offset.kind)&&rs&&!Zr(rs);return k([N.call(B,"what"),Yl?Nb(N,V,B):be(Ie(k([je,Nb(N,V,B)])))]);case"exit":return be(k([E.useDie?"die":"exit","(",E.expression?mu(E.expression,V.originalText,V)?N.call(B,"expression"):k([Ie(k([je,N.call(B,"expression")])),je]):$e.printDanglingComments(N,V),")"]));case"global":return be(k(["global ",Ie(k([ar(k([",",dt]),N.map(B,"items"))]))]));case"include":return k([E.require?"require":"include",E.once?"_once":""," ",E.target.comments?Ie(N.call(B,"target")):N.call(B,"target")]);case"label":return k([N.call(B,"name"),":"]);case"goto":return k(["goto ",N.call(B,"label")]);case"throw":return k(["throw ",E.what.comments?Ie(N.call(B,"what")):N.call(B,"what")]);case"silent":return k(["@",N.call(B,"expr")]);case"halt":return k([dn(E)?k([$e.printDanglingComments(N,V,!0),ge]):"","__halt_compiler();",E.after]);case"eval":return be(k(["eval(",mu(E.source,V.originalText,V)?N.call(B,"source"):k([Ie(k([je,N.call(B,"source")])),je]),")"]));case"echo":var Kl,Os=N.map(function(le){return B(le)},"expressions");return Os.length!==1||E.expressions[0].comments?Os.length>0&&(Kl=Rp(E.expressions[0])||E.expressions[0].comments?Ie(Os[0]):Iw(Os[0])):Kl=Q(Os,1)[0],be(k([E.shortForm?"":"echo ",Kl||"",Ie(k(Os.slice(1).map(function(le){return k([",",dt,le])})))]));case"print":return k(["print ",E.expression.comments?Ie(N.call(B,"expression")):N.call(B,"expression")]);case"return":var _a=[];if(_a.push("return"),E.expr){var bu=N.call(B,"expr");_a.push(" ",E.expr.comments?Ie(bu):bu)}return dn(E)&&_a.push(" ",$e.printDanglingComments(N,V,!0)),k(_a);case"isset":case"unset":return be(k([E.kind,Oi(N,V,B,"variables")]));case"empty":return be(k(["empty(",Ie(k([je,N.call(B,"expression")])),je,")"]));case"variable":var ns=N.getParentNode(),ya=N.getParentNode(1),Vp=ns.kind==="assign"?"":E.byref?"&":"",vL=ns.kind==="encapsedpart"&&ns.syntax==="simple"&&ns.curly||ya&&ns.kind==="offsetlookup"&&ya.kind==="encapsedpart"&&ya.syntax==="simple"&&ya.curly?"":"$",IL=E.curly?"{":"",PL=E.curly?"}":"";return k([Vp,vL,IL,N.call(B,"name"),PL]);case"constantstatement":case"classconstant":var Nu,CL=Es(N,V,B),$l=N.map(function(le){return B(le)},"constants");return $l.length!==1||E.constants[0].comments?$l.length>0&&(Nu=Ie($l[0])):Nu=Q($l,1)[0],be(k([].concat(G(CL),[E.visibility?k([E.visibility," "]):"","const",Nu?k([" ",Nu]):"",Ie(k($l.slice(1).map(function(le){return k([",",ge,le])})))])));case"constant":return hu(E.name,N.call(B,"name")," =",E.value,N.call(B,"value"),!1,V);case"static":var vu,zl=N.map(function(le){return B(le)},"variables"),AL=E.variables.some(function(le){return le.defaultValue});return zl.length!==1||E.variables[0].comments?zl.length>0&&(vu=Ie(zl[0])):vu=Q(zl,1)[0],be(k(["static",vu?k([" ",vu]):"",Ie(k(zl.slice(1).map(function(le){return k([",",AL?ge:dt,le])})))]));case"staticvariable":return hu(E.variable,N.call(B,"variable")," =",E.defaultValue,N.call(B,"defaultValue"),!1,V);case"list":case"array":var Kb=E.kind==="array"&&go(V.phpVersion,"5.4")||E.kind==="list"&&(E.shortForm||go(V.phpVersion,"7.1")),Bp=Kb?"[":k([E.kind,"("]),qp=Kb?"]":")";if(E.items.length===0)return dn(E)?be(k([Bp,$e.printDanglingComments(N,V),je,qp])):k([Bp,qp]);var Iu=xs(E.items),$b=Iu&&Iu.kind==="noop",Pu=Q(E.items.filter(function(le){return le.kind!=="noop"}).sort(function(le,Ne){return V.locStart(le)-V.locStart(Ne)}),1)[0],SL=!(!Pu||!Pu.key)&&Pu&&ob(V.originalText,V.locStart(E),V.locStart(Pu));return be(k([Bp,Ie(k([je,jw(N,V,B)])),$b?",":"",As(!$b&&pu(V,"5.0")?k([Iu&&mb(Iu)?ge:"",","]):""),$e.printDanglingComments(N,V,!0),je,qp]),{shouldBreak:SL});case"entry":var zb=E.byRef?"&":"",xL=E.unpack?"...":"";return E.key?hu(E.key,N.call(B,"key")," =>",E.value,N.call(B,"value"),zb,V):k([zb,xL,N.call(B,"value")]);case"yield":var Qb=k([E.key?k([N.call(B,"key")," => "]):"",N.call(B,"value")]);return k(["yield",E.key||E.value?" ":"",E.value&&E.value.comments?Ie(Qb):Qb]);case"yieldfrom":return k(["yield from ",E.value.comments?Ie(N.call(B,"value")):N.call(B,"value")]);case"unary":return k([E.type,N.call(B,"what")]);case"pre":return k([E.type+E.type,N.call(B,"what")]);case"post":return k([N.call(B,"what"),E.type+E.type]);case"cast":return k(["(",E.type,") ",E.expr.comments?Ie(N.call(B,"expr")):N.call(B,"expr")]);case"assignref":case"assign":var Xb=E.kind==="assignref";return hu(E.left,N.call(B,"left"),k([" ",Xb?"=":E.operator]),E.right,N.call(B,"right"),Xb,V);case"bin":var Fn=N.getParentNode(),Jb=N.getParentNode(1),Zb=E!==Fn.body&&(Fn.kind==="if"||Fn.kind==="while"||Fn.kind==="switch"||Fn.kind==="do"),_o=function le(Ne,qe,de,At,yr){var Ht=[],lt=Ne.getValue();if(lt.kind==="bin"){cb(lt.type,lt.left.type)?Ht=Ht.concat(Ne.call(function(Hp){return le(Hp,qe,de,!0,yr)},"left")):Ht.push(Ne.call(qe,"left"));var wt=Wl(lt),br=k(wt?[lt.type," ",Ne.call(qe,"right")]:[lt.type,dt,Ne.call(qe,"right")]),xt=Ne.getParentNode(),yo=!(yr&&["||","&&"].includes(lt.type))&&mo(xt)!==mo(lt)&&mo(lt.left)!==mo(lt)&&mo(lt.right)!==mo(lt),Wp=Rp(lt.left)||lt.left.kind==="bin"&&Rp(lt.left.right);Ht.push(Wp?"":" ",yo?be(br):br),At&&lt.comments&&(Ht=$e.printAllComments(Ne,function(){return k(Ht)},de))}else Ht.push(Ne.call(qe));return Ht}(N,B,V,!1,Zb);if(Zb)return k(_o);if(Fn.kind==="unary"||Zr(Fn)&&Fn.kind!=="offsetlookup")return be(k([Ie(k([je,k(_o)])),je]));var EL=E!==Fn.body&&Fn.kind==="for"||Fn.kind==="retif"&&Jb&&Jb.kind!=="return",RL=["assign","property","constant","staticvariable","entry"].includes(Fn.kind),kL=E.left.kind==="bin"&&cb(E.type,E.left.type);if(EL||Wl(E)&&!kL||!Wl(E)&&RL)return be(k(_o));var OL=k(_o.slice(1));return be(k([_o.length>0?_o[0]:"",Ie(OL)]));case"retif":var Cu,Au=[],Su=N.getParentNode(),eN=0;do Cu=N.getParentNode(eN),eN++;while(Cu&&Cu.kind==="retif");var tN=Cu||Su,rN=E.falseExpr.kind==="bin"?Ie(N.call(B,"falseExpr")):N.call(B,"falseExpr"),wL=k([E.trueExpr?dt:" ","?",E.trueExpr?k([" ",E.trueExpr.kind==="bin"?Ie(N.call(B,"trueExpr")):N.call(B,"trueExpr"),dt]):"",":",E.trueExpr?k([" ",rN]):k([bb(E.falseExpr)?" ":dt,rN])]);Au.push(wL);var nN=function(le){return Su===tN?be(le):le},iN=N.getParentNode(1),ba=Su.kind==="cast"&&iN?iN:Su,LL=["propertylookup","staticlookup"].includes(ba.kind),Up=N.call(B,"test");if(!E.trueExpr){var sN=k([Up,ba.kind==="bin"||["print","echo","return","include"].includes(tN.kind)?Ie(k(Au)):k(Au)]);return ba.kind==="call"&&ba.what===E||ba.kind==="unary"||Zr(ba)&&ba.kind!=="offsetlookup"?be(k([Ie(k([je,sN])),je])):nN(sN)}return nN(k([E.test.kind==="retif"?Ie(Up):Up,Ie(k(Au)),LL?je:""]));case"boolean":return E.value?"true":"false";case"number":return Rw(E.value);case"string":if(N.getParentNode().kind==="encapsedpart"){var aN=N.getParentNode(1),jp=0,DL=go(V.phpVersion,"7.3"),oN=ho;if(aN.type==="heredoc"){oN=DL?ge:ho;var xu=aN.raw.split(/\r?\n/g);(jp=xu[xu.length-1].search(/\S/))===-1&&(jp=xu[xu.length-2].search(/\S/))}return ar(oN,E.raw.split(/\r?\n/g).map(function(le,Ne){return Ne>0||E.loc.start.column===0?le.substring(jp):le}))}var lN=Dw(E,V)?'"':"'",ni=E.raw;return E.raw[0]==="b"&&(ni=ni.slice(1)),['"',"'"].includes(ni[0])&&(ni=ni.substr(1)),['"',"'"].includes(ni[ni.length-1])&&(ni=ni.substr(0,ni.length-1)),k([E.raw[0]==="b"?"b":"",lN,ar(ho,ni.split(/\r?\n/g)),lN]);case"uniontype":return be(k(N.map(function(le,Ne){return k(Ne===0?[N.call(B)]:["|",N.call(B)])},"types")));case"encapsedpart":var FL=E.syntax==="simple"&&E.curly||E.syntax==="complex"?k([E.curly?"$":"","{"]):"",ML=E.syntax==="simple"&&E.curly||E.syntax==="complex"?"}":"";return k([FL,N.call(B,"expression"),ML]);case"encapsed":switch(E.type){case"string":case"shell":case"heredoc":var VL=go(V.phpVersion,"7.3")?ge:ho;return k([vb(E),E.type==="heredoc"?VL:"",k(N.map(B,"value")),vb(E,{opening:!1}),E.type==="heredoc"&&pb(N)?ge:""]);default:return"Have not implemented kind ".concat(E.type," yet.")}case"inline":return ar(ho,E.raw.replace("___PSEUDO_INLINE_PLACEHOLDER___","").split(/\r?\n/g));case"magic":return E.value;case"nowdoc":var Gp=go(V.phpVersion,"7.3")?ge:ho;return k(["<<<'",E.label,"'",Gp,ar(Gp,E.value.split(/\r?\n/g)),Gp,E.label,pb(N)?ge:""]);case"name":return k([E.resolution==="rn"?"namespace\\":"",E.name]);case"literal":return N.call(B,"value");case"parentreference":return"parent";case"selfreference":return"self";case"staticreference":return"static";case"typereference":return E.name;case"nullkeyword":return"null";case"identifier":return N.getParentNode().kind==="method"&&(E.name=Vw(E.name)),N.call(B,"name");case"match":var BL=N.map(function(le,Ne){var qe=le.getValue().conds===null?"default":k(le.map(function(At,yr){return be(k(yr>0?[",",dt,B(At)]:[B(At)]))},"conds")),de=le.call(B,"body");return k(Ne>0?[", ",dt,qe," => ",de]:[dt,qe," => ",de])},"arms");return be(k(["match (",be(k([je,Ie(k([N.call(B,"cond")])),je])),") {",Ie(k(BL))," ",je,"}"]));case"noop":return E.comments?$e.printComments(N.getValue().comments,V):"";case"namedargument":return k([E.name,": ",N.call(B,"value")]);case"error":default:return"Have not implemented kind ".concat(E.kind," yet.")}}(a,c,f),A=[],D=sb(a);return D&&A.unshift("("),A.push(g),D&&A.push(")"),Ew(a)&&A.push(";"),kw(a)&&A.push(ge),k(A)},Hw=function(a,c){if(["loc","range","raw","comments","leadingComments","trailingComments","parenthesizedExpression","parent","prev","start","end","tokens","errors","extra"].forEach(function(p){delete c[p]}),a.kind==="string"&&delete c.isDoubleQuote,["array","list"].includes(a.kind)&&delete c.shortForm,a.kind==="inline"){if(a.value.includes("___PSEUDO_INLINE_PLACEHOLDER___"))return null;c.value=c.value.replace(/\r\n?|\n/g,"")}if((a.kind==="continue"||a.kind==="break")&&a.level){var f=c.level;f.kind==="number"&&(c.level=f.value==="1"?null:f)}if(a.kind==="block"&&a.children.length===1&&a.children[0].kind==="block")for(;c.children[0].kind==="block";)c.children=c.children[0].children;if(a.kind==="number"&&(c.value=Je.printNumber(a.value)),["foreach","for","if","while","do"].includes(a.kind)&&(a.body&&a.body.kind!=="block"?c.body={kind:"block",children:[c.body]}:c.body=c.body?c.body:null,a.alternate&&a.alternate.kind!=="block"?c.alternate={kind:"block",children:[c.alternate]}:c.alternate=c.alternate?c.alternate:null),a.kind==="usegroup"&&typeof a.name=="string"&&(c.name=c.name.replace(/^\\/,"")),a.kind==="useitem"&&(c.name=c.name.replace(/^\\/,"")),a.kind==="method"&&a.name.kind==="identifier"&&(c.name.name=Je.normalizeMagicMethodName(c.name.name)),a.kind==="noop")return null},Fp="PHP",Yw={phpVersion:{since:"0.13.0",category:Fp,type:"choice",default:"7.0",description:"Minimum target PHP version.",choices:[{value:"5.0"},{value:"5.1"},{value:"5.2"},{value:"5.3"},{value:"5.4"},{value:"5.5"},{value:"5.6"},{value:"7.0"},{value:"7.1"},{value:"7.2"},{value:"7.3"},{value:"7.4"},{value:"8.0"}]},trailingCommaPHP:{since:"0.0.0",category:Fp,type:"boolean",default:!0,description:"Print trailing commas wherever possible when multi-line."},braceStyle:{since:"0.10.0",category:Fp,type:"choice",default:"psr-2",description:"Print one space or newline for code blocks (classes and functions).",choices:[{value:"psr-2",description:"Use PSR-2 brace style."},{value:"1tbs",description:"Use 1tbs brace style."}]}},Kw=function(a,c,f,p){if(f!=="length"&&f!=="prototype"&&f!=="arguments"&&f!=="caller"){var g=Object.getOwnPropertyDescriptor(a,f),A=Object.getOwnPropertyDescriptor(c,f);!$w(g,A)&&p||Object.defineProperty(a,f,A)}},$w=function(a,c){return a===void 0||a.configurable||a.writable===c.writable&&a.enumerable===c.enumerable&&a.configurable===c.configurable&&(a.writable||a.value===c.value)},zw=function(a,c){var f=Object.getPrototypeOf(c);f!==Object.getPrototypeOf(a)&&Object.setPrototypeOf(a,f)},Qw=function(a,c){return"/* Wrapped ".concat(a,`*/
`).concat(c)},Xw=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),Jw=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),Zw=function(a,c,f){var p=f===""?"":"with ".concat(f.trim(),"() "),g=Qw.bind(null,p,c.toString());Object.defineProperty(g,"name",Jw),Object.defineProperty(a,"toString",Z(Z({},Xw),{},{value:g}))},eL=function(a,c){var f,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=p.ignoreNonConfigurable,A=g!==void 0&&g,D=a.name,N=te(Reflect.ownKeys(c));try{for(N.s();!(f=N.n()).done;){var V=f.value;Kw(a,c,V,A)}}catch(B){N.e(B)}finally{N.f()}return zw(a,c),Zw(a,c,D),a},gu=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Cb(a){return a&&a.default||a}var Tu,tL=function(){var a={};return a.promise=new Promise(function(c,f){a.resolve=c,a.reject=f}),a},Ab=function(a,c){return a(c={exports:{}},c.exports),c.exports}(function(a,c){var f=gu&&gu.__awaiter||function(D,N,V,B){return new(V||(V=Promise))(function(E,we){function Le(Re){try{yt(B.next(Re))}catch(pt){we(pt)}}function nt(Re){try{yt(B.throw(Re))}catch(pt){we(pt)}}function yt(Re){Re.done?E(Re.value):new V(function(pt){pt(Re.value)}).then(Le,nt)}yt((B=B.apply(D,N||[])).next())})},p=gu&&gu.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(c,"__esModule",{value:!0});var g=p(tL);function A(D){var N,V,B,E=this,we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"maxAge",Le=function(){return f(E,void 0,void 0,regeneratorRuntime.mark(function Re(){var pt,Xe,Wt,qt,ht=this;return regeneratorRuntime.wrap(function(Ge){for(;;)switch(Ge.prev=Ge.next){case 0:if(N===void 0){Ge.next=2;break}return Ge.abrupt("return");case 2:pt=function(Ct){return f(ht,void 0,void 0,regeneratorRuntime.mark(function Qt(){var Rs;return regeneratorRuntime.wrap(function(Fr){for(;;)switch(Fr.prev=Fr.next){case 0:if(B=g.default(),!((Rs=Ct[1][we]-Date.now())<=0)){Fr.next=6;break}return D.delete(Ct[0]),B.resolve(),Fr.abrupt("return");case 6:return N=Ct[0],typeof(V=setTimeout(function(){D.delete(Ct[0]),B&&B.resolve()},Rs)).unref=="function"&&V.unref(),Fr.abrupt("return",B.promise);case 10:case"end":return Fr.stop()}},Qt)}))},Ge.prev=3,Xe=te(D),Ge.prev=5,Xe.s();case 7:if((Wt=Xe.n()).done){Ge.next=13;break}return qt=Wt.value,Ge.next=11,pt(qt);case 11:Ge.next=7;break;case 13:Ge.next=18;break;case 15:Ge.prev=15,Ge.t0=Ge.catch(5),Xe.e(Ge.t0);case 18:return Ge.prev=18,Xe.f(),Ge.finish(18);case 21:Ge.next=25;break;case 23:Ge.prev=23,Ge.t1=Ge.catch(3);case 25:N=void 0;case 26:case"end":return Ge.stop()}},Re,null,[[3,23],[5,15,18,21]])}))},nt=function(){N=void 0,V!==void 0&&(clearTimeout(V),V=void 0),B!==void 0&&(B.reject(void 0),B=void 0)},yt=D.set.bind(D);return D.set=function(Re,pt){D.has(Re)&&D.delete(Re);var Xe=yt(Re,pt);return N&&N===Re&&nt(),Le(),Xe},Le(),D}c.default=A,a.exports=A,a.exports.default=A});(Tu=Ab)&&Tu.__esModule&&Object.prototype.hasOwnProperty.call(Tu,"default")&&Tu.default;var rL=Ab,Mp=new WeakMap,Sb=new WeakMap,_u=function(a){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=c.cacheKey,p=c.cache,g=p===void 0?new Map:p,A=c.maxAge;typeof A=="number"&&rL(g);var D=function(){for(var N=arguments.length,V=new Array(N),B=0;B<N;B++)V[B]=arguments[B];var E=f?f(V):V[0],we=g.get(E);if(we)return we.data;var Le=a.apply(this,V);return g.set(E,{data:Le,maxAge:A?Date.now()+A:Number.POSITIVE_INFINITY}),Le};return eL(D,a,{ignoreNonConfigurable:!0}),Sb.set(D,g),D};_u.decorator=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(c,f,p){var g=c[f];if(typeof g!="function")throw new TypeError("The decorated value must be a function");delete p.value,delete p.writable,p.get=function(){if(!Mp.has(this)){var A=_u(g,a);return Mp.set(this,A),A}return Mp.get(this)}}},_u.clear=function(a){var c=Sb.get(a);if(!c)throw new TypeError("Can't clear a function that was not memoized!");if(typeof c.clear!="function")throw new TypeError("The cache Map can't be cleared!");c.clear()};var xb=/@prettier|@format/,Eb=_u(function(a){var c=Uy(a),f=Q(c.children,1)[0],p=Q(c.comments.filter(function(g){return g.kind==="commentblock"}),1)[0];if(f&&p&&p.loc.start.line<f.loc.start.line)return p}),nL=function(a){if(!xb.test(a))return!1;var c=Eb(a);if(c){var f=c.value;return xb.test(f)}return!1},iL=function(a){var c=Eb(a);if(c){var f=c.loc,p=f.start.offset,g=f.end.offset,A=a.substring(0,p),D=a.substring(g);return"".concat(A).concat(function(we,Le){var nt=we.split(/\r?\n/g);if(nt.length===1){var yt=Q(/\/*\*\*(.*)\*\//.exec(nt[0]),2)[1];nt=["/**"," * ".concat(yt.trim())," */"]}var Re=nt.findIndex(function(pt){return/@\S/.test(pt)})||1;return nt.splice(Re,0," * @format"),nt.join(function(pt){var Xe=pt.indexOf(`
`);return Xe>=0&&pt.charAt(Xe-1)==="\r"?`\r
`:`
`}(Le))}(c.value,a)).concat(D)}var N="<?php";if(!a.startsWith(N))return a;var V=N.length,B=a.substring(0,V),E=a.substring(V);return"".concat(B,`
/** 
 * @format 
 */
`).concat(E)},Rb="programming",kb="text.html.php",Ob="application/x-httpd-php",wb="#4F5D95",Lb=[".php",".aw",".ctp",".fcgi",".inc",".php3",".php4",".php5",".phps",".phpt"],Db=[".php",".php_cs",".php_cs.dist","Phakefile"],Fb=["php"],Mb=["inc"],sL={name:"PHP",type:Rb,tmScope:kb,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:Ob,color:wb,extensions:Lb,filenames:Db,interpreters:Fb,aliases:Mb,languageId:272},aL=Object.freeze({__proto__:null,name:"PHP",type:Rb,tmScope:kb,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:Ob,color:wb,extensions:Lb,filenames:Db,interpreters:Fb,aliases:Mb,languageId:272,default:sL}),Vb="HTML+PHP",Bb="markup",qb="text.html.php",Ub="HTML",jb=[".phtml"],Gb="application/x-httpd-php",oL={name:Vb,type:Bb,tmScope:qb,group:Ub,extensions:jb,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:Gb,languageId:151},lL=Object.freeze({__proto__:null,name:Vb,type:Bb,tmScope:qb,group:Ub,extensions:jb,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:Gb,languageId:151,default:oL}),cL=Cb(aL),uL=Cb(lL),Wb=n.default.doc.builders,fL=Wb.join,dL=Wb.hardline,pL=nL,hL=iL;function Hb(a,c){var f=c.extend,p=c.override,g={};for(var A in a)g[A==="languageId"?"linguistLanguageId":A]=a[A];if(f)for(var D in f)g[D]=(g[D]||[]).concat(f[D]);for(var N in p)g[N]=p[N];return g}var mL=[Hb(cL,{override:{parsers:["php"],vscodeLanguageIds:["php"]}}),Hb(uL,{override:{parsers:["php"],vscodeLanguageIds:["php"]}})],Yb=function(a){return function(c){return c.loc&&c.loc[a]&&c.loc[a].offset}},gL={php:{parse:Uy,astFormat:"php",locStart:Yb("start"),locEnd:Yb("end"),hasPragma:pL}},To={languages:mL,printers:{php:{print:Ww,insertPragma:hL,massageAstNode:Hw,getCommentChildNodes:$e.getCommentChildNodes,canAttachComment:$e.canAttachComment,isBlockComment:$e.isBlockComment,handleComments:{ownLine:$e.handleOwnLineComment,endOfLine:$e.handleEndOfLineComment,remaining:$e.handleRemainingComment},willPrintOwnComments(a){var c=a.getValue();return c&&c.kind==="noop"},printComment(a){var c=a.getValue();switch(c.kind){case"commentblock":if(!c.value.includes(`
`))return c.value;var f=c.value.split(/\r?\n/g);return f.slice(1,f.length-1).every(function(p){return p.trim()[0]==="*"})?fL(dL,f.map(function(p,g){return(g>0?" ":"")+(g<f.length-1?p.trim():p.trimLeft())})):c.value;case"commentline":return c.value.trimRight();default:throw new Error("Not a comment: ".concat(JSON.stringify(c)))}},hasPrettierIgnore(a){var c=function(g){return g.value.includes("prettier-ignore")&&!g.value.includes("prettier-ignore-start")&&!g.value.includes("prettier-ignore-end")},f=a.getParentNode(),p=a.getNode();return p&&p.kind!=="classconstant"&&p.comments&&p.comments.length>0&&p.comments.some(c)||p&&p.kind==="constant"&&f&&f.kind==="classconstant"&&f.comments&&f.comments.length>0&&f.comments.some(c)}}},parsers:gL,options:Yw,defaultOptions:{tabWidth:4}},TL=To.languages,_L=To.printers,yL=To.parsers,bL=To.options,NL=To.defaultOptions;t.default=To,t.defaultOptions=NL,t.languages=TL,t.options=bL,t.parsers=yL,t.printers=_L,Object.defineProperty(t,"__esModule",{value:!0})})});function vk(t){return["cursorOffset","rangeEnd","rangeStart","locEnd","locStat","printer","originalText","astFormat"].forEach(e=>{delete t[e]}),t}function np(t){Nk=vk(Object.assign({},t,{htmlWhitespaceSensitivity:"ignore",parser:"html",plugins:t.plugins})),bk=vk(Object.assign({},t,{parser:"php",plugins:[yk.default]}))}function Ik(t){let e=UT.format("<?php "+t,bk).trim();return e=e.substring(5),t.endsWith(";")==!1&&e.endsWith(";")&&(e=e.substring(0,e.length-1)),e.trim()}function Pk(t){return UT.format(t,Nk)}var UT,Eoe,yk,bk,Nk,jT=x(()=>{UT=We(require("prettier")),Eoe=We(Ck()),yk=We(_k())});function Ak(t){return typeof t=="undefined"||t===null}function dj(t){return typeof t=="object"&&t!==null}function pj(t){return Array.isArray(t)?t:Ak(t)?[]:[t]}function hj(t,e){var r,n,i,s;if(e)for(s=Object.keys(e),r=0,n=s.length;r<n;r+=1)i=s[r],t[i]=e[i];return t}function mj(t,e){var r="",n;for(n=0;n<e;n+=1)r+=t;return r}function gj(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}function Sk(t,e){var r="",n=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(r+='in "'+t.mark.name+'" '),r+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(r+=`

`+t.mark.snippet),n+" "+r):n}function nu(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=Sk(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}function GT(t,e,r,n,i){var s="",o="",l=Math.floor(i/2)-1;return n-e>l&&(s=" ... ",e=n-l+s.length),r-n>l&&(o=" ...",r=n+l-o.length),{str:s+t.slice(e,r).replace(/\t/g,"\u2192")+o,pos:n-e+s.length}}function WT(t,e){return dr.repeat(" ",e-t.length)+t}function Ij(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,o=-1;s=r.exec(t.buffer);)i.push(s.index),n.push(s.index+s[0].length),t.position<=s.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var l="",u,d,h=Math.min(t.line+e.linesAfter,i.length).toString().length,m=e.maxLength-(e.indent+h+3);for(u=1;u<=e.linesBefore&&!(o-u<0);u++)d=GT(t.buffer,n[o-u],i[o-u],t.position-(n[o]-n[o-u]),m),l=dr.repeat(" ",e.indent)+WT((t.line-u+1).toString(),h)+" | "+d.str+`
`+l;for(d=GT(t.buffer,n[o],i[o],t.position,m),l+=dr.repeat(" ",e.indent)+WT((t.line+1).toString(),h)+" | "+d.str+`
`,l+=dr.repeat("-",e.indent+h+3+d.pos)+`^
`,u=1;u<=e.linesAfter&&!(o+u>=i.length);u++)d=GT(t.buffer,n[o+u],i[o+u],t.position-(n[o]-n[o+u]),m),l+=dr.repeat(" ",e.indent)+WT((t.line+u+1).toString(),h)+" | "+d.str+`
`;return l.replace(/\n$/,"")}function Sj(t){var e={};return t!==null&&Object.keys(t).forEach(function(r){t[r].forEach(function(n){e[String(n)]=r})}),e}function xj(t,e){if(e=e||{},Object.keys(e).forEach(function(r){if(Cj.indexOf(r)===-1)throw new on('Unknown option "'+r+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(r){return r},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=Sj(e.styleAliases||null),Aj.indexOf(this.kind)===-1)throw new on('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}function xk(t,e){var r=[];return t[e].forEach(function(n){var i=r.length;r.forEach(function(s,o){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=o)}),r[i]=n}),r}function Ej(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,r;function n(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(e=0,r=arguments.length;e<r;e+=1)arguments[e].forEach(n);return t}function HT(t){return this.extend(t)}function Dj(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function Fj(){return null}function Mj(t){return t===null}function Bj(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function qj(t){return t==="true"||t==="True"||t==="TRUE"}function Uj(t){return Object.prototype.toString.call(t)==="[object Boolean]"}function Gj(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function Wj(t){return 48<=t&&t<=55}function Hj(t){return 48<=t&&t<=57}function Yj(t){if(t===null)return!1;var e=t.length,r=0,n=!1,i;if(!e)return!1;if(i=t[r],(i==="-"||i==="+")&&(i=t[++r]),i==="0"){if(r+1===e)return!0;if(i=t[++r],i==="b"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(!Gj(t.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(!Wj(t.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<e;r++)if(i=t[r],i!=="_"){if(!Hj(t.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function Kj(t){var e=t,r=1,n;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),n=e[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),e=e.slice(1),n=e[0]),e==="0")return 0;if(n==="0"){if(e[1]==="b")return r*parseInt(e.slice(2),2);if(e[1]==="x")return r*parseInt(e.slice(2),16);if(e[1]==="o")return r*parseInt(e.slice(2),8)}return r*parseInt(e,10)}function $j(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!dr.isNegativeZero(t)}function Xj(t){return!(t===null||!Qj.test(t)||t[t.length-1]==="_")}function Jj(t){var e,r;return e=t.replace(/_/g,"").toLowerCase(),r=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:r*parseFloat(e,10)}function e2(t,e){var r;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(dr.isNegativeZero(t))return"-0.0";return r=t.toString(10),Zj.test(r)?r.replace("e",".e"):r}function t2(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||dr.isNegativeZero(t))}function s2(t){return t===null?!1:Ek.exec(t)!==null||Rk.exec(t)!==null}function a2(t){var e,r,n,i,s,o,l,u=0,d=null,h,m,y;if(e=Ek.exec(t),e===null&&(e=Rk.exec(t)),e===null)throw new Error("Date resolve error");if(r=+e[1],n=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(r,n,i));if(s=+e[4],o=+e[5],l=+e[6],e[7]){for(u=e[7].slice(0,3);u.length<3;)u+="0";u=+u}return e[9]&&(h=+e[10],m=+(e[11]||0),d=(h*60+m)*6e4,e[9]==="-"&&(d=-d)),y=new Date(Date.UTC(r,n,i,s,o,l,u)),d&&y.setTime(y.getTime()-d),y}function o2(t){return t.toISOString()}function c2(t){return t==="<<"||t===null}function f2(t){if(t===null)return!1;var e,r,n=0,i=t.length,s=YT;for(r=0;r<i;r++)if(e=s.indexOf(t.charAt(r)),!(e>64)){if(e<0)return!1;n+=6}return n%8===0}function d2(t){var e,r,n=t.replace(/[\r\n=]/g,""),i=n.length,s=YT,o=0,l=[];for(e=0;e<i;e++)e%4===0&&e&&(l.push(o>>16&255),l.push(o>>8&255),l.push(o&255)),o=o<<6|s.indexOf(n.charAt(e));return r=i%4*6,r===0?(l.push(o>>16&255),l.push(o>>8&255),l.push(o&255)):r===18?(l.push(o>>10&255),l.push(o>>2&255)):r===12&&l.push(o>>4&255),new Uint8Array(l)}function p2(t){var e="",r=0,n,i,s=t.length,o=YT;for(n=0;n<s;n++)n%3===0&&n&&(e+=o[r>>18&63],e+=o[r>>12&63],e+=o[r>>6&63],e+=o[r&63]),r=(r<<8)+t[n];return i=s%3,i===0?(e+=o[r>>18&63],e+=o[r>>12&63],e+=o[r>>6&63],e+=o[r&63]):i===2?(e+=o[r>>10&63],e+=o[r>>4&63],e+=o[r<<2&63],e+=o[64]):i===1&&(e+=o[r>>2&63],e+=o[r<<4&63],e+=o[64],e+=o[64]),e}function h2(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}function _2(t){if(t===null)return!0;var e=[],r,n,i,s,o,l=t;for(r=0,n=l.length;r<n;r+=1){if(i=l[r],o=!1,T2.call(i)!=="[object Object]")return!1;for(s in i)if(g2.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}function y2(t){return t!==null?t:[]}function v2(t){if(t===null)return!0;var e,r,n,i,s,o=t;for(s=new Array(o.length),e=0,r=o.length;e<r;e+=1){if(n=o[e],N2.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[e]=[i[0],n[i[0]]]}return!0}function I2(t){if(t===null)return[];var e,r,n,i,s,o=t;for(s=new Array(o.length),e=0,r=o.length;e<r;e+=1)n=o[e],i=Object.keys(n),s[e]=[i[0],n[i[0]]];return s}function A2(t){if(t===null)return!0;var e,r=t;for(e in r)if(C2.call(r,e)&&r[e]!==null)return!1;return!0}function S2(t){return t!==null?t:{}}function Mk(t){return Object.prototype.toString.call(t)}function $i(t){return t===10||t===13}function eo(t){return t===9||t===32}function ln(t){return t===9||t===32||t===10||t===13}function Ll(t){return t===44||t===91||t===93||t===123||t===125}function w2(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function L2(t){return t===120?2:t===117?4:t===85?8:0}function D2(t){return 48<=t&&t<=57?t-48:-1}function Vk(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"\x85":t===95?"\xA0":t===76?"\u2028":t===80?"\u2029":""}function F2(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}function M2(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||kk,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Uk(t,e){var r={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return r.snippet=Pj(r),new on(e,r)}function Se(t,e){throw Uk(t,e)}function ap(t,e){t.onWarning&&t.onWarning.call(null,Uk(t,e))}function la(t,e,r,n){var i,s,o,l;if(e<r){if(l=t.input.slice(e,r),n)for(i=0,s=l.length;i<s;i+=1)o=l.charCodeAt(i),o===9||32<=o&&o<=1114111||Se(t,"expected valid JSON character");else R2.test(l)&&Se(t,"the stream contains non-printable characters");t.result+=l}}function Gk(t,e,r,n){var i,s,o,l;for(dr.isObject(r)||Se(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),o=0,l=i.length;o<l;o+=1)s=i[o],oa.call(e,s)||(e[s]=r[s],n[s]=!0)}function Dl(t,e,r,n,i,s,o,l,u){var d,h;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),d=0,h=i.length;d<h;d+=1)Array.isArray(i[d])&&Se(t,"nested arrays are not supported inside keys"),typeof i=="object"&&Mk(i[d])==="[object Object]"&&(i[d]="[object Object]");if(typeof i=="object"&&Mk(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(d=0,h=s.length;d<h;d+=1)Gk(t,e,s[d],r);else Gk(t,e,s,r);else!t.json&&!oa.call(r,i)&&oa.call(e,i)&&(t.line=o||t.line,t.lineStart=l||t.lineStart,t.position=u||t.position,Se(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[i]=s,delete r[i];return e}function $T(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):Se(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function sr(t,e,r){for(var n=0,i=t.input.charCodeAt(t.position);i!==0;){for(;eo(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if($i(i))for($T(t),i=t.input.charCodeAt(t.position),n++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return r!==-1&&n!==0&&t.lineIndent<r&&ap(t,"deficient indentation"),n}function op(t){var e=t.position,r;return r=t.input.charCodeAt(e),!!((r===45||r===46)&&r===t.input.charCodeAt(e+1)&&r===t.input.charCodeAt(e+2)&&(e+=3,r=t.input.charCodeAt(e),r===0||ln(r)))}function zT(t,e){e===1?t.result+=" ":e>1&&(t.result+=dr.repeat(`
`,e-1))}function V2(t,e,r){var n,i,s,o,l,u,d,h,m=t.kind,y=t.result,b;if(b=t.input.charCodeAt(t.position),ln(b)||Ll(b)||b===35||b===38||b===42||b===33||b===124||b===62||b===39||b===34||b===37||b===64||b===96||(b===63||b===45)&&(i=t.input.charCodeAt(t.position+1),ln(i)||r&&Ll(i)))return!1;for(t.kind="scalar",t.result="",s=o=t.position,l=!1;b!==0;){if(b===58){if(i=t.input.charCodeAt(t.position+1),ln(i)||r&&Ll(i))break}else if(b===35){if(n=t.input.charCodeAt(t.position-1),ln(n))break}else{if(t.position===t.lineStart&&op(t)||r&&Ll(b))break;if($i(b))if(u=t.line,d=t.lineStart,h=t.lineIndent,sr(t,!1,-1),t.lineIndent>=e){l=!0,b=t.input.charCodeAt(t.position);continue}else{t.position=o,t.line=u,t.lineStart=d,t.lineIndent=h;break}}l&&(la(t,s,o,!1),zT(t,t.line-u),s=o=t.position,l=!1),eo(b)||(o=t.position+1),b=t.input.charCodeAt(++t.position)}return la(t,s,o,!1),t.result?!0:(t.kind=m,t.result=y,!1)}function B2(t,e){var r,n,i;if(r=t.input.charCodeAt(t.position),r!==39)return!1;for(t.kind="scalar",t.result="",t.position++,n=i=t.position;(r=t.input.charCodeAt(t.position))!==0;)if(r===39)if(la(t,n,t.position,!0),r=t.input.charCodeAt(++t.position),r===39)n=t.position,t.position++,i=t.position;else return!0;else $i(r)?(la(t,n,i,!0),zT(t,sr(t,!1,e)),n=i=t.position):t.position===t.lineStart&&op(t)?Se(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);Se(t,"unexpected end of the stream within a single quoted scalar")}function q2(t,e){var r,n,i,s,o,l;if(l=t.input.charCodeAt(t.position),l!==34)return!1;for(t.kind="scalar",t.result="",t.position++,r=n=t.position;(l=t.input.charCodeAt(t.position))!==0;){if(l===34)return la(t,r,t.position,!0),t.position++,!0;if(l===92){if(la(t,r,t.position,!0),l=t.input.charCodeAt(++t.position),$i(l))sr(t,!1,e);else if(l<256&&Bk[l])t.result+=qk[l],t.position++;else if((o=L2(l))>0){for(i=o,s=0;i>0;i--)l=t.input.charCodeAt(++t.position),(o=w2(l))>=0?s=(s<<4)+o:Se(t,"expected hexadecimal character");t.result+=F2(s),t.position++}else Se(t,"unknown escape sequence");r=n=t.position}else $i(l)?(la(t,r,n,!0),zT(t,sr(t,!1,e)),r=n=t.position):t.position===t.lineStart&&op(t)?Se(t,"unexpected end of the document within a double quoted scalar"):(t.position++,n=t.position)}Se(t,"unexpected end of the stream within a double quoted scalar")}function U2(t,e){var r=!0,n,i,s,o=t.tag,l,u=t.anchor,d,h,m,y,b,T=Object.create(null),S,w,_,C;if(C=t.input.charCodeAt(t.position),C===91)h=93,b=!1,l=[];else if(C===123)h=125,b=!0,l={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=l),C=t.input.charCodeAt(++t.position);C!==0;){if(sr(t,!0,e),C=t.input.charCodeAt(t.position),C===h)return t.position++,t.tag=o,t.anchor=u,t.kind=b?"mapping":"sequence",t.result=l,!0;r?C===44&&Se(t,"expected the node content, but found ','"):Se(t,"missed comma between flow collection entries"),w=S=_=null,m=y=!1,C===63&&(d=t.input.charCodeAt(t.position+1),ln(d)&&(m=y=!0,t.position++,sr(t,!0,e))),n=t.line,i=t.lineStart,s=t.position,Fl(t,e,ip,!1,!0),w=t.tag,S=t.result,sr(t,!0,e),C=t.input.charCodeAt(t.position),(y||t.line===n)&&C===58&&(m=!0,C=t.input.charCodeAt(++t.position),sr(t,!0,e),Fl(t,e,ip,!1,!0),_=t.result),b?Dl(t,l,T,w,S,_,n,i,s):m?l.push(Dl(t,null,T,w,S,_,n,i,s)):l.push(S),sr(t,!0,e),C=t.input.charCodeAt(t.position),C===44?(r=!0,C=t.input.charCodeAt(++t.position)):r=!1}Se(t,"unexpected end of the stream within a flow collection")}function j2(t,e){var r,n,i=KT,s=!1,o=!1,l=e,u=0,d=!1,h,m;if(m=t.input.charCodeAt(t.position),m===124)n=!1;else if(m===62)n=!0;else return!1;for(t.kind="scalar",t.result="";m!==0;)if(m=t.input.charCodeAt(++t.position),m===43||m===45)KT===i?i=m===43?Lk:E2:Se(t,"repeat of a chomping mode identifier");else if((h=D2(m))>=0)h===0?Se(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?Se(t,"repeat of an indentation width identifier"):(l=e+h-1,o=!0);else break;if(eo(m)){do m=t.input.charCodeAt(++t.position);while(eo(m));if(m===35)do m=t.input.charCodeAt(++t.position);while(!$i(m)&&m!==0)}for(;m!==0;){for($T(t),t.lineIndent=0,m=t.input.charCodeAt(t.position);(!o||t.lineIndent<l)&&m===32;)t.lineIndent++,m=t.input.charCodeAt(++t.position);if(!o&&t.lineIndent>l&&(l=t.lineIndent),$i(m)){u++;continue}if(t.lineIndent<l){i===Lk?t.result+=dr.repeat(`
`,s?1+u:u):i===KT&&s&&(t.result+=`
`);break}for(n?eo(m)?(d=!0,t.result+=dr.repeat(`
`,s?1+u:u)):d?(d=!1,t.result+=dr.repeat(`
`,u+1)):u===0?s&&(t.result+=" "):t.result+=dr.repeat(`
`,u):t.result+=dr.repeat(`
`,s?1+u:u),s=!0,o=!0,u=0,r=t.position;!$i(m)&&m!==0;)m=t.input.charCodeAt(++t.position);la(t,r,t.position,!1)}return!0}function Wk(t,e){var r,n=t.tag,i=t.anchor,s=[],o,l=!1,u;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),u=t.input.charCodeAt(t.position);u!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Se(t,"tab characters must not be used in indentation")),!(u!==45||(o=t.input.charCodeAt(t.position+1),!ln(o))));){if(l=!0,t.position++,sr(t,!0,-1)&&t.lineIndent<=e){s.push(null),u=t.input.charCodeAt(t.position);continue}if(r=t.line,Fl(t,e,wk,!1,!0),s.push(t.result),sr(t,!0,-1),u=t.input.charCodeAt(t.position),(t.line===r||t.lineIndent>e)&&u!==0)Se(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return l?(t.tag=n,t.anchor=i,t.kind="sequence",t.result=s,!0):!1}function G2(t,e,r){var n,i,s,o,l,u,d=t.tag,h=t.anchor,m={},y=Object.create(null),b=null,T=null,S=null,w=!1,_=!1,C;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=m),C=t.input.charCodeAt(t.position);C!==0;){if(!w&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Se(t,"tab characters must not be used in indentation")),n=t.input.charCodeAt(t.position+1),s=t.line,(C===63||C===58)&&ln(n))C===63?(w&&(Dl(t,m,y,b,T,null,o,l,u),b=T=S=null),_=!0,w=!0,i=!0):w?(w=!1,i=!0):Se(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,C=n;else{if(o=t.line,l=t.lineStart,u=t.position,!Fl(t,r,Ok,!1,!0))break;if(t.line===s){for(C=t.input.charCodeAt(t.position);eo(C);)C=t.input.charCodeAt(++t.position);if(C===58)C=t.input.charCodeAt(++t.position),ln(C)||Se(t,"a whitespace character is expected after the key-value separator within a block mapping"),w&&(Dl(t,m,y,b,T,null,o,l,u),b=T=S=null),_=!0,w=!1,i=!1,b=t.tag,T=t.result;else if(_)Se(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=d,t.anchor=h,!0}else if(_)Se(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=d,t.anchor=h,!0}if((t.line===s||t.lineIndent>e)&&(w&&(o=t.line,l=t.lineStart,u=t.position),Fl(t,e,sp,!0,i)&&(w?T=t.result:S=t.result),w||(Dl(t,m,y,b,T,S,o,l,u),b=T=S=null),sr(t,!0,-1),C=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&C!==0)Se(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return w&&Dl(t,m,y,b,T,null,o,l,u),_&&(t.tag=d,t.anchor=h,t.kind="mapping",t.result=m),_}function W2(t){var e,r=!1,n=!1,i,s,o;if(o=t.input.charCodeAt(t.position),o!==33)return!1;if(t.tag!==null&&Se(t,"duplication of a tag property"),o=t.input.charCodeAt(++t.position),o===60?(r=!0,o=t.input.charCodeAt(++t.position)):o===33?(n=!0,i="!!",o=t.input.charCodeAt(++t.position)):i="!",e=t.position,r){do o=t.input.charCodeAt(++t.position);while(o!==0&&o!==62);t.position<t.length?(s=t.input.slice(e,t.position),o=t.input.charCodeAt(++t.position)):Se(t,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!ln(o);)o===33&&(n?Se(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),Dk.test(i)||Se(t,"named tag handle cannot contain such characters"),n=!0,e=t.position+1)),o=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),O2.test(s)&&Se(t,"tag suffix cannot contain flow indicator characters")}s&&!Fk.test(s)&&Se(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{Se(t,"tag name is malformed: "+s)}return r?t.tag=s:oa.call(t.tagMap,i)?t.tag=t.tagMap[i]+s:i==="!"?t.tag="!"+s:i==="!!"?t.tag="tag:yaml.org,2002:"+s:Se(t,'undeclared tag handle "'+i+'"'),!0}function H2(t){var e,r;if(r=t.input.charCodeAt(t.position),r!==38)return!1;for(t.anchor!==null&&Se(t,"duplication of an anchor property"),r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!ln(r)&&!Ll(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&Se(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function Y2(t){var e,r,n;if(n=t.input.charCodeAt(t.position),n!==42)return!1;for(n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!ln(n)&&!Ll(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&Se(t,"name of an alias node must contain at least one character"),r=t.input.slice(e,t.position),oa.call(t.anchorMap,r)||Se(t,'unidentified alias "'+r+'"'),t.result=t.anchorMap[r],sr(t,!0,-1),!0}function Fl(t,e,r,n,i){var s,o,l,u=1,d=!1,h=!1,m,y,b,T,S,w;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=o=l=sp===r||wk===r,n&&sr(t,!0,-1)&&(d=!0,t.lineIndent>e?u=1:t.lineIndent===e?u=0:t.lineIndent<e&&(u=-1)),u===1)for(;W2(t)||H2(t);)sr(t,!0,-1)?(d=!0,l=s,t.lineIndent>e?u=1:t.lineIndent===e?u=0:t.lineIndent<e&&(u=-1)):l=!1;if(l&&(l=d||i),(u===1||sp===r)&&(ip===r||Ok===r?S=e:S=e+1,w=t.position-t.lineStart,u===1?l&&(Wk(t,w)||G2(t,w,S))||U2(t,S)?h=!0:(o&&j2(t,S)||B2(t,S)||q2(t,S)?h=!0:Y2(t)?(h=!0,(t.tag!==null||t.anchor!==null)&&Se(t,"alias node should not have any properties")):V2(t,S,ip===r)&&(h=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):u===0&&(h=l&&Wk(t,w))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&Se(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),m=0,y=t.implicitTypes.length;m<y;m+=1)if(T=t.implicitTypes[m],T.resolve(t.result)){t.result=T.construct(t.result),t.tag=T.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(oa.call(t.typeMap[t.kind||"fallback"],t.tag))T=t.typeMap[t.kind||"fallback"][t.tag];else for(T=null,b=t.typeMap.multi[t.kind||"fallback"],m=0,y=b.length;m<y;m+=1)if(t.tag.slice(0,b[m].tag.length)===b[m].tag){T=b[m];break}T||Se(t,"unknown tag !<"+t.tag+">"),t.result!==null&&T.kind!==t.kind&&Se(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+T.kind+'", not "'+t.kind+'"'),T.resolve(t.result,t.tag)?(t.result=T.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):Se(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||h}function K2(t){var e=t.position,r,n,i,s=!1,o;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(o=t.input.charCodeAt(t.position))!==0&&(sr(t,!0,-1),o=t.input.charCodeAt(t.position),!(t.lineIndent>0||o!==37));){for(s=!0,o=t.input.charCodeAt(++t.position),r=t.position;o!==0&&!ln(o);)o=t.input.charCodeAt(++t.position);for(n=t.input.slice(r,t.position),i=[],n.length<1&&Se(t,"directive name must not be less than one character in length");o!==0;){for(;eo(o);)o=t.input.charCodeAt(++t.position);if(o===35){do o=t.input.charCodeAt(++t.position);while(o!==0&&!$i(o));break}if($i(o))break;for(r=t.position;o!==0&&!ln(o);)o=t.input.charCodeAt(++t.position);i.push(t.input.slice(r,t.position))}o!==0&&$T(t),oa.call(jk,n)?jk[n](t,n,i):ap(t,'unknown document directive "'+n+'"')}if(sr(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,sr(t,!0,-1)):s&&Se(t,"directives end mark is expected"),Fl(t,t.lineIndent-1,sp,!1,!0),sr(t,!0,-1),t.checkLineBreaks&&k2.test(t.input.slice(e,t.position))&&ap(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&op(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,sr(t,!0,-1));return}if(t.position<t.length-1)Se(t,"end of the stream or a document separator is expected");else return}function Hk(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var r=new M2(t,e),n=t.indexOf("\0");for(n!==-1&&(r.position=n,Se(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)K2(r);return r.documents}function $2(t,e,r){e!==null&&typeof e=="object"&&typeof r=="undefined"&&(r=e,e=null);var n=Hk(t,r);if(typeof e!="function")return n;for(var i=0,s=n.length;i<s;i+=1)e(n[i])}function z2(t,e){var r=Hk(t,e);if(r.length!==0){if(r.length===1)return r[0];throw new on("expected a single document in the stream, but found more")}}function gG(t,e){var r,n,i,s,o,l,u;if(e===null)return{};for(r={},n=Object.keys(e),i=0,s=n.length;i<s;i+=1)o=n[i],l=String(e[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),u=t.compiledTypeMap.fallback[o],u&&$k.call(u.styleAliases,l)&&(l=u.styleAliases[l]),r[o]=l;return r}function TG(t){var e,r,n;if(e=t.toString(16).toUpperCase(),t<=255)r="x",n=2;else if(t<=65535)r="u",n=4;else if(t<=4294967295)r="U",n=8;else throw new on("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+dr.repeat("0",n-e.length)+e}function yG(t){this.schema=t.schema||kk,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=dr.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=gG(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?su:_G,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function e0(t,e){for(var r=dr.repeat(" ",e),n=0,i=-1,s="",o,l=t.length;n<l;)i=t.indexOf(`
`,n),i===-1?(o=t.slice(n),n=l):(o=t.slice(n,i+1),n=i+1),o.length&&o!==`
`&&(s+=r),s+=o;return s}function JT(t,e){return`
`+dr.repeat(" ",t.indent*e)}function bG(t,e){var r,n,i;for(r=0,n=t.implicitTypes.length;r<n;r+=1)if(i=t.implicitTypes[r],i.resolve(e))return!0;return!1}function cp(t){return t===eG||t===J2}function au(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==QT||65536<=t&&t<=1114111}function t0(t){return au(t)&&t!==QT&&t!==Z2&&t!==iu}function r0(t,e,r){var n=t0(t),i=n&&!cp(t);return(r?n:n&&t!==zk&&t!==Qk&&t!==Xk&&t!==Jk&&t!==Zk)&&t!==XT&&!(e===lp&&!i)||t0(e)&&!cp(e)&&t===XT||e===lp&&i}function NG(t){return au(t)&&t!==QT&&!cp(t)&&t!==oG&&t!==uG&&t!==lp&&t!==zk&&t!==Qk&&t!==Xk&&t!==Jk&&t!==Zk&&t!==XT&&t!==iG&&t!==aG&&t!==tG&&t!==pG&&t!==lG&&t!==cG&&t!==sG&&t!==rG&&t!==nG&&t!==fG&&t!==dG}function vG(t){return!cp(t)&&t!==lp}function ou(t,e){var r=t.charCodeAt(e),n;return r>=55296&&r<=56319&&e+1<t.length&&(n=t.charCodeAt(e+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function n0(t){var e=/^\n* /;return e.test(t)}function IG(t,e,r,n,i,s,o,l){var u,d=0,h=null,m=!1,y=!1,b=n!==-1,T=-1,S=NG(ou(t,0))&&vG(ou(t,t.length-1));if(e||o)for(u=0;u<t.length;d>=65536?u+=2:u++){if(d=ou(t,u),!au(d))return Ml;S=S&&r0(d,h,l),h=d}else{for(u=0;u<t.length;d>=65536?u+=2:u++){if(d=ou(t,u),d===iu)m=!0,b&&(y=y||u-T-1>n&&t[T+1]!==" ",T=u);else if(!au(d))return Ml;S=S&&r0(d,h,l),h=d}y=y||b&&u-T-1>n&&t[T+1]!==" "}return!m&&!y?S&&!o&&!i(t)?i0:s===su?Ml:ZT:r>9&&n0(t)?Ml:o?s===su?Ml:ZT:y?a0:s0}function PG(t,e,r,n,i){t.dump=function(){if(e.length===0)return t.quotingType===su?'""':"''";if(!t.noCompatMode&&(hG.indexOf(e)!==-1||mG.test(e)))return t.quotingType===su?'"'+e+'"':"'"+e+"'";var s=t.indent*Math.max(1,r),o=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-s),l=n||t.flowLevel>-1&&r>=t.flowLevel;function u(d){return bG(t,d)}switch(IG(e,l,t.indent,o,u,t.quotingType,t.forceQuotes&&!n,i)){case i0:return e;case ZT:return"'"+e.replace(/'/g,"''")+"'";case s0:return"|"+o0(e,t.indent)+l0(e0(e,s));case a0:return">"+o0(e,t.indent)+l0(e0(CG(e,o),s));case Ml:return'"'+AG(e)+'"';default:throw new on("impossible error: invalid scalar style")}}()}function o0(t,e){var r=n0(t)?String(e):"",n=t[t.length-1]===`
`,i=n&&(t[t.length-2]===`
`||t===`
`),s=i?"+":n?"":"-";return r+s+`
`}function l0(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function CG(t,e){for(var r=/(\n+)([^\n]*)/g,n=function(){var d=t.indexOf(`
`);return d=d!==-1?d:t.length,r.lastIndex=d,c0(t.slice(0,d),e)}(),i=t[0]===`
`||t[0]===" ",s,o;o=r.exec(t);){var l=o[1],u=o[2];s=u[0]===" ",n+=l+(!i&&!s&&u!==""?`
`:"")+c0(u,e),i=s}return n}function c0(t,e){if(t===""||t[0]===" ")return t;for(var r=/ [^ ]/g,n,i=0,s,o=0,l=0,u="";n=r.exec(t);)l=n.index,l-i>e&&(s=o>i?o:l,u+=`
`+t.slice(i,s),i=s+1),o=l;return u+=`
`,t.length-i>e&&o>i?u+=t.slice(i,o)+`
`+t.slice(o+1):u+=t.slice(i),u.slice(1)}function AG(t){for(var e="",r=0,n,i=0;i<t.length;r>=65536?i+=2:i++)r=ou(t,i),n=wr[r],!n&&au(r)?(e+=t[i],r>=65536&&(e+=t[i+1])):e+=n||TG(r);return e}function SG(t,e,r){var n="",i=t.tag,s,o,l;for(s=0,o=r.length;s<o;s+=1)l=r[s],t.replacer&&(l=t.replacer.call(r,String(s),l)),(Ns(t,e,l,!1,!1)||typeof l=="undefined"&&Ns(t,e,null,!1,!1))&&(n!==""&&(n+=","+(t.condenseFlow?"":" ")),n+=t.dump);t.tag=i,t.dump="["+n+"]"}function u0(t,e,r,n){var i="",s=t.tag,o,l,u;for(o=0,l=r.length;o<l;o+=1)u=r[o],t.replacer&&(u=t.replacer.call(r,String(o),u)),(Ns(t,e+1,u,!0,!0,!1,!0)||typeof u=="undefined"&&Ns(t,e+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=JT(t,e)),t.dump&&iu===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=s,t.dump=i||"[]"}function xG(t,e,r){var n="",i=t.tag,s=Object.keys(r),o,l,u,d,h;for(o=0,l=s.length;o<l;o+=1)h="",n!==""&&(h+=", "),t.condenseFlow&&(h+='"'),u=s[o],d=r[u],t.replacer&&(d=t.replacer.call(r,u,d)),!!Ns(t,e,u,!1,!1)&&(t.dump.length>1024&&(h+="? "),h+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),!!Ns(t,e,d,!1,!1)&&(h+=t.dump,n+=h));t.tag=i,t.dump="{"+n+"}"}function EG(t,e,r,n){var i="",s=t.tag,o=Object.keys(r),l,u,d,h,m,y;if(t.sortKeys===!0)o.sort();else if(typeof t.sortKeys=="function")o.sort(t.sortKeys);else if(t.sortKeys)throw new on("sortKeys must be a boolean or a function");for(l=0,u=o.length;l<u;l+=1)y="",(!n||i!=="")&&(y+=JT(t,e)),d=o[l],h=r[d],t.replacer&&(h=t.replacer.call(r,d,h)),!!Ns(t,e+1,d,!0,!0,!0)&&(m=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,m&&(t.dump&&iu===t.dump.charCodeAt(0)?y+="?":y+="? "),y+=t.dump,m&&(y+=JT(t,e)),!!Ns(t,e+1,h,!0,m)&&(t.dump&&iu===t.dump.charCodeAt(0)?y+=":":y+=": ",y+=t.dump,i+=y));t.tag=s,t.dump=i||"{}"}function f0(t,e,r){var n,i,s,o,l,u;for(i=r?t.explicitTypes:t.implicitTypes,s=0,o=i.length;s<o;s+=1)if(l=i[s],(l.instanceOf||l.predicate)&&(!l.instanceOf||typeof e=="object"&&e instanceof l.instanceOf)&&(!l.predicate||l.predicate(e))){if(r?l.multi&&l.representName?t.tag=l.representName(e):t.tag=l.tag:t.tag="?",l.represent){if(u=t.styleMap[l.tag]||l.defaultStyle,Kk.call(l.represent)==="[object Function]")n=l.represent(e,u);else if($k.call(l.represent,u))n=l.represent[u](e,u);else throw new on("!<"+l.tag+'> tag resolver accepts not "'+u+'" style');t.dump=n}return!0}return!1}function Ns(t,e,r,n,i,s,o){t.tag=null,t.dump=r,f0(t,r,!1)||f0(t,r,!0);var l=Kk.call(t.dump),u=n,d;n&&(n=t.flowLevel<0||t.flowLevel>e);var h=l==="[object Object]"||l==="[object Array]",m,y;if(h&&(m=t.duplicates.indexOf(r),y=m!==-1),(t.tag!==null&&t.tag!=="?"||y||t.indent!==2&&e>0)&&(i=!1),y&&t.usedDuplicates[m])t.dump="*ref_"+m;else{if(h&&y&&!t.usedDuplicates[m]&&(t.usedDuplicates[m]=!0),l==="[object Object]")n&&Object.keys(t.dump).length!==0?(EG(t,e,t.dump,i),y&&(t.dump="&ref_"+m+t.dump)):(xG(t,e,t.dump),y&&(t.dump="&ref_"+m+" "+t.dump));else if(l==="[object Array]")n&&t.dump.length!==0?(t.noArrayIndent&&!o&&e>0?u0(t,e-1,t.dump,i):u0(t,e,t.dump,i),y&&(t.dump="&ref_"+m+t.dump)):(SG(t,e,t.dump),y&&(t.dump="&ref_"+m+" "+t.dump));else if(l==="[object String]")t.tag!=="?"&&PG(t,t.dump,e,s,u);else{if(l==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new on("unacceptable kind of an object to dump "+l)}t.tag!==null&&t.tag!=="?"&&(d=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?d="!"+d:d.slice(0,18)==="tag:yaml.org,2002:"?d="!!"+d.slice(18):d="!<"+d+">",t.dump=d+" "+t.dump)}return!0}function RG(t,e){var r=[],n=[],i,s;for(e_(t,r,n),i=0,s=n.length;i<s;i+=1)e.duplicates.push(r[n[i]]);e.usedDuplicates=new Array(s)}function e_(t,e,r){var n,i,s;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(e.push(t),Array.isArray(t))for(i=0,s=t.length;i<s;i+=1)e_(t[i],e,r);else for(n=Object.keys(t),i=0,s=n.length;i<s;i+=1)e_(t[n[i]],e,r)}function kG(t,e){e=e||{};var r=new yG(e);r.noRefs||RG(t,r);var n=t;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Ns(r,0,n,!0,!0)?r.dump+`
`:""}function t_(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var Tj,_j,yj,bj,Nj,vj,dr,on,Pj,Cj,Aj,Or,Rj,kj,Oj,wj,Lj,Vj,jj,zj,Qj,Zj,r2,n2,i2,Ek,Rk,l2,u2,YT,m2,g2,T2,b2,N2,P2,C2,x2,kk,oa,ip,Ok,wk,sp,KT,E2,Lk,R2,k2,O2,Dk,Fk,Bk,qk,to,jk,Q2,X2,Yk,Kk,$k,QT,J2,iu,Z2,eG,tG,rG,XT,nG,iG,sG,aG,zk,oG,lp,lG,cG,uG,fG,Qk,Xk,dG,Jk,pG,Zk,wr,hG,mG,_G,su,i0,ZT,s0,a0,Ml,OG,wG,d0,koe,p0,Ooe,woe,Loe,h0=x(()=>{Tj=Ak,_j=dj,yj=pj,bj=mj,Nj=gj,vj=hj,dr={isNothing:Tj,isObject:_j,toArray:yj,repeat:bj,isNegativeZero:Nj,extend:vj};nu.prototype=Object.create(Error.prototype);nu.prototype.constructor=nu;nu.prototype.toString=function(e){return this.name+": "+Sk(this,e)};on=nu;Pj=Ij,Cj=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Aj=["scalar","sequence","mapping"];Or=xj;HT.prototype.extend=function(e){var r=[],n=[];if(e instanceof Or)n.push(e);else if(Array.isArray(e))n=n.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(r=r.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit));else throw new on("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof Or))throw new on("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new on("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new on("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof Or))throw new on("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(HT.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=xk(i,"implicit"),i.compiledExplicit=xk(i,"explicit"),i.compiledTypeMap=Ej(i.compiledImplicit,i.compiledExplicit),i};Rj=HT,kj=new Or("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),Oj=new Or("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),wj=new Or("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),Lj=new Rj({explicit:[kj,Oj,wj]});Vj=new Or("tag:yaml.org,2002:null",{kind:"scalar",resolve:Dj,construct:Fj,predicate:Mj,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});jj=new Or("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Bj,construct:qj,predicate:Uj,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});zj=new Or("tag:yaml.org,2002:int",{kind:"scalar",resolve:Yj,construct:Kj,predicate:$j,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Qj=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");Zj=/^[-+]?[0-9]+e/;r2=new Or("tag:yaml.org,2002:float",{kind:"scalar",resolve:Xj,construct:Jj,predicate:t2,represent:e2,defaultStyle:"lowercase"}),n2=Lj.extend({implicit:[Vj,jj,zj,r2]}),i2=n2,Ek=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Rk=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");l2=new Or("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:s2,construct:a2,instanceOf:Date,represent:o2});u2=new Or("tag:yaml.org,2002:merge",{kind:"scalar",resolve:c2}),YT=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;m2=new Or("tag:yaml.org,2002:binary",{kind:"scalar",resolve:f2,construct:d2,predicate:h2,represent:p2}),g2=Object.prototype.hasOwnProperty,T2=Object.prototype.toString;b2=new Or("tag:yaml.org,2002:omap",{kind:"sequence",resolve:_2,construct:y2}),N2=Object.prototype.toString;P2=new Or("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:v2,construct:I2}),C2=Object.prototype.hasOwnProperty;x2=new Or("tag:yaml.org,2002:set",{kind:"mapping",resolve:A2,construct:S2}),kk=i2.extend({implicit:[l2,u2],explicit:[m2,b2,P2,x2]}),oa=Object.prototype.hasOwnProperty,ip=1,Ok=2,wk=3,sp=4,KT=1,E2=2,Lk=3,R2=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,k2=/[\x85\u2028\u2029]/,O2=/[,\[\]\{\}]/,Dk=/^(?:!|!!|![a-z\-]+!)$/i,Fk=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;Bk=new Array(256),qk=new Array(256);for(to=0;to<256;to++)Bk[to]=Vk(to)?1:0,qk[to]=Vk(to);jk={YAML:function(e,r,n){var i,s,o;e.version!==null&&Se(e,"duplication of %YAML directive"),n.length!==1&&Se(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&Se(e,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&Se(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=o<2,o!==1&&o!==2&&ap(e,"unsupported YAML version of the document")},TAG:function(e,r,n){var i,s;n.length!==2&&Se(e,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],Dk.test(i)||Se(e,"ill-formed tag handle (first argument) of the TAG directive"),oa.call(e.tagMap,i)&&Se(e,'there is a previously declared suffix for "'+i+'" tag handle'),Fk.test(s)||Se(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{Se(e,"tag prefix is malformed: "+s)}e.tagMap[i]=s}};Q2=$2,X2=z2,Yk={loadAll:Q2,load:X2},Kk=Object.prototype.toString,$k=Object.prototype.hasOwnProperty,QT=65279,J2=9,iu=10,Z2=13,eG=32,tG=33,rG=34,XT=35,nG=37,iG=38,sG=39,aG=42,zk=44,oG=45,lp=58,lG=61,cG=62,uG=63,fG=64,Qk=91,Xk=93,dG=96,Jk=123,pG=124,Zk=125,wr={};wr[0]="\\0";wr[7]="\\a";wr[8]="\\b";wr[9]="\\t";wr[10]="\\n";wr[11]="\\v";wr[12]="\\f";wr[13]="\\r";wr[27]="\\e";wr[34]='\\"';wr[92]="\\\\";wr[133]="\\N";wr[160]="\\_";wr[8232]="\\L";wr[8233]="\\P";hG=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],mG=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;_G=1,su=2;i0=1,ZT=2,s0=3,a0=4,Ml=5;OG=kG,wG={dump:OG};d0=Yk.load,koe=Yk.loadAll,p0=wG.dump,Ooe=t_("safeLoad","load"),woe=t_("safeLoadAll","loadAll"),Loe=t_("safeDump","dump")});var r_,m0=x(()=>{h0();r_=class{static formatFrontMatter(e){try{let r=d0(e,{}),n=p0(r,{indent:2,noArrayIndent:!1,condenseFlow:!1,forceQuotes:!0,noRefs:!0,skipInvalid:!0});return n.endsWith(`
`)&&(n=n.trimEnd()),n}catch{return e}}}});var n_,g0=x(()=>{n_=class{static printError(e,r){var l,u;let n=`[${e.errorCode}] ${e.message}

`,i=(u=(l=e.node)==null?void 0:l.startPosition)==null?void 0:u.line,s=i;r.forEach((d,h)=>{s=h});let o=s.toString().length;return r.forEach((d,h)=>{let m=h.toString(),y="",b=0;b=o-m.length,i==h?y=" >"+"0".repeat(b)+m+"| ":y="  "+"0".repeat(b)+m+"| ",n+=y+d+`
`}),n}}});var i_,T0=x(()=>{gk();jT();m0();g0();i_=class extends qT{constructor(e){super();this.createExtraVirtualStructures=!0,np(e),this.withHtmlFormatter(Pk).withYamlFormatter(r_.formatFrontMatter).withTransformOptions({endNewline:!0,maxAntlersStatementsPerLine:3,newlinesAfterFrontMatter:1,tabSize:e.tabWidth}).withPhpFormatter(Ik).withPreFormatter(r=>{var n,i,s;if(r.errors.hasStructureErrors()){let o=r.errors.getFirstStructureError(),l=r.getLinesAround((s=(i=(n=o.node)==null?void 0:n.startPosition)==null?void 0:i.line)!=null?s:1);throw new SyntaxError(n_.printError(o,l))}return null})}}});var Ck=ye((Hoe,y0)=>{Va();T0();jT();var _0,DG={formatFrontMatter:!1,showGeneralSnippetCompletions:!0,diagnostics:{warnOnDynamicCssClassNames:!0,validateTagParameters:!0,reportDiagnostics:!0},trace:{server:"off"},formatterIgnoreExtensions:["xml"],languageVersion:"runtime"},FG={languages:[{name:"Antlers",parsers:["antlers"],extensions:[".antlers.html",".antlers.php"],vscodeLanguageIds:["html","antlers"]}],parsers:{antlers:{parse:function(t,e,r){return _0=r,np(r),new Tr().loadString(t)},locStart:()=>0,locEnd:()=>0,astFormat:"antlers"}},printers:{antlers:{print(t){let e=t.stack[0];return new i_(_0).formatDocument(e,DG)}}},defaultOptions:{tabWidth:4}};y0.exports=FG});module.exports=Ck();
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
